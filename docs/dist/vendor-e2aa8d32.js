/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isObject(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return val == null
        ? ''
        : isObject(val)
            ? JSON.stringify(val, replacer, 2)
            : String(val);
};
const replacer = (_key, val) => {
    if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};
const EMPTY_OBJ = {};
const EMPTY_ARR = [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject = (val) => val !== null && typeof val === 'object';
const isPromise = (val) => {
    return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

const targetMap = new WeakMap();
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol('');
const MAP_KEY_ITERATE_KEY = Symbol('');
function isEffect(fn) {
    return fn && fn._isEffect === true;
}
function effect(fn, options = EMPTY_OBJ) {
    if (isEffect(fn)) {
        fn = fn.raw;
    }
    const effect = createReactiveEffect(fn, options);
    if (!options.lazy) {
        effect();
    }
    return effect;
}
function stop(effect) {
    if (effect.active) {
        cleanup(effect);
        if (effect.options.onStop) {
            effect.options.onStop();
        }
        effect.active = false;
    }
}
let uid$2 = 0;
function createReactiveEffect(fn, options) {
    const effect = function reactiveEffect() {
        if (!effect.active) {
            return fn();
        }
        if (!effectStack.includes(effect)) {
            cleanup(effect);
            try {
                enableTracking();
                effectStack.push(effect);
                activeEffect = effect;
                return fn();
            }
            finally {
                effectStack.pop();
                resetTracking();
                activeEffect = effectStack[effectStack.length - 1];
            }
        }
    };
    effect.id = uid$2++;
    effect.allowRecurse = !!options.allowRecurse;
    effect._isEffect = true;
    effect.active = true;
    effect.raw = fn;
    effect.deps = [];
    effect.options = options;
    return effect;
}
function cleanup(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function enableTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = true;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (!shouldTrack || activeEffect === undefined) {
        return;
    }
    let depsMap = targetMap.get(target);
    if (!depsMap) {
        targetMap.set(target, (depsMap = new Map()));
    }
    let dep = depsMap.get(key);
    if (!dep) {
        depsMap.set(key, (dep = new Set()));
    }
    if (!dep.has(activeEffect)) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    const effects = new Set();
    const add = (effectsToAdd) => {
        if (effectsToAdd) {
            effectsToAdd.forEach(effect => {
                if (effect !== activeEffect || effect.allowRecurse) {
                    effects.add(effect);
                }
            });
        }
    };
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        depsMap.forEach(add);
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                add(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            add(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    add(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    add(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    const run = (effect) => {
        if (effect.options.scheduler) {
            effect.options.scheduler(effect);
        }
        else {
            effect();
        }
    };
    effects.forEach(run);
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);
const arrayInstrumentations = {};
['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        const arr = toRaw(this);
        for (let i = 0, l = this.length; i < l; i++) {
            track(arr, "get" /* GET */, i + '');
        }
        // we run the method using the original args first (which may be reactive)
        const res = method.apply(arr, args);
        if (res === -1 || res === false) {
            // if that didn't work, run it again using raw values.
            return method.apply(arr, args.map(toRaw));
        }
        else {
            return res;
        }
    };
});
['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        pauseTracking();
        const res = method.apply(this, args);
        resetTracking();
        return res;
    };
});
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - does not apply for Array + integer key.
            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
            return shouldUnwrap ? res.value : res;
        }
        if (isObject(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (!shallow) {
            value = toRaw(value);
            oldValue = toRaw(oldValue);
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});
// Props handlers are special in the sense that it should not unwrap top-level
// refs (in order to allow refs to be explicitly passed down), but should
// retain the reactivity of the normal readonly object.
extend({}, readonlyHandlers, {
    get: shallowReadonlyGet
});

const toReactive = (value) => isObject(value) ? reactive(value) : value;
const toReadonly = (value) => isObject(value) ? readonly(value) : value;
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "get" /* GET */, key);
    }
    !isReadonly && track(rawTarget, "get" /* GET */, rawKey);
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
    else if (target !== rawTarget) {
        // #3602 readonly(reactive(Map))
        // ensure that the nested reactive `Map` can do tracking for itself
        target.get(key);
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "has" /* HAS */, key);
    }
    !isReadonly && track(rawTarget, "has" /* HAS */, rawKey);
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
const mutableInstrumentations = {
    get(key) {
        return get$1(this, key);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
};
const shallowInstrumentations = {
    get(key) {
        return get$1(this, key, false, true);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
};
const readonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, false)
};
const shallowReadonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, true)
};
const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
iteratorMethods.forEach(method => {
    mutableInstrumentations[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations[method] = createIterableMethod(method, true, false);
    shallowInstrumentations[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (target && target["__v_isReadonly" /* IS_READONLY */]) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only a whitelist of value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    return ((observed && toRaw(observed["__v_raw" /* RAW */])) || observed);
}
function markRaw(value) {
    def(value, "__v_skip" /* SKIP */, true);
    return value;
}
function isRef(r) {
    return Boolean(r && r.__v_isRef === true);
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
class ObjectRefImpl {
    constructor(_object, _key) {
        this._object = _object;
        this._key = _key;
        this.__v_isRef = true;
    }
    get value() {
        return this._object[this._key];
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key) {
    return isRef(object[key])
        ? object[key]
        : new ObjectRefImpl(object, key);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly) {
        this._setter = _setter;
        this._dirty = true;
        this.__v_isRef = true;
        this.effect = effect(getter, {
            lazy: true,
            scheduler: () => {
                if (!this._dirty) {
                    this._dirty = true;
                    trigger(toRaw(this), "set" /* SET */, 'value');
                }
            }
        });
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        if (self._dirty) {
            self._value = this.effect();
            self._dirty = false;
        }
        track(self, "get" /* GET */, 'value');
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed$1(getterOrOptions) {
    let getter;
    let setter;
    if (isFunction(getterOrOptions)) {
        getter = getterOrOptions;
        setter = NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);
}

const stack = [];
function warn(msg, ...args) {
    // avoid props formatting or warn handler tracking deps that might be mutated
    // during patch, leading to infinite recursion.
    pauseTracking();
    const instance = stack.length ? stack[stack.length - 1].component : null;
    const appWarnHandler = instance && instance.appContext.config.warnHandler;
    const trace = getComponentTrace();
    if (appWarnHandler) {
        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [
            msg + args.join(''),
            instance && instance.proxy,
            trace
                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)
                .join('\n'),
            trace
        ]);
    }
    else {
        const warnArgs = [`[Vue warn]: ${msg}`, ...args];
        /* istanbul ignore if */
        if (trace.length &&
            // avoid spamming console during tests
            !false) {
            warnArgs.push(`\n`, ...formatTrace(trace));
        }
        console.warn(...warnArgs);
    }
    resetTracking();
}
function getComponentTrace() {
    let currentVNode = stack[stack.length - 1];
    if (!currentVNode) {
        return [];
    }
    // we can't just use the stack because it will be incomplete during updates
    // that did not start from the root. Re-construct the parent chain using
    // instance parent pointers.
    const normalizedStack = [];
    while (currentVNode) {
        const last = normalizedStack[0];
        if (last && last.vnode === currentVNode) {
            last.recurseCount++;
        }
        else {
            normalizedStack.push({
                vnode: currentVNode,
                recurseCount: 0
            });
        }
        const parentInstance = currentVNode.component && currentVNode.component.parent;
        currentVNode = parentInstance && parentInstance.vnode;
    }
    return normalizedStack;
}
/* istanbul ignore next */
function formatTrace(trace) {
    const logs = [];
    trace.forEach((entry, i) => {
        logs.push(...(i === 0 ? [] : [`\n`]), ...formatTraceEntry(entry));
    });
    return logs;
}
function formatTraceEntry({ vnode, recurseCount }) {
    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
    const isRoot = vnode.component ? vnode.component.parent == null : false;
    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
    const close = `>` + postfix;
    return vnode.props
        ? [open, ...formatProps(vnode.props), close]
        : [open + close];
}
/* istanbul ignore next */
function formatProps(props) {
    const res = [];
    const keys = Object.keys(props);
    keys.slice(0, 3).forEach(key => {
        res.push(...formatProp(key, props[key]));
    });
    if (keys.length > 3) {
        res.push(` ...`);
    }
    return res;
}
/* istanbul ignore next */
function formatProp(key, value, raw) {
    if (isString(value)) {
        value = JSON.stringify(value);
        return raw ? value : [`${key}=${value}`];
    }
    else if (typeof value === 'number' ||
        typeof value === 'boolean' ||
        value == null) {
        return raw ? value : [`${key}=${value}`];
    }
    else if (isRef(value)) {
        value = formatProp(key, toRaw(value.value), true);
        return raw ? value : [`${key}=Ref<`, value, `>`];
    }
    else if (isFunction(value)) {
        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
    }
    else {
        value = toRaw(value);
        return raw ? value : [`${key}=`, value];
    }
}
function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo = type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
const RECURSION_LIMIT = 100;
function nextTick(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(job) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue.length;
    const jobId = getId(job);
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue[middle]);
        middleJobId < jobId ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue.length ||
        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        const pos = findInsertionIndex(job);
        if (pos > -1) {
            queue.splice(pos, 0, job);
        }
        else {
            queue.push(job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue.indexOf(job);
    if (i > flushIndex) {
        queue.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue.sort((a, b) => getId(a) - getId(b));
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const job = queue[flushIndex];
            if (job && job.active !== false) {
                if (("production" !== 'production') && checkRecursiveUpdates(seen, job)) ;
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue.length ||
            pendingPreFlushCbs.length ||
            pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}
function checkRecursiveUpdates(seen, fn) {
    if (!seen.has(fn)) {
        seen.set(fn, 1);
    }
    else {
        const count = seen.get(fn);
        if (count > RECURSION_LIMIT) {
            const instance = fn.ownerInstance;
            const componentName = instance && getComponentName(instance.type);
            warn(`Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. ` +
                `This means you have a reactive effect that is mutating its own ` +
                `dependencies and thus recursively triggering itself. Possible sources ` +
                `include component template, render function, updated hook or ` +
                `watcher source function.`);
            return true;
        }
        else {
            seen.set(fn, count + 1);
        }
    }
}

let devtools;
function setDevtoolsHook(hook) {
    devtools = hook;
}
function devtoolsInitApp(app, version) {
    // TODO queue if devtools is undefined
    if (!devtools)
        return;
    devtools.emit("app:init" /* APP_INIT */, app, version, {
        Fragment,
        Text,
        Comment: Comment$1,
        Static
    });
}
function devtoolsUnmountApp(app) {
    if (!devtools)
        return;
    devtools.emit("app:unmount" /* APP_UNMOUNT */, app);
}
const devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */);
const devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */);
const devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */);
function createDevtoolsComponentHook(hook) {
    return (component) => {
        if (!devtools)
            return;
        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);
    };
}
function devtoolsComponentEmit(component, event, params) {
    if (!devtools)
        return;
    devtools.emit("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}
const globalCompatConfig = {
    MODE: 2
};
function getCompatConfigForKey(key, instance) {
    const instanceConfig = instance && instance.type.compatConfig;
    if (instanceConfig && key in instanceConfig) {
        return instanceConfig[key];
    }
    return globalCompatConfig[key];
}
function isCompatEnabled(key, instance, enableForBuiltIn = false) {
    // skip compat for built-in components
    if (!enableForBuiltIn && instance && instance.type.__isBuiltIn) {
        return false;
    }
    const rawMode = getCompatConfigForKey('MODE', instance) || 2;
    const val = getCompatConfigForKey(key, instance);
    const mode = isFunction(rawMode)
        ? rawMode(instance && instance.type)
        : rawMode;
    if (mode === 2) {
        return val !== false;
    }
    else {
        return val === true || val === 'suppress-warning';
    }
}

function emit(instance, event, ...rawArgs) {
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        else if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    if (__VUE_PROD_DEVTOOLS__) {
        devtoolsComponentEmit(instance, event, args);
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            instance.emitted = {};
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        instance.emitted[handlerName] = true;
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.emitsCache;
    const cached = cache.get(comp);
    if (cached !== undefined) {
        return cached;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, null);
        return null;
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    cache.set(comp, normalized);
    return normalized;
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Set scope id when creating hoisted vnodes.
 * @private compiler helper
 */
function pushScopeId(id) {
    currentScopeId = id;
}
/**
 * Technically we no longer need this after 3.0.8 but we need to keep the same
 * API for backwards compat w/ code generated by compilers.
 * @private
 */
function popScopeId() {
    currentScopeId = null;
}
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot // false only
) {
    if (!ctx)
        return fn;
    // already normalized
    if (fn._n) {
        return fn;
    }
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we disable block tracking and
        // force bail out when invoking a compiled slot (indicated by the ._d flag).
        // This isn't necessary if rendering a compiled `<slot>`, so we flip the
        // ._d flag off when invoking the wrapped fn inside `renderSlot`.
        if (renderFnWithContext._d) {
            setBlockTracking(-1);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (renderFnWithContext._d) {
            setBlockTracking(1);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentUpdated(ctx);
        }
        return res;
    };
    // mark normalized to avoid duplicated wrapping
    renderFnWithContext._n = true;
    // mark this as compiled by default
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    // disable block tracking by default
    renderFnWithContext._d = true;
    return renderFnWithContext;
}

/**
 * dev only flag to track whether $attrs was used during render.
 * If $attrs was used during render then the warning for failed attrs
 * fallthrough can be suppressed.
 */
let accessedAttrs = false;
function markAttrsAccessed() {
    accessedAttrs = true;
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx, inheritAttrs } = instance;
    let result;
    const prev = setCurrentRenderingInstance(instance);
    try {
        let fallthroughAttrs;
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
        // attr merging
        // in dev mode, comments are preserved, and it's possible for a template
        // to have comments along side the root element which makes it a fragment
        let root = result;
        let setRoot = undefined;
        if (("production" !== 'production') &&
            result.patchFlag > 0 &&
            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) ;
        if (fallthroughAttrs && inheritAttrs !== false) {
            const keys = Object.keys(fallthroughAttrs);
            const { shapeFlag } = root;
            if (keys.length) {
                if (shapeFlag & 1 /* ELEMENT */ ||
                    shapeFlag & 6 /* COMPONENT */) {
                    if (propsOptions && keys.some(isModelListener)) {
                        // If a v-model listener (onUpdate:xxx) has a corresponding declared
                        // prop, it indicates this component expects to handle v-model and
                        // it should not fallthrough.
                        // related: #1543, #1643, #1989
                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                    }
                    root = cloneVNode(root, fallthroughAttrs);
                }
                else if (("production" !== 'production') && !accessedAttrs && root.type !== Comment$1) ;
            }
        }
        if (false &&
            isCompatEnabled("INSTANCE_ATTRS_CLASS_STYLE" /* INSTANCE_ATTRS_CLASS_STYLE */, instance) &&
            vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */ &&
            (root.shapeFlag & 1 /* ELEMENT */ ||
                root.shapeFlag & 6 /* COMPONENT */)) ;
        // inherit directives
        if (vnode.dirs) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
        }
        // inherit transition data
        if (vnode.transition) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.transition = vnode.transition;
        }
        if (("production" !== 'production') && setRoot) ;
        else {
            result = root;
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment$1);
    }
    setCurrentRenderingInstance(prev);
    return result;
}
/**
 * dev only
 * In dev mode, template root level comments are rendered, which turns the
 * template into a fragment root, but we need to locate the single element
 * root for attrs and scope id processing.
 */
const getChildRoot = (vnode) => {
    const rawChildren = vnode.children;
    const dynamicChildren = vnode.dynamicChildren;
    const childRoot = filterSingleRoot(rawChildren);
    if (!childRoot) {
        return [vnode, undefined];
    }
    const index = rawChildren.indexOf(childRoot);
    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
    const setRoot = (updatedRoot) => {
        rawChildren[index] = updatedRoot;
        if (dynamicChildren) {
            if (dynamicIndex > -1) {
                dynamicChildren[dynamicIndex] = updatedRoot;
            }
            else if (updatedRoot.patchFlag > 0) {
                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];
            }
        }
    };
    return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
    let singleRoot;
    for (let i = 0; i < children.length; i++) {
        const child = children[i];
        if (isVNode(child)) {
            // ignore user comment
            if (child.type !== Comment$1 || child.children === 'v-if') {
                if (singleRoot) {
                    // has more than 1 non-comment child, return now
                    return;
                }
                else {
                    singleRoot = child;
                }
            }
        }
        else {
            return;
        }
    }
    return singleRoot;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
const isElementRoot = (vnode) => {
    return (vnode.shapeFlag & 6 /* COMPONENT */ ||
        vnode.shapeFlag & 1 /* ELEMENT */ ||
        vnode.type === Comment$1 // potential v-if branch switch
    );
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the intance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue.call(instance.proxy)
                : defaultValue;
        }
        else ;
    }
}
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {
    let getter;
    let forceTrigger = false;
    let isMultiSource = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = !!source._shallow;
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        isMultiSource = true;
        forceTrigger = source.some(isReactive);
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onInvalidate = (fn) => {
        cleanup = runner.options.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!runner.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = runner();
            if (deep ||
                forceTrigger ||
                (isMultiSource
                    ? newValue.some((v, i) => hasChanged(v, oldValue[i]))
                    : hasChanged(newValue, oldValue)) ||
                (false  )) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onInvalidate
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            runner();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job; // the scheduler function gets called directly
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => {
            if (!instance || instance.isMounted) {
                queuePreFlushCb(job);
            }
            else {
                // with 'pre' option, the first call must happen before
                // the component is mounted so it is called synchronously.
                job();
            }
        };
    }
    const runner = effect(getter, {
        lazy: true,
        onTrack,
        onTrigger,
        scheduler
    });
    recordInstanceBoundEffect(runner, instance);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = runner();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(runner, instance && instance.suspense);
    }
    else {
        runner();
    }
    return () => {
        stop(runner);
        if (instance) {
            remove(instance.effects, runner);
        }
    };
}
// this.$watch
function instanceWatch(source, value, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? source.includes('.')
            ? createPathGetter(publicThis, source)
            : () => publicThis[source]
        : source.bind(publicThis, publicThis);
    let cb;
    if (isFunction(value)) {
        cb = value;
    }
    else {
        cb = value.handler;
        options = value;
    }
    return doWatch(getter, cb.bind(publicThis), options, this);
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function traverse(value, seen = new Set()) {
    if (!isObject(value) ||
        seen.has(value) ||
        value["__v_skip" /* SKIP */]) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else if (isPlainObject(value)) {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                setCurrentInstance(null);
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR (except for serverPrefetch)
(!isInSSRComponentSetup || lifecycle === "sp" /* SERVER_PREFETCH */) &&
    injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onServerPrefetch = createHook("sp" /* SERVER_PREFETCH */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
function onErrorCaptured(hook, target = currentInstance) {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
}
let shouldCacheAccess = true;
function applyOptions(instance) {
    const options = resolveMergedOptions(instance);
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    // do not cache property access on public proxy during state initialization
    shouldCacheAccess = false;
    // call beforeCreate first before accessing other options since
    // the hook may mutate resolved options (#2791)
    if (options.beforeCreate) {
        callHook(options.beforeCreate, instance, "bc" /* BEFORE_CREATE */);
    }
    const { 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // lifecycle
    created, beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, serverPrefetch, 
    // public API
    expose, inheritAttrs, 
    // assets
    components, directives, filters } = options;
    const checkDuplicateProperties = null;
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        resolveInjections(injectOptions, ctx, checkDuplicateProperties);
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,
                // and those are read-only but reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (dataOptions) {
        const data = dataOptions.call(publicThis, publicThis);
        if (!isObject(data)) ;
        else {
            instance.data = reactive(data);
        }
    }
    // state initialization complete at this point - start caching access
    shouldCacheAccess = true;
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                : NOOP;
            const c = computed({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        for (const key in watchOptions) {
            createWatcher(watchOptions[key], ctx, publicThis, key);
        }
    }
    if (provideOptions) {
        const provides = isFunction(provideOptions)
            ? provideOptions.call(publicThis)
            : provideOptions;
        Reflect.ownKeys(provides).forEach(key => {
            provide(key, provides[key]);
        });
    }
    if (created) {
        callHook(created, instance, "c" /* CREATED */);
    }
    function registerLifecycleHook(register, hook) {
        if (isArray(hook)) {
            hook.forEach(_hook => register(_hook.bind(publicThis)));
        }
        else if (hook) {
            register(hook.bind(publicThis));
        }
    }
    registerLifecycleHook(onBeforeMount, beforeMount);
    registerLifecycleHook(onMounted, mounted);
    registerLifecycleHook(onBeforeUpdate, beforeUpdate);
    registerLifecycleHook(onUpdated, updated);
    registerLifecycleHook(onActivated, activated);
    registerLifecycleHook(onDeactivated, deactivated);
    registerLifecycleHook(onErrorCaptured, errorCaptured);
    registerLifecycleHook(onRenderTracked, renderTracked);
    registerLifecycleHook(onRenderTriggered, renderTriggered);
    registerLifecycleHook(onBeforeUnmount, beforeUnmount);
    registerLifecycleHook(onUnmounted, unmounted);
    registerLifecycleHook(onServerPrefetch, serverPrefetch);
    if (isArray(expose)) {
        if (expose.length) {
            const exposed = instance.exposed || (instance.exposed = proxyRefs({}));
            expose.forEach(key => {
                exposed[key] = toRef(publicThis, key);
            });
        }
        else if (!instance.exposed) {
            instance.exposed = EMPTY_OBJ;
        }
    }
    // options that are handled when creating the instance but also need to be
    // applied from mixins
    if (render && instance.render === NOOP) {
        instance.render = render;
    }
    if (inheritAttrs != null) {
        instance.inheritAttrs = inheritAttrs;
    }
    // asset options.
    if (components)
        instance.components = components;
    if (directives)
        instance.directives = directives;
}
function resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {
    if (isArray(injectOptions)) {
        injectOptions = normalizeInject(injectOptions);
    }
    for (const key in injectOptions) {
        const opt = injectOptions[key];
        if (isObject(opt)) {
            if ('default' in opt) {
                ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);
            }
            else {
                ctx[key] = inject(opt.from || key);
            }
        }
        else {
            ctx[key] = inject(opt);
        }
    }
}
function callHook(hook, instance, type) {
    callWithAsyncErrorHandling(isArray(hook)
        ? hook.map(h => h.bind(instance.proxy))
        : hook.bind(instance.proxy), instance, type);
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
/**
 * Resolve merged options and cache it on the component.
 * This is done only once per-component since the merging does not involve
 * instances.
 */
function resolveMergedOptions(instance) {
    const base = instance.type;
    const { mixins, extends: extendsOptions } = base;
    const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance.appContext;
    const cached = cache.get(base);
    let resolved;
    if (cached) {
        resolved = cached;
    }
    else if (!globalMixins.length && !mixins && !extendsOptions) {
        {
            resolved = base;
        }
    }
    else {
        resolved = {};
        if (globalMixins.length) {
            globalMixins.forEach(m => mergeOptions(resolved, m, optionMergeStrategies, true));
        }
        mergeOptions(resolved, base, optionMergeStrategies);
    }
    cache.set(base, resolved);
    return resolved;
}
function mergeOptions(to, from, strats, asMixin = false) {
    const { mixins, extends: extendsOptions } = from;
    if (extendsOptions) {
        mergeOptions(to, extendsOptions, strats, true);
    }
    if (mixins) {
        mixins.forEach((m) => mergeOptions(to, m, strats, true));
    }
    for (const key in from) {
        if (asMixin && key === 'expose') ;
        else {
            const strat = internalOptionMergeStrats[key] || (strats && strats[key]);
            to[key] = strat ? strat(to[key], from[key]) : from[key];
        }
    }
    return to;
}
const internalOptionMergeStrats = {
    data: mergeDataFn,
    props: mergeObjectOptions,
    emits: mergeObjectOptions,
    // objects
    methods: mergeObjectOptions,
    computed: mergeObjectOptions,
    // lifecycle
    beforeCreate: mergeAsArray,
    created: mergeAsArray,
    beforeMount: mergeAsArray,
    mounted: mergeAsArray,
    beforeUpdate: mergeAsArray,
    updated: mergeAsArray,
    beforeDestroy: mergeAsArray,
    destroyed: mergeAsArray,
    activated: mergeAsArray,
    deactivated: mergeAsArray,
    errorCaptured: mergeAsArray,
    serverPrefetch: mergeAsArray,
    // assets
    components: mergeObjectOptions,
    directives: mergeObjectOptions,
    // watch
    watch: mergeWatchOptions,
    // provide / inject
    provide: mergeDataFn,
    inject: mergeInject
};
function mergeDataFn(to, from) {
    if (!from) {
        return to;
    }
    if (!to) {
        return from;
    }
    return function mergedDataFn() {
        return (extend)(isFunction(to) ? to.call(this, this) : to, isFunction(from) ? from.call(this, this) : from);
    };
}
function mergeInject(to, from) {
    return mergeObjectOptions(normalizeInject(to), normalizeInject(from));
}
function normalizeInject(raw) {
    if (isArray(raw)) {
        const res = {};
        for (let i = 0; i < raw.length; i++) {
            res[raw[i]] = raw[i];
        }
        return res;
    }
    return raw;
}
function mergeAsArray(to, from) {
    return to ? [...new Set([].concat(to, from))] : from;
}
function mergeObjectOptions(to, from) {
    return to ? extend(extend(Object.create(null), to), from) : from;
}
function mergeWatchOptions(to, from) {
    if (!to)
        return from;
    if (!from)
        return to;
    const merged = extend(Object.create(null), to);
    for (const key in from) {
        merged[key] = mergeAsArray(to[key], from[key]);
    }
    return merged;
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    // ensure all declared prop keys are present
    for (const key in instance.propsOptions[0]) {
        if (!(key in props)) {
            props[key] = undefined;
        }
    }
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    let hasAttrsChanged = false;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                let key = propsToUpdate[i];
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        if (value !== attrs[key]) {
                            attrs[key] = value;
                            hasAttrsChanged = true;
                        }
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false /* isAbsent */);
                    }
                }
                else {
                    if (value !== attrs[key]) {
                        attrs[key] = value;
                        hasAttrsChanged = true;
                    }
                }
            }
        }
    }
    else {
        // full props update.
        if (setFullProps(instance, rawProps, props, attrs)) {
            hasAttrsChanged = true;
        }
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawCurrentProps, key, undefined, instance, true /* isAbsent */);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps || !hasOwn(rawProps, key)) {
                    delete attrs[key];
                    hasAttrsChanged = true;
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    if (hasAttrsChanged) {
        trigger(instance, "set" /* SET */, '$attrs');
    }
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    let hasAttrsChanged = false;
    let rawCastValues;
    if (rawProps) {
        for (let key in rawProps) {
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            const value = rawProps[key];
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                if (!needCastKeys || !needCastKeys.includes(camelKey)) {
                    props[camelKey] = value;
                }
                else {
                    (rawCastValues || (rawCastValues = {}))[camelKey] = value;
                }
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                if (value !== attrs[key]) {
                    attrs[key] = value;
                    hasAttrsChanged = true;
                }
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        const castValues = rawCastValues || EMPTY_OBJ;
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, castValues[key], instance, !hasOwn(castValues, key));
        }
    }
    return hasAttrsChanged;
}
function resolvePropValue(options, props, key, value, instance, isAbsent) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue.call(null, props);
                    setCurrentInstance(null);
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (isAbsent && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.propsCache;
    const cached = cache.get(comp);
    if (cached) {
        return cached;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, EMPTY_ARR);
        return EMPTY_ARR;
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    const res = [normalized, needCastKeys];
    cache.set(comp, res);
    return res;
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => {
    const normalized = withCtx((props) => {
        return normalizeSlotValue(rawSlot(props));
    }, ctx);
    normalized._c = false;
    return normalized;
};
const normalizeObjectSlots = (rawSlots, slots, instance) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // users can get the shallow readonly version of the slots object through `this.$slots`,
            // we should avoid the proxy object polluting the slots of the internal instance
            instance.slots = toRaw(children);
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        let hook = binding.dir[name];
        if (hook) {
            // disable tracking inside all lifecycle hooks
            // since they can potentially be called inside effects.
            pauseTracking();
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
            resetTracking();
        }
    }
}

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            errorHandler: undefined,
            warnHandler: undefined,
            compilerOptions: {}
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null),
        optionsCache: new WeakMap(),
        propsCache: new WeakMap(),
        emitsCache: new WeakMap()
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (rootProps != null && !isObject(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            _instance: null,
            version,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                if (__VUE_OPTIONS_API__) {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    if (__VUE_PROD_DEVTOOLS__) {
                        app._instance = vnode.component;
                        devtoolsInitApp(app, version);
                    }
                    return vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    if (__VUE_PROD_DEVTOOLS__) {
                        app._instance = null;
                        devtoolsUnmountApp(app);
                    }
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                // TypeScript doesn't allow symbols as index type
                // https://github.com/Microsoft/TypeScript/issues/24587
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * This is only called in esm-bundler builds.
 * It is called when a renderer is created, in `baseCreateRenderer` so that
 * importing runtime-core is side-effects free.
 *
 * istanbul-ignore-next
 */
function initFeatureFlags() {
    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {
        getGlobalThis().__VUE_OPTIONS_API__ = true;
    }
    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {
        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;
    }
}

const prodEffectOptions = {
    scheduler: queueJob,
    // #1801, #2043 component render effects should allow recursive updates
    allowRecurse: true
};
const queuePostRenderEffect = queueEffectWithSuspense
    ;
const setRef = (rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) => {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));
        return;
    }
    if (isAsyncWrapper(vnode) && !isUnmount) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    const refValue = vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */
        ? vnode.component.exposed || vnode.component.proxy
        : vnode.el;
    const value = isUnmount ? null : refValue;
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // dynamic ref changed. unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isString(ref)) {
        const doSet = () => {
            {
                refs[ref] = value;
            }
            if (hasOwn(setupState, ref)) {
                setupState[ref] = value;
            }
        };
        // #1789: for non-null values, set them after render
        // null values means this is unmount and it should not overwrite another
        // ref with the same key
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isRef(ref)) {
        const doSet = () => {
            ref.value = value;
        };
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else ;
};
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    // compile-time feature flags check
    {
        initFeatureFlags();
    }
    if (__VUE_PROD_DEVTOOLS__) {
        const target = getGlobalThis();
        target.__VUE__ = true;
        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);
    }
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment$1:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG, 
        // pass cached nodes if the static node is being mounted multiple times
        // so that runtime-dom can simply cloneNode() instead of inserting new
        // HTML
        n2.el && [n2.el, n2.anchor]);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (!isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            Object.defineProperty(el, '__vnode', {
                value: vnode,
                enumerable: false
            });
            Object.defineProperty(el, '__vueParentComponent', {
                value: parentComponent,
                enumerable: false
            });
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        if (next !== prev ||
                            (hostForcePatchProp && hostForcePatchProp(el, key))) {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // oldVNode may be an errored async setup() component inside Suspense
            // which will not have a mounted element
            oldVNode.el &&
                // - In the case of a Fragment, we need to provide the actual parent
                // of the Fragment itself so it can move its children.
                (oldVNode.type === Fragment ||
                    // - In the case of different nodes, there is going to be a replacement
                    // which also requires the correct parent container
                    !isSameVNodeType(oldVNode, newVNode) ||
                    // - In the case of a component, it could contain anything.
                    oldVNode.shapeFlag & 6 /* COMPONENT */ ||
                    oldVNode.shapeFlag & 64 /* TELEPORT */)
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                if (next !== prev ||
                    (hostForcePatchProp && hostForcePatchProp(el, key))) {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        if (dynamicChildren) {
            optimized = true;
        }
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        // resolve props and slots for setup context
        {
            setupComponent(instance);
        }
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment$1));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect runner.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.component = n1.component;
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        // create reactive effect for rendering
        instance.update = effect(function componentEffect() {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if ((vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    const hydrateSubTree = () => {
                        instance.subTree = renderComponentRoot(instance);
                        hydrateNode(el, instance.subTree, instance, parentSuspense, null);
                    };
                    if (isAsyncWrapper(initialVNode)) {
                        initialVNode.type.__asyncLoader().then(
                        // note: we are moving the render call into an async callback,
                        // which means it won't track dependencies - but it's ok because
                        // a server-rendered async wrapper is already in resolved state
                        // and it will never need to change.
                        () => !instance.isUnmounted && hydrateSubTree());
                    }
                    else {
                        hydrateSubTree();
                    }
                }
                else {
                    const subTree = (instance.subTree = renderComponentRoot(instance));
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if ((vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                if (initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
                    instance.a && queuePostRenderEffect(instance.a, parentSuspense);
                }
                instance.isMounted = true;
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentAdded(instance);
                }
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next, vnode), parentSuspense);
                }
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentUpdated(instance);
                }
            }
        }, prodEffectOptions);
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, vnode, true);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        let vnodeHook;
        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                (patchFlag & 128 /* KEYED_FRAGMENT */ ||
                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            removeFragment(el, anchor);
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, effects, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        if (effects) {
            for (let i = 0; i < effects.length; i++) {
                stop(effects[i]);
            }
        }
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            stop(update);
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentRemoved(instance);
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always moved so that need inherit el form previous nodes
 * to ensure correct moved position.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = ((u + v) / 2) | 0;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;
const NULL_DYNAMIC_COMPONENT = Symbol();

const Fragment = Symbol(undefined);
const Text = Symbol(undefined);
const Comment$1 = Symbol(undefined);
const Static = Symbol(undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
// Whether we should be tracking dynamic child nodes inside a block.
// Only tracks when this value is > 0
// We are not using a simple boolean because this value may need to be
// incremented/decremented by nested usage of v-once (see below)
let isBlockTreeEnabled = 1;
/**
 * Block tracking sometimes needs to be disabled, for example during the
 * creation of a tree that needs to be cached by v-once. The compiler generates
 * code like this:
 *
 * ``` js
 * _cache[1] || (
 *   setBlockTracking(-1),
 *   _cache[1] = createVNode(...),
 *   setBlockTracking(1),
 *   _cache[1]
 * )
 * ```
 *
 * @private
 */
function setBlockTracking(value) {
    isBlockTreeEnabled += value;
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);
    // save current block children on the block vnode
    vnode.dynamicChildren =
        isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (isBlockTreeEnabled > 0 && currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref }
            : ref
        : null);
};
const createVNode = (_createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment$1;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        if (isProxy(props) || InternalObjectKey in props) {
            props = extend({}, props);
        }
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    const vnode = {
        __v_isVNode: true,
        __v_skip: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: null,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    normalizeChildren(vnode, children);
    // normalize suspense children
    if (shapeFlag & 128 /* SUSPENSE */) {
        type.normalize(vnode);
    }
    if (isBlockTreeEnabled > 0 &&
        // avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    const cloned = {
        __v_isVNode: true,
        __v_skip: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children: children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: perserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
    return cloned;
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment$1);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, 
        // #3666, avoid reference pollution when reusing vnode
        child.slice());
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return cloneIfMounted(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && (slot._d = false);
                normalizeChildren(vnode, slot());
                slot._c && (slot._d = true);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.slots._ === 1 /* STABLE */) {
                    children._ = 1 /* STABLE */;
                }
                else {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = extend({}, args[0]);
    for (let i = 1; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (existing !== incoming) {
                    ret[key] = existing
                        ? [].concat(existing, incoming)
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return i.exposed ? i.exposed : i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => (i.props),
    $attrs: i => (i.attrs),
    $slots: i => (i.slots),
    $refs: i => (i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),
    $forceUpdate: i => () => queueJob(i.update),
    $nextTick: i => nextTick.bind(i.proxy),
    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 0 /* SETUP */:
                        return setupState[key];
                    case 1 /* DATA */:
                        return data[key];
                    case 3 /* CONTEXT */:
                        return ctx[key];
                    case 2 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 0 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 1 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 2 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 3 /* CONTEXT */;
                return ctx[key];
            }
            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {
                accessCache[key] = 4 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 3 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            {
                return globalProperties[key];
            }
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (accessCache[key] !== undefined ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    }
};
const RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {
    get(target, key) {
        // fast path for unscopables when using `with` block
        if (key === Symbol.unscopables) {
            return;
        }
        return PublicInstanceProxyHandlers.get(target, key, target);
    },
    has(_, key) {
        const has = key[0] !== '_' && !isGloballyWhitelisted(key);
        return has;
    }
});

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        update: null,
        render: null,
        proxy: null,
        exposed: null,
        withProxy: null,
        effects: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resovled assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // inheritAttrs
        inheritAttrs: type.inheritAttrs,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null,
        sp: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit.bind(null, instance);
    return instance;
}
let currentInstance = null;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        currentInstance = instance;
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [instance.props, setupContext]);
        resetTracking();
        currentInstance = null;
        if (isPromise(setupResult)) {
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult);
        }
    }
    else {
        finishComponentSetup(instance);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        {
            instance.render = setupResult;
        }
    }
    else if (isObject(setupResult)) {
        // setup returned bindings.
        // assuming a render function compiled from template is present.
        if (__VUE_PROD_DEVTOOLS__) {
            instance.devtoolsRawSetupState = setupResult;
        }
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance);
}
function finishComponentSetup(instance, isSSR, skipOptions) {
    const Component = instance.type;
    // template / render function normalization
    if (!instance.render) {
        instance.render = (Component.render || NOOP);
        // for runtime-compiled render functions using `with` blocks, the render
        // proxy used needs a different `has` handler which is more performant and
        // also only allows a whitelist of globals to fallthrough.
        if (instance.render._rc) {
            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
        }
    }
    // support for 2.x options
    if (__VUE_OPTIONS_API__ && !(false )) {
        currentInstance = instance;
        pauseTracking();
        applyOptions(instance);
        resetTracking();
        currentInstance = null;
    }
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = proxyRefs(exposed);
    };
    {
        return {
            attrs: instance.attrs,
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
// record effects created during a component's setup() so that they can be
// stopped when the component unmounts
function recordInstanceBoundEffect(effect, instance = currentInstance) {
    if (instance) {
        (instance.effects || (instance.effects = [])).push(effect);
    }
}
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');
function getComponentName(Component) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name;
}
/* istanbul ignore next */
function formatComponentName(instance, Component, isRoot = false) {
    let name = getComponentName(Component);
    if (!name && Component.__file) {
        const match = Component.__file.match(/([^/\\]+)\.\w+$/);
        if (match) {
            name = match[1];
        }
    }
    if (!name && instance && instance.parent) {
        // try to infer the name based on reverse resolution
        const inferFromRegistry = (registry) => {
            for (const key in registry) {
                if (registry[key] === Component) {
                    return key;
                }
            }
        };
        name =
            inferFromRegistry(instance.components ||
                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
    }
    return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

function computed(getterOrOptions) {
    const c = computed$1(getterOrOptions);
    recordInstanceBoundEffect(c.effect);
    return c;
}

// Core API ------------------------------------------------------------------
const version = "3.1.2";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: insertAdjacentHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG, cached) {
        if (cached) {
            let [cachedFirst, cachedLast] = cached;
            let first, last;
            while (true) {
                let node = cachedFirst.cloneNode(true);
                if (!first)
                    first = node;
                parent.insertBefore(node, anchor);
                if (cachedFirst === cachedLast) {
                    last = node;
                    break;
                }
                cachedFirst = cachedFirst.nextSibling;
            }
            return [first, last];
        }
        // <parent> before | first ... last | anchor </parent>
        const before = anchor ? anchor.previousSibling : parent.lastChild;
        if (anchor) {
            let insertionPoint;
            let usingTempInsertionPoint = false;
            if (anchor instanceof Element) {
                insertionPoint = anchor;
            }
            else {
                // insertAdjacentHTML only works for elements but the anchor is not an
                // element...
                usingTempInsertionPoint = true;
                insertionPoint = isSVG
                    ? doc.createElementNS(svgNS, 'g')
                    : doc.createElement('div');
                parent.insertBefore(insertionPoint, anchor);
            }
            insertionPoint.insertAdjacentHTML('beforebegin', content);
            if (usingTempInsertionPoint) {
                parent.removeChild(insertionPoint);
            }
        }
        else {
            parent.insertAdjacentHTML('beforeend', content);
        }
        return [
            // first
            before ? before.nextSibling : parent.firstChild,
            // last
            anchor ? anchor.previousSibling : parent.lastChild
        ];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    if (value == null) {
        value = '';
    }
    if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        // directly setting className should be faster than setAttribute in theory
        // if this is an element during a transition, take the temporary transition
        // classes into account.
        const transitionClasses = el._vtc;
        if (transitionClasses) {
            value = (value
                ? [value, ...transitionClasses]
                : [...transitionClasses]).join(' ');
        }
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    if (!next) {
        el.removeAttribute('style');
    }
    else if (isString(next)) {
        if (prev !== next) {
            const current = style.display;
            style.cssText = next;
            // indicates that the `display` of the element is controlled by `v-show`,
            // so we always keep the current `display` value regardless of the `style` value,
            // thus handing over control to `v-show`.
            if ('_vod' in el) {
                style.display = current;
            }
        }
    }
    else {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG, instance) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && value === false)) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' && el.tagName !== 'PROGRESS') {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
        if (value == null) {
            el.removeAttribute(key);
        }
        return;
    }
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (value === '' && type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            el[key] = true;
            return;
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            el[key] = '';
            el.removeAttribute(key);
            return;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            el[key] = 0;
            el.removeAttribute(key);
            return;
        }
    }
    // some properties perform value validation and throw
    try {
        el[key] = value;
    }
    catch (e) {
    }
}

// Async edge case fix requires storing an event listener's attach timestamp.
let _getNow = Date.now;
let skipTimestampCheck = false;
if (typeof window !== 'undefined') {
    // Determine what event timestamp the browser is using. Annoyingly, the
    // timestamp can either be hi-res (relative to page load) or low-res
    // (relative to UNIX epoch), so in order to compare time we have to use the
    // same timestamp type when saving the flush timestamp.
    if (_getNow() > document.createEvent('Event').timeStamp) {
        // if the low-res timestamp which is bigger than the event timestamp
        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
        // and we need to use the hi-res version for event listeners as well.
        _getNow = () => performance.now();
    }
    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
    // and does not fire microtasks in between event propagation, so safe to exclude.
    const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
}
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p$1 = Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p$1.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const forcePatchProp = (_, key) => key === 'value';
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    switch (key) {
        // special
        case 'class':
            patchClass(el, nextValue, isSVG);
            break;
        case 'style':
            patchStyle(el, prevValue, nextValue);
            break;
        default:
            if (isOn(key)) {
                // ignore v-model listeners
                if (!isModelListener(key)) {
                    patchEvent(el, key, prevValue, nextValue, parentComponent);
                }
            }
            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {
                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
            }
            else {
                // special case for <input v-model type="checkbox"> with
                // :true-value & :false-value
                // store value as dom properties since non-string values will be
                // stringified.
                if (key === 'true-value') {
                    el._trueValue = nextValue;
                }
                else if (key === 'false-value') {
                    el._falseValue = nextValue;
                }
                patchAttr(el, key, nextValue, isSVG);
            }
            break;
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML
        if (key === 'innerHTML') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // spellcheck and draggable are numerated attrs, however their
    // corresponding DOM properties are actually booleans - this leads to
    // setting it with a string "false" value leading it to be coerced to
    // `true`, so we need to always treat them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            // __UNSAFE__
            // Reason: potential execution of JS expressions in in-DOM template.
            // The user must make sure the in-DOM template is trusted. If it's
            // rendered by the server, the template should not contain any user data.
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var THREE$1 = THREE;

var t = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': THREE$1
});

class e{constructor(t=0,e=0){this.x=t,this.y=e;}get width(){return this.x}set width(t){this.x=t;}get height(){return this.y}set height(t){this.y=t;}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*n+t.x,this.y=i*n+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}e.prototype.isVector2=!0;const r=[];for(let Hh=0;Hh<256;Hh++)r[Hh]=(Hh<16?"0":"")+Hh.toString(16);let n=1234567;const i=Math.PI/180,s=180/Math.PI;function a(t,e,r){return Math.max(e,Math.min(r,t))}function o(t,e){return (t%e+e)%e}function u(t,e,r){return (1-r)*t+r*e}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEG2RAD:i,RAD2DEG:s,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return (r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]).toUpperCase()},clamp:a,euclideanModulo:o,mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},inverseLerp:function(t,e,r){return t!==e?(r-t)/(e-t):0},lerp:u,damp:function(t,e,r,n){return u(t,e,1-Math.exp(-r*n))},pingpong:function(t,e=1){return e-Math.abs(o(t,2*e)-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(n=t%2147483647),n=16807*n%2147483647,(n-1)/2147483646},degToRad:function(t){return t*i},radToDeg:function(t){return t*s},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,r,n,i){const s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((e+n)/2),c=a((e+n)/2),l=s((e-n)/2),p=a((e-n)/2),f=s((n-e)/2),d=a((n-e)/2);switch(i){case"XYX":t.set(o*c,u*l,u*p,o*h);break;case"YZY":t.set(u*p,o*c,u*l,o*h);break;case"ZXZ":t.set(u*l,u*p,o*c,o*h);break;case"XZX":t.set(o*c,u*d,u*f,o*h);break;case"YXY":t.set(u*f,o*c,u*d,o*h);break;case"ZYZ":t.set(u*d,u*f,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i);}}});class c{constructor(t=0,e=0,r=0,n=1){this._x=t,this._y=e,this._z=r,this._w=n;}static slerp(t,e,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(t,e,n)}static slerpFlat(t,e,r,n,i,s,a){let o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3];const l=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(0===a)return t[e+0]=o,t[e+1]=u,t[e+2]=h,void(t[e+3]=c);if(1===a)return t[e+0]=l,t[e+1]=p,t[e+2]=f,void(t[e+3]=d);if(c!==d||o!==l||u!==p||h!==f){let t=1-a;const e=o*l+u*p+h*f+c*d,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,e*r);t=Math.sin(t*s)/i,a=Math.sin(a*s)/i;}const i=a*r;if(o=o*t+l*i,u=u*t+p*i,h=h*t+f*i,c=c*t+d*i,t===1-a){const t=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=t,u*=t,h*=t,c*=t;}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c;}static multiplyQuaternionsFlat(t,e,r,n,i,s){const a=r[n],o=r[n+1],u=r[n+2],h=r[n+3],c=i[s],l=i[s+1],p=i[s+2],f=i[s+3];return t[e]=a*f+h*c+o*p-u*l,t[e+1]=o*f+h*l+u*c-a*p,t[e+2]=u*f+h*p+a*l-o*c,t[e+3]=h*f-a*c-o*l-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback();}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback();}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback();}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback();}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,n=t._y,i=t._z,s=t._order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(n/2),c=a(i/2),l=o(r/2),p=o(n/2),f=o(i/2);switch(s){case"XYZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"YXZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"ZXY":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"ZYX":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"YZX":this._x=l*h*c+u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c-l*p*f;break;case"XZY":this._x=l*h*c-u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c+l*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s);}return !1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],s=e[1],a=e[5],o=e[9],u=e[2],h=e[6],c=e[10],l=r+a+c;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(h-o)*t,this._y=(i-u)*t,this._z=(s-n)*t;}else if(r>a&&r>c){const t=2*Math.sqrt(1+r-a-c);this._w=(h-o)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(i+u)/t;}else if(a>c){const t=2*Math.sqrt(1+a-r-c);this._w=(i-u)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(o+h)/t;}else {const t=2*Math.sqrt(1+c-r-a);this._w=(s-n)/t,this._x=(i+u)/t,this._y=(o+h)/t,this._z=.25*t;}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(a(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,s=t._w,a=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+s*a+n*u-i*o,this._y=n*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-n*a,this._w=s*h-r*a-n*o-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,s=this._w;let a=s*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),h=Math.atan2(u,a),c=Math.sin((1-e)*h)/u,l=Math.sin(e*h)/u;return this._w=s*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this._onChangeCallback(),this}slerpQuaternions(t,e,r){this.copy(t).slerp(e,r);}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}c.prototype.isQuaternion=!0;class l{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r;}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(f.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(f.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,s=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*e+s*n-a*r,h=o*r+a*e-i*n,c=o*n+i*r-s*e,l=-i*e-s*r-a*n;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=n*o-i*a,this.y=i*s-r*o,this.z=r*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return p.copy(this).projectOnVector(t),this.sub(p)}reflect(t){return this.sub(p.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(a(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}l.prototype.isVector3=!0;const p=new l,f=new c;class m{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u,h,c,l,p,f,d,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=r,y[12]=n,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=u,y[6]=h,y[10]=c,y[14]=l,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return (new m).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/y.setFromMatrixColumn(t,0).length(),i=1/y.setFromMatrixColumn(t,1).length(),s=1/y.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*s,e[9]=r[9]*s,e[10]=r[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,n=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-a*o,e[2]=i-t*u,e[6]=n+r*u,e[10]=s*o;}else if("YXZ"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t+i*a,e[4]=n*a-r,e[8]=s*u,e[1]=s*c,e[5]=s*h,e[9]=-a,e[2]=r*a-n,e[6]=i+t*a,e[10]=s*o;}else if("ZXY"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t-i*a,e[4]=-s*c,e[8]=n+r*a,e[1]=r+n*a,e[5]=s*h,e[9]=i-t*a,e[2]=-s*u,e[6]=a,e[10]=s*o;}else if("ZYX"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=n*u-r,e[8]=t*u+i,e[1]=o*c,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=a*o,e[10]=s*o;}else if("YZX"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=i-t*c,e[8]=n*c+r,e[1]=c,e[5]=s*h,e[9]=-a*h,e[2]=-u*h,e[6]=r*c+n,e[10]=t-i*c;}else if("XZY"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=t*c+i,e[5]=s*h,e[9]=r*c-n,e[2]=n*c-r,e[6]=a*h,e[10]=i*c+t;}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(v,t,x)}lookAt(t,e,r){const n=this.elements;return _.subVectors(t,e),0===_.lengthSq()&&(_.z=1),_.normalize(),w.crossVectors(r,_),0===w.lengthSq()&&(1===Math.abs(r.z)?_.x+=1e-4:_.z+=1e-4,_.normalize(),w.crossVectors(r,_)),w.normalize(),b.crossVectors(_,w),n[0]=w.x,n[4]=b.x,n[8]=_.x,n[1]=w.y,n[5]=b.y,n[9]=_.y,n[2]=w.z,n[6]=b.z,n[10]=_.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],p=r[13],f=r[2],d=r[6],m=r[10],y=r[14],g=r[3],v=r[7],x=r[11],w=r[15],b=n[0],_=n[4],M=n[8],N=n[12],E=n[1],S=n[5],T=n[9],O=n[13],z=n[2],C=n[6],A=n[10],R=n[14],D=n[3],k=n[7],I=n[11],L=n[15];return i[0]=s*b+a*E+o*z+u*D,i[4]=s*_+a*S+o*C+u*k,i[8]=s*M+a*T+o*A+u*I,i[12]=s*N+a*O+o*R+u*L,i[1]=h*b+c*E+l*z+p*D,i[5]=h*_+c*S+l*C+p*k,i[9]=h*M+c*T+l*A+p*I,i[13]=h*N+c*O+l*R+p*L,i[2]=f*b+d*E+m*z+y*D,i[6]=f*_+d*S+m*C+y*k,i[10]=f*M+d*T+m*A+y*I,i[14]=f*N+d*O+m*R+y*L,i[3]=g*b+v*E+x*z+w*D,i[7]=g*_+v*S+x*C+w*k,i[11]=g*M+v*T+x*A+w*I,i[15]=g*N+v*O+x*R+w*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],p=t[14];return t[3]*(+i*o*c-n*u*c-i*a*l+r*u*l+n*a*p-r*o*p)+t[7]*(+e*o*p-e*u*l+i*s*l-n*s*p+n*u*h-i*o*h)+t[11]*(+e*u*c-e*a*p-i*s*c+r*s*p+i*a*h-r*u*h)+t[15]*(-n*a*h-e*o*c+e*a*l+n*s*c-r*s*l+r*o*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],p=t[11],f=t[12],d=t[13],m=t[14],y=t[15],g=c*m*u-d*l*u+d*o*p-a*m*p-c*o*y+a*l*y,v=f*l*u-h*m*u-f*o*p+s*m*p+h*o*y-s*l*y,x=h*d*u-f*c*u+f*a*p-s*d*p-h*a*y+s*c*y,w=f*c*o-h*d*o-f*a*l+s*d*l+h*a*m-s*c*m,b=e*g+r*v+n*x+i*w;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/b;return t[0]=g*_,t[1]=(d*l*i-c*m*i-d*n*p+r*m*p+c*n*y-r*l*y)*_,t[2]=(a*m*i-d*o*i+d*n*u-r*m*u-a*n*y+r*o*y)*_,t[3]=(c*o*i-a*l*i-c*n*u+r*l*u+a*n*p-r*o*p)*_,t[4]=v*_,t[5]=(h*m*i-f*l*i+f*n*p-e*m*p-h*n*y+e*l*y)*_,t[6]=(f*o*i-s*m*i-f*n*u+e*m*u+s*n*y-e*o*y)*_,t[7]=(s*l*i-h*o*i+h*n*u-e*l*u-s*n*p+e*o*p)*_,t[8]=x*_,t[9]=(f*c*i-h*d*i-f*r*p+e*d*p+h*r*y-e*c*y)*_,t[10]=(s*d*i-f*a*i+f*r*u-e*d*u-s*r*y+e*a*y)*_,t[11]=(h*a*i-s*c*i-h*r*u+e*c*u+s*r*p-e*a*p)*_,t[12]=w*_,t[13]=(h*d*n-f*c*n+f*r*l-e*d*l-h*r*m+e*c*m)*_,t[14]=(f*a*n-s*d*n-f*r*o+e*d*o+s*r*m-e*a*m)*_,t[15]=(s*c*n-h*a*n+h*r*o-e*c*o-s*r*l+e*a*l)*_,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-n*o,u*o+n*a,0,u*a+n*o,h*a+r,h*o-n*s,0,u*o-n*a,h*o+n*s,i*o*o+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,n,i,s){return this.set(1,r,i,0,t,1,s,0,e,n,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,s=e._y,a=e._z,o=e._w,u=i+i,h=s+s,c=a+a,l=i*u,p=i*h,f=i*c,d=s*h,m=s*c,y=a*c,g=o*u,v=o*h,x=o*c,w=r.x,b=r.y,_=r.z;return n[0]=(1-(d+y))*w,n[1]=(p+x)*w,n[2]=(f-v)*w,n[3]=0,n[4]=(p-x)*b,n[5]=(1-(l+y))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(f+v)*_,n[9]=(m-g)*_,n[10]=(1-(l+d))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=y.set(n[0],n[1],n[2]).length();const s=y.set(n[4],n[5],n[6]).length(),a=y.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],g.copy(this);const o=1/i,u=1/s,h=1/a;return g.elements[0]*=o,g.elements[1]*=o,g.elements[2]*=o,g.elements[4]*=u,g.elements[5]*=u,g.elements[6]*=u,g.elements[8]*=h,g.elements[9]*=h,g.elements[10]*=h,e.setFromRotationMatrix(g),r.x=i,r.y=s,r.z=a,this}makePerspective(t,e,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,s){const a=this.elements,o=1/(e-t),u=1/(r-n),h=1/(s-i),c=(e+t)*o,l=(r+n)*u,p=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}m.prototype.isMatrix4=!0;const y=new l,g=new m,v=new l(0,0,0),x=new l(1,1,1),w=new l,b=new l,_=new l;new m;new c;const S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},T={h:0,s:0,l:0},O={h:0,s:0,l:0};function z(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}function C(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function A(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class R{constructor(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,r){return this.r=t,this.g=e,this.b=r,this}setHSL(t,e,r){if(t=o(t,1),e=a(e,0,1),r=a(r,0,1),0===e)this.r=this.g=this.b=r;else {const n=r<=.5?r*(1+e):r+e-r*e,i=2*r-n;this.r=z(i,n,t+1/3),this.g=z(i,n,t),this.b=z(i,n,t-1/3);}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.");}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const n=r[1],i=r[2];switch(n){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const r=parseFloat(t[1])/360,n=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(r,n,i)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=r[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=S[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=C(t.r),this.g=C(t.g),this.b=C(t.b),this}copyLinearToSRGB(t){return this.r=A(t.r),this.g=A(t.g),this.b=A(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return ("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,r=this.g,n=this.b,i=Math.max(e,r,n),s=Math.min(e,r,n);let a,o;const u=(s+i)/2;if(s===i)a=0,o=0;else {const t=i-s;switch(o=u<=.5?t/(i+s):t/(2-i-s),i){case e:a=(r-n)/t+(r<n?6:0);break;case r:a=(n-e)/t+2;break;case n:a=(e-r)/t+4;}a/=6;}return t.h=a,t.s=o,t.l=u,t}getStyle(){return "rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,r){return this.getHSL(T),T.h+=t,T.s+=e,T.l+=r,this.setHSL(T.h,T.s,T.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,r){return this.r=t.r+(e.r-t.r)*r,this.g=t.g+(e.g-t.g)*r,this.b=t.b+(e.b-t.b)*r,this}lerpHSL(t,e){this.getHSL(T),t.getHSL(O);const r=u(T.h,O.h,e),n=u(T.s,O.s,e),i=u(T.l,O.l,e);return this.setHSL(r,n,i),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}R.NAMES=S,R.prototype.isColor=!0,R.prototype.r=1,R.prototype.g=1,R.prototype.b=1;const D=new e;class k{constructor(t=new e(1/0,1/0),r=new e(-1/0,-1/0)){this.min=t,this.max=r;}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=D.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return void 0===r&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new e),r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,r){return void 0===r&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new e),r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return D.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}k.prototype.isBox2=!0;class I{constructor(t=new l(1/0,1/0,1/0),e=new l(-1/0,-1/0,-1/0)){this.min=t,this.max=e;}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.length;o<u;o+=3){const u=t[o],h=t[o+1],c=t[o+2];u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromBufferAttribute(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.count;o<u;o++){const u=t.getX(o),h=t.getY(o),c=t.getZ(o);u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=B.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new l),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new l),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),F.copy(e.boundingBox),F.applyMatrix4(t.matrixWorld),this.union(F));const r=t.children;for(let n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new l),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,B),B.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return !1;this.getCenter($),G.subVectors(this.max,$),P.subVectors(t.a,$),U.subVectors(t.b,$),j.subVectors(t.c,$),q.subVectors(U,P),H.subVectors(j,U),V.subVectors(P,j);let e=[0,-q.z,q.y,0,-H.z,H.y,0,-V.z,V.y,q.z,0,-q.x,H.z,0,-H.x,V.z,0,-V.x,-q.y,q.x,0,-H.y,H.x,0,-V.y,V.x,0];return !!Z(e,P,U,j,G)&&(e=[1,0,0,0,1,0,0,0,1],!!Z(e,P,U,j,G)&&(W.crossVectors(q,H),e=[W.x,W.y,W.z],Z(e,P,U,j,G)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new l),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return B.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(B).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(L[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),L[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),L[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),L[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),L[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),L[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),L[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),L[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(L)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}I.prototype.isBox3=!0;const L=[new l,new l,new l,new l,new l,new l,new l,new l],B=new l,F=new I,P=new l,U=new l,j=new l,q=new l,H=new l,V=new l,$=new l,G=new l,W=new l,Y=new l;function Z(t,e,r,n,i){for(let s=0,a=t.length-3;s<=a;s+=3){Y.fromArray(t,s);const a=i.x*Math.abs(Y.x)+i.y*Math.abs(Y.y)+i.z*Math.abs(Y.z),o=e.dot(Y),u=r.dot(Y),h=n.dot(Y);if(Math.max(-Math.max(o,u,h),Math.min(o,u,h))>a)return !1}return !0}new l;new l;new l;new l;new l;new l;new l;new l;new l;class ot{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u){const h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],p=r[5],f=r[8],d=n[0],m=n[3],y=n[6],g=n[1],v=n[4],x=n[7],w=n[2],b=n[5],_=n[8];return i[0]=s*d+a*g+o*w,i[3]=s*m+a*v+o*b,i[6]=s*y+a*x+o*_,i[1]=u*d+h*g+c*w,i[4]=u*m+h*v+c*b,i[7]=u*y+h*x+c*_,i[2]=l*d+p*g+f*w,i[5]=l*m+p*v+f*b,i[8]=l*y+p*x+f*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*s*h-e*a*u-r*i*h+r*a*o+n*i*u-n*s*o}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=h*s-a*u,l=a*o-h*i,p=u*i-s*o,f=e*c+r*l+n*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return t[0]=c*d,t[1]=(n*u-h*r)*d,t[2]=(a*r-n*s)*d,t[3]=l*d,t[4]=(h*e-n*o)*d,t[5]=(n*i-a*e)*d,t[6]=p*d,t[7]=(r*o-u*e)*d,t[8]=(s*e-r*i)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,s,a){const o=Math.cos(i),u=Math.sin(i);return this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-n*u,n*o,-n*(-u*s+o*a)+a+e,0,0,1),this}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*s+r*u,n[6]=e*a+r*h,n[1]=-r*i+e*o,n[4]=-r*s+e*u,n[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return (new this.constructor).fromArray(this.elements)}}ot.prototype.isMatrix3=!0;new l;new l;new ot;Object.freeze(new e(0,0));Object.freeze(new e(1,1));Object.freeze(new l(0,0,0));Object.freeze(new l(1,0,0));Object.freeze(new l(0,1,0));Object.freeze(new l(0,0,1));Object.freeze(new l(1,1,1));Object.freeze(new c);({RIGHT:Object.freeze(new l(1,0,0)),UP:Object.freeze(new l(0,1,0)),NEAR:Object.freeze(new l(0,0,1)),LEFT:Object.freeze(new l(-1,0,0)),DOWN:Object.freeze(new l(0,-1,0)),FAR:Object.freeze(new l(0,0,-1))});new l;(()=>{const t=2*Math.PI,e=new l(0,0,1),r=new c,n=new c,i=new l,s=new c;return function(a=1,o=1){var u=(Math.random()-.5)*t*a,h=Math.random()*t,c=Math.random()*Math.PI*o;return i.set(1,0,0).applyAxisAngle(e,h),r.setFromAxisAngle(e,u),n.setFromAxisAngle(i,c),s.multiplyQuaternions(n,r)}})();(()=>{const t=new l;return function(e,r,n){const i=t.set(e.x,e.y,e.z),s=r.dot(i),a=t.copy(r).multiplyScalar(s),o=n.set(a.x,a.y,a.z,e.w).normalize();return s<0&&(o.x=-o.x,o.y=-o.y,o.z=-o.z,o.w=-o.w),o}})();new k,new k,new e,new e;new l,new l,new l,new l,new l,new l,new l;var ee=function(t){return function(e){return 1-t(1-e)}},re=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},ne=ee,ie=re,se=function(t){return function(e){return Math.pow(e,t)}},ae=function(t){return function(e){return e*e*((t+1)*e-t)}},oe=function(t){var e=ae(t);return function(t){return (t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ue=se(2),he=ee(ue),ce=re(ue),le=function(t){return 1-Math.sin(Math.acos(t))},pe=ee(le),fe=re(pe),de=ae(1.525),me=ee(de),ye=re(de),ge=oe(1.525),ve=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},xe="undefined"!=typeof Float32Array,we=function(t,e){return 1-3*e+3*t},be=function(t,e){return 3*e-6*t},_e=function(t){return 3*t},Me=function(t,e,r){return 3*we(e,r)*t*t+2*be(e,r)*t+_e(e)},Ne=function(t,e,r){return ((we(e,r)*t+be(e,r))*t+_e(e))*t};Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:ee,mirrored:re,createReversedEasing:ne,createMirroredEasing:ie,createExpoIn:se,createBackIn:ae,createAnticipateEasing:oe,linear:function(t){return t},easeIn:ue,easeOut:he,easeInOut:ce,circIn:le,circOut:pe,circInOut:fe,backIn:de,backOut:me,backInOut:ye,anticipate:ge,bounceOut:ve,bounceIn:function(t){return 1-ve(1-t)},bounceInOut:function(t){return t<.5?.5*(1-ve(1-2*t)):.5*ve(2*t-1)+.5},cubicBezier:function(t,e,r,n){var i=xe?new Float32Array(11):new Array(11),s=function(e){for(var n,s,a,o=0,u=1;10!==u&&i[u]<=e;++u)o+=.1;return --u,n=(e-i[u])/(i[u+1]-i[u]),(a=Me(s=o+.1*n,t,r))>=.001?function(e,n){for(var i=0,s=0;i<8;++i){if(0===(s=Me(n,t,r)))return n;n-=(Ne(n,t,r)-e)/s;}return n}(e,s):0===a?s:function(e,n,i){var s,a,o=0;do{(s=Ne(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a;}while(Math.abs(s)>1e-7&&++o<10);return a}(e,o,o+.1)};return function(){for(var e=0;e<11;++e)i[e]=Ne(.1*e,t,r);}(),function(i){return t===e&&r===n?i:0===i?0:1===i?1:Ne(s(i),e,n)}}});new e;new l;new c;new I;new R;new R(0,0,0);function Fe(t){return "number"==typeof t}function Pe(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function Ue(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function je(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function qe(t){return t&&!0===t.constructor.prototype.isUnit||!1}function He(t){return "string"==typeof t}var Ve=Array.isArray;function $e(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ge(t){return Array.isArray(t)||$e(t)}function We(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Ye(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Ze(t){return t&&!0===t.constructor.prototype.isRange||!1}function Xe(t){return t&&!0===t.constructor.prototype.isIndex||!1}function Qe(t){return "boolean"==typeof t}function Je(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function Ke(t){return t&&!0===t.constructor.prototype.isHelp||!1}function tr(t){return "function"==typeof t}function er(t){return t instanceof Date}function rr(t){return t instanceof RegExp}function nr(t){return !(!t||"object"!=typeof t||t.constructor!==Object||Ue(t)||je(t))}function ir(t){return null===t}function sr(t){return void 0===t}function ar(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function or(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function ur(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function hr(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function cr(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function lr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function pr(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function fr(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function dr(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function mr(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function yr(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function gr(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function vr(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function xr(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function wr(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function br(t){return t&&!0===t.constructor.prototype.isChain||!1}function _r(t){var e=typeof t;return "object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":Pe(t)?"BigNumber":Ue(t)?"Complex":je(t)?"Fraction":$e(t)?"Matrix":qe(t)?"Unit":Xe(t)?"Index":Ze(t)?"Range":Je(t)?"ResultSet":mr(t)?t.type:br(t)?"Chain":Ke(t)?"Help":"Object":"function"===e?"Function":e}function Mr(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Mr(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Pe(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Nr(t,Mr)}function Nr(t,e){var r={};for(var n in t)Ar(t,n)&&(r[n]=e(t[n]));return r}function Er(t,e){for(var r in e)Ar(e,r)&&(t[r]=e[r]);return t}function Tr(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e))return !1;if(t.length!==e.length)return !1;for(n=0,i=t.length;n<i;n++)if(!Tr(t[n],e[n]))return !1;return !0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return !1;for(r in t)if(!(r in e)||!Tr(t[r],e[r]))return !1;for(r in e)if(!(r in t)||!Tr(t[r],e[r]))return !1;return !0}return t===e}function Ar(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Br="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ur=function(){function t(){return !0}function e(){return !1}function r(){}function n(){var i=[{name:"number",test:function(t){return "number"==typeof t}},{name:"string",test:function(t){return "string"==typeof t}},{name:"boolean",test:function(t){return "boolean"==typeof t}},{name:"Function",test:function(t){return "function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return "object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],u={types:i,conversions:o,ignore:a};function h(t){var e=Y(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=Y(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=Y(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim();}else {if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e;}var i=r.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function f(t,e){var r=l(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(M);return (t.restParam?"...":"")+e.join("|")})).join(",")}function m(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(U).filter(F),i=A(e,n),s=n.map((function(t){var e=h(t);return {name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var r=h(t.from);return {name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return {types:s.concat(a),restParam:r}}function y(t,e,r){var n=[];return ""!==t.trim()&&(n=t.split(",").map(P).map((function(t,e,n){var i=m(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),n.some(q)?null:{params:n,fn:e}}function g(t){var e=V(t);return !!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function x(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){var r=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(t){return r(t)||n(t)}}var i=e.types.map((function(t){return h(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return !0;return !1}}return t}function w(t){var e,r,n;if(g(t)){var i=(e=H(t).map(x)).length,s=x(V(t)),a=function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return !1;return !0};return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=x(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=x(t[0]),n=x(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(x),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:g(t.params)?V(t.params):null}function _(t,e,r){var n=b(t,e);return (n?r?n.types.filter(N):n.types:[]).map(M)}function M(t){return t.name}function N(t){return null===t.conversion||void 0===t.conversion}function E(t,e){var r=Z(X(t,(function(t){return _(t,e,!1)})));return -1!==r.indexOf("any")?["any"]:r}function S(t,e,r){var n,i,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var u=o.filter((function(t){var r=x(b(t,s));return (s<t.params.length||g(t.params))&&r(e[s])}));if(0===u.length){if((i=E(o,s)).length>0){var h=l(e[s]);return (n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+h+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:h,expected:i},n}}else o=u;}var c=o.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=E(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},n)}function T(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function O(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function z(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=v(t)-v(e))||0!=(r=T(t)-T(e))?r:O(t)-O(e)}function C(t,e){var r,n,i=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(v)-e.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(t.params[r])-v(e.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=z(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function A(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t);})),Object.keys(r).map((function(t){return r[t]}))}function R(t,e){var r=e;if(t.some(v)){var n=g(t),i=t.map(D);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=i[s](arguments[s]);return n&&(t[r]=arguments[r].map(i[r])),e.apply(this,t)};}var s=r;if(g(t)){var a=t.length-1;s=function(){return r.apply(this,$(arguments,0,a).concat([$(arguments,a)]))};}return s}function D(t){var e,r,n,i,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(h(t.conversion.from).test),a.push(t.conversion.convert));})),a.length){case 0:return function(t){return t};case 1:return e=s[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=s[0],r=s[1],n=a[0],i=a[1],function(t){return e(t)?n(t):r(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(r){e[d(r)]=t.fn;}));})),e}function I(t,e){function r(t,n,i){if(n<t.length){var s,a=t[n],o=e?a.types.filter(N):a.types;if(a.restParam){var u=o.filter(N);s=u.length<o.length?[u,o]:[o];}else s=o.map((function(t){return [t]}));return X(s,(function(e){return r(t,n+1,i.concat([e]))}))}return [i.map((function(e,r){return {types:e,restParam:r===t.length-1&&g(t)}}))]}return r(t,0,[])}function L(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!W(_(t,n,!0),_(e,n,!0)))return !1;var i=t.params.length,s=e.params.length,a=g(t.params),o=g(e.params);return a?o?i===s:s>=i:o?i>=s:i===s}function B(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(t){return y(t,n[t],u.conversions)})).filter(j).forEach((function(t){var e=Y(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t);}));var s=X(i,(function(t){return (t?I(t.params,!1):[]).map((function(e){return {params:e,fn:t.fn}}))})).filter(j);s.sort(C);var a=s[0]&&s[0].params.length<=2&&!g(s[0].params),o=s[1]&&s[1].params.length<=2&&!g(s[1].params),h=s[2]&&s[2].params.length<=2&&!g(s[2].params),c=s[3]&&s[3].params.length<=2&&!g(s[3].params),l=s[4]&&s[4].params.length<=2&&!g(s[4].params),p=s[5]&&s[5].params.length<=2&&!g(s[5].params),f=a&&o&&h&&c&&l&&p,m=s.map((function(t){return w(t.params)})),v=a?x(s[0].params[0]):e,b=o?x(s[1].params[0]):e,_=h?x(s[2].params[0]):e,M=c?x(s[3].params[0]):e,N=l?x(s[4].params[0]):e,E=p?x(s[5].params[0]):e,T=a?x(s[0].params[1]):e,O=o?x(s[1].params[1]):e,z=h?x(s[2].params[1]):e,A=c?x(s[3].params[1]):e,D=l?x(s[4].params[1]):e,B=p?x(s[5].params[1]):e,F=s.map((function(t){return R(t.params,t.fn)})),P=a?F[0]:r,U=o?F[1]:r,q=h?F[2]:r,H=c?F[3]:r,V=l?F[4]:r,$=p?F[5]:r,G=a?s[0].params.length:-1,W=o?s[1].params.length:-1,Z=h?s[2].params.length:-1,Q=c?s[3].params.length:-1,J=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=f?6:0,et=s.length,rt=function(){for(var e=tt;e<et;e++)if(m[e](arguments))return F[e].apply(this,arguments);throw S(t,arguments,s)},nt=function t(e,r){return arguments.length===G&&v(e)&&T(r)?P.apply(t,arguments):arguments.length===W&&b(e)&&O(r)?U.apply(t,arguments):arguments.length===Z&&_(e)&&z(r)?q.apply(t,arguments):arguments.length===Q&&M(e)&&A(r)?H.apply(t,arguments):arguments.length===J&&N(e)&&D(r)?V.apply(t,arguments):arguments.length===K&&E(e)&&B(r)?$.apply(t,arguments):rt.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t});}catch(it){}return nt.signatures=k(s),nt}function F(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function U(t){return !!t}function j(t){return null!==t}function q(t){return 0===t.types.length}function H(t){return t.slice(0,t.length-1)}function V(t){return t[t.length-1]}function $(t,e,r){return Array.prototype.slice.call(t,e,r)}function G(t,e){return -1!==t.indexOf(e)}function W(t,e){for(var r=0;r<t.length;r++)if(G(e,t[r]))return !0;return !1}function Y(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function Z(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}function X(t,e){return Array.prototype.concat.apply([],t.map(e))}function Q(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function J(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw (e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else {if("string"!=typeof s.signature)throw (e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;n(s.signature,s),r[s.signature]=s;}}return r}return (u=B("typed",{"string, Object":B,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return B(Q(e),t)},"...Function":function(t){return B(Q(t),J(t))},"string, ...Function":function(t,e){return B(t,J(e))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=f,u.find=p,u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t);},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t);},u}return n()}();function jr(t){return "boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var qr=Math.sign||function(t){return t>0?1:t<0?-1:0};function Hr(t,e){if("function"==typeof e)return e(t);if(t===1/0)return "Infinity";if(t===-1/0)return "-Infinity";if(isNaN(t))return "NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),Fe(e)?r=e:Fe(e.precision)&&(r=e.precision)),n){case"fixed":return $r(t,r);case"exponential":return Gr(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Wr(Vr(t),e),n=r.exponent,i=r.coefficients,s=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Fe(e))for(;e>i.length||n-s+1>i.length;)i.push(0);else for(var a=Math.abs(n-s)-(i.length-1),o=0;o<a;o++)i.push(0);var u=Math.abs(n-s),h=1;for(;u>0;)h++,u--;var c=i.slice(h).join(""),l=Fe(e)&&c.length||c.match(/[1-9]/)?"."+c:"",p=i.slice(0,h).join("")+l+"e"+(n>=0?"+":"")+s.toString();return r.sign+p}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=Vr(t),a=e?Wr(s,e):s;if(a.exponent<n||a.exponent>=i)return Gr(t,e);var o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(Yr(e-o.length))),o=o.concat(Yr(u-o.length+1+(o.length<e?e-o.length:0)));var h=u>0?u:0;return h<(o=Yr(-u).concat(o)).length-1&&o.splice(h+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Vr(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function $r(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Vr(t),n="number"==typeof e?Wr(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(Yr(a-i.length))),s<0&&(i=Yr(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function Gr(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Vr(t),n=e?Wr(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(Yr(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function Wr(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}return r}function Yr(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var Zr=Number.EPSILON||2220446049250313e-31;function Xr(t,e,r){if(null==r)return t===e;if(t===e)return !0;if(isNaN(t)||isNaN(e))return !1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Zr||n<=Math.max(Math.abs(t),Math.abs(e))*r}return !1}function Qr(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return Jr(t,r);case"engineering":return function(t,e){var r=t.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);-1!==s.indexOf("e")&&(s=i.toString());return s+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return "0";var a=t.toSignificantDigits(r),o=a.e;return (o>=i&&o<s?a.toFixed():Jr(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Jr(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Kr(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function tn(t,e){return "number"==typeof t?Hr(t,e):Pe(t)?Qr(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?nn(t,e):He(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((r=>'"'+r+'": '+tn(t[r],e))).join(", ")+"}":String(t)}function en(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return '"'+r+'"'}function rn(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nn(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=nn(t[i],e);return r+="]"}return tn(t,e)}function sn(t,e,r){if(!(this instanceof sn))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack;}function an(t,e,r){if(!(this instanceof an))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack;}function on(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function un(t,e,r){var n,i=t.length;if(i!==e[r])throw new sn(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new sn(e.length-1,e.length,"<");un(t[n],e,s);}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new sn(e.length+1,e.length,">")}function hn(t,e){if(0===e.length){if(Array.isArray(t))throw new sn(t.length,0)}else un(t,e,0);}function cn(t,e){if(!Fe(t)||!jr(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new an(t,e)}function ln(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Fe(t)||!jr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+tn(e)+")")})),pn(t,e,0,void 0!==r?r:0),t}function pn(t,e,r,n){var i,s,a=t.length,o=e[r],u=Math.min(a,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),pn(s,e,h,n);for(i=u;i<o;i++)s=[],t[i]=s,pn(s,e,h,n);}else {for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n;}}function fn(t,e){var r,n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r);})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new sn(0,i(on(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(n.length!==s)throw new sn(i(e),i(on(t)),"!=");try{r=function(t,e){for(var r,n=t,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r;}return n}(n,e);}catch(o){if(o instanceof sn)throw new sn(i(e),i(on(t)),"!=");throw o}return r}function dn(t,e,r,n){var i=n||on(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=mn(t,e,0);i.length<e;)i.push(1);return t}function mn(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=mn(t[n],e,s);}else for(var a=r;a<e;a++)t=[t];return t}function yn(t,e){return Array.prototype.map.call(t,e)}function gn(t,e){Array.prototype.forEach.call(t,e);}function vn(t,e){return Array.prototype.join.call(t,e)}function xn(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?xn(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return "mixed"}return r}function bn(t,e,r,n){function i(n){var i=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];void 0!==s&&(r[i]=s);}return r}(n,e.map(Mn));return function(t,e,r){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==r[t]))){var n=e.filter((t=>void 0===r[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,n),r(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Mn(t){return t&&"?"===t[0]?t.slice(1):t}sn.prototype=new RangeError,sn.prototype.constructor=RangeError,sn.prototype.name="DimensionError",sn.prototype.isDimensionError=!0,an.prototype=new RangeError,an.prototype.constructor=RangeError,an.prototype.name="IndexError",an.prototype.isIndexError=!0;var Nn=function(){return Nn=Ur.create,Ur},En=bn("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,s=Nn();return s.types=[{name:"number",test:Fe},{name:"Complex",test:Ue},{name:"BigNumber",test:Pe},{name:"Fraction",test:je},{name:"Unit",test:qe},{name:"string",test:He},{name:"Chain",test:br},{name:"Array",test:Ve},{name:"Matrix",test:$e},{name:"DenseMatrix",test:We},{name:"SparseMatrix",test:Ye},{name:"Range",test:Ze},{name:"Index",test:Xe},{name:"boolean",test:Qe},{name:"ResultSet",test:Je},{name:"Help",test:Ke},{name:"function",test:tr},{name:"Date",test:er},{name:"RegExp",test:rr},{name:"null",test:ir},{name:"undefined",test:sr},{name:"AccessorNode",test:ar},{name:"ArrayNode",test:or},{name:"AssignmentNode",test:ur},{name:"BlockNode",test:hr},{name:"ConditionalNode",test:cr},{name:"ConstantNode",test:lr},{name:"FunctionNode",test:fr},{name:"FunctionAssignmentNode",test:pr},{name:"IndexNode",test:dr},{name:"Node",test:mr},{name:"ObjectNode",test:yr},{name:"OperatorNode",test:gr},{name:"ParenthesisNode",test:vr},{name:"RangeNode",test:xr},{name:"SymbolNode",test:wr},{name:"Object",test:nr}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||Sn(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||Tn(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||Tn(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||Tn(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||On(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||Sn(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||On(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||Tn(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return +t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||Sn(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||On(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function Sn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Tn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function On(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var zn,Cn,An=bn("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return "["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return {mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),Rn=9e15,Dn="0123456789abcdef",kn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",In="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ln={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Rn,maxE:Rn,crypto:!1},Bn=!0,Fn="[DecimalError] Invalid argument: ",Pn=Math.floor,Un=Math.pow,jn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Hn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n=1e7,Gn=kn.length-1,Wn=In.length-1,Yn={name:"[object Decimal]"};function Zn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)(r=7-(n=t[e]+"").length)&&(s+=ai(r)),s+=n;(r=7-(n=(a=t[e])+"").length)&&(s+=ai(r));}else if(0===a)return "0";for(;a%10==0;)a/=10;return s+a}function Xn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fn+t)}function Qn(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return --e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=Un(10,7-e),o=t[i]%s|0,null==n?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==Un(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==Un(10,e-3)-1,a}function Jn(t,e,r){for(var n,i,s=[0],a=0,o=t.length;a<o;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=Dn.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r);}return s.reverse()}Yn.absoluteValue=Yn.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),ti(t)},Yn.ceil=function(){return ti(new this.constructor(this),this.e+1,2)},Yn.comparedTo=Yn.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,u=s.s,h=t.s;if(!a||!o)return u&&h?u!==h?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-h:0;if(u!==h)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(i=o.length)?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},Yn.cosine=Yn.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n,i=e.d.length;i<32?n=(1/mi(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=di(t,1,e.times(n),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1);}return t.precision-=r,e}(n,yi(n,r)),n.precision=t,n.rounding=e,ti(2==Cn||3==Cn?r.neg():r,t,e,!0)):new n(1):new n(NaN)},Yn.cubeRoot=Yn.cbrt=function(){var t,e,r,n,i,s,a,o,u,h,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(Bn=!1,(s=c.s*Un(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new l(s.toString()):(r=Zn(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=Un(r,1/3),t=Pn((t+1)/3)-(t%3==(t<0?-1:2)),(n=new l(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(h=(u=(o=n).times(o).times(o)).plus(c),n=Kn(h.plus(c).times(o),h.plus(u),a+2,1),Zn(o.d).slice(0,a)===(r=Zn(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(ti(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!i&&(ti(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1;}return Bn=!0,ti(n,t,l.rounding,e)},Yn.decimalPlaces=Yn.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-Pn(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0);}return r},Yn.dividedBy=Yn.div=function(t){return Kn(this,new this.constructor(t))},Yn.dividedToIntegerBy=Yn.divToInt=function(t){var e=this.constructor;return ti(Kn(this,new e(t),0,1,1),e.precision,e.rounding)},Yn.equals=Yn.eq=function(t){return 0===this.cmp(t)},Yn.floor=function(){return ti(new this.constructor(this),this.e+1,3)},Yn.greaterThan=Yn.gt=function(t){return this.cmp(t)>0},Yn.greaterThanOrEqualTo=Yn.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Yn.hyperbolicCosine=Yn.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?e=(1/mi(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=di(a,1,s.times(e),new a(1),!0);for(var u,h=t,c=new a(8);h--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return ti(s,a.precision=r,a.rounding=n,!0)},Yn.hyperbolicSine=Yn.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=di(s,2,i,i,!0);else {t=(t=1.4*Math.sqrt(n))>16?16:0|t,i=di(s,2,i=i.times(1/mi(5,t)),i,!0);for(var a,o=new s(5),u=new s(16),h=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(h))));}return s.precision=e,s.rounding=r,ti(i,e,r,!0)},Yn.hyperbolicTangent=Yn.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Kn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},Yn.inverseCosine=Yn.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return -1!==n?0===n?e.isNeg()?ii(r,i,s):new r(0):new r(NaN):e.isZero()?ii(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=ii(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))},Yn.inverseHyperbolicCosine=Yn.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Bn=!1,r=r.times(r).minus(1).sqrt().plus(r),Bn=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},Yn.inverseHyperbolicSine=Yn.asinh=function(){var t,e,r=this,n=r.constructor;return !r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Bn=!1,r=r.times(r).plus(1).sqrt().plus(r),Bn=!0,n.precision=t,n.rounding=e,r.ln())},Yn.inverseHyperbolicTangent=Yn.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?ti(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Kn(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},Yn.inverseSine=Yn.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==e?0===e?((t=ii(s,r+4,n).times(.5)).s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},Yn.inverseTangent=Yn.atan=function(){var t,e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&l+4<=Wn)return (a=ii(c,l+4,p).times(.25)).s=h.s,a}else {if(!h.s)return new c(NaN);if(l+4<=Wn)return (a=ii(c,l+4,p).times(.5)).s=h.s,a}for(c.precision=o=l+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(Bn=!1,e=Math.ceil(o/7),n=1,u=h.times(h),a=new c(h),i=h;-1!==t;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),Bn=!0,ti(a,c.precision=l,c.rounding=p,!0)},Yn.isFinite=function(){return !!this.d},Yn.isInteger=Yn.isInt=function(){return !!this.d&&Pn(this.e/7)>this.d.length-2},Yn.isNaN=function(){return !this.s},Yn.isNegative=Yn.isNeg=function(){return this.s<0},Yn.isPositive=Yn.isPos=function(){return this.s>0},Yn.isZero=function(){return !!this.d&&0===this.d[0]},Yn.lessThan=Yn.lt=function(t){return this.cmp(t)<0},Yn.lessThanOrEqualTo=Yn.lte=function(t){return this.cmp(t)<1},Yn.logarithm=Yn.log=function(t){var e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(null==t)t=new c(10),e=!0;else {if(r=(t=new c(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10);}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new c(r&&!r[0]?-1/0:1!=h.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else {for(i=r[0];i%10==0;)i/=10;s=1!==i;}if(Bn=!1,a=li(h,o=l+5),n=e?ni(c,o+10):li(t,o),Qn((u=Kn(a,n,o,1)).d,i=l,p))do{if(a=li(h,o+=10),n=e?ni(c,o+10):li(t,o),u=Kn(a,n,o,1),!s){+Zn(u.d).slice(i+1,i+15)+1==1e14&&(u=ti(u,l+1,0));break}}while(Qn(u.d,i+=10,p));return Bn=!0,ti(u,l,p)},Yn.minus=Yn.sub=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new d(t.d||f.s!==t.s?f:NaN):t=new d(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(h=f.d,p=t.d,o=d.precision,u=d.rounding,!h[0]||!p[0]){if(p[0])t.s=-t.s;else {if(!h[0])return new d(3===u?-0:0);t=new d(f);}return Bn?ti(t,o,u):t}if(r=Pn(t.e/7),c=Pn(f.e/7),h=h.slice(),s=c-r){for((l=s<0)?(e=h,s=-s,a=p.length):(e=p,r=c,a=h.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse();}else {for((l=(n=h.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(h[n]!=p[n]){l=h[n]<p[n];break}s=0;}for(l&&(e=h,h=p,p=e,t.s=-t.s),a=h.length,n=p.length-a;n>0;--n)h[a++]=0;for(n=p.length;n>s;){if(h[--n]<p[n]){for(i=n;i&&0===h[--i];)h[i]=$n-1;--h[i],h[n]+=$n;}h[n]-=p[n];}for(;0===h[--a];)h.pop();for(;0===h[0];h.shift())--r;return h[0]?(t.d=h,t.e=ri(h,r),Bn?ti(t,o,u):t):new d(3===u?-0:0)},Yn.modulo=Yn.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?ti(new n(r),n.precision,n.rounding):(Bn=!1,9==n.modulo?(e=Kn(r,t.abs(),0,3,1)).s*=t.s:e=Kn(r,t,0,n.modulo,1),e=e.times(t),Bn=!0,r.minus(e))},Yn.naturalExponential=Yn.exp=function(){return ci(this)},Yn.naturalLogarithm=Yn.ln=function(){return li(this)},Yn.negated=Yn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,ti(t)},Yn.plus=Yn.add=function(t){var e,r,n,i,s,a,o,u,h,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,c=t.d,o=p.precision,u=p.rounding,!h[0]||!c[0])return c[0]||(t=new p(l)),Bn?ti(t,o,u):t;if(s=Pn(l.e/7),n=Pn(t.e/7),h=h.slice(),i=s-n){for(i<0?(r=h,i=-i,a=c.length):(r=c,n=s,a=h.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse();}for((a=h.length)-(i=c.length)<0&&(i=a,r=c,c=h,h=r),e=0;i;)e=(h[--i]=h[i]+c[i]+e)/$n|0,h[i]%=$n;for(e&&(h.unshift(e),++n),a=h.length;0==h[--a];)h.pop();return t.d=h,t.e=ri(h,n),Bn?ti(t,o,u):t},Yn.precision=Yn.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Fn+t);return r.d?(e=si(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},Yn.round=function(){var t=this,e=t.constructor;return ti(new e(t),t.e+1,e.rounding)},Yn.sine=Yn.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n=e.d.length;if(n<3)return di(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/mi(5,r)),e=di(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}(n,yi(n,r)),n.precision=t,n.rounding=e,ti(Cn>2?r.neg():r,t,e,!0)):new n(NaN)},Yn.squareRoot=Yn.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,u=a.e,h=a.s,c=a.constructor;if(1!==h||!o||!o[0])return new c(!h||h<0&&(!o||o[0])?NaN:o?a:1/0);for(Bn=!1,0==(h=Math.sqrt(+a))||h==1/0?(((e=Zn(o)).length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=Pn((u+1)/2)-(u<0||u%2),n=new c(e=h==1/0?"5e"+u:(e=h.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(h.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(Kn(a,s,r+2,1)).times(.5),Zn(s.d).slice(0,r)===(e=Zn(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(ti(n,u+1,1),t=!n.times(n).eq(a));break}if(!i&&(ti(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1;}return Bn=!0,ti(n,u,c.rounding,t)},Yn.tangent=Yn.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=Kn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,ti(2==Cn||4==Cn?r.neg():r,t,e,!0)):new n(NaN)},Yn.times=Yn.mul=function(t){var e,r,n,i,s,a,o,u,h,c=this,l=c.constructor,p=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&f&&f[0]))return new l(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*t.s:t.s/0);for(r=Pn(c.e/7)+Pn(t.e/7),(u=p.length)<(h=f.length)&&(s=p,p=f,f=s,a=u,u=h,h=a),s=[],n=a=u+h;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%$n|0,e=o/$n|0;s[i]=(s[i]+e)%$n|0;}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=ri(s,r),Bn?ti(t,l.precision,l.rounding):t},Yn.toBinary=function(t,e){return gi(this,2,t,e)},Yn.toDecimalPlaces=Yn.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(Xn(t,0,1e9),void 0===e?e=n.rounding:Xn(e,0,8),ti(r,t+r.e+1,e))},Yn.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=ei(n,!0):(Xn(t,0,1e9),void 0===e?e=i.rounding:Xn(e,0,8),r=ei(n=ti(new i(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Yn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return void 0===t?r=ei(i):(Xn(t,0,1e9),void 0===e?e=s.rounding:Xn(e,0,8),r=ei(n=ti(new s(i),t+i.e+1,e),!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},Yn.toFraction=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(h=r=new m(1),n=u=new m(0),a=(s=(e=new m(n)).e=si(d)-f.e-1)%7,e.d[0]=Un(10,a<0?7+a:a),null==t)t=s>0?e:h;else {if(!(o=new m(t)).isInt()||o.lt(h))throw Error(Fn+o);t=o.gt(e)?s>0?e:h:o;}for(Bn=!1,o=new m(Zn(d)),c=m.precision,m.precision=s=7*d.length*2;l=Kn(o,e,0,1,1),1!=(i=r.plus(l.times(n))).cmp(t);)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=Kn(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=f.s,p=Kn(h,n,s,1).minus(f).abs().cmp(Kn(u,r,s,1).minus(f).abs())<1?[h,n]:[u,r],m.precision=c,Bn=!0,p},Yn.toHexadecimal=Yn.toHex=function(t,e){return gi(this,16,t,e)},Yn.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding;}else {if(t=new n(t),void 0===e?e=n.rounding:Xn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Bn=!1,r=Kn(r,t,0,e,1).times(t),Bn=!0,ti(r)):(t.s=r.s,r=t),r},Yn.toNumber=function(){return +this},Yn.toOctal=function(t,e){return gi(this,8,t,e)},Yn.toPower=Yn.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,h=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(Un(+o,h));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,t.eq(1))return ti(o,n,s);if((e=Pn(t.e/7))>=t.d.length-1&&(r=h<0?-h:h)<=9007199254740991)return i=oi(u,o,r,n),t.s<0?new u(1).div(i):ti(i,n,s);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return (e=0!=(r=Un(+o,h))&&isFinite(r)?new u(r+"").e:Pn(h*(Math.log("0."+Zn(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(Bn=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(i=ci(t.times(li(o,n+r)),n)).d&&Qn((i=ti(i,n+5,1)).d,n,s)&&(e=n+10,+Zn((i=ti(ci(t.times(li(o,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=ti(i,n+1,0))),i.s=a,Bn=!0,u.rounding=s,ti(i,n,s))},Yn.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=ei(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Xn(t,1,1e9),void 0===e?e=i.rounding:Xn(e,0,8),r=ei(n=ti(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},Yn.toSignificantDigits=Yn.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Xn(t,1,1e9),void 0===e?e=r.rounding:Xn(e,0,8)),ti(new r(this),t,e)},Yn.toString=function(){var t=this,e=t.constructor,r=ei(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},Yn.truncated=Yn.trunc=function(){return ti(new this.constructor(this),this.e+1,1)},Yn.valueOf=Yn.toJSON=function(){var t=this,e=t.constructor,r=ei(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var Kn=function(){function t(t,e,r){var n,i=0,s=t.length;for(t=t.slice();s--;)n=t[s]*e+i,t[s]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift();}return function(n,i,s,a,o,u){var h,c,l,p,f,d,m,y,g,v,x,w,b,_,M,N,E,S,T,O,z=n.constructor,C=n.s==i.s?1:-1,A=n.d,R=i.d;if(!(A&&A[0]&&R&&R[0]))return new z(n.s&&i.s&&(A?!R||A[0]!=R[0]:R)?A&&0==A[0]||!R?0*C:C/0:NaN);for(u?(f=1,c=n.e-i.e):(u=$n,f=7,c=Pn(n.e/f)-Pn(i.e/f)),T=R.length,E=A.length,v=(g=new z(C)).d=[],l=0;R[l]==(A[l]||0);l++);if(R[l]>(A[l]||0)&&c--,null==s?(_=s=z.precision,a=z.rounding):_=o?s+(n.e-i.e)+1:s,_<0)v.push(1),d=!0;else {if(_=_/f+2|0,l=0,1==T){for(p=0,R=R[0],_++;(l<E||p)&&_--;l++)M=p*u+(A[l]||0),v[l]=M/R|0,p=M%R|0;d=p||l<E;}else {for((p=u/(R[0]+1)|0)>1&&(R=t(R,p,u),A=t(A,p,u),T=R.length,E=A.length),N=T,w=(x=A.slice(0,T)).length;w<T;)x[w++]=0;(O=R.slice()).unshift(0),S=R[0],R[1]>=u/2&&++S;do{p=0,(h=e(R,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(p=b/S|0)>1?(p>=u&&(p=u-1),1==(h=e(m=t(R,p,u),x,y=m.length,w=x.length))&&(p--,r(m,T<y?O:R,y,u))):(0==p&&(h=p=1),m=R.slice()),(y=m.length)<w&&m.unshift(0),r(x,m,w,u),-1==h&&(h=e(R,x,T,w=x.length))<1&&(p++,r(x,T<w?O:R,w,u)),w=x.length):0===h&&(p++,x=[0]),v[l++]=p,h&&x[0]?x[w++]=A[N]||0:(x=[A[N]],w=1);}while((N++<E||void 0!==x[0])&&_--);d=void 0!==x[0];}v[0]||v.shift();}if(1==f)g.e=c,zn=d;else {for(l=1,p=v[0];p>=10;p/=10)l++;g.e=l+c*f-1,ti(g,o?s+g.e+1:s,a,d);}return g}}();function ti(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((s=e-i)<0)s+=7,a=e,u=(c=l[p=0])/Un(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=l.length)){if(!n)break t;for(;o++<=p;)l.push(0);c=u=0,i=1,a=(s%=7)-7+1;}else {for(c=o=l[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/Un(10,i-a-1)%10|0;}if(n=n||e<0||void 0!==l[p+1]||(a<0?c:c%Un(10,i-a-1)),h=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/Un(10,i-a):0:l[p-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=Un(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=p,o=1,p--):(l.length=p+1,o=Un(10,7-s),l[p]=a>0?(c/Un(10,i-a)%Un(10,a)|0)*o:0),h)for(;;){if(0==p){for(s=1,a=l[0];a>=10;a/=10)s++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,l[0]==$n&&(l[0]=1));break}if(l[p]+=o,l[p]!=$n)break;l[p--]=0,o=1;}for(s=l.length;0===l[--s];)l.pop();}return Bn&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function ei(t,e,r){if(!t.isFinite())return pi(t);var n,i=t.e,s=Zn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ai(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+ai(-i-1)+s,r&&(n=r-a)>0&&(s+=ai(n))):i>=a?(s+=ai(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ai(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ai(n))),s}function ri(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function ni(t,e,r){if(e>Gn)throw Bn=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return ti(new t(kn),e,1,!0)}function ii(t,e,r){if(e>Wn)throw Error("[DecimalError] Precision limit exceeded");return ti(new t(In),e,r,!0)}function si(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++;}return r}function ai(t){for(var e="";t--;)e+="0";return e}function oi(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/7+4);for(Bn=!1;;){if(r%2&&vi((s=s.times(e)).d,a)&&(i=!0),0===(r=Pn(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}vi((e=e.times(e)).d,a);}return Bn=!0,s}function ui(t){return 1&t.d[t.d.length-1]}function hi(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;){if(!(n=new t(e[s])).s){i=n;break}i[r](n)&&(i=n);}return i}function ci(t,e){var r,n,i,s,a,o,u,h=0,c=0,l=0,p=t.constructor,f=p.rounding,d=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Bn=!1,u=d):u=e,o=new p(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=n=Math.log(Un(2,l))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=ti(s.times(t),u,1),r=r.times(++c),Zn((o=a.plus(Kn(s,r,u,1))).d).slice(0,u)===Zn(a.d).slice(0,u)){for(i=l;i--;)a=ti(a.times(a),u,1);if(null!=e)return p.precision=d,a;if(!(h<3&&Qn(a.d,u-n,f,h)))return ti(a,p.precision=d,f,Bn=!0);p.precision=u+=10,r=s=o=new p(1),c=0,h++;}a=o;}}function li(t,e){var r,n,i,s,a,o,u,h,c,l,p,f=1,d=t,m=d.d,y=d.constructor,g=y.rounding,v=y.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(Bn=!1,c=v):c=e,y.precision=c+=10,n=(r=Zn(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return h=ni(y,c+2,v).times(s+""),d=li(new y(n+"."+r.slice(1)),c-10).plus(h),y.precision=v,null==e?ti(d,v,g,Bn=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Zn((d=d.times(t)).d)).charAt(0),f++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),l=d,u=a=d=Kn(d.minus(1),d.plus(1),c,1),p=ti(d.times(d),c,1),i=3;;){if(a=ti(a.times(p),c,1),Zn((h=u.plus(Kn(a,new y(i),c,1))).d).slice(0,c)===Zn(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(ni(y,c+2,v).times(s+""))),u=Kn(u,new y(f),c,1),null!=e)return y.precision=v,u;if(!Qn(u.d,c-10,g,o))return ti(u,y.precision=v,g,Bn=!0);y.precision=c+=10,h=a=d=Kn(l.minus(1),l.plus(1),c,1),p=ti(d.times(d),c,1),i=o=1;}u=h,i+=2;}}function pi(t){return String(t.s*t.s/0)}function fi(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=7;n<i;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length;}else n-=i;for(;n--;)e+="0";t.d.push(+e),Bn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]));}else t.e=0,t.d=[0];return t}function di(t,e,r,n,i){var s,a,o,u,h=t.precision,c=Math.ceil(h/7);for(Bn=!1,u=r.times(r),o=new t(n);;){if(a=Kn(o.times(u),new t(e++*e++),h,1),o=i?n.plus(a):n.minus(a),n=Kn(a.times(u),new t(e++*e++),h,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s;}return Bn=!0,a.d.length=c+1,a}function mi(t,e){for(var r=t;--e;)r*=t;return r}function yi(t,e){var r,n=e.s<0,i=ii(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Cn=n?4:1,e;if((r=e.divToInt(i)).isZero())Cn=n?3:2;else {if((e=e.minus(r.times(i))).lte(s))return Cn=ui(r)?n?2:3:n?4:1,e;Cn=ui(r)?n?1:4:n?3:2;}return e.minus(i).abs()}function gi(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor,d=void 0!==r;if(d?(Xn(r,1,1e9),void 0===n?n=f.rounding:Xn(n,0,8)):(r=f.precision,n=f.rounding),t.isFinite()){for(d?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(a=(c=ei(t)).indexOf("."))>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=Jn(ei(p),10,i),p.e=p.d.length),s=u=(l=Jn(c,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?s--:((t=new f(t)).d=l,t.e=s,l=(t=Kn(t,p,r,n,0,i)).d,s=t.e,h=zn),a=l[r],o=i/2,h=h||void 0!==l[r+1],h=n<4?(void 0!==a||h)&&(0===n||n===(t.s<0?3:2)):a>o||a===o&&(4===n||h||6===n&&1&l[r-1]||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,c="";a<u;a++)c+=Dn.charAt(l[a]);if(d){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(l=Jn(c,i,e)).length;!l[u-1];--u);for(a=1,c="1.";a<u;a++)c+=Dn.charAt(l[a]);}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s;}else if(s<0){for(;++s;)c="0"+c;c="0."+c;}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));}else c=d?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c;}else c=pi(t);return t.s<0?"-"+c:c}function vi(t,e){if(t.length>e)return t.length=e,!0}function xi(t){return new this(t).abs()}function wi(t){return new this(t).acos()}function bi(t){return new this(t).acosh()}function _i(t,e){return new this(t).plus(e)}function Mi(t){return new this(t).asin()}function Ni(t){return new this(t).asinh()}function Ei(t){return new this(t).atan()}function Si(t){return new this(t).atanh()}function Ti(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?ii(this,n,i):new this(0)).s=t.s:!t.d||e.isZero()?(r=ii(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Kn(t,e,s,1)),e=ii(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Kn(t,e,s,1)):(r=ii(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function Oi(t){return new this(t).cbrt()}function zi(t){return ti(t=new this(t),t.e+1,2)}function Ci(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,n,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-Rn,0,"toExpPos",0,Rn,"maxE",0,Rn,"minE",-Rn,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=Ln[r]),void 0!==(n=t[r])){if(!(Pn(n)===n&&n>=s[e+1]&&n<=s[e+2]))throw Error(Fn+r+": "+n);this[r]=n;}if(r="crypto",i&&(this[r]=Ln[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Fn+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this}function Ai(t){return new this(t).cos()}function Ri(t){return new this(t).cosh()}function Di(t,e){return new this(t).div(e)}function ki(t){return new this(t).exp()}function Ii(t){return ti(t=new this(t),t.e+1,3)}function Li(){var t,e,r=new this(0);for(Bn=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else {if(e.s)return Bn=!0,new this(1/0);r=e;}return Bn=!0,r.sqrt()}function Bi(t){return t instanceof ns||t&&"[object Decimal]"===t.name||!1}function Fi(t){return new this(t).ln()}function Pi(t,e){return new this(t).log(e)}function Ui(t){return new this(t).log(2)}function ji(t){return new this(t).log(10)}function qi(){return hi(this,arguments,"lt")}function Hi(){return hi(this,arguments,"gt")}function Vi(t,e){return new this(t).mod(e)}function $i(t,e){return new this(t).mul(e)}function Gi(t,e){return new this(t).pow(e)}function Wi(t){var e,r,n,i,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:Xn(t,1,1e9),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else {if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(n*=4);s<n;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4;}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(t%=7,(n=o[--s])&&t&&(i=Un(10,7-t),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else {for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n);}return a.e=r,a.d=o,a}function Yi(t){return ti(t=new this(t),t.e+1,this.rounding)}function Zi(t){return (t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Xi(t){return new this(t).sin()}function Qi(t){return new this(t).sinh()}function Ji(t){return new this(t).sqrt()}function Ki(t,e){return new this(t).sub(e)}function ts(t){return new this(t).tan()}function es(t){return new this(t).tanh()}function rs(t){return ti(t=new this(t),t.e+1,1)}Yn[Symbol.for("nodejs.util.inspect.custom")]=Yn.toString,Yn[Symbol.toStringTag]="Decimal";var ns=function t(e){var r,n,i;function s(t){var e,r,n,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(Bn?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(Bn?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):fi(i,t.toString())}if("string"!==n)throw Error(Fn+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===r&&(t=t.slice(1)),i.s=1),Vn.test(t)?fi(i,t):function(t,e){var r,n,i,s,a,o,u,h,c;if("Infinity"===e||"NaN"===e)return +e||(t.s=NaN),t.e=NaN,t.d=null,t;if(qn.test(e))r=16,e=e.toLowerCase();else if(jn.test(e))r=2;else {if(!Hn.test(e))throw Error(Fn+e);r=8;}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),a=(s=e.indexOf("."))>=0,n=t.constructor,a&&(s=(o=(e=e.replace(".","")).length)-s,i=oi(n,new n(r),s,2*s)),s=c=(h=Jn(e,r,$n)).length-1;0===h[s];--s)h.pop();return s<0?new n(0*t.s):(t.e=ri(h,c),t.d=h,Bn=!1,a&&(t=Kn(t,i,4*o)),u&&(t=t.times(Math.abs(u)<54?Un(2,u):ns.pow(2,u))),Bn=!0,t)}(i,t)}if(s.prototype=Yn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Ci,s.clone=t,s.isDecimal=Bi,s.abs=xi,s.acos=wi,s.acosh=bi,s.add=_i,s.asin=Mi,s.asinh=Ni,s.atan=Ei,s.atanh=Si,s.atan2=Ti,s.cbrt=Oi,s.ceil=zi,s.cos=Ai,s.cosh=Ri,s.div=Di,s.exp=ki,s.floor=Ii,s.hypot=Li,s.ln=Fi,s.log=Pi,s.log10=ji,s.log2=Ui,s.max=qi,s.min=Hi,s.mod=Vi,s.mul=$i,s.pow=Gi,s.random=Wi,s.round=Yi,s.sign=Zi,s.sin=Xi,s.sinh=Qi,s.sqrt=Ji,s.sub=Ki,s.tan=ts,s.tanh=es,s.trunc=rs,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return s.config(e),s}(Ln);kn=new ns(kn),In=new ns(In);var is,ss=bn("BigNumber",["?on","config"],(t=>{var{on:e,config:r}=t,n=ns.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return {mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision});})),n}),{isClass:!0}),as={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
is=as,function(t){var e=function(t){return .5*(Math.exp(t)+Math.exp(-t))},r=function(t){return .5*(Math.exp(t)-Math.exp(-t))},n=function(){throw SyntaxError("Invalid Param")};function i(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg);}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi);}else 2===t.length?(r.re=t[0],r.im=t[1]):n();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&n();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?a++:"-"===h?o++:"i"===h||"I"===h?(a+o===0&&n()," "===i[u+1]||isNaN(i[u+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(h))&&n(),"i"===i[u+1]||"I"===i[u+1]?(r.im+=parseFloat((o%2?"-":"")+h),u++):r.re+=parseFloat((o%2?"-":"")+h),a=o=0));}a+o>0&&n();break;case"number":r.im=0,r.re=t;break;default:n();}return isNaN(r.re)||isNaN(r.im),r}(t,e);this.re=r.re,this.im=r.im;}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:0===r.im&&0===this.im?new s(this.re*r.re,0):new s(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new s(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return s.NAN;if(this.isInfinite()||r.isZero())return s.INFINITY;if(this.isZero()||r.isInfinite())return s.ZERO;t=this.re,e=this.im;var n,i,a=r.re,o=r.im;return 0===o?new s(t/a,e/a):Math.abs(a)<Math.abs(o)?new s((t*(i=a/o)+e)/(n=a*i+o),(e*i-t)/n):new s((t+e*(i=o/a))/(n=o*i+a),(e-t*i)/n)},pow:function(t,e){var r=new s(t,e);if(t=this.re,e=this.im,r.isZero())return s.ONE;if(0===r.im){if(0===e&&t>0)return new s(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new s(Math.pow(e,r.re),0);case 1:return new s(0,Math.pow(e,r.re));case 2:return new s(-Math.pow(e,r.re),0);case 3:return new s(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return s.ZERO;var n=Math.atan2(e,t),a=i(t,e);return t=Math.exp(r.re*a-r.im*n),e=r.im*a+r.re*n,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new s(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r));}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new s(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),n=Math.abs(e),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n));var t,e,r,n;},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new s(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new s(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new s(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new s(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new s((1-e*e-t*t)/r,-2*t/r).log();return new s(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new s(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new s(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new s(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new s(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new s(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new s(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e;}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,a=1+t,o=n*n+e*e,u=0!==o?new s((a*n-e*e)/o,(e*n+a*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),h=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,h)/2,r&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new s(t/r,-e/r)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new s(t,e);return Math.abs(r.re-this.re)<=s.EPSILON&&Math.abs(r.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?r+t:(0!==t?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),1!==e&&(r+=e),r+"i"))},toVector:function(){return [this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return !(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,is.exports=s;}();var os=Fr(as.exports),us=bn("Complex",[],(()=>(os.prototype.type="Complex",os.prototype.isComplex=!0,os.prototype.toJSON=function(){return {mathjs:"Complex",re:this.re,im:this.im}},os.prototype.toPolar=function(){return {r:this.abs(),phi:this.arg()}},os.prototype.format=function(t){var e=this.im,r=this.re,n=Hr(this.re,t),i=Hr(this.im,t),s=Fe(t)?t:t?t.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0);}return 0===e?n:0===r?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?n+" - i":n+" - "+i.substring(1)+"i":1===e?n+" + i":n+" + "+i+"i"},os.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return os(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Fe(r)){if(qe(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Fe(n))return new os({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},os.prototype.valueOf=os.prototype.toString,os.fromJSON=function(t){return new os(t)},os.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},os)),{isClass:!0}),hs={exports:{}};
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(t,e){!function(e){var r={s:1,n:0,d:1};function n(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message;}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var i=l.DivisionByZero=n("DivisionByZero"),s=l.InvalidParameter=n("InvalidParameter");function a(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw new s}function u(t){for(var e={},r=t,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,e[n]=(e[n]||0)+1;i+=1+2*n++;}return r!==t?r>1&&(e[r]=(e[r]||0)+1):e[t]=(e[t]||0)+1,e}var h=function(t,e){var n,s=0,u=1,h=1,c=0,l=0,p=0,f=1,d=1,m=0,y=1,g=1,v=1,x=1e7;if(null==t);else if(void 0!==e)h=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):o(),h=s*u;break;case"number":if(t<0&&(h=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=x&&v<=x;){if(t===(n=(m+g)/(y+v))){y+v<=x?(s=m+g,u=y+v):v>y?(s=g,u=v):(s=m,u=y);break}t>n?(m+=g,y+=v):(g+=m,v+=y),y>x?(s=g,u=v):(s=m,u=y);}s*=d;}else (isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(y=t.match(/\d+|./g))&&o(),"-"===y[m]?(h=-1,m++):"+"===y[m]&&m++,y.length===m+1?l=a(y[m++],h):"."===y[m+1]||"."===y[m]?("."!==y[m]&&(c=a(y[m++],h)),(++m+1===y.length||"("===y[m+1]&&")"===y[m+3]||"'"===y[m+1]&&"'"===y[m+3])&&(l=a(y[m],h),f=Math.pow(10,y[m].length),m++),("("===y[m]&&")"===y[m+2]||"'"===y[m]&&"'"===y[m+2])&&(p=a(y[m+1],h),d=Math.pow(10,y[m+1].length)-1,m+=3)):"/"===y[m+1]||":"===y[m+1]?(l=a(y[m],h),f=a(y[m+2],1),m+=3):"/"===y[m+3]&&" "===y[m+1]&&(c=a(y[m],h),l=a(y[m+2],h),f=a(y[m+4],1),m+=5),y.length<=m){h=s=p+(u=f*d)*c+d*l;break}default:o();}if(0===u)throw new i;r.s=h<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(u);};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);h(t,e),t=l.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t;}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===r.n&&0===this.d&&l(0,0),new l(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return h(t,e),new l(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return h(t,e),0===r.n&&0===this.n?new l:new l(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(h(t,e),1===r.d)return r.s<0?new l(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new l(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var n=u(this.n),i=u(this.d),s=1,a=1;for(var o in n)if("1"!==o){if("0"===o){s=0;break}if(n[o]*=r.n,n[o]%r.d!=0)return null;n[o]/=r.d,s*=Math.pow(o,n[o]);}for(var o in i)if("1"!==o){if(i[o]*=r.n,i[o]%r.d!=0)return null;i[o]/=r.d,a*=Math.pow(o,i[o]);}return r.s<0?new l(a,s):new l(s,a)},equals:function(t,e){return h(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return (0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new l(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var i=r(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];if(isNaN(e)||isNaN(r))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t;}while(1!==e);return n},toString:function(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return "NaN";l.REDUCE||(r/=e=c(r,n),n/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>2e3)return 0;return n}(0,n),s=function(t,e,r){for(var n=1,i=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),s=0;s<300;s++){if(n===i)return s;n=10*n%e,i=10*i%e;}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;a+="(";for(o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")";}else for(o=t;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l;}();}(hs);var cs=Fr(hs.exports),ls=bn("Fraction",[],(()=>(cs.prototype.type="Fraction",cs.prototype.isFraction=!0,cs.prototype.toJSON=function(){return {mathjs:"Fraction",n:this.s*this.n,d:this.d}},cs.fromJSON=function(t){return new cs(t)},cs)),{isClass:!0}),ps=bn("Range",[],(()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=r,a=null!=n;if(i)if(Pe(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Pe(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(a)if(Pe(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1;}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map((function(t){return parseFloat(t)}));if(r.some((function(t){return isNaN(t)})))return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end-e;return qr(r)===qr(n)?t=Math.ceil(n/r):0===n&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++;},t.prototype.map=function(t){var e=[];return this.forEach((function(r,n,i){e[n[0]]=t(r,n,i);})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e;})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Hr(this.start,t);return 1!==this.step&&(e+=":"+Hr(this.step,t)),e+=":"+Hr(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return {mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),fs=bn("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),ds=bn("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!He(e))throw new Error("Invalid datatype: "+e);if($e(t))"DenseMatrix"===t.type?(this._data=Mr(t._data),this._size=Mr(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Ve(t.data)&&Ve(t.size))this._data=t.data,this._size=t.size,hn(this._data,this._size),this._datatype=e||t.datatype;else if(Ve(t))this._data=h(t),this._size=on(this._data),hn(this._data,this._size),this._datatype=e;else {if(t)throw new TypeError("Unsupported type of data ("+_r(t)+")");this._data=[],this._size=[0],this._datatype=e;}}function n(t,e){if(!Xe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new sn(n.length,t._size.length);for(var s=e.min(),a=e.max(),o=0,u=t._size.length;o<u;o++)cn(s[o],t._size[o]),cn(a[o],t._size[o]);return new r(i(t._data,e,n.length,0),t._datatype)}function i(t,e,r,n){var s=n===r-1,a=e.dimension(n);return s?a.map((function(e){return cn(e,t.length),t[e]})).valueOf():a.map((function(s){return cn(s,t.length),i(t[s],e,r,n+1)})).valueOf()}function s(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if($e(r)?(i=r.size(),r=r.valueOf()):i=on(r),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(s.length<t._size.length)throw new sn(s.length,t._size.length,"<");if(i.length<s.length){for(var h=0,c=0;1===s[h]&&1===i[h];)h++;for(;1===s[h];)c++,h++;r=dn(r,s.length,c,i);}if(!Tr(s,i))throw new sn(s,i,">");u(t,e.max().map((function(t){return t+1})),n);var l=s.length;a(t._data,e,r,l,0);}return t}function a(t,e,r,n,i){var s=i===n-1,o=e.dimension(i);s?o.forEach((function(e,n){cn(e),t[e]=r[n[0]];})):o.forEach((function(s,o){cn(s),a(t[s],e,r[o[0]],n,i+1);}));}function o(t,e,r){if(0===e.length){for(var n=t._data;Ve(n);)n=n[0];return n}return t._size=e.slice(0),t._data=ln(t._data,t._size,r),t}function u(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var s=0,a=e.length;s<a;s++)e[s]>n[s]&&(n[s]=e[s],i=!0);i&&o(t,n,r);}function h(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];Ve(n)?t[e]=h(n):n&&!0===n.isMatrix&&(t[e]=h(n.valueOf()));}return t}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return xn(this._data,_r)},r.prototype.storage=function(){return "dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!Ve(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new sn(t.length,this._size.length);for(var e=0;e<t.length;e++)cn(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var s=t[n];cn(s,r.length),r=r[s];}return r},r.prototype.set=function(t,e,r){if(!Ve(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new sn(t.length,this._size.length,"<");var n,i,s;u(this,t.map((function(t){return t+1})),r);var a=this._data;for(n=0,i=t.length-1;n<i;n++)cn(s=t[n],a.length),a=a[s];return cn(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!Ge(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(r?this.clone():this,n,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=fn(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:Mr(this._data),size:Mr(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,n=function r(n,i){return Ve(n)?n.map((function(t,e){return r(t,i.concat(e))})):t(n,i,e)}(this._data,[]);return new r(n,void 0!==this._datatype?xn(n,_r):void 0)},r.prototype.forEach=function(t){var e=this;!function r(n,i){Ve(n)?n.forEach((function(t,e){r(t,i.concat(e));})):t(n,i,e);}(this._data,[]);},r.prototype.toArray=function(){return Mr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return tn(this._data,t)},r.prototype.toString=function(){return tn(this._data)},r.prototype.toJSON=function(){return {mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],s=this._size[1],a=Math.min(i-n,s-e),o=[],u=0;u<a;u++)o[u]=this._data[u+n][u+e];return new r({data:o,size:[a],datatype:this._datatype})},r.diagonal=function(t,e,n,i){if(!Ve(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(Pe(n)&&(n=n.toNumber()),!Fe(n)||!jr(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,a=n>0?n:0,o=n<0?-n:0,u=t[0],h=t[1],c=Math.min(u-o,h-a);if(Ve(e)){if(e.length!==c)throw new Error("Invalid value array length");s=function(t){return e[t]};}else if($e(e)){var l=e.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");s=function(t){return e.get([t])};}else s=function(){return e};i||(i=Pe(s(0))?s(0).mul(0):0);var p=[];if(t.length>0){p=ln(p,t,i);for(var f=0;f<c;f++)p[f+o][f+a]=s(f);}return new r({data:p,size:[u,h]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(Fe(t)&&jr(t)&&Fe(e)&&jr(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return cn(t,this._size[0]),cn(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n;},r}),{isClass:!0});function ms(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return ms(t,e)})):e(t)}var ys="number",gs="number, number";function vs(t){return Math.abs(t)}function xs(t,e){return t+e}function ws(t,e){return t*e}function bs(t){return -t}function _s(t){return Math.ceil(t)}function Ms(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function Ns(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Es(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat($r(t,e))}vs.signature=ys,xs.signature=gs,ws.signature=gs,bs.signature=ys,_s.signature=ys,Ms.signature=gs,Ns.signature=gs,Es.signature=gs;var Ss=bn("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return !0},"Complex | Unit | string | null | undefined | Node":function(){return !1},"Array | Matrix":function(t){return ms(t,this)}})}));function Ts(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return !0;if(t.isNaN()||e.isNaN())return !1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return !0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return !1}var Os="equalScalar",zs=bn(Os,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(Os,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Xr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||Ts(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return Xr(t.re,e.re,r)&&Xr(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));bn(Os,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(Os,{"number, number":function(t,e){return Xr(t,e,r.epsilon)}})}));var Cs=bn("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!He(e))throw new Error("Invalid datatype: "+e);if($e(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?Mr(e._values):void 0,t._index=Mr(e._index),t._ptr=Mr(e._ptr),t._size=Mr(e._size),t._datatype=r||e._datatype):s(t,e.valueOf(),r||e._datatype);}(this,t,e);else if(t&&Ve(t.index)&&Ve(t.ptr)&&Ve(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(Ve(t))s(this,t,e);else {if(t)throw new TypeError("Unsupported type of data ("+_r(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e;}}function s(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=n.length,a=0,o=r,u=0;if(He(i)&&(o=e.find(r,[i,i])||r,u=e.convert(0,i)),s>0){var h=0;do{t._ptr.push(t._index.length);for(var c=0;c<s;c++){var l=n[c];if(Ve(l)){if(0===h&&a<l.length&&(a=l.length),h<l.length){var p=l[h];o(p,u)||(t._values.push(p),t._index.push(c));}}else 0===h&&a<1&&(a=1),o(l,u)||(t._values.push(l),t._index.push(c));}h++;}while(h<a)}t._ptr.push(t._index.length),t._size=[s,a];}function a(t,e){if(!Xe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,s,a,o=e.size();if(o.length!==t._size.length)throw new sn(o.length,t._size.length);var u=e.min(),h=e.max();for(r=0,n=t._size.length;r<n;r++)cn(u[r],t._size[r]),cn(h[r],t._size[r]);var c=t._values,l=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),m=[],y=[];f.forEach((function(t,e){y[t]=e[0],m[t]=!0;}));var g=c?[]:void 0,v=[],x=[];return d.forEach((function(t){for(x.push(v.length),s=p[t],a=p[t+1];s<a;s++)r=l[s],!0===m[r]&&(v.push(y[r]),g&&g.push(c[s]));})),x.push(v.length),new i({values:g,index:v,ptr:x,size:o,datatype:t._datatype})}function o(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if($e(r)?(i=r.size(),r=r.toArray()):i=on(r),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(1!==s.length&&2!==s.length)throw new sn(s.length,t._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;r=dn(r,s.length,u,i);}if(!Tr(s,i))throw new sn(s,i,">");for(var h=e.min()[0],c=e.min()[1],l=i[0],p=i[1],f=0;f<l;f++)for(var d=0;d<p;d++){var m=r[f][d];t.set([f+h,d+c],m,n);}}return t}function u(t,e,r,n){if(r-e==0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e}function h(t,e,r,n,i,s,a){i.splice(t,0,n),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++;}function c(t,n,i,s){var a=s||0,o=r,u=0;He(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,c,l,p=!o(a,u),f=t._size[0],d=t._size[1];if(i>d){for(c=d;c<i;c++)if(t._ptr[c]=t._values.length,p)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[i]=t._values.length;}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,n>f){if(p){var m=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]+m,l=t._ptr[c+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(l+y,0,a),t._index.splice(l+y,0,h),m++;}t._ptr[d]=t._values.length;}}else if(n<f){var g=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],x=t._ptr[c+1]-g;for(l=v;l<x;l++)(h=t._index[l])>n-1&&(t._values.splice(l,1),t._index.splice(l,1),g++);}t._ptr[c]=t._values.length;}return t._size[0]=n,t._size[1]=i,t}function l(t,e,r,n,i){var s,a,o=n[0],u=n[1],h=[];for(s=0;s<o;s++)for(h[s]=[],a=0;a<u;a++)h[s][a]=0;for(a=0;a<u;a++)for(var c=r[a],l=r[a+1],p=c;p<l;p++)h[s=e[p]][a]=t?i?Mr(t[p]):t[p]:1;return h}return i.prototype=new n,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return xn(this._values,_r)},i.prototype.storage=function(){return "sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return o(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!Ve(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new sn(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];cn(e,this._size[0]),cn(r,this._size[1]);var n=u(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},i.prototype.set=function(t,n,i){if(!Ve(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new sn(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],l=this._size[1],p=r,f=0;He(this._datatype)&&(p=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>l-1)&&(c(this,Math.max(s+1,o),Math.max(a+1,l),i),o=this._size[0],l=this._size[1]),cn(s,o),cn(a,l);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(n,f)?function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--;}(d,a,this._values,this._index,this._ptr):this._values[d]=n:h(d,s,a,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,r){if(!Ge(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!Fe(t)||!jr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+tn(n)+")")})),c(r?this.clone():this,n[0],n[1],e)},i.prototype.reshape=function(t,e){if(!Ve(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Fe(e)||!jr(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+tn(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var s=0;s<r._ptr[i+1]-r._ptr[i];s++)n.push(i);for(var a=r._values.slice(),o=r._index.slice(),c=0;c<r._index.length;c++){var l=o[c],p=n[c],f=l*r._size[1]+p;n[c]=f%t[1],o[c]=Math.floor(f/t[1]);}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var m=0;m<a.length;m++){var y=o[m],g=n[m],v=a[m];h(u(y,r._ptr[g],r._ptr[g+1],r._index),y,g,v,r._values,r._index,r._ptr);}return r},i.prototype.clone=function(){return new i({values:this._values?Mr(this._values):void 0,index:Mr(this._index),ptr:Mr(this._ptr),size:Mr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,n,s,a,o,u,h){var c=[],l=[],p=[],f=r,d=0;He(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var m=function(t,e,r){t=u(t,e,r),f(t,d)||(c.push(t),l.push(e));},y=a;y<=o;y++){p.push(c.length);var g=t._ptr[y],v=t._ptr[y+1];if(h)for(var x=g;x<v;x++){var w=t._index[x];w>=n&&w<=s&&m(t._values[x],w-n,y-a);}else {for(var b={},_=g;_<v;_++){b[t._index[_]]=t._values[_];}for(var M=n;M<=s;M++){m(M in b?b[M]:0,M-n,y-a);}}}return p.push(c.length),new i({values:c,index:l,ptr:p,size:[s-n+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,n){return t(e,[r,n],s)}),n)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(e)for(var o=s;o<a;o++){var u=this._index[o];t(this._values[o],[u,i],this);}else {for(var h={},c=s;c<a;c++){h[this._index[c]]=this._values[c];}for(var l=0;l<r;l++){t(l in h?h[l]:0,[l,i],this);}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+tn(e,t)+" x "+tn(r,t)+"] density: "+tn(n,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++){i+="\n    ("+tn(this._index[u],t)+", "+tn(s,t)+") ==> "+(this._values?tn(this._values[u],t):"X");}return i},i.prototype.toString=function(){return tn(this.toArray())},i.prototype.toJSON=function(){return {mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],s=this._size[1],a=Math.min(n-r,s-e),o=[],u=[],h=[];h[0]=0;for(var c=e;c<s&&o.length<a;c++)for(var l=this._ptr[c],p=this._ptr[c+1],f=l;f<p;f++){var d=this._index[f];if(d===c-e+r){o.push(this._values[f]),u[o.length-1]=d-r;break}}return h.push(o.length),new i({values:o,index:u,ptr:h,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,n,s,a,o){if(!Ve(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(Pe(s)&&(s=s.toNumber()),!Fe(s)||!jr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=r,h=0;He(o)&&(u=e.find(r,[o,o])||r,h=e.convert(0,o));var c,l=s>0?s:0,p=s<0?-s:0,f=t[0],d=t[1],m=Math.min(f-p,d-l);if(Ve(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function(t){return n[t]};}else if($e(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function(t){return n.get([t])};}else c=function(){return n};for(var g=[],v=[],x=[],w=0;w<d;w++){x.push(g.length);var b=w-l;if(b>=0&&b<m){var _=c(b);u(_,h)||(v.push(b+p),g.push(_));}}return x.push(g.length),new i({values:g,index:v,ptr:x,size:[f,d]})},i.prototype.swapRows=function(t,e){if(!(Fe(t)&&jr(t)&&Fe(e)&&jr(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return cn(t,this._size[0]),cn(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,r,n,i){for(var s=n[t],a=n[t+1],o=s;o<a;o++)i(r[o],e[o]);},i._swapRows=function(t,e,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],c=u(t,o,h,i),l=u(e,o,h,i);if(c<h&&l<h&&i[c]===t&&i[l]===e){if(n){var p=n[c];n[c]=n[l],n[l]=p;}}else if(c<h&&i[c]===t&&(l>=h||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<h&&i[l]===e&&(c>=h||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i}),{isClass:!0}),As=bn("number",["typed"],(t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1));}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return ms(t,this)}});return r.fromJSON=function(t){return parseFloat(t.value)},r})),Rs=bn("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(t){return new r(t+"")},string:function(t){return new r(t)},BigNumber:function(t){return t},Fraction:function(t){return new r(t.n).div(t.d).times(t.s)},null:function(t){return new r(0)},"Array | Matrix":function(t){return ms(t,this)}})})),Ds=bn("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r(t)},string:function(t){return new r(t)},"number, number":function(t,e){return new r(t,e)},null:function(t){return new r(0)},BigNumber:function(t){return new r(t.toString())},Fraction:function(t){return t},Object:function(t){return new r(t)},"Array | Matrix":function(t){return ms(t,this)}})})),ks=bn("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Is=bn("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:bs,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return ms(t,this)}})})),Ls=bn("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:vs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return ms(t,this)},Unit:function(t){return t.abs()}})})),Bs=bn("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":xs,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r}})})),Fs=bn("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=r,m=0,y=i;"string"==typeof c&&(l=c,d=e.find(r,[l,l]),m=e.convert(0,l),n=e.convert(n,l),y=e.find(i,[l,l]));for(var g=[],v=[],x=[],w=0;w<f;w++){x[w]=v.length;for(var b=u[w],_=u[w+1],M=b;M<_;M++){var N=o[M],E=s?y(n,a[M]):y(a[M],n);d(E,m)||(v.push(N),g.push(E));}}return x[f]=v.length,t.createSparseMatrix({values:g,index:v,ptr:x,size:[p,f],datatype:l})}})),Ps=bn("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,n,i,s){var a,o=t._data,u=t._size,h=t._datatype,c=i;"string"==typeof h&&(a=h,n=e.convert(n,a),c=e.find(i,[a,a]));var l=u.length>0?r(c,0,u,u[0],o,n,s):[];return t.createDenseMatrix({data:l,size:Mr(u),datatype:a})};function r(t,e,n,i,s,a,o){var u=[];if(e===n.length-1)for(var h=0;h<i;h++)u[h]=o?t(a,s[h]):t(s[h],a);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],s[c],a,o);return u}})),Us=bn("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Fs({typed:e,equalScalar:s}),o=Ps({typed:e});return e("ceil",{number:function(t){return Xr(t,n(t),r.epsilon)?n(t):_s(t)},"number, number":function(t,e){if(Xr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return Ts(t,n(t),r.epsilon)?n(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return Ts(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),ns.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return ms(t,this)},"Array | Matrix, number":function(t,e){return ms(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),js=bn("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s}=t,a=Ps({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new r(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new r(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return ms(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return ms(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return a(n(e),t,this,!0).valueOf()}})})),qs=bn("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Fs({typed:e,equalScalar:s}),o=Ps({typed:e});return e("floor",{number:function(t){return Xr(t,n(t),r.epsilon)?n(t):Math.floor(t)},"number, number":function(t,e){if(Xr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return Ts(t,n(t),r.epsilon)?n(t):t.floor()},"BigNumber, BigNumber":function(t,e){return Ts(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),ns.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return ms(t,this)},"Array | Matrix, number":function(t,e){return ms(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Hs=bn("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new sn(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],y=a[1],g="string"==typeof o&&o===p?o:void 0,v=g?e.find(n,[g,g]):n,x=[];for(f=0;f<m;f++)x[f]=[];var w=[],b=[];for(d=0;d<y;d++){for(var _=d+1,M=c[d],N=c[d+1],E=M;E<N;E++)w[f=h[E]]=i?v(u[E],s[f][d]):v(s[f][d],u[E]),b[f]=_;for(f=0;f<m;f++)b[f]===_?x[f][d]=w[f]:x[f][d]=s[f][d];}return t.createDenseMatrix({data:x,size:[m,y],datatype:g})}})),Vs=bn("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new sn(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E,S=s&&c?[]:void 0,T=[],O=[],z=s&&c?[]:void 0,C=s&&c?[]:void 0,A=[],R=[];for(_=0;_<g;_++){O[_]=T.length;var D=_+1;for(N=o[_],E=o[_+1],M=N;M<E;M++)b=a[M],T.push(b),A[b]=D,z&&(z[b]=s[M]);for(N=p[_],E=p[_+1],M=N;M<E;M++)if(A[b=l[M]]===D){if(z){var k=w(z[b],c[M]);v(k,x)?A[b]=null:z[b]=k;}}else T.push(b),R[b]=D,C&&(C[b]=c[M]);if(z&&C)for(M=O[_];M<T.length;)A[b=T[M]]===D?(S[M]=z[b],M++):R[b]===D?(S[M]=C[b],M++):T.splice(M,1);}return O[g]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[y,g],datatype:m})}})),$s=bn("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=n;}return new r({data:m,size:[p,f],datatype:l})}})),Gs=bn("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,n,i){var s,a=t._data,o=t._size,u=t._datatype,h=n._data,c=n._size,l=n._datatype,p=[];if(o.length!==c.length)throw new sn(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f];}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=p.length>0?r(d,0,p,p[0],a,h):[];return t.createDenseMatrix({data:m,size:p,datatype:s})};function r(t,e,n,i,s,a){var o=[];if(e===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var h=0;h<i;h++)o[h]=r(t,e+1,n,n[e+1],s[h],a[h]);return o}})),Ws=bn("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._data,o=t._size,u=t._datatype,h=n._values,c=n._index,l=n._ptr,p=n._size,f=n._datatype;if(o.length!==p.length)throw new sn(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],y=o[1],g=r,v=0,x=i;"string"==typeof u&&u===f&&(d=u,g=e.find(r,[d,d]),v=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],M=0;M<y;M++){_[M]=b.length;for(var N=l[M],E=l[M+1],S=N;S<E;S++){var T=c[S],O=s?x(h[S],a[T][M]):x(a[T][M],h[S]);g(O,v)||(b.push(T),w.push(O));}}return _[y]=b.length,n.createSparseMatrix({values:w,index:b,ptr:_,size:[m,y],datatype:d})}})),Ys=bn("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new sn(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],y=0,g=n;"string"==typeof o&&o===p&&(f=o,y=e.convert(0,f),g=e.find(n,[f,f]));for(var v=[],x=0;x<d;x++)v[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var M=_+1,N=c[_],E=c[_+1],S=N;S<E;S++){var T=h[S];w[T]=i?g(u[S],s[T][_]):g(s[T][_],u[S]),b[T]=M;}for(var O=0;O<d;O++)b[O]===M?v[O][_]=w[O]:v[O][_]=i?g(y,s[O][_]):g(s[O][_],y);}return t.createDenseMatrix({data:v,size:[d,m],datatype:f})}})),Zs=bn("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new sn(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E=s&&c?[]:void 0,S=[],T=[],O=E?[]:void 0,z=E?[]:void 0,C=[],A=[];for(_=0;_<g;_++){T[_]=S.length;var R=_+1;for(M=o[_],N=o[_+1];M<N;M++)b=a[M],S.push(b),C[b]=R,O&&(O[b]=s[M]);for(M=p[_],N=p[_+1];M<N;M++)C[b=l[M]]!==R&&S.push(b),A[b]=R,z&&(z[b]=c[M]);if(E)for(M=T[_];M<S.length;){var D=C[b=S[M]],k=A[b];if(D===R||k===R){var I=w(D===R?O[b]:x,k===R?z[b]:x);v(I,x)?S.splice(M,1):(E.push(I),M++);}}}return T[g]=S.length,t.createSparseMatrix({values:E,index:S,ptr:T,size:[y,g],datatype:m})}})),Xs=bn("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=s?d(n,0):d(0,n);}return new r({data:m,size:[p,f],datatype:l})}}));bn("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Ws({typed:e,equalScalar:n}),a=Ys({typed:e}),o=Zs({typed:e,equalScalar:n}),u=Fs({typed:e,equalScalar:n}),h=Xs({typed:e,DenseMatrix:i}),c=Gs({typed:e}),l=Ps({typed:e});return e("mod",{"number, number":Ms,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var Js=bn("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":ws,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Ks=bn("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=Fs({typed:e,equalScalar:s}),u=Ps({typed:e});function h(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=c[1],d=n,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(n,[s,s]),m=e.find(i,[s,s]));for(var y=[],g=0;g<f;g++){for(var v=m(a[0],h[0][g]),x=1;x<p;x++)v=d(v,m(a[x],h[x][g]));y[g]=v;}return t.createDenseMatrix({data:y,size:[f],datatype:s})}(t,r)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._datatype,l=o[0],p=o[1],f=n,d=i;u&&c&&u===c&&"string"==typeof u&&(s=u,f=e.find(n,[s,s]),d=e.find(i,[s,s]));for(var m=[],y=0;y<l;y++){for(var g=a[y],v=d(g[0],h[0]),x=1;x<p;x++)v=f(v,d(g[x],h[x]));m[y]=v;}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=[],y=[],g=[],v=n,x=i,w=s,b=0;h&&p&&h===p&&"string"==typeof h&&(c=h,v=e.find(n,[c,c]),x=e.find(i,[c,c]),w=e.find(s,[c,c]),b=e.convert(0,c));var _=[],M=[];g[0]=0;for(var N=0;N<d;N++){var E=l[N];if(!w(E,b))for(var S=u[N],T=u[N+1],O=S;O<T;O++){var z=o[O];M[z]?_[z]=v(_[z],x(E,a[O])):(M[z]=!0,y.push(z),_[z]=x(E,a[O]));}}for(var C=y.length,A=0;A<C;A++){var R=y[A];m[A]=_[R];}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[f,1],datatype:c})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=o[1],d=c[1],m=n,y=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(n,[s,s]),y=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){var x=a[v];g[v]=[];for(var w=0;w<d;w++){for(var b=y(x[0],h[0][w]),_=1;_<f;_++)b=m(b,y(x[_],h[_][w]));g[v][w]=b;}}return t.createDenseMatrix({data:g,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,r){var a=t._data,o=t._size,u=t._datatype,h=r._values,c=r._index,l=r._ptr,p=r._size,f=r._datatype;if(!h)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],y=p[1],g=n,v=i,x=s,w=0;u&&f&&u===f&&"string"==typeof u&&(d=u,g=e.find(n,[d,d]),v=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],M=[],N=r.createSparseMatrix({values:b,index:_,ptr:M,size:[m,y],datatype:d}),E=0;E<y;E++){M[E]=_.length;var S=l[E],T=l[E+1];if(T>S)for(var O=0,z=0;z<m;z++){for(var C=z+1,A=void 0,R=S;R<T;R++){var D=c[R];O!==C?(A=v(a[z][D],h[R]),O=C):A=g(A,v(a[z][D],h[R]));}O!==C||x(A,w)||(_.push(z),b.push(A));}}return M[y]=_.length,N},"SparseMatrix, DenseMatrix":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=r._size[1],y=n,g=i,v=s,x=0;h&&p&&h===p&&"string"==typeof h&&(c=h,y=e.find(n,[c,c]),g=e.find(i,[c,c]),v=e.find(s,[c,c]),x=e.convert(0,c));for(var w=[],b=[],_=[],M=t.createSparseMatrix({values:w,index:b,ptr:_,size:[f,m],datatype:c}),N=[],E=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var z=l[O][S];if(!v(z,x))for(var C=u[O],A=u[O+1],R=C;R<A;R++){var D=o[R];E[D]!==T?(E[D]=T,b.push(D),N[D]=g(z,a[R])):N[D]=y(N[D],g(z,a[R]));}}for(var k=_[S],I=b.length,L=k;L<I;L++){var B=b[L];w[L]=N[B];}}return _[m]=b.length,M},"SparseMatrix, SparseMatrix":function(t,r){var s,a=t._values,o=t._index,u=t._ptr,h=t._datatype,c=r._values,l=r._index,p=r._ptr,f=r._datatype,d=t._size[0],m=r._size[1],y=a&&c,g=n,v=i;h&&f&&h===f&&"string"==typeof h&&(s=h,g=e.find(n,[s,s]),v=e.find(i,[s,s]));for(var x,w,b,_,M,N,E,S,T=y?[]:void 0,O=[],z=[],C=t.createSparseMatrix({values:T,index:O,ptr:z,size:[d,m],datatype:s}),A=y?[]:void 0,R=[],D=0;D<m;D++){z[D]=O.length;var k=D+1;for(M=p[D],N=p[D+1],_=M;_<N;_++)if(S=l[_],y)for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k?(R[E]=k,O.push(E),A[E]=v(c[_],a[x])):A[E]=g(A[E],v(c[_],a[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k&&(R[E]=k,O.push(E));if(y)for(var I=z[D],L=O.length,B=I;B<L;B++){var F=O[B];T[B]=A[F];}}return z[m]=O.length,C}});return e("multiply",Er({"Array, Array":function(t,e){h(on(t),on(e));var n=this(r(t),r(e));return $e(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return h(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,r[0]):c(t,e):1===n.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,r(e))},"Array, Matrix":function(t,e){return this(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return o(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(r(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},i.signatures))})),ta=bn("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:s,DenseMatrix:a}=t,o=Hs({typed:e}),u=Ys({typed:e}),h=Zs({typed:e,equalScalar:n}),c=$s({typed:e,DenseMatrix:a}),l=Gs({typed:e}),p=Ps({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return ea(t,e),h(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return ea(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return ea(t,e),o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return ea(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,s(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(r(e),t,this,!0).valueOf()}})}));function ea(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new sn(r.length,n.length)}var ra=bn("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,i,s){var a=t._size,o=t._datatype,u=i._size,h=i._datatype;if(a.length!==u.length)throw new sn(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,l,p,f=a[0],d=a[1],m=0,y=s;"string"==typeof o&&o===h&&(c=o,m=e.convert(0,c),y=e.find(s,[c,c]));var g=[];for(l=0;l<f;l++)g[l]=[];var v=[],x=[],w=[],b=[];for(p=0;p<d;p++){var _=p+1;for(n(t,p,w,v,_),n(i,p,b,x,_),l=0;l<f;l++){var M=w[l]===_?v[l]:m,N=b[l]===_?x[l]:m;g[l][p]=y(M,N);}}return new r({data:g,size:[f,d],datatype:c})};function n(t,e,r,n,i){for(var s=t._values,a=t._index,o=t._ptr,u=o[e],h=o[e+1];u<h;u++){var c=a[u];r[c]=i,n[c]=s[u];}}})),na=bn("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return ms(t,this)}})}));function ia(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(t){var a=i[t];if(a&&(delete n[a],delete i[t],--e,r===a)){if(!e)return s=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(o){var u=i[o],h=++s;if(n[h]=o,i[o]=h,!u){if(++e<=t)return;return o=n[r],a(o),o}if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null);}}}function sa(t){var{hasher:e,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,e=null==e?JSON.stringify:e,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:ia(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var aa=bn("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e("identity",{"":function(){return "Matrix"===r.matrix?n([]):[]},string:function(t){return n(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return o(t)},"Array, string":function(t,e){return o(t,e)},Matrix:function(t){return o(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){switch(t.length){case 0:return e?n(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,r){var n=Pe(t)||Pe(e)?i:null;if(Pe(t)&&(t=t.toNumber()),Pe(e)&&(e=e.toNumber()),!jr(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!jr(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var o=n?new i(1):1,u=n?new n(0):0,h=[t,e];if(r){if("sparse"===r)return a.diagonal(h,o,0,u);if("dense"===r)return s.diagonal(h,o,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=ln([],h,u),l=t<e?t:e,p=0;p<l;p++)c[p][p]=o;return c}}));function oa(){throw new Error('No "bignumber" implementation available')}function ua(){throw new Error('No "fraction" implementation available')}function ha(t,e,r,n){if(!(this instanceof ha))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack;}ha.prototype=new Error,ha.prototype.constructor=Error,ha.prototype.name="ArgumentsError",ha.prototype.isArgumentsError=!0;var ca=bn("size",["typed","config","?matrix"],(t=>{var{typed:e,config:r,matrix:n}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:on,string:function(t){return "Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return "Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function la(t,e){if(ma(t)&&fa(t,e))return t[e];if("function"==typeof t[e]&&da(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function pa(t,e,r){if(ma(t)&&fa(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function fa(t,e){return !(!t||"object"!=typeof t)&&(!!Ar(ya,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function da(t,e){return null!=t&&"function"==typeof t[e]&&(!(Ar(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!Ar(ga,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function ma(t){return "object"==typeof t&&t&&t.constructor===Object}var ya={length:!0,name:!0},ga={toString:!0,valueOf:!0,toLocaleString:!0},va=bn("subset",["typed","matrix"],(t=>{var{typed:e,matrix:r}=t;return e("subset",{"Array, Index":function(t,e){var n=r(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":ba,"string, Index":xa,"Array, Index, any":function(t,e,n){return r(Mr(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return r(Mr(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":wa,"string, Index, string, string":wa,"Object, Index, any":_a})}));function xa(t,e){if(!Xe(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new sn(e.size().length,1);var r=t.length;cn(e.min()[0],r),cn(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach((function(e){i+=t.charAt(e);})),i}function wa(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new sn(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new sn(i.size()[0],r.length);var s=t.length;cn(e.min()[0]),cn(e.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=t.charAt(o);if(i.forEach((function(t,e){a[t]=r.charAt(e[0]);})),a.length>s)for(var u=s-1,h=a.length;u<h;u++)a[u]||(a[u]=n);return a.join("")}function ba(t,e){if(1!==e.size().length)throw new sn(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return la(t,r)}function _a(t,e,r){if(1!==e.size().length)throw new sn(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=Mr(t);return pa(i,n,r),i}var Ma=bn("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("zeros",{"":function(){return "Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return "Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,n){Pe(t)&&(e=!0,n[r]=t.toNumber());})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!jr(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}));}(t),e){var s=n(e);return t.length>0?s.resize(t,r):s}var a=[];return t.length>0?ln(a,t,r):a}})),Na=bn("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:tn,"any, Object | function | number":tn})})),Ea=bn("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:r?t=>r(t):oa,Fraction:n?t=>n(t):ua};return function(t,e){var r=_r(t);if(!(r in i))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)}})),Sa=bn("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:r}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),i=r(1,_r(e));return n.value=this(null===n.value?n._normalize(i):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var i=r(1,_r(t));return n.value=this(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}})})),Ta=bn("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=t;return e("pow",{"number, number":h,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||r.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":c,"Array, BigNumber":function(t,e){return c(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function h(t,e){if(r.predictable&&!jr(e)&&t<0)try{var n=o(e),i=a(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return (n.n%2==0?1:-1)*Math.pow(-t,e)}catch(s){}return r.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:jr(e)||t>=0||r.predictable?Ns(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function c(t,e){if(!jr(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=on(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var s=n(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(s=i(a,s)),e>>=1,a=i(a,a);return s}function l(t,e){return s(c(t.valueOf(),e))}}));function Oa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oa(Object(r),!0).forEach((function(e){Ca(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Ca(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Aa="Number of decimals in function round must be an integer",Ra=bn("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:s,DenseMatrix:a}=t,o=Fs({typed:e,equalScalar:n}),u=Xs({typed:e,DenseMatrix:a}),h=Ps({typed:e});return e("round",za(za({},Da),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(Aa);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Aa);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Aa);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Aa);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(Aa);return t.round(e)},"Array | Matrix":function(t){return ms(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):h(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}}))})),Da={number:Es,"number, number":function(t,e){if(!jr(e))throw new TypeError(Aa);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return Es(t,e)}},ka=bn("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Ys({typed:e}),a=ra({typed:e,DenseMatrix:i}),o=Xs({typed:e,DenseMatrix:i}),u=Gs({typed:e}),h=Ps({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,n)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,n,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,n,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return o(t,e,n,!1)},"DenseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, SparseMatrix":function(t,e){return o(e,t,n,!0)},"any, DenseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return h(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,n,!0).valueOf()}})}));bn("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var Ia=bn("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Ys({typed:e}),a=ra({typed:e,DenseMatrix:i}),o=Xs({typed:e,DenseMatrix:i}),u=Gs({typed:e}),h=Ps({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Xr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!Ts(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return -1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),La=bn("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Ys({typed:e}),a=ra({typed:e,DenseMatrix:i}),o=Xs({typed:e,DenseMatrix:i}),u=Gs({typed:e}),h=Ps({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Xr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!Ts(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Ba=bn("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function s(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child===e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1;}function a(t,e){var r=e.parent;r&&(e.mark?(s(t,e,r),a(r)):e.mark=!0);}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,e(t,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,a=t.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--;}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,a=Math.floor(Math.log(i)*n)+1,u=new Array(a),h=0,c=t;if(c)for(h++,c=c.right;c!==t;)h++,c=c.right;for(;h>0;){for(var l=c.degree,p=c.right;s=u[l];){if(r(c.key,s.key)){var f=s;s=c,c=f;}o(s,c),u[l]=null,l++;}u[l]=c,c=p,h--;}t=null;for(var d=0;d<a;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;var i=r.parent;i&&e(r.key,i.key)&&(s(t,r,i),a(t,i));e(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum();};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1;};return i}),{isClass:!0}),Fa=bn("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n;}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else {var r=this._heap.insert(t,e);this._values[t]=r;}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n);},i.prototype.forEach=function(t,e,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=e;)o.key>=t&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var h=a[u];s[(o=i.insert(h.key,h.value)).key]=o;}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i}),{isClass:!0});sa((function(t){return new t(1).exp()}),{hasher:Ua}),sa((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:Ua});var Pa=sa((function(t){return t.acos(-1)}),{hasher:Ua});function Ua(t){return t[0].precision}function ja(){return (ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function qa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qa(Object(r),!0).forEach((function(e){Va(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Va(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}sa((function(t){return Pa(t).times(2)}),{hasher:Ua});var $a=bn("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,r,n,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:h,pow:c,abs:l,fix:p,round:f,equal:d,isNumeric:m,format:y,number:g,Complex:v,BigNumber:x,Fraction:w}=t,b=g;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!Ue(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var r=_.parse(e);this.units=r.units,this.dimensions=r.dimensions;}else {this.units=[{unit:L,prefix:R.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0;}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function M(){for(;" "===n||"\t"===n;)E();}function N(t){return t>="0"&&t<="9"}function E(){r++,n=e.charAt(r);}function S(t){r=t,n=e.charAt(r);}function T(){var t,e="",i=r;if("+"===n?E():"-"===n&&(e+=n,E()),!((t=n)>="0"&&t<="9"||"."===t))return S(i),null;if("."===n){if(e+=n,E(),!N(n))return S(i),null}else {for(;N(n);)e+=n,E();"."===n&&(e+=n,E());}for(;N(n);)e+=n,E();if("E"===n||"e"===n){var s="",a=r;if(s+=n,E(),"+"!==n&&"-"!==n||(s+=n,E()),!N(n))return S(a),e;for(e+=s;N(n);)e+=n,E();}return e}function O(){for(var t="";N(n)||_.isValidAlpha(n);)t+=n,E();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function z(t){return n===t?(E(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},r=-1,n="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;E(),M();var h=T(),c=null;if(h){if("BigNumber"===s.number)c=new x(h);else if("Fraction"===s.number)try{c=new w(h);}catch(N){c=parseFloat(h);}else c=parseFloat(h);M(),z("*")?(o=1,u=!0):z("/")&&(o=-1,u=!0);}for(var l=[],p=1;;){for(M();"("===n;)l.push(o),p*=o,o=1,E(),M();var f=void 0;if(!n)break;var d=n;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+r.toString());var m=C(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var y=o*p;if(M(),z("^")){M();var g=T();if(null===g)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=g;}a.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*y;for(M();")"===n;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+r.toString());p/=l.pop(),E(),M();}if(u=!1,z("*")?(o=1,u=!0):z("/")?(o=-1,u=!0):o=1,m.unit.base){var b=m.unit.base.key;U.auto[b]={unit:m.unit,prefix:m.prefix};}}if(M(),n)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=Mr(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var r in t.units[e]={},this.units[e])Ar(this.units[e],r)&&(t.units[e][r]=this.units[e][r]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,r,n,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var o=t;s=_._getNumberConverter(_r(t));for(var h=0;h<this.units.length;h++)e=s(this.units[h].unit.value),i=s(this.units[h].prefix.value),n=s(this.units[h].power),o=u(o,c(u(e,i),n));return o}return e=(s=_._getNumberConverter(_r(t)))(this.units[0].unit.value),r=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(t,r),u(e,i))},_.prototype._denormalize=function(t,e){var r,n,i,s,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;a=_._getNumberConverter(_r(t));for(var p=0;p<this.units.length;p++)r=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),l=h(l,c(u(r,s),i));return l}return r=(a=_._getNumberConverter(_r(t)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),o(h(h(t,r),null==e?s:e),n)};var C=sa((t=>{if(Ar(B,t)){var e=B[t];return {unit:e,prefix:e.prefixes[""]}}for(var r in B)if(Ar(B,r)&&Kr(t,r)){var n=B[r],i=t.length-r.length,s=t.substring(0,i),a=Ar(n.prefixes,s)?n.prefixes[s]:void 0;if(void 0!==a)return {unit:n,prefix:a}}return null}),{hasher:t=>t[0],limit:100});function A(t){return t.equalBase(k.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==C(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=k[t]),!t)return !1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ha({},t.units[n]);e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=u(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ha(Ha({},t.units[n]),{},{power:-t.units[n].power});e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=h(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!==e.value?e.value=c(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,A(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=B.W);return t},_.prototype.to=function(t){var e,r=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=Mr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(qe(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return (e=t.clone()).value=Mr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return (e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return {mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,r=this.clone(),n=[];for(var i in j)if(Ar(j,i)&&r.hasBase(k[i])){t=i;break}if("NONE"===t)r.units=[];else if(t&&Ar(j,t)&&(e=j[t]),e)r.units=[{unit:e.unit,prefix:e.prefix,power:1}];else {for(var s=!1,a=0;a<D.length;a++){var o=D[a];Math.abs(r.dimensions[a]||0)>1e-12&&(Ar(j,o)?n.push({unit:j[o].unit,prefix:j[o].prefix,power:r.dimensions[a]||0}):s=!0);}n.length<r.units.length&&!s&&(r.units=n);}return r},_.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!Ar(U.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:U.si[n].unit,prefix:U.si[n].prefix,power:t.dimensions[r]||0});}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var a=t;return r>0&&n>0&&(a+=" / "),a+=e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==e.value&&null!==e.value&&Ue(e.value)&&(r=Math.abs(e.value.re)<1e-14),e.units)Ar(e.units,n)&&e.units[n].unit&&("VA"===e.units[n].unit.name&&r?e.units[n].unit=B.VAR:"VAR"!==e.units[n].unit.name||r||(e.units[n].unit=B.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?y(i,t||{}):"",a=e.formatUnits();return e.value&&Ue(e.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+=a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(Ar(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(t/Math.pow(o.value*e,n))/Math.LN10-1.2);(u<i||u===i&&o.name.length<r.name.length)&&(r=o,i=u);}}return r},_.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!==t.length-1);n++){var i=e.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(e.toNumeric()),t[n].toString());r.push(u),e=o(e,u);}for(var h=0,c=0;c<r.length;c++)h=a(h,r[c].value);return d(h,this.value)&&(e.value=0),r.push(e),r};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=ja({},R.SHORT,R.LONG),R.BINARY_SHORT=ja({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=ja({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in k)Ar(k,I)&&(k[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:D.map((t=>0))},B={meter:{name:"meter",base:k.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:k.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(t){if("BigNumber"===t.number){var e=Pa(x);B.rad.value=new x(1),B.deg.value=e.div(180),B.grad.value=e.div(200),B.cycle.value=e.times(2),B.arcsec.value=e.div(648e3),B.arcmin.value=e.div(10800);}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value;}P(s),i&&i("config",(function(t,e){t.number!==e.number&&P(t);}));var U={si:{NONE:{unit:L,prefix:R.NONE[""]},LENGTH:{unit:B.m,prefix:R.SHORT[""]},MASS:{unit:B.g,prefix:R.SHORT.k},TIME:{unit:B.s,prefix:R.SHORT[""]},CURRENT:{unit:B.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:R.SHORT[""]},ANGLE:{unit:B.rad,prefix:R.SHORT[""]},BIT:{unit:B.bits,prefix:R.SHORT[""]},FORCE:{unit:B.N,prefix:R.SHORT[""]},ENERGY:{unit:B.J,prefix:R.SHORT[""]},POWER:{unit:B.W,prefix:R.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:R.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:R.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:B.m,prefix:R.SHORT.c},U.cgs.MASS={unit:B.g,prefix:R.SHORT[""]},U.cgs.FORCE={unit:B.dyn,prefix:R.SHORT[""]},U.cgs.ENERGY={unit:B.erg,prefix:R.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:B.ft,prefix:R.NONE[""]},U.us.MASS={unit:B.lbm,prefix:R.NONE[""]},U.us.TEMPERATURE={unit:B.degF,prefix:R.NONE[""]},U.us.FORCE={unit:B.lbf,prefix:R.NONE[""]},U.us.ENERGY={unit:B.BTU,prefix:R.BTU[""]},U.us.POWER={unit:B.hp,prefix:R.NONE[""]},U.us.PRESSURE={unit:B.psi,prefix:R.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var j=U.auto;for(var q in _.setUnitSystem=function(t){if(!Ar(U,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(U).join(", "));j=U[t];},_.getUnitSystem=function(){for(var t in U)if(Ar(U,t)&&U[t]===j)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},B)if(Ar(B,q)){var H=B[q];H.dimensions=H.base.dimensions;}for(var V in F)if(Ar(F,V)){var $=B[F[V]],G={};for(var W in $)Ar($,W)&&(G[W]=$[W]);G.name=V,B[V]=G;}return _.isValidAlpha=function(t){return /^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(Ar(t,r)&&_.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)_.deleteUnit(t[r].aliases[n]);var i;for(var s in t)Ar(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ar(B,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(n=t.charAt(e),0===e&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(n)&&!N(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,a,o=null,u=[],h=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(i=e);else {if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,h=e.offset,a=e.baseName,e.aliases&&(u=e.aliases.valueOf());}if(u)for(var c=0;c<u.length;c++)if(Ar(B,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0});}catch(S){throw S.message='Could not create unit "'+t+'" from "'+i+'": '+S.message,S}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],h=h||0,s=s&&s.toUpperCase&&R[s.toUpperCase()]||R.NONE;var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:h};var p=!1;for(var f in k)if(Ar(k,f)){for(var d=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(k[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,l.base=k[f];break}}if(!p){a=a||t+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=a,k[a]=y,j[a]={unit:l,prefix:R.NONE[""]},l.base=k[a];}}else {if(a=a||t+"_STUFF",D.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(a),k)Ar(k,g)&&(k[g].dimensions[D.length-1]=0);for(var v={dimensions:[]},x=0;x<D.length;x++)v.dimensions[x]=0;v.dimensions[D.length-1]=1,v.key=a,k[a]=v,l={name:t,value:1,dimensions:k[a].dimensions.slice(0),prefixes:s,offset:h,base:k[a]},j[a]={unit:l,prefix:R.NONE[""]};}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],M={};for(var E in l)Ar(l,E)&&(M[E]=l[E]);M.name=b,_.UNITS[b]=M;}return delete C.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t];},_.PREFIXES=R,_.BASE_DIMENSIONS=D,_.BASE_UNITS=k,_.UNIT_SYSTEMS=U,_.UNITS=B,_}),{isClass:!0});bn("unit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return r.isValuelessUnit(t)?new r(null,t):r.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new r(t,e)},"Array | Matrix":function(t){return ms(t,this)}})}));bn("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("createUnit",{"Object, Object":function(t,e){return r.createUnit(t,e)},Object:function(t){return r.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.createUnit(e,{})}})}));bn("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=t,o=Hs({typed:e}),u=Vs({typed:e,equalScalar:i}),h=$s({typed:e,DenseMatrix:s}),c=Gs({typed:e}),l=Ps({typed:e});return e("add",Er({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,n)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,n,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,n,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"DenseMatrix, any":function(t,e){return l(t,e,n,!1)},"SparseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, DenseMatrix":function(t,e){return l(e,t,n,!0)},"any, SparseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return l(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}));var Za=bn("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=a(t,s),h=$e(t)?t._data:t,c=$e(t)?t._datatype:void 0,l=$e(s)?s._data:s,p=$e(s)?s._datatype:void 0,f=2===o(t).length,d=2===o(s).length,m=r,y=n;if(c&&p&&c===p&&"string"==typeof c){var g=c;m=e.find(r,[g,g]),y=e.find(n,[g,g]);}if(!f&&!d){for(var v=y(i(h[0]),l[0]),x=1;x<u;x++)v=m(v,y(i(h[x]),l[x]));return v}if(!f&&d){for(var w=y(i(h[0]),l[0][0]),b=1;b<u;b++)w=m(w,y(i(h[b]),l[b][0]));return w}if(f&&!d){for(var _=y(i(h[0][0]),l[0]),M=1;M<u;M++)_=m(_,y(i(h[M][0]),l[M]));return _}if(f&&d){for(var N=y(i(h[0][0]),l[0][0]),E=1;E<u;E++)N=m(N,y(i(h[E][0]),l[E][0]));return N}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,s=t._values,o=e._index,u=e._values,h=0,c=r,l=n,p=0,f=0;for(;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(h=c(h,l(s[p],u[f])),p++,f++);}return h}});function a(t,e){var r,n,i=o(t),s=o(e);if(1===i.length)r=i[0];else {if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===s.length)n=s[0];else {if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function o(t){return $e(t)?t.size():s(t)}})),Xa={end:!0},Qa=bn("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(t){return this.compile().evaluate(t)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var t=this._compile(e,{}),r={};return {evaluate:function(e){var n=e||{};return function(t){for(var e in t)if(Ar(t,e)&&e in Xa)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}},r.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(t){if(!mr(t))throw new TypeError("Callback function must return a Node");return t},r.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r);}));}(this,t);},r.prototype.transform=function(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)},r.prototype.filter=function(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r);})),e},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},r.prototype.equals=function(t){return !!t&&Tr(this,t)},r.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},r.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function Ja(t){return t&&t.isIndexError?new an(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function Ka(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return la(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw Ja(n)}}}var to=bn("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:r}=t,n=Ka({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError('Node expected for parameter "object"');if(!dr(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function s(t){return !(ar(t)||or(t)||lr(t)||fr(t)||yr(t)||vr(t)||wr(t))}return i.prototype=new r,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var r=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,n){return la(r(t,e,n),s)}}return function(t,e,s){var a=r(t,e,s),o=i(t,e,a);return n(a,o)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this);},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return {mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),eo=bn("ArrayNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(mr))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(t,e){var r=yn(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n(yn(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return yn(r,(function(r){return r(t,e,n)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this);}},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(t){return "["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},r.prototype.toJSON=function(){return {mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(t){return '<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?e+=r.items.map((function(e){return e.toTex(t)})).join("&"):e+=r.toTex(t),e+="\\\\";})),e+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});var ro=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function no(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<ro.length;i++)if(n in ro[i])return i;return null}function io(t,e){var r=t;"keep"!==e&&(r=t.getContent());var n=r.getIdentifier(),i=no(r,e);if(null===i)return null;var s=ro[i][n];if(Ar(s,"associativity")){if("left"===s.associativity)return "left";if("right"===s.associativity)return "right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function so(t,e,r){var n="keep"!==r?t.getContent():t,i="keep"!==r?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=no(n,r);if(null===o)return null;var u=ro[o][s];if(Ar(u,"associativeWith")&&u.associativeWith instanceof Array){for(var h=0;h<u.associativeWith.length;h++)if(u.associativeWith[h]===a)return !0;return !1}return null}var ao=bn("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:r,Node:n}=t,i=Ka({subset:e}),s=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return pa(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Ja(s)}}}({subset:e,matrix:r});function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r||e,!wr(t)&&!ar(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(wr(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!dr(this.index))throw new TypeError('IndexNode expected as "index"');if(!mr(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function o(t,e){e||(e="keep");var r=no(t,e),n=no(t.value,e);return "all"===e||null!==n&&n<=r}return a.prototype=new n,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,a=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),s=a(t,e,n);return pa(i,u,s)}}if(wr(this.object))return function(t,e,i){var u=r(t,e,i),h=a(t,e,i),c=n(t,e,u);return pa(t,o,s(u,c,h)),h};var h=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,r){var i=h(t,e,r),o=la(i,c),u=n(t,e,o),l=a(t,e,r);return pa(i,c,s(o,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,r){var o=h(t,e,r),u=l(t,e,o),c=i(o,u),p=n(t,e,c),f=a(t,e,r);return s(o,u,s(c,p,f)),f}}if(!wr(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return pa(t,o,a(t,e,r))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this);},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return o(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},a.prototype.toJSON=function(){return {mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return o(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return o(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},a}),{isClass:!0,isNode:!0}),oo=bn("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:r}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!mr(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return {node:e,visible:r}}));}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(t,r){var n=yn(this.blocks,(function(e){return {evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var s=[];return gn(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&s.push(n);})),new e(s)}},n.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this);},n.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],s=this._ifNode(t(i.node,"blocks["+r+"].node",this));e[r]={node:s,visible:i.visible};}return new n(e)},n.prototype.clone=function(){return new n(this.blocks.map((function(t){return {node:t.node,visible:t.visible}})))},n.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return {mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(t){return new n(t.blocks)},n.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),uo=bn("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError("Parameter condition must be a Node");if(!mr(e))throw new TypeError("Parameter trueExpr must be a Node");if(!mr(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n;}return r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return !!t;if(t){if(Pe(t))return !t.isZero();if(Ue(t))return !(!t.re&&!t.im);if(qe(t))return !!t.value}if(null==t)return !1;throw new TypeError('Unsupported type of condition "'+_r(t)+'"')}(r(t,e,s))?n(t,e,s):i(t,e,s)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.condition.toString(t),i=no(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=no(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var o=this.falseExpr.toString(t),u=no(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o="("+o+")"),n+" ? "+s+" : "+o},r.prototype.toJSON=function(){return {mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.condition.toHTML(t),i=no(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=no(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(t),u=no(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},r.prototype._toTex=function(t){return "\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),ho=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},co={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},lo={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},po=function(t,e){return ho({},t,e)},fo={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},mo={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},yo={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(mo.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(mo.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(mo.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(mo.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(mo.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(mo.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(mo.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(mo.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(mo.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(mo.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(mo.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(mo.bitAnd,"${args[1]}\\right)")},bitNot:{1:mo.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(mo.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(mo.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(mo.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(mo.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(mo.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(mo.and,"${args[1]}\\right)")},not:{1:mo.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(mo.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(mo.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(mo.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(mo.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(mo.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(mo.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(mo.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(mo.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(mo.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(mo.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(mo.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(mo.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(mo.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(fo.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},go={deg:"^\\circ"};function vo(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,n=void 0!==r&&r,i=e.escapeMapFn,s=void 0===i?po:i,a=String(t),o="",u=s(ho({},co),n?ho({},lo):{}),h=Object.keys(u),c=function(){var t=!1;h.forEach((function(e,r){t||a.length>=e.length&&a.slice(0,e.length)===e&&(o+=u[h[r]],a=a.slice(e.length,a.length),t=!0);})),t||(o+=a.slice(0,1),a=a.slice(1,a.length));};a;)c();return o}(t,{preserveFormatting:!0})}function xo(t,e){return (e=void 0!==e&&e)?Ar(go,t)?go[t]:"\\mathrm{"+vo(t)+"}":Ar(fo,t)?fo[t]:vo(t)}var wo=bn("ConstantNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=t;}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(t,e){var r=this.value;return function(){return r}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(t){return tn(this.value,t)},r.prototype.toHTML=function(t){var e=this._toString(t);switch(_r(this.value)){case"number":case"BigNumber":case"Fraction":return '<span class="math-number">'+e+"</span>";case"string":return '<span class="math-string">'+e+"</span>";case"boolean":return '<span class="math-boolean">'+e+"</span>";case"null":return '<span class="math-null-symbol">'+e+"</span>";case"undefined":return '<span class="math-undefined">'+e+"</span>";default:return '<span class="math-symbol">'+e+"</span>"}},r.prototype.toJSON=function(){return {mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.prototype._toTex=function(t){var e=this._toString(t);switch(_r(this.value)){case"string":return "\\mathtt{"+vo(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=e.toLowerCase().indexOf("e");return -1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},r}),{isClass:!0,isNode:!0}),bo=bn("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:r}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!mr(r))throw new TypeError('Node expected for parameter "expr"');if(t in Xa)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r;}function i(t,e){var r=no(t,e),n=no(t.expr,e);return "all"===e||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(t,r){var n=Object.create(r);gn(this.params,(function(t){n[t]=!0;}));var i=this.expr._compile(t,n),s=this.name,a=this.params,o=vn(this.types,","),u=s+"("+vn(this.params,", ")+")";return function(t,r,n){var h={};h[o]=function(){for(var e=Object.create(r),s=0;s<a.length;s++)e[a[s]]=arguments[s];return i(t,e,n)};var c=e(s,h);return c.syntax=u,pa(t,s,c),c}},n.prototype.forEach=function(t){t(this.expr,"expr",this);},n.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new n(this.name,this.params.slice(0),e)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return i(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var t=this.types;return {mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,r){return {name:e,type:t[r]}})),expr:this.expr}},n.fromJSON=function(t){return new n(t.name,t.params,t.expr)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+rn(this.params[n])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+rn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return i(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(xo).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0}),_o=bn("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:r,size:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(mr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,r,n){return new e(Pe(t)?t.toNumber():t,Pe(r)?r.toNumber():r,Pe(n)?n.toNumber():n)}return i.prototype=new r,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var r=yn(this.dimensions,(function(r,i){if(xr(r)){if(r.needsEnd()){var a=Object.create(e);a.end=!0;var o=r.start._compile(t,a),u=r.end._compile(t,a),h=r.step?r.step._compile(t,a):function(){return 1};return function(t,e,r){var a=n(r).valueOf(),c=Object.create(e);return c.end=a[i],s(o(t,c,r),u(t,c,r),h(t,c,r))}}var c=r.start._compile(t,e),l=r.end._compile(t,e),p=r.step?r.step._compile(t,e):function(){return 1};return function(t,e,r){return s(c(t,e,r),l(t,e,r),p(t,e,r))}}if(wr(r)&&"end"===r.name){var f=Object.create(e);f.end=!0;var d=r._compile(t,f);return function(t,e,r){var s=n(r).valueOf(),a=Object.create(e);return a.end=s[i],d(t,a,r)}}var m=r._compile(t,e);return function(t,e,r){return m(t,e,r)}})),i=la(t,"index");return function(t,e,n){var s=yn(r,(function(r){return r(t,e,n)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this);},i.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&lr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return {mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+rn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),Mo=bn("ObjectNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return mr(t[e])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(Ar(this.properties,n)){var i=en(n),s=JSON.parse(i);if(!fa(this.properties,s))throw new Error('No access to property "'+s+'"');r[s]=this.properties[n]._compile(t,e);}return function(t,e,n){var i={};for(var s in r)Ar(r,s)&&(i[s]=r[s](t,e,n));return i}},r.prototype.forEach=function(t){for(var e in this.properties)Ar(this.properties,e)&&t(this.properties[e],"properties["+en(e)+"]",this);},r.prototype.map=function(t){var e={};for(var n in this.properties)Ar(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+en(n)+"]",this)));return new r(e)},r.prototype.clone=function(){var t={};for(var e in this.properties)Ar(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)},r.prototype._toString=function(t){var e=[];for(var r in this.properties)Ar(this.properties,r)&&e.push(en(r)+": "+this.properties[r].toString(t));return "{"+e.join(", ")+"}"},r.prototype.toJSON=function(){return {mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e=[];for(var r in this.properties)Ar(this.properties,r)&&e.push('<span class="math-symbol math-property">'+rn(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return '<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e=[];for(var r in this.properties)Ar(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return "\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),No=bn("OperatorNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(mr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[];}function n(t,e,r,n,i){var s,a=no(t,e),o=io(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return !1;default:return !0}}));switch(n.length){case 0:s=[];break;case 1:var u=no(n[0],e);if(i&&null!==u){var h,c;if("keep"===e?(h=n[0].getIdentifier(),c=t.getIdentifier()):(h=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===ro[a][c].latexLeftParens){s=[!1];break}if(!1===ro[u][h].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var l,p,f=no(n[0],e),d=so(t,n[0],e);l=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,y,g,v=no(n[1],e),x=so(t,n[1],e);if(p=null!==v&&(v===a&&"left"===o&&!x||v<a),i)"keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==f&&(!1===ro[a][m].latexLeftParens&&(l=!1),!1===ro[f][y].latexParens&&(l=!1)),null!==v&&(!1===ro[a][m].latexRightParens&&(p=!1),!1===ro[v][g].latexParens&&(p=!1));s=[l,p];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=n.map((function(r){var n=no(r,e),i=so(t,r,e),s=io(r,e);return null!==n&&(a===n&&o===s&&!i||n<a)})));}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(s=n.map((function(t,e){var r="ParenthesisNode"===t.getIdentifier();return !(!s[e]&&!r)}))),s}return r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(t,e){if("string"!=typeof this.fn||!da(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=la(t,this.fn),n=yn(this.args,(function(r){return r._compile(t,e)}));if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var s=n[0],a=n[1];return function(t,e,n){return r(s(t,e,n),a(t,e,n))}}return function(t,e,i){return r.apply(null,yn(n,(function(r){return r(t,e,i)})))}},r.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},r.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,e,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=io(this,e),o=i[0].toString(t);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return "right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var h=i[0].toString(t),c=i[1].toString(t);return s[0]&&(h="("+h+")"),s[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+c:h+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,r){return e=e.toString(t),s[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return {mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(t){return new r(t.op,t.fn,t.args,t.implicit)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=io(this,e),o=i[0].toHTML(t);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+rn(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+rn(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),h=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(this.op)+"</span>"+h}var c=i.map((function(e,r){return e=e.toHTML(t),s[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(this.op)+"</span>"):'<span class="math-function">'+rn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!0),a=mo[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=io(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var h=i[0],c=h.toTex(t);s[0]&&(c="\\left(".concat(c,"\\right)"));var l,p=i[1].toTex(t);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),l="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return c+"~"+p}return c+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(e,r){return e=e.toTex(t),s[r]&&(e="\\left(".concat(e,"\\right)")),e}));return "OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return "\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),Eo=bn("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError('Node expected for parameter "content"');this.content=t;}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this);},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return {mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}),{isClass:!0,isNode:!0}),So=bn("RangeNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError("Node expected");if(!mr(e))throw new TypeError("Node expected");if(n&&!mr(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null;}function n(t,e){var r=no(t,e),n={},i=no(t.start,e);if(n.start=null!==i&&i<=r||"all"===e,t.step){var s=no(t.step,e);n.step=null!==s&&s<=r||"all"===e;}var a=no(t.end,e);return n.end=null!==a&&a<=r||"all"===e,n}return r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(t){return wr(t)&&"end"===t.name})).length>0},r.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),i(t,e,a),s(t,e,a))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);r.step&&(s="("+s+")"),e+=":"+s;}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},r.prototype.toJSON=function(){return {mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);r.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s;}var a=this.end.toHTML(t);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(t){var e=n(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),r+=":"+s},r}),{isClass:!0,isNode:!0}),To=bn("RelationalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e;}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,o=n[0](e,i,s),u=0;u<r.conditionals.length;u++){if(a=o,o=n[u+1](e,i,s),!la(t,r.conditionals[u])(a,o))return !1}return !0}},r.prototype.forEach=function(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this);},r.prototype.map=function(t){return new r(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.params.map((function(n,i){var s=no(n,e);return "all"===e||null!==s&&s<=r?"("+n.toString(t)+")":n.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+n[a+1];return s},r.prototype.toJSON=function(){return {mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.params.map((function(n,i){var s=no(n,e);return "all"===e||null!==s&&s<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(i[this.conditionals[a]])+"</span>"+n[a+1];return s},r.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.params.map((function(n,i){var s=no(n,e);return "all"===e||null!==s&&s<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),i=n[0],s=0;s<this.conditionals.length;s++)i+=mo[this.conditionals[s]]+n[s+1];return i},r}),{isClass:!0,isNode:!0});function Oo(){return (Oo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function zo(){return (zo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}var Co={createBigNumberClass:ss},Ao={createComplexClass:us},Ro={createMatrixClass:fs},Do={MatrixDependencies:Ro,createDenseMatrixClass:ds},ko={createFractionClass:ls},Io={BigNumberDependencies:Co,ComplexDependencies:Ao,DenseMatrixDependencies:Do,FractionDependencies:ko,createTyped:En},Lo={typedDependencies:Io,createEqualScalar:zs},Bo={MatrixDependencies:Ro,equalScalarDependencies:Lo,typedDependencies:Io,createSparseMatrixClass:Cs},Fo={typedDependencies:Io,createNumber:As},Po={FractionDependencies:ko,typedDependencies:Io,createFraction:Ds},Uo={DenseMatrixDependencies:Do,MatrixDependencies:Ro,SparseMatrixDependencies:Bo,typedDependencies:Io,createMatrix:ks},jo={typedDependencies:Io,createUnaryMinus:Is},qo={typedDependencies:Io,createAbs:Ls},Ho={typedDependencies:Io,createAddScalar:Bs},Vo={BigNumberDependencies:Co,DenseMatrixDependencies:Do,equalScalarDependencies:Lo,matrixDependencies:Uo,typedDependencies:Io,zerosDependencies:{BigNumberDependencies:Co,matrixDependencies:Uo,typedDependencies:Io,createZeros:Ma},createRound:Ra},Go={typedDependencies:Io,createMultiplyScalar:Js},Wo={matrixDependencies:Uo,typedDependencies:Io,createSize:ca},Yo={addScalarDependencies:Ho,dotDependencies:{addScalarDependencies:Ho,conjDependencies:{typedDependencies:Io,createConj:na},multiplyScalarDependencies:Go,sizeDependencies:Wo,typedDependencies:Io,createDot:Za},equalScalarDependencies:Lo,matrixDependencies:Uo,multiplyScalarDependencies:Go,typedDependencies:Io,createMultiply:Ks},Zo={DenseMatrixDependencies:Do,addScalarDependencies:Ho,equalScalarDependencies:Lo,matrixDependencies:Uo,typedDependencies:Io,unaryMinusDependencies:jo,createSubtract:ta},Xo={DenseMatrixDependencies:Do,matrixDependencies:Uo,typedDependencies:Io,createLarger:La},Qo={BigNumberDependencies:Co,DenseMatrixDependencies:Do,SparseMatrixDependencies:Bo,matrixDependencies:Uo,typedDependencies:Io,createIdentity:aa},Ko={bignumberDependencies:{BigNumberDependencies:Co,typedDependencies:Io,createBignumber:Rs},fractionDependencies:Po,numberDependencies:Fo,createNumeric:Ea},tu={numericDependencies:Ko,typedDependencies:Io,createDivideScalar:Sa},eu={matrixDependencies:Uo,typedDependencies:Io,createSubset:va},ru={BigNumberDependencies:Co,ComplexDependencies:Ao,FractionDependencies:ko,absDependencies:qo,addScalarDependencies:Ho,divideScalarDependencies:tu,equalDependencies:{DenseMatrixDependencies:Do,equalScalarDependencies:Lo,matrixDependencies:Uo,typedDependencies:Io,createEqual:ka},fixDependencies:{ComplexDependencies:Ao,ceilDependencies:{equalScalarDependencies:Lo,matrixDependencies:Uo,roundDependencies:Vo,typedDependencies:Io,createCeil:Us},floorDependencies:{equalScalarDependencies:Lo,matrixDependencies:Uo,roundDependencies:Vo,typedDependencies:Io,createFloor:qs},matrixDependencies:Uo,typedDependencies:Io,createFix:js},formatDependencies:{typedDependencies:Io,createFormat:Na},isNumericDependencies:{typedDependencies:Io,createIsNumeric:Ss},multiplyScalarDependencies:Go,numberDependencies:Fo,powDependencies:{ComplexDependencies:Ao,fractionDependencies:Po,identityDependencies:Qo,matrixDependencies:Uo,multiplyDependencies:Yo,numberDependencies:Fo,typedDependencies:Io,createPow:Ta},roundDependencies:Vo,subtractDependencies:Zo,createUnitClass:$a},su={createNode:Qa},au={UnitDependencies:ru,NodeDependencies:su,createSymbolNode:bn("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:r,Node:n}=t;function i(t){return !!r&&r.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t;}return s.prototype=new n,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return e[n]};if(n in t)return function(e,r,i){return la(n in e?e:t,n)};var s=i(n);return function(t,e,i){return n in t?la(t,n):s?new r(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=rn(this.name);return "true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return {mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var r=!1;void 0===e[this.name]&&i(this.name)&&(r=!0);var n=xo(this.name,r);return "\\"===n[0]?n:" "+n},s}),{isClass:!0,isNode:!0})};({parseDependencies:{AccessorNodeDependencies:{NodeDependencies:su,subsetDependencies:eu,createAccessorNode:to},ArrayNodeDependencies:{NodeDependencies:su,createArrayNode:eo},AssignmentNodeDependencies:{matrixDependencies:Uo,NodeDependencies:su,subsetDependencies:eu,createAssignmentNode:ao},BlockNodeDependencies:{NodeDependencies:su,ResultSetDependencies:{createResultSet:An},createBlockNode:oo},ConditionalNodeDependencies:{NodeDependencies:su,createConditionalNode:uo},ConstantNodeDependencies:{NodeDependencies:su,createConstantNode:wo},FunctionAssignmentNodeDependencies:{NodeDependencies:su,typedDependencies:Io,createFunctionAssignmentNode:bo},FunctionNodeDependencies:{NodeDependencies:su,SymbolNodeDependencies:au,createFunctionNode:bn("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:r,SymbolNode:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new n(t)),!mr(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(mr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}i.prototype=new r,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=yn(this.args,(function(r){return r._compile(t,e)}));if(wr(this.fn)){var n=this.fn.name,s=n in t?la(t,n):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(e,r,i){return (n in e?la(e,n):s)(a,t,Oo({},e,r))}}if(1===r.length){var o=r[0];return function(t,e,r){return (n in t?la(t,n):s)(o(t,e,r))}}if(2===r.length){var u=r[0],h=r[1];return function(t,e,r){return (n in t?la(t,n):s)(u(t,e,r),h(t,e,r))}}return function(t,e,i){return (n in t?la(t,n):s).apply(null,yn(r,(function(r){return r(t,e,i)})))}}if(ar(this.fn)&&dr(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),p=this.args;return function(e,n,i){var s=c(e,n,i);return function(t,e){if(!da(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](p,t,Oo({},e,n)):s[l].apply(s,yn(r,(function(t){return t(e,n,i)})))}}var f=this.fn._compile(t,e),d=this.args;return function(e,n,i){var s=f(e,n,i);return s&&s.rawArgs?s(d,t,Oo({},e,n)):s.apply(s,yn(r,(function(t){return t(e,n,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new i(e,r)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(t,e,r){for(var n,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=s.exec(t));)if(i+=t.substring(a,n.index),a=n.index,"$$"===n[0])i+="$",a++;else {a+=n[0].length;var o=e[n[1]];if(!o)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof o){case"string":i+=o;break;case"object":if(mr(o))i+=o.toTex(r);else {if(!Array.isArray(o))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(t,e){if(mr(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else {if(!mr(o[n[2]]&&o[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=o[n[2]].toTex(r);}}return i+=t.slice(a)}i.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&Ar(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return (pr(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return {mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return '<span class="math-function">'+rn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&Ar(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:o.call(this,t)},i.prototype._toTex=function(t){var r,n,i=this.args.map((function(e){return e.toTex(t)}));switch(yo[this.name]&&(r=yo[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(r=e[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=a(r,this,t);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,t);break;case"string":n=a(r[i.length],this,t);}}return void 0!==n?n:a("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:su,RangeDependencies:{createRangeClass:ps},sizeDependencies:Wo,createIndexNode:_o},ObjectNodeDependencies:{NodeDependencies:su,createObjectNode:Mo},OperatorNodeDependencies:{NodeDependencies:su,createOperatorNode:No},ParenthesisNodeDependencies:{NodeDependencies:su,createParenthesisNode:Eo},RangeNodeDependencies:{NodeDependencies:su,createRangeNode:So},RelationalNodeDependencies:{NodeDependencies:su,createRelationalNode:To},SymbolNodeDependencies:au,numericDependencies:Ko,typedDependencies:Io,createParse:bn("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:h,FunctionAssignmentNode:c,FunctionNode:l,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:v}=t,x=e("parse",{string:function(t){return P(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return P(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return ms(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return P(t,r)}))}var b=0,_=1,M=2,N=3,E=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},z=["NaN","Infinity"];function C(t,e){return t.expression.substr(t.index,e)}function A(t){return C(t,1)}function R(t){t.index++;}function D(t){return t.expression.charAt(t.index-1)}function k(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=b,t.token="",t.comment="";x.isWhitespace(A(t),t.nestingLevel);)R(t);if("#"===A(t))for(;"\n"!==A(t)&&""!==A(t);)t.comment+=A(t),R(t);if(""!==A(t)){if("\n"===A(t)&&!t.nestingLevel)return t.tokenType=_,t.token=A(t),void R(t);var e=A(t),r=C(t,2),n=C(t,3);if(3===n.length&&S[n])return t.tokenType=_,t.token=n,R(t),R(t),void R(t);if(2===r.length&&S[r])return t.tokenType=_,t.token=r,R(t),void R(t);if(S[e])return t.tokenType=_,t.token=e,void R(t);if(x.isDigitDot(e)){t.tokenType=M;var i=C(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=A(t),R(t),t.token+=A(t),R(t);x.isHexDigit(A(t));)t.token+=A(t),R(t);return}if("."===A(t))t.token+=A(t),R(t),x.isDigit(A(t))||(t.tokenType=_);else {for(;x.isDigit(A(t));)t.token+=A(t),R(t);x.isDecimalMark(A(t),k(t))&&(t.token+=A(t),R(t));}for(;x.isDigit(A(t));)t.token+=A(t),R(t);if("E"===A(t)||"e"===A(t))if(x.isDigit(k(t))||"-"===k(t)||"+"===k(t)){if(t.token+=A(t),R(t),"+"!==A(t)&&"-"!==A(t)||(t.token+=A(t),R(t)),!x.isDigit(A(t)))throw at(t,'Digit expected, got "'+A(t)+'"');for(;x.isDigit(A(t));)t.token+=A(t),R(t);if(x.isDecimalMark(A(t),k(t)))throw at(t,'Digit expected, got "'+A(t)+'"')}else if("."===k(t))throw R(t),at(t,'Digit expected, got "'+A(t)+'"')}else {if(!x.isAlpha(A(t),D(t),k(t))){for(t.tokenType=E;""!==A(t);)t.token+=A(t),R(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(A(t),D(t),k(t))||x.isDigit(A(t));)t.token+=A(t),R(t);Ar(T,t.token)?t.tokenType=_:t.tokenType=N;}}else t.tokenType=_;}function L(t){do{I(t);}while("\n"===t.token)}function B(t){t.nestingLevel++;}function F(t){t.nestingLevel--;}function P(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b,nestingLevel:0,conditionalLevel:null};zo(r,{expression:t,extraNodes:e}),I(r);var n=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=U(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=U(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new o(n):(e||((e=new h(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===_?ot(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return n}function U(t){var e,r,n,i,s=function(t){var e=function(t){var e=j(t);for(;"or"===t.token;)L(t),e=new d("or","or",[e,j(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,L(t);var n=e,i=U(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,L(t);var s=U(t);e=new u(n,i,s),t.conditionalLevel=r;}return e}(t);if("="===t.token){if(wr(s))return e=s.name,L(t),n=U(t),new a(new v(e),n);if(ar(s))return L(t),n=U(t),new a(s.object,s.index,n);if(fr(s)&&wr(s.fn)&&(i=!0,r=[],e=s.name,s.args.forEach((function(t,e){wr(t)?r[e]=t.name:i=!1;})),i))return L(t),n=U(t),new c(e,r,n);throw at(t,"Invalid left hand side of assignment operator =")}return s}function j(t){for(var e=q(t);"xor"===t.token;)L(t),e=new d("xor","xor",[e,q(t)]);return e}function q(t){for(var e=H(t);"and"===t.token;)L(t),e=new d("and","and",[e,H(t)]);return e}function H(t){for(var e=V(t);"|"===t.token;)L(t),e=new d("|","bitOr",[e,V(t)]);return e}function V(t){for(var e=$(t);"^|"===t.token;)L(t),e=new d("^|","bitXor",[e,$(t)]);return e}function $(t){for(var e=G(t);"&"===t.token;)L(t),e=new d("&","bitAnd",[e,G(t)]);return e}function G(t){for(var e=[W(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ar(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),L(t),e.push(W(t));}return 1===e.length?e[0]:2===e.length?new d(r[0].name,r[0].fn,e):new g(r.map((t=>t.fn)),e)}function W(t){var e,r,n,i;e=Y(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ar(s,t.token);)n=s[r=t.token],L(t),i=[e,Y(t)],e=new d(r,n,i);return e}function Y(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};Ar(s,t.token);)n=s[r=t.token],L(t),"in"===r&&""===t.token?e=new d("*","multiply",[e,new v("in")],!0):(i=[e,Z(t)],e=new d(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new h(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)L(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new v("end")):r.push(X(t));e=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return e}function X(t){var e,r,n,i;e=Q(t);for(var s={"+":"add","-":"subtract"};Ar(s,t.token);)n=s[r=t.token],L(t),i=[e,Q(t)],e=new d(r,n,i);return e}function Q(t){var e,r,n,i;r=e=J(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Ar(s,t.token);)i=s[n=t.token],L(t),r=J(t),e=new d(n,i,[e,r]);return e}function J(t){var e,r;for(r=e=K(t);t.tokenType===N||"in"===t.token&&lr(e)||!(t.tokenType!==M||lr(r)||gr(r)&&"!"!==r.op)||"("===t.token;)r=K(t),e=new d("*","multiply",[e,r],!0);return e}function K(t){for(var e=tt(t),r=e,n=[];"/"===t.token&&lr(r);){if(n.push(zo({},t)),L(t),t.tokenType!==M){zo(t,n.pop());break}if(n.push(zo({},t)),L(t),t.tokenType!==N&&"("!==t.token){n.pop(),zo(t,n.pop());break}zo(t,n.pop()),n.pop(),r=tt(t),e=new d("/","divide",[e,r]);}return e}function tt(t){var e,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ar(o,t.token)?(a=o[t.token],e=t.token,L(t),i=[tt(t)],new d(e,a,i)):function(t){var e,i,a,o;e=function(t){var e,i,a;e=function(t){var e=[];if(t.tokenType===N&&Ar(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(I(t),"("===t.token){if(e=[],B(t),I(t),")"!==t.token)for(e.push(U(t));","===t.token;)I(t),e.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t);}return new i(e)}return function(t){var e;if(t.tokenType===N||t.tokenType===_&&t.token in T)return e=t.token,I(t),et(t,Ar(O,e)?new h(O[e]):-1!==z.indexOf(e)?new h(r(e,"number")):new v(e));return function(t){var e;if('"'===t.token)return e=rt(t),et(t,new h(e));return function(t){var e;if("'"===t.token)return e=nt(t),et(t,new h(e));return function(t){var e,i,a,o;if("["===t.token){if(B(t),I(t),"]"!==t.token){var u=it(t);if(";"===t.token){for(a=1,i=[u];";"===t.token;)I(t),i[a]=it(t),a++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),o=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==o)throw ot(t,"Column dimensions mismatch ("+i[c].items.length+" !== "+o+")");e=new s(i);}else {if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),e=u;}}else F(t),I(t),e=new s([]);return et(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(I(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=nt(t);else {if(!(t.tokenType===N||t.tokenType===_&&t.token in T))throw at(t,"Symbol or string expected as object key");e=t.token,I(t);}if(":"!==t.token)throw at(t,"Colon : expected after object key");I(t),i[e]=U(t);}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),I(t);var s=new f(i);return s=et(t,s)}return function(t){var e;if(t.tokenType===M)return e=t.token,I(t),new h(r(e,n.number));return function(t){var e;if("("===t.token){if(B(t),I(t),e=U(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),I(t),e=et(t,e=new m(e))}return function(t){throw ""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;Ar(o,t.token);)a=o[i=t.token],I(t),e=et(t,e=new d(i,a,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(a="^"===(i=t.token)?"pow":"dotPow",L(t),o=[e,tt(t)],e=new d(i,a,o));return e}(t)}function et(t,e,r){for(var n;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(n=[],"("===t.token){if(!wr(e)&&!ar(e))return e;if(B(t),I(t),")"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t),e=new l(e,n);}else if("["===t.token){if(B(t),I(t),"]"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if("]"!==t.token)throw at(t,"Parenthesis ] expected");F(t),I(t),e=new i(e,new p(n));}else {if(I(t),t.tokenType!==N)throw at(t,"Property name expected after dot");n.push(new h(t.token)),I(t);e=new i(e,new p(n,!0));}return e}function rt(t){for(var e="";""!==A(t)&&'"'!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),'"'!==t.token)throw at(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==A(t)&&"'"!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),"'"!==t.token)throw at(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function it(t){for(var e=[U(t)],r=1;","===t.token;)I(t),e[r]=U(t),r++;return new s(e)}function st(t){return t.index-t.token.length+1}function at(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function ot(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(t,e,r){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,r)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return /^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return " "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return "."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x}))},typedDependencies:Io,createEvaluate:bn("evaluate",["typed","parse"],(t=>{var{typed:e,parse:r}=t;return e("evaluate",{string:function(t){return r(t).compile().evaluate({})},"string, Object":function(t,e){return r(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return ms(t,(function(t){return r(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return ms(t,(function(t){return r(t).compile().evaluate(e)}))}})}))});({divideScalarDependencies:tu,equalScalarDependencies:Lo,invDependencies:{absDependencies:qo,addScalarDependencies:Ho,detDependencies:{lupDependencies:{DenseMatrixDependencies:Do,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Xo,smallerDependencies:{DenseMatrixDependencies:Do,matrixDependencies:Uo,typedDependencies:Io,createSmaller:Ia},createFibonacciHeapClass:Ba},addScalarDependencies:Ho,equalScalarDependencies:Lo,createSpaClass:Fa},SparseMatrixDependencies:Bo,absDependencies:qo,addScalarDependencies:Ho,divideScalarDependencies:tu,equalScalarDependencies:Lo,largerDependencies:Xo,matrixDependencies:Uo,multiplyScalarDependencies:Go,subtractDependencies:Zo,typedDependencies:Io,unaryMinusDependencies:jo,createLup:bn("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:h,unaryMinus:c,DenseMatrix:l,SparseMatrix:p,Spa:f}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,r,i,o=t._size[0],l=t._size[1],d=Math.min(o,l),m=t._values,y=t._index,g=t._ptr,v=[],x=[],w=[],b=[o,d],_=[],M=[],N=[],E=[d,l],S=[],T=[];for(e=0;e<o;e++)S[e]=e,T[e]=e;var O=function(t,e){var r=T[t],n=T[e];S[r]=e,S[n]=t,T[t]=n,T[e]=r;},z=function(){var t=new f;r<o&&(w.push(v.length),v.push(1),x.push(r)),N.push(_.length);var l=g[r],d=g[r+1];for(i=l;i<d;i++)e=y[i],t.set(S[e],m[i]);r>0&&t.forEach(0,r-1,(function(e,r){p._forEachRow(e,v,x,w,(function(n,i){n>e&&t.accumulate(n,c(a(i,r)));}));}));var T=r,z=t.get(r),C=n(z);t.forEach(r+1,o-1,(function(t,e){var r=n(e);u(r,C)&&(T=t,C=r,z=e);})),r!==T&&(p._swapRows(r,T,b[1],v,x,w),p._swapRows(r,T,E[1],_,M,N),t.swap(r,T),O(r,T)),t.forEach(0,o-1,(function(t,e){t<=r?(_.push(e),M.push(t)):(e=s(e,z),h(e,0)||(v.push(e),x.push(t)));}));};for(r=0;r<l;r++)z();return N.push(_.length),w.push(v.length),{L:new p({values:v,index:x,ptr:w,size:b}),U:new p({values:_,index:M,ptr:N,size:E}),p:S,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(r(t));return {L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,r,c,p=t._size[0],f=t._size[1],d=Math.min(p,f),m=Mr(t._data),y=[],g=[p,d],v=[],x=[d,f],w=[];for(e=0;e<p;e++)w[e]=e;for(r=0;r<f;r++){if(r>0)for(e=0;e<p;e++){var b=Math.min(e,r),_=0;for(c=0;c<b;c++)_=i(_,a(m[e][c],m[c][r]));m[e][r]=o(m[e][r],_);}var M=r,N=0,E=0;for(e=r;e<p;e++){var S=m[e][r],T=n(S);u(T,N)&&(M=e,N=T,E=S);}if(r!==M&&(w[r]=[w[M],w[M]=w[r]][0],l._swapRows(r,M,m)),r<p)for(e=r+1;e<p;e++){var O=m[e][r];h(O,0)||(m[e][r]=s(m[e][r],E));}}for(r=0;r<f;r++)for(e=0;e<p;e++)0===r&&(e<f&&(v[e]=[]),y[e]=[]),e<r?(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=0)):e!==r?(e<f&&(v[e][r]=0),r<p&&(y[e][r]=m[e][r])):(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=1));var z=new l({data:y,size:g}),C=new l({data:v,size:x}),A=[];for(e=0,d=w.length;e<d;e++)A[w[e]]=e;return {L:z,U:C,p:A,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:Uo,multiplyDependencies:Yo,subtractDependencies:Zo,typedDependencies:Io,unaryMinusDependencies:jo,createDet:bn("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:r,subtract:n,multiply:i,unaryMinus:s,lup:a}=t;return e("det",{any:function(t){return Mr(t)},"Array | Matrix":function(t){var e;switch((e=$e(t)?t.size():Array.isArray(t)?(t=r(t)).size():[]).length){case 0:return Mr(t);case 1:if(1===e[0])return Mr(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+tn(e)+")");case 2:var o=e[0];if(o===e[1])return function(t,e,r){if(1===e)return Mr(t[0][0]);if(2===e)return n(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var o=a(t),u=o.U[0][0],h=1;h<e;h++)u=i(u,o.U[h][h]);for(var c=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var f=l,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&c++;}return c%2==0?u:s(u)}(t.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+tn(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+tn(e)+")")}}})}))},divideScalarDependencies:tu,identityDependencies:Qo,matrixDependencies:Uo,multiplyDependencies:Yo,typedDependencies:Io,unaryMinusDependencies:jo,createInv:bn("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:h}=t;return e("inv",{"Array | Matrix":function(t){var e=$e(t)?t.size():on(t);switch(e.length){case 1:if(1===e[0])return $e(t)?r([n(1,t.valueOf()[0])]):[n(1,t[0])];throw new RangeError("Matrix must be square (size: "+tn(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return $e(t)?r(c(t.valueOf(),i,s),t.storage()):c(t,i,s);throw new RangeError("Matrix must be square (size: "+tn(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+tn(e)+")")}},any:function(t){return n(1,t)}});function c(t,e,r){var c,l,p,f,d;if(1===e){if(0===(f=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return [[n(1,f)]]}if(2===e){var m=o(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return [[n(t[1][1],m),n(a(t[0][1]),m)],[n(a(t[1][0]),m),n(t[0][0],m)]]}var y=t.concat();for(c=0;c<e;c++)y[c]=y[c].concat();for(var g=u(e).valueOf(),v=0;v<r;v++){var x=h(y[v][v]),w=v;for(c=v+1;c<e;)h(y[c][v])>x&&(x=h(y[c][v]),w=c),c++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==v&&(d=y[v],y[v]=y[c],y[c]=d,d=g[v],g[v]=g[c],g[c]=d);var b=y[v],_=g[v];for(c=0;c<e;c++){var M=y[c],N=g[c];if(c!==v){if(0!==M[v]){for(p=n(a(M[v]),b[v]),l=v;l<r;l++)M[l]=i(M[l],s(p,b[l]));for(l=0;l<r;l++)N[l]=i(N[l],s(p,_[l]));}}else {for(p=b[v],l=v;l<r;l++)M[l]=n(M[l],p);for(l=0;l<r;l++)N[l]=n(N[l],p);}}}return g}}))},matrixDependencies:Uo,multiplyDependencies:Yo,typedDependencies:Io,createDivide:bn("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=Fs({typed:e,equalScalar:i}),u=Ps({typed:e});return e("divide",Er({"Array | Matrix, Array | Matrix":function(t,e){return n(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return o(t,e,s,!1)},"Array, any":function(t,e){return u(r(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return n(t,a(e))}},s.signatures))}))});var hu={exports:{}};function cu(){}cu.prototype={on:function(t,e,r){var n=this.e||(this.e={});return (n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments);}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},hu.exports=cu,hu.exports.TinyEmitter=cu;new l;function vu(t,e,r,n=0){var i;n++;for(let s=(t=t.shadowRoot||t).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const t=null==(i=s.assignedElements)?void 0:i.call(s,{flatten:!0});if(t)for(const i of t)e.call(r,i,n)&&vu(s,e,r,n);e.call(r,s,n)&&vu(s,e,r,n);}}function xu(t,e,r,n){"insertRule"in t?t.insertRule(e+"{"+r+"}",n):"addRule"in t&&t.addRule(e,r,n);}!function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=e<t.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");t=t.subarray(e),s=e=0;}if(0==(128&(a=t[e++])))n[s++]=a;else if(192==(224&a)){var o=63&t[e++];n[s++]=(31&a)<<6|o;}else if(224==(240&a)){o=63&t[e++];var u=63&t[e++];n[s++]=(31&a)<<12|o<<6|u;}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a;}}}if(t.TextEncoder&&t.TextDecoder)return !1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);e<r;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<r){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,a=((1023&a)<<10)+(1023&o)+65536);}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else {if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else {if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128;}s[n++]=63&a|128;}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(i){return n(t)}finally{URL.revokeObjectURL(e);}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=r;}("undefined"!=typeof window?window:Br);class wu{constructor(){this.left=0,this.top=0,this.width=0,this.height=0;}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class bu{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0;}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function _u(t,e=new wu,r){const n=t.ownerDocument,i=n.documentElement,s=n.body;if(t===i)return function(t,e){const r=t.documentElement,n=t.body,i=getComputedStyle(r),s=getComputedStyle(n);return e.top=n.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=n.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),e.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),e}(n,e);if(r===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const a=t.ownerDocument.defaultView;let o,u=t,h=u.offsetParent,c=a.getComputedStyle(u,null),l=u.offsetTop,p=u.offsetLeft;for(h&&r&&h.contains(r)&&h!==r&&(_u(r,e,h),p-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==r&&"fixed"!==c.position;)o=a.getComputedStyle(u,null),l-=u.scrollTop,p-=u.scrollLeft,u===h&&(l+=u.offsetTop,p+=u.offsetLeft,l+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,h=u.offsetParent),c=o;return "fixed"===c.position&&(l+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=p,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}function Mu(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.marginLeft)||0,e.right=parseFloat(r.marginRight)||0,e.top=parseFloat(r.marginTop)||0,e.bottom=parseFloat(r.marginBottom)||0;}const Nu=document.createElement("div");function Eu(t){const e=document.createElement("div");e.innerHTML=t;const r=e.firstElementChild;return e.removeChild(r),r}Nu.id="VIEWPORT",Nu.style.position="fixed",Nu.style.width="100vw",Nu.style.height="100vh",Nu.style.visibility="hidden",Nu.style.pointerEvents="none";var Su={};!function(t){const e=Symbol("newer"),r=Symbol("older");function n(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size));}function i(t,n){this.key=t,this.value=n,this[e]=void 0,this[r]=void 0;}function s(t){this.entry=t;}function a(t){this.entry=t;}function o(t){this.entry=t;}t.LRUMap=n,n.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][r]=t[r]),t[r]&&(t[r][e]=t[e]),t[e]=void 0,t[r]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t);},n.prototype.assign=function(t){let n,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let o=a.next();!o.done;o=a.next()){let t=new i(o.value[0],o.value[1]);if(this._keymap.set(t.key,t),n?(n[e]=t,t[r]=n):this.oldest=t,n=t,0==s--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size;},n.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},n.prototype.set=function(t,n){var s=this._keymap.get(t);return s?(s.value=n,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,n)),this.newest?(this.newest[e]=s,s[r]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},n.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},n.prototype.has=function(t){return this._keymap.has(t)},n.prototype.delete=function(t){var n=this._keymap.get(t);if(n)return this._keymap.delete(n.key),n[e]&&n[r]?(n[r][e]=n[e],n[e][r]=n[r]):n[e]?(n[e][r]=void 0,this.oldest=n[e]):n[r]?(n[r][e]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear();},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new o(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(t,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)t.call(r,n.value,n.key,this),n=n[e];},n.prototype.toJSON=function(){for(var t=new Array(this.size),r=0,n=this.oldest;n;)t[r++]={key:n.key,value:n.value},n=n[e];return t},n.prototype.toString=function(){for(var t="",r=this.oldest;r;)t+=String(r.key)+":"+r.value,(r=r[e])&&(t+=" < ");return t};}(Su);var Tu={exports:{}};function Ou(t,e){return " "+t+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}async function zu(t,e){let r=[];for(const n of t.childNodes)r.push(Cu(n,e));return Promise.all(r).then((t=>t.join("")))}async function Cu(t,e){var r;const n=null==(r=e.replacer)?void 0:r.call(e,t);if("string"==typeof n)return n;if("#document"===t.nodeName||"#document-fragment"===t.nodeName)return zu(t,e);if(t.tagName)return async function(t,e){const r=function(t){var e=t.tagName;return "http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e}(t);let n="<"+r;n+=function(t,e){return t.hasAttribute("xmlns")||!e&&t.namespaceURI===t.parentElement.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(t,0===e.depth);const i=zu(t,e),s="img"===r;for(const a of t.attributes)s&&"src"===a.name?n+=Ou(a.name,await Th.getDataURL(a.value)):n+=Ou(a.name,a.value);return t.childNodes.length>0?(e.depth++,n+=">",n+=await i,n+="</"+r+">",e.depth--):n+="/>",n}(t,e);if("#text"===t.nodeName)return function(t){return (t.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t);if("#comment"===t.nodeName);else if("#cdata-section"===t.nodeName)return function(t){return "<![CDATA["+t.nodeValue+"]]>"}(t);return ""}async function Au(t,e){return (await Cu(t,{depth:0,replacer:e})).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}!function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,h,c,l,p,f,d,m,y,g,v;s>=64;){for(a=r[0],o=r[1],u=r[2],h=r[3],c=r[4],l=r[5],p=r[6],f=r[7],m=0;m<16;m++)y=i+4*m,t[m]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(m=16;m<64;m++)g=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(g+t[m-7]|0)+(v+t[m-16]|0);for(m=0;m<64;m++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(f+(e[m]+t[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=l,l=c,c=h+g|0,h=u,u=o,o=a,a=g+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=h,r[4]+=c,r[5]+=l,r[6]+=p,r[7]+=f,i+=64,s-=64;}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset();}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset();},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0);}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0;}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e];},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0;},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0;}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean();},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function o(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++;}t.HMAC=i,t.hash=s,t.default=s,t.hmac=a;var u=new Uint8Array(t.digestLength);function h(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),h=a(e,t),c=new i(h),l=new Uint8Array(c.digestLength),p=l.length,f=new Uint8Array(n),d=0;d<n;d++)p===l.length&&(o(l,c,r,s),p=0),f[d]=l[p++];return c.clean(),l.fill(0),s.fill(0),f}function c(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),h=new Uint8Array(a),c=new Uint8Array(n),l=0;l*a<n;l++){var p=l+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(h);for(var f=0;f<a;f++)u[f]=h[f];for(f=2;f<=r;f++){s.reset(),s.update(h).finish(h);for(var d=0;d<a;d++)u[d]^=h[d];}for(f=0;f<a&&l*a+f<n;f++)c[l*a+f]=u[f];}for(l=0;l<a;l++)u[l]=h[l]=0;for(l=0;l<4;l++)o[l]=0;return s.clean(),c}t.hkdf=h,t.pbkdf2=c;}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i;}();}(Tu);const Ru=new TextEncoder,Du=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.pseudoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new wu,this.padding=new bu,this.margin=new bu,this.border=new bu,this.childLayers=[],this.rasterizationCount=new Map,this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgHash="",this._svgDocument="",this._svgHashRasterizing="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),this.serializationReplacer=t=>{if(this.element===t)return;const e=t,r=Th.layers.get(e);if(r){const t=r.bounds;let n="";const i=`max-width:${t.width+1}px;max-height:${t.height+1}px;min-width:${t.width}px;min-height:${t.height}px;visibility:hidden`;let s=!1;for(const e of r.element.attributes)"src"!==e.name&&("style"==e.name?(n+=Ou(e.name,e.value+";"+i),s=!0):n+=Ou(e.name,e.value));s||(n+=Ou("style",i));const a=e.tagName.toLowerCase();return `<${a} ${n}></${a}>`}},Th.layers.set(t,this),this.id=t.getAttribute(Th.ELEMENT_UID_ATTRIBUTE)||Th.generateElementUID(),t.setAttribute(Th.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(Th.LAYER_ATTRIBUTE,""),this.parentLayer=Th.getClosestLayer(this.element,!1),this.eventCallback("layercreated",{target:t}),Du.cachedCanvases.limit=Th.layers.size*Du.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20;}trySetFromSVGHash(t){const e=this.cachedBounds.get(t),r=this.cachedMargin.get(t);if(t==this._currentSVGHash)return e&&r&&(this._currentBounds=e,this._currentMargin=r),!0;{const n=Du.svgCanvasHash.get(this._currentSVGHash),i=Du.svgCanvasHash.get(t),s=Du.cachedCanvases.get(i);if(s&&e&&r)return this._currentSVGHash=t,this._currentCanvas=s,this._currentBounds=e,this._currentMargin=r,n!==i&&this.eventCallback&&this.eventCallback("layerchanged",{target:this.element}),!0}return !1}get currentCanvas(){return this._currentCanvas}get currentBounds(){return this._currentBounds}get currentMargin(){return this._currentMargin}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e));}traverseLayers(t){t(this),this.traverseChildLayers(t);}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t);}refresh(){_u(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),Mu(this.element,this.margin),this._currentSVGHash||(this._currentBounds=this.bounds,this._currentMargin=this.margin),this.needsRefresh=!1,this._updateParentAndChildLayers(),Th.addToSerializeQueue(this);}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,r=e.slice(),n=this.parentLayer;this.parentLayer=Th.getClosestLayer(this.element,!1),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,vu(t,this._tryConvertElementToWebLayer,this);for(const i of r){Th.getClosestLayer(i.element,!1)||(i.needsRemoval=!0,e.push(i));}}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return !1;const e=t,r=getComputedStyle(e);e.getAttribute(Th.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(Th.ELEMENT_UID_ATTRIBUTE,Th.generateElementUID());if(e.hasAttribute(Th.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==r.transform){let t=Th.layers.get(e);return t||(t=new Du(e,this.eventCallback)),this.childLayers.push(t),!1}return !0}async serialize(){var t;const e=this.element;if("VIDEO"===e.nodeName)return;_u(e,this.bounds,null==(t=this.parentLayer)?void 0:t.element);let{width:r,height:n}=this.bounds;if(r*n>0){!function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.paddingLeft)||0,e.right=parseFloat(r.paddingRight)||0,e.top=parseFloat(r.paddingTop)||0,e.bottom=parseFloat(r.paddingBottom)||0;}(e,this.padding),Mu(e,this.margin),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.borderLeftWidth)||0,e.right=parseFloat(r.borderRightWidth)||0,e.top=parseFloat(r.borderTopWidth)||0,e.bottom=parseFloat(r.borderBottomWidth)||0;}(e,this.border),r+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),n+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0);const t=Th.attributeHTML(Th.ELEMENT_UID_ATTRIBUTE,""+this.id),i="inline"===getComputedStyle(e).display;Th.updateInputAttributes(e);const s=this._getParentsHTML(e);s[0]=s[0].replace("html","html "+Th.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');let[a,o]=await Promise.all([Th.getRenderingCSS(e),Au(e,this.serializationReplacer)]);o=o.replace(t,`${t} ${Th.RENDERING_ATTRIBUTE}="" ${i?`${Th.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+Th.getPsuedoAttributes(this.pseudoStates));const u='<svg width="'+r+'" height="'+n+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+a.join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+(r+1)+'" height="'+(n+1)+'">'+s[0]+o+s[1]+"</foreignObject></svg>",h=this._svgDocument=u,c=this._svgHash=Th.arrayBufferToBase64(Tu.exports.hash(Ru.encode(h)))+"?w="+r+";h="+n;if(this.cachedBounds.set(c,(new wu).copy(this.bounds)),this.cachedMargin.set(c,(new bu).copy(this.margin)),this.trySetFromSVGHash(c))return;Th.addToRasterizeQueue(this);}}async rasterize(){return new Promise(((t,e)=>{const r=()=>{Th.addToRenderQueue(this),this.svgImage.onload=null,t();};this.svgImage.onload=()=>{setTimeout(r,10);},this.svgImage.onerror=t=>{e(t);},this._svgHashRasterizing=this._svgHash,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument);}))}render(){if(!this.svgImage.complete||this.svgImage.currentSrc!==this.svgImage.src)return void setTimeout((()=>Th.addToRenderQueue(this)),100);const t=this._svgHashRasterizing;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);let{width:e,height:r}=this.cachedBounds.get(t),{left:n,top:i,right:s,bottom:a}=this.cachedMargin.get(t);const o=e+n+s,u=r+i+a,h=this._hashingCanvas;let c=h.width,l=h.height;const p=h.getContext("2d");p.clearRect(0,0,c,l),p.imageSmoothingEnabled=!1,p.drawImage(this.svgImage,0,0,o,u,0,0,c,l);const f=p.getImageData(0,0,c,l).data,d=Th.arrayBufferToBase64(Tu.exports.hash(new Uint8Array(f))),m=Du.svgCanvasHash.get(t);Du.svgCanvasHash.set(t,d),m!==d&&Du.svgRetryCount.set(t,0);const y=Du.svgRetryCount.get(t)||0;if(Du.svgRetryCount.set(t,y+1),y>3&&Du.cachedCanvases.has(d))return void(this._svgHash===this._svgHashRasterizing&&this.trySetFromSVGHash(this._svgHash));if(setTimeout((()=>Th.addToRenderQueue(this)),2*(500+1e3*Math.random())^y),m===d)return;const g=this.pixelRatio||parseFloat(this.element.getAttribute(Th.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,v=Du.cachedCanvases.size===Du.cachedCanvases.limit?Du.cachedCanvases.shift()[1]:document.createElement("canvas");let x=v.width=o*g,w=v.height=u*g;const b=v.getContext("2d");b.imageSmoothingEnabled=!1,b.clearRect(0,0,x,w),b.drawImage(this.svgImage,0,0,o,u,0,0,x,w),Du.cachedCanvases.set(d,v),console.log("layer painted x"+y,this.element),this._svgHash===this._svgHashRasterizing&&this.trySetFromSVGHash(t);}_getParentsHTML(t){const e=[],r=[];let n=t.parentElement;n||(n=document.documentElement);do{let t=n.tagName.toLowerCase(),i=" ";for(const e of n.attributes)"style"!==e.name&&(i+=`${e.name}="${e.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${Th.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const a="</"+t+">";if(r.push(a),"html"==t)break}while(n=n!==document.documentElement?n.parentElement||document.documentElement:null);return [e.join(""),r.join("")]}};let ku=Du;ku.DEFAULT_CACHE_SIZE=4,ku.svgRetryCount=new Map,ku.svgCanvasHash=new Su.LRUMap(1e3),ku.cachedCanvases=new Su.LRUMap(Du.DEFAULT_CACHE_SIZE);var Iu,Lu,Bu=[],Fu="ResizeObserver loop completed with undelivered notifications.";(Lu=Iu||(Iu={})).BORDER_BOX="border-box",Lu.CONTENT_BOX="content-box",Lu.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Pu,Uu=function(t){return Object.freeze(t)},ju=function(t,e){this.inlineSize=t,this.blockSize=e,Uu(this);},qu=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Uu(this)}return t.prototype.toJSON=function(){var t=this;return {x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Hu=function(t){return t instanceof SVGElement&&"getBBox"in t},Vu=function(t){if(Hu(t)){var e=t.getBBox(),r=e.width,n=e.height;return !r&&!n}var i=t,s=i.offsetWidth,a=i.offsetHeight;return !(s||a||t.getClientRects().length)},$u=function(t){var e,r;if(t instanceof Element)return !0;var n=null===(r=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView;return !!(n&&t instanceof n.Element)},Gu="undefined"!=typeof window?window:{},Wu=new WeakMap,Yu=/auto|scroll/,Zu=/^tb|vertical/,Xu=/msie|trident/i.test(Gu.navigator&&Gu.navigator.userAgent),Qu=function(t){return parseFloat(t||"0")},Ju=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new ju((r?e:t)||0,(r?t:e)||0)},Ku=Uu({devicePixelContentBoxSize:Ju(),borderBoxSize:Ju(),contentBoxSize:Ju(),contentRect:new qu(0,0,0,0)}),th=function(t,e){if(void 0===e&&(e=!1),Wu.has(t)&&!e)return Wu.get(t);if(Vu(t))return Wu.set(t,Ku),Ku;var r=getComputedStyle(t),n=Hu(t)&&t.ownerSVGElement&&t.getBBox(),i=!Xu&&"border-box"===r.boxSizing,s=Zu.test(r.writingMode||""),a=!n&&Yu.test(r.overflowY||""),o=!n&&Yu.test(r.overflowX||""),u=n?0:Qu(r.paddingTop),h=n?0:Qu(r.paddingRight),c=n?0:Qu(r.paddingBottom),l=n?0:Qu(r.paddingLeft),p=n?0:Qu(r.borderTopWidth),f=n?0:Qu(r.borderRightWidth),d=n?0:Qu(r.borderBottomWidth),m=l+h,y=u+c,g=(n?0:Qu(r.borderLeftWidth))+f,v=p+d,x=o?t.offsetHeight-v-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,b=i?m+g:0,_=i?y+v:0,M=n?n.width:Qu(r.width)-b-w,N=n?n.height:Qu(r.height)-_-x,E=M+m+w+g,S=N+y+x+v,T=Uu({devicePixelContentBoxSize:Ju(Math.round(M*devicePixelRatio),Math.round(N*devicePixelRatio),s),borderBoxSize:Ju(E,S,s),contentBoxSize:Ju(M,N,s),contentRect:new qu(l,u,M,N)});return Wu.set(t,T),T},eh=function(t,e,r){var n=th(t,r),i=n.borderBoxSize,s=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Iu.DEVICE_PIXEL_CONTENT_BOX:return a;case Iu.BORDER_BOX:return i;default:return s}},rh=function(t){var e=th(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Uu([e.borderBoxSize]),this.contentBoxSize=Uu([e.contentBoxSize]),this.devicePixelContentBoxSize=Uu([e.devicePixelContentBoxSize]);},nh=function(t){if(Vu(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},ih=function(){var t=1/0,e=[];Bu.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(e){var r=new rh(e.target),i=nh(e.target);n.push(r),e.lastReportedSize=eh(e.target,e.observedBox),i<t&&(t=i);})),e.push((function(){r.callback.call(r.observer,n,r.observer);})),r.activeTargets.splice(0,r.activeTargets.length);}}));for(var r=0,n=e;r<n.length;r++){(0, n[r])();}return t},sh=function(t){Bu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(r){r.isActive()&&(nh(r.target)>t?e.activeTargets.push(r):e.skippedTargets.push(r));}));}));},ah=function(){var t,e=0;for(sh(e);Bu.some((function(t){return t.activeTargets.length>0}));)e=ih(),sh(e);return Bu.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Fu}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Fu),window.dispatchEvent(t)),e>0},oh=[],uh=function(t){if(!Pu){var e=0,r=document.createTextNode("");new MutationObserver((function(){return oh.splice(0).forEach((function(t){return t()}))})).observe(r,{characterData:!0}),Pu=function(){r.textContent=""+(e?e--:e++);};}oh.push(t),Pu();},hh=0,ch={attributes:!0,characterData:!0,childList:!0,subtree:!0},lh=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ph=function(t){return void 0===t&&(t=0),Date.now()+t},fh=!1,dh=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()};}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!fh){fh=!0;var r,n=ph(t);r=function(){var r=!1;try{r=ah();}finally{if(fh=!1,t=n-ph(),!hh)return;r?e.run(1e3):t>0?e.run(t):e.start();}},uh((function(){requestAnimationFrame(r);}));}},t.prototype.schedule=function(){this.stop(),this.run();},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,ch)};document.body?e():Gu.addEventListener("DOMContentLoaded",e);},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),lh.forEach((function(e){return Gu.addEventListener(e,t.listener,!0)})));},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),lh.forEach((function(e){return Gu.removeEventListener(e,t.listener,!0)})),this.stopped=!0);},t}()),mh=function(t){!hh&&t>0&&dh.start(),!(hh+=t)&&dh.stop();},yh=function(){function t(t,e){this.target=t,this.observedBox=e||Iu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return t.prototype.isActive=function(){var t,e=eh(this.target,this.observedBox,!0);return t=this.target,Hu(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return !0}return !1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),gh=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e;},vh=new WeakMap,xh=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return -1},wh=function(){function t(){}return t.connect=function(t,e){var r=new gh(t,e);vh.set(t,r);},t.observe=function(t,e,r){var n=vh.get(t),i=0===n.observationTargets.length;xh(n.observationTargets,e)<0&&(i&&Bu.push(n),n.observationTargets.push(new yh(e,r&&r.box)),mh(1),dh.schedule());},t.unobserve=function(t,e){var r=vh.get(t),n=xh(r.observationTargets,e),i=1===r.observationTargets.length;n>=0&&(i&&Bu.splice(Bu.indexOf(r),1),r.observationTargets.splice(n,1),mh(-1));},t.disconnect=function(t){var e=this,r=vh.get(t);r.observationTargets.slice().forEach((function(r){return e.unobserve(t,r.target)})),r.activeTargets.splice(0,r.activeTargets.length);},t}(),bh=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");wh.connect(this,t);}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$u(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");wh.observe(this,t,e);},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$u(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");wh.unobserve(this,t);},t.prototype.disconnect=function(){wh.disconnect(this);},t.toString=function(){return "function ResizeObserver () { [polyfill code] }"},t}();const _h=self.ResizeObserver||bh;const Mh=new m,Nh=new m,Eh=new TextDecoder;Promise.resolve();const Sh=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return ""+this._nextUID++}static getPsuedoAttributes(t){return `${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,r=t.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;if(!this.renderingStyleElement){const t=this.renderingStyleElement=e.createElement("style");n.append(t);const r=t.sheet;let i=0;xu(r,`[${Sh.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",i++),xu(r,`[${Sh.RENDERING_ATTRIBUTE}], [${Sh.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",i++),xu(r,`[${Sh.RENDERING_ATTRIBUTE}] [${Sh.LAYER_ATTRIBUTE}], [${Sh.RENDERING_ATTRIBUTE}] [${Sh.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",i++),xu(r,`[${Sh.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",i++),xu(r,`[${Sh.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",i++),xu(r,`[${Sh.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; height:100% !important; padding:0 !important; position:fixed !important; display:block !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",i++),xu(r,`[${Sh.RENDERING_PARENT_ATTRIBUTE}]::before, [${Sh.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",i++);}if(r===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash);}catch{}t=window.location.hash;};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target;}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null;}),!1),window.addEventListener("load",(t=>{i();}));}const i=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0;},s=t=>{var e=t.nodeName.toUpperCase();-1!==a.indexOf(e)&&t.addEventListener("load",i);},a=["STYLE","LINK"],o=new MutationObserver((t=>{var r;for(const n of t){-1!==a.indexOf(n.target.nodeName.toUpperCase())&&(i(),null==(r=this.embeddedCSS.get(e))||r.delete(n.target));for(const t of n.addedNodes)s(t);}}));o.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,o);}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t);}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t);}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t);}static _runTasks(){Sh.tasksPending=!1;const t=Sh.serializeQueue,e=Sh.rasterizeQueue,r=Sh.renderQueue,n=Sh.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;r.length&&performance.now()-i<n;)r.shift().render();for(i=performance.now();t.length&&performance.now()-i<n;)t.shift().serialize();e.length&&Sh.rasterizeTaskCount<Sh.TASK_ASYNC_MAX_COUNT&&(Sh.rasterizeTaskCount++,e.shift().rasterize().finally((()=>{Sh.rasterizeTaskCount--;})));}static scheduleTasksIfNeeded(){this.tasksPending||0===Sh.serializeQueue.length&&0===Sh.renderQueue.length&&(0===Sh.rasterizeQueue.length||Sh.rasterizeTaskCount===Sh.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,Sh.scheduleIdle(Sh._runTasks));}static scheduleIdle(t){setTimeout(t,1);}static setLayerNeedsRefresh(t){t.needsRefresh=!0;}static createLayerTree(t,e,r){if(Sh.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t,e){if(document.contains(t))return t;const r=document.createElement("div");r.setAttribute(Th.RENDERING_CONTAINER_ATTRIBUTE,""),r.style.all="initial",r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.style.top="0px",r.style.visibility="hidden",r.style.pointerEvents="none",r.style.touchAction="none",r.style.contain="strict",r.attachShadow({mode:"open"}).appendChild(t),document.documentElement.appendChild(r);}(t),Sh.initRootNodeObservation(t);const n=new MutationObserver(Sh._handleMutations);this.mutationObservers.set(t,n),this.startMutationObserver(t);const i=new _h((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(Sh.setLayerNeedsRefresh),t.traverseParentLayers(Sh.setLayerNeedsRefresh);}}));i.observe(t),this.resizeObservers.set(t,i),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const s=new ku(t,r);return this.rootLayers.set(t,s),s}static disposeLayer(t){if(this.rootLayers.has(t.element)){this.rootLayers.delete(t.element);this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element);this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0});}}static getClosestLayer(t,e=!0){let r=e?t:t.parentElement;const n=null==r?void 0:r.closest(`[${Sh.LAYER_ATTRIBUTE}]`);if(!n){const r=(null==t?void 0:t.getRootNode()).host;if(r)return this.getClosestLayer(r,e)}return this.layers.get(n)}static parseCSSTransform(t,e,r,n,i=new m){const s=t.transform,a=t.transformOrigin;if(0==s.indexOf("matrix(")){i.identity();var o=s.substring(7,s.length-1).split(", ").map(parseFloat);i.elements[0]=o[0],i.elements[1]=o[1],i.elements[4]=o[2],i.elements[5]=o[3],i.elements[12]=o[4],i.elements[13]=o[5];}else {if(0!=s.indexOf("matrix3d("))return null;o=s.substring(9,s.length-1).split(", ").map(parseFloat);i.fromArray(o);}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=n,i.elements[13]*=-1*n;var u=a.split(" ").map(parseFloat),h=(u[0]-e/2)*n,c=(u[1]-r/2)*n*-1,l=u[2]||0,p=Mh.identity().makeTranslation(-h,-c,-l),f=Nh.identity().makeTranslation(h,c,l);for(const d of i.elements)if(isNaN(d))return null;return i.premultiply(f).multiply(p)}static async embedExternalResources(t){const e=[],r=t.querySelectorAll("*");for(const i of r){const t=i.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.push(Sh.getDataURL(t).then((t=>{i.removeAttributeNS("http://www.w3.org/1999/xlink","href"),i.setAttribute("href",t);})));const r=i;if("IMG"==i.tagName&&"data"!=r.src.substr(0,4)&&e.push(Sh.getDataURL(r.src).then((t=>{i.setAttribute("src",t);}))),"http://www.w3.org/1999/xhtml"==i.namespaceURI&&i.hasAttribute("style")){const t=i.getAttribute("style")||"";e.push(Sh.generateEmbeddedCSS(window.location.href,t).then((e=>{t!=e&&i.setAttribute("style",e);})));}}const n=t.querySelectorAll("style");for(const i of n)e.push(Sh.generateEmbeddedCSS(window.location.href,i.innerHTML).then((t=>{i.innerHTML!=t&&(i.innerHTML=t);})));return Promise.all(e)}static pauseMutationObservers(){const t=Sh.mutationObservers.values();for(const e of t)Sh._handleMutations(e.takeRecords()),e.disconnect();}static resumeMutationObservers(){for(const[t]of Sh.mutationObservers)this.startMutationObserver(t);}static startMutationObserver(t){Sh.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0});}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let s=0;s<e.length;s++)try{const t=e[s],i=t.cssRules;if(!i)continue;const a=[];for(var r=0;r<i.length;r++){i[r].cssText.indexOf(":hover")>-1&&a.push(i[r].cssText.replace(new RegExp(":hover","g"),`[${Sh.HOVER_ATTRIBUTE}]`)),i[r].cssText.indexOf(":active")>-1&&a.push(i[r].cssText.replace(new RegExp(":active","g"),`[${Sh.ACTIVE_ATTRIBUTE}]`)),i[r].cssText.indexOf(":focus")>-1&&a.push(i[r].cssText.replace(new RegExp(":focus","g"),`[${Sh.FOCUS_ATTRIBUTE}]`)),i[r].cssText.indexOf(":target")>-1&&a.push(i[r].cssText.replace(new RegExp(":target","g"),`[${Sh.TARGET_ATTRIBUTE}]`));var n=a.indexOf(i[r].cssText);n>-1&&a.splice(n,1);}for(r=0;r<a.length;r++)t.insertRule(a[r]);}catch(i){}}static arrayBufferToBase64(t){for(var e="",r=t.byteLength,n=0;n<r;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let r;const n=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;r=i.exec(e);){const i=r[1];n.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t);})));}return await Promise.all(n),e}static async getURL(t,e){return t=new URL(t,window.location.href).href,new Promise((r=>{var n=new XMLHttpRequest;n.open("GET",t,!0),e&&n.setRequestHeader("accept",e),n.responseType="arraybuffer",n.onload=()=>{r(n);},n.onerror=()=>{r(n);},n.send();}))}static async getRenderingCSS(t){const e=t.getRootNode(),r=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,r);const n=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));n.push(this.renderingStyleElement);const i=t.getRootNode()instanceof ShadowRoot;function s(t){let e="",r="";for(const n of t)n.type===CSSRule.FONT_FACE_RULE&&(r+="\n\n"+n.cssText),e+="\n\n"+n.cssText;return {allRules:e,fontRules:r}}for(const a of n)r.has(a)||r.set(a,new Promise((t=>{const n=setInterval((()=>{if(a.sheet){clearInterval(n);const o=s(a.sheet.rules);if(i&&o.fontRules){const t=document.createElement("style");t.innerHTML=o.fontRules,document.head.appendChild(t),r.set(t,Promise.resolve(""));}this._addDynamicPseudoClassRules(e),t(o.allRules);}}),10);})).then((t=>this.generateEmbeddedCSS(window.location.href,t))));return Promise.all(r.values())}static async getDataURL(t){if(this.dataURLMap.has(t))return this.dataURLMap.get(t);const e=new Promise((async e=>{var r;const n=await this.getURL(t),i=new Uint8Array(n.response),s=null==(r=n.getResponseHeader("Content-Type"))?void 0:r.split(";")[0];let a="";if("text/css"==s){let e=Eh.decode(i);e=await this.generateEmbeddedCSS(t,e);const r=window.btoa(e);r.length>0&&(a="data:"+s+";base64,"+r);}else a="data:"+s+";base64,"+this.arrayBufferToBase64(i);e(a);}));return this.dataURLMap.set(t,e),e}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e);}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value);}static isBlankImage(t){return !new Uint32Array(t.buffer).some((t=>0!==t))}};let Th=Sh;if(Th.ATTRIBUTE_PREFIX="xr",Th._nextUID=0,Th.serializer=new XMLSerializer,Th.rootLayers=new Map,Th.layers=new Map,Th.mutationObservers=new Map,Th.resizeObservers=new Map,Th.serializeQueue=[],Th.rasterizeQueue=[],Th.renderQueue=[],Th.focusElement=null,Th.activeElement=null,Th.targetElement=null,Th.rootNodeObservers=new Map,Th.TASK_ASYNC_MAX_COUNT=2,Th.TASK_SYNC_MAX_TIME=200,Th.rasterizeTaskCount=0,Th.tasksPending=!1,Th._handleMutations=t=>{for(const e of t){if("attributes"===e.type){if(e.target.getAttribute(e.attributeName)===e.oldValue)continue}if("characterData"===e.type){if(e.target.data===e.oldValue)continue}const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const r=Sh.getClosestLayer(t);if(r){if("attributes"===e.type&&"class"===e.attributeName){if((e.oldValue?e.oldValue:"")===e.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(Sh.setLayerNeedsRefresh):r.traverseLayers(Sh.setLayerNeedsRefresh);}}},Th._triggerRefresh=async t=>{const e=Sh.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(Sh.setLayerNeedsRefresh):e.traverseLayers(Sh.setLayerNeedsRefresh));},Th.embeddedCSS=new Map,Th.dataURLMap=new Map,self.THREE)var Oh=self.THREE;else Oh=t;const zh=new Oh.Matrix4,Ch=new Oh.Vector3,Ah=new Oh.Vector3,Rh=new wu,Dh=new wu,kh=Symbol("ON_BEFORE_UPDATE");class Ih extends Oh.Object3D{constructor(t,e={}){super(),this.element=t,this.options=e,this.isRoot=!1,this._localZ=0,this._viewZ=0,this._renderZ=0,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new Oh.Mesh(Bh.GEOMETRY,new Oh.MeshBasicMaterial({side:Oh.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new Oh.Mesh(Bh.GEOMETRY,new Oh.MeshBasicMaterial({visible:!1})),this.cursor=new Oh.Object3D,this.depthMaterial=new Oh.MeshDepthMaterial({depthPacking:Oh.RGBADepthPacking,alphaTest:.001}),this.domLayout=new Oh.Object3D,this.domSize=new Oh.Vector3(1,1,1),this.bounds=new wu,this.margin=new bu,this.childWebLayers=[],this.shouldApplyDOMLayout="auto",this.name=t.id,this._webLayer=Th.getClosestLayer(t),t.layer=this,this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(t,e,r)=>{this._camera=r;},this._boundsMesh.matrixAutoUpdate=!0,Bh.layersByElement.set(this.element,this),Bh.layersByMesh.set(this.contentMesh,this);}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new Oh.VideoTexture(t),e.wrapS=Oh.ClampToEdgeWrapping,e.wrapT=Oh.ClampToEdgeWrapping,e.minFilter=Oh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.currentCanvas;let e=this.textures.get(t);return t&&!e&&(e=new Oh.Texture(t),e.needsUpdate=!0,e.wrapS=Oh.ClampToEdgeWrapping,e.wrapT=Oh.ClampToEdgeWrapping,e.minFilter=Oh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.pseudoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(Th.setLayerNeedsRefresh);}get needsRemoval(){return this._webLayer.needsRemoval}get parentWebLayer(){return this._webLayer.parentLayer&&Bh.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){var e;this._webLayer.refresh(),this.childWebLayers.length=0;for(const r of this._webLayer.childLayers){const n=Bh.layersByElement.get(null==(e=Th.getClosestLayer(r.element))?void 0:e.element);n&&(this.childWebLayers.push(n),t&&n.refresh(t));}this._refreshVideoBounds();}updateLayout(){if(this._updateDOMLayout(),this._camera){this._localZ=Math.abs(Ch.setFromMatrixPosition(this.matrix).z+Ch.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Ch).applyMatrix4(this._camera.matrixWorldInverse).z);let t=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=t:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index);}}updateContent(){const t=this.contentMesh,e=this.currentTexture,r=t.material;if(e&&(e.image&&r.map!==e||this.textureNeedsUpdate)){const t=this.contentMesh.scale,n=Math.abs(t.x*this.scale.x/t.y*this.scale.y),i=this.domSize.x/this.domSize.y;Math.abs(i-n)<1e3&&(r.map=e,this.depthMaterial.map=e,this.textureNeedsUpdate=!1,r.needsUpdate=!0,e.needsUpdate=!0,this.depthMaterial.needsUpdate=!0);}r.transparent=!0;const n=t.material.opacity<.005;n?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&n&&(this.parent&&this.parent.remove(this),this.dispose());}get rootWebLayer(){return Bh.layersByElement.get(this._webLayer.rootLayer.element)}[kh](){}_doUpdate(){this[kh](),this.updateContent(),this.updateLayout(),this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.options.autoRefresh&&this.refresh(),Th.scheduleTasksIfNeeded();}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate();}querySelector(t){var e;const r=this.element.querySelector(t)||(null==(e=this.element.shadowRoot)?void 0:e.querySelector(t));if(r)return Bh.layersByElement.get(r)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e));}traverseLayersPreOrder(t){if(!1===t.call(this,this))return !1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return !1;return !0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return !1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),Th.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose();}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,r=getComputedStyle(this.element),{objectFit:n}=r,{width:i,height:s}=this.bounds.copy(this._webLayer.currentBounds),{videoWidth:a,videoHeight:o}=t,u=a/o,h=i/s;switch(e.center.set(.5,.5),n){case"none":e.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),h>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;case"cover":if(e.repeat.set(i/a,s/o),h<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;default:case"fill":e.repeat.set(1,1);}}}_updateDOMLayout(){if(this.needsRemoval)return;const{currentBounds:t,currentMargin:e}=this._webLayer;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const r="VIDEO"===this.element.nodeName,n=r?this.bounds:this.bounds.copy(t),i=r?this.margin:this.margin.copy(e),s=n.width+i.left+i.right,a=n.height+i.top+i.bottom,o=n.width,u=n.height,h=1/Bh.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(h*(o+i.left+i.right),1e-5),Math.max(h*(u+i.top+i.bottom),1e-5),1),!Bh.shouldApplyDOMLayout(this))return;const c=this.parentWebLayer;if(!c)return;const l=c.bounds,p=c.margin,f=l.width+p.left+p.right,d=l.height+p.bottom+p.bottom,m=-f/2+p.left,y=d/2-p.top;this.domLayout.position.set(h*(m+s/2+n.left-i.left),h*(y-a/2-n.top+i.top),0);const g=getComputedStyle(this.element),v=g.transform;if(v&&"none"!==v){const t=Th.parseCSSTransform(g,n.width,n.height,h,zh);t&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(t),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale));}}}const Lh=class extends Oh.Object3D{constructor(t,e={}){super(),this.options=e,this._interactionRays=[],this._raycaster=new Oh.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh);};const r="string"==typeof t?Eu(t):t;Th.createLayerTree(r,e,((t,{target:e})=>{var n,i;if("layercreated"===t){const t=new Ih(e,this.options);e===r?(t[kh]=()=>this._updateInteractions(),t.isRoot=!0,this.rootLayer=t,this.add(t)):null==(n=t.parentWebLayer)||n.add(t),this.options.onLayerCreate&&this.options.onLayerCreate(t);}else if("layerchanged"===t){const t=Th.layers.get(e);Lh.layersByElement.get(t.element).textureNeedsUpdate=!0,console.log("layerchanged",t.element);}else if("layermoved"===t){const t=Lh.layersByElement.get(e);null==(i=t.parentWebLayer)||i.add(t);}})),this.refresh(),this.update();}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return "always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t;}querySelector(t){return this.rootLayer.querySelector(t)}refresh(){this.rootLayer.refresh(!0);}update(){this.rootLayer.update(!0);}get contentMesh(){return this.rootLayer.contentMesh}_intersectionSort(t,e){const r=t.object.parent,n=e.object.parent;return r.depth!==n.depth?n.depth-r.depth:n.index-r.index}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof Oh.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(Ch),e.getWorldDirection(Ah).negate()),this._hitIntersections.length=0;const r=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.sort(this._intersectionSort);const n=r[0];if(n){const e=n.object.parent;e.cursor.position.copy(n.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh();}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh();}hitTest(t){const e=this._raycaster,r=this._hitIntersections,n=Lh.layersByMesh;t instanceof Oh.Ray?this._raycaster.ray.copy(t):this._raycaster.ray.set(t.getWorldPosition(Ch),t.getWorldDirection(Ah).negate()),r.length=0,e.intersectObject(this,!0,r),r.sort(this._intersectionSort);for(const i of r){const t=n.get(i.object);if(!t)continue;const e=_u(t.element,Rh);if(!e.width||!e.height)continue;let r=t.element;const s=i.uv.x*e.width,a=(1-i.uv.y)*e.height;return vu(t.element,(t=>{if(!r.contains(t))return !1;const n=_u(t,Dh),i=n.left-e.left,o=n.top-e.top,{width:u,height:h}=n;return s>i&&s<i+u&&a>o&&a<o+h&&(r=t,!0)})),{layer:t,intersection:i,target:r}}}};let Bh=Lh;Bh.layersByElement=new WeakMap,Bh.layersByMesh=new WeakMap,Bh.DEFAULT_LAYER_SEPARATION=.001,Bh.DEFAULT_PIXELS_PER_UNIT=1e3,Bh.GEOMETRY=new Oh.PlaneGeometry(1,1,2,2);

export { Bh as B, Fragment as F, popScopeId as a, createVNode as b, createBlock as c, createApp as d, readonly as e, createTextVNode as f, inject as i, openBlock as o, pushScopeId as p, reactive as r, toDisplayString as t, unref as u };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLWUyYWE4ZDMyLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtY29yZS9kaXN0L3J1bnRpbWUtY29yZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtZG9tL2Rpc3QvcnVudGltZS1kb20uZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvVmVjdG9yMi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRoVXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9WZWN0b3IzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdHJpeDQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvRXVsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvQ29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvQm94Mi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9Cb3gzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1JheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9MaW5lMy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRyaXgzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1BsYW5lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUvbWF0aC11dGlscy50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1NwYXRpYWxNZXRyaWNzLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUvU3BhdGlhbExheW91dC50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9wbW90aW9uL2Vhc2luZy9kaXN0L2Vhc2luZy5lcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1RyYW5zaXRpb25hYmxlLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2lzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL29iamVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90eXBlZC1mdW5jdGlvbi90eXBlZC1mdW5jdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9udW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYmlnbnVtYmVyL2Zvcm1hdHRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvSW5kZXhFcnJvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9mYWN0b3J5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2NvcmUvZnVuY3Rpb24vdHlwZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9yZXN1bHRzZXQvUmVzdWx0U2V0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2RlY2ltYWwuanMvZGVjaW1hbC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9iaWdudW1iZXIvQmlnTnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvbXBsZXguanMvY29tcGxleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2NvbXBsZXgvQ29tcGxleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFjdGlvbi5qcy9mcmFjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2ZyYWN0aW9uL0ZyYWN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1JhbmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L01hdHJpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9EZW5zZU1hdHJpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jb2xsZWN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3BsYWluL251bWJlci9hcml0aG1ldGljLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3V0aWxzL2lzTnVtZXJpYy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9lcXVhbFNjYWxhci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jb21wbGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1NwYXJzZU1hdHJpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL251bWJlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2JpZ251bWJlci9mdW5jdGlvbi9iaWdudW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9mcmFjdGlvbi9mdW5jdGlvbi9mcmFjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9mdW5jdGlvbi9tYXRyaXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy91bmFyeU1pbnVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWJzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWRkU2NhbGFyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvY2VpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2ZpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2Zsb29yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbW9kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbXVsdGlwbHlTY2FsYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9tdWx0aXBseS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3N1YnRyYWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2NvbXBsZXgvY29uai5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9scnVRdWV1ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9mdW5jdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvaWRlbnRpdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbm9vcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lcnJvci9Bcmd1bWVudHNFcnJvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvc2l6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jdXN0b21zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9zdWJzZXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L3plcm9zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3N0cmluZy9mb3JtYXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vdXRpbHMvbnVtZXJpYy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2RpdmlkZVNjYWxhci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3Bvdy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3JvdW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvZXF1YWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9zbWFsbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvbGFyZ2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L0ZpYm9uYWNjaUhlYXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvU3BhLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2JpZ251bWJlci9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L1VuaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L2Z1bmN0aW9uL3VuaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L2Z1bmN0aW9uL2NyZWF0ZVVuaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9hZGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2RvdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL2tleXdvcmRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Ob2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS91dGlscy9hY2Nlc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0FjY2Vzc29yTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQXJyYXlOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vb3BlcmF0b3JzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Bc3NpZ25tZW50Tm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvdXRpbHMvYXNzaWduLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9CbG9ja05vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0NvbmRpdGlvbmFsTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9lc2NhcGUtbGF0ZXgvZGlzdC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9sYXRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQ29uc3RhbnROb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9GdW5jdGlvbkFzc2lnbm1lbnROb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9JbmRleE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL09iamVjdE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL09wZXJhdG9yTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvUGFyZW50aGVzaXNOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9SYW5nZU5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1JlbGF0aW9uYWxOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9GdW5jdGlvbk5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNaZXJvcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRG90LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29uai5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmlnbnVtYmVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVW5pdENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRXF1YWwuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGaXguZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDZWlsLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRmxvb3IuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGb3JtYXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJc051bWVyaWMuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNQb3cuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1N5bWJvbE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0V2YWx1YXRlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUGFyc2UuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBY2Nlc3Nvck5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBcnJheU5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Jsb2NrTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1Jlc3VsdFNldC5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbmRpdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbnN0YW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGdW5jdGlvbk5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJbmRleE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSYW5nZUNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzT2JqZWN0Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc09wZXJhdG9yTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1BhcmVudGhlc2lzTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JhbmdlTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JlbGF0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL2Z1bmN0aW9uL2V2YWx1YXRlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEaXZpZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJbnYuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEZXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNMdXAuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTcGFDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZpYm9uYWNjaUhlYXBDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NtYWxsZXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FsZ2VicmEvZGVjb21wb3NpdGlvbi9sdXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2RldC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvaW52LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvZGl2aWRlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RpbnktZW1pdHRlci9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1NwaGVyaWNhbENvb3JkaW5hdGUudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ViLWxheWVyL2RvbS11dGlscy50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXRleHQtZW5jb2RpbmcvdGV4dC5taW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbHJ1X21hcC9scnUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ViLWxheWVyL3htbC1zZXJpYWxpemVyLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3Qtc2hhMjU2L3NoYTI1Ni5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy93ZWItbGF5ZXIvV2ViTGF5ZXIudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1sYXllci9XZWJSZW5kZXJlci50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy93ZWItbGF5ZXIvdGhyZWUvdGhyZWUtd2ViLWxheWVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcclxuICogaXMgaW4gdGhhdCBtYXAuXHJcbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXHJcbiAqIFxcL1xcKiNcXF9cXF9QVVJFXFxfXFxfXFwqXFwvXHJcbiAqIFNvIHRoYXQgcm9sbHVwIGNhbiB0cmVlLXNoYWtlIHRoZW0gaWYgbmVjZXNzYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIsIGV4cGVjdHNMb3dlckNhc2UpIHtcclxuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyB2YWwgPT4gISFtYXBbdmFsLnRvTG93ZXJDYXNlKCldIDogdmFsID0+ICEhbWFwW3ZhbF07XHJcbn1cblxuLyoqXHJcbiAqIGRldiBvbmx5IGZsYWcgLT4gbmFtZSBtYXBwaW5nXHJcbiAqL1xyXG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcclxuICAgIFsxIC8qIFRFWFQgKi9dOiBgVEVYVGAsXHJcbiAgICBbMiAvKiBDTEFTUyAqL106IGBDTEFTU2AsXHJcbiAgICBbNCAvKiBTVFlMRSAqL106IGBTVFlMRWAsXHJcbiAgICBbOCAvKiBQUk9QUyAqL106IGBQUk9QU2AsXHJcbiAgICBbMTYgLyogRlVMTF9QUk9QUyAqL106IGBGVUxMX1BST1BTYCxcclxuICAgIFszMiAvKiBIWURSQVRFX0VWRU5UUyAqL106IGBIWURSQVRFX0VWRU5UU2AsXHJcbiAgICBbNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXTogYFNUQUJMRV9GUkFHTUVOVGAsXHJcbiAgICBbMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovXTogYEtFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFsyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqL106IGBVTktFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFs1MTIgLyogTkVFRF9QQVRDSCAqL106IGBORUVEX1BBVENIYCxcclxuICAgIFsxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi9dOiBgRFlOQU1JQ19TTE9UU2AsXHJcbiAgICBbMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqL106IGBERVZfUk9PVF9GUkFHTUVOVGAsXHJcbiAgICBbLTEgLyogSE9JU1RFRCAqL106IGBIT0lTVEVEYCxcclxuICAgIFstMiAvKiBCQUlMICovXTogYEJBSUxgXHJcbn07XG5cbi8qKlxyXG4gKiBEZXYgb25seVxyXG4gKi9cclxuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcclxuICAgIFsxIC8qIFNUQUJMRSAqL106ICdTVEFCTEUnLFxyXG4gICAgWzIgLyogRFlOQU1JQyAqL106ICdEWU5BTUlDJyxcclxuICAgIFszIC8qIEZPUldBUkRFRCAqL106ICdGT1JXQVJERUQnXHJcbn07XG5cbmNvbnN0IEdMT0JBTFNfV0hJVEVfTElTVEVEID0gJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksJyArXHJcbiAgICAnZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSwnICtcclxuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XHJcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChHTE9CQUxTX1dISVRFX0xJU1RFRCk7XG5cbmNvbnN0IHJhbmdlID0gMjtcclxuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcclxuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KC9cXHI/XFxuLyk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcclxuICAgICAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYCR7bGluZX0keycgJy5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgxLCBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnICcucmVwZWF0KHBhZCkgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA+IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xyXG59XG5cbi8qKlxyXG4gKiBPbiB0aGUgY2xpZW50IHdlIG9ubHkgbmVlZCB0byBvZmZlciBzcGVjaWFsIGNhc2VzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdFxyXG4gKiBoYXZlIGRpZmZlcmVudCBuYW1lcyBmcm9tIHRoZWlyIGNvcnJlc3BvbmRpbmcgZG9tIHByb3BlcnRpZXM6XHJcbiAqIC0gaXRlbXNjb3BlIC0+IE4vQVxyXG4gKiAtIGFsbG93ZnVsbHNjcmVlbiAtPiBhbGxvd0Z1bGxzY3JlZW5cclxuICogLSBmb3Jtbm92YWxpZGF0ZSAtPiBmb3JtTm9WYWxpZGF0ZVxyXG4gKiAtIGlzbWFwIC0+IGlzTWFwXHJcbiAqIC0gbm9tb2R1bGUgLT4gbm9Nb2R1bGVcclxuICogLSBub3ZhbGlkYXRlIC0+IG5vVmFsaWRhdGVcclxuICogLSByZWFkb25seSAtPiByZWFkT25seVxyXG4gKi9cclxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xyXG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcclxuLyoqXHJcbiAqIFRoZSBmdWxsIGxpc3QgaXMgbmVlZGVkIGR1cmluZyBTU1IgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBpbml0aWFsIG1hcmt1cC5cclxuICovXHJcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyArXHJcbiAgICBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixgICtcclxuICAgIGBsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGAgK1xyXG4gICAgYGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgKTtcclxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xyXG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XHJcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcclxuICAgIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcclxuICAgIGlmIChpc1Vuc2FmZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlKTtcclxufVxyXG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcclxuICAgIGFjY2VwdENoYXJzZXQ6ICdhY2NlcHQtY2hhcnNldCcsXHJcbiAgICBjbGFzc05hbWU6ICdjbGFzcycsXHJcbiAgICBodG1sRm9yOiAnZm9yJyxcclxuICAgIGh0dHBFcXVpdjogJ2h0dHAtZXF1aXYnXHJcbn07XHJcbi8qKlxyXG4gKiBDU1MgcHJvcGVydGllcyB0aGF0IGFjY2VwdCBwbGFpbiBudW1iZXJzXHJcbiAqL1xyXG5jb25zdCBpc05vVW5pdE51bWVyaWNTdHlsZVByb3AgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsYm9yZGVyLWltYWdlLW91dHNldCxib3JkZXItaW1hZ2Utc2xpY2UsYCArXHJcbiAgICBgYm9yZGVyLWltYWdlLXdpZHRoLGJveC1mbGV4LGJveC1mbGV4LWdyb3VwLGJveC1vcmRpbmFsLWdyb3VwLGNvbHVtbi1jb3VudCxgICtcclxuICAgIGBjb2x1bW5zLGZsZXgsZmxleC1ncm93LGZsZXgtcG9zaXRpdmUsZmxleC1zaHJpbmssZmxleC1uZWdhdGl2ZSxmbGV4LW9yZGVyLGAgK1xyXG4gICAgYGdyaWQtcm93LGdyaWQtcm93LWVuZCxncmlkLXJvdy1zcGFuLGdyaWQtcm93LXN0YXJ0LGdyaWQtY29sdW1uLGAgK1xyXG4gICAgYGdyaWQtY29sdW1uLWVuZCxncmlkLWNvbHVtbi1zcGFuLGdyaWQtY29sdW1uLXN0YXJ0LGZvbnQtd2VpZ2h0LGxpbmUtY2xhbXAsYCArXHJcbiAgICBgbGluZS1oZWlnaHQsb3BhY2l0eSxvcmRlcixvcnBoYW5zLHRhYi1zaXplLHdpZG93cyx6LWluZGV4LHpvb20sYCArXHJcbiAgICAvLyBTVkdcclxuICAgIGBmaWxsLW9wYWNpdHksZmxvb2Qtb3BhY2l0eSxzdG9wLW9wYWNpdHksc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxgICtcclxuICAgIGBzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGhgKTtcclxuLyoqXHJcbiAqIEtub3duIGF0dHJpYnV0ZXMsIHRoaXMgaXMgdXNlZCBmb3Igc3RyaW5naWZpY2F0aW9uIG9mIHJ1bnRpbWUgc3RhdGljIG5vZGVzXHJcbiAqIHNvIHRoYXQgd2UgZG9uJ3Qgc3RyaW5naWZ5IGJpbmRpbmdzIHRoYXQgY2Fubm90IGJlIHNldCBmcm9tIEhUTUwuXHJcbiAqIERvbid0IGFsc28gZm9yZ2V0IHRvIGFsbG93IGBkYXRhLSpgIGFuZCBgYXJpYS0qYCFcclxuICogR2VuZXJhdGVkIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9BdHRyaWJ1dGVzXHJcbiAqL1xyXG5jb25zdCBpc0tub3duQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGAgK1xyXG4gICAgYGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGAgK1xyXG4gICAgYGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGAgK1xyXG4gICAgYGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxgICtcclxuICAgIGBjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxgICtcclxuICAgIGBkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sYCArXHJcbiAgICBgZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxgICtcclxuICAgIGBoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbnRlZ3JpdHksYCArXHJcbiAgICBgaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LGAgK1xyXG4gICAgYG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsYCArXHJcbiAgICBgb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LGAgK1xyXG4gICAgYHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsYCArXHJcbiAgICBgc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LGAgK1xyXG4gICAgYHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLGAgK1xyXG4gICAgYHZhbHVlLHdpZHRoLHdyYXBgKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU3R5bGUoaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xyXG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooLispLztcclxuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGNzc1RleHQuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XHJcbiAgICAgICAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XHJcbiAgICBsZXQgcmV0ID0gJyc7XHJcbiAgICBpZiAoIXN0eWxlcykge1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xyXG4gICAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wKG5vcm1hbGl6ZWRLZXkpKSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciB2YWxpZCB2YWx1ZXNcclxuICAgICAgICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xyXG4gICAgbGV0IHJlcyA9ICcnO1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJlcyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSBuYW1lICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy50cmltKCk7XHJcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50XHJcbmNvbnN0IEhUTUxfVEFHUyA9ICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLCcgK1xyXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sJyArXHJcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXHJcbiAgICAnZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xyXG4gICAgJ3RpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsJyArXHJcbiAgICAnY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLCcgK1xyXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcclxuICAgICdvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LCcgK1xyXG4gICAgJ3N1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnO1xyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxyXG5jb25zdCBTVkdfVEFHUyA9ICdzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsJyArXHJcbiAgICAnZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlciwnICtcclxuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xyXG4gICAgJ2ZlRGlzdGFuY2VMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLCcgK1xyXG4gICAgJ2ZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsJyArXHJcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcclxuICAgICdmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssJyArXHJcbiAgICAnbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLCcgK1xyXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXHJcbiAgICAndGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3JztcclxuY29uc3QgVk9JRF9UQUdTID0gJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJztcclxuY29uc3QgaXNIVE1MVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEhUTUxfVEFHUyk7XHJcbmNvbnN0IGlzU1ZHVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFNWR19UQUdTKTtcclxuY29uc3QgaXNWb2lkVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcclxuICAgIGNvbnN0IHN0ciA9ICcnICsgc3RyaW5nO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBsZXQgZXNjYXBlZDtcclxuICAgIGxldCBpbmRleDtcclxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xyXG4gICAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xyXG4gICAgICAgICAgICBjYXNlIDM0OiAvLyBcIlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmcXVvdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzg6IC8vICZcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmFtcDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzk6IC8vICdcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJiMzOTsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjA6IC8vIDxcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmx0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2MjogLy8gPlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmZ3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xyXG4gICAgICAgIGh0bWwgKz0gZXNjYXBlZDtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xyXG59XHJcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTIvc3ludGF4Lmh0bWwjY29tbWVudHNcclxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XHJcbiAgICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsICcnKTtcclxufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xyXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVxdWFsO1xyXG59XHJcbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcclxuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdGhpcyBpZiB3aWxsIHByb2JhYmx5IG5ldmVyIGJlIGNhbGxlZCAqL1xyXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcclxuICAgICAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcclxuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKChhSGFzS2V5ICYmICFiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcclxufVxyXG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcclxuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcclxufVxuXG4vKipcclxuICogRm9yIGNvbnZlcnRpbmcge3sgaW50ZXJwb2xhdGlvbiB9fSB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGxcclxuICAgICAgICA/ICcnXHJcbiAgICAgICAgOiBpc09iamVjdCh2YWwpXHJcbiAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufTtcclxuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XHJcbiAgICBpZiAoaXNNYXAodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKChlbnRyaWVzLCBba2V5LCB2YWxdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzW2Ake2tleX0gPT5gXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xyXG4gICAgICAgICAgICB9LCB7fSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn07XG5cbi8qKlxyXG4gKiBMaXN0IG9mIEBiYWJlbC9wYXJzZXIgcGx1Z2lucyB0aGF0IGFyZSB1c2VkIGZvciB0ZW1wbGF0ZSBleHByZXNzaW9uXHJcbiAqIHRyYW5zZm9ybXMgYW5kIFNGQyBzY3JpcHQgdHJhbnNmb3Jtcy4gQnkgZGVmYXVsdCB3ZSBlbmFibGUgcHJvcG9zYWxzIHNsYXRlZFxyXG4gKiBmb3IgRVMyMDIwLiBUaGlzIHdpbGwgbmVlZCB0byBiZSB1cGRhdGVkIGFzIHRoZSBzcGVjIG1vdmVzIGZvcndhcmQuXHJcbiAqIEZ1bGwgbGlzdCBhdCBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9uZXh0L2JhYmVsLXBhcnNlciNwbHVnaW5zXHJcbiAqL1xyXG5jb25zdCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zID0gW1xyXG4gICAgJ2JpZ0ludCcsXHJcbiAgICAnb3B0aW9uYWxDaGFpbmluZycsXHJcbiAgICAnbnVsbGlzaENvYWxlc2NpbmdPcGVyYXRvcidcclxuXTtcclxuY29uc3QgRU1QVFlfT0JKID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXHJcbiAgICA6IHt9O1xyXG5jb25zdCBFTVBUWV9BUlIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xyXG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cclxuICovXHJcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XHJcbmNvbnN0IG9uUkUgPSAvXm9uW15hLXpdLztcclxuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xyXG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnb25VcGRhdGU6Jyk7XHJcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XHJcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XHJcbiAgICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xyXG4gICAgaWYgKGkgPiAtMSkge1xyXG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcclxuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xyXG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBTZXRdJztcclxuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdmFsIGluc3RhbmNlb2YgRGF0ZTtcclxuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XHJcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XHJcbn07XHJcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcclxuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAvLyBleHRyYWN0IFwiUmF3VHlwZVwiIGZyb20gc3RyaW5ncyBsaWtlIFwiW29iamVjdCBSYXdUeXBlXVwiXHJcbiAgICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn07XHJcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiZcclxuICAgIGtleSAhPT0gJ05hTicgJiZcclxuICAgIGtleVswXSAhPT0gJy0nICYmXHJcbiAgICAnJyArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XHJcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxyXG4vLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXHJcbicsa2V5LHJlZiwnICtcclxuICAgICdvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCwnICtcclxuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XHJcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAoKHN0cikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XHJcbiAgICAgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xyXG59KTtcclxuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSkpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gKHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYCkpO1xyXG4vLyBjb21wYXJlIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZCwgYWNjb3VudGluZyBmb3IgTmFOLlxyXG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gdmFsdWUgIT09IG9sZFZhbHVlICYmICh2YWx1ZSA9PT0gdmFsdWUgfHwgb2xkVmFsdWUgPT09IG9sZFZhbHVlKTtcclxuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm5zW2ldKGFyZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xyXG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn07XHJcbmxldCBfZ2xvYmFsVGhpcztcclxuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcclxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxyXG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xyXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XHJcbn07XG5cbmV4cG9ydCB7IEVNUFRZX0FSUiwgRU1QVFlfT0JKLCBOTywgTk9PUCwgUGF0Y2hGbGFnTmFtZXMsIGJhYmVsUGFyc2VyRGVmYXVsdFBsdWdpbnMsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkF0dHIsIGlzTWFwLCBpc01vZGVsTGlzdGVuZXIsIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCwgaXNPYmplY3QsIGlzT24sIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiaW1wb3J0IHsgRU1QVFlfT0JKLCBpc0FycmF5LCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgZXh0ZW5kLCBoYXNPd24sIGlzT2JqZWN0LCBoYXNDaGFuZ2VkLCBtYWtlTWFwLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgdGFyZ2V0TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgZWZmZWN0U3RhY2sgPSBbXTtcclxubGV0IGFjdGl2ZUVmZmVjdDtcclxuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ2l0ZXJhdGUnIDogJycpO1xyXG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xyXG5mdW5jdGlvbiBpc0VmZmVjdChmbikge1xyXG4gICAgcmV0dXJuIGZuICYmIGZuLl9pc0VmZmVjdCA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcclxuICAgIGlmIChpc0VmZmVjdChmbikpIHtcclxuICAgICAgICBmbiA9IGZuLnJhdztcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdCA9IGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKTtcclxuICAgIGlmICghb3B0aW9ucy5sYXp5KSB7XHJcbiAgICAgICAgZWZmZWN0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIHN0b3AoZWZmZWN0KSB7XHJcbiAgICBpZiAoZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMub25TdG9wKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uU3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZmZlY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBmdW5jdGlvbiByZWFjdGl2ZUVmZmVjdCgpIHtcclxuICAgICAgICBpZiAoIWVmZmVjdC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZWZmZWN0U3RhY2suaW5jbHVkZXMoZWZmZWN0KSkge1xyXG4gICAgICAgICAgICBjbGVhbnVwKGVmZmVjdCk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVUcmFja2luZygpO1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0U3RhY2sucHVzaChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gZWZmZWN0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3RTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IGVmZmVjdFN0YWNrW2VmZmVjdFN0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGVmZmVjdC5pZCA9IHVpZCsrO1xyXG4gICAgZWZmZWN0LmFsbG93UmVjdXJzZSA9ICEhb3B0aW9ucy5hbGxvd1JlY3Vyc2U7XHJcbiAgICBlZmZlY3QuX2lzRWZmZWN0ID0gdHJ1ZTtcclxuICAgIGVmZmVjdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgZWZmZWN0LnJhdyA9IGZuO1xyXG4gICAgZWZmZWN0LmRlcHMgPSBbXTtcclxuICAgIGVmZmVjdC5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIHJldHVybiBlZmZlY3Q7XHJcbn1cclxuZnVuY3Rpb24gY2xlYW51cChlZmZlY3QpIHtcclxuICAgIGNvbnN0IHsgZGVwcyB9ID0gZWZmZWN0O1xyXG4gICAgaWYgKGRlcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRlcHNbaV0uZGVsZXRlKGVmZmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlcHMubGVuZ3RoID0gMDtcclxuICAgIH1cclxufVxyXG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xyXG5jb25zdCB0cmFja1N0YWNrID0gW107XHJcbmZ1bmN0aW9uIHBhdXNlVHJhY2tpbmcoKSB7XHJcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xyXG4gICAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBlbmFibGVUcmFja2luZygpIHtcclxuICAgIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XHJcbiAgICBzaG91bGRUcmFjayA9IHRydWU7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRUcmFja2luZygpIHtcclxuICAgIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xyXG4gICAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogbGFzdDtcclxufVxyXG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xyXG4gICAgaWYgKCFzaG91bGRUcmFjayB8fCBhY3RpdmVFZmZlY3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKCFkZXBzTWFwKSB7XHJcbiAgICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIChkZXBzTWFwID0gbmV3IE1hcCgpKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcclxuICAgIGlmICghZGVwKSB7XHJcbiAgICAgICAgZGVwc01hcC5zZXQoa2V5LCAoZGVwID0gbmV3IFNldCgpKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRlcC5oYXMoYWN0aXZlRWZmZWN0KSkge1xyXG4gICAgICAgIGRlcC5hZGQoYWN0aXZlRWZmZWN0KTtcclxuICAgICAgICBhY3RpdmVFZmZlY3QuZGVwcy5wdXNoKGRlcCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhY3RpdmVFZmZlY3Qub3B0aW9ucy5vblRyYWNrKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUVmZmVjdC5vcHRpb25zLm9uVHJhY2soe1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0OiBhY3RpdmVFZmZlY3QsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAga2V5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xyXG4gICAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmICghZGVwc01hcCkge1xyXG4gICAgICAgIC8vIG5ldmVyIGJlZW4gdHJhY2tlZFxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdHMgPSBuZXcgU2V0KCk7XHJcbiAgICBjb25zdCBhZGQgPSAoZWZmZWN0c1RvQWRkKSA9PiB7XHJcbiAgICAgICAgaWYgKGVmZmVjdHNUb0FkZCkge1xyXG4gICAgICAgICAgICBlZmZlY3RzVG9BZGQuZm9yRWFjaChlZmZlY3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdCAhPT0gYWN0aXZlRWZmZWN0IHx8IGVmZmVjdC5hbGxvd1JlY3Vyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLmFkZChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGUgPT09IFwiY2xlYXJcIiAvKiBDTEVBUiAqLykge1xyXG4gICAgICAgIC8vIGNvbGxlY3Rpb24gYmVpbmcgY2xlYXJlZFxyXG4gICAgICAgIC8vIHRyaWdnZXIgYWxsIGVmZmVjdHMgZm9yIHRhcmdldFxyXG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaChhZGQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoa2V5ID09PSAnbGVuZ3RoJyAmJiBpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICBkZXBzTWFwLmZvckVhY2goKGRlcCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdsZW5ndGgnIHx8IGtleSA+PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYWRkKGRlcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHNjaGVkdWxlIHJ1bnMgZm9yIFNFVCB8IEFERCB8IERFTEVURVxyXG4gICAgICAgIGlmIChrZXkgIT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoa2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFsc28gcnVuIGZvciBpdGVyYXRpb24ga2V5IG9uIEFERCB8IERFTEVURSB8IE1hcC5TRVRcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImFkZFwiIC8qIEFERCAqLzpcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0ludGVnZXJLZXkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBpbmRleCBhZGRlZCB0byBhcnJheSAtPiBsZW5ndGggY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldCgnbGVuZ3RoJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkZWxldGVcIiAvKiBERUxFVEUgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzZXRcIiAvKiBTRVQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgcnVuID0gKGVmZmVjdCkgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZWZmZWN0Lm9wdGlvbnMub25UcmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uVHJpZ2dlcih7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3QsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFRhcmdldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdC5vcHRpb25zLnNjaGVkdWxlcikge1xyXG4gICAgICAgICAgICBlZmZlY3Qub3B0aW9ucy5zY2hlZHVsZXIoZWZmZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVmZmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlZmZlY3RzLmZvckVhY2gocnVuKTtcclxufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xyXG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKVxyXG4gICAgLm1hcChrZXkgPT4gU3ltYm9sW2tleV0pXHJcbiAgICAuZmlsdGVyKGlzU3ltYm9sKSk7XHJcbmNvbnN0IGdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKCk7XHJcbmNvbnN0IHNoYWxsb3dHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcihmYWxzZSwgdHJ1ZSk7XHJcbmNvbnN0IHJlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSk7XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUsIHRydWUpO1xyXG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSB7fTtcclxuWydpbmNsdWRlcycsICdpbmRleE9mJywgJ2xhc3RJbmRleE9mJ10uZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kID0gQXJyYXkucHJvdG90eXBlW2tleV07XHJcbiAgICBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgYXJyID0gdG9SYXcodGhpcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICB0cmFjayhhcnIsIFwiZ2V0XCIgLyogR0VUICovLCBpICsgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3ZSBydW4gdGhlIG1ldGhvZCB1c2luZyB0aGUgb3JpZ2luYWwgYXJncyBmaXJzdCAod2hpY2ggbWF5IGJlIHJlYWN0aXZlKVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IG1ldGhvZC5hcHBseShhcnIsIGFyZ3MpO1xyXG4gICAgICAgIGlmIChyZXMgPT09IC0xIHx8IHJlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhhdCBkaWRuJ3Qgd29yaywgcnVuIGl0IGFnYWluIHVzaW5nIHJhdyB2YWx1ZXMuXHJcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoYXJyLCBhcmdzLm1hcCh0b1JhdykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuWydwdXNoJywgJ3BvcCcsICdzaGlmdCcsICd1bnNoaWZ0JywgJ3NwbGljZSddLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IEFycmF5LnByb3RvdHlwZVtrZXldO1xyXG4gICAgYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBjb25zdCByZXMgPSBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG59KTtcclxuZnVuY3Rpb24gY3JlYXRlR2V0dGVyKGlzUmVhZG9ubHkgPSBmYWxzZSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xyXG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJBVyAqLyAmJlxyXG4gICAgICAgICAgICByZWNlaXZlciA9PT1cclxuICAgICAgICAgICAgICAgIChpc1JlYWRvbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWRvbmx5TWFwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhZG9ubHlNYXBcclxuICAgICAgICAgICAgICAgICAgICA6IHNoYWxsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhY3RpdmVNYXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcclxuICAgICAgICBpZiAoIWlzUmVhZG9ubHkgJiYgdGFyZ2V0SXNBcnJheSAmJiBoYXNPd24oYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXMgPSBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIGlmIChpc1N5bWJvbChrZXkpID8gYnVpbHRJblN5bWJvbHMuaGFzKGtleSkgOiBpc05vblRyYWNrYWJsZUtleXMoa2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzUmVhZG9ubHkpIHtcclxuICAgICAgICAgICAgdHJhY2sodGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzUmVmKHJlcykpIHtcclxuICAgICAgICAgICAgLy8gcmVmIHVud3JhcHBpbmcgLSBkb2VzIG5vdCBhcHBseSBmb3IgQXJyYXkgKyBpbnRlZ2VyIGtleS5cclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkVW53cmFwID0gIXRhcmdldElzQXJyYXkgfHwgIWlzSW50ZWdlcktleShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkVW53cmFwID8gcmVzLnZhbHVlIDogcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNPYmplY3QocmVzKSkge1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHJldHVybmVkIHZhbHVlIGludG8gYSBwcm94eSBhcyB3ZWxsLiB3ZSBkbyB0aGUgaXNPYmplY3QgY2hlY2tcclxuICAgICAgICAgICAgLy8gaGVyZSB0byBhdm9pZCBpbnZhbGlkIHZhbHVlIHdhcm5pbmcuIEFsc28gbmVlZCB0byBsYXp5IGFjY2VzcyByZWFkb25seVxyXG4gICAgICAgICAgICAvLyBhbmQgcmVhY3RpdmUgaGVyZSB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5LlxyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seSA/IHJlYWRvbmx5KHJlcykgOiByZWFjdGl2ZShyZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxufVxyXG5jb25zdCBzZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcigpO1xyXG5jb25zdCBzaGFsbG93U2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIodHJ1ZSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZVNldHRlcihzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBzZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xyXG4gICAgICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgICAgIGlmICghc2hhbGxvdykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICAgICAgb2xkVmFsdWUgPSB0b1JhdyhvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gaXNBcnJheSh0YXJnZXQpICYmIGlzSW50ZWdlcktleShrZXkpXHJcbiAgICAgICAgICAgID8gTnVtYmVyKGtleSkgPCB0YXJnZXQubGVuZ3RoXHJcbiAgICAgICAgICAgIDogaGFzT3duKHRhcmdldCwga2V5KTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcclxuICAgICAgICAvLyBkb24ndCB0cmlnZ2VyIGlmIHRhcmdldCBpcyBzb21ldGhpbmcgdXAgaW4gdGhlIHByb3RvdHlwZSBjaGFpbiBvZiBvcmlnaW5hbFxyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xyXG4gICAgICAgICAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiAvKiBERUxFVEUgKi8sIGtleSwgdW5kZWZpbmVkLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xyXG4gICAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIG93bktleXModGFyZ2V0KSB7XHJcbiAgICB0cmFjayh0YXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIGlzQXJyYXkodGFyZ2V0KSA/ICdsZW5ndGgnIDogSVRFUkFURV9LRVkpO1xyXG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xyXG59XHJcbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IHtcclxuICAgIGdldCxcclxuICAgIHNldCxcclxuICAgIGRlbGV0ZVByb3BlcnR5LFxyXG4gICAgaGFzLFxyXG4gICAgb3duS2V5c1xyXG59O1xyXG5jb25zdCByZWFkb25seUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiByZWFkb25seUdldCxcclxuICAgIHNldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IGV4dGVuZCh7fSwgbXV0YWJsZUhhbmRsZXJzLCB7XHJcbiAgICBnZXQ6IHNoYWxsb3dHZXQsXHJcbiAgICBzZXQ6IHNoYWxsb3dTZXRcclxufSk7XHJcbi8vIFByb3BzIGhhbmRsZXJzIGFyZSBzcGVjaWFsIGluIHRoZSBzZW5zZSB0aGF0IGl0IHNob3VsZCBub3QgdW53cmFwIHRvcC1sZXZlbFxyXG4vLyByZWZzIChpbiBvcmRlciB0byBhbGxvdyByZWZzIHRvIGJlIGV4cGxpY2l0bHkgcGFzc2VkIGRvd24pLCBidXQgc2hvdWxkXHJcbi8vIHJldGFpbiB0aGUgcmVhY3Rpdml0eSBvZiB0aGUgbm9ybWFsIHJlYWRvbmx5IG9iamVjdC5cclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSBleHRlbmQoe30sIHJlYWRvbmx5SGFuZGxlcnMsIHtcclxuICAgIGdldDogc2hhbGxvd1JlYWRvbmx5R2V0XHJcbn0pO1xuXG5jb25zdCB0b1JlYWN0aXZlID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFjdGl2ZSh2YWx1ZSkgOiB2YWx1ZTtcclxuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XHJcbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XHJcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XHJcbmZ1bmN0aW9uIGdldCQxKHRhcmdldCwga2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UsIGlzU2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICAvLyAjMTc3MjogcmVhZG9ubHkocmVhY3RpdmUoTWFwKSkgc2hvdWxkIHJldHVybiByZWFkb25seSArIHJlYWN0aXZlIHZlcnNpb25cclxuICAgIC8vIG9mIHRoZSB2YWx1ZVxyXG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCByYXdLZXkpO1xyXG4gICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XHJcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xyXG4gICAgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIHJhd0tleSkpIHtcclxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcclxuICAgICAgICAvLyAjMzYwMiByZWFkb25seShyZWFjdGl2ZShNYXApKVxyXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBuZXN0ZWQgcmVhY3RpdmUgYE1hcGAgY2FuIGRvIHRyYWNraW5nIGZvciBpdHNlbGZcclxuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzJDEoa2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIHJhd0tleSk7XHJcbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcclxuICAgICAgICA/IHRhcmdldC5oYXMoa2V5KVxyXG4gICAgICAgIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcclxufVxyXG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsICdzaXplJywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCB2YWx1ZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuZnVuY3Rpb24gc2V0JDEoa2V5LCB2YWx1ZSkge1xyXG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XHJcbiAgICBpZiAoaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcclxuICAgIGNvbnN0IG9sZFRhcmdldCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgID8gaXNNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA6IG5ldyBTZXQodGFyZ2V0KVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xyXG4gICAgaWYgKGhhZEl0ZW1zKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBDTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXHJcbiAgICAgICAgICAgIC8vIDEuIGludm9rZWQgd2l0aCB0aGUgcmVhY3RpdmUgbWFwIGFzIGB0aGlzYCBhbmQgM3JkIGFyZ1xyXG4gICAgICAgICAgICAvLyAyLiB0aGUgdmFsdWUgcmVjZWl2ZWQgc2hvdWxkIGJlIGEgY29ycmVzcG9uZGluZyByZWFjdGl2ZS9yZWFkb25seS5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gJ2VudHJpZXMnIHx8IChtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcCk7XHJcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XHJcbiAgICAgICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcclxuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVkpO1xyXG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcclxuICAgICAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcclxuICAgICAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICA/IHsgdmFsdWUsIGRvbmUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXHJcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLyA/IGZhbHNlIDogdGhpcztcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XHJcbiAgICB9LFxyXG4gICAgaGFzOiBoYXMkMSxcclxuICAgIGFkZCxcclxuICAgIHNldDogc2V0JDEsXHJcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxyXG4gICAgY2xlYXIsXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBBREQgKi8pLFxyXG4gICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFNFVCAqLyksXHJcbiAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogREVMRVRFICovKSxcclxuICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogQ0xFQVIgKi8pLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogQUREICovKSxcclxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBTRVQgKi8pLFxyXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIERFTEVURSAqLyksXHJcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIENMRUFSICovKSxcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgaXRlcmF0b3JNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJywgU3ltYm9sLml0ZXJhdG9yXTtcclxuaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcclxuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xyXG4gICAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCB0cnVlKTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XHJcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvd1xyXG4gICAgICAgID8gaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgIDogaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IG11dGFibGVJbnN0cnVtZW50YXRpb25zO1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXRcclxuICAgICAgICAgICAgPyBpbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxyXG59O1xyXG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxyXG59O1xyXG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcclxuICAgICAgICAgICAgYHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCBgICtcclxuICAgICAgICAgICAgYHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gYCArXHJcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcclxuICAgICAgICAgICAgYG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYCk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCByZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xyXG4gICAgc3dpdGNoIChyYXdUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcclxuICAgICAgICBjYXNlICdBcnJheSc6XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcclxuICAgICAgICBjYXNlICdNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1NldCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha01hcCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha1NldCc6XHJcbiAgICAgICAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxyXG4gICAgICAgID8gMCAvKiBJTlZBTElEICovXHJcbiAgICAgICAgOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxyXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgbXV0YWJsZUhhbmRsZXJzLCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLCByZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiBhIHNoYWxsb3dseS1yZWFjdGl2ZSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3RcclxuICogbGV2ZWwgcHJvcGVydGllcyBhcmUgcmVhY3RpdmUuIEl0IGFsc28gZG9lcyBub3QgYXV0by11bndyYXAgcmVmcyAoZXZlbiBhdCB0aGVcclxuICogcm9vdCBsZXZlbCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSByZWFkb25seSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QuIE5vdGUgdGhlIHJldHVybmVkIGNvcHkgaXMgbm90XHJcbiAqIG1hZGUgcmVhY3RpdmUsIGJ1dCBgcmVhZG9ubHlgIGNhbiBiZSBjYWxsZWQgb24gYW4gYWxyZWFkeSByZWFjdGl2ZSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHJlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCByZWFkb25seU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcclxuICogcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxyXG4gKiByZXR1cm5lZCBwcm9wZXJ0aWVzLlxyXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGNyZWF0aW5nIHRoZSBwcm9wcyBwcm94eSBvYmplY3QgZm9yIHN0YXRlZnVsIGNvbXBvbmVudHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlNYXApO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seSwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgaXMgYWxyZWFkeSBhIFByb3h5LCByZXR1cm4gaXQuXHJcbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxyXG4gICAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dICYmXHJcbiAgICAgICAgIShpc1JlYWRvbmx5ICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxyXG4gICAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV4aXN0aW5nUHJveHkpIHtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcclxuICAgIH1cclxuICAgIC8vIG9ubHkgYSB3aGl0ZWxpc3Qgb2YgdmFsdWUgdHlwZXMgY2FuIGJlIG9ic2VydmVkLlxyXG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnMpO1xyXG4gICAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xyXG4gICAgcmV0dXJuIHByb3h5O1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcclxuICAgIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqL10pO1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dKTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcclxuICAgIHJldHVybiAoKG9ic2VydmVkICYmIHRvUmF3KG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pKSB8fCBvYnNlcnZlZCk7XHJcbn1cclxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xyXG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIgLyogU0tJUCAqLywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuY29uc3QgY29udmVydCA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgPyByZWFjdGl2ZSh2YWwpIDogdmFsO1xyXG5mdW5jdGlvbiBpc1JlZihyKSB7XHJcbiAgICByZXR1cm4gQm9vbGVhbihyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiByZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xyXG59XHJcbmNsYXNzIFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoX3Jhd1ZhbHVlLCBfc2hhbGxvdykge1xyXG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gX3Jhd1ZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3NoYWxsb3cgPSBfc2hhbGxvdztcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfc2hhbGxvdyA/IF9yYXdWYWx1ZSA6IGNvbnZlcnQoX3Jhd1ZhbHVlKTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICB0cmFjayh0b1Jhdyh0aGlzKSwgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh0b1JhdyhuZXdWYWwpLCB0aGlzLl9yYXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fc2hhbGxvdyA/IG5ld1ZhbCA6IGNvbnZlcnQobmV3VmFsKTtcclxuICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScsIG5ld1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZikge1xyXG4gICAgdHJpZ2dlcih0b1JhdyhyZWYpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gcmVmLnZhbHVlIDogdm9pZCAwKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZihyZWYpIHtcclxuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xyXG59XHJcbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4gdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXHJcbiAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKVxyXG4gICAgICAgID8gb2JqZWN0V2l0aFJlZnNcclxuICAgICAgICA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcclxufVxyXG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeSgoKSA9PiB0cmFjayh0aGlzLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyksICgpID0+IHRyaWdnZXIodGhpcywgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpKTtcclxuICAgICAgICB0aGlzLl9nZXQgPSBnZXQ7XHJcbiAgICAgICAgdGhpcy5fc2V0ID0gc2V0O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXQoKTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9zZXQobmV3VmFsKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzUHJveHkob2JqZWN0KSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIHJldFtrZXldID0gdG9SZWYob2JqZWN0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXkpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuX2tleSA9IF9rZXk7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0b1JlZihvYmplY3QsIGtleSkge1xyXG4gICAgcmV0dXJuIGlzUmVmKG9iamVjdFtrZXldKVxyXG4gICAgICAgID8gb2JqZWN0W2tleV1cclxuICAgICAgICA6IG5ldyBPYmplY3RSZWZJbXBsKG9iamVjdCwga2V5KTtcclxufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyID0gX3NldHRlcjtcclxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZWZmZWN0ID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgICAgICBsYXp5OiB0cnVlLFxyXG4gICAgICAgICAgICBzY2hlZHVsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dID0gaXNSZWFkb25seTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICAvLyB0aGUgY29tcHV0ZWQgcmVmIG1heSBnZXQgd3JhcHBlZCBieSBvdGhlciBwcm94aWVzIGUuZy4gcmVhZG9ubHkoKSAjMzM3NlxyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0b1Jhdyh0aGlzKTtcclxuICAgICAgICBpZiAoc2VsZi5fZGlydHkpIHtcclxuICAgICAgICAgICAgc2VsZi5fdmFsdWUgPSB0aGlzLmVmZmVjdCgpO1xyXG4gICAgICAgICAgICBzZWxmLl9kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmFjayhzZWxmLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyKG5ld1ZhbHVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMpIHtcclxuICAgIGxldCBnZXR0ZXI7XHJcbiAgICBsZXQgc2V0dGVyO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSkge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcclxuICAgICAgICBzZXR0ZXIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLmdldDtcclxuICAgICAgICBzZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuc2V0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSB8fCAhZ2V0dGVyT3JPcHRpb25zLnNldCk7XHJcbn1cblxuZXhwb3J0IHsgSVRFUkFURV9LRVksIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZW5hYmxlVHJhY2tpbmcsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCByZXNldFRyYWNraW5nLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyYWNrLCB0cmlnZ2VyLCB0cmlnZ2VyUmVmLCB1bnJlZiB9O1xuIiwiaW1wb3J0IHsgcGF1c2VUcmFja2luZywgcmVzZXRUcmFja2luZywgaXNSZWYsIHRvUmF3LCBpc1JlYWN0aXZlLCBlZmZlY3QsIHN0b3AsIHJlZiwgcmVhY3RpdmUsIHByb3h5UmVmcywgdG9SZWYsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNQcm94eSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgbWFya1JhdywgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBjdXN0b21SZWYsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIGV4dGVuZCwgaGFzT3duLCBFTVBUWV9PQkosIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgcmVtb3ZlLCBOT09QLCBoYXNDaGFuZ2VkLCBpc09iamVjdCwgaXNTZXQsIGlzTWFwLCBpc1BsYWluT2JqZWN0LCBpbnZva2VBcnJheUZucywgZGVmLCBpc1Jlc2VydmVkUHJvcCwgRU1QVFlfQVJSLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIE5PLCBnZXRHbG9iYWxUaGlzLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XHJcbiAgICBzdGFjay5wdXNoKHZub2RlKTtcclxufVxyXG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcclxuICAgIHN0YWNrLnBvcCgpO1xyXG59XHJcbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XHJcbiAgICAvLyBhdm9pZCBwcm9wcyBmb3JtYXR0aW5nIG9yIHdhcm4gaGFuZGxlciB0cmFja2luZyBkZXBzIHRoYXQgbWlnaHQgYmUgbXV0YXRlZFxyXG4gICAgLy8gZHVyaW5nIHBhdGNoLCBsZWFkaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cclxuICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcclxuICAgIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XHJcbiAgICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XHJcbiAgICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcclxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwV2FybkhhbmRsZXIsIGluc3RhbmNlLCAxMSAvKiBBUFBfV0FSTl9IQU5ETEVSICovLCBbXHJcbiAgICAgICAgICAgIG1zZyArIGFyZ3Muam9pbignJyksXHJcbiAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxyXG4gICAgICAgICAgICB0cmFjZVxyXG4gICAgICAgICAgICAgICAgLm1hcCgoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmApXHJcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJyksXHJcbiAgICAgICAgICAgIHRyYWNlXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHRyYWNlLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xyXG4gICAgICAgICAgICAhZmFsc2UpIHtcclxuICAgICAgICAgICAgd2FybkFyZ3MucHVzaChgXFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcclxuICAgIH1cclxuICAgIHJlc2V0VHJhY2tpbmcoKTtcclxufVxyXG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcclxuICAgIGxldCBjdXJyZW50Vk5vZGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcclxuICAgIGlmICghY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy8gd2UgY2FuJ3QganVzdCB1c2UgdGhlIHN0YWNrIGJlY2F1c2UgaXQgd2lsbCBiZSBpbmNvbXBsZXRlIGR1cmluZyB1cGRhdGVzXHJcbiAgICAvLyB0aGF0IGRpZCBub3Qgc3RhcnQgZnJvbSB0aGUgcm9vdC4gUmUtY29uc3RydWN0IHRoZSBwYXJlbnQgY2hhaW4gdXNpbmdcclxuICAgIC8vIGluc3RhbmNlIHBhcmVudCBwb2ludGVycy5cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xyXG4gICAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XHJcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB2bm9kZTogY3VycmVudFZOb2RlLFxyXG4gICAgICAgICAgICAgICAgcmVjdXJzZUNvdW50OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGN1cnJlbnRWTm9kZS5jb21wb25lbnQgJiYgY3VycmVudFZOb2RlLmNvbXBvbmVudC5wYXJlbnQ7XHJcbiAgICAgICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFRyYWNlKHRyYWNlKSB7XHJcbiAgICBjb25zdCBsb2dzID0gW107XHJcbiAgICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xyXG4gICAgICAgIGxvZ3MucHVzaCguLi4oaSA9PT0gMCA/IFtdIDogW2BcXG5gXSksIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGxvZ3M7XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xyXG4gICAgY29uc3QgcG9zdGZpeCA9IHJlY3Vyc2VDb3VudCA+IDAgPyBgLi4uICgke3JlY3Vyc2VDb3VudH0gcmVjdXJzaXZlIGNhbGxzKWAgOiBgYDtcclxuICAgIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xyXG4gICAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZSh2bm9kZS5jb21wb25lbnQsIHZub2RlLnR5cGUsIGlzUm9vdCl9YDtcclxuICAgIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcclxuICAgIHJldHVybiB2bm9kZS5wcm9wc1xyXG4gICAgICAgID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdXHJcbiAgICAgICAgOiBbb3BlbiArIGNsb3NlXTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xyXG4gICAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGtleXMubGVuZ3RoID4gMykge1xyXG4gICAgICAgIHJlcy5wdXNoKGAgLi4uYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fFxyXG4gICAgICAgIHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1SZWY8YCwgdmFsdWUsIGA+YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XHJcbiAgICB9XHJcbn1cblxuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IHtcclxuICAgIFtcImJjXCIgLyogQkVGT1JFX0NSRUFURSAqL106ICdiZWZvcmVDcmVhdGUgaG9vaycsXHJcbiAgICBbXCJjXCIgLyogQ1JFQVRFRCAqL106ICdjcmVhdGVkIGhvb2snLFxyXG4gICAgW1wiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi9dOiAnYmVmb3JlTW91bnQgaG9vaycsXHJcbiAgICBbXCJtXCIgLyogTU9VTlRFRCAqL106ICdtb3VudGVkIGhvb2snLFxyXG4gICAgW1wiYnVcIiAvKiBCRUZPUkVfVVBEQVRFICovXTogJ2JlZm9yZVVwZGF0ZSBob29rJyxcclxuICAgIFtcInVcIiAvKiBVUERBVEVEICovXTogJ3VwZGF0ZWQnLFxyXG4gICAgW1wiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi9dOiAnYmVmb3JlVW5tb3VudCBob29rJyxcclxuICAgIFtcInVtXCIgLyogVU5NT1VOVEVEICovXTogJ3VubW91bnRlZCBob29rJyxcclxuICAgIFtcImFcIiAvKiBBQ1RJVkFURUQgKi9dOiAnYWN0aXZhdGVkIGhvb2snLFxyXG4gICAgW1wiZGFcIiAvKiBERUFDVElWQVRFRCAqL106ICdkZWFjdGl2YXRlZCBob29rJyxcclxuICAgIFtcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi9dOiAnZXJyb3JDYXB0dXJlZCBob29rJyxcclxuICAgIFtcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovXTogJ3JlbmRlclRyYWNrZWQgaG9vaycsXHJcbiAgICBbXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovXTogJ3JlbmRlclRyaWdnZXJlZCBob29rJyxcclxuICAgIFswIC8qIFNFVFVQX0ZVTkNUSU9OICovXTogJ3NldHVwIGZ1bmN0aW9uJyxcclxuICAgIFsxIC8qIFJFTkRFUl9GVU5DVElPTiAqL106ICdyZW5kZXIgZnVuY3Rpb24nLFxyXG4gICAgWzIgLyogV0FUQ0hfR0VUVEVSICovXTogJ3dhdGNoZXIgZ2V0dGVyJyxcclxuICAgIFszIC8qIFdBVENIX0NBTExCQUNLICovXTogJ3dhdGNoZXIgY2FsbGJhY2snLFxyXG4gICAgWzQgLyogV0FUQ0hfQ0xFQU5VUCAqL106ICd3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb24nLFxyXG4gICAgWzUgLyogTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi9dOiAnbmF0aXZlIGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi9dOiAnY29tcG9uZW50IGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzcgLyogVk5PREVfSE9PSyAqL106ICd2bm9kZSBob29rJyxcclxuICAgIFs4IC8qIERJUkVDVElWRV9IT09LICovXTogJ2RpcmVjdGl2ZSBob29rJyxcclxuICAgIFs5IC8qIFRSQU5TSVRJT05fSE9PSyAqL106ICd0cmFuc2l0aW9uIGhvb2snLFxyXG4gICAgWzEwIC8qIEFQUF9FUlJPUl9IQU5ETEVSICovXTogJ2FwcCBlcnJvckhhbmRsZXInLFxyXG4gICAgWzExIC8qIEFQUF9XQVJOX0hBTkRMRVIgKi9dOiAnYXBwIHdhcm5IYW5kbGVyJyxcclxuICAgIFsxMiAvKiBGVU5DVElPTl9SRUYgKi9dOiAncmVmIGZ1bmN0aW9uJyxcclxuICAgIFsxMyAvKiBBU1lOQ19DT01QT05FTlRfTE9BREVSICovXTogJ2FzeW5jIGNvbXBvbmVudCBsb2FkZXInLFxyXG4gICAgWzE0IC8qIFNDSEVEVUxFUiAqL106ICdzY2hlZHVsZXIgZmx1c2guIFRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFscyBidWcuICcgK1xyXG4gICAgICAgICdQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvdnVlLW5leHQnXHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcclxuICAgIGxldCByZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlcyA9IGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xyXG4gICAgICAgICAgICByZXMuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xyXG4gICAgICAgIC8vIHRoZSBleHBvc2VkIGluc3RhbmNlIGlzIHRoZSByZW5kZXIgcHJveHkgdG8ga2VlcCBpdCBjb25zaXN0ZW50IHdpdGggMi54XHJcbiAgICAgICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICAgICAgLy8gaW4gcHJvZHVjdGlvbiB0aGUgaG9vayByZWNlaXZlcyBvbmx5IHRoZSBlcnJvciBjb2RlXHJcbiAgICAgICAgY29uc3QgZXJyb3JJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXSA6IHR5cGU7XHJcbiAgICAgICAgd2hpbGUgKGN1cikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XHJcbiAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcHAtbGV2ZWwgaGFuZGxpbmdcclxuICAgICAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XHJcbiAgICAgICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwRXJyb3JIYW5kbGVyLCBudWxsLCAxMCAvKiBBUFBfRVJST1JfSEFORExFUiAqLywgW2VyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm9dKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcclxufVxyXG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXJuKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyYXNoIGluIGRldiBieSBkZWZhdWx0IHNvIGl0J3MgbW9yZSBub3RpY2VhYmxlXHJcbiAgICAgICAgaWYgKHRocm93SW5EZXYpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHJlY292ZXIgaW4gcHJvZCB0byByZWR1Y2UgdGhlIGltcGFjdCBvbiBlbmQtdXNlclxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG5sZXQgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcclxuY29uc3QgcXVldWUgPSBbXTtcclxubGV0IGZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUHJlRmx1c2hDYnMgPSBbXTtcclxubGV0IGFjdGl2ZVByZUZsdXNoQ2JzID0gbnVsbDtcclxubGV0IHByZUZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUG9zdEZsdXNoQ2JzID0gW107XHJcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xyXG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xyXG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xyXG4gICAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcclxufVxyXG4vLyAjMjc2OFxyXG4vLyBVc2UgYmluYXJ5LXNlYXJjaCB0byBmaW5kIGEgc3VpdGFibGUgcG9zaXRpb24gaW4gdGhlIHF1ZXVlLFxyXG4vLyBzbyB0aGF0IHRoZSBxdWV1ZSBtYWludGFpbnMgdGhlIGluY3JlYXNpbmcgb3JkZXIgb2Ygam9iJ3MgaWQsXHJcbi8vIHdoaWNoIGNhbiBwcmV2ZW50IHRoZSBqb2IgZnJvbSBiZWluZyBza2lwcGVkIGFuZCBhbHNvIGNhbiBhdm9pZCByZXBlYXRlZCBwYXRjaGluZy5cclxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGpvYikge1xyXG4gICAgLy8gdGhlIHN0YXJ0IGluZGV4IHNob3VsZCBiZSBgZmx1c2hJbmRleCArIDFgXHJcbiAgICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcclxuICAgIGxldCBlbmQgPSBxdWV1ZS5sZW5ndGg7XHJcbiAgICBjb25zdCBqb2JJZCA9IGdldElkKGpvYik7XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICBjb25zdCBtaWRkbGUgPSAoc3RhcnQgKyBlbmQpID4+PiAxO1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQocXVldWVbbWlkZGxlXSk7XHJcbiAgICAgICAgbWlkZGxlSm9iSWQgPCBqb2JJZCA/IChzdGFydCA9IG1pZGRsZSArIDEpIDogKGVuZCA9IG1pZGRsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RhcnQ7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVKb2Ioam9iKSB7XHJcbiAgICAvLyB0aGUgZGVkdXBlIHNlYXJjaCB1c2VzIHRoZSBzdGFydEluZGV4IGFyZ3VtZW50IG9mIEFycmF5LmluY2x1ZGVzKClcclxuICAgIC8vIGJ5IGRlZmF1bHQgdGhlIHNlYXJjaCBpbmRleCBpbmNsdWRlcyB0aGUgY3VycmVudCBqb2IgdGhhdCBpcyBiZWluZyBydW5cclxuICAgIC8vIHNvIGl0IGNhbm5vdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiBhZ2Fpbi5cclxuICAgIC8vIGlmIHRoZSBqb2IgaXMgYSB3YXRjaCgpIGNhbGxiYWNrLCB0aGUgc2VhcmNoIHdpbGwgc3RhcnQgd2l0aCBhICsxIGluZGV4IHRvXHJcbiAgICAvLyBhbGxvdyBpdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiAtIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG9cclxuICAgIC8vIGVuc3VyZSBpdCBkb2Vzbid0IGVuZCB1cCBpbiBhbiBpbmZpbml0ZSBsb29wLlxyXG4gICAgaWYgKCghcXVldWUubGVuZ3RoIHx8XHJcbiAgICAgICAgIXF1ZXVlLmluY2x1ZGVzKGpvYiwgaXNGbHVzaGluZyAmJiBqb2IuYWxsb3dSZWN1cnNlID8gZmx1c2hJbmRleCArIDEgOiBmbHVzaEluZGV4KSkgJiZcclxuICAgICAgICBqb2IgIT09IGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYikge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IGZpbmRJbnNlcnRpb25JbmRleChqb2IpO1xyXG4gICAgICAgIGlmIChwb3MgPiAtMSkge1xyXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zLCAwLCBqb2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVldWUucHVzaChqb2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZUZsdXNoKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcclxuICAgIGlmICghaXNGbHVzaGluZyAmJiAhaXNGbHVzaFBlbmRpbmcpIHtcclxuICAgICAgICBpc0ZsdXNoUGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcclxuICAgIGNvbnN0IGkgPSBxdWV1ZS5pbmRleE9mKGpvYik7XHJcbiAgICBpZiAoaSA+IGZsdXNoSW5kZXgpIHtcclxuICAgICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVDYihjYiwgYWN0aXZlUXVldWUsIHBlbmRpbmdRdWV1ZSwgaW5kZXgpIHtcclxuICAgIGlmICghaXNBcnJheShjYikpIHtcclxuICAgICAgICBpZiAoIWFjdGl2ZVF1ZXVlIHx8XHJcbiAgICAgICAgICAgICFhY3RpdmVRdWV1ZS5pbmNsdWRlcyhjYiwgY2IuYWxsb3dSZWN1cnNlID8gaW5kZXggKyAxIDogaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdRdWV1ZS5wdXNoKGNiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpZiBjYiBpcyBhbiBhcnJheSwgaXQgaXMgYSBjb21wb25lbnQgbGlmZWN5Y2xlIGhvb2sgd2hpY2ggY2FuIG9ubHkgYmVcclxuICAgICAgICAvLyB0cmlnZ2VyZWQgYnkgYSBqb2IsIHdoaWNoIGlzIGFscmVhZHkgZGVkdXBlZCBpbiB0aGUgbWFpbiBxdWV1ZSwgc29cclxuICAgICAgICAvLyB3ZSBjYW4gc2tpcCBkdXBsaWNhdGUgY2hlY2sgaGVyZSB0byBpbXByb3ZlIHBlcmZcclxuICAgICAgICBwZW5kaW5nUXVldWUucHVzaCguLi5jYik7XHJcbiAgICB9XHJcbiAgICBxdWV1ZUZsdXNoKCk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVQcmVGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQcmVGbHVzaENicywgcGVuZGluZ1ByZUZsdXNoQ2JzLCBwcmVGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQb3N0Rmx1c2hDYnMsIHBlbmRpbmdQb3N0Rmx1c2hDYnMsIHBvc3RGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYiA9IG51bGwpIHtcclxuICAgIGlmIChwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gcGFyZW50Sm9iO1xyXG4gICAgICAgIGFjdGl2ZVByZUZsdXNoQ2JzID0gWy4uLm5ldyBTZXQocGVuZGluZ1ByZUZsdXNoQ2JzKV07XHJcbiAgICAgICAgcGVuZGluZ1ByZUZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJlRmx1c2hJbmRleCA9IDA7IHByZUZsdXNoSW5kZXggPCBhY3RpdmVQcmVGbHVzaENicy5sZW5ndGg7IHByZUZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUHJlRmx1c2hDYnNbcHJlRmx1c2hJbmRleF0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcHJlRmx1c2hJbmRleCA9IDA7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuICAgICAgICAvLyByZWN1cnNpdmVseSBmbHVzaCB1bnRpbCBpdCBkcmFpbnNcclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xyXG4gICAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgLy8gIzE5NDcgYWxyZWFkeSBoYXMgYWN0aXZlIHF1ZXVlLCBuZXN0ZWQgZmx1c2hQb3N0Rmx1c2hDYnMgY2FsbFxyXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcclxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xyXG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcclxuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcclxuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbiAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4pO1xyXG4gICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcclxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcclxuICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCBzbyBpdHMgcmVuZGVyIGVmZmVjdCB3aWxsIGhhdmUgc21hbGxlclxyXG4gICAgLy8gICAgcHJpb3JpdHkgbnVtYmVyKVxyXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXHJcbiAgICAvLyAgICBpdHMgdXBkYXRlIGNhbiBiZSBza2lwcGVkLlxyXG4gICAgcXVldWUuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKGpvYiAmJiBqb2IuYWN0aXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogU0NIRURVTEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XHJcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXHJcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fFxyXG4gICAgICAgICAgICBwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZsdXNoSm9icyhzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XHJcbiAgICBpZiAoIXNlZW4uaGFzKGZuKSkge1xyXG4gICAgICAgIHNlZW4uc2V0KGZuLCAxKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xyXG4gICAgICAgIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGZuLm93bmVySW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xyXG4gICAgICAgICAgICB3YXJuKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gYCArXHJcbiAgICAgICAgICAgICAgICBgVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gYCArXHJcbiAgICAgICAgICAgICAgICBgZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGAgK1xyXG4gICAgICAgICAgICAgICAgYGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IG5ldyBTZXQoKTtcclxuLy8gRXhwb3NlIHRoZSBITVIgcnVudGltZSBvbiB0aGUgZ2xvYmFsIG9iamVjdFxyXG4vLyBUaGlzIG1ha2VzIGl0IGVudGlyZWx5IHRyZWUtc2hha2FibGUgd2l0aG91dCBwb2xsdXRpbmcgdGhlIGV4cG9ydHMgYW5kIG1ha2VzXHJcbi8vIGl0IGVhc2llciB0byBiZSB1c2VkIGluIHRvb2xpbmdzIGxpa2UgdnVlLWxvYWRlclxyXG4vLyBOb3RlOiBmb3IgYSBjb21wb25lbnQgdG8gYmUgZWxpZ2libGUgZm9yIEhNUiBpdCBhbHNvIG5lZWRzIHRoZSBfX2htcklkIG9wdGlvblxyXG4vLyB0byBiZSBzZXQgc28gdGhhdCBpdHMgaW5zdGFuY2VzIGNhbiBiZSByZWdpc3RlcmVkIC8gcmVtb3ZlZC5cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgY29uc3QgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gc2VsZlxyXG4gICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgOiB7fTtcclxuICAgIGdsb2JhbE9iamVjdC5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxyXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcclxuICAgICAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxyXG4gICAgfTtcclxufVxyXG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcclxuICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKSB7XHJcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcclxuICAgICAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIH1cclxuICAgIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBjb21wb25lbnQpIHtcclxuICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgd2FybihgSE1SIEFQSSB1c2FnZSBpcyBvdXQgb2YgZGF0ZS5cXG5gICtcclxuICAgICAgICAgICAgYFBsZWFzZSB1cGdyYWRlIHZ1ZS1sb2FkZXIvdml0ZS9yb2xsdXAtcGx1Z2luLXZ1ZSBvciBvdGhlciByZWxldmFudCBgICtcclxuICAgICAgICAgICAgYGRlcGVuZGVuY3kgdGhhdCBoYW5kbGVzIFZ1ZSBTRkMgY29tcGlsYXRpb24uYCk7XHJcbiAgICAgICAgY29tcG9uZW50ID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAobWFwLmhhcyhpZCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBtYXAuc2V0KGlkLCB7XHJcbiAgICAgICAgY29tcG9uZW50OiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQuX192Y2NPcHRzIDogY29tcG9uZW50LFxyXG4gICAgICAgIGluc3RhbmNlczogbmV3IFNldCgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKG5ld1JlbmRlcilcclxuICAgICAgICByZWNvcmQuY29tcG9uZW50LnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBBcnJheS5mcm9tKHJlY29yZC5pbnN0YW5jZXMpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGlmIChuZXdSZW5kZXIpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xyXG4gICAgICAgIC8vIHRoaXMgZmxhZyBmb3JjZXMgY2hpbGQgY29tcG9uZW50cyB3aXRoIHNsb3QgY29udGVudCB0byB1cGRhdGVcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gQXJyYXkuZnJvbSBjcmVhdGVzIGEgc25hcHNob3Qgd2hpY2ggYXZvaWRzIHRoZSBzZXQgYmVpbmcgbXV0YXRlZCBkdXJpbmdcclxuICAgIC8vIHVwZGF0ZXNcclxuICAgIGNvbnN0IHsgY29tcG9uZW50LCBpbnN0YW5jZXMgfSA9IHJlY29yZDtcclxuICAgIGlmICghaG1yRGlydHlDb21wb25lbnRzLmhhcyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgLy8gMS4gVXBkYXRlIGV4aXN0aW5nIGNvbXAgZGVmaW5pdGlvbiB0byBtYXRjaCBuZXcgb25lXHJcbiAgICAgICAgbmV3Q29tcCA9IGlzQ2xhc3NDb21wb25lbnQobmV3Q29tcCkgPyBuZXdDb21wLl9fdmNjT3B0cyA6IG5ld0NvbXA7XHJcbiAgICAgICAgZXh0ZW5kKGNvbXBvbmVudCwgbmV3Q29tcCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdfX2ZpbGUnICYmICEoa2V5IGluIG5ld0NvbXApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgY29tcG9uZW50W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gTWFyayBjb21wb25lbnQgZGlydHkuIFRoaXMgZm9yY2VzIHRoZSByZW5kZXJlciB0byByZXBsYWNlIHRoZSBjb21wb25lbnRcclxuICAgICAgICAvLyBvbiBwYXRjaC5cclxuICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKGNvbXBvbmVudCk7XHJcbiAgICAgICAgLy8gMy4gTWFrZSBzdXJlIHRvIHVubWFyayB0aGUgY29tcG9uZW50IGFmdGVyIHRoZSByZWxvYWQuXHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XHJcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIEFycmF5LmZyb20oaW5zdGFuY2VzKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcclxuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIDQuIEZvcmNlIHRoZSBwYXJlbnQgaW5zdGFuY2UgdG8gcmUtcmVuZGVyLiBUaGlzIHdpbGwgY2F1c2UgYWxsIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gY29tcG9uZW50cyB0byBiZSB1bm1vdW50ZWQgYW5kIHJlLW1vdW50ZWQuIFF1ZXVlIHRoZSB1cGRhdGUgc28gdGhhdCB3ZVxyXG4gICAgICAgICAgICAvLyBkb24ndCBlbmQgdXAgZm9yY2luZyB0aGUgc2FtZSBwYXJlbnQgdG8gcmUtcmVuZGVyIG11bHRpcGxlIHRpbWVzLlxyXG4gICAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBtb3VudGVkIHZpYSBjcmVhdGVBcHAoKSBoYXMgYSByZWxvYWQgbWV0aG9kXHJcbiAgICAgICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgaW5zaWRlIHRyZWUgY3JlYXRlZCB2aWEgcmF3IHJlbmRlcigpLiBGb3JjZSByZWxvYWQuXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XHJcbiAgICByZXR1cm4gKGlkLCBhcmcpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gYCArXHJcbiAgICAgICAgICAgICAgICBgRnVsbCByZWxvYWQgcmVxdWlyZWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5sZXQgZGV2dG9vbHM7XHJcbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayhob29rKSB7XHJcbiAgICBkZXZ0b29scyA9IGhvb2s7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xyXG4gICAgLy8gVE9ETyBxdWV1ZSBpZiBkZXZ0b29scyBpcyB1bmRlZmluZWRcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImFwcDppbml0XCIgLyogQVBQX0lOSVQgKi8sIGFwcCwgdmVyc2lvbiwge1xyXG4gICAgICAgIEZyYWdtZW50LFxyXG4gICAgICAgIFRleHQsXHJcbiAgICAgICAgQ29tbWVudDogQ29tbWVudCQxLFxyXG4gICAgICAgIFN0YXRpY1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcclxufVxyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovKTtcclxuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovKTtcclxuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LCBldmVudCwgcGFyYW1zKTtcclxufVxuXG5jb25zdCBkZXByZWNhdGlvbkRhdGEgPSB7XHJcbiAgICBbXCJHTE9CQUxfTU9VTlRcIiAvKiBHTE9CQUxfTU9VTlQgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFRoZSBnbG9iYWwgYXBwIGJvb3RzdHJhcHBpbmcgQVBJIGhhcyBjaGFuZ2VkOiB2bS4kbW91bnQoKSBhbmQgdGhlIFwiZWxcIiBgICtcclxuICAgICAgICAgICAgYG9wdGlvbiBoYXZlIGJlZW4gcmVtb3ZlZC4gVXNlIGNyZWF0ZUFwcChSb290Q29tcG9uZW50KS5tb3VudCgpIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2dsb2JhbC1hcGkuaHRtbCNtb3VudGluZy1hcHAtaW5zdGFuY2VgXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIEdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZSBkZXRlY3RlZCBkaXJlY3RpdmVzIG9uIHRoZSBtb3VudCBjb250YWluZXIuIGAgK1xyXG4gICAgICAgICAgICBgSW4gVnVlIDMsIHRoZSBjb250YWluZXIgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgdGVtcGxhdGUgYCArXHJcbiAgICAgICAgICAgIGBhbmQgd2lsbCBub3QgYmUgcHJvY2Vzc2VkL3JlcGxhY2VkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9tb3VudC1jaGFuZ2VzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX0VYVEVORFwiIC8qIEdMT0JBTF9FWFRFTkQgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5leHRlbmQoKSBoYXMgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFVzZSBkZWZpbmVDb21wb25lbnQoKSBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2FwaS9nbG9iYWwtYXBpLmh0bWwjZGVmaW5lY29tcG9uZW50YFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBHTE9CQUxfUFJPVE9UWVBFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUucHJvdG90eXBlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9nbG9iYWwtYXBpLmh0bWwjdnVlLXByb3RvdHlwZS1yZXBsYWNlZC1ieS1jb25maWctZ2xvYmFscHJvcGVydGllc2BcclxuICAgIH0sXHJcbiAgICBbXCJHTE9CQUxfU0VUXCIgLyogR0xPQkFMX1NFVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgVnVlLnNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX0RFTEVURVwiIC8qIEdMT0JBTF9ERUxFVEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5kZWxldGUoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9PQlNFUlZBQkxFXCIgLyogR0xPQkFMX09CU0VSVkFCTEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5vYnNlcnZhYmxlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXHJcbiAgICAgICAgICAgIGBVc2UgXFxgaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tIFwidnVlXCJcXGAgZnJvbSBDb21wb3NpdGlvbiBBUEkgaW5zdGVhZC5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9hcGkvYmFzaWMtcmVhY3Rpdml0eS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBHTE9CQUxfUFJJVkFURV9VVElMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUudXRpbCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgcmVmYWN0b3IgdG8gYXZvaWQgaXRzIHVzYWdlIGAgK1xyXG4gICAgICAgICAgICBgc2luY2UgaXQgd2FzIGFuIGludGVybmFsIEFQSSBldmVuIGluIFZ1ZSAyLmBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfU0lMRU5UXCIgLyogQ09ORklHX1NJTEVOVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLnNpbGVudCBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2UgaXQgaXMgbm90IGdvb2QgcHJhY3RpY2UgdG8gYCArXHJcbiAgICAgICAgICAgIGBpbnRlbnRpb25hbGx5IHN1cHByZXNzIHdhcm5pbmdzLiBZb3UgY2FuIHVzZSB5b3VyIGJyb3dzZXIgY29uc29sZSdzIGAgK1xyXG4gICAgICAgICAgICBgZmlsdGVyIGZlYXR1cmVzIHRvIGZvY3VzIG9uIHJlbGV2YW50IG1lc3NhZ2VzLmBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfREVWVE9PTFNcIiAvKiBDT05GSUdfREVWVE9PTFMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5kZXZ0b29scyBoYXMgYmVlbiByZW1vdmVkLiBUbyBlbmFibGUgZGV2dG9vbHMgZm9yIGAgK1xyXG4gICAgICAgICAgICBgcHJvZHVjdGlvbiwgY29uZmlndXJlIHRoZSBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gY29tcGlsZS10aW1lIGZsYWcuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L3RyZWUvbWFzdGVyL3BhY2thZ2VzL3Z1ZSNidW5kbGVyLWJ1aWxkLWZlYXR1cmUtZmxhZ3NgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX0tFWV9DT0RFU1wiIC8qIENPTkZJR19LRVlfQ09ERVMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5rZXlDb2RlcyBoYXMgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYEluIFZ1ZSAzLCB5b3UgY2FuIGRpcmVjdGx5IHVzZSB0aGUga2ViYWItY2FzZSBrZXkgbmFtZXMgYXMgdi1vbiBtb2RpZmllcnMuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX1BST0RVQ1RJT05fVElQXCIgLyogQ09ORklHX1BST0RVQ1RJT05fVElQICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcucHJvZHVjdGlvblRpcCBoYXMgYmVlbiByZW1vdmVkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9nbG9iYWwtYXBpLmh0bWwjY29uZmlnLXByb2R1Y3Rpb250aXAtcmVtb3ZlZGBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIENPTkZJR19JR05PUkVEX0VMRU1FTlRTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25maWcuaWdub3JlZEVsZW1lbnRzIGhhcyBiZWVuIHJlbW92ZWQuYDtcclxuICAgICAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGAgUGFzcyB0aGUgXCJpc0N1c3RvbUVsZW1lbnRcIiBvcHRpb24gdG8gQHZ1ZS9jb21waWxlci1kb20gaW5zdGVhZC5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGAgVXNlIGNvbmZpZy5pc0N1c3RvbUVsZW1lbnQgaW5zdGVhZC5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtc2c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2dsb2JhbC1hcGkuaHRtbCNjb25maWctaWdub3JlZGVsZW1lbnRzLWlzLW5vdy1jb25maWctaXNjdXN0b21lbGVtZW50YFxyXG4gICAgfSxcclxuICAgIFtcIkNPTkZJR19XSElURVNQQUNFXCIgLyogQ09ORklHX1dISVRFU1BBQ0UgKi9dOiB7XHJcbiAgICAgICAgLy8gdGhpcyB3YXJuaW5nIGlzIG9ubHkgcmVsZXZhbnQgaW4gdGhlIGZ1bGwgYnVpbGQgd2hlbiB1c2luZyBydW50aW1lXHJcbiAgICAgICAgLy8gY29tcGlsYXRpb24sIHNvIGl0J3MgcHV0IGluIHRoZSBydW50aW1lIGNvbXBhdENvbmZpZyBsaXN0LlxyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMyBjb21waWxlcidzIHdoaXRlc3BhY2Ugb3B0aW9uIHdpbGwgZGVmYXVsdCB0byBcImNvbmRlbnNlXCIgaW5zdGVhZCBvZiBgICtcclxuICAgICAgICAgICAgYFwicHJlc2VydmVcIi4gVG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLCBwcm92aWRlIGFuIGV4cGxpY2l0IHZhbHVlIGZvciBgICtcclxuICAgICAgICAgICAgYFxcYGNvbmZpZy5jb21waWxlck9wdGlvbnMud2hpdGVzcGFjZVxcYC5gXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFNcIiAvKiBDT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUUyAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyBubyBsb25nZXIgZXhwb3NlcyBpbnRlcm5hbCBzdHJhdGVnaWVzLiBgICtcclxuICAgICAgICAgICAgYFVzZSBjdXN0b20gbWVyZ2UgZnVuY3Rpb25zIGluc3RlYWQuYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX1NFVFwiIC8qIElOU1RBTkNFX1NFVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJHNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfREVMRVRFXCIgLyogSU5TVEFOQ0VfREVMRVRFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kZGVsZXRlKCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcclxuICAgIH0sXHJcbiAgICBbXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogSU5TVEFOQ0VfREVTVFJPWSAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJGRlc3Ryb3koKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXBwLnVubW91bnQoKSBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2FwaS9hcHBsaWNhdGlvbi1hcGkuaHRtbCN1bm1vdW50YFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBJTlNUQU5DRV9FVkVOVF9FTUlUVEVSICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kb24vJG9uY2UvJG9mZigpIGhhdmUgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYFVzZSBhbiBleHRlcm5hbCBldmVudCBlbWl0dGVyIGxpYnJhcnkgaW5zdGVhZC5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vZXZlbnRzLWFwaS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogZXZlbnQgPT4gYFwiJHtldmVudH1cIiBsaWZlY3ljbGUgZXZlbnRzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLiBGcm9tIHRlbXBsYXRlcywgYCArXHJcbiAgICAgICAgICAgIGB1c2UgdGhlIFwidm5vZGVcIiBwcmVmaXggaW5zdGVhZCBvZiBcImhvb2s6XCIuIEZvciBleGFtcGxlLCBAJHtldmVudH0gYCArXHJcbiAgICAgICAgICAgIGBzaG91bGQgYmUgY2hhbmdlZCB0byBAdm5vZGUtJHtldmVudC5zbGljZSg1KX0uIGAgK1xyXG4gICAgICAgICAgICBgRnJvbSBKYXZhU2NyaXB0LCB1c2UgQ29tcG9zaXRpb24gQVBJIHRvIGR5bmFtaWNhbGx5IHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcclxuICAgICAgICAgICAgYGhvb2tzLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi92bm9kZS1saWZlY3ljbGUtZXZlbnRzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfQ0hJTERSRU5cIiAvKiBJTlNUQU5DRV9DSElMRFJFTiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJGNoaWxkcmVuIGhhcyBiZWVuIHJlbW92ZWQuIENvbnNpZGVyIHJlZmFjdG9yaW5nIHlvdXIgbG9naWMgYCArXHJcbiAgICAgICAgICAgIGB0byBhdm9pZCByZWx5aW5nIG9uIGRpcmVjdCBhY2Nlc3MgdG8gY2hpbGQgY29tcG9uZW50cy5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vY2hpbGRyZW4uaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBJTlNUQU5DRV9MSVNURU5FUlMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYHZtLiRsaXN0ZW5lcnMgaGFzIGJlZW4gcmVtb3ZlZC4gSW4gVnVlIDMsIHBhcmVudCB2LW9uIGxpc3RlbmVycyBhcmUgYCArXHJcbiAgICAgICAgICAgIGBpbmNsdWRlZCBpbiB2bS4kYXR0cnMgYW5kIGl0IGlzIG5vIGxvbmdlciBuZWNlc3NhcnkgdG8gc2VwYXJhdGVseSB1c2UgYCArXHJcbiAgICAgICAgICAgIGB2LW9uPVwiJGxpc3RlbmVyc1wiIGlmIHlvdSBhcmUgYWxyZWFkeSB1c2luZyB2LWJpbmQ9XCIkYXR0cnNcIi4gYCArXHJcbiAgICAgICAgICAgIGAoTm90ZTogdGhlIFZ1ZSAzIGJlaGF2aW9yIG9ubHkgYXBwbGllcyBpZiB0aGlzIGNvbXBhdCBjb25maWcgaXMgZGlzYWJsZWQpYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2xpc3RlbmVycy1yZW1vdmVkLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfU0NPUEVEX1NMT1RTXCIgLyogSU5TVEFOQ0VfU0NPUEVEX1NMT1RTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kc2NvcGVkU2xvdHMgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZtLiRzbG90cyBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9zbG90cy11bmlmaWNhdGlvbi5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogY29tcG9uZW50TmFtZSA9PiBgQ29tcG9uZW50IDwke2NvbXBvbmVudE5hbWUgfHxcclxuICAgICAgICAgICAgJ0Fub255bW91cyd9PiBoYXMgXFxgaW5oZXJpdEF0dHJzOiBmYWxzZVxcYCBidXQgaXMgYCArXHJcbiAgICAgICAgICAgIGByZWx5aW5nIG9uIGNsYXNzL3N0eWxlIGZhbGx0aHJvdWdoIGZyb20gcGFyZW50LiBJbiBWdWUgMywgY2xhc3Mvc3R5bGUgYCArXHJcbiAgICAgICAgICAgIGBhcmUgbm93IGluY2x1ZGVkIGluICRhdHRycyBhbmQgd2lsbCBubyBsb25nZXIgZmFsbHRocm91Z2ggd2hlbiBgICtcclxuICAgICAgICAgICAgYGluaGVyaXRBdHRycyBpcyBmYWxzZS4gSWYgeW91IGFyZSBhbHJlYWR5IHVzaW5nIHYtYmluZD1cIiRhdHRyc1wiIG9uIGAgK1xyXG4gICAgICAgICAgICBgY29tcG9uZW50IHJvb3QgaXQgc2hvdWxkIHJlbmRlciB0aGUgc2FtZSBlbmQgcmVzdWx0LiBgICtcclxuICAgICAgICAgICAgYElmIHlvdSBhcmUgYmluZGluZyAkYXR0cnMgdG8gYSBub24tcm9vdCBlbGVtZW50IGFuZCBleHBlY3RpbmcgYCArXHJcbiAgICAgICAgICAgIGBjbGFzcy9zdHlsZSB0byBmYWxsdGhyb3VnaCBvbiByb290LCB5b3Ugd2lsbCBuZWVkIHRvIG5vdyBtYW51YWxseSBiaW5kIGAgK1xyXG4gICAgICAgICAgICBgdGhlbSBvbiByb290IHZpYSA6Y2xhc3M9XCIkYXR0cnMuY2xhc3NcIi5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cnMtaW5jbHVkZXMtY2xhc3Mtc3R5bGUuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJPUFRJT05TX0RBVEFfRk5cIiAvKiBPUFRJT05TX0RBVEFfRk4gKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFRoZSBcImRhdGFcIiBvcHRpb24gY2FuIG5vIGxvbmdlciBiZSBhIHBsYWluIG9iamVjdC4gYCArXHJcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGEgZnVuY3Rpb24uYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2RhdGEtb3B0aW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogT1BUSU9OU19EQVRBX01FUkdFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBEZXRlY3RlZCBjb25mbGljdGluZyBrZXkgXCIke2tleX1cIiB3aGVuIG1lcmdpbmcgZGF0YSBvcHRpb24gdmFsdWVzLiBgICtcclxuICAgICAgICAgICAgYEluIFZ1ZSAzLCBkYXRhIGtleXMgYXJlIG1lcmdlZCBzaGFsbG93bHkgYW5kIHdpbGwgb3ZlcnJpZGUgb25lIGFub3RoZXIuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2RhdGEtb3B0aW9uLmh0bWwjbWl4aW4tbWVyZ2UtYmVoYXZpb3ItY2hhbmdlYFxyXG4gICAgfSxcclxuICAgIFtcIk9QVElPTlNfQkVGT1JFX0RFU1RST1lcIiAvKiBPUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBcXGBiZWZvcmVEZXN0cm95XFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgYmVmb3JlVW5tb3VudFxcYC5gXHJcbiAgICB9LFxyXG4gICAgW1wiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBPUFRJT05TX0RFU1RST1lFRCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmBcclxuICAgIH0sXHJcbiAgICBbXCJXQVRDSF9BUlJBWVwiIC8qIFdBVENIX0FSUkFZICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBcIndhdGNoXCIgb3B0aW9uIG9yIHZtLiR3YXRjaCBvbiBhbiBhcnJheSB2YWx1ZSB3aWxsIG5vIGxvbmdlciBgICtcclxuICAgICAgICAgICAgYHRyaWdnZXIgb24gYXJyYXkgbXV0YXRpb24gdW5sZXNzIHRoZSBcImRlZXBcIiBvcHRpb24gaXMgc3BlY2lmaWVkLiBgICtcclxuICAgICAgICAgICAgYElmIGN1cnJlbnQgdXNhZ2UgaXMgaW50ZW5kZWQsIHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBgICtcclxuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiV0FUQ0hfQVJSQVlcIiAvKiBXQVRDSF9BUlJBWSAqL306IGZhbHNlIH0pXFxuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL3dhdGNoLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiUFJPUFNfREVGQVVMVF9USElTXCIgLyogUFJPUFNfREVGQVVMVF9USElTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBwcm9wcyBkZWZhdWx0IHZhbHVlIGZ1bmN0aW9uIG5vIGxvbmdlciBoYXMgYWNjZXNzIHRvIFwidGhpc1wiLiBUaGUgY29tcGF0IGAgK1xyXG4gICAgICAgICAgICBgYnVpbGQgb25seSBvZmZlcnMgYWNjZXNzIHRvIHRoaXMuJG9wdGlvbnMuYCArXHJcbiAgICAgICAgICAgIGAoZm91bmQgaW4gcHJvcCBcIiR7a2V5fVwiKWAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9wcm9wcy1kZWZhdWx0LXRoaXMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDVVNUT01fRElSXCIgLyogQ1VTVE9NX0RJUiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiAobGVnYWN5SG9vaywgbmV3SG9vaykgPT4gYEN1c3RvbSBkaXJlY3RpdmUgaG9vayBcIiR7bGVnYWN5SG9va31cIiBoYXMgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYFVzZSBcIiR7bmV3SG9va31cIiBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9jdXN0b20tZGlyZWN0aXZlcy5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIlZfRk9SX1JFRlwiIC8qIFZfRk9SX1JFRiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgUmVmIHVzYWdlIG9uIHYtZm9yIG5vIGxvbmdlciBjcmVhdGVzIGFycmF5IHJlZiB2YWx1ZXMgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgQ29uc2lkZXIgdXNpbmcgZnVuY3Rpb24gcmVmcyBvciByZWZhY3RvciB0byBhdm9pZCByZWYgdXNhZ2UgYWx0b2dldGhlci5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXJyYXktcmVmcy5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIFZfT05fS0VZQ09ERV9NT0RJRklFUiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgVXNpbmcga2V5Q29kZSBhcyB2LW9uIG1vZGlmaWVyIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIGtlYmFiLWNhc2Uga2V5IG5hbWUgbW9kaWZpZXJzIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIEFUVFJfRkFMU0VfVkFMVUUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogKG5hbWUpID0+IGBBdHRyaWJ1dGUgXCIke25hbWV9XCIgd2l0aCB2LWJpbmQgdmFsdWUgXFxgZmFsc2VcXGAgd2lsbCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGAke25hbWV9PVwiZmFsc2VcIiBpbnN0ZWFkIG9mIHJlbW92aW5nIGl0IGluIFZ1ZSAzLiBUbyByZW1vdmUgdGhlIGF0dHJpYnV0ZSwgYCArXHJcbiAgICAgICAgICAgIGB1c2UgXFxgbnVsbFxcYCBvciBcXGB1bmRlZmluZWRcXGAgaW5zdGVhZC4gSWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLCBgICtcclxuICAgICAgICAgICAgYHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgd2l0aDpgICtcclxuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBBVFRSX0ZBTFNFX1ZBTFVFICovfTogZmFsc2UgfSlcXG5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChuYW1lLCB2YWx1ZSwgY29lcmNlZCkgPT4gYEVudW1lcmF0ZWQgYXR0cmlidXRlIFwiJHtuYW1lfVwiIHdpdGggdi1iaW5kIHZhbHVlIFxcYCR7dmFsdWV9XFxgIHdpbGwgYCArXHJcbiAgICAgICAgICAgIGAke3ZhbHVlID09PSBudWxsID8gYGJlIHJlbW92ZWRgIDogYHJlbmRlciB0aGUgdmFsdWUgYXMtaXNgfSBpbnN0ZWFkIG9mIGNvZXJjaW5nIHRoZSB2YWx1ZSB0byBcIiR7Y29lcmNlZH1cIiBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGV4cGxpY2l0IFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlcy4gYCArXHJcbiAgICAgICAgICAgIGBJZiB0aGUgdXNhZ2UgaXMgaW50ZW5kZWQsIGAgK1xyXG4gICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovfTogZmFsc2UgfSlcXG5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiVFJBTlNJVElPTl9DTEFTU0VTXCIgLyogVFJBTlNJVElPTl9DTEFTU0VTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBgIC8vIHRoaXMgZmVhdHVyZSBjYW5ub3QgYmUgcnVudGltZS1kZXRlY3RlZFxyXG4gICAgfSxcclxuICAgIFtcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIFRSQU5TSVRJT05fR1JPVVBfUk9PVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgPFRyYW5zaXRpb25Hcm91cD4gbm8gbG9uZ2VyIHJlbmRlcnMgYSByb290IDxzcGFuPiBlbGVtZW50IGJ5IGAgK1xyXG4gICAgICAgICAgICBgZGVmYXVsdCBpZiBubyBcInRhZ1wiIHByb3AgaXMgc3BlY2lmaWVkLiBJZiB5b3UgZG8gbm90IHJlbHkgb24gdGhlIHNwYW4gYCArXHJcbiAgICAgICAgICAgIGBmb3Igc3R5bGluZywgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXHJcbiAgICAgICAgICAgIGB3YXJuaW5nIHdpdGg6YCArXHJcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBUUkFOU0lUSU9OX0dST1VQX1JPT1QgKi99OiBmYWxzZSB9KVxcbmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi90cmFuc2l0aW9uLWdyb3VwLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09NUE9ORU5UX0FTWU5DXCIgLyogQ09NUE9ORU5UX0FTWU5DICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGBBc3luYyBjb21wb25lbnQke25hbWUgPyBgIDwke25hbWV9PmAgOiBgc2B9IHNob3VsZCBiZSBleHBsaWNpdGx5IGNyZWF0ZWQgdmlhIFxcYGRlZmluZUFzeW5jQ29tcG9uZW50KClcXGAgYCArXHJcbiAgICAgICAgICAgICAgICBgaW4gVnVlIDMuIFBsYWluIGZ1bmN0aW9ucyB3aWxsIGJlIHRyZWF0ZWQgYXMgZnVuY3Rpb25hbCBjb21wb25lbnRzIGluIGAgK1xyXG4gICAgICAgICAgICAgICAgYG5vbi1jb21wYXQgYnVpbGQuIElmIHlvdSBoYXZlIGFscmVhZHkgbWlncmF0ZWQgYWxsIGFzeW5jIGNvbXBvbmVudCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2FnZSBhbmQgaW50ZW5kIHRvIHVzZSBwbGFpbiBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgYCArXHJcbiAgICAgICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXHJcbiAgICAgICAgICAgICAgICBgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkNPTVBPTkVOVF9BU1lOQ1wiIC8qIENPTVBPTkVOVF9BU1lOQyAqL306IGZhbHNlIH0pXFxuYCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2FzeW5jLWNvbXBvbmVudHMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDT01QT05FTlRfRlVOQ1RJT05BTFwiIC8qIENPTVBPTkVOVF9GVU5DVElPTkFMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGBGdW5jdGlvbmFsIGNvbXBvbmVudCR7bmFtZSA/IGAgPCR7bmFtZX0+YCA6IGBzYH0gc2hvdWxkIGJlIGRlZmluZWQgYXMgYSBwbGFpbiBmdW5jdGlvbiBpbiBWdWUgMy4gVGhlIFwiZnVuY3Rpb25hbFwiIGAgK1xyXG4gICAgICAgICAgICAgICAgYG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBOT1RFOiBCZWZvcmUgbWlncmF0aW5nIHRvIHVzZSBwbGFpbiBgICtcclxuICAgICAgICAgICAgICAgIGBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgZmlyc3QgbWFrZSBzdXJlIHRoYXQgYWxsIGFzeW5jIGAgK1xyXG4gICAgICAgICAgICAgICAgYGNvbXBvbmVudHMgdXNhZ2UgaGF2ZSBiZWVuIG1pZ3JhdGVkIGFuZCBpdHMgY29tcGF0IGJlaGF2aW9yIGhhcyBgICtcclxuICAgICAgICAgICAgICAgIGBiZWVuIGRpc2FibGVkLmApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9mdW5jdGlvbmFsLWNvbXBvbmVudHMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIENPTVBPTkVOVF9WX01PREVMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ01zZyA9IGBvcHQtaW4gdG8gYCArXHJcbiAgICAgICAgICAgICAgICBgVnVlIDMgYmVoYXZpb3Igb24gYSBwZXItY29tcG9uZW50IGJhc2lzIHdpdGggXFxgY29tcGF0Q29uZmlnOiB7ICR7XCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIENPTVBPTkVOVF9WX01PREVMICovfTogZmFsc2UgfVxcYC5gO1xyXG4gICAgICAgICAgICBpZiAoY29tcC5wcm9wcyAmJiBpc0FycmF5KGNvbXAucHJvcHMpXHJcbiAgICAgICAgICAgICAgICA/IGNvbXAucHJvcHMuaW5jbHVkZXMoJ21vZGVsVmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgOiBoYXNPd24oY29tcC5wcm9wcywgJ21vZGVsVmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChgQ29tcG9uZW50IGRlbGNhcmVzIFwibW9kZWxWYWx1ZVwiIHByb3AsIHdoaWNoIGlzIFZ1ZSAzIHVzYWdlLCBidXQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGlzIHJ1bm5pbmcgdW5kZXIgVnVlIDIgY29tcGF0IHYtbW9kZWwgYmVoYXZpb3IuIFlvdSBjYW4gJHtjb25maWdNc2d9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChgdi1tb2RlbCB1c2FnZSBvbiBjb21wb25lbnQgaGFzIGNoYW5nZWQgaW4gVnVlIDMuIENvbXBvbmVudCB0aGF0IGV4cGVjdHMgYCArXHJcbiAgICAgICAgICAgICAgICBgdG8gd29yayB3aXRoIHYtbW9kZWwgc2hvdWxkIG5vdyB1c2UgdGhlIFwibW9kZWxWYWx1ZVwiIHByb3AgYW5kIGVtaXQgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYFwidXBkYXRlOm1vZGVsVmFsdWVcIiBldmVudC4gWW91IGNhbiB1cGRhdGUgdGhlIHVzYWdlIGFuZCB0aGVuICR7Y29uZmlnTXNnfWApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi92LW1vZGVsLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiUkVOREVSX0ZVTkNUSU9OXCIgLyogUkVOREVSX0ZVTkNUSU9OICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMydzIHJlbmRlciBmdW5jdGlvbiBBUEkgaGFzIGNoYW5nZWQuIGAgK1xyXG4gICAgICAgICAgICBgWW91IGNhbiBvcHQtaW4gdG8gdGhlIG5ldyBBUEkgd2l0aDpgICtcclxuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIFJFTkRFUl9GVU5DVElPTiAqL306IGZhbHNlIH0pXFxuYCArXHJcbiAgICAgICAgICAgIGBcXG4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgcGVyLWNvbXBvbmVudCB2aWEgdGhlIFwiY29tcGF0Q29uZmlnXCIgb3B0aW9uLilgLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vcmVuZGVyLWZ1bmN0aW9uLWFwaS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIkZJTFRFUlNcIiAvKiBGSUxURVJTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBmaWx0ZXJzIGhhdmUgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFRoZSBcInxcIiBzeW1ib2wgd2lsbCBiZSB0cmVhdGVkIGFzIG5hdGl2ZSBKYXZhU2NyaXB0IGJpdHdpc2UgT1Igb3BlcmF0b3IuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIG1ldGhvZCBjYWxscyBvciBjb21wdXRlZCBwcm9wZXJ0aWVzIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2ZpbHRlcnMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJQUklWQVRFX0FQSVNcIiAvKiBQUklWQVRFX0FQSVMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogbmFtZSA9PiBgXCIke25hbWV9XCIgaXMgYSBWdWUgMiBwcml2YXRlIEFQSSB0aGF0IG5vIGxvbmdlciBleGlzdHMgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgSWYgeW91IGFyZSBzZWVpbmcgdGhpcyB3YXJuaW5nIG9ubHkgZHVlIHRvIGEgZGVwZW5kZW5jeSwgeW91IGNhbiBgICtcclxuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB2aWEgeyBQUklWQVRFX0FQSVM6ICdzdXByZXNzLXdhcm5pbmcnIH0uYFxyXG4gICAgfVxyXG59O1xyXG5jb25zdCBpbnN0YW5jZVdhcm5lZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmNvbnN0IHdhcm5Db3VudCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmZ1bmN0aW9uIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAvLyBjaGVjayB1c2VyIGNvbmZpZ1xyXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpO1xyXG4gICAgaWYgKGNvbmZpZyA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHVwS2V5ID0ga2V5ICsgYXJncy5qb2luKCcnKTtcclxuICAgIGxldCBjb21wSWQgPSBpbnN0YW5jZSAmJiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKTtcclxuICAgIGlmIChjb21wSWQgPT09ICdBbm9ueW1vdXMnICYmIGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29tcElkID0gaW5zdGFuY2UudWlkO1xyXG4gICAgfVxyXG4gICAgLy8gc2tpcCBpZiB0aGUgc2FtZSB3YXJuaW5nIGlzIGVtaXR0ZWQgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0eXBlXHJcbiAgICBjb25zdCBjb21wb25lbnREdXBLZXkgPSBkdXBLZXkgKyBjb21wSWQ7XHJcbiAgICBpZiAoY29tcG9uZW50RHVwS2V5IGluIGluc3RhbmNlV2FybmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaW5zdGFuY2VXYXJuZWRbY29tcG9uZW50RHVwS2V5XSA9IHRydWU7XHJcbiAgICAvLyBzYW1lIHdhcm5pbmcsIGJ1dCBkaWZmZXJlbnQgY29tcG9uZW50LiBza2lwIHRoZSBsb25nIG1lc3NhZ2UgYW5kIGp1c3RcclxuICAgIC8vIGxvZyB0aGUga2V5IGFuZCBjb3VudC5cclxuICAgIGlmIChkdXBLZXkgaW4gd2FybkNvdW50KSB7XHJcbiAgICAgICAgd2FybihgKGRlcHJlY2F0aW9uICR7a2V5fSkgKCR7Kyt3YXJuQ291bnRbZHVwS2V5XSArIDF9KWApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHdhcm5Db3VudFtkdXBLZXldID0gMDtcclxuICAgIGNvbnN0IHsgbWVzc2FnZSwgbGluayB9ID0gZGVwcmVjYXRpb25EYXRhW2tleV07XHJcbiAgICB3YXJuKGAoZGVwcmVjYXRpb24gJHtrZXl9KSAke3R5cGVvZiBtZXNzYWdlID09PSAnZnVuY3Rpb24nID8gbWVzc2FnZSguLi5hcmdzKSA6IG1lc3NhZ2V9JHtsaW5rID8gYFxcbiAgRGV0YWlsczogJHtsaW5rfWAgOiBgYH1gKTtcclxuICAgIGlmICghaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIHRydWUpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgXiBUaGUgYWJvdmUgZGVwcmVjYXRpb24ncyBjb21wYXQgYmVoYXZpb3IgaXMgZGlzYWJsZWQgYW5kIHdpbGwgbGlrZWx5IGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byBydW50aW1lIGVycm9ycy5gKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBnbG9iYWxDb21wYXRDb25maWcgPSB7XHJcbiAgICBNT0RFOiAyXHJcbn07XHJcbmZ1bmN0aW9uIGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZUNvbmZpZyA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuY29tcGF0Q29uZmlnO1xyXG4gICAgaWYgKGluc3RhbmNlQ29uZmlnICYmIGtleSBpbiBpbnN0YW5jZUNvbmZpZykge1xyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZUNvbmZpZ1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdsb2JhbENvbXBhdENvbmZpZ1trZXldO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCBlbmFibGVGb3JCdWlsdEluID0gZmFsc2UpIHtcclxuICAgIC8vIHNraXAgY29tcGF0IGZvciBidWlsdC1pbiBjb21wb25lbnRzXHJcbiAgICBpZiAoIWVuYWJsZUZvckJ1aWx0SW4gJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX2lzQnVpbHRJbikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJhd01vZGUgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoJ01PREUnLCBpbnN0YW5jZSkgfHwgMjtcclxuICAgIGNvbnN0IHZhbCA9IGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKTtcclxuICAgIGNvbnN0IG1vZGUgPSBpc0Z1bmN0aW9uKHJhd01vZGUpXHJcbiAgICAgICAgPyByYXdNb2RlKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUpXHJcbiAgICAgICAgOiByYXdNb2RlO1xyXG4gICAgaWYgKG1vZGUgPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gdmFsICE9PSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSAnc3VwcHJlc3Mtd2FybmluZyc7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcclxuICAgIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1pdHNPcHRpb25zLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZW1pdHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiZcclxuICAgICAgICAgICAgICAgICEoZmFsc2UgKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoZXZlbnQpIGluIHByb3BzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgYXJncyA9IHJhd0FyZ3M7XHJcbiAgICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKCd1cGRhdGU6Jyk7XHJcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYXBwbHkgbW9kaWZpZXJzIG9uIGFyZ3NcclxuICAgIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xyXG4gICAgaWYgKG1vZGVsQXJnICYmIG1vZGVsQXJnIGluIHByb3BzKSB7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09ICdtb2RlbFZhbHVlJyA/ICdtb2RlbCcgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xyXG4gICAgICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAoYSA9PiBhLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bWJlcikge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAodG9OdW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcclxuICAgICAgICAgICAgd2FybihgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IGAgK1xyXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgYE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBgICtcclxuICAgICAgICAgICAgICAgIGBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKGV2ZW50KX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgaGFuZGxlck5hbWU7XHJcbiAgICBsZXQgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCkpXSB8fFxyXG4gICAgICAgIC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcclxuICAgICAgICBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSldO1xyXG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFsc28gdHJpZ2dlciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRcclxuICAgIC8vIGZvciBwcm9wcyBwYXNzZWQgdmlhIGtlYmFiLWNhc2VcclxuICAgIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcclxuICAgICAgICBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpKV07XHJcbiAgICB9XHJcbiAgICBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xyXG4gICAgaWYgKG9uY2VIYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmVtaXR0ZWQgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSA9IHRydWU7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcob25jZUhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcclxuICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xyXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcclxuICAgICAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgcmF3LmZvckVhY2goa2V5ID0+IChub3JtYWxpemVkW2tleV0gPSBudWxsKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcclxuICAgIH1cclxuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59XHJcbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cclxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXHJcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cclxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcclxuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHxcclxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5KSk7XHJcbn1cblxuLyoqXHJcbiAqIG1hcmsgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlIGZvciBhc3NldCByZXNvbHV0aW9uIChlLmcuXHJcbiAqIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUpIGR1cmluZyByZW5kZXJcclxuICovXHJcbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG4vKipcclxuICogTm90ZTogcmVuZGVyaW5nIGNhbGxzIG1heWJlIG5lc3RlZC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBhcmVudCByZW5kZXJpbmdcclxuICogaW5zdGFuY2UgaWYgcHJlc2VudCwgd2hpY2ggc2hvdWxkIGJlIHJlc3RvcmVkIGFmdGVyIHRoZSByZW5kZXIgaXMgZG9uZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpKVxyXG4gKiAvLyAuLi5yZW5kZXJcclxuICogc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCkgfHwgbnVsbDtcclxuICAgIHJldHVybiBwcmV2O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NvcGUgaWQgd2hlbiBjcmVhdGluZyBob2lzdGVkIHZub2Rlcy5cclxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcclxufVxyXG4vKipcclxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXHJcbiAqIEFQSSBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBjb2RlIGdlbmVyYXRlZCBieSBjb21waWxlcnMuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XHJcbi8qKlxyXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXHJcbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QgLy8gZmFsc2Ugb25seVxyXG4pIHtcclxuICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIC8vIGFscmVhZHkgbm9ybWFsaXplZFxyXG4gICAgaWYgKGZuLl9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgYSB1c2VyIGNhbGxzIGEgY29tcGlsZWQgc2xvdCBpbnNpZGUgYSB0ZW1wbGF0ZSBleHByZXNzaW9uICgjMTc0NSksIGl0XHJcbiAgICAgICAgLy8gY2FuIG1lc3MgdXAgYmxvY2sgdHJhY2tpbmcsIHNvIGJ5IGRlZmF1bHQgd2UgZGlzYWJsZSBibG9jayB0cmFja2luZyBhbmRcclxuICAgICAgICAvLyBmb3JjZSBiYWlsIG91dCB3aGVuIGludm9raW5nIGEgY29tcGlsZWQgc2xvdCAoaW5kaWNhdGVkIGJ5IHRoZSAuX2QgZmxhZykuXHJcbiAgICAgICAgLy8gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAsIHNvIHdlIGZsaXAgdGhlXHJcbiAgICAgICAgLy8gLl9kIGZsYWcgb2ZmIHdoZW4gaW52b2tpbmcgdGhlIHdyYXBwZWQgZm4gaW5zaWRlIGByZW5kZXJTbG90YC5cclxuICAgICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xyXG4gICAgICAgICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZm4oLi4uYXJncyk7XHJcbiAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcclxuICAgICAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgLy8gbWFyayBub3JtYWxpemVkIHRvIGF2b2lkIGR1cGxpY2F0ZWQgd3JhcHBpbmdcclxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xyXG4gICAgLy8gbWFyayB0aGlzIGFzIGNvbXBpbGVkIGJ5IGRlZmF1bHRcclxuICAgIC8vIHRoaXMgaXMgdXNlZCBpbiB2bm9kZS50cyAtPiBub3JtYWxpemVDaGlsZHJlbigpIHRvIHNldCB0aGUgc2xvdFxyXG4gICAgLy8gcmVuZGVyaW5nIGZsYWcuXHJcbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcclxuICAgIC8vIGRpc2FibGUgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdFxyXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcclxufVxuXG4vKipcclxuICogZGV2IG9ubHkgZmxhZyB0byB0cmFjayB3aGV0aGVyICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyLlxyXG4gKiBJZiAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlciB0aGVuIHRoZSB3YXJuaW5nIGZvciBmYWlsZWQgYXR0cnNcclxuICogZmFsbHRocm91Z2ggY2FuIGJlIHN1cHByZXNzZWQuXHJcbiAqL1xyXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcclxuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4LCBpbmhlcml0QXR0cnMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIC8vIHdpdGhQcm94eSBpcyBhIHByb3h5IHdpdGggYSBkaWZmZXJlbnQgYGhhc2AgdHJhcCBvbmx5IGZvclxyXG4gICAgICAgICAgICAvLyBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrLlxyXG4gICAgICAgICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xyXG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIuY2FsbChwcm94eVRvVXNlLCBwcm94eVRvVXNlLCByZW5kZXJDYWNoZSwgcHJvcHMsIHNldHVwU3RhdGUsIGRhdGEsIGN0eCkpO1xyXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudDtcclxuICAgICAgICAgICAgLy8gaW4gZGV2LCBtYXJrIGF0dHJzIGFjY2Vzc2VkIGlmIG9wdGlvbmFsIHByb3BzIChhdHRycyA9PT0gcHJvcHMpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYXR0cnMgPT09IHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5sZW5ndGggPiAxXHJcbiAgICAgICAgICAgICAgICA/IHJlbmRlcihwcm9wcywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBhdHRycygpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogeyBhdHRycywgc2xvdHMsIGVtaXQgfSlcclxuICAgICAgICAgICAgICAgIDogcmVuZGVyKHByb3BzLCBudWxsIC8qIHdlIGtub3cgaXQgZG9lc24ndCBuZWVkIGl0ICovKSk7XHJcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHNcclxuICAgICAgICAgICAgICAgID8gYXR0cnNcclxuICAgICAgICAgICAgICAgIDogZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoKGF0dHJzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXR0ciBtZXJnaW5nXHJcbiAgICAgICAgLy8gaW4gZGV2IG1vZGUsIGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQsIGFuZCBpdCdzIHBvc3NpYmxlIGZvciBhIHRlbXBsYXRlXHJcbiAgICAgICAgLy8gdG8gaGF2ZSBjb21tZW50cyBhbG9uZyBzaWRlIHRoZSByb290IGVsZW1lbnQgd2hpY2ggbWFrZXMgaXQgYSBmcmFnbWVudFxyXG4gICAgICAgIGxldCByb290ID0gcmVzdWx0O1xyXG4gICAgICAgIGxldCBzZXRSb290ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDggLyogREVWX1JPT1RfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xyXG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCQxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgaGFuZGxlcnMgd2hlbiB0aGV5IGZhaWwgdG8gZmFsbHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYG9uYCwgbG93ZXJjYXNlIGZpcnN0IGxldHRlciB0byByZWZsZWN0IGV2ZW50IGNhc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXZlbnRBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlICYmXHJcbiAgICAgICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlKSAmJlxyXG4gICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgICAgICAocm9vdC5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgIHJvb3Quc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pKSA7XHJcbiAgICAgICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXHJcbiAgICAgICAgaWYgKHZub2RlLmRpcnMpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcclxuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXRSb290KSB7XHJcbiAgICAgICAgICAgIHNldFJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQkMSk7XHJcbiAgICB9XHJcbiAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKiBJbiBkZXYgbW9kZSwgdGVtcGxhdGUgcm9vdCBsZXZlbCBjb21tZW50cyBhcmUgcmVuZGVyZWQsIHdoaWNoIHR1cm5zIHRoZVxyXG4gKiB0ZW1wbGF0ZSBpbnRvIGEgZnJhZ21lbnQgcm9vdCwgYnV0IHdlIG5lZWQgdG8gbG9jYXRlIHRoZSBzaW5nbGUgZWxlbWVudFxyXG4gKiByb290IGZvciBhdHRycyBhbmQgc2NvcGUgaWQgcHJvY2Vzc2luZy5cclxuICovXHJcbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4pO1xyXG4gICAgaWYgKCFjaGlsZFJvb3QpIHtcclxuICAgICAgICByZXR1cm4gW3Zub2RlLCB1bmRlZmluZWRdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XHJcbiAgICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XHJcbiAgICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XHJcbiAgICAgICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XHJcbn07XHJcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4pIHtcclxuICAgIGxldCBzaW5nbGVSb290O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIC8vIGlnbm9yZSB1c2VyIGNvbW1lbnRcclxuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gJ3YtaWYnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzaW5nbGVSb290O1xyXG59XHJcbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xyXG4gICAgbGV0IHJlcztcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS50eXBlID09PSBDb21tZW50JDEgLy8gcG90ZW50aWFsIHYtaWYgYnJhbmNoIHN3aXRjaFxyXG4gICAgKTtcclxufTtcclxuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XHJcbiAgICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xyXG4gICAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xyXG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcclxuICAgIC8vIGNhdXNlZCB0aGUgY2hpbGQgY29tcG9uZW50J3Mgc2xvdHMgY29udGVudCB0byBoYXZlIGNoYW5nZWQsIHdlIG5lZWQgdG9cclxuICAgIC8vIGZvcmNlIHRoZSBjaGlsZCB0byB1cGRhdGUgYXMgd2VsbC5cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXHJcbiAgICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCB0aGF0IHJlZmVyZW5jZXMgdmFsdWVzIHRoYXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLFxyXG4gICAgICAgICAgICAvLyBlLmcuIGluIGEgdi1mb3JcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgdGhpcyBmbGFnIGluZGljYXRlcyBwcm9wcyBhcmUgYWx3YXlzIG5vbi1udWxsXHJcbiAgICAgICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gdGhpcyBwYXRoIGlzIG9ubHkgdGFrZW4gYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgLy8gc28gcHJlc2VuY2Ugb2YgYW55IGNoaWxkcmVuIGxlYWRzIHRvIGEgZm9yY2VkIHVwZGF0ZVxyXG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XHJcbiAgICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XHJcbiAgICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCAvLyBIb3N0Tm9kZVxyXG4pIHtcclxuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XHJcbiAgICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcclxuLy8gU3VzcGVuc2UgZXhwb3NlcyBhIGNvbXBvbmVudC1saWtlIEFQSSwgYW5kIGlzIHRyZWF0ZWQgbGlrZSBhIGNvbXBvbmVudFxyXG4vLyBpbiB0aGUgY29tcGlsZXIsIGJ1dCBpbnRlcm5hbGx5IGl0J3MgYSBzcGVjaWFsIGJ1aWx0LWluIHR5cGUgdGhhdCBob29rc1xyXG4vLyBkaXJlY3RseSBpbnRvIHRoZSByZW5kZXJlci5cclxuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xyXG4gICAgbmFtZTogJ1N1c3BlbnNlJyxcclxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcclxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXHJcbiAgICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcclxuICAgIC8vIGludGVybmFscy5cclxuICAgIF9faXNTdXNwZW5zZTogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBcclxuICAgIC8vIHBsYXRmb3JtLXNwZWNpZmljIGltcGwgcGFzc2VkIGZyb20gcmVuZGVyZXJcclxuICAgIHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgbW91bnRTdXNwZW5zZShuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXHJcbiAgICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnksXHJcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW5cclxufTtcclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgU3VzcGVuc2UgPSAoU3VzcGVuc2VJbXBsXHJcbiAgICApO1xyXG5mdW5jdGlvbiB0cmlnZ2VyRXZlbnQodm5vZGUsIG5hbWUpIHtcclxuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wc1tuYW1lXTtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XHJcbiAgICAgICAgZXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICBjb25zdCB7IHA6IHBhdGNoLCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykpO1xyXG4gICAgLy8gc3RhcnQgbW91bnRpbmcgdGhlIGNvbnRlbnQgc3VidHJlZSBpbiBhbiBvZmYtZG9tIGNvbnRhaW5lclxyXG4gICAgcGF0Y2gobnVsbCwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBoaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgLy8gbm93IGNoZWNrIGlmIHdlIGhhdmUgZW5jb3VudGVyZWQgYW55IGFzeW5jIGRlcHNcclxuICAgIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xyXG4gICAgICAgIC8vIGhhcyBhc3luY1xyXG4gICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcclxuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvblBlbmRpbmcnKTtcclxuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvbkZhbGxiYWNrJyk7XHJcbiAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZS5zc0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXNwZW5zZSBoYXMgbm8gYXN5bmMgZGVwcy4gSnVzdCByZXNvbHZlLlxyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAobjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZSk7XHJcbiAgICBzdXNwZW5zZS52bm9kZSA9IG4yO1xyXG4gICAgbjIuZWwgPSBuMS5lbDtcclxuICAgIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcclxuICAgIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcclxuICAgIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcclxuICAgIGlmIChwZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgcGVuZGluZ0JyYW5jaCkpIHtcclxuICAgICAgICAgICAgLy8gc2FtZSByb290IHR5cGUgYnV0IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cclxuICAgICAgICAgICAgcGF0Y2gocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcclxuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXHJcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgdmFsaWQuIHNldCBpdCBhcyB0aGUgYWN0aXZlIGJyYW5jaCBzbyBpdCB3aWxsIGJlIHVubW91bnRlZFxyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZXNvbHZlZFxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcclxuICAgICAgICAgICAgLy8gcmVzZXQgc3VzcGVuc2Ugc3RhdGVcclxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBwcmV2aW91cyBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZmFsbGJhY2sgc3RhdGVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlZCBcImJhY2tcIiB0byBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlc29sdmVcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byBhIDNyZCBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyByb290IGRpZCBub3QgY2hhbmdlLCBqdXN0IG5vcm1hbCBwYXRjaFxyXG4gICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3Qgbm9kZSB0b2dnbGVkXHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxyXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQobjIsICdvblBlbmRpbmcnKTtcclxuICAgICAgICAgICAgLy8gbW91bnQgcGVuZGluZyBicmFuY2ggaW4gb2ZmLWRvbSBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XHJcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNvbWluZyBicmFuY2ggaGFzIG5vIGFzeW5jIGRlcHMsIHJlc29sdmUgbm93LlxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBgY29uc29sZS5pbmZvYCBjYW5ub3QgYmUgbnVsbCBlcnJvclxyXG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiB1bm1vdW50LCBuOiBuZXh0LCBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IHRpbWVvdXQgPSB0b051bWJlcih2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50aW1lb3V0KTtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0ge1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXHJcbiAgICAgICAgaXNTVkcsXHJcbiAgICAgICAgY29udGFpbmVyLFxyXG4gICAgICAgIGhpZGRlbkNvbnRhaW5lcixcclxuICAgICAgICBhbmNob3IsXHJcbiAgICAgICAgZGVwczogMCxcclxuICAgICAgICBwZW5kaW5nSWQ6IDAsXHJcbiAgICAgICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09ICdudW1iZXInID8gdGltZW91dCA6IC0xLFxyXG4gICAgICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcclxuICAgICAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxyXG4gICAgICAgIGlzSW5GYWxsYmFjazogdHJ1ZSxcclxuICAgICAgICBpc0h5ZHJhdGluZyxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgZWZmZWN0czogW10sXHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBwZW5kaW5nSWQsIGVmZmVjdHMsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZXN1bWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBpbml0aWFsIGFuY2hvciBvbiBtb3VudFxyXG4gICAgICAgICAgICAgICAgbGV0IHsgYW5jaG9yIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIC8vIHVubW91bnQgY3VycmVudCBhY3RpdmUgdHJlZVxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsYmFjayB0cmVlIHdhcyBtb3VudGVkLCBpdCBtYXkgaGF2ZSBiZWVuIG1vdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgcGFydCBvZiBhIHBhcmVudCBzdXNwZW5zZS4gZ2V0IHRoZSBsYXRlc3QgYW5jaG9yIGZvciBpbnNlcnRpb25cclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjb250ZW50IGZyb20gb2ZmLWRvbSBjb250YWluZXIgdG8gYWN0dWFsIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyZWQgZWZmZWN0c1xyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgbWVyZ2UgYnVmZmVyZWQgcG9zdCBqb2JzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGF0IHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIGZsdXNoIGFsbCBqb2JzXHJcbiAgICAgICAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEByZXNvbHZlIGV2ZW50XHJcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uUmVzb2x2ZScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFsbGJhY2soZmFsbGJhY2tWTm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBpc1NWRyB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KHZub2RlLCAnb25GYWxsYmFjaycpO1xyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXHJcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xyXG4gICAgICAgICAgICB0cnVlIC8vIHNob3VsZFJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50RmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZShjb250YWluZXIsIGFuY2hvciwgdHlwZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgdHlwZSk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5kZXBzKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xyXG4gICAgICAgICAgICBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLmFzeW5jRGVwLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jU2V0dXBSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2hlbiB0aGUgc2V0dXAoKSBwcm9taXNlIHJlc29sdmVzLlxyXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBtYXkgaGF2ZSBiZWVuIHJlcGxhY2VkIGlmIGFuIHVwZGF0ZSBoYXBwZW5lZCBiZWZvcmUgdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgZGVwIGlzIHJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmVsID0gaHlkcmF0ZWRFbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcclxuICAgICAgICAgICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCB2bm9kZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXHJcbiAgICAgICAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksIHN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShwbGFjZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlLmVsKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25seSBkZWNyZWFzZSBkZXBzIGNvdW50IGlmIHN1c3BlbnNlIGlzIG5vdCBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gc3VzcGVuc2U7XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVN1c3BlbnNlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XHJcbiAgICAvLyB0aGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNjZW5hcmlvcyBmb3Igc2VydmVyLXJlbmRlcmVkIHN1c3BlbnNlOlxyXG4gICAgLy8gLSBzdWNjZXNzOiBzc3IgY29udGVudCBzaG91bGQgYmUgZnVsbHkgcmVzb2x2ZWRcclxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXHJcbiAgICAvLyBob3dldmVyLCBvbiB0aGUgY2xpZW50IHdlIGRvbid0IHJlYWxseSBrbm93IGlmIGl0IGhhcyBmYWlsZWQgb3Igbm90XHJcbiAgICAvLyBhdHRlbXB0IHRvIGh5ZHJhdGUgdGhlIERPTSBhc3N1bWluZyBpdCBoYXMgc3VjY2VlZGVkLCBidXQgd2Ugc3RpbGxcclxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKG5vZGUsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNTbG90Q2hpbGRyZW4gPSBzaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlbik7XHJcbiAgICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW5cclxuICAgICAgICA/IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbi5mYWxsYmFjaylcclxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChzKSB7XHJcbiAgICBsZXQgYmxvY2s7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgIGNvbnN0IGlzQ29tcGlsZWRTbG90ID0gcy5fYztcclxuICAgICAgICBpZiAoaXNDb21waWxlZFNsb3QpIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZVRyYWNraW5nOiBmYWxzZVxyXG4gICAgICAgICAgICAvLyBhbGxvdyBibG9jayB0cmFja2luZyBmb3IgY29tcGlsZWQgc2xvdHNcclxuICAgICAgICAgICAgLy8gKHNlZSAuL2NvbXBvbmVudFJlbmRlckNvbnRleHQudHMpXHJcbiAgICAgICAgICAgIHMuX2QgPSBmYWxzZTtcclxuICAgICAgICAgICAgb3BlbkJsb2NrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHMgPSBzKCk7XHJcbiAgICAgICAgaWYgKGlzQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIHMuX2QgPSB0cnVlO1xyXG4gICAgICAgICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcclxuICAgICAgICAgICAgY2xvc2VCbG9jaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHMpKSB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNpbmdsZUNoaWxkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcyA9IHNpbmdsZUNoaWxkO1xyXG4gICAgfVxyXG4gICAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xyXG4gICAgaWYgKGJsb2NrKSB7XHJcbiAgICAgICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoYyA9PiBjICE9PSBzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xyXG4gICAgaWYgKHN1c3BlbnNlICYmIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaChmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcclxuICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcclxuICAgIGNvbnN0IHsgdm5vZGUsIHBhcmVudENvbXBvbmVudCB9ID0gc3VzcGVuc2U7XHJcbiAgICBjb25zdCBlbCA9ICh2bm9kZS5lbCA9IGJyYW5jaC5lbCk7XHJcbiAgICAvLyBpbiBjYXNlIHN1c3BlbnNlIGlzIHRoZSByb290IG5vZGUgb2YgYSBjb21wb25lbnQsXHJcbiAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdGhlIEhPQyBlbFxyXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcclxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xyXG4gICAgICAgIC8vIGJ5IGRlZmF1bHQgYW4gaW5zdGFuY2UgaW5oZXJpdHMgaXRzIHBhcmVudCdzIHByb3ZpZGVzIG9iamVjdFxyXG4gICAgICAgIC8vIGJ1dCB3aGVuIGl0IG5lZWRzIHRvIHByb3ZpZGUgdmFsdWVzIG9mIGl0cyBvd24sIGl0IGNyZWF0ZXMgaXRzXHJcbiAgICAgICAgLy8gb3duIHByb3ZpZGVzIG9iamVjdCB1c2luZyBwYXJlbnQgcHJvdmlkZXMgb2JqZWN0IGFzIHByb3RvdHlwZS5cclxuICAgICAgICAvLyB0aGlzIHdheSBpbiBgaW5qZWN0YCB3ZSBjYW4gc2ltcGx5IGxvb2sgdXAgaW5qZWN0aW9ucyBmcm9tIGRpcmVjdFxyXG4gICAgICAgIC8vIHBhcmVudCBhbmQgbGV0IHRoZSBwcm90b3R5cGUgY2hhaW4gZG8gdGhlIHdvcmsuXHJcbiAgICAgICAgY29uc3QgcGFyZW50UHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XHJcbiAgICAgICAgaWYgKHBhcmVudFByb3ZpZGVzID09PSBwcm92aWRlcykge1xyXG4gICAgICAgICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcclxuICAgIC8vIGZhbGxiYWNrIHRvIGBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VgIHNvIHRoYXQgdGhpcyBjYW4gYmUgY2FsbGVkIGluXHJcbiAgICAvLyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAvLyAjMjQwMFxyXG4gICAgICAgIC8vIHRvIHN1cHBvcnQgYGFwcC51c2VgIHBsdWdpbnMsXHJcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwQ29udGV4dCdzIGBwcm92aWRlc2AgaWYgdGhlIGludGFuY2UgaXMgYXQgcm9vdFxyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaW5zdGFuY2UucGFyZW50ID09IG51bGxcclxuICAgICAgICAgICAgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXNcclxuICAgICAgICAgICAgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xyXG4gICAgICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZS5wcm94eSlcclxuICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XHJcbiAgICB9XHJcbn1cblxuLy8gU2ltcGxlIGVmZmVjdC5cclxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xyXG59XHJcbi8vIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzIHRvIHRyaWdnZXIgb24gdW5kZWZpbmVkIGluaXRpYWwgdmFsdWVzXHJcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGNiKSkge1xyXG4gICAgICAgIHdhcm4oYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBgICtcclxuICAgICAgICAgICAgYFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IGAgK1xyXG4gICAgICAgICAgICBgc3VwcG9ydHMgXFxgd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvblRyYWNrLCBvblRyaWdnZXIgfSA9IEVNUFRZX09CSiwgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXHJcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlZXAgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuKGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCwgcywgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGAgK1xyXG4gICAgICAgICAgICBgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmApO1xyXG4gICAgfTtcclxuICAgIGxldCBnZXR0ZXI7XHJcbiAgICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XHJcbiAgICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xyXG4gICAgaWYgKGlzUmVmKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UudmFsdWU7XHJcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gISFzb3VyY2UuX3NoYWxsb3c7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2U7XHJcbiAgICAgICAgZGVlcCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcclxuICAgICAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZShpc1JlYWN0aXZlKTtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKHMgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNSZWYocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cmF2ZXJzZShzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHMsIGluc3RhbmNlLCAyIC8qIFdBVENIX0dFVFRFUiAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbb25JbnZhbGlkYXRlXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gTk9PUDtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNsZWFudXA7XHJcbiAgICBsZXQgb25JbnZhbGlkYXRlID0gKGZuKSA9PiB7XHJcbiAgICAgICAgY2xlYW51cCA9IHJ1bm5lci5vcHRpb25zLm9uU3RvcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCAvKiBXQVRDSF9DTEVBTlVQICovKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBbXSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcclxuICAgIGNvbnN0IGpvYiA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXJ1bm5lci5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBydW5uZXIoKTtcclxuICAgICAgICAgICAgaWYgKGRlZXAgfHxcclxuICAgICAgICAgICAgICAgIGZvcmNlVHJpZ2dlciB8fFxyXG4gICAgICAgICAgICAgICAgKGlzTXVsdGlTb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlLnNvbWUoKHYsIGkpID0+IGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB8fFxyXG4gICAgICAgICAgICAgICAgKGZhbHNlICApKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBXQVRDSF9DQUxMQkFDSyAqLywgW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHVuZGVmaW5lZCA6IG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uSW52YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3YXRjaEVmZmVjdFxyXG4gICAgICAgICAgICBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gaW1wb3J0YW50OiBtYXJrIHRoZSBqb2IgYXMgYSB3YXRjaGVyIGNhbGxiYWNrIHNvIHRoYXQgc2NoZWR1bGVyIGtub3dzXHJcbiAgICAvLyBpdCBpcyBhbGxvd2VkIHRvIHNlbGYtdHJpZ2dlciAoIzE3MjcpXHJcbiAgICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcclxuICAgIGxldCBzY2hlZHVsZXI7XHJcbiAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9IGpvYjsgLy8gdGhlIHNjaGVkdWxlciBmdW5jdGlvbiBnZXRzIGNhbGxlZCBkaXJlY3RseVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRlZmF1bHQ6ICdwcmUnXHJcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlIHx8IGluc3RhbmNlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQcmVGbHVzaENiKGpvYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aXRoICdwcmUnIG9wdGlvbiwgdGhlIGZpcnN0IGNhbGwgbXVzdCBoYXBwZW4gYmVmb3JlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgc28gaXQgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHkuXHJcbiAgICAgICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW5uZXIgPSBlZmZlY3QoZ2V0dGVyLCB7XHJcbiAgICAgICAgbGF6eTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrLFxyXG4gICAgICAgIG9uVHJpZ2dlcixcclxuICAgICAgICBzY2hlZHVsZXJcclxuICAgIH0pO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChydW5uZXIsIGluc3RhbmNlKTtcclxuICAgIC8vIGluaXRpYWwgcnVuXHJcbiAgICBpZiAoY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XHJcbiAgICAgICAgICAgIGpvYigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUgPSBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnKSB7XHJcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHJ1bm5lciwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcnVubmVyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHN0b3AocnVubmVyKTtcclxuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmVtb3ZlKGluc3RhbmNlLmVmZmVjdHMsIHJ1bm5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4vLyB0aGlzLiR3YXRjaFxyXG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSB0aGlzLnByb3h5O1xyXG4gICAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKVxyXG4gICAgICAgID8gc291cmNlLmluY2x1ZGVzKCcuJylcclxuICAgICAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSlcclxuICAgICAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV1cclxuICAgICAgICA6IHNvdXJjZS5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xyXG4gICAgbGV0IGNiO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgY2IgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcclxuICAgICAgICBvcHRpb25zID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMsIHRoaXMpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XHJcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1ciA9IGN0eDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xyXG4gICAgICAgICAgICBjdXIgPSBjdXJbc2VnbWVudHNbaV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VyO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWx1ZSwgc2VlbiA9IG5ldyBTZXQoKSkge1xyXG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHxcclxuICAgICAgICBzZWVuLmhhcyh2YWx1ZSkgfHxcclxuICAgICAgICB2YWx1ZVtcIl9fdl9za2lwXCIgLyogU0tJUCAqL10pIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZWVuLmFkZCh2YWx1ZSk7XHJcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcclxuICAgIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNMZWF2aW5nOiBmYWxzZSxcclxuICAgICAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGxlYXZpbmdWTm9kZXM6IG5ldyBNYXAoKVxyXG4gICAgfTtcclxuICAgIG9uTW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcclxuICAgICAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn1cclxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcclxuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xyXG4gICAgbmFtZTogYEJhc2VUcmFuc2l0aW9uYCxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgbW9kZTogU3RyaW5nLFxyXG4gICAgICAgIGFwcGVhcjogQm9vbGVhbixcclxuICAgICAgICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXHJcbiAgICAgICAgLy8gZW50ZXJcclxuICAgICAgICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIC8vIGxlYXZlXHJcbiAgICAgICAgb25CZWZvcmVMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBhcHBlYXJcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxyXG4gICAgfSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XHJcbiAgICAgICAgbGV0IHByZXZUcmFuc2l0aW9uS2V5O1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiBVc2UgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHRyYWNrIHJlYWN0aXZpdHkgZm9yIHRoZXNlIHByb3BzIHNvIHVzZSB0aGUgcmF3XHJcbiAgICAgICAgICAgIC8vIHByb3BzIGZvciBhIGJpdCBiZXR0ZXIgcGVyZlxyXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgeyBtb2RlIH0gPSByYXdQcm9wcztcclxuICAgICAgICAgICAgLy8gY2hlY2sgbW9kZVxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGUgJiYgIVsnaW4tb3V0JywgJ291dC1pbicsICdkZWZhdWx0J10uaW5jbHVkZXMobW9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50IGNoaWxkcmVuIGhhcyBhIGd1YXJhbnRlZWQgbGVuZ3RoIG9mIDEuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiA8dHJhbnNpdGlvbj48a2VlcC1hbGl2ZS8+PC90cmFuc2l0aW9uPiwgd2UgbmVlZCB0b1xyXG4gICAgICAgICAgICAvLyBjb21wYXJlIHRoZSB0eXBlIG9mIHRoZSBrZXB0LWFsaXZlIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICBjb25zdCBpbm5lckNoaWxkID0gZ2V0S2VlcEFsaXZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZElubmVyQ2hpbGQgPSBvbGRDaGlsZCAmJiBnZXRLZWVwQWxpdmVDaGlsZChvbGRDaGlsZCk7XHJcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGdldFRyYW5zaXRpb25LZXkgfSA9IGlubmVyQ2hpbGQudHlwZTtcclxuICAgICAgICAgICAgaWYgKGdldFRyYW5zaXRpb25LZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFRyYW5zaXRpb25LZXkoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2VHJhbnNpdGlvbktleSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09IHByZXZUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbktleUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBtb2RlXHJcbiAgICAgICAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmXHJcbiAgICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSAmJlxyXG4gICAgICAgICAgICAgICAgKCFpc1NhbWVWTm9kZVR5cGUoaW5uZXJDaGlsZCwgb2xkSW5uZXJDaGlsZCkgfHwgdHJhbnNpdGlvbktleUNoYW5nZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9sZCB0cmVlJ3MgaG9va3MgaW4gY2FzZSBvZiBkeW5hbWljIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xyXG4gICAgICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGJldHdlZW4gZGlmZmVyZW50IHZpZXdzXHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBwbGFjZWhvbGRlciBub2RlIGFuZCBxdWV1ZSB1cGRhdGUgd2hlbiBsZWF2ZSBmaW5pc2hlc1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0JyAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIG9sZElubmVyQ2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XHJcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XHJcbiAgICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xyXG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xyXG4gICAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcclxuICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xyXG59XHJcbi8vIFRoZSB0cmFuc2l0aW9uIGhvb2tzIGFyZSBhdHRhY2hlZCB0byB0aGUgdm5vZGUgYXMgdm5vZGUudHJhbnNpdGlvblxyXG4vLyBhbmQgd2lsbCBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5nIGluIHRoZSByZW5kZXJlci5cclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBhcHBlYXIsIG1vZGUsIHBlcnNpc3RlZCA9IGZhbHNlLCBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkFmdGVyRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uQmVmb3JlTGVhdmUsIG9uTGVhdmUsIG9uQWZ0ZXJMZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIsIG9uQXBwZWFyLCBvbkFmdGVyQXBwZWFyLCBvbkFwcGVhckNhbmNlbGxlZCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcclxuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcclxuICAgIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcclxuICAgICAgICBob29rICYmXHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIFRSQU5TSVRJT05fSE9PSyAqLywgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaG9va3MgPSB7XHJcbiAgICAgICAgbW9kZSxcclxuICAgICAgICBwZXJzaXN0ZWQsXHJcbiAgICAgICAgYmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvciBzYW1lIGVsZW1lbnQgKHYtc2hvdylcclxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxyXG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIGVhcmx5IHJlbW92YWwgKG5vdCBjYW5jZWxsZWQpXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudGVyKGVsKSB7XHJcbiAgICAgICAgICAgIGxldCBob29rID0gb25FbnRlcjtcclxuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcclxuICAgICAgICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fZW50ZXJDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChob29rKSB7XHJcbiAgICAgICAgICAgICAgICBob29rKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID0gdm5vZGU7XHJcbiAgICAgICAgICAgIGlmIChvbkxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkxlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChvbkxlYXZlLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9uZSh2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBob29rcztcclxufVxyXG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcclxuLy8gaW4gdGhlIGNhc2Ugb2YgYSBLZWVwQWxpdmUgaW4gYSBsZWF2ZSBwaGFzZSB3ZSBuZWVkIHRvIHJldHVybiBhIEtlZXBBbGl2ZVxyXG4vLyBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IGNvbnRlbnQgdG8gYXZvaWQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBmcm9tIGJlaW5nXHJcbi8vIHVubW91bnRlZC5cclxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xyXG4gICAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xyXG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxyXG4gICAgICAgID8gdm5vZGUuY2hpbGRyZW5cclxuICAgICAgICAgICAgPyB2bm9kZS5jaGlsZHJlblswXVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgIDogdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSkge1xyXG4gICAgbGV0IHJldCA9IFtdO1xyXG4gICAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKVxyXG4gICAgICAgICAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XHJcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb21tZW50IHBsYWNlaG9sZGVycyBzaG91bGQgYmUgc2tpcHBlZCwgZS5nLiB2LWlmXHJcbiAgICAgICAgZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCQxKSB7XHJcbiAgICAgICAgICAgIHJldC5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAjMTEyNiBpZiBhIHRyYW5zaXRpb24gY2hpbGRyZW4gbGlzdCBjb250YWlucyBtdWx0aXBsZSBzdWIgZnJhZ21lbnRzLCB0aGVzZVxyXG4gICAgLy8gZnJhZ21lbnRzIHdpbGwgYmUgbWVyZ2VkIGludG8gYSBmbGF0IGNoaWxkcmVuIGFycmF5LiBTaW5jZSBlYWNoIHYtZm9yXHJcbiAgICAvLyBmcmFnbWVudCBtYXkgY29udGFpbiBkaWZmZXJlbnQgc3RhdGljIGJpbmRpbmdzIGluc2lkZSwgd2UgbmVlZCB0byBkZS1vcFxyXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gdG8gZm9yY2UgZnVsbCBkaWZmcyB0byBlbnN1cmUgY29ycmVjdCBiZWhhdmlvci5cclxuICAgIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yIC8qIEJBSUwgKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiwgY2xvc2UgdG8gbm8tb3BcclxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8geyBzZXR1cDogb3B0aW9ucywgbmFtZTogb3B0aW9ucy5uYW1lIH0gOiBvcHRpb25zO1xyXG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XHJcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudCwgZGVsYXkgPSAyMDAsIHRpbWVvdXQsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxyXG4gICAgc3VzcGVuc2libGUgPSB0cnVlLCBvbkVycm9yOiB1c2VyT25FcnJvciB9ID0gc291cmNlO1xyXG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgIGxldCByZXNvbHZlZENvbXA7XHJcbiAgICBsZXQgcmV0cmllcyA9IDA7XHJcbiAgICBjb25zdCByZXRyeSA9ICgpID0+IHtcclxuICAgICAgICByZXRyaWVzKys7XHJcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBsb2FkKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgdGhpc1JlcXVlc3Q7XHJcbiAgICAgICAgcmV0dXJuIChwZW5kaW5nUmVxdWVzdCB8fFxyXG4gICAgICAgICAgICAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyT25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGNvbXApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb21wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgICAgICBuYW1lOiAnQXN5bmNDb21wb25lbnRXcmFwcGVyJyxcclxuICAgICAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxyXG4gICAgICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXR1cCgpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICAgICAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWRcclxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMTMgLyogQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqLywgIWVycm9yQ29tcG9uZW50IC8qIGRvIG5vdCB0aHJvdyBpbiBkZXYgaWYgdXNlciBwcm92aWRlZCBlcnJvciBjb21wb25lbnQgKi8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBzdXNwZW5zZS1jb250cm9sbGVkIG9yIFNTUi5cclxuICAgICAgICAgICAgaWYgKChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSkgfHxcclxuICAgICAgICAgICAgICAgIChmYWxzZSApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY29tcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHJlZigpO1xyXG4gICAgICAgICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXkpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tcy5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2FkKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgaXMga2VlcC1hbGl2ZSwgZm9yY2UgdXBkYXRlIHNvIHRoZSBsb2FkZWQgY29tcG9uZW50J3NcclxuICAgICAgICAgICAgICAgICAgICAvLyBuYW1lIGlzIHRha2VuIGludG8gYWNjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHsgdm5vZGU6IHsgcmVmLCBwcm9wcywgY2hpbGRyZW4gfSB9KSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XHJcbiAgICAvLyBlbnN1cmUgaW5uZXIgY29tcG9uZW50IGluaGVyaXRzIHRoZSBhc3luYyB3cmFwcGVyJ3MgcmVmIG93bmVyXHJcbiAgICB2bm9kZS5yZWYgPSByZWY7XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcclxuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcclxuICAgIG5hbWU6IGBLZWVwQWxpdmVgLFxyXG4gICAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cclxuICAgIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XHJcbiAgICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXHJcbiAgICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICAvLyBLZWVwQWxpdmUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGluc3RhbnRpYXRlZCByZW5kZXJlciB2aWEgdGhlXHJcbiAgICAgICAgLy8gY3R4IHdoZXJlIHRoZSByZW5kZXJlciBwYXNzZXMgaW4gaXRzIGludGVybmFscyxcclxuICAgICAgICAvLyBhbmQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBleHBvc2VzIGFjdGl2YXRlL2RlYWN0aXZhdGUgaW1wbGVtZW50YXRpb25zLlxyXG4gICAgICAgIC8vIFRoZSB3aG9sZSBwb2ludCBvZiB0aGlzIGlzIHRvIGF2b2lkIGltcG9ydGluZyBLZWVwQWxpdmUgZGlyZWN0bHkgaW4gdGhlXHJcbiAgICAgICAgLy8gcmVuZGVyZXIgdG8gZmFjaWxpdGF0ZSB0cmVlLXNoYWtpbmcuXHJcbiAgICAgICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcclxuICAgICAgICAvLyBpZiB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nLFxyXG4gICAgICAgIC8vIGZvciBLZWVwQWxpdmUsIHdlIGp1c3QgbmVlZCB0byByZW5kZXIgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzbG90cy5kZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcclxuICAgICAgICBjb25zdCB7IHJlbmRlcmVyOiB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogX3VubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gfSA9IHNoYXJlZENvbnRleHQ7XHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLywgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAvLyBpbiBjYXNlIHByb3BzIGhhdmUgY2hhbmdlZFxyXG4gICAgICAgICAgICBwYXRjaChpbnN0YW5jZS52bm9kZSwgdm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCB2bm9kZS5zbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnRzIHRyZWVcclxuICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEgLyogTEVBVkUgKi8sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5kYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudHMgdHJlZVxyXG4gICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNoYXBlRmxhZyBzbyBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgaW5zdGFuY2Ugc2hvdWxkIG5vIGxvbmdlciBiZSBrZXB0LWFsaXZlLlxyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdW5tb3VudCBpdCBub3cgYnV0IGl0IG1pZ2h0IGJlIGxhdGVyLCBzbyByZXNldCBpdHMgZmxhZyBub3cuXHJcbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJ1bmUgY2FjaGUgb24gaW5jbHVkZS9leGNsdWRlIHByb3AgY2hhbmdlXHJcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XHJcbiAgICAgICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICB7IGZsdXNoOiAncG9zdCcsIGRlZXA6IHRydWUgfSk7XHJcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxyXG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKGNhY2hlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgaW52b2tlIGl0cyBkZWFjdGl2YXRlZCBob29rIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcclxuICAgICAgICAgICAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xyXG4gICAgICAgICAgICAvLyBmb3IgYXN5bmMgY29tcG9uZW50cywgbmFtZSBjaGVjayBzaG91bGQgYmUgYmFzZWQgaW4gaXRzIGxvYWRlZFxyXG4gICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGlzQXN5bmNXcmFwcGVyKHZub2RlKVxyXG4gICAgICAgICAgICAgICAgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fVxyXG4gICAgICAgICAgICAgICAgOiBjb21wKTtcclxuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xyXG4gICAgICAgICAgICBpZiAoKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcclxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxyXG4gICAgICAgICAgICBpZiAodm5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxyXG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaCBvciBzY29wZUlkLCBzbyB0aGUgdm5vZGUgaGVyZSBtYXkgbm90IGJlIHRoZSBmaW5hbCB2bm9kZVxyXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG1vdW50ZWQuIEluc3RlYWQgb2YgY2FjaGluZyBpdCBkaXJlY3RseSwgd2Ugc3RvcmUgdGhlIHBlbmRpbmdcclxuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxyXG4gICAgICAgICAgICAvLyBiZWZvcmVNb3VudC9iZWZvcmVVcGRhdGUgaG9va3MuXHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgbW91bnRlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcclxuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRyYW5zaXRpb24gaG9va3Mgb24gc3ViVHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyBtb3VudGVkIGFzIGZyZXNoXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcclxuICAgICAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcclxuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XHJcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBhdHRlcm4udGVzdCkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIEFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcclxuICAgIC8vIGhvb2sgY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dkY1wiIHN0YW5kcyBmb3IgXCJ3aXRoXHJcbiAgICAvLyBkZWFjdGl2YXRpb24gY2hlY2tcIi5cclxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxyXG4gICAgICAgIChob29rLl9fd2RjID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgdGhlIGhvb2sgaWYgdGhlIHRhcmdldCBpbnN0YW5jZSBpcyBOT1QgaW4gYSBkZWFjdGl2YXRlZCBicmFuY2guXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob29rKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xyXG4gICAgLy8gSW4gYWRkaXRpb24gdG8gcmVnaXN0ZXJpbmcgaXQgb24gdGhlIHRhcmdldCBpbnN0YW5jZSwgd2Ugd2FsayB1cCB0aGUgcGFyZW50XHJcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgLy8gVGhpcyBhdm9pZHMgdGhlIG5lZWQgdG8gd2FsayB0aGUgZW50aXJlIGNvbXBvbmVudCB0cmVlIHdoZW4gaW52b2tpbmcgdGhlc2VcclxuICAgIC8vIGhvb2tzLCBhbmQgbW9yZSBpbXBvcnRhbnRseSwgYXZvaWRzIHRoZSBuZWVkIHRvIHRyYWNrIGNoaWxkIGNvbXBvbmVudHMgaW5cclxuICAgIC8vIGFycmF5cy5cclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xyXG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXHJcbiAgICAvLyB0aGUgd3JhcHBlZCB2ZXJzaW9uLlxyXG4gICAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKHR5cGUsIGhvb2ssIGtlZXBBbGl2ZVJvb3QsIHRydWUgLyogcHJlcGVuZCAqLyk7XHJcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcclxuICAgIGxldCBzaGFwZUZsYWcgPSB2bm9kZS5zaGFwZUZsYWc7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XHJcbiAgICB9XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgPSBzaGFwZUZsYWc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLyA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xyXG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xyXG4gICAgICAgIC8vIGNhY2hlIHRoZSBlcnJvciBoYW5kbGluZyB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZSBob29rXHJcbiAgICAgICAgLy8gY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dlaFwiIHN0YW5kcyBmb3IgXCJ3aXRoIGVycm9yXHJcbiAgICAgICAgLy8gaGFuZGxpbmdcIi5cclxuICAgICAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHxcclxuICAgICAgICAgICAgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdHJhY2tpbmcgaW5zaWRlIGFsbCBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgY2FuIHBvdGVudGlhbGx5IGJlIGNhbGxlZCBpbnNpZGUgZWZmZWN0cy5cclxuICAgICAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50SW5zdGFuY2UgZHVyaW5nIGhvb2sgaW52b2NhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYXNzdW1lcyB0aGUgaG9vayBkb2VzIG5vdCBzeW5jaHJvbm91c2x5IHRyaWdnZXIgb3RoZXIgaG9va3MsIHdoaWNoXHJcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBiZSBmYWxzZSB3aGVuIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHJlYWxseSBmdW5reS5cclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwcmVwZW5kKSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3cmFwcGVkSG9vaztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5nc1t0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCAnJykpO1xyXG4gICAgICAgIHdhcm4oYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBgICtcclxuICAgICAgICAgICAgYGFzc29jaWF0ZWQgd2l0aC4gYCArXHJcbiAgICAgICAgICAgIGBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArXHJcbiAgICAgICAgICAgIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYFxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IFxyXG4vLyBwb3N0LWNyZWF0ZSBsaWZlY3ljbGUgcmVnaXN0cmF0aW9ucyBhcmUgbm9vcHMgZHVyaW5nIFNTUiAoZXhjZXB0IGZvciBzZXJ2ZXJQcmVmZXRjaClcclxuKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIgLyogU0VSVkVSX1BSRUZFVENIICovKSAmJlxyXG4gICAgaW5qZWN0SG9vayhsaWZlY3ljbGUsIGhvb2ssIHRhcmdldCk7XHJcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi8pO1xyXG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiIC8qIE1PVU5URUQgKi8pO1xyXG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXCJidVwiIC8qIEJFRk9SRV9VUERBVEUgKi8pO1xyXG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiIC8qIFVQREFURUQgKi8pO1xyXG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFwiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi8pO1xyXG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiIC8qIFVOTU9VTlRFRCAqLyk7XHJcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFwic3BcIiAvKiBTRVJWRVJfUFJFRkVUQ0ggKi8pO1xyXG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovKTtcclxuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgaW5qZWN0SG9vayhcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi8sIGhvb2ssIHRhcmdldCk7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAodHlwZSwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKGNhY2hlW2tleV0pIHtcclxuICAgICAgICAgICAgd2FybihgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xyXG5mdW5jdGlvbiBhcHBseU9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XHJcbiAgICAvLyBkbyBub3QgY2FjaGUgcHJvcGVydHkgYWNjZXNzIG9uIHB1YmxpYyBwcm94eSBkdXJpbmcgc3RhdGUgaW5pdGlhbGl6YXRpb25cclxuICAgIHNob3VsZENhY2hlQWNjZXNzID0gZmFsc2U7XHJcbiAgICAvLyBjYWxsIGJlZm9yZUNyZWF0ZSBmaXJzdCBiZWZvcmUgYWNjZXNzaW5nIG90aGVyIG9wdGlvbnMgc2luY2VcclxuICAgIC8vIHRoZSBob29rIG1heSBtdXRhdGUgcmVzb2x2ZWQgb3B0aW9ucyAoIzI3OTEpXHJcbiAgICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcclxuICAgICAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgXHJcbiAgICAvLyBzdGF0ZVxyXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsIG1ldGhvZHMsIHdhdGNoOiB3YXRjaE9wdGlvbnMsIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLCBpbmplY3Q6IGluamVjdE9wdGlvbnMsIFxyXG4gICAgLy8gbGlmZWN5Y2xlXHJcbiAgICBjcmVhdGVkLCBiZWZvcmVNb3VudCwgbW91bnRlZCwgYmVmb3JlVXBkYXRlLCB1cGRhdGVkLCBhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkLCBiZWZvcmVEZXN0cm95LCBiZWZvcmVVbm1vdW50LCBkZXN0cm95ZWQsIHVubW91bnRlZCwgcmVuZGVyLCByZW5kZXJUcmFja2VkLCByZW5kZXJUcmlnZ2VyZWQsIGVycm9yQ2FwdHVyZWQsIHNlcnZlclByZWZldGNoLCBcclxuICAgIC8vIHB1YmxpYyBBUElcclxuICAgIGV4cG9zZSwgaW5oZXJpdEF0dHJzLCBcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50cywgZGlyZWN0aXZlcywgZmlsdGVycyB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSA6IG51bGw7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgW3Byb3BzT3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIlByb3BzXCIgLyogUFJPUFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBvcHRpb25zIGluaXRpYWxpemF0aW9uIG9yZGVyICh0byBiZSBjb25zaXN0ZW50IHdpdGggVnVlIDIpOlxyXG4gICAgLy8gLSBwcm9wcyAoYWxyZWFkeSBkb25lIG91dHNpZGUgb2YgdGhpcyBmdW5jdGlvbilcclxuICAgIC8vIC0gaW5qZWN0XHJcbiAgICAvLyAtIG1ldGhvZHNcclxuICAgIC8vIC0gZGF0YSAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICAvLyAtIGNvbXB1dGVkXHJcbiAgICAvLyAtIHdhdGNoIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcclxuICAgIGlmIChpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1ldGhvZHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiBkZXYgbW9kZSwgd2UgdXNlIHRoZSBgY3JlYXRlUmVuZGVyQ29udGV4dGAgZnVuY3Rpb24gdG8gZGVmaW5lIG1ldGhvZHMgdG8gdGhlIHByb3h5IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aG9zZSBhcmUgcmVhZC1vbmx5IGJ1dCByZWNvbmZpZ3VyYWJsZSwgc28gaXQgbmVlZHMgdG8gYmUgcmVkZWZpbmVkIGhlcmVcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChkYXRhT3B0aW9ucykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIGAgK1xyXG4gICAgICAgICAgICAgICAgYFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzUHJvbWlzZShkYXRhKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBkYXRhKCkgcmV0dXJuZWQgYSBQcm9taXNlIC0gbm90ZSBkYXRhKCkgY2Fubm90IGJlIGFzeW5jOyBJZiB5b3UgYCArXHJcbiAgICAgICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcclxuICAgICAgICAgICAgICAgIGBhc3luYyBzZXR1cCgpICsgPFN1c3BlbnNlPi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgZGF0YSgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIERBVEEgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb3NlIGRhdGEgb24gY3R4IGR1cmluZyBkZXZcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcgJiYga2V5WzBdICE9PSAnXycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc3RhdGUgaW5pdGlhbGl6YXRpb24gY29tcGxldGUgYXQgdGhpcyBwb2ludCAtIHN0YXJ0IGNhY2hpbmcgYWNjZXNzXHJcbiAgICBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XHJcbiAgICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNvbXB1dGVkT3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdClcclxuICAgICAgICAgICAgICAgID8gb3B0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbihvcHQuZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdldCA9PT0gTk9PUCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNldCA9ICFpc0Z1bmN0aW9uKG9wdCkgJiYgaXNGdW5jdGlvbihvcHQuc2V0KVxyXG4gICAgICAgICAgICAgICAgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcclxuICAgICAgICAgICAgICAgIGdldCxcclxuICAgICAgICAgICAgICAgIHNldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2V0OiB2ID0+IChjLnZhbHVlID0gdilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAod2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdmlkZU9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpXHJcbiAgICAgICAgICAgID8gcHJvdmlkZU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICA6IHByb3ZpZGVPcHRpb25zO1xyXG4gICAgICAgIFJlZmxlY3Qub3duS2V5cyhwcm92aWRlcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBwcm92aWRlKGtleSwgcHJvdmlkZXNba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3JlYXRlZCkge1xyXG4gICAgICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIiAvKiBDUkVBVEVEICovKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhyZWdpc3RlciwgaG9vaykge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGhvb2spKSB7XHJcbiAgICAgICAgICAgIGhvb2suZm9yRWFjaChfaG9vayA9PiByZWdpc3RlcihfaG9vay5iaW5kKHB1YmxpY1RoaXMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVNb3VudCwgYmVmb3JlTW91bnQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25VcGRhdGVkLCB1cGRhdGVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25FcnJvckNhcHR1cmVkLCBlcnJvckNhcHR1cmVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVW5tb3VudCwgYmVmb3JlVW5tb3VudCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xyXG4gICAgaWYgKGlzQXJyYXkoZXhwb3NlKSkge1xyXG4gICAgICAgIGlmIChleHBvc2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKHt9KSk7XHJcbiAgICAgICAgICAgIGV4cG9zZS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleHBvc2VkW2tleV0gPSB0b1JlZihwdWJsaWNUaGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBvcHRpb25zIHRoYXQgYXJlIGhhbmRsZWQgd2hlbiBjcmVhdGluZyB0aGUgaW5zdGFuY2UgYnV0IGFsc28gbmVlZCB0byBiZVxyXG4gICAgLy8gYXBwbGllZCBmcm9tIG1peGluc1xyXG4gICAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcclxuICAgICAgICBpbnN0YW5jZS5pbmhlcml0QXR0cnMgPSBpbmhlcml0QXR0cnM7XHJcbiAgICB9XHJcbiAgICAvLyBhc3NldCBvcHRpb25zLlxyXG4gICAgaWYgKGNvbXBvbmVudHMpXHJcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XHJcbiAgICBpZiAoZGlyZWN0aXZlcylcclxuICAgICAgICBpbnN0YW5jZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcclxufVxyXG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1ApIHtcclxuICAgIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XHJcbiAgICAgICAgaW5qZWN0T3B0aW9ucyA9IG5vcm1hbGl6ZUluamVjdChpbmplY3RPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcclxuICAgICAgICAgICAgaWYgKCdkZWZhdWx0JyBpbiBvcHQpIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSwgb3B0LmRlZmF1bHQsIHRydWUgLyogdHJlYXQgZGVmYXVsdCBmdW5jdGlvbiBhcyBmYWN0b3J5ICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaXNBcnJheShob29rKVxyXG4gICAgICAgID8gaG9vay5tYXAoaCA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKVxyXG4gICAgICAgIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSwgaW5zdGFuY2UsIHR5cGUpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIocmF3LCBjdHgsIHB1YmxpY1RoaXMsIGtleSkge1xyXG4gICAgY29uc3QgZ2V0dGVyID0ga2V5LmluY2x1ZGVzKCcuJylcclxuICAgICAgICA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KVxyXG4gICAgICAgIDogKCkgPT4gcHVibGljVGhpc1trZXldO1xyXG4gICAgaWYgKGlzU3RyaW5nKHJhdykpIHtcclxuICAgICAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcclxuICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHJhdykpIHtcclxuICAgICAgICB3YXRjaChnZXR0ZXIsIHJhdy5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoKHIgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGlzRnVuY3Rpb24ocmF3LmhhbmRsZXIpXHJcbiAgICAgICAgICAgICAgICA/IHJhdy5oYW5kbGVyLmJpbmQocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogY3R4W3Jhdy5oYW5kbGVyXTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcclxuICAgICAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBvcHRpb246IFwiJHtrZXl9XCJgLCByYXcpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXNvbHZlIG1lcmdlZCBvcHRpb25zIGFuZCBjYWNoZSBpdCBvbiB0aGUgY29tcG9uZW50LlxyXG4gKiBUaGlzIGlzIGRvbmUgb25seSBvbmNlIHBlci1jb21wb25lbnQgc2luY2UgdGhlIG1lcmdpbmcgZG9lcyBub3QgaW52b2x2ZVxyXG4gKiBpbnN0YW5jZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgYmFzZSA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XHJcbiAgICBjb25zdCB7IG1peGluczogZ2xvYmFsTWl4aW5zLCBvcHRpb25zQ2FjaGU6IGNhY2hlLCBjb25maWc6IHsgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzIH0gfSA9IGluc3RhbmNlLmFwcENvbnRleHQ7XHJcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoYmFzZSk7XHJcbiAgICBsZXQgcmVzb2x2ZWQ7XHJcbiAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmVzb2x2ZWQgPSBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmVkID0ge307XHJcbiAgICAgICAgaWYgKGdsb2JhbE1peGlucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2gobSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIGJhc2UsIG9wdGlvbk1lcmdlU3RyYXRlZ2llcyk7XHJcbiAgICB9XHJcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xyXG4gICAgcmV0dXJuIHJlc29sdmVkO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcclxuICAgIGlmIChleHRlbmRzT3B0aW9ucykge1xyXG4gICAgICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobWl4aW5zKSB7XHJcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XHJcbiAgICAgICAgaWYgKGFzTWl4aW4gJiYga2V5ID09PSAnZXhwb3NlJykge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYFwiZXhwb3NlXCIgb3B0aW9uIGlzIGlnbm9yZWQgd2hlbiBkZWNsYXJlZCBpbiBtaXhpbnMgb3IgZXh0ZW5kcy4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYEl0IHNob3VsZCBvbmx5IGJlIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNvbXBvbmVudCBpdHNlbGYuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzdHJhdCA9IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XSB8fCAoc3RyYXRzICYmIHN0cmF0c1trZXldKTtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuY29uc3QgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyA9IHtcclxuICAgIGRhdGE6IG1lcmdlRGF0YUZuLFxyXG4gICAgcHJvcHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcclxuICAgIGVtaXRzOiBtZXJnZU9iamVjdE9wdGlvbnMsXHJcbiAgICAvLyBvYmplY3RzXHJcbiAgICBtZXRob2RzOiBtZXJnZU9iamVjdE9wdGlvbnMsXHJcbiAgICBjb21wdXRlZDogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgLy8gbGlmZWN5Y2xlXHJcbiAgICBiZWZvcmVDcmVhdGU6IG1lcmdlQXNBcnJheSxcclxuICAgIGNyZWF0ZWQ6IG1lcmdlQXNBcnJheSxcclxuICAgIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXHJcbiAgICBtb3VudGVkOiBtZXJnZUFzQXJyYXksXHJcbiAgICBiZWZvcmVVcGRhdGU6IG1lcmdlQXNBcnJheSxcclxuICAgIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcclxuICAgIGJlZm9yZURlc3Ryb3k6IG1lcmdlQXNBcnJheSxcclxuICAgIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxyXG4gICAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXHJcbiAgICBkZWFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxyXG4gICAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxyXG4gICAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgLy8gd2F0Y2hcclxuICAgIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcclxuICAgIC8vIHByb3ZpZGUgLyBpbmplY3RcclxuICAgIHByb3ZpZGU6IG1lcmdlRGF0YUZuLFxyXG4gICAgaW5qZWN0OiBtZXJnZUluamVjdFxyXG59O1xyXG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xyXG4gICAgaWYgKCFmcm9tKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0bykge1xyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcclxuICAgICAgICByZXR1cm4gKGV4dGVuZCkoaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sIGlzRnVuY3Rpb24oZnJvbSkgPyBmcm9tLmNhbGwodGhpcywgdGhpcykgOiBmcm9tKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VJbmplY3QodG8sIGZyb20pIHtcclxuICAgIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmF3O1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xyXG4gICAgcmV0dXJuIHRvID8gWy4uLm5ldyBTZXQoW10uY29uY2F0KHRvLCBmcm9tKSldIDogZnJvbTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcclxuICAgIHJldHVybiB0byA/IGV4dGVuZChleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pLCBmcm9tKSA6IGZyb207XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcclxuICAgIGlmICghdG8pXHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICBpZiAoIWZyb20pXHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHRvKTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcclxuICAgICAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lcmdlZDtcclxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCAvLyByZXN1bHQgb2YgYml0d2lzZSBmbGFnIGNvbXBhcmlzb25cclxuaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgcHJvcHMgPSB7fTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxuICAgIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgIC8vIGVuc3VyZSBhbGwgZGVjbGFyZWQgcHJvcCBrZXlzIGFyZSBwcmVzZW50XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gcHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gdmFsaWRhdGlvblxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bCkge1xyXG4gICAgICAgIC8vIHN0YXRlZnVsXHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIG9wdGlvbmFsIHByb3BzLCBwcm9wcyA9PT0gYXR0cnNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gZGVjbGFyZWQgcHJvcHNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGF0dHJzLCB2bm9kZTogeyBwYXRjaEZsYWcgfSB9ID0gaW5zdGFuY2U7XHJcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBpZiAoXHJcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxyXG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcclxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XHJcbiAgICAhKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIChpbnN0YW5jZS50eXBlLl9faG1ySWQgfHxcclxuICAgICAgICAgICAgKGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQudHlwZS5fX2htcklkKSkpICYmXHJcbiAgICAgICAgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJlxyXG4gICAgICAgICEocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykpIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAvLyBDb21waWxlci1nZW5lcmF0ZWQgcHJvcHMgJiBubyBrZXlzIGNoYW5nZSwganVzdCBzZXQgdGhlIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gdGhlIHByb3BzLlxyXG4gICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gUFJPUFMgZmxhZyBndWFyYW50ZWVzIHJhd1Byb3BzIHRvIGJlIG5vbi1udWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHIgLyBwcm9wcyBzZXBhcmF0aW9uIHdhcyBkb25lIG9uIGluaXQgYW5kIHdpbGwgYmUgY29uc2lzdGVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywgY2FtZWxpemVkS2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGZhbHNlIC8qIGlzQWJzZW50ICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGZ1bGwgcHJvcHMgdXBkYXRlLlxyXG4gICAgICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XHJcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXHJcbiAgICAgICAgLy8gdGhlIHByb3BzIG9iamVjdFxyXG4gICAgICAgIGxldCBrZWJhYktleTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcclxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Iga2ViYWItY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgdW5kZWZpbmVkLCBpbnN0YW5jZSwgdHJ1ZSAvKiBpc0Fic2VudCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcclxuICAgICAgICAvLyBhdHRycyBwb2ludCB0byB0aGUgc2FtZSBvYmplY3Qgc28gaXQgc2hvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB0cmlnZ2VyIHVwZGF0ZXMgZm9yICRhdHRycyBpbiBjYXNlIGl0J3MgdXNlZCBpbiBjb21wb25lbnQgc2xvdHNcclxuICAgIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcclxuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiIC8qIFNFVCAqLywgJyRhdHRycycpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XHJcbiAgICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcclxuICAgIGxldCByYXdDYXN0VmFsdWVzO1xyXG4gICAgaWYgKHJhd1Byb3BzKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cclxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgLy8gcHJvcCBvcHRpb24gbmFtZXMgYXJlIGNhbWVsaXplZCBkdXJpbmcgbm9ybWFsaXphdGlvbiwgc28gdG8gc3VwcG9ydFxyXG4gICAgICAgICAgICAvLyBrZWJhYiAtPiBjYW1lbCBjb252ZXJzaW9uIGhlcmUgd2UgbmVlZCB0byBjYW1lbGl6ZSB0aGUga2V5LlxyXG4gICAgICAgICAgICBsZXQgY2FtZWxLZXk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAoY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobmVlZENhc3RLZXlzKSB7XHJcbiAgICAgICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywga2V5LCBjYXN0VmFsdWVzW2tleV0sIGluc3RhbmNlLCAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICBpZiAob3B0ICE9IG51bGwpIHtcclxuICAgICAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlc1xyXG4gICAgICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwobnVsbCwgcHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJvb2xlYW4gY2FzdGluZ1xyXG4gICAgICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xyXG4gICAgICAgICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmXHJcbiAgICAgICAgICAgICAgICAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQucHJvcHNDYWNoZTtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcclxuICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChrZXlzKVxyXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xyXG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xyXG4gICAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xyXG4gICAgICAgIHJldHVybiBFTVBUWV9BUlI7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmF3KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgICAgICB3YXJuKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSAobm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBvcHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJvcCBuZWVkcyBib29sZWFuIGNhc3Rpbmcgb3IgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib29sZWFuSW5kZXggPiAtMSB8fCBoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcclxuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xyXG4gICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8vIHVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayB0eXBlIGNvbnN0cnVjdG9yc1xyXG4vLyBzbyB0aGF0IGl0IHdvcmtzIGFjcm9zcyB2bXMgLyBpZnJhbWVzLlxyXG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gY3RvciAmJiBjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XHJcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVR5cGUoYSwgYikge1xyXG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGlmIChpc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkVHlwZXMuZmluZEluZGV4KHQgPT4gaXNTYW1lVHlwZSh0LCB0eXBlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChvcHQgPT0gbnVsbClcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wKGtleSwgcmVzb2x2ZWRWYWx1ZXNba2V5XSwgb3B0LCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IgfSA9IHByb3A7XHJcbiAgICAvLyByZXF1aXJlZCFcclxuICAgIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xyXG4gICAgICAgIHdhcm4oJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIG1pc3NpbmcgYnV0IG9wdGlvbmFsXHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHR5cGUgY2hlY2tcclxuICAgIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XHJcbiAgICAgICAgLy8gdmFsdWUgaXMgdmFsaWQgYXMgbG9uZyBhcyBvbmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlcyBtYXRjaFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgJycpO1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gdmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICB3YXJuKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY3VzdG9tIHZhbGlkYXRvclxyXG4gICAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ1N0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50Jyk7XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xyXG4gICAgbGV0IHZhbGlkO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcclxuICAgIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XHJcbiAgICAgICAgdmFsaWQgPSB0ID09PSBleHBlY3RlZFR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0c1xyXG4gICAgICAgIGlmICghdmFsaWQgJiYgdCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWxpZCxcclxuICAgICAgICBleHBlY3RlZFR5cGVcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuYCArXHJcbiAgICAgICAgYCBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJywgJyl9YDtcclxuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XHJcbiAgICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxyXG4gICAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmXHJcbiAgICAgICAgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiZcclxuICAgICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xyXG4gICAgfVxyXG4gICAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XHJcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgcmVjZWl2ZWQgdmFsdWVcclxuICAgIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lc3NhZ2U7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlLCB0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ1N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTnVtYmVyJykge1xyXG4gICAgICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XHJcbiAgICBjb25zdCBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcclxuICAgIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoZWxlbSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiBhcmdzLnNvbWUoZWxlbSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJyk7XHJcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gJ18nIHx8IGtleSA9PT0gJyRzdGFibGUnO1xyXG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpXHJcbiAgICA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSlcclxuICAgIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XHJcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KChwcm9wcykgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogYCArXHJcbiAgICAgICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXHJcbiAgICAgICAgICAgICAgICBgSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdChwcm9wcykpO1xyXG4gICAgfSwgY3R4KTtcclxuICAgIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59O1xyXG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XHJcbiAgICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcclxuICAgICAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgIShmYWxzZSApKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJlxyXG4gICAgICAgICEoZmFsc2UgKSkge1xyXG4gICAgICAgIHdhcm4oYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBgICtcclxuICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XHJcbiAgICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcclxufTtcclxuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xyXG4gICAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gdXNlcnMgY2FuIGdldCB0aGUgc2hhbGxvdyByZWFkb25seSB2ZXJzaW9uIG9mIHRoZSBzbG90cyBvYmplY3QgdGhyb3VnaCBgdGhpcy4kc2xvdHNgLFxyXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgYXZvaWQgdGhlIHByb3h5IG9iamVjdCBwb2xsdXRpbmcgdGhlIHNsb3RzIG9mIHRoZSBpbnRlcm5hbCBpbnN0YW5jZVxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHRvUmF3KGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgLy8gbWFrZSBjb21waWxlciBtYXJrZXIgbm9uLWVudW1lcmFibGVcclxuICAgICAgICAgICAgZGVmKGNoaWxkcmVuLCAnXycsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIChpbnN0YW5jZS5zbG90cyA9IHt9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB7fTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlZihpbnN0YW5jZS5zbG90cywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xyXG59O1xyXG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xyXG4gICAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcclxuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgd2FzIEhNUiB1cGRhdGVkIHNvIHNsb3QgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU1RBQkxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBBTkQgc3RhYmxlLlxyXG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUsIGFuZCBza2lwIHN0YWxlIHNsb3RzIHJlbW92YWwuXHJcbiAgICAgICAgICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgYnV0IGR5bmFtaWMgKHYtaWYvdi1mb3Igb24gc2xvdHMpIC0gdXBkYXRlIHNsb3RzLCBidXQgc2tpcFxyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gIzI4OTNcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIHRoZSBvcHRpbWl6ZWQgc2xvdHMgYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgYHNsb3RzLl9gIGZsYWcgaWYgbmVjZXNzYXJ5IHRvIG1ha2Ugc3Vic2VxdWVudCB1cGRhdGVzIHJlbGlhYmxlLFxyXG4gICAgICAgICAgICAgICAgLy8gaS5lLiBsZXQgdGhlIGByZW5kZXJTbG90YCBjcmVhdGUgdGhlIGJhaWxlZCBGcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHMuXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIC8vIG5vbiBzbG90IG9iamVjdCBjaGlsZHJlbiAoZGlyZWN0IHZhbHVlKSBwYXNzZWQgdG8gYSBjb21wb25lbnRcclxuICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XHJcbiAgICB9XHJcbiAgICAvLyBkZWxldGUgc3RhbGUgc2xvdHNcclxuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmICEoa2V5IGluIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG4vKipcclxuUnVudGltZSBoZWxwZXIgZm9yIGFwcGx5aW5nIGRpcmVjdGl2ZXMgdG8gYSB2bm9kZS4gRXhhbXBsZSB1c2FnZTpcclxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXHJcbmNvbnN0IGZvbyA9IHJlc29sdmVEaXJlY3RpdmUoJ2ZvbycpXHJcbmNvbnN0IGJhciA9IHJlc29sdmVEaXJlY3RpdmUoJ2JhcicpXHJcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcclxuICBbZm9vLCB0aGlzLnhdLFxyXG4gIFtiYXIsIHRoaXMueV1cclxuXSlcclxuKi9cclxuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCcpO1xyXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xyXG4gICAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiAnICsgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGlyZWN0aXZlcyB0byBhIFZOb2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcclxuICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluc3RhbmNlID0gaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XHJcbiAgICAgICAgICAgIGRpciA9IHtcclxuICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGRpcixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGRpclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBiaW5kaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgZGlyLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIGFyZyxcclxuICAgICAgICAgICAgbW9kaWZpZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xyXG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xyXG4gICAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChvbGRCaW5kaW5ncykge1xyXG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XHJcbiAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZSB0cmFja2luZyBpbnNpZGUgYWxsIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRElSRUNUSVZFX0hPT0sgKi8sIFtcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZyxcclxuICAgICAgICAgICAgICAgIHZub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcDogbnVsbCxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxyXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxyXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxyXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgd2FybkhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWl4aW5zOiBbXSxcclxuICAgICAgICBjb21wb25lbnRzOiB7fSxcclxuICAgICAgICBkaXJlY3RpdmVzOiB7fSxcclxuICAgICAgICBwcm92aWRlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcclxuICAgICAgICBvcHRpb25zQ2FjaGU6IG5ldyBXZWFrTWFwKCksXHJcbiAgICAgICAgcHJvcHNDYWNoZTogbmV3IFdlYWtNYXAoKSxcclxuICAgICAgICBlbWl0c0NhY2hlOiBuZXcgV2Vha01hcCgpXHJcbiAgICB9O1xyXG59XHJcbmxldCB1aWQgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXBwKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyA9IG51bGwpIHtcclxuICAgICAgICBpZiAocm9vdFByb3BzICE9IG51bGwgJiYgIWlzT2JqZWN0KHJvb3RQcm9wcykpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xyXG4gICAgICAgICAgICByb290UHJvcHMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGFwcCA9IChjb250ZXh0LmFwcCA9IHtcclxuICAgICAgICAgICAgX3VpZDogdWlkKyssXHJcbiAgICAgICAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXHJcbiAgICAgICAgICAgIF9wcm9wczogcm9vdFByb3BzLFxyXG4gICAgICAgICAgICBfY29udGFpbmVyOiBudWxsLFxyXG4gICAgICAgICAgICBfY29udGV4dDogY29udGV4dCxcclxuICAgICAgICAgICAgX2luc3RhbmNlOiBudWxsLFxyXG4gICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICBnZXQgY29uZmlnKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgY29uZmlnKHYpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGZ1bmN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKCdNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6ICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSA9IGRpcmVjdGl2ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgaXNTVkcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIGFwcCBjb250ZXh0IG9uIHRoZSByb290IFZOb2RlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgb24gdGhlIHJvb3QgaW5zdGFuY2Ugb24gaW5pdGlhbCBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBITVIgcm9vdCByZWxvYWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKGNsb25lVk5vZGUodm5vZGUpLCByb290Q29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm5vZGUuY29tcG9uZW50LnByb3h5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSB3YW50IHRvIHJlbW91bnQgdGhlIHNhbWUgYXBwLCBtb3ZlIHlvdXIgYXBwIGNyZWF0aW9uIGxvZ2ljIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5tb3VudCgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBhbGxvdyBzeW1ib2xzIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjQ1ODdcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9O1xyXG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xyXG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IC9zdmcvLnRlc3QoY29udGFpbmVyLm5hbWVzcGFjZVVSSSkgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09ICdmb3JlaWduT2JqZWN0JztcclxuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ09NTUVOVCAqLztcclxuLy8gTm90ZTogaHlkcmF0aW9uIGlzIERPTS1zcGVjaWZpY1xyXG4vLyBCdXQgd2UgaGF2ZSB0byBwbGFjZSBpdCBpbiBjb3JlIGR1ZSB0byB0aWdodCBjb3VwbGluZyB3aXRoIGNvcmUgLSBzcGxpdHRpbmdcclxuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cclxuLy8gSHlkcmF0aW9uIGFsc28gZGVwZW5kcyBvbiBzb21lIHJlbmRlcmVyIGludGVybmFsIGxvZ2ljIHdoaWNoIG5lZWRzIHRvIGJlXHJcbi8vIHBhc3NlZCBpbiB2aWEgYXJndW1lbnRzLlxyXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgbXQ6IG1vdW50Q29tcG9uZW50LCBwOiBwYXRjaCwgbzogeyBwYXRjaFByb3AsIG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCByZW1vdmUsIGluc2VydCwgY3JlYXRlQ29tbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBgICtcclxuICAgICAgICAgICAgICAgIGBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgaWYgKGhhc01pc21hdGNoICYmICFmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWyc7XHJcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnRTdGFydCk7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICAgICAgY29uc3QgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgICAgICAgdm5vZGUuZWwgPSBub2RlO1xyXG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIFRFWFQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBtaXNtYXRjaDpgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBDbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkobm9kZS5kYXRhKX1gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBTZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkodm5vZGUuY2hpbGRyZW4pfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQkMTpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIENPTU1FTlQgKi8gfHwgaXNGcmFnbWVudFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGFuY2hvciwgYWRvcHQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGljIHZub2RlIGhhcyBpdHMgY29udGVudCBzdHJpcHBlZCBkdXJpbmcgYnVpbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRvcHQgaXQgZnJvbSB0aGUgc2VydmVyLXJlbmRlcmVkIEhUTUwuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRWxlbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBzZXR0aW5nIHVwIHRoZSByZW5kZXIgZWZmZWN0LCBpZiB0aGUgaW5pdGlhbCB2bm9kZSBhbHJlYWR5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIC5lbCBzZXQsIHRoZSBjb21wb25lbnQgd2lsbCBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gaXRzIHN1Yi10cmVlLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBiZSBhc3luYywgc28gaW4gdGhlIGNhc2Ugb2YgZnJhZ21lbnRzIHdlIGNhbm5vdCByZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQsIHdlIGRvIGEgbG9va2FoZWFkIHRvIGZpbmQgdGhlIGVuZCBhbmNob3Igbm9kZS5cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGlzRnJhZ21lbnRTdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICMzNzg3XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY29tcG9uZW50IGlzIGFzeW5jLCBpdCBtYXkgZ2V0IG1vdmVkIC8gdW5tb3VudGVkIGJlZm9yZSBpdHNcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaXMgbG9hZGVkLCBzbyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIHRoYXQgbWF0Y2hlcyBpdHMgYWRvcHRlZCBET00uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5leHROb2RlLnByZXZpb3VzU2libGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGFpbmVyLmxhc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoJycpIDogY3JlYXRlVk5vZGUoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIocGFyZW50Tm9kZShub2RlKSksIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHNraXAgcHJvcHMgJiBjaGlsZHJlbiBpZiB0aGlzIGlzIGhvaXN0ZWQgc3RhdGljIG5vZGVzXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAhPT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggcHJvcHMuXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCAnb25DbGljaycsIG51bGwsIHByb3BzLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZub2RlIC8gZGlyZWN0aXZlIGhvb2tzXHJcbiAgICAgICAgICAgIGxldCB2bm9kZUhvb2tzO1xyXG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcclxuICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8gJiZcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBTU1JlZCBET00gY29udGFpbnMgbW9yZSBub2RlcyB0aGFuIGl0IHNob3VsZC4gUmVtb3ZlIHRoZW0uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiB0ZXh0IGNvbnRlbnQgbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gQ2xpZW50OiAke2VsLnRleHRDb250ZW50fVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2VydmVyOiAke3Zub2RlLmNoaWxkcmVufWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBTU1JlZCBET00gZGlkbid0IGNvbnRhaW4gZW5vdWdoIG5vZGVzLiBNb3VudCB0aGUgbWlzc2luZyBvbmVzLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcclxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXHJcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXHJcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgPSBuZXh0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBkaWRuJ3QgaHlkcmF0ZSBzdWNjZXNzZnVsbHksIHNpbmNlIHdlIGRpZG4ndCBnZXQgYSBlbmQgYW5jaG9yXHJcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXHJcbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFuY2hvciBpcyBtaXNzaW5nLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUgYW5kIGluc2VydCBpdFxyXG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcXG4tIENsaWVudCB2bm9kZTpgLCB2bm9kZS50eXBlLCBgXFxuLSBTZXJ2ZXIgcmVuZGVyZWQgRE9NOmAsIG5vZGUsIG5vZGUubm9kZVR5cGUgPT09IDMgLyogVEVYVCAqL1xyXG4gICAgICAgICAgICAgICAgPyBgKHRleHQpYFxyXG4gICAgICAgICAgICAgICAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWydcclxuICAgICAgICAgICAgICAgICAgICA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYFxyXG4gICAgICAgICAgICAgICAgICAgIDogYGApO1xyXG4gICAgICAgIHZub2RlLmVsID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNGcmFnbWVudCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgZXhjZXNzaXZlIGZyYWdtZW50IG5vZGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQgIT09IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShuZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIHJlbW92ZShub2RlKTtcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBuZXh0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciA9IChub2RlKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ1snKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKys7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2gtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XHJcbn1cblxubGV0IHN1cHBvcnRlZDtcclxubGV0IHBlcmY7XHJcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgc3VwcG9ydGVkID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcclxuICAgICAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcclxuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcclxuICAgICAgICBwZXJmLm1lYXN1cmUoYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XHJcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgc3VwcG9ydGVkID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xyXG4gICAgaWYgKHN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxyXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcclxuICogaW1wb3J0aW5nIHJ1bnRpbWUtY29yZSBpcyBzaWRlLWVmZmVjdHMgZnJlZS5cclxuICpcclxuICogaXN0YW5idWwtaWdub3JlLW5leHRcclxuICovXHJcbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbmVlZFdhcm4gPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGAgK1xyXG4gICAgICAgICAgICBgY29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBleHBsaWNpdGx5IHJlcGxhY2UgZmVhdHVyZSBmbGFnIGdsb2JhbHMgYCArXHJcbiAgICAgICAgICAgIGB3aXRoIGJvb2xlYW4gbGl0ZXJhbHMgdG8gZ2V0IHByb3BlciB0cmVlLXNoYWtpbmcgaW4gdGhlIGZpbmFsIGJ1bmRsZS4gYCArXHJcbiAgICAgICAgICAgIGBTZWUgaHR0cDovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MgZm9yIG1vcmUgZGV0YWlscy5gKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBwcm9kRWZmZWN0T3B0aW9ucyA9IHtcclxuICAgIHNjaGVkdWxlcjogcXVldWVKb2IsXHJcbiAgICAvLyAjMTgwMSwgIzIwNDMgY29tcG9uZW50IHJlbmRlciBlZmZlY3RzIHNob3VsZCBhbGxvdyByZWN1cnNpdmUgdXBkYXRlc1xyXG4gICAgYWxsb3dSZWN1cnNlOiB0cnVlXHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZURldkVmZmVjdE9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc2NoZWR1bGVyOiBxdWV1ZUpvYixcclxuICAgICAgICBhbGxvd1JlY3Vyc2U6IHRydWUsXHJcbiAgICAgICAgb25UcmFjazogaW5zdGFuY2UucnRjID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpIDogdm9pZCAwLFxyXG4gICAgICAgIG9uVHJpZ2dlcjogaW5zdGFuY2UucnRnID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpIDogdm9pZCAwXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlXHJcbiAgICA7XHJcbmNvbnN0IHNldFJlZiA9IChyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xyXG4gICAgICAgIHJhd1JlZi5mb3JFYWNoKChyLCBpKSA9PiBzZXRSZWYociwgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xyXG4gICAgICAgIC8vIHdoZW4gbW91bnRpbmcgYXN5bmMgY29tcG9uZW50cywgbm90aGluZyBuZWVkcyB0byBiZSBkb25lLFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHRlbXBsYXRlIHJlZiBpcyBmb3J3YXJkZWQgdG8gaW5uZXIgY29tcG9uZW50XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVmVmFsdWUgPSB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgID8gdm5vZGUuY29tcG9uZW50LmV4cG9zZWQgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5XHJcbiAgICAgICAgOiB2bm9kZS5lbDtcclxuICAgIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xyXG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFvd25lcikge1xyXG4gICAgICAgIHdhcm4oYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gYCArXHJcbiAgICAgICAgICAgIGBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XHJcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xyXG4gICAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XHJcbiAgICAvLyBkeW5hbWljIHJlZiBjaGFuZ2VkLiB1bnNldCBvbGQgcmVmXHJcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xyXG4gICAgICAgICAgICByZWZzW29sZFJlZl0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xyXG4gICAgICAgICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vICMxNzg5OiBmb3Igbm9uLW51bGwgdmFsdWVzLCBzZXQgdGhlbSBhZnRlciByZW5kZXJcclxuICAgICAgICAvLyBudWxsIHZhbHVlcyBtZWFucyB0aGlzIGlzIHVubW91bnQgYW5kIGl0IHNob3VsZCBub3Qgb3ZlcndyaXRlIGFub3RoZXJcclxuICAgICAgICAvLyByZWYgd2l0aCB0aGUgc2FtZSBrZXlcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiAvKiBGVU5DVElPTl9SRUYgKi8sIFt2YWx1ZSwgcmVmc10pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCB2YWx1ZSwgYCgke3R5cGVvZiB2YWx1ZX0pYCk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgY3JlYXRlUmVuZGVyZXIgZnVuY3Rpb24gYWNjZXB0cyB0d28gZ2VuZXJpYyBhcmd1bWVudHM6XHJcbiAqIEhvc3ROb2RlIGFuZCBIb3N0RWxlbWVudCwgY29ycmVzcG9uZGluZyB0byBOb2RlIGFuZCBFbGVtZW50IHR5cGVzIGluIHRoZVxyXG4gKiBob3N0IGVudmlyb25tZW50LiBGb3IgZXhhbXBsZSwgZm9yIHJ1bnRpbWUtZG9tLCBIb3N0Tm9kZSB3b3VsZCBiZSB0aGUgRE9NXHJcbiAqIGBOb2RlYCBpbnRlcmZhY2UgYW5kIEhvc3RFbGVtZW50IHdvdWxkIGJlIHRoZSBET00gYEVsZW1lbnRgIGludGVyZmFjZS5cclxuICpcclxuICogQ3VzdG9tIHJlbmRlcmVycyBjYW4gcGFzcyBpbiB0aGUgcGxhdGZvcm0gc3BlY2lmaWMgdHlwZXMgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGAganNcclxuICogY29uc3QgeyByZW5kZXIsIGNyZWF0ZUFwcCB9ID0gY3JlYXRlUmVuZGVyZXI8Tm9kZSwgRWxlbWVudD4oe1xyXG4gKiAgIHBhdGNoUHJvcCxcclxuICogICAuLi5ub2RlT3BzXHJcbiAqIH0pXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcclxufVxyXG4vLyBTZXBhcmF0ZSBBUEkgZm9yIGNyZWF0aW5nIGh5ZHJhdGlvbi1lbmFibGVkIHJlbmRlcmVyLlxyXG4vLyBIeWRyYXRpb24gbG9naWMgaXMgb25seSB1c2VkIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLCBtYWtpbmcgaXRcclxuLy8gdHJlZS1zaGFrYWJsZS5cclxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgIC8vIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIGNoZWNrXHJcbiAgICB7XHJcbiAgICAgICAgaW5pdEZlYXR1cmVGbGFncygpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XHJcbiAgICAgICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xyXG4gICAgICAgIHNldERldnRvb2xzSG9vayh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wOiBob3N0Rm9yY2VQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBjbG9uZU5vZGU6IGhvc3RDbG9uZU5vZGUsIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50IH0gPSBvcHRpb25zO1xyXG4gICAgLy8gTm90ZTogZnVuY3Rpb25zIGluc2lkZSB0aGlzIGNsb3N1cmUgc2hvdWxkIHVzZSBgY29uc3QgeHh4ID0gKCkgPT4ge31gXHJcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxyXG4gICAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgaXNTVkcgPSBmYWxzZSwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICAvLyBwYXRjaGluZyAmIG5vdCBzYW1lIHR5cGUsIHVubW91bnQgb2xkIHRyZWVcclxuICAgICAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XHJcbiAgICAgICAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICBuMSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yIC8qIEJBSUwgKi8pIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQkMTpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcclxuICAgICAgICAgICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NGcmFnbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIFxyXG4gICAgICAgIC8vIHBhc3MgY2FjaGVkIG5vZGVzIGlmIHRoZSBzdGF0aWMgbm9kZSBpcyBiZWluZyBtb3VudGVkIG11bHRpcGxlIHRpbWVzXHJcbiAgICAgICAgLy8gc28gdGhhdCBydW50aW1lLWRvbSBjYW4gc2ltcGx5IGNsb25lTm9kZSgpIGluc3RlYWQgb2YgaW5zZXJ0aW5nIG5ld1xyXG4gICAgICAgIC8vIEhUTUxcclxuICAgICAgICBuMi5lbCAmJiBbbjIuZWwsIG4yLmFuY2hvcl0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxyXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcclxuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaEVsZW1lbnQobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgZWw7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgdm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgaG9zdENsb25lTm9kZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZub2RlIGhhcyBub24tbnVsbCBlbCwgaXQgbWVhbnMgaXQncyBiZWluZyByZXVzZWQuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhdGljIHZub2RlcyBjYW4gYmUgcmV1c2VkLCBzbyBpdHMgbW91bnRlZCBET00gbm9kZXMgc2hvdWxkIGJlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0bHkgdGhlIHNhbWUsIGFuZCB3ZSBjYW4gc2ltcGx5IGRvIGEgY2xvbmUgaGVyZS5cclxuICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGluIHByb2R1Y3Rpb24gc2luY2UgY2xvbmVkIHRyZWVzIGNhbm5vdCBiZSBITVIgdXBkYXRlZC5cclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDbG9uZU5vZGUodm5vZGUuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcywgcHJvcHMpO1xyXG4gICAgICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29wZUlkXHJcbiAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdm5vZGUnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICMxNTgzIEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSBub3QgcmVzb2x2ZWQgY2FzZSwgZW50ZXIgaG9vayBzaG91bGQgY2FsbCB3aGVuIHN1c3BlbnNlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxyXG4gICAgICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gKCFwYXJlbnRTdXNwZW5zZSB8fCAocGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpKSAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcclxuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fFxyXG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxyXG4gICAgICAgICAgICBkaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzY29wZUlkKSB7XHJcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNsb3RTY29wZUlkcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XHJcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XHJcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxyXG4gICAgICAgIC8vIGNvbXBpbGVyLWdlbmVyYXRlZCB2bm9kZSwgd2hpY2ggZGUtb3B0cyB0byBGVUxMX1BST1BTXHJcbiAgICAgICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi87XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcclxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogQ0xBU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFNUWUxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXHJcbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250YWluZXIgKHBhcmVudCBlbGVtZW50KSBmb3IgdGhlIHBhdGNoLlxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBcclxuICAgICAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXHJcbiAgICAgICAgICAgIC8vIHdoaWNoIHdpbGwgbm90IGhhdmUgYSBtb3VudGVkIGVsZW1lbnRcclxuICAgICAgICAgICAgb2xkVk5vZGUuZWwgJiZcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XHJcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIChvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cclxuICAgICAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKVxyXG4gICAgICAgICAgICAgICAgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbClcclxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCB2YWxpZCBwcm9wXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gKG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSAobjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBzbG90IGZyYWdtZW50IHdpdGggOnNsb3R0ZWQgc2NvcGUgaWRzXHJcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XHJcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xyXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxyXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIGEgZnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBhcnJheSBjaGlsZHJlblxyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSBlaXRoZXIgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciwgb3IgaW1wbGljaXRseSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGZyb20gYXJyYXlzLlxyXG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcclxuICAgICAgICAgICAgICAgIC8vIG9mIHJlbmRlclNsb3QoKSB3aXRoIG5vIHZhbGlkIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgc3RhYmxlIGZyYWdtZW50ICh0ZW1wbGF0ZSByb290IG9yIDx0ZW1wbGF0ZSB2LWZvcj4pIGRvZXNuJ3QgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggY2hpbGRyZW4gb3JkZXIsIGJ1dCBpdCBtYXkgY29udGFpbiBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcclxuICAgICAgICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXHJcbiAgICAgICAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXHJcbiAgICAgICAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlIC8qIHNoYWxsb3cgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8ga2V5ZWQgLyB1bmtleWVkLCBvciBtYW51YWwgZnJhZ21lbnRzLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleWVkICYgdW5rZXllZCwgc2luY2UgdGhleSBhcmUgY29tcGlsZXIgZ2VuZXJhdGVkIGZyb20gdi1mb3IsXHJcbiAgICAgICAgICAgICAgICAvLyBlYWNoIGNoaWxkIGlzIGd1YXJhbnRlZWQgdG8gYmUgYSBibG9jayBzbyB0aGUgZnJhZ21lbnQgd2lsbCBuZXZlclxyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAobjIuc2hhcGVGbGFnICYgNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENvbXBvbmVudCA9IChpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKGluaXRpYWxWTm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcclxuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5qZWN0IHJlbmRlcmVyIGludGVybmFscyBmb3Iga2VlcEFsaXZlXHJcbiAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXNvbHZlIHByb3BzIGFuZCBzbG90cyBmb3Igc2V0dXAgY29udGV4dFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR1cCgpIGlzIGFzeW5jLiBUaGlzIGNvbXBvbmVudCByZWxpZXMgb24gYXN5bmMgbG9naWMgdG8gYmUgcmVzb2x2ZWRcclxuICAgICAgICAvLyBiZWZvcmUgcHJvY2VlZGluZ1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpO1xyXG4gICAgICAgICAgICAvLyBHaXZlIGl0IGEgcGxhY2Vob2xkZXIgaWYgdGhpcyBpcyBub3QgaHlkcmF0aW9uXHJcbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHNlbGYtZGVmaW5lZCBmYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQkMSkpO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmXHJcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgJiBzdGlsbCBwZW5kaW5nIC0ganVzdCB1cGRhdGUgcHJvcHMgYW5kIHNsb3RzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY29tcG9uZW50J3MgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXIgaXNuJ3Qgc2V0LXVwIHlldFxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XHJcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlIHVwZGF0aW5nIHRoZSBzYW1lIGNoaWxkIGNvbXBvbmVudCBpbiB0aGUgc2FtZSBmbHVzaC5cclxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVKb2IoaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0IHJ1bm5lci5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkLiBqdXN0IGNvcHkgb3ZlciBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgLy8gY3JlYXRlIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyaW5nXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0KGZ1bmN0aW9uIGNvbXBvbmVudEVmZmVjdCgpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChibSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVNb3VudFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOb2RlKGVsLCBpbnN0YW5jZS5zdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUudHlwZS5fX2FzeW5jTG9hZGVyKCkudGhlbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90ZTogd2UgYXJlIG1vdmluZyB0aGUgcmVuZGVyIGNhbGwgaW50byBhbiBhc3luYyBjYWxsYmFjayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggbWVhbnMgaXQgd29uJ3QgdHJhY2sgZGVwZW5kZW5jaWVzIC0gYnV0IGl0J3Mgb2sgYmVjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIHNlcnZlci1yZW5kZXJlZCBhc3luYyB3cmFwcGVyIGlzIGFscmVhZHkgaW4gcmVzb2x2ZWQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGl0IHdpbGwgbmV2ZXIgbmVlZCB0byBjaGFuZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+ICFpbnN0YW5jZS5pc1VubW91bnRlZCAmJiBoeWRyYXRlU3ViVHJlZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IChpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlTW91bnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYWN0aXZhdGVkIGhvb2sgZm9yIGtlZXAtYWxpdmUgcm9vdHMuXHJcbiAgICAgICAgICAgICAgICAvLyAjMTc0MiBhY3RpdmF0ZWQgaG9vayBtdXN0IGJlIGFjY2Vzc2VkIGFmdGVyIGZpcnN0IHJlbmRlclxyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGhvb2sgbWF5IGJlIGluamVjdGVkIGJ5IGEgY2hpbGQga2VlcC1hbGl2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAjMjQ1ODogZGVmZXJlbmNlIG1vdW50LW9ubHkgb2JqZWN0IHBhcmFtZXRlcnMgdG8gcHJldmVudCBtZW1sZWFrc1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZUNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0cmlnZ2VyZWQgYnkgbXV0YXRpb24gb2YgY29tcG9uZW50J3Mgb3duIHN0YXRlIChuZXh0OiBudWxsKVxyXG4gICAgICAgICAgICAgICAgLy8gT1IgcGFyZW50IGNhbGxpbmcgcHJvY2Vzc0NvbXBvbmVudCAobmV4dDogVk5vZGUpXHJcbiAgICAgICAgICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZVVwZGF0ZSBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAoYnUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlVXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gocHJldlRyZWUsIG5leHRUcmVlLCBcclxuICAgICAgICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxyXG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYtdHJpZ2dlcmVkIHVwZGF0ZS4gSW4gY2FzZSBvZiBIT0MsIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgZWwuIEhPQyBpcyBpbmRpY2F0ZWQgYnkgcGFyZW50IGluc3RhbmNlJ3Mgc3ViVHJlZSBwb2ludGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGNoaWxkIGNvbXBvbmVudCdzIHZub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVkIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmICh1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVVcGRhdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkgOiBwcm9kRWZmZWN0T3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZS5vd25lckluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XHJcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XHJcbiAgICAgICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIC8vIHByb3BzIHVwZGF0ZSBtYXkgaGF2ZSB0cmlnZ2VyZWQgcHJlLWZsdXNoIHdhdGNoZXJzLlxyXG4gICAgICAgIC8vIGZsdXNoIHRoZW0gYmVmb3JlIHRoZSByZW5kZXIgdXBkYXRlLlxyXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnModW5kZWZpbmVkLCBpbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xyXG4gICAgICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSBlaXRoZXIgZnVsbHkta2V5ZWQgb3IgbWl4ZWQgKHNvbWUga2V5ZWQgc29tZSBub3QpXHJcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiBwYXRjaEZsYWcgbWVhbnMgY2hpbGRyZW4gYXJlIGd1YXJhbnRlZWQgdG8gYmUgYXJyYXlzXHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdW5rZXllZFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIC8vIHRleHQgY2hpbGRyZW4gZmFzdCBwYXRoXHJcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMyICE9PSBjMSkge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGFycmF5cywgY2Fubm90IGFzc3VtZSBhbnl0aGluZywgZG8gZnVsbCBkaWZmXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXcgY2hpbGRyZW4sIGp1c3QgdW5tb3VudCBvbGRcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgdGV4dCBPUiBudWxsXHJcbiAgICAgICAgICAgICAgICAvLyBuZXcgY2hpbGRyZW4gaXMgYXJyYXkgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXcgaWYgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIHBhdGNoKGMxW2ldLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkXHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgZmFsc2UsIGNvbW1vbkxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBtb3VudCBuZXdcclxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxyXG4gICAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcclxuICAgICAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxOyAvLyBwcmV2IGVuZGluZyBpbmRleFxyXG4gICAgICAgIGxldCBlMiA9IGwyIC0gMTsgLy8gbmV4dCBlbmRpbmcgaW5kZXhcclxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYikgZCBlXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gc3luYyBmcm9tIGVuZFxyXG4gICAgICAgIC8vIGEgKGIgYylcclxuICAgICAgICAvLyBkIGUgKGIgYylcclxuICAgICAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltlMl0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltlMl0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUxLS07XHJcbiAgICAgICAgICAgIGUyLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBjIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxyXG4gICAgICAgIGlmIChpID4gZTEpIHtcclxuICAgICAgICAgICAgaWYgKGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDQuIGNvbW1vbiBzZXF1ZW5jZSArIHVubW91bnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSAyLCBlMiA9IDFcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gKGIgYylcclxuICAgICAgICAvLyBpID0gMCwgZTEgPSAwLCBlMiA9IC0xXHJcbiAgICAgICAgZWxzZSBpZiAoaSA+IGUyKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChpIDw9IGUxKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA1LiB1bmtub3duIHNlcXVlbmNlXHJcbiAgICAgICAgLy8gW2kgLi4uIGUxICsgMV06IGEgYiBbYyBkIGVdIGYgZ1xyXG4gICAgICAgIC8vIFtpIC4uLiBlMiArIDFdOiBhIGIgW2UgZCBjIGhdIGYgZ1xyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDQsIGUyID0gNVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzMSA9IGk7IC8vIHByZXYgc3RhcnRpbmcgaW5kZXhcclxuICAgICAgICAgICAgY29uc3QgczIgPSBpOyAvLyBuZXh0IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIC8vIDUuMSBidWlsZCBrZXk6aW5kZXggbWFwIGZvciBuZXdDaGlsZHJlblxyXG4gICAgICAgICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCwgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjIgbG9vcCB0aHJvdWdoIG9sZCBjaGlsZHJlbiBsZWZ0IHRvIGJlIHBhdGNoZWQgYW5kIHRyeSB0byBwYXRjaFxyXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBub2RlcyAmIHJlbW92ZSBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgcHJlc2VudFxyXG4gICAgICAgICAgICBsZXQgajtcclxuICAgICAgICAgICAgbGV0IHBhdGNoZWQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xyXG4gICAgICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gdXNlZCB0byB0cmFjayB3aGV0aGVyIGFueSBub2RlIGhhcyBtb3ZlZFxyXG4gICAgICAgICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XHJcbiAgICAgICAgICAgIC8vIHdvcmtzIGFzIE1hcDxuZXdJbmRleCwgb2xkSW5kZXg+XHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBvbGRJbmRleCBpcyBvZmZzZXQgYnkgKzFcclxuICAgICAgICAgICAgLy8gYW5kIG9sZEluZGV4ID0gMCBpcyBhIHNwZWNpYWwgdmFsdWUgaW5kaWNhdGluZyB0aGUgbmV3IG5vZGUgaGFzXHJcbiAgICAgICAgICAgIC8vIG5vIGNvcnJlc3BvbmRpbmcgb2xkIG5vZGUuXHJcbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRldGVybWluaW5nIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcclxuICAgICAgICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBuZXcgY2hpbGRyZW4gaGF2ZSBiZWVuIHBhdGNoZWQgc28gdGhpcyBjYW4gb25seSBiZSBhIHJlbW92YWxcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleS1sZXNzIG5vZGUsIHRyeSB0byBsb2NhdGUgYSBrZXktbGVzcyBub2RlIG9mIHRoZSBzYW1lIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChwcmV2Q2hpbGQsIGMyW25ld0luZGV4XSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjMgbW92ZSBhbmQgbW91bnRcclxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2Ugb25seSB3aGVuIG5vZGVzIGhhdmUgbW92ZWRcclxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApXHJcbiAgICAgICAgICAgICAgICA6IEVNUFRZX0FSUjtcclxuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIC8vIGxvb3BpbmcgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHVzZSBsYXN0IHBhdGNoZWQgbm9kZSBhcyBhbmNob3JcclxuICAgICAgICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ld1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaWY6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gc3RhYmxlIHN1YnNlcXVlbmNlIChlLmcuIGEgcmV2ZXJzZSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBjdXJyZW50IG5vZGUgaXMgbm90IGFtb25nIHRoZSBzdGFibGUgc2VxdWVuY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XHJcbiAgICAgICAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2luZ2xlIG5vZGVzXHJcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBSRU9SREVSICovICYmXHJcbiAgICAgICAgICAgIHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmIChuZWVkVHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogRU5URVIgKi8pIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgLy8gdW5zZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiBkaXJzO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgaW50ZXJuYWxzLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcclxuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggZm9yIGJsb2NrIG5vZGVzOiBvbmx5IG5lZWQgdG8gdW5tb3VudCBkeW5hbWljIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGR5bmFtaWNDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcclxuICAgICAgICAgICAgICAgICghb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGVyZm9ybVJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xyXG4gICAgICAgIC8vIEZvciBmcmFnbWVudHMsIGRpcmVjdGx5IHJlbW92ZSBhbGwgY29udGFpbmVkIERPTSBub2Rlcy5cclxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoZW5kKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBidW0sIGVmZmVjdHMsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xyXG4gICAgICAgIGlmIChidW0pIHtcclxuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wKGVmZmVjdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xyXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cclxuICAgICAgICBpZiAodXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHN0b3AodXBkYXRlKTtcclxuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcclxuICAgICAgICBpZiAodW0pIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXHJcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxyXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cclxuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiZcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJlxyXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcclxuICAgICAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2goY29udGFpbmVyLl92bm9kZSB8fCBudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBudWxsLCBudWxsLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGludGVybmFscyA9IHtcclxuICAgICAgICBwOiBwYXRjaCxcclxuICAgICAgICB1bTogdW5tb3VudCxcclxuICAgICAgICBtOiBtb3ZlLFxyXG4gICAgICAgIHI6IHJlbW92ZSxcclxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXHJcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXHJcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXHJcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXHJcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxyXG4gICAgICAgIG86IG9wdGlvbnNcclxuICAgIH07XHJcbiAgICBsZXQgaHlkcmF0ZTtcclxuICAgIGxldCBoeWRyYXRlTm9kZTtcclxuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcixcclxuICAgICAgICBoeWRyYXRlLFxyXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogVk5PREVfSE9PSyAqLywgW1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHByZXZWTm9kZVxyXG4gICAgXSk7XHJcbn1cclxuLyoqXHJcbiAqICMxMTU2XHJcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xyXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxyXG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cclxuICpcclxuICogIzIwODBcclxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxyXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgbW92ZWQgc28gdGhhdCBuZWVkIGluaGVyaXQgZWwgZm9ybSBwcmV2aW91cyBub2Rlc1xyXG4gKiB0byBlbnN1cmUgY29ycmVjdCBtb3ZlZCBwb3NpdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XHJcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcclxuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xyXG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxyXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCQxICYmICFjMi5lbCkge1xyXG4gICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb25nZXN0X2luY3JlYXNpbmdfc3Vic2VxdWVuY2VcclxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XHJcbiAgICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbMF07XHJcbiAgICBsZXQgaSwgaiwgdSwgdiwgYztcclxuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBjb25zdCBhcnJJID0gYXJyW2ldO1xyXG4gICAgICAgIGlmIChhcnJJICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IGo7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHUgPSAwO1xyXG4gICAgICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh1IDwgdikge1xyXG4gICAgICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHUgPSBjICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xyXG4gICAgdiA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICB3aGlsZSAodS0tID4gMCkge1xyXG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XHJcbiAgICAgICAgdiA9IHBbdl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XG5cbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XHJcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSAnJyk7XHJcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XHJcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcclxuICAgIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcclxuICAgICAgICBpZiAoIXNlbGVjdCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcclxuICAgIH1cclxufTtcclxuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xyXG4gICAgX19pc1RlbGVwb3J0OiB0cnVlLFxyXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xyXG4gICAgICAgIGNvbnN0IHsgbWM6IG1vdW50Q2hpbGRyZW4sIHBjOiBwYXRjaENoaWxkcmVuLCBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbiwgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcclxuICAgICAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xyXG4gICAgICAgIC8vICMzMzAyXHJcbiAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChuMi5lbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBzdGFydCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgZW5kJylcclxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIC8vICMyNjUyIHdlIGNvdWxkIGJlIHRlbGVwb3J0aW5nIGZyb20gYSBub24tU1ZHIHRyZWUgaW50byBhbiBTVkcgdHJlZVxyXG4gICAgICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUZWxlcG9ydCAqYWx3YXlzKiBoYXMgQXJyYXkgY2hpbGRyZW4uIFRoaXMgaXMgZW5mb3JjZWQgaW4gYm90aCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVyIGFuZCB2bm9kZSBjaGlsZHJlbiBub3JtYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSBuMS5hbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gbjEudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xyXG4gICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBjdXJyZW50Q29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaW4gYmxvY2sgdHJlZSBtb2RlIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGFsbCByb290LWxldmVsIG5vZGVzXHJcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgdGVsZXBvcnQgaW5oZXJpdCBwcmV2aW91cyBET00gcmVmZXJlbmNlcyBzbyB0aGF0IHRoZXkgY2FuXHJcbiAgICAgICAgICAgICAgICAvLyBiZSBtb3ZlZCBpbiBmdXR1cmUgcGF0Y2hlcy5cclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY3VycmVudENvbnRhaW5lciwgY3VycmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQgLT4gZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gbWFpbiBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIGNvbnRhaW5lciwgbWFpbkFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIG5leHRUYXJnZXQsIG51bGwsIGludGVybmFscywgMCAvKiBUQVJHRVRfQ0hBTkdFICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkIC0+IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gdGVsZXBvcnQgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCB0YXJnZXQsIHRhcmdldEFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciwgdGFyZ2V0QW5jaG9yLCB0YXJnZXQsIHByb3BzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYW4gdW5tb3VudGVkIHRlbGVwb3J0IHNob3VsZCBhbHdheXMgcmVtb3ZlIGl0cyBjaGlsZHJlbiBpZiBub3QgZGlzYWJsZWRcclxuICAgICAgICBpZiAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoY2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcclxufTtcclxuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBSRU9SREVSICovKSB7XHJcbiAgICAvLyBtb3ZlIHRhcmdldCBhbmNob3IgaWYgdGhpcyBpcyBhIHRhcmdldCBjaGFuZ2UuXHJcbiAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogVEFSR0VUX0NIQU5HRSAqLykge1xyXG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogUkVPUkRFUiAqLztcclxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXHJcbiAgICBpZiAoaXNSZW9yZGVyKSB7XHJcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiB0aGlzIGlzIGEgcmUtb3JkZXIgYW5kIHRlbGVwb3J0IGlzIGVuYWJsZWQgKGNvbnRlbnQgaXMgaW4gdGFyZ2V0KVxyXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcclxuICAgIC8vIGlzIG5vdCBhIHJlb3JkZXIsIG9yIHRoZSB0ZWxlcG9ydCBpcyBkaXNhYmxlZFxyXG4gICAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xyXG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xyXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQuX2xwYSA9XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XHJcbn1cclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5cbmNvbnN0IENPTVBPTkVOVFMgPSAnY29tcG9uZW50cyc7XHJcbmNvbnN0IERJUkVDVElWRVMgPSAnZGlyZWN0aXZlcyc7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xyXG59XHJcbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcclxuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcclxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFxyXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxyXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxyXG4gICAgICAgICAgICAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIGltcGxpY2l0IHNlbGYtcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGAgK1xyXG4gICAgICAgICAgICBgY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcclxuICAgIHJldHVybiAocmVnaXN0cnkgJiZcclxuICAgICAgICAocmVnaXN0cnlbbmFtZV0gfHxcclxuICAgICAgICAgICAgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xyXG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBUZXh0ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdUZXh0JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IENvbW1lbnQkMSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnQ29tbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBTdGF0aWMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1N0YXRpYycgOiB1bmRlZmluZWQpO1xyXG4vLyBTaW5jZSB2LWlmIGFuZCB2LWZvciBhcmUgdGhlIHR3byBwb3NzaWJsZSB3YXlzIG5vZGUgc3RydWN0dXJlIGNhbiBkeW5hbWljYWxseVxyXG4vLyBjaGFuZ2UsIG9uY2Ugd2UgY29uc2lkZXIgdi1pZiBicmFuY2hlcyBhbmQgZWFjaCB2LWZvciBmcmFnbWVudCBhIGJsb2NrLCB3ZVxyXG4vLyBjYW4gZGl2aWRlIGEgdGVtcGxhdGUgaW50byBuZXN0ZWQgYmxvY2tzLCBhbmQgd2l0aGluIGVhY2ggYmxvY2sgdGhlIG5vZGVcclxuLy8gc3RydWN0dXJlIHdvdWxkIGJlIHN0YWJsZS4gVGhpcyBhbGxvd3MgdXMgdG8gc2tpcCBtb3N0IGNoaWxkcmVuIGRpZmZpbmdcclxuLy8gYW5kIG9ubHkgd29ycnkgYWJvdXQgdGhlIGR5bmFtaWMgbm9kZXMgKGluZGljYXRlZCBieSBwYXRjaCBmbGFncykuXHJcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcclxubGV0IGN1cnJlbnRCbG9jayA9IG51bGw7XHJcbi8qKlxyXG4gKiBPcGVuIGEgYmxvY2suXHJcbiAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AuIEl0IGNhbm5vdCBiZSBwYXJ0IG9mIGBjcmVhdGVCbG9ja2BcclxuICogYmVjYXVzZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGJsb2NrIGFyZSBldmFsdWF0ZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AgaXRzZWxmXHJcbiAqIGlzIGNhbGxlZC4gVGhlIGdlbmVyYXRlZCBjb2RlIHR5cGljYWxseSBsb29rcyBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICogICByZXR1cm4gKG9wZW5CbG9jaygpLGNyZWF0ZUJsb2NrKCdkaXYnLCBudWxsLCBbLi4uXSkpXHJcbiAqIH1cclxuICogYGBgXHJcbiAqIGRpc2FibGVUcmFja2luZyBpcyB0cnVlIHdoZW4gY3JlYXRpbmcgYSB2LWZvciBmcmFnbWVudCBibG9jaywgc2luY2UgYSB2LWZvclxyXG4gKiBmcmFnbWVudCBhbHdheXMgZGlmZnMgaXRzIGNoaWxkcmVuLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XHJcbiAgICBibG9ja1N0YWNrLnB1c2goKGN1cnJlbnRCbG9jayA9IGRpc2FibGVUcmFja2luZyA/IG51bGwgOiBbXSkpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XHJcbiAgICBibG9ja1N0YWNrLnBvcCgpO1xyXG4gICAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XHJcbn1cclxuLy8gV2hldGhlciB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZHluYW1pYyBjaGlsZCBub2RlcyBpbnNpZGUgYSBibG9jay5cclxuLy8gT25seSB0cmFja3Mgd2hlbiB0aGlzIHZhbHVlIGlzID4gMFxyXG4vLyBXZSBhcmUgbm90IHVzaW5nIGEgc2ltcGxlIGJvb2xlYW4gYmVjYXVzZSB0aGlzIHZhbHVlIG1heSBuZWVkIHRvIGJlXHJcbi8vIGluY3JlbWVudGVkL2RlY3JlbWVudGVkIGJ5IG5lc3RlZCB1c2FnZSBvZiB2LW9uY2UgKHNlZSBiZWxvdylcclxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XHJcbi8qKlxyXG4gKiBCbG9jayB0cmFja2luZyBzb21ldGltZXMgbmVlZHMgdG8gYmUgZGlzYWJsZWQsIGZvciBleGFtcGxlIGR1cmluZyB0aGVcclxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xyXG4gKiBjb2RlIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIF9jYWNoZVsxXSB8fCAoXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygtMSksXHJcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcclxuICogICBzZXRCbG9ja1RyYWNraW5nKDEpLFxyXG4gKiAgIF9jYWNoZVsxXVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xyXG4gICAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBibG9jayByb290IHZub2RlLiBUYWtlcyB0aGUgc2FtZSBleGFjdCBhcmd1bWVudHMgYXMgYGNyZWF0ZVZOb2RlYC5cclxuICogQSBibG9jayByb290IGtlZXBzIHRyYWNrIG9mIGR5bmFtaWMgbm9kZXMgd2l0aGluIHRoZSBibG9jayBpbiB0aGVcclxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKTtcclxuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcclxuICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9XHJcbiAgICAgICAgaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xyXG4gICAgLy8gY2xvc2UgYmxvY2tcclxuICAgIGNsb3NlQmxvY2soKTtcclxuICAgIC8vIGEgYmxvY2sgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIHBhdGNoZWQsIHNvIHRyYWNrIGl0IGFzIGEgY2hpbGQgb2YgaXRzXHJcbiAgICAvLyBwYXJlbnQgYmxvY2tcclxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICBuMi5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcclxuICAgICAgICAvLyBITVIgb25seTogaWYgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBob3QtdXBkYXRlZCwgZm9yY2UgYSByZWxvYWQuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XHJcbn1cclxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xyXG4vKipcclxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxyXG4gKiB1c2VkIGZvciBjcmVhdGluZyBzdHVicyBpbiB0aGUgdGVzdC11dGlsc1xyXG4gKiBJdCBpcyAqaW50ZXJuYWwqIGJ1dCBuZWVkcyB0byBiZSBleHBvc2VkIGZvciB0ZXN0LXV0aWxzIHRvIHBpY2sgdXAgcHJvcGVyXHJcbiAqIHR5cGluZ3NcclxuICovXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xyXG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcclxufVxyXG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXHJcbiAgICAgICAgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpXHJcbiAgICAgICAgOiBhcmdzKSk7XHJcbn07XHJcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcclxuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcclxuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmIH0pID0+IHtcclxuICAgIHJldHVybiAocmVmICE9IG51bGxcclxuICAgICAgICA/IGlzU3RyaW5nKHJlZikgfHwgaXNSZWYocmVmKSB8fCBpc0Z1bmN0aW9uKHJlZilcclxuICAgICAgICAgICAgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmIH1cclxuICAgICAgICAgICAgOiByZWZcclxuICAgICAgICA6IG51bGwpO1xyXG59O1xyXG5jb25zdCBjcmVhdGVWTm9kZSA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybVxyXG4gICAgOiBfY3JlYXRlVk5vZGUpO1xyXG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcclxuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdHlwZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZSA9IENvbW1lbnQkMTtcclxuICAgIH1cclxuICAgIGlmIChpc1ZOb2RlKHR5cGUpKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlVk5vZGUgcmVjZWl2aW5nIGFuIGV4aXN0aW5nIHZub2RlLiBUaGlzIGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxyXG4gICAgICAgIC8vIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIi8+XHJcbiAgICAgICAgLy8gIzIwNzggbWFrZSBzdXJlIHRvIG1lcmdlIHJlZnMgZHVyaW5nIHRoZSBjbG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh0eXBlLCBwcm9wcywgdHJ1ZSAvKiBtZXJnZVJlZjogdHJ1ZSAqLyk7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmVkO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgY29tcG9uZW50IG5vcm1hbGl6YXRpb24uXHJcbiAgICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcclxuICAgIH1cclxuICAgIC8vIGNsYXNzICYgc3R5bGUgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIC8vIGZvciByZWFjdGl2ZSBvciBwcm94eSBvYmplY3RzLCB3ZSBuZWVkIHRvIGNsb25lIGl0IHRvIGVuYWJsZSBtdXRhdGlvbi5cclxuICAgICAgICBpZiAoaXNQcm94eShwcm9wcykgfHwgSW50ZXJuYWxPYmplY3RLZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XHJcbiAgICAgICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChzdHlsZSkpIHtcclxuICAgICAgICAgICAgLy8gcmVhY3RpdmUgc3RhdGUgb2JqZWN0cyBuZWVkIHRvIGJlIGNsb25lZCBzaW5jZSB0aGV5IGFyZSBsaWtlbHkgdG8gYmVcclxuICAgICAgICAgICAgLy8gbXV0YXRlZFxyXG4gICAgICAgICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGVuY29kZSB0aGUgdm5vZGUgdHlwZSBpbmZvcm1hdGlvbiBpbnRvIGEgYml0bWFwXHJcbiAgICBjb25zdCBzaGFwZUZsYWcgPSBpc1N0cmluZyh0eXBlKVxyXG4gICAgICAgID8gMSAvKiBFTEVNRU5UICovXHJcbiAgICAgICAgOiBpc1N1c3BlbnNlKHR5cGUpXHJcbiAgICAgICAgICAgID8gMTI4IC8qIFNVU1BFTlNFICovXHJcbiAgICAgICAgICAgIDogaXNUZWxlcG9ydCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgPyA2NCAvKiBURUxFUE9SVCAqL1xyXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi9cclxuICAgICAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24odHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAyIC8qIEZVTkNUSU9OQUxfQ09NUE9ORU5UICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8gJiYgaXNQcm94eSh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcclxuICAgICAgICB3YXJuKGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgd2hpY2ggd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCwgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IGAgK1xyXG4gICAgICAgICAgICBgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGAgK1xyXG4gICAgICAgICAgICBgaW5zdGVhZCBvZiBcXGByZWZcXGAuYCwgYFxcbkNvbXBvbmVudCB0aGF0IHdhcyBtYWRlIHJlYWN0aXZlOiBgLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZub2RlID0ge1xyXG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxyXG4gICAgICAgIF9fdl9za2lwOiB0cnVlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcHJvcHMsXHJcbiAgICAgICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxyXG4gICAgICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcclxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IG51bGwsXHJcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgY29tcG9uZW50OiBudWxsLFxyXG4gICAgICAgIHN1c3BlbnNlOiBudWxsLFxyXG4gICAgICAgIHNzQ29udGVudDogbnVsbCxcclxuICAgICAgICBzc0ZhbGxiYWNrOiBudWxsLFxyXG4gICAgICAgIGRpcnM6IG51bGwsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogbnVsbCxcclxuICAgICAgICBlbDogbnVsbCxcclxuICAgICAgICBhbmNob3I6IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxyXG4gICAgICAgIHRhcmdldEFuY2hvcjogbnVsbCxcclxuICAgICAgICBzdGF0aWNDb3VudDogMCxcclxuICAgICAgICBzaGFwZUZsYWcsXHJcbiAgICAgICAgcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wcyxcclxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgYXBwQ29udGV4dDogbnVsbFxyXG4gICAgfTtcclxuICAgIC8vIHZhbGlkYXRlIGtleVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xyXG4gICAgICAgIHdhcm4oYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XHJcbiAgICAvLyBub3JtYWxpemUgc3VzcGVuc2UgY2hpbGRyZW5cclxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJlxyXG4gICAgICAgIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxyXG4gICAgICAgICFpc0Jsb2NrTm9kZSAmJlxyXG4gICAgICAgIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xyXG4gICAgICAgIGN1cnJlbnRCbG9jayAmJlxyXG4gICAgICAgIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXHJcbiAgICAgICAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXHJcbiAgICAgICAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXHJcbiAgICAgICAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxyXG4gICAgICAgIChwYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSAmJlxyXG4gICAgICAgIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxyXG4gICAgICAgIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXHJcbiAgICAgICAgcGF0Y2hGbGFnICE9PSAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XHJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgTk9UIHVzaW5nIHNwcmVhZCBvciBleHRlbmQgdG8gYXZvaWQgdGhlIHJ1bnRpbWVcclxuICAgIC8vIGtleSBlbnVtZXJhdGlvbiBjb3N0LlxyXG4gICAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcclxuICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZXh0cmFQcm9wcyA/IG1lcmdlUHJvcHMocHJvcHMgfHwge30sIGV4dHJhUHJvcHMpIDogcHJvcHM7XHJcbiAgICBjb25zdCBjbG9uZWQgPSB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgX192X3NraXA6IHRydWUsXHJcbiAgICAgICAgdHlwZTogdm5vZGUudHlwZSxcclxuICAgICAgICBwcm9wczogbWVyZ2VkUHJvcHMsXHJcbiAgICAgICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxyXG4gICAgICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZlxyXG4gICAgICAgICAgICA/IC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VSZWYgJiYgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpc0FycmF5KHJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWYuY29uY2F0KG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcclxuICAgICAgICAgICAgOiByZWYsXHJcbiAgICAgICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcclxuICAgICAgICBjaGlsZHJlbjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLyAmJiBpc0FycmF5KGNoaWxkcmVuKVxyXG4gICAgICAgICAgICA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSlcclxuICAgICAgICAgICAgOiBjaGlsZHJlbixcclxuICAgICAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcclxuICAgICAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXHJcbiAgICAgICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXHJcbiAgICAgICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcclxuICAgICAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxyXG4gICAgICAgIC8vIG5vdGU6IHBlcnNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cclxuICAgICAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXHJcbiAgICAgICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50XHJcbiAgICAgICAgICAgID8gcGF0Y2hGbGFnID09PSAtMSAvLyBob2lzdGVkIG5vZGVcclxuICAgICAgICAgICAgICAgID8gMTYgLyogRlVMTF9QUk9QUyAqL1xyXG4gICAgICAgICAgICAgICAgOiBwYXRjaEZsYWcgfCAxNiAvKiBGVUxMX1BST1BTICovXHJcbiAgICAgICAgICAgIDogcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxyXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXHJcbiAgICAgICAgZGlyczogdm5vZGUuZGlycyxcclxuICAgICAgICB0cmFuc2l0aW9uOiB2bm9kZS50cmFuc2l0aW9uLFxyXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxyXG4gICAgICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxyXG4gICAgICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcclxuICAgICAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxyXG4gICAgICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxyXG4gICAgICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcclxuICAgICAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXHJcbiAgICAgICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxyXG4gICAgICAgIGVsOiB2bm9kZS5lbCxcclxuICAgICAgICBhbmNob3I6IHZub2RlLmFuY2hvclxyXG4gICAgfTtcclxuICAgIHJldHVybiBjbG9uZWQ7XHJcbn1cclxuLyoqXHJcbiAqIERldiBvbmx5LCBmb3IgSE1SIG9mIGhvaXN0ZWQgdm5vZGVzIHJldXNlZCBpbiB2LWZvclxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzIwMjJcclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XHJcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSAnICcsIGZsYWcgPSAwKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XHJcbiAgICAvLyBBIHN0YXRpYyB2bm9kZSBjYW4gY29udGFpbiBtdWx0aXBsZSBzdHJpbmdpZmllZCBlbGVtZW50cywgYW5kIHRoZSBudW1iZXJcclxuICAgIC8vIG9mIGVsZW1lbnRzIGlzIG5lY2Vzc2FyeSBmb3IgaHlkcmF0aW9uLlxyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xyXG4gICAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSAnJywgXHJcbi8vIHdoZW4gdXNlZCBhcyB0aGUgdi1lbHNlIGJyYW5jaCwgdGhlIGNvbW1lbnQgbm9kZSBtdXN0IGJlIGNyZWF0ZWQgYXMgYVxyXG4vLyBibG9jayB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzLlxyXG5hc0Jsb2NrID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBhc0Jsb2NrXHJcbiAgICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQkMSwgbnVsbCwgdGV4dCkpXHJcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50JDEsIG51bGwsIHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XHJcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQkMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xyXG4gICAgICAgIC8vIGZyYWdtZW50XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKEZyYWdtZW50LCBudWxsLCBcclxuICAgICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcclxuICAgICAgICBjaGlsZC5zbGljZSgpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBhbHJlYWR5IHZub2RlLCB0aGlzIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc2luY2UgY29tcGlsZWQgdGVtcGxhdGVzXHJcbiAgICAgICAgLy8gYWx3YXlzIHByb2R1Y2UgYWxsLXZub2RlIGNoaWxkcmVuIGFycmF5c1xyXG4gICAgICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzdHJpbmdzIGFuZCBudW1iZXJzXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xyXG4gICAgfVxyXG59XHJcbi8vIG9wdGltaXplZCBub3JtYWxpemF0aW9uIGZvciB0ZW1wbGF0ZS1jb21waWxlZCByZW5kZXIgZm5zXHJcbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XHJcbiAgICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xyXG4gICAgbGV0IHR5cGUgPSAwO1xyXG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovIHx8IHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBzbG90IHRvIHBsYWluIGNoaWxkcmVuIGZvciBwbGFpbiBlbGVtZW50IGFuZCBUZWxlcG9ydFxyXG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIF9jIG1hcmtlciBpcyBhZGRlZCBieSB3aXRoQ3R4KCkgaW5kaWNhdGluZyB0aGlzIGlzIGEgY29tcGlsZWQgc2xvdFxyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIEZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMSAvKiBTVEFCTEUgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMiAvKiBEWU5BTUlDICovO1xyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XHJcbiAgICAgICAgdHlwZSA9IDMyIC8qIFNMT1RTX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xyXG4gICAgICAgIC8vIGZvcmNlIHRlbGVwb3J0IGNoaWxkcmVuIHRvIGFycmF5IHNvIGl0IGNhbiBiZSBtb3ZlZCBhcm91bmRcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSA4IC8qIFRFWFRfQ0hJTERSRU4gKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xyXG4gICAgY29uc3QgcmV0ID0gZXh0ZW5kKHt9LCBhcmdzWzBdKTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAhPT0gaW5jb21pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNvbWluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLyoqXHJcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0pIHtcclxuICAgIGxldCByZXQ7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCByZW5kZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XHJcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBgPHNsb3QvPmBcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIFxyXG4vLyB0aGlzIGlzIG5vdCBhIHVzZXItZmFjaW5nIGZ1bmN0aW9uLCBzbyB0aGUgZmFsbGJhY2sgaXMgYWx3YXlzIGdlbmVyYXRlZCBieVxyXG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcclxuZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xyXG4gICAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICB3YXJuKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBgICtcclxuICAgICAgICAgICAgYHBhcmVudCB0ZW1wbGF0ZS5gKTtcclxuICAgICAgICBzbG90ID0gKCkgPT4gW107XHJcbiAgICB9XHJcbiAgICAvLyBhIGNvbXBpbGVkIHNsb3QgZGlzYWJsZXMgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdCB0byBhdm9pZCBtYW51YWxcclxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXHJcbiAgICAvLyBgcmVuZGVyU2xvdGAgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCdzIHRlbXBsYXRlLWJhc2VkIHNvIHdlIGNhbiBmb3JjZVxyXG4gICAgLy8gZW5hYmxlIGl0LlxyXG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xyXG4gICAgICAgIHNsb3QuX2QgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9wZW5CbG9jaygpO1xyXG4gICAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XHJcbiAgICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKEZyYWdtZW50LCB7IGtleTogcHJvcHMua2V5IHx8IGBfJHtuYW1lfWAgfSwgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLCB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgLyogU1RBQkxFICovXHJcbiAgICAgICAgPyA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9cclxuICAgICAgICA6IC0yIC8qIEJBSUwgKi8pO1xyXG4gICAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xyXG4gICAgICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgJy1zJ107XHJcbiAgICB9XHJcbiAgICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XHJcbiAgICAgICAgc2xvdC5fZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVuZGVyZWQ7XHJcbn1cclxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcclxuICAgIHJldHVybiB2bm9kZXMuc29tZShjaGlsZCA9PiB7XHJcbiAgICAgICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQkMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICAgICAgPyB2bm9kZXNcclxuICAgICAgICA6IG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIEZvciBwcmVmaXhpbmcga2V5cyBpbiB2LW9uPVwib2JqXCIgd2l0aCBcIm9uXCJcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqKSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICB3YXJuKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIHJldFt0b0hhbmRsZXJLZXkoa2V5KV0gPSBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLyoqXHJcbiAqICMyNDM3IEluIFZ1ZSAzLCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IGhhdmUgYSBwdWJsaWMgaW5zdGFuY2UgcHJveHkgYnV0XHJcbiAqIHRoZXkgZXhpc3QgaW4gdGhlIGludGVybmFsIHBhcmVudCBjaGFpbi4gRm9yIGNvZGUgdGhhdCByZWxpZXMgb24gdHJhdmVyc2luZ1xyXG4gKiBwdWJsaWMgJHBhcmVudCBjaGFpbnMsIHNraXAgZnVuY3Rpb25hbCBvbmVzIGFuZCBnbyB0byB0aGUgcGFyZW50IGluc3RlYWQuXHJcbiAqL1xyXG5jb25zdCBnZXRQdWJsaWNJbnN0YW5jZSA9IChpKSA9PiB7XHJcbiAgICBpZiAoIWkpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSlcclxuICAgICAgICByZXR1cm4gaS5leHBvc2VkID8gaS5leHBvc2VkIDogaS5wcm94eTtcclxuICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCk7XHJcbn07XHJcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwge1xyXG4gICAgJDogaSA9PiBpLFxyXG4gICAgJGVsOiBpID0+IGkudm5vZGUuZWwsXHJcbiAgICAkZGF0YTogaSA9PiBpLmRhdGEsXHJcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxyXG4gICAgJGF0dHJzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzKSxcclxuICAgICRzbG90czogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyksXHJcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxyXG4gICAgJHBhcmVudDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXHJcbiAgICAkcm9vdDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxyXG4gICAgJGVtaXQ6IGkgPT4gaS5lbWl0LFxyXG4gICAgJG9wdGlvbnM6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSksXHJcbiAgICAkZm9yY2VVcGRhdGU6IGkgPT4gKCkgPT4gcXVldWVKb2IoaS51cGRhdGUpLFxyXG4gICAgJG5leHRUaWNrOiBpID0+IG5leHRUaWNrLmJpbmQoaS5wcm94eSksXHJcbiAgICAkd2F0Y2g6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QKVxyXG59KTtcclxuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsIGZvcm1hdHRlcnMgdG8ga25vdyB0aGF0IHRoaXMgaXMgYSBWdWUgaW5zdGFuY2VcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSA9PT0gJ19faXNWdWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkYXRhIC8gcHJvcHMgLyBjdHhcclxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxyXG4gICAgICAgIC8vIGR1cmluZyByZW5kZXIgYW5kIGlzIGEgbWFqb3IgaG90c3BvdC4gVGhlIG1vc3QgZXhwZW5zaXZlIHBhcnQgb2YgdGhpc1xyXG4gICAgICAgIC8vIGlzIHRoZSBtdWx0aXBsZSBoYXNPd24oKSBjYWxscy4gSXQncyBtdWNoIGZhc3RlciB0byBkbyBhIHNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXHJcbiAgICAgICAgLy8gcHJvdG90eXBlKSB0byBtZW1vaXplIHdoYXQgYWNjZXNzIHR5cGUgYSBrZXkgY29ycmVzcG9uZHMgdG8uXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBTRVRVUCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogREFUQSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQ09OVEVYVCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBQUk9QUyAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogU0VUVVAgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogREFUQSAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBQUk9QUyAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIENPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIE9USEVSICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcclxuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xyXG4gICAgICAgIC8vIHB1YmxpYyAkeHh4IHByb3BlcnRpZXNcclxuICAgICAgICBpZiAocHVibGljR2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcclxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXHJcbiAgICAgICAgICAgIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc01vZHVsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAvLyB1c2VyIG1heSBzZXQgY3VzdG9tIHByb3BlcnRpZXMgdG8gYHRoaXNgIHRoYXQgc3RhcnQgd2l0aCBgJGBcclxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgICAgICgoZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpLFxyXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmXHJcbiAgICAgICAgICAgICghaXNTdHJpbmcoa2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcclxuICAgICAgICAgICAgICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxyXG4gICAgICAgICAgICAgICAga2V5LmluZGV4T2YoJ19fdicpICE9PSAwKSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmXHJcbiAgICAgICAgICAgICAgICAoa2V5WzBdID09PSAnJCcgfHwga2V5WzBdID09PSAnXycpICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBgICtcclxuICAgICAgICAgICAgICAgICAgICBgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgaGFzKHsgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfSB9LCBrZXkpIHtcclxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xyXG4gICAgICAgIHJldHVybiAoYWNjZXNzQ2FjaGVba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHx8XHJcbiAgICAgICAgICAgIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHx8XHJcbiAgICAgICAgICAgICgobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oY3R4LCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKTtcclxuICAgIH1cclxufTtcclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UpIHtcclxuICAgIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBgICtcclxuICAgICAgICAgICAgYFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmApO1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcclxuICAgIGdldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgdW5zY29wYWJsZXMgd2hlbiB1c2luZyBgd2l0aGAgYmxvY2tcclxuICAgICAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcclxuICAgIH0sXHJcbiAgICBoYXMoXywga2V5KSB7XHJcbiAgICAgICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSAnXycgJiYgIWlzR2xvYmFsbHlXaGl0ZWxpc3RlZChrZXkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcclxuICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhcztcclxuICAgIH1cclxufSk7XHJcbi8vIEluIGRldiBtb2RlLCB0aGUgcHJveHkgdGFyZ2V0IGV4cG9zZXMgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBzZWVuIG9uIGB0aGlzYFxyXG4vLyBmb3IgZWFzaWVyIGNvbnNvbGUgaW5zcGVjdGlvbi4gSW4gcHJvZCBtb2RlIGl0IHdpbGwgYmUgYW4gZW1wdHkgb2JqZWN0IHNvXHJcbi8vIHRoZXNlIHByb3BlcnRpZXMgZGVmaW5pdGlvbnMgY2FuIGJlIHNraXBwZWQuXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xyXG4gICAgLy8gZXhwb3NlIGludGVybmFsIGluc3RhbmNlIGZvciBwcm94eSBoYW5kbGVyc1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2VcclxuICAgIH0pO1xyXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBwcm9wZXJ0aWVzXHJcbiAgICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcclxuICAgICAgICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxyXG4gICAgICAgICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xyXG4gICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBjdHgsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10gfSA9IGluc3RhbmNlO1xyXG4gICAgaWYgKHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLy8gZGV2IG9ubHlcclxuZnVuY3Rpb24gZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xyXG4gICAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBpZiAoa2V5WzBdID09PSAnJCcgfHwga2V5WzBdID09PSAnXycpIHtcclxuICAgICAgICAgICAgd2Fybihgc2V0dXAoKSByZXR1cm4gcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgYCArXHJcbiAgICAgICAgICAgICAgICBgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxyXG4gICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcclxubGV0IHVpZCQxID0gMDtcclxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIHBhcmVudCwgc3VzcGVuc2UpIHtcclxuICAgIGNvbnN0IHR5cGUgPSB2bm9kZS50eXBlO1xyXG4gICAgLy8gaW5oZXJpdCBwYXJlbnQgYXBwIGNvbnRleHQgLSBvciAtIGlmIHJvb3QsIGFkb3B0IGZyb20gcm9vdCB2bm9kZVxyXG4gICAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcclxuICAgIGNvbnN0IGluc3RhbmNlID0ge1xyXG4gICAgICAgIHVpZDogdWlkJDErKyxcclxuICAgICAgICB2bm9kZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBhcHBDb250ZXh0LFxyXG4gICAgICAgIHJvb3Q6IG51bGwsXHJcbiAgICAgICAgbmV4dDogbnVsbCxcclxuICAgICAgICBzdWJUcmVlOiBudWxsLFxyXG4gICAgICAgIHVwZGF0ZTogbnVsbCxcclxuICAgICAgICByZW5kZXI6IG51bGwsXHJcbiAgICAgICAgcHJveHk6IG51bGwsXHJcbiAgICAgICAgZXhwb3NlZDogbnVsbCxcclxuICAgICAgICB3aXRoUHJveHk6IG51bGwsXHJcbiAgICAgICAgZWZmZWN0czogbnVsbCxcclxuICAgICAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcclxuICAgICAgICBhY2Nlc3NDYWNoZTogbnVsbCxcclxuICAgICAgICByZW5kZXJDYWNoZTogW10sXHJcbiAgICAgICAgLy8gbG9jYWwgcmVzb3ZsZWQgYXNzZXRzXHJcbiAgICAgICAgY29tcG9uZW50czogbnVsbCxcclxuICAgICAgICBkaXJlY3RpdmVzOiBudWxsLFxyXG4gICAgICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXHJcbiAgICAgICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXHJcbiAgICAgICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXHJcbiAgICAgICAgLy8gZW1pdFxyXG4gICAgICAgIGVtaXQ6IG51bGwsXHJcbiAgICAgICAgZW1pdHRlZDogbnVsbCxcclxuICAgICAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxyXG4gICAgICAgIC8vIGluaGVyaXRBdHRyc1xyXG4gICAgICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXHJcbiAgICAgICAgLy8gc3RhdGVcclxuICAgICAgICBjdHg6IEVNUFRZX09CSixcclxuICAgICAgICBkYXRhOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcHJvcHM6IEVNUFRZX09CSixcclxuICAgICAgICBhdHRyczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNsb3RzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcmVmczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcclxuICAgICAgICBzZXR1cENvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxyXG4gICAgICAgIHN1c3BlbnNlLFxyXG4gICAgICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcclxuICAgICAgICBhc3luY0RlcDogbnVsbCxcclxuICAgICAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcclxuICAgICAgICAvLyBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGJjOiBudWxsLFxyXG4gICAgICAgIGM6IG51bGwsXHJcbiAgICAgICAgYm06IG51bGwsXHJcbiAgICAgICAgbTogbnVsbCxcclxuICAgICAgICBidTogbnVsbCxcclxuICAgICAgICB1OiBudWxsLFxyXG4gICAgICAgIHVtOiBudWxsLFxyXG4gICAgICAgIGJ1bTogbnVsbCxcclxuICAgICAgICBkYTogbnVsbCxcclxuICAgICAgICBhOiBudWxsLFxyXG4gICAgICAgIHJ0ZzogbnVsbCxcclxuICAgICAgICBydGM6IG51bGwsXHJcbiAgICAgICAgZWM6IG51bGwsXHJcbiAgICAgICAgc3A6IG51bGxcclxuICAgIH07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLmVtaXQgPSBlbWl0LmJpbmQobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcclxuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG59O1xyXG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50Jyk7XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcclxuICAgIGNvbnN0IGFwcElzTmF0aXZlVGFnID0gY29uZmlnLmlzTmF0aXZlVGFnIHx8IE5PO1xyXG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBhcHBJc05hdGl2ZVRhZyhuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6ICcgKyBuYW1lKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XHJcbiAgICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi87XHJcbn1cclxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gaXNTU1I7XHJcbiAgICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XHJcbiAgICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XHJcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XHJcbiAgICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bFxyXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcclxuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcclxuICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBgICtcclxuICAgICAgICAgICAgICAgIGBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBgICtcclxuICAgICAgICAgICAgICAgIGBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIDAuIGNyZWF0ZSByZW5kZXIgcHJveHkgcHJvcGVydHkgYWNjZXNzIGNhY2hlXHJcbiAgICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAvLyAxLiBjcmVhdGUgcHVibGljIGluc3RhbmNlIC8gcmVuZGVyIHByb3h5XHJcbiAgICAvLyBhbHNvIG1hcmsgaXQgcmF3IHNvIGl0J3MgbmV2ZXIgb2JzZXJ2ZWRcclxuICAgIGluc3RhbmNlLnByb3h5ID0gbWFya1JhdyhuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICAvLyAyLiBjYWxsIHNldHVwKClcclxuICAgIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcclxuICAgIGlmIChzZXR1cCkge1xyXG4gICAgICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IChpbnN0YW5jZS5zZXR1cENvbnRleHQgPVxyXG4gICAgICAgICAgICBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGwpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzZXR1cCwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8sIFsocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsIHNldHVwQ29udGV4dF0pO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChpc1Byb21pc2Uoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1NTUikge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBwcm9taXNlIHNvIHNlcnZlci1yZW5kZXJlciBjYW4gd2FpdCBvbiBpdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0LCBpc1NTUik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCAvKiBTRVRVUF9GVU5DVElPTiAqLyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGFzeW5jIHNldHVwIHJldHVybmVkIFByb21pc2UuXHJcbiAgICAgICAgICAgICAgICAvLyBiYWlsIGhlcmUgYW5kIHdhaXQgZm9yIHJlLWVudHJ5LlxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBhbiBpbmxpbmUgcmVuZGVyIGZ1bmN0aW9uXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gYCArXHJcbiAgICAgICAgICAgICAgICBgcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGJpbmRpbmdzLlxyXG4gICAgICAgIC8vIGFzc3VtaW5nIGEgcmVuZGVyIGZ1bmN0aW9uIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaXMgcHJlc2VudC5cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0dXBSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHdhcm4oYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHNldHVwUmVzdWx0fWApO1xyXG4gICAgfVxyXG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcclxufVxyXG5sZXQgY29tcGlsZTtcclxuLy8gZGV2IG9ubHlcclxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xyXG4vKipcclxuICogRm9yIHJ1bnRpbWUtZG9tIHRvIHJlZ2lzdGVyIHRoZSBjb21waWxlci5cclxuICogTm90ZSB0aGUgZXhwb3J0ZWQgbWV0aG9kIHVzZXMgYW55IHRvIGF2b2lkIGQudHMgcmVseWluZyBvbiB0aGUgY29tcGlsZXIgdHlwZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xyXG4gICAgY29tcGlsZSA9IF9jb21waWxlO1xyXG59XHJcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcclxuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAvLyB0ZW1wbGF0ZSAvIHJlbmRlciBmdW5jdGlvbiBub3JtYWxpemF0aW9uXHJcbiAgICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xyXG4gICAgICAgIC8vIGNvdWxkIGJlIHNldCBmcm9tIHNldHVwKClcclxuICAgICAgICBpZiAoY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IENvbXBvbmVudC50ZW1wbGF0ZTtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRlbGltaXRlcnMsIGNvbXBpbGVyT3B0aW9uczogY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIH0gPSBDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbENvbXBpbGVyT3B0aW9ucyA9IGV4dGVuZChleHRlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXJzXHJcbiAgICAgICAgICAgICAgICB9LCBjb21waWxlck9wdGlvbnMpLCBjb21wb25lbnRDb21waWxlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IChDb21wb25lbnQucmVuZGVyIHx8IE5PT1ApO1xyXG4gICAgICAgIC8vIGZvciBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrcywgdGhlIHJlbmRlclxyXG4gICAgICAgIC8vIHByb3h5IHVzZWQgbmVlZHMgYSBkaWZmZXJlbnQgYGhhc2AgaGFuZGxlciB3aGljaCBpcyBtb3JlIHBlcmZvcm1hbnQgYW5kXHJcbiAgICAgICAgLy8gYWxzbyBvbmx5IGFsbG93cyBhIHdoaXRlbGlzdCBvZiBnbG9iYWxzIHRvIGZhbGx0aHJvdWdoLlxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5yZW5kZXIuX3JjKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLndpdGhQcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc3VwcG9ydCBmb3IgMi54IG9wdGlvbnNcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICEoZmFsc2UgKSkge1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gd2FybiBtaXNzaW5nIHRlbXBsYXRlL3JlbmRlclxyXG4gICAgLy8gdGhlIHJ1bnRpbWUgY29tcGlsYXRpb24gb2YgdGVtcGxhdGUgaW4gU1NSIGlzIGRvbmUgYnkgc2VydmVyLXJlbmRlclxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBgICtcclxuICAgICAgICAgICAgICAgIGBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXHJcbiAgICAgICAgICAgICAgICAgICAgKSAvKiBzaG91bGQgbm90IGhhcHBlbiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGF0dHJIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eTogKCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgZXhwb3NlID0gZXhwb3NlZCA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS5leHBvc2VkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKGV4cG9zZWQpO1xyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAvLyBXZSB1c2UgZ2V0dGVycyBpbiBkZXYgaW4gY2FzZSBsaWJzIGxpa2UgdGVzdC11dGlscyBvdmVyd3JpdGUgaW5zdGFuY2VcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIChvdmVyd3JpdGVzIHNob3VsZCBub3QgYmUgZG9uZSBpbiBwcm9kKVxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0ckhhbmRsZXJzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IHNsb3RzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5zbG90cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBlbWl0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXR0cnM6IGluc3RhbmNlLmF0dHJzLFxyXG4gICAgICAgICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXHJcbiAgICAgICAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8gcmVjb3JkIGVmZmVjdHMgY3JlYXRlZCBkdXJpbmcgYSBjb21wb25lbnQncyBzZXR1cCgpIHNvIHRoYXQgdGhleSBjYW4gYmVcclxuLy8gc3RvcHBlZCB3aGVuIHRoZSBjb21wb25lbnQgdW5tb3VudHNcclxuZnVuY3Rpb24gcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChlZmZlY3QsIGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAoaW5zdGFuY2UuZWZmZWN0cyB8fCAoaW5zdGFuY2UuZWZmZWN0cyA9IFtdKSkucHVzaChlZmZlY3QpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XHJcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgYyA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgJycpO1xyXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KVxyXG4gICAgICAgID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lXHJcbiAgICAgICAgOiBDb21wb25lbnQubmFtZTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaFsxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbmFtZSA9XHJcbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHMpIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcclxufVxyXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMpO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChjLmVmZmVjdCk7XHJcbiAgICByZXR1cm4gYztcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBkZWZpbmVQcm9wcygpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGRlZmluZUVtaXQoKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgZGVmaW5lRW1pdCgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHVzZUNvbnRleHQoKSB7XHJcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpKSB7XHJcbiAgICAgICAgd2FybihgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xyXG59XG5cbi8vIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgaWYgKGwgPT09IDIpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXHJcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGwgPiAzKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBzc3JDb250ZXh0YCA6IGBgKTtcclxuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgd2FybihgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgfVxyXG59O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMzYmE3NzYnIH07XHJcbiAgICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojMGIxYmM5JyB9O1xyXG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcclxuICAgIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojOWQyODhjJyB9O1xyXG4gICAgLy8gY3VzdG9tIGZvcm1hdHRlciBmb3IgQ2hyb21lXHJcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcclxuICAgIGNvbnN0IGZvcm1hdHRlciA9IHtcclxuICAgICAgICBoZWFkZXIob2JqKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbJ2RpdicsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZihvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFjdGl2ZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFkb25seSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgICc+J1xyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc0JvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5KG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdjb21wdXRlZCcpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdjb21wdXRlZCcsIGNvbXB1dGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcclxuICAgICAgICBpZiAoaW5qZWN0ZWQpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnaW5qZWN0ZWQnLCBpbmplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBibG9ja3MucHVzaChbXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyAnO29wYWNpdHk6MC42NidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFsnb2JqZWN0JywgeyBvYmplY3Q6IGluc3RhbmNlIH1dXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgcmV0dXJuIGJsb2NrcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xyXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHsgc3R5bGU6ICdsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbScgfSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojNDc2NTgyJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHR5cGVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRyYWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcclxuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxyXG4gICAgICAgICAgICAoaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUobSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcclxuICAgICAgICBpZiAodi5fc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodi5lZmZlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgUmVmYDtcclxuICAgIH1cclxuICAgIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XHJcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XHJcbiAgICB9XHJcbn1cblxuLy8gQ29yZSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IHZlcnNpb24gPSBcIjMuMS4yXCI7XHJcbi8qKlxyXG4gKiBTU1IgdXRpbHMgZm9yIFxcQHZ1ZS9zZXJ2ZXItcmVuZGVyZXIuIE9ubHkgZXhwb3NlZCBpbiBjanMgYnVpbGRzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IHNzclV0aWxzID0gKG51bGwpO1xyXG4vKipcclxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzXHJcbiAqL1xyXG5jb25zdCByZXNvbHZlRmlsdGVyID0gbnVsbDtcclxuLyoqXHJcbiAqIEBpbnRlcm5hbCBvbmx5IGV4cG9zZWQgaW4gY29tcGF0IGJ1aWxkcy5cclxuICovXHJcbmNvbnN0IGNvbXBhdFV0aWxzID0gKG51bGwpO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCQxIGFzIENvbW1lbnQsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVFbWl0LCBkZWZpbmVQcm9wcywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBoLCBoYW5kbGVFcnJvciwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZVByb3BzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNlcnZlclByZWZldGNoLCBvblVubW91bnRlZCwgb25VcGRhdGVkLCBvcGVuQmxvY2ssIHBvcFNjb3BlSWQsIHByb3ZpZGUsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWdpc3RlclJ1bnRpbWVDb21waWxlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVGaWx0ZXIsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIHNldEJsb2NrVHJhY2tpbmcsIHNldERldnRvb2xzSG9vaywgc2V0VHJhbnNpdGlvbkhvb2tzLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgdG9IYW5kbGVycywgdHJhbnNmb3JtVk5vZGVBcmdzLCB1c2VDb250ZXh0LCB1c2VTU1JDb250ZXh0LCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMsIHdpdGhTY29wZUlkIH07XG4iLCJpbXBvcnQgeyBjYW1lbGl6ZSwgd2FybiwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25Nb3VudGVkLCB3YXRjaEVmZmVjdCwgb25VcGRhdGVkLCBGcmFnbWVudCwgaCwgQmFzZVRyYW5zaXRpb24sIHVzZVRyYW5zaXRpb25TdGF0ZSwgdG9SYXcsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgc2V0VHJhbnNpdGlvbkhvb2tzLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBjcmVhdGVWTm9kZSwgY3JlYXRlUmVuZGVyZXIsIGlzUnVudGltZU9ubHksIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzQXJyYXksIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBleHRlbmQsIGlzT2JqZWN0LCB0b051bWJlciwgaW52b2tlQXJyYXlGbnMsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGlzSFRNTFRhZywgaXNTVkdUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuY29uc3QgZG9jID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpO1xyXG5jb25zdCBub2RlT3BzID0ge1xyXG4gICAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZTogY2hpbGQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVFbGVtZW50OiAodGFnLCBpc1NWRywgaXMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZylcclxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAodGFnID09PSAnc2VsZWN0JyAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCBwcm9wcy5tdWx0aXBsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcclxuICAgIGNyZWF0ZUNvbW1lbnQ6IHRleHQgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXHJcbiAgICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xyXG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfSxcclxuICAgIHBhcmVudE5vZGU6IG5vZGUgPT4gbm9kZS5wYXJlbnROb2RlLFxyXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcclxuICAgIHF1ZXJ5U2VsZWN0b3I6IHNlbGVjdG9yID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcclxuICAgIHNldFNjb3BlSWQoZWwsIGlkKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XHJcbiAgICB9LFxyXG4gICAgY2xvbmVOb2RlKGVsKSB7XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gZWwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIC8vICMzMDcyXHJcbiAgICAgICAgLy8gLSBpbiBgcGF0Y2hET01Qcm9wYCwgd2Ugc3RvcmUgdGhlIGFjdHVhbCB2YWx1ZSBpbiB0aGUgYGVsLl92YWx1ZWAgcHJvcGVydHkuXHJcbiAgICAgICAgLy8gLSBub3JtYWxseSwgZWxlbWVudHMgdXNpbmcgYDp2YWx1ZWAgYmluZGluZ3Mgd2lsbCBub3QgYmUgaG9pc3RlZCwgYnV0IGlmXHJcbiAgICAgICAgLy8gICB0aGUgYm91bmQgdmFsdWUgaXMgYSBjb25zdGFudCwgZS5nLiBgOnZhbHVlPVwidHJ1ZVwiYCAtIHRoZXkgZG8gZ2V0XHJcbiAgICAgICAgLy8gICBob2lzdGVkLlxyXG4gICAgICAgIC8vIC0gaW4gcHJvZHVjdGlvbiwgaG9pc3RlZCBub2RlcyBhcmUgY2xvbmVkIHdoZW4gc3Vic2VxdWVudCBpbnNlcnRzLCBidXRcclxuICAgICAgICAvLyAgIGNsb25lTm9kZSgpIGRvZXMgbm90IGNvcHkgdGhlIGN1c3RvbSBwcm9wZXJ0eSB3ZSBhdHRhY2hlZC5cclxuICAgICAgICAvLyAtIFRoaXMgbWF5IG5lZWQgdG8gYWNjb3VudCBmb3Igb3RoZXIgY3VzdG9tIERPTSBwcm9wZXJ0aWVzIHdlIGF0dGFjaCB0b1xyXG4gICAgICAgIC8vICAgZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gYF92YWx1ZWAgaW4gdGhlIGZ1dHVyZS5cclxuICAgICAgICBpZiAoYF92YWx1ZWAgaW4gZWwpIHtcclxuICAgICAgICAgICAgY2xvbmVkLl92YWx1ZSA9IGVsLl92YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcclxuICAgIH0sXHJcbiAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAvLyBSZWFzb246IGluc2VydEFkamFjZW50SFRNTC5cclxuICAgIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cclxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXHJcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBpc1NWRywgY2FjaGVkKSB7XHJcbiAgICAgICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgICAgICBsZXQgW2NhY2hlZEZpcnN0LCBjYWNoZWRMYXN0XSA9IGNhY2hlZDtcclxuICAgICAgICAgICAgbGV0IGZpcnN0LCBsYXN0O1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBjYWNoZWRGaXJzdC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gbm9kZTtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWRGaXJzdCA9PT0gY2FjaGVkTGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FjaGVkRmlyc3QgPSBjYWNoZWRGaXJzdC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW2ZpcnN0LCBsYXN0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gPHBhcmVudD4gYmVmb3JlIHwgZmlyc3QgLi4uIGxhc3QgfCBhbmNob3IgPC9wYXJlbnQ+XHJcbiAgICAgICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XHJcbiAgICAgICAgaWYgKGFuY2hvcikge1xyXG4gICAgICAgICAgICBsZXQgaW5zZXJ0aW9uUG9pbnQ7XHJcbiAgICAgICAgICAgIGxldCB1c2luZ1RlbXBJbnNlcnRpb25Qb2ludCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uUG9pbnQgPSBhbmNob3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnNlcnRBZGphY2VudEhUTUwgb25seSB3b3JrcyBmb3IgZWxlbWVudHMgYnV0IHRoZSBhbmNob3IgaXMgbm90IGFuXHJcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50Li4uXHJcbiAgICAgICAgICAgICAgICB1c2luZ1RlbXBJbnNlcnRpb25Qb2ludCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnRpb25Qb2ludCA9IGlzU1ZHXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydGlvblBvaW50LCBhbmNob3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc2VydGlvblBvaW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBjb250ZW50KTtcclxuICAgICAgICAgICAgaWYgKHVzaW5nVGVtcEluc2VydGlvblBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoaW5zZXJ0aW9uUG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBjb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgLy8gZmlyc3RcclxuICAgICAgICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXHJcbiAgICAgICAgICAgIC8vIGxhc3RcclxuICAgICAgICAgICAgYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGRcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG59O1xuXG4vLyBjb21waWxlciBzaG91bGQgbm9ybWFsaXplIGNsYXNzICsgOmNsYXNzIGJpbmRpbmdzIG9uIHRoZSBzYW1lIGVsZW1lbnRcclxuLy8gaW50byBhIHNpbmdsZSBiaW5kaW5nIFsnc3RhdGljQ2xhc3MnLCBkeW5hbWljXVxyXG5mdW5jdGlvbiBwYXRjaENsYXNzKGVsLCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgdmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBkaXJlY3RseSBzZXR0aW5nIGNsYXNzTmFtZSBzaG91bGQgYmUgZmFzdGVyIHRoYW4gc2V0QXR0cmlidXRlIGluIHRoZW9yeVxyXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gZWxlbWVudCBkdXJpbmcgYSB0cmFuc2l0aW9uLCB0YWtlIHRoZSB0ZW1wb3JhcnkgdHJhbnNpdGlvblxyXG4gICAgICAgIC8vIGNsYXNzZXMgaW50byBhY2NvdW50LlxyXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3Z0YztcclxuICAgICAgICBpZiAodHJhbnNpdGlvbkNsYXNzZXMpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSAodmFsdWVcclxuICAgICAgICAgICAgICAgID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc11cclxuICAgICAgICAgICAgICAgIDogWy4uLnRyYW5zaXRpb25DbGFzc2VzXSkuam9pbignICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbC5jbGFzc05hbWUgPSB2YWx1ZTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcobmV4dCkpIHtcclxuICAgICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gc3R5bGUuZGlzcGxheTtcclxuICAgICAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGF0IHRoZSBgZGlzcGxheWAgb2YgdGhlIGVsZW1lbnQgaXMgY29udHJvbGxlZCBieSBgdi1zaG93YCxcclxuICAgICAgICAgICAgLy8gc28gd2UgYWx3YXlzIGtlZXAgdGhlIGN1cnJlbnQgYGRpc3BsYXlgIHZhbHVlIHJlZ2FyZGxlc3Mgb2YgdGhlIGBzdHlsZWAgdmFsdWUsXHJcbiAgICAgICAgICAgIC8vIHRodXMgaGFuZGluZyBvdmVyIGNvbnRyb2wgdG8gYHYtc2hvd2AuXHJcbiAgICAgICAgICAgIGlmICgnX3ZvZCcgaW4gZWwpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xyXG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJldiAmJiAhaXNTdHJpbmcocHJldikpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XHJcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcclxuICAgICAgICB2YWwuZm9yRWFjaCh2ID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCctLScpKSB7XHJcbiAgICAgICAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUocHJlZml4ZWQpLCB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgJycpLCAnaW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcclxuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcclxuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xyXG4gICAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XHJcbiAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcclxuICAgIH1cclxuICAgIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XHJcbiAgICBpZiAobmFtZSAhPT0gJ2ZpbHRlcicgJiYgbmFtZSBpbiBzdHlsZSkge1xyXG4gICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lKTtcclxuICAgIH1cclxuICAgIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xyXG4gICAgICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByYXdOYW1lO1xyXG59XG5cbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcsIGluc3RhbmNlKSB7XHJcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIG5vdGUgd2UgYXJlIG9ubHkgY2hlY2tpbmcgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhXHJcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkb20gcHJvcCBvZiB0aGUgc2FtZSBuYW1lIGhlcmUuXHJcbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoaXNCb29sZWFuICYmIHZhbHVlID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0Jvb2xlYW4gPyAnJyA6IHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gX19VTlNBRkVfX1xyXG4vLyBmdW5jdGlvbnMuIFRoZSB1c2VyIGlzIHJlc3BvbnNpYmxlIGZvciB1c2luZyB0aGVtIHdpdGggb25seSB0cnVzdGVkIGNvbnRlbnQuXHJcbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgXHJcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcclxuLy8gb3ZlcnJpZGluZyBleGlzdGluZyBWTm9kZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9sZCB0cmVlIG11c3QgYmUgcHJvcGVybHlcclxuLy8gdW5tb3VudGVkLlxyXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xyXG4gICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScgJiYgZWwudGFnTmFtZSAhPT0gJ1BST0dSRVNTJykge1xyXG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cclxuICAgICAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcclxuICAgICAgICBpZiAodmFsdWUgPT09ICcnICYmIHR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICAvLyBlLmcuIDxzZWxlY3QgbXVsdGlwbGU+IGNvbXBpbGVzIHRvIHsgbXVsdGlwbGU6ICcnIH1cclxuICAgICAgICAgICAgZWxba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAvLyBlLmcuIDxkaXYgOmlkPVwibnVsbFwiPlxyXG4gICAgICAgICAgICBlbFtrZXldID0gJyc7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPGltZyA6d2lkdGg9XCJudWxsXCI+XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSAwO1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNvbWUgcHJvcGVydGllcyBwZXJmb3JtIHZhbHVlIHZhbGlkYXRpb24gYW5kIHRocm93XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGVsW2tleV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT46IGAgK1xyXG4gICAgICAgICAgICAgICAgYHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8vIEFzeW5jIGVkZ2UgY2FzZSBmaXggcmVxdWlyZXMgc3RvcmluZyBhbiBldmVudCBsaXN0ZW5lcidzIGF0dGFjaCB0aW1lc3RhbXAuXHJcbmxldCBfZ2V0Tm93ID0gRGF0ZS5ub3c7XHJcbmxldCBza2lwVGltZXN0YW1wQ2hlY2sgPSBmYWxzZTtcclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAvLyBEZXRlcm1pbmUgd2hhdCBldmVudCB0aW1lc3RhbXAgdGhlIGJyb3dzZXIgaXMgdXNpbmcuIEFubm95aW5nbHksIHRoZVxyXG4gICAgLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXNcclxuICAgIC8vIChyZWxhdGl2ZSB0byBVTklYIGVwb2NoKSwgc28gaW4gb3JkZXIgdG8gY29tcGFyZSB0aW1lIHdlIGhhdmUgdG8gdXNlIHRoZVxyXG4gICAgLy8gc2FtZSB0aW1lc3RhbXAgdHlwZSB3aGVuIHNhdmluZyB0aGUgZmx1c2ggdGltZXN0YW1wLlxyXG4gICAgaWYgKF9nZXROb3coKSA+IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLnRpbWVTdGFtcCkge1xyXG4gICAgICAgIC8vIGlmIHRoZSBsb3ctcmVzIHRpbWVzdGFtcCB3aGljaCBpcyBiaWdnZXIgdGhhbiB0aGUgZXZlbnQgdGltZXN0YW1wXHJcbiAgICAgICAgLy8gKHdoaWNoIGlzIGV2YWx1YXRlZCBBRlRFUikgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCxcclxuICAgICAgICAvLyBhbmQgd2UgbmVlZCB0byB1c2UgdGhlIGhpLXJlcyB2ZXJzaW9uIGZvciBldmVudCBsaXN0ZW5lcnMgYXMgd2VsbC5cclxuICAgICAgICBfZ2V0Tm93ID0gKCkgPT4gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICB9XHJcbiAgICAvLyAjMzQ4NTogRmlyZWZveCA8PSA1MyBoYXMgaW5jb3JyZWN0IEV2ZW50LnRpbWVTdGFtcCBpbXBsZW1lbnRhdGlvblxyXG4gICAgLy8gYW5kIGRvZXMgbm90IGZpcmUgbWljcm90YXNrcyBpbiBiZXR3ZWVuIGV2ZW50IHByb3BhZ2F0aW9uLCBzbyBzYWZlIHRvIGV4Y2x1ZGUuXHJcbiAgICBjb25zdCBmZk1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS9pKTtcclxuICAgIHNraXBUaW1lc3RhbXBDaGVjayA9ICEhKGZmTWF0Y2ggJiYgTnVtYmVyKGZmTWF0Y2hbMV0pIDw9IDUzKTtcclxufVxyXG4vLyBUbyBhdm9pZCB0aGUgb3ZlcmhlYWQgb2YgcmVwZWF0ZWRseSBjYWxsaW5nIHBlcmZvcm1hbmNlLm5vdygpLCB3ZSBjYWNoZVxyXG4vLyBhbmQgdXNlIHRoZSBzYW1lIHRpbWVzdGFtcCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZCBpbiB0aGUgc2FtZSB0aWNrLlxyXG5sZXQgY2FjaGVkTm93ID0gMDtcclxuY29uc3QgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5jb25zdCByZXNldCA9ICgpID0+IHtcclxuICAgIGNhY2hlZE5vdyA9IDA7XHJcbn07XHJcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKHJlc2V0KSwgKGNhY2hlZE5vdyA9IF9nZXROb3coKSkpO1xyXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcclxuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcclxuICAgIC8vIHZlaSA9IHZ1ZSBldmVudCBpbnZva2Vyc1xyXG4gICAgY29uc3QgaW52b2tlcnMgPSBlbC5fdmVpIHx8IChlbC5fdmVpID0ge30pO1xyXG4gICAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XHJcbiAgICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xyXG4gICAgICAgIC8vIHBhdGNoXHJcbiAgICAgICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xyXG4gICAgICAgIGlmIChuZXh0VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gYWRkXHJcbiAgICAgICAgICAgIGNvbnN0IGludm9rZXIgPSAoaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKG5leHRWYWx1ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xyXG4gICAgICAgICAgICAvLyByZW1vdmVcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xyXG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xyXG4gICAgbGV0IG9wdGlvbnM7XHJcbiAgICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICBsZXQgbTtcclxuICAgICAgICB3aGlsZSAoKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkpIHtcclxuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtoeXBoZW5hdGUobmFtZS5zbGljZSgyKSksIG9wdGlvbnNdO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XHJcbiAgICAgICAgLy8gYXN5bmMgZWRnZSBjYXNlICM2NTY2OiBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXHJcbiAgICAgICAgLy8gaGFwcGVucyBiZWNhdXNlIGJyb3dzZXJzIGZpcmUgbWljcm90YXNrIHRpY2tzIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24uXHJcbiAgICAgICAgLy8gdGhlIHNvbHV0aW9uIGlzIHNpbXBsZTogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxyXG4gICAgICAgIC8vIGFuZCB0aGUgaGFuZGxlciB3b3VsZCBvbmx5IGZpcmUgaWYgdGhlIGV2ZW50IHBhc3NlZCB0byBpdCB3YXMgZmlyZWRcclxuICAgICAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuXHJcbiAgICAgICAgY29uc3QgdGltZVN0YW1wID0gZS50aW1lU3RhbXAgfHwgX2dldE5vdygpO1xyXG4gICAgICAgIGlmIChza2lwVGltZXN0YW1wQ2hlY2sgfHwgdGltZVN0YW1wID49IGludm9rZXIuYXR0YWNoZWQgLSAxKSB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLCBpbnN0YW5jZSwgNSAvKiBOQVRJVkVfRVZFTlRfSEFORExFUiAqLywgW2VdKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcclxuICAgIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcclxuICAgIHJldHVybiBpbnZva2VyO1xyXG59XHJcbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcclxuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XHJcbiAgICAgICAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmbiA9PiAoZSkgPT4gIWUuX3N0b3BwZWQgJiYgZm4oZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IG5hdGl2ZU9uUkUgPSAvXm9uW2Etel0vO1xyXG5jb25zdCBmb3JjZVBhdGNoUHJvcCA9IChfLCBrZXkpID0+IGtleSA9PT0gJ3ZhbHVlJztcclxuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpc1NWRyA9IGZhbHNlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikgPT4ge1xyXG4gICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAvLyBzcGVjaWFsXHJcbiAgICAgICAgY2FzZSAnY2xhc3MnOlxyXG4gICAgICAgICAgICBwYXRjaENsYXNzKGVsLCBuZXh0VmFsdWUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnc3R5bGUnOlxyXG4gICAgICAgICAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGxpc3RlbmVyc1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRXZlbnQoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaERPTVByb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIDxpbnB1dCB2LW1vZGVsIHR5cGU9XCJjaGVja2JveFwiPiB3aXRoXHJcbiAgICAgICAgICAgICAgICAvLyA6dHJ1ZS12YWx1ZSAmIDpmYWxzZS12YWx1ZVxyXG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgZG9tIHByb3BlcnRpZXMgc2luY2Ugbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZVxyXG4gICAgICAgICAgICAgICAgLy8gc3RyaW5naWZpZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAndHJ1ZS12YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZmFsc2UtdmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuX2ZhbHNlVmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNob3VsZFNldEFzUHJvcChlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgIC8vIG1vc3Qga2V5cyBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGUgb24gc3ZnIGVsZW1lbnRzIHRvIHdvcmtcclxuICAgICAgICAvLyAuLi5leGNlcHQgaW5uZXJIVE1MXHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG9yIG5hdGl2ZSBvbmNsaWNrIHdpdGggZnVuY3Rpb24gdmFsdWVzXHJcbiAgICAgICAgaWYgKGtleSBpbiBlbCAmJiBuYXRpdmVPblJFLnRlc3Qoa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gc3BlbGxjaGVjayBhbmQgZHJhZ2dhYmxlIGFyZSBudW1lcmF0ZWQgYXR0cnMsIGhvd2V2ZXIgdGhlaXJcclxuICAgIC8vIGNvcnJlc3BvbmRpbmcgRE9NIHByb3BlcnRpZXMgYXJlIGFjdHVhbGx5IGJvb2xlYW5zIC0gdGhpcyBsZWFkcyB0b1xyXG4gICAgLy8gc2V0dGluZyBpdCB3aXRoIGEgc3RyaW5nIFwiZmFsc2VcIiB2YWx1ZSBsZWFkaW5nIGl0IHRvIGJlIGNvZXJjZWQgdG9cclxuICAgIC8vIGB0cnVlYCwgc28gd2UgbmVlZCB0byBhbHdheXMgdHJlYXQgdGhlbSBhcyBhdHRyaWJ1dGVzLlxyXG4gICAgLy8gTm90ZSB0aGF0IGBjb250ZW50RWRpdGFibGVgIGRvZXNuJ3QgaGF2ZSB0aGlzIHByb2JsZW06IGl0cyBET01cclxuICAgIC8vIHByb3BlcnR5IGlzIGFsc28gZW51bWVyYXRlZCBzdHJpbmcgdmFsdWVzLlxyXG4gICAgaWYgKGtleSA9PT0gJ3NwZWxsY2hlY2snIHx8IGtleSA9PT0gJ2RyYWdnYWJsZScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMTc4NywgIzI4NDAgZm9ybSBwcm9wZXJ0eSBvbiBmb3JtIGVsZW1lbnRzIGlzIHJlYWRvbmx5IGFuZCBtdXN0IGJlIHNldCBhc1xyXG4gICAgLy8gYXR0cmlidXRlLlxyXG4gICAgaWYgKGtleSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gIzE1MjYgPGlucHV0IGxpc3Q+IG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKGtleSA9PT0gJ2xpc3QnICYmIGVsLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMjc2NiA8dGV4dGFyZWEgdHlwZT4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAoa2V5ID09PSAndHlwZScgJiYgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIG5hdGl2ZSBvbmNsaWNrIHdpdGggc3RyaW5nIHZhbHVlLCBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChuYXRpdmVPblJFLnRlc3Qoa2V5KSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5IGluIGVsO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gJyRzdHlsZScpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClgKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xyXG4gICAgICAgIGlmICghbW9kdWxlcykge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGVzIGluamVjdGVkLmApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xyXG4gICAgICAgIGlmICghbW9kKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXCIke25hbWV9XCIuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBTRkMncyBDU1MgdmFyaWFibGUgaW5qZWN0aW9uIGZlYXR1cmUuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHNldFZhcnMgPSAoKSA9PiBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKTtcclxuICAgIG9uTW91bnRlZCgoKSA9PiB3YXRjaEVmZmVjdChzZXRWYXJzLCB7IGZsdXNoOiAncG9zdCcgfSkpO1xyXG4gICAgb25VcGRhdGVkKHNldFZhcnMpO1xyXG59XHJcbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcclxuICAgICAgICB2bm9kZSA9IHN1c3BlbnNlLmFjdGl2ZUJyYW5jaDtcclxuICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFZhcnNPblZOb2RlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgdmFycyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGRyaWxsIGRvd24gSE9DcyB1bnRpbCBpdCdzIGEgbm9uLWNvbXBvbmVudCB2bm9kZVxyXG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XHJcbiAgICB9XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmIHZub2RlLmVsKSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB2bm9kZS5lbC5zdHlsZTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhcnNba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7XHJcbmNvbnN0IEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xyXG4vLyBET00gVHJhbnNpdGlvbiBpcyBhIGhpZ2hlci1vcmRlci1jb21wb25lbnQgYmFzZWQgb24gdGhlIHBsYXRmb3JtLWFnbm9zdGljXHJcbi8vIGJhc2UgVHJhbnNpdGlvbiBjb21wb25lbnQsIHdpdGggRE9NLXNwZWNpZmljIGxvZ2ljLlxyXG5jb25zdCBUcmFuc2l0aW9uID0gKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cyk7XHJcblRyYW5zaXRpb24uZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbic7XHJcbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XHJcbiAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBjc3M6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxyXG4gICAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlVG9DbGFzczogU3RyaW5nXHJcbn07XHJcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSAoVHJhbnNpdGlvbi5wcm9wcyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBCYXNlVHJhbnNpdGlvbi5wcm9wcywgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpO1xyXG4vKipcclxuICogIzMyMjcgSW5jb21pbmcgaG9va3MgbWF5IGJlIG1lcmdlZCBpbnRvIGFycmF5cyB3aGVuIHdyYXBwaW5nIFRyYW5zaXRpb25cclxuICogd2l0aCBjdXN0b20gSE9Dcy5cclxuICovXHJcbmNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MgPSBbXSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcclxuICAgICAgICBob29rLmZvckVhY2goaCA9PiBoKC4uLmFyZ3MpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhvb2spIHtcclxuICAgICAgICBob29rKC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQ2hlY2sgaWYgYSBob29rIGV4cGVjdHMgYSBjYWxsYmFjayAoMm5kIGFyZyksIHdoaWNoIG1lYW5zIHRoZSB1c2VyXHJcbiAqIGludGVuZHMgdG8gZXhwbGljaXRseSBjb250cm9sIHRoZSBlbmQgb2YgdGhlIHRyYW5zaXRpb24uXHJcbiAqL1xyXG5jb25zdCBoYXNFeHBsaWNpdENhbGxiYWNrID0gKGhvb2spID0+IHtcclxuICAgIHJldHVybiBob29rXHJcbiAgICAgICAgPyBpc0FycmF5KGhvb2spXHJcbiAgICAgICAgICAgID8gaG9vay5zb21lKGggPT4gaC5sZW5ndGggPiAxKVxyXG4gICAgICAgICAgICA6IGhvb2subGVuZ3RoID4gMVxyXG4gICAgICAgIDogZmFsc2U7XHJcbn07XHJcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcclxuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcclxuICAgICAgICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyYXdQcm9wcy5jc3MgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VQcm9wcztcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbmFtZSA9ICd2JywgdHlwZSwgZHVyYXRpb24sIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLCBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLCBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLCBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2AgfSA9IHJhd1Byb3BzO1xyXG4gICAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xyXG4gICAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XHJcbiAgICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcclxuICAgIGNvbnN0IHsgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25MZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLCBvbkFwcGVhciA9IG9uRW50ZXIsIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZCB9ID0gYmFzZVByb3BzO1xyXG4gICAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xyXG4gICAgICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcclxuICAgICAgICAgICAgY2FsbEhvb2soaG9vaywgW2VsLCByZXNvbHZlXSk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xyXG4gICAgICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVFbnRlciwgW2VsXSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25CZWZvcmVBcHBlYXIoZWwpIHtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVBcHBlYXIsIFtlbF0pO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FbnRlcjogbWFrZUVudGVySG9vayhmYWxzZSksXHJcbiAgICAgICAgb25BcHBlYXI6IG1ha2VFbnRlckhvb2sodHJ1ZSksXHJcbiAgICAgICAgb25MZWF2ZShlbCwgZG9uZSkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHNvICotbGVhdmUtZnJvbSBjbGFzc2VzIGltbWVkaWF0ZWx5IHRha2UgZWZmZWN0ICgjMjU5MylcclxuICAgICAgICAgICAgZm9yY2VSZWZsb3coKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmUsIFtlbCwgcmVzb2x2ZV0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hMZWF2ZShlbCk7XHJcbiAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XHJcbiAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBuID0gTnVtYmVyT2YoZHVyYXRpb24pO1xyXG4gICAgICAgIHJldHVybiBbbiwgbl07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XHJcbiAgICBjb25zdCByZXMgPSB0b051bWJlcih2YWwpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcclxuICAgICAgICB2YWxpZGF0ZUR1cmF0aW9uKHJlcyk7XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlRHVyYXRpb24odmFsKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICB3YXJuKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gYCArXHJcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICB3YXJuKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgTmFOIC0gYCArXHJcbiAgICAgICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcclxuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5hZGQoYykpO1xyXG4gICAgKGVsLl92dGMgfHxcclxuICAgICAgICAoZWwuX3Z0YyA9IG5ldyBTZXQoKSkpLmFkZChjbHMpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcclxuICAgIGNvbnN0IHsgX3Z0YyB9ID0gZWw7XHJcbiAgICBpZiAoX3Z0Yykge1xyXG4gICAgICAgIF92dGMuZGVsZXRlKGNscyk7XHJcbiAgICAgICAgaWYgKCFfdnRjLnNpemUpIHtcclxuICAgICAgICAgICAgZWwuX3Z0YyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XHJcbiAgICB9KTtcclxufVxyXG5sZXQgZW5kSWQgPSAwO1xyXG5mdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIGV4cGVjdGVkVHlwZSwgZXhwbGljaXRUaW1lb3V0LCByZXNvbHZlKSB7XHJcbiAgICBjb25zdCBpZCA9IChlbC5fZW5kSWQgPSArK2VuZElkKTtcclxuICAgIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGV4cGxpY2l0VGltZW91dCkge1xyXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmVJZk5vdFN0YWxlLCBleHBsaWNpdFRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyB0eXBlLCB0aW1lb3V0LCBwcm9wQ291bnQgfSA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xyXG4gICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArICdlbmQnO1xyXG4gICAgbGV0IGVuZGVkID0gMDtcclxuICAgIGNvbnN0IGVuZCA9ICgpID0+IHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XHJcbiAgICAgICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xyXG4gICAgICAgICAgICBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHRpbWVvdXQgKyAxKTtcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XHJcbiAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XHJcbiAgICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCBnZXRTdHlsZVByb3BlcnRpZXMgPSAoa2V5KSA9PiAoc3R5bGVzW2tleV0gfHwgJycpLnNwbGl0KCcsICcpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhUUkFOU0lUSU9OICsgJ0RlbGF5Jyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKFRSQU5TSVRJT04gKyAnRHVyYXRpb24nKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhBTklNQVRJT04gKyAnRGVsYXknKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhBTklNQVRJT04gKyAnRHVyYXRpb24nKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcclxuICAgIGxldCB0eXBlID0gbnVsbDtcclxuICAgIGxldCB0aW1lb3V0ID0gMDtcclxuICAgIGxldCBwcm9wQ291bnQgPSAwO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0eXBlID0gVFJBTlNJVElPTjtcclxuICAgICAgICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xyXG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0eXBlID0gQU5JTUFUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcclxuICAgICAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xyXG4gICAgICAgIHR5cGUgPVxyXG4gICAgICAgICAgICB0aW1lb3V0ID4gMFxyXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcclxuICAgICAgICAgICAgICAgICAgICA/IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgICAgICA6IEFOSU1BVElPTlxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIHByb3BDb3VudCA9IHR5cGVcclxuICAgICAgICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxyXG4gICAgICAgIC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8udGVzdChzdHlsZXNbVFJBTlNJVElPTiArICdQcm9wZXJ0eSddKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICB0aW1lb3V0LFxyXG4gICAgICAgIHByb3BDb3VudCxcclxuICAgICAgICBoYXNUcmFuc2Zvcm1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGltZW91dChkZWxheXMsIGR1cmF0aW9ucykge1xyXG4gICAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9ucy5tYXAoKGQsIGkpID0+IHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkpKTtcclxufVxyXG4vLyBPbGQgdmVyc2lvbnMgb2YgQ2hyb21pdW0gKGJlbG93IDYxLjAuMzE2My4xMDApIGZvcm1hdHMgZmxvYXRpbmcgcG9pbnRlclxyXG4vLyBudW1iZXJzIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cclxuLy8gSWYgY29tbWEgaXMgbm90IHJlcGxhY2VkIHdpdGggYSBkb3QsIHRoZSBpbnB1dCB3aWxsIGJlIHJvdW5kZWQgZG93blxyXG4vLyAoaS5lLiBhY3RpbmcgYXMgYSBmbG9vciBmdW5jdGlvbikgY2F1c2luZyB1bmV4cGVjdGVkIGJlaGF2aW9yc1xyXG5mdW5jdGlvbiB0b01zKHMpIHtcclxuICAgIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMDtcclxufVxyXG4vLyBzeW5jaHJvbm91c2x5IGZvcmNlIGxheW91dCB0byBwdXQgZWxlbWVudHMgaW50byBhIGNlcnRhaW4gc3RhdGVcclxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XHJcbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSB7XHJcbiAgICBuYW1lOiAnVHJhbnNpdGlvbkdyb3VwJyxcclxuICAgIHByb3BzOiAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xyXG4gICAgICAgIHRhZzogU3RyaW5nLFxyXG4gICAgICAgIG1vdmVDbGFzczogU3RyaW5nXHJcbiAgICB9KSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XHJcbiAgICAgICAgbGV0IHByZXZDaGlsZHJlbjtcclxuICAgICAgICBsZXQgY2hpbGRyZW47XHJcbiAgICAgICAgb25VcGRhdGVkKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hpbGRyZW4gaXMgZ3VhcmFudGVlZCB0byBleGlzdCBhZnRlciBpbml0aWFsIHJlbmRlclxyXG4gICAgICAgICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCAndid9LW1vdmVgO1xyXG4gICAgICAgICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShwcmV2Q2hpbGRyZW5bMF0uZWwsIGluc3RhbmNlLnZub2RlLmVsLCBtb3ZlQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXHJcbiAgICAgICAgICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgY29uc3QgbW92ZWRDaGlsZHJlbiA9IHByZXZDaGlsZHJlbi5maWx0ZXIoYXBwbHlUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxyXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xyXG4gICAgICAgICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGMuZWw7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYiA9IChlbC5fbW92ZUNiID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgY2IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XHJcbiAgICAgICAgICAgIGxldCB0YWcgPSByYXdQcm9wcy50YWcgfHwgRnJhZ21lbnQ7XHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcHJldkNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoY2hpbGQsIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcclxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xyXG4gICAgY29uc3QgZWwgPSBjLmVsO1xyXG4gICAgaWYgKGVsLl9tb3ZlQ2IpIHtcclxuICAgICAgICBlbC5fbW92ZUNiKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICBlbC5fZW50ZXJDYigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcclxuICAgIG5ld1Bvc2l0aW9uTWFwLnNldChjLCBjLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxufVxyXG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcclxuICAgIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcclxuICAgIGNvbnN0IG5ld1BvcyA9IG5ld1Bvc2l0aW9uTWFwLmdldChjKTtcclxuICAgIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcclxuICAgIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XHJcbiAgICBpZiAoZHggfHwgZHkpIHtcclxuICAgICAgICBjb25zdCBzID0gYy5lbC5zdHlsZTtcclxuICAgICAgICBzLnRyYW5zZm9ybSA9IHMud2Via2l0VHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2R4fXB4LCR7ZHl9cHgpYDtcclxuICAgICAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzQ1NTVHJhbnNmb3JtKGVsLCByb290LCBtb3ZlQ2xhc3MpIHtcclxuICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xyXG4gICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXHJcbiAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXHJcbiAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcclxuICAgIC8vIGlzIGFwcGxpZWQuXHJcbiAgICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xyXG4gICAgaWYgKGVsLl92dGMpIHtcclxuICAgICAgICBlbC5fdnRjLmZvckVhY2goY2xzID0+IHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZShjKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QuYWRkKGMpKTtcclxuICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSAocm9vdC5ub2RlVHlwZSA9PT0gMVxyXG4gICAgICAgID8gcm9vdFxyXG4gICAgICAgIDogcm9vdC5wYXJlbnROb2RlKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xyXG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNsb25lKTtcclxuICAgIHJldHVybiBoYXNUcmFuc2Zvcm07XHJcbn1cblxuY29uc3QgZ2V0TW9kZWxBc3NpZ25lciA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddO1xyXG4gICAgcmV0dXJuIGlzQXJyYXkoZm4pID8gdmFsdWUgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xyXG59O1xyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xyXG4gICAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgaWYgKHRhcmdldC5jb21wb3NpbmcpIHtcclxuICAgICAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsICdpbnB1dCcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIoZWwsIHR5cGUpIHtcclxuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xyXG4gICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xyXG59XHJcbi8vIFdlIGFyZSBleHBvcnRpbmcgdGhlIHYtbW9kZWwgcnVudGltZSBkaXJlY3RseSBhcyB2bm9kZSBob29rcyBzbyB0aGF0IGl0IGNhblxyXG4vLyBiZSB0cmVlLXNoYWtlbiBpbiBjYXNlIHYtbW9kZWwgaXMgbmV2ZXIgdXNlZC5cclxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJztcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gJ2NoYW5nZScgOiAnaW5wdXQnLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYXN0VG9OdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gdG9OdW1iZXIoZG9tVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZG9tVmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGF6eSkge1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgICAgICAvLyBTYWZhcmkgPCAxMC4yICYgVUlXZWJWaWV3IGRvZXNuJ3QgZmlyZSBjb21wb3NpdGlvbmVuZCB3aGVuXHJcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2VcclxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZVxyXG4gICAgICAgICAgICAvLyBmaXJlcyBcImNoYW5nZVwiIGluc3RlYWQgb2YgXCJpbnB1dFwiIG9uIGF1dG9jb21wbGV0ZS5cclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIC8vIGF2b2lkIGNsZWFyaW5nIHVucmVzb2x2ZWQgdGV4dC4gIzIzMDJcclxuICAgICAgICBpZiAoZWwuY29tcG9zaW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJykgJiYgdG9OdW1iZXIoZWwudmFsdWUpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XHJcbiAgICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsLmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbiA9IGVsLl9hc3NpZ247XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBpbmRleCAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLm1vZGVsVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXNzaWduKGNsb25lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ24oZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXHJcbiAgICBtb3VudGVkOiBzZXRDaGVja2VkLFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBzZXRDaGVja2VkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICBlbC5fbW9kZWxWYWx1ZSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCBnZXRDaGVja2JveFZhbHVlKGVsLCB0cnVlKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgdk1vZGVsUmFkaW8gPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihnZXRWYWx1ZShlbCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgY29uc3QgaXNTZXRNb2RlbCA9IGlzU2V0KHZhbHVlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXJcclxuICAgICAgICAgICAgICAgIC5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobykgPT4gbnVtYmVyID8gdG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobykpO1xyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGVsLm11bHRpcGxlXHJcbiAgICAgICAgICAgICAgICA/IGlzU2V0TW9kZWxcclxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBTZXQoc2VsZWN0ZWRWYWwpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFxyXG4gICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFswXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgfSxcclxuICAgIC8vIHNldCB2YWx1ZSBpbiBtb3VudGVkICYgdXBkYXRlZCBiZWNhdXNlIDxzZWxlY3Q+IHJlbGllcyBvbiBpdHMgY2hpbGRyZW5cclxuICAgIC8vIDxvcHRpb24+cy5cclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XHJcbiAgICBjb25zdCBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XHJcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzU2V0KHZhbHVlKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYCArXHJcbiAgICAgICAgICAgICAgICBgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcclxuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XHJcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIG9wdGlvblZhbHVlKSA+IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSlcclxuICAgICAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIH1cclxufVxyXG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgc2V0IHZpYSA6dmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcclxuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xyXG59XHJcbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBmb3IgdHJ1ZS12YWx1ZSBhbmQgZmFsc2UtdmFsdWUgc2V0IHZpYSA6dHJ1ZS12YWx1ZSBvciA6ZmFsc2UtdmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xyXG4gICAgY29uc3Qga2V5ID0gY2hlY2tlZCA/ICdfdHJ1ZVZhbHVlJyA6ICdfZmFsc2VWYWx1ZSc7XHJcbiAgICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XHJcbn1cclxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdjcmVhdGVkJyk7XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ21vdW50ZWQnKTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAnYmVmb3JlVXBkYXRlJyk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICd1cGRhdGVkJyk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcclxuICAgIGxldCBtb2RlbFRvVXNlO1xyXG4gICAgc3dpdGNoIChlbC50YWdOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnU0VMRUNUJzpcclxuICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFNlbGVjdDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxyXG4gICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsVGV4dDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbENoZWNrYm94O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxSYWRpbztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcclxuICAgIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcclxufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXTtcclxuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XHJcbiAgICBzdG9wOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXHJcbiAgICBwcmV2ZW50OiBlID0+IGUucHJldmVudERlZmF1bHQoKSxcclxuICAgIHNlbGY6IGUgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcclxuICAgIGN0cmw6IGUgPT4gIWUuY3RybEtleSxcclxuICAgIHNoaWZ0OiBlID0+ICFlLnNoaWZ0S2V5LFxyXG4gICAgYWx0OiBlID0+ICFlLmFsdEtleSxcclxuICAgIG1ldGE6IGUgPT4gIWUubWV0YUtleSxcclxuICAgIGxlZnQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcclxuICAgIG1pZGRsZTogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxyXG4gICAgcmlnaHQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcclxuICAgIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZShtID0+IGVbYCR7bX1LZXlgXSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKG0pKVxyXG59O1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhNb2RpZmllcnMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkID0gbW9kaWZpZXJHdWFyZHNbbW9kaWZpZXJzW2ldXTtcclxuICAgICAgICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm4oZXZlbnQsIC4uLmFyZ3MpO1xyXG4gICAgfTtcclxufTtcclxuLy8gS2VwdCBmb3IgMi54IGNvbXBhdC5cclxuLy8gTm90ZTogSUUxMSBjb21wYXQgZm9yIGBzcGFjZWJhcmAgYW5kIGBkZWxgIGlzIHJlbW92ZWQgZm9yIG5vdy5cclxuY29uc3Qga2V5TmFtZXMgPSB7XHJcbiAgICBlc2M6ICdlc2NhcGUnLFxyXG4gICAgc3BhY2U6ICcgJyxcclxuICAgIHVwOiAnYXJyb3ctdXAnLFxyXG4gICAgbGVmdDogJ2Fycm93LWxlZnQnLFxyXG4gICAgcmlnaHQ6ICdhcnJvdy1yaWdodCcsXHJcbiAgICBkb3duOiAnYXJyb3ctZG93bicsXHJcbiAgICBkZWxldGU6ICdiYWNrc3BhY2UnXHJcbn07XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghKCdrZXknIGluIGV2ZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XHJcbiAgICAgICAgaWYgKG1vZGlmaWVycy5zb21lKGsgPT4gayA9PT0gZXZlbnRLZXkgfHwga2V5TmFtZXNba10gPT09IGV2ZW50S2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XG5cbmNvbnN0IHZTaG93ID0ge1xyXG4gICAgYmVmb3JlTW91bnQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBlbC5fdm9kID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xyXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX3ZvZCA6ICdub25lJztcclxufVxuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSBleHRlbmQoeyBwYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xyXG4vLyBsYXp5IGNyZWF0ZSB0aGUgcmVuZGVyZXIgLSB0aGlzIG1ha2VzIGNvcmUgcmVuZGVyZXIgbG9naWMgdHJlZS1zaGFrYWJsZVxyXG4vLyBpbiBjYXNlIHRoZSB1c2VyIG9ubHkgaW1wb3J0cyByZWFjdGl2aXR5IHV0aWxpdGllcyBmcm9tIFZ1ZS5cclxubGV0IHJlbmRlcmVyO1xyXG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xyXG5mdW5jdGlvbiBlbnN1cmVSZW5kZXJlcigpIHtcclxuICAgIHJldHVybiByZW5kZXJlciB8fCAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKTtcclxufVxyXG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcclxuICAgIHJlbmRlcmVyID0gZW5hYmxlZEh5ZHJhdGlvblxyXG4gICAgICAgID8gcmVuZGVyZXJcclxuICAgICAgICA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XHJcbiAgICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcclxuICAgIHJldHVybiByZW5kZXJlcjtcclxufVxyXG4vLyB1c2UgZXhwbGljaXQgdHlwZSBjYXN0cyBoZXJlIHRvIGF2b2lkIGltcG9ydCgpIGNhbGxzIGluIHJvbGxlZC11cCBkLnRzXHJcbmNvbnN0IHJlbmRlciA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XHJcbn0pO1xyXG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmh5ZHJhdGUoLi4uYXJncyk7XHJcbn0pO1xyXG5jb25zdCBjcmVhdGVBcHAgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XHJcbiAgICAgICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcclxuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAgICAgICAgIC8vIFJlYXNvbjogcG90ZW50aWFsIGV4ZWN1dGlvbiBvZiBKUyBleHByZXNzaW9ucyBpbiBpbi1ET00gdGVtcGxhdGUuXHJcbiAgICAgICAgICAgIC8vIFRoZSB1c2VyIG11c3QgbWFrZSBzdXJlIHRoZSBpbi1ET00gdGVtcGxhdGUgaXMgdHJ1c3RlZC4gSWYgaXQnc1xyXG4gICAgICAgICAgICAvLyByZW5kZXJlZCBieSB0aGUgc2VydmVyLCB0aGUgdGVtcGxhdGUgc2hvdWxkIG5vdCBjb250YWluIGFueSB1c2VyIGRhdGEuXHJcbiAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNsZWFyIGNvbnRlbnQgYmVmb3JlIG1vdW50aW5nXHJcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgndi1jbG9haycpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgICAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xyXG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCBjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xyXG4gICAgLy8gSW5qZWN0IGBpc05hdGl2ZVRhZ2BcclxuICAgIC8vIHRoaXMgaXMgdXNlZCBmb3IgY29tcG9uZW50IG5hbWUgdmFsaWRhdGlvbiAoZGV2IG9ubHkpXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzTmF0aXZlVGFnJywge1xyXG4gICAgICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpLFxyXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxyXG4gICAgfSk7XHJcbn1cclxuLy8gZGV2IG9ubHlcclxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XHJcbiAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XHJcbiAgICAgICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gYXBwLmNvbmZpZy5pc0N1c3RvbUVsZW1lbnQ7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc0N1c3RvbUVsZW1lbnQnLCB7XHJcbiAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCgpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgY29uZmlnIG9wdGlvbiBpcyBkZXByZWNhdGVkLiBVc2UgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBgICtcclxuICAgICAgICAgICAgYGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIGAgK1xyXG4gICAgICAgICAgICBgU2luY2UgeW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkLCBcXGBjb21waWxlck9wdGlvbnNcXGAgYCArXHJcbiAgICAgICAgICAgIGBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cXG5gICtcclxuICAgICAgICAgICAgYC0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cXG5gICtcclxuICAgICAgICAgICAgYC0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXFxuYCArXHJcbiAgICAgICAgICAgIGAtIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS90cmVlL21haW4vcGFja2FnZXMvcGx1Z2luLXZ1ZSNleGFtcGxlLWZvci1wYXNzaW5nLW9wdGlvbnMtdG8tdnVlY29tcGlsZXItZG9tYDtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2NvbXBpbGVyT3B0aW9ucycsIHtcclxuICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgd2Fybihtc2cpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0KCkge1xyXG4gICAgICAgICAgICAgICAgd2Fybihtc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVzKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBtb3VudCBhcHA6IG1vdW50IHRhcmdldCBzZWxlY3RvciBcIiR7Y29udGFpbmVyfVwiIHJldHVybmVkIG51bGwuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiZcclxuICAgICAgICBjb250YWluZXIubW9kZSA9PT0gJ2Nsb3NlZCcpIHtcclxuICAgICAgICB3YXJuKGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG59XG5cbmV4cG9ydCB7IFRyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCwgY3JlYXRlQXBwLCBjcmVhdGVTU1JBcHAsIGh5ZHJhdGUsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCJjbGFzcyBWZWN0b3IyIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwICkge1xuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXG5cdH1cblxuXHRnZXQgd2lkdGgoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54O1xuXG5cdH1cblxuXHRzZXQgd2lkdGgoIHZhbHVlICkge1xuXG5cdFx0dGhpcy54ID0gdmFsdWU7XG5cblx0fVxuXG5cdGdldCBoZWlnaHQoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy55O1xuXG5cdH1cblxuXHRzZXQgaGVpZ2h0KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMueSA9IHZhbHVlO1xuXG5cdH1cblxuXHRzZXQoIHgsIHkgKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggPSBzY2FsYXI7XG5cdFx0dGhpcy55ID0gc2NhbGFyO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFgoIHggKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFkoIHkgKSB7XG5cblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudCggaW5kZXgsIHZhbHVlICkge1xuXG5cdFx0c3dpdGNoICggaW5kZXggKSB7XG5cblx0XHRcdGNhc2UgMDogdGhpcy54ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB0aGlzLnkgPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldENvbXBvbmVudCggaW5kZXggKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiByZXR1cm4gdGhpcy54O1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gdGhpcy55O1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMueCwgdGhpcy55ICk7XG5cblx0fVxuXG5cdGNvcHkoIHYgKSB7XG5cblx0XHR0aGlzLnggPSB2Lng7XG5cdFx0dGhpcy55ID0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZCggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IyOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ICs9IHYueDtcblx0XHR0aGlzLnkgKz0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxhciggcyApIHtcblxuXHRcdHRoaXMueCArPSBzO1xuXHRcdHRoaXMueSArPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggKyBiLng7XG5cdFx0dGhpcy55ID0gYS55ICsgYi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxlZFZlY3RvciggdiwgcyApIHtcblxuXHRcdHRoaXMueCArPSB2LnggKiBzO1xuXHRcdHRoaXMueSArPSB2LnkgKiBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IyOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54IC09IHYueDtcblx0XHR0aGlzLnkgLT0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YlNjYWxhciggcyApIHtcblxuXHRcdHRoaXMueCAtPSBzO1xuXHRcdHRoaXMueSAtPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YlZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggLSBiLng7XG5cdFx0dGhpcy55ID0gYS55IC0gYi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCB2ICkge1xuXG5cdFx0dGhpcy54ICo9IHYueDtcblx0XHR0aGlzLnkgKj0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggKj0gc2NhbGFyO1xuXHRcdHRoaXMueSAqPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGl2aWRlKCB2ICkge1xuXG5cdFx0dGhpcy54IC89IHYueDtcblx0XHR0aGlzLnkgLz0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpdmlkZVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoIDEgLyBzY2FsYXIgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXgzKCBtICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueTtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5ICsgZVsgNiBdO1xuXHRcdHRoaXMueSA9IGVbIDEgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgNyBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1pbiggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWluKCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWluKCB0aGlzLnksIHYueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1heCggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIHYueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wKCBtaW4sIG1heCApIHtcblxuXHRcdC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluLngsIE1hdGgubWluKCBtYXgueCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluLnksIE1hdGgubWluKCBtYXgueSwgdGhpcy55ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcFNjYWxhciggbWluVmFsLCBtYXhWYWwgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueSApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXBMZW5ndGgoIG1pbiwgbWF4ICkge1xuXG5cdFx0Y29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblxuXHRcdHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggbGVuZ3RoIHx8IDEgKS5tdWx0aXBseVNjYWxhciggTWF0aC5tYXgoIG1pbiwgTWF0aC5taW4oIG1heCwgbGVuZ3RoICkgKSApO1xuXG5cdH1cblxuXHRmbG9vcigpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNlaWwoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLmNlaWwoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGguY2VpbCggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmQoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZFRvWmVybygpIHtcblxuXHRcdHRoaXMueCA9ICggdGhpcy54IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9ICggdGhpcy55IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMueCA9IC0gdGhpcy54O1xuXHRcdHRoaXMueSA9IC0gdGhpcy55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRvdCggdiApIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2Lnk7XG5cblx0fVxuXG5cdGNyb3NzKCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueSAtIHRoaXMueSAqIHYueDtcblxuXHR9XG5cblx0bGVuZ3RoU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKTtcblxuXHR9XG5cblx0bWFuaGF0dGFuTGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggKSArIE1hdGguYWJzKCB0aGlzLnkgKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCB0aGlzLmxlbmd0aCgpIHx8IDEgKTtcblxuXHR9XG5cblx0YW5nbGUoKSB7XG5cblx0XHQvLyBjb21wdXRlcyB0aGUgYW5nbGUgaW4gcmFkaWFucyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBvc2l0aXZlIHgtYXhpc1xuXG5cdFx0Y29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKCAtIHRoaXMueSwgLSB0aGlzLnggKSArIE1hdGguUEk7XG5cblx0XHRyZXR1cm4gYW5nbGU7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKCB2ICkgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSB7XG5cblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHYueCwgZHkgPSB0aGlzLnkgLSB2Lnk7XG5cdFx0cmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuXG5cdH1cblxuXHRtYW5oYXR0YW5EaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggLSB2LnggKSArIE1hdGguYWJzKCB0aGlzLnkgLSB2LnkgKTtcblxuXHR9XG5cblx0c2V0TGVuZ3RoKCBsZW5ndGggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhciggbGVuZ3RoICk7XG5cblx0fVxuXG5cdGxlcnAoIHYsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ICs9ICggdi54IC0gdGhpcy54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgKz0gKCB2LnkgLSB0aGlzLnkgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBWZWN0b3JzKCB2MSwgdjIsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ID0gdjEueCArICggdjIueCAtIHYxLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSA9IHYxLnkgKyAoIHYyLnkgLSB2MS55ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIHYgKSB7XG5cblx0XHRyZXR1cm4gKCAoIHYueCA9PT0gdGhpcy54ICkgJiYgKCB2LnkgPT09IHRoaXMueSApICk7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHR0aGlzLnggPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy55ID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy54O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLnk7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXgsIG9mZnNldCApIHtcblxuXHRcdGlmICggb2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WSggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3RhdGVBcm91bmQoIGNlbnRlciwgYW5nbGUgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIGFuZ2xlICksIHMgPSBNYXRoLnNpbiggYW5nbGUgKTtcblxuXHRcdGNvbnN0IHggPSB0aGlzLnggLSBjZW50ZXIueDtcblx0XHRjb25zdCB5ID0gdGhpcy55IC0gY2VudGVyLnk7XG5cblx0XHR0aGlzLnggPSB4ICogYyAtIHkgKiBzICsgY2VudGVyLng7XG5cdFx0dGhpcy55ID0geCAqIHMgKyB5ICogYyArIGNlbnRlci55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJhbmRvbSgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy55ID0gTWF0aC5yYW5kb20oKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufVxuXG5WZWN0b3IyLnByb3RvdHlwZS5pc1ZlY3RvcjIgPSB0cnVlO1xuXG5leHBvcnQgeyBWZWN0b3IyIH07XG4iLCJjb25zdCBfbHV0ID0gW107XG5cbmZvciAoIGxldCBpID0gMDsgaSA8IDI1NjsgaSArKyApIHtcblxuXHRfbHV0WyBpIF0gPSAoIGkgPCAxNiA/ICcwJyA6ICcnICkgKyAoIGkgKS50b1N0cmluZyggMTYgKTtcblxufVxuXG5sZXQgX3NlZWQgPSAxMjM0NTY3O1xuXG5cbmNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xuY29uc3QgUkFEMkRFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTk2MzEzNiMyMTk2MzEzNlxuZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkge1xuXG5cdGNvbnN0IGQwID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRjb25zdCBkMSA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDtcblx0Y29uc3QgZDIgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdGNvbnN0IGQzID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRjb25zdCB1dWlkID0gX2x1dFsgZDAgJiAweGZmIF0gKyBfbHV0WyBkMCA+PiA4ICYgMHhmZiBdICsgX2x1dFsgZDAgPj4gMTYgJiAweGZmIF0gKyBfbHV0WyBkMCA+PiAyNCAmIDB4ZmYgXSArICctJyArXG5cdFx0XHRfbHV0WyBkMSAmIDB4ZmYgXSArIF9sdXRbIGQxID4+IDggJiAweGZmIF0gKyAnLScgKyBfbHV0WyBkMSA+PiAxNiAmIDB4MGYgfCAweDQwIF0gKyBfbHV0WyBkMSA+PiAyNCAmIDB4ZmYgXSArICctJyArXG5cdFx0XHRfbHV0WyBkMiAmIDB4M2YgfCAweDgwIF0gKyBfbHV0WyBkMiA+PiA4ICYgMHhmZiBdICsgJy0nICsgX2x1dFsgZDIgPj4gMTYgJiAweGZmIF0gKyBfbHV0WyBkMiA+PiAyNCAmIDB4ZmYgXSArXG5cdFx0XHRfbHV0WyBkMyAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDggJiAweGZmIF0gKyBfbHV0WyBkMyA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDI0ICYgMHhmZiBdO1xuXG5cdC8vIC50b1VwcGVyQ2FzZSgpIGhlcmUgZmxhdHRlbnMgY29uY2F0ZW5hdGVkIHN0cmluZ3MgdG8gc2F2ZSBoZWFwIG1lbW9yeSBzcGFjZS5cblx0cmV0dXJuIHV1aWQudG9VcHBlckNhc2UoKTtcblxufVxuXG5mdW5jdGlvbiBjbGFtcCggdmFsdWUsIG1pbiwgbWF4ICkge1xuXG5cdHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCB2YWx1ZSApICk7XG5cbn1cblxuLy8gY29tcHV0ZSBldWNsaWRpYW4gbW9kdWxvIG9mIG0gJSBuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXG5mdW5jdGlvbiBldWNsaWRlYW5Nb2R1bG8oIG4sIG0gKSB7XG5cblx0cmV0dXJuICggKCBuICUgbSApICsgbSApICUgbTtcblxufVxuXG4vLyBMaW5lYXIgbWFwcGluZyBmcm9tIHJhbmdlIDxhMSwgYTI+IHRvIHJhbmdlIDxiMSwgYjI+XG5mdW5jdGlvbiBtYXBMaW5lYXIoIHgsIGExLCBhMiwgYjEsIGIyICkge1xuXG5cdHJldHVybiBiMSArICggeCAtIGExICkgKiAoIGIyIC0gYjEgKSAvICggYTIgLSBhMSApO1xuXG59XG5cbi8vIGh0dHBzOi8vd3d3LmdhbWVkZXYubmV0L3R1dG9yaWFscy9wcm9ncmFtbWluZy9nZW5lcmFsLWFuZC1nYW1lcGxheS1wcm9ncmFtbWluZy9pbnZlcnNlLWxlcnAtYS1zdXBlci11c2VmdWwteWV0LW9mdGVuLW92ZXJsb29rZWQtZnVuY3Rpb24tcjUyMzAvXG5mdW5jdGlvbiBpbnZlcnNlTGVycCggeCwgeSwgdmFsdWUgKSB7XG5cblx0aWYgKCB4ICE9PSB5ICkge1xuXG5cdFx0cmV0dXJuICggdmFsdWUgLSB4ICkgLyAoIHkgLSB4ICk7XG5cblx0XHQgfSBlbHNlIHtcblxuXHRcdHJldHVybiAwO1xuXG5cdFx0IH1cblxufVxuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaW5lYXJfaW50ZXJwb2xhdGlvblxuZnVuY3Rpb24gbGVycCggeCwgeSwgdCApIHtcblxuXHRyZXR1cm4gKCAxIC0gdCApICogeCArIHQgKiB5O1xuXG59XG5cbi8vIGh0dHA6Ly93d3cucm9yeWRyaXNjb2xsLmNvbS8yMDE2LzAzLzA3L2ZyYW1lLXJhdGUtaW5kZXBlbmRlbnQtZGFtcGluZy11c2luZy1sZXJwL1xuZnVuY3Rpb24gZGFtcCggeCwgeSwgbGFtYmRhLCBkdCApIHtcblxuXHRyZXR1cm4gbGVycCggeCwgeSwgMSAtIE1hdGguZXhwKCAtIGxhbWJkYSAqIGR0ICkgKTtcblxufVxuXG4vLyBodHRwczovL3d3dy5kZXNtb3MuY29tL2NhbGN1bGF0b3IvdmNzam55ejd4NFxuZnVuY3Rpb24gcGluZ3BvbmcoIHgsIGxlbmd0aCA9IDEgKSB7XG5cblx0cmV0dXJuIGxlbmd0aCAtIE1hdGguYWJzKCBldWNsaWRlYW5Nb2R1bG8oIHgsIGxlbmd0aCAqIDIgKSAtIGxlbmd0aCApO1xuXG59XG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU21vb3Roc3RlcFxuZnVuY3Rpb24gc21vb3Roc3RlcCggeCwgbWluLCBtYXggKSB7XG5cblx0aWYgKCB4IDw9IG1pbiApIHJldHVybiAwO1xuXHRpZiAoIHggPj0gbWF4ICkgcmV0dXJuIDE7XG5cblx0eCA9ICggeCAtIG1pbiApIC8gKCBtYXggLSBtaW4gKTtcblxuXHRyZXR1cm4geCAqIHggKiAoIDMgLSAyICogeCApO1xuXG59XG5cbmZ1bmN0aW9uIHNtb290aGVyc3RlcCggeCwgbWluLCBtYXggKSB7XG5cblx0aWYgKCB4IDw9IG1pbiApIHJldHVybiAwO1xuXHRpZiAoIHggPj0gbWF4ICkgcmV0dXJuIDE7XG5cblx0eCA9ICggeCAtIG1pbiApIC8gKCBtYXggLSBtaW4gKTtcblxuXHRyZXR1cm4geCAqIHggKiB4ICogKCB4ICogKCB4ICogNiAtIDE1ICkgKyAxMCApO1xuXG59XG5cbi8vIFJhbmRvbSBpbnRlZ2VyIGZyb20gPGxvdywgaGlnaD4gaW50ZXJ2YWxcbmZ1bmN0aW9uIHJhbmRJbnQoIGxvdywgaGlnaCApIHtcblxuXHRyZXR1cm4gbG93ICsgTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggaGlnaCAtIGxvdyArIDEgKSApO1xuXG59XG5cbi8vIFJhbmRvbSBmbG9hdCBmcm9tIDxsb3csIGhpZ2g+IGludGVydmFsXG5mdW5jdGlvbiByYW5kRmxvYXQoIGxvdywgaGlnaCApIHtcblxuXHRyZXR1cm4gbG93ICsgTWF0aC5yYW5kb20oKSAqICggaGlnaCAtIGxvdyApO1xuXG59XG5cbi8vIFJhbmRvbSBmbG9hdCBmcm9tIDwtcmFuZ2UvMiwgcmFuZ2UvMj4gaW50ZXJ2YWxcbmZ1bmN0aW9uIHJhbmRGbG9hdFNwcmVhZCggcmFuZ2UgKSB7XG5cblx0cmV0dXJuIHJhbmdlICogKCAwLjUgLSBNYXRoLnJhbmRvbSgpICk7XG5cbn1cblxuLy8gRGV0ZXJtaW5pc3RpYyBwc2V1ZG8tcmFuZG9tIGZsb2F0IGluIHRoZSBpbnRlcnZhbCBbIDAsIDEgXVxuZnVuY3Rpb24gc2VlZGVkUmFuZG9tKCBzICkge1xuXG5cdGlmICggcyAhPT0gdW5kZWZpbmVkICkgX3NlZWQgPSBzICUgMjE0NzQ4MzY0NztcblxuXHQvLyBQYXJrLU1pbGxlciBhbGdvcml0aG1cblxuXHRfc2VlZCA9IF9zZWVkICogMTY4MDcgJSAyMTQ3NDgzNjQ3O1xuXG5cdHJldHVybiAoIF9zZWVkIC0gMSApIC8gMjE0NzQ4MzY0NjtcblxufVxuXG5mdW5jdGlvbiBkZWdUb1JhZCggZGVncmVlcyApIHtcblxuXHRyZXR1cm4gZGVncmVlcyAqIERFRzJSQUQ7XG5cbn1cblxuZnVuY3Rpb24gcmFkVG9EZWcoIHJhZGlhbnMgKSB7XG5cblx0cmV0dXJuIHJhZGlhbnMgKiBSQUQyREVHO1xuXG59XG5cbmZ1bmN0aW9uIGlzUG93ZXJPZlR3byggdmFsdWUgKSB7XG5cblx0cmV0dXJuICggdmFsdWUgJiAoIHZhbHVlIC0gMSApICkgPT09IDAgJiYgdmFsdWUgIT09IDA7XG5cbn1cblxuZnVuY3Rpb24gY2VpbFBvd2VyT2ZUd28oIHZhbHVlICkge1xuXG5cdHJldHVybiBNYXRoLnBvdyggMiwgTWF0aC5jZWlsKCBNYXRoLmxvZyggdmFsdWUgKSAvIE1hdGguTE4yICkgKTtcblxufVxuXG5mdW5jdGlvbiBmbG9vclBvd2VyT2ZUd28oIHZhbHVlICkge1xuXG5cdHJldHVybiBNYXRoLnBvdyggMiwgTWF0aC5mbG9vciggTWF0aC5sb2coIHZhbHVlICkgLyBNYXRoLkxOMiApICk7XG5cbn1cblxuZnVuY3Rpb24gc2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlciggcSwgYSwgYiwgYywgb3JkZXIgKSB7XG5cblx0Ly8gSW50cmluc2ljIFByb3BlciBFdWxlciBBbmdsZXMgLSBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXVsZXJfYW5nbGVzXG5cblx0Ly8gcm90YXRpb25zIGFyZSBhcHBsaWVkIHRvIHRoZSBheGVzIGluIHRoZSBvcmRlciBzcGVjaWZpZWQgYnkgJ29yZGVyJ1xuXHQvLyByb3RhdGlvbiBieSBhbmdsZSAnYScgaXMgYXBwbGllZCBmaXJzdCwgdGhlbiBieSBhbmdsZSAnYicsIHRoZW4gYnkgYW5nbGUgJ2MnXG5cdC8vIGFuZ2xlcyBhcmUgaW4gcmFkaWFuc1xuXG5cdGNvbnN0IGNvcyA9IE1hdGguY29zO1xuXHRjb25zdCBzaW4gPSBNYXRoLnNpbjtcblxuXHRjb25zdCBjMiA9IGNvcyggYiAvIDIgKTtcblx0Y29uc3QgczIgPSBzaW4oIGIgLyAyICk7XG5cblx0Y29uc3QgYzEzID0gY29zKCAoIGEgKyBjICkgLyAyICk7XG5cdGNvbnN0IHMxMyA9IHNpbiggKCBhICsgYyApIC8gMiApO1xuXG5cdGNvbnN0IGMxXzMgPSBjb3MoICggYSAtIGMgKSAvIDIgKTtcblx0Y29uc3QgczFfMyA9IHNpbiggKCBhIC0gYyApIC8gMiApO1xuXG5cdGNvbnN0IGMzXzEgPSBjb3MoICggYyAtIGEgKSAvIDIgKTtcblx0Y29uc3QgczNfMSA9IHNpbiggKCBjIC0gYSApIC8gMiApO1xuXG5cdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0Y2FzZSAnWFlYJzpcblx0XHRcdHEuc2V0KCBjMiAqIHMxMywgczIgKiBjMV8zLCBzMiAqIHMxXzMsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1laWSc6XG5cdFx0XHRxLnNldCggczIgKiBzMV8zLCBjMiAqIHMxMywgczIgKiBjMV8zLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdaWFonOlxuXHRcdFx0cS5zZXQoIHMyICogYzFfMywgczIgKiBzMV8zLCBjMiAqIHMxMywgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnWFpYJzpcblx0XHRcdHEuc2V0KCBjMiAqIHMxMywgczIgKiBzM18xLCBzMiAqIGMzXzEsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1lYWSc6XG5cdFx0XHRxLnNldCggczIgKiBjM18xLCBjMiAqIHMxMywgczIgKiBzM18xLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdaWVonOlxuXHRcdFx0cS5zZXQoIHMyICogczNfMSwgczIgKiBjM18xLCBjMiAqIHMxMywgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk1hdGhVdGlsczogLnNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHR9XG5cbn1cblxuXG5cblxuZXhwb3J0IHtcblx0REVHMlJBRCxcblx0UkFEMkRFRyxcblx0Z2VuZXJhdGVVVUlELFxuXHRjbGFtcCxcblx0ZXVjbGlkZWFuTW9kdWxvLFxuXHRtYXBMaW5lYXIsXG5cdGludmVyc2VMZXJwLFxuXHRsZXJwLFxuXHRkYW1wLFxuXHRwaW5ncG9uZyxcblx0c21vb3Roc3RlcCxcblx0c21vb3RoZXJzdGVwLFxuXHRyYW5kSW50LFxuXHRyYW5kRmxvYXQsXG5cdHJhbmRGbG9hdFNwcmVhZCxcblx0c2VlZGVkUmFuZG9tLFxuXHRkZWdUb1JhZCxcblx0cmFkVG9EZWcsXG5cdGlzUG93ZXJPZlR3byxcblx0Y2VpbFBvd2VyT2ZUd28sXG5cdGZsb29yUG93ZXJPZlR3byxcblx0c2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlcixcbn07XG4iLCJpbXBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jbGFzcyBRdWF0ZXJuaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl93ID0gdztcblxuXHR9XG5cblx0c3RhdGljIHNsZXJwKCBxYSwgcWIsIHFtLCB0ICkge1xuXG5cdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogU3RhdGljIC5zbGVycCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBxbS5zbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKSBpbnN0ZWFkLicgKTtcblx0XHRyZXR1cm4gcW0uc2xlcnBRdWF0ZXJuaW9ucyggcWEsIHFiLCB0ICk7XG5cblx0fVxuXG5cdHN0YXRpYyBzbGVycEZsYXQoIGRzdCwgZHN0T2Zmc2V0LCBzcmMwLCBzcmNPZmZzZXQwLCBzcmMxLCBzcmNPZmZzZXQxLCB0ICkge1xuXG5cdFx0Ly8gZnV6ei1mcmVlLCBhcnJheS1iYXNlZCBRdWF0ZXJuaW9uIFNMRVJQIG9wZXJhdGlvblxuXG5cdFx0bGV0IHgwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDAgXSxcblx0XHRcdHkwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDEgXSxcblx0XHRcdHowID0gc3JjMFsgc3JjT2Zmc2V0MCArIDIgXSxcblx0XHRcdHcwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDMgXTtcblxuXHRcdGNvbnN0IHgxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDAgXSxcblx0XHRcdHkxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDEgXSxcblx0XHRcdHoxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDIgXSxcblx0XHRcdHcxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDMgXTtcblxuXHRcdGlmICggdCA9PT0gMCApIHtcblxuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAwIF0gPSB4MDtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMSBdID0geTA7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHowO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MDtcblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdGlmICggdCA9PT0gMSApIHtcblxuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAwIF0gPSB4MTtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMSBdID0geTE7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHoxO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MTtcblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdGlmICggdzAgIT09IHcxIHx8IHgwICE9PSB4MSB8fCB5MCAhPT0geTEgfHwgejAgIT09IHoxICkge1xuXG5cdFx0XHRsZXQgcyA9IDEgLSB0O1xuXHRcdFx0Y29uc3QgY29zID0geDAgKiB4MSArIHkwICogeTEgKyB6MCAqIHoxICsgdzAgKiB3MSxcblx0XHRcdFx0ZGlyID0gKCBjb3MgPj0gMCA/IDEgOiAtIDEgKSxcblx0XHRcdFx0c3FyU2luID0gMSAtIGNvcyAqIGNvcztcblxuXHRcdFx0Ly8gU2tpcCB0aGUgU2xlcnAgZm9yIHRpbnkgc3RlcHMgdG8gYXZvaWQgbnVtZXJpYyBwcm9ibGVtczpcblx0XHRcdGlmICggc3FyU2luID4gTnVtYmVyLkVQU0lMT04gKSB7XG5cblx0XHRcdFx0Y29uc3Qgc2luID0gTWF0aC5zcXJ0KCBzcXJTaW4gKSxcblx0XHRcdFx0XHRsZW4gPSBNYXRoLmF0YW4yKCBzaW4sIGNvcyAqIGRpciApO1xuXG5cdFx0XHRcdHMgPSBNYXRoLnNpbiggcyAqIGxlbiApIC8gc2luO1xuXHRcdFx0XHR0ID0gTWF0aC5zaW4oIHQgKiBsZW4gKSAvIHNpbjtcblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0RGlyID0gdCAqIGRpcjtcblxuXHRcdFx0eDAgPSB4MCAqIHMgKyB4MSAqIHREaXI7XG5cdFx0XHR5MCA9IHkwICogcyArIHkxICogdERpcjtcblx0XHRcdHowID0gejAgKiBzICsgejEgKiB0RGlyO1xuXHRcdFx0dzAgPSB3MCAqIHMgKyB3MSAqIHREaXI7XG5cblx0XHRcdC8vIE5vcm1hbGl6ZSBpbiBjYXNlIHdlIGp1c3QgZGlkIGEgbGVycDpcblx0XHRcdGlmICggcyA9PT0gMSAtIHQgKSB7XG5cblx0XHRcdFx0Y29uc3QgZiA9IDEgLyBNYXRoLnNxcnQoIHgwICogeDAgKyB5MCAqIHkwICsgejAgKiB6MCArIHcwICogdzAgKTtcblxuXHRcdFx0XHR4MCAqPSBmO1xuXHRcdFx0XHR5MCAqPSBmO1xuXHRcdFx0XHR6MCAqPSBmO1xuXHRcdFx0XHR3MCAqPSBmO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRkc3RbIGRzdE9mZnNldCBdID0geDA7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MDtcblx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHowO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMyBdID0gdzA7XG5cblx0fVxuXG5cdHN0YXRpYyBtdWx0aXBseVF1YXRlcm5pb25zRmxhdCggZHN0LCBkc3RPZmZzZXQsIHNyYzAsIHNyY09mZnNldDAsIHNyYzEsIHNyY09mZnNldDEgKSB7XG5cblx0XHRjb25zdCB4MCA9IHNyYzBbIHNyY09mZnNldDAgXTtcblx0XHRjb25zdCB5MCA9IHNyYzBbIHNyY09mZnNldDAgKyAxIF07XG5cdFx0Y29uc3QgejAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMiBdO1xuXHRcdGNvbnN0IHcwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDMgXTtcblxuXHRcdGNvbnN0IHgxID0gc3JjMVsgc3JjT2Zmc2V0MSBdO1xuXHRcdGNvbnN0IHkxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDEgXTtcblx0XHRjb25zdCB6MSA9IHNyYzFbIHNyY09mZnNldDEgKyAyIF07XG5cdFx0Y29uc3QgdzEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMyBdO1xuXG5cdFx0ZHN0WyBkc3RPZmZzZXQgXSA9IHgwICogdzEgKyB3MCAqIHgxICsgeTAgKiB6MSAtIHowICogeTE7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MCAqIHcxICsgdzAgKiB5MSArIHowICogeDEgLSB4MCAqIHoxO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejAgKiB3MSArIHcwICogejEgKyB4MCAqIHkxIC0geTAgKiB4MTtcblx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcwICogdzEgLSB4MCAqIHgxIC0geTAgKiB5MSAtIHowICogejE7XG5cblx0XHRyZXR1cm4gZHN0O1xuXG5cdH1cblxuXHRnZXQgeCgpIHtcblxuXHRcdHJldHVybiB0aGlzLl94O1xuXG5cdH1cblxuXHRzZXQgeCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl94ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeSgpIHtcblxuXHRcdHJldHVybiB0aGlzLl95O1xuXG5cdH1cblxuXHRzZXQgeSggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl95ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeigpIHtcblxuXHRcdHJldHVybiB0aGlzLl96O1xuXG5cdH1cblxuXHRzZXQgeiggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl96ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgdygpIHtcblxuXHRcdHJldHVybiB0aGlzLl93O1xuXG5cdH1cblxuXHRzZXQgdyggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl93ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRzZXQoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl93ID0gdztcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiwgdGhpcy5fdyApO1xuXG5cdH1cblxuXHRjb3B5KCBxdWF0ZXJuaW9uICkge1xuXG5cdFx0dGhpcy5feCA9IHF1YXRlcm5pb24ueDtcblx0XHR0aGlzLl95ID0gcXVhdGVybmlvbi55O1xuXHRcdHRoaXMuX3ogPSBxdWF0ZXJuaW9uLno7XG5cdFx0dGhpcy5fdyA9IHF1YXRlcm5pb24udztcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tRXVsZXIoIGV1bGVyLCB1cGRhdGUgKSB7XG5cblx0XHRpZiAoICEgKCBldWxlciAmJiBldWxlci5pc0V1bGVyICkgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHggPSBldWxlci5feCwgeSA9IGV1bGVyLl95LCB6ID0gZXVsZXIuX3osIG9yZGVyID0gZXVsZXIuX29yZGVyO1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlL1xuXHRcdC8vIFx0MjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvXG5cdFx0Ly9cdGNvbnRlbnQvU3BpbkNhbGMubVxuXG5cdFx0Y29uc3QgY29zID0gTWF0aC5jb3M7XG5cdFx0Y29uc3Qgc2luID0gTWF0aC5zaW47XG5cblx0XHRjb25zdCBjMSA9IGNvcyggeCAvIDIgKTtcblx0XHRjb25zdCBjMiA9IGNvcyggeSAvIDIgKTtcblx0XHRjb25zdCBjMyA9IGNvcyggeiAvIDIgKTtcblxuXHRcdGNvbnN0IHMxID0gc2luKCB4IC8gMiApO1xuXHRcdGNvbnN0IHMyID0gc2luKCB5IC8gMiApO1xuXHRcdGNvbnN0IHMzID0gc2luKCB6IC8gMiApO1xuXG5cdFx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRcdGNhc2UgJ1hZWic6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWFonOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWlhZJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pZWCc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWlgnOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWFpZJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggdXBkYXRlICE9PSBmYWxzZSApIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApIHtcblxuXHRcdC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuXHRcdC8vIGFzc3VtZXMgYXhpcyBpcyBub3JtYWxpemVkXG5cblx0XHRjb25zdCBoYWxmQW5nbGUgPSBhbmdsZSAvIDIsIHMgPSBNYXRoLnNpbiggaGFsZkFuZ2xlICk7XG5cblx0XHR0aGlzLl94ID0gYXhpcy54ICogcztcblx0XHR0aGlzLl95ID0gYXhpcy55ICogcztcblx0XHR0aGlzLl96ID0gYXhpcy56ICogcztcblx0XHR0aGlzLl93ID0gTWF0aC5jb3MoIGhhbGZBbmdsZSApO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Sb3RhdGlvbk1hdHJpeCggbSApIHtcblxuXHRcdC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9tYXRyaXhUb1F1YXRlcm5pb24vaW5kZXguaHRtXG5cblx0XHQvLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKVxuXG5cdFx0Y29uc3QgdGUgPSBtLmVsZW1lbnRzLFxuXG5cdFx0XHRtMTEgPSB0ZVsgMCBdLCBtMTIgPSB0ZVsgNCBdLCBtMTMgPSB0ZVsgOCBdLFxuXHRcdFx0bTIxID0gdGVbIDEgXSwgbTIyID0gdGVbIDUgXSwgbTIzID0gdGVbIDkgXSxcblx0XHRcdG0zMSA9IHRlWyAyIF0sIG0zMiA9IHRlWyA2IF0sIG0zMyA9IHRlWyAxMCBdLFxuXG5cdFx0XHR0cmFjZSA9IG0xMSArIG0yMiArIG0zMztcblxuXHRcdGlmICggdHJhY2UgPiAwICkge1xuXG5cdFx0XHRjb25zdCBzID0gMC41IC8gTWF0aC5zcXJ0KCB0cmFjZSArIDEuMCApO1xuXG5cdFx0XHR0aGlzLl93ID0gMC4yNSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gKCBtMzIgLSBtMjMgKSAqIHM7XG5cdFx0XHR0aGlzLl95ID0gKCBtMTMgLSBtMzEgKSAqIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMjEgLSBtMTIgKSAqIHM7XG5cblx0XHR9IGVsc2UgaWYgKCBtMTEgPiBtMjIgJiYgbTExID4gbTMzICkge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMTEgLSBtMjIgLSBtMzMgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTMyIC0gbTIzICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9IDAuMjUgKiBzO1xuXHRcdFx0dGhpcy5feSA9ICggbTEyICsgbTIxICkgLyBzO1xuXHRcdFx0dGhpcy5feiA9ICggbTEzICsgbTMxICkgLyBzO1xuXG5cdFx0fSBlbHNlIGlmICggbTIyID4gbTMzICkge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMjIgLSBtMTEgLSBtMzMgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTEzIC0gbTMxICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9ICggbTEyICsgbTIxICkgLyBzO1xuXHRcdFx0dGhpcy5feSA9IDAuMjUgKiBzO1xuXHRcdFx0dGhpcy5feiA9ICggbTIzICsgbTMyICkgLyBzO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTMzIC0gbTExIC0gbTIyICk7XG5cblx0XHRcdHRoaXMuX3cgPSAoIG0yMSAtIG0xMiApIC8gcztcblx0XHRcdHRoaXMuX3ggPSAoIG0xMyArIG0zMSApIC8gcztcblx0XHRcdHRoaXMuX3kgPSAoIG0yMyArIG0zMiApIC8gcztcblx0XHRcdHRoaXMuX3ogPSAwLjI1ICogcztcblxuXHRcdH1cblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tVW5pdFZlY3RvcnMoIHZGcm9tLCB2VG8gKSB7XG5cblx0XHQvLyBhc3N1bWVzIGRpcmVjdGlvbiB2ZWN0b3JzIHZGcm9tIGFuZCB2VG8gYXJlIG5vcm1hbGl6ZWRcblxuXHRcdGxldCByID0gdkZyb20uZG90KCB2VG8gKSArIDE7XG5cblx0XHRpZiAoIHIgPCBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0Ly8gdkZyb20gYW5kIHZUbyBwb2ludCBpbiBvcHBvc2l0ZSBkaXJlY3Rpb25zXG5cblx0XHRcdHIgPSAwO1xuXG5cdFx0XHRpZiAoIE1hdGguYWJzKCB2RnJvbS54ICkgPiBNYXRoLmFicyggdkZyb20ueiApICkge1xuXG5cdFx0XHRcdHRoaXMuX3ggPSAtIHZGcm9tLnk7XG5cdFx0XHRcdHRoaXMuX3kgPSB2RnJvbS54O1xuXHRcdFx0XHR0aGlzLl96ID0gMDtcblx0XHRcdFx0dGhpcy5fdyA9IHI7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0dGhpcy5feCA9IDA7XG5cdFx0XHRcdHRoaXMuX3kgPSAtIHZGcm9tLno7XG5cdFx0XHRcdHRoaXMuX3ogPSB2RnJvbS55O1xuXHRcdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gY3Jvc3NWZWN0b3JzKCB2RnJvbSwgdlRvICk7IC8vIGlubGluZWQgdG8gYXZvaWQgY3ljbGljIGRlcGVuZGVuY3kgb24gVmVjdG9yM1xuXG5cdFx0XHR0aGlzLl94ID0gdkZyb20ueSAqIHZUby56IC0gdkZyb20ueiAqIHZUby55O1xuXHRcdFx0dGhpcy5feSA9IHZGcm9tLnogKiB2VG8ueCAtIHZGcm9tLnggKiB2VG8uejtcblx0XHRcdHRoaXMuX3ogPSB2RnJvbS54ICogdlRvLnkgLSB2RnJvbS55ICogdlRvLng7XG5cdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRhbmdsZVRvKCBxICkge1xuXG5cdFx0cmV0dXJuIDIgKiBNYXRoLmFjb3MoIE1hdGguYWJzKCBNYXRoVXRpbHMuY2xhbXAoIHRoaXMuZG90KCBxICksIC0gMSwgMSApICkgKTtcblxuXHR9XG5cblx0cm90YXRlVG93YXJkcyggcSwgc3RlcCApIHtcblxuXHRcdGNvbnN0IGFuZ2xlID0gdGhpcy5hbmdsZVRvKCBxICk7XG5cblx0XHRpZiAoIGFuZ2xlID09PSAwICkgcmV0dXJuIHRoaXM7XG5cblx0XHRjb25zdCB0ID0gTWF0aC5taW4oIDEsIHN0ZXAgLyBhbmdsZSApO1xuXG5cdFx0dGhpcy5zbGVycCggcSwgdCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwLCAxICk7XG5cblx0fVxuXG5cdGludmVydCgpIHtcblxuXHRcdC8vIHF1YXRlcm5pb24gaXMgYXNzdW1lZCB0byBoYXZlIHVuaXQgbGVuZ3RoXG5cblx0XHRyZXR1cm4gdGhpcy5jb25qdWdhdGUoKTtcblxuXHR9XG5cblx0Y29uanVnYXRlKCkge1xuXG5cdFx0dGhpcy5feCAqPSAtIDE7XG5cdFx0dGhpcy5feSAqPSAtIDE7XG5cdFx0dGhpcy5feiAqPSAtIDE7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZG90KCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3ggKiB2Ll94ICsgdGhpcy5feSAqIHYuX3kgKyB0aGlzLl96ICogdi5feiArIHRoaXMuX3cgKiB2Ll93O1xuXG5cdH1cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdztcblxuXHR9XG5cblx0bGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5feCAqIHRoaXMuX3ggKyB0aGlzLl95ICogdGhpcy5feSArIHRoaXMuX3ogKiB0aGlzLl96ICsgdGhpcy5fdyAqIHRoaXMuX3cgKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0bGV0IGwgPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0aWYgKCBsID09PSAwICkge1xuXG5cdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdHRoaXMuX3kgPSAwO1xuXHRcdFx0dGhpcy5feiA9IDA7XG5cdFx0XHR0aGlzLl93ID0gMTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGwgPSAxIC8gbDtcblxuXHRcdFx0dGhpcy5feCA9IHRoaXMuX3ggKiBsO1xuXHRcdFx0dGhpcy5feSA9IHRoaXMuX3kgKiBsO1xuXHRcdFx0dGhpcy5feiA9IHRoaXMuX3ogKiBsO1xuXHRcdFx0dGhpcy5fdyA9IHRoaXMuX3cgKiBsO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCBxLCBwICkge1xuXG5cdFx0aWYgKCBwICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHEsIHAgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHRoaXMsIHEgKTtcblxuXHR9XG5cblx0cHJlbXVsdGlwbHkoIHEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKCBxLCB0aGlzICk7XG5cblx0fVxuXG5cdG11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSB7XG5cblx0XHQvLyBmcm9tIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvcmVhbE5vcm1lZEFsZ2VicmEvcXVhdGVybmlvbnMvY29kZS9pbmRleC5odG1cblxuXHRcdGNvbnN0IHFheCA9IGEuX3gsIHFheSA9IGEuX3ksIHFheiA9IGEuX3osIHFhdyA9IGEuX3c7XG5cdFx0Y29uc3QgcWJ4ID0gYi5feCwgcWJ5ID0gYi5feSwgcWJ6ID0gYi5feiwgcWJ3ID0gYi5fdztcblxuXHRcdHRoaXMuX3ggPSBxYXggKiBxYncgKyBxYXcgKiBxYnggKyBxYXkgKiBxYnogLSBxYXogKiBxYnk7XG5cdFx0dGhpcy5feSA9IHFheSAqIHFidyArIHFhdyAqIHFieSArIHFheiAqIHFieCAtIHFheCAqIHFiejtcblx0XHR0aGlzLl96ID0gcWF6ICogcWJ3ICsgcWF3ICogcWJ6ICsgcWF4ICogcWJ5IC0gcWF5ICogcWJ4O1xuXHRcdHRoaXMuX3cgPSBxYXcgKiBxYncgLSBxYXggKiBxYnggLSBxYXkgKiBxYnkgLSBxYXogKiBxYno7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2xlcnAoIHFiLCB0ICkge1xuXG5cdFx0aWYgKCB0ID09PSAwICkgcmV0dXJuIHRoaXM7XG5cdFx0aWYgKCB0ID09PSAxICkgcmV0dXJuIHRoaXMuY29weSggcWIgKTtcblxuXHRcdGNvbnN0IHggPSB0aGlzLl94LCB5ID0gdGhpcy5feSwgeiA9IHRoaXMuX3osIHcgPSB0aGlzLl93O1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9zbGVycC9cblxuXHRcdGxldCBjb3NIYWxmVGhldGEgPSB3ICogcWIuX3cgKyB4ICogcWIuX3ggKyB5ICogcWIuX3kgKyB6ICogcWIuX3o7XG5cblx0XHRpZiAoIGNvc0hhbGZUaGV0YSA8IDAgKSB7XG5cblx0XHRcdHRoaXMuX3cgPSAtIHFiLl93O1xuXHRcdFx0dGhpcy5feCA9IC0gcWIuX3g7XG5cdFx0XHR0aGlzLl95ID0gLSBxYi5feTtcblx0XHRcdHRoaXMuX3ogPSAtIHFiLl96O1xuXG5cdFx0XHRjb3NIYWxmVGhldGEgPSAtIGNvc0hhbGZUaGV0YTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRoaXMuY29weSggcWIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggY29zSGFsZlRoZXRhID49IDEuMCApIHtcblxuXHRcdFx0dGhpcy5fdyA9IHc7XG5cdFx0XHR0aGlzLl94ID0geDtcblx0XHRcdHRoaXMuX3kgPSB5O1xuXHRcdFx0dGhpcy5feiA9IHo7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3FyU2luSGFsZlRoZXRhID0gMS4wIC0gY29zSGFsZlRoZXRhICogY29zSGFsZlRoZXRhO1xuXG5cdFx0aWYgKCBzcXJTaW5IYWxmVGhldGEgPD0gTnVtYmVyLkVQU0lMT04gKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAxIC0gdDtcblx0XHRcdHRoaXMuX3cgPSBzICogdyArIHQgKiB0aGlzLl93O1xuXHRcdFx0dGhpcy5feCA9IHMgKiB4ICsgdCAqIHRoaXMuX3g7XG5cdFx0XHR0aGlzLl95ID0gcyAqIHkgKyB0ICogdGhpcy5feTtcblx0XHRcdHRoaXMuX3ogPSBzICogeiArIHQgKiB0aGlzLl96O1xuXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xuXHRcdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdH1cblxuXHRcdGNvbnN0IHNpbkhhbGZUaGV0YSA9IE1hdGguc3FydCggc3FyU2luSGFsZlRoZXRhICk7XG5cdFx0Y29uc3QgaGFsZlRoZXRhID0gTWF0aC5hdGFuMiggc2luSGFsZlRoZXRhLCBjb3NIYWxmVGhldGEgKTtcblx0XHRjb25zdCByYXRpb0EgPSBNYXRoLnNpbiggKCAxIC0gdCApICogaGFsZlRoZXRhICkgLyBzaW5IYWxmVGhldGEsXG5cdFx0XHRyYXRpb0IgPSBNYXRoLnNpbiggdCAqIGhhbGZUaGV0YSApIC8gc2luSGFsZlRoZXRhO1xuXG5cdFx0dGhpcy5fdyA9ICggdyAqIHJhdGlvQSArIHRoaXMuX3cgKiByYXRpb0IgKTtcblx0XHR0aGlzLl94ID0gKCB4ICogcmF0aW9BICsgdGhpcy5feCAqIHJhdGlvQiApO1xuXHRcdHRoaXMuX3kgPSAoIHkgKiByYXRpb0EgKyB0aGlzLl95ICogcmF0aW9CICk7XG5cdFx0dGhpcy5feiA9ICggeiAqIHJhdGlvQSArIHRoaXMuX3ogKiByYXRpb0IgKTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKSB7XG5cblx0XHR0aGlzLmNvcHkoIHFhICkuc2xlcnAoIHFiLCB0ICk7XG5cblx0fVxuXG5cdGVxdWFscyggcXVhdGVybmlvbiApIHtcblxuXHRcdHJldHVybiAoIHF1YXRlcm5pb24uX3ggPT09IHRoaXMuX3ggKSAmJiAoIHF1YXRlcm5pb24uX3kgPT09IHRoaXMuX3kgKSAmJiAoIHF1YXRlcm5pb24uX3ogPT09IHRoaXMuX3ogKSAmJiAoIHF1YXRlcm5pb24uX3cgPT09IHRoaXMuX3cgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMuX3ggPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy5feSA9IGFycmF5WyBvZmZzZXQgKyAxIF07XG5cdFx0dGhpcy5feiA9IGFycmF5WyBvZmZzZXQgKyAyIF07XG5cdFx0dGhpcy5fdyA9IGFycmF5WyBvZmZzZXQgKyAzIF07XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMuX3g7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuX3k7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuX3o7XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRoaXMuX3c7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXggKSB7XG5cblx0XHR0aGlzLl94ID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy5feSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXHRcdHRoaXMuX3ogPSBhdHRyaWJ1dGUuZ2V0WiggaW5kZXggKTtcblx0XHR0aGlzLl93ID0gYXR0cmlidXRlLmdldFcoIGluZGV4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0X29uQ2hhbmdlKCBjYWxsYmFjayApIHtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRfb25DaGFuZ2VDYWxsYmFjaygpIHt9XG5cbn1cblxuUXVhdGVybmlvbi5wcm90b3R5cGUuaXNRdWF0ZXJuaW9uID0gdHJ1ZTtcblxuZXhwb3J0IHsgUXVhdGVybmlvbiB9O1xuIiwiaW1wb3J0ICogYXMgTWF0aFV0aWxzIGZyb20gJy4vTWF0aFV0aWxzLmpzJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24uanMnO1xuXG5jbGFzcyBWZWN0b3IzIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSB6O1xuXG5cdH1cblxuXHRzZXQoIHgsIHksIHogKSB7XG5cblx0XHRpZiAoIHogPT09IHVuZGVmaW5lZCApIHogPSB0aGlzLno7IC8vIHNwcml0ZS5zY2FsZS5zZXQoeCx5KVxuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMueiA9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggPSBzY2FsYXI7XG5cdFx0dGhpcy55ID0gc2NhbGFyO1xuXHRcdHRoaXMueiA9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRYKCB4ICkge1xuXG5cdFx0dGhpcy54ID0geDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRZKCB5ICkge1xuXG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRaKCB6ICkge1xuXG5cdFx0dGhpcy56ID0gejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb21wb25lbnQoIGluZGV4LCB2YWx1ZSApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHRoaXMueCA9IHZhbHVlOyBicmVhaztcblx0XHRcdGNhc2UgMTogdGhpcy55ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOiB0aGlzLnogPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldENvbXBvbmVudCggaW5kZXggKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiByZXR1cm4gdGhpcy54O1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gdGhpcy55O1xuXHRcdFx0Y2FzZSAyOiByZXR1cm4gdGhpcy56O1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMueCwgdGhpcy55LCB0aGlzLnogKTtcblxuXHR9XG5cblx0Y29weSggdiApIHtcblxuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cdFx0dGhpcy56ID0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZCggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ICs9IHYueDtcblx0XHR0aGlzLnkgKz0gdi55O1xuXHRcdHRoaXMueiArPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHM7XG5cdFx0dGhpcy55ICs9IHM7XG5cdFx0dGhpcy56ICs9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCArIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKyBiLnk7XG5cdFx0dGhpcy56ID0gYS56ICsgYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxlZFZlY3RvciggdiwgcyApIHtcblxuXHRcdHRoaXMueCArPSB2LnggKiBzO1xuXHRcdHRoaXMueSArPSB2LnkgKiBzO1xuXHRcdHRoaXMueiArPSB2LnogKiBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54IC09IHYueDtcblx0XHR0aGlzLnkgLT0gdi55O1xuXHRcdHRoaXMueiAtPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54IC09IHM7XG5cdFx0dGhpcy55IC09IHM7XG5cdFx0dGhpcy56IC09IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAtIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgLSBiLnk7XG5cdFx0dGhpcy56ID0gYS56IC0gYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKj0gdi54O1xuXHRcdHRoaXMueSAqPSB2Lnk7XG5cdFx0dGhpcy56ICo9IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy54ICo9IHNjYWxhcjtcblx0XHR0aGlzLnkgKj0gc2NhbGFyO1xuXHRcdHRoaXMueiAqPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54ICogYi54O1xuXHRcdHRoaXMueSA9IGEueSAqIGIueTtcblx0XHR0aGlzLnogPSBhLnogKiBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlFdWxlciggZXVsZXIgKSB7XG5cblx0XHRpZiAoICEgKCBldWxlciAmJiBldWxlci5pc0V1bGVyICkgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKCBfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIGV1bGVyICkgKTtcblxuXHR9XG5cblx0YXBwbHlBeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKCBfcXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApICk7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4MyggbSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAwIF0gKiB4ICsgZVsgMyBdICogeSArIGVbIDYgXSAqIHo7XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA3IF0gKiB6O1xuXHRcdHRoaXMueiA9IGVbIDIgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOCBdICogejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseU5vcm1hbE1hdHJpeCggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4MyggbSApLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDQoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgdyA9IDEgLyAoIGVbIDMgXSAqIHggKyBlWyA3IF0gKiB5ICsgZVsgMTEgXSAqIHogKyBlWyAxNSBdICk7XG5cblx0XHR0aGlzLnggPSAoIGVbIDAgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgOCBdICogeiArIGVbIDEyIF0gKSAqIHc7XG5cdFx0dGhpcy55ID0gKCBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAqIHogKyBlWyAxMyBdICkgKiB3O1xuXHRcdHRoaXMueiA9ICggZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogeiArIGVbIDE0IF0gKSAqIHc7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlRdWF0ZXJuaW9uKCBxICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBxeCA9IHEueCwgcXkgPSBxLnksIHF6ID0gcS56LCBxdyA9IHEudztcblxuXHRcdC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjdG9yXG5cblx0XHRjb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcblx0XHRjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcblx0XHRjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcblx0XHRjb25zdCBpdyA9IC0gcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6O1xuXG5cdFx0Ly8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG5cdFx0dGhpcy54ID0gaXggKiBxdyArIGl3ICogLSBxeCArIGl5ICogLSBxeiAtIGl6ICogLSBxeTtcblx0XHR0aGlzLnkgPSBpeSAqIHF3ICsgaXcgKiAtIHF5ICsgaXogKiAtIHF4IC0gaXggKiAtIHF6O1xuXHRcdHRoaXMueiA9IGl6ICogcXcgKyBpdyAqIC0gcXogKyBpeCAqIC0gcXkgLSBpeSAqIC0gcXg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cHJvamVjdCggY2FtZXJhICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KCBjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlICkuYXBwbHlNYXRyaXg0KCBjYW1lcmEucHJvamVjdGlvbk1hdHJpeCApO1xuXG5cdH1cblxuXHR1bnByb2plY3QoIGNhbWVyYSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4NCggY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlICkuYXBwbHlNYXRyaXg0KCBjYW1lcmEubWF0cml4V29ybGQgKTtcblxuXHR9XG5cblx0dHJhbnNmb3JtRGlyZWN0aW9uKCBtICkge1xuXG5cdFx0Ly8gaW5wdXQ6IFRIUkVFLk1hdHJpeDQgYWZmaW5lIG1hdHJpeFxuXHRcdC8vIHZlY3RvciBpbnRlcnByZXRlZCBhcyBhIGRpcmVjdGlvblxuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgOCBdICogejtcblx0XHR0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAqIHo7XG5cdFx0dGhpcy56ID0gZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogejtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRkaXZpZGUoIHYgKSB7XG5cblx0XHR0aGlzLnggLz0gdi54O1xuXHRcdHRoaXMueSAvPSB2Lnk7XG5cdFx0dGhpcy56IC89IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGVTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKCAxIC8gc2NhbGFyICk7XG5cblx0fVxuXG5cdG1pbiggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWluKCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWluKCB0aGlzLnksIHYueSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWluKCB0aGlzLnosIHYueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1heCggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIHYueSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWF4KCB0aGlzLnosIHYueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wKCBtaW4sIG1heCApIHtcblxuXHRcdC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluLngsIE1hdGgubWluKCBtYXgueCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluLnksIE1hdGgubWluKCBtYXgueSwgdGhpcy55ICkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1heCggbWluLnosIE1hdGgubWluKCBtYXgueiwgdGhpcy56ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcFNjYWxhciggbWluVmFsLCBtYXhWYWwgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueSApICk7XG5cdFx0dGhpcy56ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy56ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcExlbmd0aCggbWluLCBtYXggKSB7XG5cblx0XHRjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cblx0fVxuXG5cdGZsb29yKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5mbG9vciggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2VpbCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLmNlaWwoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5yb3VuZCggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmRUb1plcm8oKSB7XG5cblx0XHR0aGlzLnggPSAoIHRoaXMueCA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy54ICkgOiBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSAoIHRoaXMueSA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy55ICkgOiBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSAoIHRoaXMueiA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy56ICkgOiBNYXRoLmZsb29yKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRuZWdhdGUoKSB7XG5cblx0XHR0aGlzLnggPSAtIHRoaXMueDtcblx0XHR0aGlzLnkgPSAtIHRoaXMueTtcblx0XHR0aGlzLnogPSAtIHRoaXMuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55ICsgdGhpcy56ICogdi56O1xuXG5cdH1cblxuXHQvLyBUT0RPIGxlbmd0aFNxdWFyZWQ/XG5cblx0bGVuZ3RoU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKTtcblxuXHR9XG5cblx0bWFuaGF0dGFuTGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggKSArIE1hdGguYWJzKCB0aGlzLnkgKSArIE1hdGguYWJzKCB0aGlzLnogKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCB0aGlzLmxlbmd0aCgpIHx8IDEgKTtcblxuXHR9XG5cblx0c2V0TGVuZ3RoKCBsZW5ndGggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhciggbGVuZ3RoICk7XG5cblx0fVxuXG5cdGxlcnAoIHYsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ICs9ICggdi54IC0gdGhpcy54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgKz0gKCB2LnkgLSB0aGlzLnkgKSAqIGFscGhhO1xuXHRcdHRoaXMueiArPSAoIHYueiAtIHRoaXMueiApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bGVycFZlY3RvcnMoIHYxLCB2MiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggPSB2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGE7XG5cdFx0dGhpcy55ID0gdjEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhO1xuXHRcdHRoaXMueiA9IHYxLnogKyAoIHYyLnogLSB2MS56ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjcm9zcyggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLmNyb3NzVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKCB0aGlzLCB2ICk7XG5cblx0fVxuXG5cdGNyb3NzVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdGNvbnN0IGF4ID0gYS54LCBheSA9IGEueSwgYXogPSBhLno7XG5cdFx0Y29uc3QgYnggPSBiLngsIGJ5ID0gYi55LCBieiA9IGIuejtcblxuXHRcdHRoaXMueCA9IGF5ICogYnogLSBheiAqIGJ5O1xuXHRcdHRoaXMueSA9IGF6ICogYnggLSBheCAqIGJ6O1xuXHRcdHRoaXMueiA9IGF4ICogYnkgLSBheSAqIGJ4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHByb2plY3RPblZlY3RvciggdiApIHtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gdi5sZW5ndGhTcSgpO1xuXG5cdFx0aWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCApO1xuXG5cdFx0Y29uc3Qgc2NhbGFyID0gdi5kb3QoIHRoaXMgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0cmV0dXJuIHRoaXMuY29weSggdiApLm11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKTtcblxuXHR9XG5cblx0cHJvamVjdE9uUGxhbmUoIHBsYW5lTm9ybWFsICkge1xuXG5cdFx0X3ZlY3Rvci5jb3B5KCB0aGlzICkucHJvamVjdE9uVmVjdG9yKCBwbGFuZU5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc3ViKCBfdmVjdG9yICk7XG5cblx0fVxuXG5cdHJlZmxlY3QoIG5vcm1hbCApIHtcblxuXHRcdC8vIHJlZmxlY3QgaW5jaWRlbnQgdmVjdG9yIG9mZiBwbGFuZSBvcnRob2dvbmFsIHRvIG5vcm1hbFxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGhcblxuXHRcdHJldHVybiB0aGlzLnN1YiggX3ZlY3Rvci5jb3B5KCBub3JtYWwgKS5tdWx0aXBseVNjYWxhciggMiAqIHRoaXMuZG90KCBub3JtYWwgKSApICk7XG5cblx0fVxuXG5cdGFuZ2xlVG8oIHYgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IE1hdGguc3FydCggdGhpcy5sZW5ndGhTcSgpICogdi5sZW5ndGhTcSgpICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkgcmV0dXJuIE1hdGguUEkgLyAyO1xuXG5cdFx0Y29uc3QgdGhldGEgPSB0aGlzLmRvdCggdiApIC8gZGVub21pbmF0b3I7XG5cblx0XHQvLyBjbGFtcCwgdG8gaGFuZGxlIG51bWVyaWNhbCBwcm9ibGVtc1xuXG5cdFx0cmV0dXJuIE1hdGguYWNvcyggTWF0aFV0aWxzLmNsYW1wKCB0aGV0YSwgLSAxLCAxICkgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3F1YXJlZCggdiApIHtcblxuXHRcdGNvbnN0IGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueSwgZHogPSB0aGlzLnogLSB2Lno7XG5cblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xuXG5cdH1cblxuXHRtYW5oYXR0YW5EaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggLSB2LnggKSArIE1hdGguYWJzKCB0aGlzLnkgLSB2LnkgKSArIE1hdGguYWJzKCB0aGlzLnogLSB2LnogKTtcblxuXHR9XG5cblx0c2V0RnJvbVNwaGVyaWNhbCggcyApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHMoIHMucmFkaXVzLCBzLnBoaSwgcy50aGV0YSApO1xuXG5cdH1cblxuXHRzZXRGcm9tU3BoZXJpY2FsQ29vcmRzKCByYWRpdXMsIHBoaSwgdGhldGEgKSB7XG5cblx0XHRjb25zdCBzaW5QaGlSYWRpdXMgPSBNYXRoLnNpbiggcGhpICkgKiByYWRpdXM7XG5cblx0XHR0aGlzLnggPSBzaW5QaGlSYWRpdXMgKiBNYXRoLnNpbiggdGhldGEgKTtcblx0XHR0aGlzLnkgPSBNYXRoLmNvcyggcGhpICkgKiByYWRpdXM7XG5cdFx0dGhpcy56ID0gc2luUGhpUmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUN5bGluZHJpY2FsKCBjICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKCBjLnJhZGl1cywgYy50aGV0YSwgYy55ICk7XG5cblx0fVxuXG5cdHNldEZyb21DeWxpbmRyaWNhbENvb3JkcyggcmFkaXVzLCB0aGV0YSwgeSApIHtcblxuXHRcdHRoaXMueCA9IHJhZGl1cyAqIE1hdGguc2luKCB0aGV0YSApO1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gcmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtICkge1xuXG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAxMiBdO1xuXHRcdHRoaXMueSA9IGVbIDEzIF07XG5cdFx0dGhpcy56ID0gZVsgMTQgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4U2NhbGUoIG0gKSB7XG5cblx0XHRjb25zdCBzeCA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbiggbSwgMCApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN5ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAxICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3ogPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDIgKS5sZW5ndGgoKTtcblxuXHRcdHRoaXMueCA9IHN4O1xuXHRcdHRoaXMueSA9IHN5O1xuXHRcdHRoaXMueiA9IHN6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXhDb2x1bW4oIG0sIGluZGV4ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZnJvbUFycmF5KCBtLmVsZW1lbnRzLCBpbmRleCAqIDQgKTtcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeDNDb2x1bW4oIG0sIGluZGV4ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZnJvbUFycmF5KCBtLmVsZW1lbnRzLCBpbmRleCAqIDMgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCB2ICkge1xuXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSAmJiAoIHYueiA9PT0gdGhpcy56ICkgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXHRcdHRoaXMueiA9IGFycmF5WyBvZmZzZXQgKyAyIF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMueDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy55O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0aGlzLno7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXgsIG9mZnNldCApIHtcblxuXHRcdGlmICggb2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WSggaW5kZXggKTtcblx0XHR0aGlzLnogPSBhdHRyaWJ1dGUuZ2V0WiggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyYW5kb20oKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJhbmRvbSgpO1xuXHRcdHRoaXMueSA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy56ID0gTWF0aC5yYW5kb20oKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufVxuXG5WZWN0b3IzLnByb3RvdHlwZS5pc1ZlY3RvcjMgPSB0cnVlO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3F1YXRlcm5pb24gPSAvKkBfX1BVUkVfXyovIG5ldyBRdWF0ZXJuaW9uKCk7XG5cbmV4cG9ydCB7IFZlY3RvcjMgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuXG5jbGFzcyBNYXRyaXg0IHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHRoaXMuZWxlbWVudHMgPSBbXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4NDogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjE0LCBuMjEsIG4yMiwgbjIzLCBuMjQsIG4zMSwgbjMyLCBuMzMsIG4zNCwgbjQxLCBuNDIsIG40MywgbjQ0ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSA9IG4xMTsgdGVbIDQgXSA9IG4xMjsgdGVbIDggXSA9IG4xMzsgdGVbIDEyIF0gPSBuMTQ7XG5cdFx0dGVbIDEgXSA9IG4yMTsgdGVbIDUgXSA9IG4yMjsgdGVbIDkgXSA9IG4yMzsgdGVbIDEzIF0gPSBuMjQ7XG5cdFx0dGVbIDIgXSA9IG4zMTsgdGVbIDYgXSA9IG4zMjsgdGVbIDEwIF0gPSBuMzM7IHRlWyAxNCBdID0gbjM0O1xuXHRcdHRlWyAzIF0gPSBuNDE7IHRlWyA3IF0gPSBuNDI7IHRlWyAxMSBdID0gbjQzOyB0ZVsgMTUgXSA9IG40NDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRpZGVudGl0eSgpIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCAwLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCwgMCxcblx0XHRcdDAsIDAsIDEsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG5cdGNvcHkoIG0gKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSA9IG1lWyAwIF07IHRlWyAxIF0gPSBtZVsgMSBdOyB0ZVsgMiBdID0gbWVbIDIgXTsgdGVbIDMgXSA9IG1lWyAzIF07XG5cdFx0dGVbIDQgXSA9IG1lWyA0IF07IHRlWyA1IF0gPSBtZVsgNSBdOyB0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07XG5cdFx0dGVbIDggXSA9IG1lWyA4IF07IHRlWyA5IF0gPSBtZVsgOSBdOyB0ZVsgMTAgXSA9IG1lWyAxMCBdOyB0ZVsgMTEgXSA9IG1lWyAxMSBdO1xuXHRcdHRlWyAxMiBdID0gbWVbIDEyIF07IHRlWyAxMyBdID0gbWVbIDEzIF07IHRlWyAxNCBdID0gbWVbIDE0IF07IHRlWyAxNSBdID0gbWVbIDE1IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29weVBvc2l0aW9uKCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzLCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0ZVsgMTIgXSA9IG1lWyAxMiBdO1xuXHRcdHRlWyAxMyBdID0gbWVbIDEzIF07XG5cdFx0dGVbIDE0IF0gPSBtZVsgMTQgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4MyggbSApIHtcblxuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHRtZVsgMCBdLCBtZVsgMyBdLCBtZVsgNiBdLCAwLFxuXHRcdFx0bWVbIDEgXSwgbWVbIDQgXSwgbWVbIDcgXSwgMCxcblx0XHRcdG1lWyAyIF0sIG1lWyA1IF0sIG1lWyA4IF0sIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIHRoaXMsIDAgKTtcblx0XHR5QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCB0aGlzLCAxICk7XG5cdFx0ekF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHRoaXMuc2V0KFxuXHRcdFx0eEF4aXMueCwgeUF4aXMueCwgekF4aXMueCwgMCxcblx0XHRcdHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAsXG5cdFx0XHR4QXhpcy56LCB5QXhpcy56LCB6QXhpcy56LCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdFJvdGF0aW9uKCBtICkge1xuXG5cdFx0Ly8gdGhpcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCByZWZsZWN0aW9uIG1hdHJpY2VzXG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3Qgc2NhbGVYID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAwICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc2NhbGVZID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAxICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc2NhbGVaID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAyICkubGVuZ3RoKCk7XG5cblx0XHR0ZVsgMCBdID0gbWVbIDAgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMSBdID0gbWVbIDEgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMiBdID0gbWVbIDIgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMyBdID0gMDtcblxuXHRcdHRlWyA0IF0gPSBtZVsgNCBdICogc2NhbGVZO1xuXHRcdHRlWyA1IF0gPSBtZVsgNSBdICogc2NhbGVZO1xuXHRcdHRlWyA2IF0gPSBtZVsgNiBdICogc2NhbGVZO1xuXHRcdHRlWyA3IF0gPSAwO1xuXG5cdFx0dGVbIDggXSA9IG1lWyA4IF0gKiBzY2FsZVo7XG5cdFx0dGVbIDkgXSA9IG1lWyA5IF0gKiBzY2FsZVo7XG5cdFx0dGVbIDEwIF0gPSBtZVsgMTAgXSAqIHNjYWxlWjtcblx0XHR0ZVsgMTEgXSA9IDA7XG5cblx0XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAxNCBdID0gMDtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uRnJvbUV1bGVyKCBldWxlciApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgeCA9IGV1bGVyLngsIHkgPSBldWxlci55LCB6ID0gZXVsZXIuejtcblx0XHRjb25zdCBhID0gTWF0aC5jb3MoIHggKSwgYiA9IE1hdGguc2luKCB4ICk7XG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB5ICksIGQgPSBNYXRoLnNpbiggeSApO1xuXHRcdGNvbnN0IGUgPSBNYXRoLmNvcyggeiApLCBmID0gTWF0aC5zaW4oIHogKTtcblxuXHRcdGlmICggZXVsZXIub3JkZXIgPT09ICdYWVonICkge1xuXG5cdFx0XHRjb25zdCBhZSA9IGEgKiBlLCBhZiA9IGEgKiBmLCBiZSA9IGIgKiBlLCBiZiA9IGIgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gLSBjICogZjtcblx0XHRcdHRlWyA4IF0gPSBkO1xuXG5cdFx0XHR0ZVsgMSBdID0gYWYgKyBiZSAqIGQ7XG5cdFx0XHR0ZVsgNSBdID0gYWUgLSBiZiAqIGQ7XG5cdFx0XHR0ZVsgOSBdID0gLSBiICogYztcblxuXHRcdFx0dGVbIDIgXSA9IGJmIC0gYWUgKiBkO1xuXHRcdFx0dGVbIDYgXSA9IGJlICsgYWYgKiBkO1xuXHRcdFx0dGVbIDEwIF0gPSBhICogYztcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWVhaJyApIHtcblxuXHRcdFx0Y29uc3QgY2UgPSBjICogZSwgY2YgPSBjICogZiwgZGUgPSBkICogZSwgZGYgPSBkICogZjtcblxuXHRcdFx0dGVbIDAgXSA9IGNlICsgZGYgKiBiO1xuXHRcdFx0dGVbIDQgXSA9IGRlICogYiAtIGNmO1xuXHRcdFx0dGVbIDggXSA9IGEgKiBkO1xuXG5cdFx0XHR0ZVsgMSBdID0gYSAqIGY7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gLSBiO1xuXG5cdFx0XHR0ZVsgMiBdID0gY2YgKiBiIC0gZGU7XG5cdFx0XHR0ZVsgNiBdID0gZGYgKyBjZSAqIGI7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdaWFknICkge1xuXG5cdFx0XHRjb25zdCBjZSA9IGMgKiBlLCBjZiA9IGMgKiBmLCBkZSA9IGQgKiBlLCBkZiA9IGQgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gY2UgLSBkZiAqIGI7XG5cdFx0XHR0ZVsgNCBdID0gLSBhICogZjtcblx0XHRcdHRlWyA4IF0gPSBkZSArIGNmICogYjtcblxuXHRcdFx0dGVbIDEgXSA9IGNmICsgZGUgKiBiO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IGRmIC0gY2UgKiBiO1xuXG5cdFx0XHR0ZVsgMiBdID0gLSBhICogZDtcblx0XHRcdHRlWyA2IF0gPSBiO1xuXHRcdFx0dGVbIDEwIF0gPSBhICogYztcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWllYJyApIHtcblxuXHRcdFx0Y29uc3QgYWUgPSBhICogZSwgYWYgPSBhICogZiwgYmUgPSBiICogZSwgYmYgPSBiICogZjtcblxuXHRcdFx0dGVbIDAgXSA9IGMgKiBlO1xuXHRcdFx0dGVbIDQgXSA9IGJlICogZCAtIGFmO1xuXHRcdFx0dGVbIDggXSA9IGFlICogZCArIGJmO1xuXG5cdFx0XHR0ZVsgMSBdID0gYyAqIGY7XG5cdFx0XHR0ZVsgNSBdID0gYmYgKiBkICsgYWU7XG5cdFx0XHR0ZVsgOSBdID0gYWYgKiBkIC0gYmU7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGQ7XG5cdFx0XHR0ZVsgNiBdID0gYiAqIGM7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdZWlgnICkge1xuXG5cdFx0XHRjb25zdCBhYyA9IGEgKiBjLCBhZCA9IGEgKiBkLCBiYyA9IGIgKiBjLCBiZCA9IGIgKiBkO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gYmQgLSBhYyAqIGY7XG5cdFx0XHR0ZVsgOCBdID0gYmMgKiBmICsgYWQ7XG5cblx0XHRcdHRlWyAxIF0gPSBmO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IC0gYiAqIGU7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGQgKiBlO1xuXHRcdFx0dGVbIDYgXSA9IGFkICogZiArIGJjO1xuXHRcdFx0dGVbIDEwIF0gPSBhYyAtIGJkICogZjtcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWFpZJyApIHtcblxuXHRcdFx0Y29uc3QgYWMgPSBhICogYywgYWQgPSBhICogZCwgYmMgPSBiICogYywgYmQgPSBiICogZDtcblxuXHRcdFx0dGVbIDAgXSA9IGMgKiBlO1xuXHRcdFx0dGVbIDQgXSA9IC0gZjtcblx0XHRcdHRlWyA4IF0gPSBkICogZTtcblxuXHRcdFx0dGVbIDEgXSA9IGFjICogZiArIGJkO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IGFkICogZiAtIGJjO1xuXG5cdFx0XHR0ZVsgMiBdID0gYmMgKiBmIC0gYWQ7XG5cdFx0XHR0ZVsgNiBdID0gYiAqIGU7XG5cdFx0XHR0ZVsgMTAgXSA9IGJkICogZiArIGFjO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYm90dG9tIHJvd1xuXHRcdHRlWyAzIF0gPSAwO1xuXHRcdHRlWyA3IF0gPSAwO1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdC8vIGxhc3QgY29sdW1uXG5cdFx0dGVbIDEyIF0gPSAwO1xuXHRcdHRlWyAxMyBdID0gMDtcblx0XHR0ZVsgMTQgXSA9IDA7XG5cdFx0dGVbIDE1IF0gPSAxO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCBxICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9zZSggX3plcm8sIHEsIF9vbmUgKTtcblxuXHR9XG5cblx0bG9va0F0KCBleWUsIHRhcmdldCwgdXAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRfei5zdWJWZWN0b3JzKCBleWUsIHRhcmdldCApO1xuXG5cdFx0aWYgKCBfei5sZW5ndGhTcSgpID09PSAwICkge1xuXG5cdFx0XHQvLyBleWUgYW5kIHRhcmdldCBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb25cblxuXHRcdFx0X3oueiA9IDE7XG5cblx0XHR9XG5cblx0XHRfei5ub3JtYWxpemUoKTtcblx0XHRfeC5jcm9zc1ZlY3RvcnMoIHVwLCBfeiApO1xuXG5cdFx0aWYgKCBfeC5sZW5ndGhTcSgpID09PSAwICkge1xuXG5cdFx0XHQvLyB1cCBhbmQgeiBhcmUgcGFyYWxsZWxcblxuXHRcdFx0aWYgKCBNYXRoLmFicyggdXAueiApID09PSAxICkge1xuXG5cdFx0XHRcdF96LnggKz0gMC4wMDAxO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdF96LnogKz0gMC4wMDAxO1xuXG5cdFx0XHR9XG5cblx0XHRcdF96Lm5vcm1hbGl6ZSgpO1xuXHRcdFx0X3guY3Jvc3NWZWN0b3JzKCB1cCwgX3ogKTtcblxuXHRcdH1cblxuXHRcdF94Lm5vcm1hbGl6ZSgpO1xuXHRcdF95LmNyb3NzVmVjdG9ycyggX3osIF94ICk7XG5cblx0XHR0ZVsgMCBdID0gX3gueDsgdGVbIDQgXSA9IF95Lng7IHRlWyA4IF0gPSBfei54O1xuXHRcdHRlWyAxIF0gPSBfeC55OyB0ZVsgNSBdID0gX3kueTsgdGVbIDkgXSA9IF96Lnk7XG5cdFx0dGVbIDIgXSA9IF94Lno7IHRlWyA2IF0gPSBfeS56OyB0ZVsgMTAgXSA9IF96Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0sIG4gKSB7XG5cblx0XHRpZiAoIG4gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0cml4NDogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgbiApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggdGhpcywgbSApO1xuXG5cdH1cblxuXHRwcmVtdWx0aXBseSggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoIG0sIHRoaXMgKTtcblxuXHR9XG5cblx0bXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIHtcblxuXHRcdGNvbnN0IGFlID0gYS5lbGVtZW50cztcblx0XHRjb25zdCBiZSA9IGIuZWxlbWVudHM7XG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gYWVbIDAgXSwgYTEyID0gYWVbIDQgXSwgYTEzID0gYWVbIDggXSwgYTE0ID0gYWVbIDEyIF07XG5cdFx0Y29uc3QgYTIxID0gYWVbIDEgXSwgYTIyID0gYWVbIDUgXSwgYTIzID0gYWVbIDkgXSwgYTI0ID0gYWVbIDEzIF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDYgXSwgYTMzID0gYWVbIDEwIF0sIGEzNCA9IGFlWyAxNCBdO1xuXHRcdGNvbnN0IGE0MSA9IGFlWyAzIF0sIGE0MiA9IGFlWyA3IF0sIGE0MyA9IGFlWyAxMSBdLCBhNDQgPSBhZVsgMTUgXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyA0IF0sIGIxMyA9IGJlWyA4IF0sIGIxNCA9IGJlWyAxMiBdO1xuXHRcdGNvbnN0IGIyMSA9IGJlWyAxIF0sIGIyMiA9IGJlWyA1IF0sIGIyMyA9IGJlWyA5IF0sIGIyNCA9IGJlWyAxMyBdO1xuXHRcdGNvbnN0IGIzMSA9IGJlWyAyIF0sIGIzMiA9IGJlWyA2IF0sIGIzMyA9IGJlWyAxMCBdLCBiMzQgPSBiZVsgMTQgXTtcblx0XHRjb25zdCBiNDEgPSBiZVsgMyBdLCBiNDIgPSBiZVsgNyBdLCBiNDMgPSBiZVsgMTEgXSwgYjQ0ID0gYmVbIDE1IF07XG5cblx0XHR0ZVsgMCBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxICsgYTE0ICogYjQxO1xuXHRcdHRlWyA0IF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzIgKyBhMTQgKiBiNDI7XG5cdFx0dGVbIDggXSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMyArIGExNCAqIGI0Mztcblx0XHR0ZVsgMTIgXSA9IGExMSAqIGIxNCArIGExMiAqIGIyNCArIGExMyAqIGIzNCArIGExNCAqIGI0NDtcblxuXHRcdHRlWyAxIF0gPSBhMjEgKiBiMTEgKyBhMjIgKiBiMjEgKyBhMjMgKiBiMzEgKyBhMjQgKiBiNDE7XG5cdFx0dGVbIDUgXSA9IGEyMSAqIGIxMiArIGEyMiAqIGIyMiArIGEyMyAqIGIzMiArIGEyNCAqIGI0Mjtcblx0XHR0ZVsgOSBdID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzO1xuXHRcdHRlWyAxMyBdID0gYTIxICogYjE0ICsgYTIyICogYjI0ICsgYTIzICogYjM0ICsgYTI0ICogYjQ0O1xuXG5cdFx0dGVbIDIgXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMSArIGEzNCAqIGI0MTtcblx0XHR0ZVsgNiBdID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyICsgYTM0ICogYjQyO1xuXHRcdHRlWyAxMCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzICsgYTM0ICogYjQzO1xuXHRcdHRlWyAxNCBdID0gYTMxICogYjE0ICsgYTMyICogYjI0ICsgYTMzICogYjM0ICsgYTM0ICogYjQ0O1xuXG5cdFx0dGVbIDMgXSA9IGE0MSAqIGIxMSArIGE0MiAqIGIyMSArIGE0MyAqIGIzMSArIGE0NCAqIGI0MTtcblx0XHR0ZVsgNyBdID0gYTQxICogYjEyICsgYTQyICogYjIyICsgYTQzICogYjMyICsgYTQ0ICogYjQyO1xuXHRcdHRlWyAxMSBdID0gYTQxICogYjEzICsgYTQyICogYjIzICsgYTQzICogYjMzICsgYTQ0ICogYjQzO1xuXHRcdHRlWyAxNSBdID0gYTQxICogYjE0ICsgYTQyICogYjI0ICsgYTQzICogYjM0ICsgYTQ0ICogYjQ0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgNCBdICo9IHM7IHRlWyA4IF0gKj0gczsgdGVbIDEyIF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA1IF0gKj0gczsgdGVbIDkgXSAqPSBzOyB0ZVsgMTMgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDYgXSAqPSBzOyB0ZVsgMTAgXSAqPSBzOyB0ZVsgMTQgXSAqPSBzO1xuXHRcdHRlWyAzIF0gKj0gczsgdGVbIDcgXSAqPSBzOyB0ZVsgMTEgXSAqPSBzOyB0ZVsgMTUgXSAqPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRldGVybWluYW50KCkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgbjExID0gdGVbIDAgXSwgbjEyID0gdGVbIDQgXSwgbjEzID0gdGVbIDggXSwgbjE0ID0gdGVbIDEyIF07XG5cdFx0Y29uc3QgbjIxID0gdGVbIDEgXSwgbjIyID0gdGVbIDUgXSwgbjIzID0gdGVbIDkgXSwgbjI0ID0gdGVbIDEzIF07XG5cdFx0Y29uc3QgbjMxID0gdGVbIDIgXSwgbjMyID0gdGVbIDYgXSwgbjMzID0gdGVbIDEwIF0sIG4zNCA9IHRlWyAxNCBdO1xuXHRcdGNvbnN0IG40MSA9IHRlWyAzIF0sIG40MiA9IHRlWyA3IF0sIG40MyA9IHRlWyAxMSBdLCBuNDQgPSB0ZVsgMTUgXTtcblxuXHRcdC8vVE9ETzogbWFrZSB0aGlzIG1vcmUgZWZmaWNpZW50XG5cdFx0Ly8oIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bSApXG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0bjQxICogKFxuXHRcdFx0XHQrIG4xNCAqIG4yMyAqIG4zMlxuXHRcdFx0XHQgLSBuMTMgKiBuMjQgKiBuMzJcblx0XHRcdFx0IC0gbjE0ICogbjIyICogbjMzXG5cdFx0XHRcdCArIG4xMiAqIG4yNCAqIG4zM1xuXHRcdFx0XHQgKyBuMTMgKiBuMjIgKiBuMzRcblx0XHRcdFx0IC0gbjEyICogbjIzICogbjM0XG5cdFx0XHQpICtcblx0XHRcdG40MiAqIChcblx0XHRcdFx0KyBuMTEgKiBuMjMgKiBuMzRcblx0XHRcdFx0IC0gbjExICogbjI0ICogbjMzXG5cdFx0XHRcdCArIG4xNCAqIG4yMSAqIG4zM1xuXHRcdFx0XHQgLSBuMTMgKiBuMjEgKiBuMzRcblx0XHRcdFx0ICsgbjEzICogbjI0ICogbjMxXG5cdFx0XHRcdCAtIG4xNCAqIG4yMyAqIG4zMVxuXHRcdFx0KSArXG5cdFx0XHRuNDMgKiAoXG5cdFx0XHRcdCsgbjExICogbjI0ICogbjMyXG5cdFx0XHRcdCAtIG4xMSAqIG4yMiAqIG4zNFxuXHRcdFx0XHQgLSBuMTQgKiBuMjEgKiBuMzJcblx0XHRcdFx0ICsgbjEyICogbjIxICogbjM0XG5cdFx0XHRcdCArIG4xNCAqIG4yMiAqIG4zMVxuXHRcdFx0XHQgLSBuMTIgKiBuMjQgKiBuMzFcblx0XHRcdCkgK1xuXHRcdFx0bjQ0ICogKFxuXHRcdFx0XHQtIG4xMyAqIG4yMiAqIG4zMVxuXHRcdFx0XHQgLSBuMTEgKiBuMjMgKiBuMzJcblx0XHRcdFx0ICsgbjExICogbjIyICogbjMzXG5cdFx0XHRcdCArIG4xMyAqIG4yMSAqIG4zMlxuXHRcdFx0XHQgLSBuMTIgKiBuMjEgKiBuMzNcblx0XHRcdFx0ICsgbjEyICogbjIzICogbjMxXG5cdFx0XHQpXG5cblx0XHQpO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0bGV0IHRtcDtcblxuXHRcdHRtcCA9IHRlWyAxIF07IHRlWyAxIF0gPSB0ZVsgNCBdOyB0ZVsgNCBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyAyIF07IHRlWyAyIF0gPSB0ZVsgOCBdOyB0ZVsgOCBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyA2IF07IHRlWyA2IF0gPSB0ZVsgOSBdOyB0ZVsgOSBdID0gdG1wO1xuXG5cdFx0dG1wID0gdGVbIDMgXTsgdGVbIDMgXSA9IHRlWyAxMiBdOyB0ZVsgMTIgXSA9IHRtcDtcblx0XHR0bXAgPSB0ZVsgNyBdOyB0ZVsgNyBdID0gdGVbIDEzIF07IHRlWyAxMyBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyAxMSBdOyB0ZVsgMTEgXSA9IHRlWyAxNCBdOyB0ZVsgMTQgXSA9IHRtcDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRQb3NpdGlvbiggeCwgeSwgeiApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGlmICggeC5pc1ZlY3RvcjMgKSB7XG5cblx0XHRcdHRlWyAxMiBdID0geC54O1xuXHRcdFx0dGVbIDEzIF0gPSB4Lnk7XG5cdFx0XHR0ZVsgMTQgXSA9IHguejtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRlWyAxMiBdID0geDtcblx0XHRcdHRlWyAxMyBdID0geTtcblx0XHRcdHRlWyAxNCBdID0gejtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRpbnZlcnQoKSB7XG5cblx0XHQvLyBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG1cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IHRlWyAwIF0sIG4yMSA9IHRlWyAxIF0sIG4zMSA9IHRlWyAyIF0sIG40MSA9IHRlWyAzIF0sXG5cdFx0XHRuMTIgPSB0ZVsgNCBdLCBuMjIgPSB0ZVsgNSBdLCBuMzIgPSB0ZVsgNiBdLCBuNDIgPSB0ZVsgNyBdLFxuXHRcdFx0bjEzID0gdGVbIDggXSwgbjIzID0gdGVbIDkgXSwgbjMzID0gdGVbIDEwIF0sIG40MyA9IHRlWyAxMSBdLFxuXHRcdFx0bjE0ID0gdGVbIDEyIF0sIG4yNCA9IHRlWyAxMyBdLCBuMzQgPSB0ZVsgMTQgXSwgbjQ0ID0gdGVbIDE1IF0sXG5cblx0XHRcdHQxMSA9IG4yMyAqIG4zNCAqIG40MiAtIG4yNCAqIG4zMyAqIG40MiArIG4yNCAqIG4zMiAqIG40MyAtIG4yMiAqIG4zNCAqIG40MyAtIG4yMyAqIG4zMiAqIG40NCArIG4yMiAqIG4zMyAqIG40NCxcblx0XHRcdHQxMiA9IG4xNCAqIG4zMyAqIG40MiAtIG4xMyAqIG4zNCAqIG40MiAtIG4xNCAqIG4zMiAqIG40MyArIG4xMiAqIG4zNCAqIG40MyArIG4xMyAqIG4zMiAqIG40NCAtIG4xMiAqIG4zMyAqIG40NCxcblx0XHRcdHQxMyA9IG4xMyAqIG4yNCAqIG40MiAtIG4xNCAqIG4yMyAqIG40MiArIG4xNCAqIG4yMiAqIG40MyAtIG4xMiAqIG4yNCAqIG40MyAtIG4xMyAqIG4yMiAqIG40NCArIG4xMiAqIG4yMyAqIG40NCxcblx0XHRcdHQxNCA9IG4xNCAqIG4yMyAqIG4zMiAtIG4xMyAqIG4yNCAqIG4zMiAtIG4xNCAqIG4yMiAqIG4zMyArIG4xMiAqIG4yNCAqIG4zMyArIG4xMyAqIG4yMiAqIG4zNCAtIG4xMiAqIG4yMyAqIG4zNDtcblxuXHRcdGNvbnN0IGRldCA9IG4xMSAqIHQxMSArIG4yMSAqIHQxMiArIG4zMSAqIHQxMyArIG40MSAqIHQxNDtcblxuXHRcdGlmICggZGV0ID09PSAwICkgcmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwICk7XG5cblx0XHRjb25zdCBkZXRJbnYgPSAxIC8gZGV0O1xuXG5cdFx0dGVbIDAgXSA9IHQxMSAqIGRldEludjtcblx0XHR0ZVsgMSBdID0gKCBuMjQgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzQgKiBuNDEgLSBuMjQgKiBuMzEgKiBuNDMgKyBuMjEgKiBuMzQgKiBuNDMgKyBuMjMgKiBuMzEgKiBuNDQgLSBuMjEgKiBuMzMgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMiBdID0gKCBuMjIgKiBuMzQgKiBuNDEgLSBuMjQgKiBuMzIgKiBuNDEgKyBuMjQgKiBuMzEgKiBuNDIgLSBuMjEgKiBuMzQgKiBuNDIgLSBuMjIgKiBuMzEgKiBuNDQgKyBuMjEgKiBuMzIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMyBdID0gKCBuMjMgKiBuMzIgKiBuNDEgLSBuMjIgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzEgKiBuNDIgKyBuMjEgKiBuMzMgKiBuNDIgKyBuMjIgKiBuMzEgKiBuNDMgLSBuMjEgKiBuMzIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyA0IF0gPSB0MTIgKiBkZXRJbnY7XG5cdFx0dGVbIDUgXSA9ICggbjEzICogbjM0ICogbjQxIC0gbjE0ICogbjMzICogbjQxICsgbjE0ICogbjMxICogbjQzIC0gbjExICogbjM0ICogbjQzIC0gbjEzICogbjMxICogbjQ0ICsgbjExICogbjMzICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDYgXSA9ICggbjE0ICogbjMyICogbjQxIC0gbjEyICogbjM0ICogbjQxIC0gbjE0ICogbjMxICogbjQyICsgbjExICogbjM0ICogbjQyICsgbjEyICogbjMxICogbjQ0IC0gbjExICogbjMyICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDcgXSA9ICggbjEyICogbjMzICogbjQxIC0gbjEzICogbjMyICogbjQxICsgbjEzICogbjMxICogbjQyIC0gbjExICogbjMzICogbjQyIC0gbjEyICogbjMxICogbjQzICsgbjExICogbjMyICogbjQzICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgOCBdID0gdDEzICogZGV0SW52O1xuXHRcdHRlWyA5IF0gPSAoIG4xNCAqIG4yMyAqIG40MSAtIG4xMyAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMSAqIG40MyArIG4xMSAqIG4yNCAqIG40MyArIG4xMyAqIG4yMSAqIG40NCAtIG4xMSAqIG4yMyAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAxMCBdID0gKCBuMTIgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjIgKiBuNDEgKyBuMTQgKiBuMjEgKiBuNDIgLSBuMTEgKiBuMjQgKiBuNDIgLSBuMTIgKiBuMjEgKiBuNDQgKyBuMTEgKiBuMjIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMTEgXSA9ICggbjEzICogbjIyICogbjQxIC0gbjEyICogbjIzICogbjQxIC0gbjEzICogbjIxICogbjQyICsgbjExICogbjIzICogbjQyICsgbjEyICogbjIxICogbjQzIC0gbjExICogbjIyICogbjQzICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMTIgXSA9IHQxNCAqIGRldEludjtcblx0XHR0ZVsgMTMgXSA9ICggbjEzICogbjI0ICogbjMxIC0gbjE0ICogbjIzICogbjMxICsgbjE0ICogbjIxICogbjMzIC0gbjExICogbjI0ICogbjMzIC0gbjEzICogbjIxICogbjM0ICsgbjExICogbjIzICogbjM0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDE0IF0gPSAoIG4xNCAqIG4yMiAqIG4zMSAtIG4xMiAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMSAqIG4zMiArIG4xMSAqIG4yNCAqIG4zMiArIG4xMiAqIG4yMSAqIG4zNCAtIG4xMSAqIG4yMiAqIG4zNCApICogZGV0SW52O1xuXHRcdHRlWyAxNSBdID0gKCBuMTIgKiBuMjMgKiBuMzEgLSBuMTMgKiBuMjIgKiBuMzEgKyBuMTMgKiBuMjEgKiBuMzIgLSBuMTEgKiBuMjMgKiBuMzIgLSBuMTIgKiBuMjEgKiBuMzMgKyBuMTEgKiBuMjIgKiBuMzMgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzY2FsZSggdiApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCB4ID0gdi54LCB5ID0gdi55LCB6ID0gdi56O1xuXG5cdFx0dGVbIDAgXSAqPSB4OyB0ZVsgNCBdICo9IHk7IHRlWyA4IF0gKj0gejtcblx0XHR0ZVsgMSBdICo9IHg7IHRlWyA1IF0gKj0geTsgdGVbIDkgXSAqPSB6O1xuXHRcdHRlWyAyIF0gKj0geDsgdGVbIDYgXSAqPSB5OyB0ZVsgMTAgXSAqPSB6O1xuXHRcdHRlWyAzIF0gKj0geDsgdGVbIDcgXSAqPSB5OyB0ZVsgMTEgXSAqPSB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldE1heFNjYWxlT25BeGlzKCkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3Qgc2NhbGVYU3EgPSB0ZVsgMCBdICogdGVbIDAgXSArIHRlWyAxIF0gKiB0ZVsgMSBdICsgdGVbIDIgXSAqIHRlWyAyIF07XG5cdFx0Y29uc3Qgc2NhbGVZU3EgPSB0ZVsgNCBdICogdGVbIDQgXSArIHRlWyA1IF0gKiB0ZVsgNSBdICsgdGVbIDYgXSAqIHRlWyA2IF07XG5cdFx0Y29uc3Qgc2NhbGVaU3EgPSB0ZVsgOCBdICogdGVbIDggXSArIHRlWyA5IF0gKiB0ZVsgOSBdICsgdGVbIDEwIF0gKiB0ZVsgMTAgXTtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIE1hdGgubWF4KCBzY2FsZVhTcSwgc2NhbGVZU3EsIHNjYWxlWlNxICkgKTtcblxuXHR9XG5cblx0bWFrZVRyYW5zbGF0aW9uKCB4LCB5LCB6ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIHgsXG5cdFx0XHQwLCAxLCAwLCB5LFxuXHRcdFx0MCwgMCwgMSwgeixcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uWCggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICksIHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCAwLCAwLCAwLFxuXHRcdFx0MCwgYywgLSBzLCAwLFxuXHRcdFx0MCwgcywgYywgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uWSggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICksIHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQgYywgMCwgcywgMCxcblx0XHRcdCAwLCAxLCAwLCAwLFxuXHRcdFx0LSBzLCAwLCBjLCAwLFxuXHRcdFx0IDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uWiggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICksIHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHRjLCAtIHMsIDAsIDAsXG5cdFx0XHRzLCBjLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uQXhpcyggYXhpcywgYW5nbGUgKSB7XG5cblx0XHQvLyBCYXNlZCBvbiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3JlZmVyZW5jZS9hcnRpY2xlcy9hcnRpY2xlMTE5OS5hc3BcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggYW5nbGUgKTtcblx0XHRjb25zdCBzID0gTWF0aC5zaW4oIGFuZ2xlICk7XG5cdFx0Y29uc3QgdCA9IDEgLSBjO1xuXHRcdGNvbnN0IHggPSBheGlzLngsIHkgPSBheGlzLnksIHogPSBheGlzLno7XG5cdFx0Y29uc3QgdHggPSB0ICogeCwgdHkgPSB0ICogeTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHR0eCAqIHggKyBjLCB0eCAqIHkgLSBzICogeiwgdHggKiB6ICsgcyAqIHksIDAsXG5cdFx0XHR0eCAqIHkgKyBzICogeiwgdHkgKiB5ICsgYywgdHkgKiB6IC0gcyAqIHgsIDAsXG5cdFx0XHR0eCAqIHogLSBzICogeSwgdHkgKiB6ICsgcyAqIHgsIHQgKiB6ICogeiArIGMsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VTY2FsZSggeCwgeSwgeiApIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHR4LCAwLCAwLCAwLFxuXHRcdFx0MCwgeSwgMCwgMCxcblx0XHRcdDAsIDAsIHosIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VTaGVhciggeHksIHh6LCB5eCwgeXosIHp4LCB6eSApIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCB5eCwgengsIDAsXG5cdFx0XHR4eSwgMSwgenksIDAsXG5cdFx0XHR4eiwgeXosIDEsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbXBvc2UoIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGNvbnN0IHggPSBxdWF0ZXJuaW9uLl94LCB5ID0gcXVhdGVybmlvbi5feSwgeiA9IHF1YXRlcm5pb24uX3osIHcgPSBxdWF0ZXJuaW9uLl93O1xuXHRcdGNvbnN0IHgyID0geCArIHgsXHR5MiA9IHkgKyB5LCB6MiA9IHogKyB6O1xuXHRcdGNvbnN0IHh4ID0geCAqIHgyLCB4eSA9IHggKiB5MiwgeHogPSB4ICogejI7XG5cdFx0Y29uc3QgeXkgPSB5ICogeTIsIHl6ID0geSAqIHoyLCB6eiA9IHogKiB6Mjtcblx0XHRjb25zdCB3eCA9IHcgKiB4Miwgd3kgPSB3ICogeTIsIHd6ID0gdyAqIHoyO1xuXG5cdFx0Y29uc3Qgc3ggPSBzY2FsZS54LCBzeSA9IHNjYWxlLnksIHN6ID0gc2NhbGUuejtcblxuXHRcdHRlWyAwIF0gPSAoIDEgLSAoIHl5ICsgenogKSApICogc3g7XG5cdFx0dGVbIDEgXSA9ICggeHkgKyB3eiApICogc3g7XG5cdFx0dGVbIDIgXSA9ICggeHogLSB3eSApICogc3g7XG5cdFx0dGVbIDMgXSA9IDA7XG5cblx0XHR0ZVsgNCBdID0gKCB4eSAtIHd6ICkgKiBzeTtcblx0XHR0ZVsgNSBdID0gKCAxIC0gKCB4eCArIHp6ICkgKSAqIHN5O1xuXHRcdHRlWyA2IF0gPSAoIHl6ICsgd3ggKSAqIHN5O1xuXHRcdHRlWyA3IF0gPSAwO1xuXG5cdFx0dGVbIDggXSA9ICggeHogKyB3eSApICogc3o7XG5cdFx0dGVbIDkgXSA9ICggeXogLSB3eCApICogc3o7XG5cdFx0dGVbIDEwIF0gPSAoIDEgLSAoIHh4ICsgeXkgKSApICogc3o7XG5cdFx0dGVbIDExIF0gPSAwO1xuXG5cdFx0dGVbIDEyIF0gPSBwb3NpdGlvbi54O1xuXHRcdHRlWyAxMyBdID0gcG9zaXRpb24ueTtcblx0XHR0ZVsgMTQgXSA9IHBvc2l0aW9uLno7XG5cdFx0dGVbIDE1IF0gPSAxO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRlY29tcG9zZSggcG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0bGV0IHN4ID0gX3YxLnNldCggdGVbIDAgXSwgdGVbIDEgXSwgdGVbIDIgXSApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN5ID0gX3YxLnNldCggdGVbIDQgXSwgdGVbIDUgXSwgdGVbIDYgXSApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN6ID0gX3YxLnNldCggdGVbIDggXSwgdGVbIDkgXSwgdGVbIDEwIF0gKS5sZW5ndGgoKTtcblxuXHRcdC8vIGlmIGRldGVybWluZSBpcyBuZWdhdGl2ZSwgd2UgbmVlZCB0byBpbnZlcnQgb25lIHNjYWxlXG5cdFx0Y29uc3QgZGV0ID0gdGhpcy5kZXRlcm1pbmFudCgpO1xuXHRcdGlmICggZGV0IDwgMCApIHN4ID0gLSBzeDtcblxuXHRcdHBvc2l0aW9uLnggPSB0ZVsgMTIgXTtcblx0XHRwb3NpdGlvbi55ID0gdGVbIDEzIF07XG5cdFx0cG9zaXRpb24ueiA9IHRlWyAxNCBdO1xuXG5cdFx0Ly8gc2NhbGUgdGhlIHJvdGF0aW9uIHBhcnRcblx0XHRfbTEuY29weSggdGhpcyApO1xuXG5cdFx0Y29uc3QgaW52U1ggPSAxIC8gc3g7XG5cdFx0Y29uc3QgaW52U1kgPSAxIC8gc3k7XG5cdFx0Y29uc3QgaW52U1ogPSAxIC8gc3o7XG5cblx0XHRfbTEuZWxlbWVudHNbIDAgXSAqPSBpbnZTWDtcblx0XHRfbTEuZWxlbWVudHNbIDEgXSAqPSBpbnZTWDtcblx0XHRfbTEuZWxlbWVudHNbIDIgXSAqPSBpbnZTWDtcblxuXHRcdF9tMS5lbGVtZW50c1sgNCBdICo9IGludlNZO1xuXHRcdF9tMS5lbGVtZW50c1sgNSBdICo9IGludlNZO1xuXHRcdF9tMS5lbGVtZW50c1sgNiBdICo9IGludlNZO1xuXG5cdFx0X20xLmVsZW1lbnRzWyA4IF0gKj0gaW52U1o7XG5cdFx0X20xLmVsZW1lbnRzWyA5IF0gKj0gaW52U1o7XG5cdFx0X20xLmVsZW1lbnRzWyAxMCBdICo9IGludlNaO1xuXG5cdFx0cXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIF9tMSApO1xuXG5cdFx0c2NhbGUueCA9IHN4O1xuXHRcdHNjYWxlLnkgPSBzeTtcblx0XHRzY2FsZS56ID0gc3o7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVBlcnNwZWN0aXZlKCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20sIG5lYXIsIGZhciApIHtcblxuXHRcdGlmICggZmFyID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlUGVyc3BlY3RpdmUoKSBoYXMgYmVlbiByZWRlZmluZWQgYW5kIGhhcyBhIG5ldyBzaWduYXR1cmUuIFBsZWFzZSBjaGVjayB0aGUgZG9jcy4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgeCA9IDIgKiBuZWFyIC8gKCByaWdodCAtIGxlZnQgKTtcblx0XHRjb25zdCB5ID0gMiAqIG5lYXIgLyAoIHRvcCAtIGJvdHRvbSApO1xuXG5cdFx0Y29uc3QgYSA9ICggcmlnaHQgKyBsZWZ0ICkgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IGIgPSAoIHRvcCArIGJvdHRvbSApIC8gKCB0b3AgLSBib3R0b20gKTtcblx0XHRjb25zdCBjID0gLSAoIGZhciArIG5lYXIgKSAvICggZmFyIC0gbmVhciApO1xuXHRcdGNvbnN0IGQgPSAtIDIgKiBmYXIgKiBuZWFyIC8gKCBmYXIgLSBuZWFyICk7XG5cblx0XHR0ZVsgMCBdID0geDtcdHRlWyA0IF0gPSAwO1x0dGVbIDggXSA9IGE7XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEgXSA9IDA7XHR0ZVsgNSBdID0geTtcdHRlWyA5IF0gPSBiO1x0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAyIF0gPSAwO1x0dGVbIDYgXSA9IDA7XHR0ZVsgMTAgXSA9IGM7XHR0ZVsgMTQgXSA9IGQ7XG5cdFx0dGVbIDMgXSA9IDA7XHR0ZVsgNyBdID0gMDtcdHRlWyAxMSBdID0gLSAxO1x0dGVbIDE1IF0gPSAwO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VPcnRob2dyYXBoaWMoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHcgPSAxLjAgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IGggPSAxLjAgLyAoIHRvcCAtIGJvdHRvbSApO1xuXHRcdGNvbnN0IHAgPSAxLjAgLyAoIGZhciAtIG5lYXIgKTtcblxuXHRcdGNvbnN0IHggPSAoIHJpZ2h0ICsgbGVmdCApICogdztcblx0XHRjb25zdCB5ID0gKCB0b3AgKyBib3R0b20gKSAqIGg7XG5cdFx0Y29uc3QgeiA9ICggZmFyICsgbmVhciApICogcDtcblxuXHRcdHRlWyAwIF0gPSAyICogdztcdHRlWyA0IF0gPSAwO1x0dGVbIDggXSA9IDA7XHR0ZVsgMTIgXSA9IC0geDtcblx0XHR0ZVsgMSBdID0gMDtcdHRlWyA1IF0gPSAyICogaDtcdHRlWyA5IF0gPSAwO1x0dGVbIDEzIF0gPSAtIHk7XG5cdFx0dGVbIDIgXSA9IDA7XHR0ZVsgNiBdID0gMDtcdHRlWyAxMCBdID0gLSAyICogcDtcdHRlWyAxNCBdID0gLSB6O1xuXHRcdHRlWyAzIF0gPSAwO1x0dGVbIDcgXSA9IDA7XHR0ZVsgMTEgXSA9IDA7XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBtYXRyaXggKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtYXRyaXguZWxlbWVudHM7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAxNjsgaSArKyApIHtcblxuXHRcdFx0aWYgKCB0ZVsgaSBdICE9PSBtZVsgaSBdICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAxNjsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5lbGVtZW50c1sgaSBdID0gYXJyYXlbIGkgKyBvZmZzZXQgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGVbIDAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGVbIDEgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGVbIDIgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMyBdID0gdGVbIDMgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyA0IF0gPSB0ZVsgNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA1IF0gPSB0ZVsgNSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA2IF0gPSB0ZVsgNiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA3IF0gPSB0ZVsgNyBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDggXSA9IHRlWyA4IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDkgXSA9IHRlWyA5IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDEwIF0gPSB0ZVsgMTAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTEgXSA9IHRlWyAxMSBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDEyIF0gPSB0ZVsgMTIgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTMgXSA9IHRlWyAxMyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxNCBdID0gdGVbIDE0IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDE1IF0gPSB0ZVsgMTUgXTtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cbn1cblxuTWF0cml4NC5wcm90b3R5cGUuaXNNYXRyaXg0ID0gdHJ1ZTtcblxuY29uc3QgX3YxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX20xID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4NCgpO1xuY29uc3QgX3plcm8gPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCAwLCAwLCAwICk7XG5jb25zdCBfb25lID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMyggMSwgMSwgMSApO1xuY29uc3QgX3ggPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfeSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF96ID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5leHBvcnQgeyBNYXRyaXg0IH07XG4iLCJpbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uLmpzJztcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gJy4vTWF0cml4NC5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY29uc3QgX21hdHJpeCA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hdHJpeDQoKTtcbmNvbnN0IF9xdWF0ZXJuaW9uID0gLypAX19QVVJFX18qLyBuZXcgUXVhdGVybmlvbigpO1xuXG5jbGFzcyBFdWxlciB7XG5cblx0Y29uc3RydWN0b3IoIHggPSAwLCB5ID0gMCwgeiA9IDAsIG9yZGVyID0gRXVsZXIuRGVmYXVsdE9yZGVyICkge1xuXG5cdFx0dGhpcy5feCA9IHg7XG5cdFx0dGhpcy5feSA9IHk7XG5cdFx0dGhpcy5feiA9IHo7XG5cdFx0dGhpcy5fb3JkZXIgPSBvcmRlcjtcblxuXHR9XG5cblx0Z2V0IHgoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feDtcblxuXHR9XG5cblx0c2V0IHgoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feCA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHkoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feTtcblxuXHR9XG5cblx0c2V0IHkoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feSA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHooKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fejtcblxuXHR9XG5cblx0c2V0IHooIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feiA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IG9yZGVyKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyO1xuXG5cdH1cblxuXHRzZXQgb3JkZXIoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5fb3JkZXIgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiwgb3JkZXIgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyIHx8IHRoaXMuX29yZGVyO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRjb3B5KCBldWxlciApIHtcblxuXHRcdHRoaXMuX3ggPSBldWxlci5feDtcblx0XHR0aGlzLl95ID0gZXVsZXIuX3k7XG5cdFx0dGhpcy5feiA9IGV1bGVyLl96O1xuXHRcdHRoaXMuX29yZGVyID0gZXVsZXIuX29yZGVyO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Sb3RhdGlvbk1hdHJpeCggbSwgb3JkZXIsIHVwZGF0ZSApIHtcblxuXHRcdC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG5cblx0XHRjb25zdCB0ZSA9IG0uZWxlbWVudHM7XG5cdFx0Y29uc3QgbTExID0gdGVbIDAgXSwgbTEyID0gdGVbIDQgXSwgbTEzID0gdGVbIDggXTtcblx0XHRjb25zdCBtMjEgPSB0ZVsgMSBdLCBtMjIgPSB0ZVsgNSBdLCBtMjMgPSB0ZVsgOSBdO1xuXHRcdGNvbnN0IG0zMSA9IHRlWyAyIF0sIG0zMiA9IHRlWyA2IF0sIG0zMyA9IHRlWyAxMCBdO1xuXG5cdFx0b3JkZXIgPSBvcmRlciB8fCB0aGlzLl9vcmRlcjtcblxuXHRcdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0XHRjYXNlICdYWVonOlxuXG5cdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmFzaW4oIGNsYW1wKCBtMTMsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTEzICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggLSBtMjMsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCAtIG0xMiwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCBtMzIsIG0yMiApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSAwO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVhaJzpcblxuXHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hc2luKCAtIGNsYW1wKCBtMjMsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTIzICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggbTIxLCBtMjIgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIC0gbTMxLCBtMTEgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pYWSc6XG5cblx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXNpbiggY2xhbXAoIG0zMiwgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMzIgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCAtIG0zMSwgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIC0gbTEyLCBtMjIgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IDA7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIG0yMSwgbTExICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWVgnOlxuXG5cdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmFzaW4oIC0gY2xhbXAoIG0zMSwgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMzEgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCBtMzIsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCBtMjEsIG0xMSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggLSBtMTIsIG0yMiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVpYJzpcblxuXHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hc2luKCBjbGFtcCggbTIxLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0yMSApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIC0gbTIzLCBtMjIgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggLSBtMzEsIG0xMSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMzMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1haWSc6XG5cblx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXNpbiggLSBjbGFtcCggbTEyLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0xMiApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTIyICk7XG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIG0xMywgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCAtIG0yMywgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feSA9IDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJyArIG9yZGVyICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyO1xuXG5cdFx0aWYgKCB1cGRhdGUgIT09IGZhbHNlICkgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21RdWF0ZXJuaW9uKCBxLCBvcmRlciwgdXBkYXRlICkge1xuXG5cdFx0X21hdHJpeC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiggcSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBfbWF0cml4LCBvcmRlciwgdXBkYXRlICk7XG5cblx0fVxuXG5cdHNldEZyb21WZWN0b3IzKCB2LCBvcmRlciApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldCggdi54LCB2LnksIHYueiwgb3JkZXIgfHwgdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0cmVvcmRlciggbmV3T3JkZXIgKSB7XG5cblx0XHQvLyBXQVJOSU5HOiB0aGlzIGRpc2NhcmRzIHJldm9sdXRpb24gaW5mb3JtYXRpb24gLWJob3VzdG9uXG5cblx0XHRfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHRoaXMgKTtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21RdWF0ZXJuaW9uKCBfcXVhdGVybmlvbiwgbmV3T3JkZXIgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCBldWxlciApIHtcblxuXHRcdHJldHVybiAoIGV1bGVyLl94ID09PSB0aGlzLl94ICkgJiYgKCBldWxlci5feSA9PT0gdGhpcy5feSApICYmICggZXVsZXIuX3ogPT09IHRoaXMuX3ogKSAmJiAoIGV1bGVyLl9vcmRlciA9PT0gdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSApIHtcblxuXHRcdHRoaXMuX3ggPSBhcnJheVsgMCBdO1xuXHRcdHRoaXMuX3kgPSBhcnJheVsgMSBdO1xuXHRcdHRoaXMuX3ogPSBhcnJheVsgMiBdO1xuXHRcdGlmICggYXJyYXlbIDMgXSAhPT0gdW5kZWZpbmVkICkgdGhpcy5fb3JkZXIgPSBhcnJheVsgMyBdO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLl94O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLl95O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0aGlzLl96O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0aGlzLl9vcmRlcjtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0dG9WZWN0b3IzKCBvcHRpb25hbFJlc3VsdCApIHtcblxuXHRcdGlmICggb3B0aW9uYWxSZXN1bHQgKSB7XG5cblx0XHRcdHJldHVybiBvcHRpb25hbFJlc3VsdC5zZXQoIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3ogKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBuZXcgVmVjdG9yMyggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRfb25DaGFuZ2UoIGNhbGxiYWNrICkge1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdF9vbkNoYW5nZUNhbGxiYWNrKCkge31cblxufVxuXG5FdWxlci5wcm90b3R5cGUuaXNFdWxlciA9IHRydWU7XG5cbkV1bGVyLkRlZmF1bHRPcmRlciA9ICdYWVonO1xuRXVsZXIuUm90YXRpb25PcmRlcnMgPSBbICdYWVonLCAnWVpYJywgJ1pYWScsICdYWlknLCAnWVhaJywgJ1pZWCcgXTtcblxuZXhwb3J0IHsgRXVsZXIgfTtcbiIsImltcG9ydCAqIGFzIE1hdGhVdGlscyBmcm9tICcuL01hdGhVdGlscy5qcyc7XG5cbmNvbnN0IF9jb2xvcktleXdvcmRzID0geyAnYWxpY2VibHVlJzogMHhGMEY4RkYsICdhbnRpcXVld2hpdGUnOiAweEZBRUJENywgJ2FxdWEnOiAweDAwRkZGRiwgJ2FxdWFtYXJpbmUnOiAweDdGRkZENCwgJ2F6dXJlJzogMHhGMEZGRkYsXG5cdCdiZWlnZSc6IDB4RjVGNURDLCAnYmlzcXVlJzogMHhGRkU0QzQsICdibGFjayc6IDB4MDAwMDAwLCAnYmxhbmNoZWRhbG1vbmQnOiAweEZGRUJDRCwgJ2JsdWUnOiAweDAwMDBGRiwgJ2JsdWV2aW9sZXQnOiAweDhBMkJFMixcblx0J2Jyb3duJzogMHhBNTJBMkEsICdidXJseXdvb2QnOiAweERFQjg4NywgJ2NhZGV0Ymx1ZSc6IDB4NUY5RUEwLCAnY2hhcnRyZXVzZSc6IDB4N0ZGRjAwLCAnY2hvY29sYXRlJzogMHhEMjY5MUUsICdjb3JhbCc6IDB4RkY3RjUwLFxuXHQnY29ybmZsb3dlcmJsdWUnOiAweDY0OTVFRCwgJ2Nvcm5zaWxrJzogMHhGRkY4REMsICdjcmltc29uJzogMHhEQzE0M0MsICdjeWFuJzogMHgwMEZGRkYsICdkYXJrYmx1ZSc6IDB4MDAwMDhCLCAnZGFya2N5YW4nOiAweDAwOEI4Qixcblx0J2Rhcmtnb2xkZW5yb2QnOiAweEI4ODYwQiwgJ2RhcmtncmF5JzogMHhBOUE5QTksICdkYXJrZ3JlZW4nOiAweDAwNjQwMCwgJ2RhcmtncmV5JzogMHhBOUE5QTksICdkYXJra2hha2knOiAweEJEQjc2QiwgJ2RhcmttYWdlbnRhJzogMHg4QjAwOEIsXG5cdCdkYXJrb2xpdmVncmVlbic6IDB4NTU2QjJGLCAnZGFya29yYW5nZSc6IDB4RkY4QzAwLCAnZGFya29yY2hpZCc6IDB4OTkzMkNDLCAnZGFya3JlZCc6IDB4OEIwMDAwLCAnZGFya3NhbG1vbic6IDB4RTk5NjdBLCAnZGFya3NlYWdyZWVuJzogMHg4RkJDOEYsXG5cdCdkYXJrc2xhdGVibHVlJzogMHg0ODNEOEIsICdkYXJrc2xhdGVncmF5JzogMHgyRjRGNEYsICdkYXJrc2xhdGVncmV5JzogMHgyRjRGNEYsICdkYXJrdHVycXVvaXNlJzogMHgwMENFRDEsICdkYXJrdmlvbGV0JzogMHg5NDAwRDMsXG5cdCdkZWVwcGluayc6IDB4RkYxNDkzLCAnZGVlcHNreWJsdWUnOiAweDAwQkZGRiwgJ2RpbWdyYXknOiAweDY5Njk2OSwgJ2RpbWdyZXknOiAweDY5Njk2OSwgJ2RvZGdlcmJsdWUnOiAweDFFOTBGRiwgJ2ZpcmVicmljayc6IDB4QjIyMjIyLFxuXHQnZmxvcmFsd2hpdGUnOiAweEZGRkFGMCwgJ2ZvcmVzdGdyZWVuJzogMHgyMjhCMjIsICdmdWNoc2lhJzogMHhGRjAwRkYsICdnYWluc2Jvcm8nOiAweERDRENEQywgJ2dob3N0d2hpdGUnOiAweEY4RjhGRiwgJ2dvbGQnOiAweEZGRDcwMCxcblx0J2dvbGRlbnJvZCc6IDB4REFBNTIwLCAnZ3JheSc6IDB4ODA4MDgwLCAnZ3JlZW4nOiAweDAwODAwMCwgJ2dyZWVueWVsbG93JzogMHhBREZGMkYsICdncmV5JzogMHg4MDgwODAsICdob25leWRldyc6IDB4RjBGRkYwLCAnaG90cGluayc6IDB4RkY2OUI0LFxuXHQnaW5kaWFucmVkJzogMHhDRDVDNUMsICdpbmRpZ28nOiAweDRCMDA4MiwgJ2l2b3J5JzogMHhGRkZGRjAsICdraGFraSc6IDB4RjBFNjhDLCAnbGF2ZW5kZXInOiAweEU2RTZGQSwgJ2xhdmVuZGVyYmx1c2gnOiAweEZGRjBGNSwgJ2xhd25ncmVlbic6IDB4N0NGQzAwLFxuXHQnbGVtb25jaGlmZm9uJzogMHhGRkZBQ0QsICdsaWdodGJsdWUnOiAweEFERDhFNiwgJ2xpZ2h0Y29yYWwnOiAweEYwODA4MCwgJ2xpZ2h0Y3lhbic6IDB4RTBGRkZGLCAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnOiAweEZBRkFEMiwgJ2xpZ2h0Z3JheSc6IDB4RDNEM0QzLFxuXHQnbGlnaHRncmVlbic6IDB4OTBFRTkwLCAnbGlnaHRncmV5JzogMHhEM0QzRDMsICdsaWdodHBpbmsnOiAweEZGQjZDMSwgJ2xpZ2h0c2FsbW9uJzogMHhGRkEwN0EsICdsaWdodHNlYWdyZWVuJzogMHgyMEIyQUEsICdsaWdodHNreWJsdWUnOiAweDg3Q0VGQSxcblx0J2xpZ2h0c2xhdGVncmF5JzogMHg3Nzg4OTksICdsaWdodHNsYXRlZ3JleSc6IDB4Nzc4ODk5LCAnbGlnaHRzdGVlbGJsdWUnOiAweEIwQzRERSwgJ2xpZ2h0eWVsbG93JzogMHhGRkZGRTAsICdsaW1lJzogMHgwMEZGMDAsICdsaW1lZ3JlZW4nOiAweDMyQ0QzMixcblx0J2xpbmVuJzogMHhGQUYwRTYsICdtYWdlbnRhJzogMHhGRjAwRkYsICdtYXJvb24nOiAweDgwMDAwMCwgJ21lZGl1bWFxdWFtYXJpbmUnOiAweDY2Q0RBQSwgJ21lZGl1bWJsdWUnOiAweDAwMDBDRCwgJ21lZGl1bW9yY2hpZCc6IDB4QkE1NUQzLFxuXHQnbWVkaXVtcHVycGxlJzogMHg5MzcwREIsICdtZWRpdW1zZWFncmVlbic6IDB4M0NCMzcxLCAnbWVkaXVtc2xhdGVibHVlJzogMHg3QjY4RUUsICdtZWRpdW1zcHJpbmdncmVlbic6IDB4MDBGQTlBLCAnbWVkaXVtdHVycXVvaXNlJzogMHg0OEQxQ0MsXG5cdCdtZWRpdW12aW9sZXRyZWQnOiAweEM3MTU4NSwgJ21pZG5pZ2h0Ymx1ZSc6IDB4MTkxOTcwLCAnbWludGNyZWFtJzogMHhGNUZGRkEsICdtaXN0eXJvc2UnOiAweEZGRTRFMSwgJ21vY2Nhc2luJzogMHhGRkU0QjUsICduYXZham93aGl0ZSc6IDB4RkZERUFELFxuXHQnbmF2eSc6IDB4MDAwMDgwLCAnb2xkbGFjZSc6IDB4RkRGNUU2LCAnb2xpdmUnOiAweDgwODAwMCwgJ29saXZlZHJhYic6IDB4NkI4RTIzLCAnb3JhbmdlJzogMHhGRkE1MDAsICdvcmFuZ2VyZWQnOiAweEZGNDUwMCwgJ29yY2hpZCc6IDB4REE3MEQ2LFxuXHQncGFsZWdvbGRlbnJvZCc6IDB4RUVFOEFBLCAncGFsZWdyZWVuJzogMHg5OEZCOTgsICdwYWxldHVycXVvaXNlJzogMHhBRkVFRUUsICdwYWxldmlvbGV0cmVkJzogMHhEQjcwOTMsICdwYXBheWF3aGlwJzogMHhGRkVGRDUsICdwZWFjaHB1ZmYnOiAweEZGREFCOSxcblx0J3BlcnUnOiAweENEODUzRiwgJ3BpbmsnOiAweEZGQzBDQiwgJ3BsdW0nOiAweEREQTBERCwgJ3Bvd2RlcmJsdWUnOiAweEIwRTBFNiwgJ3B1cnBsZSc6IDB4ODAwMDgwLCAncmViZWNjYXB1cnBsZSc6IDB4NjYzMzk5LCAncmVkJzogMHhGRjAwMDAsICdyb3N5YnJvd24nOiAweEJDOEY4Rixcblx0J3JveWFsYmx1ZSc6IDB4NDE2OUUxLCAnc2FkZGxlYnJvd24nOiAweDhCNDUxMywgJ3NhbG1vbic6IDB4RkE4MDcyLCAnc2FuZHlicm93bic6IDB4RjRBNDYwLCAnc2VhZ3JlZW4nOiAweDJFOEI1NywgJ3NlYXNoZWxsJzogMHhGRkY1RUUsXG5cdCdzaWVubmEnOiAweEEwNTIyRCwgJ3NpbHZlcic6IDB4QzBDMEMwLCAnc2t5Ymx1ZSc6IDB4ODdDRUVCLCAnc2xhdGVibHVlJzogMHg2QTVBQ0QsICdzbGF0ZWdyYXknOiAweDcwODA5MCwgJ3NsYXRlZ3JleSc6IDB4NzA4MDkwLCAnc25vdyc6IDB4RkZGQUZBLFxuXHQnc3ByaW5nZ3JlZW4nOiAweDAwRkY3RiwgJ3N0ZWVsYmx1ZSc6IDB4NDY4MkI0LCAndGFuJzogMHhEMkI0OEMsICd0ZWFsJzogMHgwMDgwODAsICd0aGlzdGxlJzogMHhEOEJGRDgsICd0b21hdG8nOiAweEZGNjM0NywgJ3R1cnF1b2lzZSc6IDB4NDBFMEQwLFxuXHQndmlvbGV0JzogMHhFRTgyRUUsICd3aGVhdCc6IDB4RjVERUIzLCAnd2hpdGUnOiAweEZGRkZGRiwgJ3doaXRlc21va2UnOiAweEY1RjVGNSwgJ3llbGxvdyc6IDB4RkZGRjAwLCAneWVsbG93Z3JlZW4nOiAweDlBQ0QzMiB9O1xuXG5jb25zdCBfaHNsQSA9IHsgaDogMCwgczogMCwgbDogMCB9O1xuY29uc3QgX2hzbEIgPSB7IGg6IDAsIHM6IDAsIGw6IDAgfTtcblxuZnVuY3Rpb24gaHVlMnJnYiggcCwgcSwgdCApIHtcblxuXHRpZiAoIHQgPCAwICkgdCArPSAxO1xuXHRpZiAoIHQgPiAxICkgdCAtPSAxO1xuXHRpZiAoIHQgPCAxIC8gNiApIHJldHVybiBwICsgKCBxIC0gcCApICogNiAqIHQ7XG5cdGlmICggdCA8IDEgLyAyICkgcmV0dXJuIHE7XG5cdGlmICggdCA8IDIgLyAzICkgcmV0dXJuIHAgKyAoIHEgLSBwICkgKiA2ICogKCAyIC8gMyAtIHQgKTtcblx0cmV0dXJuIHA7XG5cbn1cblxuZnVuY3Rpb24gU1JHQlRvTGluZWFyKCBjICkge1xuXG5cdHJldHVybiAoIGMgPCAwLjA0MDQ1ICkgPyBjICogMC4wNzczOTkzODA4IDogTWF0aC5wb3coIGMgKiAwLjk0Nzg2NzI5ODYgKyAwLjA1MjEzMjcwMTQsIDIuNCApO1xuXG59XG5cbmZ1bmN0aW9uIExpbmVhclRvU1JHQiggYyApIHtcblxuXHRyZXR1cm4gKCBjIDwgMC4wMDMxMzA4ICkgPyBjICogMTIuOTIgOiAxLjA1NSAqICggTWF0aC5wb3coIGMsIDAuNDE2NjYgKSApIC0gMC4wNTU7XG5cbn1cblxuY2xhc3MgQ29sb3Ige1xuXG5cdGNvbnN0cnVjdG9yKCByLCBnLCBiICkge1xuXG5cdFx0aWYgKCBnID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyByIGlzIFRIUkVFLkNvbG9yLCBoZXggb3Igc3RyaW5nXG5cdFx0XHRyZXR1cm4gdGhpcy5zZXQoIHIgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnNldFJHQiggciwgZywgYiApO1xuXG5cdH1cblxuXHRzZXQoIHZhbHVlICkge1xuXG5cdFx0aWYgKCB2YWx1ZSAmJiB2YWx1ZS5pc0NvbG9yICkge1xuXG5cdFx0XHR0aGlzLmNvcHkoIHZhbHVlICk7XG5cblx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICkge1xuXG5cdFx0XHR0aGlzLnNldEhleCggdmFsdWUgKTtcblxuXHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgKSB7XG5cblx0XHRcdHRoaXMuc2V0U3R5bGUoIHZhbHVlICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnIgPSBzY2FsYXI7XG5cdFx0dGhpcy5nID0gc2NhbGFyO1xuXHRcdHRoaXMuYiA9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRIZXgoIGhleCApIHtcblxuXHRcdGhleCA9IE1hdGguZmxvb3IoIGhleCApO1xuXG5cdFx0dGhpcy5yID0gKCBoZXggPj4gMTYgJiAyNTUgKSAvIDI1NTtcblx0XHR0aGlzLmcgPSAoIGhleCA+PiA4ICYgMjU1ICkgLyAyNTU7XG5cdFx0dGhpcy5iID0gKCBoZXggJiAyNTUgKSAvIDI1NTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRSR0IoIHIsIGcsIGIgKSB7XG5cblx0XHR0aGlzLnIgPSByO1xuXHRcdHRoaXMuZyA9IGc7XG5cdFx0dGhpcy5iID0gYjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRIU0woIGgsIHMsIGwgKSB7XG5cblx0XHQvLyBoLHMsbCByYW5nZXMgYXJlIGluIDAuMCAtIDEuMFxuXHRcdGggPSBNYXRoVXRpbHMuZXVjbGlkZWFuTW9kdWxvKCBoLCAxICk7XG5cdFx0cyA9IE1hdGhVdGlscy5jbGFtcCggcywgMCwgMSApO1xuXHRcdGwgPSBNYXRoVXRpbHMuY2xhbXAoIGwsIDAsIDEgKTtcblxuXHRcdGlmICggcyA9PT0gMCApIHtcblxuXHRcdFx0dGhpcy5yID0gdGhpcy5nID0gdGhpcy5iID0gbDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnN0IHAgPSBsIDw9IDAuNSA/IGwgKiAoIDEgKyBzICkgOiBsICsgcyAtICggbCAqIHMgKTtcblx0XHRcdGNvbnN0IHEgPSAoIDIgKiBsICkgLSBwO1xuXG5cdFx0XHR0aGlzLnIgPSBodWUycmdiKCBxLCBwLCBoICsgMSAvIDMgKTtcblx0XHRcdHRoaXMuZyA9IGh1ZTJyZ2IoIHEsIHAsIGggKTtcblx0XHRcdHRoaXMuYiA9IGh1ZTJyZ2IoIHEsIHAsIGggLSAxIC8gMyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFN0eWxlKCBzdHlsZSApIHtcblxuXHRcdGZ1bmN0aW9uIGhhbmRsZUFscGhhKCBzdHJpbmcgKSB7XG5cblx0XHRcdGlmICggc3RyaW5nID09PSB1bmRlZmluZWQgKSByZXR1cm47XG5cblx0XHRcdGlmICggcGFyc2VGbG9hdCggc3RyaW5nICkgPCAxICkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkNvbG9yOiBBbHBoYSBjb21wb25lbnQgb2YgJyArIHN0eWxlICsgJyB3aWxsIGJlIGlnbm9yZWQuJyApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblxuXHRcdGxldCBtO1xuXG5cdFx0aWYgKCBtID0gL14oKD86cmdifGhzbClhPylcXCgoW15cXCldKilcXCkvLmV4ZWMoIHN0eWxlICkgKSB7XG5cblx0XHRcdC8vIHJnYiAvIGhzbFxuXG5cdFx0XHRsZXQgY29sb3I7XG5cdFx0XHRjb25zdCBuYW1lID0gbVsgMSBdO1xuXHRcdFx0Y29uc3QgY29tcG9uZW50cyA9IG1bIDIgXTtcblxuXHRcdFx0c3dpdGNoICggbmFtZSApIHtcblxuXHRcdFx0XHRjYXNlICdyZ2InOlxuXHRcdFx0XHRjYXNlICdyZ2JhJzpcblxuXHRcdFx0XHRcdGlmICggY29sb3IgPSAvXlxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqKD86LFxccyooXFxkKlxcLj9cXGQrKVxccyopPyQvLmV4ZWMoIGNvbXBvbmVudHMgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmdiKDI1NSwwLDApIHJnYmEoMjU1LDAsMCwwLjUpXG5cdFx0XHRcdFx0XHR0aGlzLnIgPSBNYXRoLm1pbiggMjU1LCBwYXJzZUludCggY29sb3JbIDEgXSwgMTAgKSApIC8gMjU1O1xuXHRcdFx0XHRcdFx0dGhpcy5nID0gTWF0aC5taW4oIDI1NSwgcGFyc2VJbnQoIGNvbG9yWyAyIF0sIDEwICkgKSAvIDI1NTtcblx0XHRcdFx0XHRcdHRoaXMuYiA9IE1hdGgubWluKCAyNTUsIHBhcnNlSW50KCBjb2xvclsgMyBdLCAxMCApICkgLyAyNTU7XG5cblx0XHRcdFx0XHRcdGhhbmRsZUFscGhhKCBjb2xvclsgNCBdICk7XG5cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBjb2xvciA9IC9eXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyooPzosXFxzKihcXGQqXFwuP1xcZCspXFxzKik/JC8uZXhlYyggY29tcG9uZW50cyApICkge1xuXG5cdFx0XHRcdFx0XHQvLyByZ2IoMTAwJSwwJSwwJSkgcmdiYSgxMDAlLDAlLDAlLDAuNSlcblx0XHRcdFx0XHRcdHRoaXMuciA9IE1hdGgubWluKCAxMDAsIHBhcnNlSW50KCBjb2xvclsgMSBdLCAxMCApICkgLyAxMDA7XG5cdFx0XHRcdFx0XHR0aGlzLmcgPSBNYXRoLm1pbiggMTAwLCBwYXJzZUludCggY29sb3JbIDIgXSwgMTAgKSApIC8gMTAwO1xuXHRcdFx0XHRcdFx0dGhpcy5iID0gTWF0aC5taW4oIDEwMCwgcGFyc2VJbnQoIGNvbG9yWyAzIF0sIDEwICkgKSAvIDEwMDtcblxuXHRcdFx0XHRcdFx0aGFuZGxlQWxwaGEoIGNvbG9yWyA0IF0gKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdoc2wnOlxuXHRcdFx0XHRjYXNlICdoc2xhJzpcblxuXHRcdFx0XHRcdGlmICggY29sb3IgPSAvXlxccyooXFxkKlxcLj9cXGQrKVxccyosXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyooPzosXFxzKihcXGQqXFwuP1xcZCspXFxzKik/JC8uZXhlYyggY29tcG9uZW50cyApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBoc2woMTIwLDUwJSw1MCUpIGhzbGEoMTIwLDUwJSw1MCUsMC41KVxuXHRcdFx0XHRcdFx0Y29uc3QgaCA9IHBhcnNlRmxvYXQoIGNvbG9yWyAxIF0gKSAvIDM2MDtcblx0XHRcdFx0XHRcdGNvbnN0IHMgPSBwYXJzZUludCggY29sb3JbIDIgXSwgMTAgKSAvIDEwMDtcblx0XHRcdFx0XHRcdGNvbnN0IGwgPSBwYXJzZUludCggY29sb3JbIDMgXSwgMTAgKSAvIDEwMDtcblxuXHRcdFx0XHRcdFx0aGFuZGxlQWxwaGEoIGNvbG9yWyA0IF0gKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0SFNMKCBoLCBzLCBsICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggbSA9IC9eXFwjKFtBLUZhLWZcXGRdKykkLy5leGVjKCBzdHlsZSApICkge1xuXG5cdFx0XHQvLyBoZXggY29sb3JcblxuXHRcdFx0Y29uc3QgaGV4ID0gbVsgMSBdO1xuXHRcdFx0Y29uc3Qgc2l6ZSA9IGhleC5sZW5ndGg7XG5cblx0XHRcdGlmICggc2l6ZSA9PT0gMyApIHtcblxuXHRcdFx0XHQvLyAjZmYwXG5cdFx0XHRcdHRoaXMuciA9IHBhcnNlSW50KCBoZXguY2hhckF0KCAwICkgKyBoZXguY2hhckF0KCAwICksIDE2ICkgLyAyNTU7XG5cdFx0XHRcdHRoaXMuZyA9IHBhcnNlSW50KCBoZXguY2hhckF0KCAxICkgKyBoZXguY2hhckF0KCAxICksIDE2ICkgLyAyNTU7XG5cdFx0XHRcdHRoaXMuYiA9IHBhcnNlSW50KCBoZXguY2hhckF0KCAyICkgKyBoZXguY2hhckF0KCAyICksIDE2ICkgLyAyNTU7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHNpemUgPT09IDYgKSB7XG5cblx0XHRcdFx0Ly8gI2ZmMDAwMFxuXHRcdFx0XHR0aGlzLnIgPSBwYXJzZUludCggaGV4LmNoYXJBdCggMCApICsgaGV4LmNoYXJBdCggMSApLCAxNiApIC8gMjU1O1xuXHRcdFx0XHR0aGlzLmcgPSBwYXJzZUludCggaGV4LmNoYXJBdCggMiApICsgaGV4LmNoYXJBdCggMyApLCAxNiApIC8gMjU1O1xuXHRcdFx0XHR0aGlzLmIgPSBwYXJzZUludCggaGV4LmNoYXJBdCggNCApICsgaGV4LmNoYXJBdCggNSApLCAxNiApIC8gMjU1O1xuXG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoIHN0eWxlICYmIHN0eWxlLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLnNldENvbG9yTmFtZSggc3R5bGUgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb2xvck5hbWUoIHN0eWxlICkge1xuXG5cdFx0Ly8gY29sb3Iga2V5d29yZHNcblx0XHRjb25zdCBoZXggPSBfY29sb3JLZXl3b3Jkc1sgc3R5bGUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0aWYgKCBoZXggIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gcmVkXG5cdFx0XHR0aGlzLnNldEhleCggaGV4ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyB1bmtub3duIGNvbG9yXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Db2xvcjogVW5rbm93biBjb2xvciAnICsgc3R5bGUgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy5yLCB0aGlzLmcsIHRoaXMuYiApO1xuXG5cdH1cblxuXHRjb3B5KCBjb2xvciApIHtcblxuXHRcdHRoaXMuciA9IGNvbG9yLnI7XG5cdFx0dGhpcy5nID0gY29sb3IuZztcblx0XHR0aGlzLmIgPSBjb2xvci5iO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHlHYW1tYVRvTGluZWFyKCBjb2xvciwgZ2FtbWFGYWN0b3IgPSAyLjAgKSB7XG5cblx0XHR0aGlzLnIgPSBNYXRoLnBvdyggY29sb3IuciwgZ2FtbWFGYWN0b3IgKTtcblx0XHR0aGlzLmcgPSBNYXRoLnBvdyggY29sb3IuZywgZ2FtbWFGYWN0b3IgKTtcblx0XHR0aGlzLmIgPSBNYXRoLnBvdyggY29sb3IuYiwgZ2FtbWFGYWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5TGluZWFyVG9HYW1tYSggY29sb3IsIGdhbW1hRmFjdG9yID0gMi4wICkge1xuXG5cdFx0Y29uc3Qgc2FmZUludmVyc2UgPSAoIGdhbW1hRmFjdG9yID4gMCApID8gKCAxLjAgLyBnYW1tYUZhY3RvciApIDogMS4wO1xuXG5cdFx0dGhpcy5yID0gTWF0aC5wb3coIGNvbG9yLnIsIHNhZmVJbnZlcnNlICk7XG5cdFx0dGhpcy5nID0gTWF0aC5wb3coIGNvbG9yLmcsIHNhZmVJbnZlcnNlICk7XG5cdFx0dGhpcy5iID0gTWF0aC5wb3coIGNvbG9yLmIsIHNhZmVJbnZlcnNlICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udmVydEdhbW1hVG9MaW5lYXIoIGdhbW1hRmFjdG9yICkge1xuXG5cdFx0dGhpcy5jb3B5R2FtbWFUb0xpbmVhciggdGhpcywgZ2FtbWFGYWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb252ZXJ0TGluZWFyVG9HYW1tYSggZ2FtbWFGYWN0b3IgKSB7XG5cblx0XHR0aGlzLmNvcHlMaW5lYXJUb0dhbW1hKCB0aGlzLCBnYW1tYUZhY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHlTUkdCVG9MaW5lYXIoIGNvbG9yICkge1xuXG5cdFx0dGhpcy5yID0gU1JHQlRvTGluZWFyKCBjb2xvci5yICk7XG5cdFx0dGhpcy5nID0gU1JHQlRvTGluZWFyKCBjb2xvci5nICk7XG5cdFx0dGhpcy5iID0gU1JHQlRvTGluZWFyKCBjb2xvci5iICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29weUxpbmVhclRvU1JHQiggY29sb3IgKSB7XG5cblx0XHR0aGlzLnIgPSBMaW5lYXJUb1NSR0IoIGNvbG9yLnIgKTtcblx0XHR0aGlzLmcgPSBMaW5lYXJUb1NSR0IoIGNvbG9yLmcgKTtcblx0XHR0aGlzLmIgPSBMaW5lYXJUb1NSR0IoIGNvbG9yLmIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb252ZXJ0U1JHQlRvTGluZWFyKCkge1xuXG5cdFx0dGhpcy5jb3B5U1JHQlRvTGluZWFyKCB0aGlzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udmVydExpbmVhclRvU1JHQigpIHtcblxuXHRcdHRoaXMuY29weUxpbmVhclRvU1JHQiggdGhpcyApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldEhleCgpIHtcblxuXHRcdHJldHVybiAoIHRoaXMuciAqIDI1NSApIDw8IDE2IF4gKCB0aGlzLmcgKiAyNTUgKSA8PCA4IF4gKCB0aGlzLmIgKiAyNTUgKSA8PCAwO1xuXG5cdH1cblxuXHRnZXRIZXhTdHJpbmcoKSB7XG5cblx0XHRyZXR1cm4gKCAnMDAwMDAwJyArIHRoaXMuZ2V0SGV4KCkudG9TdHJpbmcoIDE2ICkgKS5zbGljZSggLSA2ICk7XG5cblx0fVxuXG5cdGdldEhTTCggdGFyZ2V0ICkge1xuXG5cdFx0Ly8gaCxzLGwgcmFuZ2VzIGFyZSBpbiAwLjAgLSAxLjBcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkNvbG9yOiAuZ2V0SFNMKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IHsgaDogMCwgczogMCwgbDogMCB9O1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgciA9IHRoaXMuciwgZyA9IHRoaXMuZywgYiA9IHRoaXMuYjtcblxuXHRcdGNvbnN0IG1heCA9IE1hdGgubWF4KCByLCBnLCBiICk7XG5cdFx0Y29uc3QgbWluID0gTWF0aC5taW4oIHIsIGcsIGIgKTtcblxuXHRcdGxldCBodWUsIHNhdHVyYXRpb247XG5cdFx0Y29uc3QgbGlnaHRuZXNzID0gKCBtaW4gKyBtYXggKSAvIDIuMDtcblxuXHRcdGlmICggbWluID09PSBtYXggKSB7XG5cblx0XHRcdGh1ZSA9IDA7XG5cdFx0XHRzYXR1cmF0aW9uID0gMDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnN0IGRlbHRhID0gbWF4IC0gbWluO1xuXG5cdFx0XHRzYXR1cmF0aW9uID0gbGlnaHRuZXNzIDw9IDAuNSA/IGRlbHRhIC8gKCBtYXggKyBtaW4gKSA6IGRlbHRhIC8gKCAyIC0gbWF4IC0gbWluICk7XG5cblx0XHRcdHN3aXRjaCAoIG1heCApIHtcblxuXHRcdFx0XHRjYXNlIHI6IGh1ZSA9ICggZyAtIGIgKSAvIGRlbHRhICsgKCBnIDwgYiA/IDYgOiAwICk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGc6IGh1ZSA9ICggYiAtIHIgKSAvIGRlbHRhICsgMjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgYjogaHVlID0gKCByIC0gZyApIC8gZGVsdGEgKyA0OyBicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0XHRodWUgLz0gNjtcblxuXHRcdH1cblxuXHRcdHRhcmdldC5oID0gaHVlO1xuXHRcdHRhcmdldC5zID0gc2F0dXJhdGlvbjtcblx0XHR0YXJnZXQubCA9IGxpZ2h0bmVzcztcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fVxuXG5cdGdldFN0eWxlKCkge1xuXG5cdFx0cmV0dXJuICdyZ2IoJyArICggKCB0aGlzLnIgKiAyNTUgKSB8IDAgKSArICcsJyArICggKCB0aGlzLmcgKiAyNTUgKSB8IDAgKSArICcsJyArICggKCB0aGlzLmIgKiAyNTUgKSB8IDAgKSArICcpJztcblxuXHR9XG5cblx0b2Zmc2V0SFNMKCBoLCBzLCBsICkge1xuXG5cdFx0dGhpcy5nZXRIU0woIF9oc2xBICk7XG5cblx0XHRfaHNsQS5oICs9IGg7IF9oc2xBLnMgKz0gczsgX2hzbEEubCArPSBsO1xuXG5cdFx0dGhpcy5zZXRIU0woIF9oc2xBLmgsIF9oc2xBLnMsIF9oc2xBLmwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGQoIGNvbG9yICkge1xuXG5cdFx0dGhpcy5yICs9IGNvbG9yLnI7XG5cdFx0dGhpcy5nICs9IGNvbG9yLmc7XG5cdFx0dGhpcy5iICs9IGNvbG9yLmI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkQ29sb3JzKCBjb2xvcjEsIGNvbG9yMiApIHtcblxuXHRcdHRoaXMuciA9IGNvbG9yMS5yICsgY29sb3IyLnI7XG5cdFx0dGhpcy5nID0gY29sb3IxLmcgKyBjb2xvcjIuZztcblx0XHR0aGlzLmIgPSBjb2xvcjEuYiArIGNvbG9yMi5iO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxhciggcyApIHtcblxuXHRcdHRoaXMuciArPSBzO1xuXHRcdHRoaXMuZyArPSBzO1xuXHRcdHRoaXMuYiArPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggY29sb3IgKSB7XG5cblx0XHR0aGlzLnIgPSBNYXRoLm1heCggMCwgdGhpcy5yIC0gY29sb3IuciApO1xuXHRcdHRoaXMuZyA9IE1hdGgubWF4KCAwLCB0aGlzLmcgLSBjb2xvci5nICk7XG5cdFx0dGhpcy5iID0gTWF0aC5tYXgoIDAsIHRoaXMuYiAtIGNvbG9yLmIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggY29sb3IgKSB7XG5cblx0XHR0aGlzLnIgKj0gY29sb3Iucjtcblx0XHR0aGlzLmcgKj0gY29sb3IuZztcblx0XHR0aGlzLmIgKj0gY29sb3IuYjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVNjYWxhciggcyApIHtcblxuXHRcdHRoaXMuciAqPSBzO1xuXHRcdHRoaXMuZyAqPSBzO1xuXHRcdHRoaXMuYiAqPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnAoIGNvbG9yLCBhbHBoYSApIHtcblxuXHRcdHRoaXMuciArPSAoIGNvbG9yLnIgLSB0aGlzLnIgKSAqIGFscGhhO1xuXHRcdHRoaXMuZyArPSAoIGNvbG9yLmcgLSB0aGlzLmcgKSAqIGFscGhhO1xuXHRcdHRoaXMuYiArPSAoIGNvbG9yLmIgLSB0aGlzLmIgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBDb2xvcnMoIGNvbG9yMSwgY29sb3IyLCBhbHBoYSApIHtcblxuXHRcdHRoaXMuciA9IGNvbG9yMS5yICsgKCBjb2xvcjIuciAtIGNvbG9yMS5yICkgKiBhbHBoYTtcblx0XHR0aGlzLmcgPSBjb2xvcjEuZyArICggY29sb3IyLmcgLSBjb2xvcjEuZyApICogYWxwaGE7XG5cdFx0dGhpcy5iID0gY29sb3IxLmIgKyAoIGNvbG9yMi5iIC0gY29sb3IxLmIgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBIU0woIGNvbG9yLCBhbHBoYSApIHtcblxuXHRcdHRoaXMuZ2V0SFNMKCBfaHNsQSApO1xuXHRcdGNvbG9yLmdldEhTTCggX2hzbEIgKTtcblxuXHRcdGNvbnN0IGggPSBNYXRoVXRpbHMubGVycCggX2hzbEEuaCwgX2hzbEIuaCwgYWxwaGEgKTtcblx0XHRjb25zdCBzID0gTWF0aFV0aWxzLmxlcnAoIF9oc2xBLnMsIF9oc2xCLnMsIGFscGhhICk7XG5cdFx0Y29uc3QgbCA9IE1hdGhVdGlscy5sZXJwKCBfaHNsQS5sLCBfaHNsQi5sLCBhbHBoYSApO1xuXG5cdFx0dGhpcy5zZXRIU0woIGgsIHMsIGwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGMgKSB7XG5cblx0XHRyZXR1cm4gKCBjLnIgPT09IHRoaXMuciApICYmICggYy5nID09PSB0aGlzLmcgKSAmJiAoIGMuYiA9PT0gdGhpcy5iICk7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHR0aGlzLnIgPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy5nID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblx0XHR0aGlzLmIgPSBhcnJheVsgb2Zmc2V0ICsgMiBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLnI7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuZztcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGhpcy5iO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHRmcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUsIGluZGV4ICkge1xuXG5cdFx0dGhpcy5yID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy5nID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cdFx0dGhpcy5iID0gYXR0cmlidXRlLmdldFooIGluZGV4ICk7XG5cblx0XHRpZiAoIGF0dHJpYnV0ZS5ub3JtYWxpemVkID09PSB0cnVlICkge1xuXG5cdFx0XHQvLyBhc3N1bWluZyBVaW50OEFycmF5XG5cblx0XHRcdHRoaXMuciAvPSAyNTU7XG5cdFx0XHR0aGlzLmcgLz0gMjU1O1xuXHRcdFx0dGhpcy5iIC89IDI1NTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0pTT04oKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5nZXRIZXgoKTtcblxuXHR9XG5cbn1cblxuQ29sb3IuTkFNRVMgPSBfY29sb3JLZXl3b3JkcztcblxuQ29sb3IucHJvdG90eXBlLmlzQ29sb3IgPSB0cnVlO1xuQ29sb3IucHJvdG90eXBlLnIgPSAxO1xuQ29sb3IucHJvdG90eXBlLmcgPSAxO1xuQ29sb3IucHJvdG90eXBlLmIgPSAxO1xuXG5leHBvcnQgeyBDb2xvciB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMi5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IyKCk7XG5cbmNsYXNzIEJveDIge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4gPSBuZXcgVmVjdG9yMiggKyBJbmZpbml0eSwgKyBJbmZpbml0eSApLCBtYXggPSBuZXcgVmVjdG9yMiggLSBJbmZpbml0eSwgLSBJbmZpbml0eSApICkge1xuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHR0aGlzLm1pbi5jb3B5KCBjZW50ZXIgKS5zdWIoIGhhbGZTaXplICk7XG5cdFx0dGhpcy5tYXguY29weSggY2VudGVyICkuYWRkKCBoYWxmU2l6ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxuXHRjb3B5KCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXguY29weSggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VFbXB0eSgpIHtcblxuXHRcdHRoaXMubWluLnggPSB0aGlzLm1pbi55ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IC0gSW5maW5pdHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aXNFbXB0eSgpIHtcblxuXHRcdC8vIHRoaXMgaXMgYSBtb3JlIHJvYnVzdCBjaGVjayBmb3IgZW1wdHkgdGhhbiAoIHZvbHVtZSA8PSAwICkgYmVjYXVzZSB2b2x1bWUgY2FuIGdldCBwb3NpdGl2ZSB3aXRoIHR3byBuZWdhdGl2ZSBheGVzXG5cblx0XHRyZXR1cm4gKCB0aGlzLm1heC54IDwgdGhpcy5taW4ueCApIHx8ICggdGhpcy5tYXgueSA8IHRoaXMubWluLnkgKTtcblxuXHR9XG5cblx0Z2V0Q2VudGVyKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwICkgOiB0YXJnZXQuYWRkVmVjdG9ycyggdGhpcy5taW4sIHRoaXMubWF4ICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRnZXRTaXplKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0U2l6ZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCggMCwgMCApIDogdGFyZ2V0LnN1YlZlY3RvcnMoIHRoaXMubWF4LCB0aGlzLm1pbiApO1xuXG5cdH1cblxuXHRleHBhbmRCeVBvaW50KCBwb2ludCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggcG9pbnQgKTtcblx0XHR0aGlzLm1heC5tYXgoIHBvaW50ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXhwYW5kQnlWZWN0b3IoIHZlY3RvciApIHtcblxuXHRcdHRoaXMubWluLnN1YiggdmVjdG9yICk7XG5cdFx0dGhpcy5tYXguYWRkKCB2ZWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy5taW4uYWRkU2NhbGFyKCAtIHNjYWxhciApO1xuXHRcdHRoaXMubWF4LmFkZFNjYWxhciggc2NhbGFyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udGFpbnNQb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gcG9pbnQueCA8IHRoaXMubWluLnggfHwgcG9pbnQueCA+IHRoaXMubWF4LnggfHxcblx0XHRcdHBvaW50LnkgPCB0aGlzLm1pbi55IHx8IHBvaW50LnkgPiB0aGlzLm1heC55ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRjb250YWluc0JveCggYm94ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubWluLnggPD0gYm94Lm1pbi54ICYmIGJveC5tYXgueCA8PSB0aGlzLm1heC54ICYmXG5cdFx0XHR0aGlzLm1pbi55IDw9IGJveC5taW4ueSAmJiBib3gubWF4LnkgPD0gdGhpcy5tYXgueTtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA0IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9uc1xuXG5cdFx0cmV0dXJuIGJveC5tYXgueCA8IHRoaXMubWluLnggfHwgYm94Lm1pbi54ID4gdGhpcy5tYXgueCB8fFxuXHRcdFx0Ym94Lm1heC55IDwgdGhpcy5taW4ueSB8fCBib3gubWluLnkgPiB0aGlzLm1heC55ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRjbGFtcFBvaW50KCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggcG9pbnQgKS5jbGFtcCggdGhpcy5taW4sIHRoaXMubWF4ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBjbGFtcGVkUG9pbnQgPSBfdmVjdG9yLmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3QoIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1heCggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1pbiggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHVuaW9uKCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5taW4oIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5tYXgoIGJveC5tYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIG9mZnNldCApIHtcblxuXHRcdHRoaXMubWluLmFkZCggb2Zmc2V0ICk7XG5cdFx0dGhpcy5tYXguYWRkKCBvZmZzZXQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGJveCApIHtcblxuXHRcdHJldHVybiBib3gubWluLmVxdWFscyggdGhpcy5taW4gKSAmJiBib3gubWF4LmVxdWFscyggdGhpcy5tYXggKTtcblxuXHR9XG5cbn1cblxuQm94Mi5wcm90b3R5cGUuaXNCb3gyID0gdHJ1ZTtcblxuZXhwb3J0IHsgQm94MiB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIEJveDMge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4gPSBuZXcgVmVjdG9yMyggKyBJbmZpbml0eSwgKyBJbmZpbml0eSwgKyBJbmZpbml0eSApLCBtYXggPSBuZXcgVmVjdG9yMyggLSBJbmZpbml0eSwgLSBJbmZpbml0eSwgLSBJbmZpbml0eSApICkge1xuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkgKz0gMyApIHtcblxuXHRcdFx0Y29uc3QgeCA9IGFycmF5WyBpIF07XG5cdFx0XHRjb25zdCB5ID0gYXJyYXlbIGkgKyAxIF07XG5cdFx0XHRjb25zdCB6ID0gYXJyYXlbIGkgKyAyIF07XG5cblx0XHRcdGlmICggeCA8IG1pblggKSBtaW5YID0geDtcblx0XHRcdGlmICggeSA8IG1pblkgKSBtaW5ZID0geTtcblx0XHRcdGlmICggeiA8IG1pblogKSBtaW5aID0gejtcblxuXHRcdFx0aWYgKCB4ID4gbWF4WCApIG1heFggPSB4O1xuXHRcdFx0aWYgKCB5ID4gbWF4WSApIG1heFkgPSB5O1xuXHRcdFx0aWYgKCB6ID4gbWF4WiApIG1heFogPSB6O1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5taW4uc2V0KCBtaW5YLCBtaW5ZLCBtaW5aICk7XG5cdFx0dGhpcy5tYXguc2V0KCBtYXhYLCBtYXhZLCBtYXhaICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZS5jb3VudDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHggPSBhdHRyaWJ1dGUuZ2V0WCggaSApO1xuXHRcdFx0Y29uc3QgeSA9IGF0dHJpYnV0ZS5nZXRZKCBpICk7XG5cdFx0XHRjb25zdCB6ID0gYXR0cmlidXRlLmdldFooIGkgKTtcblxuXHRcdFx0aWYgKCB4IDwgbWluWCApIG1pblggPSB4O1xuXHRcdFx0aWYgKCB5IDwgbWluWSApIG1pblkgPSB5O1xuXHRcdFx0aWYgKCB6IDwgbWluWiApIG1pblogPSB6O1xuXG5cdFx0XHRpZiAoIHggPiBtYXhYICkgbWF4WCA9IHg7XG5cdFx0XHRpZiAoIHkgPiBtYXhZICkgbWF4WSA9IHk7XG5cdFx0XHRpZiAoIHogPiBtYXhaICkgbWF4WiA9IHo7XG5cblx0XHR9XG5cblx0XHR0aGlzLm1pbi5zZXQoIG1pblgsIG1pblksIG1pblogKTtcblx0XHR0aGlzLm1heC5zZXQoIG1heFgsIG1heFksIG1heFogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblxuXHRcdHRoaXMubWluLmNvcHkoIGNlbnRlciApLnN1YiggaGFsZlNpemUgKTtcblx0XHR0aGlzLm1heC5jb3B5KCBjZW50ZXIgKS5hZGQoIGhhbGZTaXplICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0dGhpcy5tYWtlRW1wdHkoKTtcblxuXHRcdHJldHVybiB0aGlzLmV4cGFuZEJ5T2JqZWN0KCBvYmplY3QgKTtcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIGJveCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUVtcHR5KCkge1xuXG5cdFx0dGhpcy5taW4ueCA9IHRoaXMubWluLnkgPSB0aGlzLm1pbi56ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IHRoaXMubWF4LnogPSAtIEluZmluaXR5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlzRW1wdHkoKSB7XG5cblx0XHQvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlc1xuXG5cdFx0cmV0dXJuICggdGhpcy5tYXgueCA8IHRoaXMubWluLnggKSB8fCAoIHRoaXMubWF4LnkgPCB0aGlzLm1pbi55ICkgfHwgKCB0aGlzLm1heC56IDwgdGhpcy5taW4ueiApO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAsIDAgKSA6IHRhcmdldC5hZGRWZWN0b3JzKCB0aGlzLm1pbiwgdGhpcy5tYXggKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cblx0fVxuXG5cdGdldFNpemUoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwLCAwICkgOiB0YXJnZXQuc3ViVmVjdG9ycyggdGhpcy5tYXgsIHRoaXMubWluICk7XG5cblx0fVxuXG5cdGV4cGFuZEJ5UG9pbnQoIHBvaW50ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBwb2ludCApO1xuXHRcdHRoaXMubWF4Lm1heCggcG9pbnQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVZlY3RvciggdmVjdG9yICkge1xuXG5cdFx0dGhpcy5taW4uc3ViKCB2ZWN0b3IgKTtcblx0XHR0aGlzLm1heC5hZGQoIHZlY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGRTY2FsYXIoIC0gc2NhbGFyICk7XG5cdFx0dGhpcy5tYXguYWRkU2NhbGFyKCBzY2FsYXIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0Ly8gQ29tcHV0ZXMgdGhlIHdvcmxkLWF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggb2YgYW4gb2JqZWN0IChpbmNsdWRpbmcgaXRzIGNoaWxkcmVuKSxcblx0XHQvLyBhY2NvdW50aW5nIGZvciBib3RoIHRoZSBvYmplY3QncywgYW5kIGNoaWxkcmVuJ3MsIHdvcmxkIHRyYW5zZm9ybXNcblxuXHRcdG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCggZmFsc2UsIGZhbHNlICk7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblxuXHRcdGlmICggZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0aWYgKCBnZW9tZXRyeS5ib3VuZGluZ0JveCA9PT0gbnVsbCApIHtcblxuXHRcdFx0XHRnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRfYm94LmNvcHkoIGdlb21ldHJ5LmJvdW5kaW5nQm94ICk7XG5cdFx0XHRfYm94LmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeFdvcmxkICk7XG5cblx0XHRcdHRoaXMudW5pb24oIF9ib3ggKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeU9iamVjdCggY2hpbGRyZW5bIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbnRhaW5zUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIHBvaW50LnggPCB0aGlzLm1pbi54IHx8IHBvaW50LnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRwb2ludC55IDwgdGhpcy5taW4ueSB8fCBwb2ludC55ID4gdGhpcy5tYXgueSB8fFxuXHRcdFx0cG9pbnQueiA8IHRoaXMubWluLnogfHwgcG9pbnQueiA+IHRoaXMubWF4LnogPyBmYWxzZSA6IHRydWU7XG5cblx0fVxuXG5cdGNvbnRhaW5zQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5taW4ueCA8PSBib3gubWluLnggJiYgYm94Lm1heC54IDw9IHRoaXMubWF4LnggJiZcblx0XHRcdHRoaXMubWluLnkgPD0gYm94Lm1pbi55ICYmIGJveC5tYXgueSA8PSB0aGlzLm1heC55ICYmXG5cdFx0XHR0aGlzLm1pbi56IDw9IGJveC5taW4ueiAmJiBib3gubWF4LnogPD0gdGhpcy5tYXguejtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55ICksXG5cdFx0XHQoIHBvaW50LnogLSB0aGlzLm1pbi56ICkgLyAoIHRoaXMubWF4LnogLSB0aGlzLm1pbi56IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA2IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucy5cblx0XHRyZXR1cm4gYm94Lm1heC54IDwgdGhpcy5taW4ueCB8fCBib3gubWluLnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRib3gubWF4LnkgPCB0aGlzLm1pbi55IHx8IGJveC5taW4ueSA+IHRoaXMubWF4LnkgfHxcblx0XHRcdGJveC5tYXgueiA8IHRoaXMubWluLnogfHwgYm94Lm1pbi56ID4gdGhpcy5tYXgueiA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0Ly8gRmluZCB0aGUgcG9pbnQgb24gdGhlIEFBQkIgY2xvc2VzdCB0byB0aGUgc3BoZXJlIGNlbnRlci5cblx0XHR0aGlzLmNsYW1wUG9pbnQoIHNwaGVyZS5jZW50ZXIsIF92ZWN0b3IgKTtcblxuXHRcdC8vIElmIHRoYXQgcG9pbnQgaXMgaW5zaWRlIHRoZSBzcGhlcmUsIHRoZSBBQUJCIGFuZCBzcGhlcmUgaW50ZXJzZWN0LlxuXHRcdHJldHVybiBfdmVjdG9yLmRpc3RhbmNlVG9TcXVhcmVkKCBzcGhlcmUuY2VudGVyICkgPD0gKCBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cyApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gV2UgY29tcHV0ZSB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBkb3QgcHJvZHVjdCB2YWx1ZXMuIElmIHRob3NlIHZhbHVlc1xuXHRcdC8vIGFyZSBvbiB0aGUgc2FtZSBzaWRlIChiYWNrIG9yIGZyb250KSBvZiB0aGUgcGxhbmUsIHRoZW4gdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLlxuXG5cdFx0bGV0IG1pbiwgbWF4O1xuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueCA+IDAgKSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblxuXHRcdH1cblxuXHRcdGlmICggcGxhbmUubm9ybWFsLnkgPiAwICkge1xuXG5cdFx0XHRtaW4gKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXHRcdFx0bWF4ICs9IHBsYW5lLm5vcm1hbC55ICogdGhpcy5tYXgueTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueSAqIHRoaXMubWF4Lnk7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueiA+IDAgKSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnogKiB0aGlzLm1heC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWluICs9IHBsYW5lLm5vcm1hbC56ICogdGhpcy5tYXguejtcblx0XHRcdG1heCArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gKCBtaW4gPD0gLSBwbGFuZS5jb25zdGFudCAmJiBtYXggPj0gLSBwbGFuZS5jb25zdGFudCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzVHJpYW5nbGUoIHRyaWFuZ2xlICkge1xuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gY29tcHV0ZSBib3ggY2VudGVyIGFuZCBleHRlbnRzXG5cdFx0dGhpcy5nZXRDZW50ZXIoIF9jZW50ZXIgKTtcblx0XHRfZXh0ZW50cy5zdWJWZWN0b3JzKCB0aGlzLm1heCwgX2NlbnRlciApO1xuXG5cdFx0Ly8gdHJhbnNsYXRlIHRyaWFuZ2xlIHRvIGFhYmIgb3JpZ2luXG5cdFx0X3YwLnN1YlZlY3RvcnMoIHRyaWFuZ2xlLmEsIF9jZW50ZXIgKTtcblx0XHRfdjEuc3ViVmVjdG9ycyggdHJpYW5nbGUuYiwgX2NlbnRlciApO1xuXHRcdF92Mi5zdWJWZWN0b3JzKCB0cmlhbmdsZS5jLCBfY2VudGVyICk7XG5cblx0XHQvLyBjb21wdXRlIGVkZ2UgdmVjdG9ycyBmb3IgdHJpYW5nbGVcblx0XHRfZjAuc3ViVmVjdG9ycyggX3YxLCBfdjAgKTtcblx0XHRfZjEuc3ViVmVjdG9ycyggX3YyLCBfdjEgKTtcblx0XHRfZjIuc3ViVmVjdG9ycyggX3YwLCBfdjIgKTtcblxuXHRcdC8vIHRlc3QgYWdhaW5zdCBheGVzIHRoYXQgYXJlIGdpdmVuIGJ5IGNyb3NzIHByb2R1Y3QgY29tYmluYXRpb25zIG9mIHRoZSBlZGdlcyBvZiB0aGUgdHJpYW5nbGUgYW5kIHRoZSBlZGdlcyBvZiB0aGUgYWFiYlxuXHRcdC8vIG1ha2UgYW4gYXhpcyB0ZXN0aW5nIG9mIGVhY2ggb2YgdGhlIDMgc2lkZXMgb2YgdGhlIGFhYmIgYWdhaW5zdCBlYWNoIG9mIHRoZSAzIHNpZGVzIG9mIHRoZSB0cmlhbmdsZSA9IDkgYXhpcyBvZiBzZXBhcmF0aW9uXG5cdFx0Ly8gYXhpc19paiA9IHVfaSB4IGZfaiAodTAsIHUxLCB1MiA9IGZhY2Ugbm9ybWFscyBvZiBhYWJiID0geCx5LHogYXhlcyB2ZWN0b3JzIHNpbmNlIGFhYmIgaXMgYXhpcyBhbGlnbmVkKVxuXHRcdGxldCBheGVzID0gW1xuXHRcdFx0MCwgLSBfZjAueiwgX2YwLnksIDAsIC0gX2YxLnosIF9mMS55LCAwLCAtIF9mMi56LCBfZjIueSxcblx0XHRcdF9mMC56LCAwLCAtIF9mMC54LCBfZjEueiwgMCwgLSBfZjEueCwgX2YyLnosIDAsIC0gX2YyLngsXG5cdFx0XHQtIF9mMC55LCBfZjAueCwgMCwgLSBfZjEueSwgX2YxLngsIDAsIC0gX2YyLnksIF9mMi54LCAwXG5cdFx0XTtcblx0XHRpZiAoICEgc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gdGVzdCAzIGZhY2Ugbm9ybWFscyBmcm9tIHRoZSBhYWJiXG5cdFx0YXhlcyA9IFsgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSBdO1xuXHRcdGlmICggISBzYXRGb3JBeGVzKCBheGVzLCBfdjAsIF92MSwgX3YyLCBfZXh0ZW50cyApICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHQvLyBmaW5hbGx5IHRlc3RpbmcgdGhlIGZhY2Ugbm9ybWFsIG9mIHRoZSB0cmlhbmdsZVxuXHRcdC8vIHVzZSBhbHJlYWR5IGV4aXN0aW5nIHRyaWFuZ2xlIGVkZ2UgdmVjdG9ycyBoZXJlXG5cdFx0X3RyaWFuZ2xlTm9ybWFsLmNyb3NzVmVjdG9ycyggX2YwLCBfZjEgKTtcblx0XHRheGVzID0gWyBfdHJpYW5nbGVOb3JtYWwueCwgX3RyaWFuZ2xlTm9ybWFsLnksIF90cmlhbmdsZU5vcm1hbC56IF07XG5cblx0XHRyZXR1cm4gc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKTtcblxuXHR9XG5cblx0Y2xhbXBQb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0Y29uc3QgY2xhbXBlZFBvaW50ID0gX3ZlY3Rvci5jb3B5KCBwb2ludCApLmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKTtcblxuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRnZXRCb3VuZGluZ1NwaGVyZSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJveDM6IC5nZXRCb3VuZGluZ1NwaGVyZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHQvL3RhcmdldCA9IG5ldyBTcGhlcmUoKTsgLy8gcmVtb3ZlZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeVxuXG5cdFx0fVxuXG5cdFx0dGhpcy5nZXRDZW50ZXIoIHRhcmdldC5jZW50ZXIgKTtcblxuXHRcdHRhcmdldC5yYWRpdXMgPSB0aGlzLmdldFNpemUoIF92ZWN0b3IgKS5sZW5ndGgoKSAqIDAuNTtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fVxuXG5cdGludGVyc2VjdCggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWF4KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWluKCBib3gubWF4ICk7XG5cblx0XHQvLyBlbnN1cmUgdGhhdCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCB0aGUgcmVzdWx0IGlzIGZ1bGx5IGVtcHR5LCBub3Qgc2xpZ2h0bHkgZW1wdHkgd2l0aCBub24taW5mLytpbmYgdmFsdWVzIHRoYXQgd2lsbCBjYXVzZSBzdWJzZXF1ZW5jZSBpbnRlcnNlY3RzIHRvIGVycm9uZW91c2x5IHJldHVybiB2YWxpZCB2YWx1ZXMuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHRoaXMubWFrZUVtcHR5KCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dW5pb24oIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1heCggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4NCggbWF0cml4ICkge1xuXG5cdFx0Ly8gdHJhbnNmb3JtIG9mIGVtcHR5IGJveCBpcyBhbiBlbXB0eSBib3guXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gTk9URTogSSBhbSB1c2luZyBhIGJpbmFyeSBwYXR0ZXJuIHRvIHNwZWNpZnkgYWxsIDJeMyBjb21iaW5hdGlvbnMgYmVsb3dcblx0XHRfcG9pbnRzWyAwIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDAwXG5cdFx0X3BvaW50c1sgMSBdLnNldCggdGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDAwMVxuXHRcdF9wb2ludHNbIDIgXS5zZXQoIHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAwMTBcblx0XHRfcG9pbnRzWyAzIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1heC55LCB0aGlzLm1heC56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDExXG5cdFx0X3BvaW50c1sgNCBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDEwMFxuXHRcdF9wb2ludHNbIDUgXS5zZXQoIHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWF4LnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAxMDFcblx0XHRfcG9pbnRzWyA2IF0uc2V0KCB0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMTEwXG5cdFx0X3BvaW50c1sgNyBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDExMVxuXG5cdFx0dGhpcy5zZXRGcm9tUG9pbnRzKCBfcG9pbnRzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCBvZmZzZXQgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGQoIG9mZnNldCApO1xuXHRcdHRoaXMubWF4LmFkZCggb2Zmc2V0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBib3ggKSB7XG5cblx0XHRyZXR1cm4gYm94Lm1pbi5lcXVhbHMoIHRoaXMubWluICkgJiYgYm94Lm1heC5lcXVhbHMoIHRoaXMubWF4ICk7XG5cblx0fVxuXG59XG5cbkJveDMucHJvdG90eXBlLmlzQm94MyA9IHRydWU7XG5cbmNvbnN0IF9wb2ludHMgPSBbXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpXG5dO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfYm94ID0gLypAX19QVVJFX18qLyBuZXcgQm94MygpO1xuXG4vLyB0cmlhbmdsZSBjZW50ZXJlZCB2ZXJ0aWNlc1xuXG5jb25zdCBfdjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbi8vIHRyaWFuZ2xlIGVkZ2UgdmVjdG9yc1xuXG5jb25zdCBfZjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF9jZW50ZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZXh0ZW50cyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90cmlhbmdsZU5vcm1hbCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90ZXN0QXhpcyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuZnVuY3Rpb24gc2F0Rm9yQXhlcyggYXhlcywgdjAsIHYxLCB2MiwgZXh0ZW50cyApIHtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGogPSBheGVzLmxlbmd0aCAtIDM7IGkgPD0gajsgaSArPSAzICkge1xuXG5cdFx0X3Rlc3RBeGlzLmZyb21BcnJheSggYXhlcywgaSApO1xuXHRcdC8vIHByb2plY3QgdGhlIGFhYmIgb250byB0aGUgc2VwZXJhdGluZyBheGlzXG5cdFx0Y29uc3QgciA9IGV4dGVudHMueCAqIE1hdGguYWJzKCBfdGVzdEF4aXMueCApICsgZXh0ZW50cy55ICogTWF0aC5hYnMoIF90ZXN0QXhpcy55ICkgKyBleHRlbnRzLnogKiBNYXRoLmFicyggX3Rlc3RBeGlzLnogKTtcblx0XHQvLyBwcm9qZWN0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBvbnRvIHRoZSBzZXBlcmF0aW5nIGF4aXNcblx0XHRjb25zdCBwMCA9IHYwLmRvdCggX3Rlc3RBeGlzICk7XG5cdFx0Y29uc3QgcDEgPSB2MS5kb3QoIF90ZXN0QXhpcyApO1xuXHRcdGNvbnN0IHAyID0gdjIuZG90KCBfdGVzdEF4aXMgKTtcblx0XHQvLyBhY3R1YWwgdGVzdCwgYmFzaWNhbGx5IHNlZSBpZiBlaXRoZXIgb2YgdGhlIG1vc3QgZXh0cmVtZSBvZiB0aGUgdHJpYW5nbGUgcG9pbnRzIGludGVyc2VjdHMgclxuXHRcdGlmICggTWF0aC5tYXgoIC0gTWF0aC5tYXgoIHAwLCBwMSwgcDIgKSwgTWF0aC5taW4oIHAwLCBwMSwgcDIgKSApID4gciApIHtcblxuXHRcdFx0Ly8gcG9pbnRzIG9mIHRoZSBwcm9qZWN0ZWQgdHJpYW5nbGUgYXJlIG91dHNpZGUgdGhlIHByb2plY3RlZCBoYWxmLWxlbmd0aCBvZiB0aGUgYWFiYlxuXHRcdFx0Ly8gdGhlIGF4aXMgaXMgc2VwZXJhdGluZyBhbmQgd2UgY2FuIGV4aXRcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG5cbn1cblxuZXhwb3J0IHsgQm94MyB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfc2VnQ2VudGVyID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3NlZ0RpciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9kaWZmID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfZWRnZTEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZWRnZTIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jbGFzcyBSYXkge1xuXG5cdGNvbnN0cnVjdG9yKCBvcmlnaW4gPSBuZXcgVmVjdG9yMygpLCBkaXJlY3Rpb24gPSBuZXcgVmVjdG9yMyggMCwgMCwgLSAxICkgKSB7XG5cblx0XHR0aGlzLm9yaWdpbiA9IG9yaWdpbjtcblx0XHR0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuXHR9XG5cblx0c2V0KCBvcmlnaW4sIGRpcmVjdGlvbiApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIG9yaWdpbiApO1xuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIGRpcmVjdGlvbiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHJheSApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIHJheS5vcmlnaW4gKTtcblx0XHR0aGlzLmRpcmVjdGlvbi5jb3B5KCByYXkuZGlyZWN0aW9uICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMub3JpZ2luICk7XG5cblx0fVxuXG5cdGxvb2tBdCggdiApIHtcblxuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIHYgKS5zdWIoIHRoaXMub3JpZ2luICkubm9ybWFsaXplKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmVjYXN0KCB0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uY29weSggdGhpcy5hdCggdCwgX3ZlY3RvciApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHRhcmdldC5zdWJWZWN0b3JzKCBwb2ludCwgdGhpcy5vcmlnaW4gKTtcblxuXHRcdGNvbnN0IGRpcmVjdGlvbkRpc3RhbmNlID0gdGFyZ2V0LmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMub3JpZ2luICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBkaXJlY3Rpb25EaXN0YW5jZSA9IF92ZWN0b3Iuc3ViVmVjdG9ycyggcG9pbnQsIHRoaXMub3JpZ2luICkuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXG5cdFx0Ly8gcG9pbnQgYmVoaW5kIHRoZSByYXlcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW4uZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0XHR9XG5cblx0XHRfdmVjdG9yLmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdFx0cmV0dXJuIF92ZWN0b3IuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlU3FUb1NlZ21lbnQoIHYwLCB2MSwgb3B0aW9uYWxQb2ludE9uUmF5LCBvcHRpb25hbFBvaW50T25TZWdtZW50ICkge1xuXG5cdFx0Ly8gZnJvbSBodHRwOi8vd3d3Lmdlb21ldHJpY3Rvb2xzLmNvbS9HVEVuZ2luZS9JbmNsdWRlL01hdGhlbWF0aWNzL0d0ZURpc3RSYXlTZWdtZW50Lmhcblx0XHQvLyBJdCByZXR1cm5zIHRoZSBtaW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcmF5IGFuZCB0aGUgc2VnbWVudFxuXHRcdC8vIGRlZmluZWQgYnkgdjAgYW5kIHYxXG5cdFx0Ly8gSXQgY2FuIGFsc28gc2V0IHR3byBvcHRpb25hbCB0YXJnZXRzIDpcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSByYXlcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzZWdtZW50XG5cblx0XHRfc2VnQ2VudGVyLmNvcHkoIHYwICkuYWRkKCB2MSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHRfc2VnRGlyLmNvcHkoIHYxICkuc3ViKCB2MCApLm5vcm1hbGl6ZSgpO1xuXHRcdF9kaWZmLmNvcHkoIHRoaXMub3JpZ2luICkuc3ViKCBfc2VnQ2VudGVyICk7XG5cblx0XHRjb25zdCBzZWdFeHRlbnQgPSB2MC5kaXN0YW5jZVRvKCB2MSApICogMC41O1xuXHRcdGNvbnN0IGEwMSA9IC0gdGhpcy5kaXJlY3Rpb24uZG90KCBfc2VnRGlyICk7XG5cdFx0Y29uc3QgYjAgPSBfZGlmZi5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cdFx0Y29uc3QgYjEgPSAtIF9kaWZmLmRvdCggX3NlZ0RpciApO1xuXHRcdGNvbnN0IGMgPSBfZGlmZi5sZW5ndGhTcSgpO1xuXHRcdGNvbnN0IGRldCA9IE1hdGguYWJzKCAxIC0gYTAxICogYTAxICk7XG5cdFx0bGV0IHMwLCBzMSwgc3FyRGlzdCwgZXh0RGV0O1xuXG5cdFx0aWYgKCBkZXQgPiAwICkge1xuXG5cdFx0XHQvLyBUaGUgcmF5IGFuZCBzZWdtZW50IGFyZSBub3QgcGFyYWxsZWwuXG5cblx0XHRcdHMwID0gYTAxICogYjEgLSBiMDtcblx0XHRcdHMxID0gYTAxICogYjAgLSBiMTtcblx0XHRcdGV4dERldCA9IHNlZ0V4dGVudCAqIGRldDtcblxuXHRcdFx0aWYgKCBzMCA+PSAwICkge1xuXG5cdFx0XHRcdGlmICggczEgPj0gLSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHMxIDw9IGV4dERldCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmVnaW9uIDBcblx0XHRcdFx0XHRcdC8vIE1pbmltdW0gYXQgaW50ZXJpb3IgcG9pbnRzIG9mIHJheSBhbmQgc2VnbWVudC5cblxuXHRcdFx0XHRcdFx0Y29uc3QgaW52RGV0ID0gMSAvIGRldDtcblx0XHRcdFx0XHRcdHMwICo9IGludkRldDtcblx0XHRcdFx0XHRcdHMxICo9IGludkRldDtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSBzMCAqICggczAgKyBhMDEgKiBzMSArIDIgKiBiMCApICsgczEgKiAoIGEwMSAqIHMwICsgczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyByZWdpb24gMVxuXG5cdFx0XHRcdFx0XHRzMSA9IHNlZ0V4dGVudDtcblx0XHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIHJlZ2lvbiA1XG5cblx0XHRcdFx0XHRzMSA9IC0gc2VnRXh0ZW50O1xuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZiAoIHMxIDw9IC0gZXh0RGV0ICkge1xuXG5cdFx0XHRcdFx0Ly8gcmVnaW9uIDRcblxuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCAtIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyAtIHNlZ0V4dGVudCA6IE1hdGgubWluKCBNYXRoLm1heCggLSBzZWdFeHRlbnQsIC0gYjEgKSwgc2VnRXh0ZW50ICk7XG5cdFx0XHRcdFx0c3FyRGlzdCA9IC0gczAgKiBzMCArIHMxICogKCBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzMSA8PSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gM1xuXG5cdFx0XHRcdFx0czAgPSAwO1xuXHRcdFx0XHRcdHMxID0gTWF0aC5taW4oIE1hdGgubWF4KCAtIHNlZ0V4dGVudCwgLSBiMSApLCBzZWdFeHRlbnQgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gMlxuXG5cdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyBzZWdFeHRlbnQgOiBNYXRoLm1pbiggTWF0aC5tYXgoIC0gc2VnRXh0ZW50LCAtIGIxICksIHNlZ0V4dGVudCApO1xuXHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBSYXkgYW5kIHNlZ21lbnQgYXJlIHBhcmFsbGVsLlxuXG5cdFx0XHRzMSA9ICggYTAxID4gMCApID8gLSBzZWdFeHRlbnQgOiBzZWdFeHRlbnQ7XG5cdFx0XHRzMCA9IE1hdGgubWF4KCAwLCAtICggYTAxICogczEgKyBiMCApICk7XG5cdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25hbFBvaW50T25SYXkgKSB7XG5cblx0XHRcdG9wdGlvbmFsUG9pbnRPblJheS5jb3B5KCB0aGlzLmRpcmVjdGlvbiApLm11bHRpcGx5U2NhbGFyKCBzMCApLmFkZCggdGhpcy5vcmlnaW4gKTtcblxuXHRcdH1cblxuXHRcdGlmICggb3B0aW9uYWxQb2ludE9uU2VnbWVudCApIHtcblxuXHRcdFx0b3B0aW9uYWxQb2ludE9uU2VnbWVudC5jb3B5KCBfc2VnRGlyICkubXVsdGlwbHlTY2FsYXIoIHMxICkuYWRkKCBfc2VnQ2VudGVyICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gc3FyRGlzdDtcblxuXHR9XG5cblx0aW50ZXJzZWN0U3BoZXJlKCBzcGhlcmUsIHRhcmdldCApIHtcblxuXHRcdF92ZWN0b3Iuc3ViVmVjdG9ycyggc3BoZXJlLmNlbnRlciwgdGhpcy5vcmlnaW4gKTtcblx0XHRjb25zdCB0Y2EgPSBfdmVjdG9yLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblx0XHRjb25zdCBkMiA9IF92ZWN0b3IuZG90KCBfdmVjdG9yICkgLSB0Y2EgKiB0Y2E7XG5cdFx0Y29uc3QgcmFkaXVzMiA9IHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xuXG5cdFx0aWYgKCBkMiA+IHJhZGl1czIgKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IHRoYyA9IE1hdGguc3FydCggcmFkaXVzMiAtIGQyICk7XG5cblx0XHQvLyB0MCA9IGZpcnN0IGludGVyc2VjdCBwb2ludCAtIGVudHJhbmNlIG9uIGZyb250IG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQwID0gdGNhIC0gdGhjO1xuXG5cdFx0Ly8gdDEgPSBzZWNvbmQgaW50ZXJzZWN0IHBvaW50IC0gZXhpdCBwb2ludCBvbiBiYWNrIG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQxID0gdGNhICsgdGhjO1xuXG5cdFx0Ly8gdGVzdCB0byBzZWUgaWYgYm90aCB0MCBhbmQgdDEgYXJlIGJlaGluZCB0aGUgcmF5IC0gaWYgc28sIHJldHVybiBudWxsXG5cdFx0aWYgKCB0MCA8IDAgJiYgdDEgPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHQvLyB0ZXN0IHRvIHNlZSBpZiB0MCBpcyBiZWhpbmQgdGhlIHJheTpcblx0XHQvLyBpZiBpdCBpcywgdGhlIHJheSBpcyBpbnNpZGUgdGhlIHNwaGVyZSwgc28gcmV0dXJuIHRoZSBzZWNvbmQgZXhpdCBwb2ludCBzY2FsZWQgYnkgdDEsXG5cdFx0Ly8gaW4gb3JkZXIgdG8gYWx3YXlzIHJldHVybiBhbiBpbnRlcnNlY3QgcG9pbnQgdGhhdCBpcyBpbiBmcm9udCBvZiB0aGUgcmF5LlxuXHRcdGlmICggdDAgPCAwICkgcmV0dXJuIHRoaXMuYXQoIHQxLCB0YXJnZXQgKTtcblxuXHRcdC8vIGVsc2UgdDAgaXMgaW4gZnJvbnQgb2YgdGhlIHJheSwgc28gcmV0dXJuIHRoZSBmaXJzdCBjb2xsaXNpb24gcG9pbnQgc2NhbGVkIGJ5IHQwXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQwLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQoIHNwaGVyZS5jZW50ZXIgKSA8PSAoIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9QbGFuZSggcGxhbmUgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHBsYW5lLm5vcm1hbC5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHBsYW5lLmRpc3RhbmNlVG9Qb2ludCggdGhpcy5vcmlnaW4gKSA9PT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gMDtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBOdWxsIGlzIHByZWZlcmFibGUgdG8gdW5kZWZpbmVkIHNpbmNlIHVuZGVmaW5lZCBtZWFucy4uLi4gaXQgaXMgdW5kZWZpbmVkXG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdCA9IC0gKCB0aGlzLm9yaWdpbi5kb3QoIHBsYW5lLm5vcm1hbCApICsgcGxhbmUuY29uc3RhbnQgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0Ly8gUmV0dXJuIGlmIHRoZSByYXkgbmV2ZXIgaW50ZXJzZWN0cyB0aGUgcGxhbmVcblxuXHRcdHJldHVybiB0ID49IDAgPyB0IDogbnVsbDtcblxuXHR9XG5cblx0aW50ZXJzZWN0UGxhbmUoIHBsYW5lLCB0YXJnZXQgKSB7XG5cblx0XHRjb25zdCB0ID0gdGhpcy5kaXN0YW5jZVRvUGxhbmUoIHBsYW5lICk7XG5cblx0XHRpZiAoIHQgPT09IG51bGwgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gY2hlY2sgaWYgdGhlIHJheSBsaWVzIG9uIHRoZSBwbGFuZSBmaXJzdFxuXG5cdFx0Y29uc3QgZGlzdFRvUG9pbnQgPSBwbGFuZS5kaXN0YW5jZVRvUG9pbnQoIHRoaXMub3JpZ2luICk7XG5cblx0XHRpZiAoIGRpc3RUb1BvaW50ID09PSAwICkge1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gcGxhbmUubm9ybWFsLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgKiBkaXN0VG9Qb2ludCA8IDAgKSB7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gcmF5IG9yaWdpbiBpcyBiZWhpbmQgdGhlIHBsYW5lIChhbmQgaXMgcG9pbnRpbmcgYmVoaW5kIGl0KVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RCb3goIGJveCwgdGFyZ2V0ICkge1xuXG5cdFx0bGV0IHRtaW4sIHRtYXgsIHR5bWluLCB0eW1heCwgdHptaW4sIHR6bWF4O1xuXG5cdFx0Y29uc3QgaW52ZGlyeCA9IDEgLyB0aGlzLmRpcmVjdGlvbi54LFxuXHRcdFx0aW52ZGlyeSA9IDEgLyB0aGlzLmRpcmVjdGlvbi55LFxuXHRcdFx0aW52ZGlyeiA9IDEgLyB0aGlzLmRpcmVjdGlvbi56O1xuXG5cdFx0Y29uc3Qgb3JpZ2luID0gdGhpcy5vcmlnaW47XG5cblx0XHRpZiAoIGludmRpcnggPj0gMCApIHtcblxuXHRcdFx0dG1pbiA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cdFx0XHR0bWF4ID0gKCBib3gubWF4LnggLSBvcmlnaW4ueCApICogaW52ZGlyeDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRtaW4gPSAoIGJveC5tYXgueCAtIG9yaWdpbi54ICkgKiBpbnZkaXJ4O1xuXHRcdFx0dG1heCA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cblx0XHR9XG5cblx0XHRpZiAoIGludmRpcnkgPj0gMCApIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAoIHRtaW4gPiB0eW1heCApIHx8ICggdHltaW4gPiB0bWF4ICkgKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIFRoZXNlIGxpbmVzIGFsc28gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRtaW4gb3IgdG1heCBpcyBOYU5cblx0XHQvLyAocmVzdWx0IG9mIDAgKiBJbmZpbml0eSkuIHggIT09IHggcmV0dXJucyB0cnVlIGlmIHggaXMgTmFOXG5cblx0XHRpZiAoIHR5bWluID4gdG1pbiB8fCB0bWluICE9PSB0bWluICkgdG1pbiA9IHR5bWluO1xuXG5cdFx0aWYgKCB0eW1heCA8IHRtYXggfHwgdG1heCAhPT0gdG1heCApIHRtYXggPSB0eW1heDtcblxuXHRcdGlmICggaW52ZGlyeiA+PSAwICkge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9XG5cblx0XHRpZiAoICggdG1pbiA+IHR6bWF4ICkgfHwgKCB0em1pbiA+IHRtYXggKSApIHJldHVybiBudWxsO1xuXG5cdFx0aWYgKCB0em1pbiA+IHRtaW4gfHwgdG1pbiAhPT0gdG1pbiApIHRtaW4gPSB0em1pbjtcblxuXHRcdGlmICggdHptYXggPCB0bWF4IHx8IHRtYXggIT09IHRtYXggKSB0bWF4ID0gdHptYXg7XG5cblx0XHQvL3JldHVybiBwb2ludCBjbG9zZXN0IHRvIHRoZSByYXkgKHBvc2l0aXZlIHNpZGUpXG5cblx0XHRpZiAoIHRtYXggPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcy5hdCggdG1pbiA+PSAwID8gdG1pbiA6IHRtYXgsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5pbnRlcnNlY3RCb3goIGJveCwgX3ZlY3RvciApICE9PSBudWxsO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RUcmlhbmdsZSggYSwgYiwgYywgYmFja2ZhY2VDdWxsaW5nLCB0YXJnZXQgKSB7XG5cblx0XHQvLyBDb21wdXRlIHRoZSBvZmZzZXQgb3JpZ2luLCBlZGdlcywgYW5kIG5vcm1hbC5cblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5nZW9tZXRyaWN0b29scy5jb20vR1RFbmdpbmUvSW5jbHVkZS9NYXRoZW1hdGljcy9HdGVJbnRyUmF5M1RyaWFuZ2xlMy5oXG5cblx0XHRfZWRnZTEuc3ViVmVjdG9ycyggYiwgYSApO1xuXHRcdF9lZGdlMi5zdWJWZWN0b3JzKCBjLCBhICk7XG5cdFx0X25vcm1hbC5jcm9zc1ZlY3RvcnMoIF9lZGdlMSwgX2VkZ2UyICk7XG5cblx0XHQvLyBTb2x2ZSBRICsgdCpEID0gYjEqRTEgKyBiMipFMiAoUSA9IGtEaWZmLCBEID0gcmF5IGRpcmVjdGlvbixcblx0XHQvLyBFMSA9IGtFZGdlMSwgRTIgPSBrRWRnZTIsIE4gPSBDcm9zcyhFMSxFMikpIGJ5XG5cdFx0Ly8gICB8RG90KEQsTil8KmIxID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoUSxFMikpXG5cdFx0Ly8gICB8RG90KEQsTil8KmIyID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoRTEsUSkpXG5cdFx0Ly8gICB8RG90KEQsTil8KnQgPSAtc2lnbihEb3QoRCxOKSkqRG90KFEsTilcblx0XHRsZXQgRGROID0gdGhpcy5kaXJlY3Rpb24uZG90KCBfbm9ybWFsICk7XG5cdFx0bGV0IHNpZ247XG5cblx0XHRpZiAoIERkTiA+IDAgKSB7XG5cblx0XHRcdGlmICggYmFja2ZhY2VDdWxsaW5nICkgcmV0dXJuIG51bGw7XG5cdFx0XHRzaWduID0gMTtcblxuXHRcdH0gZWxzZSBpZiAoIERkTiA8IDAgKSB7XG5cblx0XHRcdHNpZ24gPSAtIDE7XG5cdFx0XHREZE4gPSAtIERkTjtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0X2RpZmYuc3ViVmVjdG9ycyggdGhpcy5vcmlnaW4sIGEgKTtcblx0XHRjb25zdCBEZFF4RTIgPSBzaWduICogdGhpcy5kaXJlY3Rpb24uZG90KCBfZWRnZTIuY3Jvc3NWZWN0b3JzKCBfZGlmZiwgX2VkZ2UyICkgKTtcblxuXHRcdC8vIGIxIDwgMCwgbm8gaW50ZXJzZWN0aW9uXG5cdFx0aWYgKCBEZFF4RTIgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IERkRTF4USA9IHNpZ24gKiB0aGlzLmRpcmVjdGlvbi5kb3QoIF9lZGdlMS5jcm9zcyggX2RpZmYgKSApO1xuXG5cdFx0Ly8gYjIgPCAwLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkRTF4USA8IDAgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYjErYjIgPiAxLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkUXhFMiArIERkRTF4USA+IERkTiApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBMaW5lIGludGVyc2VjdHMgdHJpYW5nbGUsIGNoZWNrIGlmIHJheSBkb2VzLlxuXHRcdGNvbnN0IFFkTiA9IC0gc2lnbiAqIF9kaWZmLmRvdCggX25vcm1hbCApO1xuXG5cdFx0Ly8gdCA8IDAsIG5vIGludGVyc2VjdGlvblxuXHRcdGlmICggUWROIDwgMCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBSYXkgaW50ZXJzZWN0cyB0cmlhbmdsZS5cblx0XHRyZXR1cm4gdGhpcy5hdCggUWROIC8gRGROLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXg0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KCBtYXRyaXg0ICk7XG5cdFx0dGhpcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXg0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCByYXkgKSB7XG5cblx0XHRyZXR1cm4gcmF5Lm9yaWdpbi5lcXVhbHMoIHRoaXMub3JpZ2luICkgJiYgcmF5LmRpcmVjdGlvbi5lcXVhbHMoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBSYXkgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuaW1wb3J0ICogYXMgTWF0aFV0aWxzIGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY29uc3QgX3N0YXJ0UCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9zdGFydEVuZCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY2xhc3MgTGluZTMge1xuXG5cdGNvbnN0cnVjdG9yKCBzdGFydCA9IG5ldyBWZWN0b3IzKCksIGVuZCA9IG5ldyBWZWN0b3IzKCkgKSB7XG5cblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cblx0fVxuXG5cdHNldCggc3RhcnQsIGVuZCApIHtcblxuXHRcdHRoaXMuc3RhcnQuY29weSggc3RhcnQgKTtcblx0XHR0aGlzLmVuZC5jb3B5KCBlbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBsaW5lICkge1xuXG5cdFx0dGhpcy5zdGFydC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cdFx0dGhpcy5lbmQuY29weSggbGluZS5lbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmFkZFZlY3RvcnMoIHRoaXMuc3RhcnQsIHRoaXMuZW5kICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRkZWx0YSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5kZWx0YSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zdWJWZWN0b3JzKCB0aGlzLmVuZCwgdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUbyggdGhpcy5lbmQgKTtcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmRlbHRhKCB0YXJnZXQgKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKCBwb2ludCwgY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRfc3RhcnRQLnN1YlZlY3RvcnMoIHBvaW50LCB0aGlzLnN0YXJ0ICk7XG5cdFx0X3N0YXJ0RW5kLnN1YlZlY3RvcnMoIHRoaXMuZW5kLCB0aGlzLnN0YXJ0ICk7XG5cblx0XHRjb25zdCBzdGFydEVuZDIgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRFbmQgKTtcblx0XHRjb25zdCBzdGFydEVuZF9zdGFydFAgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRQICk7XG5cblx0XHRsZXQgdCA9IHN0YXJ0RW5kX3N0YXJ0UCAvIHN0YXJ0RW5kMjtcblxuXHRcdGlmICggY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRcdHQgPSBNYXRoVXRpbHMuY2xhbXAoIHQsIDAsIDEgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50KCBwb2ludCwgY2xhbXBUb0xpbmUsIHRhcmdldCApIHtcblxuXHRcdGNvbnN0IHQgPSB0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoIHBvaW50LCBjbGFtcFRvTGluZSApO1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kZWx0YSggdGFyZ2V0ICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMuc3RhcnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXggKSB7XG5cblx0XHR0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCggbWF0cml4ICk7XG5cdFx0dGhpcy5lbmQuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGxpbmUgKSB7XG5cblx0XHRyZXR1cm4gbGluZS5zdGFydC5lcXVhbHMoIHRoaXMuc3RhcnQgKSAmJiBsaW5lLmVuZC5lcXVhbHMoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBMaW5lMyB9O1xuIiwiY2xhc3MgTWF0cml4MyB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0gW1xuXG5cdFx0XHQxLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCxcblx0XHRcdDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjIxLCBuMjIsIG4yMywgbjMxLCBuMzIsIG4zMyApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBuMTE7IHRlWyAxIF0gPSBuMjE7IHRlWyAyIF0gPSBuMzE7XG5cdFx0dGVbIDMgXSA9IG4xMjsgdGVbIDQgXSA9IG4yMjsgdGVbIDUgXSA9IG4zMjtcblx0XHR0ZVsgNiBdID0gbjEzOyB0ZVsgNyBdID0gbjIzOyB0ZVsgOCBdID0gbjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdOyB0ZVsgMSBdID0gbWVbIDEgXTsgdGVbIDIgXSA9IG1lWyAyIF07XG5cdFx0dGVbIDMgXSA9IG1lWyAzIF07IHRlWyA0IF0gPSBtZVsgNCBdOyB0ZVsgNSBdID0gbWVbIDUgXTtcblx0XHR0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07IHRlWyA4IF0gPSBtZVsgOCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKCB0aGlzLCAwICk7XG5cdFx0eUF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXg0KCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyA0IF0sIG1lWyA4IF0sXG5cdFx0XHRtZVsgMSBdLCBtZVsgNSBdLCBtZVsgOSBdLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDYgXSwgbWVbIDEwIF1cblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgMyBdLCBhMTMgPSBhZVsgNiBdO1xuXHRcdGNvbnN0IGEyMSA9IGFlWyAxIF0sIGEyMiA9IGFlWyA0IF0sIGEyMyA9IGFlWyA3IF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDUgXSwgYTMzID0gYWVbIDggXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyAzIF0sIGIxMyA9IGJlWyA2IF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDQgXSwgYjIzID0gYmVbIDcgXTtcblx0XHRjb25zdCBiMzEgPSBiZVsgMiBdLCBiMzIgPSBiZVsgNSBdLCBiMzMgPSBiZVsgOCBdO1xuXG5cdFx0dGVbIDAgXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMTtcblx0XHR0ZVsgMyBdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyO1xuXHRcdHRlWyA2IF0gPSBhMTEgKiBiMTMgKyBhMTIgKiBiMjMgKyBhMTMgKiBiMzM7XG5cblx0XHR0ZVsgMSBdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxO1xuXHRcdHRlWyA0IF0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzI7XG5cdFx0dGVbIDcgXSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMztcblxuXHRcdHRlWyAyIF0gPSBhMzEgKiBiMTEgKyBhMzIgKiBiMjEgKyBhMzMgKiBiMzE7XG5cdFx0dGVbIDUgXSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMjtcblx0XHR0ZVsgOCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgMyBdICo9IHM7IHRlWyA2IF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDcgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOCBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhID0gdGVbIDAgXSwgYiA9IHRlWyAxIF0sIGMgPSB0ZVsgMiBdLFxuXHRcdFx0ZCA9IHRlWyAzIF0sIGUgPSB0ZVsgNCBdLCBmID0gdGVbIDUgXSxcblx0XHRcdGcgPSB0ZVsgNiBdLCBoID0gdGVbIDcgXSwgaSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYSAqIGUgKiBpIC0gYSAqIGYgKiBoIC0gYiAqIGQgKiBpICsgYiAqIGYgKiBnICsgYyAqIGQgKiBoIC0gYyAqIGUgKiBnO1xuXG5cdH1cblxuXHRpbnZlcnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IHRlWyAwIF0sIG4yMSA9IHRlWyAxIF0sIG4zMSA9IHRlWyAyIF0sXG5cdFx0XHRuMTIgPSB0ZVsgMyBdLCBuMjIgPSB0ZVsgNCBdLCBuMzIgPSB0ZVsgNSBdLFxuXHRcdFx0bjEzID0gdGVbIDYgXSwgbjIzID0gdGVbIDcgXSwgbjMzID0gdGVbIDggXSxcblxuXHRcdFx0dDExID0gbjMzICogbjIyIC0gbjMyICogbjIzLFxuXHRcdFx0dDEyID0gbjMyICogbjEzIC0gbjMzICogbjEyLFxuXHRcdFx0dDEzID0gbjIzICogbjEyIC0gbjIyICogbjEzLFxuXG5cdFx0XHRkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTM7XG5cblx0XHRpZiAoIGRldCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCApO1xuXG5cdFx0Y29uc3QgZGV0SW52ID0gMSAvIGRldDtcblxuXHRcdHRlWyAwIF0gPSB0MTEgKiBkZXRJbnY7XG5cdFx0dGVbIDEgXSA9ICggbjMxICogbjIzIC0gbjMzICogbjIxICkgKiBkZXRJbnY7XG5cdFx0dGVbIDIgXSA9ICggbjMyICogbjIxIC0gbjMxICogbjIyICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMyBdID0gdDEyICogZGV0SW52O1xuXHRcdHRlWyA0IF0gPSAoIG4zMyAqIG4xMSAtIG4zMSAqIG4xMyApICogZGV0SW52O1xuXHRcdHRlWyA1IF0gPSAoIG4zMSAqIG4xMiAtIG4zMiAqIG4xMSApICogZGV0SW52O1xuXG5cdFx0dGVbIDYgXSA9IHQxMyAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMjEgKiBuMTMgLSBuMjMgKiBuMTEgKSAqIGRldEludjtcblx0XHR0ZVsgOCBdID0gKCBuMjIgKiBuMTEgLSBuMjEgKiBuMTIgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRsZXQgdG1wO1xuXHRcdGNvbnN0IG0gPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dG1wID0gbVsgMSBdOyBtWyAxIF0gPSBtWyAzIF07IG1bIDMgXSA9IHRtcDtcblx0XHR0bXAgPSBtWyAyIF07IG1bIDIgXSA9IG1bIDYgXTsgbVsgNiBdID0gdG1wO1xuXHRcdHRtcCA9IG1bIDUgXTsgbVsgNSBdID0gbVsgNyBdOyBtWyA3IF0gPSB0bXA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Tm9ybWFsTWF0cml4KCBtYXRyaXg0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoIG1hdHJpeDQgKS5pbnZlcnQoKS50cmFuc3Bvc2UoKTtcblxuXHR9XG5cblx0dHJhbnNwb3NlSW50b0FycmF5KCByICkge1xuXG5cdFx0Y29uc3QgbSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRyWyAwIF0gPSBtWyAwIF07XG5cdFx0clsgMSBdID0gbVsgMyBdO1xuXHRcdHJbIDIgXSA9IG1bIDYgXTtcblx0XHRyWyAzIF0gPSBtWyAxIF07XG5cdFx0clsgNCBdID0gbVsgNCBdO1xuXHRcdHJbIDUgXSA9IG1bIDcgXTtcblx0XHRyWyA2IF0gPSBtWyAyIF07XG5cdFx0clsgNyBdID0gbVsgNSBdO1xuXHRcdHJbIDggXSA9IG1bIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRVdlRyYW5zZm9ybSggdHgsIHR5LCBzeCwgc3ksIHJvdGF0aW9uLCBjeCwgY3kgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHJvdGF0aW9uICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCByb3RhdGlvbiApO1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHRzeCAqIGMsIHN4ICogcywgLSBzeCAqICggYyAqIGN4ICsgcyAqIGN5ICkgKyBjeCArIHR4LFxuXHRcdFx0LSBzeSAqIHMsIHN5ICogYywgLSBzeSAqICggLSBzICogY3ggKyBjICogY3kgKSArIGN5ICsgdHksXG5cdFx0XHQwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzY2FsZSggc3gsIHN5ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzeDsgdGVbIDMgXSAqPSBzeDsgdGVbIDYgXSAqPSBzeDtcblx0XHR0ZVsgMSBdICo9IHN5OyB0ZVsgNCBdICo9IHN5OyB0ZVsgNyBdICo9IHN5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZSggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gdGVbIDAgXSwgYTEyID0gdGVbIDMgXSwgYTEzID0gdGVbIDYgXTtcblx0XHRjb25zdCBhMjEgPSB0ZVsgMSBdLCBhMjIgPSB0ZVsgNCBdLCBhMjMgPSB0ZVsgNyBdO1xuXG5cdFx0dGVbIDAgXSA9IGMgKiBhMTEgKyBzICogYTIxO1xuXHRcdHRlWyAzIF0gPSBjICogYTEyICsgcyAqIGEyMjtcblx0XHR0ZVsgNiBdID0gYyAqIGExMyArIHMgKiBhMjM7XG5cblx0XHR0ZVsgMSBdID0gLSBzICogYTExICsgYyAqIGEyMTtcblx0XHR0ZVsgNCBdID0gLSBzICogYTEyICsgYyAqIGEyMjtcblx0XHR0ZVsgNyBdID0gLSBzICogYTEzICsgYyAqIGEyMztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIHR4LCB0eSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gKz0gdHggKiB0ZVsgMiBdOyB0ZVsgMyBdICs9IHR4ICogdGVbIDUgXTsgdGVbIDYgXSArPSB0eCAqIHRlWyA4IF07XG5cdFx0dGVbIDEgXSArPSB0eSAqIHRlWyAyIF07IHRlWyA0IF0gKz0gdHkgKiB0ZVsgNSBdOyB0ZVsgNyBdICs9IHR5ICogdGVbIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDk7IGkgKysgKSB7XG5cblx0XHRcdGlmICggdGVbIGkgXSAhPT0gbWVbIGkgXSApIHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgOTsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5lbGVtZW50c1sgaSBdID0gYXJyYXlbIGkgKyBvZmZzZXQgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGVbIDAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGVbIDEgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGVbIDIgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA0IF0gPSB0ZVsgNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA1IF0gPSB0ZVsgNSBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDggXSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG59XG5cbk1hdHJpeDMucHJvdG90eXBlLmlzTWF0cml4MyA9IHRydWU7XG5cbmV4cG9ydCB7IE1hdHJpeDMgfTtcbiIsImltcG9ydCB7IE1hdHJpeDMgfSBmcm9tICcuL01hdHJpeDMuanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ZlY3RvcjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsTWF0cml4ID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4MygpO1xuXG5jbGFzcyBQbGFuZSB7XG5cblx0Y29uc3RydWN0b3IoIG5vcm1hbCA9IG5ldyBWZWN0b3IzKCAxLCAwLCAwICksIGNvbnN0YW50ID0gMCApIHtcblxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWRcblxuXHRcdHRoaXMubm9ybWFsID0gbm9ybWFsO1xuXHRcdHRoaXMuY29uc3RhbnQgPSBjb25zdGFudDtcblxuXHR9XG5cblx0c2V0KCBub3JtYWwsIGNvbnN0YW50ICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggbm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IGNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudHMoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5zZXQoIHgsIHksIHogKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggbm9ybWFsLCBwb2ludCApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIG5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSAtIHBvaW50LmRvdCggdGhpcy5ub3JtYWwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ29wbGFuYXJQb2ludHMoIGEsIGIsIGMgKSB7XG5cblx0XHRjb25zdCBub3JtYWwgPSBfdmVjdG9yMS5zdWJWZWN0b3JzKCBjLCBiICkuY3Jvc3MoIF92ZWN0b3IyLnN1YlZlY3RvcnMoIGEsIGIgKSApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gUTogc2hvdWxkIGFuIGVycm9yIGJlIHRocm93biBpZiBub3JtYWwgaXMgemVybyAoZS5nLiBkZWdlbmVyYXRlIHBsYW5lKT9cblxuXHRcdHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoIG5vcm1hbCwgYSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHBsYW5lICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggcGxhbmUubm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IHBsYW5lLmNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdC8vIE5vdGU6IHdpbGwgbGVhZCB0byBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBwbGFuZSBpcyBpbnZhbGlkLlxuXG5cdFx0Y29uc3QgaW52ZXJzZU5vcm1hbExlbmd0aCA9IDEuMCAvIHRoaXMubm9ybWFsLmxlbmd0aCgpO1xuXHRcdHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKCBpbnZlcnNlTm9ybWFsTGVuZ3RoICk7XG5cdFx0dGhpcy5jb25zdGFudCAqPSBpbnZlcnNlTm9ybWFsTGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMuY29uc3RhbnQgKj0gLSAxO1xuXHRcdHRoaXMubm9ybWFsLm5lZ2F0ZSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWwuZG90KCBwb2ludCApICsgdGhpcy5jb25zdGFudDtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBzcGhlcmUuY2VudGVyICkgLSBzcGhlcmUucmFkaXVzO1xuXG5cdH1cblxuXHRwcm9qZWN0UG9pbnQoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBwb2ludCApICkuYWRkKCBwb2ludCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RMaW5lKCBsaW5lLCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRpcmVjdGlvbiA9IGxpbmUuZGVsdGEoIF92ZWN0b3IxICk7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHRoaXMubm9ybWFsLmRvdCggZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBsaW5lLnN0YXJ0ICkgPT09IDAgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gVW5zdXJlIGlmIHRoaXMgaXMgdGhlIGNvcnJlY3QgbWV0aG9kIHRvIGhhbmRsZSB0aGlzIGNhc2UuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHQgPSAtICggbGluZS5zdGFydC5kb3QoIHRoaXMubm9ybWFsICkgKyB0aGlzLmNvbnN0YW50ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdGlmICggdCA8IDAgfHwgdCA+IDEgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBkaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggbGluZS5zdGFydCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzTGluZSggbGluZSApIHtcblxuXHRcdC8vIE5vdGU6IHRoaXMgdGVzdHMgaWYgYSBsaW5lIGludGVyc2VjdHMgdGhlIHBsYW5lLCBub3Qgd2hldGhlciBpdCAob3IgaXRzIGVuZC1wb2ludHMpIGFyZSBjb3BsYW5hciB3aXRoIGl0LlxuXG5cdFx0Y29uc3Qgc3RhcnRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuc3RhcnQgKTtcblx0XHRjb25zdCBlbmRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuZW5kICk7XG5cblx0XHRyZXR1cm4gKCBzdGFydFNpZ24gPCAwICYmIGVuZFNpZ24gPiAwICkgfHwgKCBlbmRTaWduIDwgMCAmJiBzdGFydFNpZ24gPiAwICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiBib3guaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNTcGhlcmUoIHNwaGVyZSApIHtcblxuXHRcdHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcGxhbmFyUG9pbnQoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuY29uc3RhbnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXgsIG9wdGlvbmFsTm9ybWFsTWF0cml4ICkge1xuXG5cdFx0Y29uc3Qgbm9ybWFsTWF0cml4ID0gb3B0aW9uYWxOb3JtYWxNYXRyaXggfHwgX25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgoIG1hdHJpeCApO1xuXG5cdFx0Y29uc3QgcmVmZXJlbmNlUG9pbnQgPSB0aGlzLmNvcGxhbmFyUG9pbnQoIF92ZWN0b3IxICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdGNvbnN0IG5vcm1hbCA9IHRoaXMubm9ybWFsLmFwcGx5TWF0cml4Myggbm9ybWFsTWF0cml4ICkubm9ybWFsaXplKCk7XG5cblx0XHR0aGlzLmNvbnN0YW50ID0gLSByZWZlcmVuY2VQb2ludC5kb3QoIG5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggb2Zmc2V0ICkge1xuXG5cdFx0dGhpcy5jb25zdGFudCAtPSBvZmZzZXQuZG90KCB0aGlzLm5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggcGxhbmUgKSB7XG5cblx0XHRyZXR1cm4gcGxhbmUubm9ybWFsLmVxdWFscyggdGhpcy5ub3JtYWwgKSAmJiAoIHBsYW5lLmNvbnN0YW50ID09PSB0aGlzLmNvbnN0YW50ICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5QbGFuZS5wcm90b3R5cGUuaXNQbGFuZSA9IHRydWU7XG5cbmV4cG9ydCB7IFBsYW5lIH07XG4iLCJpbXBvcnQge1ZlY3RvcjJ9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjInXG5pbXBvcnQge1ZlY3RvcjN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge1ZlY3RvcjR9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjQnXG5pbXBvcnQge1F1YXRlcm5pb259IGZyb20gJ3RocmVlL3NyYy9tYXRoL1F1YXRlcm5pb24nXG5pbXBvcnQge0V1bGVyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9FdWxlcidcbmltcG9ydCB7Q29sb3J9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0NvbG9yJ1xuaW1wb3J0IHtCb3gyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gyJ1xuaW1wb3J0IHtCb3gzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gzJ1xuaW1wb3J0IHtSYXl9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1JheSdcbmltcG9ydCB7TGluZTN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0xpbmUzJ1xuaW1wb3J0IHtQbGFuZX0gZnJvbSAndGhyZWUvc3JjL21hdGgvUGxhbmUnXG5cbi8vIGltcG9ydCB7TWF0cml4M30gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4Mydcbi8vIGltcG9ydCB7TWF0cml4NH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcblxuXG4vLyBleHBvcnQgY2xhc3MgUHJvcGVydHlJdGVyYXRvcjxUID0gYW55PiBpbXBsZW1lbnRzIEl0ZXJhdG9yPG51bWJlcj4ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX29iajpULCBwcml2YXRlIF9rZXlzOlJlYWRvbmx5QXJyYXk8a2V5b2YgVD4pIHt9XG4vLyAgICAgcHJpdmF0ZSBfaWR4ID0gMFxuLy8gICAgIG5leHQoKSA6IEl0ZXJhdG9yUmVzdWx0PG51bWJlciwgbnVtYmVyPiB7XG4vLyAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICBkb25lOiB0aGlzLl9pZHggPT09IChWZWN0b3IyS2V5cy5sZW5ndGggLSAxKSxcbi8vICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9vYmpbdGhpcy5fa2V5c1t0aGlzLl9pZHgrK11dIGFzIGFueVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMicge1xuLy8gICAgIGludGVyZmFjZSBWZWN0b3IyIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFZlY3RvcjJLZXlzID0gWyd4JywneSddIGFzIGNvbnN0XG4vLyBWZWN0b3IyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHJldHVybiBuZXcgUHJvcGVydHlJdGVyYXRvcih0aGlzLCBWZWN0b3IyS2V5cylcbi8vIH1cblxuLy8gZGVjbGFyZSBtb2R1bGUgJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnIHtcbi8vICAgICBpbnRlcmZhY2UgVmVjdG9yMyB7XG4vLyAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IFByb3BlcnR5SXRlcmF0b3Jcbi8vICAgICB9XG4vLyB9XG4vLyBjb25zdCBWZWN0b3IzS2V5cyA9IFsneCcsJ3knLCd6J10gYXMgY29uc3Rcbi8vIFZlY3RvcjMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUl0ZXJhdG9yKHRoaXMsIFZlY3RvcjNLZXlzKVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbicge1xuLy8gICAgIGludGVyZmFjZSBRdWF0ZXJuaW9uIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFF1YXRlcm5pb25LZXlzID0gWyd4JywneScsJ3onXSBhcyBjb25zdFxuLy8gUXVhdGVybmlvbi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gbmV3IFByb3BlcnR5SXRlcmF0b3IodGhpcywgUXVhdGVybmlvbktleXMpXG4vLyB9XG5cbi8vIGltcG9ydCB7dHJhY2tlZH0gZnJvbSAnLi90cmFja2luZydcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd3Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfeCcpXG4vLyB0cmFja2VkKFF1YXRlcm5pb24ucHJvdG90eXBlLCAnX3knKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ196Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfdycpXG4vLyB0cmFja2VkKENvbG9yLnByb3RvdHlwZSwgJ3InKVxuLy8gdHJhY2tlZChDb2xvci5wcm90b3R5cGUsICdnJylcbi8vIHRyYWNrZWQoQ29sb3IucHJvdG90eXBlLCAnYicpXG5cbmV4cG9ydCBjb25zdCBWXzAwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMigwLDApKVxuZXhwb3J0IGNvbnN0IFZfMTEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IyKDEsMSkpXG5leHBvcnQgY29uc3QgVl8wMDAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwwKSlcbmV4cG9ydCBjb25zdCBWXzEwMCA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwwLDApKVxuZXhwb3J0IGNvbnN0IFZfMDEwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLDEsMCkpXG5leHBvcnQgY29uc3QgVl8wMDEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwxKSlcbmV4cG9ydCBjb25zdCBWXzExMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwxLDEpKVxuZXhwb3J0IGNvbnN0IFFfSURFTlRJVFkgPSBPYmplY3QuZnJlZXplKG5ldyBRdWF0ZXJuaW9uKVxuXG5leHBvcnQgY29uc3QgRElSRUNUSU9OID0ge1xuICAgIFJJR0hUOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDEsIDAsIDApKSxcbiAgICBVUDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAxLCAwKSksXG4gICAgTkVBUjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAwLCAxKSksXG4gICAgTEVGVDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygtMSwgMCwgMCkpLFxuICAgIERPV046IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgLTEsIDApKSxcbiAgICBGQVI6IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgMCwgLTEpKVxufVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvQm94Mycge1xuLy8gICAgIGludGVyZmFjZSBCb3gzIHtcbi8vICAgICAgICAgbGVmdDpudW1iZXJcbi8vICAgICAgICAgcmlnaHQ6bnVtYmVyXG4vLyAgICAgICAgIGJvdHRvbTpudW1iZXJcbi8vICAgICAgICAgdG9wOm51bWJlclxuLy8gICAgICAgICBjZW50ZXI6VmVjdG9yM1xuLy8gICAgIH1cbi8vIH1cblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnbGVmdCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi54XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAncmlnaHQnLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5tYXgueFxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ3RvcCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi55XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnYm90dG9tJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWF4Lnlcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBjb25zdCBjZW50ZXJNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdjZW50ZXInLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICBpZiAoIWNlbnRlck1hcC5oYXModGhpcykpIGNlbnRlck1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldENlbnRlcihjZW50ZXJNYXAuZ2V0KHRoaXMpKVxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIGNvbnN0IHNpemVNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdzaXplJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgaWYgKCFzaXplTWFwLmhhcyh0aGlzKSkgc2l6ZU1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldFNpemUoc2l6ZU1hcC5nZXQodGhpcykpXG4vLyAgICAgfVxuLy8gfSlcblxuZXhwb3J0IHtcbiAgICBWZWN0b3IyLFxuICAgIFZlY3RvcjMsXG4gICAgVmVjdG9yNCxcbiAgICBRdWF0ZXJuaW9uLFxuICAgIEV1bGVyLFxuICAgIENvbG9yLFxuICAgIEJveDIsXG4gICAgQm94MyxcbiAgICBSYXksXG4gICAgTGluZTMsXG4gICAgUGxhbmUsXG59XG5cblxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IyTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IzTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yNExpa2Uge3g6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBRdWF0ZXJuaW9uTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbG9yTGlrZSB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQm94M0xpa2Uge21pbjpWZWN0b3IzTGlrZSwgbWF4OlZlY3RvcjNMaWtlfVxuLy8gZXhwb3J0IGludGVyZmFjZSBSYXlMaWtlIHtvcmlnaW46VmVjdG9yM0xpa2UsIGRpcmVjdGlvbjpWZWN0b3IzTGlrZX1cblxuZXhwb3J0ICogZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4MydcbmV4cG9ydCAqIGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5leHBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0aFV0aWxzJ1xuXG4vKlxuKiBUaGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBhIHVuaXRsZXNzIHNjYWxhciBtZWFzdXJlIG9mIHRoZSBkaWZmZXJlbmNlXG4qIGJldHdlZW4gdGhlIGB0YXJnZXRgIHZhbHVlIGFuZCB0aGUgcHJldmlvdXMgdGFyZ2V0IHZhbHVlIChzdGFnZWQgb3IgY29tbWl0dGVkKVxuKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlbGF0aXZlX2NoYW5nZV9hbmRfZGlmZmVyZW5jZVxuKiBcbiogRXhhY3RseSBob3cgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBjYWxjdWxhdGVkIGlzIGJhc2VkIG9uIHRoZSB2YWx1ZSB0eXBlOlxuXG4qIG51bWJlciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIGFic29sdXRlIHZhbHVlXG4qIHZlY3RvciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIG1hZ25pdHVkZVxuKiBib3ggLSBhdmcgY29ycmVzcG9uZGluZyBjb3JuZXIgZGlzdGFuY2VzIC8gYXZnIHNpemUgbWFnbml0dWRlXG4qIHF1YXRlcm5pb24gLSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gLyBtYXggYW5ndWxhciBkaXN0YW5jZSAoMTgwIGRlZylcbiogY29sb3IgLSBhdmcgcmdiIGRpc3RhbmNlIC8gbWF4IHJnYiBkaXN0YW5jZSAod2hpdGUgPSBzcXJ0KDMpKVxuKiBcbiogSWYgdGhlcmUgaXMgbm8gY2hhbmdlLCB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyAwXG4qIE90aGVyd2lzZSwgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgcG9zaXRpdmUuIFxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVsYXRpdmVEaWZmZXJlbmNlPFQgZXh0ZW5kcyBNYXRoVHlwZSA9IE1hdGhUeXBlPihzdGFydDpULCBlbmQ6VCkge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VOdW1iZXIoc3RhcnQsIGVuZCBhcyBudW1iZXIpICAgIFxuICAgIGlmICgnaXNWZWN0b3IzJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMyhzdGFydCBhcyBWZWN0b3IzLCBlbmQgYXMgVmVjdG9yMykgICAgXG4gICAgaWYgKCdpc1ZlY3RvcjInIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IyKHN0YXJ0IGFzIFZlY3RvcjIsIGVuZCBhcyBWZWN0b3IyKSAgICBcbiAgICBpZiAoJ2lzQm94MycgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoc3RhcnQgYXMgQm94MywgZW5kIGFzIEJveDMpXG4gICAgLy8gdGhlIGZvbGxvd2luZyB0eXBlcyBhcmUgbmF0dXJhbGx5IGJvdW5kZWQsXG4gICAgLy8gc28gaW5zdGVhZCBvZiBkaXZpZGluZyBieSBhdmVyYWdlIG1hZ25pdHVkZXMsXG4gICAgLy8gd2UgY2FuIHNpbXBseSBkaXZpZGUgYnkgdGhlIG1heGltdW0gZGlzdGFuY2UgXG4gICAgLy8gYmV0d2VlbiBhbnkgdHdvIHBvc3NpYmxlIHZhbHVlc1xuICAgIGlmICgnaXNRdWF0ZXJuaW9uJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlUXVhdGVybmlvbihzdGFydCBhcyBRdWF0ZXJuaW9uLCBlbmQgYXMgUXVhdGVybmlvbilcbiAgICBpZiAoJ2lzQ29sb3InIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VDb2xvcihzdGFydCBhcyBDb2xvciwgZW5kIGFzIENvbG9yKVxuICAgIHJldHVybiBJbmZpbml0eVxufVxuZXhwb3J0IHR5cGUgTWF0aFR5cGUgPSBudW1iZXJ8VmVjdG9yMnxWZWN0b3IzfENvbG9yfFF1YXRlcm5pb258Qm94M1xuXG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlTnVtYmVyKHM6bnVtYmVyLCBlOm51bWJlcikge1xuICAgIGlmIChlID09PSBzKSByZXR1cm4gMFxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZS1zKVxuICAgIGNvbnN0IGF2Z0Fic29sdXRlVmFsdWUgPSAoKE1hdGguYWJzKGUpICsgTWF0aC5hYnMocykpLzIpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gYXZnQWJzb2x1dGVWYWx1ZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjMoczpUSFJFRS5WZWN0b3IzLGU6VEhSRUUuVmVjdG9yMykge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjIoczpUSFJFRS5WZWN0b3IyLGU6VEhSRUUuVmVjdG9yMikge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoczpCb3gzLCBlOkJveDMpIHtcbiAgICBpZiAocy5lcXVhbHMoZSkpIHJldHVybiAwXG4gICAgY29uc3QgdiA9IHNjcmF0Y2hWM1xuICAgIGNvbnN0IG1pbkRpc3QgPSBlLm1pbi5kaXN0YW5jZVRvKHMubWluKVxuICAgIGNvbnN0IG1heERpc3QgPSBlLm1heC5kaXN0YW5jZVRvKHMubWF4KVxuICAgIGNvbnN0IGF2Z0Rpc3RhbmNlID0gKG1pbkRpc3QgKyBtYXhEaXN0KSAvIDJcbiAgICBjb25zdCBhdmdTaXplTWFnbml0dWRlID0gKGUuZ2V0U2l6ZSh2KS5sZW5ndGgoKSArIHMuZ2V0U2l6ZSh2KS5sZW5ndGgoKSkgLyAyXG4gICAgcmV0dXJuIGF2Z0Rpc3RhbmNlIC8gYXZnU2l6ZU1hZ25pdHVkZVxufVxuY29uc3Qgc2NyYXRjaFYzID0gbmV3IFZlY3RvcjNcblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VRdWF0ZXJuaW9uKHM6UXVhdGVybmlvbiwgZTpRdWF0ZXJuaW9uKSB7XG4gICAgaWYgKHMuZXF1YWxzKGUpKSByZXR1cm4gMFxuICAgIHJldHVybiBzLmFuZ2xlVG8oZSkgLyBNYXRoLlBJXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQ29sb3IoczpDb2xvciwgZTpDb2xvcikge1xuICAgIGlmIChzLmVxdWFscyhlKSkgcmV0dXJuIDBcbiAgICBjb25zdCB2ID0gc2NyYXRjaFYzXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2LnNldChcbiAgICAgICAgTWF0aC5hYnMoZS5yIC0gcy5yKSxcbiAgICAgICAgTWF0aC5hYnMoZS5nIC0gcy5nKSwgXG4gICAgICAgIE1hdGguYWJzKGUuYiAtIHMuYilcbiAgICApLmxlbmd0aCgpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gc3FydDNcbn1cbmNvbnN0IHNxcnQzID0gTWF0aC5zcXJ0KDMpXG5cblxuXG4vKiogXG4gKiBSZXR1cm4gcmFuZG9tIG51bWJlciB3aXRoIGdhdXNzaWFuIGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzdGFuZGFyZERldmlhdGlvbj0xXVxuICovXG5leHBvcnQgY29uc3QgZ2F1c3NpYW4gPSAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuICB2YXIgdSA9IE1hdGgucmFuZG9tKClcbiAgcmV0dXJuICh1JTFlLTg+NWUtOT8xOi0xKSpNYXRoLnNxcnQoLU1hdGgubG9nKE1hdGgubWF4KDFlLTksdSkpKSpzdGFuZGFyZERldmlhdGlvbjtcbn1cbi8vIGV4cG9ydCBjb25zdCBnYXVzc2lhbiA9ICgoKSA9PiB7XG4vLyAgICAgY29uc3QgXzJQSSA9IE1hdGguUElcbi8vICAgICBsZXQgejA6bnVtYmVyLCB6MTpudW1iZXJcbi8vICAgICBsZXQgZ2VuZXJhdGUgPSBmYWxzZVxuLy8gICAgIHJldHVybiAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuLy8gICAgICAgICBnZW5lcmF0ZSA9ICFnZW5lcmF0ZVxuLy8gICAgICAgICBpZiAoIWdlbmVyYXRlKSByZXR1cm4gejEgKiBzdGFuZGFyZERldmlhdGlvblxuLy8gICAgICAgICBsZXQgdTE6bnVtYmVyLCB1MjpudW1iZXJcbi8vICAgICAgICAgZG8geyB1MSA9IE1hdGgucmFuZG9tKCkgfSB3aGlsZSAodTEgPCBOdW1iZXIuRVBTSUxPTilcbi8vICAgICAgICAgdTIgPSBNYXRoLnJhbmRvbSgpXG4vLyAgICAgICAgIHowID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyh1MSkpICogTWF0aC5jb3MoXzJQSSAqIHUyKVxuLy8gICAgICAgICB6MSA9IE1hdGguc3FydCgtMi4wICogTWF0aC5sb2codTEpKSAqIE1hdGguc2luKF8yUEkgKiB1Milcbi8vICAgICAgICAgcmV0dXJuIHowICogc3RhbmRhcmREZXZpYXRpb25cbi8vICAgICB9XG4vLyB9KSgpXG5cbi8qKlxuICogUmV0dXJuIHJhbmRvbSBudW1iZXIgd2l0aCBsZXZ5IGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzY2FsZT0xXVxuICogXG4gKiBCYXNlZCBvbjpcbiAqIGh0dHA6Ly9hbmRyZXdlY2tmb3JkLmJsb2dzcG90LmNvbS8yMDExLzA1L2dlbmVyYXRpbmctbGV2eS1yYW5kb20tdmFyaWFibGVzLWZyb20uaHRtbFxuICovXG5leHBvcnQgY29uc3QgbGV2eSA9IChzY2FsZT0xKSA9PiAge1xuICAgIGNvbnN0IHN0ZERldmlhdGlvbiA9IE1hdGguc3FydCggTWF0aC5zcXJ0KDEgLyAoMiAqIHNjYWxlKSkgKVxuICAgIHJldHVybiAxIC8gKGdhdXNzaWFuKHN0ZERldmlhdGlvbikgKiogMilcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gcXVhdGVybmlvblxuICogQHBhcmFtIG91dCBcbiAqIEBwYXJhbSB0d2lzdFNjYWxlIFxuICogQHBhcmFtIHN3aW5nU2NhbGUgXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21RdWF0ZXJuaW9uID0gKCgpID0+IHtcbiAgICBjb25zdCBfMlBJID0gTWF0aC5QSSAqIDJcbiAgICBjb25zdCBWXzAwMSA9IG5ldyBWZWN0b3IzKDAsMCwxKVxuICAgIGNvbnN0IHR3aXN0ID0gbmV3IFF1YXRlcm5pb25cbiAgICBjb25zdCBzd2luZyA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgY29uc3Qgc3dpbmdBeGlzID0gbmV3IFZlY3RvcjNcbiAgICBjb25zdCBvdXQgPSBuZXcgUXVhdGVybmlvblxuICAgIHJldHVybiBmdW5jdGlvbiByYW5kb21RdWF0ZXJuaW9uKHR3aXN0U2NhbGU9MSwgc3dpbmdTY2FsZT0xKSB7XG4gICAgICAgIHZhciB0d2lzdE1hZ25pdHVkZSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIF8yUEkgKiB0d2lzdFNjYWxlIFxuICAgICAgICB2YXIgc3dpbmdEaXJlY3Rpb24gPSBNYXRoLnJhbmRvbSgpICogXzJQSVxuICAgICAgICB2YXIgc3dpbmdNYWduaXR1ZGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIHN3aW5nU2NhbGVcbiAgICAgICAgc3dpbmdBeGlzLnNldCgxLDAsMCkuYXBwbHlBeGlzQW5nbGUoVl8wMDEsIHN3aW5nRGlyZWN0aW9uKVxuICAgICAgICB0d2lzdC5zZXRGcm9tQXhpc0FuZ2xlKFZfMDAxLCB0d2lzdE1hZ25pdHVkZSlcbiAgICAgICAgc3dpbmcuc2V0RnJvbUF4aXNBbmdsZShzd2luZ0F4aXMsIHN3aW5nTWFnbml0dWRlKVxuICAgICAgICByZXR1cm4gb3V0Lm11bHRpcGx5UXVhdGVybmlvbnMoc3dpbmcsIHR3aXN0KVxuICAgIH1cbn0pKClcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVNlbGVjdDxUPihhcnI6VFtdLCB3ZWlnaHRzPzpudW1iZXJbXSkgOiBUIHtcbiAgICBsZXQgdG90YWwgPSAwXG4gICAgZm9yIChsZXQgaT0wOyBpPCBhcnIubGVuZ3RoOyBpKyspIHsgdG90YWwgKz0gd2VpZ2h0cz8uW2ldfHwxIH1cbiAgICBjb25zdCB0aHJlc2hvbGQgPSBNYXRoLnJhbmRvbSgpICogdG90YWxcbiAgICB0b3RhbCA9IDBcbiAgICBmb3IgKGxldCBpPTA7IGk8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b3RhbCArPSB3ZWlnaHRzPy5baV18fDFcbiAgICAgICAgaWYgKHRvdGFsID4gdGhyZXNob2xkKSByZXR1cm4gYXJyW2ldXG4gICAgfVxuICAgIHJldHVybiBhcnJbMF0gLy8gbWFrZSB0c2MgaGFwcHlcbn1cblxuLyoqXG4gKiBVc2UgdGhlIHN3aW5nLXR3aXN0IGRlY29tcG9zaXRpb24gdG8gZ2V0IHRoZSBjb21wb25lbnQgb2YgYSByb3RhdGlvblxuICogYXJvdW5kIHRoZSBnaXZlbiBheGlzLlxuICogXG4gKiBAcGFyYW0gcm90YXRpb24gIFRoZSByb3RhdGlvbi5cbiAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGF4aXMgKHNob3VsZCBiZSBub3JtYWxpemVkKS5cbiAqIEByZXR1cm4gVGhlIGNvbXBvbmVudCBvZiByb3RhdGlvbiBhYm91dCB0aGUgYXhpcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4dHJhY3RSb3RhdGlvbkFib3V0QXhpcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdmVjID0gbmV3IFZlY3RvcjNcbiAgICByZXR1cm4gZnVuY3Rpb24gZXh0cmFjdFJvdGF0aW9uQWJvdXRBeGlzKHJvdDpRdWF0ZXJuaW9uLCBkaXJlY3Rpb246VmVjdG9yMywgb3V0OlF1YXRlcm5pb24pIHtcbiAgICAgICAgY29uc3Qgcm90QXhpcyA9IHZlYy5zZXQocm90LngsIHJvdC55LCByb3QueilcbiAgICAgICAgY29uc3QgZG90UHJvZCA9IGRpcmVjdGlvbi5kb3Qocm90QXhpcykgICAgICBcbiAgICAgICAgLy8gU2hvcnRjdXQgY2FsY3VsYXRpb24gb2YgYHByb2plY3Rpb25gIHJlcXVpcmVzIGBkaXJlY3Rpb25gIHRvIGJlIG5vcm1hbGl6ZWRcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZlYy5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZG90UHJvZClcbiAgICAgICAgY29uc3QgdHdpc3QgPSBvdXQuc2V0KHByb2plY3Rpb24ueCwgcHJvamVjdGlvbi55LCBwcm9qZWN0aW9uLnosIHJvdC53KS5ub3JtYWxpemUoKVxuICAgICAgICBpZiAoZG90UHJvZCA8IDAuMCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGB0d2lzdGAgcG9pbnRzIHRvd2FyZHMgYGRpcmVjdGlvbmBcbiAgICAgICAgICAgIHR3aXN0LnggPSAtdHdpc3QueFxuICAgICAgICAgICAgdHdpc3QueSA9IC10d2lzdC55XG4gICAgICAgICAgICB0d2lzdC56ID0gLXR3aXN0LnpcbiAgICAgICAgICAgIHR3aXN0LncgPSAtdHdpc3Qud1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0d2lzdFxuICAgIH1cbn0pKCkiLCJcbmltcG9ydCB7IEJveDMsIFZlY3RvcjMsIFF1YXRlcm5pb24sIE1hdHJpeDQsIFZfMDAwLCBESVJFQ1RJT04sIFZfMTExLCBCb3gyLCBWZWN0b3IyLCBRX0lERU5USVRZIH0gZnJvbSAnLi9tYXRoLXV0aWxzJ1xuaW1wb3J0IHsgRXRoZXJlYWxMYXlvdXRTeXN0ZW0sIE5vZGUzRCB9IGZyb20gJy4vRXRoZXJlYWxMYXlvdXRTeXN0ZW0nXG5pbXBvcnQgeyBNZW1vaXphdGlvbkNhY2hlIH0gZnJvbSAnLi9NZW1vaXphdGlvbkNhY2hlJ1xuaW1wb3J0IHsgU3BhdGlhbEFkYXB0ZXIgfSBmcm9tICcuL1NwYXRpYWxBZGFwdGVyJ1xuXG5jb25zdCBJbnRlcm5hbFJhd1N0YXRlID0gU3ltYm9sKFwicmF3XCIpXG5jb25zdCBJbnRlcm5hbEN1cnJlbnRTdGF0ZSA9IFN5bWJvbChcImN1cnJlbnRcIilcbmNvbnN0IEludGVybmFsVGFyZ2V0U3RhdGUgPSBTeW1ib2woXCJ0YXJnZXRcIilcbmNvbnN0IEludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZSA9IFN5bWJvbChcInByZXZpb3VzVGFyZ2V0XCIpXG5cbmV4cG9ydCBjbGFzcyBOb2RlU3RhdGU8TiBleHRlbmRzIE5vZGUzRD1Ob2RlM0Q+IHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtb2RlOidjdXJyZW50J3wndGFyZ2V0JywgcHVibGljIG1ldHJpY3M6U3BhdGlhbE1ldHJpY3M8Tj4pIHt9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWVtb2l6YXRpb25DYWNoZVxuXG4gICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUuaW52YWxpZGF0ZUFsbCgpXG4gICAgfVxuXG4gICAgb3BhY2l0eSA9IDFcbiBcbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50XG4gICAgfVxuICAgIHNldCBwYXJlbnQodmFsOk58bnVsbCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fcGFyZW50XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSB2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHZhbFxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKClcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF9wYXJlbnQgOiBOfG51bGwgPSBudWxsXG5cbiAgICBnZXQgcGFyZW50U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldHJpY3MucGFyZW50TWV0cmljcz8uW3RoaXMubW9kZV1cbiAgICB9XG4gICAgXG4gICAgZ2V0IHJlZmVyZW5jZVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRyaWNzLnJlZmVyZW5jZU1ldHJpY3M/Llt0aGlzLm1vZGVdXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkTG9jYWxNYXRyaXggPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fbG9jYWxNYXRyaXguZGVjb21wb3NlKHRoaXMuX2xvY2FsUG9zaXRpb24sIHRoaXMuX2xvY2FsT3JpZW50YXRpb24sIHRoaXMuX2xvY2FsU2NhbGUpXG4gICAgICAgIHRoaXMuX2xvY2FsT3JpZW50YXRpb24ubm9ybWFsaXplKClcbiAgICAgICAgdGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2UuY29weSh0aGlzLl9sb2NhbE9yaWVudGF0aW9uKS5pbnZlcnQoKVxuICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX2xvY2FsT3JpZW50YXRpb24pXG4gICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb25JbnZlcnNlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX2xvY2FsT3JpZW50YXRpb25JbnZlcnNlKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXhcbiAgICB9KVxuICAgIGdldCBsb2NhbE1hdHJpeCgpIHsgcmV0dXJuIHRoaXMuX2xvY2FsTWF0cml4IH1cbiAgICBzZXQgbG9jYWxNYXRyaXgodmFsOk1hdHJpeDQpIHtcbiAgICAgICAgaWYgKGlzTmFOKHZhbC5lbGVtZW50c1swXSkpIHRocm93IG5ldyBFcnJvcigpXG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxNYXRyaXguZXF1YWxzKHZhbCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpXG4gICAgICAgICAgICB0aGlzLl9sb2NhbE1hdHJpeC5jb3B5KHZhbClcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuX2xvY2FsTWF0cml4KS5pbnZlcnQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbG9jYWxNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX2xvY2FsTWF0cml4SW52ZXJzZSA9IG5ldyBNYXRyaXg0XG4gICAgXG4gICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfbG9jYWxPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgcHJpdmF0ZSBfbG9jYWxPcmllbnRhdGlvbkludmVyc2UgPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX2xvY2FsU2NhbGUgPSBuZXcgVmVjdG9yMygxLDEsMSlcbiAgICBwcml2YXRlIF9sb2NhbFJvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9sb2NhbFJvdGF0aW9uSW52ZXJzZSA9IG5ldyBNYXRyaXg0XG5cbiAgICBnZXQgbG9jYWxNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXhJbnZlcnNlXG4gICAgfVxuXG4gICAgZ2V0IGxvY2FsUG9zaXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsUG9zaXRpb25cbiAgICB9XG5cbiAgICBnZXQgbG9jYWxPcmllbnRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxPcmllbnRhdGlvblxuICAgIH1cblxuICAgIGdldCBsb2NhbE9yaWVudGF0aW9uSW52ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgbG9jYWxTY2FsZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxTY2FsZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvY2FsIHJvdGF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIGdldCBsb2NhbFJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFJvdGF0aW9uXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9jYWwgT3JpZW50YXRpb24gbWF0cml4IGludmVyc2VcbiAgICAgKi9cbiAgICBnZXQgbG9jYWxSb3RhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsUm90YXRpb25JbnZlcnNlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkV29ybGRNYXRyaXggPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdGhpcy5fd29ybGRNYXRyaXguY29weSh0aGlzLmxvY2FsTWF0cml4KVxuICAgICAgICBjb25zdCBwYXJlbnRTdGF0ZSA9IHRoaXMucGFyZW50U3RhdGVcbiAgICAgICAgaWYgKHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgICBtYXRyaXgucHJlbXVsdGlwbHkocGFyZW50U3RhdGUud29ybGRNYXRyaXgpXG4gICAgICAgIH1cbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzLl93b3JsZFBvc2l0aW9uLCB0aGlzLl93b3JsZE9yaWVudGF0aW9uLCB0aGlzLl93b3JsZFNjYWxlKVxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeEludmVyc2UuY29weSh0aGlzLl93b3JsZE1hdHJpeCkuaW52ZXJ0KClcbiAgICAgICAgdGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2UuY29weSh0aGlzLl93b3JsZE9yaWVudGF0aW9uKS5pbnZlcnQoKVxuICAgICAgICB0aGlzLl93b3JsZFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb24pXG4gICAgICAgIHRoaXMuX3dvcmxkUm90YXRpb25JbnZlcnNlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlKVxuICAgICAgICByZXR1cm4gbWF0cml4XG4gICAgfSlcbiAgICBnZXQgd29ybGRNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRXb3JsZE1hdHJpeCgpXG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgX3dvcmxkUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF93b3JsZFNjYWxlID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF93b3JsZE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfd29ybGRNYXRyaXhJbnZlcnNlID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZFJvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZFJvdGF0aW9uSW52ZXJzZSA9IG5ldyBNYXRyaXg0XG5cbiAgICBnZXQgd29ybGRNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE1hdHJpeEludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgd29ybGRQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy53b3JsZE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRQb3NpdGlvblxuICAgIH1cblxuICAgIGdldCB3b3JsZE9yaWVudGF0aW9uKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE9yaWVudGF0aW9uXG4gICAgfVxuXG4gICAgZ2V0IHdvcmxkU2NhbGUoKSB7XG4gICAgICAgIHRoaXMud29ybGRNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU2NhbGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnNlIHdvcmxkIG9yaWVudGF0aW9uXG4gICAgICovXG4gICAgZ2V0IHdvcmxkT3JpZW50YXRpb25JbnZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXb3JsZCByb3RhdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkUm90YXRpb25cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogV29ybGQgcm90YXRpb24gbWF0cml4IGludmVyc2VcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZFJvdGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbm5lciBib3VuZHMgY2VudGVyIGluIHdvcmxkIGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkV29ybGRDZW50ZXIgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkQ2VudGVyLmNvcHkodGhpcy5tZXRyaWNzLmlubmVyQ2VudGVyKS5hcHBseU1hdHJpeDQodGhpcy53b3JsZE1hdHJpeClcbiAgICB9KVxuICAgIGdldCB3b3JsZENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFdvcmxkQ2VudGVyKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfd29ybGRDZW50ZXIgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byB3b3JsZCBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKiBcbiAgICAgKiBTcGF0aWFsIEZyYW1lID0gUmVmZXJlbmNlIE9yaWdpbiArIE15IFdvcmxkIE9yaWVudGF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkU3BhdGlhbE1hdHJpeCA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBzcGF0aWFsTWF0cml4ID0gdGhpcy5fc3BhdGlhbE1hdHJpeC5jb21wb3NlKHRoaXMub3V0ZXJPcmlnaW4sIHRoaXMud29ybGRPcmllbnRhdGlvbiwgVl8xMTEpIFxuICAgICAgICB0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuX3NwYXRpYWxNYXRyaXgpLmludmVydCgpXG4gICAgICAgIHRoaXMuX2xvY2FsRnJvbVNwYXRpYWwubXVsdGlwbHlNYXRyaWNlcyh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSwgc3BhdGlhbE1hdHJpeClcbiAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21Mb2NhbC5jb3B5KHRoaXMuX2xvY2FsRnJvbVNwYXRpYWwpLmludmVydCgpXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlU3RhdGVcbiAgICAgICAgaWYgKHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZSwgcmVmZXJlbmNlLndvcmxkTWF0cml4KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UuY29weSh0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3BhdGlhbE1hdHJpeFxuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsTWF0cml4KClcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zcGF0aWFsTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsTWF0cml4SW52ZXJzZSA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbG9jYWxGcm9tU3BhdGlhbCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21Mb2NhbCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21SZWZlcmVuY2UgPSBuZXcgTWF0cml4NFxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsTWF0cml4SW52ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gbG9jYWwgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IGxvY2FsRnJvbVNwYXRpYWwoKSB7IFxuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsRnJvbVNwYXRpYWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSBsb2NhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbUxvY2FsKCkgeyBcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsRnJvbUxvY2FsIFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gc3BhdGlhbCBmcmFtZSBmcm9tIHJlZmVyZW5jZSBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbVJlZmVyZW5jZSgpIHsgXG4gICAgICAgIHRoaXMuc3BhdGlhbE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UgXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIGJvdW5kcyBcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jYWNoZWRTcGF0aWFsQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3NwYXRpYWxCb3VuZHMuY29weSh0aGlzLm1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX3NwYXRpYWxCb3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMuc3BhdGlhbEZyb21Mb2NhbClcbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9zcGF0aWFsQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9zcGF0aWFsU2l6ZSlcbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX3NwYXRpYWxCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX3NwYXRpYWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9zcGF0aWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIHNpemVcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbFNpemUoKSB7XG4gICAgICAgIHRoaXMuc3BhdGlhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbFNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3BhdGlhbCBjZW50ZXJcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsQ2VudGVyXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9jYWNoZWRPdXRlckJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9vdXRlckJvdW5kc1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgYm91bmRzLmNvcHkoYWRhcHRlci5vdXRlckJvdW5kc1t0aGlzLm1vZGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlU3RhdGUgPSB0aGlzLnJlZmVyZW5jZVN0YXRlXG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVN0YXRlKSBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoVl8wMDAsVl8wMDApXG4gICAgICAgICAgICBlbHNlIGJvdW5kcy5jb3B5KHJlZmVyZW5jZVN0YXRlLm1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgICAgICBib3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMuc3BhdGlhbEZyb21SZWZlcmVuY2UpXG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9vdXRlckNlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fb3V0ZXJTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICAvKipcbiAgICAqIFRoZSByZWZlcmVuY2UgYm91bmRzIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgKi9cbiAgICBnZXQgb3V0ZXJCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRPdXRlckJvdW5kcygpIH1cbiAgICBwcml2YXRlIF9vdXRlckJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfb3V0ZXJDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX291dGVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMub3V0ZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyQ2VudGVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBzaXplIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5vdXRlckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBvcmlnaW4gaW4gdGhlIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyT3JpZ2luKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikgcmV0dXJuIGFkYXB0ZXIub3V0ZXJPcmlnaW5bdGhpcy5tb2RlXVxuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VTdGF0ZT8ud29ybGRDZW50ZXIgPz8gVl8wMDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXIgYm91bmRzIG9yaWVudGF0aW9uIGluIHRoZSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBvdXRlck9yaWVudGF0aW9uKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikgcmV0dXJuIGFkYXB0ZXIub3V0ZXJPcmllbnRhdGlvblt0aGlzLm1vZGVdXG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZVN0YXRlPy53b3JsZE9yaWVudGF0aW9uID8/IFFfSURFTlRJVFlcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWNoZWRPdXRlclZpc3VhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgYm91bmRzLmNvcHkoYWRhcHRlci5vdXRlclZpc3VhbEJvdW5kc1t0aGlzLm1vZGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlU3RhdGUgPSB0aGlzLnJlZmVyZW5jZVN0YXRlXG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVN0YXRlKSBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoVl8wMDAsIFZfMDAwKVxuICAgICAgICAgICAgZWxzZSBib3VuZHMuY29weShyZWZlcmVuY2VTdGF0ZS52aXN1YWxCb3VuZHMpXG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9vdXRlclZpc3VhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fb3V0ZXJWaXN1YWxTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICAvKipcbiAgICAqIFRoZSByZWZlcmVuY2UgYm91bmRzIGluIHRoZSB2aXN1YWwgZnJhbWVcbiAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbEJvdW5kcygpIHsgcmV0dXJuIHRoaXMuX2NhY2hlZE91dGVyVmlzdWFsQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX291dGVyVmlzdWFsQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9vdXRlclZpc3VhbENlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfb3V0ZXJWaXN1YWxTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJWaXN1YWxDZW50ZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXJWaXN1YWwgYm91bmRzIHNpemUgaW4gdGhlIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJWaXN1YWxTaXplKCkge1xuICAgICAgICB0aGlzLm91dGVyVmlzdWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlclZpc3VhbFNpemVcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0IF92aWV3U3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSB0aGlzLm1ldHJpY3Mubm9kZSkgcmV0dXJuIHRoaXNcbiAgICAgICAgY29uc3Qgdmlld01ldHJpY3MgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdNZXRyaWNzXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdjdXJyZW50JykgcmV0dXJuIHZpZXdNZXRyaWNzW0ludGVybmFsQ3VycmVudFN0YXRlXVxuICAgICAgICByZXR1cm4gdmlld01ldHJpY3NbSW50ZXJuYWxUYXJnZXRTdGF0ZV1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IGZyYW1lIGZyb20gd29ybGQgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgdmlld0Zyb21Xb3JsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdGcm9tV29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl92aWV3U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB0aGlzLndvcmxkTWF0cml4KVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3RnJvbVdvcmxkID0gbmV3IE1hdHJpeDRcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgdmlld0Zyb21TcGF0aWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlld0Zyb21TcGF0aWFsLm11bHRpcGx5TWF0cmljZXModGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy5zcGF0aWFsTWF0cml4KVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3RnJvbVNwYXRpYWwgPSBuZXcgTWF0cml4NFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBwYXJlbnQgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxGcm9tVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxGcm9tVmlldy5jb3B5KHRoaXMudmlld0Zyb21TcGF0aWFsKS5pbnZlcnQoKVxuICAgIH1cbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbVZpZXcgPSBuZXcgTWF0cml4NFxuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplZCBEZXZpY2UgQ29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBnZXQgbmRjQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkTkRDQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSB0aGlzLm1ldHJpY3Mubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbmRjQm91bmRzLm1pbi5zZXRTY2FsYXIoLTEpXG4gICAgICAgICAgICB0aGlzLl9uZGNCb3VuZHMubWF4LnNldFNjYWxhcigxKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25kY0JvdW5kc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdGcnVzdHVtID0gdGhpcy5tZXRyaWNzLnN5c3RlbS52aWV3RnJ1c3R1bVxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlld0ZydXN0dW0ucGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4XG4gICAgICAgIGNvbnN0IHZpZXdGcm9tV29ybGQgPSB0aGlzLnZpZXdGcm9tV29ybGRcbiAgICAgICAgY29uc3Qgdmlld1Byb2plY3Rpb25Gcm9tV29ybGQgPSB0aGlzLl92aWV3UHJvamVjdGlvbkZyb21Xb3JsZC5tdWx0aXBseU1hdHJpY2VzKHByb2plY3Rpb24sIHZpZXdGcm9tV29ybGQpXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX25kY0JvdW5kcy5jb3B5KHRoaXMubWV0cmljcy5pbm5lckJvdW5kcykuYXBwbHlNYXRyaXg0KHZpZXdQcm9qZWN0aW9uRnJvbVdvcmxkKVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX25kY0NlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fbmRjU2l6ZSlcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShib3VuZHMubWluLngpIHx8ICFpc0Zpbml0ZShib3VuZHMubWluLnkpIHx8ICFpc0Zpbml0ZShib3VuZHMubWluLnopIHx8IFxuICAgICAgICAgICAgIWlzRmluaXRlKGJvdW5kcy5tYXgueCkgfHwgIWlzRmluaXRlKGJvdW5kcy5tYXgueSkgfHwgIWlzRmluaXRlKGJvdW5kcy5tYXgueikpIHtcbiAgICAgICAgICAgIGJvdW5kcy5taW4uc2V0U2NhbGFyKC0xKVxuICAgICAgICAgICAgYm91bmRzLm1heC5zZXRTY2FsYXIoMSlcbiAgICAgICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fbmRjQ2VudGVyKVxuICAgICAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fbmRjU2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSwgdGhpcy5fdmlld1N0YXRlLl9jYWNoZSlcbiAgICBwcml2YXRlIF92aWV3UHJvamVjdGlvbkZyb21Xb3JsZCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbmRjQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9uZGNDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX25kY1NpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgZ2V0IG5kY0NlbnRlcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX25kY0NlbnRlclxuICAgIH1cbiAgICBnZXQgbmRjU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX25kY1NpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlzdWFsIGJvdW5kcyBvZiB0aGlzIG5vZGUuXG4gICAgICogXG4gICAgICogSG9yaXpvbnRhbCBhbmQgdmVydGljYWwgdW5pdHMgYXJlIGluIHBpeGVscywgd2l0aCBzY3JlZW4gY2VudGVyIGF0ICgwLDApXG4gICAgICogWiBkaW1lbnNpb24gaXMgaW4gbWV0ZXJzXG4gICAgICovXG4gICAgZ2V0IHZpc3VhbEJvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZpc3VhbEJvdW5kcygpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFZpc3VhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBzeXN0ZW0gPSB0aGlzLm1ldHJpY3Muc3lzdGVtXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBzeXN0ZW0udmlld0ZydXN0dW0ucGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4XG4gICAgICAgIGNvbnN0IGludmVyc2VQcm9qZWN0aW9uID0gdGhpcy5faW52ZXJzZVByb2plY3Rpb24uY29weShwcm9qZWN0aW9uKS5pbnZlcnQoKVxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl92aXN1YWxCb3VuZHMuY29weSh0aGlzLm5kY0JvdW5kcylcbiAgICAgICAgY29uc3QgdiA9IHRoaXMuX3YxXG4gICAgICAgIGNvbnN0IG5lYXJNZXRlcnMgPSB2LnNldCgwLDAsYm91bmRzLm1pbi56KS5hcHBseU1hdHJpeDQoaW52ZXJzZVByb2plY3Rpb24pLnpcbiAgICAgICAgY29uc3QgZmFyTWV0ZXJzID0gdi5zZXQoMCwwLGJvdW5kcy5tYXgueikuYXBwbHlNYXRyaXg0KGludmVyc2VQcm9qZWN0aW9uKS56XG4gICAgICAgIGJvdW5kcy5taW4ueiA9IGZhck1ldGVyc1xuICAgICAgICBib3VuZHMubWF4LnogPSBuZWFyTWV0ZXJzXG4gICAgICAgIGJvdW5kcy5taW4ueCAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueFxuICAgICAgICBib3VuZHMubWF4LnggKj0gMC41ICogc3lzdGVtLnZpZXdSZXNvbHV0aW9uLnhcbiAgICAgICAgYm91bmRzLm1pbi55ICo9IDAuNSAqIHN5c3RlbS52aWV3UmVzb2x1dGlvbi55XG4gICAgICAgIGJvdW5kcy5tYXgueSAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX3Zpc3VhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fdmlzdWFsU2l6ZSkgXG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9LCB0aGlzLl92aWV3U3RhdGUuX2NhY2hlKVxuICAgIHByaXZhdGUgX3Zpc3VhbEJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfdmlzdWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF92aXN1YWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF92MSA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW52ZXJzZVByb2plY3Rpb24gPSBuZXcgTWF0cml4NFxuXG4gICAgZ2V0IHZpc3VhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbENlbnRlclxuICAgIH1cbiAgICBnZXQgdmlzdWFsU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbFNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGlzIG5vZGUgc3RhdGVcbiAgICAgKi9cbiAgICBnZXQgcmVsYXRpdmVWaWV3UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3UG9zaXRpb24uY29weSh0aGlzLl92aWV3U3RhdGUud29ybGRQb3NpdGlvbikuYXBwbHlNYXRyaXg0KHRoaXMud29ybGRNYXRyaXhJbnZlcnNlKVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3UG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgb3J0aG9nb25hbCAocmlnaHQtYW5nbGVkKSBvcmllbnRhdGlvbiB3aXRoIHRoZSBjbG9zZXN0IHZpZXcgb3JpZW50YXRpb24gYWxpZ25tZW50XG4gICAgICovXG4gICAgZ2V0IHZpZXdBbGlnbmVkT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRWaWV3QWxpZ25lZE9yaWVudGF0aW9uKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVmlld0FsaWduZWRPcmllbnRhdGlvbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdNYXRyaXggPSB0aGlzLl9yZWxhdGl2ZVZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdSb3RhdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld1JvdGF0aW9uLmV4dHJhY3RSb3RhdGlvbihyZWxhdGl2ZVZpZXdNYXRyaXgpXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVmlld09yaWVudGF0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3T3JpZW50YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHJlbGF0aXZlVmlld1JvdGF0aW9uKVxuICAgICAgICBjb25zdCBmb3J3YXJkRGlyZWN0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3Rm9yd2FyZC5zZXQoMCwgMCwgMSkuYXBwbHlRdWF0ZXJuaW9uKHJlbGF0aXZlVmlld09yaWVudGF0aW9uKVxuICAgICAgICBjb25zdCB1cERpcmVjdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld1VwLnNldCgwLCAxLCAwKS5hcHBseVF1YXRlcm5pb24ocmVsYXRpdmVWaWV3T3JpZW50YXRpb24pXG4gICAgICAgIFxuICAgICAgICBsZXQgZGlzdEZvcndhcmQgPSBJbmZpbml0eVxuICAgICAgICBsZXQgZGlzdFVwID0gSW5maW5pdHlcbiAgICAgICAgbGV0IGNsb3Nlc3RGb3J3YXJkRGlyZWN0aW9uIDogVmVjdG9yM1xuICAgICAgICBsZXQgY2xvc2VzdFVwRGlyZWN0aW9uIDogVmVjdG9yM1xuICAgICAgICBsZXQgZCA6IGtleW9mIHR5cGVvZiBESVJFQ1RJT05cblxuICAgICAgICBmb3IgKGQgaW4gRElSRUNUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBESVJFQ1RJT05bZF1cbiAgICAgICAgICAgIHZhciBkaXN0ID0gdXBEaXJlY3Rpb24uZGlzdGFuY2VUb1NxdWFyZWQoZGlyKVxuICAgICAgICAgICAgaWYgKGRpc3QgPCBkaXN0VXApIHtcbiAgICAgICAgICAgICAgICBkaXN0VXAgPSBkaXN0XG4gICAgICAgICAgICAgICAgY2xvc2VzdFVwRGlyZWN0aW9uID0gZGlyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZm9yIChkIGluIERJUkVDVElPTikge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gRElSRUNUSU9OW2RdICAgIFxuICAgICAgICAgICAgLy8gYXZvaWQgaGF2aW5nIGZvcndhcmQgJiB1cCBkZWZpbmVkIG9uIHRoZSBzYW1lIGF4aXNcbiAgICAgICAgICAgIGlmIChkaXIueCAmJiBjbG9zZXN0VXBEaXJlY3Rpb24hLngpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAoZGlyLnkgJiYgY2xvc2VzdFVwRGlyZWN0aW9uIS55KSBjb250aW51ZVxuICAgICAgICAgICAgaWYgKGRpci56ICYmIGNsb3Nlc3RVcERpcmVjdGlvbiEueikgY29udGludWVcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBmb3J3YXJkRGlyZWN0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKGRpcilcbiAgICAgICAgICAgIGlmIChkaXN0IDwgZGlzdEZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICBkaXN0Rm9yd2FyZCA9IGRpc3RcbiAgICAgICAgICAgICAgICBjbG9zZXN0Rm9yd2FyZERpcmVjdGlvbiA9IGRpclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGNvbnN0IHJvdCA9IHRoaXMuX29ydGhvZ29uYWxSb3RhdGlvbi5pZGVudGl0eSgpXG4gICAgICAgIHJvdC5sb29rQXQoY2xvc2VzdEZvcndhcmREaXJlY3Rpb24hLCBWXzAwMCwgY2xvc2VzdFVwRGlyZWN0aW9uISlcbiAgICAgICAgcmV0dXJuIHRoaXMuX29ydGhvZ29uYWxPcmllbnRhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgocm90KVxuICAgIH0sIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3TWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdSb3RhdGlvbiA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3T3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld1VwID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdGb3J3YXJkID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9vcnRob2dvbmFsUm90YXRpb24gPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX29ydGhvZ29uYWxPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG5cblxuICAgIHByaXZhdGUgX2NvbXB1dGVPY2NsdXNpb24gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fb2NjbHVkaW5nUGVyY2VudCA9IDBcbiAgICAgICAgdGhpcy5fb2NjbHVkZWRQZXJjZW50ID0gMFxuICAgICAgICBcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMubWV0cmljc1xuICAgICAgICBpZiAobWV0cmljcy5pbm5lckJvdW5kcy5pc0VtcHR5KCkpIHJldHVyblxuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3lzdGVtID0gbWV0cmljcy5zeXN0ZW1cbiAgICAgICAgY29uc3QgYWRhcHRlcnMgPSBzeXN0ZW0ubm9kZUFkYXB0ZXJzLnZhbHVlcygpXG5cbiAgICAgICAgY29uc3QgbXlCb3VuZHMgPSB0aGlzLnZpc3VhbEJvdW5kc1xuICAgICAgICBjb25zdCBteU5lYXIgPSBteUJvdW5kcy5taW4uelxuICAgICAgICBjb25zdCBhID0gTm9kZVN0YXRlLl9ib3hBXG4gICAgICAgIGNvbnN0IGIgPSBOb2RlU3RhdGUuX2JveEJcbiAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1pbi54LCBteUJvdW5kcy5taW4ueSlcbiAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1heC54LCBteUJvdW5kcy5tYXgueSlcbiAgICAgICAgY29uc3QgbXlMZW5ndGggPSBhLmdldFNpemUoTm9kZVN0YXRlLl9zaXplQSkubGVuZ3RoKClcblxuICAgICAgICBmb3IgKGNvbnN0IGFkYXB0ZXIgb2YgYWRhcHRlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyTWV0cmljcyA9IGFkYXB0ZXIubWV0cmljc1xuICAgICAgICAgICAgaWYgKG90aGVyTWV0cmljcyA9PT0gbWV0cmljcykgY29udGludWVcbiAgICAgICAgICAgIGlmICghb3RoZXJNZXRyaWNzLmlzQWRhcHRpdmUgfHwgb3RoZXJNZXRyaWNzLmlubmVyQm91bmRzLmlzRW1wdHkoKSkgY29udGludWVcbiAgICAgICAgICAgIGlmIChvdGhlck1ldHJpY3MuY29udGFpbmVkQnlOb2RlKGFkYXB0ZXIubm9kZSkpIGNvbnRpbnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG90aGVyU3RhdGUgPSB0aGlzLm1vZGUgPT09ICdjdXJyZW50JyA/IG90aGVyTWV0cmljcy5jdXJyZW50IDogb3RoZXJNZXRyaWNzLnRhcmdldFxuICAgICAgICAgICAgY29uc3Qgb3RoZXJCb3VuZHMgPSBvdGhlclN0YXRlLnZpc3VhbEJvdW5kc1xuICAgICAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1pbi54LCBteUJvdW5kcy5taW4ueSlcbiAgICAgICAgICAgIGEubWluLnNldChteUJvdW5kcy5tYXgueCwgbXlCb3VuZHMubWF4LnkpXG4gICAgICAgICAgICBiLm1pbi5zZXQob3RoZXJCb3VuZHMubWluLngsIG90aGVyQm91bmRzLm1pbi55KVxuICAgICAgICAgICAgYi5taW4uc2V0KG90aGVyQm91bmRzLm1heC54LCBvdGhlckJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBQZXJjZW50ID0gYS5pbnRlcnNlY3QoYikuZ2V0U2l6ZShOb2RlU3RhdGUuX3NpemVCKS5sZW5ndGgoKSAvIG15TGVuZ3RoXG4gICAgICAgICAgICBpZiAob3ZlcmxhcFBlcmNlbnQgPiAwKSAge1xuICAgICAgICAgICAgICAgIGlmICAobXlOZWFyIDwgb3RoZXJCb3VuZHMubWluLnopIHRoaXMuX29jY2x1ZGluZ1BlcmNlbnQgKz0gb3ZlcmxhcFBlcmNlbnRcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX29jY2x1ZGVkUGVyY2VudCArPSBvdmVybGFwUGVyY2VudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2JveEEgPSBuZXcgQm94MlxuICAgIHByaXZhdGUgc3RhdGljIF9ib3hCID0gbmV3IEJveDJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2l6ZUEgPSBuZXcgVmVjdG9yMlxuICAgIHByaXZhdGUgc3RhdGljIF9zaXplQiA9IG5ldyBWZWN0b3IyXG5cbiAgICAvKiogXG4gICAgICogVGhlIHBlcmNlbnQgb2YgdGhpcyBub2RlIG9jY2x1ZGluZyBhbm90aGVyIG5vZGVcbiAgICAgKi9cbiAgICBnZXQgb2NjbHVkaW5nUGVyY2VudCgpIHtcbiAgICAgICAgdGhpcy5fY29tcHV0ZU9jY2x1c2lvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9vY2NsdWRpbmdQZXJjZW50XG4gICAgfVxuICAgIHByaXZhdGUgX29jY2x1ZGluZ1BlcmNlbnQgPSAwXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudCBvZiB0aGlzIG5vZGUgb2NjbHVkZWQgYnkgYW5vdGhlciBub2RlXG4gICAgICovXG4gICAgZ2V0IG9jY2x1ZGVkUGVyY2VudCgpIHtcbiAgICAgICAgdGhpcy5fY29tcHV0ZU9jY2x1c2lvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9vY2NsdWRlZFBlcmNlbnRcbiAgICB9XG4gICAgcHJpdmF0ZSBfb2NjbHVkZWRQZXJjZW50ID0gMFxuXG4gICAgLyoqXG4gICAgICogVXNlZCBhcyBhIGhldXJpc3RpYyBmb3Igdmlldy1zaXplIG1heGltaXphdGlvblxuICAgICAqIChhdmVyYWdlIGVkZ2UgbGVuZ3RoIGNvcnJlc3BvbmRzIGJldHRlciB3aXRoIGlubmNyZWFzaWcgdmlzdWFsIGFyZWFcbiAgICAgKiBjb21wYXJlZCB0byBhcmVhIG9mIHRoZSBwcm9qZWN0ZWQgYm91bmRpbmctYm94IGluIFxuICAgICAqIGNhc2VzIHdoZXJlIHRoZSB1bmRlcmx5aW5nIGFzcGVjdCByYXRpb3MgYXJlIG5vdCBmaXhlZClcbiAgICAgKi9cbiAgICB2aXN1YWxBdmVyYWdlRWRnZUxlbmd0aCgpIHtcblxuICAgIH1cblxufVxuXG5cbi8qKlxuICogTWFpbnRhaW5zIGN1cnJlbnQgJiB0YXJnZXQgc2NlbmVncmFwaCBzdGF0ZSxcbiAqIGFuZCBlZmZpY2llbnRseS9yZWFjdGl2ZWx5IGNvbXB1dGUgc3BhdGlhbCBtZXRyaWNzIFxuICogYmFzZWQgb24gKnRhcmdldCogKG5vdCBjdXJyZW50KSBzY2VuZWdyYXBoIHN0YXRlLiBcbiAqIFxuICogQWxsIG1ldHJpYyB2YWx1ZXMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcmVhZC1vbmx5LlxuICovXG5leHBvcnQgY2xhc3MgU3BhdGlhbE1ldHJpY3M8TiBleHRlbmRzIE5vZGUzRD1Ob2RlM0Q+IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3lzdGVtOkV0aGVyZWFsTGF5b3V0U3lzdGVtPE4+LCBwdWJsaWMgbm9kZTpOKSB7fVxuXG4gICAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWVtb2l6YXRpb25DYWNoZSgpXG4gICAgXG4gICAgbmVlZHNVcGRhdGUgPSB0cnVlXG5cbiAgICBwYXJlbnROb2RlISA6IE58bnVsbFxuICAgIHBhcmVudE1ldHJpY3MhIDogU3BhdGlhbE1ldHJpY3M8Tj58bnVsbFxuICAgIHJlZmVyZW5jZU1ldHJpY3M/IDogU3BhdGlhbE1ldHJpY3M8Tj58bnVsbFxuXG4gICAgcHJpdmF0ZSBfYWRhcHRlcj8gOiBTcGF0aWFsQWRhcHRlcjxOPlxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIG1ldHJpY3MsIGlmIG5lY2Vzc2FyeVxuICAgICAqL1xuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZVxuXG4gICAgICAgICAgICAvLyB0aGlzLnByZXZpb3VzVGFyZ2V0LnBhcmVudCA9IHRoaXMudGFyZ2V0LnBhcmVudFxuICAgICAgICAgICAgLy8gdGhpcy5wcmV2aW91c1RhcmdldC5sb2NhbE1hdHJpeCA9IHRoaXMudGFyZ2V0LmxvY2FsTWF0cml4XG5cbiAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyID0gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm5vZGUpXG5cbiAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IHRoaXMucmF3LnBhcmVudFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRNZXRyaWNzID0gdGhpcy5wYXJlbnROb2RlICYmIHRoaXMuc3lzdGVtLmdldE1ldHJpY3ModGhpcy5wYXJlbnROb2RlKVxuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlID0gYWRhcHRlcj8uYWN0aXZlTGF5b3V0Py5yZWZlcmVuY2VOb2RlIHx8IGFkYXB0ZXI/LnJlZmVyZW5jZU5vZGUgfHwgdGhpcy5wYXJlbnROb2RlXG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZU1ldHJpY3MgPSByZWZlcmVuY2UgJiYgdGhpcy5zeXN0ZW0uZ2V0TWV0cmljcyhyZWZlcmVuY2UgYXMgTilcblxuICAgICAgICAgICAgdGhpcy5wYXJlbnRNZXRyaWNzPy51cGRhdGUoKVxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VNZXRyaWNzPy51cGRhdGUoKVxuXG5cbiAgICAgICAgICAgIGlmIChhZGFwdGVyKSB7XG5cbiAgICAgICAgICAgICAgICBhZGFwdGVyLl91cGRhdGUoKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUlubmVyQm91bmRzKClcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVTdGF0ZXMoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2FjaGVkSW5uZXJCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9pbm5lckJvdW5kc1xuXG4gICAgICAgIGlmICh0aGlzLm5vZGUgIT09IHRoaXMuc3lzdGVtLnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpbm5lci5jb3B5KHRoaXMuaW50cmluc2ljQm91bmRzKVxuICAgICAgICAgICAgY29uc3QgY2hpbGRCb3VuZHMgPSB0aGlzLl9jaGlsZEJvdW5kc1xuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuYm91bmRpbmdDaGlsZE1ldHJpY3MpIHtcbiAgICAgICAgICAgICAgICBjLmludmFsaWRhdGVTdGF0ZXMoKVxuICAgICAgICAgICAgICAgIGNoaWxkQm91bmRzLmNvcHkoYy5pbm5lckJvdW5kcylcbiAgICAgICAgICAgICAgICBjaGlsZEJvdW5kcy5hcHBseU1hdHJpeDQoYy5yYXcubG9jYWxNYXRyaXgpXG4gICAgICAgICAgICAgICAgaW5uZXIudW5pb24oY2hpbGRCb3VuZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBpbm5lci5nZXRDZW50ZXIodGhpcy5faW5uZXJDZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSBpbm5lci5nZXRTaXplKHRoaXMuX2lubmVyU2l6ZSlcbiAgICAgICAgaWYgKHNpemUubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY29udGVudCBpcyBmbGF0LCBnaXZlIHNvbWUgdGhpY2tuZXNzIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIGJvdW5kcy1zaXplIG1lYW5pbmdmdWxseSBhZmZlY3RzIHNjYWxlXG4gICAgICAgICAgICBjb25zdCBzaXplRXBzaWxsb24gPSB0aGlzLnN5c3RlbS5lcHNpbGxvbk1ldGVyc1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNpemUueCkgPD0gc2l6ZUVwc2lsbG9uKSBzaXplLnggPSAoTWF0aC5zaWduKHNpemUueCkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2l6ZS55KSA8PSBzaXplRXBzaWxsb24pIHNpemUueSA9IChNYXRoLnNpZ24oc2l6ZS55KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwMDBcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzaXplLnopIDw9IHNpemVFcHNpbGxvbikge1xuICAgICAgICAgICAgICAgIC8vIGZvciB6IHNpemUsIG1ha2Ugc3VyZSBib3VuZHMgYXJlIG9ubHkgZXh0ZW5kIGJhY2t3YXJkcyBcbiAgICAgICAgICAgICAgICAvLyAodGhpcyB3YXksIHZpc3VhbC1ib3VuZHMgcmVtYWluIGFjY3VyYXRlKVxuICAgICAgICAgICAgICAgIHNpemUueiA9IChNYXRoLnNpZ24oc2l6ZS56KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwMDBcbiAgICAgICAgICAgICAgICBjZW50ZXIueiAtPSBzaXplRXBzaWxsb24gKiAxMDAwIC8gMlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5uZXIuc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbm5lclxuICAgIH0pXG4gICAgcHJpdmF0ZSBfY2hpbGRCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX2lubmVyQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbm5lckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW5uZXJTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFRoZSBib3VuZHMgb2YgdGhpcyBub2RlIGFuZCBub24tYWRhcHRpdmUgY2hpbGQgbm9kZXMgaW4gdGhlIGxvY2FsIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICovXG4gICAgZ2V0IGlubmVyQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMoKVxuICAgIH1cbiAgICBcbiAgICBnZXQgaW5uZXJDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyQ2VudGVyXG4gICAgfVxuXG4gICAgZ2V0IGlubmVyU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5pbm5lckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXJTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludHJpbnNpYyBib3VuZHMgb2YgdGhlIGdlb21ldHJ5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoaXMgbm9kZSAoZXhjbHVkaW5nIGNoaWxkIG5vZGVzKVxuICAgICAqL1xuICAgIGdldCBpbnRyaW5zaWNCb3VuZHMoKSA6IFJlYWRvbmx5PEJveDM+IHtcbiAgICAgICAgaWYgKHRoaXMuX2ludHJpbnNpY0JvdW5kc05lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5iaW5kaW5ncy5nZXRJbnRyaW5zaWNCb3VuZHModGhpcywgdGhpcy5faW50cmluc2ljQm91bmRzKVxuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzLmdldENlbnRlcih0aGlzLl9pbnRyaW5zaWNDZW50ZXIpXG4gICAgICAgICAgICB0aGlzLl9pbnRyaW5zaWNCb3VuZHMuZ2V0U2l6ZSh0aGlzLl9pbnRyaW5zaWNTaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRyaW5zaWNCb3VuZHNcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSA9IHRydWVcbiAgICBwcml2YXRlIF9pbnRyaW5zaWNCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX2ludHJpbnNpY0NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgXG4gICAgZ2V0IGludHJpbnNpY0NlbnRlcigpIHtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludHJpbnNpY0NlbnRlclxuICAgIH1cblxuICAgIGdldCBpbnRyaW5zaWNTaXplKCkge1xuICAgICAgICB0aGlzLmludHJpbnNpY0JvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5faW50cmluc2ljU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGUgaW50cmluc2ljIGJvdW5kcyBpbiBvcmRlciB0byBhbGxvdyBpdCB0byBiZSByZWNvbXB1dGVkXG4gICAgICovXG4gICAgaW52YWxpZGF0ZUludHJpbnNpY0JvdW5kcygpIHtcbiAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmJvdW5kaW5nQ2hpbGRNZXRyaWNzKSB7XG4gICAgICAgICAgICBjLmludmFsaWRhdGVJbnRyaW5zaWNCb3VuZHMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW52YWxpZGF0ZUlubmVyQm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMubmVlZHNVcGRhdGUpIHJldHVyblxuICAgICAgICB0aGlzLl9jYWNoZWROb2RlQ2hpbGRyZW4ubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX2NhY2hlZEJvdW5kc0NoaWxkcmVuLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRJbm5lckJvdW5kcy5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuYm91bmRpbmdDaGlsZE1ldHJpY3MpIHtcbiAgICAgICAgICAgIGMuaW52YWxpZGF0ZUlubmVyQm91bmRzKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZmFsc2UgaWYgdGhpcyBub2RlIGRvZXMgbm90IGNvbnRhaW4gdGhlIHBhc3NlZCBub2RlLlxuICAgICAqIElmIHRoZSBnaXZlbiBub2RlIGlzIGEgZGVzY2VuZGVudCBvZiB0aGlzIG5vZGUsIHJldHVybnNcbiAgICAgKiB0aGUgY2xvc2VzdCBjaGlsZCBub2RlLlxuICAgICAqL1xuICAgIGNvbnRhaW5zTm9kZShub2RlOk4pIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICBsZXQgcGFyZW50TWV0cmljcyA9IHRoaXMuc3lzdGVtLmdldE1ldHJpY3Mobm9kZSkgYXMgU3BhdGlhbE1ldHJpY3M8Tj58bnVsbFxuICAgICAgICB3aGlsZSAocGFyZW50TWV0cmljcykge1xuICAgICAgICAgICAgaWYgKHBhcmVudE1ldHJpY3MucGFyZW50TWV0cmljcyA9PT0gdGhpcykgcmV0dXJuIHBhcmVudE1ldHJpY3Mubm9kZVxuICAgICAgICAgICAgcGFyZW50TWV0cmljcyA9IHBhcmVudE1ldHJpY3MucGFyZW50TWV0cmljc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnRhaW5lZEJ5Tm9kZShub2RlOk4pIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICBsZXQgcGFyZW50TWV0cmljcyA9IHRoaXMucGFyZW50TWV0cmljc1xuICAgICAgICB3aGlsZSAocGFyZW50TWV0cmljcykge1xuICAgICAgICAgICAgaWYgKHBhcmVudE1ldHJpY3Mubm9kZSA9PT0gbm9kZSkgcmV0dXJuIHBhcmVudE1ldHJpY3Mubm9kZVxuICAgICAgICAgICAgcGFyZW50TWV0cmljcyA9IHBhcmVudE1ldHJpY3MucGFyZW50TWV0cmljc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBub2RlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWROb2RlQ2hpbGRyZW4oKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWROb2RlQ2hpbGRyZW4gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uYmluZGluZ3MuZ2V0Q2hpbGRyZW4odGhpcywgdGhpcy5fbm9kZUNoaWxkcmVuKVxuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZUNoaWxkcmVuXG4gICAgfSlcbiAgICBwcml2YXRlIF9ub2RlQ2hpbGRyZW4gPSBuZXcgQXJyYXk8Tj4oKVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBzcGF0aWFsIHN0YXRlIGZyb20gc3BhdGlhbCBvcmllbnRhdGlvbiAmIGJvdW5kc1xuICAgICAqL1xuICAgIHByaXZhdGUgX2NvbXB1dGVTdGF0ZSA9ICgoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbG9jYWxNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgICAgICBjb25zdCBsb2NhbE9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cbiAgICAgICAgY29uc3QgbG9jYWxQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IGxvY2FsU2NhbGUgPSBuZXcgVmVjdG9yM1xuXG4gICAgICAgIGNvbnN0IHdvcmxkTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IHdvcmxkT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgICAgICBjb25zdCB3b3JsZFNjYWxlID0gbmV3IFZlY3RvcjNcblxuICAgICAgICBjb25zdCBzcGF0aWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3Qgc3BhdGlhbFNpemUgPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBzcGF0aWFsT2Zmc2V0ID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3QgaW5uZXJPZmZzZXQgPSBuZXcgVmVjdG9yM1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjb21wdXRlU3RhdGUodGhpczpTcGF0aWFsTWV0cmljczxOPiwgc3RhdGU6Tm9kZVN0YXRlPE4+KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHVzZUN1cnJlbnQgPSBzdGF0ZS5tb2RlID09PSAnY3VycmVudCdcbiAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyXG5cbiAgICAgICAgICAgIGxvY2FsT3JpZW50YXRpb24uY29weSggXG4gICAgICAgICAgICAgICAgKCB1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmVuYWJsZWQgJiYgYWRhcHRlcj8ub3JpZW50YXRpb24uY3VycmVudCA6XG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmVuYWJsZWQgJiYgYWRhcHRlcj8ub3JpZW50YXRpb24udGFyZ2V0XG4gICAgICAgICAgICAgICAgKSB8fCB0aGlzLnJhdy5sb2NhbE9yaWVudGF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzcGF0aWFsQm91bmRzID0gKHVzZUN1cnJlbnQgPyBcbiAgICAgICAgICAgICAgICBhZGFwdGVyPy5ib3VuZHMuZW5hYmxlZCAmJiBhZGFwdGVyPy5ib3VuZHMuY3VycmVudCA6XG4gICAgICAgICAgICAgICAgYWRhcHRlcj8uYm91bmRzLmVuYWJsZWQgJiYgYWRhcHRlcj8uYm91bmRzLnRhcmdldCkgLy98fCB0aGlzLnJhdy5zcGF0aWFsQm91bmRzXG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgICAgIHN0YXRlLnBhcmVudCA9IHBhcmVudE1ldHJpY3M/Lm5vZGUgPz8gbnVsbFxuXG4gICAgICAgICAgICBpZiAoc3BhdGlhbEJvdW5kcykge1xuICAgICAgICAgICAgICAgIHNwYXRpYWxCb3VuZHMuZ2V0Q2VudGVyKHNwYXRpYWxDZW50ZXIpXG4gICAgICAgICAgICAgICAgc3BhdGlhbEJvdW5kcy5nZXRTaXplKHNwYXRpYWxTaXplKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSB1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE1ldHJpY3M/LmN1cnJlbnQgOiBcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50TWV0cmljcz8udGFyZ2V0XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lckNlbnRlciA9IHRoaXMuaW5uZXJDZW50ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lclNpemUgPSB0aGlzLmlubmVyU2l6ZVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVwc2lsbG9uID0gdGhpcy5zeXN0ZW0uZXBzaWxsb25NZXRlcnNcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3BhdGlhbFNpemUueCkgPD0gc2l6ZUVwc2lsbG9uKSBzcGF0aWFsU2l6ZS54ID0gKE1hdGguc2lnbihzcGF0aWFsU2l6ZS54KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNwYXRpYWxTaXplLnkpIDw9IHNpemVFcHNpbGxvbikgc3BhdGlhbFNpemUueSA9IChNYXRoLnNpZ24oc3BhdGlhbFNpemUueSkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMFxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzcGF0aWFsU2l6ZS56KSA8PSBzaXplRXBzaWxsb24pIHNwYXRpYWxTaXplLnogPSAoTWF0aC5zaWduKHNwYXRpYWxTaXplLnopIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTBcblxuICAgICAgICAgICAgICAgIHdvcmxkU2NhbGUuY29weShzcGF0aWFsU2l6ZSlcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5uZXJTaXplLngpID49IHNpemVFcHNpbGxvbikgd29ybGRTY2FsZS54IC89IGlubmVyU2l6ZS54XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGlubmVyU2l6ZS55KSA+PSBzaXplRXBzaWxsb24pIHdvcmxkU2NhbGUueSAvPSBpbm5lclNpemUueVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbm5lclNpemUueikgPj0gc2l6ZUVwc2lsbG9uKSB3b3JsZFNjYWxlLnogLz0gaW5uZXJTaXplLnpcblxuICAgICAgICAgICAgICAgIHdvcmxkT3JpZW50YXRpb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyhzdGF0ZS5vdXRlck9yaWVudGF0aW9uLCBsb2NhbE9yaWVudGF0aW9uKS5ub3JtYWxpemUoKVxuICAgICAgICAgICAgICAgIHNwYXRpYWxPZmZzZXQuY29weShzcGF0aWFsQ2VudGVyKS5hcHBseVF1YXRlcm5pb24od29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICBpbm5lck9mZnNldC5jb3B5KGlubmVyQ2VudGVyKS5tdWx0aXBseSh3b3JsZFNjYWxlKS5hcHBseVF1YXRlcm5pb24od29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICB3b3JsZFBvc2l0aW9uLmNvcHkoc3RhdGUub3V0ZXJPcmlnaW4pLmFkZChzcGF0aWFsT2Zmc2V0KS5zdWIoaW5uZXJPZmZzZXQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd29ybGRNYXRyaXguY29tcG9zZSh3b3JsZFBvc2l0aW9uLHdvcmxkT3JpZW50YXRpb24sd29ybGRTY2FsZSlcblxuICAgICAgICAgICAgICAgIHBhcmVudFN0YXRlID8gICAgXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsTWF0cml4Lm11bHRpcGx5TWF0cmljZXMocGFyZW50U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB3b3JsZE1hdHJpeCkgOlxuICAgICAgICAgICAgICAgICAgICBsb2NhbE1hdHJpeC5jb3B5KHdvcmxkTWF0cml4KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgbG9jYWxQb3NpdGlvbi5jb3B5KHRoaXMucmF3LmxvY2FsUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgbG9jYWxTY2FsZS5jb3B5KHRoaXMucmF3LmxvY2FsU2NhbGUpXG4gICAgICAgICAgICAgICAgbG9jYWxNYXRyaXguY29tcG9zZShsb2NhbFBvc2l0aW9uLCBsb2NhbE9yaWVudGF0aW9uLCBsb2NhbFNjYWxlKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSBjaGFuZ2VzXG4gICAgICAgICAgICBzdGF0ZS5sb2NhbE1hdHJpeCA9IGxvY2FsTWF0cml4XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgfVxuICAgIH0pKClcblxuICAgIGludmFsaWRhdGVTdGF0ZXMoaW5jbHVkZVJhdz10cnVlKSB7XG4gICAgICAgIGlmIChpbmNsdWRlUmF3KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRSYXdTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXNbSW50ZXJuYWxSYXdTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FjaGVkQ3VycmVudFN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRUYXJnZXRTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpc1tJbnRlcm5hbEN1cnJlbnRTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgICAgIHRoaXNbSW50ZXJuYWxUYXJnZXRTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJhdyBub2RlIHN0YXRlLCBiZWZvcmUgYW55IHVwZGF0ZSwgd2l0aCBhbmNlc3RvciB0YXJnZXQgc3RhdGVzXG4gICAgICovXG4gICAgZ2V0IHJhdygpIDogUmVhZG9ubHk8Tm9kZVN0YXRlPE4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRSYXdTdGF0ZSgpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFJhd1N0YXRlID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc3lzdGVtLmJpbmRpbmdzLmdldFN0YXRlKHRoaXMsIHRoaXNbSW50ZXJuYWxSYXdTdGF0ZV0pXG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsUmF3U3RhdGVdXG4gICAgfSk7XG4gICAgW0ludGVybmFsUmF3U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ3RhcmdldCcsIHRoaXMpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDdXJyZW50U3RhdGUoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRDdXJyZW50U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXB1dGVTdGF0ZSh0aGlzW0ludGVybmFsQ3VycmVudFN0YXRlXSlcbiAgICB9KTtcbiAgICBbSW50ZXJuYWxDdXJyZW50U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ2N1cnJlbnQnLCB0aGlzKVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFRhcmdldFN0YXRlKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVGFyZ2V0U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXB1dGVTdGF0ZSh0aGlzW0ludGVybmFsVGFyZ2V0U3RhdGVdKVxuICAgIH0pO1xuICAgIFtJbnRlcm5hbFRhcmdldFN0YXRlXTpOb2RlU3RhdGU8Tj4gPSBuZXcgTm9kZVN0YXRlKCd0YXJnZXQnLCB0aGlzKVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgdGFyZ2V0IHN0YXRlXG4gICAgICovXG4gICAgZ2V0IHByZXZpb3VzVGFyZ2V0KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZV1cbiAgICB9XG4gICAgW0ludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZV06Tm9kZVN0YXRlPE4+ID0gbmV3IE5vZGVTdGF0ZSgndGFyZ2V0JywgdGhpcylcblxuXG4gICAgLyoqXG4gICAgICogVGhlIGNoaWxkIG5vZGVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoaXMgYm91bmRpbmcgY29udGV4dFxuICAgICAqL1xuICAgIGdldCBib3VuZGluZ0NoaWxkTWV0cmljcygpIDogUmVhZG9ubHlBcnJheTxTcGF0aWFsTWV0cmljczxOPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkQm91bmRzQ2hpbGRyZW4oKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRCb3VuZHNDaGlsZHJlbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlQ2hpbGRyZW4gPSB0aGlzLm5vZGVDaGlsZHJlblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuX2JvdW5kaW5nQ2hpbGRyZW5cbiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMFxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGVDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuc3lzdGVtLmdldE1ldHJpY3MoY2hpbGQpXG4gICAgICAgICAgICBpZiAobWV0cmljcy5pc0FkYXB0aXZlKSBjb250aW51ZVxuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChtZXRyaWNzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblxuICAgIH0pXG4gICAgcHJpdmF0ZSBfYm91bmRpbmdDaGlsZHJlbiA9IFtdIGFzIFNwYXRpYWxNZXRyaWNzPE4+W11cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBpc0FkYXB0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmhhcyh0aGlzLm5vZGUpXG4gICAgfVxuICAgIFxufVxuXG4iLCJpbXBvcnQgeyBOb2RlM0QgfSBmcm9tICcuL0V0aGVyZWFsTGF5b3V0U3lzdGVtJ1xuaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiwgQm94MywgTWF0aFV0aWxzLCByYW5kb21TZWxlY3QsIHJhbmRvbVF1YXRlcm5pb24sIGdhdXNzaWFuLCBsZXZ5fSBmcm9tICcuL21hdGgtdXRpbHMnXG5pbXBvcnQgeyBTcGF0aWFsQWRhcHRlciB9IGZyb20gJy4vU3BhdGlhbEFkYXB0ZXInXG5pbXBvcnQgeyBPcHRpbWl6ZXJDb25maWcgfSBmcm9tICcuL1NwYXRpYWxPcHRpbWl6ZXInXG5pbXBvcnQgeyBcbiAgICBPYmplY3RpdmVPcHRpb25zLCBcbiAgICBWZWN0b3IzU3BlYywgLy9SZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCBhcyBSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCwgXG4gICAgUXVhdGVybmlvblNwZWMsIFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50IGFzIFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50LFxuICAgIFdvcmxkU2NhbGVDb25zdHJhaW50IGFzIFdvcmxkU2NhbGVDb25zdHJhaW50LCBBc3BlY3RDb25zdHJhaW50LFxuICAgIFNwYXRpYWxCb3VuZHNTcGVjLCBTcGF0aWFsQm91bmRzQ29uc3RyYWludCxcbiAgICBWaXN1YWxCb3VuZHNTcGVjLCBWaXN1YWxCb3VuZHNDb25zdHJhaW50LCBcbiAgICBWaXN1YWxNYXhpbWl6ZU9iamVjdGl2ZSBhcyBNYXhpbWl6ZU9iamVjdGl2ZSxcbiAgICBTcGF0aWFsT2JqZWN0aXZlLCBNYWduZXRpemVPYmplY3RpdmUsIE1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlXG59IGZyb20gJy4vU3BhdGlhbE9iamVjdGl2ZSdcblxuXG4vKipcbiAqIERlZmluZXMgc3BhdGlhbCBsYXlvdXQgY29uc3RyYWludHMvZ29hbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNwYXRpYWxMYXlvdXQgZXh0ZW5kcyBPcHRpbWl6ZXJDb25maWcge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGFkYXB0ZXI6U3BhdGlhbEFkYXB0ZXI8YW55Pikge1xuICAgICAgICBzdXBlcigpXG4gICAgfVxuICAgIFxuICAgIHJlbGF0aXZlVG9sZXJhbmNlPzpudW1iZXJcbiAgICBhYnNvbHV0ZVRvbGVyYW5jZSA9IHtcbiAgICAgICAgbWV0ZXI6ICc0bW0nLFxuICAgICAgICBwaXhlbDogJzRweCcsXG4gICAgICAgIGRlZ3JlZTogJzAuMDAyZGVnJyxcbiAgICAgICAgcmF0aW86IDAuMDA1XG4gICAgfVxuXG4gICAgZ2V0Q29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSh0eXBlOiBrZXlvZiB0eXBlb2YgU3BhdGlhbExheW91dC5wcm90b3R5cGUuYWJzb2x1dGVUb2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5zeXN0ZW0ubWVhc3VyZU51bWJlcih0aGlzLmFic29sdXRlVG9sZXJhbmNlW3R5cGVdLCB0eXBlKVxuICAgIH1cblxuICAgIHN1Y2Nlc3NSYXRlID0gMFxuXG4gICAgcmVzdGFydFJhdGUgPSAwXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0aXZlcyBhcHBsaWVkIHRvIHRoaXMgbGF5b3V0XG4gICAgICovXG4gICAgb2JqZWN0aXZlcyA9IG5ldyBBcnJheTxTcGF0aWFsT2JqZWN0aXZlPigpIGFzIFJlYWRvbmx5QXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcmVmZXJlbmNlIGZyYW1lIGZvciBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gY29uc3RyYWludHMuIFxuICAgICAqIGlmIG5vdCBkZWZpbmVkLCB0aGUgcGFyZW50IG5vZGUgYmVjb21lcyB0aGUgcmVmZXJlbmNlIGZyYW1lLiBcbiAgICAgKi9cbiAgICByZWZlcmVuY2VOb2RlPzpOb2RlM0R8bnVsbCA9IG51bGxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIHJlZmVyZW5jZSBmcmFtZSBmb3IgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSByZWZlcmVuY2UgXG4gICAgICovXG4gICAgcG9zZVJlbGF0aXZlVG8ocmVmZXJlbmNlPzpOb2RlM0R8bnVsbCkge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZU5vZGUgPSByZWZlcmVuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBtYXhpbWl6ZShvcHRzPzpQYXJ0aWFsPE1heGltaXplT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1heGltaXplT2JqZWN0aXZlID0gXG4gICAgICAgICAgICB0aGlzLm1heGltaXplT2JqZWN0aXZlID8/IG5ldyBNYXhpbWl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtMTAwMFxuICAgICAgICBvYmoucmVsYXRpdmVUb2xlcmFuY2UgPSAwLjk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosb3B0cylcbiAgICB9XG4gICAgbWF4aW1pemVPYmplY3RpdmU/Ok1heGltaXplT2JqZWN0aXZlXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSByZWxhdGl2ZSBvcmllbnRhdGlvbiBjb25zdHJhaW50XG4gICAgICovXG4gICAgb3JpZW50YXRpb24oc3BlYzpRdWF0ZXJuaW9uU3BlYywgb3B0cz86UGFydGlhbDxSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5vcmllbnRhdGlvbkNvbnN0cmFpbnQgPSB0aGlzLm9yaWVudGF0aW9uQ29uc3RyYWludCA/PyBuZXcgUmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC05OTlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgb3JpZW50YXRpb25Db25zdHJhaW50PzpSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludFxuXG4gICAgLyoqXG4gICAgKiBBZGQgYW4gYXNwZWN0LXJhdGlvIGNvbnN0cmFpbnRcbiAgICAqIENvbnN0cmFpbiBub3JtYWxpemVkIHdvcmxkIHNjYWxlIHRvIHByZXNlcnZlXG4gICAgKiB4eXogb3IgeHkgYXNwZWN0IHJhdGlvc1xuICAgICovXG4gICAga2VlcEFzcGVjdChtb2RlOid4eXonfCd4eSc9ICd4eXonLCBvcHRzPzpQYXJ0aWFsPEFzcGVjdENvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMua2VlcEFzcGVjdENvbnN0cmFpbnQgPSB0aGlzLmtlZXBBc3BlY3RDb25zdHJhaW50ID8/IG5ldyBBc3BlY3RDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIG9iai5tb2RlID0gbW9kZVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtOTk4XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIGtlZXBBc3BlY3RDb25zdHJhaW50PzpBc3BlY3RDb25zdHJhaW50XG5cbiAgICAvLyAvKipcbiAgICAvLyAgKiBBZGQgYSByZWxhdGl2ZSBwb3NpdGlvbiBjb25zdHJhaW50XG4gICAgLy8gICovXG4gICAgLy8gcG9zaXRpb24oc3BlYzpWZWN0b3IzU3BlYywgb3B0cz86UGFydGlhbDxSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludD4pIHtcbiAgICAvLyAgICAgY29uc3Qgb2JqID0gdGhpcy5wb3NpdGlvbkNvbnN0cmFpbnQgPSB0aGlzLnBvc2l0aW9uQ29uc3RyYWludCA/PyBuZXcgUmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnQodGhpcylcbiAgICAvLyAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgLy8gICAgIG9iai5wcmlvcml0eSA9IC0yXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgLy8gfVxuICAgIC8vIHBvc2l0aW9uQ29uc3RyYWludD86UmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnRcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdvcmxkIHNjYWxlIGNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBzY2FsZShzcGVjOlZlY3RvcjNTcGVjLCBvcHRzPzpQYXJ0aWFsPFdvcmxkU2NhbGVDb25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLnNjYWxlQ29uc3RyYWludCA9IHRoaXMuc2NhbGVDb25zdHJhaW50ID8/IG5ldyBXb3JsZFNjYWxlQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gLTJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgc2NhbGVDb25zdHJhaW50PzpXb3JsZFNjYWxlQ29uc3RyYWludFxuXG5cbiAgICBib3VuZHMoc3BlYzpTcGF0aWFsQm91bmRzU3BlYywgb3B0cz86UGFydGlhbDxTcGF0aWFsQm91bmRzQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5ib3VuZHNDb25zdHJhaW50ID0gIHRoaXMuYm91bmRzQ29uc3RyYWludCA/PyBuZXcgU3BhdGlhbEJvdW5kc0NvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIGJvdW5kc0NvbnN0cmFpbnQ/OlNwYXRpYWxCb3VuZHNDb25zdHJhaW50XG5cbiAgICB2aXN1YWxPcmllbnRhdGlvbihzcGVjOlF1YXRlcm5pb25TcGVjLCBvcHRzPzpPYmplY3RpdmVPcHRpb25zKSB7XG5cbiAgICB9XG5cbiAgICB2aXN1YWxCb3VuZHMoc3BlYzpWaXN1YWxCb3VuZHNTcGVjLCBvcHRzPzpQYXJ0aWFsPFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG1ldGVyQ29uc3RyYWludCA9IHRoaXMudmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50ID0gXG4gICAgICAgICAgICB0aGlzLnZpc3VhbEJvdW5kc01ldGVyQ29uc3RyYWludCA/PyBuZXcgVmlzdWFsQm91bmRzQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBjb25zdCBwaXhlbENvbnN0cmFpbnQgPSB0aGlzLnZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludCA9IFxuICAgICAgICAgICAgdGhpcy52aXN1YWxCb3VuZHNQaXhlbENvbnN0cmFpbnQgPz8gbmV3IFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQodGhpcylcbiAgICAgICAgbWV0ZXJDb25zdHJhaW50LnNwZWMgPSBzcGVjXG4gICAgICAgIG1ldGVyQ29uc3RyYWludC50eXBlID0gJ21ldGVyJ1xuICAgICAgICBwaXhlbENvbnN0cmFpbnQuc3BlYyA9IHNwZWNcbiAgICAgICAgcGl4ZWxDb25zdHJhaW50LnR5cGUgPSAncGl4ZWwnXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShtZXRlckNvbnN0cmFpbnQsIG9wdHMpLmFkZE9iamVjdGl2ZShwaXhlbENvbnN0cmFpbnQsIG9wdHMpXG4gICAgfVxuICAgIHZpc3VhbEJvdW5kc01ldGVyQ29uc3RyYWludD86VmlzdWFsQm91bmRzQ29uc3RyYWludFxuICAgIHZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludD86VmlzdWFsQm91bmRzQ29uc3RyYWludFxuXG4gICAgbWFnbmV0aXplKG9wdHM/OlBhcnRpYWw8TWFnbmV0aXplT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1hZ25ldGl6ZU9iamVjdGl2ZSA9IHRoaXMubWFnbmV0aXplT2JqZWN0aXZlID8/IG5ldyBNYWduZXRpemVPYmplY3RpdmUodGhpcylcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gMTAwMFxuICAgICAgICBvYmoucmVsYXRpdmVUb2xlcmFuY2UgPSAwLjk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIG1hZ25ldGl6ZU9iamVjdGl2ZT86TWFnbmV0aXplT2JqZWN0aXZlXG5cbiAgICBhdm9pZE9jY2x1c2lvbihvcHRzPzpQYXJ0aWFsPE1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlID0gXG4gICAgICAgICAgICB0aGlzLm1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlID8/IG5ldyBNYWduZXRpemVPYmplY3RpdmUodGhpcylcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gMTFcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgbWluaW1pemVPY2NsdXNpb25PYmplY3RpdmU/Ok1hZ25ldGl6ZU9iamVjdGl2ZVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIG9iamVjdGl2ZSB3aXRoIGl0J3Mgb3B0aW9ucy5cbiAgICAgKiBJZiB0aGUgb2JqZWN0aXZlIGluc3RhbmNlIGlzIGFscmVhZHkgcHJlc2VudCwgaXQncyBub3QgYWRkZWQgYWdhaW4uXG4gICAgICogXG4gICAgICogQWZ0ZXIgYW4gb2JqZWN0aXZlIGlzIGFkZGVkLCB0aGUgb2JqZWN0aXZlIGxpc3QgaXMgc3RhYmx5IHNvcnRlZCwgXG4gICAgICogYWNjb3JkaW5nIHRvIHRoZSBwcmlvcml0eSBvZiBlYWNoIG9iamVjdGl2ZS5cbiAgICAgKi9cbiAgICBhZGRPYmplY3RpdmU8VCBleHRlbmRzIFNwYXRpYWxPYmplY3RpdmU+KG9iajpULCBvcHRzPzpQYXJ0aWFsPFQ+KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqLCBvcHRzKVxuICAgICAgICBpZiAodGhpcy5vYmplY3RpdmVzLmluZGV4T2Yob2JqKSA9PT0gLTEpIFxuICAgICAgICAgICAgKHRoaXMub2JqZWN0aXZlcyBhcyBBcnJheTxTcGF0aWFsT2JqZWN0aXZlPikucHVzaChvYmopXG4gICAgICAgIHRoaXMuc29ydE9iamVjdGl2ZXMoKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb2x1dGlvbnMgYmVpbmcgZXhwbG9yZWQgZm9yIHRoaXMgbGF5b3V0XG4gICAgICovXG4gICAgc29sdXRpb25zID0gbmV3IEFycmF5PExheW91dFNvbHV0aW9uPigpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBvcHRpbWl6YXRpb24gaXRlcmF0aW9uXG4gICAgICovXG4gICAgaXRlcmF0aW9uID0gMFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhpcyBsYXlvdXQgaGFzIGEgdmFsaWQgc29sdXRpb25cbiAgICAgKi9cbiAgICBnZXQgaGFzVmFsaWRTb2x1dGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29sdXRpb25zWzBdPy5pc0ZlYXNpYmxlID09PSB0cnVlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcHJpb3JpdHlTb3J0KGE6U3BhdGlhbE9iamVjdGl2ZSxiOlNwYXRpYWxPYmplY3RpdmUpIHtcbiAgICAgICAgaWYgKGEucHJpb3JpdHkgPT09IGIucHJpb3JpdHkpIHJldHVybiBhLmluZGV4IC0gYi5pbmRleFxuICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHlcbiAgICB9XG5cbiAgICAvKiogc3RhYmxlLXNvcnQgb2JqZWN0aXZlcyBieSBwcmlvcml0eSAqL1xuICAgIHNvcnRPYmplY3RpdmVzKCkge1xuICAgICAgICBjb25zdCBzeXMgPSB0aGlzLmFkYXB0ZXIuc3lzdGVtXG4gICAgICAgIGNvbnN0IG9iamVjdGl2ZXMgPSB0aGlzLm9iamVjdGl2ZXMgYXMgQXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb2JqZWN0aXZlcykge1xuICAgICAgICAgICAgby5pbmRleCA9IGluZGV4KytcbiAgICAgICAgICAgIG8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSA9IG8uYWJzb2x1dGVUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IFxuICAgICAgICAgICAgICAgIHN5cy5tZWFzdXJlTnVtYmVyKG8uYWJzb2x1dGVUb2xlcmFuY2UsIHN5cy5tYXRoU2NvcGVbby50eXBlXSkgOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZShvLnR5cGUpXG4gICAgICAgICAgICBvLmNvbXB1dGVkUmVsYXRpdmVUb2xlcmFuY2UgPSBvLnJlbGF0aXZlVG9sZXJhbmNlID8/XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRvbGVyYW5jZSA/P1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zeXN0ZW0ub3B0aW1pemUucmVsYXRpdmVUb2xlcmFuY2VcbiAgICAgICAgfVxuICAgICAgICBvYmplY3RpdmVzLnNvcnQodGhpcy5fcHJpb3JpdHlTb3J0KVxuICAgIH1cblxuICAgIGJlc3RTb2x1dGlvbiEgOiBMYXlvdXRTb2x1dGlvblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJlc3Qgc2NvcmVzIGFuZCBzb3J0IHNvbHV0aW9uc1xuICAgICAqL1xuICAgIHNvcnRTb2x1dGlvbnMoKSB7XG4gICAgICAgIHRoaXMuc29sdXRpb25zLnNvcnQodGhpcy5jb21wYXJlU29sdXRpb25zKVxuICAgICAgICB0aGlzLmJlc3RTb2x1dGlvbiA9IHRoaXMuc29sdXRpb25zWzBdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWFjaCBvYmplY3RpdmUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIHNjYWxhciB2YWx1ZSBcbiAgICAgKiB0aGF0IGluY3JlYXNlcyBpbiBjb3JyZWxhdGlvbiB3aXRoIGltcHJvdmVkIGZpdG5lc3MuIFxuICAgICAqIFxuICAgICAqIFRoZSBmaXRuZXNzIHZhbHVlIGRvZXMgbm90IG5lZWQgdG8gYmUgbm9ybWFsaXplZCwgYXMgXG4gICAgICogaW5kaXZpZHVhbCBvYmplY3RpdmVzIGFyZSBub3Qgd2VpZ2h0ZWQgZGlyZWN0bHkgYWdhaW5zdFxuICAgICAqIG9uZSBhbm90aGVyLiBSYXRoZXIsIHNvbHV0aW9ucyBhcmUgcmFua2VkIGJ5IHByZWZlcnJpbmcgXG4gICAgICogdGhlIHNvbHV0aW9uIHRoYXQgaGFzIHRoZSBoaWdoZXN0IHNjb3JlICh3aXRoaW4gdG9sZXJhbmNlKVxuICAgICAqIG9mIGVhY2ggb2JqZWN0aXZlLCBpbiBvcmRlciBvZiBvYmplY3RpdmUgcHJpb3JpdHkuIFxuICAgICAqIFxuICAgICAqIElmIG9uZSBzb2x1dGlvbiBpcyBmZWFzaWJsZSAobm8gbmVnYXRpdmUgc2NvcmVzKSBhbmQgdGhlIFxuICAgICAqIG90aGVyIHNvbHRpb24gaXNuJ3QsIHRoZSBmZWFzaWJsZSBvbmUgaXMgYWx3YXlzIHJhbmtlZCBoaWdoZXIuIFxuICAgICAqIFxuICAgICAqIEluIGFsbCBvdGhlciBjYXNlcywgc29sdXRpb25zIGFyZSBjb21wYXJlZCBieSBleGFtaW5pbmdcbiAgICAgKiB0aGVpciBvYmplY3RpdmUgc2NvcmVzIHNlcXVlbnRpYWxseTpcbiAgICAgKiBcbiAgICAgKiBJZiBhdCBhbnkgcG9pbnQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBzY29yZXMgaXMgbGFyZ2VyIFxuICAgICAqIHRoYW4gdGhlIHRvbGVyYW5jZSBmb3IgYSBnaXZlbiBvYmplY3RpdmUsIHRoZSB0d28gc29sdXRpb25zIFxuICAgICAqIHdpbGwgYmUgcmFua2VkIGJ5IHRoYXQgb2JqZWN0aXZlLiBcbiAgICAgKiBcbiAgICAgKiBJZiBhbnkgdHdvIHNvbHV0aW9ucyBhcmUgd2l0aGluIHJlbGF0aXZlIHRvbGVyYW5jZSBcbiAgICAgKiBvZiBvbmUgYW5vdGhlciBmb3IgYWxsIG9iamVjdGl2ZXMsIHRob3NlIHR3byB3aWxsIGJlXG4gICAgICogY29tcGFyZWQgdG8gb25lIGFub3RoZXIgYnkgdGhlIGxvd2VzdCBwcmlvcml0eSBvYmplY3RpdmVcbiAgICAgKiBcbiAgICAgKiBJZiBlaXRoZXIgc29sdXRpb24gYnJlYWtzIGNvbnN0cmFpbnRzLCB0aGVuXG4gICAgICogdGhlIG9uZSB3aXRoIHRoZSBsb3dlc3QgcGVuYWx0eSBpcyByYW5rZWQgaGlnaGVyXG4gICAgICovXG4gICAgY29tcGFyZVNvbHV0aW9ucyA9IChhOkxheW91dFNvbHV0aW9uLCBiOkxheW91dFNvbHV0aW9uKSA9PiB7XG5cbiAgICAgICAgLy8gY29uc3QgYU1pbiA9IGEuYm91bmRzLm1pblxuICAgICAgICAvLyBjb25zdCBhTWF4ID0gYS5ib3VuZHMubWF4XG4gICAgICAgIC8vIGlmIChpc05hTihhTWluLngpfHxpc05hTihhTWluLnkpfHxpc05hTihhTWluLnopfHxpc05hTihhTWF4LngpfHxpc05hTihhTWF4LnkpfHxpc05hTihhTWF4LnopKVxuICAgICAgICAvLyAgICAgcmV0dXJuIDFcblxuICAgICAgICBjb25zdCBvYmplY3RpdmVzID0gdGhpcy5vYmplY3RpdmVzXG4gICAgICAgIGlmIChhLnNjb3Jlcy5sZW5ndGggPCBvYmplY3RpdmVzLmxlbmd0aCkgcmV0dXJuIDFcbiAgICAgICAgaWYgKGIuc2NvcmVzLmxlbmd0aCA8IG9iamVjdGl2ZXMubGVuZ3RoKSByZXR1cm4gLTFcblxuICAgICAgICBjb25zdCBhRmVhc2libGUgPSBhLmlzRmVhc2libGVcbiAgICAgICAgY29uc3QgYkZlYXNpYmxlID0gYi5pc0ZlYXNpYmxlXG4gICAgICAgIGlmIChhRmVhc2libGUgJiYgIWJGZWFzaWJsZSkgcmV0dXJuIC0xXG4gICAgICAgIGlmIChiRmVhc2libGUgJiYgIWFGZWFzaWJsZSkgcmV0dXJuIDFcblxuICAgICAgICBsZXQgcmFuayA9IDBcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJlc3RTY29yZXMgPSB0aGlzLnNvbHV0aW9uc1swXS5zY29yZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzY29yZUEgPSBhLnNjb3Jlc1tpXSBcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlQiA9IGIuc2NvcmVzW2ldIFxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjb3JlQSkpIHJldHVybiAxXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmVCKSkgcmV0dXJuIC0xXG4gICAgICAgICAgICBjb25zdCBvYmplY3RpdmUgPSBvYmplY3RpdmVzW2ldXG4gICAgICAgICAgICBjb25zdCBvUmVsVG9sID0gb2JqZWN0aXZlLmNvbXB1dGVkUmVsYXRpdmVUb2xlcmFuY2VcbiAgICAgICAgICAgIGNvbnN0IG9BYnNUb2wgPSBvYmplY3RpdmUuY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZVxuICAgICAgICAgICAgY29uc3QgYmVzdCA9IE1hdGgubWF4KGJlc3RTY29yZXNbaV0sIHNjb3JlQSwgc2NvcmVCKVxuICAgICAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gTWF0aC5taW4oYmVzdCAtIE1hdGguYWJzKGJlc3QpICogb1JlbFRvbCwgLW9BYnNUb2wpXG4gICAgICAgICAgICBpZiAoc2NvcmVBIDwgdG9sZXJhbmNlIHx8IHNjb3JlQiA8IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIG9iamVjdGl2ZS5zb3J0QmxhbWUrK1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29yZUIgLSBzY29yZUEgLy8gcmFuayBieSBoaWdoZXN0IHNjb3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcmVCIC0gc2NvcmVBICE9PSAwKSByYW5rID0gc2NvcmVCIC0gc2NvcmVBXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhbGwgc2NvcmVzIGFyZSB3aXRoaW4gcmVsYXRpdmUgdG9sZXJhbmNlIG9mIG9uZSBhbm90aGVyLFxuICAgICAgICAvLyBzb3J0IGJ5IGxvd2VzdCBwcmlvcml0eSBzY29yZVxuICAgICAgICByZXR1cm4gcmFua1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvblN0cmF0ZWd5IHt0eXBlOnN0cmluZywgc3RlcFNpemU6IG51bWJlcn1cblxuZXhwb3J0IGNsYXNzIExheW91dFNvbHV0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheW91dD86U3BhdGlhbExheW91dCkgeyBcbiAgICAgICAgaWYgKGxheW91dCkgdGhpcy5sYXlvdXQgPSBsYXlvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGF5b3V0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvbHV0aW9uXG4gICAgICovXG4gICAgbGF5b3V0OiBTcGF0aWFsTGF5b3V0ID0gdW5kZWZpbmVkIGFzIGFueVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxheW91dCBvcmllbnRhdGlvbiAocmVsYXRpdmUgdG8gcGFyZW50IG9yaWVudGF0aW9uKVxuICAgICAqL1xuICAgIG9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXlvdXQgYm91bmRzICh3b3JsZCB1bml0cylcbiAgICAgKi9cbiAgICBib3VuZHMgPSBuZXcgQm94M1xuXG5cbiAgICBnZXQgYXNwZWN0UGVuYWx0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzW3RoaXMubGF5b3V0Lm9iamVjdGl2ZXMuaW5kZXhPZih0aGlzLmxheW91dC5rZWVwQXNwZWN0Q29uc3RyYWludCEpXXx8MFxuICAgIH1cblxuICAgIGdldCBvcmllbnRhdGlvblBlbmFsdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3Jlc1t0aGlzLmxheW91dC5vYmplY3RpdmVzLmluZGV4T2YodGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50ISldfHwwXG4gICAgfVxuXG4gICAgZ2V0IHNwYXRpYWxCb3VuZHNQZW5hbHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29yZXNbdGhpcy5sYXlvdXQub2JqZWN0aXZlcy5pbmRleE9mKHRoaXMubGF5b3V0LmJvdW5kc0NvbnN0cmFpbnQhKV18fDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0aXZlcyBmaXRuZXNzIHNjb3JlcyBmb3IgdGhpcyBzb2x1dGlvblxuICAgICAqIChvbmUgZm9yIGVhY2ggb2JqZWN0aXZlLCBoaWdoZXIgaXMgYmV0dGVyKVxuICAgICAqL1xuICAgIHNjb3JlcyA9IFtdIGFzIG51bWJlcltdXG5cbiAgICAvKipcbiAgICAgKiBBbGwgY29uc3RyYWludHMgYXJlIHNhdGlzZmllZFxuICAgICAqL1xuICAgIGlzRmVhc2libGUgPSBmYWxzZVxuICAgIFxuXG4gICAgbXV0YXRpb25TdHJhdGVnaWVzID0gW1xuICAgICAgICB7dHlwZToncm90YXRlJywgc3RlcFNpemU6IDAuMX0sXG4gICAgICAgIHt0eXBlOidjZW50ZXInLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J3NpemUnLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J21pbm1heCcsIHN0ZXBTaXplOiAwLjF9LFxuICAgIF1cblxuICAgIHByaXZhdGUgX3NlbGVjdFN0cmF0ZWd5KCkge1xuICAgICAgICBjb25zdCBzdHJhdGVnaWVzID0gdGhpcy5tdXRhdGlvblN0cmF0ZWdpZXNcbiAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuX211dGF0aW9uV2VpZ2h0c1xuXG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ29uc3RyYWludCA9IHRoaXMubGF5b3V0Lm9yaWVudGF0aW9uQ29uc3RyYWludFxuICAgICAgICBjb25zdCBhc3BlY3RDb25zdHJhaW50ID0gdGhpcy5sYXlvdXQua2VlcEFzcGVjdENvbnN0cmFpbnRcblxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzdHJhdGVnaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gc3RyYXRlZ2llc1tpXS5zdGVwU2l6ZVxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uQ29uc3RyYWludCAmJiBzdHJhdGVnaWVzW2ldLnR5cGUgPT0gJ3JvdGF0ZScgXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcmllbnRhdGlvblBlbmFsdHkgPiAtb3JpZW50YXRpb25Db25zdHJhaW50LmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgd2VpZ2h0c1tpXSAqPSAwLjAxXG4gICAgICAgICAgICBpZiAoYXNwZWN0Q29uc3RyYWludCAmJiBzdHJhdGVnaWVzW2ldLnR5cGUgPT0gJ3NpemUnIFxuICAgICAgICAgICAgICAgICYmIHRoaXMuYXNwZWN0UGVuYWx0eSA8IC1hc3BlY3RDb25zdHJhaW50LmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgd2VpZ2h0c1tpXSAqPSAxMDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5kb21TZWxlY3Qoc3RyYXRlZ2llcywgd2VpZ2h0cylcbiAgICB9XG4gICAgcHJpdmF0ZSBfbXV0YXRpb25XZWlnaHRzID0gW10gYXMgbnVtYmVyW11cblxuICAgIGNvcHkoc29sdXRpb246TGF5b3V0U29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSBzb2x1dGlvbi5sYXlvdXRcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KCBzb2x1dGlvbi5vcmllbnRhdGlvbiApXG4gICAgICAgIHRoaXMuYm91bmRzLmNvcHkoIHNvbHV0aW9uLmJvdW5kcyApXG4gICAgICAgIHRoaXMuc2NvcmVzLmxlbmd0aCA9IDBcbiAgICAgICAgLy8gdGhpcy5iZXN0U2NvcmVzLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb2x1dGlvbi5zY29yZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcmVzW2ldID0gc29sdXRpb24uc2NvcmVzW2ldXG4gICAgICAgICAgICAvLyB0aGlzLmJlc3RTY29yZXNbaV0gPSBzb2x1dGlvbi5iZXN0U2NvcmVzW2ldXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gc29sdXRpb24uaXNGZWFzaWJsZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9zY3JhdGNoVjEgPSBuZXcgVmVjdG9yMyBcbiAgICBwcml2YXRlIHN0YXRpYyBfc2NyYXRjaFYyID0gbmV3IFZlY3RvcjNcblxuICAgIHJhbmRvbWl6ZShzaXplSGludDpudW1iZXIpIHtcbiAgICAgICAgLy8gdGhpcy5vcmllbnRhdGlvbi5jb3B5KHJhbmRvbVF1YXRlcm5pb24oKSlcbiAgICAgICAgY29uc3QgZmFyID0gbGV2eShzaXplSGludClcbiAgICAgICAgLy8gY29uc3QgY2VudGVyID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMS5zZXQoXG4gICAgICAgIC8vICAgICAoKE1hdGgucmFuZG9tKCkgLSAwLjUpICogZ2F1c3NpYW4oc2l6ZUhpbnQgKiAwLjEpKSAqIGZhcixcbiAgICAgICAgLy8gICAgICgoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBnYXVzc2lhbihzaXplSGludCAqIDAuMSkpICogZmFyLFxuICAgICAgICAvLyAgICAgLSBmYXJcbiAgICAgICAgLy8gKVxuICAgICAgICBjb25zdCBjZW50ZXIgPSBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYxLnNldChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgLSBmYXJcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IHZpZXdTdGF0ZSA9IHRoaXMubGF5b3V0LmFkYXB0ZXIuc3lzdGVtLnZpZXdNZXRyaWNzLnRhcmdldFxuXG4gICAgICAgIFxuXG4gICAgICAgIGNlbnRlci5hcHBseU1hdHJpeDQodmlld1N0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICBjb25zdCBwYXJlbnRTdGF0ZSA9IHRoaXMubGF5b3V0LmFkYXB0ZXIubWV0cmljcy50YXJnZXQucGFyZW50U3RhdGVcbiAgICAgICAgcGFyZW50U3RhdGUgJiYgY2VudGVyLmFwcGx5TWF0cml4NChwYXJlbnRTdGF0ZS53b3JsZE1hdHJpeEludmVyc2UpXG5cbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KHZpZXdTdGF0ZS53b3JsZE9yaWVudGF0aW9uKVxuICAgICAgICBwYXJlbnRTdGF0ZSAmJiB0aGlzLm9yaWVudGF0aW9uLm11bHRpcGx5KHBhcmVudFN0YXRlLndvcmxkT3JpZW50YXRpb25JbnZlcnNlKVxuXG4gICAgICAgIC8vIGNvbnN0IGhhbGZTaXplID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMi5zZXQoXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjEsXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjEsXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjFcbiAgICAgICAgLy8gKVxuICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMubGF5b3V0LmFkYXB0ZXIubWV0cmljcy5pbm5lckJvdW5kc1xuICAgICAgICBjb25zdCBzaXplID0gaW5uZXIuaXNFbXB0eSgpID8gXG4gICAgICAgICAgICBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYyLnNldCgxLDEsMSkgOiBcbiAgICAgICAgICAgIGlubmVyLmdldFNpemUoTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMilcbiAgICAgICAgc2l6ZS5ub3JtYWxpemUoKVxuICAgICAgICBzaXplLm11bHRpcGx5U2NhbGFyKGZhciAqIDIgKiBNYXRoLnRhbig1ICogTWF0aFV0aWxzLkRFRzJSQUQpKVxuICAgICAgICAvLyBzaXplLm11bHRpcGx5U2NhbGFyKE1hdGgucmFuZG9tKCkgKiBzaXplSGludCAqIDIpXG4gICAgICAgIHRoaXMuYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcbiAgICAgICAgLy8gdGhpcy5ib3VuZHMubWluLmNvcHkoY2VudGVyKS5zdWIoaGFsZlNpemUpXG4gICAgICAgIC8vIHRoaXMuYm91bmRzLm1heC5jb3B5KGNlbnRlcikuYWRkKGhhbGZTaXplKVxuICAgICAgICAvLyB0aGlzLmJvdW5kcyA9IHRoaXMuYm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NpemUgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgc3RhdGljIF9vdGhlckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX290aGVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICBtb3ZlVG93YXJkcyhzb2x1dGlvbjpMYXlvdXRTb2x1dGlvbiwgbWluRnJlcTpudW1iZXIsIG1heEZyZXE6bnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm91bmRzLmdldENlbnRlcihMYXlvdXRTb2x1dGlvbi5fY2VudGVyKVxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5ib3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2l6ZSlcbiAgICAgICAgY29uc3Qgb3RoZXJCb3VuZHMgPSBzb2x1dGlvbi5ib3VuZHNcbiAgICAgICAgY29uc3Qgb3RoZXJDZW50ZXIgPSBvdGhlckJvdW5kcy5nZXRDZW50ZXIoTGF5b3V0U29sdXRpb24uX290aGVyQ2VudGVyKVxuICAgICAgICBjb25zdCBvdGhlclNpemUgPSBvdGhlckJvdW5kcy5nZXRTaXplKExheW91dFNvbHV0aW9uLl9vdGhlclNpemUpXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24uc2xlcnAoc29sdXRpb24ub3JpZW50YXRpb24sIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpLm5vcm1hbGl6ZSgpXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICBjZW50ZXIubGVycChvdGhlckNlbnRlciwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSlcbiAgICAgICAgICAgIHNpemUubGVycChvdGhlclNpemUsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5taW4ubGVycChvdGhlckJvdW5kcy5taW4sIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5tYXgubGVycChvdGhlckJvdW5kcy5tYXgsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogIFxuICAgICAqIEBwYXJhbSBzdGVwU2l6ZSBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBwZXJ0dXJiKCkgOiB0eXBlb2YgTGF5b3V0U29sdXRpb24ucHJvdG90eXBlLm11dGF0aW9uU3RyYXRlZ2llc1swXSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMuX3NlbGVjdFN0cmF0ZWd5KClcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3lUeXBlID0gc3RyYXRlZ3kudHlwZVxuICAgICAgICBsZXQgc3RlcFNpemUgPSBzdHJhdGVneS5zdGVwU2l6ZVxuXG4gICAgICAgIC8vIG9yaWVudGF0aW9uIG11dGF0aW9uIHN0cmF0ZWd5XG4gICAgICAgIGlmIChzdHJhdGVneVR5cGUgPT09ICdyb3RhdGUnIHx8IE1hdGgucmFuZG9tKCkgPCAwLjAwMSkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25TcGVjID0gdGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50Py5zcGVjIGFzIGFueVxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uU3BlYz8uaXNRdWF0ZXJuaW9uICYmIFxuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb25QZW5hbHR5IDwgb3JpZW50YXRpb25TcGVjLmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UgJiYgXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSA8IDAuMDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uLmNvcHkob3JpZW50YXRpb25TcGVjKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKGxldnkoTWF0aC5taW4oc3RlcFNpemUsIDEpKjAuMDAwMSksIDEpXG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5tdWx0aXBseShyYW5kb21RdWF0ZXJuaW9uKHNjYWxlLCBzY2FsZSkpLm5vcm1hbGl6ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmJvdW5kc1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBib3VuZHMuZ2V0Q2VudGVyKExheW91dFNvbHV0aW9uLl9jZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSBib3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2l6ZSlcblxuICAgICAgICAvLyBjZW50ZXIgbXV0YXRpb24gc3RyYXRlZ2llc1xuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnY2VudGVyJykgIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IExheW91dFNvbHV0aW9uLl9kaXJlY3Rpb24uc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24ocmFuZG9tUXVhdGVybmlvbigxLDEpKVxuICAgICAgICAgICAgb2Zmc2V0LnNldExlbmd0aChnYXVzc2lhbihzdGVwU2l6ZSkpLm11bHRpcGx5U2NhbGFyKHNpemUubGVuZ3RoKCkpXG4gICAgICAgICAgICBjZW50ZXIuYWRkKG9mZnNldClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpemUgbXV0YXRpb24gc3RyYXRlZ2llc1xuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnc2l6ZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMiAqKiBnYXVzc2lhbihzdGVwU2l6ZSlcbiAgICAgICAgICAgIHNpemUubXVsdGlwbHlTY2FsYXIoc2NhbGUpXG4gICAgICAgIH1cblxuICAgICAgICBzaXplLmNsYW1wU2NhbGFyKHRoaXMubGF5b3V0LmFkYXB0ZXIuc3lzdGVtLmVwc2lsbG9uTWV0ZXJzLzEwLDFlMjApXG4gICAgICAgIGJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG5cblxuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnbWlubWF4Jykge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTGF5b3V0U29sdXRpb24uX2RpcmVjdGlvbi5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihyYW5kb21RdWF0ZXJuaW9uKDEsMSkpXG4gICAgICAgICAgICBvZmZzZXQuc2V0TGVuZ3RoKGdhdXNzaWFuKHN0ZXBTaXplKSkubXVsdGlwbHkoc2l6ZSlcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi5hZGQob2Zmc2V0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLmFkZChvZmZzZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBzaXplIGhhcyBubyBuZWdhdGl2ZSBjb21wb25lbnRzLCBvciBlbHNlIFxuICAgICAgICAvLyBCb3gzIGlzIHVuYWJsZSB0byB0cmFuc2l0aW9uIHByb3Blcmx5XG4gICAgICAgIC8vIGFsdGVybmF0aXZlIGZpeDogdXBkYXRlIEJveDMgdG8gc3VwcG9ydCBuZWdhdGl2ZSBzaXplIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgbWluID0gYm91bmRzLm1pblxuICAgICAgICBjb25zdCBtYXggPSBib3VuZHMubWF4XG4gICAgICAgIGlmIChtaW4ueCA+IG1heC54KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3gnKVxuICAgICAgICBpZiAobWluLnkgPiBtYXgueSkgdGhpcy5fc3dhcChtaW4sbWF4LCd5JylcbiAgICAgICAgaWYgKG1pbi56ID4gbWF4LnopIHRoaXMuX3N3YXAobWluLG1heCwneicpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc3RyYXRlZ3lcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zd2FwKGE6VmVjdG9yMywgYjpWZWN0b3IzLCBrZXk6J3gnfCd5J3wneicpIHtcbiAgICAgICAgY29uc3QgYVZhbHVlID0gYVtrZXldXG4gICAgICAgIGNvbnN0IGJWYWx1ZSA9IGJba2V5XVxuICAgICAgICBhW2tleV0gPSBiVmFsdWVcbiAgICAgICAgYltrZXldID0gYVZhbHVlXG4gICAgfVxuXG4gICAgc3RhdGljIGdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluOm51bWJlcixtYXg6bnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbilcbiAgICB9XG5cbiAgICBhcHBseShldmFsdWF0ZT10cnVlKSB7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMubGF5b3V0XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBsYXlvdXQuYWRhcHRlciAgIFxuICAgICAgICBhZGFwdGVyLm9yaWVudGF0aW9uLnRhcmdldCA9IHRoaXMub3JpZW50YXRpb25cbiAgICAgICAgYWRhcHRlci5ib3VuZHMudGFyZ2V0ID0gdGhpcy5ib3VuZHNcbiAgICAgICAgYWRhcHRlci5tZXRyaWNzLmludmFsaWRhdGVTdGF0ZXMoZmFsc2UpXG4gICAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGF5b3V0Lm9iamVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0gbGF5b3V0Lm9iamVjdGl2ZXNbaV1cbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuc2NvcmVzW2ldID0gby5ldmFsdWF0ZSgpXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgLW8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSB8fCAhaXNGaW5pdGUoc2NvcmUpKSBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJ2YXIgREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEggPSAxLjUyNTtcbnZhciByZXZlcnNlZCA9IGZ1bmN0aW9uIChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoMSAtIHApO1xuICAgIH07XG59O1xudmFyIG1pcnJvcmVkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCA8PSAwLjUgPyBlYXNpbmcoMiAqIHApIC8gMiA6ICgyIC0gZWFzaW5nKDIgKiAoMSAtIHApKSkgLyAyO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZVJldmVyc2VkRWFzaW5nID0gcmV2ZXJzZWQ7XG52YXIgY3JlYXRlTWlycm9yZWRFYXNpbmcgPSBtaXJyb3JlZDtcbnZhciBjcmVhdGVFeHBvSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHAsIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVCYWNrSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAgKiBwICogKChwb3dlciArIDEpICogcCAtIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nID0gZnVuY3Rpb24gKHBvd2VyKSB7XG4gICAgdmFyIGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAgKj0gMikgPCAxID8gMC41ICogYmFja0Vhc2luZyhwKSA6IDAuNSAqICgyIC0gTWF0aC5wb3coMiwgLTEwICogKHAgLSAxKSkpO1xuICAgIH07XG59O1xudmFyIGxpbmVhciA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHA7XG59O1xudmFyIGVhc2VJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVFeHBvSW4oMik7XG52YXIgZWFzZU91dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChlYXNlSW4pO1xudmFyIGVhc2VJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChlYXNlSW4pO1xudmFyIGNpcmNJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnNpbihNYXRoLmFjb3MocCkpO1xufTtcbnZhciBjaXJjT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGNpcmNJbik7XG52YXIgY2lyY0luT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGNpcmNPdXQpO1xudmFyIGJhY2tJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIGJhY2tPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoYmFja0luKTtcbnZhciBiYWNrSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoYmFja0luKTtcbnZhciBhbnRpY2lwYXRlID0gLyojX19QVVJFX18qL2NyZWF0ZUFudGljaXBhdGVFYXNpbmcoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPSA0LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbnZhciBCT1VOQ0VfVEhJUkRfVEhSRVNIT0xEID0gOS4wIC8gMTAuMDtcbnZhciBjYSA9IDQzNTYuMCAvIDM2MS4wO1xudmFyIGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbnZhciBjYyA9IDE2MDYxLjAgLyAxODA1LjA7XG52YXIgYm91bmNlT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPyA3LjU2MjUgKiBwMiA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRCA/IDkuMDc1ICogcDIgLSA5LjkgKiBwICsgMy40IDogcCA8IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPyBjYSAqIHAyIC0gY2IgKiBwICsgY2MgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG52YXIgYm91bmNlSW4gPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCk7XG59O1xudmFyIGJvdW5jZUluT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IDAuNSA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpIDogMC41ICogYm91bmNlT3V0KHAgKiAyLjAgLSAxLjApICsgMC41O1xufTtcbnZhciBORVdUT05fSVRFUkFUSU9OUyA9IDg7XG52YXIgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxO1xudmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbnZhciBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwO1xudmFyIEtfU1BMSU5FX1RBQkxFX1NJWkUgPSAxMTtcbnZhciBLX1NBTVBMRV9TVEVQX1NJWkUgPSAxLjAgLyAoS19TUExJTkVfVEFCTEVfU0laRSAtIDEuMCk7XG52YXIgRkxPQVRfMzJfU1VQUE9SVEVEID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgYSA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMTtcbn07XG52YXIgYiA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYTIgLSA2LjAgKiBhMTtcbn07XG52YXIgYyA9IGZ1bmN0aW9uIChhMSkge1xuICAgIHJldHVybiAzLjAgKiBhMTtcbn07XG52YXIgZ2V0U2xvcGUgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIDMuMCAqIGEoYTEsIGEyKSAqIHQgKiB0ICsgMi4wICogYihhMSwgYTIpICogdCArIGMoYTEpO1xufTtcbnZhciBjYWxjQmV6aWVyID0gZnVuY3Rpb24gKHQsIGExLCBhMikge1xuICAgIHJldHVybiAoKGEoYTEsIGEyKSAqIHQgKyBiKGExLCBhMikpICogdCArIGMoYTEpKSAqIHQ7XG59O1xuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IEZMT0FUXzMyX1NVUFBPUlRFRCA/IG5ldyBGbG9hdDMyQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSkgOiBuZXcgQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSk7XG4gICAgdmFyIGJpbmFyeVN1YmRpdmlkZSA9IGZ1bmN0aW9uIChhWCwgYUEsIGFCKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICB2YXIgY3VycmVudFQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUO1xuICAgIH07XG4gICAgdmFyIG5ld3RvblJhcGhzb25JdGVyYXRlID0gZnVuY3Rpb24gKGFYLCBhR3Vlc3NUKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgICAgZm9yICg7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgICAgICBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgfTtcbiAgICB2YXIgY2FsY1NhbXBsZVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBLX1NQTElORV9UQUJMRV9TSVpFOyArK2kpIHtcbiAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIEtfU0FNUExFX1NURVBfU0laRSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2V0VEZvclggPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwLjA7XG4gICAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBLX1NQTElORV9UQUJMRV9TSVpFIC0gMTtcbiAgICAgICAgdmFyIGRpc3QgPSAwLjA7XG4gICAgICAgIHZhciBndWVzc0ZvclQgPSAwLjA7XG4gICAgICAgIHZhciBpbml0aWFsU2xvcGUgPSAwLjA7XG4gICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgfVxuICAgICAgICAtLWN1cnJlbnRTYW1wbGU7XG4gICAgICAgIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgICBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIEtfU0FNUExFX1NURVBfU0laRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICB2YXIgcmVzb2x2ZXIgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlO1xuICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gYVg7XG4gICAgICAgIH0gZWxzZSBpZiAoYVggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBjYWxjQmV6aWVyKGdldFRGb3JYKGFYKSwgbVkxLCBtWTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiByZXNvbHZlcjtcbn1cblxuZXhwb3J0IHsgcmV2ZXJzZWQsIG1pcnJvcmVkLCBjcmVhdGVSZXZlcnNlZEVhc2luZywgY3JlYXRlTWlycm9yZWRFYXNpbmcsIGNyZWF0ZUV4cG9JbiwgY3JlYXRlQmFja0luLCBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nLCBsaW5lYXIsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0LCBjaXJjSW4sIGNpcmNPdXQsIGNpcmNJbk91dCwgYmFja0luLCBiYWNrT3V0LCBiYWNrSW5PdXQsIGFudGljaXBhdGUsIGJvdW5jZU91dCwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBjdWJpY0JlemllciB9O1xuIiwiXG4vLyBpbXBvcnQgeyBjYWNoZWQsIHRyYWNrZWQsIFRyYWNrZWRBcnJheSB9IGZyb20gJy4vdHJhY2tpbmcnXG5pbXBvcnQgeyBcbiAgICBWZWN0b3IyLCBcbiAgICBWZWN0b3IzLCBcbiAgICBRdWF0ZXJuaW9uLCBcbiAgICBCb3gzLCBcbiAgICBDb2xvciwgXG4gICAgTWF0aFV0aWxzLCBcbiAgICBWXzAwLCBcbiAgICBWXzAwMCwgXG4gICAgUV9JREVOVElUWSwgXG4gICAgY29tcHV0ZVJlbGF0aXZlRGlmZmVyZW5jZSxcbiAgICBNYXRoVHlwZVxufSBmcm9tICcuL21hdGgtdXRpbHMnXG5pbXBvcnQgeyBFdGhlcmVhbExheW91dFN5c3RlbSB9IGZyb20gJy4vRXRoZXJlYWxMYXlvdXRTeXN0ZW0nXG5cbmltcG9ydCAqIGFzIGVhc2luZ0ltcG9ydCBmcm9tICdAcG9wbW90aW9uL2Vhc2luZydcblxuLy8gYmVjdWFzZSBhcGktZXh0cmFjdG9yIGNvbXBsYWlucyBhYm91dCBgaW1wb3J0IF8gYXMgXyBmcm9tYCxcbi8vIHdlIGhhdmUgdG8gcmVkZWNsYXJlIHR5cGVzIGhlcmVcbmV4cG9ydCB0eXBlIEVhc2luZyA9ICh2OiBudW1iZXIpID0+IG51bWJlcjtcbmV4cG9ydCB0eXBlIEVhc2luZ01vZGlmaWVyID0gKGVhc2luZzogRWFzaW5nKSA9PiBFYXNpbmc7XG5leHBvcnQgaW50ZXJmYWNlIEVhc2luZ01vZHVsZSB7XG4gICAgcmV2ZXJzZWQ6IEVhc2luZ01vZGlmaWVyO1xuICAgIG1pcnJvcmVkOiBFYXNpbmdNb2RpZmllcjtcbiAgICBjcmVhdGVSZXZlcnNlZEVhc2luZzogRWFzaW5nTW9kaWZpZXI7XG4gICAgY3JlYXRlTWlycm9yZWRFYXNpbmc6IEVhc2luZ01vZGlmaWVyO1xuICAgIGNyZWF0ZUV4cG9JbjogKHBvd2VyOiBudW1iZXIpID0+IEVhc2luZztcbiAgICBjcmVhdGVCYWNrSW46IChwb3dlcjogbnVtYmVyKSA9PiBFYXNpbmc7XG4gICAgY3JlYXRlQW50aWNpcGF0ZUVhc2luZzogKHBvd2VyOiBudW1iZXIpID0+IEVhc2luZztcbiAgICBsaW5lYXI6IEVhc2luZztcbiAgICBlYXNlSW46IEVhc2luZztcbiAgICBlYXNlT3V0OiBFYXNpbmc7XG4gICAgZWFzZUluT3V0OiBFYXNpbmc7XG4gICAgY2lyY0luOiBFYXNpbmc7XG4gICAgY2lyY091dDogRWFzaW5nO1xuICAgIGNpcmNJbk91dDogRWFzaW5nO1xuICAgIGJhY2tJbjogRWFzaW5nO1xuICAgIGJhY2tPdXQ6IEVhc2luZztcbiAgICBiYWNrSW5PdXQ6IEVhc2luZztcbiAgICBhbnRpY2lwYXRlOiBFYXNpbmc7XG4gICAgYm91bmNlT3V0OiAocDogbnVtYmVyKSA9PiBudW1iZXI7XG4gICAgYm91bmNlSW46IChwOiBudW1iZXIpID0+IG51bWJlcjtcbiAgICBib3VuY2VJbk91dDogKHA6IG51bWJlcikgPT4gbnVtYmVyO1xuICAgIGN1YmljQmV6aWVyKG1YMTogbnVtYmVyLCBtWTE6IG51bWJlciwgbVgyOiBudW1iZXIsIG1ZMjogbnVtYmVyKTogKGFYOiBudW1iZXIpID0+IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGVhc2luZyA9IGVhc2luZ0ltcG9ydCBhcyBFYXNpbmdNb2R1bGVcblxuZXhwb3J0IHR5cGUgVHJhbnNpdGlvbmFibGVUeXBlPFQgZXh0ZW5kcyBNYXRoVHlwZT4gPSBUIGV4dGVuZHMgbnVtYmVyID8gbnVtYmVyIDogVCAvLyB3aWRlbiBudW1iZXIgbGl0ZXJhbCB0eXBlc1xuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvbjxUIGV4dGVuZHMgTWF0aFR5cGUgPSBNYXRoVHlwZT57XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86UGFydGlhbDxUcmFuc2l0aW9uPikge1xuICAgICAgICBvcHRpb25zICYmIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucylcbiAgICB9XG4gICAgcHVibGljIHRhcmdldD86IFRyYW5zaXRpb25hYmxlVHlwZTxUPlxuICAgIHB1YmxpYyBkdXJhdGlvbj86IG51bWJlclxuICAgIHB1YmxpYyBlYXNpbmc/OiBFYXNpbmdcbiAgICBwdWJsaWMgYmxlbmQ/OiBib29sZWFuXG4gICAgcHVibGljIGVsYXBzZWQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zaXRpb25Db25maWcge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86VHJhbnNpdGlvbkNvbmZpZykge1xuICAgICAgICBjb25maWcgJiYgT2JqZWN0LmFzc2lnbih0aGlzLCBjb25maWcpXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbXVsdGlwbGllciB0byBpbmZsdWVuY2UgdGhlIHNwZWVkIG9mIHRoZSB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgbXVsdGlwbGllcj86IG51bWJlclxuICAgIC8qKlxuICAgICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgZWFzaW5nIGZ1bmN0aW9uIGluIHNlY29uZHNcbiAgICAgKi9cbiAgICBkdXJhdGlvbj86IG51bWJlciBcbiAgICAvKipcbiAgICAgKiBUaGUgZWFzaW5nIGZ1bmN0aW9uIFxuICAgICAqL1xuICAgIGVhc2luZz86IChhbHBoYTpudW1iZXIpID0+IG51bWJlclxuICAgIC8qKlxuICAgICAqIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIHJlcXVpcmVkIHRvIFwic3RhZ2VcIiBhIHRyYW5zaXRpb24uXG4gICAgICogXG4gICAgICogQSB0aHJlc2hvbGQgb2YgMCBtZWFucyBhbnkgZGlmZmVyZW5jZSB3aWxsIHRyaWdnZXIgYSB0cmFuc2l0aW9uLlxuICAgICAqIFxuICAgICAqIEEgdGhyZXNob2xkIG9mIDAuMSBjYW4gYmUgaW50ZXJwcmV0ZWQgYXMgYSByZWxhdGl2ZSBkaWZmZXJlbmNlIG9mIDEwJS4gXG4gICAgICovXG4gICAgdGhyZXNob2xkPzogbnVtYmVyXG4gICAgLyoqc1xuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0aGUgYHRhcmdldGAgbXVzdCBiZSBtYWludGFpbmVkXG4gICAgICogYmV5b25kIHRoZSBgdGhyZXNob2xkYCB0byBhdXRvbWF0aWNhbGx5IFwic3RhZ2VcIiBhIHRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBkZWxheT86IG51bWJlclxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0IGFmdGVyIGEgbmV3IFwiY29tbWl0XCIgaXMgYWxsb3dlZFxuICAgICAqL1xuICAgIGRlYm91bmNlPzogbnVtYmVyXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHNlY29uZHMgYmVmb3JlIHRoZSBgc3RhZ2VkVGFyZ2V0YFxuICAgICAqIGlzIGNvbW1pdHRlZFxuICAgICAqL1xuICAgIG1heFdhaXQ/OiBudW1iZXJcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBibGVuZCB0cmFuc2l0aW9ucyB0b2dldGhlclxuICAgICAqL1xuICAgIGJsZW5kPzogYm9vbGVhblxufVxuXG5jb25zdCBfc2NyYXRjaFYyID0gbmV3IFZlY3RvcjJcbmNvbnN0IF9zY3JhdGNoVjMgPSBuZXcgVmVjdG9yM1xuY29uc3QgX3NjcmF0Y2hRID0gbmV3IFF1YXRlcm5pb25cbmNvbnN0IF9zY3JhdGNoQm94ID0gbmV3IEJveDNcbmNvbnN0IF9zY3JhdGNoQ29sb3IgPSBuZXcgQ29sb3JcbmNvbnN0IF9ibGFja0NvbG9yID0gbmV3IENvbG9yKDAsMCwwKVxuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvbmFibGU8VCBleHRlbmRzIE1hdGhUeXBlID0gTWF0aFR5cGU+IGV4dGVuZHMgVHJhbnNpdGlvbkNvbmZpZyB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHN5c3RlbTpFdGhlcmVhbExheW91dFN5c3RlbTxhbnk+LCBcbiAgICAgICAgc3RhcnRWYWx1ZTpNYXRoVHlwZSxcbiAgICAgICAgY29uZmlnPzpUcmFuc2l0aW9uQ29uZmlnLCBcbiAgICAgICAgcHVibGljIHBhcmVudENvbmZpZzpUcmFuc2l0aW9uQ29uZmlnID0gc3lzdGVtLnRyYW5zaXRpb24pXG4gICAge1xuICAgICAgICBzdXBlcihjb25maWcpXG4gICAgICAgIHRoaXMucmVzZXQoc3RhcnRWYWx1ZSBhcyBUcmFuc2l0aW9uYWJsZVR5cGU8VD4pXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzVGFyZ2V0ID0gdGhpcy5fY29weSh0aGlzLl9wcmV2aW91c1RhcmdldCwgdGhpcy50YXJnZXQpXG4gICAgfVxuXG4gICAgLyoqICovXG4gICAgbmVlZHNVcGRhdGUgPSBmYWxzZVxuXG4gICAgcHJpdmF0ZSBfY29weSh0bz86VHJhbnNpdGlvbmFibGVUeXBlPFQ+LCBmcm9tPzpUcmFuc2l0aW9uYWJsZVR5cGU8VD4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICBpZiAodHlwZW9mIGZyb20gPT09ICdudW1iZXInKSByZXR1cm4gZnJvbVxuICAgICAgICBjb25zdCByZXN1bHQgPSB0byA/ICh0byBhcyBhbnkpLmNvcHkoZnJvbSkgOiAoZnJvbSBhcyBhbnkpLmNsb25lKClcbiAgICAgICAgaWYgKHJlc3VsdCAmJiAnaXNCb3gzJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEJveCA9IHJlc3VsdCBhcyBCb3gzXG4gICAgICAgICAgICBjb25zdCByZXN1bHRTaXplID0gcmVzdWx0Qm94LmdldFNpemUodGhpcy5fc2l6ZSlcbiAgICAgICAgICAgIGlmIChyZXN1bHRCb3guaXNFbXB0eSgpIHx8XG4gICAgICAgICAgICAgICAgIWlzRmluaXRlKHJlc3VsdFNpemUueCkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUocmVzdWx0U2l6ZS55KSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShyZXN1bHRTaXplLnopKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Qm94LnNldEZyb21DZW50ZXJBbmRTaXplKFZfMDAwLCBWXzAwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuICAgIHByaXZhdGUgX3NpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgcHJpdmF0ZSBfaXNFcXVhbChhPzpUcmFuc2l0aW9uYWJsZVR5cGU8VD4sIGI/OlRyYW5zaXRpb25hYmxlVHlwZTxUPikge1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZVxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInKSByZXR1cm4gYSA9PT0gYlxuICAgICAgICByZXR1cm4gKGEgYXMgYW55KT8uZXF1YWxzKGIpIHx8IGZhbHNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgYWxsIHN0YXRlcyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLCBcbiAgICAgKiBhbmQgcmVtb3ZlIGFsbCBvbmdvaW5nIHRyYW5zaXRpb25zXG4gICAgICovXG4gICAgcmVzZXQodj86VHJhbnNpdGlvbmFibGVUeXBlPFQ+KSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gdGhpcy5fY29weSh0aGlzLl9zdGFydCwgdilcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2NvcHkodGhpcy5fY3VycmVudCwgdilcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGhpcy5fY29weSh0aGlzLl90YXJnZXQsIHYpXG4gICAgICAgIHRoaXMucXVldWUubGVuZ3RoID0gMFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydGluZyB2YWx1ZSBmb3IgY3VycmVudGx5IG9uZ29pbmcgdHJhbnNpdGlvbnNcbiAgICAgKi9cbiAgICBzZXQgc3RhcnQodmFsdWU6VHJhbnNpdGlvbmFibGVUeXBlPFQ+KSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gdGhpcy5fY29weSh0aGlzLl9zdGFydCwgdmFsdWUpXG4gICAgfVxuICAgIGdldCBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0XG4gICAgfVxuICAgIHByaXZhdGUgX3N0YXJ0ISA6IFRyYW5zaXRpb25hYmxlVHlwZTxUPlxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHZhbHVlLiBcbiAgICAgKi9cbiAgICBzZXQgY3VycmVudCh2YWx1ZTpUcmFuc2l0aW9uYWJsZVR5cGU8VD4pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2NvcHkodGhpcy5fY3VycmVudCwgdmFsdWUpXG4gICAgfVxuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFxuICAgIH1cbiAgICBwcml2YXRlIF9jdXJyZW50ITogVHJhbnNpdGlvbmFibGVUeXBlPFQ+XG5cbiAgICAvKipcbiAgICAgKiBUaGUgXCJjaGFuZ2VkXCIgcmVmZXJlbmNlIHZhbHVlXG4gICAgICovXG4gICAgc2V0IHJlZmVyZW5jZSh2YWx1ZTpUcmFuc2l0aW9uYWJsZVR5cGU8VD58dW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3JlZmVyZW5jZSA9IHRoaXMuX2NvcHkodGhpcy5fcmVmZXJlbmNlLCB2YWx1ZSlcbiAgICB9XG4gICAgZ2V0IHJlZmVyZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmVyZW5jZVxuICAgIH1cbiAgICBwcml2YXRlIF9yZWZlcmVuY2U/IDogVHJhbnNpdGlvbmFibGVUeXBlPFQ+XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IHZhbHVlLiBcbiAgICAgKi9cbiAgICBzZXQgdGFyZ2V0KHZhbHVlOlRyYW5zaXRpb25hYmxlVHlwZTxUPikge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRoaXMuX2NvcHkodGhpcy5fdGFyZ2V0LCB2YWx1ZSlcbiAgICB9XG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldFxuICAgIH1cbiAgICBwcml2YXRlIF90YXJnZXQhOiBUcmFuc2l0aW9uYWJsZVR5cGU8VD5cblxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBxdWV1ZSBvZiBjb21taXR0ZWQgdHJhbnNpdGlvbnMgdGhhdCBhcmUgc3RpbGwgaW5mbHVlbmNpbmcgdGhlIGBjdXJyZW50YCB2YWx1ZVxuICAgICAqICh3aG9zZSBkdXJhdGlvbnMgaGF2ZSBub3QgeWV0IGJlZW4gZXhjZWVkZWQpXG4gICAgICovXG4gICAgcmVhZG9ubHkgcXVldWU6IFJlcXVpcmVkPFRyYW5zaXRpb248VD4+W10gPSBbXVxuXG4gICAgLyoqXG4gICAgICogSWYgZmFsc2UsIHRoaXMgdHJhbnNpdGlvbmFibGUgaXMgaW5lcnRcbiAgICAgKi9cbiAgICBlbmFibGVkID0gZmFsc2VcblxuICAgIC8qKlxuICAgICAqIEF0IDAsIGEgbmV3IHRyYW5zaXRpb24gaGFzIHN0YXJ0ZWRcbiAgICAgKiBCZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50cyB0aGUgdHJhbnNpdGlvbiBwcm9ncmVzc1xuICAgICAqIEF0IDEsIG5vIHRyYW5zaXRpb25zIGFyZSBhY3RpdmVcbiAgICAgKi9cbiAgICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSByZXR1cm4gMVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMucXVldWVbdGhpcy5xdWV1ZS5sZW5ndGgtMV1cbiAgICAgICAgICAgIGlmICh0LmR1cmF0aW9uID09PSAwKSByZXR1cm4gMFxuICAgICAgICAgICAgcmV0dXJuIHQuZWxhcHNlZCAvIHQuZHVyYXRpb25cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIDFcbiAgICB9XG5cbiAgICAvKiogXG4gICAgICogRm9yY2UgdGhlIG5leHQgdXBkYXRlIHRvIG5vdCBjb21taXQgdGhlIHRhcmdldCB2YWx1ZVxuICAgICAqKi9cbiAgICBmb3JjZVdhaXQgPSBmYWxzZVxuXG4gICAgLyoqXG4gICAgICogRm9yY2UgdGhlIG5leHQgdXBkYXRlIHRvIGNvbW1pdCB0aGUgdGFyZ2V0IHZhbHVlLFxuICAgICAqIG9yIHRoZSBzcGVjaWZpZWQgdHJhbnNpdGlvbi5cbiAgICAgKiBJZiBmb3JjZUNvbW1pdCBpcyBzZXQgd2hpbGUgZm9yY2VXYWl0IGlzIGFsc28gc2V0LCBcbiAgICAgKiBmb3JjZVdhaXQgdGFrZXMgcHJlY2VkZW5jZS4gXG4gICAgICovXG4gICAgZ2V0IGZvcmNlQ29tbWl0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9yY2VDb21taXRcbiAgICB9XG4gICAgc2V0IGZvcmNlQ29tbWl0KHZhbDogYm9vbGVhbiB8IFRyYW5zaXRpb248VD4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmNlQ29tbWl0ID09PSB2YWwpIHJldHVyblxuICAgICAgICB0aGlzLl9mb3JjZUNvbW1pdCA9IHZhbFxuICAgIH1cbiAgICBwcml2YXRlIF9mb3JjZUNvbW1pdCA9IGZhbHNlIGFzIGJvb2xlYW4gfCBUcmFuc2l0aW9uPFQ+XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0YXJnZXQgYW5kIGxhc3QgY29tbWl0dGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGdldCByZWxhdGl2ZURpZmZlcmVuY2UoKSB7XG4gICAgICAgIGNvbnN0IGxhc3RUYXJnZXQgPSB0aGlzLnF1ZXVlW3RoaXMucXVldWUubGVuZ3RoLTFdPy50YXJnZXQgfHwgdGhpcy5zdGFydFxuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudGFyZ2V0ICE9PSAndW5kZWZpbmVkJyA/IGNvbXB1dGVSZWxhdGl2ZURpZmZlcmVuY2UobGFzdFRhcmdldCwgdGhpcy50YXJnZXQpIDogMFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHRhcmdldCBhbmQgcmVmZXJlbmNlIHZhbHVlXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZVJlbGF0aXZlRGlmZmVyZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnJlZmVyZW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMudGFyZ2V0ICE9PSAndW5kZWZpbmVkJyA/IFxuICAgICAgICAgICAgY29tcHV0ZVJlbGF0aXZlRGlmZmVyZW5jZSh0aGlzLnJlZmVyZW5jZSwgdGhpcy50YXJnZXQpIDogSW5maW5pdHlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiBjb25maWcgYWZ0ZXIgYWNjb3VudGluZyBmb3IgYWRhcHRlciBhbmQgc3lzdGVtIGRlZmF1bHRzXG4gICAgICovXG4gICAgZ2V0IHJlc29sdmVkQ29uZmlnKCkge1xuICAgICAgICBjb25zdCByID0gdGhpcy5fcmVzb2x2ZWRDb25maWdcbiAgICAgICAgY29uc3QgYWRhcHRlckNvbmZpZyA9IHRoaXMucGFyZW50Q29uZmlnXG4gICAgICAgIGNvbnN0IHN5c3RlbUNvbmZpZyA9IHRoaXMuc3lzdGVtLnRyYW5zaXRpb25cbiAgICAgICAgci5tdWx0aXBsaWVyID0gdGhpcy5tdWx0aXBsaWVyID8/IGFkYXB0ZXJDb25maWc/Lm11bHRpcGxpZXIgPz8gc3lzdGVtQ29uZmlnLm11bHRpcGxpZXJcbiAgICAgICAgci5kdXJhdGlvbiA9IHRoaXMuZHVyYXRpb24gPz8gYWRhcHRlckNvbmZpZz8uZHVyYXRpb24gPz8gc3lzdGVtQ29uZmlnLmR1cmF0aW9uXG4gICAgICAgIHIuZWFzaW5nID0gdGhpcy5lYXNpbmcgPz8gYWRhcHRlckNvbmZpZz8uZWFzaW5nID8/IHN5c3RlbUNvbmZpZy5lYXNpbmdcbiAgICAgICAgci50aHJlc2hvbGQgPSB0aGlzLnRocmVzaG9sZCA/PyBhZGFwdGVyQ29uZmlnPy50aHJlc2hvbGQgPz8gc3lzdGVtQ29uZmlnLnRocmVzaG9sZFxuICAgICAgICByLmRlbGF5ID0gdGhpcy5kZWxheSA/PyBhZGFwdGVyQ29uZmlnPy5kZWxheSA/PyBzeXN0ZW1Db25maWcuZGVsYXlcbiAgICAgICAgci5kZWJvdW5jZSA9IHRoaXMuZGVib3VuY2UgPz8gYWRhcHRlckNvbmZpZz8uZGVib3VuY2UgPz8gc3lzdGVtQ29uZmlnLmRlYm91bmNlXG4gICAgICAgIHIubWF4V2FpdCA9IHRoaXMubWF4V2FpdCA/PyBhZGFwdGVyQ29uZmlnPy5tYXhXYWl0ID8/IHN5c3RlbUNvbmZpZy5tYXhXYWl0XG4gICAgICAgIHIuYmxlbmQgPSB0aGlzLmJsZW5kID8/IGFkYXB0ZXJDb25maWc/LmJsZW5kID8/IHN5c3RlbUNvbmZpZy5ibGVuZFxuICAgICAgICByZXR1cm4gclxuICAgIH1cbiAgICBwcml2YXRlIF9yZXNvbHZlZENvbmZpZyA9IG5ldyBUcmFuc2l0aW9uQ29uZmlnIGFzIFJlcXVpcmVkPFRyYW5zaXRpb25Db25maWc+XG5cblxuICAgIGRlbGF5VGltZSA9IDBcbiAgICBkZWJvdW5jZVRpbWUgPSAwXG5cbiAgICAvLyB3YWl0VGltZSA9IDBcblxuICAgIHByaXZhdGUgX3ByZXZpb3VzU3RhdHVzOiAndW5jaGFuZ2VkJ3wnY2hhbmdlZCd8J3NldHRsaW5nJ3wnY29tbWl0dGluZycgPSAndW5jaGFuZ2VkJ1xuICAgIGdldCBwcmV2aW91c1N0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzU3RhdHVzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHRoZSBzdGF0dXMgb2YgdGhlIHRhcmdldCB2YWx1ZVxuICAgICAqIFxuICAgICAqIFwidW5jaGFuZ2VkXCIgLSB0aGUgdGFyZ2V0IHZhbHVlIGlzIHVuY2hhbmdlZCByZWxhdGl2ZSB0byB0aGUgbGFzdCBjb21taXR0ZWQgdmFsdWVcbiAgICAgKiBcImNoYW5nZWRcIiAtIHRoZSB0YXJnZXQgdmFsdWUgaGFzIGNoYW5nZWQgcmVsYXRpdmUgdG8gdGhlIGByZWZlcmVuY2VgIHZhbHVlIG9yIGxhc3QgY29tbWl0dGVkIHZhbHVlXG4gICAgICogXCJzZXR0bGluZ1wiIC0gdGhlIHRhcmdldCB2YWx1ZSBoYXMgY2hhbmdlZCwgcGVuZGluZyBzdGFiYWxpemF0aW9uL3RpbWVvdXQsIG9yIHJldmVyc2lvbiB0byBcInVuY2hhbmdlZFwiIHN0YXRlXG4gICAgICogXCJjb21taXR0aW5nXCIgLSB0aGUgdGFyZ2V0IHZhbHVlIHdpbGwgYmUgYWNjZXB0ZWQgYXMgYSBuZXcgdHJhbnNpdGlvbiB0YXJnZXRzXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMubmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3RhdHVzID0gdGhpcy5fc3RhdHVzXG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSB0aGlzLl9jb21wdXRlU3RhdHVzKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzXG4gICAgfVxuICAgIHByaXZhdGUgX3N0YXR1cyA6ICd1bmNoYW5nZWQnfCdjaGFuZ2VkJ3wnc2V0dGxpbmcnfCdjb21taXR0aW5nJyA9ICd1bmNoYW5nZWQnXG4gICAgcHJpdmF0ZSBfY29tcHV0ZVN0YXR1cygpIDogJ3VuY2hhbmdlZCd8J2NoYW5nZWQnfCdzZXR0bGluZyd8J2NvbW1pdHRpbmcnIHtcblxuICAgICAgICBpZiAodGhpcy5mb3JjZUNvbW1pdCkgcmV0dXJuICdjb21taXR0aW5nJ1xuXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMucmVzb2x2ZWRDb25maWdcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gY29uZmlnLnRocmVzaG9sZFxuICAgICAgICBjb25zdCBkZWx0YSA9IHRoaXMuc3lzdGVtLmRlbHRhVGltZSAqIGNvbmZpZy5tdWx0aXBsaWVyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5kZWxheVRpbWUgKyBkZWx0YVxuICAgICAgICBjb25zdCBkZWJvdW5jZSA9IHRoaXMuZGVib3VuY2VUaW1lICsgZGVsdGFcbiAgICAgICAgLy8gY29uc3Qgd2FpdCA9IHRoaXMud2FpdFRpbWUgKyBkZWx0YVxuICAgICAgICBjb25zdCByZWxEaWZmID0gdGhpcy5yZWxhdGl2ZURpZmZlcmVuY2VcbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHJlbERpZmYgPiB0aHJlc2hvbGRcblxuICAgICAgICBpZiAoIWNoYW5nZWQpIHJldHVybiAndW5jaGFuZ2VkJ1xuXG4gICAgICAgIGlmICghdGhpcy5mb3JjZVdhaXQgJiYgKChkZWxheSA+PSBjb25maWcuZGVsYXkgJiYgZGVib3VuY2UgPj0gY29uZmlnLmRlYm91bmNlKSB8fCBkZWxheSA+PSBjb25maWcubWF4V2FpdCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnY29tbWl0dGluZydcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZlJlbERpZmYgPSB0aGlzLnJlZmVyZW5jZVJlbGF0aXZlRGlmZmVyZW5jZVxuICAgICAgICBjb25zdCBzdGFibGUgPSByZWZSZWxEaWZmIDwgdGhyZXNob2xkXG5cbiAgICAgICAgaWYgKCFzdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnY2hhbmdlZCdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnc2V0dGxpbmcnXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgcHJpdmF0ZSBfdXBkYXRlVHJhbnNpdGlvbmFibGUoKSB7XG4gICAgICAgIGNvbnN0IGRlbHRhVGltZSAgPSB0aGlzLnN5c3RlbS5kZWx0YVRpbWVcbiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5yZXNvbHZlZENvbmZpZ1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWVcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zdGF0dXNcbiAgICAgICAgY29uc3QgZGVsdGEgPSBkZWx0YVRpbWUgKiBjb25maWcubXVsdGlwbGllclxuXG4gICAgICAgIC8vIEZpbml0ZSBJbXB1bHNlIFJlc3BvbnNlIEludGVycnVwdGFibGUgVHJhbnNpdGlvbnNcblxuICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoICYmIHF1ZXVlWzBdLmVsYXBzZWQgPj0gcXVldWVbMF0uZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBxdWV1ZS5zaGlmdCgpIS50YXJnZXRcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5zdGFydFxuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fY3VycmVudFxuICAgICAgICBsZXQgcHJldmlvdXNUYXJnZXQgPSB0aGlzLnN0YXJ0XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHF1ZXVlW2ldXG4gICAgICAgICAgICB0aGlzLl9hZGRUcmFuc2l0aW9uVG9DdXJyZW50KGN1cnJlbnQsIHByZXZpb3VzVGFyZ2V0LCB0cmFuc2l0aW9uLCBkZWx0YSlcbiAgICAgICAgICAgIHByZXZpb3VzVGFyZ2V0ID0gdHJhbnNpdGlvbi50YXJnZXRcbiAgICAgICAgICAgIGlmICghdHJhbnNpdGlvbi5ibGVuZCkgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEh5c3RlcmVzaXMtQXdhcmUgVGFyZ2V0IENoYW5nZSBUcmlnZ2VyXG5cbiAgICAgICAgdGhpcy5kZWJvdW5jZVRpbWUgKz0gZGVsdGFcblxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAnc2V0dGxpbmcnOiBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2hhbmdlZCc6IFxuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlUaW1lICs9IGRlbHRhXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICd1bmNoYW5nZWQnOiBcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlUaW1lID0gMFxuICAgICAgICAgICAgICAgIC8vIGlmIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgICAgICAgICAgICAvLyAoYW5kIGxlc3MgdGhlbiB0aGUgY2hhbmdlIHRocmVzaG9sZCksXG4gICAgICAgICAgICAgICAgLy8gaW5zdGFudGx5IHVwZGF0ZSB0aGUgbGFzdCBjb21taXR0ZWQgdmFsdWUgdG8gdGhlIFxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMucmVsYXRpdmVEaWZmZXJlbmNlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCB0ID0gdGhpcy5xdWV1ZVt0aGlzLnF1ZXVlLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdC50YXJnZXQgPSB0aGlzLl9jb3B5KHQudGFyZ2V0LCB0aGlzLnRhcmdldClcbiAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLl9jb3B5KHRoaXMuc3RhcnQsIHRoaXMudGFyZ2V0KVxuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdjb21taXR0aW5nJzogXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheVRpbWUgPSAwXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJvdW5jZVRpbWUgPSAwXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHR5cGVvZiB0aGlzLmZvcmNlQ29tbWl0ID09PSAnb2JqZWN0JyA/IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmNlQ29tbWl0IDogbmV3IFRyYW5zaXRpb248VD4oKVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24udGFyZ2V0ID0gdHJhbnNpdGlvbi50YXJnZXQgPz8gdGhpcy5fY29weSh1bmRlZmluZWQsIHRoaXMudGFyZ2V0KVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZHVyYXRpb24gPSB0cmFuc2l0aW9uLmR1cmF0aW9uID8/IGNvbmZpZy5kdXJhdGlvblxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZWFzaW5nID0gdHJhbnNpdGlvbi5lYXNpbmcgPz8gY29uZmlnLmVhc2luZ1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmxlbmQgPSB0cmFuc2l0aW9uLmJsZW5kID8/IGNvbmZpZy5ibGVuZFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZWxhcHNlZCA9IHRyYW5zaXRpb24uZWxhcHNlZCA/PyAwXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh0cmFuc2l0aW9uIGFzIFJlcXVpcmVkPFRyYW5zaXRpb248VD4+KVxuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VDb21taXQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JjZVdhaXQgPSBmYWxzZVxuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZFRyYW5zaXRpb25Ub0N1cnJlbnQoY3VycmVudDpUcmFuc2l0aW9uYWJsZVR5cGU8VD4sIHN0YXJ0OlRyYW5zaXRpb25hYmxlVHlwZTxUPiwgdHJhbnNpdGlvbjpSZXF1aXJlZDxUcmFuc2l0aW9uPFQ+PiwgZGVsdGE6bnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGFscGhhID0gdHJhbnNpdGlvbi5kdXJhdGlvbiA+IDAgPyB0cmFuc2l0aW9uLmVhc2luZyggTWF0aC5taW4odHJhbnNpdGlvbi5lbGFwc2VkIC8gdHJhbnNpdGlvbi5kdXJhdGlvbiwgMSkgKSA6IDFcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdHJhbnNpdGlvbi50YXJnZXRcbiAgICAgICAgdHJhbnNpdGlvbi5lbGFwc2VkICs9IGRlbHRhXG5cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gY3VycmVudCBhcyBudW1iZXIgKyBNYXRoVXRpbHMubGVycCh0YXJnZXQgLSAoc3RhcnQgYXMgbnVtYmVyKSwgMCwgMS1hbHBoYSkgYXMgYW55XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBcbiAgICAgICAgXG4gICAgICAgIGlmICgnaXNWZWN0b3IzJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50IGFzIFRIUkVFLlZlY3RvcjNcbiAgICAgICAgICAgIGNvbnN0IHMgPSBzdGFydCBhcyBUSFJFRS5WZWN0b3IzXG4gICAgICAgICAgICBjb25zdCBlID0gdGFyZ2V0IGFzIFRIUkVFLlZlY3RvcjNcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IF9zY3JhdGNoVjMuY29weShlKS5zdWIocykubGVycChWXzAwMCwgMS1hbHBoYSlcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjLmFkZChhbW91bnQpIGFzIGFueVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBpZiAoJ2lzVmVjdG9yMicgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY3VycmVudCBhcyBUSFJFRS5WZWN0b3IyXG4gICAgICAgICAgICBjb25zdCBzID0gc3RhcnQgYXMgVEhSRUUuVmVjdG9yMlxuICAgICAgICAgICAgY29uc3QgZSA9IHRhcmdldCBhcyBUSFJFRS5WZWN0b3IyXG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBfc2NyYXRjaFYyLmNvcHkoZSkuc3ViKHMpLmxlcnAoVl8wMCwgMS1hbHBoYSlcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjLmFkZChhbW91bnQpIGFzIGFueVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBpZiAoJ2lzUXVhdGVybmlvbicgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY3VycmVudCBhcyBUSFJFRS5RdWF0ZXJuaW9uXG4gICAgICAgICAgICBjb25zdCBzID0gc3RhcnQgYXMgVEhSRUUuUXVhdGVybmlvblxuICAgICAgICAgICAgY29uc3QgZSA9IHRhcmdldCBhcyBUSFJFRS5RdWF0ZXJuaW9uXG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBfc2NyYXRjaFEuY29weShzKS5pbnZlcnQoKS5tdWx0aXBseShlKS5zbGVycChRX0lERU5USVRZLCAxLWFscGhhKVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGMubXVsdGlwbHkoYW1vdW50KS5ub3JtYWxpemUoKSBhcyBhbnlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9IFxuICAgICAgICBcbiAgICAgICAgaWYgKCdpc0NvbG9yJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50IGFzIFRIUkVFLkNvbG9yXG4gICAgICAgICAgICBjb25zdCBzID0gc3RhcnQgYXMgVEhSRUUuQ29sb3JcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0YXJnZXQgYXMgVEhSRUUuQ29sb3JcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IF9zY3JhdGNoQ29sb3IuY29weShlKS5zdWIocykubGVycChfYmxhY2tDb2xvciwgMS1hbHBoYSlcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjLmFkZChhbW91bnQpIGFzIGFueVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBpZiAoJ2lzQm94MycgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY3VycmVudCBhcyBUSFJFRS5Cb3gzXG4gICAgICAgICAgICBjb25zdCBzID0gc3RhcnQgYXMgVEhSRUUuQm94M1xuICAgICAgICAgICAgY29uc3QgZSA9IHRhcmdldCBhcyBUSFJFRS5Cb3gzXG4gICAgICAgICAgICBjb25zdCBtaW5BbW91bnQgPSBfc2NyYXRjaEJveC5taW4uY29weShlLm1pbikuc3ViKHMubWluKS5sZXJwKFZfMDAwLCAxLWFscGhhKVxuICAgICAgICAgICAgY29uc3QgbWF4QW1vdW50ID0gX3NjcmF0Y2hCb3gubWF4LmNvcHkoZS5tYXgpLnN1YihzLm1heCkubGVycChWXzAwMCwgMS1hbHBoYSlcbiAgICAgICAgICAgIGMubWluLmFkZChtaW5BbW91bnQpXG4gICAgICAgICAgICBjLm1heC5hZGQobWF4QW1vdW50KVxuICAgICAgICAgICAgLy8gaWYgKGMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgbWluID0gYy5taW5cbiAgICAgICAgICAgIC8vICAgICBjb25zdCBtYXggPSBjLm1heFxuICAgICAgICAgICAgLy8gICAgIGlmIChtaW4ueCA+IG1heC54KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3gnKVxuICAgICAgICAgICAgLy8gICAgIGlmIChtaW4ueSA+IG1heC55KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3knKVxuICAgICAgICAgICAgLy8gICAgIGlmIChtaW4ueiA+IG1heC56KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3onKVxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGMgYXMgYW55XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3N3YXAoYTpWZWN0b3IzLCBiOlZlY3RvcjMsIGtleToneCd8J3knfCd6Jykge1xuICAgICAgICBjb25zdCBhVmFsdWUgPSBhW2tleV1cbiAgICAgICAgY29uc3QgYlZhbHVlID0gYltrZXldXG4gICAgICAgIGFba2V5XSA9IGJWYWx1ZVxuICAgICAgICBiW2tleV0gPSBhVmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICB1cGRhdGUoZm9yY2U9ZmFsc2UpIHtcblxuICAgICAgICBpZiAoIXRoaXMubmVlZHNVcGRhdGUgJiYgIWZvcmNlKSByZXR1cm5cblxuICAgICAgICBpZiAoIXRoaXMuX2lzRXF1YWwodGhpcy5fcHJldmlvdXNUYXJnZXQsIHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmV2aW91c1RhcmdldCA9IHRoaXMuX2NvcHkodGhpcy5fcHJldmlvdXNUYXJnZXQsIHRoaXMudGFyZ2V0KVxuXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSByZXR1cm5cblxuICAgICAgICBjb25zdCBzeW5jR3JvdXAgPSB0aGlzLnN5bmNHcm91cCBhcyBTZXQ8VHJhbnNpdGlvbmFibGU+XG4gICAgICAgIGlmICghdGhpcy5mb3JjZUNvbW1pdCAmJiBzeW5jR3JvdXApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBzeW5jR3JvdXApIHtcbiAgICAgICAgICAgICAgICBpZiAodC5lbmFibGVkICYmIHQuc3RhdHVzID09PSAnY29tbWl0dGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0byBvZiBzeW5jR3JvdXApIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG8ubmVlZHNVcGRhdGUgJiYgdG8uZm9yY2VDb21taXQgPT09IGZhbHNlKSB0by5mb3JjZUNvbW1pdCA9IHRydWUgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVUcmFuc2l0aW9uYWJsZSgpXG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZVxuICAgIH1cbiAgICBwcml2YXRlIF9wcmV2aW91c1RhcmdldCEgOiBUcmFuc2l0aW9uYWJsZVR5cGU8VD5cblxuICAgIHNldCBzeW5jR3JvdXAoZ3JvdXA6U2V0PGFueT58dW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9zeW5jR3JvdXApIHRoaXMuX3N5bmNHcm91cC5kZWxldGUodGhpcylcbiAgICAgICAgdGhpcy5fc3luY0dyb3VwID0gZ3JvdXBcbiAgICAgICAgZ3JvdXA/LmFkZCh0aGlzKVxuICAgIH1cbiAgICBnZXQgc3luY0dyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3luY0dyb3VwXG4gICAgfVxuICAgIHByaXZhdGUgX3N5bmNHcm91cD86U2V0PGFueT5cbn0iLCIvLyB0eXBlIGNoZWNrcyBmb3IgYWxsIGtub3duIHR5cGVzXG4vL1xuLy8gbm90ZSB0aGF0OlxuLy9cbi8vIC0gY2hlY2sgYnkgZHVjay10eXBpbmcgb24gYSBwcm9wZXJ0eSBsaWtlIGBpc1VuaXRgLCBpbnN0ZWFkIG9mIGNoZWNraW5nIGluc3RhbmNlb2YuXG4vLyAgIGluc3RhbmNlb2YgY2Fubm90IGJlIHVzZWQgYmVjYXVzZSB0aGF0IHdvdWxkIG5vdCBhbGxvdyB0byBwYXNzIGRhdGEgZnJvbVxuLy8gICBvbmUgaW5zdGFuY2Ugb2YgbWF0aC5qcyB0byBhbm90aGVyIHNpbmNlIGVhY2ggaGFzIGl0J3Mgb3duIGluc3RhbmNlIG9mIFVuaXQuXG4vLyAtIGNoZWNrIHRoZSBgaXNVbml0YCBwcm9wZXJ0eSB2aWEgdGhlIGNvbnN0cnVjdG9yLCBzbyB0aGVyZSB3aWxsIGJlIG5vXG4vLyAgIG1hdGNoZXMgZm9yIFwiZmFrZVwiIGluc3RhbmNlcyBsaWtlIHBsYWluIG9iamVjdHMgd2l0aCBhIHByb3BlcnR5IGBpc1VuaXRgLlxuLy8gICBUaGF0IGlzIGltcG9ydGFudCBmb3Igc2VjdXJpdHkgcmVhc29ucy5cbi8vIC0gSXQgbXVzdCBub3QgYmUgcG9zc2libGUgdG8gb3ZlcnJpZGUgdGhlIHR5cGUgY2hlY2tzIHVzZWQgaW50ZXJuYWxseSxcbi8vICAgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIHNvIHRoZXNlIGZ1bmN0aW9ucyBhcmUgbm90IGV4cG9zZWQgaW4gdGhlIGV4cHJlc3Npb25cbi8vICAgcGFyc2VyLlxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0JpZ051bWJlcih4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzQmlnTnVtYmVyID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcGxleCh4KSB7XG4gIHJldHVybiB4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoeCkuaXNDb21wbGV4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnJhY3Rpb24oeCkge1xuICByZXR1cm4geCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpLmlzRnJhY3Rpb24gPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNVbml0KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNVbml0ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydCB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgZnVuY3Rpb24gaXNNYXRyaXgoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgYSBjb2xsZWN0aW9uOiBhbiBBcnJheSBvciBNYXRyaXhcbiAqIEBwYXJhbSB7Kn0geFxuICogQHJldHVybnMge2Jvb2xlYW59IGlzQ29sbGVjdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbGxlY3Rpb24oeCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh4KSB8fCBpc01hdHJpeCh4KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RlbnNlTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0RlbnNlTWF0cml4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTWF0cml4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BhcnNlTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1NwYXJzZU1hdHJpeCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JhbmdlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNSYW5nZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luZGV4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNJbmRleCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdib29sZWFuJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3VsdFNldCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzUmVzdWx0U2V0ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSGVscCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzSGVscCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh4KSB7XG4gIHJldHVybiB4IGluc3RhbmNlb2YgRGF0ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ0V4cCh4KSB7XG4gIHJldHVybiB4IGluc3RhbmNlb2YgUmVnRXhwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgcmV0dXJuICEhKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHguY29uc3RydWN0b3IgPT09IE9iamVjdCAmJiAhaXNDb21wbGV4KHgpICYmICFpc0ZyYWN0aW9uKHgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc051bGwoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZCh4KSB7XG4gIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBY2Nlc3Nvck5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQWNjZXNzb3JOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNBcnJheU5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXNzaWdubWVudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQXNzaWdubWVudE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmxvY2tOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Jsb2NrTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kaXRpb25hbE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQ29uZGl0aW9uYWxOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnN0YW50Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNDb25zdGFudE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNGdW5jdGlvbk5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSW5kZXhOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0luZGV4Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNPYmplY3ROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09wZXJhdG9yTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNPcGVyYXRvck5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyZW50aGVzaXNOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1BhcmVudGhlc2lzTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSYW5nZU5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzUmFuZ2VOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzU3ltYm9sTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDaGFpbih4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzQ2hhaW4gPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdHlwZU9mKHgpIHtcbiAgdmFyIHQgPSB0eXBlb2YgeDtcblxuICBpZiAodCA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBKYXZhU2NyaXB0IHR5cGVzXG4gICAgaWYgKHggPT09IG51bGwpIHJldHVybiAnbnVsbCc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHJldHVybiAnQXJyYXknO1xuICAgIGlmICh4IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuICdEYXRlJztcbiAgICBpZiAoeCBpbnN0YW5jZW9mIFJlZ0V4cCkgcmV0dXJuICdSZWdFeHAnOyAvLyBtYXRoLmpzIHR5cGVzXG5cbiAgICBpZiAoaXNCaWdOdW1iZXIoeCkpIHJldHVybiAnQmlnTnVtYmVyJztcbiAgICBpZiAoaXNDb21wbGV4KHgpKSByZXR1cm4gJ0NvbXBsZXgnO1xuICAgIGlmIChpc0ZyYWN0aW9uKHgpKSByZXR1cm4gJ0ZyYWN0aW9uJztcbiAgICBpZiAoaXNNYXRyaXgoeCkpIHJldHVybiAnTWF0cml4JztcbiAgICBpZiAoaXNVbml0KHgpKSByZXR1cm4gJ1VuaXQnO1xuICAgIGlmIChpc0luZGV4KHgpKSByZXR1cm4gJ0luZGV4JztcbiAgICBpZiAoaXNSYW5nZSh4KSkgcmV0dXJuICdSYW5nZSc7XG4gICAgaWYgKGlzUmVzdWx0U2V0KHgpKSByZXR1cm4gJ1Jlc3VsdFNldCc7XG4gICAgaWYgKGlzTm9kZSh4KSkgcmV0dXJuIHgudHlwZTtcbiAgICBpZiAoaXNDaGFpbih4KSkgcmV0dXJuICdDaGFpbic7XG4gICAgaWYgKGlzSGVscCh4KSkgcmV0dXJuICdIZWxwJztcbiAgICByZXR1cm4gJ09iamVjdCc7XG4gIH1cblxuICBpZiAodCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuICdGdW5jdGlvbic7XG4gIHJldHVybiB0OyAvLyBjYW4gYmUgJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbicsIC4uLlxufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi9pcy5qcyc7XG4vKipcbiAqIENsb25lIGFuIG9iamVjdFxuICpcbiAqICAgICBjbG9uZSh4KVxuICpcbiAqIENhbiBjbG9uZSBhbnkgcHJpbWl0aXZlIHR5cGUsIGFycmF5LCBhbmQgb2JqZWN0LlxuICogSWYgeCBoYXMgYSBmdW5jdGlvbiBjbG9uZSwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgdG8gY2xvbmUgdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm4geyp9IGNsb25lXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDsgLy8gaW1tdXRhYmxlIHByaW1pdGl2ZSB0eXBlc1xuXG4gIGlmICh0eXBlID09PSAnbnVtYmVyJyB8fCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnYm9vbGVhbicgfHwgeCA9PT0gbnVsbCB8fCB4ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geDtcbiAgfSAvLyB1c2UgY2xvbmUgZnVuY3Rpb24gb2YgdGhlIG9iamVjdCB3aGVuIGF2YWlsYWJsZVxuXG5cbiAgaWYgKHR5cGVvZiB4LmNsb25lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHguY2xvbmUoKTtcbiAgfSAvLyBhcnJheVxuXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4geC5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY2xvbmUodmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHggaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gbmV3IERhdGUoeC52YWx1ZU9mKCkpO1xuICBpZiAoaXNCaWdOdW1iZXIoeCkpIHJldHVybiB4OyAvLyBiaWdudW1iZXJzIGFyZSBpbW11dGFibGVcblxuICBpZiAoeCBpbnN0YW5jZW9mIFJlZ0V4cCkgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNsb25lICcgKyB4KTsgLy8gVE9ETzogY2xvbmUgYSBSZWdFeHBcbiAgLy8gb2JqZWN0XG5cbiAgcmV0dXJuIG1hcE9iamVjdCh4LCBjbG9uZSk7XG59XG4vKipcbiAqIEFwcGx5IG1hcCB0byBhbGwgcHJvcGVydGllcyBvZiBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aCBtYXBwZWQgcHJvcGVydGllc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmplY3Qob2JqZWN0LCBjYWxsYmFjaykge1xuICB2YXIgY2xvbmUgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KG9iamVjdCwga2V5KSkge1xuICAgICAgY2xvbmVba2V5XSA9IGNhbGxiYWNrKG9iamVjdFtrZXldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xvbmU7XG59XG4vKipcbiAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm4ge09iamVjdH0gYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICBmb3IgKHZhciBwcm9wIGluIGIpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoYiwgcHJvcCkpIHtcbiAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufVxuLyoqXG4gKiBEZWVwIGV4dGVuZCBhbiBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFeHRlbmQoYSwgYikge1xuICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgQXJyYXlzIHRvIGRlZXBFeHRlbmRcbiAgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZCcpO1xuICB9XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBiKSB7XG4gICAgLy8gV2UgY2hlY2sgYWdhaW5zdCBwcm9wIG5vdCBiZWluZyBpbiBPYmplY3QucHJvdG90eXBlIG9yIEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIC8vIHRvIHByZXZlbnQgcG9sbHV0aW5nIGZvciBleGFtcGxlIE9iamVjdC5fX3Byb3RvX18uXG4gICAgaWYgKGhhc093blByb3BlcnR5KGIsIHByb3ApICYmICEocHJvcCBpbiBPYmplY3QucHJvdG90eXBlKSAmJiAhKHByb3AgaW4gRnVuY3Rpb24ucHJvdG90eXBlKSkge1xuICAgICAgaWYgKGJbcHJvcF0gJiYgYltwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgIGlmIChhW3Byb3BdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBhW3Byb3BdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYVtwcm9wXSAmJiBhW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICBkZWVwRXh0ZW5kKGFbcHJvcF0sIGJbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYltwcm9wXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZXBFeHRlbmQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufVxuLyoqXG4gKiBEZWVwIHRlc3QgZXF1YWxpdHkgb2YgYWxsIGZpZWxkcyBpbiB0d28gcGFpcnMgb2YgYXJyYXlzIG9yIG9iamVjdHMuXG4gKiBDb21wYXJlcyB2YWx1ZXMgYW5kIGZ1bmN0aW9ucyBzdHJpY3RseSAoaWUuIDIgaXMgbm90IHRoZSBzYW1lIGFzICcyJykuXG4gKiBAcGFyYW0ge0FycmF5IHwgT2JqZWN0fSBhXG4gKiBAcGFyYW0ge0FycmF5IHwgT2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcFN0cmljdEVxdWFsKGEsIGIpIHtcbiAgdmFyIHByb3AsIGksIGxlbjtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoIWRlZXBTdHJpY3RFcXVhbChhW2ldLCBiW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYikgfHwgIShiIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAocHJvcCBpbiBhKSB7XG4gICAgICAvLyBub2luc3BlY3Rpb24gSlNVbmZpbHRlcmVkRm9ySW5Mb29wXG4gICAgICBpZiAoIShwcm9wIGluIGIpIHx8ICFkZWVwU3RyaWN0RXF1YWwoYVtwcm9wXSwgYltwcm9wXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAocHJvcCBpbiBiKSB7XG4gICAgICAvLyBub2luc3BlY3Rpb24gSlNVbmZpbHRlcmVkRm9ySW5Mb29wXG4gICAgICBpZiAoIShwcm9wIGluIGEpIHx8ICFkZWVwU3RyaWN0RXF1YWwoYVtwcm9wXSwgYltwcm9wXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYSBuZXN0ZWQgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG5lc3RlZE9iamVjdFxuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIHRoZSBmbGF0dGVuZWQgb2JqZWN0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCkge1xuICB2YXIgZmxhdHRlbmVkT2JqZWN0ID0ge307XG5cbiAgX2RlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCwgZmxhdHRlbmVkT2JqZWN0KTtcblxuICByZXR1cm4gZmxhdHRlbmVkT2JqZWN0O1xufSAvLyBoZWxwZXIgZnVuY3Rpb24gdXNlZCBieSBkZWVwRmxhdHRlblxuXG5mdW5jdGlvbiBfZGVlcEZsYXR0ZW4obmVzdGVkT2JqZWN0LCBmbGF0dGVuZWRPYmplY3QpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBuZXN0ZWRPYmplY3QpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkobmVzdGVkT2JqZWN0LCBwcm9wKSkge1xuICAgICAgdmFyIHZhbHVlID0gbmVzdGVkT2JqZWN0W3Byb3BdO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBfZGVlcEZsYXR0ZW4odmFsdWUsIGZsYXR0ZW5lZE9iamVjdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbGF0dGVuZWRPYmplY3RbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIHN1cHBvcnRzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiBzdXBwb3J0ZWRcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5EZWZpbmVQcm9wZXJ0eSgpIHtcbiAgLy8gdGVzdCBuZWVkZWQgZm9yIGJyb2tlbiBJRTggaW1wbGVtZW50YXRpb25cbiAgdHJ5IHtcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHt9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEF0dGFjaCBhIGxhenkgbG9hZGluZyBwcm9wZXJ0eSB0byBhIGNvbnN0YW50LlxuICogVGhlIGdpdmVuIGZ1bmN0aW9uIGBmbmAgaXMgY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcHJvcGVydHkgaXMgZmlyc3QgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgICAgICAgICBPYmplY3Qgd2hlcmUgdG8gYWRkIHRoZSBwcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgICAgICAgICAgIFByb3BlcnR5IG5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHZhbHVlUmVzb2x2ZXIgRnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBwcm9wZXJ0eSB2YWx1ZS4gQ2FsbGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aG91dCBhcmd1bWVudHMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxhenkob2JqZWN0LCBwcm9wLCB2YWx1ZVJlc29sdmVyKSB7XG4gIHZhciBfdW5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgdmFyIF92YWx1ZTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoX3VuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgX3ZhbHVlID0gdmFsdWVSZXNvbHZlcigpO1xuICAgICAgICBfdW5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3ZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF92YWx1ZSA9IHZhbHVlO1xuICAgICAgX3VuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuLyoqXG4gKiBUcmF2ZXJzZSBhIHBhdGggaW50byBhbiBvYmplY3QuXG4gKiBXaGVuIGEgbmFtZXNwYWNlIGlzIG1pc3NpbmcsIGl0IHdpbGwgYmUgY3JlYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aCAgIEEgZG90IHNlcGFyYXRlZCBzdHJpbmcgbGlrZSAnbmFtZS5zcGFjZSdcbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgb2JqZWN0IGF0IHRoZSBlbmQgb2YgdGhlIHBhdGhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2Uob2JqZWN0LCBwYXRoKSB7XG4gIGlmIChwYXRoICYmIHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0cmF2ZXJzZShvYmplY3QsIHBhdGguc3BsaXQoJy4nKSk7XG4gIH1cblxuICB2YXIgb2JqID0gb2JqZWN0O1xuXG4gIGlmIChwYXRoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gcGF0aFtpXTtcblxuICAgICAgaWYgKCEoa2V5IGluIG9iaikpIHtcbiAgICAgICAgb2JqW2tleV0gPSB7fTtcbiAgICAgIH1cblxuICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogQSBzYWZlIGhhc093blByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSkge1xuICByZXR1cm4gb2JqZWN0ICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gb2JqZWN0IGlzIGEgZmFjdG9yeS4gYSBmYWN0b3J5IGhhcyBmaWVsZHM6XG4gKlxuICogLSBmYWN0b3J5OiBmdW5jdGlvbiAodHlwZTogT2JqZWN0LCBjb25maWc6IE9iamVjdCwgbG9hZDogZnVuY3Rpb24sIHR5cGVkOiBmdW5jdGlvbiBbLCBtYXRoOiBPYmplY3RdKSAgIChyZXF1aXJlZClcbiAqIC0gbmFtZTogc3RyaW5nIChvcHRpb25hbClcbiAqIC0gcGF0aDogc3RyaW5nICAgIEEgZG90IHNlcGFyYXRlZCBwYXRoIChvcHRpb25hbClcbiAqIC0gbWF0aDogYm9vbGVhbiAgIElmIHRydWUgKGZhbHNlIGJ5IGRlZmF1bHQpLCB0aGUgbWF0aCBuYW1lc3BhY2UgaXMgcGFzc2VkXG4gKiAgICAgICAgICAgICAgICAgICBhcyBmaWZ0aCBhcmd1bWVudCBvZiB0aGUgZmFjdG9yeSBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNMZWdhY3lGYWN0b3J5KG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ICYmIHR5cGVvZiBvYmplY3QuZmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogR2V0IGEgbmVzdGVkIHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBwYXRoXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoaXNQYXRoKHBhdGgpKSB7XG4gICAgICByZXR1cm4gZ2V0KG9iamVjdCwgcGF0aC5zcGxpdCgnLicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9iamVjdFtwYXRoXTtcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGQgPSBvYmplY3Q7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgY2hpbGQgPSBjaGlsZCA/IGNoaWxkW2tleV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG4vKipcbiAqIFNldCBhIG5lc3RlZCBwcm9wZXJ0eSBpbiBhbiBvYmplY3RcbiAqIE11dGF0ZXMgdGhlIG9iamVjdCBpdHNlbGZcbiAqIElmIHRoZSBwYXRoIGRvZXNuJ3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIGlmIChpc1BhdGgocGF0aCkpIHtcbiAgICAgIHJldHVybiBzZXQob2JqZWN0LCBwYXRoLnNwbGl0KCcuJyksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0W3BhdGhdID0gdmFsdWU7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cbiAgfVxuXG4gIHZhciBjaGlsZCA9IG9iamVjdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhdGhbaV07XG5cbiAgICBpZiAoY2hpbGRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjaGlsZFtrZXldID0ge307XG4gICAgfVxuXG4gICAgY2hpbGQgPSBjaGlsZFtrZXldO1xuICB9XG5cbiAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgIHZhciBsYXN0S2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNoaWxkW2xhc3RLZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgb2JqZWN0IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHZhbHVlIHRvIHRyYW5zZm9ybSBhIHZhbHVlIHdoZW4gcGlja2luZyBpdFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iamVjdCwgcHJvcGVydGllcywgdHJhbnNmb3JtKSB7XG4gIHZhciBjb3B5ID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHByb3BlcnRpZXNbaV07XG4gICAgdmFyIHZhbHVlID0gZ2V0KG9iamVjdCwga2V5KTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXQoY29weSwga2V5LCB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0odmFsdWUsIGtleSkgOiB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59XG4vKipcbiAqIFNoYWxsb3cgdmVyc2lvbiBvZiBwaWNrLCBjcmVhdGluZyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBvYmplY3QgcHJvcGVydGllc1xuICogYnV0IG5vdCBmb3IgbmVzdGVkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BlcnRpZXNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGlja1NoYWxsb3cob2JqZWN0LCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBjb3B5ID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHByb3BlcnRpZXNbaV07XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29weVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5tYXAoa2V5ID0+IG9iamVjdFtrZXldKTtcbn0gLy8gaGVscGVyIGZ1bmN0aW9uIHRvIHRlc3Qgd2hldGhlciBhIHN0cmluZyBjb250YWlucyBhIHBhdGggbGlrZSAndXNlci5uYW1lJ1xuXG5mdW5jdGlvbiBpc1BhdGgoc3RyKSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZignLicpICE9PSAtMTtcbn0iLCIvKipcbiAqIHR5cGVkLWZ1bmN0aW9uXG4gKlxuICogVHlwZSBjaGVja2luZyBmb3IgSmF2YVNjcmlwdCBmdW5jdGlvbnNcbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL3R5cGVkLWZ1bmN0aW9uXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBPbGROb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE9sZE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICByb290LnR5cGVkID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuICBmdW5jdGlvbiBvayAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBub3RPayAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5kZWYgKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGVkZWYge3tcbiAgICogICBwYXJhbXM6IFBhcmFtW10sXG4gICAqICAgZm46IGZ1bmN0aW9uXG4gICAqIH19IFNpZ25hdHVyZVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIHR5cGVzOiBUeXBlW10sXG4gICAqICAgcmVzdFBhcmFtOiBib29sZWFuXG4gICAqIH19IFBhcmFtXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgbmFtZTogc3RyaW5nLFxuICAgKiAgIHR5cGVJbmRleDogbnVtYmVyLFxuICAgKiAgIHRlc3Q6IGZ1bmN0aW9uLFxuICAgKiAgIGNvbnZlcnNpb24/OiBDb252ZXJzaW9uRGVmLFxuICAgKiAgIGNvbnZlcnNpb25JbmRleDogbnVtYmVyLFxuICAgKiB9fSBUeXBlXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgZnJvbTogc3RyaW5nLFxuICAgKiAgIHRvOiBzdHJpbmcsXG4gICAqICAgY29udmVydDogZnVuY3Rpb24gKCopIDogKlxuICAgKiB9fSBDb252ZXJzaW9uRGVmXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgbmFtZTogc3RyaW5nLFxuICAgKiAgIHRlc3Q6IGZ1bmN0aW9uKCopIDogYm9vbGVhblxuICAgKiB9fSBUeXBlRGVmXG4gICAqL1xuXG4gIC8vIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuICBmdW5jdGlvbiBjcmVhdGUgKCkge1xuICAgIC8vIGRhdGEgdHlwZSB0ZXN0c1xuICAgIHZhciBfdHlwZXMgPSBbXG4gICAgICB7IG5hbWU6ICdudW1iZXInLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdudW1iZXInIH0gfSxcbiAgICAgIHsgbmFtZTogJ3N0cmluZycsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZycgfSB9LFxuICAgICAgeyBuYW1lOiAnYm9vbGVhbicsICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnYm9vbGVhbicgfSB9LFxuICAgICAgeyBuYW1lOiAnRnVuY3Rpb24nLCAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nfSB9LFxuICAgICAgeyBuYW1lOiAnQXJyYXknLCAgICAgdGVzdDogQXJyYXkuaXNBcnJheSB9LFxuICAgICAgeyBuYW1lOiAnRGF0ZScsICAgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggaW5zdGFuY2VvZiBEYXRlIH0gfSxcbiAgICAgIHsgbmFtZTogJ1JlZ0V4cCcsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IGluc3RhbmNlb2YgUmVnRXhwIH0gfSxcbiAgICAgIHsgbmFtZTogJ09iamVjdCcsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCAmJiB4LmNvbnN0cnVjdG9yID09PSBPYmplY3RcbiAgICAgIH19LFxuICAgICAgeyBuYW1lOiAnbnVsbCcsICAgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IG51bGwgfSB9LFxuICAgICAgeyBuYW1lOiAndW5kZWZpbmVkJywgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IHVuZGVmaW5lZCB9IH1cbiAgICBdO1xuXG4gICAgdmFyIGFueVR5cGUgPSB7XG4gICAgICBuYW1lOiAnYW55JyxcbiAgICAgIHRlc3Q6IG9rXG4gICAgfVxuXG4gICAgLy8gdHlwZXMgd2hpY2ggbmVlZCB0byBiZSBpZ25vcmVkXG4gICAgdmFyIF9pZ25vcmUgPSBbXTtcblxuICAgIC8vIHR5cGUgY29udmVyc2lvbnNcbiAgICB2YXIgX2NvbnZlcnNpb25zID0gW107XG5cbiAgICAvLyBUaGlzIGlzIGEgdGVtcG9yYXJ5IG9iamVjdCwgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGEgdHlwZWQgZnVuY3Rpb24gYXQgdGhlIGVuZFxuICAgIHZhciB0eXBlZCA9IHtcbiAgICAgIHR5cGVzOiBfdHlwZXMsXG4gICAgICBjb252ZXJzaW9uczogX2NvbnZlcnNpb25zLFxuICAgICAgaWdub3JlOiBfaWdub3JlXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHRlc3QgZnVuY3Rpb24gZm9yIGEgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZVxuICAgICAqIEByZXR1cm4ge1R5cGVEZWZ9IFJldHVybnMgdGhlIHR5cGUgZGVmaW5pdGlvbiB3aGVuIGZvdW5kLFxuICAgICAqICAgICAgICAgICAgICAgICAgICBUaHJvd3MgYSBUeXBlRXJyb3Igb3RoZXJ3aXNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFR5cGVCeU5hbWUgKHR5cGVOYW1lKSB7XG4gICAgICB2YXIgZW50cnkgPSBmaW5kSW5BcnJheSh0eXBlZC50eXBlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSB0eXBlTmFtZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZU5hbWUgPT09ICdhbnknKSB7IC8vIHNwZWNpYWwgYmFrZWQtaW4gY2FzZSAnYW55J1xuICAgICAgICByZXR1cm4gYW55VHlwZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpbnQgPSBmaW5kSW5BcnJheSh0eXBlZC50eXBlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHR5cGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biB0eXBlIFwiJyArIHR5cGVOYW1lICsgJ1wiJyArXG4gICAgICAgICAgKGhpbnQgPyAoJy4gRGlkIHlvdSBtZWFuIFwiJyArIGhpbnQubmFtZSArICdcIj8nKSA6ICcnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgaW5kZXggb2YgYSB0eXBlIGRlZmluaXRpb24uIEhhbmRsZXMgc3BlY2lhbCBjYXNlICdhbnknXG4gICAgICogQHBhcmFtIHtUeXBlRGVmfSB0eXBlXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlSW5kZXgodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IGFueVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIDk5OTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGVkLnR5cGVzLmluZGV4T2YodHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHR5cGUgdGhhdCBtYXRjaGVzIGEgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgZmlyc3QgdHlwZSBmb3Igd2hpY2hcbiAgICAgKiAgICAgICAgICAgICAgICAgIHRoZSB0eXBlIHRlc3QgbWF0Y2hlcyB0aGUgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFR5cGVOYW1lKHZhbHVlKSB7XG4gICAgICB2YXIgZW50cnkgPSBmaW5kSW5BcnJheSh0eXBlZC50eXBlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS50ZXN0KHZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5Lm5hbWU7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIGhhcyB1bmtub3duIHR5cGUuIFZhbHVlOiAnICsgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBzcGVjaWZpYyBzaWduYXR1cmUgZnJvbSBhIChjb21wb3NlZCkgdHlwZWQgZnVuY3Rpb24sIGZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICB0eXBlZC5maW5kKGZuLCBbJ251bWJlcicsICdzdHJpbmcnXSlcbiAgICAgKiAgIHR5cGVkLmZpbmQoZm4sICdudW1iZXIsIHN0cmluZycpXG4gICAgICpcbiAgICAgKiBGdW5jdGlvbiBmaW5kIG9ubHkgb25seSB3b3JrcyBmb3IgZXhhY3QgbWF0Y2hlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuICAgICAgICAgICAgICAgICAgIEEgdHlwZWQtZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBzaWduYXR1cmUgICBTaWduYXR1cmUgdG8gYmUgZm91bmQsIGNhbiBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuIGFycmF5IG9yIGEgY29tbWEgc2VwYXJhdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gICAgICAgICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBtYXRjaGluZyBzaWduYXR1cmUsIG9yXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dzIGFuIGVycm9yIHdoZW4gbm8gc2lnbmF0dXJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgZm91bmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZCAoZm4sIHNpZ25hdHVyZSkge1xuICAgICAgaWYgKCFmbi5zaWduYXR1cmVzKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIGlzIG5vIHR5cGVkLWZ1bmN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIG5vcm1hbGl6ZSBpbnB1dFxuICAgICAgdmFyIGFycjtcbiAgICAgIGlmICh0eXBlb2Ygc2lnbmF0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICBhcnIgPSBzaWduYXR1cmUuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnJbaV0gPSBhcnJbaV0udHJpbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgYXJyID0gc2lnbmF0dXJlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBhcnJheSBvciBhIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0ciA9IGFyci5qb2luKCcsJyk7XG5cbiAgICAgIC8vIGZpbmQgYW4gZXhhY3QgbWF0Y2hcbiAgICAgIHZhciBtYXRjaCA9IGZuLnNpZ25hdHVyZXNbc3RyXTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IGV4dGVuZCBmaW5kIHRvIG1hdGNoIG5vbi1leGFjdCBzaWduYXR1cmVzXG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NpZ25hdHVyZSBub3QgZm91bmQgKHNpZ25hdHVyZTogJyArIChmbi5uYW1lIHx8ICd1bm5hbWVkJykgKyAnKCcgKyBhcnIuam9pbignLCAnKSArICcpKScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBnaXZlbiB2YWx1ZSB0byBhbm90aGVyIGRhdGEgdHlwZS5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb252ZXJ0ICh2YWx1ZSwgdHlwZSkge1xuICAgICAgdmFyIGZyb20gPSBmaW5kVHlwZU5hbWUodmFsdWUpO1xuXG4gICAgICAvLyBjaGVjayBjb252ZXJzaW9uIGlzIG5lZWRlZFxuICAgICAgaWYgKHR5cGUgPT09IGZyb20pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVkLmNvbnZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjb252ZXJzaW9uID0gdHlwZWQuY29udmVyc2lvbnNbaV07XG4gICAgICAgIGlmIChjb252ZXJzaW9uLmZyb20gPT09IGZyb20gJiYgY29udmVyc2lvbi50byA9PT0gdHlwZSkge1xuICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uLmNvbnZlcnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgZnJvbSAnICsgZnJvbSArICcgdG8gJyArIHR5cGUpO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTdHJpbmdpZnkgcGFyYW1ldGVycyBpbiBhIG5vcm1hbGl6ZWQgd2F5XG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5UGFyYW1zIChwYXJhbXMpIHtcbiAgICAgIHJldHVybiBwYXJhbXNcbiAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgdmFyIHR5cGVOYW1lcyA9IHBhcmFtLnR5cGVzLm1hcChnZXRUeXBlTmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiAocGFyYW0ucmVzdFBhcmFtID8gJy4uLicgOiAnJykgKyB0eXBlTmFtZXMuam9pbignfCcpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHBhcmFtZXRlciwgbGlrZSBcIi4uLm51bWJlciB8IGJvb2xlYW5cIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVxuICAgICAqIEBwYXJhbSB7Q29udmVyc2lvbkRlZltdfSBjb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge1BhcmFtfSBwYXJhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlUGFyYW0gKHBhcmFtLCBjb252ZXJzaW9ucykge1xuICAgICAgdmFyIHJlc3RQYXJhbSA9IHBhcmFtLmluZGV4T2YoJy4uLicpID09PSAwO1xuICAgICAgdmFyIHR5cGVzID0gKCFyZXN0UGFyYW0pXG4gICAgICAgICAgPyBwYXJhbVxuICAgICAgICAgIDogKHBhcmFtLmxlbmd0aCA+IDMpXG4gICAgICAgICAgICAgID8gcGFyYW0uc2xpY2UoMylcbiAgICAgICAgICAgICAgOiAnYW55JztcblxuICAgICAgdmFyIHR5cGVOYW1lcyA9IHR5cGVzLnNwbGl0KCd8JykubWFwKHRyaW0pXG4gICAgICAgICAgLmZpbHRlcihub3RFbXB0eSlcbiAgICAgICAgICAuZmlsdGVyKG5vdElnbm9yZSk7XG5cbiAgICAgIHZhciBtYXRjaGluZ0NvbnZlcnNpb25zID0gZmlsdGVyQ29udmVyc2lvbnMoY29udmVyc2lvbnMsIHR5cGVOYW1lcyk7XG5cbiAgICAgIHZhciBleGFjdFR5cGVzID0gdHlwZU5hbWVzLm1hcChmdW5jdGlvbiAodHlwZU5hbWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBmaW5kVHlwZUJ5TmFtZSh0eXBlTmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB0eXBlTmFtZSxcbiAgICAgICAgICB0eXBlSW5kZXg6IGZpbmRUeXBlSW5kZXgodHlwZSksXG4gICAgICAgICAgdGVzdDogdHlwZS50ZXN0LFxuICAgICAgICAgIGNvbnZlcnNpb246IG51bGwsXG4gICAgICAgICAgY29udmVyc2lvbkluZGV4OiAtMVxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjb252ZXJ0aWJsZVR5cGVzID0gbWF0Y2hpbmdDb252ZXJzaW9ucy5tYXAoZnVuY3Rpb24gKGNvbnZlcnNpb24pIHtcbiAgICAgICAgdmFyIHR5cGUgPSBmaW5kVHlwZUJ5TmFtZShjb252ZXJzaW9uLmZyb20pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogY29udmVyc2lvbi5mcm9tLFxuICAgICAgICAgIHR5cGVJbmRleDogZmluZFR5cGVJbmRleCh0eXBlKSxcbiAgICAgICAgICB0ZXN0OiB0eXBlLnRlc3QsXG4gICAgICAgICAgY29udmVyc2lvbjogY29udmVyc2lvbixcbiAgICAgICAgICBjb252ZXJzaW9uSW5kZXg6IGNvbnZlcnNpb25zLmluZGV4T2YoY29udmVyc2lvbilcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlczogZXhhY3RUeXBlcy5jb25jYXQoY29udmVydGlibGVUeXBlcyksXG4gICAgICAgIHJlc3RQYXJhbTogcmVzdFBhcmFtXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGEgc2lnbmF0dXJlIHdpdGggY29tbWEgc2VwYXJhdGVkIHBhcmFtZXRlcnMsXG4gICAgICogbGlrZSBcIm51bWJlciB8IGJvb2xlYW4sIC4uLnN0cmluZ1wiXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gICAgICogQHBhcmFtIHtDb252ZXJzaW9uRGVmW119IGNvbnZlcnNpb25zXG4gICAgICogQHJldHVybiB7U2lnbmF0dXJlIHwgbnVsbH0gc2lnbmF0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VTaWduYXR1cmUgKHNpZ25hdHVyZSwgZm4sIGNvbnZlcnNpb25zKSB7XG4gICAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICAgIGlmIChzaWduYXR1cmUudHJpbSgpICE9PSAnJykge1xuICAgICAgICBwYXJhbXMgPSBzaWduYXR1cmVcbiAgICAgICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgICAgICAubWFwKHRyaW0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwYXJhbSwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgICAgIHZhciBwYXJzZWRQYXJhbSA9IHBhcnNlUGFyYW0ocGFyYW0sIGNvbnZlcnNpb25zKTtcblxuICAgICAgICAgICAgICBpZiAocGFyc2VkUGFyYW0ucmVzdFBhcmFtICYmIChpbmRleCAhPT0gYXJyYXkubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuZXhwZWN0ZWQgcmVzdCBwYXJhbWV0ZXIgXCInICsgcGFyYW0gKyAnXCI6ICcgK1xuICAgICAgICAgICAgICAgICAgICAnb25seSBhbGxvd2VkIGZvciB0aGUgbGFzdCBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZWRQYXJhbTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5zb21lKGlzSW52YWxpZFBhcmFtKSkge1xuICAgICAgICAvLyBpbnZhbGlkIHNpZ25hdHVyZTogYXQgbGVhc3Qgb25lIHBhcmFtZXRlciBoYXMgbm8gdHlwZXNcbiAgICAgICAgLy8gKHRoZXkgbWF5IGhhdmUgYmVlbiBmaWx0ZXJlZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICBmbjogZm5cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgc2V0IG9mIHBhcmFtcyBjb250YWlucyBhIHJlc3RQYXJhbVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIGxhc3QgcGFyYW1ldGVyIGlzIGEgcmVzdFBhcmFtXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUmVzdFBhcmFtKHBhcmFtcykge1xuICAgICAgdmFyIHBhcmFtID0gbGFzdChwYXJhbXMpXG4gICAgICByZXR1cm4gcGFyYW0gPyBwYXJhbS5yZXN0UGFyYW0gOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBwYXJhbWV0ZXIgY29udGFpbnMgY29udmVyc2lvbnNcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGF0IGxlYXN0IG9uZSBvZiB0aGUgcGFyYW1ldGVyc1xuICAgICAqICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zIGEgY29udmVyc2lvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNDb252ZXJzaW9ucyhwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLnR5cGVzLnNvbWUoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUuY29udmVyc2lvbiAhPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHlwZSB0ZXN0IGZvciBhIHNpbmdsZSBwYXJhbWV0ZXIsIHdoaWNoIGNhbiBoYXZlIG9uZSBvciBtdWx0aXBsZVxuICAgICAqIHR5cGVzLlxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oeDogKikgOiBib29sZWFufSBSZXR1cm5zIGEgdGVzdCBmdW5jdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZXN0KHBhcmFtKSB7XG4gICAgICBpZiAoIXBhcmFtIHx8IHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIHJldHVybiBvaztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMF0ubmFtZSkudGVzdDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB2YXIgdGVzdDAgPSBmaW5kVHlwZUJ5TmFtZShwYXJhbS50eXBlc1swXS5uYW1lKS50ZXN0O1xuICAgICAgICB2YXIgdGVzdDEgPSBmaW5kVHlwZUJ5TmFtZShwYXJhbS50eXBlc1sxXS5uYW1lKS50ZXN0O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb3IoeCkge1xuICAgICAgICAgIHJldHVybiB0ZXN0MCh4KSB8fCB0ZXN0MSh4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7IC8vIHBhcmFtLnR5cGVzLmxlbmd0aCA+IDJcbiAgICAgICAgdmFyIHRlc3RzID0gcGFyYW0udHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbmRUeXBlQnlOYW1lKHR5cGUubmFtZSkudGVzdDtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9yKHgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGVzdHNbaV0oeCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRlc3QgZm9yIGFsbCBwYXJhbWV0ZXJzIG9mIGEgc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihhcmdzOiBBcnJheTwqPikgOiBib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZXN0cyhwYXJhbXMpIHtcbiAgICAgIHZhciB0ZXN0cywgdGVzdDAsIHRlc3QxO1xuXG4gICAgICBpZiAoaGFzUmVzdFBhcmFtKHBhcmFtcykpIHtcbiAgICAgICAgLy8gdmFyaWFibGUgYXJndW1lbnRzIGxpa2UgJy4uLm51bWJlcidcbiAgICAgICAgdGVzdHMgPSBpbml0aWFsKHBhcmFtcykubWFwKGNvbXBpbGVUZXN0KTtcbiAgICAgICAgdmFyIHZhckluZGV4ID0gdGVzdHMubGVuZ3RoO1xuICAgICAgICB2YXIgbGFzdFRlc3QgPSBjb21waWxlVGVzdChsYXN0KHBhcmFtcykpO1xuICAgICAgICB2YXIgdGVzdFJlc3RQYXJhbSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IHZhckluZGV4OyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFsYXN0VGVzdChhcmdzW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRlc3RzW2ldKGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRlc3RSZXN0UGFyYW0oYXJncykgJiYgKGFyZ3MubGVuZ3RoID49IHZhckluZGV4ICsgMSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gbm8gdmFyaWFibGUgYXJndW1lbnRzXG4gICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB0ZXN0MCA9IGNvbXBpbGVUZXN0KHBhcmFtc1swXSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0MChhcmdzWzBdKSAmJiBhcmdzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICB0ZXN0MCA9IGNvbXBpbGVUZXN0KHBhcmFtc1swXSk7XG4gICAgICAgICAgdGVzdDEgPSBjb21waWxlVGVzdChwYXJhbXNbMV0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdDAoYXJnc1swXSkgJiYgdGVzdDEoYXJnc1sxXSkgJiYgYXJncy5sZW5ndGggPT09IDI7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gYXJndW1lbnRzLmxlbmd0aCA+IDJcbiAgICAgICAgICB0ZXN0cyA9IHBhcmFtcy5tYXAoY29tcGlsZVRlc3QpO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICghdGVzdHNbaV0oYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gdGVzdHMubGVuZ3RoO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBwYXJhbWV0ZXIgYXQgYSBzcGVjaWZpYyBpbmRleCBvZiBhIHNpZ25hdHVyZS5cbiAgICAgKiBIYW5kbGVzIHJlc3QgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybiB7UGFyYW0gfCBudWxsfSBSZXR1cm5zIHRoZSBtYXRjaGluZyBwYXJhbWV0ZXIgd2hlbiBmb3VuZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5kZXggPCBzaWduYXR1cmUucGFyYW1zLmxlbmd0aFxuICAgICAgICAgID8gc2lnbmF0dXJlLnBhcmFtc1tpbmRleF1cbiAgICAgICAgICA6IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUucGFyYW1zKVxuICAgICAgICAgICAgICA/IGxhc3Qoc2lnbmF0dXJlLnBhcmFtcylcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCB0eXBlIG5hbWVzIG9mIGEgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZXhjbHVkZUNvbnZlcnNpb25zXG4gICAgICogQHJldHVybiB7c3RyaW5nW119IFJldHVybnMgYW4gYXJyYXkgd2l0aCB0eXBlIG5hbWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMgKHNpZ25hdHVyZSwgaW5kZXgsIGV4Y2x1ZGVDb252ZXJzaW9ucykge1xuICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1BdEluZGV4KHNpZ25hdHVyZSwgaW5kZXgpO1xuICAgICAgdmFyIHR5cGVzID0gcGFyYW1cbiAgICAgICAgICA/IGV4Y2x1ZGVDb252ZXJzaW9uc1xuICAgICAgICAgICAgICAgICAgPyBwYXJhbS50eXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICAgICAgICA6IHBhcmFtLnR5cGVzXG4gICAgICAgICAgOiBbXTtcblxuICAgICAgcmV0dXJuIHR5cGVzLm1hcChnZXRUeXBlTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge1R5cGV9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIHR5cGUgbmFtZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlLm5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgdHlwZSBpcyBhbiBleGFjdCB0eXBlIG9yIGNvbnZlcnNpb25cbiAgICAgKiBAcGFyYW0ge1R5cGV9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXhhY3RUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlLmNvbnZlcnNpb24gPT09IG51bGwgfHwgdHlwZS5jb252ZXJzaW9uID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBlcnJvciBtZXNzYWdlczogY3JlYXRlIGFuIGFycmF5IHdpdGhcbiAgICAgKiBhbGwgYXZhaWxhYmxlIHR5cGVzIG9uIGEgc3BlY2lmaWMgYXJndW1lbnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBSZXR1cm5zIGFuIGFycmF5IHdpdGggYXZhaWxhYmxlIHR5cGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VFeHBlY3RlZFBhcmFtcyhzaWduYXR1cmVzLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGVOYW1lcyA9IHVuaXEoZmxhdE1hcChzaWduYXR1cmVzLCBmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBnZXRFeHBlY3RlZFR5cGVOYW1lcyhzaWduYXR1cmUsIGluZGV4LCBmYWxzZSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiAodHlwZU5hbWVzLmluZGV4T2YoJ2FueScpICE9PSAtMSkgPyBbJ2FueSddIDogdHlwZU5hbWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7YXJyYXkuPCo+fSBhcmdzICAgICAgICAgIFRoZSBhY3R1YWwgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZVtdfSBzaWduYXR1cmVzICBBIGxpc3Qgd2l0aCBhdmFpbGFibGUgc2lnbmF0dXJlc1xuICAgICAqIEByZXR1cm4ge1R5cGVFcnJvcn0gUmV0dXJucyBhIHR5cGUgZXJyb3Igd2l0aCBhZGRpdGlvbmFsIGRhdGFcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkIHRvIGl0IGluIHRoZSBwcm9wZXJ0eSBgZGF0YWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVFcnJvcihuYW1lLCBhcmdzLCBzaWduYXR1cmVzKSB7XG4gICAgICB2YXIgZXJyLCBleHBlY3RlZDtcbiAgICAgIHZhciBfbmFtZSA9IG5hbWUgfHwgJ3VubmFtZWQnO1xuXG4gICAgICAvLyB0ZXN0IGZvciB3cm9uZyB0eXBlIGF0IHNvbWUgaW5kZXhcbiAgICAgIHZhciBtYXRjaGluZ1NpZ25hdHVyZXMgPSBzaWduYXR1cmVzO1xuICAgICAgdmFyIGluZGV4O1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgYXJncy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIG5leHRNYXRjaGluZ0RlZnMgPSBtYXRjaGluZ1NpZ25hdHVyZXMuZmlsdGVyKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgICB2YXIgdGVzdCA9IGNvbXBpbGVUZXN0KGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KSk7XG4gICAgICAgICAgcmV0dXJuIChpbmRleCA8IHNpZ25hdHVyZS5wYXJhbXMubGVuZ3RoIHx8IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUucGFyYW1zKSkgJiZcbiAgICAgICAgICAgICAgdGVzdChhcmdzW2luZGV4XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChuZXh0TWF0Y2hpbmdEZWZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIG5vIG1hdGNoaW5nIHNpZ25hdHVyZXMgYW55bW9yZSwgdGhyb3cgZXJyb3IgXCJ3cm9uZyB0eXBlXCJcbiAgICAgICAgICBleHBlY3RlZCA9IG1lcmdlRXhwZWN0ZWRQYXJhbXMobWF0Y2hpbmdTaWduYXR1cmVzLCBpbmRleCk7XG4gICAgICAgICAgaWYgKGV4cGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhY3R1YWxUeXBlID0gZmluZFR5cGVOYW1lKGFyZ3NbaW5kZXhdKTtcblxuICAgICAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCB0eXBlIG9mIGFyZ3VtZW50IGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAgICAgJyAoZXhwZWN0ZWQ6ICcgKyBleHBlY3RlZC5qb2luKCcgb3IgJykgK1xuICAgICAgICAgICAgICAgICcsIGFjdHVhbDogJyArIGFjdHVhbFR5cGUgKyAnLCBpbmRleDogJyArIGluZGV4ICsgJyknKTtcbiAgICAgICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgICAgICBjYXRlZ29yeTogJ3dyb25nVHlwZScsXG4gICAgICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbFR5cGUsXG4gICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbWF0Y2hpbmdTaWduYXR1cmVzID0gbmV4dE1hdGNoaW5nRGVmcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB0ZXN0IGZvciB0b28gZmV3IGFyZ3VtZW50c1xuICAgICAgdmFyIGxlbmd0aHMgPSBtYXRjaGluZ1NpZ25hdHVyZXMubWFwKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGhhc1Jlc3RQYXJhbShzaWduYXR1cmUucGFyYW1zKSA/IEluZmluaXR5IDogc2lnbmF0dXJlLnBhcmFtcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IE1hdGgubWluLmFwcGx5KG51bGwsIGxlbmd0aHMpKSB7XG4gICAgICAgIGV4cGVjdGVkID0gbWVyZ2VFeHBlY3RlZFBhcmFtcyhtYXRjaGluZ1NpZ25hdHVyZXMsIGluZGV4KTtcbiAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignVG9vIGZldyBhcmd1bWVudHMgaW4gZnVuY3Rpb24gJyArIF9uYW1lICtcbiAgICAgICAgICAgICcgKGV4cGVjdGVkOiAnICsgZXhwZWN0ZWQuam9pbignIG9yICcpICtcbiAgICAgICAgICAgICcsIGluZGV4OiAnICsgYXJncy5sZW5ndGggKyAnKScpO1xuICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICBjYXRlZ29yeTogJ3Rvb0Zld0FyZ3MnLFxuICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICBpbmRleDogYXJncy5sZW5ndGgsXG4gICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgIH1cblxuICAgICAgLy8gdGVzdCBmb3IgdG9vIG1hbnkgYXJndW1lbnRzXG4gICAgICB2YXIgbWF4TGVuZ3RoID0gTWF0aC5tYXguYXBwbHkobnVsbCwgbGVuZ3Rocyk7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignVG9vIG1hbnkgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAnIChleHBlY3RlZDogJyArIG1heExlbmd0aCArICcsIGFjdHVhbDogJyArIGFyZ3MubGVuZ3RoICsgJyknKTtcbiAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgY2F0ZWdvcnk6ICd0b29NYW55QXJncycsXG4gICAgICAgICAgZm46IF9uYW1lLFxuICAgICAgICAgIGluZGV4OiBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBleHBlY3RlZExlbmd0aDogbWF4TGVuZ3RoXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgIH1cblxuICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG9mIHR5cGUgXCInICsgYXJncy5qb2luKCcsICcpICtcbiAgICAgICAgICAnXCIgZG8gbm90IG1hdGNoIGFueSBvZiB0aGUgZGVmaW5lZCBzaWduYXR1cmVzIG9mIGZ1bmN0aW9uICcgKyBfbmFtZSArICcuJyk7XG4gICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgY2F0ZWdvcnk6ICdtaXNtYXRjaCcsXG4gICAgICAgIGFjdHVhbDogYXJncy5tYXAoZmluZFR5cGVOYW1lKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBsb3dlc3QgaW5kZXggb2YgYWxsIGV4YWN0IHR5cGVzIG9mIGEgcGFyYW1ldGVyIChubyBjb252ZXJzaW9ucylcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxvd2VzdCB0eXBlIGluIHR5cGVkLnR5cGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TG93ZXN0VHlwZUluZGV4IChwYXJhbSkge1xuICAgICAgdmFyIG1pbiA9IDk5OTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbS50eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNFeGFjdFR5cGUocGFyYW0udHlwZXNbaV0pKSB7XG4gICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBwYXJhbS50eXBlc1tpXS50eXBlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbG93ZXN0IGluZGV4IG9mIHRoZSBjb252ZXJzaW9uIG9mIGFsbCB0eXBlcyBvZiB0aGUgcGFyYW1ldGVyXG4gICAgICogaGF2aW5nIGEgY29udmVyc2lvblxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSBsb3dlc3QgaW5kZXggb2YgdGhlIGNvbnZlcnNpb25zIG9mIHRoaXMgdHlwZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExvd2VzdENvbnZlcnNpb25JbmRleCAocGFyYW0pIHtcbiAgICAgIHZhciBtaW4gPSA5OTk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW0udHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpc0V4YWN0VHlwZShwYXJhbS50eXBlc1tpXSkpIHtcbiAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHBhcmFtLnR5cGVzW2ldLmNvbnZlcnNpb25JbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbTFcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbTJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHJldHVybnMgYSBuZWdhdGl2ZSBudW1iZXIgd2hlbiBwYXJhbTEgbXVzdCBnZXQgYSBsb3dlclxuICAgICAqICAgICAgICAgICAgICAgICAgaW5kZXggdGhhbiBwYXJhbTIsIGEgcG9zaXRpdmUgbnVtYmVyIHdoZW4gdGhlIG9wcG9zaXRlLFxuICAgICAqICAgICAgICAgICAgICAgICAgb3IgemVybyB3aGVuIGJvdGggYXJlIGVxdWFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZVBhcmFtcyAocGFyYW0xLCBwYXJhbTIpIHtcbiAgICAgIHZhciBjO1xuXG4gICAgICAvLyBjb21wYXJlIGhhdmluZyBhIHJlc3QgcGFyYW1ldGVyIG9yIG5vdFxuICAgICAgYyA9IHBhcmFtMS5yZXN0UGFyYW0gLSBwYXJhbTIucmVzdFBhcmFtO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgaGF2aW5nIGNvbnZlcnNpb25zIG9yIG5vdFxuICAgICAgYyA9IGhhc0NvbnZlcnNpb25zKHBhcmFtMSkgLSBoYXNDb252ZXJzaW9ucyhwYXJhbTIpO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIGluZGV4IG9mIHRoZSB0eXBlc1xuICAgICAgYyA9IGdldExvd2VzdFR5cGVJbmRleChwYXJhbTEpIC0gZ2V0TG93ZXN0VHlwZUluZGV4KHBhcmFtMik7XG4gICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gYztcbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgaW5kZXggb2YgYW55IGNvbnZlcnNpb25cbiAgICAgIHJldHVybiBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXgocGFyYW0xKSAtIGdldExvd2VzdENvbnZlcnNpb25JbmRleChwYXJhbTIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmUgdHdvIHNpZ25hdHVyZXNcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMVxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmUyXG4gICAgICogQHJldHVybiB7bnVtYmVyfSByZXR1cm5zIGEgbmVnYXRpdmUgbnVtYmVyIHdoZW4gcGFyYW0xIG11c3QgZ2V0IGEgbG93ZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgIGluZGV4IHRoYW4gcGFyYW0yLCBhIHBvc2l0aXZlIG51bWJlciB3aGVuIHRoZSBvcHBvc2l0ZSxcbiAgICAgKiAgICAgICAgICAgICAgICAgIG9yIHplcm8gd2hlbiBib3RoIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVTaWduYXR1cmVzIChzaWduYXR1cmUxLCBzaWduYXR1cmUyKSB7XG4gICAgICB2YXIgbGVuID0gTWF0aC5taW4oc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoLCBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGgpO1xuICAgICAgdmFyIGk7XG4gICAgICB2YXIgYztcblxuICAgICAgLy8gY29tcGFyZSB3aGV0aGVyIHRoZSBwYXJhbXMgaGF2ZSBjb252ZXJzaW9ucyBhdCBhbGwgb3Igbm90XG4gICAgICBjID0gc2lnbmF0dXJlMS5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucykgLSBzaWduYXR1cmUyLnBhcmFtcy5zb21lKGhhc0NvbnZlcnNpb25zKVxuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIG5leHQgY29tcGFyZSB3aGV0aGVyIHRoZSBwYXJhbXMgaGF2ZSBjb252ZXJzaW9ucyBvbmUgYnkgb25lXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYyA9IGhhc0NvbnZlcnNpb25zKHNpZ25hdHVyZTEucGFyYW1zW2ldKSAtIGhhc0NvbnZlcnNpb25zKHNpZ25hdHVyZTIucGFyYW1zW2ldKTtcbiAgICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSB0eXBlcyBvZiB0aGUgcGFyYW1zIG9uZSBieSBvbmVcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjID0gY29tcGFyZVBhcmFtcyhzaWduYXR1cmUxLnBhcmFtc1tpXSwgc2lnbmF0dXJlMi5wYXJhbXNbaV0pO1xuICAgICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIG51bWJlciBvZiBwYXJhbXNcbiAgICAgIHJldHVybiBzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGggLSBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBhcmFtcyBjb250YWluaW5nIGFsbCB0eXBlcyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gdGhlIGRlZmluZWQgdHlwZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbnZlcnNpb25EZWZbXX0gY29udmVyc2lvbnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB0eXBlTmFtZXNcbiAgICAgKiBAcmV0dXJuIHtDb252ZXJzaW9uRGVmW119IFJldHVybnMgdGhlIGNvbnZlcnNpb25zIHRoYXQgYXJlIGF2YWlsYWJsZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGV2ZXJ5IHR5cGUgKGlmIGFueSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXJDb252ZXJzaW9ucyhjb252ZXJzaW9ucywgdHlwZU5hbWVzKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9IHt9O1xuXG4gICAgICBjb252ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICAgIGlmICh0eXBlTmFtZXMuaW5kZXhPZihjb252ZXJzaW9uLmZyb20pID09PSAtMSAmJlxuICAgICAgICAgICAgdHlwZU5hbWVzLmluZGV4T2YoY29udmVyc2lvbi50bykgIT09IC0xICYmXG4gICAgICAgICAgICAhbWF0Y2hlc1tjb252ZXJzaW9uLmZyb21dKSB7XG4gICAgICAgICAgbWF0Y2hlc1tjb252ZXJzaW9uLmZyb21dID0gY29udmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXRjaGVzKS5tYXAoZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNbZnJvbV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwcm9jZXNzIGFyZ3VtZW50cyBiZWZvcmUgY2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb246XG4gICAgICogLSBpZiBuZWVkZWQgY29udmVydCB0aGUgcGFyYW1ldGVyc1xuICAgICAqIC0gaW4gY2FzZSBvZiByZXN0IHBhcmFtZXRlcnMsIG1vdmUgdGhlIHJlc3QgcGFyYW1ldGVycyBpbnRvIGFuIEFycmF5XG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgd3JhcHBlZCBmdW5jdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVBcmdzUHJlcHJvY2Vzc2luZyhwYXJhbXMsIGZuKSB7XG4gICAgICB2YXIgZm5Db252ZXJ0ID0gZm47XG5cbiAgICAgIC8vIFRPRE86IGNhbiB3ZSBtYWtlIHRoaXMgd3JhcHBlciBmdW5jdGlvbiBzbWFydGVyL3NpbXBsZXI/XG5cbiAgICAgIGlmIChwYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucykpIHtcbiAgICAgICAgdmFyIHJlc3RQYXJhbSA9IGhhc1Jlc3RQYXJhbShwYXJhbXMpO1xuICAgICAgICB2YXIgY29tcGlsZWRDb252ZXJzaW9ucyA9IHBhcmFtcy5tYXAoY29tcGlsZUFyZ0NvbnZlcnNpb24pXG5cbiAgICAgICAgZm5Db252ZXJ0ID0gZnVuY3Rpb24gY29udmVydEFyZ3MoKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICB2YXIgbGFzdCA9IHJlc3RQYXJhbSA/IGFyZ3VtZW50cy5sZW5ndGggLSAxIDogYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3Q7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpXSA9IGNvbXBpbGVkQ29udmVyc2lvbnNbaV0oYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3RQYXJhbSkge1xuICAgICAgICAgICAgYXJnc1tsYXN0XSA9IGFyZ3VtZW50c1tsYXN0XS5tYXAoY29tcGlsZWRDb252ZXJzaW9uc1tsYXN0XSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBmblByZXByb2Nlc3MgPSBmbkNvbnZlcnQ7XG4gICAgICBpZiAoaGFzUmVzdFBhcmFtKHBhcmFtcykpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHBhcmFtcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZuUHJlcHJvY2VzcyA9IGZ1bmN0aW9uIHByZXByb2Nlc3NSZXN0UGFyYW1zICgpIHtcbiAgICAgICAgICByZXR1cm4gZm5Db252ZXJ0LmFwcGx5KHRoaXMsXG4gICAgICAgICAgICAgIHNsaWNlKGFyZ3VtZW50cywgMCwgb2Zmc2V0KS5jb25jYXQoW3NsaWNlKGFyZ3VtZW50cywgb2Zmc2V0KV0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm5QcmVwcm9jZXNzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgY29udmVyc2lvbiBmb3IgYSBwYXJhbWV0ZXIgdG8gdGhlIHJpZ2h0IHR5cGVcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHRoYXQgd2lsbCBjb252ZXJ0IGFyZ3VtZW50c1xuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZUFyZ0NvbnZlcnNpb24ocGFyYW0pIHtcbiAgICAgIHZhciB0ZXN0MCwgdGVzdDEsIGNvbnZlcnNpb24wLCBjb252ZXJzaW9uMTtcbiAgICAgIHZhciB0ZXN0cyA9IFtdO1xuICAgICAgdmFyIGNvbnZlcnNpb25zID0gW107XG5cbiAgICAgIHBhcmFtLnR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUuY29udmVyc2lvbikge1xuICAgICAgICAgIHRlc3RzLnB1c2goZmluZFR5cGVCeU5hbWUodHlwZS5jb252ZXJzaW9uLmZyb20pLnRlc3QpO1xuICAgICAgICAgIGNvbnZlcnNpb25zLnB1c2godHlwZS5jb252ZXJzaW9uLmNvbnZlcnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gY3JlYXRlIG9wdGltaXplZCBjb252ZXJzaW9uIGZ1bmN0aW9ucyBkZXBlbmRpbmcgb24gdGhlIG51bWJlciBvZiBjb252ZXJzaW9uc1xuICAgICAgc3dpdGNoIChjb252ZXJzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjb252ZXJ0QXJnKGFyZykge1xuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRlc3QwID0gdGVzdHNbMF1cbiAgICAgICAgICBjb252ZXJzaW9uMCA9IGNvbnZlcnNpb25zWzBdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjb252ZXJ0QXJnKGFyZykge1xuICAgICAgICAgICAgaWYgKHRlc3QwKGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24wKGFyZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB0ZXN0MCA9IHRlc3RzWzBdXG4gICAgICAgICAgdGVzdDEgPSB0ZXN0c1sxXVxuICAgICAgICAgIGNvbnZlcnNpb24wID0gY29udmVyc2lvbnNbMF07XG4gICAgICAgICAgY29udmVyc2lvbjEgPSBjb252ZXJzaW9uc1sxXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGlmICh0ZXN0MChhcmcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uMChhcmcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGVzdDEoYXJnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbjEoYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udmVyc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRlc3RzW2ldKGFyZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbnNbaV0oYXJnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbiBhcnJheSB3aXRoIHNpZ25hdHVyZXMgaW50byBhIG1hcCB3aXRoIHNpZ25hdHVyZXMsXG4gICAgICogd2hlcmUgc2lnbmF0dXJlcyB3aXRoIHVuaW9uIHR5cGVzIGFyZSBzcGxpdCBpbnRvIHNlcGFyYXRlIHNpZ25hdHVyZXNcbiAgICAgKlxuICAgICAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoZXJlIGFyZSBjb25mbGljdGluZyB0eXBlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlc1xuICAgICAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICBSZXR1cm5zIGEgbWFwIHdpdGggc2lnbmF0dXJlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBrZXkgYW5kIHRoZSBvcmlnaW5hbCBmdW5jdGlvblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGlzIHNpZ25hdHVyZSBhcyB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVTaWduYXR1cmVzTWFwKHNpZ25hdHVyZXMpIHtcbiAgICAgIHZhciBzaWduYXR1cmVzTWFwID0ge307XG4gICAgICBzaWduYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICBpZiAoIXNpZ25hdHVyZS5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucykpIHtcbiAgICAgICAgICBzcGxpdFBhcmFtcyhzaWduYXR1cmUucGFyYW1zLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZXNNYXBbc3RyaW5naWZ5UGFyYW1zKHBhcmFtcyldID0gc2lnbmF0dXJlLmZuO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNpZ25hdHVyZXNNYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BsaXQgcGFyYW1zIHdpdGggdW5pb24gdHlwZXMgaW4gdG8gc2VwYXJhdGUgcGFyYW1zLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgICAgc3BsaXRQYXJhbXMoW1snQXJyYXknLCAnT2JqZWN0J10sIFsnc3RyaW5nJywgJ1JlZ0V4cCddKVxuICAgICAqICAgICAvLyByZXR1cm5zOlxuICAgICAqICAgICAvLyBbXG4gICAgICogICAgIC8vICAgWydBcnJheScsICdzdHJpbmcnXSxcbiAgICAgKiAgICAgLy8gICBbJ0FycmF5JywgJ1JlZ0V4cCddLFxuICAgICAqICAgICAvLyAgIFsnT2JqZWN0JywgJ3N0cmluZyddLFxuICAgICAqICAgICAvLyAgIFsnT2JqZWN0JywgJ1JlZ0V4cCddXG4gICAgICogICAgIC8vIF1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpZ25vcmVDb252ZXJzaW9uVHlwZXNcbiAgICAgKiBAcmV0dXJuIHtQYXJhbVtdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0UGFyYW1zKHBhcmFtcywgaWdub3JlQ29udmVyc2lvblR5cGVzKSB7XG4gICAgICBmdW5jdGlvbiBfc3BsaXRQYXJhbXMocGFyYW1zLCBpbmRleCwgdHlwZXMpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgcGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1tpbmRleF1cbiAgICAgICAgICB2YXIgZmlsdGVyZWRUeXBlcyA9IGlnbm9yZUNvbnZlcnNpb25UeXBlc1xuICAgICAgICAgICAgICA/IHBhcmFtLnR5cGVzLmZpbHRlcihpc0V4YWN0VHlwZSlcbiAgICAgICAgICAgICAgOiBwYXJhbS50eXBlcztcbiAgICAgICAgICB2YXIgdHlwZUdyb3Vwc1xuXG4gICAgICAgICAgaWYgKHBhcmFtLnJlc3RQYXJhbSkge1xuICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHR5cGVzIG9mIGEgcmVzdCBwYXJhbWV0ZXIgaW4gdHdvOlxuICAgICAgICAgICAgLy8gb25lIHdpdGggb25seSBleGFjdCB0eXBlcywgYW5kIG9uZSB3aXRoIGV4YWN0IHR5cGVzIGFuZCBjb252ZXJzaW9uc1xuICAgICAgICAgICAgdmFyIGV4YWN0VHlwZXMgPSBmaWx0ZXJlZFR5cGVzLmZpbHRlcihpc0V4YWN0VHlwZSlcbiAgICAgICAgICAgIHR5cGVHcm91cHMgPSBleGFjdFR5cGVzLmxlbmd0aCA8IGZpbHRlcmVkVHlwZXMubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBbZXhhY3RUeXBlcywgZmlsdGVyZWRUeXBlc11cbiAgICAgICAgICAgICAgICA6IFtmaWx0ZXJlZFR5cGVzXVxuXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3BsaXQgYWxsIHRoZSB0eXBlcyBvZiBhIHJlZ3VsYXIgcGFyYW1ldGVyIGludG8gb25lIHR5cGUgcGVyIGdyb3VwXG4gICAgICAgICAgICB0eXBlR3JvdXBzID0gZmlsdGVyZWRUeXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFt0eXBlXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZWN1cnNlIG92ZXIgdGhlIGdyb3VwcyB3aXRoIHR5cGVzXG4gICAgICAgICAgcmV0dXJuIGZsYXRNYXAodHlwZUdyb3VwcywgZnVuY3Rpb24gKHR5cGVHcm91cCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zcGxpdFBhcmFtcyhwYXJhbXMsIGluZGV4ICsgMSwgdHlwZXMuY29uY2F0KFt0eXBlR3JvdXBdKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyB3ZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHBhcmFtZXRlcnMuIE5vdyBidWlsZCBhIG5ldyBQYXJhbVxuICAgICAgICAgIHZhciBzcGxpdHRlZFBhcmFtcyA9IHR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSwgdHlwZUluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlczogdHlwZSxcbiAgICAgICAgICAgICAgcmVzdFBhcmFtOiAodHlwZUluZGV4ID09PSBwYXJhbXMubGVuZ3RoIC0gMSkgJiYgaGFzUmVzdFBhcmFtKHBhcmFtcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBbc3BsaXR0ZWRQYXJhbXNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfc3BsaXRQYXJhbXMocGFyYW1zLCAwLCBbXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBzaWduYXR1cmVzIGhhdmUgYSBjb25mbGljdGluZyBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMVxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmUyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHNpZ25hdHVyZXMgY29uZmxpY3QsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNDb25mbGljdGluZ1BhcmFtcyhzaWduYXR1cmUxLCBzaWduYXR1cmUyKSB7XG4gICAgICB2YXIgaWkgPSBNYXRoLm1heChzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGgsIHNpZ25hdHVyZTIucGFyYW1zLmxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgdHlwZXNOYW1lczEgPSBnZXRFeHBlY3RlZFR5cGVOYW1lcyhzaWduYXR1cmUxLCBpLCB0cnVlKTtcbiAgICAgICAgdmFyIHR5cGVzTmFtZXMyID0gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlMiwgaSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKCFoYXNPdmVybGFwKHR5cGVzTmFtZXMxLCB0eXBlc05hbWVzMikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGxlbjEgPSBzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGg7XG4gICAgICB2YXIgbGVuMiA9IHNpZ25hdHVyZTIucGFyYW1zLmxlbmd0aDtcbiAgICAgIHZhciByZXN0UGFyYW0xID0gaGFzUmVzdFBhcmFtKHNpZ25hdHVyZTEucGFyYW1zKTtcbiAgICAgIHZhciByZXN0UGFyYW0yID0gaGFzUmVzdFBhcmFtKHNpZ25hdHVyZTIucGFyYW1zKTtcblxuICAgICAgcmV0dXJuIHJlc3RQYXJhbTFcbiAgICAgICAgICA/IHJlc3RQYXJhbTIgPyAobGVuMSA9PT0gbGVuMikgOiAobGVuMiA+PSBsZW4xKVxuICAgICAgICAgIDogcmVzdFBhcmFtMiA/IChsZW4xID49IGxlbjIpICA6IChsZW4xID09PSBsZW4yKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgICAgICAgICAgICAgICBUaGUgbmFtZSBmb3IgdGhlIHR5cGVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSBzaWduYXR1cmVzTWFwXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbiBvYmplY3Qgd2l0aCBvbmUgb3JcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlIHNpZ25hdHVyZXMgYXMga2V5LCBhbmQgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlIGFzIHZhbHVlLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSAgUmV0dXJucyB0aGUgY3JlYXRlZCB0eXBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIHNpZ25hdHVyZXNNYXApIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzaWduYXR1cmVzTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdObyBzaWduYXR1cmVzIHByb3ZpZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBhcnNlIHRoZSBzaWduYXR1cmVzLCBhbmQgY2hlY2sgZm9yIGNvbmZsaWN0c1xuICAgICAgdmFyIHBhcnNlZFNpZ25hdHVyZXMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKHNpZ25hdHVyZXNNYXApXG4gICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VTaWduYXR1cmUoc2lnbmF0dXJlLCBzaWduYXR1cmVzTWFwW3NpZ25hdHVyZV0sIHR5cGVkLmNvbnZlcnNpb25zKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIobm90TnVsbClcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAocGFyc2VkU2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoaXMgcGFyYW1ldGVyIGNvbmZsaWN0cyB3aXRoIGFscmVhZHkgcGFyc2VkIHNpZ25hdHVyZXNcbiAgICAgICAgICAgIHZhciBjb25mbGljdGluZ1NpZ25hdHVyZSA9IGZpbmRJbkFycmF5KHBhcnNlZFNpZ25hdHVyZXMsIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYXNDb25mbGljdGluZ1BhcmFtcyhzLCBwYXJzZWRTaWduYXR1cmUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjb25mbGljdGluZ1NpZ25hdHVyZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb25mbGljdGluZyBzaWduYXR1cmVzIFwiJyArXG4gICAgICAgICAgICAgICAgICBzdHJpbmdpZnlQYXJhbXMoY29uZmxpY3RpbmdTaWduYXR1cmUucGFyYW1zKSArICdcIiBhbmQgXCInICtcbiAgICAgICAgICAgICAgICAgIHN0cmluZ2lmeVBhcmFtcyhwYXJzZWRTaWduYXR1cmUucGFyYW1zKSArICdcIi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyc2VkU2lnbmF0dXJlcy5wdXNoKHBhcnNlZFNpZ25hdHVyZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgIC8vIHNwbGl0IGFuZCBmaWx0ZXIgdGhlIHR5cGVzIG9mIHRoZSBzaWduYXR1cmVzLCBhbmQgdGhlbiBvcmRlciB0aGVtXG4gICAgICB2YXIgc2lnbmF0dXJlcyA9IGZsYXRNYXAocGFyc2VkU2lnbmF0dXJlcywgZnVuY3Rpb24gKHBhcnNlZFNpZ25hdHVyZSkge1xuICAgICAgICB2YXIgcGFyYW1zID0gcGFyc2VkU2lnbmF0dXJlID8gc3BsaXRQYXJhbXMocGFyc2VkU2lnbmF0dXJlLnBhcmFtcywgZmFsc2UpIDogW11cblxuICAgICAgICByZXR1cm4gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgICAgZm46IHBhcnNlZFNpZ25hdHVyZS5mblxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSkuZmlsdGVyKG5vdE51bGwpO1xuXG4gICAgICBzaWduYXR1cmVzLnNvcnQoY29tcGFyZVNpZ25hdHVyZXMpO1xuXG4gICAgICAvLyB3ZSBjcmVhdGUgYSBoaWdobHkgb3B0aW1pemVkIGNoZWNrcyBmb3IgdGhlIGZpcnN0IGNvdXBsZSBvZiBzaWduYXR1cmVzIHdpdGggbWF4IDIgYXJndW1lbnRzXG4gICAgICB2YXIgb2swID0gc2lnbmF0dXJlc1swXSAmJiBzaWduYXR1cmVzWzBdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbMF0ucGFyYW1zKTtcbiAgICAgIHZhciBvazEgPSBzaWduYXR1cmVzWzFdICYmIHNpZ25hdHVyZXNbMV0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1sxXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rMiA9IHNpZ25hdHVyZXNbMl0gJiYgc2lnbmF0dXJlc1syXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzJdLnBhcmFtcyk7XG4gICAgICB2YXIgb2szID0gc2lnbmF0dXJlc1szXSAmJiBzaWduYXR1cmVzWzNdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbM10ucGFyYW1zKTtcbiAgICAgIHZhciBvazQgPSBzaWduYXR1cmVzWzRdICYmIHNpZ25hdHVyZXNbNF0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1s0XS5wYXJhbXMpO1xuICAgICAgdmFyIG9rNSA9IHNpZ25hdHVyZXNbNV0gJiYgc2lnbmF0dXJlc1s1XS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzVdLnBhcmFtcyk7XG4gICAgICB2YXIgYWxsT2sgPSBvazAgJiYgb2sxICYmIG9rMiAmJiBvazMgJiYgb2s0ICYmIG9rNTtcblxuICAgICAgLy8gY29tcGlsZSB0aGUgdGVzdHNcbiAgICAgIHZhciB0ZXN0cyA9IHNpZ25hdHVyZXMubWFwKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVUZXN0cyhzaWduYXR1cmUucGFyYW1zKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdGVzdDAwID0gb2swID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1swXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDEwID0gb2sxID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1sxXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDIwID0gb2syID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1syXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDMwID0gb2szID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1szXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDQwID0gb2s0ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s0XS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDUwID0gb2s1ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s1XS5wYXJhbXNbMF0pIDogbm90T2s7XG5cbiAgICAgIHZhciB0ZXN0MDEgPSBvazAgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzBdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MTEgPSBvazEgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzFdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MjEgPSBvazIgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzJdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MzEgPSBvazMgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzNdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0NDEgPSBvazQgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzRdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0NTEgPSBvazUgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzVdLnBhcmFtc1sxXSkgOiBub3RPaztcblxuICAgICAgLy8gY29tcGlsZSB0aGUgZnVuY3Rpb25zXG4gICAgICB2YXIgZm5zID0gc2lnbmF0dXJlcy5tYXAoZnVuY3Rpb24oc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlQXJnc1ByZXByb2Nlc3Npbmcoc2lnbmF0dXJlLnBhcmFtcywgc2lnbmF0dXJlLmZuKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZm4wID0gb2swID8gZm5zWzBdIDogdW5kZWY7XG4gICAgICB2YXIgZm4xID0gb2sxID8gZm5zWzFdIDogdW5kZWY7XG4gICAgICB2YXIgZm4yID0gb2syID8gZm5zWzJdIDogdW5kZWY7XG4gICAgICB2YXIgZm4zID0gb2szID8gZm5zWzNdIDogdW5kZWY7XG4gICAgICB2YXIgZm40ID0gb2s0ID8gZm5zWzRdIDogdW5kZWY7XG4gICAgICB2YXIgZm41ID0gb2s1ID8gZm5zWzVdIDogdW5kZWY7XG5cbiAgICAgIHZhciBsZW4wID0gb2swID8gc2lnbmF0dXJlc1swXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuMSA9IG9rMSA/IHNpZ25hdHVyZXNbMV0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjIgPSBvazIgPyBzaWduYXR1cmVzWzJdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW4zID0gb2szID8gc2lnbmF0dXJlc1szXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuNCA9IG9rNCA/IHNpZ25hdHVyZXNbNF0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjUgPSBvazUgPyBzaWduYXR1cmVzWzVdLnBhcmFtcy5sZW5ndGggOiAtMTtcblxuICAgICAgLy8gc2ltcGxlIGFuZCBnZW5lcmljLCBidXQgYWxzbyBzbG93XG4gICAgICB2YXIgaVN0YXJ0ID0gYWxsT2sgPyA2IDogMDtcbiAgICAgIHZhciBpRW5kID0gc2lnbmF0dXJlcy5sZW5ndGg7XG4gICAgICB2YXIgZ2VuZXJpYyA9IGZ1bmN0aW9uIGdlbmVyaWMoKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICBmb3IgKHZhciBpID0gaVN0YXJ0OyBpIDwgaUVuZDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRlc3RzW2ldKGFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmbnNbaV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihuYW1lLCBhcmd1bWVudHMsIHNpZ25hdHVyZXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBjcmVhdGUgdGhlIHR5cGVkIGZ1bmN0aW9uXG4gICAgICAvLyBmYXN0LCBzcGVjaWFsaXplZCB2ZXJzaW9uLiBGYWxscyBiYWNrIHRvIHRoZSBzbG93ZXIsIGdlbmVyaWMgb25lIGlmIG5lZWRlZFxuICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oYXJnMCwgYXJnMSkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjAgJiYgdGVzdDAwKGFyZzApICYmIHRlc3QwMShhcmcxKSkgeyByZXR1cm4gZm4wLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4xICYmIHRlc3QxMChhcmcwKSAmJiB0ZXN0MTEoYXJnMSkpIHsgcmV0dXJuIGZuMS5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMiAmJiB0ZXN0MjAoYXJnMCkgJiYgdGVzdDIxKGFyZzEpKSB7IHJldHVybiBmbjIuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjMgJiYgdGVzdDMwKGFyZzApICYmIHRlc3QzMShhcmcxKSkgeyByZXR1cm4gZm4zLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW40ICYmIHRlc3Q0MChhcmcwKSAmJiB0ZXN0NDEoYXJnMSkpIHsgcmV0dXJuIGZuNC5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuNSAmJiB0ZXN0NTAoYXJnMCkgJiYgdGVzdDUxKGFyZzEpKSB7IHJldHVybiBmbjUuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cblxuICAgICAgICByZXR1cm4gZ2VuZXJpYy5hcHBseShmbiwgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIG5hbWUgdGhlIHR5cGVkIGZ1bmN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlOiBuYW1lfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIG9sZCBicm93c2VycyBkbyBub3Qgc3VwcG9ydCBPYmplY3QuZGVmaW5lUHJvcGVydHkgYW5kIHNvbWUgZG9uJ3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBuYW1lIHByb3BlcnR5XG4gICAgICAgIC8vIHRoZSBmdW5jdGlvbiBuYW1lIGlzIG5vdCBlc3NlbnRpYWwgZm9yIHRoZSBmdW5jdGlvbmluZywgaXQncyBtb3N0bHkgdXNlZnVsIGZvciBkZWJ1Z2dpbmcsXG4gICAgICAgIC8vIHNvIGl0J3MgZmluZSB0byBoYXZlIHVubmFtZWQgZnVuY3Rpb25zLlxuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggc2lnbmF0dXJlcyB0byB0aGUgZnVuY3Rpb25cbiAgICAgIGZuLnNpZ25hdHVyZXMgPSBjcmVhdGVTaWduYXR1cmVzTWFwKHNpZ25hdHVyZXMpO1xuXG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgdHlwZSBzaG91bGQgYmUgTk9UIGJlIGlnbm9yZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZU5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vdElnbm9yZSh0eXBlTmFtZSkge1xuICAgICAgcmV0dXJuIHR5cGVkLmlnbm9yZS5pbmRleE9mKHR5cGVOYW1lKSA9PT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdHJpbSBhIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICAgIHJldHVybiBzdHIudHJpbSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHN0cmluZyBpcyBub3QgZW1wdHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3RFbXB0eShzdHIpIHtcbiAgICAgIHJldHVybiAhIXN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBub3Qgc3RyaWN0IGVxdWFsIHRvIG51bGxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3ROdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgcGFyYW1ldGVyIGhhcyBubyB0eXBlcyBkZWZpbmVkXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW52YWxpZFBhcmFtIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIGJ1dCB0aGUgbGFzdCBpdGVtcyBvZiBhbiBhcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyKSB7XG4gICAgICByZXR1cm4gYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIGxhc3QgaXRlbSBvZiBhbiBhcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNsaWNlIGFuIGFycmF5IG9yIGZ1bmN0aW9uIEFyZ3VtZW50c1xuICAgICAqIEBwYXJhbSB7QXJyYXkgfCBBcmd1bWVudHMgfCBJQXJndW1lbnRzfSBhcnJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF1cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBjb250YWlucyBzb21lIGl0ZW1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhcnJheSBjb250YWlucyBpdGVtLCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0pIHtcbiAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdHdvIGFycmF5cyBoYXZlIG92ZXJsYXBwaW5nIGl0ZW1zXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkxXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYXQgbGVhc3Qgb25lIGl0ZW0gZXhpc3RzIGluIGJvdGggYXJyYXlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzT3ZlcmxhcChhcnJheTEsIGFycmF5Mikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbnRhaW5zKGFycmF5MiwgYXJyYXkxW2ldKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGZpcnN0IGl0ZW0gZnJvbSBhbiBhcnJheSBmb3Igd2hpY2ggdGVzdChhcnJbaV0pIHJldHVybnMgdHJ1ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHRlc3RcbiAgICAgKiBAcmV0dXJuIHsqIHwgdW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZyBpdGVtXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb3IgdW5kZWZpbmVkIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5BcnJheShhcnIsIHRlc3QpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0ZXN0KGFycltpXSkpIHtcbiAgICAgICAgICByZXR1cm4gYXJyW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB1bmlxdWUgaXRlbXMgb2YgYW4gYXJyYXkgd2l0aCBzdHJpbmdzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gYXJyXG4gICAgICogQHJldHVybiB7c3RyaW5nW119XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnIpIHtcbiAgICAgIHZhciBlbnRyaWVzID0ge31cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVudHJpZXNbYXJyW2ldXSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoZW50cmllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdCBtYXAgdGhlIHJlc3VsdCBpbnZva2luZyBhIGNhbGxiYWNrIGZvciBldmVyeSBpdGVtIGluIGFuIGFycmF5LlxuICAgICAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3NhbWdpbGVzLzc2MmVlMzM3ZGZmNDg2MjNlNzI5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGFyciwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcnIubWFwKGNhbGxiYWNrKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGZ1bmN0aW9uIG5hbWUgZnJvbSBhIHNldCBvZiB0eXBlZCBmdW5jdGlvbnMsXG4gICAgICogYW5kIGNoZWNrIHdoZXRoZXIgdGhlIG5hbWUgb2YgYWxsIGZ1bmN0aW9ucyBtYXRjaCAoaWYgZ2l2ZW4pXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbltdfSBmbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYW1lIChmbnMpIHtcbiAgICAgIHZhciBuYW1lID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmbiA9IGZuc1tpXTtcblxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBuYW1lcyBhcmUgdGhlIHNhbWUgd2hlbiBkZWZpbmVkXG4gICAgICAgIGlmICgodHlwZW9mIGZuLnNpZ25hdHVyZXMgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBmbi5zaWduYXR1cmUgPT09ICdzdHJpbmcnKSAmJiBmbi5uYW1lICE9PSAnJykge1xuICAgICAgICAgIGlmIChuYW1lID09PSAnJykge1xuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG5hbWUgIT09IGZuLm5hbWUpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0Z1bmN0aW9uIG5hbWVzIGRvIG5vdCBtYXRjaCAoZXhwZWN0ZWQ6ICcgKyBuYW1lICsgJywgYWN0dWFsOiAnICsgZm4ubmFtZSArICcpJyk7XG4gICAgICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICAgICAgYWN0dWFsOiBmbi5uYW1lLFxuICAgICAgICAgICAgICBleHBlY3RlZDogbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgLy8gZXh0cmFjdCBhbmQgbWVyZ2UgYWxsIHNpZ25hdHVyZXMgb2YgYSBsaXN0IHdpdGggdHlwZWQgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSB7XG4gICAgICB2YXIgZXJyO1xuICAgICAgdmFyIHNpZ25hdHVyZXNNYXAgPSB7fTtcblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGVVbmlxdWUoX3NpZ25hdHVyZSwgX2ZuKSB7XG4gICAgICAgIGlmIChzaWduYXR1cmVzTWFwLmhhc093blByb3BlcnR5KF9zaWduYXR1cmUpICYmIF9mbiAhPT0gc2lnbmF0dXJlc01hcFtfc2lnbmF0dXJlXSkge1xuICAgICAgICAgIGVyciA9IG5ldyBFcnJvcignU2lnbmF0dXJlIFwiJyArIF9zaWduYXR1cmUgKyAnXCIgaXMgZGVmaW5lZCB0d2ljZScpO1xuICAgICAgICAgIGVyci5kYXRhID0ge3NpZ25hdHVyZTogX3NpZ25hdHVyZX07XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIC8vIGVsc2U6IGJvdGggc2lnbmF0dXJlcyBwb2ludCB0byB0aGUgc2FtZSBmdW5jdGlvbiwgdGhhdCdzIGZpbmVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm4gPSBmbnNbaV07XG5cbiAgICAgICAgLy8gdGVzdCB3aGV0aGVyIHRoaXMgaXMgYSB0eXBlZC1mdW5jdGlvblxuICAgICAgICBpZiAodHlwZW9mIGZuLnNpZ25hdHVyZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gbWVyZ2UgdGhlIHNpZ25hdHVyZXNcbiAgICAgICAgICBmb3IgKHZhciBzaWduYXR1cmUgaW4gZm4uc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgaWYgKGZuLnNpZ25hdHVyZXMuaGFzT3duUHJvcGVydHkoc2lnbmF0dXJlKSkge1xuICAgICAgICAgICAgICB2YWxpZGF0ZVVuaXF1ZShzaWduYXR1cmUsIGZuLnNpZ25hdHVyZXNbc2lnbmF0dXJlXSk7XG4gICAgICAgICAgICAgIHNpZ25hdHVyZXNNYXBbc2lnbmF0dXJlXSA9IGZuLnNpZ25hdHVyZXNbc2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZuLnNpZ25hdHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YWxpZGF0ZVVuaXF1ZShmbi5zaWduYXR1cmUsIGZuKTtcbiAgICAgICAgICBzaWduYXR1cmVzTWFwW2ZuLnNpZ25hdHVyZV0gPSBmbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBlcnIgPSBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiBpcyBubyB0eXBlZC1mdW5jdGlvbiAoaW5kZXg6ICcgKyBpICsgJyknKTtcbiAgICAgICAgICBlcnIuZGF0YSA9IHtpbmRleDogaX07XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaWduYXR1cmVzTWFwO1xuICAgIH1cblxuICAgIHR5cGVkID0gY3JlYXRlVHlwZWRGdW5jdGlvbigndHlwZWQnLCB7XG4gICAgICAnc3RyaW5nLCBPYmplY3QnOiBjcmVhdGVUeXBlZEZ1bmN0aW9uLFxuICAgICAgJ09iamVjdCc6IGZ1bmN0aW9uIChzaWduYXR1cmVzTWFwKSB7XG4gICAgICAgIC8vIGZpbmQgZXhpc3RpbmcgbmFtZVxuICAgICAgICB2YXIgZm5zID0gW107XG4gICAgICAgIGZvciAodmFyIHNpZ25hdHVyZSBpbiBzaWduYXR1cmVzTWFwKSB7XG4gICAgICAgICAgaWYgKHNpZ25hdHVyZXNNYXAuaGFzT3duUHJvcGVydHkoc2lnbmF0dXJlKSkge1xuICAgICAgICAgICAgZm5zLnB1c2goc2lnbmF0dXJlc01hcFtzaWduYXR1cmVdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWUgPSBnZXROYW1lKGZucyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIHNpZ25hdHVyZXNNYXApO1xuICAgICAgfSxcbiAgICAgICcuLi5GdW5jdGlvbic6IGZ1bmN0aW9uIChmbnMpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVR5cGVkRnVuY3Rpb24oZ2V0TmFtZShmbnMpLCBleHRyYWN0U2lnbmF0dXJlcyhmbnMpKTtcbiAgICAgIH0sXG4gICAgICAnc3RyaW5nLCAuLi5GdW5jdGlvbic6IGZ1bmN0aW9uIChuYW1lLCBmbnMpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVR5cGVkRnVuY3Rpb24obmFtZSwgZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0eXBlZC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgdHlwZWQudHlwZXMgPSBfdHlwZXM7XG4gICAgdHlwZWQuY29udmVyc2lvbnMgPSBfY29udmVyc2lvbnM7XG4gICAgdHlwZWQuaWdub3JlID0gX2lnbm9yZTtcbiAgICB0eXBlZC5jb252ZXJ0ID0gY29udmVydDtcbiAgICB0eXBlZC5maW5kID0gZmluZDtcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge3tuYW1lOiBzdHJpbmcsIHRlc3Q6IGZ1bmN0aW9ufX0gdHlwZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JlZm9yZU9iamVjdFRlc3Q9dHJ1ZV1cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgdGhlIG5ldyB0ZXN0IHdpbGwgYmUgaW5zZXJ0ZWQgYmVmb3JlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSB0ZXN0IHdpdGggbmFtZSAnT2JqZWN0JyAoaWYgYW55KSwgc2luY2VcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdHMgZm9yIE9iamVjdCBtYXRjaCBBcnJheSBhbmQgY2xhc3NlcyB0b28uXG4gICAgICovXG4gICAgdHlwZWQuYWRkVHlwZSA9IGZ1bmN0aW9uICh0eXBlLCBiZWZvcmVPYmplY3RUZXN0KSB7XG4gICAgICBpZiAoIXR5cGUgfHwgdHlwZW9mIHR5cGUubmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUudGVzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHtuYW1lOiBzdHJpbmcsIHRlc3Q6IGZ1bmN0aW9ufSBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYmVmb3JlT2JqZWN0VGVzdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZC50eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0eXBlZC50eXBlc1tpXS5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgdHlwZWQudHlwZXMuc3BsaWNlKGksIDAsIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHR5cGVkLnR5cGVzLnB1c2godHlwZSk7XG4gICAgfTtcblxuICAgIC8vIGFkZCBhIGNvbnZlcnNpb25cbiAgICB0eXBlZC5hZGRDb252ZXJzaW9uID0gZnVuY3Rpb24gKGNvbnZlcnNpb24pIHtcbiAgICAgIGlmICghY29udmVyc2lvblxuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLmZyb20gIT09ICdzdHJpbmcnXG4gICAgICAgICAgfHwgdHlwZW9mIGNvbnZlcnNpb24udG8gIT09ICdzdHJpbmcnXG4gICAgICAgICAgfHwgdHlwZW9mIGNvbnZlcnNpb24uY29udmVydCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHtmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcsIGNvbnZlcnQ6IGZ1bmN0aW9ufSBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICB0eXBlZC5jb252ZXJzaW9ucy5wdXNoKGNvbnZlcnNpb24pO1xuICAgIH07XG5cbiAgICByZXR1cm4gdHlwZWQ7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlKCk7XG59KSk7XG4iLCJpbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7e3NpZ246ICcrJyB8ICctJyB8ICcnLCBjb2VmZmljaWVudHM6IG51bWJlcltdLCBleHBvbmVudDogbnVtYmVyfX0gU3BsaXRWYWx1ZVxuICovXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBudW1iZXIgaXMgaW50ZWdlclxuICogQHBhcmFtIHtudW1iZXIgfCBib29sZWFufSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gaXNJbnRlZ2VyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA9PT0gTWF0aC5yb3VuZCh2YWx1ZSkgOiBmYWxzZTsgLy8gTm90ZTogd2UgdXNlID09LCBub3QgPT09LCBhcyB3ZSBjYW4gaGF2ZSBCb29sZWFucyBhcyB3ZWxsXG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2lnbiBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBzaWduID0gLyogI19fUFVSRV9fICovTWF0aC5zaWduIHx8IGZ1bmN0aW9uICh4KSB7XG4gIGlmICh4ID4gMCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKHggPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGJhc2UtMiBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgbG9nMiA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMiB8fCBmdW5jdGlvbiBsb2cyKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGJhc2UtMTAgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzEwID0gLyogI19fUFVSRV9fICovTWF0aC5sb2cxMCB8fCBmdW5jdGlvbiBsb2cxMCh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4xMDtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSBudW1iZXIgKyAxXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzFwID0gLyogI19fUFVSRV9fICovTWF0aC5sb2cxcCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCArIDEpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIGN1YmljIHJvb3QgZm9yIGEgbnVtYmVyXG4gKlxuICogQ29kZSBmcm9tIGVzNi1zaGltLmpzOlxuICogICBodHRwczovL2dpdGh1Yi5jb20vcGF1bG1pbGxyL2VzNi1zaGltL2Jsb2IvbWFzdGVyL2VzNi1zaGltLmpzI0wxNTY0LUwxNTc3XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGN1YmljIHJvb3Qgb2YgeFxuICovXG5cbmV4cG9ydCB2YXIgY2JydCA9IC8qICNfX1BVUkVfXyAqL01hdGguY2JydCB8fCBmdW5jdGlvbiBjYnJ0KHgpIHtcbiAgaWYgKHggPT09IDApIHtcbiAgICByZXR1cm4geDtcbiAgfVxuXG4gIHZhciBuZWdhdGUgPSB4IDwgMDtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAobmVnYXRlKSB7XG4gICAgeCA9IC14O1xuICB9XG5cbiAgaWYgKGlzRmluaXRlKHgpKSB7XG4gICAgcmVzdWx0ID0gTWF0aC5leHAoTWF0aC5sb2coeCkgLyAzKTsgLy8gZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdWJlX3Jvb3QjTnVtZXJpY2FsX21ldGhvZHNcblxuICAgIHJlc3VsdCA9ICh4IC8gKHJlc3VsdCAqIHJlc3VsdCkgKyAyICogcmVzdWx0KSAvIDM7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0geDtcbiAgfVxuXG4gIHJldHVybiBuZWdhdGUgPyAtcmVzdWx0IDogcmVzdWx0O1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyBleHBvbmVudGlhdGlvbiBtaW51cyAxXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfSByZXNcbiAqL1xuXG5leHBvcnQgdmFyIGV4cG0xID0gLyogI19fUFVSRV9fICovTWF0aC5leHBtMSB8fCBmdW5jdGlvbiBleHBtMSh4KSB7XG4gIHJldHVybiB4ID49IDJlLTQgfHwgeCA8PSAtMmUtNCA/IE1hdGguZXhwKHgpIC0gMSA6IHggKyB4ICogeCAvIDIgKyB4ICogeCAqIHggLyA2O1xufTtcbi8qKlxuICogQ29udmVydCBhIG51bWJlciB0byBhIGZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgIGZvcm1hdCh2YWx1ZSlcbiAqICAgIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAqICAgIGZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICogICAgZm9ybWF0KHZhbHVlLCBmbilcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICB7bnVtYmVyfSB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAqICAgIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAqICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gbm90YXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZml4ZWQnICAgICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZXhwb25lbnRpYWwnICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZW5naW5lZXJpbmcnICAgIEFsd2F5cyB1c2UgZW5naW5lZXJpbmcgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNGUrMCcgYW5kICcxNC4wZSs2J1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG8nIChkZWZhdWx0KSBSZWd1bGFyIG51bWJlciBub3RhdGlvbiBmb3IgbnVtYmVyc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXZpbmcgYW4gYWJzb2x1dGUgdmFsdWUgYmV0d2VlblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgbG93ZXJFeHBgIGFuZCBgdXBwZXJFeHBgIGJvdW5kcywgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXMgZXhwb25lbnRpYWwgbm90YXRpb24gZWxzZXdoZXJlLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb3dlciBib3VuZCBpcyBpbmNsdWRlZCwgdXBwZXIgYm91bmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgZXhjbHVkZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNCcgYW5kICcxLjRlNycuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHByZWNpc2lvbiAgIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYgdG8gcm91bmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGRpZ2l0cyBvZiB0aGUgbnVtYmVyLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIG5vdGF0aW9ucyAnZXhwb25lbnRpYWwnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5naW5lZXJpbmcnLCBhbmQgJ2F1dG8nLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSB0b3RhbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIHJldHVybmVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIG5vdGF0aW9uICdmaXhlZCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIG51bWJlciBvZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduaWZpY2FudCBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3Qgcm91bmRpbmcgYW55IGRpZ2l0cy5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gbG93ZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIGxvd2VyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYC0zYC5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gdXBwZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIHVwcGVyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYDVgLlxuICogICAge0Z1bmN0aW9ufSBmbiAgICBBIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9uLiBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgYnVpbHQtaW4gbm90YXRpb25zLiBGdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCB3aXRoIGB2YWx1ZWAgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGFuZCBtdXN0IHJldHVybiBhIHN0cmluZy4gSXMgdXNlZnVsIGZvciBleGFtcGxlIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgIGZvcm1hdCBhbGwgdmFsdWVzIGluc2lkZSBhIG1hdHJpeCBpbiBhIHBhcnRpY3VsYXIgd2F5LlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGZvcm1hdCg2LjQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICc2LjQnXG4gKiAgICBmb3JtYXQoMTI0MDAwMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMS4yNGU2J1xuICogICAgZm9ybWF0KDEvMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzAuMzMzMzMzMzMzMzMzMzMzMydcbiAqICAgIGZvcm1hdCgxLzMsIDMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMydcbiAqICAgIGZvcm1hdCgyMTM4NSwgMikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcyMTAwMCdcbiAqICAgIGZvcm1hdCgxMi4wNzEsIHtub3RhdGlvbjogJ2ZpeGVkJ30pICAgICAgICAgICAgICAgIC8vICcxMidcbiAqICAgIGZvcm1hdCgyLjMsICAgIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiAyfSkgIC8vICcyLjMwJ1xuICogICAgZm9ybWF0KDUyLjgsICAge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgLy8gJzUuMjhlKzEnXG4gKiAgICBmb3JtYXQoMTIzNDU2NzgsIHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAvLyAnMTIuMzQ1Njc4ZSs2J1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IG51bWJlcn0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0ciBUaGUgZm9ybWF0dGVkIHZhbHVlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBoYW5kbGUgZm9ybWF0KHZhbHVlLCBmbilcbiAgICByZXR1cm4gb3B0aW9ucyh2YWx1ZSk7XG4gIH0gLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXNcblxuXG4gIGlmICh2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gJ0luZmluaXR5JztcbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gLUluZmluaXR5KSB7XG4gICAgcmV0dXJuICctSW5maW5pdHknO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgIHJldHVybiAnTmFOJztcbiAgfSAvLyBkZWZhdWx0IHZhbHVlcyBmb3Igb3B0aW9uc1xuXG5cbiAgdmFyIG5vdGF0aW9uID0gJ2F1dG8nO1xuICB2YXIgcHJlY2lzaW9uO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgLy8gZGV0ZXJtaW5lIG5vdGF0aW9uIGZyb20gb3B0aW9uc1xuICAgIGlmIChvcHRpb25zLm5vdGF0aW9uKSB7XG4gICAgICBub3RhdGlvbiA9IG9wdGlvbnMubm90YXRpb247XG4gICAgfSAvLyBkZXRlcm1pbmUgcHJlY2lzaW9uIGZyb20gb3B0aW9uc1xuXG5cbiAgICBpZiAoaXNOdW1iZXIob3B0aW9ucykpIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihvcHRpb25zLnByZWNpc2lvbikpIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMucHJlY2lzaW9uO1xuICAgIH1cbiAgfSAvLyBoYW5kbGUgdGhlIHZhcmlvdXMgbm90YXRpb25zXG5cblxuICBzd2l0Y2ggKG5vdGF0aW9uKSB7XG4gICAgY2FzZSAnZml4ZWQnOlxuICAgICAgcmV0dXJuIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdleHBvbmVudGlhbCc6XG4gICAgICByZXR1cm4gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2VuZ2luZWVyaW5nJzpcbiAgICAgIHJldHVybiB0b0VuZ2luZWVyaW5nKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnYXV0byc6XG4gICAgICAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnRcbiAgICAgIHJldHVybiB0b1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uLCBvcHRpb25zICYmIG9wdGlvbnMpLnJlcGxhY2UoLygoXFwuXFxkKj8pKDArKSkoJHxlKS8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpZ2l0cyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgdmFyIGUgPSBhcmd1bWVudHNbNF07XG4gICAgICAgIHJldHVybiBkaWdpdHMgIT09ICcuJyA/IGRpZ2l0cyArIGUgOiBlO1xuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5vdGF0aW9uIFwiJyArIG5vdGF0aW9uICsgJ1wiLiAnICsgJ0Nob29zZSBcImF1dG9cIiwgXCJleHBvbmVudGlhbFwiLCBvciBcImZpeGVkXCIuJyk7XG4gIH1cbn1cbi8qKlxuICogU3BsaXQgYSBudW1iZXIgaW50byBzaWduLCBjb2VmZmljaWVudHMsIGFuZCBleHBvbmVudFxuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtTcGxpdFZhbHVlfVxuICogICAgICAgICAgICAgIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgc2lnbiwgY29lZmZpY2llbnRzLCBhbmQgZXhwb25lbnRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXROdW1iZXIodmFsdWUpIHtcbiAgLy8gcGFyc2UgdGhlIGlucHV0IHZhbHVlXG4gIHZhciBtYXRjaCA9IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKS5tYXRjaCgvXjAqPygtPykoXFxkK1xcLj9cXGQqKShlKFsrLV0/XFxkKykpPyQvKTtcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdJbnZhbGlkIG51bWJlciAnICsgdmFsdWUpO1xuICB9XG5cbiAgdmFyIHNpZ24gPSBtYXRjaFsxXTtcbiAgdmFyIGRpZ2l0cyA9IG1hdGNoWzJdO1xuICB2YXIgZXhwb25lbnQgPSBwYXJzZUZsb2F0KG1hdGNoWzRdIHx8ICcwJyk7XG4gIHZhciBkb3QgPSBkaWdpdHMuaW5kZXhPZignLicpO1xuICBleHBvbmVudCArPSBkb3QgIT09IC0xID8gZG90IC0gMSA6IGRpZ2l0cy5sZW5ndGggLSAxO1xuICB2YXIgY29lZmZpY2llbnRzID0gZGlnaXRzLnJlcGxhY2UoJy4nLCAnJykgLy8gcmVtb3ZlIHRoZSBkb3QgKG11c3QgYmUgcmVtb3ZlZCBiZWZvcmUgcmVtb3ZpbmcgbGVhZGluZyB6ZXJvcylcbiAgLnJlcGxhY2UoL14wKi8sIGZ1bmN0aW9uICh6ZXJvcykge1xuICAgIC8vIHJlbW92ZSBsZWFkaW5nIHplcm9zLCBhZGQgdGhlaXIgY291bnQgdG8gdGhlIGV4cG9uZW50XG4gICAgZXhwb25lbnQgLT0gemVyb3MubGVuZ3RoO1xuICAgIHJldHVybiAnJztcbiAgfSkucmVwbGFjZSgvMCokLywgJycpIC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvc1xuICAuc3BsaXQoJycpLm1hcChmdW5jdGlvbiAoZCkge1xuICAgIHJldHVybiBwYXJzZUludChkKTtcbiAgfSk7XG5cbiAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBjb2VmZmljaWVudHMucHVzaCgwKTtcbiAgICBleHBvbmVudCsrO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzaWduOiBzaWduLFxuICAgIGNvZWZmaWNpZW50czogY29lZmZpY2llbnRzLFxuICAgIGV4cG9uZW50OiBleHBvbmVudFxuICB9O1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgaW4gZW5naW5lZXJpbmcgbm90YXRpb24uIExpa2UgJzEuMjNlKzYnLCAnMi4zZSswJywgJzMuNTAwZS0zJ1xuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbl0gICAgICAgIE9wdGlvbmFsIG51bWJlciBvZiBzaWduaWZpY2FudCBmaWd1cmVzIHRvIHJldHVybi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgdmFyIHNwbGl0ID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pO1xuICB2YXIgZSA9IHJvdW5kZWQuZXhwb25lbnQ7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7IC8vIGZpbmQgbmVhcmVzdCBsb3dlciBtdWx0aXBsZSBvZiAzIGZvciBleHBvbmVudFxuXG4gIHZhciBuZXdFeHAgPSBlICUgMyA9PT0gMCA/IGUgOiBlIDwgMCA/IGUgLSAzIC0gZSAlIDMgOiBlIC0gZSAlIDM7XG5cbiAgaWYgKGlzTnVtYmVyKHByZWNpc2lvbikpIHtcbiAgICAvLyBhZGQgemVyb2VzIHRvIGdpdmUgY29ycmVjdCBzaWcgZmlnc1xuICAgIHdoaWxlIChwcmVjaXNpb24gPiBjLmxlbmd0aCB8fCBlIC0gbmV3RXhwICsgMSA+IGMubGVuZ3RoKSB7XG4gICAgICBjLnB1c2goMCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGNvbmNhdGVuYXRlIGNvZWZmaWNpZW50cyB3aXRoIG5lY2Vzc2FyeSB6ZXJvc1xuICAgIC8vIGFkZCB6ZXJvcyBpZiBuZWNlc3NhcnkgKGZvciBleGFtcGxlOiAxZSs4IC0+IDEwMGUrNilcbiAgICB2YXIgbWlzc2luZ1plcm9zID0gTWF0aC5hYnMoZSAtIG5ld0V4cCkgLSAoYy5sZW5ndGggLSAxKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWlzc2luZ1plcm9zOyBpKyspIHtcbiAgICAgIGMucHVzaCgwKTtcbiAgICB9XG4gIH0gLy8gZmluZCBkaWZmZXJlbmNlIGluIGV4cG9uZW50c1xuXG5cbiAgdmFyIGV4cERpZmYgPSBNYXRoLmFicyhlIC0gbmV3RXhwKTtcbiAgdmFyIGRlY2ltYWxJZHggPSAxOyAvLyBwdXNoIGRlY2ltYWwgaW5kZXggb3ZlciBieSBleHBEaWZmIHRpbWVzXG5cbiAgd2hpbGUgKGV4cERpZmYgPiAwKSB7XG4gICAgZGVjaW1hbElkeCsrO1xuICAgIGV4cERpZmYtLTtcbiAgfSAvLyBpZiBhbGwgY29lZmZpY2llbnQgdmFsdWVzIGFyZSB6ZXJvIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50IGFuZCBwcmVjaXNpb24gaXMgdW5zZXQsIGRvbid0IGFkZCBhIGRlY2ltYWwgdmFsdWUuXG4gIC8vIG90aGVyd2lzZSBjb25jYXQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgY29lZmZpY2llbnRzXG5cblxuICB2YXIgZGVjaW1hbHMgPSBjLnNsaWNlKGRlY2ltYWxJZHgpLmpvaW4oJycpO1xuICB2YXIgZGVjaW1hbFZhbCA9IGlzTnVtYmVyKHByZWNpc2lvbikgJiYgZGVjaW1hbHMubGVuZ3RoIHx8IGRlY2ltYWxzLm1hdGNoKC9bMS05XS8pID8gJy4nICsgZGVjaW1hbHMgOiAnJztcbiAgdmFyIHN0ciA9IGMuc2xpY2UoMCwgZGVjaW1hbElkeCkuam9pbignJykgKyBkZWNpbWFsVmFsICsgJ2UnICsgKGUgPj0gMCA/ICcrJyA6ICcnKSArIG5ld0V4cC50b1N0cmluZygpO1xuICByZXR1cm4gcm91bmRlZC5zaWduICsgc3RyO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgd2l0aCBmaXhlZCBub3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249dW5kZWZpbmVkXSAgT3B0aW9uYWwgbnVtYmVyIG9mIGRlY2ltYWxzIGFmdGVyIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCBwb2ludC4gbnVsbCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH1cblxuICB2YXIgc3BsaXRWYWx1ZSA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSB0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyA/IHJvdW5kRGlnaXRzKHNwbGl0VmFsdWUsIHNwbGl0VmFsdWUuZXhwb25lbnQgKyAxICsgcHJlY2lzaW9uKSA6IHNwbGl0VmFsdWU7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gIHZhciBwID0gcm91bmRlZC5leHBvbmVudCArIDE7IC8vIGV4cG9uZW50IG1heSBoYXZlIGNoYW5nZWRcbiAgLy8gYXBwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIHZhciBwcCA9IHAgKyAocHJlY2lzaW9uIHx8IDApO1xuXG4gIGlmIChjLmxlbmd0aCA8IHBwKSB7XG4gICAgYyA9IGMuY29uY2F0KHplcm9zKHBwIC0gYy5sZW5ndGgpKTtcbiAgfSAvLyBwcmVwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG5cbiAgaWYgKHAgPCAwKSB7XG4gICAgYyA9IHplcm9zKC1wICsgMSkuY29uY2F0KGMpO1xuICAgIHAgPSAxO1xuICB9IC8vIGluc2VydCBhIGRvdCBpZiBuZWVkZWRcblxuXG4gIGlmIChwIDwgYy5sZW5ndGgpIHtcbiAgICBjLnNwbGljZShwLCAwLCBwID09PSAwID8gJzAuJyA6ICcuJyk7XG4gIH1cblxuICByZXR1cm4gcm91bmRlZC5zaWduICsgYy5qb2luKCcnKTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs1JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICBOdW1iZXIgb2YgZGlnaXRzIGluIGZvcm1hdHRlZCBvdXRwdXQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1heGltdW0gYXZhaWxhYmxlIGRpZ2l0c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB1c2VkLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH0gLy8gcm91bmQgaWYgbmVlZGVkLCBlbHNlIGNyZWF0ZSBhIGNsb25lXG5cblxuICB2YXIgc3BsaXQgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gcHJlY2lzaW9uID8gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikgOiBzcGxpdDtcbiAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50cztcbiAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50OyAvLyBhcHBlbmQgemVyb3MgaWYgbmVlZGVkXG5cbiAgaWYgKGMubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XG4gICAgYyA9IGMuY29uY2F0KHplcm9zKHByZWNpc2lvbiAtIGMubGVuZ3RoKSk7XG4gIH0gLy8gZm9ybWF0IGFzIGBDLkNDQ2UrRUVFYCBvciBgQy5DQ0NlLUVFRWBcblxuXG4gIHZhciBmaXJzdCA9IGMuc2hpZnQoKTtcbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIGZpcnN0ICsgKGMubGVuZ3RoID4gMCA/ICcuJyArIGMuam9pbignJykgOiAnJykgKyAnZScgKyAoZSA+PSAwID8gJysnIDogJycpICsgZTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggYSBjZXJ0YWluIHByZWNpc2lvblxuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj11bmRlZmluZWRdIE9wdGlvbmFsIG51bWJlciBvZiBkaWdpdHMuXG4gKiBAcGFyYW0ge3tsb3dlckV4cDogbnVtYmVyIHwgdW5kZWZpbmVkLCB1cHBlckV4cDogbnVtYmVyIHwgdW5kZWZpbmVkfX0gW29wdGlvbnNdXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ5IGRlZmF1bHQ6XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJFeHAgPSAtMyAoaW5jbClcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlciA9ICs1IChleGNsKVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uLCBvcHRpb25zKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IC8vIGRldGVybWluZSBsb3dlciBhbmQgdXBwZXIgYm91bmQgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuXG5cbiAgdmFyIGxvd2VyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLmxvd2VyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxvd2VyRXhwIDogLTM7XG4gIHZhciB1cHBlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy51cHBlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51cHBlckV4cCA6IDU7XG4gIHZhciBzcGxpdCA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSBwcmVjaXNpb24gPyByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKSA6IHNwbGl0O1xuXG4gIGlmIChyb3VuZGVkLmV4cG9uZW50IDwgbG93ZXJFeHAgfHwgcm91bmRlZC5leHBvbmVudCA+PSB1cHBlckV4cCkge1xuICAgIC8vIGV4cG9uZW50aWFsIG5vdGF0aW9uXG4gICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50cztcbiAgICB2YXIgZSA9IHJvdW5kZWQuZXhwb25lbnQ7IC8vIGFwcGVuZCB0cmFpbGluZyB6ZXJvc1xuXG4gICAgaWYgKGMubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XG4gICAgICBjID0gYy5jb25jYXQoemVyb3MocHJlY2lzaW9uIC0gYy5sZW5ndGgpKTtcbiAgICB9IC8vIGFwcGVuZCB0cmFpbGluZyB6ZXJvc1xuICAgIC8vIFRPRE86IHNpbXBsaWZ5IHRoZSBuZXh0IHN0YXRlbWVudFxuXG5cbiAgICBjID0gYy5jb25jYXQoemVyb3MoZSAtIGMubGVuZ3RoICsgMSArIChjLmxlbmd0aCA8IHByZWNpc2lvbiA/IHByZWNpc2lvbiAtIGMubGVuZ3RoIDogMCkpKTsgLy8gcHJlcGVuZCB6ZXJvc1xuXG4gICAgYyA9IHplcm9zKC1lKS5jb25jYXQoYyk7XG4gICAgdmFyIGRvdCA9IGUgPiAwID8gZSA6IDA7XG5cbiAgICBpZiAoZG90IDwgYy5sZW5ndGggLSAxKSB7XG4gICAgICBjLnNwbGljZShkb3QgKyAxLCAwLCAnLicpO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZGVkLnNpZ24gKyBjLmpvaW4oJycpO1xuICB9XG59XG4vKipcbiAqIFJvdW5kIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGEgbnVtYmVyICpcbiAqIEBwYXJhbSB7U3BsaXRWYWx1ZX0gc3BsaXQgICAgICAgQSB2YWx1ZSBzcGxpdCB3aXRoIC5zcGxpdE51bWJlcih2YWx1ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmVjaXNpb24gIEEgcG9zaXRpdmUgaW50ZWdlclxuICogQHJldHVybiB7U3BsaXRWYWx1ZX1cbiAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHNpZ24sIGNvZWZmaWNpZW50cywgYW5kIGV4cG9uZW50XG4gKiAgICAgICAgICAgICAgd2l0aCByb3VuZGVkIGRpZ2l0c1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKSB7XG4gIC8vIGNyZWF0ZSBhIGNsb25lXG4gIHZhciByb3VuZGVkID0ge1xuICAgIHNpZ246IHNwbGl0LnNpZ24sXG4gICAgY29lZmZpY2llbnRzOiBzcGxpdC5jb2VmZmljaWVudHMsXG4gICAgZXhwb25lbnQ6IHNwbGl0LmV4cG9uZW50XG4gIH07XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7IC8vIHByZXBlbmQgemVyb3MgaWYgbmVlZGVkXG5cbiAgd2hpbGUgKHByZWNpc2lvbiA8PSAwKSB7XG4gICAgYy51bnNoaWZ0KDApO1xuICAgIHJvdW5kZWQuZXhwb25lbnQrKztcbiAgICBwcmVjaXNpb24rKztcbiAgfVxuXG4gIGlmIChjLmxlbmd0aCA+IHByZWNpc2lvbikge1xuICAgIHZhciByZW1vdmVkID0gYy5zcGxpY2UocHJlY2lzaW9uLCBjLmxlbmd0aCAtIHByZWNpc2lvbik7XG5cbiAgICBpZiAocmVtb3ZlZFswXSA+PSA1KSB7XG4gICAgICB2YXIgaSA9IHByZWNpc2lvbiAtIDE7XG4gICAgICBjW2ldKys7XG5cbiAgICAgIHdoaWxlIChjW2ldID09PSAxMCkge1xuICAgICAgICBjLnBvcCgpO1xuXG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgYy51bnNoaWZ0KDApO1xuICAgICAgICAgIHJvdW5kZWQuZXhwb25lbnQrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBpLS07XG4gICAgICAgIGNbaV0rKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcm91bmRlZDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGFycmF5IGZpbGxlZCB3aXRoIHplcm9zLlxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuZnVuY3Rpb24gemVyb3MobGVuZ3RoKSB7XG4gIHZhciBhcnIgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyLnB1c2goMCk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufVxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiBhIG51bWJlci5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqICAgMi4zNCByZXR1cm5zIDNcbiAqICAgMC4wMDM0IHJldHVybnMgMlxuICogICAxMjAuNWUrMzAgcmV0dXJucyA0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGRpZ2l0cyAgIE51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHNcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBkaWdpdHModmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnRvRXhwb25lbnRpYWwoKS5yZXBsYWNlKC9lLiokLywgJycpIC8vIHJlbW92ZSBleHBvbmVudGlhbCBub3RhdGlvblxuICAucmVwbGFjZSgvXjBcXC4/MCp8XFwuLywgJycpIC8vIHJlbW92ZSBkZWNpbWFsIHBvaW50IGFuZCBsZWFkaW5nIHplcm9zXG4gIC5sZW5ndGg7XG59XG4vKipcbiAqIE1pbmltdW0gbnVtYmVyIGFkZGVkIHRvIG9uZSB0aGF0IG1ha2VzIHRoZSByZXN1bHQgZGlmZmVyZW50IHRoYW4gb25lXG4gKi9cblxuZXhwb3J0IHZhciBEQkxfRVBTSUxPTiA9IE51bWJlci5FUFNJTE9OIHx8IDIuMjIwNDQ2MDQ5MjUwMzEzMDgwODQ3MjYzMzM2MTgxNkUtMTY7XG4vKipcbiAqIENvbXBhcmVzIHR3byBmbG9hdGluZyBwb2ludCBudW1iZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IHggICAgICAgICAgRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzaWxvbl0gIFRoZSBtYXhpbXVtIHJlbGF0aXZlIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBlcHNpbG9uIGlzIHVuZGVmaW5lZCBvciBudWxsLCB0aGUgZnVuY3Rpb24gd2lsbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWwuXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSB0d28gbnVtYmVycyBhcmUgbmVhcmx5IGVxdWFsXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVhcmx5RXF1YWwoeCwgeSwgZXBzaWxvbikge1xuICAvLyBpZiBlcHNpbG9uIGlzIG51bGwgb3IgdW5kZWZpbmVkLCB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbFxuICBpZiAoZXBzaWxvbiA9PT0gbnVsbCB8fCBlcHNpbG9uID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geCA9PT0geTtcbiAgfVxuXG4gIGlmICh4ID09PSB5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gTmFOXG5cblxuICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gYXQgdGhpcyBwb2ludCB4IGFuZCB5IHNob3VsZCBiZSBmaW5pdGVcblxuXG4gIGlmIChpc0Zpbml0ZSh4KSAmJiBpc0Zpbml0ZSh5KSkge1xuICAgIC8vIGNoZWNrIG51bWJlcnMgYXJlIHZlcnkgY2xvc2UsIG5lZWRlZCB3aGVuIGNvbXBhcmluZyBudW1iZXJzIG5lYXIgemVyb1xuICAgIHZhciBkaWZmID0gTWF0aC5hYnMoeCAtIHkpO1xuXG4gICAgaWYgKGRpZmYgPCBEQkxfRVBTSUxPTikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZSByZWxhdGl2ZSBlcnJvclxuICAgICAgcmV0dXJuIGRpZmYgPD0gTWF0aC5tYXgoTWF0aC5hYnMoeCksIE1hdGguYWJzKHkpKSAqIGVwc2lsb247XG4gICAgfVxuICB9IC8vIEluZmluaXRlIGFuZCBOdW1iZXIgb3IgbmVnYXRpdmUgSW5maW5pdGUgYW5kIHBvc2l0aXZlIEluZmluaXRlIGNhc2VzXG5cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyBhcmNjb3Mgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBhY29zaCA9IE1hdGguYWNvc2ggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh4ICogeCAtIDEpICsgeCk7XG59O1xuZXhwb3J0IHZhciBhc2luaCA9IE1hdGguYXNpbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh4ICogeCArIDEpICsgeCk7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgYXJjdGFuZ2VudCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGF0YW5oID0gTWF0aC5hdGFuaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coKDEgKyB4KSAvICgxIC0geCkpIC8gMjtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgY29zaCA9IE1hdGguY29zaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBzaW5oID0gTWF0aC5zaW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiAoTWF0aC5leHAoeCkgLSBNYXRoLmV4cCgteCkpIC8gMjtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIHRhbmggPSBNYXRoLnRhbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgdmFyIGUgPSBNYXRoLmV4cCgyICogeCk7XG4gIHJldHVybiAoZSAtIDEpIC8gKGUgKyAxKTtcbn07IiwiLyoqXG4gKiBDb252ZXJ0IGEgQmlnTnVtYmVyIHRvIGEgZm9ybWF0dGVkIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBTeW50YXg6XG4gKlxuICogICAgZm9ybWF0KHZhbHVlKVxuICogICAgZm9ybWF0KHZhbHVlLCBvcHRpb25zKVxuICogICAgZm9ybWF0KHZhbHVlLCBwcmVjaXNpb24pXG4gKiAgICBmb3JtYXQodmFsdWUsIGZuKVxuICpcbiAqIFdoZXJlOlxuICpcbiAqICAgIHtudW1iZXJ9IHZhbHVlICAgVGhlIHZhbHVlIHRvIGJlIGZvcm1hdHRlZFxuICogICAge09iamVjdH0gb3B0aW9ucyBBbiBvYmplY3Qgd2l0aCBmb3JtYXR0aW5nIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOlxuICogICAgICAgICAgICAgICAgICAgICB7c3RyaW5nfSBub3RhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG5vdGF0aW9uLiBDaG9vc2UgZnJvbTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdmaXhlZCcgICAgICAgICAgQWx3YXlzIHVzZSByZWd1bGFyIG51bWJlciBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40MCcgYW5kICcxNDAwMDAwMCdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdleHBvbmVudGlhbCcgICAgQWx3YXlzIHVzZSBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEuMjM0ZSsyJyBhbmQgJzEuNGUrNydcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvJyAoZGVmYXVsdCkgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMsIGFuZCB1c2VzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGV4Y2x1ZGVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBwcmVjaXNpb24gICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgdG90YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdC5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gbG93ZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIGxvd2VyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYC0zYC5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gdXBwZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIHVwcGVyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYDVgLlxuICogICAge0Z1bmN0aW9ufSBmbiAgICBBIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9uLiBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgYnVpbHQtaW4gbm90YXRpb25zLiBGdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCB3aXRoIGB2YWx1ZWAgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGFuZCBtdXN0IHJldHVybiBhIHN0cmluZy4gSXMgdXNlZnVsIGZvciBleGFtcGxlIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgIGZvcm1hdCBhbGwgdmFsdWVzIGluc2lkZSBhIG1hdHJpeCBpbiBhIHBhcnRpY3VsYXIgd2F5LlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGZvcm1hdCg2LjQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICc2LjQnXG4gKiAgICBmb3JtYXQoMTI0MDAwMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMS4yNGU2J1xuICogICAgZm9ybWF0KDEvMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzAuMzMzMzMzMzMzMzMzMzMzMydcbiAqICAgIGZvcm1hdCgxLzMsIDMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMydcbiAqICAgIGZvcm1hdCgyMTM4NSwgMikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcyMTAwMCdcbiAqICAgIGZvcm1hdCgxMmU4LCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzEyMDAwMDAwMDAnXG4gKiAgICBmb3JtYXQoMi4zLCAgICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogNH0pICAvLyByZXR1cm5zICcyLjMwMDAnXG4gKiAgICBmb3JtYXQoNTIuOCwgICB7bm90YXRpb246ICdleHBvbmVudGlhbCd9KSAgICAgICAgICAvLyByZXR1cm5zICc1LjI4ZSsxJ1xuICogICAgZm9ybWF0KDEyNDAwLCAge25vdGF0aW9uOiAnZW5naW5lZXJpbmcnfSkgICAgICAgICAgLy8gcmV0dXJucyAnMTIuNDAwZSszJ1xuICpcbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IG51bWJlcn0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0ciBUaGUgZm9ybWF0dGVkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gaGFuZGxlIGZvcm1hdCh2YWx1ZSwgZm4pXG4gICAgcmV0dXJuIG9wdGlvbnModmFsdWUpO1xuICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzXG5cblxuICBpZiAoIXZhbHVlLmlzRmluaXRlKCkpIHtcbiAgICByZXR1cm4gdmFsdWUuaXNOYU4oKSA/ICdOYU4nIDogdmFsdWUuZ3QoMCkgPyAnSW5maW5pdHknIDogJy1JbmZpbml0eSc7XG4gIH0gLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIG9wdGlvbnNcblxuXG4gIHZhciBub3RhdGlvbiA9ICdhdXRvJztcbiAgdmFyIHByZWNpc2lvbjtcblxuICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gZGV0ZXJtaW5lIG5vdGF0aW9uIGZyb20gb3B0aW9uc1xuICAgIGlmIChvcHRpb25zLm5vdGF0aW9uKSB7XG4gICAgICBub3RhdGlvbiA9IG9wdGlvbnMubm90YXRpb247XG4gICAgfSAvLyBkZXRlcm1pbmUgcHJlY2lzaW9uIGZyb20gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wcmVjaXNpb24pIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMucHJlY2lzaW9uO1xuICAgIH1cbiAgfSAvLyBoYW5kbGUgdGhlIHZhcmlvdXMgbm90YXRpb25zXG5cblxuICBzd2l0Y2ggKG5vdGF0aW9uKSB7XG4gICAgY2FzZSAnZml4ZWQnOlxuICAgICAgcmV0dXJuIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdleHBvbmVudGlhbCc6XG4gICAgICByZXR1cm4gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2VuZ2luZWVyaW5nJzpcbiAgICAgIHJldHVybiB0b0VuZ2luZWVyaW5nKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnYXV0byc6XG4gICAgICB7XG4gICAgICAgIC8vIGRldGVybWluZSBsb3dlciBhbmQgdXBwZXIgYm91bmQgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgc3VwcG9ydCBmb3IgdXBwZXIgYW5kIGxvd2VyIHRvIGJlIEJpZ051bWJlcnMgdGhlbXNlbHZlc1xuICAgICAgICB2YXIgbG93ZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMubG93ZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubG93ZXJFeHAgOiAtMztcbiAgICAgICAgdmFyIHVwcGVyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLnVwcGVyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVwcGVyRXhwIDogNTsgLy8gaGFuZGxlIHNwZWNpYWwgY2FzZSB6ZXJvXG5cbiAgICAgICAgaWYgKHZhbHVlLmlzWmVybygpKSByZXR1cm4gJzAnOyAvLyBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gb3V0cHV0IGV4cG9uZW50aWFsIG5vdGF0aW9uXG5cbiAgICAgICAgdmFyIHN0cjtcbiAgICAgICAgdmFyIHJvdW5kZWQgPSB2YWx1ZS50b1NpZ25pZmljYW50RGlnaXRzKHByZWNpc2lvbik7XG4gICAgICAgIHZhciBleHAgPSByb3VuZGVkLmU7XG5cbiAgICAgICAgaWYgKGV4cCA+PSBsb3dlckV4cCAmJiBleHAgPCB1cHBlckV4cCkge1xuICAgICAgICAgIC8vIG5vcm1hbCBudW1iZXIgbm90YXRpb25cbiAgICAgICAgICBzdHIgPSByb3VuZGVkLnRvRml4ZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBleHBvbmVudGlhbCBub3RhdGlvblxuICAgICAgICAgIHN0ciA9IHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG4gICAgICAgIH0gLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50XG5cblxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLygoXFwuXFxkKj8pKDArKSkoJHxlKS8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZGlnaXRzID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgIHZhciBlID0gYXJndW1lbnRzWzRdO1xuICAgICAgICAgIHJldHVybiBkaWdpdHMgIT09ICcuJyA/IGRpZ2l0cyArIGUgOiBlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbm90YXRpb24gXCInICsgbm90YXRpb24gKyAnXCIuICcgKyAnQ2hvb3NlIFwiYXV0b1wiLCBcImV4cG9uZW50aWFsXCIsIG9yIFwiZml4ZWRcIi4nKTtcbiAgfVxufVxuLyoqXG4gKiBGb3JtYXQgYSBCaWdOdW1iZXIgaW4gZW5naW5lZXJpbmcgbm90YXRpb24uIExpa2UgJzEuMjNlKzYnLCAnMi4zZSswJywgJzMuNTAwZS0zJ1xuICogQHBhcmFtIHtCaWdOdW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbl0gICAgICAgIE9wdGlvbmFsIG51bWJlciBvZiBzaWduaWZpY2FudCBmaWd1cmVzIHRvIHJldHVybi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIC8vIGZpbmQgbmVhcmVzdCBsb3dlciBtdWx0aXBsZSBvZiAzIGZvciBleHBvbmVudFxuICB2YXIgZSA9IHZhbHVlLmU7XG4gIHZhciBuZXdFeHAgPSBlICUgMyA9PT0gMCA/IGUgOiBlIDwgMCA/IGUgLSAzIC0gZSAlIDMgOiBlIC0gZSAlIDM7IC8vIGZpbmQgZGlmZmVyZW5jZSBpbiBleHBvbmVudHMsIGFuZCBjYWxjdWxhdGUgdGhlIHZhbHVlIHdpdGhvdXQgZXhwb25lbnRcblxuICB2YXIgdmFsdWVXaXRob3V0RXhwID0gdmFsdWUubXVsKE1hdGgucG93KDEwLCAtbmV3RXhwKSk7XG4gIHZhciB2YWx1ZVN0ciA9IHZhbHVlV2l0aG91dEV4cC50b1ByZWNpc2lvbihwcmVjaXNpb24pO1xuXG4gIGlmICh2YWx1ZVN0ci5pbmRleE9mKCdlJykgIT09IC0xKSB7XG4gICAgdmFsdWVTdHIgPSB2YWx1ZVdpdGhvdXRFeHAudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZVN0ciArICdlJyArIChlID49IDAgPyAnKycgOiAnJykgKyBuZXdFeHAudG9TdHJpbmcoKTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs1JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICBOdW1iZXIgb2YgZGlnaXRzIGluIGZvcm1hdHRlZCBvdXRwdXQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1heGltdW0gYXZhaWxhYmxlIGRpZ2l0c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB1c2VkLlxuICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAocHJlY2lzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsdWUudG9FeHBvbmVudGlhbChwcmVjaXNpb24gLSAxKTsgLy8gTm90ZSB0aGUgb2Zmc2V0IG9mIG9uZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKCk7XG4gIH1cbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggZml4ZWQgbm90YXRpb24uXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPXVuZGVmaW5lZF0gT3B0aW9uYWwgbnVtYmVyIG9mIGRlY2ltYWxzIGFmdGVyIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpbWFsIHBvaW50LiBVbmRlZmluZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIHJldHVybiB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIsIGlzU3RyaW5nLCB0eXBlT2YgfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXROdW1iZXIgfSBmcm9tICcuL251bWJlci5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0QmlnTnVtYmVyIH0gZnJvbSAnLi9iaWdudW1iZXIvZm9ybWF0dGVyLmpzJztcbi8qKlxuICogQ2hlY2sgaWYgYSB0ZXh0IGVuZHMgd2l0aCBhIGNlcnRhaW4gc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kc1dpdGgodGV4dCwgc2VhcmNoKSB7XG4gIHZhciBzdGFydCA9IHRleHQubGVuZ3RoIC0gc2VhcmNoLmxlbmd0aDtcbiAgdmFyIGVuZCA9IHRleHQubGVuZ3RoO1xuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgPT09IHNlYXJjaDtcbn1cbi8qKlxuICogRm9ybWF0IGEgdmFsdWUgb2YgYW55IHR5cGUgaW50byBhIHN0cmluZy5cbiAqXG4gKiBVc2FnZTpcbiAqICAgICBtYXRoLmZvcm1hdCh2YWx1ZSlcbiAqICAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICpcbiAqIFdoZW4gdmFsdWUgaXMgYSBmdW5jdGlvbjpcbiAqXG4gKiAtIFdoZW4gdGhlIGZ1bmN0aW9uIGhhcyBhIHByb3BlcnR5IGBzeW50YXhgLCBpdCByZXR1cm5zIHRoaXNcbiAqICAgc3ludGF4IGRlc2NyaXB0aW9uLlxuICogLSBJbiBvdGhlciBjYXNlcywgYSBzdHJpbmcgYCdmdW5jdGlvbidgIGlzIHJldHVybmVkLlxuICpcbiAqIFdoZW4gYHZhbHVlYCBpcyBhbiBPYmplY3Q6XG4gKlxuICogLSBXaGVuIHRoZSBvYmplY3QgY29udGFpbnMgYSBwcm9wZXJ0eSBgZm9ybWF0YCBiZWluZyBhIGZ1bmN0aW9uLCB0aGlzXG4gKiAgIGZ1bmN0aW9uIGlzIGludm9rZWQgYXMgYHZhbHVlLmZvcm1hdChvcHRpb25zKWAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gKiAtIFdoZW4gdGhlIG9iamVjdCBoYXMgaXRzIG93biBgdG9TdHJpbmdgIG1ldGhvZCwgdGhpcyBtZXRob2QgaXMgaW52b2tlZFxuICogICBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAqIC0gSW4gb3RoZXIgY2FzZXMgdGhlIGZ1bmN0aW9uIHdpbGwgbG9vcCBvdmVyIGFsbCBvYmplY3QgcHJvcGVydGllcyBhbmRcbiAqICAgcmV0dXJuIEpTT04gb2JqZWN0IG5vdGF0aW9uIGxpa2UgJ3tcImFcIjogMiwgXCJiXCI6IDN9Jy5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogICAgIG1hdGguZm9ybWF0KDIvNykgICAgICAgICAgICAgICAgLy8gJzAuMjg1NzE0Mjg1NzE0Mjg1NydcbiAqICAgICBtYXRoLmZvcm1hdChtYXRoLnBpLCAzKSAgICAgICAgIC8vICczLjE0J1xuICogICAgIG1hdGguZm9ybWF0KG5ldyBDb21wbGV4KDIsIDMpKSAgLy8gJzIgKyAzaSdcbiAqICAgICBtYXRoLmZvcm1hdCgnaGVsbG8nKSAgICAgICAgICAgIC8vICdcImhlbGxvXCInXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSAgICAgICAgICAgICBWYWx1ZSB0byBiZSBzdHJpbmdpZmllZFxuICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChpc0JpZ051bWJlcih2YWx1ZSkpIHtcbiAgICByZXR1cm4gZm9ybWF0QmlnTnVtYmVyKHZhbHVlLCBvcHRpb25zKTtcbiAgfSAvLyBub3RlOiB3ZSB1c2UgdW5zYWZlIGR1Y2stdHlwaW5nIGhlcmUgdG8gY2hlY2sgZm9yIEZyYWN0aW9ucywgdGhpcyBpc1xuICAvLyBvayBoZXJlIHNpbmNlIHdlJ3JlIG9ubHkgaW52b2tpbmcgdG9TdHJpbmcgb3IgY29uY2F0ZW5hdGluZyBpdHMgdmFsdWVzXG5cblxuICBpZiAobG9va3NMaWtlRnJhY3Rpb24odmFsdWUpKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZnJhY3Rpb24gIT09ICdkZWNpbWFsJykge1xuICAgICAgLy8gb3V0cHV0IGFzIHJhdGlvLCBsaWtlICcxLzMnXG4gICAgICByZXR1cm4gdmFsdWUucyAqIHZhbHVlLm4gKyAnLycgKyB2YWx1ZS5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdXRwdXQgYXMgZGVjaW1hbCwgbGlrZSAnMC4oMyknXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZm9ybWF0QXJyYXkodmFsdWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiAnXCInICsgdmFsdWUgKyAnXCInO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWx1ZS5zeW50YXggPyBTdHJpbmcodmFsdWUuc3ludGF4KSA6ICdmdW5jdGlvbic7XG4gIH1cblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh0eXBlb2YgdmFsdWUuZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdmFsdWUuZm9ybWF0KG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdmFsdWUudG9TdHJpbmcob3B0aW9ucykgIT09IHt9LnRvU3RyaW5nKCkpIHtcbiAgICAgIC8vIHRoaXMgb2JqZWN0IGhhcyBhIG5vbi1uYXRpdmUgdG9TdHJpbmcgbWV0aG9kLCB1c2UgdGhhdCBvbmVcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGVudHJpZXMgPSBPYmplY3Qua2V5cyh2YWx1ZSkubWFwKGtleSA9PiB7XG4gICAgICAgIHJldHVybiAnXCInICsga2V5ICsgJ1wiOiAnICsgZm9ybWF0KHZhbHVlW2tleV0sIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gJ3snICsgZW50cmllcy5qb2luKCcsICcpICsgJ30nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuLyoqXG4gKiBTdHJpbmdpZnkgYSB2YWx1ZSBpbnRvIGEgc3RyaW5nIGVuY2xvc2VkIGluIGRvdWJsZSBxdW90ZXMuXG4gKiBVbmVzY2FwZWQgZG91YmxlIHF1b3RlcyBhbmQgYmFja3NsYXNoZXMgaW5zaWRlIHRoZSB2YWx1ZSBhcmUgZXNjYXBlZC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlKSB7XG4gIHZhciB0ZXh0ID0gU3RyaW5nKHZhbHVlKTtcbiAgdmFyIGVzY2FwZWQgPSAnJztcbiAgdmFyIGkgPSAwO1xuXG4gIHdoaWxlIChpIDwgdGV4dC5sZW5ndGgpIHtcbiAgICB2YXIgYyA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgZXNjYXBlZCArPSBjO1xuICAgICAgaSsrO1xuICAgICAgYyA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICBpZiAoYyA9PT0gJycgfHwgJ1wiXFxcXC9iZm5ydHUnLmluZGV4T2YoYykgPT09IC0xKSB7XG4gICAgICAgIGVzY2FwZWQgKz0gJ1xcXFwnOyAvLyBubyB2YWxpZCBlc2NhcGUgY2hhcmFjdGVyIC0+IGVzY2FwZSBpdFxuICAgICAgfVxuXG4gICAgICBlc2NhcGVkICs9IGM7XG4gICAgfSBlbHNlIGlmIChjID09PSAnXCInKSB7XG4gICAgICBlc2NhcGVkICs9ICdcXFxcXCInO1xuICAgIH0gZWxzZSB7XG4gICAgICBlc2NhcGVkICs9IGM7XG4gICAgfVxuXG4gICAgaSsrO1xuICB9XG5cbiAgcmV0dXJuICdcIicgKyBlc2NhcGVkICsgJ1wiJztcbn1cbi8qKlxuICogRXNjYXBlIHNwZWNpYWwgSFRNTCBjaGFyYWN0ZXJzXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSkge1xuICB2YXIgdGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLnJlcGxhY2UoLycvZywgJyYjMzk7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgcmV0dXJuIHRleHQ7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGZvcm1hdCBhbiBuLWRpbWVuc2lvbmFsIG1hdHJpeFxuICogRXhhbXBsZSBvdXRwdXQ6IFwiW1sxLCAyXSwgWzMsIDRdXVwiXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShhcnJheSwgb3B0aW9ucykge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICB2YXIgc3RyID0gJ1snO1xuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICBzdHIgKz0gJywgJztcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGZvcm1hdEFycmF5KGFycmF5W2ldLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJ10nO1xuICAgIHJldHVybiBzdHI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1hdChhcnJheSwgb3B0aW9ucyk7XG4gIH1cbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhIHZhbHVlIGxvb2tzIGxpa2UgYSBGcmFjdGlvbiAodW5zYWZlIGR1Y2stdHlwZSBjaGVjaylcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuXG5mdW5jdGlvbiBsb29rc0xpa2VGcmFjdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUucyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLm4gPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5kID09PSAnbnVtYmVyJyB8fCBmYWxzZTtcbn1cbi8qKlxuICogQ29tcGFyZSB0d28gc3RyaW5nc1xuICogQHBhcmFtIHtzdHJpbmd9IHhcbiAqIEBwYXJhbSB7c3RyaW5nfSB5XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVUZXh0KHgsIHkpIHtcbiAgLy8gd2UgZG9uJ3Qgd2FudCB0byBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nLCBvbmx5IGFjY2VwdCBzdHJpbmcgaW5wdXRcbiAgaWYgKCFpc1N0cmluZyh4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiBjb21wYXJlVGV4dCAnICsgJyhleHBlY3RlZDogc3RyaW5nIG9yIEFycmF5IG9yIE1hdHJpeCwgYWN0dWFsOiAnICsgdHlwZU9mKHgpICsgJywgaW5kZXg6IDApJyk7XG4gIH1cblxuICBpZiAoIWlzU3RyaW5nKHkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCB0eXBlIG9mIGFyZ3VtZW50IGluIGZ1bmN0aW9uIGNvbXBhcmVUZXh0ICcgKyAnKGV4cGVjdGVkOiBzdHJpbmcgb3IgQXJyYXkgb3IgTWF0cml4LCBhY3R1YWw6ICcgKyB0eXBlT2YoeSkgKyAnLCBpbmRleDogMSknKTtcbiAgfVxuXG4gIHJldHVybiB4ID09PSB5ID8gMCA6IHggPiB5ID8gMSA6IC0xO1xufSIsIi8qKlxuICogQ3JlYXRlIGEgcmFuZ2UgZXJyb3Igd2l0aCB0aGUgbWVzc2FnZTpcbiAqICAgICAnRGltZW5zaW9uIG1pc21hdGNoICg8YWN0dWFsIHNpemU+ICE9IDxleHBlY3RlZCBzaXplPiknXG4gKiBAcGFyYW0ge251bWJlciB8IG51bWJlcltdfSBhY3R1YWwgICAgICAgIFRoZSBhY3R1YWwgc2l6ZVxuICogQHBhcmFtIHtudW1iZXIgfCBudW1iZXJbXX0gZXhwZWN0ZWQgICAgICBUaGUgZXhwZWN0ZWQgc2l6ZVxuICogQHBhcmFtIHtzdHJpbmd9IFtyZWxhdGlvbj0nIT0nXSAgICAgICAgICBPcHRpb25hbCByZWxhdGlvbiBiZXR3ZWVuIGFjdHVhbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgZXhwZWN0ZWQgc2l6ZTogJyE9JywgJzwnLCBldGMuXG4gKiBAZXh0ZW5kcyBSYW5nZUVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEaW1lbnNpb25FcnJvcihhY3R1YWwsIGV4cGVjdGVkLCByZWxhdGlvbikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGltZW5zaW9uRXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuYWN0dWFsID0gYWN0dWFsO1xuICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gIHRoaXMucmVsYXRpb24gPSByZWxhdGlvbjtcbiAgdGhpcy5tZXNzYWdlID0gJ0RpbWVuc2lvbiBtaXNtYXRjaCAoJyArIChBcnJheS5pc0FycmF5KGFjdHVhbCkgPyAnWycgKyBhY3R1YWwuam9pbignLCAnKSArICddJyA6IGFjdHVhbCkgKyAnICcgKyAodGhpcy5yZWxhdGlvbiB8fCAnIT0nKSArICcgJyArIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSA/ICdbJyArIGV4cGVjdGVkLmpvaW4oJywgJykgKyAnXScgOiBleHBlY3RlZCkgKyAnKSc7XG4gIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbn1cbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZSA9IG5ldyBSYW5nZUVycm9yKCk7XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSYW5nZUVycm9yO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnRGltZW5zaW9uRXJyb3InO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLmlzRGltZW5zaW9uRXJyb3IgPSB0cnVlOyIsIi8qKlxuICogQ3JlYXRlIGEgcmFuZ2UgZXJyb3Igd2l0aCB0aGUgbWVzc2FnZTpcbiAqICAgICAnSW5kZXggb3V0IG9mIHJhbmdlIChpbmRleCA8IG1pbiknXG4gKiAgICAgJ0luZGV4IG91dCBvZiByYW5nZSAoaW5kZXggPCBtYXgpJ1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAgICAgVGhlIGFjdHVhbCBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFttaW49MF0gICBNaW5pbXVtIGluZGV4IChpbmNsdWRlZClcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4XSAgICAgTWF4aW11bSBpbmRleCAoZXhjbHVkZWQpXG4gKiBAZXh0ZW5kcyBSYW5nZUVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJbmRleEVycm9yKGluZGV4LCBtaW4sIG1heCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5kZXhFcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICB9XG5cbiAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgIHRoaXMubWluID0gMDtcbiAgICB0aGlzLm1heCA9IG1pbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICB0aGlzLm1heCA9IG1heDtcbiAgfVxuXG4gIGlmICh0aGlzLm1pbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW5kZXggPCB0aGlzLm1pbikge1xuICAgIHRoaXMubWVzc2FnZSA9ICdJbmRleCBvdXQgb2YgcmFuZ2UgKCcgKyB0aGlzLmluZGV4ICsgJyA8ICcgKyB0aGlzLm1pbiArICcpJztcbiAgfSBlbHNlIGlmICh0aGlzLm1heCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW5kZXggPj0gdGhpcy5tYXgpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSAnSW5kZXggb3V0IG9mIHJhbmdlICgnICsgdGhpcy5pbmRleCArICcgPiAnICsgKHRoaXMubWF4IC0gMSkgKyAnKSc7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tZXNzYWdlID0gJ0luZGV4IG91dCBvZiByYW5nZSAoJyArIHRoaXMuaW5kZXggKyAnKSc7XG4gIH1cblxuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5JbmRleEVycm9yLnByb3RvdHlwZSA9IG5ldyBSYW5nZUVycm9yKCk7XG5JbmRleEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlRXJyb3I7XG5JbmRleEVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0luZGV4RXJyb3InO1xuSW5kZXhFcnJvci5wcm90b3R5cGUuaXNJbmRleEVycm9yID0gdHJ1ZTsiLCJpbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuL251bWJlci5qcyc7XG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi9zdHJpbmcuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBJbmRleEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvSW5kZXhFcnJvci5qcyc7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5LlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdGhlIHNpemUgb2YgdGhlIGZpcnN0IGVudHJ5LCBpdCBkb2VzIG5vdCB2YWxpZGF0ZVxuICogd2hldGhlciBhbGwgZGltZW5zaW9ucyBtYXRjaC4gKHVzZSBmdW5jdGlvbiBgdmFsaWRhdGVgIGZvciB0aGF0KVxuICogQHBhcmFtIHtBcnJheX0geFxuICogQFJldHVybiB7TnVtYmVyW119IHNpemVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlTaXplKHgpIHtcbiAgdmFyIHMgPSBbXTtcblxuICB3aGlsZSAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHMucHVzaCh4Lmxlbmd0aCk7XG4gICAgeCA9IHhbMF07XG4gIH1cblxuICByZXR1cm4gcztcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgdmFsaWRhdGUgd2hldGhlciBlYWNoIGVsZW1lbnQgaW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogaGFzIGEgc2l6ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBzaXplIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgQXJyYXkgdG8gYmUgdmFsaWRhdGVkXG4gKiBAcGFyYW0ge251bWJlcltdfSBzaXplICBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEB0aHJvd3MgRGltZW5zaW9uRXJyb3JcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3ZhbGlkYXRlKGFycmF5LCBzaXplLCBkaW0pIHtcbiAgdmFyIGk7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgaWYgKGxlbiAhPT0gc2l6ZVtkaW1dKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGxlbiwgc2l6ZVtkaW1dKTtcbiAgfVxuXG4gIGlmIChkaW0gPCBzaXplLmxlbmd0aCAtIDEpIHtcbiAgICAvLyByZWN1cnNpdmVseSB2YWxpZGF0ZSBlYWNoIGNoaWxkIGFycmF5XG4gICAgdmFyIGRpbU5leHQgPSBkaW0gKyAxO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNoaWxkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGggLSAxLCBzaXplLmxlbmd0aCwgJzwnKTtcbiAgICAgIH1cblxuICAgICAgX3ZhbGlkYXRlKGFycmF5W2ldLCBzaXplLCBkaW1OZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbGFzdCBkaW1lbnNpb24uIG5vbmUgb2YgdGhlIGNoaWxkcyBtYXkgYmUgYW4gYXJyYXlcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5W2ldKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGggKyAxLCBzaXplLmxlbmd0aCwgJz4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciBlYWNoIGVsZW1lbnQgaW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSBoYXNcbiAqIGEgc2l6ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBzaXplIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgQXJyYXkgdG8gYmUgdmFsaWRhdGVkXG4gKiBAcGFyYW0ge251bWJlcltdfSBzaXplICBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAdGhyb3dzIERpbWVuc2lvbkVycm9yXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoYXJyYXksIHNpemUpIHtcbiAgdmFyIGlzU2NhbGFyID0gc2l6ZS5sZW5ndGggPT09IDA7XG5cbiAgaWYgKGlzU2NhbGFyKSB7XG4gICAgLy8gc2NhbGFyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXJyYXkubGVuZ3RoLCAwKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXlcbiAgICBfdmFsaWRhdGUoYXJyYXksIHNpemUsIDApO1xuICB9XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBpbmRleCBpcyBhbiBpbnRlZ2VyIG51bWJlciB3aXRoIGluZGV4ID49IDAgYW5kIGluZGV4IDwgbGVuZ3RoXG4gKiB3aGVuIGxlbmd0aCBpcyBwcm92aWRlZFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4ICAgIFplcm8tYmFzZWQgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBMZW5ndGggb2YgdGhlIGFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5kZXgoaW5kZXgsIGxlbmd0aCkge1xuICBpZiAoIWlzTnVtYmVyKGluZGV4KSB8fCAhaXNJbnRlZ2VyKGluZGV4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4IG11c3QgYmUgYW4gaW50ZWdlciAodmFsdWU6ICcgKyBpbmRleCArICcpJyk7XG4gIH1cblxuICBpZiAoaW5kZXggPCAwIHx8IHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGluZGV4ID49IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBJbmRleEVycm9yKGluZGV4LCBsZW5ndGgpO1xuICB9XG59XG4vKipcbiAqIFJlc2l6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5LiBUaGUgcmVzaXplZCBhcnJheSBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaXplZFxuICogQHBhcmFtIHtBcnJheS48bnVtYmVyPn0gc2l6ZSBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gIFZhbHVlIHRvIGJlIGZpbGxlZCBpbiBpbiBuZXcgZW50cmllcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemVybyBieSBkZWZhdWx0LiBTcGVjaWZ5IGZvciBleGFtcGxlIGBudWxsYCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gY2xlYXJseSBzZWUgZW50cmllcyB0aGF0IGFyZSBub3QgZXhwbGljaXRseVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQuXG4gKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgICAgICAgICBUaGUgcmVzaXplZCBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemUoYXJyYXksIHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3Igc2NhbGFycywgaGF2aW5nIHNpemU9W10gP1xuICAvLyBjaGVjayB0aGUgdHlwZSBvZiB0aGUgYXJndW1lbnRzXG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKHNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXNpemluZyB0byBzY2FsYXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICB9IC8vIGNoZWNrIHdoZXRoZXIgc2l6ZSBjb250YWlucyBwb3NpdGl2ZSBpbnRlZ2Vyc1xuXG5cbiAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzaXplLCBtdXN0IGNvbnRhaW4gcG9zaXRpdmUgaW50ZWdlcnMgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgfVxuICB9KTsgLy8gcmVjdXJzaXZlbHkgcmVzaXplIHRoZSBhcnJheVxuXG4gIHZhciBfZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAwO1xuXG4gIF9yZXNpemUoYXJyYXksIHNpemUsIDAsIF9kZWZhdWx0VmFsdWUpO1xuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgcmVzaXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaXplZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICAgICAgICAgIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgIFZhbHVlIHRvIGJlIGZpbGxlZCBpbiBpbiBuZXcgZW50cmllcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9yZXNpemUoYXJyYXksIHNpemUsIGRpbSwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBpO1xuICB2YXIgZWxlbTtcbiAgdmFyIG9sZExlbiA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIG5ld0xlbiA9IHNpemVbZGltXTtcbiAgdmFyIG1pbkxlbiA9IE1hdGgubWluKG9sZExlbiwgbmV3TGVuKTsgLy8gYXBwbHkgbmV3IGxlbmd0aFxuXG4gIGFycmF5Lmxlbmd0aCA9IG5ld0xlbjtcblxuICBpZiAoZGltIDwgc2l6ZS5sZW5ndGggLSAxKSB7XG4gICAgLy8gbm9uLWxhc3QgZGltZW5zaW9uXG4gICAgdmFyIGRpbU5leHQgPSBkaW0gKyAxOyAvLyByZXNpemUgZXhpc3RpbmcgY2hpbGQgYXJyYXlzXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcbiAgICAgIC8vIHJlc2l6ZSBjaGlsZCBhcnJheVxuICAgICAgZWxlbSA9IGFycmF5W2ldO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZWxlbSkpIHtcbiAgICAgICAgZWxlbSA9IFtlbGVtXTsgLy8gYWRkIGEgZGltZW5zaW9uXG5cbiAgICAgICAgYXJyYXlbaV0gPSBlbGVtO1xuICAgICAgfVxuXG4gICAgICBfcmVzaXplKGVsZW0sIHNpemUsIGRpbU5leHQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSAvLyBjcmVhdGUgbmV3IGNoaWxkIGFycmF5c1xuXG5cbiAgICBmb3IgKGkgPSBtaW5MZW47IGkgPCBuZXdMZW47IGkrKykge1xuICAgICAgLy8gZ2V0IGNoaWxkIGFycmF5XG4gICAgICBlbGVtID0gW107XG4gICAgICBhcnJheVtpXSA9IGVsZW07IC8vIHJlc2l6ZSBuZXcgY2hpbGQgYXJyYXlcblxuICAgICAgX3Jlc2l6ZShlbGVtLCBzaXplLCBkaW1OZXh0LCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBsYXN0IGRpbWVuc2lvblxuICAgIC8vIHJlbW92ZSBkaW1lbnNpb25zIG9mIGV4aXN0aW5nIHZhbHVlc1xuICAgIGZvciAoaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgICAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXlbaV0pKSB7XG4gICAgICAgIGFycmF5W2ldID0gYXJyYXlbaV1bMF07XG4gICAgICB9XG4gICAgfSAvLyBmaWxsIG5ldyBlbGVtZW50cyB3aXRoIHRoZSBkZWZhdWx0IHZhbHVlXG5cblxuICAgIGZvciAoaSA9IG1pbkxlbjsgaSA8IG5ld0xlbjsgaSsrKSB7XG4gICAgICBhcnJheVtpXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUmUtc2hhcGUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSB0byBmaXQgdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaGFwZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemVzICBMaXN0IG9mIHNpemVzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5fSAgICAgICAgICAgICAgIEFycmF5IHdob3NlIGRhdGEgaGFzIGJlZW4gZm9ybWF0dGVkIHRvIGZpdCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICpcbiAqIEB0aHJvd3Mge0RpbWVuc2lvbkVycm9yfSAgICAgICBJZiB0aGUgcHJvZHVjdCBvZiB0aGUgbmV3IGRpbWVuc2lvbiBzaXplcyBkb2VzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGVxdWFsIHRoYXQgb2YgdGhlIG9sZCBvbmVzXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaGFwZShhcnJheSwgc2l6ZXMpIHtcbiAgdmFyIGZsYXRBcnJheSA9IGZsYXR0ZW4oYXJyYXkpO1xuICB2YXIgbmV3QXJyYXk7XG5cbiAgZnVuY3Rpb24gcHJvZHVjdChhcnIpIHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgocHJldiwgY3VycikgPT4gcHJldiAqIGN1cnIpO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSB8fCAhQXJyYXkuaXNBcnJheShzaXplcykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKHNpemVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcigwLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgfVxuXG4gIHZhciB0b3RhbFNpemUgPSAxO1xuXG4gIGZvciAodmFyIHNpemVJbmRleCA9IDA7IHNpemVJbmRleCA8IHNpemVzLmxlbmd0aDsgc2l6ZUluZGV4KyspIHtcbiAgICB0b3RhbFNpemUgKj0gc2l6ZXNbc2l6ZUluZGV4XTtcbiAgfVxuXG4gIGlmIChmbGF0QXJyYXkubGVuZ3RoICE9PSB0b3RhbFNpemUpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IocHJvZHVjdChzaXplcyksIHByb2R1Y3QoYXJyYXlTaXplKGFycmF5KSksICchPScpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBuZXdBcnJheSA9IF9yZXNoYXBlKGZsYXRBcnJheSwgc2l6ZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBEaW1lbnNpb25FcnJvcikge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHByb2R1Y3Qoc2l6ZXMpLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuLyoqXG4gKiBJdGVyYXRpdmVseSByZS1zaGFwZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5IHRvIGZpdCB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgICBBcnJheSB0byBiZSByZXNoYXBlZFxuICogQHBhcmFtIHtBcnJheS48bnVtYmVyPn0gc2l6ZXMgIExpc3Qgb2Ygc2l6ZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7QXJyYXl9ICAgICAgICAgICAgICAgQXJyYXkgd2hvc2UgZGF0YSBoYXMgYmVlbiBmb3JtYXR0ZWQgdG8gZml0IHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKi9cblxuZnVuY3Rpb24gX3Jlc2hhcGUoYXJyYXksIHNpemVzKSB7XG4gIC8vIHRlc3RpbmcgaWYgdGhlcmUgYXJlIGVub3VnaCBlbGVtZW50cyBmb3IgdGhlIHJlcXVlc3RlZCBzaGFwZVxuICB2YXIgdG1wQXJyYXkgPSBhcnJheTtcbiAgdmFyIHRtcEFycmF5MjsgLy8gZm9yIGVhY2ggZGltZW5zaW9ucyBzdGFydGluZyBieSB0aGUgbGFzdCBvbmUgYW5kIGlnbm9yaW5nIHRoZSBmaXJzdCBvbmVcblxuICBmb3IgKHZhciBzaXplSW5kZXggPSBzaXplcy5sZW5ndGggLSAxOyBzaXplSW5kZXggPiAwOyBzaXplSW5kZXgtLSkge1xuICAgIHZhciBzaXplID0gc2l6ZXNbc2l6ZUluZGV4XTtcbiAgICB0bXBBcnJheTIgPSBbXTsgLy8gYWdncmVnYXRlIHRoZSBlbGVtZW50cyBvZiB0aGUgY3VycmVudCB0bXBBcnJheSBpbiBlbGVtZW50cyBvZiB0aGUgcmVxdWVzdGVkIHNpemVcblxuICAgIHZhciBsZW5ndGggPSB0bXBBcnJheS5sZW5ndGggLyBzaXplO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdG1wQXJyYXkyLnB1c2godG1wQXJyYXkuc2xpY2UoaSAqIHNpemUsIChpICsgMSkgKiBzaXplKSk7XG4gICAgfSAvLyBzZXQgaXQgYXMgdGhlIG5ldyB0bXBBcnJheSBmb3IgdGhlIG5leHQgbG9vcCB0dXJuIG9yIGZvciByZXR1cm5cblxuXG4gICAgdG1wQXJyYXkgPSB0bXBBcnJheTI7XG4gIH1cblxuICByZXR1cm4gdG1wQXJyYXk7XG59XG4vKipcbiAqIFNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IFtzaXplXVxuICogQHJldHVybnMge0FycmF5fSByZXR1cm5zIHRoZSBhcnJheSBpdHNlbGZcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVlZXplKGFycmF5LCBzaXplKSB7XG4gIHZhciBzID0gc2l6ZSB8fCBhcnJheVNpemUoYXJyYXkpOyAvLyBzcXVlZXplIG91dGVyIGRpbWVuc2lvbnNcblxuICB3aGlsZSAoQXJyYXkuaXNBcnJheShhcnJheSkgJiYgYXJyYXkubGVuZ3RoID09PSAxKSB7XG4gICAgYXJyYXkgPSBhcnJheVswXTtcbiAgICBzLnNoaWZ0KCk7XG4gIH0gLy8gZmluZCB0aGUgZmlyc3QgZGltZW5zaW9uIHRvIGJlIHNxdWVlemVkXG5cblxuICB2YXIgZGltcyA9IHMubGVuZ3RoO1xuXG4gIHdoaWxlIChzW2RpbXMgLSAxXSA9PT0gMSkge1xuICAgIGRpbXMtLTtcbiAgfSAvLyBzcXVlZXplIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gIGlmIChkaW1zIDwgcy5sZW5ndGgpIHtcbiAgICBhcnJheSA9IF9zcXVlZXplKGFycmF5LCBkaW1zLCAwKTtcbiAgICBzLmxlbmd0aCA9IGRpbXM7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zIFJlcXVpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICBDdXJyZW50IGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5IHwgKn0gUmV0dXJucyB0aGUgc3F1ZWV6ZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3NxdWVlemUoYXJyYXksIGRpbXMsIGRpbSkge1xuICB2YXIgaSwgaWk7XG5cbiAgaWYgKGRpbSA8IGRpbXMpIHtcbiAgICB2YXIgbmV4dCA9IGRpbSArIDE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGFycmF5W2ldID0gX3NxdWVlemUoYXJyYXlbaV0sIGRpbXMsIG5leHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAgIGFycmF5ID0gYXJyYXlbMF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBVbnNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheTogYWRkIGRpbWVuc2lvbnMgd2hlbiBtaXNzaW5nXG4gKlxuICogUGFyYW10ZXIgYHNpemVgIHdpbGwgYmUgbXV0YXRlZCB0byBtYXRjaCB0aGUgbmV3LCB1bnF1ZWV6ZWQgbWF0cml4IHNpemUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zICAgICAgIERlc2lyZWQgbnVtYmVyIG9mIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gW291dGVyXSAgICBOdW1iZXIgb2Ygb3V0ZXIgZGltZW5zaW9ucyB0byBiZSBhZGRlZFxuICogQHBhcmFtIHtBcnJheX0gW3NpemVdIEN1cnJlbnQgc2l6ZSBvZiBhcnJheS5cbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0dXJucyB0aGUgYXJyYXkgaXRzZWxmXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc3F1ZWV6ZShhcnJheSwgZGltcywgb3V0ZXIsIHNpemUpIHtcbiAgdmFyIHMgPSBzaXplIHx8IGFycmF5U2l6ZShhcnJheSk7IC8vIHVuc3F1ZWV6ZSBvdXRlciBkaW1lbnNpb25zXG5cbiAgaWYgKG91dGVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRlcjsgaSsrKSB7XG4gICAgICBhcnJheSA9IFthcnJheV07XG4gICAgICBzLnVuc2hpZnQoMSk7XG4gICAgfVxuICB9IC8vIHVuc3F1ZWV6ZSBpbm5lciBkaW1lbnNpb25zXG5cblxuICBhcnJheSA9IF91bnNxdWVlemUoYXJyYXksIGRpbXMsIDApO1xuXG4gIHdoaWxlIChzLmxlbmd0aCA8IGRpbXMpIHtcbiAgICBzLnB1c2goMSk7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHVuc3F1ZWV6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgUmVxdWlyZWQgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7QXJyYXkgfCAqfSBSZXR1cm5zIHRoZSBzcXVlZXplZCBhcnJheVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfdW5zcXVlZXplKGFycmF5LCBkaW1zLCBkaW0pIHtcbiAgdmFyIGksIGlpO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIHZhciBuZXh0ID0gZGltICsgMTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBfdW5zcXVlZXplKGFycmF5W2ldLCBkaW1zLCBuZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgZCA9IGRpbTsgZCA8IGRpbXM7IGQrKykge1xuICAgICAgYXJyYXkgPSBbYXJyYXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogRmxhdHRlbiBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5LCBwdXQgYWxsIGVsZW1lbnRzIGluIGEgb25lIGRpbWVuc2lvbmFsXG4gKiBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICBBIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gICAgICAgIFRoZSBmbGF0dGVuZWQgYXJyYXkgKDEgZGltZW5zaW9uYWwpXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgLy8gaWYgbm90IGFuIGFycmF5LCByZXR1cm4gYXMgaXNcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICB2YXIgZmxhdCA9IFtdO1xuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIGNhbGxiYWNrKHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKGNhbGxiYWNrKTsgLy8gdHJhdmVyc2UgdGhyb3VnaCBzdWItYXJyYXlzIHJlY3Vyc2l2ZWx5XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsYXQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZsYXQ7XG59XG4vKipcbiAqIEEgc2FmZSBtYXBcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXAoYXJyYXksIGNhbGxiYWNrKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGNhbGxiYWNrKTtcbn1cbi8qKlxuICogQSBzYWZlIGZvckVhY2hcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGFycmF5LCBjYWxsYmFjaykge1xuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEEgc2FmZSBmaWx0ZXJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIoYXJyYXksIGNhbGxiYWNrKSB7XG4gIGlmIChhcnJheVNpemUoYXJyYXkpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgZGltZW5zaW9uYWwgbWF0cmljZXMgc3VwcG9ydGVkJyk7XG4gIH1cblxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEZpbHRlciB2YWx1ZXMgaW4gYSBjYWxsYmFjayBnaXZlbiBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHBcbiAqIEByZXR1cm4ge0FycmF5fSBSZXR1cm5zIHRoZSBmaWx0ZXJlZCBhcnJheVxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyUmVnRXhwKGFycmF5LCByZWdleHApIHtcbiAgaWYgKGFycmF5U2l6ZShhcnJheSkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBkaW1lbnNpb25hbCBtYXRyaWNlcyBzdXBwb3J0ZWQnKTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyYXksIGVudHJ5ID0+IHJlZ2V4cC50ZXN0KGVudHJ5KSk7XG59XG4vKipcbiAqIEEgc2FmZSBqb2luXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG59XG4vKipcbiAqIEFzc2lnbiBhIG51bWVyaWMgaWRlbnRpZmllciB0byBldmVyeSBlbGVtZW50IG9mIGEgc29ydGVkIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhICBBbiBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyB0aGUgb3JpZ2luYWwgdmFsdWUgYW5kIGl0cyBpZGVudGlmaWVyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZ5KGEpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgaW5wdXQgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgdmFyIGIgPSBbXTtcbiAgdmFyIGNvdW50ID0gMDtcbiAgYlswXSA9IHtcbiAgICB2YWx1ZTogYVswXSxcbiAgICBpZGVudGlmaWVyOiAwXG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFbaV0gPT09IGFbaSAtIDFdKSB7XG4gICAgICBjb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuXG4gICAgYi5wdXNoKHtcbiAgICAgIHZhbHVlOiBhW2ldLFxuICAgICAgaWRlbnRpZmllcjogY291bnRcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBiO1xufVxuLyoqXG4gKiBSZW1vdmUgdGhlIG51bWVyaWMgaWRlbnRpZmllciBmcm9tIHRoZSBlbGVtZW50c1xuICogQHBhcmFtIHthcnJheX0gYSAgQW4gYXJyYXlcbiAqIEByZXR1cm4ge2FycmF5fSBBbiBhcnJheSBvZiB2YWx1ZXMgd2l0aG91dCBpZGVudGlmaWVyc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmFsaXplKGEpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgaW5wdXQgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgdmFyIGIgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBiLnB1c2goYVtpXS52YWx1ZSk7XG4gIH1cblxuICByZXR1cm4gYjtcbn1cbi8qKlxuICogQ2hlY2sgdGhlIGRhdGF0eXBlIG9mIGEgZ2l2ZW4gb2JqZWN0XG4gKiBUaGlzIGlzIGEgbG93IGxldmVsIGltcGxlbWVudGF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBieVxuICogcGFyZW50IE1hdHJpeCBjbGFzc2VzIHN1Y2ggYXMgU3BhcnNlTWF0cml4IG9yIERlbnNlTWF0cml4XG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB2YWxpZGF0ZSBBcnJheSBNYXRyaXggc2hhcGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB0eXBlT2YgICBDYWxsYmFjayBmdW5jdGlvbiB0byB1c2UgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgdmFsdWVcbiAqIEByZXR1cm4gc3RyaW5nXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5RGF0YVR5cGUoYXJyYXksIHR5cGVPZikge1xuICB2YXIgdHlwZTsgLy8gdG8gaG9sZCB0eXBlIGluZm9cblxuICB2YXIgbGVuZ3RoID0gMDsgLy8gdG8gaG9sZCBsZW5ndGggdmFsdWUgdG8gZW5zdXJlIGl0IGhhcyBjb25zaXN0ZW50IHNpemVzXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGl0ZW0pOyAvLyBTYXZpbmcgdGhlIHRhcmdldCBtYXRyaXggcm93IHNpemVcblxuICAgIGlmIChpID09PSAwICYmIGlzQXJyYXkpIHtcbiAgICAgIGxlbmd0aCA9IGl0ZW0ubGVuZ3RoO1xuICAgIH0gLy8gSWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhbiBhcnJheSBidXQgdGhlIGxlbmd0aCBkb2VzIG5vdCBlcXVhbCB0aGUgdGFyZ2V0VmVjdG9yU2l6ZVxuXG5cbiAgICBpZiAoaXNBcnJheSAmJiBpdGVtLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBpdGVtVHlwZSA9IGlzQXJyYXkgPyBnZXRBcnJheURhdGFUeXBlKGl0ZW0sIHR5cGVPZikgLy8gcmVjdXJzZSBpbnRvIGEgbmVzdGVkIGFycmF5XG4gICAgOiB0eXBlT2YoaXRlbSk7XG5cbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0eXBlID0gaXRlbVR5cGU7IC8vIGZpcnN0IGl0ZW1cbiAgICB9IGVsc2UgaWYgKHR5cGUgIT09IGl0ZW1UeXBlKSB7XG4gICAgICByZXR1cm4gJ21peGVkJztcbiAgICB9IGVsc2Ugey8vIHdlJ3JlIGdvb2QsIGV2ZXJ5dGhpbmcgaGFzIHRoZSBzYW1lIHR5cGUgc28gZmFyXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHR5cGU7XG59XG4vKipcbiAqIFJldHVybiB0aGUgbGFzdCBpdGVtIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSBhcnJheVxuICogQHJldHVybnMgeyp9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xufVxuLyoqXG4gKiBHZXQgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGFycmF5LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5zbGljZSgwLCBhcnJheS5sZW5ndGggLSAxKTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGFycmF5IG9yIHN0cmluZyBjb250YWlucyBhbiBpdGVtXG4gKiBAcGFyYW0ge0FycmF5IHwgc3RyaW5nfSBhcnJheVxuICogQHBhcmFtIHsqfSBpdGVtXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59IiwiaW1wb3J0IHsgY29udGFpbnMgfSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7IHBpY2tTaGFsbG93IH0gZnJvbSAnLi9vYmplY3QuanMnO1xuLyoqXG4gKiBDcmVhdGUgYSBmYWN0b3J5IGZ1bmN0aW9uLCB3aGljaCBjYW4gYmUgdXNlZCB0byBpbmplY3QgZGVwZW5kZW5jaWVzLlxuICpcbiAqIFRoZSBjcmVhdGVkIGZ1bmN0aW9ucyBhcmUgbWVtb2l6ZWQsIGEgY29uc2VjdXRpdmUgY2FsbCBvZiB0aGUgZmFjdG9yeVxuICogd2l0aCB0aGUgZXhhY3Qgc2FtZSBpbnB1dHMgd2lsbCByZXR1cm4gdGhlIHNhbWUgZnVuY3Rpb24gaW5zdGFuY2UuXG4gKiBUaGUgbWVtb2l6ZWQgY2FjaGUgaXMgZXhwb3NlZCBvbiBgZmFjdG9yeS5jYWNoZWAgYW5kIGNhbiBiZSBjbGVhcmVkXG4gKiBpZiBuZWVkZWQuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgY29uc3QgbmFtZSA9ICdsb2cnXG4gKiAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gWydjb25maWcnLCAndHlwZWQnLCAnZGl2aWRlU2NhbGFyJywgJ0NvbXBsZXgnXVxuICpcbiAqICAgICBleHBvcnQgY29uc3QgY3JlYXRlTG9nID0gZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICh7IHR5cGVkLCBjb25maWcsIGRpdmlkZVNjYWxhciwgQ29tcGxleCB9KSA9PiB7XG4gKiAgICAgICAvLyAuLi4gY3JlYXRlIHRoZSBmdW5jdGlvbiBsb2cgaGVyZSBhbmQgcmV0dXJuIGl0XG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgICAgICBOYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBiZSBjcmVhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZXBlbmRlbmNpZXMgVGhlIG5hbWVzIG9mIGFsbCByZXF1aXJlZCBkZXBlbmRlbmNpZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNyZWF0ZSAgICAgICBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCBhbGwgZGVwZW5kZW5jaWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW21ldGFdICAgICAgICAgT3B0aW9uYWwgb2JqZWN0IHdpdGggbWV0YSBpbmZvcm1hdGlvbiB0aGF0IHdpbGwgYmUgYXR0YWNoZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byB0aGUgY3JlYXRlZCBmYWN0b3J5IGZ1bmN0aW9uIGFzIHByb3BlcnR5IGBtZXRhYC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIGNyZWF0ZSwgbWV0YSkge1xuICBmdW5jdGlvbiBhc3NlcnRBbmRDcmVhdGUoc2NvcGUpIHtcbiAgICAvLyB3ZSBvbmx5IHBhc3MgdGhlIHJlcXVlc3RlZCBkZXBlbmRlbmNpZXMgdG8gdGhlIGZhY3RvcnkgZnVuY3Rpb25cbiAgICAvLyB0byBwcmV2ZW50IGZ1bmN0aW9ucyB0byByZWx5IG9uIGRlcGVuZGVuY2llcyB0aGF0IGFyZSBub3QgZXhwbGljaXRseVxuICAgIC8vIHJlcXVlc3RlZC5cbiAgICB2YXIgZGVwcyA9IHBpY2tTaGFsbG93KHNjb3BlLCBkZXBlbmRlbmNpZXMubWFwKHN0cmlwT3B0aW9uYWxOb3RhdGlvbikpO1xuICAgIGFzc2VydERlcGVuZGVuY2llcyhuYW1lLCBkZXBlbmRlbmNpZXMsIHNjb3BlKTtcbiAgICByZXR1cm4gY3JlYXRlKGRlcHMpO1xuICB9XG5cbiAgYXNzZXJ0QW5kQ3JlYXRlLmlzRmFjdG9yeSA9IHRydWU7XG4gIGFzc2VydEFuZENyZWF0ZS5mbiA9IG5hbWU7XG4gIGFzc2VydEFuZENyZWF0ZS5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuc2xpY2UoKS5zb3J0KCk7XG5cbiAgaWYgKG1ldGEpIHtcbiAgICBhc3NlcnRBbmRDcmVhdGUubWV0YSA9IG1ldGE7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0QW5kQ3JlYXRlO1xufVxuLyoqXG4gKiBTb3J0IGFsbCBmYWN0b3JpZXMgc3VjaCB0aGF0IHdoZW4gbG9hZGluZyBpbiBvcmRlciwgdGhlIGRlcGVuZGVuY2llcyBhcmUgcmVzb2x2ZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZmFjdG9yaWVzXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgd2l0aCB0aGUgc29ydGVkIGZhY3Rvcmllcy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc29ydEZhY3RvcmllcyhmYWN0b3JpZXMpIHtcbiAgdmFyIGZhY3Rvcmllc0J5TmFtZSA9IHt9O1xuICBmYWN0b3JpZXMuZm9yRWFjaChmYWN0b3J5ID0+IHtcbiAgICBmYWN0b3JpZXNCeU5hbWVbZmFjdG9yeS5mbl0gPSBmYWN0b3J5O1xuICB9KTtcblxuICBmdW5jdGlvbiBjb250YWluc0RlcGVuZGVuY3koZmFjdG9yeSwgZGVwZW5kZW5jeSkge1xuICAgIC8vIFRPRE86IGRldGVjdCBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgaWYgKGlzRmFjdG9yeShmYWN0b3J5KSkge1xuICAgICAgaWYgKGNvbnRhaW5zKGZhY3RvcnkuZGVwZW5kZW5jaWVzLCBkZXBlbmRlbmN5LmZuIHx8IGRlcGVuZGVuY3kubmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWN0b3J5LmRlcGVuZGVuY2llcy5zb21lKGQgPT4gY29udGFpbnNEZXBlbmRlbmN5KGZhY3Rvcmllc0J5TmFtZVtkXSwgZGVwZW5kZW5jeSkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBzb3J0ZWQgPSBbXTtcblxuICBmdW5jdGlvbiBhZGRGYWN0b3J5KGZhY3RvcnkpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGluZGV4IDwgc29ydGVkLmxlbmd0aCAmJiAhY29udGFpbnNEZXBlbmRlbmN5KHNvcnRlZFtpbmRleF0sIGZhY3RvcnkpKSB7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIHNvcnRlZC5zcGxpY2UoaW5kZXgsIDAsIGZhY3RvcnkpO1xuICB9IC8vIHNvcnQgcmVndWxhciBmYWN0b3J5IGZ1bmN0aW9uc1xuXG5cbiAgZmFjdG9yaWVzLmZpbHRlcihpc0ZhY3RvcnkpLmZvckVhY2goYWRkRmFjdG9yeSk7IC8vIHNvcnQgbGVnYWN5IGZhY3RvcnkgZnVuY3Rpb25zIEFGVEVSIHRoZSByZWd1bGFyIGZhY3RvcnkgZnVuY3Rpb25zXG5cbiAgZmFjdG9yaWVzLmZpbHRlcihmYWN0b3J5ID0+ICFpc0ZhY3RvcnkoZmFjdG9yeSkpLmZvckVhY2goYWRkRmFjdG9yeSk7XG4gIHJldHVybiBzb3J0ZWQ7XG59IC8vIFRPRE86IGNvbW1lbnQgb3IgY2xlYW51cCBpZiB1bnVzZWQgaW4gdGhlIGVuZFxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGZhY3Rvcmllcykge1xuICB2YXIgc2NvcGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBzb3J0RmFjdG9yaWVzKGZhY3RvcmllcykuZm9yRWFjaChmYWN0b3J5ID0+IGZhY3Rvcnkoc2NvcGUpKTtcbiAgcmV0dXJuIHNjb3BlO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gb2JqZWN0IGlzIGEgZmFjdG9yeS4gVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGl0IGhhc1xuICogcHJvcGVydGllcyBuYW1lLCBkZXBlbmRlbmNpZXMsIGFuZCBhIGZ1bmN0aW9uIGNyZWF0ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGYWN0b3J5KG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLmZuID09PSAnc3RyaW5nJyAmJiBBcnJheS5pc0FycmF5KG9iai5kZXBlbmRlbmNpZXMpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBhbGwgZGVwZW5kZW5jaWVzIG9mIGEgbGlzdCB3aXRoIGRlcGVuZGVuY2llcyBhcmUgYXZhaWxhYmxlIGluIHRoZSBwcm92aWRlZCBzY29wZS5cbiAqXG4gKiBXaWxsIHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIHRoZXJlIGFyZSBkZXBlbmRlbmNpZXMgbWlzc2luZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgIE5hbWUgZm9yIHRoZSBmdW5jdGlvbiB0byBiZSBjcmVhdGVkLiBVc2VkIHRvIGdlbmVyYXRlIGEgdXNlZnVsIGVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nW119IGRlcGVuZGVuY2llc1xuICogQHBhcmFtIHtPYmplY3R9IHNjb3BlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlcGVuZGVuY2llcyhuYW1lLCBkZXBlbmRlbmNpZXMsIHNjb3BlKSB7XG4gIHZhciBhbGxEZWZpbmVkID0gZGVwZW5kZW5jaWVzLmZpbHRlcihkZXBlbmRlbmN5ID0+ICFpc09wdGlvbmFsRGVwZW5kZW5jeShkZXBlbmRlbmN5KSkgLy8gZmlsdGVyIG9wdGlvbmFsc1xuICAuZXZlcnkoZGVwZW5kZW5jeSA9PiBzY29wZVtkZXBlbmRlbmN5XSAhPT0gdW5kZWZpbmVkKTtcblxuICBpZiAoIWFsbERlZmluZWQpIHtcbiAgICB2YXIgbWlzc2luZ0RlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5maWx0ZXIoZGVwZW5kZW5jeSA9PiBzY29wZVtkZXBlbmRlbmN5XSA9PT0gdW5kZWZpbmVkKTsgLy8gVE9ETzogY3JlYXRlIGEgY3VzdG9tIGVycm9yIGNsYXNzIGZvciB0aGlzLCBhIE1hdGhqc0Vycm9yIG9yIHNvbWV0aGluZyBsaWtlIHRoYXRcblxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgZnVuY3Rpb24gXFxcIlwiLmNvbmNhdChuYW1lLCBcIlxcXCIsIFwiKSArIFwic29tZSBkZXBlbmRlbmNpZXMgYXJlIG1pc3Npbmc6IFwiLmNvbmNhdChtaXNzaW5nRGVwZW5kZW5jaWVzLm1hcChkID0+IFwiXFxcIlwiLmNvbmNhdChkLCBcIlxcXCJcIikpLmpvaW4oJywgJyksIFwiLlwiKSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGlvbmFsRGVwZW5kZW5jeShkZXBlbmRlbmN5KSB7XG4gIHJldHVybiBkZXBlbmRlbmN5ICYmIGRlcGVuZGVuY3lbMF0gPT09ICc/Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcE9wdGlvbmFsTm90YXRpb24oZGVwZW5kZW5jeSkge1xuICByZXR1cm4gZGVwZW5kZW5jeSAmJiBkZXBlbmRlbmN5WzBdID09PSAnPycgPyBkZXBlbmRlbmN5LnNsaWNlKDEpIDogZGVwZW5kZW5jeTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHR5cGVkLWZ1bmN0aW9uIHdoaWNoIGNoZWNrcyB0aGUgdHlwZXMgb2YgdGhlIGFyZ3VtZW50cyBhbmRcbiAqIGNhbiBtYXRjaCB0aGVtIGFnYWluc3QgbXVsdGlwbGUgcHJvdmlkZWQgc2lnbmF0dXJlcy4gVGhlIHR5cGVkLWZ1bmN0aW9uXG4gKiBhdXRvbWF0aWNhbGx5IGNvbnZlcnRzIGlucHV0cyBpbiBvcmRlciB0byBmaW5kIGEgbWF0Y2hpbmcgc2lnbmF0dXJlLlxuICogVHlwZWQgZnVuY3Rpb25zIHRocm93IGluZm9ybWF0aXZlIGVycm9ycyBpbiBjYXNlIG9mIHdyb25nIGlucHV0IGFyZ3VtZW50cy5cbiAqXG4gKiBTZWUgdGhlIGxpYnJhcnkgW3R5cGVkLWZ1bmN0aW9uXShodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL3R5cGVkLWZ1bmN0aW9uKVxuICogZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgICBtYXRoLnR5cGVkKG5hbWUsIHNpZ25hdHVyZXMpIDogZnVuY3Rpb25cbiAqICAgICBtYXRoLnR5cGVkKHNpZ25hdHVyZXMpIDogZnVuY3Rpb25cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgLy8gY3JlYXRlIGEgdHlwZWQgZnVuY3Rpb24gd2l0aCBtdWx0aXBsZSB0eXBlcyBwZXIgYXJndW1lbnQgKHR5cGUgdW5pb24pXG4gKiAgICAgY29uc3QgZm4yID0gdHlwZWQoe1xuICogICAgICAgJ251bWJlciB8IGJvb2xlYW4nOiBmdW5jdGlvbiAoYikge1xuICogICAgICAgICByZXR1cm4gJ2IgaXMgYSBudW1iZXIgb3IgYm9vbGVhbidcbiAqICAgICAgIH0sXG4gKiAgICAgICAnc3RyaW5nLCBudW1iZXIgfCBib29sZWFuJzogZnVuY3Rpb24gKGEsIGIpIHtcbiAqICAgICAgICAgcmV0dXJuICdhIGlzIGEgc3RyaW5nLCBiIGlzIGEgbnVtYmVyIG9yIGJvb2xlYW4nXG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqXG4gKiAgICAgLy8gY3JlYXRlIGEgdHlwZWQgZnVuY3Rpb24gd2l0aCBhbiBhbnkgdHlwZSBhcmd1bWVudFxuICogICAgIGNvbnN0IGxvZyA9IHR5cGVkKHtcbiAqICAgICAgICdzdHJpbmcsIGFueSc6IGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICogICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQ6ICcgKyBldmVudCArICcsIGRhdGE6ICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gICAgICAgICAgICAgICAgICAgICAgICAgIE9wdGlvbmFsIG5hbWUgZm9yIHRoZSB0eXBlZC1mdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBmdW5jdGlvbj59IHNpZ25hdHVyZXMgICBPYmplY3Qgd2l0aCBvbmUgb3IgbXVsdGlwbGUgZnVuY3Rpb24gc2lnbmF0dXJlc1xuICogQHJldHVybnMge2Z1bmN0aW9ufSBUaGUgY3JlYXRlZCB0eXBlZC1mdW5jdGlvbi5cbiAqL1xuaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzQXJyYXksIGlzQXJyYXlOb2RlLCBpc0Fzc2lnbm1lbnROb2RlLCBpc0JpZ051bWJlciwgaXNCbG9ja05vZGUsIGlzQm9vbGVhbiwgaXNDaGFpbiwgaXNDb21wbGV4LCBpc0NvbmRpdGlvbmFsTm9kZSwgaXNDb25zdGFudE5vZGUsIGlzRGF0ZSwgaXNEZW5zZU1hdHJpeCwgaXNGcmFjdGlvbiwgaXNGdW5jdGlvbiwgaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLCBpc0Z1bmN0aW9uTm9kZSwgaXNIZWxwLCBpc0luZGV4LCBpc0luZGV4Tm9kZSwgaXNNYXRyaXgsIGlzTm9kZSwgaXNOdWxsLCBpc051bWJlciwgaXNPYmplY3QsIGlzT2JqZWN0Tm9kZSwgaXNPcGVyYXRvck5vZGUsIGlzUGFyZW50aGVzaXNOb2RlLCBpc1JhbmdlLCBpc1JhbmdlTm9kZSwgaXNSZWdFeHAsIGlzUmVzdWx0U2V0LCBpc1NwYXJzZU1hdHJpeCwgaXNTdHJpbmcsIGlzU3ltYm9sTm9kZSwgaXNVbmRlZmluZWQsIGlzVW5pdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB0eXBlZEZ1bmN0aW9uIGZyb20gJ3R5cGVkLWZ1bmN0aW9uJztcbmltcG9ydCB7IGRpZ2l0cyB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7IC8vIHJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cblxudmFyIF9jcmVhdGVUeXBlZDIgPSBmdW5jdGlvbiBfY3JlYXRlVHlwZWQoKSB7XG4gIC8vIGluaXRpYWxseSwgcmV0dXJuIHRoZSBvcmlnaW5hbCBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuICAvLyBjb25zZWN1dGl2ZWx5LCByZXR1cm4gYSBuZXcgaW5zdGFuY2UgZnJvbSB0eXBlZC5jcmVhdGUuXG4gIF9jcmVhdGVUeXBlZDIgPSB0eXBlZEZ1bmN0aW9uLmNyZWF0ZTtcbiAgcmV0dXJuIHR5cGVkRnVuY3Rpb247XG59O1xuXG52YXIgZGVwZW5kZW5jaWVzID0gWyc/QmlnTnVtYmVyJywgJz9Db21wbGV4JywgJz9EZW5zZU1hdHJpeCcsICc/RnJhY3Rpb24nXTtcbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgdHlwZWQgaW5zdGFuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXBlbmRlbmNpZXMgICBPYmplY3Qgd2l0aCBkYXRhIHR5cGVzIGxpa2UgQ29tcGxleCBhbmQgQmlnTnVtYmVyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVUeXBlZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkoJ3R5cGVkJywgZGVwZW5kZW5jaWVzLCBmdW5jdGlvbiBjcmVhdGVUeXBlZChfcmVmKSB7XG4gIHZhciB7XG4gICAgQmlnTnVtYmVyLFxuICAgIENvbXBsZXgsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgRnJhY3Rpb25cbiAgfSA9IF9yZWY7XG5cbiAgLy8gVE9ETzogdHlwZWQtZnVuY3Rpb24gbXVzdCBiZSBhYmxlIHRvIHNpbGVudGx5IGlnbm9yZSBzaWduYXR1cmVzIHdpdGggdW5rbm93biBkYXRhIHR5cGVzXG4gIC8vIGdldCBhIG5ldyBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuICB2YXIgdHlwZWQgPSBfY3JlYXRlVHlwZWQyKCk7IC8vIGRlZmluZSBhbGwgdHlwZXMuIFRoZSBvcmRlciBvZiB0aGUgdHlwZXMgZGV0ZXJtaW5lcyBpbiB3aGljaCBvcmRlciBmdW5jdGlvblxuICAvLyBhcmd1bWVudHMgYXJlIHR5cGUtY2hlY2tlZCAoc28gZm9yIHBlcmZvcm1hbmNlIGl0J3MgaW1wb3J0YW50IHRvIHB1dCB0aGVcbiAgLy8gbW9zdCB1c2VkIHR5cGVzIGZpcnN0KS5cblxuXG4gIHR5cGVkLnR5cGVzID0gW3tcbiAgICBuYW1lOiAnbnVtYmVyJyxcbiAgICB0ZXN0OiBpc051bWJlclxuICB9LCB7XG4gICAgbmFtZTogJ0NvbXBsZXgnLFxuICAgIHRlc3Q6IGlzQ29tcGxleFxuICB9LCB7XG4gICAgbmFtZTogJ0JpZ051bWJlcicsXG4gICAgdGVzdDogaXNCaWdOdW1iZXJcbiAgfSwge1xuICAgIG5hbWU6ICdGcmFjdGlvbicsXG4gICAgdGVzdDogaXNGcmFjdGlvblxuICB9LCB7XG4gICAgbmFtZTogJ1VuaXQnLFxuICAgIHRlc3Q6IGlzVW5pdFxuICB9LCB7XG4gICAgbmFtZTogJ3N0cmluZycsXG4gICAgdGVzdDogaXNTdHJpbmdcbiAgfSwge1xuICAgIG5hbWU6ICdDaGFpbicsXG4gICAgdGVzdDogaXNDaGFpblxuICB9LCB7XG4gICAgbmFtZTogJ0FycmF5JyxcbiAgICB0ZXN0OiBpc0FycmF5XG4gIH0sIHtcbiAgICBuYW1lOiAnTWF0cml4JyxcbiAgICB0ZXN0OiBpc01hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ0RlbnNlTWF0cml4JyxcbiAgICB0ZXN0OiBpc0RlbnNlTWF0cml4XG4gIH0sIHtcbiAgICBuYW1lOiAnU3BhcnNlTWF0cml4JyxcbiAgICB0ZXN0OiBpc1NwYXJzZU1hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ1JhbmdlJyxcbiAgICB0ZXN0OiBpc1JhbmdlXG4gIH0sIHtcbiAgICBuYW1lOiAnSW5kZXgnLFxuICAgIHRlc3Q6IGlzSW5kZXhcbiAgfSwge1xuICAgIG5hbWU6ICdib29sZWFuJyxcbiAgICB0ZXN0OiBpc0Jvb2xlYW5cbiAgfSwge1xuICAgIG5hbWU6ICdSZXN1bHRTZXQnLFxuICAgIHRlc3Q6IGlzUmVzdWx0U2V0XG4gIH0sIHtcbiAgICBuYW1lOiAnSGVscCcsXG4gICAgdGVzdDogaXNIZWxwXG4gIH0sIHtcbiAgICBuYW1lOiAnZnVuY3Rpb24nLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25cbiAgfSwge1xuICAgIG5hbWU6ICdEYXRlJyxcbiAgICB0ZXN0OiBpc0RhdGVcbiAgfSwge1xuICAgIG5hbWU6ICdSZWdFeHAnLFxuICAgIHRlc3Q6IGlzUmVnRXhwXG4gIH0sIHtcbiAgICBuYW1lOiAnbnVsbCcsXG4gICAgdGVzdDogaXNOdWxsXG4gIH0sIHtcbiAgICBuYW1lOiAndW5kZWZpbmVkJyxcbiAgICB0ZXN0OiBpc1VuZGVmaW5lZFxuICB9LCB7XG4gICAgbmFtZTogJ0FjY2Vzc29yTm9kZScsXG4gICAgdGVzdDogaXNBY2Nlc3Nvck5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdBcnJheU5vZGUnLFxuICAgIHRlc3Q6IGlzQXJyYXlOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQXNzaWdubWVudE5vZGUnLFxuICAgIHRlc3Q6IGlzQXNzaWdubWVudE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdCbG9ja05vZGUnLFxuICAgIHRlc3Q6IGlzQmxvY2tOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQ29uZGl0aW9uYWxOb2RlJyxcbiAgICB0ZXN0OiBpc0NvbmRpdGlvbmFsTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0NvbnN0YW50Tm9kZScsXG4gICAgdGVzdDogaXNDb25zdGFudE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdGdW5jdGlvbk5vZGUnLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25Ob2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZScsXG4gICAgdGVzdDogaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnSW5kZXhOb2RlJyxcbiAgICB0ZXN0OiBpc0luZGV4Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ05vZGUnLFxuICAgIHRlc3Q6IGlzTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ09iamVjdE5vZGUnLFxuICAgIHRlc3Q6IGlzT2JqZWN0Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ09wZXJhdG9yTm9kZScsXG4gICAgdGVzdDogaXNPcGVyYXRvck5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdQYXJlbnRoZXNpc05vZGUnLFxuICAgIHRlc3Q6IGlzUGFyZW50aGVzaXNOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnUmFuZ2VOb2RlJyxcbiAgICB0ZXN0OiBpc1JhbmdlTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ1N5bWJvbE5vZGUnLFxuICAgIHRlc3Q6IGlzU3ltYm9sTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ09iamVjdCcsXG4gICAgdGVzdDogaXNPYmplY3RcbiAgfSAvLyBvcmRlciAnT2JqZWN0JyBsYXN0LCBpdCBtYXRjaGVzIG9uIG90aGVyIGNsYXNzZXMgdG9vXG4gIF07XG4gIHR5cGVkLmNvbnZlcnNpb25zID0gW3tcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfSAvLyBub3RlOiBjb252ZXJzaW9uIGZyb20gbnVtYmVyIHRvIEJpZ051bWJlciBjYW4gZmFpbCBpZiB4IGhhcyA+MTUgZGlnaXRzXG5cblxuICAgICAgaWYgKGRpZ2l0cyh4KSA+IDE1KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBudW1iZXIgd2l0aCA+MTUgc2lnbmlmaWNhbnQgZGlnaXRzIHRvIEJpZ051bWJlciAnICsgJyh2YWx1ZTogJyArIHggKyAnKS4gJyArICdVc2UgZnVuY3Rpb24gYmlnbnVtYmVyKHgpIHRvIGNvbnZlcnQgdG8gQmlnTnVtYmVyLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdzdHJpbmcnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgcmV0dXJuIHggKyAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnQmlnTnVtYmVyJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeC50b051bWJlcigpLCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnRnJhY3Rpb24nLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBGcmFjdGlvbiB0byBCaWdOdW1iZXIgb3IgdmljZSB2ZXJzYS4gJyArICdVc2UgZnVuY3Rpb24gYmlnbnVtYmVyKHgpIHRvIGNvbnZlcnQgdG8gQmlnTnVtYmVyIG9yIGZyYWN0aW9uKHgpIHRvIGNvbnZlcnQgdG8gRnJhY3Rpb24uJyk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeC52YWx1ZU9mKCksIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnRnJhY3Rpb24nLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFGcmFjdGlvbikge1xuICAgICAgICB0aHJvd05vRnJhY3Rpb24oeCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmID0gbmV3IEZyYWN0aW9uKHgpO1xuXG4gICAgICBpZiAoZi52YWx1ZU9mKCkgIT09IHgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGltcGxpY2l0bHkgY29udmVydCBhIG51bWJlciB0byBhIEZyYWN0aW9uIHdoZW4gdGhlcmUgd2lsbCBiZSBhIGxvc3Mgb2YgcHJlY2lzaW9uICcgKyAnKHZhbHVlOiAnICsgeCArICcpLiAnICsgJ1VzZSBmdW5jdGlvbiBmcmFjdGlvbih4KSB0byBjb252ZXJ0IHRvIEZyYWN0aW9uLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZjtcbiAgICB9XG4gIH0sIHtcbiAgICAvLyBGSVhNRTogYWRkIGNvbnZlcnNpb24gZnJvbSBGcmFjdGlvbiB0byBudW1iZXIsIGZvciBleGFtcGxlIGZvciBgc3FydChmcmFjdGlvbigxLDMpKWBcbiAgICAvLyAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICAvLyAgdG86ICdudW1iZXInLFxuICAgIC8vICBjb252ZXJ0OiBmdW5jdGlvbiAoeCkge1xuICAgIC8vICAgIHJldHVybiB4LnZhbHVlT2YoKVxuICAgIC8vICB9XG4gICAgLy8gfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnbnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHZhciBuID0gTnVtYmVyKHgpO1xuXG4gICAgICBpZiAoaXNOYU4obikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIGEgbnVtYmVyJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQmlnTnVtYmVyKSB7XG4gICAgICAgIHRocm93Tm9CaWdudW1iZXIoeCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBCaWdOdW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0ZyYWN0aW9uJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghRnJhY3Rpb24pIHtcbiAgICAgICAgdGhyb3dOb0ZyYWN0aW9uKHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBGcmFjdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnQ29tcGxleCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUNvbXBsZXgpIHtcbiAgICAgICAgdGhyb3dOb0NvbXBsZXgoeCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gQ29tcGxleCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ251bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICByZXR1cm4gK3g7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQmlnTnVtYmVyKSB7XG4gICAgICAgIHRocm93Tm9CaWdudW1iZXIoeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKCt4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdGcmFjdGlvbicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUZyYWN0aW9uKSB7XG4gICAgICAgIHRocm93Tm9GcmFjdGlvbih4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigreCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnc3RyaW5nJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoeCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0FycmF5JyxcbiAgICB0bzogJ01hdHJpeCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydChhcnJheSkge1xuICAgICAgaWYgKCFEZW5zZU1hdHJpeCkge1xuICAgICAgICB0aHJvd05vTWF0cml4KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoYXJyYXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdNYXRyaXgnLFxuICAgIHRvOiAnQXJyYXknLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQobWF0cml4KSB7XG4gICAgICByZXR1cm4gbWF0cml4LnZhbHVlT2YoKTtcbiAgICB9XG4gIH1dO1xuICByZXR1cm4gdHlwZWQ7XG59KTtcblxuZnVuY3Rpb24gdGhyb3dOb0JpZ251bWJlcih4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHZhbHVlIFwiLmNvbmNhdCh4LCBcIiBpbnRvIGEgQmlnTnVtYmVyOiBubyBjbGFzcyAnQmlnTnVtYmVyJyBwcm92aWRlZFwiKSk7XG59XG5cbmZ1bmN0aW9uIHRocm93Tm9Db21wbGV4KHgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdmFsdWUgXCIuY29uY2F0KHgsIFwiIGludG8gYSBDb21wbGV4IG51bWJlcjogbm8gY2xhc3MgJ0NvbXBsZXgnIHByb3ZpZGVkXCIpKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dOb01hdHJpeCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBhcnJheSBpbnRvIGEgTWF0cml4OiBubyBjbGFzcyBcXCdEZW5zZU1hdHJpeFxcJyBwcm92aWRlZCcpO1xufVxuXG5mdW5jdGlvbiB0aHJvd05vRnJhY3Rpb24oeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCB2YWx1ZSBcIi5jb25jYXQoeCwgXCIgaW50byBhIEZyYWN0aW9uLCBubyBjbGFzcyAnRnJhY3Rpb24nIHByb3ZpZGVkLlwiKSk7XG59IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUmVzdWx0U2V0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmVzdWx0U2V0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEEgUmVzdWx0U2V0IGNvbnRhaW5zIGEgbGlzdCBvciByZXN1bHRzXG4gICAqIEBjbGFzcyBSZXN1bHRTZXRcbiAgICogQHBhcmFtIHtBcnJheX0gZW50cmllc1xuICAgKiBAY29uc3RydWN0b3IgUmVzdWx0U2V0XG4gICAqL1xuICBmdW5jdGlvbiBSZXN1bHRTZXQoZW50cmllcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXN1bHRTZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMuZW50cmllcyA9IGVudHJpZXMgfHwgW107XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50eXBlID0gJ1Jlc3VsdFNldCc7XG4gIFJlc3VsdFNldC5wcm90b3R5cGUuaXNSZXN1bHRTZXQgPSB0cnVlO1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXJyYXkgd2l0aCByZXN1bHRzIGhvbGQgYnkgdGhpcyBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGVudHJpZXNcbiAgICovXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVudHJpZXM7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmdpZmllZCByZXN1bHRzIG9mIHRoZSBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmdcbiAgICovXG5cblxuICBSZXN1bHRTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnWycgKyB0aGlzLmVudHJpZXMuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIFJlc3VsdFNldFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVzdWx0U2V0XCIsIFwiZW50cmllc1wiOiBbLi4uXX1gXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1Jlc3VsdFNldCcsXG4gICAgICBlbnRyaWVzOiB0aGlzLmVudHJpZXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBSZXN1bHRTZXQgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSZXN1bHRTZXRcIiwgXCJlbnRyaWVzXCI6IFsuLi5dfWBcbiAgICogQHJldHVybiB7UmVzdWx0U2V0fVxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSZXN1bHRTZXQoanNvbi5lbnRyaWVzKTtcbiAgfTtcblxuICByZXR1cm4gUmVzdWx0U2V0O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCIvKlxyXG4gKiAgZGVjaW1hbC5qcyB2MTAuMi4xXHJcbiAqICBBbiBhcmJpdHJhcnktcHJlY2lzaW9uIERlY2ltYWwgdHlwZSBmb3IgSmF2YVNjcmlwdC5cclxuICogIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2RlY2ltYWwuanNcclxuICogIENvcHlyaWdodCAoYykgMjAyMCBNaWNoYWVsIE1jbGF1Z2hsaW4gPE04Y2g4OGxAZ21haWwuY29tPlxyXG4gKiAgTUlUIExpY2VuY2VcclxuICovXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIEVESVRBQkxFIERFRkFVTFRTICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4gIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IG1hZ25pdHVkZS5cclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIGB0b0V4cE5lZ2AsIGB0b0V4cFBvc2AsIGBtaW5FYCBhbmQgYG1heEVgLlxyXG52YXIgRVhQX0xJTUlUID0gOWUxNSwgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5ZTE1XHJcblxyXG4gIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgYHByZWNpc2lvbmAsIGFuZCBvbiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50IHRvXHJcbiAgLy8gYHRvRGVjaW1hbFBsYWNlc2AsIGB0b0V4cG9uZW50aWFsYCwgYHRvRml4ZWRgLCBgdG9QcmVjaXNpb25gIGFuZCBgdG9TaWduaWZpY2FudERpZ2l0c2AuXHJcbiAgTUFYX0RJR0lUUyA9IDFlOSwgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDFlOVxyXG5cclxuICAvLyBCYXNlIGNvbnZlcnNpb24gYWxwaGFiZXQuXHJcbiAgTlVNRVJBTFMgPSAnMDEyMzQ1Njc4OWFiY2RlZicsXHJcblxyXG4gIC8vIFRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiAxMCAoMTAyNSBkaWdpdHMpLlxyXG4gIExOMTAgPSAnMi4zMDI1ODUwOTI5OTQwNDU2ODQwMTc5OTE0NTQ2ODQzNjQyMDc2MDExMDE0ODg2Mjg3NzI5NzYwMzMzMjc5MDA5Njc1NzI2MDk2NzczNTI0ODAyMzU5OTcyMDUwODk1OTgyOTgzNDE5Njc3ODQwNDIyODYyNDg2MzM0MDk1MjU0NjUwODI4MDY3NTY2NjYyODczNjkwOTg3ODE2ODk0ODI5MDcyMDgzMjU1NTQ2ODA4NDM3OTk4OTQ4MjYyMzMxOTg1MjgzOTM1MDUzMDg5NjUzNzc3MzI2Mjg4NDYxNjMzNjYyMjIyODc2OTgyMTk4ODY3NDY1NDM2Njc0NzQ0MDQyNDMyNzQzNjUxNTUwNDg5MzQzMTQ5MzkzOTE0Nzk2MTk0MDQ0MDAyMjIxMDUxMDE3MTQxNzQ4MDAzNjg4MDg0MDEyNjQ3MDgwNjg1NTY3NzQzMjE2MjI4MzU1MjIwMTE0ODA0NjYzNzE1NjU5MTIxMzczNDUwNzQ3ODU2OTQ3NjgzNDYzNjE2NzkyMTAxODA2NDQ1MDcwNjQ4MDAwMjc3NTAyNjg0OTE2NzQ2NTUwNTg2ODU2OTM1NjczNDIwNjcwNTgxMTM2NDI5MjI0NTU0NDA1NzU4OTI1NzI0MjA4MjQxMzE0Njk1Njg5MDE2NzU4OTQwMjU2Nzc2MzExMzU2OTE5MjkyMDMzMzc2NTg3MTQxNjYwMjMwMTA1NzAzMDg5NjM0NTcyMDc1NDQwMzcwODQ3NDY5OTQwMTY4MjY5MjgyODA4NDgxMTg0Mjg5MzE0ODQ4NTI0OTQ4NjQ0ODcxOTI3ODA5Njc2MjcxMjc1Nzc1Mzk3MDI3NjY4NjA1OTUyNDk2NzE2Njc0MTgzNDg1NzA0NDIyNTA3MTk3OTY1MDA0NzE0OTUxMDUwNDkyMjE0Nzc2NTY3NjM2OTM4NjYyOTc2OTc5NTIyMTEwNzE4MjY0NTQ5NzM0NzcyNjYyNDI1NzA5NDI5MzIyNTgyNzk4NTAyNTg1NTA5Nzg1MjY1MzgzMjA3NjA2NzI2MzE3MTY0MzA5NTA1OTk1MDg3ODA3NTIzNzEwMzMzMTAxMTk3ODU3NTQ3MzMxNTQxNDIxODA4NDI3NTQzODYzNTkxNzc4MTE3MDU0MzA5ODI3NDgyMzg1MDQ1NjQ4MDE5MDk1NjEwMjk5MjkxODI0MzE4MjM3NTI1MzU3NzA5NzUwNTM5NTY1MTg3Njk3NTEwMzc0OTcwODg4NjkyMTgwMjA1MTg5MzM5NTA3MjM4NTM5MjA1MTQ0NjM0MTk3MjY1Mjg3Mjg2OTY1MTEwODYyNTcxNDkyMTk4ODQ5OTc4NzQ4ODczNzcxMzQ1Njg2MjA5MTY3MDU4JyxcclxuXHJcbiAgLy8gUGkgKDEwMjUgZGlnaXRzKS5cclxuICBQSSA9ICczLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTUwMjg4NDE5NzE2OTM5OTM3NTEwNTgyMDk3NDk0NDU5MjMwNzgxNjQwNjI4NjIwODk5ODYyODAzNDgyNTM0MjExNzA2Nzk4MjE0ODA4NjUxMzI4MjMwNjY0NzA5Mzg0NDYwOTU1MDU4MjIzMTcyNTM1OTQwODEyODQ4MTExNzQ1MDI4NDEwMjcwMTkzODUyMTEwNTU1OTY0NDYyMjk0ODk1NDkzMDM4MTk2NDQyODgxMDk3NTY2NTkzMzQ0NjEyODQ3NTY0ODIzMzc4Njc4MzE2NTI3MTIwMTkwOTE0NTY0ODU2NjkyMzQ2MDM0ODYxMDQ1NDMyNjY0ODIxMzM5MzYwNzI2MDI0OTE0MTI3MzcyNDU4NzAwNjYwNjMxNTU4ODE3NDg4MTUyMDkyMDk2MjgyOTI1NDA5MTcxNTM2NDM2Nzg5MjU5MDM2MDAxMTMzMDUzMDU0ODgyMDQ2NjUyMTM4NDE0Njk1MTk0MTUxMTYwOTQzMzA1NzI3MDM2NTc1OTU5MTk1MzA5MjE4NjExNzM4MTkzMjYxMTc5MzEwNTExODU0ODA3NDQ2MjM3OTk2Mjc0OTU2NzM1MTg4NTc1MjcyNDg5MTIyNzkzODE4MzAxMTk0OTEyOTgzMzY3MzM2MjQ0MDY1NjY0MzA4NjAyMTM5NDk0NjM5NTIyNDczNzE5MDcwMjE3OTg2MDk0MzcwMjc3MDUzOTIxNzE3NjI5MzE3Njc1MjM4NDY3NDgxODQ2NzY2OTQwNTEzMjAwMDU2ODEyNzE0NTI2MzU2MDgyNzc4NTc3MTM0Mjc1Nzc4OTYwOTE3MzYzNzE3ODcyMTQ2ODQ0MDkwMTIyNDk1MzQzMDE0NjU0OTU4NTM3MTA1MDc5MjI3OTY4OTI1ODkyMzU0MjAxOTk1NjExMjEyOTAyMTk2MDg2NDAzNDQxODE1OTgxMzYyOTc3NDc3MTMwOTk2MDUxODcwNzIxMTM0OTk5OTk5ODM3Mjk3ODA0OTk1MTA1OTczMTczMjgxNjA5NjMxODU5NTAyNDQ1OTQ1NTM0NjkwODMwMjY0MjUyMjMwODI1MzM0NDY4NTAzNTI2MTkzMTE4ODE3MTAxMDAwMzEzNzgzODc1Mjg4NjU4NzUzMzIwODM4MTQyMDYxNzE3NzY2OTE0NzMwMzU5ODI1MzQ5MDQyODc1NTQ2ODczMTE1OTU2Mjg2Mzg4MjM1Mzc4NzU5Mzc1MTk1Nzc4MTg1Nzc4MDUzMjE3MTIyNjgwNjYxMzAwMTkyNzg3NjYxMTE5NTkwOTIxNjQyMDE5ODkzODA5NTI1NzIwMTA2NTQ4NTg2MzI3ODknLFxyXG5cclxuXHJcbiAgLy8gVGhlIGluaXRpYWwgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIG9mIHRoZSBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gIERFRkFVTFRTID0ge1xyXG5cclxuICAgIC8vIFRoZXNlIHZhbHVlcyBtdXN0IGJlIGludGVnZXJzIHdpdGhpbiB0aGUgc3RhdGVkIHJhbmdlcyAoaW5jbHVzaXZlKS5cclxuICAgIC8vIE1vc3Qgb2YgdGhlc2UgdmFsdWVzIGNhbiBiZSBjaGFuZ2VkIGF0IHJ1bi10aW1lIHVzaW5nIHRoZSBgRGVjaW1hbC5jb25maWdgIG1ldGhvZC5cclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSByZXN1bHQgb2YgYSBjYWxjdWxhdGlvbiBvciBiYXNlIGNvbnZlcnNpb24uXHJcbiAgICAvLyBFLmcuIGBEZWNpbWFsLmNvbmZpZyh7IHByZWNpc2lvbjogMjAgfSk7YFxyXG4gICAgcHJlY2lzaW9uOiAyMCwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBNQVhfRElHSVRTXHJcblxyXG4gICAgLy8gVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIHJvdW5kaW5nIHRvIGBwcmVjaXNpb25gLlxyXG4gICAgLy9cclxuICAgIC8vIFJPVU5EX1VQICAgICAgICAgMCBBd2F5IGZyb20gemVyby5cclxuICAgIC8vIFJPVU5EX0RPV04gICAgICAgMSBUb3dhcmRzIHplcm8uXHJcbiAgICAvLyBST1VORF9DRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9GTE9PUiAgICAgIDMgVG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9IQUxGX1VQICAgIDQgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHVwLlxyXG4gICAgLy8gUk9VTkRfSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgLy8gUk9VTkRfSEFMRl9FVkVOICA2IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIGV2ZW4gbmVpZ2hib3VyLlxyXG4gICAgLy8gUk9VTkRfSEFMRl9DRUlMICA3IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIFJPVU5EX0hBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAvL1xyXG4gICAgLy8gRS5nLlxyXG4gICAgLy8gYERlY2ltYWwucm91bmRpbmcgPSA0O2BcclxuICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gRGVjaW1hbC5ST1VORF9IQUxGX1VQO2BcclxuICAgIHJvdW5kaW5nOiA0LCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOFxyXG5cclxuICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAvLyBUaGUgcXVvdGllbnQgKHEgPSBhIC8gbikgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm91bmRpbmcgbW9kZS5cclxuICAgIC8vIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXHJcbiAgICAvL1xyXG4gICAgLy8gVVAgICAgICAgICAwIFRoZSByZW1haW5kZXIgaXMgcG9zaXRpdmUgaWYgdGhlIGRpdmlkZW5kIGlzIG5lZ2F0aXZlLCBlbHNlIGlzIG5lZ2F0aXZlLlxyXG4gICAgLy8gRE9XTiAgICAgICAxIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlkZW5kIChKYXZhU2NyaXB0ICUpLlxyXG4gICAgLy8gRkxPT1IgICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cclxuICAgIC8vIEhBTEZfRVZFTiAgNiBUaGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgLy8gRVVDTElEICAgICA5IEV1Y2xpZGlhbiBkaXZpc2lvbi4gcSA9IHNpZ24obikgKiBmbG9vcihhIC8gYWJzKG4pKS4gQWx3YXlzIHBvc2l0aXZlLlxyXG4gICAgLy9cclxuICAgIC8vIFRydW5jYXRlZCBkaXZpc2lvbiAoMSksIGZsb29yZWQgZGl2aXNpb24gKDMpLCB0aGUgSUVFRSA3NTQgcmVtYWluZGVyICg2KSwgYW5kIEV1Y2xpZGlhblxyXG4gICAgLy8gZGl2aXNpb24gKDkpIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uIFRoZSBvdGhlciByb3VuZGluZyBtb2RlcyBjYW4gYWxzb1xyXG4gICAgLy8gYmUgdXNlZCwgYnV0IHRoZXkgbWF5IG5vdCBnaXZlIHVzZWZ1bCByZXN1bHRzLlxyXG4gICAgbW9kdWxvOiAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBiZW5lYXRoIHdoaWNoIGB0b1N0cmluZ2AgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogLTdcclxuICAgIHRvRXhwTmVnOiAtNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLUVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYWJvdmUgd2hpY2ggYHRvU3RyaW5nYCByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAyMVxyXG4gICAgdG9FeHBQb3M6ICAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBFWFBfTElNSVRcclxuXHJcbiAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC0zMjQgICg1ZS0zMjQpXHJcbiAgICBtaW5FOiAtRVhQX0xJTUlULCAgICAgICAgICAgICAgICAgICAgICAvLyAtMSB0byAtRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgdmFsdWUsIGFib3ZlIHdoaWNoIG92ZXJmbG93IHRvIEluZmluaXR5IG9jY3Vycy5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXHJcbiAgICBtYXhFOiBFWFBfTElNSVQsICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIEVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFdoZXRoZXIgdG8gdXNlIGNyeXB0b2dyYXBoaWNhbGx5LXNlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRpb24sIGlmIGF2YWlsYWJsZS5cclxuICAgIGNyeXB0bzogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUvZmFsc2VcclxuICB9LFxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCBPRiBFRElUQUJMRSBERUZBVUxUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5cclxuICBpbmV4YWN0LCBxdWFkcmFudCxcclxuICBleHRlcm5hbCA9IHRydWUsXHJcblxyXG4gIGRlY2ltYWxFcnJvciA9ICdbRGVjaW1hbEVycm9yXSAnLFxyXG4gIGludmFsaWRBcmd1bWVudCA9IGRlY2ltYWxFcnJvciArICdJbnZhbGlkIGFyZ3VtZW50OiAnLFxyXG4gIHByZWNpc2lvbkxpbWl0RXhjZWVkZWQgPSBkZWNpbWFsRXJyb3IgKyAnUHJlY2lzaW9uIGxpbWl0IGV4Y2VlZGVkJyxcclxuICBjcnlwdG9VbmF2YWlsYWJsZSA9IGRlY2ltYWxFcnJvciArICdjcnlwdG8gdW5hdmFpbGFibGUnLFxyXG5cclxuICBtYXRoZmxvb3IgPSBNYXRoLmZsb29yLFxyXG4gIG1hdGhwb3cgPSBNYXRoLnBvdyxcclxuXHJcbiAgaXNCaW5hcnkgPSAvXjBiKFswMV0rKFxcLlswMV0qKT98XFwuWzAxXSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc0hleCA9IC9eMHgoWzAtOWEtZl0rKFxcLlswLTlhLWZdKik/fFxcLlswLTlhLWZdKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gIGlzT2N0YWwgPSAvXjBvKFswLTddKyhcXC5bMC03XSopP3xcXC5bMC03XSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc0RlY2ltYWwgPSAvXihcXGQrKFxcLlxcZCopP3xcXC5cXGQrKShlWystXT9cXGQrKT8kL2ksXHJcblxyXG4gIEJBU0UgPSAxZTcsXHJcbiAgTE9HX0JBU0UgPSA3LFxyXG4gIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxyXG5cclxuICBMTjEwX1BSRUNJU0lPTiA9IExOMTAubGVuZ3RoIC0gMSxcclxuICBQSV9QUkVDSVNJT04gPSBQSS5sZW5ndGggLSAxLFxyXG5cclxuICAvLyBEZWNpbWFsLnByb3RvdHlwZSBvYmplY3RcclxuICBQID0geyBuYW1lOiAnW29iamVjdCBEZWNpbWFsXScgfTtcclxuXHJcblxyXG4vLyBEZWNpbWFsIHByb3RvdHlwZSBtZXRob2RzXHJcblxyXG5cclxuLypcclxuICogIGFic29sdXRlVmFsdWUgICAgICAgICAgICAgYWJzXHJcbiAqICBjZWlsXHJcbiAqICBjb21wYXJlZFRvICAgICAgICAgICAgICAgIGNtcFxyXG4gKiAgY29zaW5lICAgICAgICAgICAgICAgICAgICBjb3NcclxuICogIGN1YmVSb290ICAgICAgICAgICAgICAgICAgY2JydFxyXG4gKiAgZGVjaW1hbFBsYWNlcyAgICAgICAgICAgICBkcFxyXG4gKiAgZGl2aWRlZEJ5ICAgICAgICAgICAgICAgICBkaXZcclxuICogIGRpdmlkZWRUb0ludGVnZXJCeSAgICAgICAgZGl2VG9JbnRcclxuICogIGVxdWFscyAgICAgICAgICAgICAgICAgICAgZXFcclxuICogIGZsb29yXHJcbiAqICBncmVhdGVyVGhhbiAgICAgICAgICAgICAgIGd0XHJcbiAqICBncmVhdGVyVGhhbk9yRXF1YWxUbyAgICAgIGd0ZVxyXG4gKiAgaHlwZXJib2xpY0Nvc2luZSAgICAgICAgICBjb3NoXHJcbiAqICBoeXBlcmJvbGljU2luZSAgICAgICAgICAgIHNpbmhcclxuICogIGh5cGVyYm9saWNUYW5nZW50ICAgICAgICAgdGFuaFxyXG4gKiAgaW52ZXJzZUNvc2luZSAgICAgICAgICAgICBhY29zXHJcbiAqICBpbnZlcnNlSHlwZXJib2xpY0Nvc2luZSAgIGFjb3NoXHJcbiAqICBpbnZlcnNlSHlwZXJib2xpY1NpbmUgICAgIGFzaW5oXHJcbiAqICBpbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQgIGF0YW5oXHJcbiAqICBpbnZlcnNlU2luZSAgICAgICAgICAgICAgIGFzaW5cclxuICogIGludmVyc2VUYW5nZW50ICAgICAgICAgICAgYXRhblxyXG4gKiAgaXNGaW5pdGVcclxuICogIGlzSW50ZWdlciAgICAgICAgICAgICAgICAgaXNJbnRcclxuICogIGlzTmFOXHJcbiAqICBpc05lZ2F0aXZlICAgICAgICAgICAgICAgIGlzTmVnXHJcbiAqICBpc1Bvc2l0aXZlICAgICAgICAgICAgICAgIGlzUG9zXHJcbiAqICBpc1plcm9cclxuICogIGxlc3NUaGFuICAgICAgICAgICAgICAgICAgbHRcclxuICogIGxlc3NUaGFuT3JFcXVhbFRvICAgICAgICAgbHRlXHJcbiAqICBsb2dhcml0aG0gICAgICAgICAgICAgICAgIGxvZ1xyXG4gKiAgW21heGltdW1dICAgICAgICAgICAgICAgICBbbWF4XVxyXG4gKiAgW21pbmltdW1dICAgICAgICAgICAgICAgICBbbWluXVxyXG4gKiAgbWludXMgICAgICAgICAgICAgICAgICAgICBzdWJcclxuICogIG1vZHVsbyAgICAgICAgICAgICAgICAgICAgbW9kXHJcbiAqICBuYXR1cmFsRXhwb25lbnRpYWwgICAgICAgIGV4cFxyXG4gKiAgbmF0dXJhbExvZ2FyaXRobSAgICAgICAgICBsblxyXG4gKiAgbmVnYXRlZCAgICAgICAgICAgICAgICAgICBuZWdcclxuICogIHBsdXMgICAgICAgICAgICAgICAgICAgICAgYWRkXHJcbiAqICBwcmVjaXNpb24gICAgICAgICAgICAgICAgIHNkXHJcbiAqICByb3VuZFxyXG4gKiAgc2luZSAgICAgICAgICAgICAgICAgICAgICBzaW5cclxuICogIHNxdWFyZVJvb3QgICAgICAgICAgICAgICAgc3FydFxyXG4gKiAgdGFuZ2VudCAgICAgICAgICAgICAgICAgICB0YW5cclxuICogIHRpbWVzICAgICAgICAgICAgICAgICAgICAgbXVsXHJcbiAqICB0b0JpbmFyeVxyXG4gKiAgdG9EZWNpbWFsUGxhY2VzICAgICAgICAgICB0b0RQXHJcbiAqICB0b0V4cG9uZW50aWFsXHJcbiAqICB0b0ZpeGVkXHJcbiAqICB0b0ZyYWN0aW9uXHJcbiAqICB0b0hleGFkZWNpbWFsICAgICAgICAgICAgIHRvSGV4XHJcbiAqICB0b05lYXJlc3RcclxuICogIHRvTnVtYmVyXHJcbiAqICB0b09jdGFsXHJcbiAqICB0b1Bvd2VyICAgICAgICAgICAgICAgICAgIHBvd1xyXG4gKiAgdG9QcmVjaXNpb25cclxuICogIHRvU2lnbmlmaWNhbnREaWdpdHMgICAgICAgdG9TRFxyXG4gKiAgdG9TdHJpbmdcclxuICogIHRydW5jYXRlZCAgICAgICAgICAgICAgICAgdHJ1bmNcclxuICogIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgdG9KU09OXHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqL1xyXG5QLmFic29sdXRlVmFsdWUgPSBQLmFicyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpO1xyXG4gIGlmICh4LnMgPCAwKSB4LnMgPSAxO1xyXG4gIHJldHVybiBmaW5hbGlzZSh4KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgaW4gdGhlXHJcbiAqIGRpcmVjdGlvbiBvZiBwb3NpdGl2ZSBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAuY2VpbCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHRoaXMuZSArIDEsIDIpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVyblxyXG4gKiAgIDEgICAgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCxcclxuICogIC0xICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqICAgMCAgICBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAqICAgTmFOICBpZiB0aGUgdmFsdWUgb2YgZWl0aGVyIERlY2ltYWwgaXMgTmFOLlxyXG4gKlxyXG4gKi9cclxuUC5jb21wYXJlZFRvID0gUC5jbXAgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBpLCBqLCB4ZEwsIHlkTCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICB5ZCA9ICh5ID0gbmV3IHguY29uc3RydWN0b3IoeSkpLmQsXHJcbiAgICB4cyA9IHgucyxcclxuICAgIHlzID0geS5zO1xyXG5cclxuICAvLyBFaXRoZXIgTmFOIG9yIMKxSW5maW5pdHk/XHJcbiAgaWYgKCF4ZCB8fCAheWQpIHtcclxuICAgIHJldHVybiAheHMgfHwgIXlzID8gTmFOIDogeHMgIT09IHlzID8geHMgOiB4ZCA9PT0geWQgPyAwIDogIXhkIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLy8gRWl0aGVyIHplcm8/XHJcbiAgaWYgKCF4ZFswXSB8fCAheWRbMF0pIHJldHVybiB4ZFswXSA/IHhzIDogeWRbMF0gPyAteXMgOiAwO1xyXG5cclxuICAvLyBTaWducyBkaWZmZXI/XHJcbiAgaWYgKHhzICE9PSB5cykgcmV0dXJuIHhzO1xyXG5cclxuICAvLyBDb21wYXJlIGV4cG9uZW50cy5cclxuICBpZiAoeC5lICE9PSB5LmUpIHJldHVybiB4LmUgPiB5LmUgXiB4cyA8IDAgPyAxIDogLTE7XHJcblxyXG4gIHhkTCA9IHhkLmxlbmd0aDtcclxuICB5ZEwgPSB5ZC5sZW5ndGg7XHJcblxyXG4gIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgZm9yIChpID0gMCwgaiA9IHhkTCA8IHlkTCA/IHhkTCA6IHlkTDsgaSA8IGo7ICsraSkge1xyXG4gICAgaWYgKHhkW2ldICE9PSB5ZFtpXSkgcmV0dXJuIHhkW2ldID4geWRbaV0gXiB4cyA8IDAgPyAxIDogLTE7XHJcbiAgfVxyXG5cclxuICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgcmV0dXJuIHhkTCA9PT0geWRMID8gMCA6IHhkTCA+IHlkTCBeIHhzIDwgMCA/IDEgOiAtMTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY29zaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogY29zKDApICAgICAgICAgPSAxXHJcbiAqIGNvcygtMCkgICAgICAgID0gMVxyXG4gKiBjb3MoSW5maW5pdHkpICA9IE5hTlxyXG4gKiBjb3MoLUluZmluaXR5KSA9IE5hTlxyXG4gKiBjb3MoTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5jb3NpbmUgPSBQLmNvcyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmQpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAvLyBjb3MoMCkgPSBjb3MoLTApID0gMVxyXG4gIGlmICgheC5kWzBdKSByZXR1cm4gbmV3IEN0b3IoMSk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyBMT0dfQkFTRTtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IGNvc2luZShDdG9yLCB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA9PSAyIHx8IHF1YWRyYW50ID09IDMgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY3ViZSByb290IG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogIGNicnQoMCkgID0gIDBcclxuICogIGNicnQoLTApID0gLTBcclxuICogIGNicnQoMSkgID0gIDFcclxuICogIGNicnQoLTEpID0gLTFcclxuICogIGNicnQoTikgID0gIE5cclxuICogIGNicnQoLUkpID0gLUlcclxuICogIGNicnQoSSkgID0gIElcclxuICpcclxuICogTWF0aC5jYnJ0KHgpID0gKHggPCAwID8gLU1hdGgucG93KC14LCAxLzMpIDogTWF0aC5wb3coeCwgMS8zKSlcclxuICpcclxuICovXHJcblAuY3ViZVJvb3QgPSBQLmNicnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGUsIG0sIG4sIHIsIHJlcCwgcywgc2QsIHQsIHQzLCB0M3BsdXN4LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgcyA9IHgucyAqIG1hdGhwb3coeC5zICogeCwgMSAvIDMpO1xyXG5cclxuICAgLy8gTWF0aC5jYnJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgLy8gUGFzcyB4IHRvIE1hdGgucG93IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gIGlmICghcyB8fCBNYXRoLmFicyhzKSA9PSAxIC8gMCkge1xyXG4gICAgbiA9IGRpZ2l0c1RvU3RyaW5nKHguZCk7XHJcbiAgICBlID0geC5lO1xyXG5cclxuICAgIC8vIEFkanVzdCBuIGV4cG9uZW50IHNvIGl0IGlzIGEgbXVsdGlwbGUgb2YgMyBhd2F5IGZyb20geCBleHBvbmVudC5cclxuICAgIGlmIChzID0gKGUgLSBuLmxlbmd0aCArIDEpICUgMykgbiArPSAocyA9PSAxIHx8IHMgPT0gLTIgPyAnMCcgOiAnMDAnKTtcclxuICAgIHMgPSBtYXRocG93KG4sIDEgLyAzKTtcclxuXHJcbiAgICAvLyBSYXJlbHksIGUgbWF5IGJlIG9uZSBsZXNzIHRoYW4gdGhlIHJlc3VsdCBleHBvbmVudCB2YWx1ZS5cclxuICAgIGUgPSBtYXRoZmxvb3IoKGUgKyAxKSAvIDMpIC0gKGUgJSAzID09IChlIDwgMCA/IC0xIDogMikpO1xyXG5cclxuICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSAnNWUnICsgZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICB9XHJcblxyXG4gICAgciA9IG5ldyBDdG9yKG4pO1xyXG4gICAgci5zID0geC5zO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gbmV3IEN0b3Iocy50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHNkID0gKGUgPSBDdG9yLnByZWNpc2lvbikgKyAzO1xyXG5cclxuICAvLyBIYWxsZXkncyBtZXRob2QuXHJcbiAgLy8gVE9ETz8gQ29tcGFyZSBOZXd0b24ncyBtZXRob2QuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgdCA9IHI7XHJcbiAgICB0MyA9IHQudGltZXModCkudGltZXModCk7XHJcbiAgICB0M3BsdXN4ID0gdDMucGx1cyh4KTtcclxuICAgIHIgPSBkaXZpZGUodDNwbHVzeC5wbHVzKHgpLnRpbWVzKHQpLCB0M3BsdXN4LnBsdXModDMpLCBzZCArIDIsIDEpO1xyXG5cclxuICAgIC8vIFRPRE8/IFJlcGxhY2Ugd2l0aCBmb3ItbG9vcCBhbmQgY2hlY2tSb3VuZGluZ0RpZ2l0cy5cclxuICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHNkKSA9PT0gKG4gPSBkaWdpdHNUb1N0cmluZyhyLmQpKS5zbGljZSgwLCBzZCkpIHtcclxuICAgICAgbiA9IG4uc2xpY2Uoc2QgLSAzLCBzZCArIDEpO1xyXG5cclxuICAgICAgLy8gVGhlIDR0aCByb3VuZGluZyBkaWdpdCBtYXkgYmUgaW4gZXJyb3IgYnkgLTEgc28gaWYgdGhlIDQgcm91bmRpbmcgZGlnaXRzIGFyZSA5OTk5IG9yIDQ5OTlcclxuICAgICAgLy8gLCBpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnksIGNvbnRpbnVlIHRoZSBpdGVyYXRpb24uXHJcbiAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZSBleGFjdCByZXN1bHQgYXMgdGhlXHJcbiAgICAgICAgLy8gbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICBmaW5hbGlzZSh0LCBlICsgMSwgMCk7XHJcblxyXG4gICAgICAgICAgaWYgKHQudGltZXModCkudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgciA9IHQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2QgKz0gNDtcclxuICAgICAgICByZXAgPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGFuIGV4YWN0IHJlc3VsdC5cclxuICAgICAgICAvLyBJZiBub3QsIHRoZW4gdGhlcmUgYXJlIGZ1cnRoZXIgZGlnaXRzIGFuZCBtIHdpbGwgYmUgdHJ1dGh5LlxyXG4gICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgIGZpbmFsaXNlKHIsIGUgKyAxLCAxKTtcclxuICAgICAgICAgIG0gPSAhci50aW1lcyhyKS50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBlLCBDdG9yLnJvdW5kaW5nLCBtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC5kZWNpbWFsUGxhY2VzID0gUC5kcCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdyxcclxuICAgIGQgPSB0aGlzLmQsXHJcbiAgICBuID0gTmFOO1xyXG5cclxuICBpZiAoZCkge1xyXG4gICAgdyA9IGQubGVuZ3RoIC0gMTtcclxuICAgIG4gPSAodyAtIG1hdGhmbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkpICogTE9HX0JBU0U7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgdyA9IGRbd107XHJcbiAgICBpZiAodykgZm9yICg7IHcgJSAxMCA9PSAwOyB3IC89IDEwKSBuLS07XHJcbiAgICBpZiAobiA8IDApIG4gPSAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG47XHJcbn07XHJcblxyXG5cclxuLypcclxuICogIG4gLyAwID0gSVxyXG4gKiAgbiAvIE4gPSBOXHJcbiAqICBuIC8gSSA9IDBcclxuICogIDAgLyBuID0gMFxyXG4gKiAgMCAvIDAgPSBOXHJcbiAqICAwIC8gTiA9IE5cclxuICogIDAgLyBJID0gMFxyXG4gKiAgTiAvIG4gPSBOXHJcbiAqICBOIC8gMCA9IE5cclxuICogIE4gLyBOID0gTlxyXG4gKiAgTiAvIEkgPSBOXHJcbiAqICBJIC8gbiA9IElcclxuICogIEkgLyAwID0gSVxyXG4gKiAgSSAvIE4gPSBOXHJcbiAqICBJIC8gSSA9IE5cclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBkaXZpZGVkIGJ5IGB5YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5kaXZpZGVkQnkgPSBQLmRpdiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIGRpdmlkZSh0aGlzLCBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih5KSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludGVnZXIgcGFydCBvZiBkaXZpZGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsXHJcbiAqIGJ5IHRoZSB2YWx1ZSBvZiBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5kaXZUb0ludCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKGRpdmlkZSh4LCBuZXcgQ3Rvcih5KSwgMCwgMSwgMSksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmVxdWFscyA9IFAuZXEgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA9PT0gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgaW4gdGhlXHJcbiAqIGRpcmVjdGlvbiBvZiBuZWdhdGl2ZSBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAuZmxvb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAzKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuXHJcbiAqIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5ncmVhdGVyVGhhbiA9IFAuZ3QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA+IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIGB5YCxcclxuICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuZ3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGsgPSB0aGlzLmNtcCh5KTtcclxuICByZXR1cm4gayA9PSAxIHx8IGsgPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFsxLCBJbmZpbml0eV1cclxuICpcclxuICogY29zaCh4KSA9IDEgKyB4XjIvMiEgKyB4XjQvNCEgKyB4XjYvNiEgKyAuLi5cclxuICpcclxuICogY29zaCgwKSAgICAgICAgID0gMVxyXG4gKiBjb3NoKC0wKSAgICAgICAgPSAxXHJcbiAqIGNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIGNvc2goLUluZmluaXR5KSA9IEluZmluaXR5XHJcbiAqIGNvc2goTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKiAgeCAgICAgICAgdGltZSB0YWtlbiAobXMpICAgcmVzdWx0XHJcbiAqIDEwMDAgICAgICA5ICAgICAgICAgICAgICAgICA5Ljg1MDM1NTU3MDA4NTIzNDk2OTRlKzQzM1xyXG4gKiAxMDAwMCAgICAgMjUgICAgICAgICAgICAgICAgNC40MDM0MDkxMTI4MzE0NjA3OTM2ZSs0MzQyXHJcbiAqIDEwMDAwMCAgICAxNzEgICAgICAgICAgICAgICAxLjQwMzMzMTY4MDIxMzA2MTU4OTdlKzQzNDI5XHJcbiAqIDEwMDAwMDAgICAzODE3ICAgICAgICAgICAgICAxLjUxNjYwNzY5ODQwMTA0Mzc3MjVlKzQzNDI5NFxyXG4gKiAxMDAwMDAwMCAgYWJhbmRvbmVkIGFmdGVyIDIgbWludXRlIHdhaXRcclxuICpcclxuICogVE9ETz8gQ29tcGFyZSBwZXJmb3JtYW5jZSBvZiBjb3NoKHgpID0gMC41ICogKGV4cCh4KSArIGV4cCgteCkpXHJcbiAqXHJcbiAqL1xyXG5QLmh5cGVyYm9saWNDb3NpbmUgPSBQLmNvc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGssIG4sIHByLCBybSwgbGVuLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIG9uZSA9IG5ldyBDdG9yKDEpO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgucyA/IDEgLyAwIDogTmFOKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG9uZTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIDQ7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBjb3MoNHgpID0gMSAtIDhjb3NeMih4KSArIDhjb3NeNCh4KSArIDFcclxuICAvLyBpLmUuIGNvcyh4KSA9IDEgLSBjb3NeMih4LzQpKDggLSA4Y29zXjIoeC80KSlcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gIC8vIFRPRE8/IEVzdGltYXRpb24gcmV1c2VkIGZyb20gY29zaW5lKCkgYW5kIG1heSBub3QgYmUgb3B0aW1hbCBoZXJlLlxyXG4gIGlmIChsZW4gPCAzMikge1xyXG4gICAgayA9IE1hdGguY2VpbChsZW4gLyAzKTtcclxuICAgIG4gPSAoMSAvIHRpbnlQb3coNCwgaykpLnRvU3RyaW5nKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGsgPSAxNjtcclxuICAgIG4gPSAnMi4zMjgzMDY0MzY1Mzg2OTYyODkwNjI1ZS0xMCc7XHJcbiAgfVxyXG5cclxuICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDEsIHgudGltZXMobiksIG5ldyBDdG9yKDEpLCB0cnVlKTtcclxuXHJcbiAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICB2YXIgY29zaDJfeCxcclxuICAgIGkgPSBrLFxyXG4gICAgZDggPSBuZXcgQ3Rvcig4KTtcclxuICBmb3IgKDsgaS0tOykge1xyXG4gICAgY29zaDJfeCA9IHgudGltZXMoeCk7XHJcbiAgICB4ID0gb25lLm1pbnVzKGNvc2gyX3gudGltZXMoZDgubWludXMoY29zaDJfeC50aW1lcyhkOCkpKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiBzaW5oKHgpID0geCArIHheMy8zISArIHheNS81ISArIHheNy83ISArIC4uLlxyXG4gKlxyXG4gKiBzaW5oKDApICAgICAgICAgPSAwXHJcbiAqIHNpbmgoLTApICAgICAgICA9IC0wXHJcbiAqIHNpbmgoSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIHNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gKiBzaW5oKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogeCAgICAgICAgdGltZSB0YWtlbiAobXMpXHJcbiAqIDEwICAgICAgIDIgbXNcclxuICogMTAwICAgICAgNSBtc1xyXG4gKiAxMDAwICAgICAxNCBtc1xyXG4gKiAxMDAwMCAgICA4MiBtc1xyXG4gKiAxMDAwMDAgICA4ODYgbXMgICAgICAgICAgICAxLjQwMzMzMTY4MDIxMzA2MTU4OTdlKzQzNDI5XHJcbiAqIDIwMDAwMCAgIDI2MTMgbXNcclxuICogMzAwMDAwICAgNTQwNyBtc1xyXG4gKiA0MDAwMDAgICA4ODI0IG1zXHJcbiAqIDUwMDAwMCAgIDEzMDI2IG1zICAgICAgICAgIDguNzA4MDY0MzYxMjcxODA4NDEyOWUrMjE3MTQ2XHJcbiAqIDEwMDAwMDAgIDQ4NTQzIG1zXHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2Ygc2luaCh4KSA9IDAuNSAqIChleHAoeCkgLSBleHAoLXgpKVxyXG4gKlxyXG4gKi9cclxuUC5oeXBlcmJvbGljU2luZSA9IFAuc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaywgcHIsIHJtLCBsZW4sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIGlmIChsZW4gPCAzKSB7XHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgsIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gQWx0ZXJuYXRpdmUgYXJndW1lbnQgcmVkdWN0aW9uOiBzaW5oKDN4KSA9IHNpbmgoeCkoMyArIDRzaW5oXjIoeCkpXHJcbiAgICAvLyBpLmUuIHNpbmgoeCkgPSBzaW5oKHgvMykoMyArIDRzaW5oXjIoeC8zKSlcclxuICAgIC8vIDMgbXVsdGlwbGljYXRpb25zIGFuZCAxIGFkZGl0aW9uXHJcblxyXG4gICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBzaW5oKDV4KSA9IHNpbmgoeCkoNSArIHNpbmheMih4KSgyMCArIDE2c2luaF4yKHgpKSlcclxuICAgIC8vIGkuZS4gc2luaCh4KSA9IHNpbmgoeC81KSg1ICsgc2luaF4yKHgvNSkoMjAgKyAxNnNpbmheMih4LzUpKSlcclxuICAgIC8vIDQgbXVsdGlwbGljYXRpb25zIGFuZCAyIGFkZGl0aW9uc1xyXG5cclxuICAgIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAgIGsgPSAxLjQgKiBNYXRoLnNxcnQobGVuKTtcclxuICAgIGsgPSBrID4gMTYgPyAxNiA6IGsgfCAwO1xyXG5cclxuICAgIHggPSB4LnRpbWVzKDEgLyB0aW55UG93KDUsIGspKTtcclxuICAgIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICAgIHZhciBzaW5oMl94LFxyXG4gICAgICBkNSA9IG5ldyBDdG9yKDUpLFxyXG4gICAgICBkMTYgPSBuZXcgQ3RvcigxNiksXHJcbiAgICAgIGQyMCA9IG5ldyBDdG9yKDIwKTtcclxuICAgIGZvciAoOyBrLS07KSB7XHJcbiAgICAgIHNpbmgyX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgICB4ID0geC50aW1lcyhkNS5wbHVzKHNpbmgyX3gudGltZXMoZDE2LnRpbWVzKHNpbmgyX3gpLnBsdXMoZDIwKSkpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogdGFuaCh4KSA9IHNpbmgoeCkgLyBjb3NoKHgpXHJcbiAqXHJcbiAqIHRhbmgoMCkgICAgICAgICA9IDBcclxuICogdGFuaCgtMCkgICAgICAgID0gLTBcclxuICogdGFuaChJbmZpbml0eSkgID0gMVxyXG4gKiB0YW5oKC1JbmZpbml0eSkgPSAtMVxyXG4gKiB0YW5oKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaHlwZXJib2xpY1RhbmdlbnQgPSBQLnRhbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeC5zKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNztcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgcmV0dXJuIGRpdmlkZSh4LnNpbmgoKSwgeC5jb3NoKCksIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY2Nvc2luZSAoaW52ZXJzZSBjb3NpbmUpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlIG9mXHJcbiAqIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLTEsIDFdXHJcbiAqIFJhbmdlOiBbMCwgcGldXHJcbiAqXHJcbiAqIGFjb3MoeCkgPSBwaS8yIC0gYXNpbih4KVxyXG4gKlxyXG4gKiBhY29zKDApICAgICAgID0gcGkvMlxyXG4gKiBhY29zKC0wKSAgICAgID0gcGkvMlxyXG4gKiBhY29zKDEpICAgICAgID0gMFxyXG4gKiBhY29zKC0xKSAgICAgID0gcGlcclxuICogYWNvcygxLzIpICAgICA9IHBpLzNcclxuICogYWNvcygtMS8yKSAgICA9IDIqcGkvM1xyXG4gKiBhY29zKHx4fCA+IDEpID0gTmFOXHJcbiAqIGFjb3MoTmFOKSAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaW52ZXJzZUNvc2luZSA9IFAuYWNvcyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaGFsZlBpLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIGsgPSB4LmFicygpLmNtcCgxKSxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIGlmIChrICE9PSAtMSkge1xyXG4gICAgcmV0dXJuIGsgPT09IDBcclxuICAgICAgLy8gfHh8IGlzIDFcclxuICAgICAgPyB4LmlzTmVnKCkgPyBnZXRQaShDdG9yLCBwciwgcm0pIDogbmV3IEN0b3IoMClcclxuICAgICAgLy8gfHh8ID4gMSBvciB4IGlzIE5hTlxyXG4gICAgICA6IG5ldyBDdG9yKE5hTik7XHJcbiAgfVxyXG5cclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gIC8vIFRPRE8/IFNwZWNpYWwgY2FzZSBhY29zKDAuNSkgPSBwaS8zIGFuZCBhY29zKC0wLjUpID0gMipwaS8zXHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5hc2luKCk7XHJcbiAgaGFsZlBpID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBoYWxmUGkubWludXMoeCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgY29zaW5lIGluIHJhZGlhbnMgb2YgdGhlXHJcbiAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbMSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbMCwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGFjb3NoKHgpID0gbG4oeCArIHNxcnQoeF4yIC0gMSkpXHJcbiAqXHJcbiAqIGFjb3NoKHggPCAxKSAgICAgPSBOYU5cclxuICogYWNvc2goTmFOKSAgICAgICA9IE5hTlxyXG4gKiBhY29zaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogYWNvc2goLUluZmluaXR5KSA9IE5hTlxyXG4gKiBhY29zaCgwKSAgICAgICAgID0gTmFOXHJcbiAqIGFjb3NoKC0wKSAgICAgICAgPSBOYU5cclxuICogYWNvc2goMSkgICAgICAgICA9IDBcclxuICogYWNvc2goLTEpICAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlSHlwZXJib2xpY0Nvc2luZSA9IFAuYWNvc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICh4Lmx0ZSgxKSkgcmV0dXJuIG5ldyBDdG9yKHguZXEoMSkgPyAwIDogTmFOKTtcclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoTWF0aC5hYnMoeC5lKSwgeC5zZCgpKSArIDQ7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgeCA9IHgudGltZXMoeCkubWludXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgubG4oKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBzaW5lIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlXHJcbiAqIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhc2luaCh4KSA9IGxuKHggKyBzcXJ0KHheMiArIDEpKVxyXG4gKlxyXG4gKiBhc2luaChOYU4pICAgICAgID0gTmFOXHJcbiAqIGFzaW5oKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBhc2luaCgtSW5maW5pdHkpID0gLUluZmluaXR5XHJcbiAqIGFzaW5oKDApICAgICAgICAgPSAwXHJcbiAqIGFzaW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlSHlwZXJib2xpY1NpbmUgPSBQLmFzaW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyAyICogTWF0aC5tYXgoTWF0aC5hYnMoeC5lKSwgeC5zZCgpKSArIDY7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgeCA9IHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cyh4KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC5sbigpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgaW4gcmFkaWFucyBvZiB0aGVcclxuICogdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstMSwgMV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhdGFuaCh4KSA9IDAuNSAqIGxuKCgxICsgeCkgLyAoMSAtIHgpKVxyXG4gKlxyXG4gKiBhdGFuaCh8eHwgPiAxKSAgID0gTmFOXHJcbiAqIGF0YW5oKE5hTikgICAgICAgPSBOYU5cclxuICogYXRhbmgoSW5maW5pdHkpICA9IE5hTlxyXG4gKiBhdGFuaCgtSW5maW5pdHkpID0gTmFOXHJcbiAqIGF0YW5oKDApICAgICAgICAgPSAwXHJcbiAqIGF0YW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKiBhdGFuaCgxKSAgICAgICAgID0gSW5maW5pdHlcclxuICogYXRhbmgoLTEpICAgICAgICA9IC1JbmZpbml0eVxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQgPSBQLmF0YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sIHdwciwgeHNkLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmUgPj0gMCkgcmV0dXJuIG5ldyBDdG9yKHguYWJzKCkuZXEoMSkgPyB4LnMgLyAwIDogeC5pc1plcm8oKSA/IHggOiBOYU4pO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB4c2QgPSB4LnNkKCk7XHJcblxyXG4gIGlmIChNYXRoLm1heCh4c2QsIHByKSA8IDIgKiAteC5lIC0gMSkgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBwciwgcm0sIHRydWUpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHdwciA9IHhzZCAtIHguZTtcclxuXHJcbiAgeCA9IGRpdmlkZSh4LnBsdXMoMSksIG5ldyBDdG9yKDEpLm1pbnVzKHgpLCB3cHIgKyBwciwgMSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5sbigpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgudGltZXMoMC41KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSAoaW52ZXJzZSBzaW5lKSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLXBpLzIsIHBpLzJdXHJcbiAqXHJcbiAqIGFzaW4oeCkgPSAyKmF0YW4oeC8oMSArIHNxcnQoMSAtIHheMikpKVxyXG4gKlxyXG4gKiBhc2luKDApICAgICAgID0gMFxyXG4gKiBhc2luKC0wKSAgICAgID0gLTBcclxuICogYXNpbigxLzIpICAgICA9IHBpLzZcclxuICogYXNpbigtMS8yKSAgICA9IC1waS82XHJcbiAqIGFzaW4oMSkgICAgICAgPSBwaS8yXHJcbiAqIGFzaW4oLTEpICAgICAgPSAtcGkvMlxyXG4gKiBhc2luKHx4fCA+IDEpID0gTmFOXHJcbiAqIGFzaW4oTmFOKSAgICAgPSBOYU5cclxuICpcclxuICogVE9ETz8gQ29tcGFyZSBwZXJmb3JtYW5jZSBvZiBUYXlsb3Igc2VyaWVzLlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlU2luZSA9IFAuYXNpbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaGFsZlBpLCBrLFxyXG4gICAgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgayA9IHguYWJzKCkuY21wKDEpO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoayAhPT0gLTEpIHtcclxuXHJcbiAgICAvLyB8eHwgaXMgMVxyXG4gICAgaWYgKGsgPT09IDApIHtcclxuICAgICAgaGFsZlBpID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuICAgICAgaGFsZlBpLnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiBoYWxmUGk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gfHh8ID4gMSBvciB4IGlzIE5hTlxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPPyBTcGVjaWFsIGNhc2UgYXNpbigxLzIpID0gcGkvNiBhbmQgYXNpbigtMS8yKSA9IC1waS82XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5kaXYobmV3IEN0b3IoMSkubWludXMoeC50aW1lcyh4KSkuc3FydCgpLnBsdXMoMSkpLmF0YW4oKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LnRpbWVzKDIpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IChpbnZlcnNlIHRhbmdlbnQpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlXHJcbiAqIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstcGkvMiwgcGkvMl1cclxuICpcclxuICogYXRhbih4KSA9IHggLSB4XjMvMyArIHheNS81IC0geF43LzcgKyAuLi5cclxuICpcclxuICogYXRhbigwKSAgICAgICAgID0gMFxyXG4gKiBhdGFuKC0wKSAgICAgICAgPSAtMFxyXG4gKiBhdGFuKDEpICAgICAgICAgPSBwaS80XHJcbiAqIGF0YW4oLTEpICAgICAgICA9IC1waS80XHJcbiAqIGF0YW4oSW5maW5pdHkpICA9IHBpLzJcclxuICogYXRhbigtSW5maW5pdHkpID0gLXBpLzJcclxuICogYXRhbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VUYW5nZW50ID0gUC5hdGFuID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBpLCBqLCBrLCBuLCBweCwgdCwgciwgd3ByLCB4MixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkge1xyXG4gICAgaWYgKCF4LnMpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gICAgaWYgKHByICsgNCA8PSBQSV9QUkVDSVNJT04pIHtcclxuICAgICAgciA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcbiAgICAgIHIucyA9IHgucztcclxuICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmICh4LmlzWmVybygpKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeCk7XHJcbiAgfSBlbHNlIGlmICh4LmFicygpLmVxKDEpICYmIHByICsgNCA8PSBQSV9QUkVDSVNJT04pIHtcclxuICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjI1KTtcclxuICAgIHIucyA9IHgucztcclxuICAgIHJldHVybiByO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSBwciArIDEwO1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICAvLyBUT0RPPyBpZiAoeCA+PSAxICYmIHByIDw9IFBJX1BSRUNJU0lPTikgYXRhbih4KSA9IGhhbGZQaSAqIHgucyAtIGF0YW4oMSAvIHgpO1xyXG5cclxuICAvLyBBcmd1bWVudCByZWR1Y3Rpb25cclxuICAvLyBFbnN1cmUgfHh8IDwgMC40MlxyXG4gIC8vIGF0YW4oeCkgPSAyICogYXRhbih4IC8gKDEgKyBzcXJ0KDEgKyB4XjIpKSlcclxuXHJcbiAgayA9IE1hdGgubWluKDI4LCB3cHIgLyBMT0dfQkFTRSArIDIgfCAwKTtcclxuXHJcbiAgZm9yIChpID0gazsgaTsgLS1pKSB4ID0geC5kaXYoeC50aW1lcyh4KS5wbHVzKDEpLnNxcnQoKS5wbHVzKDEpKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgaiA9IE1hdGguY2VpbCh3cHIgLyBMT0dfQkFTRSk7XHJcbiAgbiA9IDE7XHJcbiAgeDIgPSB4LnRpbWVzKHgpO1xyXG4gIHIgPSBuZXcgQ3Rvcih4KTtcclxuICBweCA9IHg7XHJcblxyXG4gIC8vIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAgZm9yICg7IGkgIT09IC0xOykge1xyXG4gICAgcHggPSBweC50aW1lcyh4Mik7XHJcbiAgICB0ID0gci5taW51cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgcHggPSBweC50aW1lcyh4Mik7XHJcbiAgICByID0gdC5wbHVzKHB4LmRpdihuICs9IDIpKTtcclxuXHJcbiAgICBpZiAoci5kW2pdICE9PSB2b2lkIDApIGZvciAoaSA9IGo7IHIuZFtpXSA9PT0gdC5kW2ldICYmIGktLTspO1xyXG4gIH1cclxuXHJcbiAgaWYgKGspIHIgPSByLnRpbWVzKDIgPDwgKGsgLSAxKSk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzRmluaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGFuIGludGVnZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzSW50ZWdlciA9IFAuaXNJbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICEhdGhpcy5kICYmIG1hdGhmbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmQubGVuZ3RoIC0gMjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIE5hTiwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICF0aGlzLnM7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNOZWdhdGl2ZSA9IFAuaXNOZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucyA8IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBwb3NpdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNQb3NpdGl2ZSA9IFAuaXNQb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucyA+IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc1plcm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICEhdGhpcy5kICYmIHRoaXMuZFswXSA9PT0gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmxlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpIDwgMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmxlc3NUaGFuT3JFcXVhbFRvID0gUC5sdGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA8IDE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSBsb2dhcml0aG0gb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCB0byB0aGUgc3BlY2lmaWVkIGJhc2UsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogSWYgbm8gYmFzZSBpcyBzcGVjaWZpZWQsIHJldHVybiBsb2dbMTBdKGFyZykuXHJcbiAqXHJcbiAqIGxvZ1tiYXNlXShhcmcpID0gbG4oYXJnKSAvIGxuKGJhc2UpXHJcbiAqXHJcbiAqIFRoZSByZXN1bHQgd2lsbCBhbHdheXMgYmUgY29ycmVjdGx5IHJvdW5kZWQgaWYgdGhlIGJhc2Ugb2YgdGhlIGxvZyBpcyAxMCwgYW5kICdhbG1vc3QgYWx3YXlzJ1xyXG4gKiBvdGhlcndpc2U6XHJcbiAqXHJcbiAqIERlcGVuZGluZyBvbiB0aGUgcm91bmRpbmcgbW9kZSwgdGhlIHJlc3VsdCBtYXkgYmUgaW5jb3JyZWN0bHkgcm91bmRlZCBpZiB0aGUgZmlyc3QgZmlmdGVlblxyXG4gKiByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5OTk5OTk5OTk5OSBvciBbNTBdMDAwMDAwMDAwMDAwMDAuIEluIHRoYXQgY2FzZSwgdGhlIG1heGltdW0gZXJyb3JcclxuICogYmV0d2VlbiB0aGUgcmVzdWx0IGFuZCB0aGUgY29ycmVjdGx5IHJvdW5kZWQgcmVzdWx0IHdpbGwgYmUgb25lIHVscCAodW5pdCBpbiB0aGUgbGFzdCBwbGFjZSkuXHJcbiAqXHJcbiAqIGxvZ1stYl0oYSkgICAgICAgPSBOYU5cclxuICogbG9nWzBdKGEpICAgICAgICA9IE5hTlxyXG4gKiBsb2dbMV0oYSkgICAgICAgID0gTmFOXHJcbiAqIGxvZ1tOYU5dKGEpICAgICAgPSBOYU5cclxuICogbG9nW0luZmluaXR5XShhKSA9IE5hTlxyXG4gKiBsb2dbYl0oMCkgICAgICAgID0gLUluZmluaXR5XHJcbiAqIGxvZ1tiXSgtMCkgICAgICAgPSAtSW5maW5pdHlcclxuICogbG9nW2JdKC1hKSAgICAgICA9IE5hTlxyXG4gKiBsb2dbYl0oMSkgICAgICAgID0gMFxyXG4gKiBsb2dbYl0oSW5maW5pdHkpID0gSW5maW5pdHlcclxuICogbG9nW2JdKE5hTikgICAgICA9IE5hTlxyXG4gKlxyXG4gKiBbYmFzZV0ge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGJhc2Ugb2YgdGhlIGxvZ2FyaXRobS5cclxuICpcclxuICovXHJcblAubG9nYXJpdGhtID0gUC5sb2cgPSBmdW5jdGlvbiAoYmFzZSkge1xyXG4gIHZhciBpc0Jhc2UxMCwgZCwgZGVub21pbmF0b3IsIGssIGluZiwgbnVtLCBzZCwgcixcclxuICAgIGFyZyA9IHRoaXMsXHJcbiAgICBDdG9yID0gYXJnLmNvbnN0cnVjdG9yLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIGd1YXJkID0gNTtcclxuXHJcbiAgLy8gRGVmYXVsdCBiYXNlIGlzIDEwLlxyXG4gIGlmIChiYXNlID09IG51bGwpIHtcclxuICAgIGJhc2UgPSBuZXcgQ3RvcigxMCk7XHJcbiAgICBpc0Jhc2UxMCA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJhc2UgPSBuZXcgQ3RvcihiYXNlKTtcclxuICAgIGQgPSBiYXNlLmQ7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBiYXNlIGlzIG5lZ2F0aXZlLCBvciBub24tZmluaXRlLCBvciBpcyAwIG9yIDEuXHJcbiAgICBpZiAoYmFzZS5zIDwgMCB8fCAhZCB8fCAhZFswXSB8fCBiYXNlLmVxKDEpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICBpc0Jhc2UxMCA9IGJhc2UuZXEoMTApO1xyXG4gIH1cclxuXHJcbiAgZCA9IGFyZy5kO1xyXG5cclxuICAvLyBJcyBhcmcgbmVnYXRpdmUsIG5vbi1maW5pdGUsIDAgb3IgMT9cclxuICBpZiAoYXJnLnMgPCAwIHx8ICFkIHx8ICFkWzBdIHx8IGFyZy5lcSgxKSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKGQgJiYgIWRbMF0gPyAtMSAvIDAgOiBhcmcucyAhPSAxID8gTmFOIDogZCA/IDAgOiAxIC8gMCk7XHJcbiAgfVxyXG5cclxuICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSBhIG5vbi10ZXJtaW5hdGluZyBkZWNpbWFsIGV4cGFuc2lvbiBpZiBiYXNlIGlzIDEwIGFuZCBhcmcgaXMgbm90IGFuXHJcbiAgLy8gaW50ZWdlciBwb3dlciBvZiAxMC5cclxuICBpZiAoaXNCYXNlMTApIHtcclxuICAgIGlmIChkLmxlbmd0aCA+IDEpIHtcclxuICAgICAgaW5mID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAoayA9IGRbMF07IGsgJSAxMCA9PT0gMDspIGsgLz0gMTA7XHJcbiAgICAgIGluZiA9IGsgIT09IDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIHNkID0gcHIgKyBndWFyZDtcclxuICBudW0gPSBuYXR1cmFsTG9nYXJpdGhtKGFyZywgc2QpO1xyXG4gIGRlbm9taW5hdG9yID0gaXNCYXNlMTAgPyBnZXRMbjEwKEN0b3IsIHNkICsgMTApIDogbmF0dXJhbExvZ2FyaXRobShiYXNlLCBzZCk7XHJcblxyXG4gIC8vIFRoZSByZXN1bHQgd2lsbCBoYXZlIDUgcm91bmRpbmcgZGlnaXRzLlxyXG4gIHIgPSBkaXZpZGUobnVtLCBkZW5vbWluYXRvciwgc2QsIDEpO1xyXG5cclxuICAvLyBJZiBhdCBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBpLmUuIHRoZSByZXN1bHQncyByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5IG9yIFs1MF0wMDAwLFxyXG4gIC8vIGNhbGN1bGF0ZSAxMCBmdXJ0aGVyIGRpZ2l0cy5cclxuICAvL1xyXG4gIC8vIElmIHRoZSByZXN1bHQgaXMga25vd24gdG8gaGF2ZSBhbiBpbmZpbml0ZSBkZWNpbWFsIGV4cGFuc2lvbiwgcmVwZWF0IHRoaXMgdW50aWwgaXQgaXMgY2xlYXJcclxuICAvLyB0aGF0IHRoZSByZXN1bHQgaXMgYWJvdmUgb3IgYmVsb3cgdGhlIGJvdW5kYXJ5LiBPdGhlcndpc2UsIGlmIGFmdGVyIGNhbGN1bGF0aW5nIHRoZSAxMFxyXG4gIC8vIGZ1cnRoZXIgZGlnaXRzLCB0aGUgbGFzdCAxNCBhcmUgbmluZXMsIHJvdW5kIHVwIGFuZCBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdC5cclxuICAvLyBBbHNvIGFzc3VtZSB0aGUgcmVzdWx0IGlzIGV4YWN0IGlmIHRoZSBsYXN0IDE0IGFyZSB6ZXJvLlxyXG4gIC8vXHJcbiAgLy8gRXhhbXBsZSBvZiBhIHJlc3VsdCB0aGF0IHdpbGwgYmUgaW5jb3JyZWN0bHkgcm91bmRlZDpcclxuICAvLyBsb2dbMTA0ODU3Nl0oNDUwMzU5OTYyNzM3MDUwMikgPSAyLjYwMDAwMDAwMDAwMDAwMDA5NjEwMjc5NTExNDQ0NzQ2Li4uXHJcbiAgLy8gVGhlIGFib3ZlIHJlc3VsdCBjb3JyZWN0bHkgcm91bmRlZCB1c2luZyBST1VORF9DRUlMIHRvIDEgZGVjaW1hbCBwbGFjZSBzaG91bGQgYmUgMi43LCBidXQgaXRcclxuICAvLyB3aWxsIGJlIGdpdmVuIGFzIDIuNiBhcyB0aGVyZSBhcmUgMTUgemVyb3MgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIHJlcXVlc3RlZCBkZWNpbWFsIHBsYWNlLCBzb1xyXG4gIC8vIHRoZSBleGFjdCByZXN1bHQgd291bGQgYmUgYXNzdW1lZCB0byBiZSAyLjYsIHdoaWNoIHJvdW5kZWQgdXNpbmcgUk9VTkRfQ0VJTCB0byAxIGRlY2ltYWxcclxuICAvLyBwbGFjZSBpcyBzdGlsbCAyLjYuXHJcbiAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrID0gcHIsIHJtKSkge1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgc2QgKz0gMTA7XHJcbiAgICAgIG51bSA9IG5hdHVyYWxMb2dhcml0aG0oYXJnLCBzZCk7XHJcbiAgICAgIGRlbm9taW5hdG9yID0gaXNCYXNlMTAgPyBnZXRMbjEwKEN0b3IsIHNkICsgMTApIDogbmF0dXJhbExvZ2FyaXRobShiYXNlLCBzZCk7XHJcbiAgICAgIHIgPSBkaXZpZGUobnVtLCBkZW5vbWluYXRvciwgc2QsIDEpO1xyXG5cclxuICAgICAgaWYgKCFpbmYpIHtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIDE0IG5pbmVzIGZyb20gdGhlIDJuZCByb3VuZGluZyBkaWdpdCwgYXMgdGhlIGZpcnN0IG1heSBiZSA0LlxyXG4gICAgICAgIGlmICgrZGlnaXRzVG9TdHJpbmcoci5kKS5zbGljZShrICsgMSwgayArIDE1KSArIDEgPT0gMWUxNCkge1xyXG4gICAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSB3aGlsZSAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhyLmQsIGsgKz0gMTAsIHJtKSk7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBwciwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMgYW5kIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG5QLm1heCA9IGZ1bmN0aW9uICgpIHtcclxuICBBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cywgdGhpcyk7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMuY29uc3RydWN0b3IsIGFyZ3VtZW50cywgJ2x0Jyk7XHJcbn07XHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtaW5pbXVtIG9mIHRoZSBhcmd1bWVudHMgYW5kIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG5QLm1pbiA9IGZ1bmN0aW9uICgpIHtcclxuICBBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cywgdGhpcyk7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMuY29uc3RydWN0b3IsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbn07XHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqICBuIC0gMCA9IG5cclxuICogIG4gLSBOID0gTlxyXG4gKiAgbiAtIEkgPSAtSVxyXG4gKiAgMCAtIG4gPSAtblxyXG4gKiAgMCAtIDAgPSAwXHJcbiAqICAwIC0gTiA9IE5cclxuICogIDAgLSBJID0gLUlcclxuICogIE4gLSBuID0gTlxyXG4gKiAgTiAtIDAgPSBOXHJcbiAqICBOIC0gTiA9IE5cclxuICogIE4gLSBJID0gTlxyXG4gKiAgSSAtIG4gPSBJXHJcbiAqICBJIC0gMCA9IElcclxuICogIEkgLSBOID0gTlxyXG4gKiAgSSAtIEkgPSBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbWludXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm1pbnVzID0gUC5zdWIgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBkLCBlLCBpLCBqLCBrLCBsZW4sIHByLCBybSwgeGQsIHhlLCB4TFR5LCB5ZCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIG5vdCBmaW5pdGUuLi5cclxuICBpZiAoIXguZCB8fCAheS5kKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgaWYgKCF4LnMgfHwgIXkucykgeSA9IG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHkgbmVnYXRlZCBpZiB4IGlzIGZpbml0ZSBhbmQgeSBpcyDCsUluZmluaXR5LlxyXG4gICAgZWxzZSBpZiAoeC5kKSB5LnMgPSAteS5zO1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgZmluaXRlIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAvLyBSZXR1cm4geCBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggZGlmZmVyZW50IHNpZ25zLlxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggdGhlIHNhbWUgc2lnbi5cclxuICAgIGVsc2UgeSA9IG5ldyBDdG9yKHkuZCB8fCB4LnMgIT09IHkucyA/IHggOiBOYU4pO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgc2lnbnMgZGlmZmVyLi4uXHJcbiAgaWYgKHgucyAhPSB5LnMpIHtcclxuICAgIHkucyA9IC15LnM7XHJcbiAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gIH1cclxuXHJcbiAgeGQgPSB4LmQ7XHJcbiAgeWQgPSB5LmQ7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyB6ZXJvLi4uXHJcbiAgaWYgKCF4ZFswXSB8fCAheWRbMF0pIHtcclxuXHJcbiAgICAvLyBSZXR1cm4geSBuZWdhdGVkIGlmIHggaXMgemVybyBhbmQgeSBpcyBub24temVyby5cclxuICAgIGlmICh5ZFswXSkgeS5zID0gLXkucztcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIHplcm8gYW5kIHggaXMgbm9uLXplcm8uXHJcbiAgICBlbHNlIGlmICh4ZFswXSkgeSA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIC8vIFJldHVybiB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAvLyBGcm9tIElFRUUgNzU0ICgyMDA4KSA2LjM6IDAgLSAwID0gLTAgLSAtMCA9IC0wIHdoZW4gcm91bmRpbmcgdG8gLUluZmluaXR5LlxyXG4gICAgZWxzZSByZXR1cm4gbmV3IEN0b3Iocm0gPT09IDMgPyAtMCA6IDApO1xyXG5cclxuICAgIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG4gIH1cclxuXHJcbiAgLy8geCBhbmQgeSBhcmUgZmluaXRlLCBub24temVybyBudW1iZXJzIHdpdGggdGhlIHNhbWUgc2lnbi5cclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGJhc2UgMWU3IGV4cG9uZW50cy5cclxuICBlID0gbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICB4ZSA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIHhkID0geGQuc2xpY2UoKTtcclxuICBrID0geGUgLSBlO1xyXG5cclxuICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgaWYgKGspIHtcclxuICAgIHhMVHkgPSBrIDwgMDtcclxuXHJcbiAgICBpZiAoeExUeSkge1xyXG4gICAgICBkID0geGQ7XHJcbiAgICAgIGsgPSAtaztcclxuICAgICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZCA9IHlkO1xyXG4gICAgICBlID0geGU7XHJcbiAgICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBOdW1iZXJzIHdpdGggbWFzc2l2ZWx5IGRpZmZlcmVudCBleHBvbmVudHMgd291bGQgcmVzdWx0IGluIGEgdmVyeSBoaWdoIG51bWJlciBvZlxyXG4gICAgLy8gemVyb3MgbmVlZGluZyB0byBiZSBwcmVwZW5kZWQsIGJ1dCB0aGlzIGNhbiBiZSBhdm9pZGVkIHdoaWxlIHN0aWxsIGVuc3VyaW5nIGNvcnJlY3RcclxuICAgIC8vIHJvdW5kaW5nIGJ5IGxpbWl0aW5nIHRoZSBudW1iZXIgb2YgemVyb3MgdG8gYE1hdGguY2VpbChwciAvIExPR19CQVNFKSArIDJgLlxyXG4gICAgaSA9IE1hdGgubWF4KE1hdGguY2VpbChwciAvIExPR19CQVNFKSwgbGVuKSArIDI7XHJcblxyXG4gICAgaWYgKGsgPiBpKSB7XHJcbiAgICAgIGsgPSBpO1xyXG4gICAgICBkLmxlbmd0aCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgICBkLnJldmVyc2UoKTtcclxuICAgIGZvciAoaSA9IGs7IGktLTspIGQucHVzaCgwKTtcclxuICAgIGQucmV2ZXJzZSgpO1xyXG5cclxuICAvLyBCYXNlIDFlNyBleHBvbmVudHMgZXF1YWwuXHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBDaGVjayBkaWdpdHMgdG8gZGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG5cclxuICAgIGkgPSB4ZC5sZW5ndGg7XHJcbiAgICBsZW4gPSB5ZC5sZW5ndGg7XHJcbiAgICB4TFR5ID0gaSA8IGxlbjtcclxuICAgIGlmICh4TFR5KSBsZW4gPSBpO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBpZiAoeGRbaV0gIT0geWRbaV0pIHtcclxuICAgICAgICB4TFR5ID0geGRbaV0gPCB5ZFtpXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGsgPSAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKHhMVHkpIHtcclxuICAgIGQgPSB4ZDtcclxuICAgIHhkID0geWQ7XHJcbiAgICB5ZCA9IGQ7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gIH1cclxuXHJcbiAgbGVuID0geGQubGVuZ3RoO1xyXG5cclxuICAvLyBBcHBlbmQgemVyb3MgdG8gYHhkYCBpZiBzaG9ydGVyLlxyXG4gIC8vIERvbid0IGFkZCB6ZXJvcyB0byBgeWRgIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Rpb24gb25seSBuZWVkcyB0byBzdGFydCBhdCBgeWRgIGxlbmd0aC5cclxuICBmb3IgKGkgPSB5ZC5sZW5ndGggLSBsZW47IGkgPiAwOyAtLWkpIHhkW2xlbisrXSA9IDA7XHJcblxyXG4gIC8vIFN1YnRyYWN0IHlkIGZyb20geGQuXHJcbiAgZm9yIChpID0geWQubGVuZ3RoOyBpID4gazspIHtcclxuXHJcbiAgICBpZiAoeGRbLS1pXSA8IHlkW2ldKSB7XHJcbiAgICAgIGZvciAoaiA9IGk7IGogJiYgeGRbLS1qXSA9PT0gMDspIHhkW2pdID0gQkFTRSAtIDE7XHJcbiAgICAgIC0teGRbal07XHJcbiAgICAgIHhkW2ldICs9IEJBU0U7XHJcbiAgICB9XHJcblxyXG4gICAgeGRbaV0gLT0geWRbaV07XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yICg7IHhkWy0tbGVuXSA9PT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gIGZvciAoOyB4ZFswXSA9PT0gMDsgeGQuc2hpZnQoKSkgLS1lO1xyXG5cclxuICAvLyBaZXJvP1xyXG4gIGlmICgheGRbMF0pIHJldHVybiBuZXcgQ3RvcihybSA9PT0gMyA/IC0wIDogMCk7XHJcblxyXG4gIHkuZCA9IHhkO1xyXG4gIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHhkLCBlKTtcclxuXHJcbiAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogICBuICUgMCA9ICBOXHJcbiAqICAgbiAlIE4gPSAgTlxyXG4gKiAgIG4gJSBJID0gIG5cclxuICogICAwICUgbiA9ICAwXHJcbiAqICAtMCAlIG4gPSAtMFxyXG4gKiAgIDAgJSAwID0gIE5cclxuICogICAwICUgTiA9ICBOXHJcbiAqICAgMCAlIEkgPSAgMFxyXG4gKiAgIE4gJSBuID0gIE5cclxuICogICBOICUgMCA9ICBOXHJcbiAqICAgTiAlIE4gPSAgTlxyXG4gKiAgIE4gJSBJID0gIE5cclxuICogICBJICUgbiA9ICBOXHJcbiAqICAgSSAlIDAgPSAgTlxyXG4gKiAgIEkgJSBOID0gIE5cclxuICogICBJICUgSSA9ICBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbW9kdWxvIGB5YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIG1vZHVsbyBtb2RlLlxyXG4gKlxyXG4gKi9cclxuUC5tb2R1bG8gPSBQLm1vZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIHEsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIFJldHVybiBOYU4gaWYgeCBpcyDCsUluZmluaXR5IG9yIE5hTiwgb3IgeSBpcyBOYU4gb3IgwrEwLlxyXG4gIGlmICgheC5kIHx8ICF5LnMgfHwgeS5kICYmICF5LmRbMF0pIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAvLyBSZXR1cm4geCBpZiB5IGlzIMKxSW5maW5pdHkgb3IgeCBpcyDCsTAuXHJcbiAgaWYgKCF5LmQgfHwgeC5kICYmICF4LmRbMF0pIHtcclxuICAgIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJldmVudCByb3VuZGluZyBvZiBpbnRlcm1lZGlhdGUgY2FsY3VsYXRpb25zLlxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGlmIChDdG9yLm1vZHVsbyA9PSA5KSB7XHJcblxyXG4gICAgLy8gRXVjbGlkaWFuIGRpdmlzaW9uOiBxID0gc2lnbih5KSAqIGZsb29yKHggLyBhYnMoeSkpXHJcbiAgICAvLyByZXN1bHQgPSB4IC0gcSAqIHkgICAgd2hlcmUgIDAgPD0gcmVzdWx0IDwgYWJzKHkpXHJcbiAgICBxID0gZGl2aWRlKHgsIHkuYWJzKCksIDAsIDMsIDEpO1xyXG4gICAgcS5zICo9IHkucztcclxuICB9IGVsc2Uge1xyXG4gICAgcSA9IGRpdmlkZSh4LCB5LCAwLCBDdG9yLm1vZHVsbywgMSk7XHJcbiAgfVxyXG5cclxuICBxID0gcS50aW1lcyh5KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4geC5taW51cyhxKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBleHBvbmVudGlhbCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLFxyXG4gKiBpLmUuIHRoZSBiYXNlIGUgcmFpc2VkIHRvIHRoZSBwb3dlciB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm5hdHVyYWxFeHBvbmVudGlhbCA9IFAuZXhwID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBuYXR1cmFsRXhwb25lbnRpYWwodGhpcyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsXHJcbiAqIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAubmF0dXJhbExvZ2FyaXRobSA9IFAubG4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIG5hdHVyYWxMb2dhcml0aG0odGhpcyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBuZWdhdGVkLCBpLmUuIGFzIGlmIG11bHRpcGxpZWQgYnlcclxuICogLTEuXHJcbiAqXHJcbiAqL1xyXG5QLm5lZ2F0ZWQgPSBQLm5lZyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpO1xyXG4gIHgucyA9IC14LnM7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICBuICsgMCA9IG5cclxuICogIG4gKyBOID0gTlxyXG4gKiAgbiArIEkgPSBJXHJcbiAqICAwICsgbiA9IG5cclxuICogIDAgKyAwID0gMFxyXG4gKiAgMCArIE4gPSBOXHJcbiAqICAwICsgSSA9IElcclxuICogIE4gKyBuID0gTlxyXG4gKiAgTiArIDAgPSBOXHJcbiAqICBOICsgTiA9IE5cclxuICogIE4gKyBJID0gTlxyXG4gKiAgSSArIG4gPSBJXHJcbiAqICBJICsgMCA9IElcclxuICogIEkgKyBOID0gTlxyXG4gKiAgSSArIEkgPSBJXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcGx1cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAucGx1cyA9IFAuYWRkID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgY2FycnksIGQsIGUsIGksIGssIGxlbiwgcHIsIHJtLCB4ZCwgeWQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgZmluaXRlIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAvLyBSZXR1cm4geCBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggdGhlIHNhbWUgc2lnbi5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgIC8vIFJldHVybiB5IGlmIHggaXMgZmluaXRlIGFuZCB5IGlzIMKxSW5maW5pdHkuXHJcbiAgICBlbHNlIGlmICgheC5kKSB5ID0gbmV3IEN0b3IoeS5kIHx8IHgucyA9PT0geS5zID8geCA6IE5hTik7XHJcblxyXG4gICAgcmV0dXJuIHk7XHJcbiAgfVxyXG5cclxuICAgLy8gSWYgc2lnbnMgZGlmZmVyLi4uXHJcbiAgaWYgKHgucyAhPSB5LnMpIHtcclxuICAgIHkucyA9IC15LnM7XHJcbiAgICByZXR1cm4geC5taW51cyh5KTtcclxuICB9XHJcblxyXG4gIHhkID0geC5kO1xyXG4gIHlkID0geS5kO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgemVyby4uLlxyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvLlxyXG4gICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVyby5cclxuICAgIGlmICgheWRbMF0pIHkgPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICB9XHJcblxyXG4gIC8vIHggYW5kIHkgYXJlIGZpbml0ZSwgbm9uLXplcm8gbnVtYmVycyB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgayA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSk7XHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIHhkID0geGQuc2xpY2UoKTtcclxuICBpID0gayAtIGU7XHJcblxyXG4gIC8vIElmIGJhc2UgMWU3IGV4cG9uZW50cyBkaWZmZXIuLi5cclxuICBpZiAoaSkge1xyXG5cclxuICAgIGlmIChpIDwgMCkge1xyXG4gICAgICBkID0geGQ7XHJcbiAgICAgIGkgPSAtaTtcclxuICAgICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZCA9IHlkO1xyXG4gICAgICBlID0gaztcclxuICAgICAgbGVuID0geGQubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExpbWl0IG51bWJlciBvZiB6ZXJvcyBwcmVwZW5kZWQgdG8gbWF4KGNlaWwocHIgLyBMT0dfQkFTRSksIGxlbikgKyAxLlxyXG4gICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFKTtcclxuICAgIGxlbiA9IGsgPiBsZW4gPyBrICsgMSA6IGxlbiArIDE7XHJcblxyXG4gICAgaWYgKGkgPiBsZW4pIHtcclxuICAgICAgaSA9IGxlbjtcclxuICAgICAgZC5sZW5ndGggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBOb3RlOiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgIGQucmV2ZXJzZSgpO1xyXG4gICAgZm9yICg7IGktLTspIGQucHVzaCgwKTtcclxuICAgIGQucmV2ZXJzZSgpO1xyXG4gIH1cclxuXHJcbiAgbGVuID0geGQubGVuZ3RoO1xyXG4gIGkgPSB5ZC5sZW5ndGg7XHJcblxyXG4gIC8vIElmIHlkIGlzIGxvbmdlciB0aGFuIHhkLCBzd2FwIHhkIGFuZCB5ZCBzbyB4ZCBwb2ludHMgdG8gdGhlIGxvbmdlciBhcnJheS5cclxuICBpZiAobGVuIC0gaSA8IDApIHtcclxuICAgIGkgPSBsZW47XHJcbiAgICBkID0geWQ7XHJcbiAgICB5ZCA9IHhkO1xyXG4gICAgeGQgPSBkO1xyXG4gIH1cclxuXHJcbiAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWQubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGQgY2FuIGJlIGxlZnQgYXMgdGhleSBhcmUuXHJcbiAgZm9yIChjYXJyeSA9IDA7IGk7KSB7XHJcbiAgICBjYXJyeSA9ICh4ZFstLWldID0geGRbaV0gKyB5ZFtpXSArIGNhcnJ5KSAvIEJBU0UgfCAwO1xyXG4gICAgeGRbaV0gJT0gQkFTRTtcclxuICB9XHJcblxyXG4gIGlmIChjYXJyeSkge1xyXG4gICAgeGQudW5zaGlmdChjYXJyeSk7XHJcbiAgICArK2U7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gIGZvciAobGVuID0geGQubGVuZ3RoOyB4ZFstLWxlbl0gPT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICB5LmQgPSB4ZDtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBbel0ge2Jvb2xlYW58bnVtYmVyfSBXaGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSwgZmFsc2UsIDEgb3IgMC5cclxuICpcclxuICovXHJcblAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uICh6KSB7XHJcbiAgdmFyIGssXHJcbiAgICB4ID0gdGhpcztcclxuXHJcbiAgaWYgKHogIT09IHZvaWQgMCAmJiB6ICE9PSAhIXogJiYgeiAhPT0gMSAmJiB6ICE9PSAwKSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyB6KTtcclxuXHJcbiAgaWYgKHguZCkge1xyXG4gICAgayA9IGdldFByZWNpc2lvbih4LmQpO1xyXG4gICAgaWYgKHogJiYgeC5lICsgMSA+IGspIGsgPSB4LmUgKyAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gTmFOO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGs7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIHVzaW5nXHJcbiAqIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAucm91bmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgeC5lICsgMSwgQ3Rvci5yb3VuZGluZyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy0xLCAxXVxyXG4gKlxyXG4gKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAqXHJcbiAqIHNpbigwKSAgICAgICAgID0gMFxyXG4gKiBzaW4oLTApICAgICAgICA9IC0wXHJcbiAqIHNpbihJbmZpbml0eSkgID0gTmFOXHJcbiAqIHNpbigtSW5maW5pdHkpID0gTmFOXHJcbiAqIHNpbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLnNpbmUgPSBQLnNpbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyBMT0dfQkFTRTtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHNpbmUoQ3RvciwgdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPiAyID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiAgc3FydCgtbikgPSAgTlxyXG4gKiAgc3FydChOKSAgPSAgTlxyXG4gKiAgc3FydCgtSSkgPSAgTlxyXG4gKiAgc3FydChJKSAgPSAgSVxyXG4gKiAgc3FydCgwKSAgPSAgMFxyXG4gKiAgc3FydCgtMCkgPSAtMFxyXG4gKlxyXG4gKi9cclxuUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBtLCBuLCBzZCwgciwgcmVwLCB0LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBkID0geC5kLFxyXG4gICAgZSA9IHguZSxcclxuICAgIHMgPSB4LnMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgLy8gTmVnYXRpdmUvTmFOL0luZmluaXR5L3plcm8/XHJcbiAgaWYgKHMgIT09IDEgfHwgIWQgfHwgIWRbMF0pIHtcclxuICAgIHJldHVybiBuZXcgQ3RvcighcyB8fCBzIDwgMCAmJiAoIWQgfHwgZFswXSkgPyBOYU4gOiBkID8geCA6IDEgLyAwKTtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgcyA9IE1hdGguc3FydCgreCk7XHJcblxyXG4gIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgLy8gUGFzcyB4IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICBpZiAocyA9PSAwIHx8IHMgPT0gMSAvIDApIHtcclxuICAgIG4gPSBkaWdpdHNUb1N0cmluZyhkKTtcclxuXHJcbiAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xyXG4gICAgcyA9IE1hdGguc3FydChuKTtcclxuICAgIGUgPSBtYXRoZmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICBuID0gJzVlJyArIGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgIG4gPSBuLnNsaWNlKDAsIG4uaW5kZXhPZignZScpICsgMSkgKyBlO1xyXG4gICAgfVxyXG5cclxuICAgIHIgPSBuZXcgQ3RvcihuKTtcclxuICB9IGVsc2Uge1xyXG4gICAgciA9IG5ldyBDdG9yKHMudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBzZCA9IChlID0gQ3Rvci5wcmVjaXNpb24pICsgMztcclxuXHJcbiAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSByO1xyXG4gICAgciA9IHQucGx1cyhkaXZpZGUoeCwgdCwgc2QgKyAyLCAxKSkudGltZXMoMC41KTtcclxuXHJcbiAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCBzZCkgPT09IChuID0gZGlnaXRzVG9TdHJpbmcoci5kKSkuc2xpY2UoMCwgc2QpKSB7XHJcbiAgICAgIG4gPSBuLnNsaWNlKHNkIC0gMywgc2QgKyAxKTtcclxuXHJcbiAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvclxyXG4gICAgICAvLyA0OTk5LCBpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnksIGNvbnRpbnVlIHRoZSBpdGVyYXRpb24uXHJcbiAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZSBleGFjdCByZXN1bHQgYXMgdGhlXHJcbiAgICAgICAgLy8gbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICBmaW5hbGlzZSh0LCBlICsgMSwgMCk7XHJcblxyXG4gICAgICAgICAgaWYgKHQudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgciA9IHQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2QgKz0gNDtcclxuICAgICAgICByZXAgPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGFuIGV4YWN0IHJlc3VsdC5cclxuICAgICAgICAvLyBJZiBub3QsIHRoZW4gdGhlcmUgYXJlIGZ1cnRoZXIgZGlnaXRzIGFuZCBtIHdpbGwgYmUgdHJ1dGh5LlxyXG4gICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgIGZpbmFsaXNlKHIsIGUgKyAxLCAxKTtcclxuICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBlLCBDdG9yLnJvdW5kaW5nLCBtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogdGFuKDApICAgICAgICAgPSAwXHJcbiAqIHRhbigtMCkgICAgICAgID0gLTBcclxuICogdGFuKEluZmluaXR5KSAgPSBOYU5cclxuICogdGFuKC1JbmZpbml0eSkgPSBOYU5cclxuICogdGFuKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAudGFuZ2VudCA9IFAudGFuID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDEwO1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5zaW4oKTtcclxuICB4LnMgPSAxO1xyXG4gIHggPSBkaXZpZGUoeCwgbmV3IEN0b3IoMSkubWludXMoeC50aW1lcyh4KSkuc3FydCgpLCBwciArIDEwLCAwKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA9PSAyIHx8IHF1YWRyYW50ID09IDQgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgbiAqIDAgPSAwXHJcbiAqICBuICogTiA9IE5cclxuICogIG4gKiBJID0gSVxyXG4gKiAgMCAqIG4gPSAwXHJcbiAqICAwICogMCA9IDBcclxuICogIDAgKiBOID0gTlxyXG4gKiAgMCAqIEkgPSBOXHJcbiAqICBOICogbiA9IE5cclxuICogIE4gKiAwID0gTlxyXG4gKiAgTiAqIE4gPSBOXHJcbiAqICBOICogSSA9IE5cclxuICogIEkgKiBuID0gSVxyXG4gKiAgSSAqIDAgPSBOXHJcbiAqICBJICogTiA9IE5cclxuICogIEkgKiBJID0gSVxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGlzIERlY2ltYWwgdGltZXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnRpbWVzID0gUC5tdWwgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBjYXJyeSwgZSwgaSwgaywgciwgckwsIHQsIHhkTCwgeWRMLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHhkID0geC5kLFxyXG4gICAgeWQgPSAoeSA9IG5ldyBDdG9yKHkpKS5kO1xyXG5cclxuICB5LnMgKj0geC5zO1xyXG5cclxuICAgLy8gSWYgZWl0aGVyIGlzIE5hTiwgwrFJbmZpbml0eSBvciDCsTAuLi5cclxuICBpZiAoIXhkIHx8ICF4ZFswXSB8fCAheWQgfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKCF5LnMgfHwgeGQgJiYgIXhkWzBdICYmICF5ZCB8fCB5ZCAmJiAheWRbMF0gJiYgIXhkXHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyDCsTAgYW5kIHkgaXMgwrFJbmZpbml0eSwgb3IgeSBpcyDCsTAgYW5kIHggaXMgwrFJbmZpbml0eS5cclxuICAgICAgPyBOYU5cclxuXHJcbiAgICAgIC8vIFJldHVybiDCsUluZmluaXR5IGlmIGVpdGhlciBpcyDCsUluZmluaXR5LlxyXG4gICAgICAvLyBSZXR1cm4gwrEwIGlmIGVpdGhlciBpcyDCsTAuXHJcbiAgICAgIDogIXhkIHx8ICF5ZCA/IHkucyAvIDAgOiB5LnMgKiAwKTtcclxuICB9XHJcblxyXG4gIGUgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpICsgbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICB4ZEwgPSB4ZC5sZW5ndGg7XHJcbiAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBFbnN1cmUgeGQgcG9pbnRzIHRvIHRoZSBsb25nZXIgYXJyYXkuXHJcbiAgaWYgKHhkTCA8IHlkTCkge1xyXG4gICAgciA9IHhkO1xyXG4gICAgeGQgPSB5ZDtcclxuICAgIHlkID0gcjtcclxuICAgIHJMID0geGRMO1xyXG4gICAgeGRMID0geWRMO1xyXG4gICAgeWRMID0gckw7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0aWFsaXNlIHRoZSByZXN1bHQgYXJyYXkgd2l0aCB6ZXJvcy5cclxuICByID0gW107XHJcbiAgckwgPSB4ZEwgKyB5ZEw7XHJcbiAgZm9yIChpID0gckw7IGktLTspIHIucHVzaCgwKTtcclxuXHJcbiAgLy8gTXVsdGlwbHkhXHJcbiAgZm9yIChpID0geWRMOyAtLWkgPj0gMDspIHtcclxuICAgIGNhcnJ5ID0gMDtcclxuICAgIGZvciAoayA9IHhkTCArIGk7IGsgPiBpOykge1xyXG4gICAgICB0ID0gcltrXSArIHlkW2ldICogeGRbayAtIGkgLSAxXSArIGNhcnJ5O1xyXG4gICAgICByW2stLV0gPSB0ICUgQkFTRSB8IDA7XHJcbiAgICAgIGNhcnJ5ID0gdCAvIEJBU0UgfCAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJba10gPSAocltrXSArIGNhcnJ5KSAlIEJBU0UgfCAwO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoOyAhclstLXJMXTspIHIucG9wKCk7XHJcblxyXG4gIGlmIChjYXJyeSkgKytlO1xyXG4gIGVsc2Ugci5zaGlmdCgpO1xyXG5cclxuICB5LmQgPSByO1xyXG4gIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHIsIGUpO1xyXG5cclxuICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZykgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDIsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvQmluYXJ5ID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCAyLCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIG1heGltdW0gb2YgYGRwYFxyXG4gKiBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAgb3IgYHJvdW5kaW5nYCBpZiBgcm1gIGlzIG9taXR0ZWQuXHJcbiAqXHJcbiAqIElmIGBkcGAgaXMgb21pdHRlZCwgcmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0RlY2ltYWxQbGFjZXMgPSBQLnRvRFAgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHggPSBuZXcgQ3Rvcih4KTtcclxuICBpZiAoZHAgPT09IHZvaWQgMCkgcmV0dXJuIHg7XHJcblxyXG4gIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZSh4LCBkcCArIHguZSArIDEsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gcm91bmRlZCB0b1xyXG4gKiBgZHBgIGZpeGVkIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0V4cG9uZW50aWFsID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciBzdHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoZHAgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgdHJ1ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHggPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgZHAgKyAxLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB0cnVlLCBkcCArIDEpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gbm9ybWFsIChmaXhlZC1wb2ludCkgbm90YXRpb24gdG9cclxuICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyBhbmQgcm91bmRlZCB1c2luZyByb3VuZGluZyBtb2RlIGBybWAgb3IgYHJvdW5kaW5nYCBpZiBgcm1gIGlzXHJcbiAqIG9taXR0ZWQuXHJcbiAqXHJcbiAqIEFzIHdpdGggSmF2YVNjcmlwdCBudW1iZXJzLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLCBidXQgZS5nLiAoLTAuMDAwMDEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICpcclxuICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLCBidXQgKC0wLjEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICogKC0wKS50b0ZpeGVkKDEpIGlzICcwLjAnLCBidXQgKC0wLjAxKS50b0ZpeGVkKDEpIGlzICctMC4wJy5cclxuICogKC0wKS50b0ZpeGVkKDMpIGlzICcwLjAwMCcuXHJcbiAqICgtMC41KS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqXHJcbiAqL1xyXG5QLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgdmFyIHN0ciwgeSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChkcCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hlY2tJbnQzMihkcCwgMCwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgeSA9IGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHksIGZhbHNlLCBkcCArIHkuZSArIDEpO1xyXG4gIH1cclxuXHJcbiAgLy8gVG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gYWRkIHRoZSBtaW51cyBzaWduIGxvb2sgYXQgdGhlIHZhbHVlIGJlZm9yZSBpdCB3YXMgcm91bmRlZCxcclxuICAvLyBpLmUuIGxvb2sgYXQgYHhgIHJhdGhlciB0aGFuIGB5YC5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBhcyBhIHNpbXBsZSBmcmFjdGlvbiB3aXRoIGFuIGludGVnZXJcclxuICogbnVtZXJhdG9yIGFuZCBhbiBpbnRlZ2VyIGRlbm9taW5hdG9yLlxyXG4gKlxyXG4gKiBUaGUgZGVub21pbmF0b3Igd2lsbCBiZSBhIHBvc2l0aXZlIG5vbi16ZXJvIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgc3BlY2lmaWVkIG1heGltdW1cclxuICogZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZSB0aGUgbG93ZXN0XHJcbiAqIHZhbHVlIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIG51bWJlciBleGFjdGx5LlxyXG4gKlxyXG4gKiBbbWF4RF0ge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gTWF4aW11bSBkZW5vbWluYXRvci4gSW50ZWdlciA+PSAxIGFuZCA8IEluZmluaXR5LlxyXG4gKlxyXG4gKi9cclxuUC50b0ZyYWN0aW9uID0gZnVuY3Rpb24gKG1heEQpIHtcclxuICB2YXIgZCwgZDAsIGQxLCBkMiwgZSwgaywgbiwgbjAsIG4xLCBwciwgcSwgcixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4ZCkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBuMSA9IGQwID0gbmV3IEN0b3IoMSk7XHJcbiAgZDEgPSBuMCA9IG5ldyBDdG9yKDApO1xyXG5cclxuICBkID0gbmV3IEN0b3IoZDEpO1xyXG4gIGUgPSBkLmUgPSBnZXRQcmVjaXNpb24oeGQpIC0geC5lIC0gMTtcclxuICBrID0gZSAlIExPR19CQVNFO1xyXG4gIGQuZFswXSA9IG1hdGhwb3coMTAsIGsgPCAwID8gTE9HX0JBU0UgKyBrIDogayk7XHJcblxyXG4gIGlmIChtYXhEID09IG51bGwpIHtcclxuXHJcbiAgICAvLyBkIGlzIDEwKiplLCB0aGUgbWluaW11bSBtYXgtZGVub21pbmF0b3IgbmVlZGVkLlxyXG4gICAgbWF4RCA9IGUgPiAwID8gZCA6IG4xO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBuID0gbmV3IEN0b3IobWF4RCk7XHJcbiAgICBpZiAoIW4uaXNJbnQoKSB8fCBuLmx0KG4xKSkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgbik7XHJcbiAgICBtYXhEID0gbi5ndChkKSA/IChlID4gMCA/IGQgOiBuMSkgOiBuO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBuID0gbmV3IEN0b3IoZGlnaXRzVG9TdHJpbmcoeGQpKTtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gZSA9IHhkLmxlbmd0aCAqIExPR19CQVNFICogMjtcclxuXHJcbiAgZm9yICg7OykgIHtcclxuICAgIHEgPSBkaXZpZGUobiwgZCwgMCwgMSwgMSk7XHJcbiAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgaWYgKGQyLmNtcChtYXhEKSA9PSAxKSBicmVhaztcclxuICAgIGQwID0gZDE7XHJcbiAgICBkMSA9IGQyO1xyXG4gICAgZDIgPSBuMTtcclxuICAgIG4xID0gbjAucGx1cyhxLnRpbWVzKGQyKSk7XHJcbiAgICBuMCA9IGQyO1xyXG4gICAgZDIgPSBkO1xyXG4gICAgZCA9IG4ubWludXMocS50aW1lcyhkMikpO1xyXG4gICAgbiA9IGQyO1xyXG4gIH1cclxuXHJcbiAgZDIgPSBkaXZpZGUobWF4RC5taW51cyhkMCksIGQxLCAwLCAxLCAxKTtcclxuICBuMCA9IG4wLnBsdXMoZDIudGltZXMobjEpKTtcclxuICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICBuMC5zID0gbjEucyA9IHgucztcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIGZyYWN0aW9uIGlzIGNsb3NlciB0byB4LCBuMC9kMCBvciBuMS9kMT9cclxuICByID0gZGl2aWRlKG4xLCBkMSwgZSwgMSkubWludXMoeCkuYWJzKCkuY21wKGRpdmlkZShuMCwgZDAsIGUsIDEpLm1pbnVzKHgpLmFicygpKSA8IDFcclxuICAgICAgPyBbbjEsIGQxXSA6IFtuMCwgZDBdO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGJhc2UgMTYsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvSGV4YWRlY2ltYWwgPSBQLnRvSGV4ID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCAxNiwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5lYXJlc3QgbXVsdGlwbGUgb2YgYHlgIGluIHRoZSBkaXJlY3Rpb24gb2Ygcm91bmRpbmdcclxuICogbW9kZSBgcm1gLCBvciBgRGVjaW1hbC5yb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLCB0byB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYWx3YXlzIGhhdmUgdGhlIHNhbWUgc2lnbiBhcyB0aGlzIERlY2ltYWwsIHVubGVzcyBlaXRoZXIgdGhpcyBEZWNpbWFsXHJcbiAqIG9yIGB5YCBpcyBOYU4sIGluIHdoaWNoIGNhc2UgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIGFsc28gYmUgTmFOLlxyXG4gKlxyXG4gKiBUaGUgcmV0dXJuIHZhbHVlIGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgdmFsdWUgb2YgYHByZWNpc2lvbmAuXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIG1hZ25pdHVkZSB0byByb3VuZCB0byBhIG11bHRpcGxlIG9mLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqICd0b05lYXJlc3QoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xyXG4gKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAqXHJcbiAqL1xyXG5QLnRvTmVhcmVzdCA9IGZ1bmN0aW9uICh5LCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB4ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gIGlmICh5ID09IG51bGwpIHtcclxuXHJcbiAgICAvLyBJZiB4IGlzIG5vdCBmaW5pdGUsIHJldHVybiB4LlxyXG4gICAgaWYgKCF4LmQpIHJldHVybiB4O1xyXG5cclxuICAgIHkgPSBuZXcgQ3RvcigxKTtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB9IGVsc2Uge1xyXG4gICAgeSA9IG5ldyBDdG9yKHkpO1xyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geCBpZiB5IGlzIG5vdCBOYU4sIGVsc2UgTmFOLlxyXG4gICAgaWYgKCF4LmQpIHJldHVybiB5LnMgPyB4IDogeTtcclxuXHJcbiAgICAvLyBJZiB5IGlzIG5vdCBmaW5pdGUsIHJldHVybiBJbmZpbml0eSB3aXRoIHRoZSBzaWduIG9mIHggaWYgeSBpcyBJbmZpbml0eSwgZWxzZSBOYU4uXHJcbiAgICBpZiAoIXkuZCkge1xyXG4gICAgICBpZiAoeS5zKSB5LnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSWYgeSBpcyBub3QgemVybywgY2FsY3VsYXRlIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIHkgdG8geC5cclxuICBpZiAoeS5kWzBdKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgeCA9IGRpdmlkZSh4LCB5LCAwLCBybSwgMSkudGltZXMoeSk7XHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBmaW5hbGlzZSh4KTtcclxuXHJcbiAgLy8gSWYgeSBpcyB6ZXJvLCByZXR1cm4gemVybyB3aXRoIHRoZSBzaWduIG9mIHguXHJcbiAgfSBlbHNlIHtcclxuICAgIHkucyA9IHgucztcclxuICAgIHggPSB5O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgY29udmVydGVkIHRvIGEgbnVtYmVyIHByaW1pdGl2ZS5cclxuICogWmVybyBrZWVwcyBpdHMgc2lnbi5cclxuICpcclxuICovXHJcblAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICt0aGlzO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDgsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvT2N0YWwgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nQmluYXJ5KHRoaXMsIDgsIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByYWlzZWQgdG8gdGhlIHBvd2VyIGB5YCwgcm91bmRlZFxyXG4gKiB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBFQ01BU2NyaXB0IGNvbXBsaWFudC5cclxuICpcclxuICogICBwb3coeCwgTmFOKSAgICAgICAgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KHgsIMKxMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAxXHJcblxyXG4gKiAgIHBvdyhOYU4sIG5vbi16ZXJvKSAgICAgICAgICAgICAgICAgICAgPSBOYU5cclxuICogICBwb3coYWJzKHgpID4gMSwgK0luZmluaXR5KSAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KGFicyh4KSA+IDEsIC1JbmZpbml0eSkgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KGFicyh4KSA9PSAxLCDCsUluZmluaXR5KSAgICAgICAgICAgPSBOYU5cclxuICogICBwb3coYWJzKHgpIDwgMSwgK0luZmluaXR5KSAgICAgICAgICAgID0gKzBcclxuICogICBwb3coYWJzKHgpIDwgMSwgLUluZmluaXR5KSAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KCtJbmZpbml0eSwgeSA+IDApICAgICAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygrSW5maW5pdHksIHkgPCAwKSAgICAgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygtSW5maW5pdHksIG9kZCBpbnRlZ2VyID4gMCkgICAgICAgPSAtSW5maW5pdHlcclxuICogICBwb3coLUluZmluaXR5LCBldmVuIGludGVnZXIgPiAwKSAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KC1JbmZpbml0eSwgb2RkIGludGVnZXIgPCAwKSAgICAgICA9IC0wXHJcbiAqICAgcG93KC1JbmZpbml0eSwgZXZlbiBpbnRlZ2VyIDwgMCkgICAgICA9ICswXHJcbiAqICAgcG93KCswLCB5ID4gMCkgICAgICAgICAgICAgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KCswLCB5IDwgMCkgICAgICAgICAgICAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygtMCwgb2RkIGludGVnZXIgPiAwKSAgICAgICAgICAgICAgPSAtMFxyXG4gKiAgIHBvdygtMCwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygtMCwgb2RkIGludGVnZXIgPCAwKSAgICAgICAgICAgICAgPSAtSW5maW5pdHlcclxuICogICBwb3coLTAsIGV2ZW4gaW50ZWdlciA8IDApICAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KGZpbml0ZSB4IDwgMCwgZmluaXRlIG5vbi1pbnRlZ2VyKSA9IE5hTlxyXG4gKlxyXG4gKiBGb3Igbm9uLWludGVnZXIgb3IgdmVyeSBsYXJnZSBleHBvbmVudHMgcG93KHgsIHkpIGlzIGNhbGN1bGF0ZWQgdXNpbmdcclxuICpcclxuICogICB4XnkgPSBleHAoeSpsbih4KSlcclxuICpcclxuICogQXNzdW1pbmcgdGhlIGZpcnN0IDE1IHJvdW5kaW5nIGRpZ2l0cyBhcmUgZWFjaCBlcXVhbGx5IGxpa2VseSB0byBiZSBhbnkgZGlnaXQgMC05LCB0aGVcclxuICogcHJvYmFiaWxpdHkgb2YgYW4gaW5jb3JyZWN0bHkgcm91bmRlZCByZXN1bHRcclxuICogUChbNDldOXsxNH0gfCBbNTBdMHsxNH0pID0gMiAqIDAuMiAqIDEwXi0xNCA9IDRlLTE1ID0gMS8yLjVlKzE0XHJcbiAqIGkuZS4gMSBpbiAyNTAsMDAwLDAwMCwwMDAsMDAwXHJcbiAqXHJcbiAqIElmIGEgcmVzdWx0IGlzIGluY29ycmVjdGx5IHJvdW5kZWQgdGhlIG1heGltdW0gZXJyb3Igd2lsbCBiZSAxIHVscCAodW5pdCBpbiBsYXN0IHBsYWNlKS5cclxuICpcclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgcG93ZXIgdG8gd2hpY2ggdG8gcmFpc2UgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC50b1Bvd2VyID0gUC5wb3cgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBlLCBrLCBwciwgciwgcm0sIHMsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgeW4gPSArKHkgPSBuZXcgQ3Rvcih5KSk7XHJcblxyXG4gIC8vIEVpdGhlciDCsUluZmluaXR5LCBOYU4gb3IgwrEwP1xyXG4gIGlmICgheC5kIHx8ICF5LmQgfHwgIXguZFswXSB8fCAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IobWF0aHBvdygreCwgeW4pKTtcclxuXHJcbiAgeCA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICBpZiAoeC5lcSgxKSkgcmV0dXJuIHg7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoeS5lcSgxKSkgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSk7XHJcblxyXG4gIC8vIHkgZXhwb25lbnRcclxuICBlID0gbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuXHJcbiAgLy8gSWYgeSBpcyBhIHNtYWxsIGludGVnZXIgdXNlIHRoZSAnZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcnIGFsZ29yaXRobS5cclxuICBpZiAoZSA+PSB5LmQubGVuZ3RoIC0gMSAmJiAoayA9IHluIDwgMCA/IC15biA6IHluKSA8PSBNQVhfU0FGRV9JTlRFR0VSKSB7XHJcbiAgICByID0gaW50UG93KEN0b3IsIHgsIGssIHByKTtcclxuICAgIHJldHVybiB5LnMgPCAwID8gbmV3IEN0b3IoMSkuZGl2KHIpIDogZmluYWxpc2UociwgcHIsIHJtKTtcclxuICB9XHJcblxyXG4gIHMgPSB4LnM7XHJcblxyXG4gIC8vIGlmIHggaXMgbmVnYXRpdmVcclxuICBpZiAocyA8IDApIHtcclxuXHJcbiAgICAvLyBpZiB5IGlzIG5vdCBhbiBpbnRlZ2VyXHJcbiAgICBpZiAoZSA8IHkuZC5sZW5ndGggLSAxKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXN1bHQgaXMgcG9zaXRpdmUgaWYgeCBpcyBuZWdhdGl2ZSBhbmQgdGhlIGxhc3QgZGlnaXQgb2YgaW50ZWdlciB5IGlzIGV2ZW4uXHJcbiAgICBpZiAoKHkuZFtlXSAmIDEpID09IDApIHMgPSAxO1xyXG5cclxuICAgIC8vIGlmIHguZXEoLTEpXHJcbiAgICBpZiAoeC5lID09IDAgJiYgeC5kWzBdID09IDEgJiYgeC5kLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgIHgucyA9IHM7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRXN0aW1hdGUgcmVzdWx0IGV4cG9uZW50LlxyXG4gIC8vIHheeSA9IDEwXmUsICB3aGVyZSBlID0geSAqIGxvZzEwKHgpXHJcbiAgLy8gbG9nMTAoeCkgPSBsb2cxMCh4X3NpZ25pZmljYW5kKSArIHhfZXhwb25lbnRcclxuICAvLyBsb2cxMCh4X3NpZ25pZmljYW5kKSA9IGxuKHhfc2lnbmlmaWNhbmQpIC8gbG4oMTApXHJcbiAgayA9IG1hdGhwb3coK3gsIHluKTtcclxuICBlID0gayA9PSAwIHx8ICFpc0Zpbml0ZShrKVxyXG4gICAgPyBtYXRoZmxvb3IoeW4gKiAoTWF0aC5sb2coJzAuJyArIGRpZ2l0c1RvU3RyaW5nKHguZCkpIC8gTWF0aC5MTjEwICsgeC5lICsgMSkpXHJcbiAgICA6IG5ldyBDdG9yKGsgKyAnJykuZTtcclxuXHJcbiAgLy8gRXhwb25lbnQgZXN0aW1hdGUgbWF5IGJlIGluY29ycmVjdCBlLmcuIHg6IDAuOTk5OTk5OTk5OTk5OTk5OTk5LCB5OiAyLjI5LCBlOiAwLCByLmU6IC0xLlxyXG5cclxuICAvLyBPdmVyZmxvdy91bmRlcmZsb3c/XHJcbiAgaWYgKGUgPiBDdG9yLm1heEUgKyAxIHx8IGUgPCBDdG9yLm1pbkUgLSAxKSByZXR1cm4gbmV3IEN0b3IoZSA+IDAgPyBzIC8gMCA6IDApO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIEN0b3Iucm91bmRpbmcgPSB4LnMgPSAxO1xyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgZXh0cmEgZ3VhcmQgZGlnaXRzIG5lZWRlZCB0byBlbnN1cmUgZml2ZSBjb3JyZWN0IHJvdW5kaW5nIGRpZ2l0cyBmcm9tXHJcbiAgLy8gbmF0dXJhbExvZ2FyaXRobSh4KS4gRXhhbXBsZSBvZiBmYWlsdXJlIHdpdGhvdXQgdGhlc2UgZXh0cmEgZGlnaXRzIChwcmVjaXNpb246IDEwKTpcclxuICAvLyBuZXcgRGVjaW1hbCgyLjMyNDU2KS5wb3coJzIwODc5ODc0MzY1MzQ1NjYuNDY0MTEnKVxyXG4gIC8vIHNob3VsZCBiZSAxLjE2MjM3NzgyM2UrNzY0OTE0OTA1MTczODE1LCBidXQgaXMgMS4xNjIzNTU4MjNlKzc2NDkxNDkwNTE3MzgxNVxyXG4gIGsgPSBNYXRoLm1pbigxMiwgKGUgKyAnJykubGVuZ3RoKTtcclxuXHJcbiAgLy8gciA9IHheeSA9IGV4cCh5KmxuKHgpKVxyXG4gIHIgPSBuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIHByICsgaykpLCBwcik7XHJcblxyXG4gIC8vIHIgbWF5IGJlIEluZmluaXR5LCBlLmcuICgwLjk5OTk5OTk5OTk5OTk5OTkpLnBvdygtMWUrNDApXHJcbiAgaWYgKHIuZCkge1xyXG5cclxuICAgIC8vIFRydW5jYXRlIHRvIHRoZSByZXF1aXJlZCBwcmVjaXNpb24gcGx1cyBmaXZlIHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDUsIDEpO1xyXG5cclxuICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5IG9yIFs1MF0wMDAwIGluY3JlYXNlIHRoZSBwcmVjaXNpb24gYnkgMTAgYW5kIHJlY2FsY3VsYXRlXHJcbiAgICAvLyB0aGUgcmVzdWx0LlxyXG4gICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBwciwgcm0pKSB7XHJcbiAgICAgIGUgPSBwciArIDEwO1xyXG5cclxuICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGluY3JlYXNlZCBwcmVjaXNpb24gcGx1cyBmaXZlIHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgICAgciA9IGZpbmFsaXNlKG5hdHVyYWxFeHBvbmVudGlhbCh5LnRpbWVzKG5hdHVyYWxMb2dhcml0aG0oeCwgZSArIGspKSwgZSksIGUgKyA1LCAxKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQgKHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBtYXkgYmUgNCBvciA5KS5cclxuICAgICAgaWYgKCtkaWdpdHNUb1N0cmluZyhyLmQpLnNsaWNlKHByICsgMSwgcHIgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICByID0gZmluYWxpc2UociwgcHIgKyAxLCAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgci5zID0gcztcclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiBgc2RgIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50XHJcbiAqIHRoZSBpbnRlZ2VyIHBhcnQgb2YgdGhlIHZhbHVlIGluIG5vcm1hbCBub3RhdGlvbi5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgdmFyIHN0cixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChzZCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHggPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgc2QsIHJtKTtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHNkIDw9IHguZSB8fCB4LmUgPD0gQ3Rvci50b0V4cE5lZywgc2QpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGBzZGBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYCwgb3IgdG8gYHByZWNpc2lvbmAgYW5kIGByb3VuZGluZ2AgcmVzcGVjdGl2ZWx5IGlmXHJcbiAqIG9taXR0ZWQuXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqICd0b1NEKCkgZGlnaXRzIG91dCBvZiByYW5nZToge3NkfSdcclxuICogJ3RvU0QoKSBkaWdpdHMgbm90IGFuIGludGVnZXI6IHtzZH0nXHJcbiAqICd0b1NEKCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcclxuICogJ3RvU0QoKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcclxuICpcclxuICovXHJcblAudG9TaWduaWZpY2FudERpZ2l0cyA9IFAudG9TRCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKHNkID09PSB2b2lkIDApIHtcclxuICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgRGVjaW1hbCBoYXMgYSBwb3NpdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW5cclxuICogYHRvRXhwUG9zYCwgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW4gYHRvRXhwTmVnYC5cclxuICpcclxuICovXHJcblAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCB0cnVuY2F0ZWQgdG8gYSB3aG9sZSBudW1iZXIuXHJcbiAqXHJcbiAqL1xyXG5QLnRydW5jYXRlZCA9IFAudHJ1bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAxKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqIFVubGlrZSBgdG9TdHJpbmdgLCBuZWdhdGl2ZSB6ZXJvIHdpbGwgaW5jbHVkZSB0aGUgbWludXMgc2lnbi5cclxuICpcclxuICovXHJcblAudmFsdWVPZiA9IFAudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG5cclxuICByZXR1cm4geC5pc05lZygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbi8vIEFkZCBhbGlhc2VzIHRvIG1hdGNoIEJpZ0RlY2ltYWwgbWV0aG9kIG5hbWVzLlxyXG4vLyBQLmFkZCA9IFAucGx1cztcclxuUC5zdWJ0cmFjdCA9IFAubWludXM7XHJcblAubXVsdGlwbHkgPSBQLnRpbWVzO1xyXG5QLmRpdmlkZSA9IFAuZGl2O1xyXG5QLnJlbWFpbmRlciA9IFAubW9kO1xyXG5QLmNvbXBhcmVUbyA9IFAuY21wO1xyXG5QLm5lZ2F0ZSA9IFAubmVnO1xyXG4gKi9cclxuXHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBEZWNpbWFsLnByb3RvdHlwZSAoUCkgYW5kL29yIERlY2ltYWwgbWV0aG9kcywgYW5kIHRoZWlyIGNhbGxlcnMuXHJcblxyXG5cclxuLypcclxuICogIGRpZ2l0c1RvU3RyaW5nICAgICAgICAgICBQLmN1YmVSb290LCBQLmxvZ2FyaXRobSwgUC5zcXVhcmVSb290LCBQLnRvRnJhY3Rpb24sIFAudG9Qb3dlcixcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pdGVUb1N0cmluZywgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAqICBjaGVja0ludDMyICAgICAgICAgICAgICAgUC50b0RlY2ltYWxQbGFjZXMsIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvTmVhcmVzdCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvUHJlY2lzaW9uLCBQLnRvU2lnbmlmaWNhbnREaWdpdHMsIHRvU3RyaW5nQmluYXJ5LCByYW5kb21cclxuICogIGNoZWNrUm91bmRpbmdEaWdpdHMgICAgICBQLmxvZ2FyaXRobSwgUC50b1Bvd2VyLCBuYXR1cmFsRXhwb25lbnRpYWwsIG5hdHVyYWxMb2dhcml0aG1cclxuICogIGNvbnZlcnRCYXNlICAgICAgICAgICAgICB0b1N0cmluZ0JpbmFyeSwgcGFyc2VPdGhlclxyXG4gKiAgY29zICAgICAgICAgICAgICAgICAgICAgIFAuY29zXHJcbiAqICBkaXZpZGUgICAgICAgICAgICAgICAgICAgUC5hdGFuaCwgUC5jdWJlUm9vdCwgUC5kaXZpZGVkQnksIFAuZGl2aWRlZFRvSW50ZWdlckJ5LFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLm1vZHVsbywgUC5zcXVhcmVSb290LCBQLnRhbiwgUC50YW5oLCBQLnRvRnJhY3Rpb24sXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b05lYXJlc3QsIHRvU3RyaW5nQmluYXJ5LCBuYXR1cmFsRXhwb25lbnRpYWwsIG5hdHVyYWxMb2dhcml0aG0sXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdGF5bG9yU2VyaWVzLCBhdGFuMiwgcGFyc2VPdGhlclxyXG4gKiAgZmluYWxpc2UgICAgICAgICAgICAgICAgIFAuYWJzb2x1dGVWYWx1ZSwgUC5hdGFuLCBQLmF0YW5oLCBQLmNlaWwsIFAuY29zLCBQLmNvc2gsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jdWJlUm9vdCwgUC5kaXZpZGVkVG9JbnRlZ2VyQnksIFAuZmxvb3IsIFAubG9nYXJpdGhtLCBQLm1pbnVzLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAubW9kdWxvLCBQLm5lZ2F0ZWQsIFAucGx1cywgUC5yb3VuZCwgUC5zaW4sIFAuc2luaCwgUC5zcXVhcmVSb290LFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudGFuLCBQLnRpbWVzLCBQLnRvRGVjaW1hbFBsYWNlcywgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b05lYXJlc3QsIFAudG9Qb3dlciwgUC50b1ByZWNpc2lvbiwgUC50b1NpZ25pZmljYW50RGlnaXRzLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudHJ1bmNhdGVkLCBkaXZpZGUsIGdldExuMTAsIGdldFBpLCBuYXR1cmFsRXhwb25lbnRpYWwsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJhbExvZ2FyaXRobSwgY2VpbCwgZmxvb3IsIHJvdW5kLCB0cnVuY1xyXG4gKiAgZmluaXRlVG9TdHJpbmcgICAgICAgICAgIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvUHJlY2lzaW9uLCBQLnRvU3RyaW5nLCBQLnZhbHVlT2YsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdCaW5hcnlcclxuICogIGdldEJhc2UxMEV4cG9uZW50ICAgICAgICBQLm1pbnVzLCBQLnBsdXMsIFAudGltZXMsIHBhcnNlT3RoZXJcclxuICogIGdldExuMTAgICAgICAgICAgICAgICAgICBQLmxvZ2FyaXRobSwgbmF0dXJhbExvZ2FyaXRobVxyXG4gKiAgZ2V0UGkgICAgICAgICAgICAgICAgICAgIFAuYWNvcywgUC5hc2luLCBQLmF0YW4sIHRvTGVzc1RoYW5IYWxmUGksIGF0YW4yXHJcbiAqICBnZXRQcmVjaXNpb24gICAgICAgICAgICAgUC5wcmVjaXNpb24sIFAudG9GcmFjdGlvblxyXG4gKiAgZ2V0WmVyb1N0cmluZyAgICAgICAgICAgIGRpZ2l0c1RvU3RyaW5nLCBmaW5pdGVUb1N0cmluZ1xyXG4gKiAgaW50UG93ICAgICAgICAgICAgICAgICAgIFAudG9Qb3dlciwgcGFyc2VPdGhlclxyXG4gKiAgaXNPZGQgICAgICAgICAgICAgICAgICAgIHRvTGVzc1RoYW5IYWxmUGlcclxuICogIG1heE9yTWluICAgICAgICAgICAgICAgICBtYXgsIG1pblxyXG4gKiAgbmF0dXJhbEV4cG9uZW50aWFsICAgICAgIFAubmF0dXJhbEV4cG9uZW50aWFsLCBQLnRvUG93ZXJcclxuICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICBQLmFjb3NoLCBQLmFzaW5oLCBQLmF0YW5oLCBQLmxvZ2FyaXRobSwgUC5uYXR1cmFsTG9nYXJpdGhtLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9Qb3dlciwgbmF0dXJhbEV4cG9uZW50aWFsXHJcbiAqICBub25GaW5pdGVUb1N0cmluZyAgICAgICAgZmluaXRlVG9TdHJpbmcsIHRvU3RyaW5nQmluYXJ5XHJcbiAqICBwYXJzZURlY2ltYWwgICAgICAgICAgICAgRGVjaW1hbFxyXG4gKiAgcGFyc2VPdGhlciAgICAgICAgICAgICAgIERlY2ltYWxcclxuICogIHNpbiAgICAgICAgICAgICAgICAgICAgICBQLnNpblxyXG4gKiAgdGF5bG9yU2VyaWVzICAgICAgICAgICAgIFAuY29zaCwgUC5zaW5oLCBjb3MsIHNpblxyXG4gKiAgdG9MZXNzVGhhbkhhbGZQaSAgICAgICAgIFAuY29zLCBQLnNpblxyXG4gKiAgdG9TdHJpbmdCaW5hcnkgICAgICAgICAgIFAudG9CaW5hcnksIFAudG9IZXhhZGVjaW1hbCwgUC50b09jdGFsXHJcbiAqICB0cnVuY2F0ZSAgICAgICAgICAgICAgICAgaW50UG93XHJcbiAqXHJcbiAqICBUaHJvd3M6ICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIFAucHJlY2lzaW9uLCBQLnRvRnJhY3Rpb24sIGNoZWNrSW50MzIsIGdldExuMTAsIGdldFBpLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyYWxMb2dhcml0aG0sIGNvbmZpZywgcGFyc2VPdGhlciwgcmFuZG9tLCBEZWNpbWFsXHJcbiAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIGRpZ2l0c1RvU3RyaW5nKGQpIHtcclxuICB2YXIgaSwgaywgd3MsXHJcbiAgICBpbmRleE9mTGFzdFdvcmQgPSBkLmxlbmd0aCAtIDEsXHJcbiAgICBzdHIgPSAnJyxcclxuICAgIHcgPSBkWzBdO1xyXG5cclxuICBpZiAoaW5kZXhPZkxhc3RXb3JkID4gMCkge1xyXG4gICAgc3RyICs9IHc7XHJcbiAgICBmb3IgKGkgPSAxOyBpIDwgaW5kZXhPZkxhc3RXb3JkOyBpKyspIHtcclxuICAgICAgd3MgPSBkW2ldICsgJyc7XHJcbiAgICAgIGsgPSBMT0dfQkFTRSAtIHdzLmxlbmd0aDtcclxuICAgICAgaWYgKGspIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgICBzdHIgKz0gd3M7XHJcbiAgICB9XHJcblxyXG4gICAgdyA9IGRbaV07XHJcbiAgICB3cyA9IHcgKyAnJztcclxuICAgIGsgPSBMT0dfQkFTRSAtIHdzLmxlbmd0aDtcclxuICAgIGlmIChrKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2UgaWYgKHcgPT09IDApIHtcclxuICAgIHJldHVybiAnMCc7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3Mgb2YgbGFzdCB3LlxyXG4gIGZvciAoOyB3ICUgMTAgPT09IDA7KSB3IC89IDEwO1xyXG5cclxuICByZXR1cm4gc3RyICsgdztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSW50MzIoaSwgbWluLCBtYXgpIHtcclxuICBpZiAoaSAhPT0gfn5pIHx8IGkgPCBtaW4gfHwgaSA+IG1heCkge1xyXG4gICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgaSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLypcclxuICogQ2hlY2sgNSByb3VuZGluZyBkaWdpdHMgaWYgYHJlcGVhdGluZ2AgaXMgbnVsbCwgNCBvdGhlcndpc2UuXHJcbiAqIGByZXBlYXRpbmcgPT0gbnVsbGAgaWYgY2FsbGVyIGlzIGBsb2dgIG9yIGBwb3dgLFxyXG4gKiBgcmVwZWF0aW5nICE9IG51bGxgIGlmIGNhbGxlciBpcyBgbmF0dXJhbExvZ2FyaXRobWAgb3IgYG5hdHVyYWxFeHBvbmVudGlhbGAuXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja1JvdW5kaW5nRGlnaXRzKGQsIGksIHJtLCByZXBlYXRpbmcpIHtcclxuICB2YXIgZGksIGssIHIsIHJkO1xyXG5cclxuICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgYXJyYXkgZC5cclxuICBmb3IgKGsgPSBkWzBdOyBrID49IDEwOyBrIC89IDEwKSAtLWk7XHJcblxyXG4gIC8vIElzIHRoZSByb3VuZGluZyBkaWdpdCBpbiB0aGUgZmlyc3Qgd29yZCBvZiBkP1xyXG4gIGlmICgtLWkgPCAwKSB7XHJcbiAgICBpICs9IExPR19CQVNFO1xyXG4gICAgZGkgPSAwO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgaSAlPSBMT0dfQkFTRTtcclxuICB9XHJcblxyXG4gIC8vIGkgaXMgdGhlIGluZGV4ICgwIC0gNikgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gIC8vIEUuZy4gaWYgd2l0aGluIHRoZSB3b3JkIDM0ODc1NjMgdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0IGlzIDUsXHJcbiAgLy8gdGhlbiBpID0gNCwgayA9IDEwMDAsIHJkID0gMzQ4NzU2MyAlIDEwMDAgPSA1NjNcclxuICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuICByZCA9IGRbZGldICUgayB8IDA7XHJcblxyXG4gIGlmIChyZXBlYXRpbmcgPT0gbnVsbCkge1xyXG4gICAgaWYgKGkgPCAzKSB7XHJcbiAgICAgIGlmIChpID09IDApIHJkID0gcmQgLyAxMDAgfCAwO1xyXG4gICAgICBlbHNlIGlmIChpID09IDEpIHJkID0gcmQgLyAxMCB8IDA7XHJcbiAgICAgIHIgPSBybSA8IDQgJiYgcmQgPT0gOTk5OTkgfHwgcm0gPiAzICYmIHJkID09IDQ5OTk5IHx8IHJkID09IDUwMDAwIHx8IHJkID09IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gKHJtIDwgNCAmJiByZCArIDEgPT0gayB8fCBybSA+IDMgJiYgcmQgKyAxID09IGsgLyAyKSAmJlxyXG4gICAgICAgIChkW2RpICsgMV0gLyBrIC8gMTAwIHwgMCkgPT0gbWF0aHBvdygxMCwgaSAtIDIpIC0gMSB8fFxyXG4gICAgICAgICAgKHJkID09IGsgLyAyIHx8IHJkID09IDApICYmIChkW2RpICsgMV0gLyBrIC8gMTAwIHwgMCkgPT0gMDtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKGkgPCA0KSB7XHJcbiAgICAgIGlmIChpID09IDApIHJkID0gcmQgLyAxMDAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAyKSByZCA9IHJkIC8gMTAgfCAwO1xyXG4gICAgICByID0gKHJlcGVhdGluZyB8fCBybSA8IDQpICYmIHJkID09IDk5OTkgfHwgIXJlcGVhdGluZyAmJiBybSA+IDMgJiYgcmQgPT0gNDk5OTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHIgPSAoKHJlcGVhdGluZyB8fCBybSA8IDQpICYmIHJkICsgMSA9PSBrIHx8XHJcbiAgICAgICghcmVwZWF0aW5nICYmIHJtID4gMykgJiYgcmQgKyAxID09IGsgLyAyKSAmJlxyXG4gICAgICAgIChkW2RpICsgMV0gLyBrIC8gMTAwMCB8IDApID09IG1hdGhwb3coMTAsIGkgLSAzKSAtIDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbi8vIENvbnZlcnQgc3RyaW5nIG9mIGBiYXNlSW5gIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYGJhc2VPdXRgLlxyXG4vLyBFZy4gY29udmVydEJhc2UoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuLy8gRWcuIGNvbnZlcnRCYXNlKCdmZicsIDE2LCAxMCkgcmV0dXJucyBbMiwgNSwgNV0uXHJcbmZ1bmN0aW9uIGNvbnZlcnRCYXNlKHN0ciwgYmFzZUluLCBiYXNlT3V0KSB7XHJcbiAgdmFyIGosXHJcbiAgICBhcnIgPSBbMF0sXHJcbiAgICBhcnJMLFxyXG4gICAgaSA9IDAsXHJcbiAgICBzdHJMID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgZm9yICg7IGkgPCBzdHJMOykge1xyXG4gICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOykgYXJyW2FyckxdICo9IGJhc2VJbjtcclxuICAgIGFyclswXSArPSBOVU1FUkFMUy5pbmRleE9mKHN0ci5jaGFyQXQoaSsrKSk7XHJcbiAgICBmb3IgKGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgIGlmIChhcnJbaiArIDFdID09PSB2b2lkIDApIGFycltqICsgMV0gPSAwO1xyXG4gICAgICAgIGFycltqICsgMV0gKz0gYXJyW2pdIC8gYmFzZU91dCB8IDA7XHJcbiAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBhcnIucmV2ZXJzZSgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogY29zKHgpID0gMSAtIHheMi8yISArIHheNC80ISAtIC4uLlxyXG4gKiB8eHwgPCBwaS8yXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3NpbmUoQ3RvciwgeCkge1xyXG4gIHZhciBrLCB5LFxyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBjb3MoNHgpID0gOCooY29zXjQoeCkgLSBjb3NeMih4KSkgKyAxXHJcbiAgLy8gaS5lLiBjb3MoeCkgPSA4Kihjb3NeNCh4LzQpIC0gY29zXjIoeC80KSkgKyAxXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICBpZiAobGVuIDwgMzIpIHtcclxuICAgIGsgPSBNYXRoLmNlaWwobGVuIC8gMyk7XHJcbiAgICB5ID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gMTY7XHJcbiAgICB5ID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gKz0gaztcclxuXHJcbiAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAxLCB4LnRpbWVzKHkpLCBuZXcgQ3RvcigxKSk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgZm9yICh2YXIgaSA9IGs7IGktLTspIHtcclxuICAgIHZhciBjb3MyeCA9IHgudGltZXMoeCk7XHJcbiAgICB4ID0gY29zMngudGltZXMoY29zMngpLm1pbnVzKGNvczJ4KS50aW1lcyg4KS5wbHVzKDEpO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gLT0gaztcclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS5cclxuICovXHJcbnZhciBkaXZpZGUgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAvLyBBc3N1bWVzIG5vbi16ZXJvIHggYW5kIGssIGFuZCBoZW5jZSBub24temVybyByZXN1bHQuXHJcbiAgZnVuY3Rpb24gbXVsdGlwbHlJbnRlZ2VyKHgsIGssIGJhc2UpIHtcclxuICAgIHZhciB0ZW1wLFxyXG4gICAgICBjYXJyeSA9IDAsXHJcbiAgICAgIGkgPSB4Lmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKHggPSB4LnNsaWNlKCk7IGktLTspIHtcclxuICAgICAgdGVtcCA9IHhbaV0gKiBrICsgY2Fycnk7XHJcbiAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZSB8IDA7XHJcbiAgICAgIGNhcnJ5ID0gdGVtcCAvIGJhc2UgfCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYXJyeSkgeC51bnNoaWZ0KGNhcnJ5KTtcclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYiwgYUwsIGJMKSB7XHJcbiAgICB2YXIgaSwgcjtcclxuXHJcbiAgICBpZiAoYUwgIT0gYkwpIHtcclxuICAgICAgciA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGkgPSByID0gMDsgaSA8IGFMOyBpKyspIHtcclxuICAgICAgICBpZiAoYVtpXSAhPSBiW2ldKSB7XHJcbiAgICAgICAgICByID0gYVtpXSA+IGJbaV0gPyAxIDogLTE7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXHJcbiAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgYVthTF0gLT0gaTtcclxuICAgICAgaSA9IGFbYUxdIDwgYlthTF0gPyAxIDogMDtcclxuICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOykgYS5zaGlmdCgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uICh4LCB5LCBwciwgcm0sIGRwLCBiYXNlKSB7XHJcbiAgICB2YXIgY21wLCBlLCBpLCBrLCBsb2dCYXNlLCBtb3JlLCBwcm9kLCBwcm9kTCwgcSwgcWQsIHJlbSwgcmVtTCwgcmVtMCwgc2QsIHQsIHhpLCB4TCwgeWQwLFxyXG4gICAgICB5TCwgeXosXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBzaWduID0geC5zID09IHkucyA/IDEgOiAtMSxcclxuICAgICAgeGQgPSB4LmQsXHJcbiAgICAgIHlkID0geS5kO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4sIEluZmluaXR5IG9yIDA/XHJcbiAgICBpZiAoIXhkIHx8ICF4ZFswXSB8fCAheWQgfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IEN0b3IoLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgTmFOLCBvciBib3RoIEluZmluaXR5IG9yIDAuXHJcbiAgICAgICAgIXgucyB8fCAheS5zIHx8ICh4ZCA/IHlkICYmIHhkWzBdID09IHlkWzBdIDogIXlkKSA/IE5hTiA6XHJcblxyXG4gICAgICAgIC8vIFJldHVybiDCsTAgaWYgeCBpcyAwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyAwLlxyXG4gICAgICAgIHhkICYmIHhkWzBdID09IDAgfHwgIXlkID8gc2lnbiAqIDAgOiBzaWduIC8gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGJhc2UpIHtcclxuICAgICAgbG9nQmFzZSA9IDE7XHJcbiAgICAgIGUgPSB4LmUgLSB5LmU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgbG9nQmFzZSA9IExPR19CQVNFO1xyXG4gICAgICBlID0gbWF0aGZsb29yKHguZSAvIGxvZ0Jhc2UpIC0gbWF0aGZsb29yKHkuZSAvIGxvZ0Jhc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHlMID0geWQubGVuZ3RoO1xyXG4gICAgeEwgPSB4ZC5sZW5ndGg7XHJcbiAgICBxID0gbmV3IEN0b3Ioc2lnbik7XHJcbiAgICBxZCA9IHEuZCA9IFtdO1xyXG5cclxuICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhhbiBlLlxyXG4gICAgLy8gVGhlIGRpZ2l0IGFycmF5IG9mIGEgRGVjaW1hbCBmcm9tIHRvU3RyaW5nQmluYXJ5IG1heSBoYXZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0gMDsgeWRbaV0gPT0gKHhkW2ldIHx8IDApOyBpKyspO1xyXG5cclxuICAgIGlmICh5ZFtpXSA+ICh4ZFtpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgIGlmIChwciA9PSBudWxsKSB7XHJcbiAgICAgIHNkID0gcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfSBlbHNlIGlmIChkcCkge1xyXG4gICAgICBzZCA9IHByICsgKHguZSAtIHkuZSkgKyAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2QgPSBwcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2QgPCAwKSB7XHJcbiAgICAgIHFkLnB1c2goMSk7XHJcbiAgICAgIG1vcmUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIENvbnZlcnQgcHJlY2lzaW9uIGluIG51bWJlciBvZiBiYXNlIDEwIGRpZ2l0cyB0byBiYXNlIDFlNyBkaWdpdHMuXHJcbiAgICAgIHNkID0gc2QgLyBsb2dCYXNlICsgMiB8IDA7XHJcbiAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgLy8gZGl2aXNvciA8IDFlN1xyXG4gICAgICBpZiAoeUwgPT0gMSkge1xyXG4gICAgICAgIGsgPSAwO1xyXG4gICAgICAgIHlkID0geWRbMF07XHJcbiAgICAgICAgc2QrKztcclxuXHJcbiAgICAgICAgLy8gayBpcyB0aGUgY2FycnkuXHJcbiAgICAgICAgZm9yICg7IChpIDwgeEwgfHwgaykgJiYgc2QtLTsgaSsrKSB7XHJcbiAgICAgICAgICB0ID0gayAqIGJhc2UgKyAoeGRbaV0gfHwgMCk7XHJcbiAgICAgICAgICBxZFtpXSA9IHQgLyB5ZCB8IDA7XHJcbiAgICAgICAgICBrID0gdCAlIHlkIHwgMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1vcmUgPSBrIHx8IGkgPCB4TDtcclxuXHJcbiAgICAgIC8vIGRpdmlzb3IgPj0gMWU3XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGlzZSB4ZCBhbmQgeWQgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5ZCBpcyA+PSBiYXNlLzJcclxuICAgICAgICBrID0gYmFzZSAvICh5ZFswXSArIDEpIHwgMDtcclxuXHJcbiAgICAgICAgaWYgKGsgPiAxKSB7XHJcbiAgICAgICAgICB5ZCA9IG11bHRpcGx5SW50ZWdlcih5ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICB4ZCA9IG11bHRpcGx5SW50ZWdlcih4ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICB5TCA9IHlkLmxlbmd0aDtcclxuICAgICAgICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGkgPSB5TDtcclxuICAgICAgICByZW0gPSB4ZC5zbGljZSgwLCB5TCk7XHJcbiAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIEFkZCB6ZXJvcyB0byBtYWtlIHJlbWFpbmRlciBhcyBsb25nIGFzIGRpdmlzb3IuXHJcbiAgICAgICAgZm9yICg7IHJlbUwgPCB5TDspIHJlbVtyZW1MKytdID0gMDtcclxuXHJcbiAgICAgICAgeXogPSB5ZC5zbGljZSgpO1xyXG4gICAgICAgIHl6LnVuc2hpZnQoMCk7XHJcbiAgICAgICAgeWQwID0geWRbMF07XHJcblxyXG4gICAgICAgIGlmICh5ZFsxXSA+PSBiYXNlIC8gMikgKyt5ZDA7XHJcblxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIGsgPSAwO1xyXG5cclxuICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgY21wID0gY29tcGFyZSh5ZCwgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChjbXAgPCAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdHJpYWwgZGlnaXQsIGsuXHJcbiAgICAgICAgICAgIHJlbTAgPSByZW1bMF07XHJcbiAgICAgICAgICAgIGlmICh5TCAhPSByZW1MKSByZW0wID0gcmVtMCAqIGJhc2UgKyAocmVtWzFdIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgLy8gayB3aWxsIGJlIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGsgPSByZW0wIC8geWQwIHwgMDtcclxuXHJcbiAgICAgICAgICAgIC8vICBBbGdvcml0aG06XHJcbiAgICAgICAgICAgIC8vICAxLiBwcm9kdWN0ID0gZGl2aXNvciAqIHRyaWFsIGRpZ2l0IChrKVxyXG4gICAgICAgICAgICAvLyAgMi4gaWYgcHJvZHVjdCA+IHJlbWFpbmRlcjogcHJvZHVjdCAtPSBkaXZpc29yLCBrLS1cclxuICAgICAgICAgICAgLy8gIDMuIHJlbWFpbmRlciAtPSBwcm9kdWN0XHJcbiAgICAgICAgICAgIC8vICA0LiBpZiBwcm9kdWN0IHdhcyA8IHJlbWFpbmRlciBhdCAyOlxyXG4gICAgICAgICAgICAvLyAgICA1LiBjb21wYXJlIG5ldyByZW1haW5kZXIgYW5kIGRpdmlzb3JcclxuICAgICAgICAgICAgLy8gICAgNi4gSWYgcmVtYWluZGVyID4gZGl2aXNvcjogcmVtYWluZGVyIC09IGRpdmlzb3IsIGsrK1xyXG5cclxuICAgICAgICAgICAgaWYgKGsgPiAxKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGsgPj0gYmFzZSkgayA9IGJhc2UgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvciAqIHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAgIHByb2QgPSBtdWx0aXBseUludGVnZXIoeWQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPiByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgaWYgKGNtcCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBrLS07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChwcm9kLCB5TCA8IHByb2RMID8geXogOiB5ZCwgcHJvZEwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gY21wIGlzIC0xLlxyXG4gICAgICAgICAgICAgIC8vIElmIGsgaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHlkIGFuZCByZW0gYWdhaW4gYmVsb3csIHNvIGNoYW5nZSBjbXAgdG8gMVxyXG4gICAgICAgICAgICAgIC8vIHRvIGF2b2lkIGl0LiBJZiBrIGlzIDEgdGhlcmUgaXMgYSBuZWVkIHRvIGNvbXBhcmUgeWQgYW5kIHJlbSBhZ2FpbiBiZWxvdy5cclxuICAgICAgICAgICAgICBpZiAoayA9PSAwKSBjbXAgPSBrID0gMTtcclxuICAgICAgICAgICAgICBwcm9kID0geWQuc2xpY2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKHByb2RMIDwgcmVtTCkgcHJvZC51bnNoaWZ0KDApO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgc3VidHJhY3QocmVtLCBwcm9kLCByZW1MLCBiYXNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHByb2R1Y3Qgd2FzIDwgcHJldmlvdXMgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHlkLCByZW0sIHlMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IG5ldyByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgaWYgKGNtcCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIGsrKztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocmVtLCB5TCA8IHJlbUwgPyB5eiA6IHlkLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgaysrO1xyXG4gICAgICAgICAgICByZW0gPSBbMF07XHJcbiAgICAgICAgICB9ICAgIC8vIGlmIGNtcCA9PT0gMSwgayB3aWxsIGJlIDBcclxuXHJcbiAgICAgICAgICAvLyBBZGQgdGhlIG5leHQgZGlnaXQsIGssIHRvIHRoZSByZXN1bHQgYXJyYXkuXHJcbiAgICAgICAgICBxZFtpKytdID0gaztcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChjbXAgJiYgcmVtWzBdKSB7XHJcbiAgICAgICAgICAgIHJlbVtyZW1MKytdID0geGRbeGldIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZW0gPSBbeGRbeGldXTtcclxuICAgICAgICAgICAgcmVtTCA9IDE7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gd2hpbGUgKCh4aSsrIDwgeEwgfHwgcmVtWzBdICE9PSB2b2lkIDApICYmIHNkLS0pO1xyXG5cclxuICAgICAgICBtb3JlID0gcmVtWzBdICE9PSB2b2lkIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExlYWRpbmcgemVybz9cclxuICAgICAgaWYgKCFxZFswXSkgcWQuc2hpZnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb2dCYXNlIGlzIDEgd2hlbiBkaXZpZGUgaXMgYmVpbmcgdXNlZCBmb3IgYmFzZSBjb252ZXJzaW9uLlxyXG4gICAgaWYgKGxvZ0Jhc2UgPT0gMSkge1xyXG4gICAgICBxLmUgPSBlO1xyXG4gICAgICBpbmV4YWN0ID0gbW9yZTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBUbyBjYWxjdWxhdGUgcS5lLCBmaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgcWRbMF0uXHJcbiAgICAgIGZvciAoaSA9IDEsIGsgPSBxZFswXTsgayA+PSAxMDsgayAvPSAxMCkgaSsrO1xyXG4gICAgICBxLmUgPSBpICsgZSAqIGxvZ0Jhc2UgLSAxO1xyXG5cclxuICAgICAgZmluYWxpc2UocSwgZHAgPyBwciArIHEuZSArIDEgOiBwciwgcm0sIG1vcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBxO1xyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5cclxuLypcclxuICogUm91bmQgYHhgIHRvIGBzZGAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICogQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cclxuICovXHJcbiBmdW5jdGlvbiBmaW5hbGlzZSh4LCBzZCwgcm0sIGlzVHJ1bmNhdGVkKSB7XHJcbiAgdmFyIGRpZ2l0cywgaSwgaiwgaywgcmQsIHJvdW5kVXAsIHcsIHhkLCB4ZGksXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgLy8gRG9uJ3Qgcm91bmQgaWYgc2QgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAgb3V0OiBpZiAoc2QgIT0gbnVsbCkge1xyXG4gICAgeGQgPSB4LmQ7XHJcblxyXG4gICAgLy8gSW5maW5pdHkvTmFOLlxyXG4gICAgaWYgKCF4ZCkgcmV0dXJuIHg7XHJcblxyXG4gICAgLy8gcmQ6IHRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAvLyB3OiB0aGUgd29yZCBvZiB4ZCBjb250YWluaW5nIHJkLCBhIGJhc2UgMWU3IG51bWJlci5cclxuICAgIC8vIHhkaTogdGhlIGluZGV4IG9mIHcgd2l0aGluIHhkLlxyXG4gICAgLy8gZGlnaXRzOiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB3LlxyXG4gICAgLy8gaTogd2hhdCB3b3VsZCBiZSB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcgaWYgYWxsIHRoZSBudW1iZXJzIHdlcmUgNyBkaWdpdHMgbG9uZyAoaS5lLiBpZlxyXG4gICAgLy8gdGhleSBoYWQgbGVhZGluZyB6ZXJvcylcclxuICAgIC8vIGo6IGlmID4gMCwgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gdyAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXHJcblxyXG4gICAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheSB4ZC5cclxuICAgIGZvciAoZGlnaXRzID0gMSwgayA9IHhkWzBdOyBrID49IDEwOyBrIC89IDEwKSBkaWdpdHMrKztcclxuICAgIGkgPSBzZCAtIGRpZ2l0cztcclxuXHJcbiAgICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgeGQ/XHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgaSArPSBMT0dfQkFTRTtcclxuICAgICAgaiA9IHNkO1xyXG4gICAgICB3ID0geGRbeGRpID0gMF07XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygdy5cclxuICAgICAgcmQgPSB3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpICUgMTAgfCAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeGRpID0gTWF0aC5jZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcbiAgICAgIGsgPSB4ZC5sZW5ndGg7XHJcbiAgICAgIGlmICh4ZGkgPj0gaykge1xyXG4gICAgICAgIGlmIChpc1RydW5jYXRlZCkge1xyXG5cclxuICAgICAgICAgIC8vIE5lZWRlZCBieSBgbmF0dXJhbEV4cG9uZW50aWFsYCwgYG5hdHVyYWxMb2dhcml0aG1gIGFuZCBgc3F1YXJlUm9vdGAuXHJcbiAgICAgICAgICBmb3IgKDsgaysrIDw9IHhkaTspIHhkLnB1c2goMCk7XHJcbiAgICAgICAgICB3ID0gcmQgPSAwO1xyXG4gICAgICAgICAgZGlnaXRzID0gMTtcclxuICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3ID0gayA9IHhkW3hkaV07XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB3LlxyXG4gICAgICAgIGZvciAoZGlnaXRzID0gMTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcuXHJcbiAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdywgYWRqdXN0ZWQgZm9yIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIHcgaXMgZ2l2ZW4gYnkgTE9HX0JBU0UgLSBkaWdpdHMuXHJcbiAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIGRpZ2l0cztcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgICAgcmQgPSBqIDwgMCA/IDAgOiB3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpICUgMTAgfCAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xyXG4gICAgaXNUcnVuY2F0ZWQgPSBpc1RydW5jYXRlZCB8fCBzZCA8IDAgfHxcclxuICAgICAgeGRbeGRpICsgMV0gIT09IHZvaWQgMCB8fCAoaiA8IDAgPyB3IDogdyAlIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSk7XHJcblxyXG4gICAgLy8gVGhlIGV4cHJlc3Npb24gYHcgJSBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSlgIHJldHVybnMgYWxsIHRoZSBkaWdpdHMgb2YgdyB0byB0aGUgcmlnaHRcclxuICAgIC8vIG9mIHRoZSBkaWdpdCBhdCAobGVmdC10by1yaWdodCkgaW5kZXggaiwgZS5nLiBpZiB3IGlzIDkwODcxNCBhbmQgaiBpcyAyLCB0aGUgZXhwcmVzc2lvblxyXG4gICAgLy8gd2lsbCBnaXZlIDcxNC5cclxuXHJcbiAgICByb3VuZFVwID0gcm0gPCA0XHJcbiAgICAgID8gKHJkIHx8IGlzVHJ1bmNhdGVkKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgOiByZCA+IDUgfHwgcmQgPT0gNSAmJiAocm0gPT0gNCB8fCBpc1RydW5jYXRlZCB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGRpZ2l0IHRvIHRoZSBsZWZ0IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBvZGQuXHJcbiAgICAgICAgKChpID4gMCA/IGogPiAwID8gdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGopIDogMCA6IHhkW3hkaSAtIDFdKSAlIDEwKSAmIDEgfHxcclxuICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICBpZiAoc2QgPCAxIHx8ICF4ZFswXSkge1xyXG4gICAgICB4ZC5sZW5ndGggPSAwO1xyXG4gICAgICBpZiAocm91bmRVcCkge1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHNkIHRvIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgIHNkIC09IHguZSArIDE7XHJcblxyXG4gICAgICAgIC8vIDEsIDAuMSwgMC4wMSwgMC4wMDEsIDAuMDAwMSBldGMuXHJcbiAgICAgICAgeGRbMF0gPSBtYXRocG93KDEwLCAoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFKTtcclxuICAgICAgICB4LmUgPSAtc2QgfHwgMDtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4ZFswXSA9IHguZSA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICB4ZC5sZW5ndGggPSB4ZGk7XHJcbiAgICAgIGsgPSAxO1xyXG4gICAgICB4ZGktLTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHhkLmxlbmd0aCA9IHhkaSArIDE7XHJcbiAgICAgIGsgPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIGkpO1xyXG5cclxuICAgICAgLy8gRS5nLiA1NjcwMCBiZWNvbWVzIDU2MDAwIGlmIDcgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygdy5cclxuICAgICAgeGRbeGRpXSA9IGogPiAwID8gKHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqKSAlIG1hdGhwb3coMTAsIGopIHwgMCkgKiBrIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRVcCkge1xyXG4gICAgICBmb3IgKDs7KSB7XHJcblxyXG4gICAgICAgIC8vIElzIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGluIHRoZSBmaXJzdCB3b3JkIG9mIHhkP1xyXG4gICAgICAgIGlmICh4ZGkgPT0gMCkge1xyXG5cclxuICAgICAgICAgIC8vIGkgd2lsbCBiZSB0aGUgbGVuZ3RoIG9mIHhkWzBdIGJlZm9yZSBrIGlzIGFkZGVkLlxyXG4gICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhkWzBdOyBqID49IDEwOyBqIC89IDEwKSBpKys7XHJcbiAgICAgICAgICBqID0geGRbMF0gKz0gaztcclxuICAgICAgICAgIGZvciAoayA9IDE7IGogPj0gMTA7IGogLz0gMTApIGsrKztcclxuXHJcbiAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICB4LmUrKztcclxuICAgICAgICAgICAgaWYgKHhkWzBdID09IEJBU0UpIHhkWzBdID0gMTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeGRbeGRpXSArPSBrO1xyXG4gICAgICAgICAgaWYgKHhkW3hkaV0gIT0gQkFTRSkgYnJlYWs7XHJcbiAgICAgICAgICB4ZFt4ZGktLV0gPSAwO1xyXG4gICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0geGQubGVuZ3RoOyB4ZFstLWldID09PSAwOykgeGQucG9wKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoZXh0ZXJuYWwpIHtcclxuXHJcbiAgICAvLyBPdmVyZmxvdz9cclxuICAgIGlmICh4LmUgPiBDdG9yLm1heEUpIHtcclxuXHJcbiAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICB4LmQgPSBudWxsO1xyXG4gICAgICB4LmUgPSBOYU47XHJcblxyXG4gICAgLy8gVW5kZXJmbG93P1xyXG4gICAgfSBlbHNlIGlmICh4LmUgPCBDdG9yLm1pbkUpIHtcclxuXHJcbiAgICAgIC8vIFplcm8uXHJcbiAgICAgIHguZSA9IDA7XHJcbiAgICAgIHguZCA9IFswXTtcclxuICAgICAgLy8gQ3Rvci51bmRlcmZsb3cgPSB0cnVlO1xyXG4gICAgfSAvLyBlbHNlIEN0b3IudW5kZXJmbG93ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZpbml0ZVRvU3RyaW5nKHgsIGlzRXhwLCBzZCkge1xyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbm9uRmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgdmFyIGssXHJcbiAgICBlID0geC5lLFxyXG4gICAgc3RyID0gZGlnaXRzVG9TdHJpbmcoeC5kKSxcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gIGlmIChpc0V4cCkge1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpICsgZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH0gZWxzZSBpZiAobGVuID4gMSkge1xyXG4gICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IHN0ciArICh4LmUgPCAwID8gJ2UnIDogJ2UrJykgKyB4LmU7XHJcbiAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG4gICAgc3RyID0gJzAuJyArIGdldFplcm9TdHJpbmcoLWUgLSAxKSArIHN0cjtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gIH0gZWxzZSBpZiAoZSA+PSBsZW4pIHtcclxuICAgIHN0ciArPSBnZXRaZXJvU3RyaW5nKGUgKyAxIC0gbGVuKTtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gZSAtIDEpID4gMCkgc3RyID0gc3RyICsgJy4nICsgZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKChrID0gZSArIDEpIDwgbGVuKSBzdHIgPSBzdHIuc2xpY2UoMCwgaykgKyAnLicgKyBzdHIuc2xpY2Uoayk7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSB7XHJcbiAgICAgIGlmIChlICsgMSA9PT0gbGVuKSBzdHIgKz0gJy4nO1xyXG4gICAgICBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBDYWxjdWxhdGUgdGhlIGJhc2UgMTAgZXhwb25lbnQgZnJvbSB0aGUgYmFzZSAxZTcgZXhwb25lbnQuXHJcbmZ1bmN0aW9uIGdldEJhc2UxMEV4cG9uZW50KGRpZ2l0cywgZSkge1xyXG4gIHZhciB3ID0gZGlnaXRzWzBdO1xyXG5cclxuICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheS5cclxuICBmb3IgKCBlICo9IExPR19CQVNFOyB3ID49IDEwOyB3IC89IDEwKSBlKys7XHJcbiAgcmV0dXJuIGU7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRMbjEwKEN0b3IsIHNkLCBwcikge1xyXG4gIGlmIChzZCA+IExOMTBfUFJFQ0lTSU9OKSB7XHJcblxyXG4gICAgLy8gUmVzZXQgZ2xvYmFsIHN0YXRlIGluIGNhc2UgdGhlIGV4Y2VwdGlvbiBpcyBjYXVnaHQuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBpZiAocHIpIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICB9XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKExOMTApLCBzZCwgMSwgdHJ1ZSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRQaShDdG9yLCBzZCwgcm0pIHtcclxuICBpZiAoc2QgPiBQSV9QUkVDSVNJT04pIHRocm93IEVycm9yKHByZWNpc2lvbkxpbWl0RXhjZWVkZWQpO1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihQSSksIHNkLCBybSwgdHJ1ZSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRQcmVjaXNpb24oZGlnaXRzKSB7XHJcbiAgdmFyIHcgPSBkaWdpdHMubGVuZ3RoIC0gMSxcclxuICAgIGxlbiA9IHcgKiBMT0dfQkFTRSArIDE7XHJcblxyXG4gIHcgPSBkaWdpdHNbd107XHJcblxyXG4gIC8vIElmIG5vbi16ZXJvLi4uXHJcbiAgaWYgKHcpIHtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IHdvcmQuXHJcbiAgICBmb3IgKDsgdyAlIDEwID09IDA7IHcgLz0gMTApIGxlbi0tO1xyXG5cclxuICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZC5cclxuICAgIGZvciAodyA9IGRpZ2l0c1swXTsgdyA+PSAxMDsgdyAvPSAxMCkgbGVuKys7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbGVuO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0WmVyb1N0cmluZyhrKSB7XHJcbiAgdmFyIHpzID0gJyc7XHJcbiAgZm9yICg7IGstLTspIHpzICs9ICcwJztcclxuICByZXR1cm4genM7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgRGVjaW1hbCBgeGAgdG8gdGhlIHBvd2VyIGBuYCwgd2hlcmUgYG5gIGlzIGFuXHJcbiAqIGludGVnZXIgb2YgdHlwZSBudW1iZXIuXHJcbiAqXHJcbiAqIEltcGxlbWVudHMgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJy4gQ2FsbGVkIGJ5IGBwb3dgIGFuZCBgcGFyc2VPdGhlcmAuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBpbnRQb3coQ3RvciwgeCwgbiwgcHIpIHtcclxuICB2YXIgaXNUcnVuY2F0ZWQsXHJcbiAgICByID0gbmV3IEN0b3IoMSksXHJcblxyXG4gICAgLy8gTWF4IG4gb2YgOTAwNzE5OTI1NDc0MDk5MSB0YWtlcyA1MyBsb29wIGl0ZXJhdGlvbnMuXHJcbiAgICAvLyBNYXhpbXVtIGRpZ2l0cyBhcnJheSBsZW5ndGg7IGxlYXZlcyBbMjgsIDM0XSBndWFyZCBkaWdpdHMuXHJcbiAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UgKyA0KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgaWYgKG4gJSAyKSB7XHJcbiAgICAgIHIgPSByLnRpbWVzKHgpO1xyXG4gICAgICBpZiAodHJ1bmNhdGUoci5kLCBrKSkgaXNUcnVuY2F0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG4gPSBtYXRoZmxvb3IobiAvIDIpO1xyXG4gICAgaWYgKG4gPT09IDApIHtcclxuXHJcbiAgICAgIC8vIFRvIGVuc3VyZSBjb3JyZWN0IHJvdW5kaW5nIHdoZW4gci5kIGlzIHRydW5jYXRlZCwgaW5jcmVtZW50IHRoZSBsYXN0IHdvcmQgaWYgaXQgaXMgemVyby5cclxuICAgICAgbiA9IHIuZC5sZW5ndGggLSAxO1xyXG4gICAgICBpZiAoaXNUcnVuY2F0ZWQgJiYgci5kW25dID09PSAwKSArK3IuZFtuXTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgeCA9IHgudGltZXMoeCk7XHJcbiAgICB0cnVuY2F0ZSh4LmQsIGspO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzT2RkKG4pIHtcclxuICByZXR1cm4gbi5kW24uZC5sZW5ndGggLSAxXSAmIDE7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBIYW5kbGUgYG1heGAgYW5kIGBtaW5gLiBgbHRndGAgaXMgJ2x0JyBvciAnZ3QnLlxyXG4gKi9cclxuZnVuY3Rpb24gbWF4T3JNaW4oQ3RvciwgYXJncywgbHRndCkge1xyXG4gIHZhciB5LFxyXG4gICAgeCA9IG5ldyBDdG9yKGFyZ3NbMF0pLFxyXG4gICAgaSA9IDA7XHJcblxyXG4gIGZvciAoOyArK2kgPCBhcmdzLmxlbmd0aDspIHtcclxuICAgIHkgPSBuZXcgQ3RvcihhcmdzW2ldKTtcclxuICAgIGlmICgheS5zKSB7XHJcbiAgICAgIHggPSB5O1xyXG4gICAgICBicmVhaztcclxuICAgIH0gZWxzZSBpZiAoeFtsdGd0XSh5KSkge1xyXG4gICAgICB4ID0geTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMuXHJcbiAqXHJcbiAqIFRheWxvci9NYWNsYXVyaW4gc2VyaWVzLlxyXG4gKlxyXG4gKiBleHAoeCkgPSB4XjAvMCEgKyB4XjEvMSEgKyB4XjIvMiEgKyB4XjMvMyEgKyAuLi5cclxuICpcclxuICogQXJndW1lbnQgcmVkdWN0aW9uOlxyXG4gKiAgIFJlcGVhdCB4ID0geCAvIDMyLCBrICs9IDUsIHVudGlsIHx4fCA8IDAuMVxyXG4gKiAgIGV4cCh4KSA9IGV4cCh4IC8gMl5rKV4oMl5rKVxyXG4gKlxyXG4gKiBQcmV2aW91c2x5LCB0aGUgYXJndW1lbnQgd2FzIGluaXRpYWxseSByZWR1Y2VkIGJ5XHJcbiAqIGV4cCh4KSA9IGV4cChyKSAqIDEwXmsgIHdoZXJlIHIgPSB4IC0gayAqIGxuMTAsIGsgPSBmbG9vcih4IC8gbG4xMClcclxuICogdG8gZmlyc3QgcHV0IHIgaW4gdGhlIHJhbmdlIFswLCBsbjEwXSwgYmVmb3JlIGRpdmlkaW5nIGJ5IDMyIHVudGlsIHx4fCA8IDAuMSwgYnV0IHRoaXMgd2FzXHJcbiAqIGZvdW5kIHRvIGJlIHNsb3dlciB0aGFuIGp1c3QgZGl2aWRpbmcgcmVwZWF0ZWRseSBieSAzMiBhcyBhYm92ZS5cclxuICpcclxuICogTWF4IGludGVnZXIgYXJndW1lbnQ6IGV4cCgnMjA3MjMyNjU4MzY5NDY0MTMnKSA9IDYuM2UrOTAwMDAwMDAwMDAwMDAwMFxyXG4gKiBNaW4gaW50ZWdlciBhcmd1bWVudDogZXhwKCctMjA3MjMyNjU4MzY5NDY0MTEnKSA9IDEuMmUtOTAwMDAwMDAwMDAwMDAwMFxyXG4gKiAoTWF0aCBvYmplY3QgaW50ZWdlciBtaW4vbWF4OiBNYXRoLmV4cCg3MDkpID0gOC4yZSszMDcsIE1hdGguZXhwKC03NDUpID0gNWUtMzI0KVxyXG4gKlxyXG4gKiAgZXhwKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiAgZXhwKC1JbmZpbml0eSkgPSAwXHJcbiAqICBleHAoTmFOKSAgICAgICA9IE5hTlxyXG4gKiAgZXhwKMKxMCkgICAgICAgID0gMVxyXG4gKlxyXG4gKiAgZXhwKHgpIGlzIG5vbi10ZXJtaW5hdGluZyBmb3IgYW55IGZpbml0ZSwgbm9uLXplcm8geC5cclxuICpcclxuICogIFRoZSByZXN1bHQgd2lsbCBhbHdheXMgYmUgY29ycmVjdGx5IHJvdW5kZWQuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBuYXR1cmFsRXhwb25lbnRpYWwoeCwgc2QpIHtcclxuICB2YXIgZGVub21pbmF0b3IsIGd1YXJkLCBqLCBwb3csIHN1bSwgdCwgd3ByLFxyXG4gICAgcmVwID0gMCxcclxuICAgIGkgPSAwLFxyXG4gICAgayA9IDAsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcblxyXG4gIC8vIDAvTmFOL0luZmluaXR5P1xyXG4gIGlmICgheC5kIHx8ICF4LmRbMF0gfHwgeC5lID4gMTcpIHtcclxuXHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeC5kXHJcbiAgICAgID8gIXguZFswXSA/IDEgOiB4LnMgPCAwID8gMCA6IDEgLyAwXHJcbiAgICAgIDogeC5zID8geC5zIDwgMCA/IDAgOiB4IDogMCAvIDApO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNkID09IG51bGwpIHtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICB3cHIgPSBwcjtcclxuICB9IGVsc2Uge1xyXG4gICAgd3ByID0gc2Q7XHJcbiAgfVxyXG5cclxuICB0ID0gbmV3IEN0b3IoMC4wMzEyNSk7XHJcblxyXG4gIC8vIHdoaWxlIGFicyh4KSA+PSAwLjFcclxuICB3aGlsZSAoeC5lID4gLTIpIHtcclxuXHJcbiAgICAvLyB4ID0geCAvIDJeNVxyXG4gICAgeCA9IHgudGltZXModCk7XHJcbiAgICBrICs9IDU7XHJcbiAgfVxyXG5cclxuICAvLyBVc2UgMiAqIGxvZzEwKDJeaykgKyA1IChlbXBpcmljYWxseSBkZXJpdmVkKSB0byBlc3RpbWF0ZSB0aGUgaW5jcmVhc2UgaW4gcHJlY2lzaW9uXHJcbiAgLy8gbmVjZXNzYXJ5IHRvIGVuc3VyZSB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgYXJlIGNvcnJlY3QuXHJcbiAgZ3VhcmQgPSBNYXRoLmxvZyhtYXRocG93KDIsIGspKSAvIE1hdGguTE4xMCAqIDIgKyA1IHwgMDtcclxuICB3cHIgKz0gZ3VhcmQ7XHJcbiAgZGVub21pbmF0b3IgPSBwb3cgPSBzdW0gPSBuZXcgQ3RvcigxKTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHdwcjtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgcG93ID0gZmluYWxpc2UocG93LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gICAgZGVub21pbmF0b3IgPSBkZW5vbWluYXRvci50aW1lcygrK2kpO1xyXG4gICAgdCA9IHN1bS5wbHVzKGRpdmlkZShwb3csIGRlbm9taW5hdG9yLCB3cHIsIDEpKTtcclxuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCB3cHIpID09PSBkaWdpdHNUb1N0cmluZyhzdW0uZCkuc2xpY2UoMCwgd3ByKSkge1xyXG4gICAgICBqID0gaztcclxuICAgICAgd2hpbGUgKGotLSkgc3VtID0gZmluYWxpc2Uoc3VtLnRpbWVzKHN1bSksIHdwciwgMSk7XHJcblxyXG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5LlxyXG4gICAgICAvLyBJZiBzbywgcmVwZWF0IHRoZSBzdW1tYXRpb24gd2l0aCBhIGhpZ2hlciBwcmVjaXNpb24sIG90aGVyd2lzZVxyXG4gICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxOCwgcm91bmRpbmc6IDFcclxuICAgICAgLy8gZXhwKDE4LjQwNDI3MjQ2MjU5NTAzNDA4MzU2Nzc5MzkxOTg0Mzc2MSkgPSA5ODM3MjU2MC4xMjI5OTk5OTk5IChzaG91bGQgYmUgOTgzNzI1NjAuMTIzKVxyXG4gICAgICAvLyBgd3ByIC0gZ3VhcmRgIGlzIHRoZSBpbmRleCBvZiBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgaWYgKHNkID09IG51bGwpIHtcclxuXHJcbiAgICAgICAgaWYgKHJlcCA8IDMgJiYgY2hlY2tSb3VuZGluZ0RpZ2l0cyhzdW0uZCwgd3ByIC0gZ3VhcmQsIHJtLCByZXApKSB7XHJcbiAgICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSAxMDtcclxuICAgICAgICAgIGRlbm9taW5hdG9yID0gcG93ID0gdCA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICByZXArKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1bSA9IHQ7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzLlxyXG4gKlxyXG4gKiAgbG4oLW4pICAgICAgICA9IE5hTlxyXG4gKiAgbG4oMCkgICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiAgbG4oLTApICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiAgbG4oMSkgICAgICAgICA9IDBcclxuICogIGxuKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiAgbG4oLUluZmluaXR5KSA9IE5hTlxyXG4gKiAgbG4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKiAgbG4obikgKG4gIT0gMSkgaXMgbm9uLXRlcm1pbmF0aW5nLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbmF0dXJhbExvZ2FyaXRobSh5LCBzZCkge1xyXG4gIHZhciBjLCBjMCwgZGVub21pbmF0b3IsIGUsIG51bWVyYXRvciwgcmVwLCBzdW0sIHQsIHdwciwgeDEsIHgyLFxyXG4gICAgbiA9IDEsXHJcbiAgICBndWFyZCA9IDEwLFxyXG4gICAgeCA9IHksXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuXHJcbiAgLy8gSXMgeCBuZWdhdGl2ZSBvciBJbmZpbml0eSwgTmFOLCAwIG9yIDE/XHJcbiAgaWYgKHgucyA8IDAgfHwgIXhkIHx8ICF4ZFswXSB8fCAheC5lICYmIHhkWzBdID09IDEgJiYgeGQubGVuZ3RoID09IDEpIHtcclxuICAgIHJldHVybiBuZXcgQ3Rvcih4ZCAmJiAheGRbMF0gPyAtMSAvIDAgOiB4LnMgIT0gMSA/IE5hTiA6IHhkID8gMCA6IHgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNkID09IG51bGwpIHtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICB3cHIgPSBwcjtcclxuICB9IGVsc2Uge1xyXG4gICAgd3ByID0gc2Q7XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSBndWFyZDtcclxuICBjID0gZGlnaXRzVG9TdHJpbmcoeGQpO1xyXG4gIGMwID0gYy5jaGFyQXQoMCk7XHJcblxyXG4gIGlmIChNYXRoLmFicyhlID0geC5lKSA8IDEuNWUxNSkge1xyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAgIC8vIFRoZSBzZXJpZXMgY29udmVyZ2VzIGZhc3RlciB0aGUgY2xvc2VyIHRoZSBhcmd1bWVudCBpcyB0byAxLCBzbyB1c2luZ1xyXG4gICAgLy8gbG4oYV5iKSA9IGIgKiBsbihhKSwgICBsbihhKSA9IGxuKGFeYikgLyBiXHJcbiAgICAvLyBtdWx0aXBseSB0aGUgYXJndW1lbnQgYnkgaXRzZWxmIHVudGlsIHRoZSBsZWFkaW5nIGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmQgYXJlIDcsIDgsIDksXHJcbiAgICAvLyAxMCwgMTEsIDEyIG9yIDEzLCByZWNvcmRpbmcgdGhlIG51bWJlciBvZiBtdWx0aXBsaWNhdGlvbnMgc28gdGhlIHN1bSBvZiB0aGUgc2VyaWVzIGNhblxyXG4gICAgLy8gbGF0ZXIgYmUgZGl2aWRlZCBieSB0aGlzIG51bWJlciwgdGhlbiBzZXBhcmF0ZSBvdXQgdGhlIHBvd2VyIG9mIDEwIHVzaW5nXHJcbiAgICAvLyBsbihhKjEwXmIpID0gbG4oYSkgKyBiKmxuKDEwKS5cclxuXHJcbiAgICAvLyBtYXggbiBpcyAyMSAoZ2l2ZXMgMC45LCAxLjAgb3IgMS4xKSAoOWUxNSAvIDIxID0gNC4yZTE0KS5cclxuICAgIC8vd2hpbGUgKGMwIDwgOSAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAxKSB7XHJcbiAgICAvLyBtYXggbiBpcyA2IChnaXZlcyAwLjcgLSAxLjMpXHJcbiAgICB3aGlsZSAoYzAgPCA3ICYmIGMwICE9IDEgfHwgYzAgPT0gMSAmJiBjLmNoYXJBdCgxKSA+IDMpIHtcclxuICAgICAgeCA9IHgudGltZXMoeSk7XHJcbiAgICAgIGMgPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgICBjMCA9IGMuY2hhckF0KDApO1xyXG4gICAgICBuKys7XHJcbiAgICB9XHJcblxyXG4gICAgZSA9IHguZTtcclxuXHJcbiAgICBpZiAoYzAgPiAxKSB7XHJcbiAgICAgIHggPSBuZXcgQ3RvcignMC4nICsgYyk7XHJcbiAgICAgIGUrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHggPSBuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gVGhlIGFyZ3VtZW50IHJlZHVjdGlvbiBtZXRob2QgYWJvdmUgbWF5IHJlc3VsdCBpbiBvdmVyZmxvdyBpZiB0aGUgYXJndW1lbnQgeSBpcyBhIG1hc3NpdmVcclxuICAgIC8vIG51bWJlciB3aXRoIGV4cG9uZW50ID49IDE1MDAwMDAwMDAwMDAwMDAgKDllMTUgLyA2ID0gMS41ZTE1KSwgc28gaW5zdGVhZCByZWNhbGwgdGhpc1xyXG4gICAgLy8gZnVuY3Rpb24gdXNpbmcgbG4oeCoxMF5lKSA9IGxuKHgpICsgZSpsbigxMCkuXHJcbiAgICB0ID0gZ2V0TG4xMChDdG9yLCB3cHIgKyAyLCBwcikudGltZXMoZSArICcnKTtcclxuICAgIHggPSBuYXR1cmFsTG9nYXJpdGhtKG5ldyBDdG9yKGMwICsgJy4nICsgYy5zbGljZSgxKSksIHdwciAtIGd1YXJkKS5wbHVzKHQpO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuXHJcbiAgICByZXR1cm4gc2QgPT0gbnVsbCA/IGZpbmFsaXNlKHgsIHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKSA6IHg7XHJcbiAgfVxyXG5cclxuICAvLyB4MSBpcyB4IHJlZHVjZWQgdG8gYSB2YWx1ZSBuZWFyIDEuXHJcbiAgeDEgPSB4O1xyXG5cclxuICAvLyBUYXlsb3Igc2VyaWVzLlxyXG4gIC8vIGxuKHkpID0gbG4oKDEgKyB4KS8oMSAtIHgpKSA9IDIoeCArIHheMy8zICsgeF41LzUgKyB4XjcvNyArIC4uLilcclxuICAvLyB3aGVyZSB4ID0gKHkgLSAxKS8oeSArIDEpICAgICh8eHwgPCAxKVxyXG4gIHN1bSA9IG51bWVyYXRvciA9IHggPSBkaXZpZGUoeC5taW51cygxKSwgeC5wbHVzKDEpLCB3cHIsIDEpO1xyXG4gIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICBkZW5vbWluYXRvciA9IDM7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIG51bWVyYXRvciA9IGZpbmFsaXNlKG51bWVyYXRvci50aW1lcyh4MiksIHdwciwgMSk7XHJcbiAgICB0ID0gc3VtLnBsdXMoZGl2aWRlKG51bWVyYXRvciwgbmV3IEN0b3IoZGVub21pbmF0b3IpLCB3cHIsIDEpKTtcclxuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCB3cHIpID09PSBkaWdpdHNUb1N0cmluZyhzdW0uZCkuc2xpY2UoMCwgd3ByKSkge1xyXG4gICAgICBzdW0gPSBzdW0udGltZXMoMik7XHJcblxyXG4gICAgICAvLyBSZXZlcnNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uIENoZWNrIHRoYXQgZSBpcyBub3QgMCBiZWNhdXNlLCBiZXNpZGVzIHByZXZlbnRpbmcgYW5cclxuICAgICAgLy8gdW5uZWNlc3NhcnkgY2FsY3VsYXRpb24sIC0wICsgMCA9ICswIGFuZCB0byBlbnN1cmUgY29ycmVjdCByb3VuZGluZyAtMCBuZWVkcyB0byBzdGF5IC0wLlxyXG4gICAgICBpZiAoZSAhPT0gMCkgc3VtID0gc3VtLnBsdXMoZ2V0TG4xMChDdG9yLCB3cHIgKyAyLCBwcikudGltZXMoZSArICcnKSk7XHJcbiAgICAgIHN1bSA9IGRpdmlkZShzdW0sIG5ldyBDdG9yKG4pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgLy8gSXMgcm0gPiAzIGFuZCB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgNDk5OSwgb3Igcm0gPCA0IChvciB0aGUgc3VtbWF0aW9uIGhhc1xyXG4gICAgICAvLyBiZWVuIHJlcGVhdGVkIHByZXZpb3VzbHkpIGFuZCB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgOTk5OT9cclxuICAgICAgLy8gSWYgc28sIHJlc3RhcnQgdGhlIHN1bW1hdGlvbiB3aXRoIGEgaGlnaGVyIHByZWNpc2lvbiwgb3RoZXJ3aXNlXHJcbiAgICAgIC8vIGUuZy4gd2l0aCBwcmVjaXNpb246IDEyLCByb3VuZGluZzogMVxyXG4gICAgICAvLyBsbigxMzU1MjAwMjguNjEyNjA5MTcxNDI2NTM4MTUzMykgPSAxOC43MjQ2Mjk5OTk5IHdoZW4gaXQgc2hvdWxkIGJlIDE4LjcyNDYzLlxyXG4gICAgICAvLyBgd3ByIC0gZ3VhcmRgIGlzIHRoZSBpbmRleCBvZiBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgaWYgKHNkID09IG51bGwpIHtcclxuICAgICAgICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhzdW0uZCwgd3ByIC0gZ3VhcmQsIHJtLCByZXApKSB7XHJcbiAgICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSBndWFyZDtcclxuICAgICAgICAgIHQgPSBudW1lcmF0b3IgPSB4ID0gZGl2aWRlKHgxLm1pbnVzKDEpLCB4MS5wbHVzKDEpLCB3cHIsIDEpO1xyXG4gICAgICAgICAgeDIgPSBmaW5hbGlzZSh4LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gICAgICAgICAgZGVub21pbmF0b3IgPSByZXAgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmluYWxpc2Uoc3VtLCBDdG9yLnByZWNpc2lvbiA9IHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3VtID0gdDtcclxuICAgIGRlbm9taW5hdG9yICs9IDI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gwrFJbmZpbml0eSwgTmFOLlxyXG5mdW5jdGlvbiBub25GaW5pdGVUb1N0cmluZyh4KSB7XHJcbiAgLy8gVW5zaWduZWQuXHJcbiAgcmV0dXJuIFN0cmluZyh4LnMgKiB4LnMgLyAwKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFBhcnNlIHRoZSB2YWx1ZSBvZiBhIG5ldyBEZWNpbWFsIGB4YCBmcm9tIHN0cmluZyBgc3RyYC5cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlRGVjaW1hbCh4LCBzdHIpIHtcclxuICB2YXIgZSwgaSwgbGVuO1xyXG5cclxuICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG5cclxuICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gIGlmICgoaSA9IHN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgIC8vIERldGVybWluZSBleHBvbmVudC5cclxuICAgIGlmIChlIDwgMCkgZSA9IGk7XHJcbiAgICBlICs9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBpKTtcclxuICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgLy8gSW50ZWdlci5cclxuICAgIGUgPSBzdHIubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgZm9yIChpID0gMDsgc3RyLmNoYXJDb2RlQXQoaSkgPT09IDQ4OyBpKyspO1xyXG5cclxuICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdChsZW4gLSAxKSA9PT0gNDg7IC0tbGVuKTtcclxuICBzdHIgPSBzdHIuc2xpY2UoaSwgbGVuKTtcclxuXHJcbiAgaWYgKHN0cikge1xyXG4gICAgbGVuIC09IGk7XHJcbiAgICB4LmUgPSBlID0gZSAtIGkgLSAxO1xyXG4gICAgeC5kID0gW107XHJcblxyXG4gICAgLy8gVHJhbnNmb3JtIGJhc2VcclxuXHJcbiAgICAvLyBlIGlzIHRoZSBiYXNlIDEwIGV4cG9uZW50LlxyXG4gICAgLy8gaSBpcyB3aGVyZSB0byBzbGljZSBzdHIgdG8gZ2V0IHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkuXHJcbiAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgaWYgKGUgPCAwKSBpICs9IExPR19CQVNFO1xyXG5cclxuICAgIGlmIChpIDwgbGVuKSB7XHJcbiAgICAgIGlmIChpKSB4LmQucHVzaCgrc3RyLnNsaWNlKDAsIGkpKTtcclxuICAgICAgZm9yIChsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47KSB4LmQucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgc3RyID0gc3RyLnNsaWNlKGkpO1xyXG4gICAgICBpID0gTE9HX0JBU0UgLSBzdHIubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaSAtPSBsZW47XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICg7IGktLTspIHN0ciArPSAnMCc7XHJcbiAgICB4LmQucHVzaCgrc3RyKTtcclxuXHJcbiAgICBpZiAoZXh0ZXJuYWwpIHtcclxuXHJcbiAgICAgIC8vIE92ZXJmbG93P1xyXG4gICAgICBpZiAoeC5lID4geC5jb25zdHJ1Y3Rvci5tYXhFKSB7XHJcblxyXG4gICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgeC5lID0gTmFOO1xyXG5cclxuICAgICAgLy8gVW5kZXJmbG93P1xyXG4gICAgICB9IGVsc2UgaWYgKHguZSA8IHguY29uc3RydWN0b3IubWluRSkge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgIC8vIHguY29uc3RydWN0b3IudW5kZXJmbG93ID0gdHJ1ZTtcclxuICAgICAgfSAvLyBlbHNlIHguY29uc3RydWN0b3IudW5kZXJmbG93ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBaZXJvLlxyXG4gICAgeC5lID0gMDtcclxuICAgIHguZCA9IFswXTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGFyc2UgdGhlIHZhbHVlIG9mIGEgbmV3IERlY2ltYWwgYHhgIGZyb20gYSBzdHJpbmcgYHN0cmAsIHdoaWNoIGlzIG5vdCBhIGRlY2ltYWwgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZU90aGVyKHgsIHN0cikge1xyXG4gIHZhciBiYXNlLCBDdG9yLCBkaXZpc29yLCBpLCBpc0Zsb2F0LCBsZW4sIHAsIHhkLCB4ZTtcclxuXHJcbiAgaWYgKHN0ciA9PT0gJ0luZmluaXR5JyB8fCBzdHIgPT09ICdOYU4nKSB7XHJcbiAgICBpZiAoIStzdHIpIHgucyA9IE5hTjtcclxuICAgIHguZSA9IE5hTjtcclxuICAgIHguZCA9IG51bGw7XHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG4gIGlmIChpc0hleC50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gMTY7XHJcbiAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcclxuICB9IGVsc2UgaWYgKGlzQmluYXJ5LnRlc3Qoc3RyKSkgIHtcclxuICAgIGJhc2UgPSAyO1xyXG4gIH0gZWxzZSBpZiAoaXNPY3RhbC50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gODtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgc3RyKTtcclxuICB9XHJcblxyXG4gIC8vIElzIHRoZXJlIGEgYmluYXJ5IGV4cG9uZW50IHBhcnQ/XHJcbiAgaSA9IHN0ci5zZWFyY2goL3AvaSk7XHJcblxyXG4gIGlmIChpID4gMCkge1xyXG4gICAgcCA9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygyLCBpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyID0gc3RyLnNsaWNlKDIpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29udmVydCBgc3RyYCBhcyBhbiBpbnRlZ2VyIHRoZW4gZGl2aWRlIHRoZSByZXN1bHQgYnkgYGJhc2VgIHJhaXNlZCB0byBhIHBvd2VyIHN1Y2ggdGhhdCB0aGVcclxuICAvLyBmcmFjdGlvbiBwYXJ0IHdpbGwgYmUgcmVzdG9yZWQuXHJcbiAgaSA9IHN0ci5pbmRleE9mKCcuJyk7XHJcbiAgaXNGbG9hdCA9IGkgPj0gMDtcclxuICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKGlzRmxvYXQpIHtcclxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgbGVuID0gc3RyLmxlbmd0aDtcclxuICAgIGkgPSBsZW4gLSBpO1xyXG5cclxuICAgIC8vIGxvZ1sxMF0oMTYpID0gMS4yMDQxLi4uICwgbG9nWzEwXSg4OCkgPSAxLjk0NDQuLi4uXHJcbiAgICBkaXZpc29yID0gaW50UG93KEN0b3IsIG5ldyBDdG9yKGJhc2UpLCBpLCBpICogMik7XHJcbiAgfVxyXG5cclxuICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgYmFzZSwgQkFTRSk7XHJcbiAgeGUgPSB4ZC5sZW5ndGggLSAxO1xyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChpID0geGU7IHhkW2ldID09PSAwOyAtLWkpIHhkLnBvcCgpO1xyXG4gIGlmIChpIDwgMCkgcmV0dXJuIG5ldyBDdG9yKHgucyAqIDApO1xyXG4gIHguZSA9IGdldEJhc2UxMEV4cG9uZW50KHhkLCB4ZSk7XHJcbiAgeC5kID0geGQ7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgLy8gQXQgd2hhdCBwcmVjaXNpb24gdG8gcGVyZm9ybSB0aGUgZGl2aXNpb24gdG8gZW5zdXJlIGV4YWN0IGNvbnZlcnNpb24/XHJcbiAgLy8gbWF4RGVjaW1hbEludGVnZXJQYXJ0RGlnaXRDb3VudCA9IGNlaWwobG9nWzEwXShiKSAqIG90aGVyQmFzZUludGVnZXJQYXJ0RGlnaXRDb3VudClcclxuICAvLyBsb2dbMTBdKDIpID0gMC4zMDEwMywgbG9nWzEwXSg4KSA9IDAuOTAzMDksIGxvZ1sxMF0oMTYpID0gMS4yMDQxMlxyXG4gIC8vIEUuZy4gY2VpbCgxLjIgKiAzKSA9IDQsIHNvIHVwIHRvIDQgZGVjaW1hbCBkaWdpdHMgYXJlIG5lZWRlZCB0byByZXByZXNlbnQgMyBoZXggaW50IGRpZ2l0cy5cclxuICAvLyBtYXhEZWNpbWFsRnJhY3Rpb25QYXJ0RGlnaXRDb3VudCA9IHtIZXg6NHxPY3Q6M3xCaW46MX0gKiBvdGhlckJhc2VGcmFjdGlvblBhcnREaWdpdENvdW50XHJcbiAgLy8gVGhlcmVmb3JlIHVzaW5nIDQgKiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBzdHIgd2lsbCBhbHdheXMgYmUgZW5vdWdoLlxyXG4gIGlmIChpc0Zsb2F0KSB4ID0gZGl2aWRlKHgsIGRpdmlzb3IsIGxlbiAqIDQpO1xyXG5cclxuICAvLyBNdWx0aXBseSBieSB0aGUgYmluYXJ5IGV4cG9uZW50IHBhcnQgaWYgcHJlc2VudC5cclxuICBpZiAocCkgeCA9IHgudGltZXMoTWF0aC5hYnMocCkgPCA1NCA/IG1hdGhwb3coMiwgcCkgOiBEZWNpbWFsLnBvdygyLCBwKSk7XHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIHNpbih4KSA9IHggLSB4XjMvMyEgKyB4XjUvNSEgLSAuLi5cclxuICogfHh8IDwgcGkvMlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luZShDdG9yLCB4KSB7XHJcbiAgdmFyIGssXHJcbiAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICBpZiAobGVuIDwgMykgcmV0dXJuIHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4KTtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBzaW4oNXgpID0gMTYqc2luXjUoeCkgLSAyMCpzaW5eMyh4KSArIDUqc2luKHgpXHJcbiAgLy8gaS5lLiBzaW4oeCkgPSAxNipzaW5eNSh4LzUpIC0gMjAqc2luXjMoeC81KSArIDUqc2luKHgvNSlcclxuICAvLyBhbmQgIHNpbih4KSA9IHNpbih4LzUpKDUgKyBzaW5eMih4LzUpKDE2c2luXjIoeC81KSAtIDIwKSlcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gIGsgPSAxLjQgKiBNYXRoLnNxcnQobGVuKTtcclxuICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgeCA9IHgudGltZXMoMSAvIHRpbnlQb3coNSwgaykpO1xyXG4gIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgdmFyIHNpbjJfeCxcclxuICAgIGQ1ID0gbmV3IEN0b3IoNSksXHJcbiAgICBkMTYgPSBuZXcgQ3RvcigxNiksXHJcbiAgICBkMjAgPSBuZXcgQ3RvcigyMCk7XHJcbiAgZm9yICg7IGstLTspIHtcclxuICAgIHNpbjJfeCA9IHgudGltZXMoeCk7XHJcbiAgICB4ID0geC50aW1lcyhkNS5wbHVzKHNpbjJfeC50aW1lcyhkMTYudGltZXMoc2luMl94KS5taW51cyhkMjApKSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vLyBDYWxjdWxhdGUgVGF5bG9yIHNlcmllcyBmb3IgYGNvc2AsIGBjb3NoYCwgYHNpbmAgYW5kIGBzaW5oYC5cclxuZnVuY3Rpb24gdGF5bG9yU2VyaWVzKEN0b3IsIG4sIHgsIHksIGlzSHlwZXJib2xpYykge1xyXG4gIHZhciBqLCB0LCB1LCB4MixcclxuICAgIGkgPSAxLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgeDIgPSB4LnRpbWVzKHgpO1xyXG4gIHUgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgdCA9IGRpdmlkZSh1LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgdSA9IGlzSHlwZXJib2xpYyA/IHkucGx1cyh0KSA6IHkubWludXModCk7XHJcbiAgICB5ID0gZGl2aWRlKHQudGltZXMoeDIpLCBuZXcgQ3RvcihuKysgKiBuKyspLCBwciwgMSk7XHJcbiAgICB0ID0gdS5wbHVzKHkpO1xyXG5cclxuICAgIGlmICh0LmRba10gIT09IHZvaWQgMCkge1xyXG4gICAgICBmb3IgKGogPSBrOyB0LmRbal0gPT09IHUuZFtqXSAmJiBqLS07KTtcclxuICAgICAgaWYgKGogPT0gLTEpIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGogPSB1O1xyXG4gICAgdSA9IHk7XHJcbiAgICB5ID0gdDtcclxuICAgIHQgPSBqO1xyXG4gICAgaSsrO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIHQuZC5sZW5ndGggPSBrICsgMTtcclxuXHJcbiAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcblxyXG4vLyBFeHBvbmVudCBlIG11c3QgYmUgcG9zaXRpdmUgYW5kIG5vbi16ZXJvLlxyXG5mdW5jdGlvbiB0aW55UG93KGIsIGUpIHtcclxuICB2YXIgbiA9IGI7XHJcbiAgd2hpbGUgKC0tZSkgbiAqPSBiO1xyXG4gIHJldHVybiBuO1xyXG59XHJcblxyXG5cclxuLy8gUmV0dXJuIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBgeGAgcmVkdWNlZCB0byBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gaGFsZiBwaS5cclxuZnVuY3Rpb24gdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSB7XHJcbiAgdmFyIHQsXHJcbiAgICBpc05lZyA9IHgucyA8IDAsXHJcbiAgICBwaSA9IGdldFBpKEN0b3IsIEN0b3IucHJlY2lzaW9uLCAxKSxcclxuICAgIGhhbGZQaSA9IHBpLnRpbWVzKDAuNSk7XHJcblxyXG4gIHggPSB4LmFicygpO1xyXG5cclxuICBpZiAoeC5sdGUoaGFsZlBpKSkge1xyXG4gICAgcXVhZHJhbnQgPSBpc05lZyA/IDQgOiAxO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICB0ID0geC5kaXZUb0ludChwaSk7XHJcblxyXG4gIGlmICh0LmlzWmVybygpKSB7XHJcbiAgICBxdWFkcmFudCA9IGlzTmVnID8gMyA6IDI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHggPSB4Lm1pbnVzKHQudGltZXMocGkpKTtcclxuXHJcbiAgICAvLyAwIDw9IHggPCBwaVxyXG4gICAgaWYgKHgubHRlKGhhbGZQaSkpIHtcclxuICAgICAgcXVhZHJhbnQgPSBpc09kZCh0KSA/IChpc05lZyA/IDIgOiAzKSA6IChpc05lZyA/IDQgOiAxKTtcclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgcXVhZHJhbnQgPSBpc09kZCh0KSA/IChpc05lZyA/IDEgOiA0KSA6IChpc05lZyA/IDMgOiAyKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4Lm1pbnVzKHBpKS5hYnMoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgRGVjaW1hbCBgeGAgYXMgYSBzdHJpbmcgaW4gYmFzZSBgYmFzZU91dGAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgaW5jbHVkZSBhIGJpbmFyeSBleHBvbmVudCBzdWZmaXguXHJcbiAqL1xyXG5mdW5jdGlvbiB0b1N0cmluZ0JpbmFyeSh4LCBiYXNlT3V0LCBzZCwgcm0pIHtcclxuICB2YXIgYmFzZSwgZSwgaSwgaywgbGVuLCByb3VuZFVwLCBzdHIsIHhkLCB5LFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBpc0V4cCA9IHNkICE9PSB2b2lkIDA7XHJcblxyXG4gIGlmIChpc0V4cCkge1xyXG4gICAgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2QgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB9XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSB7XHJcbiAgICBzdHIgPSBub25GaW5pdGVUb1N0cmluZyh4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgICBpID0gc3RyLmluZGV4T2YoJy4nKTtcclxuXHJcbiAgICAvLyBVc2UgZXhwb25lbnRpYWwgbm90YXRpb24gYWNjb3JkaW5nIHRvIGB0b0V4cFBvc2AgYW5kIGB0b0V4cE5lZ2A/IE5vLCBidXQgaWYgcmVxdWlyZWQ6XHJcbiAgICAvLyBtYXhCaW5hcnlFeHBvbmVudCA9IGZsb29yKChkZWNpbWFsRXhwb25lbnQgKyAxKSAqIGxvZ1syXSgxMCkpXHJcbiAgICAvLyBtaW5CaW5hcnlFeHBvbmVudCA9IGZsb29yKGRlY2ltYWxFeHBvbmVudCAqIGxvZ1syXSgxMCkpXHJcbiAgICAvLyBsb2dbMl0oMTApID0gMy4zMjE5MjgwOTQ4ODczNjIzNDc4NzAzMTk0Mjk0ODkzOTAxNzU4NjRcclxuXHJcbiAgICBpZiAoaXNFeHApIHtcclxuICAgICAgYmFzZSA9IDI7XHJcbiAgICAgIGlmIChiYXNlT3V0ID09IDE2KSB7XHJcbiAgICAgICAgc2QgPSBzZCAqIDQgLSAzO1xyXG4gICAgICB9IGVsc2UgaWYgKGJhc2VPdXQgPT0gOCkge1xyXG4gICAgICAgIHNkID0gc2QgKiAzIC0gMjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZSA9IGJhc2VPdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGFuIGludGVnZXIgdGhlbiBkaXZpZGUgdGhlIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlciBzdWNoXHJcbiAgICAvLyB0aGF0IHRoZSBmcmFjdGlvbiBwYXJ0IHdpbGwgYmUgcmVzdG9yZWQuXHJcblxyXG4gICAgLy8gTm9uLWludGVnZXIuXHJcbiAgICBpZiAoaSA+PSAwKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICB5ID0gbmV3IEN0b3IoMSk7XHJcbiAgICAgIHkuZSA9IHN0ci5sZW5ndGggLSBpO1xyXG4gICAgICB5LmQgPSBjb252ZXJ0QmFzZShmaW5pdGVUb1N0cmluZyh5KSwgMTAsIGJhc2UpO1xyXG4gICAgICB5LmUgPSB5LmQubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHhkID0gY29udmVydEJhc2Uoc3RyLCAxMCwgYmFzZSk7XHJcbiAgICBlID0gbGVuID0geGQubGVuZ3RoO1xyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyB4ZFstLWxlbl0gPT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICAgIGlmICgheGRbMF0pIHtcclxuICAgICAgc3RyID0gaXNFeHAgPyAnMHArMCcgOiAnMCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBlLS07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeCA9IG5ldyBDdG9yKHgpO1xyXG4gICAgICAgIHguZCA9IHhkO1xyXG4gICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgeCA9IGRpdmlkZSh4LCB5LCBzZCwgcm0sIDAsIGJhc2UpO1xyXG4gICAgICAgIHhkID0geC5kO1xyXG4gICAgICAgIGUgPSB4LmU7XHJcbiAgICAgICAgcm91bmRVcCA9IGluZXhhY3Q7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIGkgPSB4ZFtzZF07XHJcbiAgICAgIGsgPSBiYXNlIC8gMjtcclxuICAgICAgcm91bmRVcCA9IHJvdW5kVXAgfHwgeGRbc2QgKyAxXSAhPT0gdm9pZCAwO1xyXG5cclxuICAgICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICAgID8gKGkgIT09IHZvaWQgMCB8fCByb3VuZFVwKSAmJiAocm0gPT09IDAgfHwgcm0gPT09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgIDogaSA+IGsgfHwgaSA9PT0gayAmJiAocm0gPT09IDQgfHwgcm91bmRVcCB8fCBybSA9PT0gNiAmJiB4ZFtzZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgcm0gPT09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgIHhkLmxlbmd0aCA9IHNkO1xyXG5cclxuICAgICAgaWYgKHJvdW5kVXApIHtcclxuXHJcbiAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICBmb3IgKDsgKyt4ZFstLXNkXSA+IGJhc2UgLSAxOykge1xyXG4gICAgICAgICAgeGRbc2RdID0gMDtcclxuICAgICAgICAgIGlmICghc2QpIHtcclxuICAgICAgICAgICAgKytlO1xyXG4gICAgICAgICAgICB4ZC51bnNoaWZ0KDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAvLyBFLmcuIFs0LCAxMSwgMTVdIGJlY29tZXMgNGJmLlxyXG4gICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8IGxlbjsgaSsrKSBzdHIgKz0gTlVNRVJBTFMuY2hhckF0KHhkW2ldKTtcclxuXHJcbiAgICAgIC8vIEFkZCBiaW5hcnkgZXhwb25lbnQgc3VmZml4P1xyXG4gICAgICBpZiAoaXNFeHApIHtcclxuICAgICAgICBpZiAobGVuID4gMSkge1xyXG4gICAgICAgICAgaWYgKGJhc2VPdXQgPT0gMTYgfHwgYmFzZU91dCA9PSA4KSB7XHJcbiAgICAgICAgICAgIGkgPSBiYXNlT3V0ID09IDE2ID8gNCA6IDM7XHJcbiAgICAgICAgICAgIGZvciAoLS1sZW47IGxlbiAlIGk7IGxlbisrKSBzdHIgKz0gJzAnO1xyXG4gICAgICAgICAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgYmFzZSwgYmFzZU91dCk7XHJcbiAgICAgICAgICAgIGZvciAobGVuID0geGQubGVuZ3RoOyAheGRbbGVuIC0gMV07IC0tbGVuKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHhkWzBdIHdpbGwgYWx3YXlzIGJlIGJlIDFcclxuICAgICAgICAgICAgZm9yIChpID0gMSwgc3RyID0gJzEuJzsgaSA8IGxlbjsgaSsrKSBzdHIgKz0gTlVNRVJBTFMuY2hhckF0KHhkW2ldKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHIgPSAgc3RyICsgKGUgPCAwID8gJ3AnIDogJ3ArJykgKyBlO1xyXG4gICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICAgICAgZm9yICg7ICsrZTspIHN0ciA9ICcwJyArIHN0cjtcclxuICAgICAgICBzdHIgPSAnMC4nICsgc3RyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICgrK2UgPiBsZW4pIGZvciAoZSAtPSBsZW47IGUtLSA7KSBzdHIgKz0gJzAnO1xyXG4gICAgICAgIGVsc2UgaWYgKGUgPCBsZW4pIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IChiYXNlT3V0ID09IDE2ID8gJzB4JyA6IGJhc2VPdXQgPT0gMiA/ICcwYicgOiBiYXNlT3V0ID09IDggPyAnMG8nIDogJycpICsgc3RyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHgucyA8IDAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBEb2VzIG5vdCBzdHJpcCB0cmFpbGluZyB6ZXJvcy5cclxuZnVuY3Rpb24gdHJ1bmNhdGUoYXJyLCBsZW4pIHtcclxuICBpZiAoYXJyLmxlbmd0aCA+IGxlbikge1xyXG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIERlY2ltYWwgbWV0aG9kc1xyXG5cclxuXHJcbi8qXHJcbiAqICBhYnNcclxuICogIGFjb3NcclxuICogIGFjb3NoXHJcbiAqICBhZGRcclxuICogIGFzaW5cclxuICogIGFzaW5oXHJcbiAqICBhdGFuXHJcbiAqICBhdGFuaFxyXG4gKiAgYXRhbjJcclxuICogIGNicnRcclxuICogIGNlaWxcclxuICogIGNsb25lXHJcbiAqICBjb25maWdcclxuICogIGNvc1xyXG4gKiAgY29zaFxyXG4gKiAgZGl2XHJcbiAqICBleHBcclxuICogIGZsb29yXHJcbiAqICBoeXBvdFxyXG4gKiAgbG5cclxuICogIGxvZ1xyXG4gKiAgbG9nMlxyXG4gKiAgbG9nMTBcclxuICogIG1heFxyXG4gKiAgbWluXHJcbiAqICBtb2RcclxuICogIG11bFxyXG4gKiAgcG93XHJcbiAqICByYW5kb21cclxuICogIHJvdW5kXHJcbiAqICBzZXRcclxuICogIHNpZ25cclxuICogIHNpblxyXG4gKiAgc2luaFxyXG4gKiAgc3FydFxyXG4gKiAgc3ViXHJcbiAqICB0YW5cclxuICogIHRhbmhcclxuICogIHRydW5jXHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBgeGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFicyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFicygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY2Nvc2luZSBpbiByYWRpYW5zIG9mIGB4YC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWNvcyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFjb3MoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhY29zaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFjb3NoKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3VtIG9mIGB4YCBhbmQgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWRkKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkucGx1cyh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNzaW5lIGluIHJhZGlhbnMgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFzaW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hc2luKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFzaW5oKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IGluIHJhZGlhbnMgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGF0YW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hdGFuKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGF0YW5oKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IGluIHJhZGlhbnMgb2YgYHkveGAgaW4gdGhlIHJhbmdlIC1waSB0byBwaVxyXG4gKiAoaW5jbHVzaXZlKSwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1waSwgcGldXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHktY29vcmRpbmF0ZS5cclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgeC1jb29yZGluYXRlLlxyXG4gKlxyXG4gKiBhdGFuMijCsTAsIC0wKSAgICAgICAgICAgICAgID0gwrFwaVxyXG4gKiBhdGFuMijCsTAsICswKSAgICAgICAgICAgICAgID0gwrEwXHJcbiAqIGF0YW4yKMKxMCwgLXgpICAgICAgICAgICAgICAgPSDCsXBpIGZvciB4ID4gMFxyXG4gKiBhdGFuMijCsTAsIHgpICAgICAgICAgICAgICAgID0gwrEwIGZvciB4ID4gMFxyXG4gKiBhdGFuMigteSwgwrEwKSAgICAgICAgICAgICAgID0gLXBpLzIgZm9yIHkgPiAwXHJcbiAqIGF0YW4yKHksIMKxMCkgICAgICAgICAgICAgICAgPSBwaS8yIGZvciB5ID4gMFxyXG4gKiBhdGFuMijCsXksIC1JbmZpbml0eSkgICAgICAgID0gwrFwaSBmb3IgZmluaXRlIHkgPiAwXHJcbiAqIGF0YW4yKMKxeSwgK0luZmluaXR5KSAgICAgICAgPSDCsTAgZm9yIGZpbml0ZSB5ID4gMFxyXG4gKiBhdGFuMijCsUluZmluaXR5LCB4KSAgICAgICAgID0gwrFwaS8yIGZvciBmaW5pdGUgeFxyXG4gKiBhdGFuMijCsUluZmluaXR5LCAtSW5maW5pdHkpID0gwrEzKnBpLzRcclxuICogYXRhbjIowrFJbmZpbml0eSwgK0luZmluaXR5KSA9IMKxcGkvNFxyXG4gKiBhdGFuMihOYU4sIHgpID0gTmFOXHJcbiAqIGF0YW4yKHksIE5hTikgPSBOYU5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGF0YW4yKHksIHgpIHtcclxuICB5ID0gbmV3IHRoaXMoeSk7XHJcbiAgeCA9IG5ldyB0aGlzKHgpO1xyXG4gIHZhciByLFxyXG4gICAgcHIgPSB0aGlzLnByZWNpc2lvbixcclxuICAgIHJtID0gdGhpcy5yb3VuZGluZyxcclxuICAgIHdwciA9IHByICsgNDtcclxuXHJcbiAgLy8gRWl0aGVyIE5hTlxyXG4gIGlmICgheS5zIHx8ICF4LnMpIHtcclxuICAgIHIgPSBuZXcgdGhpcyhOYU4pO1xyXG5cclxuICAvLyBCb3RoIMKxSW5maW5pdHlcclxuICB9IGVsc2UgaWYgKCF5LmQgJiYgIXguZCkge1xyXG4gICAgciA9IGdldFBpKHRoaXMsIHdwciwgMSkudGltZXMoeC5zID4gMCA/IDAuMjUgOiAwLjc1KTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8geCBpcyDCsUluZmluaXR5IG9yIHkgaXMgwrEwXHJcbiAgfSBlbHNlIGlmICgheC5kIHx8IHkuaXNaZXJvKCkpIHtcclxuICAgIHIgPSB4LnMgPCAwID8gZ2V0UGkodGhpcywgcHIsIHJtKSA6IG5ldyB0aGlzKDApO1xyXG4gICAgci5zID0geS5zO1xyXG5cclxuICAvLyB5IGlzIMKxSW5maW5pdHkgb3IgeCBpcyDCsTBcclxuICB9IGVsc2UgaWYgKCF5LmQgfHwgeC5pc1plcm8oKSkge1xyXG4gICAgciA9IGdldFBpKHRoaXMsIHdwciwgMSkudGltZXMoMC41KTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8gQm90aCBub24temVybyBhbmQgZmluaXRlXHJcbiAgfSBlbHNlIGlmICh4LnMgPCAwKSB7XHJcbiAgICB0aGlzLnByZWNpc2lvbiA9IHdwcjtcclxuICAgIHRoaXMucm91bmRpbmcgPSAxO1xyXG4gICAgciA9IHRoaXMuYXRhbihkaXZpZGUoeSwgeCwgd3ByLCAxKSk7XHJcbiAgICB4ID0gZ2V0UGkodGhpcywgd3ByLCAxKTtcclxuICAgIHRoaXMucHJlY2lzaW9uID0gcHI7XHJcbiAgICB0aGlzLnJvdW5kaW5nID0gcm07XHJcbiAgICByID0geS5zIDwgMCA/IHIubWludXMoeCkgOiByLnBsdXMoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSB0aGlzLmF0YW4oZGl2aWRlKHksIHgsIHdwciwgMSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY3ViZSByb290IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjYnJ0KHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY2JydCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kZWQgdG8gYW4gaW50ZWdlciB1c2luZyBgUk9VTkRfQ0VJTGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNlaWwoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDIpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogQ29uZmlndXJlIGdsb2JhbCBzZXR0aW5ncyBmb3IgYSBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiBgb2JqYCBpcyBhbiBvYmplY3Qgd2l0aCBvbmUgb3IgbW9yZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMsXHJcbiAqXHJcbiAqICAgcHJlY2lzaW9uICB7bnVtYmVyfVxyXG4gKiAgIHJvdW5kaW5nICAge251bWJlcn1cclxuICogICB0b0V4cE5lZyAgIHtudW1iZXJ9XHJcbiAqICAgdG9FeHBQb3MgICB7bnVtYmVyfVxyXG4gKiAgIG1heEUgICAgICAge251bWJlcn1cclxuICogICBtaW5FICAgICAgIHtudW1iZXJ9XHJcbiAqICAgbW9kdWxvICAgICB7bnVtYmVyfVxyXG4gKiAgIGNyeXB0byAgICAge2Jvb2xlYW58bnVtYmVyfVxyXG4gKiAgIGRlZmF1bHRzICAge3RydWV9XHJcbiAqXHJcbiAqIEUuZy4gRGVjaW1hbC5jb25maWcoeyBwcmVjaXNpb246IDIwLCByb3VuZGluZzogNCB9KVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29uZmlnKG9iaikge1xyXG4gIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB0aHJvdyBFcnJvcihkZWNpbWFsRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkJyk7XHJcbiAgdmFyIGksIHAsIHYsXHJcbiAgICB1c2VEZWZhdWx0cyA9IG9iai5kZWZhdWx0cyA9PT0gdHJ1ZSxcclxuICAgIHBzID0gW1xyXG4gICAgICAncHJlY2lzaW9uJywgMSwgTUFYX0RJR0lUUyxcclxuICAgICAgJ3JvdW5kaW5nJywgMCwgOCxcclxuICAgICAgJ3RvRXhwTmVnJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgJ3RvRXhwUG9zJywgMCwgRVhQX0xJTUlULFxyXG4gICAgICAnbWF4RScsIDAsIEVYUF9MSU1JVCxcclxuICAgICAgJ21pbkUnLCAtRVhQX0xJTUlULCAwLFxyXG4gICAgICAnbW9kdWxvJywgMCwgOVxyXG4gICAgXTtcclxuXHJcbiAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICBpZiAocCA9IHBzW2ldLCB1c2VEZWZhdWx0cykgdGhpc1twXSA9IERFRkFVTFRTW3BdO1xyXG4gICAgaWYgKCh2ID0gb2JqW3BdKSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgIGlmIChtYXRoZmxvb3IodikgPT09IHYgJiYgdiA+PSBwc1tpICsgMV0gJiYgdiA8PSBwc1tpICsgMl0pIHRoaXNbcF0gPSB2O1xyXG4gICAgICBlbHNlIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHAgKyAnOiAnICsgdik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAocCA9ICdjcnlwdG8nLCB1c2VEZWZhdWx0cykgdGhpc1twXSA9IERFRkFVTFRTW3BdO1xyXG4gIGlmICgodiA9IG9ialtwXSkgIT09IHZvaWQgMCkge1xyXG4gICAgaWYgKHYgPT09IHRydWUgfHwgdiA9PT0gZmFsc2UgfHwgdiA9PT0gMCB8fCB2ID09PSAxKSB7XHJcbiAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvICYmXHJcbiAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB8fCBjcnlwdG8ucmFuZG9tQnl0ZXMpKSB7XHJcbiAgICAgICAgICB0aGlzW3BdID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3IoY3J5cHRvVW5hdmFpbGFibGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzW3BdID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHAgKyAnOiAnICsgdik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29zKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY29zKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvIHByZWNpc2lvblxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvc2goeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5jb3NoKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIERlY2ltYWwgY29uc3RydWN0b3Igd2l0aCB0aGUgc2FtZSBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgYXMgdGhpcyBEZWNpbWFsXHJcbiAqIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2xvbmUob2JqKSB7XHJcbiAgdmFyIGksIHAsIHBzO1xyXG5cclxuICAvKlxyXG4gICAqIFRoZSBEZWNpbWFsIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCBpbnN0YW5jZS5cclxuICAgKlxyXG4gICAqIHYge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSBudW1lcmljIHZhbHVlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gRGVjaW1hbCh2KSB7XHJcbiAgICB2YXIgZSwgaSwgdCxcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgLy8gRGVjaW1hbCBjYWxsZWQgd2l0aG91dCBuZXcuXHJcbiAgICBpZiAoISh4IGluc3RhbmNlb2YgRGVjaW1hbCkpIHJldHVybiBuZXcgRGVjaW1hbCh2KTtcclxuXHJcbiAgICAvLyBSZXRhaW4gYSByZWZlcmVuY2UgdG8gdGhpcyBEZWNpbWFsIGNvbnN0cnVjdG9yLCBhbmQgc2hhZG93IERlY2ltYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yXHJcbiAgICAvLyB3aGljaCBwb2ludHMgdG8gT2JqZWN0LlxyXG4gICAgeC5jb25zdHJ1Y3RvciA9IERlY2ltYWw7XHJcblxyXG4gICAgLy8gRHVwbGljYXRlLlxyXG4gICAgaWYgKHYgaW5zdGFuY2VvZiBEZWNpbWFsKSB7XHJcbiAgICAgIHgucyA9IHYucztcclxuXHJcbiAgICAgIGlmIChleHRlcm5hbCkge1xyXG4gICAgICAgIGlmICghdi5kIHx8IHYuZSA+IERlY2ltYWwubWF4RSkge1xyXG5cclxuICAgICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHYuZSA8IERlY2ltYWwubWluRSkge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgICB4LmQgPSB2LmQuc2xpY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgIHguZCA9IHYuZCA/IHYuZC5zbGljZSgpIDogdi5kO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdCA9IHR5cGVvZiB2O1xyXG5cclxuICAgIGlmICh0ID09PSAnbnVtYmVyJykge1xyXG4gICAgICBpZiAodiA9PT0gMCkge1xyXG4gICAgICAgIHgucyA9IDEgLyB2IDwgMCA/IC0xIDogMTtcclxuICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2IDwgMCkge1xyXG4gICAgICAgIHYgPSAtdjtcclxuICAgICAgICB4LnMgPSAtMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LnMgPSAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGYXN0IHBhdGggZm9yIHNtYWxsIGludGVnZXJzLlxyXG4gICAgICBpZiAodiA9PT0gfn52ICYmIHYgPCAxZTcpIHtcclxuICAgICAgICBmb3IgKGUgPSAwLCBpID0gdjsgaSA+PSAxMDsgaSAvPSAxMCkgZSsrO1xyXG5cclxuICAgICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuICAgICAgICAgIGlmIChlID4gRGVjaW1hbC5tYXhFKSB7XHJcbiAgICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZSA8IERlY2ltYWwubWluRSkge1xyXG4gICAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgICB4LmQgPSBbdl07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICB4LmQgPSBbdl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAvLyBJbmZpbml0eSwgTmFOLlxyXG4gICAgICB9IGVsc2UgaWYgKHYgKiAwICE9PSAwKSB7XHJcbiAgICAgICAgaWYgKCF2KSB4LnMgPSBOYU47XHJcbiAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcGFyc2VEZWNpbWFsKHgsIHYudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgfSBlbHNlIGlmICh0ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyB2KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNaW51cyBzaWduP1xyXG4gICAgaWYgKChpID0gdi5jaGFyQ29kZUF0KDApKSA9PT0gNDUpIHtcclxuICAgICAgdiA9IHYuc2xpY2UoMSk7XHJcbiAgICAgIHgucyA9IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUGx1cyBzaWduP1xyXG4gICAgICBpZiAoaSA9PT0gNDMpIHYgPSB2LnNsaWNlKDEpO1xyXG4gICAgICB4LnMgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0RlY2ltYWwudGVzdCh2KSA/IHBhcnNlRGVjaW1hbCh4LCB2KSA6IHBhcnNlT3RoZXIoeCwgdik7XHJcbiAgfVxyXG5cclxuICBEZWNpbWFsLnByb3RvdHlwZSA9IFA7XHJcblxyXG4gIERlY2ltYWwuUk9VTkRfVVAgPSAwO1xyXG4gIERlY2ltYWwuUk9VTkRfRE9XTiA9IDE7XHJcbiAgRGVjaW1hbC5ST1VORF9DRUlMID0gMjtcclxuICBEZWNpbWFsLlJPVU5EX0ZMT09SID0gMztcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfVVAgPSA0O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRVZFTiA9IDY7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0NFSUwgPSA3O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgRGVjaW1hbC5FVUNMSUQgPSA5O1xyXG5cclxuICBEZWNpbWFsLmNvbmZpZyA9IERlY2ltYWwuc2V0ID0gY29uZmlnO1xyXG4gIERlY2ltYWwuY2xvbmUgPSBjbG9uZTtcclxuICBEZWNpbWFsLmlzRGVjaW1hbCA9IGlzRGVjaW1hbEluc3RhbmNlO1xyXG5cclxuICBEZWNpbWFsLmFicyA9IGFicztcclxuICBEZWNpbWFsLmFjb3MgPSBhY29zO1xyXG4gIERlY2ltYWwuYWNvc2ggPSBhY29zaDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuYWRkID0gYWRkO1xyXG4gIERlY2ltYWwuYXNpbiA9IGFzaW47XHJcbiAgRGVjaW1hbC5hc2luaCA9IGFzaW5oOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5hdGFuID0gYXRhbjtcclxuICBEZWNpbWFsLmF0YW5oID0gYXRhbmg7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmF0YW4yID0gYXRhbjI7XHJcbiAgRGVjaW1hbC5jYnJ0ID0gY2JydDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5jZWlsID0gY2VpbDtcclxuICBEZWNpbWFsLmNvcyA9IGNvcztcclxuICBEZWNpbWFsLmNvc2ggPSBjb3NoOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmRpdiA9IGRpdjtcclxuICBEZWNpbWFsLmV4cCA9IGV4cDtcclxuICBEZWNpbWFsLmZsb29yID0gZmxvb3I7XHJcbiAgRGVjaW1hbC5oeXBvdCA9IGh5cG90OyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5sbiA9IGxuO1xyXG4gIERlY2ltYWwubG9nID0gbG9nO1xyXG4gIERlY2ltYWwubG9nMTAgPSBsb2cxMDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubG9nMiA9IGxvZzI7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubWF4ID0gbWF4O1xyXG4gIERlY2ltYWwubWluID0gbWluO1xyXG4gIERlY2ltYWwubW9kID0gbW9kO1xyXG4gIERlY2ltYWwubXVsID0gbXVsO1xyXG4gIERlY2ltYWwucG93ID0gcG93O1xyXG4gIERlY2ltYWwucmFuZG9tID0gcmFuZG9tO1xyXG4gIERlY2ltYWwucm91bmQgPSByb3VuZDtcclxuICBEZWNpbWFsLnNpZ24gPSBzaWduOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnNpbiA9IHNpbjtcclxuICBEZWNpbWFsLnNpbmggPSBzaW5oOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnNxcnQgPSBzcXJ0O1xyXG4gIERlY2ltYWwuc3ViID0gc3ViO1xyXG4gIERlY2ltYWwudGFuID0gdGFuO1xyXG4gIERlY2ltYWwudGFuaCA9IHRhbmg7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwudHJ1bmMgPSB0cnVuYzsgICAgICAgIC8vIEVTNlxyXG5cclxuICBpZiAob2JqID09PSB2b2lkIDApIG9iaiA9IHt9O1xyXG4gIGlmIChvYmopIHtcclxuICAgIGlmIChvYmouZGVmYXVsdHMgIT09IHRydWUpIHtcclxuICAgICAgcHMgPSBbJ3ByZWNpc2lvbicsICdyb3VuZGluZycsICd0b0V4cE5lZycsICd0b0V4cFBvcycsICdtYXhFJywgJ21pbkUnLCAnbW9kdWxvJywgJ2NyeXB0byddO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcHMubGVuZ3RoOykgaWYgKCFvYmouaGFzT3duUHJvcGVydHkocCA9IHBzW2krK10pKSBvYmpbcF0gPSB0aGlzW3BdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgRGVjaW1hbC5jb25maWcob2JqKTtcclxuXHJcbiAgcmV0dXJuIERlY2ltYWw7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkaXYoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5kaXYoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBleHBvbmVudGlhbCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgcG93ZXIgdG8gd2hpY2ggdG8gcmFpc2UgdGhlIGJhc2Ugb2YgdGhlIG5hdHVyYWwgbG9nLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZXhwKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuZXhwKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmQgdG8gYW4gaW50ZWdlciB1c2luZyBgUk9VTkRfRkxPT1JgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBmbG9vcih4KSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHN1bSBvZiB0aGUgc3F1YXJlcyBvZiB0aGUgYXJndW1lbnRzLFxyXG4gKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIGh5cG90KGEsIGIsIC4uLikgPSBzcXJ0KGFeMiArIGJeMiArIC4uLilcclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBoeXBvdCgpIHtcclxuICB2YXIgaSwgbixcclxuICAgIHQgPSBuZXcgdGhpcygwKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7KSB7XHJcbiAgICBuID0gbmV3IHRoaXMoYXJndW1lbnRzW2krK10pO1xyXG4gICAgaWYgKCFuLmQpIHtcclxuICAgICAgaWYgKG4ucykge1xyXG4gICAgICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoMSAvIDApO1xyXG4gICAgICB9XHJcbiAgICAgIHQgPSBuO1xyXG4gICAgfSBlbHNlIGlmICh0LmQpIHtcclxuICAgICAgdCA9IHQucGx1cyhuLnRpbWVzKG4pKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHQuc3FydCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgb2JqZWN0IGlzIGEgRGVjaW1hbCBpbnN0YW5jZSAod2hlcmUgRGVjaW1hbCBpcyBhbnkgRGVjaW1hbCBjb25zdHJ1Y3RvciksXHJcbiAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RlY2ltYWxJbnN0YW5jZShvYmopIHtcclxuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRGVjaW1hbCB8fCBvYmogJiYgb2JqLm5hbWUgPT09ICdbb2JqZWN0IERlY2ltYWxdJyB8fCBmYWxzZTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGxvZyBvZiBgeGAgdG8gdGhlIGJhc2UgYHlgLCBvciB0byBiYXNlIDEwIGlmIG5vIGJhc2VcclxuICogaXMgc3BlY2lmaWVkLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIGxvZ1t5XSh4KVxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBhcmd1bWVudCBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2coeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAyIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nMih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmxvZygyKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBiYXNlIDEwIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nMTAoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMTApO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXgoKSB7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2x0Jyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG1pbigpIHtcclxuICByZXR1cm4gbWF4T3JNaW4odGhpcywgYXJndW1lbnRzLCAnZ3QnKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtb2R1bG8gYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbW9kKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubW9kKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIG11bHRpcGxpZWQgYnkgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbXVsKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubXVsKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJhaXNlZCB0byB0aGUgcG93ZXIgYHlgLCByb3VuZGVkIHRvIHByZWNpc2lvblxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlLlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBleHBvbmVudC5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHBvdyh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnBvdyh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybnMgYSBuZXcgRGVjaW1hbCB3aXRoIGEgcmFuZG9tIHZhbHVlIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMSwgYW5kIHdpdGhcclxuICogYHNkYCwgb3IgYERlY2ltYWwucHJlY2lzaW9uYCBpZiBgc2RgIGlzIG9taXR0ZWQsIHNpZ25pZmljYW50IGRpZ2l0cyAob3IgbGVzcyBpZiB0cmFpbGluZyB6ZXJvc1xyXG4gKiBhcmUgcHJvZHVjZWQpLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbShzZCkge1xyXG4gIHZhciBkLCBlLCBrLCBuLFxyXG4gICAgaSA9IDAsXHJcbiAgICByID0gbmV3IHRoaXMoMSksXHJcbiAgICByZCA9IFtdO1xyXG5cclxuICBpZiAoc2QgPT09IHZvaWQgMCkgc2QgPSB0aGlzLnByZWNpc2lvbjtcclxuICBlbHNlIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICBrID0gTWF0aC5jZWlsKHNkIC8gTE9HX0JBU0UpO1xyXG5cclxuICBpZiAoIXRoaXMuY3J5cHRvKSB7XHJcbiAgICBmb3IgKDsgaSA8IGs7KSByZFtpKytdID0gTWF0aC5yYW5kb20oKSAqIDFlNyB8IDA7XHJcblxyXG4gIC8vIEJyb3dzZXJzIHN1cHBvcnRpbmcgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5cclxuICB9IGVsc2UgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuICAgIGQgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheShrKSk7XHJcblxyXG4gICAgZm9yICg7IGkgPCBrOykge1xyXG4gICAgICBuID0gZFtpXTtcclxuXHJcbiAgICAgIC8vIDAgPD0gbiA8IDQyOTQ5NjcyOTZcclxuICAgICAgLy8gUHJvYmFiaWxpdHkgbiA+PSA0LjI5ZTksIGlzIDQ5NjcyOTYgLyA0Mjk0OTY3Mjk2ID0gMC4wMDExNiAoMSBpbiA4NjUpLlxyXG4gICAgICBpZiAobiA+PSA0LjI5ZTkpIHtcclxuICAgICAgICBkW2ldID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyAwIDw9IG4gPD0gNDI4OTk5OTk5OVxyXG4gICAgICAgIC8vIDAgPD0gKG4gJSAxZTcpIDw9IDk5OTk5OTlcclxuICAgICAgICByZFtpKytdID0gbiAlIDFlNztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAvLyBOb2RlLmpzIHN1cHBvcnRpbmcgY3J5cHRvLnJhbmRvbUJ5dGVzLlxyXG4gIH0gZWxzZSBpZiAoY3J5cHRvLnJhbmRvbUJ5dGVzKSB7XHJcblxyXG4gICAgLy8gYnVmZmVyXHJcbiAgICBkID0gY3J5cHRvLnJhbmRvbUJ5dGVzKGsgKj0gNCk7XHJcblxyXG4gICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgLy8gMCA8PSBuIDwgMjE0NzQ4MzY0OFxyXG4gICAgICBuID0gZFtpXSArIChkW2kgKyAxXSA8PCA4KSArIChkW2kgKyAyXSA8PCAxNikgKyAoKGRbaSArIDNdICYgMHg3ZikgPDwgMjQpO1xyXG5cclxuICAgICAgLy8gUHJvYmFiaWxpdHkgbiA+PSAyLjE0ZTksIGlzIDc0ODM2NDggLyAyMTQ3NDgzNjQ4ID0gMC4wMDM1ICgxIGluIDI4NikuXHJcbiAgICAgIGlmIChuID49IDIuMTRlOSkge1xyXG4gICAgICAgIGNyeXB0by5yYW5kb21CeXRlcyg0KS5jb3B5KGQsIGkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyAwIDw9IG4gPD0gMjEzOTk5OTk5OVxyXG4gICAgICAgIC8vIDAgPD0gKG4gJSAxZTcpIDw9IDk5OTk5OTlcclxuICAgICAgICByZC5wdXNoKG4gJSAxZTcpO1xyXG4gICAgICAgIGkgKz0gNDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGkgPSBrIC8gNDtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgRXJyb3IoY3J5cHRvVW5hdmFpbGFibGUpO1xyXG4gIH1cclxuXHJcbiAgayA9IHJkWy0taV07XHJcbiAgc2QgJT0gTE9HX0JBU0U7XHJcblxyXG4gIC8vIENvbnZlcnQgdHJhaWxpbmcgZGlnaXRzIHRvIHplcm9zIGFjY29yZGluZyB0byBzZC5cclxuICBpZiAoayAmJiBzZCkge1xyXG4gICAgbiA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gc2QpO1xyXG4gICAgcmRbaV0gPSAoayAvIG4gfCAwKSAqIG47XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgd29yZHMgd2hpY2ggYXJlIHplcm8uXHJcbiAgZm9yICg7IHJkW2ldID09PSAwOyBpLS0pIHJkLnBvcCgpO1xyXG5cclxuICAvLyBaZXJvP1xyXG4gIGlmIChpIDwgMCkge1xyXG4gICAgZSA9IDA7XHJcbiAgICByZCA9IFswXTtcclxuICB9IGVsc2Uge1xyXG4gICAgZSA9IC0xO1xyXG5cclxuICAgIC8vIFJlbW92ZSBsZWFkaW5nIHdvcmRzIHdoaWNoIGFyZSB6ZXJvIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgICBmb3IgKDsgcmRbMF0gPT09IDA7IGUgLT0gTE9HX0JBU0UpIHJkLnNoaWZ0KCk7XHJcblxyXG4gICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZCBvZiByZCB0byBkZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cclxuICAgIGZvciAoayA9IDEsIG4gPSByZFswXTsgbiA+PSAxMDsgbiAvPSAxMCkgaysrO1xyXG5cclxuICAgIC8vIEFkanVzdCB0aGUgZXhwb25lbnQgZm9yIGxlYWRpbmcgemVyb3Mgb2YgdGhlIGZpcnN0IHdvcmQgb2YgcmQuXHJcbiAgICBpZiAoayA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaztcclxuICB9XHJcblxyXG4gIHIuZSA9IGU7XHJcbiAgci5kID0gcmQ7XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kZWQgdG8gYW4gaW50ZWdlciB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFRvIGVtdWxhdGUgYE1hdGgucm91bmRgLCBzZXQgcm91bmRpbmcgdG8gNyAoUk9VTkRfSEFMRl9DRUlMKS5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gcm91bmQoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIHRoaXMucm91bmRpbmcpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuXHJcbiAqICAgMSAgICBpZiB4ID4gMCxcclxuICogIC0xICAgIGlmIHggPCAwLFxyXG4gKiAgIDAgICAgaWYgeCBpcyAwLFxyXG4gKiAgLTAgICAgaWYgeCBpcyAtMCxcclxuICogICBOYU4gIG90aGVyd2lzZVxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzaWduKHgpIHtcclxuICB4ID0gbmV3IHRoaXMoeCk7XHJcbiAgcmV0dXJuIHguZCA/ICh4LmRbMF0gPyB4LnMgOiAwICogeC5zKSA6IHgucyB8fCBOYU47XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzaW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zaW4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnNpbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc3FydCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnNxcnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtaW51cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzdWIoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zdWIoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiB0YW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS50YW4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFuaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnRhbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCB0cnVuY2F0ZWQgdG8gYW4gaW50ZWdlci5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdHJ1bmMoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDEpO1xyXG59XHJcblxyXG5cclxuUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudG9TdHJpbmc7XHJcblBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEZWNpbWFsJztcclxuXHJcbi8vIENyZWF0ZSBhbmQgY29uZmlndXJlIGluaXRpYWwgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuZXhwb3J0IHZhciBEZWNpbWFsID0gY2xvbmUoREVGQVVMVFMpO1xyXG5cclxuLy8gQ3JlYXRlIHRoZSBpbnRlcm5hbCBjb25zdGFudHMgZnJvbSB0aGVpciBzdHJpbmcgdmFsdWVzLlxyXG5MTjEwID0gbmV3IERlY2ltYWwoTE4xMCk7XHJcblBJID0gbmV3IERlY2ltYWwoUEkpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVjaW1hbDtcclxuIiwiaW1wb3J0IERlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdCaWdOdW1iZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnP29uJywgJ2NvbmZpZyddO1xuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG9uLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjtcbiAgdmFyIEVVQ0xJRCA9IDk7IC8vIFVzZSBldWNsaWRpYW4gZGl2aXNpb24gZm9yIG1vZCBjYWxjdWxhdGlvblxuXG4gIHZhciBCaWdOdW1iZXIgPSBEZWNpbWFsLmNsb25lKHtcbiAgICBwcmVjaXNpb246IGNvbmZpZy5wcmVjaXNpb24sXG4gICAgbW9kdWxvOiBFVUNMSURcbiAgfSk7XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuICBCaWdOdW1iZXIucHJvdG90eXBlLnR5cGUgPSAnQmlnTnVtYmVyJztcbiAgQmlnTnVtYmVyLnByb3RvdHlwZS5pc0JpZ051bWJlciA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgQmlnTnVtYmVyIGNvbnRhaW5pbmdcbiAgICogdHlwZSBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJpZ051bWJlclwiLCBcInZhbHVlXCI6IFwiMC4yXCJ9YFxuICAgKi9cblxuICBCaWdOdW1iZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQmlnTnVtYmVyJyxcbiAgICAgIHZhbHVlOiB0aGlzLnRvU3RyaW5nKClcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBCaWdOdW1iZXIgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQmlnTnVtYmVyXCIsIFwidmFsdWVcIjogXCIwLjJcIn1gXG4gICAqIEByZXR1cm4ge0JpZ051bWJlcn1cbiAgICovXG5cblxuICBCaWdOdW1iZXIuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKGpzb24udmFsdWUpO1xuICB9O1xuXG4gIGlmIChvbikge1xuICAgIC8vIGxpc3RlbiBmb3IgY2hhbmdlZCBpbiB0aGUgY29uZmlndXJhdGlvbiwgYXV0b21hdGljYWxseSBhcHBseSBjaGFuZ2VkIHByZWNpc2lvblxuICAgIG9uKCdjb25maWcnLCBmdW5jdGlvbiAoY3VyciwgcHJldikge1xuICAgICAgaWYgKGN1cnIucHJlY2lzaW9uICE9PSBwcmV2LnByZWNpc2lvbikge1xuICAgICAgICBCaWdOdW1iZXIuY29uZmlnKHtcbiAgICAgICAgICBwcmVjaXNpb246IGN1cnIucHJlY2lzaW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIEJpZ051bWJlcjtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiLyoqXG4gKiBAbGljZW5zZSBDb21wbGV4LmpzIHYyLjAuMTMgMTIvMDUvMjAyMFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3MgYWxsb3dzIHRoZSBtYW5pcHVsYXRpb24gb2YgY29tcGxleCBudW1iZXJzLlxuICogWW91IGNhbiBwYXNzIGEgY29tcGxleCBudW1iZXIgaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBvYmplY3QsIGRvdWJsZSwgc3RyaW5nIG9yIHR3byBpbnRlZ2VyIHBhcmFtZXRlcnMuXG4gKlxuICogT2JqZWN0IGZvcm1cbiAqIHsgcmU6IDxyZWFsPiwgaW06IDxpbWFnaW5hcnk+IH1cbiAqIHsgYXJnOiA8YW5nbGU+LCBhYnM6IDxyYWRpdXM+IH1cbiAqIHsgcGhpOiA8YW5nbGU+LCByOiA8cmFkaXVzPiB9XG4gKlxuICogQXJyYXkgLyBWZWN0b3IgZm9ybVxuICogWyByZWFsLCBpbWFnaW5hcnkgXVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiA5OS4zIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAnMjMuMTMzNycgLSBTaW1wbGUgcmVhbCBudW1iZXJcbiAqICcxNSszaScgLSBhIHNpbXBsZSBjb21wbGV4IG51bWJlclxuICogJzMtaScgLSBhIHNpbXBsZSBjb21wbGV4IG51bWJlclxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGMgPSBuZXcgQ29tcGxleCgnOTkuMys4aScpO1xuICogYy5tdWwoe3I6IDMsIGk6IDl9KS5kaXYoNC45KS5zdWIoMywgMik7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb3NoID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoTWF0aC5leHAoeCkgKyBNYXRoLmV4cCgteCkpICogMC41O1xuICB9O1xuXG4gIHZhciBzaW5oID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoTWF0aC5leHAoeCkgLSBNYXRoLmV4cCgteCkpICogMC41O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGNvcyh4KSAtIDEgdXNpbmcgVGF5bG9yIHNlcmllcyBpZiB4IGlzIHNtYWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBjb3MoeCkgLSAxXG4gICAqL1xuXG4gIHZhciBjb3NtMSA9IGZ1bmN0aW9uKHgpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLlBJLzQ7XG4gICAgaWYgKHggPCAtbGltaXQgfHwgeCA+IGxpbWl0KSB7XG4gICAgICByZXR1cm4gKE1hdGguY29zKHgpIC0gMS4wKTtcbiAgICB9XG5cbiAgICB2YXIgeHggPSB4ICogeDtcbiAgICByZXR1cm4geHggKlxuICAgICAgKC0wLjUgKyB4eCAqXG4gICAgICAgICgxLzI0ICsgeHggKlxuICAgICAgICAgICgtMS83MjAgKyB4eCAqXG4gICAgICAgICAgICAoMS80MDMyMCArIHh4ICpcbiAgICAgICAgICAgICAgKC0xLzM2Mjg4MDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgKDEvNDc5MDAxNDYwMCArIHh4ICpcbiAgICAgICAgICAgICAgICAgICgtMS84NzE3ODI5MTIwMCArIHh4ICpcbiAgICAgICAgICAgICAgICAgICAgKDEvMjA5MjI3ODk4ODgwMDApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gIH07XG5cbiAgdmFyIGh5cG90ID0gZnVuY3Rpb24oeCwgeSkge1xuXG4gICAgdmFyIGEgPSBNYXRoLmFicyh4KTtcbiAgICB2YXIgYiA9IE1hdGguYWJzKHkpO1xuXG4gICAgaWYgKGEgPCAzMDAwICYmIGIgPCAzMDAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIH1cblxuICAgIGlmIChhIDwgYikge1xuICAgICAgYSA9IGI7XG4gICAgICBiID0geCAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGIgPSB5IC8geDtcbiAgICB9XG4gICAgcmV0dXJuIGEgKiBNYXRoLnNxcnQoMSArIGIgKiBiKTtcbiAgfTtcblxuICB2YXIgcGFyc2VyX2V4aXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBTeW50YXhFcnJvcignSW52YWxpZCBQYXJhbScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGxvZyhzcXJ0KGFeMitiXjIpKSBpbiBhIHdheSB0byBhdm9pZCBvdmVyZmxvd3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGxvZ0h5cG90KGEsIGIpIHtcblxuICAgIHZhciBfYSA9IE1hdGguYWJzKGEpO1xuICAgIHZhciBfYiA9IE1hdGguYWJzKGIpO1xuXG4gICAgaWYgKGEgPT09IDApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhfYik7XG4gICAgfVxuXG4gICAgaWYgKGIgPT09IDApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhfYSk7XG4gICAgfVxuXG4gICAgaWYgKF9hIDwgMzAwMCAmJiBfYiA8IDMwMDApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhhICogYSArIGIgKiBiKSAqIDAuNTtcbiAgICB9XG5cbiAgICAvKiBJIGdvdCA0IGlkZWFzIHRvIGNvbXB1dGUgdGhpcyBwcm9wZXJ0eSB3aXRob3V0IG92ZXJmbG93OlxuICAgICAqXG4gICAgICogVGVzdGluZyAxMDAwMDAwIHRpbWVzIHdpdGggcmFuZG9tIHNhbXBsZXMgZm9yIGEsYiDiiIggWzEsIDEwMDAwMDAwMDBdIGFnYWluc3QgYSBiaWcgZGVjaW1hbCBsaWJyYXJ5IHRvIGdldCBhbiBlcnJvciBlc3RpbWF0ZVxuICAgICAqXG4gICAgICogMS4gT25seSBlbGltaW5hdGUgdGhlIHNxdWFyZSByb290OiAoT1ZFUkFMTCBFUlJPUjogMy45MTIyNDgzMDMwOTUxMTE2ZS0xMSlcblxuICAgICBNYXRoLmxvZyhhICogYSArIGIgKiBiKSAvIDJcblxuICAgICAqXG4gICAgICpcbiAgICAgKiAyLiBUcnkgdG8gdXNlIHRoZSBub24tb3ZlcmZsb3dpbmcgcHl0aGFnb3JhczogKE9WRVJBTEwgRVJST1I6IDguODg5NzYwMDM5MjEwMTU5ZS0xMClcblxuICAgICB2YXIgZm4gPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgIGEgPSBNYXRoLmFicyhhKTtcbiAgICAgYiA9IE1hdGguYWJzKGIpO1xuICAgICB2YXIgdCA9IE1hdGgubWluKGEsIGIpO1xuICAgICBhID0gTWF0aC5tYXgoYSwgYik7XG4gICAgIHQgPSB0IC8gYTtcblxuICAgICByZXR1cm4gTWF0aC5sb2coYSkgKyBNYXRoLmxvZygxICsgdCAqIHQpIC8gMjtcbiAgICAgfTtcblxuICAgICAqIDMuIEFidXNlIHRoZSBpZGVudGl0eSBjb3MoYXRhbih5L3gpID0geCAvIHNxcnQoeF4yK3leMik6IChPVkVSQUxMIEVSUk9SOiAzLjQ3ODAxNzg3MzcwMzcyMDRlLTEwKVxuXG4gICAgIE1hdGgubG9nKGEgLyBNYXRoLmNvcyhNYXRoLmF0YW4yKGIsIGEpKSlcblxuICAgICAqIDQuIFVzZSAzLiBhbmQgYXBwbHkgbG9nIHJ1bGVzOiAoT1ZFUkFMTCBFUlJPUjogMS4yMDE0MDg3NTAyNjIwODk2ZS05KVxuXG4gICAgIE1hdGgubG9nKGEpIC0gTWF0aC5sb2coTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpXG5cbiAgICAgKi9cblxuICAgIHJldHVybiBNYXRoLmxvZyhhIC8gTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpO1xuICB9XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24oYSwgYikge1xuXG4gICAgdmFyIHogPSB7J3JlJzogMCwgJ2ltJzogMH07XG5cbiAgICBpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGEgPT09IG51bGwpIHtcbiAgICAgIHpbJ3JlJ10gPVxuICAgICAgICAgICAgICB6WydpbSddID0gMDtcbiAgICB9IGVsc2UgaWYgKGIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgelsncmUnXSA9IGE7XG4gICAgICB6WydpbSddID0gYjtcbiAgICB9IGVsc2VcbiAgICAgIHN3aXRjaCAodHlwZW9mIGEpIHtcblxuICAgICAgICBjYXNlICdvYmplY3QnOlxuXG4gICAgICAgICAgaWYgKCdpbScgaW4gYSAmJiAncmUnIGluIGEpIHtcbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydyZSddO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbJ2ltJ107XG4gICAgICAgICAgfSBlbHNlIGlmICgnYWJzJyBpbiBhICYmICdhcmcnIGluIGEpIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGFbJ2FicyddKSAmJiBOdW1iZXIuaXNGaW5pdGUoYVsnYXJnJ10pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgelsncmUnXSA9IGFbJ2FicyddICogTWF0aC5jb3MoYVsnYXJnJ10pO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbJ2FicyddICogTWF0aC5zaW4oYVsnYXJnJ10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJ3InIGluIGEgJiYgJ3BoaScgaW4gYSkge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYVsnciddKSAmJiBOdW1iZXIuaXNGaW5pdGUoYVsncGhpJ10pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgelsncmUnXSA9IGFbJ3InXSAqIE1hdGguY29zKGFbJ3BoaSddKTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydyJ10gKiBNYXRoLnNpbihhWydwaGknXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhLmxlbmd0aCA9PT0gMikgeyAvLyBRdWljayBhcnJheSBjaGVja1xuICAgICAgICAgICAgelsncmUnXSA9IGFbMF07XG4gICAgICAgICAgICB6WydpbSddID0gYVsxXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcblxuICAgICAgICAgIHpbJ2ltJ10gPSAvKiB2b2lkICovXG4gICAgICAgICAgICAgICAgICB6WydyZSddID0gMDtcblxuICAgICAgICAgIHZhciB0b2tlbnMgPSBhLm1hdGNoKC9cXGQrXFwuP1xcZCplWystXT9cXGQrfFxcZCtcXC4/XFxkKnxcXC5cXGQrfC4vZyk7XG4gICAgICAgICAgdmFyIHBsdXMgPSAxO1xuICAgICAgICAgIHZhciBtaW51cyA9IDA7XG5cbiAgICAgICAgICBpZiAodG9rZW5zID09PSBudWxsKSB7XG4gICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIHZhciBjID0gdG9rZW5zW2ldO1xuXG4gICAgICAgICAgICBpZiAoYyA9PT0gJyAnIHx8IGMgPT09ICdcXHQnIHx8IGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgIC8qIHZvaWQgKi9cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJysnKSB7XG4gICAgICAgICAgICAgIHBsdXMrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgIG1pbnVzKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICdpJyB8fCBjID09PSAnSScpIHtcblxuICAgICAgICAgICAgICBpZiAocGx1cyArIG1pbnVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0b2tlbnNbaSArIDFdICE9PSAnICcgJiYgIWlzTmFOKHRva2Vuc1tpICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgelsnaW0nXSArPSBwYXJzZUZsb2F0KChtaW51cyAlIDIgPyAnLScgOiAnJykgKyB0b2tlbnNbaSArIDFdKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgelsnaW0nXSArPSBwYXJzZUZsb2F0KChtaW51cyAlIDIgPyAnLScgOiAnJykgKyAnMScpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBsdXMgPSBtaW51cyA9IDA7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA9PT0gMCB8fCBpc05hTihjKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodG9rZW5zW2kgKyAxXSA9PT0gJ2knIHx8IHRva2Vuc1tpICsgMV0gPT09ICdJJykge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgYyk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHpbJ3JlJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGx1cyA9IG1pbnVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdGlsbCBzb21ldGhpbmcgb24gdGhlIHN0YWNrXG4gICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA+IDApIHtcbiAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgelsnaW0nXSA9IDA7XG4gICAgICAgICAgelsncmUnXSA9IGE7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgfVxuXG4gICAgaWYgKGlzTmFOKHpbJ3JlJ10pIHx8IGlzTmFOKHpbJ2ltJ10pKSB7XG4gICAgICAvLyBJZiBhIGNhbGN1bGF0aW9uIGlzIE5hTiwgd2UgdHJlYXQgaXQgYXMgTmFOIGFuZCBkb24ndCB0aHJvd1xuICAgICAgLy9wYXJzZXJfZXhpdCgpO1xuICAgIH1cblxuICAgIHJldHVybiB6O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAqL1xuICBmdW5jdGlvbiBDb21wbGV4KGEsIGIpIHtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb21wbGV4KSkge1xuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KGEsIGIpO1xuICAgIH1cblxuICAgIHZhciB6ID0gcGFyc2UoYSwgYik7XG5cbiAgICB0aGlzWydyZSddID0gelsncmUnXTtcbiAgICB0aGlzWydpbSddID0gelsnaW0nXTtcbiAgfVxuXG4gIENvbXBsZXgucHJvdG90eXBlID0ge1xuXG4gICAgJ3JlJzogMCxcbiAgICAnaW0nOiAwLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc2lnbiBvZiBhIGNvbXBsZXggbnVtYmVyLCB3aGljaCBpcyBhIG5vcm1hbGl6ZWQgY29tcGxleFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NpZ24nOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGFicyA9IHRoaXNbJ2FicyddKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAvIGFicyxcbiAgICAgICAgICAgICAgdGhpc1snaW0nXSAvIGFicyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FkZCc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gSW5maW5pdHkgKyBJbmZpbml0eSA9IE5hTlxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgKyB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IEluZmluaXR5IH1cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0aGlzWydyZSddICsgelsncmUnXSxcbiAgICAgICAgICAgICAgdGhpc1snaW0nXSArIHpbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3N1Yic6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gSW5maW5pdHkgLSBJbmZpbml0eSA9IE5hTlxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgLSB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IEluZmluaXR5IH1cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0aGlzWydyZSddIC0gelsncmUnXSxcbiAgICAgICAgICAgICAgdGhpc1snaW0nXSAtIHpbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdtdWwnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5ICogMCA9IE5hTlxuICAgICAgaWYgKCh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc1plcm8nXSgpKSB8fCAodGhpc1snaXNaZXJvJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ05BTiddO1xuICAgICAgfVxuXG4gICAgICAvLyBJbmZpbml0eSAqIHogPSBJbmZpbml0eSB7IHdoZXJlIHogIT0gMCB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3J0IGNpcmN1aXQgZm9yIHJlYWwgdmFsdWVzXG4gICAgICBpZiAoelsnaW0nXSA9PT0gMCAmJiB0aGlzWydpbSddID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzWydyZSddICogelsncmUnXSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAqIHpbJ3JlJ10gLSB0aGlzWydpbSddICogelsnaW0nXSxcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAqIHpbJ2ltJ10gKyB0aGlzWydpbSddICogelsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Rpdic6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gMCAvIDAgPSBOYU4gYW5kIEluZmluaXR5IC8gSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICgodGhpc1snaXNaZXJvJ10oKSAmJiB6Wydpc1plcm8nXSgpKSB8fCAodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgLyAwID0gSW5maW5pdHlcbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICAvLyAwIC8gSW5maW5pdHkgPSAwXG4gICAgICBpZiAodGhpc1snaXNaZXJvJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnWkVSTyddO1xuICAgICAgfVxuXG4gICAgICBhID0gdGhpc1sncmUnXTtcbiAgICAgIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgYyA9IHpbJ3JlJ107XG4gICAgICB2YXIgZCA9IHpbJ2ltJ107XG4gICAgICB2YXIgdCwgeDtcblxuICAgICAgaWYgKDAgPT09IGQpIHtcbiAgICAgICAgLy8gRGl2aXNvciBpcyByZWFsXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChhIC8gYywgYiAvIGMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYykgPCBNYXRoLmFicyhkKSkge1xuXG4gICAgICAgIHggPSBjIC8gZDtcbiAgICAgICAgdCA9IGMgKiB4ICsgZDtcblxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgKGEgKiB4ICsgYikgLyB0LFxuICAgICAgICAgICAgICAgIChiICogeCAtIGEpIC8gdCk7XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgeCA9IGQgLyBjO1xuICAgICAgICB0ID0gZCAqIHggKyBjO1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAoYSArIGIgKiB4KSAvIHQsXG4gICAgICAgICAgICAgICAgKGIgLSBhICogeCkgLyB0KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAncG93JzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICBhID0gdGhpc1sncmUnXTtcbiAgICAgIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoelsnaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnT05FJ107XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBleHBvbmVudCBpcyByZWFsXG4gICAgICBpZiAoelsnaW0nXSA9PT0gMCkge1xuXG4gICAgICAgIGlmIChiID09PSAwICYmIGEgPiAwKSB7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5wb3coYSwgelsncmUnXSksIDApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoYSA9PT0gMCkgeyAvLyBJZiBiYXNlIGlzIGZ1bGx5IGltYWdpbmFyeVxuXG4gICAgICAgICAgc3dpdGNoICgoelsncmUnXSAlIDQgKyA0KSAlIDQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGgucG93KGIsIHpbJ3JlJ10pLCAwKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIE1hdGgucG93KGIsIHpbJ3JlJ10pKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KC1NYXRoLnBvdyhiLCB6WydyZSddKSwgMCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCAtTWF0aC5wb3coYiwgelsncmUnXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBJIGNvdWxkbid0IGZpbmQgYSBnb29kIGZvcm11bGEsIHNvIGhlcmUgaXMgYSBkZXJpdmF0aW9uIGFuZCBvcHRpbWl6YXRpb25cbiAgICAgICAqXG4gICAgICAgKiB6XzFeel8yID0gKGEgKyBiaSleKGMgKyBkaSlcbiAgICAgICAqICAgICAgICAgPSBleHAoKGMgKyBkaSkgKiBsb2coYSArIGJpKVxuICAgICAgICogICAgICAgICA9IHBvdyhhXjIgKyBiXjIsIChjICsgZGkpIC8gMikgKiBleHAoaShjICsgZGkpYXRhbjIoYiwgYSkpXG4gICAgICAgKiA9Pi4uLlxuICAgICAgICogUmUgPSAocG93KGFeMiArIGJeMiwgYyAvIDIpICogZXhwKC1kICogYXRhbjIoYiwgYSkpKSAqIGNvcyhkICogbG9nKGFeMiArIGJeMikgLyAyICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICogSW0gPSAocG93KGFeMiArIGJeMiwgYyAvIDIpICogZXhwKC1kICogYXRhbjIoYiwgYSkpKSAqIHNpbihkICogbG9nKGFeMiArIGJeMikgLyAyICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICpcbiAgICAgICAqID0+Li4uXG4gICAgICAgKiBSZSA9IGV4cChjICogbG9nKHNxcnQoYV4yICsgYl4yKSkgLSBkICogYXRhbjIoYiwgYSkpICogY29zKGQgKiBsb2coc3FydChhXjIgKyBiXjIpKSArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqIEltID0gZXhwKGMgKiBsb2coc3FydChhXjIgKyBiXjIpKSAtIGQgKiBhdGFuMihiLCBhKSkgKiBzaW4oZCAqIGxvZyhzcXJ0KGFeMiArIGJeMikpICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICpcbiAgICAgICAqID0+XG4gICAgICAgKiBSZSA9IGV4cChjICogbG9nc3EyIC0gZCAqIGFyZyh6XzEpKSAqIGNvcyhkICogbG9nc3EyICsgYyAqIGFyZyh6XzEpKVxuICAgICAgICogSW0gPSBleHAoYyAqIGxvZ3NxMiAtIGQgKiBhcmcoel8xKSkgKiBzaW4oZCAqIGxvZ3NxMiArIGMgKiBhcmcoel8xKSlcbiAgICAgICAqXG4gICAgICAgKi9cblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCAmJiB6WydyZSddID4gMCAmJiB6WydpbSddID49IDApIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZyA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICB2YXIgbG9oID0gbG9nSHlwb3QoYSwgYik7XG5cbiAgICAgIGEgPSBNYXRoLmV4cCh6WydyZSddICogbG9oIC0gelsnaW0nXSAqIGFyZyk7XG4gICAgICBiID0gelsnaW0nXSAqIGxvaCArIHpbJ3JlJ10gKiBhcmc7XG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGEgKiBNYXRoLmNvcyhiKSxcbiAgICAgICAgICAgICAgYSAqIE1hdGguc2luKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNxdWFyZSByb290XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc3FydCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgciA9IHRoaXNbJ2FicyddKCk7XG5cbiAgICAgIHZhciByZSwgaW07XG5cbiAgICAgIGlmIChhID49IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLnNxcnQoYSksIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmUgPSAwLjUgKiBNYXRoLnNxcnQoMi4wICogKHIgKyBhKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZSA9IE1hdGguYWJzKGIpIC8gTWF0aC5zcXJ0KDIgKiAociAtIGEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgPD0gMCkge1xuICAgICAgICBpbSA9IDAuNSAqIE1hdGguc3FydCgyLjAgKiAociAtIGEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltID0gTWF0aC5hYnMoYikgLyBNYXRoLnNxcnQoMiAqIChyICsgYSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgocmUsIGIgPCAwID8gLWltIDogaW0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggZXhwb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdleHAnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHRtcCA9IE1hdGguZXhwKHRoaXNbJ3JlJ10pO1xuXG4gICAgICBpZiAodGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICAvL3JldHVybiBuZXcgQ29tcGxleCh0bXAsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0bXAgKiBNYXRoLmNvcyh0aGlzWydpbSddKSxcbiAgICAgICAgICAgICAgdG1wICogTWF0aC5zaW4odGhpc1snaW0nXSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggZXhwb25lbnQgYW5kIHN1YnRyYWN0cyBvbmUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1heSBiZSBtb3JlIGFjY3VyYXRlIHRoYW4gYENvbXBsZXgoeCkuZXhwKCkuc3ViKDEpYCBpZlxuICAgICAqIGB4YCBpcyBzbWFsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdleHBtMSc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvKipcbiAgICAgICAqIGV4cChhICsgaSpiKSAtIDFcbiAgICAgICA9IGV4cChhKSAqIChjb3MoYikgKyBqKnNpbihiKSkgLSAxXG4gICAgICAgPSBleHBtMShhKSpjb3MoYikgKyBjb3NtMShiKSArIGoqZXhwKGEpKnNpbihiKVxuICAgICAgICovXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmV4cG0xKGEpICogTWF0aC5jb3MoYikgKyBjb3NtMShiKSxcbiAgICAgICAgICAgICAgTWF0aC5leHAoYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdsb2cnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCAmJiBhID4gMCkge1xuICAgICAgICAvL3JldHVybiBuZXcgQ29tcGxleChNYXRoLmxvZyhhKSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgbG9nSHlwb3QoYSwgYiksXG4gICAgICAgICAgICAgIE1hdGguYXRhbjIoYiwgYSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIG1hZ25pdHVkZSBvZiB0aGUgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgJ2Ficyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gaHlwb3QodGhpc1sncmUnXSwgdGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgYW5nbGUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgICdhcmcnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpc1snaW0nXSwgdGhpc1sncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgc2luZSBvZiB0aGUgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2luKGMpID0gKGVeYiAtIGVeKC1iKSkgLyAoMmkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAqIGNvc2goYiksXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogc2luaChiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29zaW5lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY29zJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNvcyh6KSA9IChlXmIgKyBlXigtYikpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5jb3MoYSkgKiBjb3NoKGIpLFxuICAgICAgICAgICAgICAtTWF0aC5zaW4oYSkgKiBzaW5oKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSB0YW5nZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAndGFuJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHRhbihjKSA9IChlXihjaSkgLSBlXigtY2kpKSAvIChpKGVeKGNpKSArIGVeKC1jaSkpKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoYSkgKyBjb3NoKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpIC8gZCxcbiAgICAgICAgICAgICAgc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NvdCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3QoYykgPSBpKGVeKGNpKSArIGVeKC1jaSkpIC8gKGVeKGNpKSAtIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBNYXRoLmNvcyhhKSAtIGNvc2goYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgLU1hdGguc2luKGEpIC8gZCxcbiAgICAgICAgICAgICAgc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHNlY2FudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NlYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzZWMoYykgPSAyIC8gKGVeKGNpKSArIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gMC41ICogY29zaCgyICogYikgKyAwLjUgKiBNYXRoLmNvcygyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5jb3MoYSkgKiBjb3NoKGIpIC8gZCxcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBzaW5oKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29zZWNhbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjc2MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY3NjKGMpID0gMmkgLyAoZV4oY2kpIC0gZV4oLWNpKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSAwLjUgKiBjb3NoKDIgKiBiKSAtIDAuNSAqIE1hdGguY29zKDIgKiBhKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAqIGNvc2goYikgLyBkLFxuICAgICAgICAgICAgICAtTWF0aC5jb3MoYSkgKiBzaW5oKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBzaW51c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzaW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXNpbihjKSA9IC1pICogbG9nKGNpICsgc3FydCgxIC0gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgYiAqIGIgLSBhICogYSArIDEsXG4gICAgICAgICAgICAgIC0yICogYSAqIGIpWydzcXJ0J10oKTtcblxuICAgICAgdmFyIHQyID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHQxWydyZSddIC0gYixcbiAgICAgICAgICAgICAgdDFbJ2ltJ10gKyBhKVsnbG9nJ10oKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHQyWydpbSddLCAtdDJbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgY29zaW51c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvcyhjKSA9IGkgKiBsb2coYyAtIGkgKiBzcXJ0KDEgLSBjXjIpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciB0MSA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBiICogYiAtIGEgKiBhICsgMSxcbiAgICAgICAgICAgICAgLTIgKiBhICogYilbJ3NxcnQnXSgpO1xuXG4gICAgICB2YXIgdDIgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdDFbJ3JlJ10gLSBiLFxuICAgICAgICAgICAgICB0MVsnaW0nXSArIGEpWydsb2cnXSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5QSSAvIDIgLSB0MlsnaW0nXSwgdDJbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2F0YW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXRhbihjKSA9IGkgLyAyIGxvZygoaSArIHgpIC8gKGkgLSB4KSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCkge1xuXG4gICAgICAgIGlmIChiID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIEluZmluaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCAtSW5maW5pdHkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyAoMS4wIC0gYikgKiAoMS4wIC0gYik7XG5cbiAgICAgIHZhciB0MSA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAoMSAtIGIgKiBiIC0gYSAqIGEpIC8gZCxcbiAgICAgICAgICAgICAgLTIgKiBhIC8gZCkubG9nKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtMC41ICogdDFbJ2ltJ10sIDAuNSAqIHQxWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3QnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvdChjKSA9IGkgLyAyIGxvZygoYyAtIGkpIC8gKGMgKyBpKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5hdGFuMigxLCBhKSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmF0YW4oKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hdGFuKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBzZWNhbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2VjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzZWMoYykgPSAtaSAqIGxvZygxIC8gYyArIHNxcnQoMSAtIGkgLyBjXjIpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYWNvcygpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFjb3MoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvc2VjYW5zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNzYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY3NjKGMpID0gLWkgKiBsb2coaSAvIGMgKyBzcXJ0KDEgLSAxIC8gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLlBJIC8gMiwgSW5maW5pdHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hc2luKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXNpbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggc2luaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NpbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2luaChjKSA9IChlXmMgLSBlXi1jKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgKiBNYXRoLmNvcyhiKSxcbiAgICAgICAgICAgICAgY29zaChhKSAqIE1hdGguc2luKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGNvc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNvc2goYykgPSAoZV5jICsgZV4tYykgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBjb3NoKGEpICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIHNpbmgoYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCB0YW5oXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAndGFuaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyB0YW5oKGMpID0gKGVeYyAtIGVeLWMpIC8gKGVeYyArIGVeLWMpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBjb3NoKGEpICsgTWF0aC5jb3MoYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgc2luaChhKSAvIGQsXG4gICAgICAgICAgICAgIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBjb3RoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY290aCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3RoKGMpID0gKGVeYyArIGVeLWMpIC8gKGVeYyAtIGVeLWMpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBjb3NoKGEpIC0gTWF0aC5jb3MoYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgc2luaChhKSAvIGQsXG4gICAgICAgICAgICAgIC1NYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NzY2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY3NjaChjKSA9IDIgLyAoZV5jIC0gZV4tYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBNYXRoLmNvcygyICogYikgLSBjb3NoKDIgKiBhKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAtMiAqIHNpbmgoYSkgKiBNYXRoLmNvcyhiKSAvIGQsXG4gICAgICAgICAgICAgIDIgKiBjb3NoKGEpICogTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNlY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzZWNoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNlY2goYykgPSAyIC8gKGVeYyArIGVeLWMpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoMiAqIGIpICsgY29zaCgyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgMiAqIGNvc2goYSkgKiBNYXRoLmNvcyhiKSAvIGQsXG4gICAgICAgICAgICAgIC0yICogc2luaChhKSAqIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhc2luaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzaW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzaW5oKGMpID0gbG9nKGMgKyBzcXJ0KGNeMiArIDEpKVxuXG4gICAgICB2YXIgdG1wID0gdGhpc1snaW0nXTtcbiAgICAgIHRoaXNbJ2ltJ10gPSAtdGhpc1sncmUnXTtcbiAgICAgIHRoaXNbJ3JlJ10gPSB0bXA7XG4gICAgICB2YXIgcmVzID0gdGhpc1snYXNpbiddKCk7XG5cbiAgICAgIHRoaXNbJ3JlJ10gPSAtdGhpc1snaW0nXTtcbiAgICAgIHRoaXNbJ2ltJ10gPSB0bXA7XG4gICAgICB0bXAgPSByZXNbJ3JlJ107XG5cbiAgICAgIHJlc1sncmUnXSA9IC1yZXNbJ2ltJ107XG4gICAgICByZXNbJ2ltJ10gPSB0bXA7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYWNvc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY29zaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY29zaChjKSA9IGxvZyhjICsgc3FydChjXjIgLSAxKSlcblxuICAgICAgdmFyIHJlcyA9IHRoaXNbJ2Fjb3MnXSgpO1xuICAgICAgaWYgKHJlc1snaW0nXSA8PSAwKSB7XG4gICAgICAgIHZhciB0bXAgPSByZXNbJ3JlJ107XG4gICAgICAgIHJlc1sncmUnXSA9IC1yZXNbJ2ltJ107XG4gICAgICAgIHJlc1snaW0nXSA9IHRtcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0bXAgPSByZXNbJ2ltJ107XG4gICAgICAgIHJlc1snaW0nXSA9IC1yZXNbJ3JlJ107XG4gICAgICAgIHJlc1sncmUnXSA9IHRtcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhdGFuaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2F0YW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGF0YW5oKGMpID0gbG9nKCgxK2MpIC8gKDEtYykpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciBub0lNID0gYSA+IDEgJiYgYiA9PT0gMDtcbiAgICAgIHZhciBvbmVNaW51cyA9IDEgLSBhO1xuICAgICAgdmFyIG9uZVBsdXMgPSAxICsgYTtcbiAgICAgIHZhciBkID0gb25lTWludXMgKiBvbmVNaW51cyArIGIgKiBiO1xuXG4gICAgICB2YXIgeCA9IChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChvbmVQbHVzICogb25lTWludXMgLSBiICogYikgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIChiICogb25lTWludXMgKyBvbmVQbHVzICogYikgLyBkKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAtMSkgPyAoYSAvIDApIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAoYiAvIDApIDogMCk7XG5cbiAgICAgIHZhciB0ZW1wID0geFsncmUnXTtcbiAgICAgIHhbJ3JlJ10gPSBsb2dIeXBvdCh4WydyZSddLCB4WydpbSddKSAvIDI7XG4gICAgICB4WydpbSddID0gTWF0aC5hdGFuMih4WydpbSddLCB0ZW1wKSAvIDI7XG4gICAgICBpZiAobm9JTSkge1xuICAgICAgICB4WydpbSddID0gLXhbJ2ltJ107XG4gICAgICB9XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFjb3RoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvdGgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvdGgoYykgPSBsb2coKGMrMSkgLyAoYy0xKSkgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgTWF0aC5QSSAvIDIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hdGFuaCgpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmF0YW5oKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhY3NjaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjc2NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjc2NoKGMpID0gbG9nKCgxK3NxcnQoMStjXjIpKS9jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChiID09PSAwKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgIChhICE9PSAwKVxuICAgICAgICAgICAgICAgID8gTWF0aC5sb2coYSArIE1hdGguc3FydChhICogYSArIDEpKVxuICAgICAgICAgICAgICAgIDogSW5maW5pdHksIDApO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hc2luaCgpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFzaW5oKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhc2VjaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzZWNoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzZWNoKGMpID0gbG9nKCgxK3NxcnQoMS1jXjIpKS9jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmICh0aGlzWydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hY29zaCgpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFjb3NoKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBpbnZlcnNlIDEvelxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2ludmVyc2UnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gMSAvIDAgPSBJbmZpbml0eSBhbmQgMSAvIEluZmluaXR5ID0gMFxuICAgICAgaWYgKHRoaXNbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnWkVSTyddO1xuICAgICAgfVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KGEgLyBkLCAtYiAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb21wbGV4IGNvbmp1Z2F0ZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nvbmp1Z2F0ZSc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpc1sncmUnXSwgLXRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZWdhdGVkIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbmVnJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtdGhpc1sncmUnXSwgLXRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZWlscyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY2VpbCc6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzWydyZSddICogcGxhY2VzKSAvIHBsYWNlcyxcbiAgICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmxvb3JzIHRoZSBhY3R1YWwgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdmbG9vcic6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpc1sncmUnXSAqIHBsYWNlcykgLyBwbGFjZXMsXG4gICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpc1snaW0nXSAqIHBsYWNlcykgLyBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZWlscyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAncm91bmQnOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnJvdW5kKHRoaXNbJ3JlJ10gKiBwbGFjZXMpIC8gcGxhY2VzLFxuICAgICAgICAgICAgICBNYXRoLnJvdW5kKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogKipOb3RlOioqIG5ldyBDb21wbGV4KEluZmluaXR5KS5lcXVhbHMoSW5maW5pdHkpID09PSBmYWxzZVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2VxdWFscyc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgcmV0dXJuIE1hdGguYWJzKHpbJ3JlJ10gLSB0aGlzWydyZSddKSA8PSBDb21wbGV4WydFUFNJTE9OJ10gJiZcbiAgICAgICAgICAgICAgTWF0aC5hYnMoelsnaW0nXSAtIHRoaXNbJ2ltJ10pIDw9IENvbXBsZXhbJ0VQU0lMT04nXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBhY3R1YWwgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY2xvbmUnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXNbJ3JlJ10sIHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgc3RyaW5nIG9mIHRoZSBhY3R1YWwgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciByZXQgPSBcIlwiO1xuXG4gICAgICBpZiAodGhpc1snaXNOYU4nXSgpKSB7XG4gICAgICAgIHJldHVybiAnTmFOJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiAnSW5maW5pdHknO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYSkgPCBDb21wbGV4WydFUFNJTE9OJ10pIHtcbiAgICAgICAgYSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhiKSA8IENvbXBsZXhbJ0VQU0lMT04nXSkge1xuICAgICAgICBiID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXMgcmVhbCBudW1iZXJcbiAgICAgIGlmIChiID09PSAwKSB7XG4gICAgICAgIHJldHVybiByZXQgKyBhO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSAhPT0gMCkge1xuICAgICAgICByZXQrPSBhO1xuICAgICAgICByZXQrPSBcIiBcIjtcbiAgICAgICAgaWYgKGIgPCAwKSB7XG4gICAgICAgICAgYiA9IC1iO1xuICAgICAgICAgIHJldCs9IFwiLVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldCs9IFwiK1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldCs9IFwiIFwiO1xuICAgICAgfSBlbHNlIGlmIChiIDwgMCkge1xuICAgICAgICBiID0gLWI7XG4gICAgICAgIHJldCs9IFwiLVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoMSAhPT0gYikgeyAvLyBiIGlzIHRoZSBhYnNvbHV0ZSBpbWFnaW5hcnkgcGFydFxuICAgICAgICByZXQrPSBiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldCArIFwiaVwiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgbnVtYmVyIGFzIGEgdmVjdG9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgJ3RvVmVjdG9yJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBbdGhpc1sncmUnXSwgdGhpc1snaW0nXV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFjdHVhbCByZWFsIHZhbHVlIG9mIHRoZSBjdXJyZW50IG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcnxudWxsfVxuICAgICAqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIGlmICh0aGlzWydpbSddID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzWydyZSddO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBhIGNvbXBsZXggbnVtYmVyIGlzIG5vdCBvbiB0aGUgUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNOYU4nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc05hTih0aGlzWydyZSddKSB8fCBpc05hTih0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhIGNvbXBsZXggbnVtYmVyIGlzIGF0IHRoZSB6ZXJvIHBvbGUgb2YgdGhlXG4gICAgICogUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNaZXJvJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpc1snaW0nXSA9PT0gMCAmJiB0aGlzWydyZSddID09PSAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBjb21wbGV4IG51bWJlciBpcyBub3QgYXQgdGhlIGluZmluaXR5IHBvbGUgb2YgdGhlXG4gICAgICogUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNGaW5pdGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh0aGlzWydyZSddKSAmJiBpc0Zpbml0ZSh0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhIGNvbXBsZXggbnVtYmVyIGlzIGF0IHRoZSBpbmZpbml0eSBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzSW5maW5pdGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhKHRoaXNbJ2lzTmFOJ10oKSB8fCB0aGlzWydpc0Zpbml0ZSddKCkpO1xuICAgIH1cbiAgfTtcblxuICBDb21wbGV4WydaRVJPJ10gPSBuZXcgQ29tcGxleCgwLCAwKTtcbiAgQ29tcGxleFsnT05FJ10gPSBuZXcgQ29tcGxleCgxLCAwKTtcbiAgQ29tcGxleFsnSSddID0gbmV3IENvbXBsZXgoMCwgMSk7XG4gIENvbXBsZXhbJ1BJJ10gPSBuZXcgQ29tcGxleChNYXRoLlBJLCAwKTtcbiAgQ29tcGxleFsnRSddID0gbmV3IENvbXBsZXgoTWF0aC5FLCAwKTtcbiAgQ29tcGxleFsnSU5GSU5JVFknXSA9IG5ldyBDb21wbGV4KEluZmluaXR5LCBJbmZpbml0eSk7XG4gIENvbXBsZXhbJ05BTiddID0gbmV3IENvbXBsZXgoTmFOLCBOYU4pO1xuICBDb21wbGV4WydFUFNJTE9OJ10gPSAxZS0xNTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDb21wbGV4O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wbGV4LCBcIl9fZXNNb2R1bGVcIiwgeyd2YWx1ZSc6IHRydWV9KTtcbiAgICBDb21wbGV4WydkZWZhdWx0J10gPSBDb21wbGV4O1xuICAgIENvbXBsZXhbJ0NvbXBsZXgnXSA9IENvbXBsZXg7XG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBDb21wbGV4O1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0NvbXBsZXgnXSA9IENvbXBsZXg7XG4gIH1cblxufSkodGhpcyk7XG4iLCJpbXBvcnQgQ29tcGxleCBmcm9tICdjb21wbGV4LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBpc051bWJlciwgaXNVbml0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQ29tcGxleCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbXBsZXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cbiAgQ29tcGxleC5wcm90b3R5cGUudHlwZSA9ICdDb21wbGV4JztcbiAgQ29tcGxleC5wcm90b3R5cGUuaXNDb21wbGV4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQ29tcGxleFwiLCBcInJlXCI6IDIsIFwiaW1cIjogM31gXG4gICAqL1xuXG4gIENvbXBsZXgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQ29tcGxleCcsXG4gICAgICByZTogdGhpcy5yZSxcbiAgICAgIGltOiB0aGlzLmltXG4gICAgfTtcbiAgfTtcbiAgLypcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgY29tcGxleCBudW1iZXIgaW4gcG9sYXIgbm90YXRpb25cbiAgICogVGhlIGFuZ2xlIHBoaSB3aWxsIGJlIHNldCBpbiB0aGUgaW50ZXJ2YWwgb2YgWy1waSwgcGldLlxuICAgKiBAcmV0dXJuIHt7cjogbnVtYmVyLCBwaGk6IG51bWJlcn19IFJldHVybnMgYW5kIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgciBhbmQgcGhpLlxuICAgKi9cblxuXG4gIENvbXBsZXgucHJvdG90eXBlLnRvUG9sYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHI6IHRoaXMuYWJzKCksXG4gICAgICBwaGk6IHRoaXMuYXJnKClcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wbGV4IG51bWJlcixcbiAgICogd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbXBsZXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpbSA9IHRoaXMuaW07XG4gICAgdmFyIHJlID0gdGhpcy5yZTtcbiAgICB2YXIgc3RyUmUgPSBmb3JtYXQodGhpcy5yZSwgb3B0aW9ucyk7XG4gICAgdmFyIHN0ckltID0gZm9ybWF0KHRoaXMuaW0sIG9wdGlvbnMpOyAvLyByb3VuZCBlaXRoZXIgcmUgb3IgaW0gd2hlbiBzbWFsbGVyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgcHJlY2lzaW9uXG5cbiAgICB2YXIgcHJlY2lzaW9uID0gaXNOdW1iZXIob3B0aW9ucykgPyBvcHRpb25zIDogb3B0aW9ucyA/IG9wdGlvbnMucHJlY2lzaW9uIDogbnVsbDtcblxuICAgIGlmIChwcmVjaXNpb24gIT09IG51bGwpIHtcbiAgICAgIHZhciBlcHNpbG9uID0gTWF0aC5wb3coMTAsIC1wcmVjaXNpb24pO1xuXG4gICAgICBpZiAoTWF0aC5hYnMocmUgLyBpbSkgPCBlcHNpbG9uKSB7XG4gICAgICAgIHJlID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGltIC8gcmUpIDwgZXBzaWxvbikge1xuICAgICAgICBpbSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGltID09PSAwKSB7XG4gICAgICAvLyByZWFsIHZhbHVlXG4gICAgICBzdHIgPSBzdHJSZTtcbiAgICB9IGVsc2UgaWYgKHJlID09PSAwKSB7XG4gICAgICAvLyBwdXJlbHkgY29tcGxleCB2YWx1ZVxuICAgICAgaWYgKGltID09PSAxKSB7XG4gICAgICAgIHN0ciA9ICdpJztcbiAgICAgIH0gZWxzZSBpZiAoaW0gPT09IC0xKSB7XG4gICAgICAgIHN0ciA9ICctaSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBzdHJJbSArICdpJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29tcGxleCB2YWx1ZVxuICAgICAgaWYgKGltIDwgMCkge1xuICAgICAgICBpZiAoaW0gPT09IC0xKSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnIC0gaSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnIC0gJyArIHN0ckltLnN1YnN0cmluZygxKSArICdpJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGltID09PSAxKSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnICsgaSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnICsgJyArIHN0ckltICsgJ2knO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNvbXBsZXggbnVtYmVyIGZyb20gcG9sYXIgY29vcmRpbmF0ZXNcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqXG4gICAqICAgICBDb21wbGV4LmZyb21Qb2xhcihyOiBudW1iZXIsIHBoaTogbnVtYmVyKSA6IENvbXBsZXhcbiAgICogICAgIENvbXBsZXguZnJvbVBvbGFyKHtyOiBudW1iZXIsIHBoaTogbnVtYmVyfSkgOiBDb21wbGV4XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYXJncy4uLlxuICAgKiBAcmV0dXJuIHtDb21wbGV4fVxuICAgKi9cblxuXG4gIENvbXBsZXguZnJvbVBvbGFyID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBDb21wbGV4KGFyZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lucHV0IGhhcyB0byBiZSBhbiBvYmplY3Qgd2l0aCByIGFuZCBwaGkga2V5cy4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAyOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgdmFyIHBoaSA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICAgIGlmIChpc051bWJlcihyKSkge1xuICAgICAgICAgICAgaWYgKGlzVW5pdChwaGkpICYmIHBoaS5oYXNCYXNlKCdBTkdMRScpKSB7XG4gICAgICAgICAgICAgIC8vIGNvbnZlcnQgdW5pdCB0byBhIG51bWJlciBpbiByYWRpYW5zXG4gICAgICAgICAgICAgIHBoaSA9IHBoaS50b051bWJlcigncmFkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc051bWJlcihwaGkpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh7XG4gICAgICAgICAgICAgICAgcjogcixcbiAgICAgICAgICAgICAgICBwaGk6IHBoaVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGhpIGlzIG5vdCBhIG51bWJlciBub3IgYW4gYW5nbGUgdW5pdC4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmFkaXVzIHIgaXMgbm90IGEgbnVtYmVyLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMgaW4gZnVuY3Rpb24gZnJvbVBvbGFyJyk7XG4gICAgfVxuICB9O1xuXG4gIENvbXBsZXgucHJvdG90eXBlLnZhbHVlT2YgPSBDb21wbGV4LnByb3RvdHlwZS50b1N0cmluZztcbiAgLyoqXG4gICAqIENyZWF0ZSBhIENvbXBsZXggbnVtYmVyIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQSBKU09OIE9iamVjdCBzdHJ1Y3R1cmVkIGFzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB7XCJtYXRoanNcIjogXCJDb21wbGV4XCIsIFwicmVcIjogMiwgXCJpbVwiOiAzfVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgQWxsIHByb3BlcnRpZXMgYXJlIG9wdGlvbmFsLCBkZWZhdWx0IHZhbHVlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgZm9yIGByZWAgYW5kIGBpbWAgYXJlIDAuXG4gICAqIEByZXR1cm4ge0NvbXBsZXh9IFJldHVybnMgYSBuZXcgQ29tcGxleCBudW1iZXJcbiAgICovXG5cbiAgQ29tcGxleC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wbGV4KGpzb24pO1xuICB9O1xuICAvKipcbiAgICogQ29tcGFyZSB0d28gY29tcGxleCBudW1iZXJzLCBgYWAgYW5kIGBiYDpcbiAgICpcbiAgICogLSBSZXR1cm5zIDEgd2hlbiB0aGUgcmVhbCBwYXJ0IG9mIGBhYCBpcyBsYXJnZXIgdGhhbiB0aGUgcmVhbCBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgLTEgd2hlbiB0aGUgcmVhbCBwYXJ0IG9mIGBhYCBpcyBzbWFsbGVyIHRoYW4gdGhlIHJlYWwgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIDEgd2hlbiB0aGUgcmVhbCBwYXJ0cyBhcmUgZXF1YWxcbiAgICogICBhbmQgdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBhYCBpcyBsYXJnZXIgdGhhbiB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAtMSB3aGVuIHRoZSByZWFsIHBhcnRzIGFyZSBlcXVhbFxuICAgKiAgIGFuZCB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGFgIGlzIHNtYWxsZXIgdGhhbiB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAwIHdoZW4gYm90aCByZWFsIGFuZCBpbWFnaW5hcnkgcGFydHMgYXJlIGVxdWFsLlxuICAgKlxuICAgKiBAcGFyYW1zIHtDb21wbGV4fSBhXG4gICAqIEBwYXJhbXMge0NvbXBsZXh9IGJcbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29tcGFyaXNvbiByZXN1bHQ6IC0xLCAwLCBvciAxXG4gICAqL1xuXG5cbiAgQ29tcGxleC5jb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5yZSA+IGIucmUpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGlmIChhLnJlIDwgYi5yZSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGlmIChhLmltID4gYi5pbSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgaWYgKGEuaW0gPCBiLmltKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgcmV0dXJuIENvbXBsZXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsIi8qKlxuICogQGxpY2Vuc2UgRnJhY3Rpb24uanMgdjQuMS4xIDIzLzA1LzIwMjFcbiAqIGh0dHBzOi8vd3d3Lnhhcmcub3JnLzIwMTQvMDMvcmF0aW9uYWwtbnVtYmVycy1pbi1qYXZhc2NyaXB0L1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBvZmZlcnMgdGhlIHBvc3NpYmlsaXR5IHRvIGNhbGN1bGF0ZSBmcmFjdGlvbnMuXG4gKiBZb3UgY2FuIHBhc3MgYSBmcmFjdGlvbiBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWl0aGVyIGFzIGFycmF5LCBhcyBkb3VibGUsIGFzIHN0cmluZyBvciBhcyBhbiBpbnRlZ2VyLlxuICpcbiAqIEFycmF5L09iamVjdCBmb3JtXG4gKiBbIDAgPT4gPG5vbWluYXRvcj4sIDEgPT4gPGRlbm9taW5hdG9yPiBdXG4gKiBbIG4gPT4gPG5vbWluYXRvcj4sIGQgPT4gPGRlbm9taW5hdG9yPiBdXG4gKlxuICogSW50ZWdlciBmb3JtXG4gKiAtIFNpbmdsZSBpbnRlZ2VyIHZhbHVlXG4gKlxuICogRG91YmxlIGZvcm1cbiAqIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAxMjMuNDU2IC0gYSBzaW1wbGUgZG91YmxlXG4gKiAxMjMvNDU2IC0gYSBzdHJpbmcgZnJhY3Rpb25cbiAqIDEyMy4nNDU2JyAtIGEgZG91YmxlIHdpdGggcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzXG4gKiAxMjMuKDQ1NikgLSBzeW5vbnltXG4gKiAxMjMuNDUnNicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBsYXN0IHBsYWNlXG4gKiAxMjMuNDUoNikgLSBzeW5vbnltXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiB2YXIgZiA9IG5ldyBGcmFjdGlvbihcIjkuNCczMSdcIik7XG4gKiBmLm11bChbLTQsIDNdKS5kaXYoNC45KTtcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBNYXhpbXVtIHNlYXJjaCBkZXB0aCBmb3IgY3ljbGljIHJhdGlvbmFsIG51bWJlcnMuIDIwMDAgc2hvdWxkIGJlIG1vcmUgdGhhbiBlbm91Z2guXG4gIC8vIEV4YW1wbGU6IDEvNyA9IDAuKDE0Mjg1NykgaGFzIDYgcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzLlxuICAvLyBJZiBNQVhfQ1lDTEVfTEVOIGdldHMgcmVkdWNlZCwgbG9uZyBjeWNsZXMgd2lsbCBub3QgYmUgZGV0ZWN0ZWQgYW5kIHRvU3RyaW5nKCkgb25seSBnZXRzIHRoZSBmaXJzdCAxMCBkaWdpdHNcbiAgdmFyIE1BWF9DWUNMRV9MRU4gPSAyMDAwO1xuXG4gIC8vIFBhcnNlZCBkYXRhIHRvIGF2b2lkIGNhbGxpbmcgXCJuZXdcIiBhbGwgdGhlIHRpbWVcbiAgdmFyIFAgPSB7XG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDFcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBlcnJvckNvbnN0cnVjdG9yKCkge1xuICAgICAgdmFyIHRlbXAgPSBFcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGVtcFsnbmFtZSddID0gdGhpc1snbmFtZSddID0gbmFtZTtcbiAgICAgIHRoaXNbJ3N0YWNrJ10gPSB0ZW1wWydzdGFjayddO1xuICAgICAgdGhpc1snbWVzc2FnZSddID0gdGVtcFsnbWVzc2FnZSddO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKSB7IH1cbiAgICBJbnRlcm1lZGlhdGVJbmhlcml0b3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuICAgIGVycm9yQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IEludGVybWVkaWF0ZUluaGVyaXRvcigpO1xuXG4gICAgcmV0dXJuIGVycm9yQ29uc3RydWN0b3I7XG4gIH1cblxuICB2YXIgRGl2aXNpb25CeVplcm8gPSBGcmFjdGlvblsnRGl2aXNpb25CeVplcm8nXSA9IGNyZWF0ZUVycm9yKCdEaXZpc2lvbkJ5WmVybycpO1xuICB2YXIgSW52YWxpZFBhcmFtZXRlciA9IEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ10gPSBjcmVhdGVFcnJvcignSW52YWxpZFBhcmFtZXRlcicpO1xuXG4gIGZ1bmN0aW9uIGFzc2lnbihuLCBzKSB7XG5cbiAgICBpZiAoaXNOYU4obiA9IHBhcnNlSW50KG4sIDEwKSkpIHtcbiAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgfVxuICAgIHJldHVybiBuICogcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRocm93SW52YWxpZFBhcmFtKCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUGFyYW1ldGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmYWN0b3JpemUobnVtKSB7XG5cbiAgICB2YXIgZmFjdG9ycyA9IHt9O1xuXG4gICAgdmFyIG4gPSBudW07XG4gICAgdmFyIGkgPSAyO1xuICAgIHZhciBzID0gNDtcblxuICAgIHdoaWxlIChzIDw9IG4pIHtcblxuICAgICAgd2hpbGUgKG4gJSBpID09PSAwKSB7XG4gICAgICAgIG4gLz0gaTtcbiAgICAgICAgZmFjdG9yc1tpXSA9IChmYWN0b3JzW2ldIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICAgIHMgKz0gMSArIDIgKiBpKys7XG4gICAgfVxuXG4gICAgaWYgKG4gIT09IG51bSkge1xuICAgICAgaWYgKG4gPiAxKVxuICAgICAgZmFjdG9yc1tuXSA9IChmYWN0b3JzW25dIHx8IDApICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmFjdG9yc1tudW1dID0gKGZhY3RvcnNbbnVtXSB8fCAwKSArIDE7XG4gICAgfVxuICAgIHJldHVybiBmYWN0b3JzO1xuICB9XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24ocDEsIHAyKSB7XG5cbiAgICB2YXIgbiA9IDAsIGQgPSAxLCBzID0gMTtcbiAgICB2YXIgdiA9IDAsIHcgPSAwLCB4ID0gMCwgeSA9IDEsIHogPSAxO1xuXG4gICAgdmFyIEEgPSAwLCBCID0gMTtcbiAgICB2YXIgQyA9IDEsIEQgPSAxO1xuXG4gICAgdmFyIE4gPSAxMDAwMDAwMDtcbiAgICB2YXIgTTtcblxuICAgIGlmIChwMSA9PT0gdW5kZWZpbmVkIHx8IHAxID09PSBudWxsKSB7XG4gICAgICAvKiB2b2lkICovXG4gICAgfSBlbHNlIGlmIChwMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuID0gcDE7XG4gICAgICBkID0gcDI7XG4gICAgICBzID0gbiAqIGQ7XG4gICAgfSBlbHNlXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBwMSkge1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXCJkXCIgaW4gcDEgJiYgXCJuXCIgaW4gcDEpIHtcbiAgICAgICAgICAgICAgbiA9IHAxW1wiblwiXTtcbiAgICAgICAgICAgICAgZCA9IHAxW1wiZFwiXTtcbiAgICAgICAgICAgICAgaWYgKFwic1wiIGluIHAxKVxuICAgICAgICAgICAgICAgIG4gKj0gcDFbXCJzXCJdO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgwIGluIHAxKSB7XG4gICAgICAgICAgICAgIG4gPSBwMVswXTtcbiAgICAgICAgICAgICAgaWYgKDEgaW4gcDEpXG4gICAgICAgICAgICAgICAgZCA9IHAxWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBuICogZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwMSA8IDApIHtcbiAgICAgICAgICAgICAgcyA9IHAxO1xuICAgICAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHAxICUgMSA9PT0gMCkge1xuICAgICAgICAgICAgICBuID0gcDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHAxID4gMCkgeyAvLyBjaGVjayBmb3IgIT0gMCwgc2NhbGUgd291bGQgYmVjb21lIE5hTiAobG9nKDApKSwgd2hpY2ggY29udmVyZ2VzIHJlYWxseSBzbG93XG5cbiAgICAgICAgICAgICAgaWYgKHAxID49IDEpIHtcbiAgICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoMSArIE1hdGgubG9nKHAxKSAvIE1hdGguTE4xMCkpO1xuICAgICAgICAgICAgICAgIHAxIC89IHo7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBVc2luZyBGYXJleSBTZXF1ZW5jZXNcbiAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5qb2huZGNvb2suY29tL2Jsb2cvMjAxMC8xMC8yMC9iZXN0LXJhdGlvbmFsLWFwcHJveGltYXRpb24vXG5cbiAgICAgICAgICAgICAgd2hpbGUgKEIgPD0gTiAmJiBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgICBNID0gKEEgKyBDKSAvIChCICsgRCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocDEgPT09IE0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChCICsgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBICsgQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEIgKyBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChEID4gQikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IEI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwMSA+IE0pIHtcbiAgICAgICAgICAgICAgICAgICAgQSArPSBDO1xuICAgICAgICAgICAgICAgICAgICBCICs9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBDICs9IEE7XG4gICAgICAgICAgICAgICAgICAgIEQgKz0gQjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKEIgPiBOKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBDO1xuICAgICAgICAgICAgICAgICAgICBkID0gRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBO1xuICAgICAgICAgICAgICAgICAgICBkID0gQjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbiAqPSB6O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihwMSkgfHwgaXNOYU4ocDIpKSB7XG4gICAgICAgICAgICAgIGQgPSBuID0gTmFOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgQiA9IHAxLm1hdGNoKC9cXGQrfC4vZyk7XG5cbiAgICAgICAgICAgIGlmIChCID09PSBudWxsKVxuICAgICAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuXG4gICAgICAgICAgICBpZiAoQltBXSA9PT0gJy0nKSB7Ly8gQ2hlY2sgZm9yIG1pbnVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgICBzID0gLTE7XG4gICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBXSA9PT0gJysnKSB7Ly8gQ2hlY2sgZm9yIHBsdXMgc2lnbiBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEIubGVuZ3RoID09PSBBICsgMSkgeyAvLyBDaGVjayBpZiBpdCdzIGp1c3QgYSBzaW1wbGUgbnVtYmVyIFwiMTIzNFwiXG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBKytdLCBzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcuJyB8fCBCW0FdID09PSAnLicpIHsgLy8gQ2hlY2sgaWYgaXQncyBhIGRlY2ltYWwgbnVtYmVyXG5cbiAgICAgICAgICAgICAgaWYgKEJbQV0gIT09ICcuJykgeyAvLyBIYW5kbGUgMC41IGFuZCAuNVxuICAgICAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBKytdLCBzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBBKys7XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAgICAgIGlmIChBICsgMSA9PT0gQi5sZW5ndGggfHwgQltBICsgMV0gPT09ICcoJyAmJiBCW0EgKyAzXSA9PT0gJyknIHx8IEJbQSArIDFdID09PSBcIidcIiAmJiBCW0EgKyAzXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQV0sIHMpO1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLnBvdygxMCwgQltBXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZXBlYXRpbmcgcGxhY2VzXG4gICAgICAgICAgICAgIGlmIChCW0FdID09PSAnKCcgJiYgQltBICsgMl0gPT09ICcpJyB8fCBCW0FdID09PSBcIidcIiAmJiBCW0EgKyAyXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgICB4ID0gYXNzaWduKEJbQSArIDFdLCBzKTtcbiAgICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIEJbQSArIDFdLmxlbmd0aCkgLSAxO1xuICAgICAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLycgfHwgQltBICsgMV0gPT09ICc6JykgeyAvLyBDaGVjayBmb3IgYSBzaW1wbGUgZnJhY3Rpb24gXCIxMjMvNDU2XCIgb3IgXCIxMjM6NDU2XCJcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IGFzc2lnbihCW0EgKyAyXSwgMSk7XG4gICAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgM10gPT09ICcvJyAmJiBCW0EgKyAxXSA9PT0gJyAnKSB7IC8vIENoZWNrIGZvciBhIGNvbXBsZXggZnJhY3Rpb24gXCIxMjMgMS8yXCJcbiAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0EgKyAyXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgNF0sIDEpO1xuICAgICAgICAgICAgICBBICs9IDU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCLmxlbmd0aCA8PSBBKSB7IC8vIENoZWNrIGZvciBtb3JlIHRva2VucyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgZCA9IHkgKiB6O1xuICAgICAgICAgICAgICBzID0gLyogdm9pZCAqL1xuICAgICAgICAgICAgICBuID0geCArIGQgKiB2ICsgeiAqIHc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBGYWxsIHRocm91Z2ggb24gZXJyb3IgKi9cbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICAgIH1cblxuICAgIGlmIChkID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRGl2aXNpb25CeVplcm8oKTtcbiAgICB9XG5cbiAgICBQW1wic1wiXSA9IHMgPCAwID8gLTEgOiAxO1xuICAgIFBbXCJuXCJdID0gTWF0aC5hYnMobik7XG4gICAgUFtcImRcIl0gPSBNYXRoLmFicyhkKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtb2Rwb3coYiwgZSwgbSkge1xuXG4gICAgdmFyIHIgPSAxO1xuICAgIGZvciAoOyBlID4gMDsgYiA9IChiICogYikgJSBtLCBlID4+PSAxKSB7XG5cbiAgICAgIGlmIChlICYgMSkge1xuICAgICAgICByID0gKHIgKiBiKSAlIG07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cblxuICBmdW5jdGlvbiBjeWNsZUxlbihuLCBkKSB7XG5cbiAgICBmb3IgKDsgZCAlIDIgPT09IDA7XG4gICAgICBkIC89IDIpIHtcbiAgICB9XG5cbiAgICBmb3IgKDsgZCAlIDUgPT09IDA7XG4gICAgICBkIC89IDUpIHtcbiAgICB9XG5cbiAgICBpZiAoZCA9PT0gMSkgLy8gQ2F0Y2ggbm9uLWN5Y2xpYyBudW1iZXJzXG4gICAgICByZXR1cm4gMDtcblxuICAgIC8vIElmIHdlIHdvdWxkIGxpa2UgdG8gY29tcHV0ZSByZWFsbHkgbGFyZ2UgbnVtYmVycyBxdWlja2VyLCB3ZSBjb3VsZCBtYWtlIHVzZSBvZiBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbTpcbiAgICAvLyAxMF4oZC0xKSAlIGQgPT0gMVxuICAgIC8vIEhvd2V2ZXIsIHdlIGRvbid0IG5lZWQgc3VjaCBsYXJnZSBudW1iZXJzIGFuZCBNQVhfQ1lDTEVfTEVOIHNob3VsZCBiZSB0aGUgY2Fwc3RvbmUsXG4gICAgLy8gYXMgd2Ugd2FudCB0byB0cmFuc2xhdGUgdGhlIG51bWJlcnMgdG8gc3RyaW5ncy5cblxuICAgIHZhciByZW0gPSAxMCAlIGQ7XG4gICAgdmFyIHQgPSAxO1xuXG4gICAgZm9yICg7IHJlbSAhPT0gMTsgdCsrKSB7XG4gICAgICByZW0gPSByZW0gKiAxMCAlIGQ7XG5cbiAgICAgIGlmICh0ID4gTUFYX0NZQ0xFX0xFTilcbiAgICAgICAgcmV0dXJuIDA7IC8vIFJldHVybmluZyAwIGhlcmUgbWVhbnMgdGhhdCB3ZSBkb24ndCBwcmludCBpdCBhcyBhIGN5Y2xpYyBudW1iZXIuIEl0J3MgbGlrZWx5IHRoYXQgdGhlIGFuc3dlciBpcyBgZC0xYFxuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVTdGFydChuLCBkLCBsZW4pIHtcblxuICAgIHZhciByZW0xID0gMTtcbiAgICB2YXIgcmVtMiA9IG1vZHBvdygxMCwgbGVuLCBkKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMzAwOyB0KyspIHsgLy8gcyA8IH5sb2cxMChOdW1iZXIuTUFYX1ZBTFVFKVxuICAgICAgLy8gU29sdmUgMTBecyA9PSAxMF4ocyt0KSAobW9kIGQpXG5cbiAgICAgIGlmIChyZW0xID09PSByZW0yKVxuICAgICAgICByZXR1cm4gdDtcblxuICAgICAgcmVtMSA9IHJlbTEgKiAxMCAlIGQ7XG4gICAgICByZW0yID0gcmVtMiAqIDEwICUgZDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnY2QoYSwgYikge1xuXG4gICAgaWYgKCFhKVxuICAgICAgcmV0dXJuIGI7XG4gICAgaWYgKCFiKVxuICAgICAgcmV0dXJuIGE7XG5cbiAgICB3aGlsZSAoMSkge1xuICAgICAgYSAlPSBiO1xuICAgICAgaWYgKCFhKVxuICAgICAgICByZXR1cm4gYjtcbiAgICAgIGIgJT0gYTtcbiAgICAgIGlmICghYilcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNb2R1bGUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7bnVtYmVyfEZyYWN0aW9uPX0gYVxuICAgKiBAcGFyYW0ge251bWJlcj19IGJcbiAgICovXG4gIGZ1bmN0aW9uIEZyYWN0aW9uKGEsIGIpIHtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGcmFjdGlvbikpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oYSwgYik7XG4gICAgfVxuXG4gICAgcGFyc2UoYSwgYik7XG5cbiAgICBpZiAoRnJhY3Rpb25bJ1JFRFVDRSddKSB7XG4gICAgICBhID0gZ2NkKFBbXCJkXCJdLCBQW1wiblwiXSk7IC8vIEFidXNlIGFcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IDE7XG4gICAgfVxuXG4gICAgdGhpc1tcInNcIl0gPSBQW1wic1wiXTtcbiAgICB0aGlzW1wiblwiXSA9IFBbXCJuXCJdIC8gYTtcbiAgICB0aGlzW1wiZFwiXSA9IFBbXCJkXCJdIC8gYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCb29sZWFuIGdsb2JhbCB2YXJpYWJsZSB0byBiZSBhYmxlIHRvIGRpc2FibGUgYXV0b21hdGljIHJlZHVjdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICpcbiAgICovXG4gIEZyYWN0aW9uWydSRURVQ0UnXSA9IDE7XG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlID0ge1xuXG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDEsXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkuYWJzKCkgPT4gNFxuICAgICAqKi9cbiAgICBcImFic1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoZSBzaWduIG9mIHRoZSBjdXJyZW50IGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC00KS5uZWcoKSA9PiA0XG4gICAgICoqL1xuICAgIFwibmVnXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKC10aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdLCB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IDQ2NyAvIDMwXG4gICAgICoqL1xuICAgIFwiYWRkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gKyBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbih7bjogMiwgZDogM30pLmFkZChcIjE0LjlcIikgPT4gLTQyNyAvIDMwXG4gICAgICoqL1xuICAgIFwic3ViXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gLSBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikubXVsKDMpID0+IDU3NzYgLyAxMTFcbiAgICAgKiovXG4gICAgXCJtdWxcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmludmVyc2UoKS5kaXYoMylcbiAgICAgKiovXG4gICAgXCJkaXZcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIGFjdHVhbCBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikuY2xvbmUoKVxuICAgICAqKi9cbiAgICBcImNsb25lXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbW9kdWxvIG9mIHR3byByYXRpb25hbCBudW1iZXJzIC0gYSBtb3JlIHByZWNpc2UgZm1vZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5tb2QoWzcsIDhdKSA9PiAoMTMvMykgJSAoNy84KSA9ICg1LzYpXG4gICAgICoqL1xuICAgIFwibW9kXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICUgdGhpc1tcImRcIl0sIDEpO1xuICAgICAgfVxuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIGlmICgwID09PSBQW1wiblwiXSAmJiAwID09PSB0aGlzW1wiZFwiXSkge1xuICAgICAgICBGcmFjdGlvbigwLCAwKTsgLy8gVGhyb3cgRGl2aXNpb25CeVplcm9cbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIEZpcnN0IHNpbGx5IGF0dGVtcHQsIGtpbmRhIHNsb3dcbiAgICAgICAqXG4gICAgICAgcmV0dXJuIHRoYXRbXCJzdWJcIl0oe1xuICAgICAgIFwiblwiOiBudW1bXCJuXCJdICogTWF0aC5mbG9vcigodGhpcy5uIC8gdGhpcy5kKSAvIChudW0ubiAvIG51bS5kKSksXG4gICAgICAgXCJkXCI6IG51bVtcImRcIl0sXG4gICAgICAgXCJzXCI6IHRoaXNbXCJzXCJdXG4gICAgICAgfSk7Ki9cblxuICAgICAgLypcbiAgICAgICAqIE5ldyBhdHRlbXB0OiBhMSAvIGIxID0gYTIgLyBiMiAqIHEgKyByXG4gICAgICAgKiA9PiBiMiAqIGExID0gYTIgKiBiMSAqIHEgKyBiMSAqIGIyICogclxuICAgICAgICogPT4gKGIyICogYTEgJSBhMiAqIGIxKSAvIChiMSAqIGIyKVxuICAgICAgICovXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIChQW1wiZFwiXSAqIHRoaXNbXCJuXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSxcbiAgICAgICAgUFtcImRcIl0gKiB0aGlzW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb25hbCBnY2Qgb2YgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oNSw4KS5nY2QoMyw3KSA9PiAxLzU2XG4gICAgICovXG4gICAgXCJnY2RcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gZ2NkKGEgLyBiLCBjIC8gZCkgPSBnY2QoYSwgYykgLyBsY20oYiwgZClcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihnY2QoUFtcIm5cIl0sIHRoaXNbXCJuXCJdKSAqIGdjZChQW1wiZFwiXSwgdGhpc1tcImRcIl0pLCBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb25hbCBsY20gb2YgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oNSw4KS5sY20oMyw3KSA9PiAxNVxuICAgICAqL1xuICAgIFwibGNtXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGxjbShhIC8gYiwgYyAvIGQpID0gbGNtKGEsIGMpIC8gZ2NkKGIsIGQpXG5cbiAgICAgIGlmIChQW1wiblwiXSA9PT0gMCAmJiB0aGlzW1wiblwiXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihQW1wiblwiXSAqIHRoaXNbXCJuXCJdLCBnY2QoUFtcIm5cIl0sIHRoaXNbXCJuXCJdKSAqIGdjZChQW1wiZFwiXSwgdGhpc1tcImRcIl0pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgY2VpbCBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5jZWlsKCkgPT4gKDUgLyAxKVxuICAgICAqKi9cbiAgICBcImNlaWxcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5jZWlsKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZsb29yIG9mIGEgcmF0aW9uYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLmZsb29yKCkgPT4gKDQgLyAxKVxuICAgICAqKi9cbiAgICBcImZsb29yXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguZmxvb3IocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm91bmRzIGEgcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5yb3VuZCgpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJyb3VuZFwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnJvdW5kKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludmVyc2Ugb2YgdGhlIGZyYWN0aW9uLCBtZWFucyBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yIGFyZSBleGNoYW5nZWRcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oWy0zLCA0XSkuaW52ZXJzZSgpID0+IC00IC8gM1xuICAgICAqKi9cbiAgICBcImludmVyc2VcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcInNcIl0gKiB0aGlzW1wiZFwiXSwgdGhpc1tcIm5cIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbiB0byBzb21lIHJhdGlvbmFsIGV4cG9uZW50LCBpZiBwb3NzaWJsZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtMSwyKS5wb3coLTMpID0+IC04XG4gICAgICovXG4gICAgXCJwb3dcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gVHJpdmlhbCBjYXNlIHdoZW4gZXhwIGlzIGFuIGludGVnZXJcblxuICAgICAgaWYgKFBbJ2QnXSA9PT0gMSkge1xuXG4gICAgICAgIGlmIChQWydzJ10gPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiZFwiXSwgUFsnbiddKSwgTWF0aC5wb3codGhpc1tcIm5cIl0sIFBbJ24nXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5wb3codGhpc1sncyddICogdGhpc1tcIm5cIl0sIFBbJ24nXSksIE1hdGgucG93KHRoaXNbXCJkXCJdLCBQWyduJ10pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBOZWdhdGl2ZSByb290cyBiZWNvbWUgY29tcGxleFxuICAgICAgLy8gICAgICgtYS9iKV4oYy9kKSA9IHhcbiAgICAgIC8vIDw9PiAoLTEpXihjL2QpICogKGEvYileKGMvZCkgPSB4XG4gICAgICAvLyA8PT4gKGNvcyhwaSkgKyBpKnNpbihwaSkpXihjL2QpICogKGEvYileKGMvZCkgPSB4ICAgICAgICAgIyByb3RhdGUgMSBieSAxODDCsFxuICAgICAgLy8gPD0+IChjb3MoYypwaS9kKSArIGkqc2luKGMqcGkvZCkpICogKGEvYileKGMvZCkgPSB4ICAgICAgICMgRGVNb2l2cmUncyBmb3JtdWxhIGluIFEgKCBodHRwczovL3Byb29md2lraS5vcmcvd2lraS9EZV9Nb2l2cmUlMjdzX0Zvcm11bGEvUmF0aW9uYWxfSW5kZXggKVxuICAgICAgLy8gRnJvbSB3aGljaCBmb2xsb3dzIHRoYXQgb25seSBmb3IgYz0wIHRoZSByb290IGlzIG5vbi1jb21wbGV4LiBjL2QgaXMgYSByZWR1Y2VkIGZyYWN0aW9uLCBzbyB0aGF0IHNpbihjL2RwaSk9MCBvY2N1cnMgZm9yIGQ9MSwgd2hpY2ggaXMgaGFuZGxlZCBieSBvdXIgdHJpdmlhbCBjYXNlLlxuICAgICAgaWYgKHRoaXNbJ3MnXSA8IDApIHJldHVybiBudWxsO1xuXG4gICAgICAvLyBOb3cgcHJpbWUgZmFjdG9yIG4gYW5kIGRcbiAgICAgIHZhciBOID0gZmFjdG9yaXplKHRoaXNbJ24nXSk7XG4gICAgICB2YXIgRCA9IGZhY3Rvcml6ZSh0aGlzWydkJ10pO1xuXG4gICAgICAvLyBFeHBvbmVudGlhdGUgYW5kIHRha2Ugcm9vdCBmb3IgbiBhbmQgZCBpbmRpdmlkdWFsbHlcbiAgICAgIHZhciBuID0gMTtcbiAgICAgIHZhciBkID0gMTtcbiAgICAgIGZvciAodmFyIGsgaW4gTikge1xuICAgICAgICBpZiAoayA9PT0gJzEnKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGsgPT09ICcwJykge1xuICAgICAgICAgIG4gPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIE5ba10qPSBQWyduJ107XG5cbiAgICAgICAgaWYgKE5ba10gJSBQWydkJ10gPT09IDApIHtcbiAgICAgICAgICBOW2tdLz0gUFsnZCddO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIG4qPSBNYXRoLnBvdyhrLCBOW2tdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgayBpbiBEKSB7XG4gICAgICAgIGlmIChrID09PSAnMScpIGNvbnRpbnVlO1xuICAgICAgICBEW2tdKj0gUFsnbiddO1xuXG4gICAgICAgIGlmIChEW2tdICUgUFsnZCddID09PSAwKSB7XG4gICAgICAgICAgRFtrXS89IFBbJ2QnXTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBkKj0gTWF0aC5wb3coaywgRFtrXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChQWydzJ10gPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZCwgbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKG4sIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImVxdWFsc1wiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSA9PT0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdOyAvLyBTYW1lIGFzIGNvbXBhcmUoKSA9PT0gMFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImNvbXBhcmVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHZhciB0ID0gKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgICByZXR1cm4gKDAgPCB0KSAtICh0IDwgMCk7XG4gICAgfSxcblxuICAgIFwic2ltcGxpZnlcIjogZnVuY3Rpb24oZXBzKSB7XG5cbiAgICAgIC8vIEZpcnN0IG5haXZlIGltcGxlbWVudGF0aW9uLCBuZWVkcyBpbXByb3ZlbWVudFxuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udCA9IHRoaXNbJ2FicyddKClbJ3RvQ29udGludWVkJ10oKTtcblxuICAgICAgZXBzID0gZXBzIHx8IDAuMDAxO1xuXG4gICAgICBmdW5jdGlvbiByZWMoYSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihhWzBdKTtcbiAgICAgICAgcmV0dXJuIHJlYyhhLnNsaWNlKDEpKVsnaW52ZXJzZSddKClbJ2FkZCddKGFbMF0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRtcCA9IHJlYyhjb250LnNsaWNlKDAsIGkgKyAxKSk7XG4gICAgICAgIGlmICh0bXBbJ3N1YiddKHRoaXNbJ2FicyddKCkpWydhYnMnXSgpLnZhbHVlT2YoKSA8IGVwcykge1xuICAgICAgICAgIHJldHVybiB0bXBbJ211bCddKHRoaXNbJ3MnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgZGl2aXNpYmxlXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmRpdmlzaWJsZSgxLjUpO1xuICAgICAqL1xuICAgIFwiZGl2aXNpYmxlXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gISghKFBbXCJuXCJdICogdGhpc1tcImRcIl0pIHx8ICgodGhpc1tcIm5cIl0gKiBQW1wiZFwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudmFsdWVPZigpID0+IDEwMC45MTgyMzkxODIzOTE4M1xuICAgICAqKi9cbiAgICAndmFsdWVPZic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nLWZyYWN0aW9uIHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9GcmFjdGlvbigpID0+IFwiNCAxLzNcIlxuICAgICAqKi9cbiAgICAndG9GcmFjdGlvbic6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBzdHIgKz0gXCIgXCI7XG4gICAgICAgICAgbiAlPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnLyc7XG4gICAgICAgIHN0ciArPSBkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxhdGV4IHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9MYXRleCgpID0+IFwiXFxmcmFjezR9ezN9XCJcbiAgICAgKiovXG4gICAgJ3RvTGF0ZXgnOiBmdW5jdGlvbihleGNsdWRlV2hvbGUpIHtcblxuICAgICAgdmFyIHdob2xlLCBzdHIgPSBcIlwiO1xuICAgICAgdmFyIG4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBkID0gdGhpc1tcImRcIl07XG4gICAgICBpZiAodGhpc1tcInNcIl0gPCAwKSB7XG4gICAgICAgIHN0ciArPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXhjbHVkZVdob2xlICYmICh3aG9sZSA9IE1hdGguZmxvb3IobiAvIGQpKSA+IDApIHtcbiAgICAgICAgICBzdHIgKz0gd2hvbGU7XG4gICAgICAgICAgbiAlPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IFwiXFxcXGZyYWN7XCI7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgICBzdHIgKz0gJ317JztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgIHN0ciArPSAnfSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbnRpbnVlZCBmcmFjdGlvbiBlbGVtZW50c1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjcvOFwiKS50b0NvbnRpbnVlZCgpID0+IFswLDEsN11cbiAgICAgKi9cbiAgICAndG9Db250aW51ZWQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHQ7XG4gICAgICB2YXIgYSA9IHRoaXNbJ24nXTtcbiAgICAgIHZhciBiID0gdGhpc1snZCddO1xuICAgICAgdmFyIHJlcyA9IFtdO1xuXG4gICAgICBpZiAoaXNOYU4oYSkgfHwgaXNOYU4oYikpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgZG8ge1xuICAgICAgICByZXMucHVzaChNYXRoLmZsb29yKGEgLyBiKSk7XG4gICAgICAgIHQgPSBhICUgYjtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSB0O1xuICAgICAgfSB3aGlsZSAoYSAhPT0gMSk7XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmcmFjdGlvbiB3aXRoIGFsbCBkaWdpdHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS50b1N0cmluZygpID0+IFwiMTAwLig5MTgyMylcIlxuICAgICAqKi9cbiAgICAndG9TdHJpbmcnOiBmdW5jdGlvbihkZWMpIHtcblxuICAgICAgdmFyIGc7XG4gICAgICB2YXIgTiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIEQgPSB0aGlzW1wiZFwiXTtcblxuICAgICAgaWYgKGlzTmFOKE4pIHx8IGlzTmFOKEQpKSB7XG4gICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIUZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgICBnID0gZ2NkKE4sIEQpO1xuICAgICAgICBOIC89IGc7XG4gICAgICAgIEQgLz0gZztcbiAgICAgIH1cblxuICAgICAgZGVjID0gZGVjIHx8IDE1OyAvLyAxNSA9IGRlY2ltYWwgcGxhY2VzIHdoZW4gbm8gcmVwZXRhdGlvblxuXG4gICAgICB2YXIgY3ljTGVuID0gY3ljbGVMZW4oTiwgRCk7IC8vIEN5Y2xlIGxlbmd0aFxuICAgICAgdmFyIGN5Y09mZiA9IGN5Y2xlU3RhcnQoTiwgRCwgY3ljTGVuKTsgLy8gQ3ljbGUgc3RhcnRcblxuICAgICAgdmFyIHN0ciA9IHRoaXNbJ3MnXSA9PT0gLTEgPyBcIi1cIiA6IFwiXCI7XG5cbiAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG5cbiAgICAgIE4gJT0gRDtcbiAgICAgIE4gKj0gMTA7XG5cbiAgICAgIGlmIChOKVxuICAgICAgICBzdHIgKz0gXCIuXCI7XG5cbiAgICAgIGlmIChjeWNMZW4pIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gY3ljT2ZmOyBpLS07KSB7XG4gICAgICAgICAgc3RyICs9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOICU9IEQ7XG4gICAgICAgICAgTiAqPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCIoXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSBjeWNMZW47IGktLTspIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIilcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWM7IE4gJiYgaS0tOykge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBGcmFjdGlvbjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFjdGlvbiwgXCJfX2VzTW9kdWxlXCIsIHsgJ3ZhbHVlJzogdHJ1ZSB9KTtcbiAgICBGcmFjdGlvblsnZGVmYXVsdCddID0gRnJhY3Rpb247XG4gICAgRnJhY3Rpb25bJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IEZyYWN0aW9uO1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgfVxuXG59KSh0aGlzKTtcbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdGcmFjdGlvbic7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZUZyYWN0aW9uQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG4gIEZyYWN0aW9uLnByb3RvdHlwZS50eXBlID0gJ0ZyYWN0aW9uJztcbiAgRnJhY3Rpb24ucHJvdG90eXBlLmlzRnJhY3Rpb24gPSB0cnVlO1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIGNvbnRhaW5pbmcgdHlwZSBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZyYWN0aW9uXCIsIFwiblwiOiAzLCBcImRcIjogOH1gXG4gICAqL1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0ZyYWN0aW9uJyxcbiAgICAgIG46IHRoaXMucyAqIHRoaXMubixcbiAgICAgIGQ6IHRoaXMuZFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIEZyYWN0aW9uIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZyYWN0aW9uXCIsIFwiblwiOiAzLCBcImRcIjogOH1gXG4gICAqIEByZXR1cm4ge0JpZ051bWJlcn1cbiAgICovXG5cblxuICBGcmFjdGlvbi5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihqc29uKTtcbiAgfTtcblxuICByZXR1cm4gRnJhY3Rpb247XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZm9ybWF0LCBzaWduIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1JhbmdlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmFuZ2VDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSByYW5nZS4gQSByYW5nZSBoYXMgYSBzdGFydCwgc3RlcCwgYW5kIGVuZCwgYW5kIGNvbnRhaW5zIGZ1bmN0aW9uc1xuICAgKiB0byBpdGVyYXRlIG92ZXIgdGhlIHJhbmdlLlxuICAgKlxuICAgKiBBIHJhbmdlIGNhbiBiZSBjb25zdHJ1Y3RlZCBhczpcbiAgICpcbiAgICogICAgIGNvbnN0IHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBlbmQpXG4gICAqICAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZShzdGFydCwgZW5kLCBzdGVwKVxuICAgKlxuICAgKiBUbyBnZXQgdGhlIHJlc3VsdCBvZiB0aGUgcmFuZ2U6XG4gICAqICAgICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAqICAgICAgICAgY29uc29sZS5sb2coeClcbiAgICogICAgIH0pXG4gICAqICAgICByYW5nZS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICogICAgICAgICByZXR1cm4gbWF0aC5zaW4oeClcbiAgICogICAgIH0pXG4gICAqICAgICByYW5nZS50b0FycmF5KClcbiAgICpcbiAgICogRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIGNvbnN0IGMgPSBuZXcgUmFuZ2UoMiwgNikgICAgICAgLy8gMjoxOjVcbiAgICogICAgIGMudG9BcnJheSgpICAgICAgICAgICAgICAgICAgICAgLy8gWzIsIDMsIDQsIDVdXG4gICAqICAgICBjb25zdCBkID0gbmV3IFJhbmdlKDIsIC0zLCAtMSkgIC8vIDI6LTE6LTJcbiAgICogICAgIGQudG9BcnJheSgpICAgICAgICAgICAgICAgICAgICAgLy8gWzIsIDEsIDAsIC0xLCAtMl1cbiAgICpcbiAgICogQGNsYXNzIFJhbmdlXG4gICAqIEBjb25zdHJ1Y3RvciBSYW5nZVxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgIGluY2x1ZGVkIGxvd2VyIGJvdW5kXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgICAgZXhjbHVkZWQgdXBwZXIgYm91bmRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwXSBzdGVwIHNpemUsIGRlZmF1bHQgdmFsdWUgaXMgMVxuICAgKi9cbiAgZnVuY3Rpb24gUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdmFyIGhhc1N0YXJ0ID0gc3RhcnQgIT09IG51bGwgJiYgc3RhcnQgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaGFzRW5kID0gZW5kICE9PSBudWxsICYmIGVuZCAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBoYXNTdGVwID0gc3RlcCAhPT0gbnVsbCAmJiBzdGVwICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaGFzU3RhcnQpIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydC50b051bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBzdGFydCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc0VuZCkge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKGVuZCkpIHtcbiAgICAgICAgZW5kID0gZW5kLnRvTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBlbmQgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNTdGVwKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoc3RlcCkpIHtcbiAgICAgICAgc3RlcCA9IHN0ZXAudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0ZXAgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBzdGVwIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0ID0gaGFzU3RhcnQgPyBwYXJzZUZsb2F0KHN0YXJ0KSA6IDA7XG4gICAgdGhpcy5lbmQgPSBoYXNFbmQgPyBwYXJzZUZsb2F0KGVuZCkgOiAwO1xuICAgIHRoaXMuc3RlcCA9IGhhc1N0ZXAgPyBwYXJzZUZsb2F0KHN0ZXApIDogMTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudHlwZSA9ICdSYW5nZSc7XG4gIFJhbmdlLnByb3RvdHlwZS5pc1JhbmdlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIGludG8gYSByYW5nZSxcbiAgICogVGhlIHN0cmluZyBjb250YWlucyB0aGUgc3RhcnQsIG9wdGlvbmFsIHN0ZXAsIGFuZCBlbmQsIHNlcGFyYXRlZCBieSBhIGNvbG9uLlxuICAgKiBJZiB0aGUgc3RyaW5nIGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCByYW5nZSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICogRm9yIGV4YW1wbGUgc3RyPScwOjI6MTEnLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgKiBAcmV0dXJuIHtSYW5nZSB8IG51bGx9IHJhbmdlXG4gICAqL1xuXG4gIFJhbmdlLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBzdHIuc3BsaXQoJzonKTtcbiAgICB2YXIgbnVtcyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGFyZyk7XG4gICAgfSk7XG4gICAgdmFyIGludmFsaWQgPSBudW1zLnNvbWUoZnVuY3Rpb24gKG51bSkge1xuICAgICAgcmV0dXJuIGlzTmFOKG51bSk7XG4gICAgfSk7XG5cbiAgICBpZiAoaW52YWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3dpdGNoIChudW1zLmxlbmd0aCkge1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKG51bXNbMF0sIG51bXNbMV0pO1xuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UobnVtc1swXSwgbnVtc1syXSwgbnVtc1sxXSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSByYW5nZVxuICAgKiBAcmV0dXJuIHtSYW5nZX0gY2xvbmVcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCwgdGhpcy5zdGVwKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSByYW5nZS5cbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIG9uZSBudW1iZXIsIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIHJhbmdlLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxlbiA9IDA7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcDtcbiAgICB2YXIgZW5kID0gdGhpcy5lbmQ7XG4gICAgdmFyIGRpZmYgPSBlbmQgLSBzdGFydDtcblxuICAgIGlmIChzaWduKHN0ZXApID09PSBzaWduKGRpZmYpKSB7XG4gICAgICBsZW4gPSBNYXRoLmNlaWwoZGlmZiAvIHN0ZXApO1xuICAgIH0gZWxzZSBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgbGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaXNOYU4obGVuKSkge1xuICAgICAgbGVuID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gW2xlbl07XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG1pbmltdW0gdmFsdWUgaW4gdGhlIHJhbmdlXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCB1bmRlZmluZWR9IG1pblxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemUoKVswXTtcblxuICAgIGlmIChzaXplID4gMCkge1xuICAgICAgaWYgKHRoaXMuc3RlcCA+IDApIHtcbiAgICAgICAgLy8gcG9zaXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5lZ2F0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgKyAoc2l6ZSAtIDEpICogdGhpcy5zdGVwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbWF4aW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2VcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm4ge251bWJlciB8IHVuZGVmaW5lZH0gbWF4XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSgpWzBdO1xuXG4gICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICBpZiAodGhpcy5zdGVwID4gMCkge1xuICAgICAgICAvLyBwb3NpdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0ICsgKHNpemUgLSAxKSAqIHRoaXMuc3RlcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5lZ2F0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIHZhbHVlIGluIHRoZSByYW5nZS5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIG1ldGhvZCBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIFJhbmdlIGJlaW5nIHRyYXZlcnNlZC5cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB4ID0gdGhpcy5zdGFydDtcbiAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcDtcbiAgICB2YXIgZW5kID0gdGhpcy5lbmQ7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgaWYgKHN0ZXAgPiAwKSB7XG4gICAgICB3aGlsZSAoeCA8IGVuZCkge1xuICAgICAgICBjYWxsYmFjayh4LCBbaV0sIHRoaXMpO1xuICAgICAgICB4ICs9IHN0ZXA7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0ZXAgPCAwKSB7XG4gICAgICB3aGlsZSAoeCA+IGVuZCkge1xuICAgICAgICBjYWxsYmFjayh4LCBbaV0sIHRoaXMpO1xuICAgICAgICB4ICs9IHN0ZXA7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggdmFsdWUgaW4gdGhlIFJhbmdlLCBhbmQgcmV0dXJuIHRoZVxuICAgKiByZXN1bHRzIGFzIGFuIGFycmF5XG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBtZXRob2QgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBvYmopIHtcbiAgICAgIGFycmF5W2luZGV4WzBdXSA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIFJhbmdlcyBkYXRhXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGFycmF5W2luZGV4WzBdXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBSYW5nZSwgYSBvbmUgZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYSBjYWNoaW5nIG1lY2hhbmlzbSBmb3IgcmFuZ2UudmFsdWVPZigpXG4gICAgcmV0dXJuIHRoaXMudG9BcnJheSgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZSwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIE91dHB1dCBpcyBmb3JtYXR0ZWQgYXMgJ3N0YXJ0OnN0ZXA6ZW5kJywgZm9yIGV4YW1wbGUgJzI6Nicgb3IgJzA6MC4yOjExJ1xuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBmdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzdHIgPSBmb3JtYXQodGhpcy5zdGFydCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodGhpcy5zdGVwICE9PSAxKSB7XG4gICAgICBzdHIgKz0gJzonICsgZm9ybWF0KHRoaXMuc3RlcCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc6JyArIGZvcm1hdCh0aGlzLmVuZCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2UuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhbmdlXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJhbmdlXCIsIFwic3RhcnRcIjogMiwgXCJlbmRcIjogNCwgXCJzdGVwXCI6IDF9YFxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1JhbmdlJyxcbiAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgZW5kOiB0aGlzLmVuZCxcbiAgICAgIHN0ZXA6IHRoaXMuc3RlcFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFJhbmdlIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gQSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmFuZ2VcIiwgXCJzdGFydFwiOiAyLCBcImVuZFwiOiA0LCBcInN0ZXBcIjogMX1gXG4gICAqIEByZXR1cm4ge1JhbmdlfVxuICAgKi9cblxuXG4gIFJhbmdlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKGpzb24uc3RhcnQsIGpzb24uZW5kLCBqc29uLnN0ZXApO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnTWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlTWF0cml4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIE1hdHJpeFxuICAgKlxuICAgKiBBIE1hdHJpeCBpcyBhIHdyYXBwZXIgYXJvdW5kIGFuIEFycmF5LiBBIG1hdHJpeCBjYW4gaG9sZCBhIG11bHRpIGRpbWVuc2lvbmFsXG4gICAqIGFycmF5LiBBIG1hdHJpeCBjYW4gYmUgY29uc3RydWN0ZWQgYXM6XG4gICAqXG4gICAqICAgICBsZXQgbWF0cml4ID0gbWF0aC5tYXRyaXgoZGF0YSlcbiAgICpcbiAgICogTWF0cml4IGNvbnRhaW5zIHRoZSBmdW5jdGlvbnMgdG8gcmVzaXplLCBnZXQgYW5kIHNldCB2YWx1ZXMsIGdldCB0aGUgc2l6ZSxcbiAgICogY2xvbmUgdGhlIG1hdHJpeCBhbmQgdG8gY29udmVydCB0aGUgbWF0cml4IHRvIGEgdmVjdG9yLCBhcnJheSwgb3Igc2NhbGFyLlxuICAgKiBGdXJ0aGVybW9yZSwgb25lIGNhbiBpdGVyYXRlIG92ZXIgdGhlIG1hdHJpeCB1c2luZyBtYXAgYW5kIGZvckVhY2guXG4gICAqIFRoZSBpbnRlcm5hbCBBcnJheSBvZiB0aGUgTWF0cml4IGNhbiBiZSBhY2Nlc3NlZCB1c2luZyB0aGUgZnVuY3Rpb24gdmFsdWVPZi5cbiAgICpcbiAgICogRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIGxldCBtYXRyaXggPSBtYXRoLm1hdHJpeChbWzEsIDJdLCBbMywgNF1dKVxuICAgKiAgICAgbWF0aXguc2l6ZSgpICAgICAgICAgICAgICAvLyBbMiwgMl1cbiAgICogICAgIG1hdHJpeC5yZXNpemUoWzMsIDJdLCA1KVxuICAgKiAgICAgbWF0cml4LnZhbHVlT2YoKSAgICAgICAgICAvLyBbWzEsIDJdLCBbMywgNF0sIFs1LCA1XV1cbiAgICogICAgIG1hdHJpeC5zdWJzZXQoWzEsMl0pICAgICAgIC8vIDMgKGluZGV4ZXMgYXJlIHplcm8tYmFzZWQpXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1hdHJpeCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudHlwZSA9ICdNYXRyaXgnO1xuICBNYXRyaXgucHJvdG90eXBlLmlzTWF0cml4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBmb3JtYXQgdXNlZCBieSB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5zdG9yYWdlKCkgICAvLyByZXRyaWV2ZSBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgc3RvcmFnZSBmb3JtYXQuXG4gICAqL1xuXG4gIE1hdHJpeC5wcm90b3R5cGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc3RvcmFnZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgZGF0YXR5cGUgb2YgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LmRhdGF0eXBlKCkgICAgLy8gcmV0cmlldmUgbWF0cml4IGRhdGF0eXBlXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBkYXRhdHlwZS5cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmRhdGF0eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBkYXRhdHlwZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBNYXRyaXggV2l0aCB0aGUgdHlwZSBvZiB0aGUgY3VycmVudCBtYXRyaXggaW5zdGFuY2VcbiAgICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGNyZWF0ZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1YnNldCBvZiB0aGUgbWF0cml4LCBvciByZXBsYWNlIGEgc3Vic2V0IG9mIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3Qgc3Vic2V0ID0gbWF0cml4LnN1YnNldChpbmRleCkgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBzdWJzZXRcbiAgICogICAgIGNvbnN0IHZhbHVlID0gbWF0cml4LnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpICAgLy8gcmVwbGFjZSBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8ICp9IFtyZXBsYWNlbWVudF1cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnN1YnNldCA9IGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzdWJzZXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzaW5nbGUgZWxlbWVudCBmcm9tIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGdldCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGxlZnQgdW5kZWZpbmVkLlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IHNlbGZcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzZXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNpemUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudHMgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaXplZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2l6ZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHJlc2l6ZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc2hhcGUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNoYXBlIGluIHBsYWNlKS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2hhcGVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaGFwZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSByZXNoYXBlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IGNsb25lXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgY2xvbmUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHNpemUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uXG4gICAqIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gbWF0cml4XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBtYXAgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGZvckVhY2ggb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIGRhdGEgb2YgdGhlIE1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSB0b0FycmF5IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIE1hdHJpeDogYSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHZhbHVlT2Ygb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGZvcm1hdCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHRvU3RyaW5nIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuXG4gIHJldHVybiBNYXRyaXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQXJyYXksIGlzQmlnTnVtYmVyLCBpc0NvbGxlY3Rpb24sIGlzSW5kZXgsIGlzTWF0cml4LCBpc051bWJlciwgaXNTdHJpbmcsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSwgZ2V0QXJyYXlEYXRhVHlwZSwgcmVzaGFwZSwgcmVzaXplLCB1bnNxdWVlemUsIHZhbGlkYXRlLCB2YWxpZGF0ZUluZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgZGVlcFN0cmljdEVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRGVuc2VNYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZURlbnNlTWF0cml4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIERlbnNlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbi4gQSByZWd1bGFyLCBkZW5zZSBtYXRyaXgsIHN1cHBvcnRpbmcgbXVsdGktZGltZW5zaW9uYWwgbWF0cmljZXMuIFRoaXMgaXMgdGhlIGRlZmF1bHQgbWF0cml4IHR5cGUuXG4gICAqIEBjbGFzcyBEZW5zZU1hdHJpeFxuICAgKi9cbiAgZnVuY3Rpb24gRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGVuc2VNYXRyaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmIChkYXRhdHlwZSAmJiAhaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0YXR5cGU6ICcgKyBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTWF0cml4KGRhdGEpKSB7XG4gICAgICAvLyBjaGVjayBkYXRhIGlzIGEgRGVuc2VNYXRyaXhcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdEZW5zZU1hdHJpeCcpIHtcbiAgICAgICAgLy8gY2xvbmUgZGF0YSAmIHNpemVcbiAgICAgICAgdGhpcy5fZGF0YSA9IGNsb25lKGRhdGEuX2RhdGEpO1xuICAgICAgICB0aGlzLl9zaXplID0gY2xvbmUoZGF0YS5fc2l6ZSk7XG4gICAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5fZGF0YXR5cGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBidWlsZCBkYXRhIGZyb20gZXhpc3RpbmcgbWF0cml4XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhLnRvQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGRhdGEuc2l6ZSgpO1xuICAgICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuX2RhdGF0eXBlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBpc0FycmF5KGRhdGEuZGF0YSkgJiYgaXNBcnJheShkYXRhLnNpemUpKSB7XG4gICAgICAvLyBpbml0aWFsaXplIGZpZWxkcyBmcm9tIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX2RhdGEgPSBkYXRhLmRhdGE7XG4gICAgICB0aGlzLl9zaXplID0gZGF0YS5zaXplOyAvLyB2ZXJpZnkgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5XG5cbiAgICAgIHZhbGlkYXRlKHRoaXMuX2RhdGEsIHRoaXMuX3NpemUpO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLmRhdGF0eXBlO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgICAgLy8gcmVwbGFjZSBuZXN0ZWQgTWF0cmljZXMgd2l0aCBBcnJheXNcbiAgICAgIHRoaXMuX2RhdGEgPSBwcmVwcm9jZXNzKGRhdGEpOyAvLyBnZXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5XG5cbiAgICAgIHRoaXMuX3NpemUgPSBhcnJheVNpemUodGhpcy5fZGF0YSk7IC8vIHZlcmlmeSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXksIFRPRE86IGNvbXB1dGUgc2l6ZSB3aGlsZSBwcm9jZXNzaW5nIGFycmF5XG5cbiAgICAgIHZhbGlkYXRlKHRoaXMuX2RhdGEsIHRoaXMuX3NpemUpOyAvLyBkYXRhIHR5cGUgdW5rbm93blxuXG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlO1xuICAgIH0gZWxzZSBpZiAoZGF0YSkge1xuICAgICAgLy8gdW5zdXBwb3J0ZWQgdHlwZVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBvZiBkYXRhICgnICsgdHlwZU9mKGRhdGEpICsgJyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm90aGluZyBwcm92aWRlZFxuICAgICAgdGhpcy5fZGF0YSA9IFtdO1xuICAgICAgdGhpcy5fc2l6ZSA9IFswXTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGU7XG4gICAgfVxuICB9XG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlID0gbmV3IE1hdHJpeCgpO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IERlbnNlTWF0cml4XG4gICAqL1xuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGVEZW5zZU1hdHJpeCA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudHlwZSA9ICdEZW5zZU1hdHJpeCc7XG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5pc0RlbnNlTWF0cml4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgIGNvbnN0IG1hdHJpeFR5cGUgPSBtYXRyaXguZ2V0RGF0YVR5cGUoKSAgLy8gcmV0cmlldmVzIHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyT2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgIHR5cGUgaW5mb3JtYXRpb247IGlmIG11bHRpcGxlIHR5cGVzIGFyZSBmb3VuZCBmcm9tIHRoZSBNYXRyaXgsIGl0IHdpbGwgcmV0dXJuIFwibWl4ZWRcIlxuICAgKi9cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZ2V0RGF0YVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEFycmF5RGF0YVR5cGUodGhpcy5fZGF0YSwgdHlwZU9mKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBmb3JtYXQgdXNlZCBieSB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5zdG9yYWdlKCkgIC8vIHJldHJpZXZlIHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgc3RvcmFnZSBmb3JtYXQuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdkZW5zZSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGF0eXBlIG9mIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5kYXRhdHlwZSgpICAgLy8gcmV0cmlldmUgbWF0cml4IGRhdGF0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgZGF0YXR5cGUuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmRhdGF0eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhdHlwZTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBEZW5zZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1YnNldCBvZiB0aGUgbWF0cml4LCBvciByZXBsYWNlIGEgc3Vic2V0IG9mIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3Qgc3Vic2V0ID0gbWF0cml4LnN1YnNldChpbmRleCkgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBzdWJzZXRcbiAgICogICAgIGNvbnN0IHZhbHVlID0gbWF0cml4LnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpICAgLy8gcmVwbGFjZSBzdWJzZXRcbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCAqfSBbcmVwbGFjZW1lbnRdXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnN1YnNldCA9IGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gX2dldCh0aGlzLCBpbmRleCk7XG4gICAgICAvLyBpbnRlbnRpb25hbCBmYWxsIHRocm91Z2hcblxuICAgICAgY2FzZSAyOlxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gX3NldCh0aGlzLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBlbGVtZW50IGZyb20gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggIT09IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayBpbmRleFxuXG5cbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGluZGV4Lmxlbmd0aDsgeCsrKSB7XG4gICAgICB2YWxpZGF0ZUluZGV4KGluZGV4W3hdLCB0aGlzLl9zaXplW3hdKTtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbmRleC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgaW5kZXhJID0gaW5kZXhbaV07XG4gICAgICB2YWxpZGF0ZUluZGV4KGluZGV4SSwgZGF0YS5sZW5ndGgpO1xuICAgICAgZGF0YSA9IGRhdGFbaW5kZXhJXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBsZWZ0IHVuZGVmaW5lZC5cbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IHNlbGZcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoIDwgdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoLCAnPCcpO1xuICAgIH1cblxuICAgIHZhciBpLCBpaSwgaW5kZXhJOyAvLyBlbmxhcmdlIG1hdHJpeCB3aGVuIG5lZWRlZFxuXG4gICAgdmFyIHNpemUgPSBpbmRleC5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBpICsgMTtcbiAgICB9KTtcblxuICAgIF9maXQodGhpcywgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gdHJhdmVyc2Ugb3ZlciB0aGUgZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGluZGV4Lmxlbmd0aCAtIDE7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpbmRleEkgPSBpbmRleFtpXTtcbiAgICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhJLCBkYXRhLmxlbmd0aCk7XG4gICAgICBkYXRhID0gZGF0YVtpbmRleEldO1xuICAgIH0gLy8gc2V0IG5ldyB2YWx1ZVxuXG5cbiAgICBpbmRleEkgPSBpbmRleFtpbmRleC5sZW5ndGggLSAxXTtcbiAgICB2YWxpZGF0ZUluZGV4KGluZGV4SSwgZGF0YS5sZW5ndGgpO1xuICAgIGRhdGFbaW5kZXhJXSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3VibWF0cml4IG9mIHRoaXMgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2dldChtYXRyaXgsIGluZGV4KSB7XG4gICAgaWYgKCFpc0luZGV4KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH1cblxuICAgIHZhciBpc1NjYWxhciA9IGluZGV4LmlzU2NhbGFyKCk7XG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHJldHVybiBhIHNjYWxhclxuICAgICAgcmV0dXJuIG1hdHJpeC5nZXQoaW5kZXgubWluKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG4gICAgICB2YXIgc2l6ZSA9IGluZGV4LnNpemUoKTtcblxuICAgICAgaWYgKHNpemUubGVuZ3RoICE9PSBtYXRyaXguX3NpemUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihzaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCk7XG4gICAgICB9IC8vIHZhbGlkYXRlIGlmIGFueSBvZiB0aGUgcmFuZ2VzIGluIHRoZSBpbmRleCBpcyBvdXQgb2YgcmFuZ2VcblxuXG4gICAgICB2YXIgbWluID0gaW5kZXgubWluKCk7XG4gICAgICB2YXIgbWF4ID0gaW5kZXgubWF4KCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG1hdHJpeC5fc2l6ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgobWluW2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgICAgICB2YWxpZGF0ZUluZGV4KG1heFtpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICAgIH0gLy8gcmV0cmlldmUgc3VibWF0cml4XG4gICAgICAvLyBUT0RPOiBtb3JlIGVmZmljaWVudCB3aGVuIGNyZWF0aW5nIGFuIGVtcHR5IG1hdHJpeCBhbmQgc2V0dGluZyBfZGF0YSBhbmQgX3NpemUgbWFudWFsbHlcblxuXG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KF9nZXRTdWJtYXRyaXgobWF0cml4Ll9kYXRhLCBpbmRleCwgc2l6ZS5sZW5ndGgsIDApLCBtYXRyaXguX2RhdGF0eXBlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGdldCBhIHN1Ym1hdHJpeCBvZiBhIG11bHRpIGRpbWVuc2lvbmFsIG1hdHJpeC5cbiAgICogSW5kZXggaXMgbm90IGNoZWNrZWQgZm9yIGNvcnJlY3QgbnVtYmVyIG9yIGxlbmd0aCBvZiBkaW1lbnNpb25zLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGltcyAgIFRvdGFsIG51bWJlciBvZiBkaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gICAgQ3VycmVudCBkaW1lbnNpb25cbiAgICogQHJldHVybiB7QXJyYXl9IHN1Ym1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9nZXRTdWJtYXRyaXgoZGF0YSwgaW5kZXgsIGRpbXMsIGRpbSkge1xuICAgIHZhciBsYXN0ID0gZGltID09PSBkaW1zIC0gMTtcbiAgICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oZGltKTtcblxuICAgIGlmIChsYXN0KSB7XG4gICAgICByZXR1cm4gcmFuZ2UubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoaSwgZGF0YS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gZGF0YVtpXTtcbiAgICAgIH0pLnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJhbmdlLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGksIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgdmFyIGNoaWxkID0gZGF0YVtpXTtcbiAgICAgICAgcmV0dXJuIF9nZXRTdWJtYXRyaXgoY2hpbGQsIGluZGV4LCBkaW1zLCBkaW0gKyAxKTtcbiAgICAgIH0pLnZhbHVlT2YoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzdWJtYXRyaXggaW4gdGhpcyBtYXRyaXhcbiAgICogSW5kZXhlcyBhcmUgemVyby1iYXNlZC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4IHwgQXJyYXkgfCAqfSBzdWJtYXRyaXhcbiAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgICAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLlxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3NldChtYXRyaXgsIGluZGV4LCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaW5kZXggfHwgaW5kZXguaXNJbmRleCAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH0gLy8gZ2V0IGluZGV4IHNpemUgYW5kIGNoZWNrIHdoZXRoZXIgdGhlIGluZGV4IGNvbnRhaW5zIGEgc2luZ2xlIHZhbHVlXG5cblxuICAgIHZhciBpU2l6ZSA9IGluZGV4LnNpemUoKTtcbiAgICB2YXIgaXNTY2FsYXIgPSBpbmRleC5pc1NjYWxhcigpOyAvLyBjYWxjdWxhdGUgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCwgYW5kIGNvbnZlcnQgaXQgaW50byBhbiBBcnJheSBpZiBuZWVkZWRcblxuICAgIHZhciBzU2l6ZTtcblxuICAgIGlmIChpc01hdHJpeChzdWJtYXRyaXgpKSB7XG4gICAgICBzU2l6ZSA9IHN1Ym1hdHJpeC5zaXplKCk7XG4gICAgICBzdWJtYXRyaXggPSBzdWJtYXRyaXgudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzU2l6ZSA9IGFycmF5U2l6ZShzdWJtYXRyaXgpO1xuICAgIH1cblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gc2V0IGEgc2NhbGFyXG4gICAgICAvLyBjaGVjayB3aGV0aGVyIHN1Ym1hdHJpeCBpcyBhIHNjYWxhclxuICAgICAgaWYgKHNTaXplLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTY2FsYXIgZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgbWF0cml4LnNldChpbmRleC5taW4oKSwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXQgYSBzdWJtYXRyaXhcbiAgICAgIC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcbiAgICAgIGlmIChpU2l6ZS5sZW5ndGggPCBtYXRyaXguX3NpemUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggPCBpU2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIG51bWJlciBvZiBtaXNzaW5nIG91dGVyIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgb3V0ZXIgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSAmJiBzU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIG91dGVyKys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IC8vIHVuc3F1ZWV6ZSBib3RoIG91dGVyIGFuZCBpbm5lciBkaW1lbnNpb25zXG5cblxuICAgICAgICBzdWJtYXRyaXggPSB1bnNxdWVlemUoc3VibWF0cml4LCBpU2l6ZS5sZW5ndGgsIG91dGVyLCBzU2l6ZSk7XG4gICAgICB9IC8vIGNoZWNrIHdoZXRoZXIgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCBtYXRjaGVzIHRoZSBpbmRleCBzaXplXG5cblxuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoaVNpemUsIHNTaXplKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUsIHNTaXplLCAnPicpO1xuICAgICAgfSAvLyBlbmxhcmdlIG1hdHJpeCB3aGVuIG5lZWRlZFxuXG5cbiAgICAgIHZhciBzaXplID0gaW5kZXgubWF4KCkubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgIH0pO1xuXG4gICAgICBfZml0KG1hdHJpeCwgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gaW5zZXJ0IHRoZSBzdWIgbWF0cml4XG5cblxuICAgICAgdmFyIGRpbXMgPSBpU2l6ZS5sZW5ndGg7XG4gICAgICB2YXIgZGltID0gMDtcblxuICAgICAgX3NldFN1Ym1hdHJpeChtYXRyaXguX2RhdGEsIGluZGV4LCBzdWJtYXRyaXgsIGRpbXMsIGRpbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBhIHN1Ym1hdHJpeCBvZiBhIG11bHRpIGRpbWVuc2lvbmFsIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheX0gc3VibWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zICAgVG90YWwgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9zZXRTdWJtYXRyaXgoZGF0YSwgaW5kZXgsIHN1Ym1hdHJpeCwgZGltcywgZGltKSB7XG4gICAgdmFyIGxhc3QgPSBkaW0gPT09IGRpbXMgLSAxO1xuICAgIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbihkaW0pO1xuXG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKGRhdGFJbmRleCwgc3ViSW5kZXgpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChkYXRhSW5kZXgpO1xuICAgICAgICBkYXRhW2RhdGFJbmRleF0gPSBzdWJtYXRyaXhbc3ViSW5kZXhbMF1dO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKGRhdGFJbmRleCwgc3ViSW5kZXgpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChkYXRhSW5kZXgpO1xuXG4gICAgICAgIF9zZXRTdWJtYXRyaXgoZGF0YVtkYXRhSW5kZXhdLCBpbmRleCwgc3VibWF0cml4W3N1YkluZGV4WzBdXSwgZGltcywgZGltICsgMSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2l6ZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdIHx8IE1hdHJpeH0gc2l6ZSBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudHMgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaXplZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2l6ZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUsIGNvcHkpIHtcbiAgICAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoIWlzQ29sbGVjdGlvbihzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgb3IgTWF0cml4IGV4cGVjdGVkJyk7XG4gICAgfSAvLyBTcGFyc2VNYXRyaXggaW5wdXQgaXMgYWx3YXlzIDJkLCBmbGF0dGVuIHRoaXMgaW50byAxZCBpZiBpdCdzIGluZGVlZCBhIHZlY3RvclxuXG5cbiAgICB2YXIgc2l6ZUFycmF5ID0gc2l6ZS52YWx1ZU9mKCkubWFwKHZhbHVlID0+IHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlO1xuICAgIH0pOyAvLyBtYXRyaXggdG8gcmVzaXplXG5cbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzOyAvLyByZXNpemUgbWF0cml4XG5cbiAgICByZXR1cm4gX3Jlc2l6ZShtLCBzaXplQXJyYXksIGRlZmF1bHRWYWx1ZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3Jlc2l6ZShtYXRyaXgsIHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIGNoZWNrIHNpemVcbiAgICBpZiAoc2l6ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIGZpcnN0IHZhbHVlIGluIG1hdHJpeFxuICAgICAgdmFyIHYgPSBtYXRyaXguX2RhdGE7IC8vIGdvIGRlZXBcblxuICAgICAgd2hpbGUgKGlzQXJyYXkodikpIHtcbiAgICAgICAgdiA9IHZbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2O1xuICAgIH0gLy8gcmVzaXplIG1hdHJpeFxuXG5cbiAgICBtYXRyaXguX3NpemUgPSBzaXplLnNsaWNlKDApOyAvLyBjb3B5IHRoZSBhcnJheVxuXG4gICAgbWF0cml4Ll9kYXRhID0gcmVzaXplKG1hdHJpeC5fZGF0YSwgbWF0cml4Ll9zaXplLCBkZWZhdWx0VmFsdWUpOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBSZXNoYXBlIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaGFwZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWlnaHQgYmUgYmV0dGVyIHN1aXRlZCB0byBjb3B5IGJ5IGRlZmF1bHQsIGluc3RlYWQgb2YgbW9kaWZ5aW5nXG4gICAqICAgICAgIGluIHBsYWNlLiBGb3Igbm93LCBpdCBvcGVyYXRlcyBpbiBwbGFjZSB0byByZW1haW4gY29uc2lzdGVudCB3aXRoXG4gICAqICAgICAgIHJlc2l6ZSgpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2hhcGVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaGFwZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnJlc2hhcGUgPSBmdW5jdGlvbiAoc2l6ZSwgY29weSkge1xuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7XG4gICAgbS5fZGF0YSA9IHJlc2hhcGUobS5fZGF0YSwgc2l6ZSk7XG4gICAgbS5fc2l6ZSA9IHNpemUuc2xpY2UoMCk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBFbmxhcmdlIHRoZSBtYXRyaXggd2hlbiBpdCBpcyBzbWFsbGVyIHRoYW4gZ2l2ZW4gc2l6ZS5cbiAgICogSWYgdGhlIG1hdHJpeCBpcyBsYXJnZXIgb3IgZXF1YWwgc2l6ZWQsIG5vdGhpbmcgaXMgZG9uZS5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IG1hdHJpeCAgICAgICAgICAgVGhlIG1hdHJpeCB0byBiZSByZXNpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemVcbiAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgICAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9maXQobWF0cml4LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgLy8gY29weSB0aGUgYXJyYXlcbiAgICBuZXdTaXplID0gbWF0cml4Ll9zaXplLnNsaWNlKDApO1xuXG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTsgLy8gYWRkIGRpbWVuc2lvbnMgd2hlbiBuZWVkZWRcblxuICAgIHdoaWxlIChuZXdTaXplLmxlbmd0aCA8IHNpemUubGVuZ3RoKSB7XG4gICAgICBuZXdTaXplLnB1c2goMCk7XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9IC8vIGVubGFyZ2Ugc2l6ZSB3aGVuIG5lZWRlZFxuXG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzaXplLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmIChzaXplW2ldID4gbmV3U2l6ZVtpXSkge1xuICAgICAgICBuZXdTaXplW2ldID0gc2l6ZVtpXTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgIC8vIHJlc2l6ZSBvbmx5IHdoZW4gc2l6ZSBpcyBjaGFuZ2VkXG4gICAgICBfcmVzaXplKG1hdHJpeCwgbmV3U2l6ZSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBjbG9uZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbSA9IG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjbG9uZSh0aGlzLl9kYXRhKSxcbiAgICAgIHNpemU6IGNsb25lKHRoaXMuX3NpemUpLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemUuc2xpY2UoMCk7IC8vIHJldHVybiBhIGNsb25lIG9mIF9zaXplXG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uXG4gICAqIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICpcbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtYXRyaXggaW5zdGFuY2VcbiAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgdmFyIHJlY3Vyc2UgPSBmdW5jdGlvbiByZWN1cnNlKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY3Vyc2UoY2hpbGQsIGluZGV4LmNvbmNhdChpKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgbWUpO1xuICAgICAgfVxuICAgIH07IC8vIGRldGVybWluZSB0aGUgbmV3IGRhdGF0eXBlIHdoZW4gdGhlIG9yaWdpbmFsIG1hdHJpeCBoYXMgZGF0YXR5cGUgZGVmaW5lZFxuICAgIC8vIFRPRE86IHNob3VsZCBiZSBkb25lIGluIG1hdHJpeCBjb25zdHJ1Y3RvciBpbnN0ZWFkXG5cblxuICAgIHZhciBkYXRhID0gcmVjdXJzZSh0aGlzLl9kYXRhLCBbXSk7XG4gICAgdmFyIGRhdGF0eXBlID0gdGhpcy5fZGF0YXR5cGUgIT09IHVuZGVmaW5lZCA/IGdldEFycmF5RGF0YVR5cGUoZGF0YSwgdHlwZU9mKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtYXRyaXggaW5zdGFuY2VcbiAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgdmFyIHJlY3Vyc2UgPSBmdW5jdGlvbiByZWN1cnNlKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICAgICAgcmVjdXJzZShjaGlsZCwgaW5kZXguY29uY2F0KGkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVjdXJzZSh0aGlzLl9kYXRhLCBbXSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIGRhdGEgb2YgdGhlIERlbnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNsb25lKHRoaXMuX2RhdGEpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIERlbnNlTWF0cml4OiBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMuX2RhdGEsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMuX2RhdGEpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0RlbnNlTWF0cml4JyxcbiAgICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgICBzaXplOiB0aGlzLl9zaXplLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUga3RoIE1hdHJpeCBkaWFnb25hbC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgcmV0cmlldmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggd2l0aCB0aGUgZGlhZ29uYWwgdmFsdWVzLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5kaWFnb25hbCA9IGZ1bmN0aW9uIChrKSB7XG4gICAgLy8gdmFsaWRhdGUgayBpZiBhbnlcbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIG51bWJlciBkaWFnb25hbCB2YWx1ZXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyB4IGlzIGEgbWF0cml4IGdldCBkaWFnb25hbCBmcm9tIG1hdHJpeFxuXG4gICAgdmFyIGRhdGEgPSBbXTsgLy8gbG9vcCByb3dzXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgZGF0YVtpXSA9IHRoaXMuX2RhdGFbaSArIGtTdWJdW2kgKyBrU3VwZXJdO1xuICAgIH0gLy8gY3JlYXRlIERlbnNlTWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHNpemU6IFtuXSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgZGlhZ29uYWwgbWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gc2l6ZSAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggc2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBNYXRyaXggfCBBcnJheSB9IHZhbHVlIFRoZSB2YWx1ZXMgZm9yIHRoZSBkaWFnb25hbC5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIGJlIGZpbGxlZCBpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlIGZvciBub24tZGlhZ29uYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV0gICAgICAgICAgICAgIFRoZSBkYXRhdHlwZSBmb3IgdGhlIGRpYWdvbmFsXG4gICAqXG4gICAqIEByZXR1cm5zIHtEZW5zZU1hdHJpeH1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5kaWFnb25hbCA9IGZ1bmN0aW9uIChzaXplLCB2YWx1ZSwgaywgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpc0FycmF5KHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCwgc2l6ZSBwYXJhbWV0ZXInKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9ucyBtYXRyaXggYXJlIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gbWFwIHNpemUgJiB2YWxpZGF0ZVxuXG5cbiAgICBzaXplID0gc2l6ZS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIC8vIGNoZWNrIGl0IGlzIGEgYmlnIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKHMpKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgaXRcbiAgICAgICAgcyA9IHMudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gdmFsaWRhdGUgYXJndW1lbnRzXG5cblxuICAgICAgaWYgKCFpc051bWJlcihzKSB8fCAhaXNJbnRlZ2VyKHMpIHx8IHMgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l6ZSB2YWx1ZXMgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcztcbiAgICB9KTsgLy8gdmFsaWRhdGUgayBpZiBhbnlcblxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBzaXplWzFdOyAvLyBudW1iZXIgb2Ygbm9uLXplcm8gaXRlbXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyB2YWx1ZSBleHRyYWN0aW9uIGZ1bmN0aW9uXG5cbiAgICB2YXIgX3ZhbHVlOyAvLyBjaGVjayB2YWx1ZVxuXG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIC8vIHZhbGlkYXRlIGFycmF5XG4gICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBhcnJheSBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWVbaV07XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNNYXRyaXgodmFsdWUpKSB7XG4gICAgICAvLyBtYXRyaXggc2l6ZVxuICAgICAgdmFyIG1zID0gdmFsdWUuc2l6ZSgpOyAvLyB2YWxpZGF0ZSBtYXRyaXhcblxuICAgICAgaWYgKG1zLmxlbmd0aCAhPT0gMSB8fCBtc1swXSAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWF0cml4IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZS5nZXQoW2ldKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmluZSBmdW5jdGlvblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKCkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWVcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9IC8vIGRpc2NvdmVyIGRlZmF1bHQgdmFsdWUgaWYgbmVlZGVkXG5cblxuICAgIGlmICghZGVmYXVsdFZhbHVlKSB7XG4gICAgICAvLyBjaGVjayBmaXJzdCB2YWx1ZSBpbiBhcnJheVxuICAgICAgZGVmYXVsdFZhbHVlID0gaXNCaWdOdW1iZXIoX3ZhbHVlKDApKSA/IF92YWx1ZSgwKS5tdWwoMCkgLy8gdHJpY2sgdG8gY3JlYXRlIGEgQmlnTnVtYmVyIHdpdGggdmFsdWUgemVyb1xuICAgICAgOiAwO1xuICAgIH0gLy8gZW1wdHkgYXJyYXlcblxuXG4gICAgdmFyIGRhdGEgPSBbXTsgLy8gY2hlY2sgd2UgbmVlZCB0byByZXNpemUgYXJyYXlcblxuICAgIGlmIChzaXplLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHJlc2l6ZSBhcnJheVxuICAgICAgZGF0YSA9IHJlc2l6ZShkYXRhLCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyBmaWxsIGRpYWdvbmFsXG5cbiAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgbjsgZCsrKSB7XG4gICAgICAgIGRhdGFbZCArIGtTdWJdW2QgKyBrU3VwZXJdID0gX3ZhbHVlKGQpO1xuICAgICAgfVxuICAgIH0gLy8gY3JlYXRlIERlbnNlTWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogR2VuZXJhdGUgYSBtYXRyaXggZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkRlbnNlTWF0cml4XCIsIGRhdGE6IFtdLCBzaXplOiBbXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtEZW5zZU1hdHJpeH1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyBpIGFuZCBqIGluIE1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgVGhlIG1hdHJpeCByZWZlcmVuY2VcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc3dhcFJvd3MgPSBmdW5jdGlvbiAoaSwgaikge1xuICAgIC8vIGNoZWNrIGluZGV4XG4gICAgaWYgKCFpc051bWJlcihpKSB8fCAhaXNJbnRlZ2VyKGkpIHx8ICFpc051bWJlcihqKSB8fCAhaXNJbnRlZ2VyKGopKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdyBpbmRleCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfSAvLyBjaGVjayBkaW1lbnNpb25zXG5cblxuICAgIGlmICh0aGlzLl9zaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25hbCBtYXRyaXggaXMgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbmRleFxuXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHRoaXMuX3NpemVbMF0pO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgdGhpcy5fc2l6ZVswXSk7IC8vIHN3YXAgcm93c1xuXG4gICAgRGVuc2VNYXRyaXguX3N3YXBSb3dzKGksIGosIHRoaXMuX2RhdGEpOyAvLyByZXR1cm4gY3VycmVudCBpbnN0YW5jZVxuXG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyBpIGFuZCBqIGluIERlbnNlIE1hdHJpeCBkYXRhIHN0cnVjdHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhICAgICBNYXRyaXggZGF0YVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4Ll9zd2FwUm93cyA9IGZ1bmN0aW9uIChpLCBqLCBkYXRhKSB7XG4gICAgLy8gc3dhcCB2YWx1ZXMgaSA8LT4galxuICAgIHZhciB2aSA9IGRhdGFbaV07XG4gICAgZGF0YVtpXSA9IGRhdGFbal07XG4gICAgZGF0YVtqXSA9IHZpO1xuICB9O1xuICAvKipcbiAgICogUHJlcHJvY2VzcyBkYXRhLCB3aGljaCBjYW4gYmUgYW4gQXJyYXkgb3IgRGVuc2VNYXRyaXggd2l0aCBuZXN0ZWQgQXJyYXlzIGFuZFxuICAgKiBNYXRyaWNlcy4gUmVwbGFjZXMgYWxsIG5lc3RlZCBNYXRyaWNlcyB3aXRoIEFycmF5c1xuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcmV0dXJuIHtBcnJheX0gZGF0YVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHByZXByb2Nlc3MoZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRhdGEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGVsZW0gPSBkYXRhW2ldO1xuXG4gICAgICBpZiAoaXNBcnJheShlbGVtKSkge1xuICAgICAgICBkYXRhW2ldID0gcHJlcHJvY2VzcyhlbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbSAmJiBlbGVtLmlzTWF0cml4ID09PSB0cnVlKSB7XG4gICAgICAgIGRhdGFbaV0gPSBwcmVwcm9jZXNzKGVsZW0udmFsdWVPZigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHJldHVybiBEZW5zZU1hdHJpeDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNDb2xsZWN0aW9uLCBpc01hdHJpeCB9IGZyb20gJy4vaXMuanMnO1xuaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi9hcnJheS5qcyc7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBjb250YWlucyBjb2xsZWN0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgYXJyYXkgY29udGFpbnMgb25lIG9yIG11bHRpcGxlXG4gKiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnMgKEFycmF5cyBvciBNYXRyaWNlcykuIFJldHVybnMgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0NvbGxlY3Rpb25zKGFycmF5KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXNDb2xsZWN0aW9uKGFycmF5W2ldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBsb29wIG92ZXIgYWxsIGVsZW1lbnRzIGluIGEgZ2l2ZW4gbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIGFuZCBpbnZva2UgdGhlIGNhbGxiYWNrIG9uIGVhY2ggb2YgdGhlIGVsZW1lbnRzLlxuICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICBUaGUgY2FsbGJhY2sgbWV0aG9kIGlzIGludm9rZWQgd2l0aCBvbmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXI6IHRoZSBjdXJyZW50IGVsZW1lbnQgaW4gdGhlIGFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBGb3JFYWNoKGFycmF5LCBjYWxsYmFjaykge1xuICBpZiAoaXNNYXRyaXgoYXJyYXkpKSB7XG4gICAgYXJyYXkgPSBhcnJheS52YWx1ZU9mKCk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGRlZXBGb3JFYWNoKHZhbHVlLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRXhlY3V0ZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZWxlbWVudCB3aXNlIGZvciBlYWNoIGVsZW1lbnQgaW4gYXJyYXkgYW5kIGFueVxuICogbmVzdGVkIGFycmF5XG4gKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCB0d28gcGFyYW1ldGVyczpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUxIGFuZCB2YWx1ZTIsIHdoaWNoIGNvbnRhaW4gdGhlIGN1cnJlbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCBvZiBib3RoIGFycmF5cy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gcmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBNYXAoYXJyYXksIGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgaWYgKGFycmF5ICYmIHR5cGVvZiBhcnJheS5tYXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUT0RPOiByZXBsYWNlIGFycmF5Lm1hcCB3aXRoIGEgZm9yIGxvb3AgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZVxuICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGNhbGxiYWNrLCBza2lwWmVyb3MpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjYWxsYmFjayhhcnJheSk7XG4gIH1cbn1cbi8qKlxuICogUmVkdWNlIGEgZ2l2ZW4gbWF0cml4IG9yIGFycmF5IHRvIGEgbmV3IG1hdHJpeCBvclxuICogYXJyYXkgd2l0aCBvbmUgbGVzcyBkaW1lbnNpb24sIGFwcGx5aW5nIHRoZSBnaXZlblxuICogY2FsbGJhY2sgaW4gdGhlIHNlbGVjdGVkIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IG1hdFxuICogQHBhcmFtIHtudW1iZXJ9IGRpbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSByZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlKG1hdCwgZGltLCBjYWxsYmFjaykge1xuICB2YXIgc2l6ZSA9IEFycmF5LmlzQXJyYXkobWF0KSA/IGFycmF5U2l6ZShtYXQpIDogbWF0LnNpemUoKTtcblxuICBpZiAoZGltIDwgMCB8fCBkaW0gPj0gc2l6ZS5sZW5ndGgpIHtcbiAgICAvLyBUT0RPOiB3b3VsZCBiZSBtb3JlIGNsZWFyIHdoZW4gdGhyb3dpbmcgYSBEaW1lbnNpb25FcnJvciBoZXJlXG4gICAgdGhyb3cgbmV3IEluZGV4RXJyb3IoZGltLCBzaXplLmxlbmd0aCk7XG4gIH1cblxuICBpZiAoaXNNYXRyaXgobWF0KSkge1xuICAgIHJldHVybiBtYXQuY3JlYXRlKF9yZWR1Y2UobWF0LnZhbHVlT2YoKSwgZGltLCBjYWxsYmFjaykpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfcmVkdWNlKG1hdCwgZGltLCBjYWxsYmFjayk7XG4gIH1cbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgcmVkdWNlIGEgbWF0cml4XG4gKiBAcGFyYW0ge0FycmF5fSBtYXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldFxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfcmVkdWNlKG1hdCwgZGltLCBjYWxsYmFjaykge1xuICB2YXIgaSwgcmV0LCB2YWwsIHRyYW47XG5cbiAgaWYgKGRpbSA8PSAwKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1hdFswXSkpIHtcbiAgICAgIHZhbCA9IG1hdFswXTtcblxuICAgICAgZm9yIChpID0gMTsgaSA8IG1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWwgPSBjYWxsYmFjayh2YWwsIG1hdFtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW4gPSBfc3dpdGNoKG1hdCk7XG4gICAgICByZXQgPSBbXTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRyYW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmV0W2ldID0gX3JlZHVjZSh0cmFuW2ldLCBkaW0gLSAxLCBjYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldID0gX3JlZHVjZShtYXRbaV0sIGRpbSAtIDEsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG59XG4vKipcbiAqIFRyYW5zcG9zZSBhIG1hdHJpeFxuICogQHBhcmFtIHtBcnJheX0gbWF0XG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldFxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zd2l0Y2gobWF0KSB7XG4gIHZhciBJID0gbWF0Lmxlbmd0aDtcbiAgdmFyIEogPSBtYXRbMF0ubGVuZ3RoO1xuICB2YXIgaSwgajtcbiAgdmFyIHJldCA9IFtdO1xuXG4gIGZvciAoaiA9IDA7IGogPCBKOyBqKyspIHtcbiAgICB2YXIgdG1wID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgSTsgaSsrKSB7XG4gICAgICB0bXAucHVzaChtYXRbaV1bal0pO1xuICAgIH1cblxuICAgIHJldC5wdXNoKHRtcCk7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufSAvLyBUT0RPOiBkb2N1bWVudCBmdW5jdGlvbiBzY2F0dGVyXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYXR0ZXIoYSwgaiwgdywgeCwgdSwgbWFyaywgY2luZGV4LCBmLCBpbnZlcnNlLCB1cGRhdGUsIHZhbHVlKSB7XG4gIC8vIGEgYXJyYXlzXG4gIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gIHZhciBhcHRyID0gYS5fcHRyOyAvLyB2YXJzXG5cbiAgdmFyIGssIGswLCBrMSwgaTsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlcyAocGF0dGVybiBtYXRyaXgpXG5cbiAgaWYgKHgpIHtcbiAgICAvLyB2YWx1ZXMgaW4galxuICAgIGZvciAoazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIGkgPSBhaW5kZXhba107IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgaWYgKHdbaV0gIT09IG1hcmspIHtcbiAgICAgICAgLy8gaSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICB3W2ldID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHgoaSkgPSBBLCBjaGVjayB3ZSBuZWVkIHRvIGNhbGwgZnVuY3Rpb24gdGhpcyB0aW1lXG5cbiAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgIC8vIGNvcHkgdmFsdWUgdG8gd29ya3NwYWNlIGNhbGxpbmcgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGYoYXZhbHVlc1trXSwgdmFsdWUpIDogZih2YWx1ZSwgYXZhbHVlc1trXSk7IC8vIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb24gY3VycmVudCByb3dcblxuICAgICAgICAgIHVbaV0gPSBtYXJrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvcHkgdmFsdWUgdG8gd29ya3NwYWNlXG4gICAgICAgICAgeFtpXSA9IGF2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGYoYXZhbHVlc1trXSwgeFtpXSkgOiBmKHhbaV0sIGF2YWx1ZXNba10pOyAvLyBmdW5jdGlvbiB3YXMgY2FsbGVkIG9uIGN1cnJlbnQgcm93XG5cbiAgICAgICAgdVtpXSA9IG1hcms7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHZhbHVlcyBpbiBqXG4gICAgZm9yIChrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgaSA9IGFpbmRleFtrXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICBpZiAod1tpXSAhPT0gbWFyaykge1xuICAgICAgICAvLyBpIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgIHdbaV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluZGljYXRlIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb24gY3VycmVudCByb3dcbiAgICAgICAgdVtpXSA9IG1hcms7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgaXNJbnRlZ2VyLCBsb2cyLCBsb2cxMCwgY2JydCwgZXhwbTEsIHNpZ24sIHRvRml4ZWQsIGxvZzFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbnZhciBuMSA9ICdudW1iZXInO1xudmFyIG4yID0gJ251bWJlciwgbnVtYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBhYnNOdW1iZXIoYSkge1xuICByZXR1cm4gTWF0aC5hYnMoYSk7XG59XG5hYnNOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gYWRkTnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgKyBiO1xufVxuYWRkTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0TnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuc3VidHJhY3ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlOdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSAqIGI7XG59XG5tdWx0aXBseU51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVOdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSAvIGI7XG59XG5kaXZpZGVOdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gdW5hcnlNaW51c051bWJlcih4KSB7XG4gIHJldHVybiAteDtcbn1cbnVuYXJ5TWludXNOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gdW5hcnlQbHVzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHg7XG59XG51bmFyeVBsdXNOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gY2JydE51bWJlcih4KSB7XG4gIHJldHVybiBjYnJ0KHgpO1xufVxuY2JydE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBjZWlsTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguY2VpbCh4KTtcbn1cbmNlaWxOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gY3ViZU51bWJlcih4KSB7XG4gIHJldHVybiB4ICogeCAqIHg7XG59XG5jdWJlTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cE51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmV4cCh4KTtcbn1cbmV4cE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBleHBtMU51bWJlcih4KSB7XG4gIHJldHVybiBleHBtMSh4KTtcbn1cbmV4cG0xTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGZpeE51bWJlcih4KSB7XG4gIHJldHVybiB4ID4gMCA/IE1hdGguZmxvb3IoeCkgOiBNYXRoLmNlaWwoeCk7XG59XG5maXhOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZmxvb3JOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5mbG9vcih4KTtcbn1cbmZsb29yTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgZ2NkIGZvciBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGdyZWF0ZXN0IGNvbW1vbiBkZW5vbWluYXRvciBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdjZE51bWJlcihhLCBiKSB7XG4gIGlmICghaXNJbnRlZ2VyKGEpIHx8ICFpc0ludGVnZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gZ2NkIG11c3QgYmUgaW50ZWdlciBudW1iZXJzJyk7XG4gIH0gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXVjbGlkZWFuX2FsZ29yaXRobVxuXG5cbiAgdmFyIHI7XG5cbiAgd2hpbGUgKGIgIT09IDApIHtcbiAgICByID0gYSAlIGI7XG4gICAgYSA9IGI7XG4gICAgYiA9IHI7XG4gIH1cblxuICByZXR1cm4gYSA8IDAgPyAtYSA6IGE7XG59XG5nY2ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSBsY20gZm9yIHR3byBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGxlYXN0IGNvbW1vbiBtdWx0aXBsZSBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxjbU51bWJlcihhLCBiKSB7XG4gIGlmICghaXNJbnRlZ2VyKGEpIHx8ICFpc0ludGVnZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gbGNtIG11c3QgYmUgaW50ZWdlciBudW1iZXJzJyk7XG4gIH1cblxuICBpZiAoYSA9PT0gMCB8fCBiID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH0gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXVjbGlkZWFuX2FsZ29yaXRobVxuICAvLyBldmFsdWF0ZSBsY20gaGVyZSBpbmxpbmUgdG8gcmVkdWNlIG92ZXJoZWFkXG5cblxuICB2YXIgdDtcbiAgdmFyIHByb2QgPSBhICogYjtcblxuICB3aGlsZSAoYiAhPT0gMCkge1xuICAgIHQgPSBiO1xuICAgIGIgPSBhICUgdDtcbiAgICBhID0gdDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLmFicyhwcm9kIC8gYSk7XG59XG5sY21OdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbG9nYXJpdGhtIG9mIGEgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCk7XG59XG5sb2dOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgMTAtYmFzZSBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZzEwTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGxvZzEwKHgpO1xufVxubG9nMTBOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgMi1iYXNlIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nMk51bWJlcih4KSB7XG4gIHJldHVybiBsb2cyKHgpO1xufVxubG9nMk51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIGBudW1iZXIrMWBcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cxcE51bWJlcih4KSB7XG4gIHJldHVybiBsb2cxcCh4KTtcbn1cbmxvZzFwTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG1vZHVsdXMgb2YgdHdvIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHJldHVybnMge251bWJlcn0gcmVzXG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtb2ROdW1iZXIoeCwgeSkge1xuICBpZiAoeSA+IDApIHtcbiAgICAvLyBXZSBkb24ndCB1c2UgSmF2YVNjcmlwdCdzICUgb3BlcmF0b3IgaGVyZSBhcyB0aGlzIGRvZXNuJ3Qgd29ya1xuICAgIC8vIGNvcnJlY3RseSBmb3IgeCA8IDAgYW5kIHggPT09IDBcbiAgICAvLyBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTW9kdWxvX29wZXJhdGlvblxuICAgIHJldHVybiB4IC0geSAqIE1hdGguZmxvb3IoeCAvIHkpO1xuICB9IGVsc2UgaWYgKHkgPT09IDApIHtcbiAgICByZXR1cm4geDtcbiAgfSBlbHNlIHtcbiAgICAvLyB5IDwgMFxuICAgIC8vIFRPRE86IGltcGxlbWVudCBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvclxuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvcicpO1xuICB9XG59XG5tb2ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbnRoIHJvb3Qgb2YgYSwgc29sdmUgeF5yb290ID09IGFcbiAqIGh0dHA6Ly9yb3NldHRhY29kZS5vcmcvd2lraS9OdGhfcm9vdCNKYXZhU2NyaXB0XG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IHJvb3RcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG50aFJvb3ROdW1iZXIoYSwgcm9vdCkge1xuICB2YXIgaW52ID0gcm9vdCA8IDA7XG5cbiAgaWYgKGludikge1xuICAgIHJvb3QgPSAtcm9vdDtcbiAgfVxuXG4gIGlmIChyb290ID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSb290IG11c3QgYmUgbm9uLXplcm8nKTtcbiAgfVxuXG4gIGlmIChhIDwgMCAmJiBNYXRoLmFicyhyb290KSAlIDIgIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jvb3QgbXVzdCBiZSBvZGQgd2hlbiBhIGlzIG5lZ2F0aXZlLicpO1xuICB9IC8vIGVkZ2UgY2FzZXMgemVybyBhbmQgaW5maW5pdHlcblxuXG4gIGlmIChhID09PSAwKSB7XG4gICAgcmV0dXJuIGludiA/IEluZmluaXR5IDogMDtcbiAgfVxuXG4gIGlmICghaXNGaW5pdGUoYSkpIHtcbiAgICByZXR1cm4gaW52ID8gMCA6IGE7XG4gIH1cblxuICB2YXIgeCA9IE1hdGgucG93KE1hdGguYWJzKGEpLCAxIC8gcm9vdCk7IC8vIElmIGEgPCAwLCB3ZSByZXF1aXJlIHRoYXQgcm9vdCBpcyBhbiBvZGQgaW50ZWdlcixcbiAgLy8gc28gKC0xKSBeICgxL3Jvb3QpID0gLTFcblxuICB4ID0gYSA8IDAgPyAteCA6IHg7XG4gIHJldHVybiBpbnYgPyAxIC8geCA6IHg7IC8vIFZlcnkgbmljZSBhbGdvcml0aG0sIGJ1dCBmYWlscyB3aXRoIG50aFJvb3QoLTIsIDMpLlxuICAvLyBOZXd0b24ncyBtZXRob2QgaGFzIHNvbWUgd2VsbC1rbm93biBwcm9ibGVtcyBhdCB0aW1lczpcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTmV3dG9uJTI3c19tZXRob2QjRmFpbHVyZV9hbmFseXNpc1xuXG4gIC8qXG4gIGxldCB4ID0gMSAvLyBJbml0aWFsIGd1ZXNzXG4gIGxldCB4UHJldiA9IDFcbiAgbGV0IGkgPSAwXG4gIGNvbnN0IGlNYXggPSAxMDAwMFxuICBkbyB7XG4gICAgY29uc3QgZGVsdGEgPSAoYSAvIE1hdGgucG93KHgsIHJvb3QgLSAxKSAtIHgpIC8gcm9vdFxuICAgIHhQcmV2ID0geFxuICAgIHggPSB4ICsgZGVsdGFcbiAgICBpKytcbiAgfVxuICB3aGlsZSAoeFByZXYgIT09IHggJiYgaSA8IGlNYXgpXG4gICBpZiAoeFByZXYgIT09IHgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIG50aFJvb3QgZmFpbGVkIHRvIGNvbnZlcmdlJylcbiAgfVxuICAgcmV0dXJuIGludiA/IDEgLyB4IDogeFxuICAqL1xufVxubnRoUm9vdE51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBzaWduTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHNpZ24oeCk7XG59XG5zaWduTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIHNxcnROdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KHgpO1xufVxuc3FydE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVOdW1iZXIoeCkge1xuICByZXR1cm4geCAqIHg7XG59XG5zcXVhcmVOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB4Z2NkIGZvciB0d28gbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc3VsdFxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24geGdjZE51bWJlcihhLCBiKSB7XG4gIC8vIHNvdXJjZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXh0ZW5kZWRfRXVjbGlkZWFuX2FsZ29yaXRobVxuICB2YXIgdDsgLy8gdXNlZCB0byBzd2FwIHR3byB2YXJpYWJsZXNcblxuICB2YXIgcTsgLy8gcXVvdGllbnRcblxuICB2YXIgcjsgLy8gcmVtYWluZGVyXG5cbiAgdmFyIHggPSAwO1xuICB2YXIgbGFzdHggPSAxO1xuICB2YXIgeSA9IDE7XG4gIHZhciBsYXN0eSA9IDA7XG5cbiAgaWYgKCFpc0ludGVnZXIoYSkgfHwgIWlzSW50ZWdlcihiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiB4Z2NkIG11c3QgYmUgaW50ZWdlciBudW1iZXJzJyk7XG4gIH1cblxuICB3aGlsZSAoYikge1xuICAgIHEgPSBNYXRoLmZsb29yKGEgLyBiKTtcbiAgICByID0gYSAtIHEgKiBiO1xuICAgIHQgPSB4O1xuICAgIHggPSBsYXN0eCAtIHEgKiB4O1xuICAgIGxhc3R4ID0gdDtcbiAgICB0ID0geTtcbiAgICB5ID0gbGFzdHkgLSBxICogeTtcbiAgICBsYXN0eSA9IHQ7XG4gICAgYSA9IGI7XG4gICAgYiA9IHI7XG4gIH1cblxuICB2YXIgcmVzO1xuXG4gIGlmIChhIDwgMCkge1xuICAgIHJlcyA9IFstYSwgLWxhc3R4LCAtbGFzdHldO1xuICB9IGVsc2Uge1xuICAgIHJlcyA9IFthLCBhID8gbGFzdHggOiAwLCBsYXN0eV07XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxueGdjZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG93ZXIgb2YgeCB0byB5LCB4XnksIGZvciB0d28gbnVtYmVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHJldHVybiB7bnVtYmVyfSByZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcG93TnVtYmVyKHgsIHkpIHtcbiAgLy8geF5JbmZpbml0eSA9PT0gMCBpZiAtMSA8IHggPCAxXG4gIC8vIEEgcmVhbCBudW1iZXIgMCBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGNvbXBsZXgoMClcbiAgaWYgKHggKiB4IDwgMSAmJiB5ID09PSBJbmZpbml0eSB8fCB4ICogeCA+IDEgJiYgeSA9PT0gLUluZmluaXR5KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gTWF0aC5wb3coeCwgeSk7XG59XG5wb3dOdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIHJvdW5kIGEgbnVtYmVyIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbHMsIG9yIHRvIHplcm8gaWYgZGVjaW1hbHMgaXNcbiAqIG5vdCBwcm92aWRlZFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgICAgICAgbnVtYmVyIG9mIGRlY2ltYWxzLCBiZXR3ZWVuIDAgYW5kIDE1ICgwIGJ5IGRlZmF1bHQpXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJvdW5kZWRWYWx1ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZE51bWJlcih2YWx1ZSkge1xuICB2YXIgZGVjaW1hbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIHJldHVybiBwYXJzZUZsb2F0KHRvRml4ZWQodmFsdWUsIGRlY2ltYWxzKSk7XG59XG5yb3VuZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBub3JtIG9mIGEgbnVtYmVyLCB0aGUgYWJzb2x1dGUgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguYWJzKHgpO1xufVxubm9ybU51bWJlci5zaWduYXR1cmUgPSBuMTsiLCJpbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdpc051bWVyaWMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSXNOdW1lcmljID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIGFuIG51bWVyaWMgdmFsdWUuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudC13aXNlIGluIGNhc2Ugb2YgQXJyYXkgb3IgTWF0cml4IGlucHV0LlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmlzTnVtZXJpYyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5pc051bWVyaWMoMikgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMoJzInKSAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGguaGFzTnVtZXJpY1ZhbHVlKCcyJykgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKDApICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKG1hdGguYmlnbnVtYmVyKDUwMCkpICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKG1hdGguZnJhY3Rpb24oNCkpICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKG1hdGguY29tcGxleCgnMi00aScpICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhbMi4zLCAnZm9vJywgZmFsc2VdKSAgIC8vIHJldHVybnMgW3RydWUsIGZhbHNlLCB0cnVlXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgaXNaZXJvLCBpc1Bvc2l0aXZlLCBpc05lZ2F0aXZlLCBpc0ludGVnZXIsIGhhc051bWVyaWNWYWx1ZVxuICAgKlxuICAgKiBAcGFyYW0geyp9IHggICAgICAgVmFsdWUgdG8gYmUgdGVzdGVkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICBSZXR1cm5zIHRydWUgd2hlbiBgeGAgaXMgYSBgbnVtYmVyYCwgYEJpZ051bWJlcmAsXG4gICAqICAgICAgICAgICAgICAgICAgICBgRnJhY3Rpb25gLCBvciBgYm9vbGVhbmAuIFJldHVybnMgZmFsc2UgZm9yIG90aGVyIHR5cGVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgVGhyb3dzIGFuIGVycm9yIGluIGNhc2Ugb2YgdW5rbm93biB0eXBlcy5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlckZyYWN0aW9uQm9vbGVhbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgJ0NvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCB8IE5vZGUnOiBmdW5jdGlvbiBDb21wbGV4VW5pdFN0cmluZ051bGxVbmRlZmluZWROb2RlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsIi8qKlxuICogQ29tcGFyZXMgdHdvIEJpZ051bWJlcnMuXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0geCAgICAgICBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0geSAgICAgICBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtlcHNpbG9uXSAgVGhlIG1heGltdW0gcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGVwc2lsb24gaXMgdW5kZWZpbmVkIG9yIG51bGwsIHRoZSBmdW5jdGlvbiB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHR3byBudW1iZXJzIGFyZSBuZWFybHkgZXF1YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lYXJseUVxdWFsKHgsIHksIGVwc2lsb24pIHtcbiAgLy8gaWYgZXBzaWxvbiBpcyBudWxsIG9yIHVuZGVmaW5lZCwgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWxcbiAgaWYgKGVwc2lsb24gPT09IG51bGwgfHwgZXBzaWxvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHguZXEoeSk7XG4gIH0gLy8gdXNlIFwiPT1cIiBvcGVyYXRvciwgaGFuZGxlcyBpbmZpbml0aWVzXG5cblxuICBpZiAoeC5lcSh5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5hTlxuXG5cbiAgaWYgKHguaXNOYU4oKSB8fCB5LmlzTmFOKCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gYXQgdGhpcyBwb2ludCB4IGFuZCB5IHNob3VsZCBiZSBmaW5pdGVcblxuXG4gIGlmICh4LmlzRmluaXRlKCkgJiYgeS5pc0Zpbml0ZSgpKSB7XG4gICAgLy8gY2hlY2sgbnVtYmVycyBhcmUgdmVyeSBjbG9zZSwgbmVlZGVkIHdoZW4gY29tcGFyaW5nIG51bWJlcnMgbmVhciB6ZXJvXG4gICAgdmFyIGRpZmYgPSB4Lm1pbnVzKHkpLmFicygpO1xuXG4gICAgaWYgKGRpZmYuaXNaZXJvKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2UgcmVsYXRpdmUgZXJyb3JcbiAgICAgIHZhciBtYXggPSB4LmNvbnN0cnVjdG9yLm1heCh4LmFicygpLCB5LmFicygpKTtcbiAgICAgIHJldHVybiBkaWZmLmx0ZShtYXgudGltZXMoZXBzaWxvbikpO1xuICAgIH1cbiAgfSAvLyBJbmZpbml0ZSBhbmQgTnVtYmVyIG9yIG5lZ2F0aXZlIEluZmluaXRlIGFuZCBwb3NpdGl2ZSBJbmZpbml0ZSBjYXNlc1xuXG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsImltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNvbXBsZXhFcXVhbHMgfSBmcm9tICcuLi8uLi91dGlscy9jb21wbGV4LmpzJztcbnZhciBuYW1lID0gJ2VxdWFsU2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZyddO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbFNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHR3byBzY2FsYXIgdmFsdWVzIGFyZSBuZWFybHkgZXF1YWwuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IENvbXBsZXggfCBVbml0fSB4ICAgRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBDb21wbGV4fSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm5zIHRydWUgd2hlbiB0aGUgY29tcGFyZWQgdmFsdWVzIGFyZSBlcXVhbCwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdib29sZWFuLCBib29sZWFuJzogZnVuY3Rpb24gYm9vbGVhbkJvb2xlYW4oeCwgeSkge1xuICAgICAgcmV0dXJuIHggPT09IHk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIG5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5lcSh5KSB8fCBiaWdOZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5lcXVhbHMoeSk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiBjb21wbGV4RXF1YWxzKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb21wYXJlIHVuaXRzIHdpdGggZGlmZmVyZW50IGJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMoeC52YWx1ZSwgeS52YWx1ZSk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbFNjYWxhck51bWJlciA9IGZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdjb25maWcnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIG5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuL251bWJlci5qcyc7XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0d28gY29tcGxleCB2YWx1ZXMgYXJlIGVxdWFsIHByb3ZpZGVkIGEgZ2l2ZW4gZXBzaWxvbi5cbiAqIERvZXMgbm90IHVzZSBvciBjaGFuZ2UgdGhlIGdsb2JhbCBDb21wbGV4LkVQU0lMT04gc2V0dGluZ1xuICogQHBhcmFtIHtDb21wbGV4fSB4XG4gKiBAcGFyYW0ge0NvbXBsZXh9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBlcHNpbG9uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcGxleEVxdWFscyh4LCB5LCBlcHNpbG9uKSB7XG4gIHJldHVybiBuZWFybHlFcXVhbCh4LnJlLCB5LnJlLCBlcHNpbG9uKSAmJiBuZWFybHlFcXVhbCh4LmltLCB5LmltLCBlcHNpbG9uKTtcbn0iLCJpbXBvcnQgeyBpc0FycmF5LCBpc0JpZ051bWJlciwgaXNDb2xsZWN0aW9uLCBpc0luZGV4LCBpc01hdHJpeCwgaXNOdW1iZXIsIGlzU3RyaW5nLCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGNsb25lLCBkZWVwU3RyaWN0RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplLCBnZXRBcnJheURhdGFUeXBlLCB1bnNxdWVlemUsIHZhbGlkYXRlSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ1NwYXJzZU1hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhcicsICdNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFNwYXJzZSBNYXRyaXggaW1wbGVtZW50YXRpb24uIFRoaXMgdHlwZSBpbXBsZW1lbnRzIGEgQ29tcHJlc3NlZCBDb2x1bW4gU3RvcmFnZSBmb3JtYXRcbiAgICogZm9yIHNwYXJzZSBtYXRyaWNlcy5cbiAgICogQGNsYXNzIFNwYXJzZU1hdHJpeFxuICAgKi9cbiAgZnVuY3Rpb24gU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwYXJzZU1hdHJpeCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGF0eXBlICYmICFpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhdHlwZTogJyArIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXRyaXgoZGF0YSkpIHtcbiAgICAgIC8vIGNyZWF0ZSBmcm9tIG1hdHJpeFxuICAgICAgX2NyZWF0ZUZyb21NYXRyaXgodGhpcywgZGF0YSwgZGF0YXR5cGUpO1xuICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBpc0FycmF5KGRhdGEuaW5kZXgpICYmIGlzQXJyYXkoZGF0YS5wdHIpICYmIGlzQXJyYXkoZGF0YS5zaXplKSkge1xuICAgICAgLy8gaW5pdGlhbGl6ZSBmaWVsZHNcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IGRhdGEudmFsdWVzO1xuICAgICAgdGhpcy5faW5kZXggPSBkYXRhLmluZGV4O1xuICAgICAgdGhpcy5fcHRyID0gZGF0YS5wdHI7XG4gICAgICB0aGlzLl9zaXplID0gZGF0YS5zaXplO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLmRhdGF0eXBlO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgICAgLy8gY3JlYXRlIGZyb20gYXJyYXlcbiAgICAgIF9jcmVhdGVGcm9tQXJyYXkodGhpcywgZGF0YSwgZGF0YXR5cGUpO1xuICAgIH0gZWxzZSBpZiAoZGF0YSkge1xuICAgICAgLy8gdW5zdXBwb3J0ZWQgdHlwZVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBvZiBkYXRhICgnICsgdHlwZU9mKGRhdGEpICsgJyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm90aGluZyBwcm92aWRlZFxuICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICB0aGlzLl9pbmRleCA9IFtdO1xuICAgICAgdGhpcy5fcHRyID0gWzBdO1xuICAgICAgdGhpcy5fc2l6ZSA9IFswLCAwXTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZyb21NYXRyaXgobWF0cml4LCBzb3VyY2UsIGRhdGF0eXBlKSB7XG4gICAgLy8gY2hlY2sgbWF0cml4IHR5cGVcbiAgICBpZiAoc291cmNlLnR5cGUgPT09ICdTcGFyc2VNYXRyaXgnKSB7XG4gICAgICAvLyBjbG9uZSBhcnJheXNcbiAgICAgIG1hdHJpeC5fdmFsdWVzID0gc291cmNlLl92YWx1ZXMgPyBjbG9uZShzb3VyY2UuX3ZhbHVlcykgOiB1bmRlZmluZWQ7XG4gICAgICBtYXRyaXguX2luZGV4ID0gY2xvbmUoc291cmNlLl9pbmRleCk7XG4gICAgICBtYXRyaXguX3B0ciA9IGNsb25lKHNvdXJjZS5fcHRyKTtcbiAgICAgIG1hdHJpeC5fc2l6ZSA9IGNsb25lKHNvdXJjZS5fc2l6ZSk7XG4gICAgICBtYXRyaXguX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgc291cmNlLl9kYXRhdHlwZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYnVpbGQgZnJvbSBtYXRyaXggZGF0YVxuICAgICAgX2NyZWF0ZUZyb21BcnJheShtYXRyaXgsIHNvdXJjZS52YWx1ZU9mKCksIGRhdGF0eXBlIHx8IHNvdXJjZS5fZGF0YXR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGcm9tQXJyYXkobWF0cml4LCBkYXRhLCBkYXRhdHlwZSkge1xuICAgIC8vIGluaXRpYWxpemUgZmllbGRzXG4gICAgbWF0cml4Ll92YWx1ZXMgPSBbXTtcbiAgICBtYXRyaXguX2luZGV4ID0gW107XG4gICAgbWF0cml4Ll9wdHIgPSBbXTtcbiAgICBtYXRyaXguX2RhdGF0eXBlID0gZGF0YXR5cGU7IC8vIGRpc2NvdmVyIHJvd3MgJiBjb2x1bW5zLCBkbyBub3QgdXNlIG1hdGguc2l6ZSgpIHRvIGF2b2lkIGxvb3BpbmcgYXJyYXkgdHdpY2VcblxuICAgIHZhciByb3dzID0gZGF0YS5sZW5ndGg7XG4gICAgdmFyIGNvbHVtbnMgPSAwOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkYXRhdHlwZSwgZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGRhdGF0eXBlKTtcbiAgICB9IC8vIGNoZWNrIHdlIGhhdmUgcm93cyAoZW1wdHkgYXJyYXkpXG5cblxuICAgIGlmIChyb3dzID4gMCkge1xuICAgICAgLy8gY29sdW1uIGluZGV4XG4gICAgICB2YXIgaiA9IDA7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgLy8gc3RvcmUgcG9pbnRlciB0byB2YWx1ZXMgaW5kZXhcbiAgICAgICAgbWF0cml4Ll9wdHIucHVzaChtYXRyaXguX2luZGV4Lmxlbmd0aCk7IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyBjdXJyZW50IHJvd1xuICAgICAgICAgIHZhciByb3cgPSBkYXRhW2ldOyAvLyBjaGVjayByb3cgaXMgYW4gYXJyYXlcblxuICAgICAgICAgIGlmIChpc0FycmF5KHJvdykpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb2x1bW5zIGlmIG5lZWRlZCAob25seSBvbiBmaXJzdCBjb2x1bW4pXG4gICAgICAgICAgICBpZiAoaiA9PT0gMCAmJiBjb2x1bW5zIDwgcm93Lmxlbmd0aCkge1xuICAgICAgICAgICAgICBjb2x1bW5zID0gcm93Lmxlbmd0aDtcbiAgICAgICAgICAgIH0gLy8gY2hlY2sgcm93IGhhcyBjb2x1bW5cblxuXG4gICAgICAgICAgICBpZiAoaiA8IHJvdy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gdmFsdWVcbiAgICAgICAgICAgICAgdmFyIHYgPSByb3dbal07IC8vIGNoZWNrIHZhbHVlICE9IDBcblxuICAgICAgICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdmFsdWVcbiAgICAgICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5wdXNoKHYpOyAvLyBpbmRleFxuXG5cbiAgICAgICAgICAgICAgICBtYXRyaXguX2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbHVtbnMgaWYgbmVlZGVkIChvbmx5IG9uIGZpcnN0IGNvbHVtbilcbiAgICAgICAgICAgIGlmIChqID09PSAwICYmIGNvbHVtbnMgPCAxKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMgPSAxO1xuICAgICAgICAgICAgfSAvLyBjaGVjayB2YWx1ZSAhPSAwIChyb3cgaXMgYSBzY2FsYXIpXG5cblxuICAgICAgICAgICAgaWYgKCFlcShyb3csIHplcm8pKSB7XG4gICAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlXG4gICAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnB1c2gocm93KTsgLy8gaW5kZXhcblxuXG4gICAgICAgICAgICAgIG1hdHJpeC5faW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaW5jcmVtZW50IGluZGV4XG5cblxuICAgICAgICBqKys7XG4gICAgICB9IHdoaWxlIChqIDwgY29sdW1ucyk7XG4gICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgdmFsdWVzIGluIHB0clxuXG5cbiAgICBtYXRyaXguX3B0ci5wdXNoKG1hdHJpeC5faW5kZXgubGVuZ3RoKTsgLy8gc2l6ZVxuXG5cbiAgICBtYXRyaXguX3NpemUgPSBbcm93cywgY29sdW1uc107XG4gIH1cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlID0gbmV3IE1hdHJpeCgpO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFNwYXJzZU1hdHJpeFxuICAgKi9cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZVNwYXJzZU1hdHJpeCA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50eXBlID0gJ1NwYXJzZU1hdHJpeCc7XG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuaXNTcGFyc2VNYXRyaXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgY29uc3QgbWF0cml4VHlwZSA9IG1hdHJpeC5nZXREYXRhVHlwZSgpICAvLyByZXRyaWV2ZXMgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJPZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgIHR5cGUgaW5mb3JtYXRpb247IGlmIG11bHRpcGxlIHR5cGVzIGFyZSBmb3VuZCBmcm9tIHRoZSBNYXRyaXgsIGl0IHdpbGwgcmV0dXJuIFwibWl4ZWRcIlxuICAgKi9cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmdldERhdGFUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRBcnJheURhdGFUeXBlKHRoaXMuX3ZhbHVlcywgdHlwZU9mKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBmb3JtYXQgdXNlZCBieSB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5zdG9yYWdlKCkgICAvLyByZXRyaWV2ZSBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBzdG9yYWdlIGZvcm1hdC5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdzcGFyc2UnO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBkYXRhdHlwZSBvZiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguZGF0YXR5cGUoKSAgICAvLyByZXRyaWV2ZSBtYXRyaXggZGF0YXR5cGVcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgZGF0YXR5cGUuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5kYXRhdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YXR5cGU7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU3BhcnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBtYXRyaXggZGVuc2l0eS5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBkZW5zaXR5ID0gbWF0cml4LmRlbnNpdHkoKSAgICAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBtYXRyaXggZGVuc2l0eVxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgIFRoZSBtYXRyaXggZGVuc2l0eS5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmRlbnNpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcm93cyAmIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBjYWxjdWxhdGUgZGVuc2l0eVxuXG4gICAgcmV0dXJuIHJvd3MgIT09IDAgJiYgY29sdW1ucyAhPT0gMCA/IHRoaXMuX2luZGV4Lmxlbmd0aCAvIChyb3dzICogY29sdW1ucykgOiAwO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBtYXRyaXgsIG9yIHJlcGxhY2UgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBzdWJzZXQgPSBtYXRyaXguc3Vic2V0KGluZGV4KSAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHN1YnNldFxuICAgKiAgICAgY29uc3QgdmFsdWUgPSBtYXRyaXguc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCkgICAvLyByZXBsYWNlIHN1YnNldFxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCAqfSBbcmVwbGFjZW1lbnRdXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zdWJzZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzdWJzZXQgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyBjaGVjayBhcmd1bWVudHNcblxuXG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfZ2V0c3Vic2V0KHRoaXMsIGluZGV4KTtcbiAgICAgIC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaFxuXG4gICAgICBjYXNlIDI6XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBfc2V0c3Vic2V0KHRoaXMsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzJyk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9nZXRzdWJzZXQobWF0cml4LCBpZHgpIHtcbiAgICAvLyBjaGVjayBpZHhcbiAgICBpZiAoIWlzSW5kZXgoaWR4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH1cblxuICAgIHZhciBpc1NjYWxhciA9IGlkeC5pc1NjYWxhcigpO1xuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyByZXR1cm4gYSBzY2FsYXJcbiAgICAgIHJldHVybiBtYXRyaXguZ2V0KGlkeC5taW4oKSk7XG4gICAgfSAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cblxuICAgIHZhciBzaXplID0gaWR4LnNpemUoKTtcblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gbWF0cml4Ll9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIHZhcnNcblxuXG4gICAgdmFyIGksIGlpLCBrLCBrazsgLy8gdmFsaWRhdGUgaWYgYW55IG9mIHRoZSByYW5nZXMgaW4gdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZVxuXG4gICAgdmFyIG1pbiA9IGlkeC5taW4oKTtcbiAgICB2YXIgbWF4ID0gaWR4Lm1heCgpO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBtYXRyaXguX3NpemUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFsaWRhdGVJbmRleChtaW5baV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgICB2YWxpZGF0ZUluZGV4KG1heFtpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICB9IC8vIG1hdHJpeCBhcnJheXNcblxuXG4gICAgdmFyIG12YWx1ZXMgPSBtYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgbWluZGV4ID0gbWF0cml4Ll9pbmRleDtcbiAgICB2YXIgbXB0ciA9IG1hdHJpeC5fcHRyOyAvLyByb3dzICYgY29sdW1ucyBkaW1lbnNpb25zIGZvciByZXN1bHQgbWF0cml4XG5cbiAgICB2YXIgcm93cyA9IGlkeC5kaW1lbnNpb24oMCk7XG4gICAgdmFyIGNvbHVtbnMgPSBpZHguZGltZW5zaW9uKDEpOyAvLyB3b3Jrc3BhY2UgJiBwZXJtdXRhdGlvbiB2ZWN0b3JcblxuICAgIHZhciB3ID0gW107XG4gICAgdmFyIHB2ID0gW107IC8vIGxvb3Agcm93cyBpbiByZXN1bHRpbmcgbWF0cml4XG5cbiAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKGksIHIpIHtcbiAgICAgIC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3JcbiAgICAgIHB2W2ldID0gclswXTsgLy8gbWFyayBpIGluIHdvcmtzcGFjZVxuXG4gICAgICB3W2ldID0gdHJ1ZTtcbiAgICB9KTsgLy8gcmVzdWx0IG1hdHJpeCBhcnJheXNcblxuICAgIHZhciB2YWx1ZXMgPSBtdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gcmVzdWx0IG1hdHJpeFxuXG4gICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChqKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBwdHIucHVzaChpbmRleC5sZW5ndGgpOyAvLyBsb29wIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKGsgPSBtcHRyW2pdLCBrayA9IG1wdHJbaiArIDFdOyBrIDwga2s7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IG1pbmRleFtrXTsgLy8gY2hlY2sgcm93IGlzIGluIHJlc3VsdCBtYXRyaXhcblxuICAgICAgICBpZiAod1tpXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIHB1c2ggaW5kZXhcbiAgICAgICAgICBpbmRleC5wdXNoKHB2W2ldKTsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2gobXZhbHVlc1trXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vIHVwZGF0ZSBwdHJcblxuICAgIHB0ci5wdXNoKGluZGV4Lmxlbmd0aCk7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgZGF0YXR5cGU6IG1hdHJpeC5fZGF0YXR5cGVcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRzdWJzZXQobWF0cml4LCBpbmRleCwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBjaGVjayBpbmRleFxuICAgIGlmICghaW5kZXggfHwgaW5kZXguaXNJbmRleCAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH0gLy8gZ2V0IGluZGV4IHNpemUgYW5kIGNoZWNrIHdoZXRoZXIgdGhlIGluZGV4IGNvbnRhaW5zIGEgc2luZ2xlIHZhbHVlXG5cblxuICAgIHZhciBpU2l6ZSA9IGluZGV4LnNpemUoKTtcbiAgICB2YXIgaXNTY2FsYXIgPSBpbmRleC5pc1NjYWxhcigpOyAvLyBjYWxjdWxhdGUgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCwgYW5kIGNvbnZlcnQgaXQgaW50byBhbiBBcnJheSBpZiBuZWVkZWRcblxuICAgIHZhciBzU2l6ZTtcblxuICAgIGlmIChpc01hdHJpeChzdWJtYXRyaXgpKSB7XG4gICAgICAvLyBzdWJtYXRyaXggc2l6ZVxuICAgICAgc1NpemUgPSBzdWJtYXRyaXguc2l6ZSgpOyAvLyB1c2UgYXJyYXkgcmVwcmVzZW50YXRpb25cblxuICAgICAgc3VibWF0cml4ID0gc3VibWF0cml4LnRvQXJyYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2V0IHN1Ym1hdHJpeCBzaXplIChhcnJheSwgc2NhbGFyKVxuICAgICAgc1NpemUgPSBhcnJheVNpemUoc3VibWF0cml4KTtcbiAgICB9IC8vIGNoZWNrIGluZGV4IGlzIGEgc2NhbGFyXG5cblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gdmVyaWZ5IHN1Ym1hdHJpeCBpcyBhIHNjYWxhclxuICAgICAgaWYgKHNTaXplLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTY2FsYXIgZXhwZWN0ZWQnKTtcbiAgICAgIH0gLy8gc2V0IHZhbHVlXG5cblxuICAgICAgbWF0cml4LnNldChpbmRleC5taW4oKSwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zLCBpbmRleCBzaXplIG11c3QgYmUgb25lIG9yIHR3byBkaW1lbnNpb25zXG4gICAgICBpZiAoaVNpemUubGVuZ3RoICE9PSAxICYmIGlTaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoLCAnPCcpO1xuICAgICAgfSAvLyBjaGVjayBzdWJtYXRyaXggYW5kIGluZGV4IGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uc1xuXG5cbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggPCBpU2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIG51bWJlciBvZiBtaXNzaW5nIG91dGVyIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgb3V0ZXIgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSAmJiBzU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIG91dGVyKys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IC8vIHVuc3F1ZWV6ZSBib3RoIG91dGVyIGFuZCBpbm5lciBkaW1lbnNpb25zXG5cblxuICAgICAgICBzdWJtYXRyaXggPSB1bnNxdWVlemUoc3VibWF0cml4LCBpU2l6ZS5sZW5ndGgsIG91dGVyLCBzU2l6ZSk7XG4gICAgICB9IC8vIGNoZWNrIHdoZXRoZXIgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCBtYXRjaGVzIHRoZSBpbmRleCBzaXplXG5cblxuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoaVNpemUsIHNTaXplKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUsIHNTaXplLCAnPicpO1xuICAgICAgfSAvLyBvZmZzZXRzXG5cblxuICAgICAgdmFyIHgwID0gaW5kZXgubWluKClbMF07XG4gICAgICB2YXIgeTAgPSBpbmRleC5taW4oKVsxXTsgLy8gc3VibWF0cml4IHJvd3MgYW5kIGNvbHVtbnNcblxuICAgICAgdmFyIG0gPSBzU2l6ZVswXTtcbiAgICAgIHZhciBuID0gc1NpemVbMV07IC8vIGxvb3Agc3VibWF0cml4XG5cbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbTsgeCsrKSB7XG4gICAgICAgIC8vIGxvb3AgY29sdW1uc1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG47IHkrKykge1xuICAgICAgICAgIC8vIHZhbHVlIGF0IGksIGpcbiAgICAgICAgICB2YXIgdiA9IHN1Ym1hdHJpeFt4XVt5XTsgLy8gaW52b2tlIHNldCAoemVybyB2YWx1ZSB3aWxsIHJlbW92ZSBlbnRyeSBmcm9tIG1hdHJpeClcblxuICAgICAgICAgIG1hdHJpeC5zZXQoW3ggKyB4MCwgeSArIHkwXSwgdiwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBlbGVtZW50IGZyb20gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHJldHVybiB7Kn0gdmFsdWVcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCAhPT0gdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBnZXQgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyByb3cgYW5kIGNvbHVtblxuXG5cbiAgICB2YXIgaSA9IGluZGV4WzBdO1xuICAgIHZhciBqID0gaW5kZXhbMV07IC8vIGNoZWNrIGksIGogYXJlIHZhbGlkXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHRoaXMuX3NpemVbMF0pO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgdGhpcy5fc2l6ZVsxXSk7IC8vIGZpbmQgdmFsdWUgaW5kZXhcblxuICAgIHZhciBrID0gX2dldFZhbHVlSW5kZXgoaSwgdGhpcy5fcHRyW2pdLCB0aGlzLl9wdHJbaiArIDFdLCB0aGlzLl9pbmRleCk7IC8vIGNoZWNrIGsgaXMgcHJpb3IgdG8gbmV4dCBjb2x1bW4gayBhbmQgaXQgaXMgaW4gdGhlIGNvcnJlY3Qgcm93XG5cblxuICAgIGlmIChrIDwgdGhpcy5fcHRyW2ogKyAxXSAmJiB0aGlzLl9pbmRleFtrXSA9PT0gaSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1trXTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBzZXQgdG8gemVyby5cbiAgICogQHJldHVybiB7U3BhcnNlTWF0cml4fSBzZWxmXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHYsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCAhPT0gdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzZXQgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyByb3cgYW5kIGNvbHVtblxuXG5cbiAgICB2YXIgaSA9IGluZGV4WzBdO1xuICAgIHZhciBqID0gaW5kZXhbMV07IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKHRoaXMuX2RhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFt0aGlzLl9kYXRhdHlwZSwgdGhpcy5fZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIHRoaXMuX2RhdGF0eXBlKTtcbiAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcmVzaXplIG1hdHJpeFxuXG5cbiAgICBpZiAoaSA+IHJvd3MgLSAxIHx8IGogPiBjb2x1bW5zIC0gMSkge1xuICAgICAgLy8gcmVzaXplIG1hdHJpeFxuICAgICAgX3Jlc2l6ZSh0aGlzLCBNYXRoLm1heChpICsgMSwgcm93cyksIE1hdGgubWF4KGogKyAxLCBjb2x1bW5zKSwgZGVmYXVsdFZhbHVlKTsgLy8gdXBkYXRlIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgICAgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgICBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTtcbiAgICB9IC8vIGNoZWNrIGksIGogYXJlIHZhbGlkXG5cblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgcm93cyk7XG4gICAgdmFsaWRhdGVJbmRleChqLCBjb2x1bW5zKTsgLy8gZmluZCB2YWx1ZSBpbmRleFxuXG4gICAgdmFyIGsgPSBfZ2V0VmFsdWVJbmRleChpLCB0aGlzLl9wdHJbal0sIHRoaXMuX3B0cltqICsgMV0sIHRoaXMuX2luZGV4KTsgLy8gY2hlY2sgayBpcyBwcmlvciB0byBuZXh0IGNvbHVtbiBrIGFuZCBpdCBpcyBpbiB0aGUgY29ycmVjdCByb3dcblxuXG4gICAgaWYgKGsgPCB0aGlzLl9wdHJbaiArIDFdICYmIHRoaXMuX2luZGV4W2tdID09PSBpKSB7XG4gICAgICAvLyBjaGVjayB2YWx1ZSAhPSAwXG4gICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgIC8vIHVwZGF0ZSB2YWx1ZVxuICAgICAgICB0aGlzLl92YWx1ZXNba10gPSB2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIHZhbHVlIGZyb20gbWF0cml4XG4gICAgICAgIF9yZW1vdmUoaywgaiwgdGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW5zZXJ0IHZhbHVlIEAgKGksIGopXG4gICAgICBfaW5zZXJ0KGssIGksIGosIHYsIHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gX2dldFZhbHVlSW5kZXgoaSwgdG9wLCBib3R0b20sIGluZGV4KSB7XG4gICAgLy8gY2hlY2sgcm93IGlzIG9uIHRoZSBib3R0b20gc2lkZVxuICAgIGlmIChib3R0b20gLSB0b3AgPT09IDApIHtcbiAgICAgIHJldHVybiBib3R0b207XG4gICAgfSAvLyBsb29wIHJvd3MgW3RvcCwgYm90dG9tW1xuXG5cbiAgICBmb3IgKHZhciByID0gdG9wOyByIDwgYm90dG9tOyByKyspIHtcbiAgICAgIC8vIGNoZWNrIHdlIGZvdW5kIHZhbHVlIGluZGV4XG4gICAgICBpZiAoaW5kZXhbcl0gPT09IGkpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgfSAvLyB3ZSBkaWQgbm90IGZpbmQgcm93XG5cblxuICAgIHJldHVybiB0b3A7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVtb3ZlKGssIGosIHZhbHVlcywgaW5kZXgsIHB0cikge1xuICAgIC8vIHJlbW92ZSB2YWx1ZSBAIGtcbiAgICB2YWx1ZXMuc3BsaWNlKGssIDEpO1xuICAgIGluZGV4LnNwbGljZShrLCAxKTsgLy8gdXBkYXRlIHBvaW50ZXJzXG5cbiAgICBmb3IgKHZhciB4ID0gaiArIDE7IHggPCBwdHIubGVuZ3RoOyB4KyspIHtcbiAgICAgIHB0clt4XS0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoaywgaSwgaiwgdiwgdmFsdWVzLCBpbmRleCwgcHRyKSB7XG4gICAgLy8gaW5zZXJ0IHZhbHVlXG4gICAgdmFsdWVzLnNwbGljZShrLCAwLCB2KTsgLy8gdXBkYXRlIHJvdyBmb3Iga1xuXG4gICAgaW5kZXguc3BsaWNlKGssIDAsIGkpOyAvLyB1cGRhdGUgY29sdW1uIHBvaW50ZXJzXG5cbiAgICBmb3IgKHZhciB4ID0gaiArIDE7IHggPCBwdHIubGVuZ3RoOyB4KyspIHtcbiAgICAgIHB0clt4XSsrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVzaXplIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaXplIGluIHBsYWNlKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdIHwgTWF0cml4fSBzaXplICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudHMgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaXplZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2l6ZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlLCBjb3B5KSB7XG4gICAgLy8gdmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKCFpc0NvbGxlY3Rpb24oc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IG9yIE1hdHJpeCBleHBlY3RlZCcpO1xuICAgIH0gLy8gU3BhcnNlTWF0cml4IGlucHV0IGlzIGFsd2F5cyAyZCwgZmxhdHRlbiB0aGlzIGludG8gMWQgaWYgaXQncyBpbmRlZWQgYSB2ZWN0b3JcblxuXG4gICAgdmFyIHNpemVBcnJheSA9IHNpemUudmFsdWVPZigpLm1hcCh2YWx1ZSA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICB9KTtcblxuICAgIGlmIChzaXplQXJyYXkubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbnMgbWF0cml4IGFyZSBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIGNoZWNrIHNpemVzXG5cblxuICAgIHNpemVBcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZUFycmF5KSArICcpJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIG1hdHJpeCB0byByZXNpemVcblxuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7IC8vIHJlc2l6ZSBtYXRyaXhcblxuICAgIHJldHVybiBfcmVzaXplKG0sIHNpemVBcnJheVswXSwgc2l6ZUFycmF5WzFdLCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9yZXNpemUobWF0cml4LCByb3dzLCBjb2x1bW5zLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyB2YWx1ZSB0byBpbnNlcnQgYXQgdGhlIHRpbWUgb2YgZ3Jvd2luZyBtYXRyaXhcbiAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWUgfHwgMDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhtYXRyaXguX2RhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFttYXRyaXguX2RhdGF0eXBlLCBtYXRyaXguX2RhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBtYXRyaXguX2RhdGF0eXBlKTsgLy8gY29udmVydCB2YWx1ZSB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB2YWx1ZSA9IHR5cGVkLmNvbnZlcnQodmFsdWUsIG1hdHJpeC5fZGF0YXR5cGUpO1xuICAgIH0gLy8gc2hvdWxkIHdlIGluc2VydCB0aGUgdmFsdWU/XG5cblxuICAgIHZhciBpbnMgPSAhZXEodmFsdWUsIHplcm8pOyAvLyBvbGQgY29sdW1ucyBhbmQgcm93c1xuXG4gICAgdmFyIHIgPSBtYXRyaXguX3NpemVbMF07XG4gICAgdmFyIGMgPSBtYXRyaXguX3NpemVbMV07XG4gICAgdmFyIGksIGosIGs7IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5jcmVhc2UgY29sdW1uc1xuXG4gICAgaWYgKGNvbHVtbnMgPiBjKSB7XG4gICAgICAvLyBsb29wIG5ldyBjb2x1bW5zXG4gICAgICBmb3IgKGogPSBjOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cbiAgICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5zZXJ0IG1hdHJpeC5fdmFsdWVzXG5cbiAgICAgICAgaWYgKGlucykge1xuICAgICAgICAgIC8vIGxvb3Agcm93c1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGFkZCBuZXcgbWF0cml4Ll92YWx1ZXNcbiAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnB1c2godmFsdWUpOyAvLyB1cGRhdGUgbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgICAgICAgIG1hdHJpeC5faW5kZXgucHVzaChpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIG1hdHJpeC5fdmFsdWVzIGluIG1hdHJpeC5fcHRyXG5cblxuICAgICAgbWF0cml4Ll9wdHJbY29sdW1uc10gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChjb2x1bW5zIDwgYykge1xuICAgICAgLy8gdHJ1bmNhdGUgbWF0cml4Ll9wdHJcbiAgICAgIG1hdHJpeC5fcHRyLnNwbGljZShjb2x1bW5zICsgMSwgYyAtIGNvbHVtbnMpOyAvLyB0cnVuY2F0ZSBtYXRyaXguX3ZhbHVlcyBhbmQgbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgIG1hdHJpeC5fdmFsdWVzLnNwbGljZShtYXRyaXguX3B0cltjb2x1bW5zXSwgbWF0cml4Ll92YWx1ZXMubGVuZ3RoKTtcblxuICAgICAgbWF0cml4Ll9pbmRleC5zcGxpY2UobWF0cml4Ll9wdHJbY29sdW1uc10sIG1hdHJpeC5faW5kZXgubGVuZ3RoKTtcbiAgICB9IC8vIHVwZGF0ZSBjb2x1bW5zXG5cblxuICAgIGMgPSBjb2x1bW5zOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluY3JlYXNlIHJvd3NcblxuICAgIGlmIChyb3dzID4gcikge1xuICAgICAgLy8gY2hlY2sgd2UgaGF2ZSB0byBpbnNlcnQgdmFsdWVzXG4gICAgICBpZiAoaW5zKSB7XG4gICAgICAgIC8vIGluc2VydHNcbiAgICAgICAgdmFyIG4gPSAwOyAvLyBsb29wIGNvbHVtbnNcblxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgYzsgaisrKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll9wdHJbal0gKyBuOyAvLyB3aGVyZSB0byBpbnNlcnQgbWF0cml4Ll92YWx1ZXNcblxuICAgICAgICAgIGsgPSBtYXRyaXguX3B0cltqICsgMV0gKyBuOyAvLyBwb2ludGVyXG5cbiAgICAgICAgICB2YXIgcCA9IDA7IC8vIGxvb3AgbmV3IHJvd3MsIGluaXRpYWxpemUgcG9pbnRlclxuXG4gICAgICAgICAgZm9yIChpID0gcjsgaSA8IHJvd3M7IGkrKywgcCsrKSB7XG4gICAgICAgICAgICAvLyBhZGQgdmFsdWVcbiAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnNwbGljZShrICsgcCwgMCwgdmFsdWUpOyAvLyB1cGRhdGUgbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgICAgICAgIG1hdHJpeC5faW5kZXguc3BsaWNlKGsgKyBwLCAwLCBpKTsgLy8gaW5jcmVtZW50IGluc2VydHNcblxuXG4gICAgICAgICAgICBuKys7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHN0b3JlIG51bWJlciBvZiBtYXRyaXguX3ZhbHVlcyBpbiBtYXRyaXguX3B0clxuXG5cbiAgICAgICAgbWF0cml4Ll9wdHJbY10gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyb3dzIDwgcikge1xuICAgICAgLy8gZGVsZXRlc1xuICAgICAgdmFyIGQgPSAwOyAvLyBsb29wIGNvbHVtbnNcblxuICAgICAgZm9yIChqID0gMDsgaiA8IGM7IGorKykge1xuICAgICAgICAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG4gICAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll9wdHJbal0gLSBkOyAvLyB3aGVyZSBtYXRyaXguX3ZhbHVlcyBzdGFydCBmb3IgbmV4dCBjb2x1bW5cblxuICAgICAgICB2YXIgazAgPSBtYXRyaXguX3B0cltqXTtcbiAgICAgICAgdmFyIGsxID0gbWF0cml4Ll9wdHJbaiArIDFdIC0gZDsgLy8gbG9vcCBtYXRyaXguX2luZGV4XG5cbiAgICAgICAgZm9yIChrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgaSA9IG1hdHJpeC5faW5kZXhba107IC8vIGNoZWNrIHdlIG5lZWQgdG8gZGVsZXRlIHZhbHVlIGFuZCBtYXRyaXguX2luZGV4XG5cbiAgICAgICAgICBpZiAoaSA+IHJvd3MgLSAxKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdmFsdWVcbiAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnNwbGljZShrLCAxKTsgLy8gcmVtb3ZlIGl0ZW0gZnJvbSBtYXRyaXguX2luZGV4XG5cblxuICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5zcGxpY2UoaywgMSk7IC8vIGluY3JlYXNlIGRlbGV0ZXNcblxuXG4gICAgICAgICAgICBkKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cblxuXG4gICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDtcbiAgICB9IC8vIHVwZGF0ZSBtYXRyaXguX3NpemVcblxuXG4gICAgbWF0cml4Ll9zaXplWzBdID0gcm93cztcbiAgICBtYXRyaXguX3NpemVbMV0gPSBjb2x1bW5zOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBSZXNoYXBlIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaGFwZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWlnaHQgYmUgYmV0dGVyIHN1aXRlZCB0byBjb3B5IGJ5IGRlZmF1bHQsIGluc3RlYWQgb2YgbW9kaWZ5aW5nXG4gICAqICAgICAgIGluIHBsYWNlLiBGb3Igbm93LCBpdCBvcGVyYXRlcyBpbiBwbGFjZSB0byByZW1haW4gY29uc2lzdGVudCB3aXRoXG4gICAqICAgICAgIHJlc2l6ZSgpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNoYXBlZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2hhcGVkIG1hdHJpeFxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUucmVzaGFwZSA9IGZ1bmN0aW9uIChzaXplLCBjb3B5KSB7XG4gICAgLy8gdmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKCFpc0FycmF5KHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGFyc2UgbWF0cmljZXMgY2FuIG9ubHkgYmUgcmVzaGFwZWQgaW4gdHdvIGRpbWVuc2lvbnMnKTtcbiAgICB9IC8vIGNoZWNrIHNpemVzXG5cblxuICAgIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHNpemUsIG11c3QgY29udGFpbiBwb3NpdGl2ZSBpbnRlZ2VycyAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gbSAqIG4gbXVzdCBub3QgY2hhbmdlXG5cbiAgICBpZiAodGhpcy5fc2l6ZVswXSAqIHRoaXMuX3NpemVbMV0gIT09IHNpemVbMF0gKiBzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc2hhcGluZyBzcGFyc2UgbWF0cml4IHdpbGwgcmVzdWx0IGluIHRoZSB3cm9uZyBudW1iZXIgb2YgZWxlbWVudHMnKTtcbiAgICB9IC8vIG1hdHJpeCB0byByZXNoYXBlXG5cblxuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7IC8vIHJldHVybiB1bmNoYW5nZWQgaWYgdGhlIHNhbWUgc2hhcGVcblxuICAgIGlmICh0aGlzLl9zaXplWzBdID09PSBzaXplWzBdICYmIHRoaXMuX3NpemVbMV0gPT09IHNpemVbMV0pIHtcbiAgICAgIHJldHVybiBtO1xuICAgIH0gLy8gQ29udmVydCB0byBDT08gZm9ybWF0IChnZW5lcmF0ZSBhIGNvbHVtbiBpbmRleClcblxuXG4gICAgdmFyIGNvbEluZGV4ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0uX3B0ci5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtLl9wdHJbaSArIDFdIC0gbS5fcHRyW2ldOyBqKyspIHtcbiAgICAgICAgY29sSW5kZXgucHVzaChpKTtcbiAgICAgIH1cbiAgICB9IC8vIENsb25lIHRoZSB2YWx1ZXMgYXJyYXlcblxuXG4gICAgdmFyIHZhbHVlcyA9IG0uX3ZhbHVlcy5zbGljZSgpOyAvLyBDbG9uZSB0aGUgcm93IGluZGV4IGFycmF5XG5cblxuICAgIHZhciByb3dJbmRleCA9IG0uX2luZGV4LnNsaWNlKCk7IC8vIFRyYW5zZm9ybSB0aGUgKHJvdywgY29sdW1uKSBpbmRpY2VzXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtLl9pbmRleC5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciByMSA9IHJvd0luZGV4W19pXTtcbiAgICAgIHZhciBjMSA9IGNvbEluZGV4W19pXTtcbiAgICAgIHZhciBmbGF0ID0gcjEgKiBtLl9zaXplWzFdICsgYzE7XG4gICAgICBjb2xJbmRleFtfaV0gPSBmbGF0ICUgc2l6ZVsxXTtcbiAgICAgIHJvd0luZGV4W19pXSA9IE1hdGguZmxvb3IoZmxhdCAvIHNpemVbMV0pO1xuICAgIH0gLy8gTm93IHJlc2hhcGluZyBpcyBzdXBwb3NlZCB0byBwcmVzZXJ2ZSB0aGUgcm93LW1ham9yIG9yZGVyLCBCVVQgdGhlc2Ugc3BhcnNlIG1hdHJpY2VzIGFyZSBzdG9yZWRcbiAgICAvLyBpbiBjb2x1bW4tbWFqb3Igb3JkZXIsIHNvIHdlIGhhdmUgdG8gcmVvcmRlciB0aGUgdmFsdWUgYXJyYXkgbm93LiBPbmUgb3B0aW9uIGlzIHRvIHVzZSBhIG11bHRpc29ydCxcbiAgICAvLyBzb3J0aW5nIHNldmVyYWwgYXJyYXlzIGJhc2VkIG9uIHNvbWUgb3RoZXIgYXJyYXkuXG4gICAgLy8gT1IsIHdlIGNvdWxkIGVhc2lseSBqdXN0OlxuICAgIC8vIDEuIFJlbW92ZSBhbGwgdmFsdWVzIGZyb20gdGhlIG1hdHJpeFxuXG5cbiAgICBtLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICBtLl9pbmRleC5sZW5ndGggPSAwO1xuICAgIG0uX3B0ci5sZW5ndGggPSBzaXplWzFdICsgMTtcbiAgICBtLl9zaXplID0gc2l6ZS5zbGljZSgpO1xuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbS5fcHRyLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIG0uX3B0cltfaTJdID0gMDtcbiAgICB9IC8vIDIuIFJlLWluc2VydCBhbGwgZWxlbWVudHMgaW4gdGhlIHByb3BlciBvcmRlciAoc2ltcGxpZmllZCBjb2RlIGZyb20gU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zZXQpXG4gICAgLy8gVGhpcyBzdGVwIGlzIHByb2JhYmx5IHRoZSBtb3N0IHRpbWUtY29uc3VtaW5nXG5cblxuICAgIGZvciAodmFyIGggPSAwOyBoIDwgdmFsdWVzLmxlbmd0aDsgaCsrKSB7XG4gICAgICB2YXIgX2kzID0gcm93SW5kZXhbaF07XG4gICAgICB2YXIgX2ogPSBjb2xJbmRleFtoXTtcbiAgICAgIHZhciB2ID0gdmFsdWVzW2hdO1xuXG4gICAgICB2YXIgayA9IF9nZXRWYWx1ZUluZGV4KF9pMywgbS5fcHRyW19qXSwgbS5fcHRyW19qICsgMV0sIG0uX2luZGV4KTtcblxuICAgICAgX2luc2VydChrLCBfaTMsIF9qLCB2LCBtLl92YWx1ZXMsIG0uX2luZGV4LCBtLl9wdHIpO1xuICAgIH0gLy8gVGhlIHZhbHVlIGluZGljZXMgYXJlIGluc2VydGVkIG91dCBvZiBvcmRlciwgYnV0IGFwcGFyZW50bHkgdGhhdCdzLi4uIHN0aWxsIE9LP1xuXG5cbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtTcGFyc2VNYXRyaXh9IGNsb25lXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbSA9IG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMgPyBjbG9uZSh0aGlzLl92YWx1ZXMpIDogdW5kZWZpbmVkLFxuICAgICAgaW5kZXg6IGNsb25lKHRoaXMuX2luZGV4KSxcbiAgICAgIHB0cjogY2xvbmUodGhpcy5fcHRyKSxcbiAgICAgIHNpemU6IGNsb25lKHRoaXMuX3NpemUpLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZS5zbGljZSgwKTsgLy8gY29weSB0aGUgQXJyYXlcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25cbiAgICogZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtTcGFyc2VNYXRyaXh9IG1hdHJpeFxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBtYXAgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyBtYXRyaXggaW5zdGFuY2VcblxuXG4gICAgdmFyIG1lID0gdGhpczsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gaW52b2tlIGNhbGxiYWNrXG5cbiAgICB2YXIgaW52b2tlID0gZnVuY3Rpb24gaW52b2tlKHYsIGksIGopIHtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHYsIFtpLCBqXSwgbWUpO1xuICAgIH07IC8vIGludm9rZSBfbWFwXG5cblxuICAgIHJldHVybiBfbWFwKHRoaXMsIDAsIHJvd3MgLSAxLCAwLCBjb2x1bW5zIC0gMSwgaW52b2tlLCBza2lwWmVyb3MpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvbiB0aGUgaW50ZXJ2YWxcbiAgICogW21pblJvdy4ubWF4Um93LCBtaW5Db2x1bW4uLm1heENvbHVtbl0uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX21hcChtYXRyaXgsIG1pblJvdywgbWF4Um93LCBtaW5Db2x1bW4sIG1heENvbHVtbiwgY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIHJlc3VsdCBhcnJheXNcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKG1hdHJpeC5fZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW21hdHJpeC5fZGF0YXR5cGUsIG1hdHJpeC5fZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIG1hdHJpeC5fZGF0YXR5cGUpO1xuICAgIH0gLy8gaW52b2tlIGNhbGxiYWNrXG5cblxuICAgIHZhciBpbnZva2UgPSBmdW5jdGlvbiBpbnZva2UodiwgeCwgeSkge1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICB2ID0gY2FsbGJhY2sodiwgeCwgeSk7IC8vIGNoZWNrIHZhbHVlICE9IDBcblxuICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAvLyBzdG9yZSB2YWx1ZVxuICAgICAgICB2YWx1ZXMucHVzaCh2KTsgLy8gaW5kZXhcblxuICAgICAgICBpbmRleC5wdXNoKHgpO1xuICAgICAgfVxuICAgIH07IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKHZhciBqID0gbWluQ29sdW1uOyBqIDw9IG1heENvbHVtbjsgaisrKSB7XG4gICAgICAvLyBzdG9yZSBwb2ludGVyIHRvIHZhbHVlcyBpbmRleFxuICAgICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cblxuICAgICAgdmFyIGswID0gbWF0cml4Ll9wdHJbal07XG4gICAgICB2YXIgazEgPSBtYXRyaXguX3B0cltqICsgMV07XG5cbiAgICAgIGlmIChza2lwWmVyb3MpIHtcbiAgICAgICAgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuICAgICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgICAgdmFyIGkgPSBtYXRyaXguX2luZGV4W2tdOyAvLyBjaGVjayBpIGlzIGluIHJhbmdlXG5cbiAgICAgICAgICBpZiAoaSA+PSBtaW5Sb3cgJiYgaSA8PSBtYXhSb3cpIHtcbiAgICAgICAgICAgIC8vIHZhbHVlIEAga1xuICAgICAgICAgICAgaW52b2tlKG1hdHJpeC5fdmFsdWVzW2tdLCBpIC0gbWluUm93LCBqIC0gbWluQ29sdW1uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhY2hlIGhvbGRpbmcgYWxsIGRlZmluZWQgdmFsdWVzXG4gICAgICAgIHZhciBfdmFsdWVzID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgX2sgPSBrMDsgX2sgPCBrMTsgX2srKykge1xuICAgICAgICAgIHZhciBfaTQgPSBtYXRyaXguX2luZGV4W19rXTtcbiAgICAgICAgICBfdmFsdWVzW19pNF0gPSBtYXRyaXguX3ZhbHVlc1tfa107XG4gICAgICAgIH0gLy8gbG9vcCBvdmVyIGFsbCByb3dzIChpbmRleGVzIGNhbiBiZSB1bm9yZGVyZWQgc28gd2UgY2FuJ3QgdXNlIHRoYXQpLFxuICAgICAgICAvLyBhbmQgZWl0aGVyIHJlYWQgdGhlIHZhbHVlIG9yIHplcm9cblxuXG4gICAgICAgIGZvciAodmFyIF9pNSA9IG1pblJvdzsgX2k1IDw9IG1heFJvdzsgX2k1KyspIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfaTUgaW4gX3ZhbHVlcyA/IF92YWx1ZXNbX2k1XSA6IDA7XG4gICAgICAgICAgaW52b2tlKHZhbHVlLCBfaTUgLSBtaW5Sb3csIGogLSBtaW5Db2x1bW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgdmFsdWVzIGluIHB0clxuXG5cbiAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBbbWF4Um93IC0gbWluUm93ICsgMSwgbWF4Q29sdW1uIC0gbWluQ29sdW1uICsgMV1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGZvckVhY2ggb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyBtYXRyaXggaW5zdGFuY2VcblxuXG4gICAgdmFyIG1lID0gdGhpczsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gdGhpcy5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gdGhpcy5fcHRyW2ogKyAxXTtcblxuICAgICAgaWYgKHNraXBaZXJvcykge1xuICAgICAgICAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG4gICAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgICB2YXIgaSA9IHRoaXMuX2luZGV4W2tdOyAvLyB2YWx1ZSBAIGtcblxuICAgICAgICAgIGNhbGxiYWNrKHRoaXMuX3ZhbHVlc1trXSwgW2ksIGpdLCBtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhY2hlIGhvbGRpbmcgYWxsIGRlZmluZWQgdmFsdWVzXG4gICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBfazIgPSBrMDsgX2syIDwgazE7IF9rMisrKSB7XG4gICAgICAgICAgdmFyIF9pNiA9IHRoaXMuX2luZGV4W19rMl07XG4gICAgICAgICAgdmFsdWVzW19pNl0gPSB0aGlzLl92YWx1ZXNbX2syXTtcbiAgICAgICAgfSAvLyBsb29wIG92ZXIgYWxsIHJvd3MgKGluZGV4ZXMgY2FuIGJlIHVub3JkZXJlZCBzbyB3ZSBjYW4ndCB1c2UgdGhhdCksXG4gICAgICAgIC8vIGFuZCBlaXRoZXIgcmVhZCB0aGUgdmFsdWUgb3IgemVyb1xuXG5cbiAgICAgICAgZm9yICh2YXIgX2k3ID0gMDsgX2k3IDwgcm93czsgX2k3KyspIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfaTcgaW4gdmFsdWVzID8gdmFsdWVzW19pN10gOiAwO1xuICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCBbX2k3LCBqXSwgbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIG9mIHRoZSBTcGFyc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdG9BcnJheSh0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIsIHRoaXMuX3NpemUsIHRydWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIFNwYXJzZU1hdHJpeDogYSB0d28gZGltZW5zaW9ucyBhcnJheVxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90b0FycmF5KHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0ciwgdGhpcy5fc2l6ZSwgZmFsc2UpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF90b0FycmF5KHZhbHVlcywgaW5kZXgsIHB0ciwgc2l6ZSwgY29weSkge1xuICAgIC8vIHJvd3MgYW5kIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBzaXplWzFdOyAvLyByZXN1bHRcblxuICAgIHZhciBhID0gW107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqOyAvLyBpbml0aWFsaXplIGFycmF5XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBhW2ldID0gW107XG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgYVtpXVtqXSA9IDA7XG4gICAgICB9XG4gICAgfSAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gcHRyW2pdO1xuICAgICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuXG4gICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICBpID0gaW5kZXhba107IC8vIHNldCB2YWx1ZSAodXNlIG9uZSBmb3IgcGF0dGVybiBtYXRyaXgpXG5cbiAgICAgICAgYVtpXVtqXSA9IHZhbHVlcyA/IGNvcHkgPyBjbG9uZSh2YWx1ZXNba10pIDogdmFsdWVzW2tdIDogMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXgsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gcm93cyBhbmQgY29sdW1uc1xuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGRlbnNpdHlcblxuICAgIHZhciBkZW5zaXR5ID0gdGhpcy5kZW5zaXR5KCk7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgc3RyID0gJ1NwYXJzZSBNYXRyaXggWycgKyBmb3JtYXQocm93cywgb3B0aW9ucykgKyAnIHggJyArIGZvcm1hdChjb2x1bW5zLCBvcHRpb25zKSArICddIGRlbnNpdHk6ICcgKyBmb3JtYXQoZGVuc2l0eSwgb3B0aW9ucykgKyAnXFxuJzsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gdGhpcy5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gdGhpcy5fcHRyW2ogKyAxXTsgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuXG4gICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICB2YXIgaSA9IHRoaXMuX2luZGV4W2tdOyAvLyBhcHBlbmQgdmFsdWVcblxuICAgICAgICBzdHIgKz0gJ1xcbiAgICAoJyArIGZvcm1hdChpLCBvcHRpb25zKSArICcsICcgKyBmb3JtYXQoaiwgb3B0aW9ucykgKyAnKSA9PT4gJyArICh0aGlzLl92YWx1ZXMgPyBmb3JtYXQodGhpcy5fdmFsdWVzW2tdLCBvcHRpb25zKSA6ICdYJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMudG9BcnJheSgpKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1NwYXJzZU1hdHJpeCcsXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcbiAgICAgIGluZGV4OiB0aGlzLl9pbmRleCxcbiAgICAgIHB0cjogdGhpcy5fcHRyLFxuICAgICAgc2l6ZTogdGhpcy5fc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGt0aCBNYXRyaXggZGlhZ29uYWwuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCByZXRyaWV2ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCB2ZWN0b3Igd2l0aCB0aGUgZGlhZ29uYWwgdmFsdWVzLlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZGlhZ29uYWwgPSBmdW5jdGlvbiAoaykge1xuICAgIC8vIHZhbGlkYXRlIGsgaWYgYW55XG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBudW1iZXIgZGlhZ29uYWwgdmFsdWVzXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8gZGlhZ29uYWwgYXJyYXlzXG5cbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBpbml0aWFsIHB0ciB2YWx1ZVxuXG4gICAgcHRyWzBdID0gMDsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0ga1N1cGVyOyBqIDwgY29sdW1ucyAmJiB2YWx1ZXMubGVuZ3RoIDwgbjsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSB0aGlzLl9wdHJbal07XG4gICAgICB2YXIgazEgPSB0aGlzLl9wdHJbaiArIDFdOyAvLyBsb29wIHggd2l0aGluIFtrMCwgazFbXG5cbiAgICAgIGZvciAodmFyIHggPSBrMDsgeCA8IGsxOyB4KyspIHtcbiAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhbeF07IC8vIGNoZWNrIHJvd1xuXG4gICAgICAgIGlmIChpID09PSBqIC0ga1N1cGVyICsga1N1Yikge1xuICAgICAgICAgIC8vIHZhbHVlIG9uIHRoaXMgY29sdW1uXG4gICAgICAgICAgdmFsdWVzLnB1c2godGhpcy5fdmFsdWVzW3hdKTsgLy8gc3RvcmUgcm93XG5cbiAgICAgICAgICBpbmRleFt2YWx1ZXMubGVuZ3RoIC0gMV0gPSBpIC0ga1N1YjsgLy8gZXhpdCBsb29wXG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gY2xvc2UgcHRyXG5cblxuICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogW24sIDFdXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG1hdHJpeCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlNwYXJzZU1hdHJpeFwiLCBcInZhbHVlc1wiOiBbXSwgXCJpbmRleFwiOiBbXSwgXCJwdHJcIjogW10sIFwic2l6ZVwiOiBbXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtTcGFyc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpYWdvbmFsIG1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBzaXplICAgICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHNpemUuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQXJyYXkgfCBNYXRyaXggfSB2YWx1ZSAgIFRoZSB2YWx1ZXMgZm9yIHRoZSBkaWFnb25hbC5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSBmb3Igbm9uLWRpYWdvbmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdICAgICAgICAgICAgICAgIFRoZSBNYXRyaXggZGF0YXR5cGUsIHZhbHVlcyBtdXN0IGJlIG9mIHRoaXMgZGF0YXR5cGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTcGFyc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LmRpYWdvbmFsID0gZnVuY3Rpb24gKHNpemUsIHZhbHVlLCBrLCBkZWZhdWx0VmFsdWUsIGRhdGF0eXBlKSB7XG4gICAgaWYgKCFpc0FycmF5KHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCwgc2l6ZSBwYXJhbWV0ZXInKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9ucyBtYXRyaXggYXJlIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gbWFwIHNpemUgJiB2YWxpZGF0ZVxuXG5cbiAgICBzaXplID0gc2l6ZS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIC8vIGNoZWNrIGl0IGlzIGEgYmlnIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKHMpKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgaXRcbiAgICAgICAgcyA9IHMudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gdmFsaWRhdGUgYXJndW1lbnRzXG5cblxuICAgICAgaWYgKCFpc051bWJlcihzKSB8fCAhaXNJbnRlZ2VyKHMpIHx8IHMgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l6ZSB2YWx1ZXMgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcztcbiAgICB9KTsgLy8gdmFsaWRhdGUgayBpZiBhbnlcblxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZGF0YXR5cGUsIGRhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gc2l6ZVsxXTsgLy8gbnVtYmVyIG9mIG5vbi16ZXJvIGl0ZW1zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8gdmFsdWUgZXh0cmFjdGlvbiBmdW5jdGlvblxuXG4gICAgdmFyIF92YWx1ZTsgLy8gY2hlY2sgdmFsdWVcblxuXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAvLyB2YWxpZGF0ZSBhcnJheVxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgYXJyYXkgbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlW2ldO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTWF0cml4KHZhbHVlKSkge1xuICAgICAgLy8gbWF0cml4IHNpemVcbiAgICAgIHZhciBtcyA9IHZhbHVlLnNpemUoKTsgLy8gdmFsaWRhdGUgbWF0cml4XG5cbiAgICAgIGlmIChtcy5sZW5ndGggIT09IDEgfHwgbXNbMF0gIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hdHJpeCBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWUuZ2V0KFtpXSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZpbmUgZnVuY3Rpb25cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZSgpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfSAvLyBjcmVhdGUgYXJyYXlzXG5cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGxvb3AgaXRlbXNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBudW1iZXIgb2Ygcm93cyB3aXRoIHZhbHVlXG4gICAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gZGlhZ29uYWwgaW5kZXhcblxuICAgICAgdmFyIGkgPSBqIC0ga1N1cGVyOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHNldCBkaWFnb25hbCB2YWx1ZVxuXG4gICAgICBpZiAoaSA+PSAwICYmIGkgPCBuKSB7XG4gICAgICAgIC8vIGdldCB2YWx1ZSBAIGlcbiAgICAgICAgdmFyIHYgPSBfdmFsdWUoaSk7IC8vIGNoZWNrIGZvciB6ZXJvXG5cblxuICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgLy8gY29sdW1uXG4gICAgICAgICAgaW5kZXgucHVzaChpICsga1N1Yik7IC8vIGFkZCB2YWx1ZVxuXG4gICAgICAgICAgdmFsdWVzLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGxhc3QgdmFsdWUgc2hvdWxkIGJlIG51bWJlciBvZiB2YWx1ZXNcblxuXG4gICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIGNyZWF0ZSBTcGFyc2VNYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc11cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyBpIGFuZCBqIGluIE1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgIFRoZSBtYXRyaXggcmVmZXJlbmNlXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zd2FwUm93cyA9IGZ1bmN0aW9uIChpLCBqKSB7XG4gICAgLy8gY2hlY2sgaW5kZXhcbiAgICBpZiAoIWlzTnVtYmVyKGkpIHx8ICFpc0ludGVnZXIoaSkgfHwgIWlzTnVtYmVyKGopIHx8ICFpc0ludGVnZXIoaikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUm93IGluZGV4IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9IC8vIGNoZWNrIGRpbWVuc2lvbnNcblxuXG4gICAgaWYgKHRoaXMuX3NpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeCBpcyBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIHZhbGlkYXRlIGluZGV4XG5cblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgdGhpcy5fc2l6ZVswXSk7XG4gICAgdmFsaWRhdGVJbmRleChqLCB0aGlzLl9zaXplWzBdKTsgLy8gc3dhcCByb3dzXG5cbiAgICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzKGksIGosIHRoaXMuX3NpemVbMV0sIHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0cik7IC8vIHJldHVybiBjdXJyZW50IGluc3RhbmNlXG5cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogTG9vcCByb3dzIHdpdGggZGF0YSBpbiBjb2x1bW4gai5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgICAgICBDb2x1bW5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzICAgICAgICBNYXRyaXggdmFsdWVzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ICAgICAgICAgTWF0cml4IHJvdyBpbmRlY2VzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHB0ciAgICAgICAgICAgTWF0cml4IGNvbHVtbiBwb2ludGVyc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgZm9yIGV2ZXJ5IHJvdyBpbiBjb2x1bW4galxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5fZm9yRWFjaFJvdyA9IGZ1bmN0aW9uIChqLCB2YWx1ZXMsIGluZGV4LCBwdHIsIGNhbGxiYWNrKSB7XG4gICAgLy8gaW5kZWNlcyBmb3IgY29sdW1uIGpcbiAgICB2YXIgazAgPSBwdHJbal07XG4gICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gbG9vcFxuXG4gICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICBjYWxsYmFjayhpbmRleFtrXSwgdmFsdWVzW2tdKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgeCBhbmQgeSBpbiBTcGFyc2UgTWF0cml4IGRhdGEgc3RydWN0dXJlcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggICAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgICAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnMgICBOdW1iZXIgb2YgY29sdW1ucyBpbiBtYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzICAgICBNYXRyaXggdmFsdWVzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ICAgICAgTWF0cml4IHJvdyBpbmRlY2VzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHB0ciAgICAgICAgTWF0cml4IGNvbHVtbiBwb2ludGVyc1xuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MgPSBmdW5jdGlvbiAoeCwgeSwgY29sdW1ucywgdmFsdWVzLCBpbmRleCwgcHRyKSB7XG4gICAgLy8gbG9vcCBjb2x1bW5zXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGZpbmQgdmFsdWUgaW5kZXggQCB4XG5cbiAgICAgIHZhciBreCA9IF9nZXRWYWx1ZUluZGV4KHgsIGswLCBrMSwgaW5kZXgpOyAvLyBmaW5kIHZhbHVlIGluZGV4IEAgeFxuXG5cbiAgICAgIHZhciBreSA9IF9nZXRWYWx1ZUluZGV4KHksIGswLCBrMSwgaW5kZXgpOyAvLyBjaGVjayBib3RoIHJvd3MgZXhpc3QgaW4gbWF0cml4XG5cblxuICAgICAgaWYgKGt4IDwgazEgJiYga3kgPCBrMSAmJiBpbmRleFtreF0gPT09IHggJiYgaW5kZXhba3ldID09PSB5KSB7XG4gICAgICAgIC8vIHN3YXAgdmFsdWVzIChjaGVjayBmb3IgcGF0dGVybiBtYXRyaXgpXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YXIgdiA9IHZhbHVlc1treF07XG4gICAgICAgICAgdmFsdWVzW2t4XSA9IHZhbHVlc1treV07XG4gICAgICAgICAgdmFsdWVzW2t5XSA9IHY7XG4gICAgICAgIH0gLy8gbmV4dCBjb2x1bW5cblxuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjaGVjayB4IHJvdyBleGlzdCAmIG5vIHkgcm93XG5cblxuICAgICAgaWYgKGt4IDwgazEgJiYgaW5kZXhba3hdID09PSB4ICYmIChreSA+PSBrMSB8fCBpbmRleFtreV0gIT09IHkpKSB7XG4gICAgICAgIC8vIHZhbHVlIEAgeCAoY2hlY2sgZm9yIHBhdHRlcm4gbWF0cml4KVxuICAgICAgICB2YXIgdnggPSB2YWx1ZXMgPyB2YWx1ZXNba3hdIDogdW5kZWZpbmVkOyAvLyBpbnNlcnQgdmFsdWUgQCB5XG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt5LCAwLCB5KTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreSwgMCwgdngpO1xuICAgICAgICB9IC8vIHJlbW92ZSB2YWx1ZSBAIHggKGFkanVzdCBhcnJheSBpbmRleCBpZiBuZWVkZWQpXG5cblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3kgPD0ga3ggPyBreCArIDEgOiBreCwgMSk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3kgPD0ga3ggPyBreCArIDEgOiBreCwgMSk7XG4gICAgICAgIH0gLy8gbmV4dCBjb2x1bW5cblxuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjaGVjayB5IHJvdyBleGlzdCAmIG5vIHggcm93XG5cblxuICAgICAgaWYgKGt5IDwgazEgJiYgaW5kZXhba3ldID09PSB5ICYmIChreCA+PSBrMSB8fCBpbmRleFtreF0gIT09IHgpKSB7XG4gICAgICAgIC8vIHZhbHVlIEAgeSAoY2hlY2sgZm9yIHBhdHRlcm4gbWF0cml4KVxuICAgICAgICB2YXIgdnkgPSB2YWx1ZXMgPyB2YWx1ZXNba3ldIDogdW5kZWZpbmVkOyAvLyBpbnNlcnQgdmFsdWUgQCB4XG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt4LCAwLCB4KTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreCwgMCwgdnkpO1xuICAgICAgICB9IC8vIHJlbW92ZSB2YWx1ZSBAIHkgKGFkanVzdCBhcnJheSBpbmRleCBpZiBuZWVkZWQpXG5cblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3ggPD0ga3kgPyBreSArIDEgOiBreSwgMSk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3ggPD0ga3kgPyBreSArIDEgOiBreSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFNwYXJzZU1hdHJpeDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnbnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZU51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBudW1iZXIgb3IgY29udmVydCBhIHN0cmluZywgYm9vbGVhbiwgb3IgdW5pdCB0byBhIG51bWJlci5cbiAgICogV2hlbiB2YWx1ZSBpcyBhIG1hdHJpeCwgYWxsIGVsZW1lbnRzIHdpbGwgYmUgY29udmVydGVkIHRvIG51bWJlci5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm51bWJlcih2YWx1ZSlcbiAgICogICAgbWF0aC5udW1iZXIodW5pdCwgdmFsdWVsZXNzVW5pdClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubnVtYmVyKDIpICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDJcbiAgICogICAgbWF0aC5udW1iZXIoJzcuMicpICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNy4yXG4gICAqICAgIG1hdGgubnVtYmVyKHRydWUpICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDFcbiAgICogICAgbWF0aC5udW1iZXIoW3RydWUsIGZhbHNlLCB0cnVlLCB0cnVlXSkgLy8gcmV0dXJucyBbMSwgMCwgMSwgMV1cbiAgICogICAgbWF0aC5udW1iZXIobWF0aC51bml0KCc1MmNtJyksICdtJykgICAgLy8gcmV0dXJucyAwLjUyXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBtYXRyaXgsIHN0cmluZywgdW5pdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IEFycmF5IHwgTWF0cml4IHwgVW5pdCB8IG51bGx9IFt2YWx1ZV0gIFZhbHVlIHRvIGJlIGNvbnZlcnRlZFxuICAgKiBAcGFyYW0ge1VuaXQgfCBzdHJpbmd9IFt2YWx1ZWxlc3NVbml0XSBBIHZhbHVlbGVzcyB1bml0LCB1c2VkIHRvIGNvbnZlcnQgYSB1bml0IHRvIGEgbnVtYmVyXG4gICAqIEByZXR1cm4ge251bWJlciB8IEFycmF5IHwgTWF0cml4fSBUaGUgY3JlYXRlZCBudW1iZXJcbiAgICovXG4gIHZhciBudW1iZXIgPSB0eXBlZCgnbnVtYmVyJywge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIGlmICh4ID09PSAnTmFOJykgcmV0dXJuIE5hTjtcbiAgICAgIHZhciBudW0gPSBOdW1iZXIoeCk7XG5cbiAgICAgIGlmIChpc05hTihudW0pKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignU3RyaW5nIFwiJyArIHggKyAnXCIgaXMgbm8gdmFsaWQgbnVtYmVyJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChbJzBiJywgJzBvJywgJzB4J10uaW5jbHVkZXMoeC5zdWJzdHJpbmcoMCwgMikpKSB7XG4gICAgICAgIGlmIChudW0gPiAyICoqIDMyIC0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlN0cmluZyBcXFwiXCIuY29uY2F0KHgsIFwiXFxcIiBpcyBvdXQgb2YgcmFuZ2VcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bSAmIDB4ODAwMDAwMDApIHtcbiAgICAgICAgICBudW0gPSAtMSAqIH4obnVtIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LnRvTnVtYmVyKCk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgudmFsdWVPZigpO1xuICAgIH0sXG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY29uZCBhcmd1bWVudCB3aXRoIHZhbHVlbGVzcyB1bml0IGV4cGVjdGVkJyk7XG4gICAgfSxcbiAgICBudWxsOiBmdW5jdGlvbiBfbnVsbCh4KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgICdVbml0LCBzdHJpbmcgfCBVbml0JzogZnVuY3Rpb24gVW5pdFN0cmluZ1VuaXQodW5pdCwgdmFsdWVsZXNzVW5pdCkge1xuICAgICAgcmV0dXJuIHVuaXQudG9OdW1iZXIodmFsdWVsZXNzVW5pdCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pOyAvLyByZXZpdmVyIGZ1bmN0aW9uIHRvIHBhcnNlIGEgSlNPTiBvYmplY3QgbGlrZTpcbiAgLy9cbiAgLy8gICAgIHtcIm1hdGhqc1wiOlwibnVtYmVyXCIsXCJ2YWx1ZVwiOlwiMi4zXCJ9XG4gIC8vXG4gIC8vIGludG8gYSBudW1iZXIgMi4zXG5cbiAgbnVtYmVyLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChqc29uLnZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gbnVtYmVyO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnYmlnbnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0JpZ051bWJlciddO1xuZXhwb3J0IHZhciBjcmVhdGVCaWdudW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBCaWdOdW1iZXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIEJpZ051bWJlciwgd2hpY2ggY2FuIHN0b3JlIG51bWJlcnMgd2l0aCBhcmJpdHJhcnkgcHJlY2lzaW9uLlxuICAgKiBXaGVuIGEgbWF0cml4IGlzIHByb3ZpZGVkLCBhbGwgZWxlbWVudHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gQmlnTnVtYmVyLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguYmlnbnVtYmVyKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAwLjEgKyAwLjIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMC4zMDAwMDAwMDAwMDAwMDAwNFxuICAgKiAgICBtYXRoLmJpZ251bWJlcigwLjEpICsgbWF0aC5iaWdudW1iZXIoMC4yKSAgLy8gcmV0dXJucyBCaWdOdW1iZXIgMC4zXG4gICAqXG4gICAqXG4gICAqICAgIDcuMmU1MDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciBJbmZpbml0eVxuICAgKiAgICBtYXRoLmJpZ251bWJlcignNy4yZTUwMCcpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBCaWdOdW1iZXIgNy4yZTUwMFxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG1hdHJpeCwgc3RyaW5nLCB1bml0XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBBcnJheSB8IE1hdHJpeCB8IGJvb2xlYW4gfCBudWxsfSBbdmFsdWVdICBWYWx1ZSBmb3IgdGhlIGJpZyBudW1iZXIsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgYnkgZGVmYXVsdC5cbiAgICogQHJldHVybnMge0JpZ051bWJlcn0gVGhlIGNyZWF0ZWQgYmlnbnVtYmVyXG4gICAqL1xuICByZXR1cm4gdHlwZWQoJ2JpZ251bWJlcicsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgLy8gY29udmVydCB0byBzdHJpbmcgdG8gcHJldmVudCBlcnJvcnMgaW4gY2FzZSBvZiA+MTUgZGlnaXRzXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4ICsgJycpO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICAvLyB3ZSBhc3N1bWUgYSBCaWdOdW1iZXIgaXMgaW1tdXRhYmxlXG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4Lm4pLmRpdih4LmQpLnRpbWVzKHgucyk7XG4gICAgfSxcbiAgICBudWxsOiBmdW5jdGlvbiBfbnVsbCh4KSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigwKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdmcmFjdGlvbic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdGcmFjdGlvbiddO1xuZXhwb3J0IHZhciBjcmVhdGVGcmFjdGlvbiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIEZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmcmFjdGlvbiBjb252ZXJ0IGEgdmFsdWUgdG8gYSBmcmFjdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKiAgICAgbWF0aC5mcmFjdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbih7bjogbnVtZXJhdG9yLCBkOiBkZW5vbWluYXRvcn0pXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKG1hdHJpeDogQXJyYXkgfCBNYXRyaXgpICAgICAgICAgVHVybiBhbGwgbWF0cml4IGVudHJpZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRvIGZyYWN0aW9uc1xuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguZnJhY3Rpb24oMSwgMylcbiAgICogICAgIG1hdGguZnJhY3Rpb24oJzIvMycpXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKHtuOiAyLCBkOiAzfSlcbiAgICogICAgIG1hdGguZnJhY3Rpb24oWzAuMiwgMC4yNSwgMS4yNV0pXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIG51bWJlciwgc3RyaW5nLCB1bml0XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBBcnJheSB8IE1hdHJpeH0gW2FyZ3NdXG4gICAqICAgICAgICAgICAgQXJndW1lbnRzIHNwZWNpZnlpbmcgdGhlIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3Igb2ZcbiAgICogICAgICAgICAgICB0aGUgZnJhY3Rpb25cbiAgICogQHJldHVybiB7RnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyBhIGZyYWN0aW9uXG4gICAqL1xuICByZXR1cm4gdHlwZWQoJ2ZyYWN0aW9uJywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIGlmICghaXNGaW5pdGUoeCkgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHggKyAnIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhcyBhIGZyYWN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24obnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG4gICAgfSxcbiAgICBudWxsOiBmdW5jdGlvbiBfbnVsbCh4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKDApO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4LnRvU3RyaW5nKCkpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4OyAvLyBmcmFjdGlvbnMgYXJlIGltbXV0YWJsZVxuICAgIH0sXG4gICAgT2JqZWN0OiBmdW5jdGlvbiBPYmplY3QoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdtYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnTWF0cml4JywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVNYXRyaXggPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBNYXRyaXgsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBNYXRyaXguIFRoZSBmdW5jdGlvbiBjcmVhdGVzIGEgbmV3IGBtYXRoLk1hdHJpeGAgb2JqZWN0IGZyb21cbiAgICogYW4gYEFycmF5YC4gQSBNYXRyaXggaGFzIHV0aWxpdHkgZnVuY3Rpb25zIHRvIG1hbmlwdWxhdGUgdGhlIGRhdGEgaW4gdGhlXG4gICAqIG1hdHJpeCwgbGlrZSBnZXR0aW5nIHRoZSBzaXplIGFuZCBnZXR0aW5nIG9yIHNldHRpbmcgdmFsdWVzIGluIHRoZSBtYXRyaXguXG4gICAqIFN1cHBvcnRlZCBzdG9yYWdlIGZvcm1hdHMgYXJlICdkZW5zZScgYW5kICdzcGFyc2UnLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubWF0cml4KCkgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggdXNpbmcgZGVmYXVsdCBzdG9yYWdlIGZvcm1hdCAoZGVuc2UpLlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhKSAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZXMgYSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEgdXNpbmcgZGVmYXVsdCBzdG9yYWdlIGZvcm1hdCAoZGVuc2UpLlxuICAgKiAgICBtYXRoLm1hdHJpeCgnZGVuc2UnKSAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZXMgYW4gZW1wdHkgbWF0cml4IHVzaW5nIHRoZSBnaXZlbiBzdG9yYWdlIGZvcm1hdC5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSwgJ2RlbnNlJykgICAgICAgICAgICAvLyBjcmVhdGVzIGEgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhIHVzaW5nIHRoZSBnaXZlbiBzdG9yYWdlIGZvcm1hdC5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSwgJ3NwYXJzZScpICAgICAgICAgICAvLyBjcmVhdGVzIGEgc3BhcnNlIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YS5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSwgJ3NwYXJzZScsICdudW1iZXInKSAvLyBjcmVhdGVzIGEgc3BhcnNlIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YSwgbnVtYmVyIGRhdGEgdHlwZS5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIGxldCBtID0gbWF0aC5tYXRyaXgoW1sxLCAyXSwgWzMsIDRdXSlcbiAgICogICAgbS5zaXplKCkgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBbMiwgMl1cbiAgICogICAgbS5yZXNpemUoWzMsIDJdLCA1KVxuICAgKiAgICBtLnZhbHVlT2YoKSAgICAgICAgICAgICAgICAgICAgIC8vIEFycmF5IFtbMSwgMl0sIFszLCA0XSwgWzUsIDVdXVxuICAgKiAgICBtLmdldChbMSwgMF0pICAgICAgICAgICAgICAgICAgICAvLyBudW1iZXIgM1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbnVtYmVyLCBzdHJpbmcsIHVuaXQsIHNwYXJzZVxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBbZGF0YV0gICAgQSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gICAgICAgICAgVGhlIE1hdHJpeCBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IFRoZSBjcmVhdGVkIG1hdHJpeFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKFtdKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoW10sIGZvcm1hdCk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBzdHJpbmcnOiBmdW5jdGlvbiBzdHJpbmdTdHJpbmcoZm9ybWF0LCBkYXRhdHlwZSkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoW10sIGZvcm1hdCwgZGF0YXR5cGUpO1xuICAgIH0sXG4gICAgQXJyYXk6IGZ1bmN0aW9uIEFycmF5KGRhdGEpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKGRhdGEpO1xuICAgIH0sXG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoZGF0YSkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoZGF0YSwgZGF0YS5zdG9yYWdlKCkpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBzdHJpbmcnOiBfY3JlYXRlLFxuICAgICdBcnJheSB8IE1hdHJpeCwgc3RyaW5nLCBzdHJpbmcnOiBfY3JlYXRlXG4gIH0pO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1hdHJpeCB3aXRoIGdpdmVuIHN0b3JhZ2UgZm9ybWF0XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9IFJldHVybnMgYSBuZXcgTWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGUoZGF0YSwgZm9ybWF0LCBkYXRhdHlwZSkge1xuICAgIC8vIGdldCBzdG9yYWdlIGZvcm1hdCBjb25zdHJ1Y3RvclxuICAgIGlmIChmb3JtYXQgPT09ICdkZW5zZScgfHwgZm9ybWF0ID09PSAnZGVmYXVsdCcgfHwgZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQgPT09ICdzcGFyc2UnKSB7XG4gICAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBtYXRyaXggdHlwZSAnICsgSlNPTi5zdHJpbmdpZnkoZm9ybWF0KSArICcuJyk7XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAndW5hcnlNaW51cyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVVbmFyeU1pbnVzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEludmVyc2UgdGhlIHNpZ24gb2YgYSB2YWx1ZSwgYXBwbHkgYSB1bmFyeSBtaW51cyBvcGVyYXRpb24uXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuIEJvb2xlYW4gdmFsdWVzIGFuZFxuICAgKiBzdHJpbmdzIHdpbGwgYmUgY29udmVydGVkIHRvIGEgbnVtYmVyLiBGb3IgY29tcGxleCBudW1iZXJzLCBib3RoIHJlYWwgYW5kXG4gICAqIGNvbXBsZXggdmFsdWUgYXJlIGludmVydGVkLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgudW5hcnlNaW51cyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC51bmFyeU1pbnVzKDMuNSkgICAgICAvLyByZXR1cm5zIC0zLjVcbiAgICogICAgbWF0aC51bmFyeU1pbnVzKC00LjIpICAgICAvLyByZXR1cm5zIDQuMlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYWRkLCBzdWJ0cmFjdCwgdW5hcnlQbHVzXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCBOdW1iZXIgdG8gYmUgaW52ZXJ0ZWQuXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0aGUgdmFsdWUgd2l0aCBpbnZlcnRlZCBzaWduLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBudW1iZXI6IHVuYXJ5TWludXNOdW1iZXIsXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5uZWcoKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4Lm5lZygpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4Lm5lZygpO1xuICAgIH0sXG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyh4LnZhbHVlKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIHVuYXJ5TWludXMoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9IC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBzdHJpbmdcblxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGFic051bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdhYnMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWJzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYSBudW1iZXIuIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzXG4gICAqIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5hYnMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguYWJzKDMuNSkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy41XG4gICAqICAgIG1hdGguYWJzKC00LjIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNC4yXG4gICAqXG4gICAqICAgIG1hdGguYWJzKFszLCAtNSwgLTEsIDAsIDJdKSAgLy8gcmV0dXJucyBBcnJheSBbMywgNSwgMSwgMCwgMl1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHNpZ25cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXggfCBVbml0fSB4XG4gICAqICAgICAgICAgICAgQSBudW1iZXIgb3IgbWF0cml4IGZvciB3aGljaCB0byBnZXQgdGhlIGFic29sdXRlIHZhbHVlXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4IHwgVW5pdH1cbiAgICogICAgICAgICAgICBBYnNvbHV0ZSB2YWx1ZSBvZiBgeGBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgbnVtYmVyOiBhYnNOdW1iZXIsXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBhYnMoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGFkZE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdhZGRTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWRkU2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEFkZCB0d28gc2NhbGFyIHZhbHVlcywgYHggKyB5YC5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCBmb3IgaW50ZXJuYWwgdXNlOiBpdCBpcyB1c2VkIGJ5IHRoZSBwdWJsaWMgZnVuY3Rpb25cbiAgICogYGFkZGBcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNvbGxlY3Rpb25zIChBcnJheSBvciBNYXRyaXgpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSB4ICAgRmlyc3QgdmFsdWUgdG8gYWRkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleH0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gYWRkXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9ICAgICBTdW0gb2YgYHhgIGFuZCBgeWBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogYWRkTnVtYmVyLFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHguYWRkKHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnBsdXMoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5hZGQoeSk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICh4LnZhbHVlID09PSBudWxsIHx8IHgudmFsdWUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeCBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIGlmICh5LnZhbHVlID09PSBudWxsIHx8IHkudmFsdWUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeSBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHRocm93IG5ldyBFcnJvcignVW5pdHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyhyZXMudmFsdWUsIHkudmFsdWUpO1xuICAgICAgcmVzLmZpeFByZWZpeCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTEnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTEgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggUyBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKFNpaiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFMpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoU2lqLCBiKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgMCAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLFNpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjY4MTNcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMShzLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBzLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IHMuX2luZGV4O1xuICAgIHZhciBhcHRyID0gcy5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IHMuX3NpemU7XG4gICAgdmFyIGFkdCA9IHMuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCBhbmQgU2NhbGFyIHZhbHVlJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBpbml0aWFsaXplIHB0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIHZhbHVlcyBpbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGkgPSBhaW5kZXhba107IC8vIGludm9rZSBjYWxsYmFja1xuXG4gICAgICAgIHZhciB2ID0gaW52ZXJzZSA/IGNmKGIsIGF2YWx1ZXNba10pIDogY2YoYXZhbHVlc1trXSwgYik7IC8vIGNoZWNrIHZhbHVlIGlzIHplcm9cblxuICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgLy8gcHVzaCBpbmRleCAmIHZhbHVlXG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgY3ZhbHVlcy5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIHMuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTE0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTE0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgRGVuc2VNYXRyaXggaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLi56LCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqIEMoaSxqLC4uLnopID0gZihBaWouLnosIGIpXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWouLnosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixBaWouLnopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2NTkwNDJcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xNChhLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGEgYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcG9wdWxhdGUgY2RhdGEsIGl0ZXJhdGUgdGhyb3VnaCBkaW1lbnNpb25zXG5cblxuICAgIHZhciBjZGF0YSA9IGFzaXplLmxlbmd0aCA+IDAgPyBfaXRlcmF0ZShjZiwgMCwgYXNpemUsIGFzaXplWzBdLCBhZGF0YSwgYiwgaW52ZXJzZSkgOiBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogY2xvbmUoYXNpemUpLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07IC8vIHJlY3Vyc2l2ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIF9pdGVyYXRlKGYsIGxldmVsLCBzLCBuLCBhdiwgYnYsIGludmVyc2UpIHtcbiAgICAvLyBpbml0aWFsaXplIGFycmF5IGZvciB0aGlzIGxldmVsXG4gICAgdmFyIGN2ID0gW107IC8vIGNoZWNrIHdlIHJlYWNoIHRoZSBsYXN0IGxldmVsXG5cbiAgICBpZiAobGV2ZWwgPT09IHMubGVuZ3RoIC0gMSkge1xuICAgICAgLy8gbG9vcCBhcnJheXMgaW4gbGFzdCBsZXZlbFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrIGFuZCBzdG9yZSB2YWx1ZVxuICAgICAgICBjdltpXSA9IGludmVyc2UgPyBmKGJ2LCBhdltpXSkgOiBmKGF2W2ldLCBidik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGl0ZXJhdGUgY3VycmVudCBsZXZlbFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgLy8gaXRlcmF0ZSBuZXh0IGxldmVsXG4gICAgICAgIGN2W2pdID0gX2l0ZXJhdGUoZiwgbGV2ZWwgKyAxLCBzLCBzW2xldmVsICsgMV0sIGF2W2pdLCBidiwgaW52ZXJzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN2O1xuICB9XG59KTsiLCJpbXBvcnQgRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IGNlaWxOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2NlaWwnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ3JvdW5kJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVDZWlsID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIHJvdW5kLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgcGx1cyBpbmZpbml0eVxuICAgKiBJZiBgeGAgaXMgY29tcGxleCwgYm90aCByZWFsIGFuZCBpbWFnaW5hcnkgcGFydCBhcmUgcm91bmRlZCB0b3dhcmRzIHBsdXMgaW5maW5pdHkuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKHgpXG4gICAqICAgIG1hdGguY2VpbCh4LCBuKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKDMuMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGguY2VpbCgzLjgpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLmNlaWwoLTQuMikgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqICAgIG1hdGguY2VpbCgtNC43KSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKDMuMjEyLCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjIyXG4gICAqICAgIG1hdGguY2VpbCgzLjI4OCwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yOVxuICAgKiAgICBtYXRoLmNlaWwoLTQuMjEyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjIxXG4gICAqICAgIG1hdGguY2VpbCgtNC43ODIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuNzhcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjI0LCAtMi43MSlcbiAgICogICAgbWF0aC5jZWlsKGMpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggNCAtIDJpXG4gICAqICAgIG1hdGguY2VpbChjLCAxKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMuMyAtIDIuN2lcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKFszLjIsIDMuOCwgLTQuN10pICAvLyByZXR1cm5zIEFycmF5IFs0LCA0LCAtNF1cbiAgICogICAgbWF0aC5jZWlsKFszLjIxLCAzLjgyLCAtNC43MV0sIDEpICAvLyByZXR1cm5zIEFycmF5IFszLjMsIDMuOSwgLTQuN11cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGZsb29yLCBmaXgsIHJvdW5kXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnY2VpbCcsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2VpbE51bWJlcih4KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQoeCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLmNlaWwoTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpICsgbikpKTtcbiAgICAgICAgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQocmVzdWx0LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSAtIG4pKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguY2VpbCgpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguY2VpbChuKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LmNlaWwoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpLCBEZWNpbWFsLlJPVU5EX0NFSUwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LmNlaWwoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguY2VpbChuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgY2VpbCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBudW1iZXInOiBmdW5jdGlvbiBBcnJheU1hdHJpeE51bWJlcih4LCBuKSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGNlaWwoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBpID0+IHRoaXMoaSwgbiksIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gU3BhcnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIERlbnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2ZpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdDb21wbGV4JywgJ21hdHJpeCcsICdjZWlsJywgJ2Zsb29yJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZpeCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIENvbXBsZXg6IF9Db21wbGV4LFxuICAgIG1hdHJpeCxcbiAgICBjZWlsLFxuICAgIGZsb29yXG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgemVyby5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmZpeCh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5maXgoMy4yKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZml4KDMuOCkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZpeCgtNC4yKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqICAgIG1hdGguZml4KC00LjcpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICpcbiAgICogICAgbWF0aC5maXgoMy4xMiwgMSkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4xXG4gICAqICAgIG1hdGguZml4KDMuMTgsIDEpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMVxuICAgKiAgICBtYXRoLmZpeCgtNC4xMiwgMSkgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4xXG4gICAqICAgIG1hdGguZml4KC00LjE3LCAxKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjFcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjIyLCAtMi43OClcbiAgICogICAgbWF0aC5maXgoYykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMyAtIDJpXG4gICAqICAgIG1hdGguZml4KGMsIDEpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMuMiAtIDIuN2lcbiAgICpcbiAgICogICAgbWF0aC5maXgoWzMuMiwgMy44LCAtNC43XSkgICAgICAvLyByZXR1cm5zIEFycmF5IFszLCAzLCAtNF1cbiAgICogICAgbWF0aC5maXgoWzMuMiwgMy44LCAtNC43XSwgMSkgICAvLyByZXR1cm5zIEFycmF5IFszLjIsIDMuOCwgLTQuN11cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGNlaWwsIGZsb29yLCByb3VuZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gICAgIFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdmaXgnLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHggPiAwID8gZmxvb3IoeCkgOiBjZWlsKHgpO1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4ID4gMCA/IGZsb29yKHgsIG4pIDogY2VpbCh4LCBuKTtcbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIG5ldyBfQ29tcGxleCh4LnJlID4gMCA/IE1hdGguZmxvb3IoeC5yZSkgOiBNYXRoLmNlaWwoeC5yZSksIHguaW0gPiAwID8gTWF0aC5mbG9vcih4LmltKSA6IE1hdGguY2VpbCh4LmltKSk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4gbmV3IF9Db21wbGV4KHgucmUgPiAwID8gZmxvb3IoeC5yZSwgbikgOiBjZWlsKHgucmUsIG4pLCB4LmltID4gMCA/IGZsb29yKHguaW0sIG4pIDogY2VpbCh4LmltLCBuKSk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC5pc05lZ2F0aXZlKCkgPyBjZWlsKHgpIDogZmxvb3IoeCk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguaXNOZWdhdGl2ZSgpID8gY2VpbCh4LCBuKSA6IGZsb29yKHgsIG4pO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LnMgPCAwID8geC5jZWlsKCkgOiB4LmZsb29yKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LnMgPCAwID8geC5jZWlsKG4pIDogeC5mbG9vcihuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgZml4KDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEFycmF5TWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgZml4KDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgaSA9PiB0aGlzKGksIG4pLCB0cnVlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2Zsb29yJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdyb3VuZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlRmxvb3IgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgcm91bmQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyBtaW51cyBpbmZpbml0eS5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKHgpXG4gICAqICAgIG1hdGguZmxvb3IoeCwgbilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoMy4yKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZsb29yKDMuOCkgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5mbG9vcigtNC4yKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNVxuICAgKiAgICBtYXRoLmZsb29yKC00LjcpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC01XG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoMy4yMTIsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjFcbiAgICogICAgbWF0aC5mbG9vcigzLjI4OCwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yOFxuICAgKiAgICBtYXRoLmZsb29yKC00LjIxMiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4yMlxuICAgKiAgICBtYXRoLmZsb29yKC00Ljc4MiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC43OVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMjQsIC0yLjcxKVxuICAgKiAgICBtYXRoLmZsb29yKGMpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMyAtIDNpXG4gICAqICAgIG1hdGguZmxvb3IoYywgMSkgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzLjIgLSAyLjhpXG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoWzMuMiwgMy44LCAtNC43XSkgICAgICAgLy8gcmV0dXJucyBBcnJheSBbMywgMywgLTVdXG4gICAqICAgIG1hdGguZmxvb3IoWzMuMjEsIDMuODIsIC00LjcxXSwgMSkgIC8vIHJldHVybnMgQXJyYXkgWzMuMiwgMy44LCAtNC44XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgY2VpbCwgZml4LCByb3VuZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2Zsb29yJywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdCh4LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguZmxvb3IoTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpICsgbikpKTtcbiAgICAgICAgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQocmVzdWx0LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSAtIG4pKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguZmxvb3IoKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmZsb29yKG4pO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHguZmxvb3IoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpLCBEZWNpbWFsLlJPVU5EX0ZMT09SKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5mbG9vcigpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5mbG9vcihuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgZmxvb3IoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgbnVtYmVyJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhOdW1iZXIoeCwgbikge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBjZWlsKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgaSA9PiB0aGlzKGksIG4pLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBEZW5zZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wMSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wMSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKERpaiwgU2lqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFNwYXJzZU1hdHJpeCkuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihEaWosIFNpaikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIERpaiAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBkZW5zZU1hdHJpeCAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEQpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHNwYXJzZU1hdHJpeCAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKERpaixTaWopIG9wZXJhdGlvbiB0byBpbnZva2UsIHdoZXJlIERpaiA9IERlbnNlTWF0cml4KGksaikgYW5kIFNpaiA9IFNwYXJzZU1hdHJpeChpLGopXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihTaWosRGlqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzQ3NzU3MVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEoZGVuc2VNYXRyaXgsIHNwYXJzZU1hdHJpeCwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBkZW5zZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gZGVuc2VNYXRyaXguX2RhdGE7XG4gICAgdmFyIGFzaXplID0gZGVuc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGFkdCA9IGRlbnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gc3BhcnNlTWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IHNwYXJzZU1hdHJpeC5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBzcGFyc2VNYXRyaXguX3B0cjtcbiAgICB2YXIgYnNpemUgPSBzcGFyc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGJkdCA9IHNwYXJzZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBEZW5zZSBNYXRyaXggYW5kIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIHZhciBkdCA9IHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0ID8gYWR0IDogdW5kZWZpbmVkOyAvLyBjYWxsYmFjayBmdW5jdGlvblxuXG4gICAgdmFyIGNmID0gZHQgPyB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSkgOiBjYWxsYmFjazsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGo7IC8vIHJlc3VsdCAoRGVuc2VNYXRyaXgpXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gaW5pdGlhbGl6ZSBjXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBjZGF0YVtpXSA9IFtdO1xuICAgIH0gLy8gd29ya3NwYWNlXG5cblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gYlxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1uIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBiaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGNmKGJ2YWx1ZXNba10sIGFkYXRhW2ldW2pdKSA6IGNmKGFkYXRhW2ldW2pdLCBidmFsdWVzW2tdKTsgLy8gbWFyayBpIGFzIHVwZGF0ZWRcblxuICAgICAgICB3W2ldID0gbWFyaztcbiAgICAgIH0gLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBjaGVjayByb3cgaXMgaW4gd29ya3NwYWNlXG4gICAgICAgIGlmICh3W2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gY1tpXVtqXSB3YXMgYWxyZWFkeSBjYWxjdWxhdGVkXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSB4W2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGl0ZW0gZG9lcyBub3QgZXhpc3QgaW4gU1xuICAgICAgICAgIGNkYXRhW2ldW2pdID0gYWRhdGFbaV1bal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGRlbnNlTWF0cml4LmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTA0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTA0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IEEgYW5kIFNwYXJzZU1hdHJpeCBCIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLCBCaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE1BWChOTlpBLCBOTlpCKSB0aW1lc1xuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoQWlqLCBCaWopICA7IEEoaSxqKSAhPT0gMCAmJiBCKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkICBBKGksaikgICAgICAgOyBBKGksaikgIT09IDBcbiAgICogICAgICAgICAg4pSUICBCKGksaikgICAgICAgOyBCKGksaikgIT09IDBcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLEJpaikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjAyOTRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wNChhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyB3b3Jrc3BhY2VcblxuICAgIHZhciB4YSA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciB4YiA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHdhID0gW107XG4gICAgdmFyIHdiID0gW107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrLCBrMCwgazE7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gdXBkYXRlIGNwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyBjb2x1bW5zIG1hcmtcblxuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gbG9vcCBBKDosailcblxuICAgICAgZm9yIChrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBhaW5kZXhba107IC8vIHVwZGF0ZSBjXG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB3YVtpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAoeGEpIHtcbiAgICAgICAgICB4YVtpXSA9IGF2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gLy8gbG9vcCBCKDosailcblxuXG4gICAgICBmb3IgKGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGJpbmRleFtrXTsgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiBBXG5cbiAgICAgICAgaWYgKHdhW2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHJlY29yZCBpbiB4YSBAIGlcbiAgICAgICAgICBpZiAoeGEpIHtcbiAgICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgICAgICAgdmFyIHYgPSBjZih4YVtpXSwgYnZhbHVlc1trXSk7IC8vIGNoZWNrIGZvciB6ZXJvXG5cbiAgICAgICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAgICAgLy8gdXBkYXRlIHdvcmtzcGFjZVxuICAgICAgICAgICAgICB4YVtpXSA9IHY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyByZW1vdmUgbWFyayAoaW5kZXggd2lsbCBiZSByZW1vdmVkIGxhdGVyKVxuICAgICAgICAgICAgICB3YVtpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVwZGF0ZSBjXG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICAgIHdiW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgICAgaWYgKHhiKSB7XG4gICAgICAgICAgICB4YltpXSA9IGJ2YWx1ZXNba107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXMgKG5vbiBwYXR0ZXJuIG1hdHJpeClcblxuXG4gICAgICBpZiAoeGEgJiYgeGIpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBmaXJzdCBpbmRleCBpbiBqXG4gICAgICAgIGsgPSBjcHRyW2pdOyAvLyBsb29wIGluZGV4IGluIGpcblxuICAgICAgICB3aGlsZSAoayA8IGNpbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICBpID0gY2luZGV4W2tdOyAvLyBjaGVjayB3b3Jrc3BhY2UgaGFzIHZhbHVlIEAgaVxuXG4gICAgICAgICAgaWYgKHdhW2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHZhbHVlIChBaWogIT0gMCB8fCAoQWlqICE9IDAgJiYgQmlqICE9IDApKVxuICAgICAgICAgICAgY3ZhbHVlc1trXSA9IHhhW2ldOyAvLyBpbmNyZW1lbnQgcG9pbnRlclxuXG4gICAgICAgICAgICBrKys7XG4gICAgICAgICAgfSBlbHNlIGlmICh3YltpXSA9PT0gbWFyaykge1xuICAgICAgICAgICAgLy8gcHVzaCB2YWx1ZSAoYmlqICE9IDApXG4gICAgICAgICAgICBjdmFsdWVzW2tdID0geGJbaV07IC8vIGluY3JlbWVudCBwb2ludGVyXG5cbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGV4IEAga1xuICAgICAgICAgICAgY2luZGV4LnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBjcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTEwJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTEwID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IFMgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihTaWosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTKS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKFNpaiwgYikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIGIgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgcyAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixTaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjY4MTNcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMChzLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBzLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IHMuX2luZGV4O1xuICAgIHZhciBhcHRyID0gcy5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IHMuX3NpemU7XG4gICAgdmFyIGFkdCA9IHMuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCBhbmQgU2NhbGFyIHZhbHVlJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIHdvcmtzcGFjZXNcblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW5zIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIHIgPSBhaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W3JdID0gYXZhbHVlc1trXTtcbiAgICAgICAgd1tyXSA9IG1hcms7XG4gICAgICB9IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgQyBvbiBmaXJzdCBjb2x1bW5cbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBjcmVhdGUgcm93IGFycmF5XG4gICAgICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICAgICAgfSAvLyBjaGVjayBzcGFyc2UgbWF0cml4IGhhcyBhIHZhbHVlIEAgaSxqXG5cblxuICAgICAgICBpZiAod1tpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFjaywgdXBkYXRlIENcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGludmVyc2UgPyBjZihiLCB4W2ldKSA6IGNmKHhbaV0sIGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRlbnNlIG1hdHJpeCB2YWx1ZSBAIGksIGpcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIERlbnNlTWF0cml4IGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpai4ueiwgQmlqLi56KS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqIEMoaSxqLC4uLnopID0gZihBaWouLnosIEJpai4ueilcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpai4ueixCaWouLnopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzY1ODY1OFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEzKGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gYSBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGFycmF5c1xuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gYyBhcnJheXNcblxuICAgIHZhciBjc2l6ZSA9IFtdOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyB2YWxpZGF0ZSBlYWNoIG9uZSBvZiB0aGUgZGltZW5zaW9uIHNpemVzXG5cblxuICAgIGZvciAodmFyIHMgPSAwOyBzIDwgYXNpemUubGVuZ3RoOyBzKyspIHtcbiAgICAgIC8vIG11c3QgbWF0Y2hcbiAgICAgIGlmIChhc2l6ZVtzXSAhPT0gYnNpemVbc10pIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgICB9IC8vIHVwZGF0ZSBkaW1lbnNpb24gaW4gY1xuXG5cbiAgICAgIGNzaXplW3NdID0gYXNpemVbc107XG4gICAgfSAvLyBkYXRhdHlwZVxuXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHBvcHVsYXRlIGNkYXRhLCBpdGVyYXRlIHRocm91Z2ggZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgY2RhdGEgPSBjc2l6ZS5sZW5ndGggPiAwID8gX2l0ZXJhdGUoY2YsIDAsIGNzaXplLCBjc2l6ZVswXSwgYWRhdGEsIGJkYXRhKSA6IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBjc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9OyAvLyByZWN1cnNpdmUgZnVuY3Rpb25cblxuICBmdW5jdGlvbiBfaXRlcmF0ZShmLCBsZXZlbCwgcywgbiwgYXYsIGJ2KSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBhcnJheSBmb3IgdGhpcyBsZXZlbFxuICAgIHZhciBjdiA9IFtdOyAvLyBjaGVjayB3ZSByZWFjaCB0aGUgbGFzdCBsZXZlbFxuXG4gICAgaWYgKGxldmVsID09PSBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIC8vIGxvb3AgYXJyYXlzIGluIGxhc3QgbGV2ZWxcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIC8vIGludm9rZSBjYWxsYmFjayBhbmQgc3RvcmUgdmFsdWVcbiAgICAgICAgY3ZbaV0gPSBmKGF2W2ldLCBidltpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGl0ZXJhdGUgY3VycmVudCBsZXZlbFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgLy8gaXRlcmF0ZSBuZXh0IGxldmVsXG4gICAgICAgIGN2W2pdID0gX2l0ZXJhdGUoZiwgbGV2ZWwgKyAxLCBzLCBzW2xldmVsICsgMV0sIGF2W2pdLCBidltqXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN2O1xuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTAyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTAyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoRGlqLCBTaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5OWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gU3BhcnNlTWF0cml4KS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKERpaiwgU2lqKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgMCAgICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGRlbnNlTWF0cml4ICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoRClcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgc3BhcnNlTWF0cml4ICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoRGlqLFNpaikgb3BlcmF0aW9uIHRvIGludm9rZSwgd2hlcmUgRGlqID0gRGVuc2VNYXRyaXgoaSxqKSBhbmQgU2lqID0gU3BhcnNlTWF0cml4KGksailcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKFNpaixEaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzQ3NzU3MVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTAyKGRlbnNlTWF0cml4LCBzcGFyc2VNYXRyaXgsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gZGVuc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGRlbnNlTWF0cml4Ll9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGRlbnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBhZHQgPSBkZW5zZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IHNwYXJzZU1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBzcGFyc2VNYXRyaXguX2luZGV4O1xuICAgIHZhciBicHRyID0gc3BhcnNlTWF0cml4Ll9wdHI7XG4gICAgdmFyIGJzaXplID0gc3BhcnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBiZHQgPSBzcGFyc2VNYXRyaXguX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gRGVuc2UgTWF0cml4IGFuZCBQYXR0ZXJuIFNwYXJzZSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgKFNwYXJzZU1hdHJpeClcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIGJcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyB1cGRhdGUgY3B0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpID0gYmluZGV4W2tdOyAvLyB1cGRhdGUgQyhpLGopXG5cbiAgICAgICAgdmFyIGNpaiA9IGludmVyc2UgPyBjZihidmFsdWVzW2tdLCBhZGF0YVtpXVtqXSkgOiBjZihhZGF0YVtpXVtqXSwgYnZhbHVlc1trXSk7IC8vIGNoZWNrIGZvciBub256ZXJvXG5cbiAgICAgICAgaWYgKCFlcShjaWosIHplcm8pKSB7XG4gICAgICAgICAgLy8gcHVzaCBpICYgdlxuICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICAgIGN2YWx1ZXMucHVzaChjaWopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgY3B0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBzcGFyc2VNYXRyaXguY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoRGlqLCBTaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE0qTiB0aW1lcy5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKERpaiwgU2lqKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgZihEaWosIDApICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGRlbnNlTWF0cml4ICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoRClcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgc3BhcnNlTWF0cml4ICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQylcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoRGlqLFNpaikgb3BlcmF0aW9uIHRvIGludm9rZSwgd2hlcmUgRGlqID0gRGVuc2VNYXRyaXgoaSxqKSBhbmQgU2lqID0gU3BhcnNlTWF0cml4KGksailcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKFNpaixEaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NDc3NTcxXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDMoZGVuc2VNYXRyaXgsIHNwYXJzZU1hdHJpeCwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBkZW5zZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gZGVuc2VNYXRyaXguX2RhdGE7XG4gICAgdmFyIGFzaXplID0gZGVuc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGFkdCA9IGRlbnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gc3BhcnNlTWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IHNwYXJzZU1hdHJpeC5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBzcGFyc2VNYXRyaXguX3B0cjtcbiAgICB2YXIgYnNpemUgPSBzcGFyc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGJkdCA9IHNwYXJzZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBEZW5zZSBNYXRyaXggYW5kIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCAoRGVuc2VNYXRyaXgpXG5cblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyBpbml0aWFsaXplIGRlbnNlIG1hdHJpeFxuXG4gICAgZm9yICh2YXIgeiA9IDA7IHogPCByb3dzOyB6KyspIHtcbiAgICAgIC8vIGluaXRpYWxpemUgcm93XG4gICAgICBjZGF0YVt6XSA9IFtdO1xuICAgIH0gLy8gd29ya3NwYWNlXG5cblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gYlxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbiBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaSA9IGJpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbaV0gPSBpbnZlcnNlID8gY2YoYnZhbHVlc1trXSwgYWRhdGFbaV1bal0pIDogY2YoYWRhdGFbaV1bal0sIGJ2YWx1ZXNba10pO1xuICAgICAgICB3W2ldID0gbWFyaztcbiAgICAgIH0gLy8gcHJvY2VzcyB3b3Jrc3BhY2VcblxuXG4gICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHJvd3M7IHkrKykge1xuICAgICAgICAvLyBjaGVjayB3ZSBoYXZlIGEgY2FsY3VsYXRlZCB2YWx1ZSBmb3IgY3VycmVudCByb3dcbiAgICAgICAgaWYgKHdbeV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyB1c2UgY2FsY3VsYXRlZCB2YWx1ZVxuICAgICAgICAgIGNkYXRhW3ldW2pdID0geFt5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjYWxjdWxhdGUgdmFsdWVcbiAgICAgICAgICBjZGF0YVt5XVtqXSA9IGludmVyc2UgPyBjZih6ZXJvLCBhZGF0YVt5XVtqXSkgOiBjZihhZGF0YVt5XVtqXSwgemVybyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGRlbnNlTWF0cml4LmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTA1JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTA1ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IEEgYW5kIFNwYXJzZU1hdHJpeCBCIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLCBCaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE1BWChOTlpBLCBOTlpCKSB0aW1lc1xuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoQWlqLCBCaWopICA7IEEoaSxqKSAhPT0gMCB8fCBCKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgMCAgICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixCaWopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjIwMjk0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDUoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gd29ya3NwYWNlc1xuXG4gICAgdmFyIHhhID0gY3ZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciB4YiA9IGN2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3YSA9IFtdO1xuICAgIHZhciB3YiA9IFtdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgaywgazE7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gdXBkYXRlIGNwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyBjb2x1bW5zIG1hcmtcblxuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gbG9vcCB2YWx1ZXMgQSg6LGopXG5cbiAgICAgIGZvciAoayA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV07IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYWluZGV4W2tdOyAvLyBwdXNoIGluZGV4XG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB3YVtpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAoeGEpIHtcbiAgICAgICAgICB4YVtpXSA9IGF2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gLy8gbG9vcCB2YWx1ZXMgQig6LGopXG5cblxuICAgICAgZm9yIChrID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXTsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBiaW5kZXhba107IC8vIGNoZWNrIHJvdyBleGlzdGVkIGluIEFcblxuICAgICAgICBpZiAod2FbaV0gIT09IG1hcmspIHtcbiAgICAgICAgICAvLyBwdXNoIGluZGV4XG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgIH0gLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG5cbiAgICAgICAgd2JbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHhiKSB7XG4gICAgICAgICAgeGJbaV0gPSBidmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXMgKG5vbiBwYXR0ZXJuIG1hdHJpeClcblxuXG4gICAgICBpZiAoY3ZhbHVlcykge1xuICAgICAgICAvLyBpbml0aWFsaXplIGZpcnN0IGluZGV4IGluIGpcbiAgICAgICAgayA9IGNwdHJbal07IC8vIGxvb3AgaW5kZXggaW4galxuXG4gICAgICAgIHdoaWxlIChrIDwgY2luZGV4Lmxlbmd0aCkge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIGkgPSBjaW5kZXhba107IC8vIG1hcmtzXG5cbiAgICAgICAgICB2YXIgd2FpID0gd2FbaV07XG4gICAgICAgICAgdmFyIHdiaSA9IHdiW2ldOyAvLyBjaGVjayBBaWogb3IgQmlqIGFyZSBub256ZXJvXG5cbiAgICAgICAgICBpZiAod2FpID09PSBtYXJrIHx8IHdiaSA9PT0gbWFyaykge1xuICAgICAgICAgICAgLy8gbWF0cml4IHZhbHVlcyBAIGksalxuICAgICAgICAgICAgdmFyIHZhID0gd2FpID09PSBtYXJrID8geGFbaV0gOiB6ZXJvO1xuICAgICAgICAgICAgdmFyIHZiID0gd2JpID09PSBtYXJrID8geGJbaV0gOiB6ZXJvOyAvLyBDaWpcblxuICAgICAgICAgICAgdmFyIHZjID0gY2YodmEsIHZiKTsgLy8gY2hlY2sgZm9yIHplcm9cblxuICAgICAgICAgICAgaWYgKCFlcSh2YywgemVybykpIHtcbiAgICAgICAgICAgICAgLy8gcHVzaCB2YWx1ZVxuICAgICAgICAgICAgICBjdmFsdWVzLnB1c2godmMpOyAvLyBpbmNyZW1lbnQgcG9pbnRlclxuXG4gICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHJlbW92ZSB2YWx1ZSBAIGksIGRvIG5vdCBpbmNyZW1lbnQgcG9pbnRlclxuICAgICAgICAgICAgICBjaW5kZXguc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIGNwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggUyBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKFNpaiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoU2lqLCBiKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgZigwLCBiKSAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLFNpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyNjgxM1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEyKHMsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IHMuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gcy5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBzLl9wdHI7XG4gICAgdmFyIGFzaXplID0gcy5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gcy5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gUGF0dGVybiBTcGFyc2UgTWF0cml4IGFuZCBTY2FsYXIgdmFsdWUnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gd29ya3NwYWNlc1xuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbnMgbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgciA9IGFpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbcl0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB3W3JdID0gbWFyaztcbiAgICAgIH0gLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBDIG9uIGZpcnN0IGNvbHVtblxuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIC8vIGNyZWF0ZSByb3cgYXJyYXlcbiAgICAgICAgICBjZGF0YVtpXSA9IFtdO1xuICAgICAgICB9IC8vIGNoZWNrIHNwYXJzZSBtYXRyaXggaGFzIGEgdmFsdWUgQCBpLGpcblxuXG4gICAgICAgIGlmICh3W2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrLCB1cGRhdGUgQ1xuICAgICAgICAgIGNkYXRhW2ldW2pdID0gaW52ZXJzZSA/IGNmKGIsIHhbaV0pIDogY2YoeFtpXSwgYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZGVuc2UgbWF0cml4IHZhbHVlIEAgaSwgalxuICAgICAgICAgIGNkYXRhW2ldW2pdID0gaW52ZXJzZSA/IGNmKGIsIDApIDogY2YoMCwgYik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA1IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDUuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyBtb2ROdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnbW9kJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVNb2QgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMiA9IGNyZWF0ZUFsZ29yaXRobTAyKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDUgPSBjcmVhdGVBbGdvcml0aG0wNSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIG1vZHVsdXMsIHRoZSByZW1haW5kZXIgb2YgYW4gaW50ZWdlciBkaXZpc2lvbi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogVGhlIG1vZHVsdXMgaXMgZGVmaW5lZCBhczpcbiAgICpcbiAgICogICAgIHggLSB5ICogZmxvb3IoeCAvIHkpXG4gICAqXG4gICAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubW9kKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm1vZCg4LCAzKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDJcbiAgICogICAgbWF0aC5tb2QoMTEsIDIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyAxXG4gICAqXG4gICAqICAgIGZ1bmN0aW9uIGlzT2RkKHgpIHtcbiAgICogICAgICByZXR1cm4gbWF0aC5tb2QoeCwgMikgIT0gMFxuICAgKiAgICB9XG4gICAqXG4gICAqICAgIGlzT2RkKDIpICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgaXNPZGQoMykgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBkaXZpZGVcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0geCBEaXZpZGVuZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSB5IERpdmlzb3JcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0aGUgcmVtYWluZGVyIG9mIGB4YCBkaXZpZGVkIGJ5IGB5YC5cbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBtb2ROdW1iZXIsXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIGlmICh5LmlzTmVnKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB5LmlzWmVybygpID8geCA6IHgubW9kKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgaWYgKHkuY29tcGFyZSgwKSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yJyk7XG4gICAgICB9IC8vIFdvcmthcm91bmQgc3VnZ2VzdGVkIGluIEZyYWN0aW9uLmpzIGxpYnJhcnkgdG8gY2FsY3VsYXRlIGNvcnJlY3QgbW9kdWxvIGZvciBuZWdhdGl2ZSBkaXZpZGVuZFxuXG5cbiAgICAgIHJldHVybiB4LmNvbXBhcmUoMCkgPj0gMCA/IHgubW9kKHkpIDogeC5tb2QoeSkuYWRkKHkpLm1vZCh5KTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDUoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnbXVsdGlwbHlTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTXVsdGlwbHlTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogTXVsdGlwbHkgdHdvIHNjYWxhciB2YWx1ZXMsIGB4ICogeWAuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgZm9yIGludGVybmFsIHVzZTogaXQgaXMgdXNlZCBieSB0aGUgcHVibGljIGZ1bmN0aW9uXG4gICAqIGBtdWx0aXBseWBcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNvbGxlY3Rpb25zIChBcnJheSBvciBNYXRyaXgpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSB4ICAgRmlyc3QgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4fSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSAgICAgTXVsdGlwbGljYXRpb24gb2YgYHhgIGFuZCBgeWBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZCgnbXVsdGlwbHlTY2FsYXInLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogbXVsdGlwbHlOdW1iZXIsXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5tdWwoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgudGltZXMoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5tdWwoeSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4LCBVbml0JzogZnVuY3Rpb24gbnVtYmVyRnJhY3Rpb25CaWdOdW1iZXJDb21wbGV4VW5pdCh4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geS5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gcmVzLnZhbHVlID09PSBudWxsID8gcmVzLl9ub3JtYWxpemUoeCkgOiB0aGlzKHJlcy52YWx1ZSwgeCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1VuaXQsIG51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQ29tcGxleCc6IGZ1bmN0aW9uIFVuaXROdW1iZXJGcmFjdGlvbkJpZ051bWJlckNvbXBsZXgoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHJlcy52YWx1ZSA9PT0gbnVsbCA/IHJlcy5fbm9ybWFsaXplKHkpIDogdGhpcyhyZXMudmFsdWUsIHkpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubXVsdGlwbHkoeSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdtdWx0aXBseSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnYWRkU2NhbGFyJywgJ211bHRpcGx5U2NhbGFyJywgJ2VxdWFsU2NhbGFyJywgJ2RvdCddO1xuZXhwb3J0IHZhciBjcmVhdGVNdWx0aXBseSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBhZGRTY2FsYXIsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgZG90XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcblxuICBmdW5jdGlvbiBfdmFsaWRhdGVNYXRyaXhEaW1lbnNpb25zKHNpemUxLCBzaXplMikge1xuICAgIC8vIGNoZWNrIGxlZnQgb3BlcmFuZCBkaW1lbnNpb25zXG4gICAgc3dpdGNoIChzaXplMS5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gY2hlY2sgc2l6ZTJcbiAgICAgICAgc3dpdGNoIChzaXplMi5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAvLyBWZWN0b3IgeCBWZWN0b3JcbiAgICAgICAgICAgIGlmIChzaXplMVswXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gVmVjdG9ycyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgLy8gVmVjdG9yIHggTWF0cml4XG4gICAgICAgICAgICBpZiAoc2l6ZTFbMF0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIFZlY3RvciBsZW5ndGggKCcgKyBzaXplMVswXSArICcpIG11c3QgbWF0Y2ggTWF0cml4IHJvd3MgKCcgKyBzaXplMlswXSArICcpJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgbXVsdGlwbHkgYSAxIG9yIDIgZGltZW5zaW9uYWwgbWF0cml4IChNYXRyaXggQiBoYXMgJyArIHNpemUyLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIGNoZWNrIHNpemUyXG4gICAgICAgIHN3aXRjaCAoc2l6ZTIubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgLy8gTWF0cml4IHggVmVjdG9yXG4gICAgICAgICAgICBpZiAoc2l6ZTFbMV0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIE1hdHJpeCBjb2x1bW5zICgnICsgc2l6ZTFbMV0gKyAnKSBtdXN0IG1hdGNoIFZlY3RvciBsZW5ndGggKCcgKyBzaXplMlswXSArICcpJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgLy8gTWF0cml4IHggTWF0cml4XG4gICAgICAgICAgICBpZiAoc2l6ZTFbMV0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIE1hdHJpeCBBIGNvbHVtbnMgKCcgKyBzaXplMVsxXSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgcm93cyAoJyArIHNpemUyWzBdICsgJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBtdWx0aXBseSBhIDEgb3IgMiBkaW1lbnNpb25hbCBtYXRyaXggKE1hdHJpeCBCIGhhcyAnICsgc2l6ZTIubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgbXVsdGlwbHkgYSAxIG9yIDIgZGltZW5zaW9uYWwgbWF0cml4IChNYXRyaXggQSBoYXMgJyArIHNpemUxLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgIFNjYWxhciB2YWx1ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVZlY3RvclZlY3RvcihhLCBiLCBuKSB7XG4gICAgLy8gY2hlY2sgZW1wdHkgdmVjdG9yXG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IHR3byBlbXB0eSB2ZWN0b3JzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvdChhLCBiKTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE0pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14TilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlWZWN0b3JNYXRyaXgoYSwgYikge1xuICAgIC8vIHByb2Nlc3Mgc3RvcmFnZVxuICAgIGlmIChiLnN0b3JhZ2UoKSAhPT0gJ2RlbnNlJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwb3J0IGZvciBTcGFyc2VNYXRyaXggbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9tdWx0aXBseVZlY3RvckRlbnNlTWF0cml4KGEsIGIpO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTSlcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBNYXRyaXggICAoTXhOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVZlY3RvckRlbnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBkZW5zZVxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhbGVuZ3RoID0gYXNpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYnNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGMgPSBbXTsgLy8gbG9vcCBtYXRyaXggY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBzdW0gKGRvIG5vdCBpbml0aWFsaXplIGl0IHdpdGggemVybylcbiAgICAgIHZhciBzdW0gPSBtZihhZGF0YVswXSwgYmRhdGFbMF1bal0pOyAvLyBsb29wIHZlY3RvclxuXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBtdWx0aXBseSAmIGFjY3VtdWxhdGVcbiAgICAgICAgc3VtID0gYWYoc3VtLCBtZihhZGF0YVtpXSwgYmRhdGFbaV1bal0pKTtcbiAgICAgIH1cblxuICAgICAgY1tqXSA9IHN1bTtcbiAgICB9IC8vIHJldHVybiBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogYyxcbiAgICAgIHNpemU6IFtiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTSlcbiAgICovXG5cblxuICB2YXIgX211bHRpcGx5TWF0cml4VmVjdG9yID0gdHlwZWQoJ19tdWx0aXBseU1hdHJpeFZlY3RvcicsIHtcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IF9tdWx0aXBseURlbnNlTWF0cml4VmVjdG9yLFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IF9tdWx0aXBseVNwYXJzZU1hdHJpeFZlY3RvclxuICB9KTtcbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhDKVxuICAgKi9cblxuXG4gIHZhciBfbXVsdGlwbHlNYXRyaXhNYXRyaXggPSB0eXBlZCgnX211bHRpcGx5TWF0cml4TWF0cml4Jywge1xuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBfbXVsdGlwbHlEZW5zZU1hdHJpeERlbnNlTWF0cml4LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogX211bHRpcGx5RGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgsXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXhcbiAgfSk7XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZU1hdHJpeCAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yIChNKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseURlbnNlTWF0cml4VmVjdG9yKGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBkZW5zZVxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgYWNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgYyA9IFtdOyAvLyBsb29wIG1hdHJpeCBhIHJvd3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJvd3M7IGkrKykge1xuICAgICAgLy8gY3VycmVudCByb3dcbiAgICAgIHZhciByb3cgPSBhZGF0YVtpXTsgLy8gc3VtIChkbyBub3QgaW5pdGlhbGl6ZSBpdCB3aXRoIHplcm8pXG5cbiAgICAgIHZhciBzdW0gPSBtZihyb3dbMF0sIGJkYXRhWzBdKTsgLy8gbG9vcCBtYXRyaXggYSBjb2x1bW5zXG5cbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYWNvbHVtbnM7IGorKykge1xuICAgICAgICAvLyBtdWx0aXBseSAmIGFjY3VtdWxhdGVcbiAgICAgICAgc3VtID0gYWYoc3VtLCBtZihyb3dbal0sIGJkYXRhW2pdKSk7XG4gICAgICB9XG5cbiAgICAgIGNbaV0gPSBzdW07XG4gICAgfSAvLyByZXR1cm4gbWF0cml4XG5cblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGMsXG4gICAgICBzaXplOiBbYXJvd3NdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseURlbnNlTWF0cml4RGVuc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGRlbnNlXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGFjb2x1bW5zID0gYXNpemVbMV07XG4gICAgdmFyIGJjb2x1bW5zID0gYnNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGMgPSBbXTsgLy8gbG9vcCBtYXRyaXggYSByb3dzXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyb3dzOyBpKyspIHtcbiAgICAgIC8vIGN1cnJlbnQgcm93XG4gICAgICB2YXIgcm93ID0gYWRhdGFbaV07IC8vIGluaXRpYWxpemUgcm93IGFycmF5XG5cbiAgICAgIGNbaV0gPSBbXTsgLy8gbG9vcCBtYXRyaXggYiBjb2x1bW5zXG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmNvbHVtbnM7IGorKykge1xuICAgICAgICAvLyBzdW0gKGF2b2lkIGluaXRpYWxpemluZyBzdW0gdG8gemVybylcbiAgICAgICAgdmFyIHN1bSA9IG1mKHJvd1swXSwgYmRhdGFbMF1bal0pOyAvLyBsb29wIG1hdHJpeCBhIGNvbHVtbnNcblxuICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IGFjb2x1bW5zOyB4KyspIHtcbiAgICAgICAgICAvLyBtdWx0aXBseSAmIGFjY3VtdWxhdGVcbiAgICAgICAgICBzdW0gPSBhZihzdW0sIG1mKHJvd1t4XSwgYmRhdGFbeF1bal0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNbaV1bal0gPSBzdW07XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gbWF0cml4XG5cblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGMsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgc3BhcnNlXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGIgbWF0cml4XG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IERlbnNlIE1hdHJpeCB0aW1lcyBQYXR0ZXJuIG9ubHkgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgYXJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBic2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIGVxdWFsU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGMgbWF0cml4XG5cbiAgICB2YXIgYyA9IGIuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pOyAvLyBsb29wIGIgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgamIgPSAwOyBqYiA8IGJjb2x1bW5zOyBqYisrKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBjcHRyW2piXSA9IGNpbmRleC5sZW5ndGg7IC8vIGluZGVjZXMgaW4gY29sdW1uIGpiXG5cbiAgICAgIHZhciBrYjAgPSBicHRyW2piXTtcbiAgICAgIHZhciBrYjEgPSBicHRyW2piICsgMV07IC8vIGRvIG5vdCBwcm9jZXNzIGNvbHVtbiBqYiBpZiBubyBkYXRhIGV4aXN0c1xuXG4gICAgICBpZiAoa2IxID4ga2IwKSB7XG4gICAgICAgIC8vIGxhc3Qgcm93IG1hcmsgcHJvY2Vzc2VkXG4gICAgICAgIHZhciBsYXN0ID0gMDsgLy8gbG9vcCBhIHJvd3NcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyBjb2x1bW4gbWFya1xuICAgICAgICAgIHZhciBtYXJrID0gaSArIDE7IC8vIENbaSwgamJdXG5cbiAgICAgICAgICB2YXIgY2lqID0gdm9pZCAwOyAvLyB2YWx1ZXMgaW4gYiBjb2x1bW4galxuXG4gICAgICAgICAgZm9yICh2YXIga2IgPSBrYjA7IGtiIDwga2IxOyBrYisrKSB7XG4gICAgICAgICAgICAvLyByb3dcbiAgICAgICAgICAgIHZhciBpYiA9IGJpbmRleFtrYl07IC8vIGNoZWNrIHZhbHVlIGhhcyBiZWVuIGluaXRpYWxpemVkXG5cbiAgICAgICAgICAgIGlmIChsYXN0ICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGZpcnN0IHZhbHVlIGluIGNvbHVtbiBqYlxuICAgICAgICAgICAgICBjaWogPSBtZihhZGF0YVtpXVtpYl0sIGJ2YWx1ZXNba2JdKTsgLy8gdXBkYXRlIG1hcmtcblxuICAgICAgICAgICAgICBsYXN0ID0gbWFyaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFjY3VtdWxhdGUgdmFsdWVcbiAgICAgICAgICAgICAgY2lqID0gYWYoY2lqLCBtZihhZGF0YVtpXVtpYl0sIGJ2YWx1ZXNba2JdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gaGFzIGJlZW4gcHJvY2Vzc2VkIGFuZCB2YWx1ZSAhPSAwXG5cblxuICAgICAgICAgIGlmIChsYXN0ID09PSBtYXJrICYmICFlcShjaWosIHplcm8pKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHJvdyAmIHZhbHVlXG4gICAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgIGN2YWx1ZXMucHVzaChjaWopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2Jjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAoTSwgMSlcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhWZWN0b3IoYSwgYikge1xuICAgIC8vIGEgc3BhcnNlXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgYSBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgUGF0dGVybiBvbmx5IE1hdHJpeCB0aW1lcyBEZW5zZSBNYXRyaXgnKTtcbiAgICB9IC8vIGIgZGVuc2VcblxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhLl9zaXplWzBdO1xuICAgIHZhciBicm93cyA9IGIuX3NpemVbMF07IC8vIHJlc3VsdFxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIGVxdWFsU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpO1xuICAgIH0gLy8gd29ya3NwYWNlXG5cblxuICAgIHZhciB4ID0gW107IC8vIHZlY3RvciB3aXRoIG1hcmtzIGluZGljYXRpbmcgYSB2YWx1ZSB4W2ldIGV4aXN0cyBpbiBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gdXBkYXRlIHB0clxuXG4gICAgY3B0clswXSA9IDA7IC8vIHJvd3MgaW4gYlxuXG4gICAgZm9yICh2YXIgaWIgPSAwOyBpYiA8IGJyb3dzOyBpYisrKSB7XG4gICAgICAvLyBiW2liXVxuICAgICAgdmFyIHZiaSA9IGJkYXRhW2liXTsgLy8gY2hlY2sgYltpYl0gIT0gMCwgYXZvaWQgbG9vcHNcblxuICAgICAgaWYgKCFlcSh2YmksIHplcm8pKSB7XG4gICAgICAgIC8vIEEgdmFsdWVzICYgaW5kZXggaW4gaWIgY29sdW1uXG4gICAgICAgIGZvciAodmFyIGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgIC8vIGEgcm93XG4gICAgICAgICAgdmFyIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgaWYgKCF3W2lhXSkge1xuICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgIHdbaWFdID0gdHJ1ZTsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTsgLy8geChpYSkgPSBBXG5cbiAgICAgICAgICAgIHhbaWFdID0gbWYodmJpLCBhdmFsdWVzW2thXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICAgICAgeFtpYV0gPSBhZih4W2lhXSwgbWYodmJpLCBhdmFsdWVzW2thXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gY29weSB2YWx1ZXMgZnJvbSB4IHRvIGNvbHVtbiBqYiBvZiBjXG5cblxuICAgIGZvciAodmFyIHAxID0gY2luZGV4Lmxlbmd0aCwgcCA9IDA7IHAgPCBwMTsgcCsrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIHZhciBpYyA9IGNpbmRleFtwXTsgLy8gY29weSB2YWx1ZVxuXG4gICAgICBjdmFsdWVzW3BdID0geFtpY107XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbMV0gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIDFdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVNwYXJzZU1hdHJpeERlbnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIHNwYXJzZVxuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGEgbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IFBhdHRlcm4gb25seSBNYXRyaXggdGltZXMgRGVuc2UgTWF0cml4Jyk7XG4gICAgfSAvLyBiIGRlbnNlXG5cblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYS5fc2l6ZVswXTtcbiAgICB2YXIgYnJvd3MgPSBiLl9zaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGIuX3NpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBlcXVhbFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgdmFyIGMgPSBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTsgLy8gd29ya3NwYWNlXG5cbiAgICB2YXIgeCA9IFtdOyAvLyB2ZWN0b3Igd2l0aCBtYXJrcyBpbmRpY2F0aW5nIGEgdmFsdWUgeFtpXSBleGlzdHMgaW4gYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgYiBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqYiA9IDA7IGpiIDwgYmNvbHVtbnM7IGpiKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIGNwdHJbamJdID0gY2luZGV4Lmxlbmd0aDsgLy8gbWFyayBpbiB3b3Jrc3BhY2UgZm9yIGN1cnJlbnQgY29sdW1uXG5cbiAgICAgIHZhciBtYXJrID0gamIgKyAxOyAvLyByb3dzIGluIGpiXG5cbiAgICAgIGZvciAodmFyIGliID0gMDsgaWIgPCBicm93czsgaWIrKykge1xuICAgICAgICAvLyBiW2liLCBqYl1cbiAgICAgICAgdmFyIHZiaWogPSBiZGF0YVtpYl1bamJdOyAvLyBjaGVjayBiW2liLCBqYl0gIT0gMCwgYXZvaWQgbG9vcHNcblxuICAgICAgICBpZiAoIWVxKHZiaWosIHplcm8pKSB7XG4gICAgICAgICAgLy8gQSB2YWx1ZXMgJiBpbmRleCBpbiBpYiBjb2x1bW5cbiAgICAgICAgICBmb3IgKHZhciBrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAgIC8vIGEgcm93XG4gICAgICAgICAgICB2YXIgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICAgIGlmICh3W2lhXSAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgICB3W2lhXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTsgLy8geChpYSkgPSBBXG5cbiAgICAgICAgICAgICAgeFtpYV0gPSBtZih2YmlqLCBhdmFsdWVzW2thXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgICAgICAgeFtpYV0gPSBhZih4W2lhXSwgbWYodmJpaiwgYXZhbHVlc1trYV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY29weSB2YWx1ZXMgZnJvbSB4IHRvIGNvbHVtbiBqYiBvZiBjXG5cblxuICAgICAgZm9yICh2YXIgcDAgPSBjcHRyW2piXSwgcDEgPSBjaW5kZXgubGVuZ3RoLCBwID0gcDA7IHAgPCBwMTsgcCsrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaWMgPSBjaW5kZXhbcF07IC8vIGNvcHkgdmFsdWVcblxuICAgICAgICBjdmFsdWVzW3BdID0geFtpY107XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbYmNvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgc3BhcnNlXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBzcGFyc2VcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhLl9zaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGIuX3NpemVbMV07IC8vIGZsYWcgaW5kaWNhdGluZyBib3RoIG1hdHJpY2VzIChhICYgYikgY29udGFpbiBkYXRhXG5cbiAgICB2YXIgdmFsdWVzID0gYXZhbHVlcyAmJiBidmFsdWVzOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjdmFsdWVzID0gdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGMgbWF0cml4XG5cbiAgICB2YXIgYyA9IGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pOyAvLyB3b3Jrc3BhY2VcblxuICAgIHZhciB4ID0gdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7IC8vIHZlY3RvciB3aXRoIG1hcmtzIGluZGljYXRpbmcgYSB2YWx1ZSB4W2ldIGV4aXN0cyBpbiBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gdmFyaWFibGVzXG5cbiAgICB2YXIga2EsIGthMCwga2ExLCBrYiwga2IwLCBrYjEsIGlhLCBpYjsgLy8gbG9vcCBiIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGpiID0gMDsgamIgPCBiY29sdW1uczsgamIrKykge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgY3B0cltqYl0gPSBjaW5kZXgubGVuZ3RoOyAvLyBtYXJrIGluIHdvcmtzcGFjZSBmb3IgY3VycmVudCBjb2x1bW5cblxuICAgICAgdmFyIG1hcmsgPSBqYiArIDE7IC8vIEIgdmFsdWVzICYgaW5kZXggaW4galxuXG4gICAgICBmb3IgKGtiMCA9IGJwdHJbamJdLCBrYjEgPSBicHRyW2piICsgMV0sIGtiID0ga2IwOyBrYiA8IGtiMTsga2IrKykge1xuICAgICAgICAvLyBiIHJvd1xuICAgICAgICBpYiA9IGJpbmRleFtrYl07IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgLy8gbG9vcCB2YWx1ZXMgaW4gYVs6LGliXVxuICAgICAgICAgIGZvciAoa2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgICAvLyByb3dcbiAgICAgICAgICAgIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgICBpZiAod1tpYV0gIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgICAgd1tpYV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7IC8vIHgoaWEpID0gQVxuXG4gICAgICAgICAgICAgIHhbaWFdID0gbWYoYnZhbHVlc1trYl0sIGF2YWx1ZXNba2FdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICAgICAgICB4W2lhXSA9IGFmKHhbaWFdLCBtZihidmFsdWVzW2tiXSwgYXZhbHVlc1trYV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbG9vcCB2YWx1ZXMgaW4gYVs6LGliXVxuICAgICAgICAgIGZvciAoa2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgICAvLyByb3dcbiAgICAgICAgICAgIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgICBpZiAod1tpYV0gIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgICAgd1tpYV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyBtYXRyaXggdmFsdWVzIChwYXR0ZXJuIG1hdHJpeClcblxuXG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIC8vIGNvcHkgdmFsdWVzIGZyb20geCB0byBjb2x1bW4gamIgb2YgY1xuICAgICAgICBmb3IgKHZhciBwMCA9IGNwdHJbamJdLCBwMSA9IGNpbmRleC5sZW5ndGgsIHAgPSBwMDsgcCA8IHAxOyBwKyspIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICB2YXIgaWMgPSBjaW5kZXhbcF07IC8vIGNvcHkgdmFsdWVcblxuICAgICAgICAgIGN2YWx1ZXNbcF0gPSB4W2ljXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2Jjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogTXVsdGlwbHkgdHdvIG9yIG1vcmUgdmFsdWVzLCBgeCAqIHlgLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBtYXRyaXggcHJvZHVjdCBpcyBjYWxjdWxhdGVkLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubXVsdGlwbHkoeCwgeSlcbiAgICogICAgbWF0aC5tdWx0aXBseSh4LCB5LCB6LCAuLi4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm11bHRpcGx5KDQsIDUuMikgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDIwLjhcbiAgICogICAgbWF0aC5tdWx0aXBseSgyLCAzLCA0KSAgICAgICAvLyByZXR1cm5zIG51bWJlciAyNFxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoNCwgMSlcbiAgICogICAgbWF0aC5tdWx0aXBseShhLCBiKSAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggNSArIDE0aVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gW1sxLCAyXSwgWzQsIDNdXVxuICAgKiAgICBjb25zdCBkID0gW1sxLCAyLCAzXSwgWzMsIC00LCA3XV1cbiAgICogICAgbWF0aC5tdWx0aXBseShjLCBkKSAgICAgICAgICAvLyByZXR1cm5zIEFycmF5IFtbNywgLTYsIDE3XSwgWzEzLCAtNCwgMzNdXVxuICAgKlxuICAgKiAgICBjb25zdCBlID0gbWF0aC51bml0KCcyLjEga20nKVxuICAgKiAgICBtYXRoLm11bHRpcGx5KDMsIGUpICAgICAgICAgIC8vIHJldHVybnMgVW5pdCA2LjMga21cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGRpdmlkZSwgcHJvZCwgY3Jvc3MsIGRvdFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IE11bHRpcGxpY2F0aW9uIG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIGV4dGVuZCh7XG4gICAgLy8gd2UgZXh0ZW5kIHRoZSBzaWduYXR1cmVzIG9mIG11bHRpcGx5U2NhbGFyIHdpdGggc2lnbmF0dXJlcyBkZWFsaW5nIHdpdGggbWF0cmljZXNcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyBjaGVjayBkaW1lbnNpb25zXG4gICAgICBfdmFsaWRhdGVNYXRyaXhEaW1lbnNpb25zKGFycmF5U2l6ZSh4KSwgYXJyYXlTaXplKHkpKTsgLy8gdXNlIGRlbnNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuXG5cbiAgICAgIHZhciBtID0gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSk7IC8vIHJldHVybiBhcnJheSBvciBzY2FsYXJcblxuICAgICAgcmV0dXJuIGlzTWF0cml4KG0pID8gbS52YWx1ZU9mKCkgOiBtO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgTWF0cml4JzogZnVuY3Rpb24gTWF0cml4TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIGRpbWVuc2lvbnNcbiAgICAgIHZhciB4c2l6ZSA9IHguc2l6ZSgpO1xuICAgICAgdmFyIHlzaXplID0geS5zaXplKCk7IC8vIGNoZWNrIGRpbWVuc2lvbnNcblxuICAgICAgX3ZhbGlkYXRlTWF0cml4RGltZW5zaW9ucyh4c2l6ZSwgeXNpemUpOyAvLyBwcm9jZXNzIGRpbWVuc2lvbnNcblxuXG4gICAgICBpZiAoeHNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIHByb2Nlc3MgeSBkaW1lbnNpb25zXG4gICAgICAgIGlmICh5c2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBWZWN0b3IgKiBWZWN0b3JcbiAgICAgICAgICByZXR1cm4gX211bHRpcGx5VmVjdG9yVmVjdG9yKHgsIHksIHhzaXplWzBdKTtcbiAgICAgICAgfSAvLyBWZWN0b3IgKiBNYXRyaXhcblxuXG4gICAgICAgIHJldHVybiBfbXVsdGlwbHlWZWN0b3JNYXRyaXgoeCwgeSk7XG4gICAgICB9IC8vIHByb2Nlc3MgeSBkaW1lbnNpb25zXG5cblxuICAgICAgaWYgKHlzaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBNYXRyaXggKiBWZWN0b3JcbiAgICAgICAgcmV0dXJuIF9tdWx0aXBseU1hdHJpeFZlY3Rvcih4LCB5KTtcbiAgICAgIH0gLy8gTWF0cml4ICogTWF0cml4XG5cblxuICAgICAgcmV0dXJuIF9tdWx0aXBseU1hdHJpeE1hdHJpeCh4LCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIE1hdHJpeCAqIE1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIE1hdHJpeCAqIE1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgsIHkuc3RvcmFnZSgpKSwgeSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIG11bHRpcGx5U2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBtdWx0aXBseVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh5LCB4LCBtdWx0aXBseVNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCBtdWx0aXBseVNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIG11bHRpcGx5U2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCBtdWx0aXBseVNjYWxhciwgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgYW55JzogbXVsdGlwbHlTY2FsYXIsXG4gICAgJ2FueSwgYW55LCAuLi5hbnknOiBmdW5jdGlvbiBhbnlBbnlBbnkoeCwgeSwgcmVzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMoeCwgeSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgPSB0aGlzKHJlc3VsdCwgcmVzdFtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9LCBtdWx0aXBseVNjYWxhci5zaWduYXR1cmVzKSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAxIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEwIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ3N1YnRyYWN0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICdhZGRTY2FsYXInLCAndW5hcnlNaW51cycsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTdWJ0cmFjdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBhZGRTY2FsYXIsXG4gICAgdW5hcnlNaW51cyxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgLy8gVE9ETzogc3BsaXQgZnVuY3Rpb24gc3VidHJhY3QgaW4gdHdvOiBzdWJ0cmFjdCBhbmQgc3VidHJhY3RTY2FsYXJcbiAgdmFyIGFsZ29yaXRobTAxID0gY3JlYXRlQWxnb3JpdGhtMDEoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNSA9IGNyZWF0ZUFsZ29yaXRobTA1KHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEwID0gY3JlYXRlQWxnb3JpdGhtMTAoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFN1YnRyYWN0IHR3byB2YWx1ZXMsIGB4IC0geWAuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5zdWJ0cmFjdCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5zdWJ0cmFjdCg1LjMsIDIpICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjNcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KDQsIDEpXG4gICAqICAgIG1hdGguc3VidHJhY3QoYSwgYikgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IC0yICsgMmlcbiAgICpcbiAgICogICAgbWF0aC5zdWJ0cmFjdChbNSwgNywgNF0sIDQpICAvLyByZXR1cm5zIEFycmF5IFsxLCAzLCAwXVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC51bml0KCcyLjEga20nKVxuICAgKiAgICBjb25zdCBkID0gbWF0aC51bml0KCc1MDBtJylcbiAgICogICAgbWF0aC5zdWJ0cmFjdChjLCBkKSAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgMS42IGttXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBhZGRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4XG4gICAqICAgICAgICAgICAgSW5pdGlhbCB2YWx1ZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHlcbiAgICogICAgICAgICAgICBWYWx1ZSB0byBzdWJ0cmFjdCBmcm9tIGB4YFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9XG4gICAqICAgICAgICAgICAgU3VidHJhY3Rpb24gb2YgYHhgIGFuZCBgeWBcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggLSB5O1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5zdWIoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubWludXMoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5zdWIoeSk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICh4LnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHggY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh5LnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHkgY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml0cyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMocmVzLnZhbHVlLCB5LnZhbHVlKTtcbiAgICAgIHJlcy5maXhQcmVmaXggPSBmYWxzZTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDUoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHgsIHVuYXJ5TWludXMoeSksIGFkZFNjYWxhcik7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbi8qKlxuICogQ2hlY2sgd2hldGhlciBtYXRyaXggeCBhbmQgeSBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBkaW1lbnNpb25zLlxuICogVGhyb3dzIGEgRGltZW5zaW9uRXJyb3Igd2hlbiBkaW1lbnNpb25zIGFyZSBub3QgZXF1YWxcbiAqIEBwYXJhbSB7TWF0cml4fSB4XG4gKiBAcGFyYW0ge01hdHJpeH0geVxuICovXG5cbmZ1bmN0aW9uIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpIHtcbiAgdmFyIHhzaXplID0geC5zaXplKCk7XG4gIHZhciB5c2l6ZSA9IHkuc2l6ZSgpO1xuXG4gIGlmICh4c2l6ZS5sZW5ndGggIT09IHlzaXplLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcih4c2l6ZS5sZW5ndGgsIHlzaXplLmxlbmd0aCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTA3JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTA3ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IEEgYW5kIFNwYXJzZU1hdHJpeCBCIGl0ZW1zICh6ZXJvIGFuZCBub256ZXJvKSBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWosIEJpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKiBDKGksaikgPSBmKEFpaiwgQmlqKVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosQmlqKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjIwMjk0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDcoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyB2YXJzXG5cblxuICAgIHZhciBpLCBqOyAvLyByZXN1bHQgYXJyYXlzXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gaW5pdGlhbGl6ZSBjXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBjZGF0YVtpXSA9IFtdO1xuICAgIH0gLy8gd29ya3NwYWNlc1xuXG5cbiAgICB2YXIgeGEgPSBbXTtcbiAgICB2YXIgeGIgPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3YSA9IFtdO1xuICAgIHZhciB3YiA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbnMgbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gc2NhdHRlciB0aGUgdmFsdWVzIG9mIEEoOixqKSBpbnRvIHdvcmtzcGFjZVxuXG4gICAgICBfc2NhdHRlcihhLCBqLCB3YSwgeGEsIG1hcmspOyAvLyBzY2F0dGVyIHRoZSB2YWx1ZXMgb2YgQig6LGopIGludG8gd29ya3NwYWNlXG5cblxuICAgICAgX3NjYXR0ZXIoYiwgaiwgd2IsIHhiLCBtYXJrKTsgLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBtYXRyaXggdmFsdWVzIEAgaSxqXG4gICAgICAgIHZhciB2YSA9IHdhW2ldID09PSBtYXJrID8geGFbaV0gOiB6ZXJvO1xuICAgICAgICB2YXIgdmIgPSB3YltpXSA9PT0gbWFyayA/IHhiW2ldIDogemVybzsgLy8gaW52b2tlIGNhbGxiYWNrXG5cbiAgICAgICAgY2RhdGFbaV1bal0gPSBjZih2YSwgdmIpO1xuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3NjYXR0ZXIobSwgaiwgdywgeCwgbWFyaykge1xuICAgIC8vIGEgYXJyYXlzXG4gICAgdmFyIHZhbHVlcyA9IG0uX3ZhbHVlcztcbiAgICB2YXIgaW5kZXggPSBtLl9pbmRleDtcbiAgICB2YXIgcHRyID0gbS5fcHRyOyAvLyBsb29wIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgZm9yICh2YXIgayA9IHB0cltqXSwgazEgPSBwdHJbaiArIDFdOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gcm93XG4gICAgICB2YXIgaSA9IGluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgIHdbaV0gPSBtYXJrO1xuICAgICAgeFtpXSA9IHZhbHVlc1trXTtcbiAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ2NvbmonO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29uaiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBjb21wbGV4IGNvbmp1Z2F0ZSBvZiBhIGNvbXBsZXggdmFsdWUuXG4gICAqIElmIGB4ID0gYStiaWAsIHRoZSBjb21wbGV4IGNvbmp1Z2F0ZSBvZiBgeGAgaXMgYGEgLSBiaWAuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5jb25qKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmNvbmoobWF0aC5jb21wbGV4KCcyICsgM2knKSkgIC8vIHJldHVybnMgQ29tcGxleCAyIC0gM2lcbiAgICogICAgbWF0aC5jb25qKG1hdGguY29tcGxleCgnMiAtIDNpJykpICAvLyByZXR1cm5zIENvbXBsZXggMiArIDNpXG4gICAqICAgIG1hdGguY29uaihtYXRoLmNvbXBsZXgoJy01LjJpJykpICAvLyByZXR1cm5zIENvbXBsZXggNS4yaVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgcmUsIGltLCBhcmcsIGFic1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geFxuICAgKiAgICAgICAgICAgIEEgY29tcGxleCBudW1iZXIgb3IgYXJyYXkgd2l0aCBjb21wbGV4IG51bWJlcnNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fVxuICAgKiAgICAgICAgICAgIFRoZSBjb21wbGV4IGNvbmp1Z2F0ZSBvZiB4XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmNvbmp1Z2F0ZSgpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsIi8vIChjKSAyMDE4LCBNYXJpdXN6IE5vd2FrXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogSVNDXG4vLyBEZXJpdmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21lZGlrb28vbHJ1LXF1ZXVlXG5leHBvcnQgZnVuY3Rpb24gbHJ1UXVldWUobGltaXQpIHtcbiAgdmFyIHNpemUgPSAwO1xuICB2YXIgYmFzZSA9IDE7XG4gIHZhciBxdWV1ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIHZhciBkZWwgPSBmdW5jdGlvbiBkZWwoaWQpIHtcbiAgICB2YXIgb2xkSW5kZXggPSBtYXBbaWRdO1xuICAgIGlmICghb2xkSW5kZXgpIHJldHVybjtcbiAgICBkZWxldGUgcXVldWVbb2xkSW5kZXhdO1xuICAgIGRlbGV0ZSBtYXBbaWRdO1xuICAgIC0tc2l6ZTtcbiAgICBpZiAoYmFzZSAhPT0gb2xkSW5kZXgpIHJldHVybjtcblxuICAgIGlmICghc2l6ZSkge1xuICAgICAgaW5kZXggPSAwO1xuICAgICAgYmFzZSA9IDE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH07XG5cbiAgbGltaXQgPSBNYXRoLmFicyhsaW1pdCk7XG4gIHJldHVybiB7XG4gICAgaGl0OiBmdW5jdGlvbiBoaXQoaWQpIHtcbiAgICAgIHZhciBvbGRJbmRleCA9IG1hcFtpZF07XG4gICAgICB2YXIgbnVJbmRleCA9ICsraW5kZXg7XG4gICAgICBxdWV1ZVtudUluZGV4XSA9IGlkO1xuICAgICAgbWFwW2lkXSA9IG51SW5kZXg7XG5cbiAgICAgIGlmICghb2xkSW5kZXgpIHtcbiAgICAgICAgKytzaXplO1xuICAgICAgICBpZiAoc2l6ZSA8PSBsaW1pdCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgaWQgPSBxdWV1ZVtiYXNlXTtcbiAgICAgICAgZGVsKGlkKTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgcXVldWVbb2xkSW5kZXhdO1xuICAgICAgaWYgKGJhc2UgIT09IG9sZEluZGV4KSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAoIWhhc093blByb3BlcnR5LmNhbGwocXVldWUsICsrYmFzZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBkZWxldGU6IGRlbCxcbiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICBzaXplID0gaW5kZXggPSAwO1xuICAgICAgYmFzZSA9IDE7XG4gICAgICBxdWV1ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgfTtcbn1cbjsiLCIvLyBmdW5jdGlvbiB1dGlsc1xuaW1wb3J0IHsgbHJ1UXVldWUgfSBmcm9tICcuL2xydVF1ZXVlLmpzJztcbi8qKlxuICogTWVtb2l6ZSBhIGdpdmVuIGZ1bmN0aW9uIGJ5IGNhY2hpbmcgdGhlIGNvbXB1dGVkIHJlc3VsdC5cbiAqIFRoZSBjYWNoZSBvZiBhIG1lbW9pemVkIGZ1bmN0aW9uIGNhbiBiZSBjbGVhcmVkIGJ5IGRlbGV0aW5nIHRoZSBgY2FjaGVgXG4gKiBwcm9wZXJ0eSBvZiB0aGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gICAgICAgICAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gdG8gYmUgbWVtb2l6ZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE11c3QgYmUgYSBwdXJlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtmdW5jdGlvbihhcmdzOiBBcnJheSk6IHN0cmluZ30gW29wdGlvbnMuaGFzaGVyXVxuICogICAgQSBjdXN0b20gaGFzaCBidWlsZGVyLiBJcyBKU09OLnN0cmluZ2lmeSBieSBkZWZhdWx0LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IFtvcHRpb25zLmxpbWl0XVxuICogICAgTWF4aW11bSBudW1iZXIgb2YgdmFsdWVzIHRoYXQgbWF5IGJlIGNhY2hlZC4gVW5kZWZpbmVkIGluZGljYXRlc1xuICogICAgdW5saW1pdGVkIChkZWZhdWx0KVxuICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBtZW1vaXplZCBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplKGZuKSB7XG4gIHZhciB7XG4gICAgaGFzaGVyLFxuICAgIGxpbWl0XG4gIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBsaW1pdCA9IGxpbWl0ID09IG51bGwgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiBsaW1pdDtcbiAgaGFzaGVyID0gaGFzaGVyID09IG51bGwgPyBKU09OLnN0cmluZ2lmeSA6IGhhc2hlcjtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9pemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vaXplLmNhY2hlICE9PSAnb2JqZWN0Jykge1xuICAgICAgbWVtb2l6ZS5jYWNoZSA9IHtcbiAgICAgICAgdmFsdWVzOiBuZXcgTWFwKCksXG4gICAgICAgIGxydTogbHJ1UXVldWUobGltaXQgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgdmFyIGhhc2ggPSBoYXNoZXIoYXJncyk7XG5cbiAgICBpZiAobWVtb2l6ZS5jYWNoZS52YWx1ZXMuaGFzKGhhc2gpKSB7XG4gICAgICBtZW1vaXplLmNhY2hlLmxydS5oaXQoaGFzaCk7XG4gICAgICByZXR1cm4gbWVtb2l6ZS5jYWNoZS52YWx1ZXMuZ2V0KGhhc2gpO1xuICAgIH1cblxuICAgIHZhciBuZXdWYWwgPSBmbi5hcHBseShmbiwgYXJncyk7XG4gICAgbWVtb2l6ZS5jYWNoZS52YWx1ZXMuc2V0KGhhc2gsIG5ld1ZhbCk7XG4gICAgbWVtb2l6ZS5jYWNoZS52YWx1ZXMuZGVsZXRlKG1lbW9pemUuY2FjaGUubHJ1LmhpdChoYXNoKSk7XG4gICAgcmV0dXJuIG5ld1ZhbDtcbiAgfTtcbn1cbi8qKlxuICogTWVtb2l6ZSBhIGdpdmVuIGZ1bmN0aW9uIGJ5IGNhY2hpbmcgYWxsIHJlc3VsdHMgYW5kIHRoZSBhcmd1bWVudHMsXG4gKiBhbmQgY29tcGFyaW5nIGFnYWluc3QgdGhlIGFyZ3VtZW50cyBvZiBwcmV2aW91cyByZXN1bHRzIGJlZm9yZVxuICogZXhlY3V0aW5nIGFnYWluLlxuICogVGhpcyBpcyBsZXNzIHBlcmZvcm1hbnQgdGhhbiBgbWVtb2l6ZWAgd2hpY2ggY2FsY3VsYXRlcyBhIGhhc2gsXG4gKiB3aGljaCBpcyB2ZXJ5IGZhc3QgdG8gY29tcGFyZS4gVXNlIGBtZW1vaXplQ29tcGFyZWAgb25seSB3aGVuIGl0IGlzXG4gKiBub3QgcG9zc2libGUgdG8gY3JlYXRlIGEgdW5pcXVlIHNlcmlhbGl6YWJsZSBoYXNoIGZyb20gdGhlIGZ1bmN0aW9uXG4gKiBhcmd1bWVudHMuXG4gKiBUaGUgaXNFcXVhbCBmdW5jdGlvbiBtdXN0IGNvbXBhcmUgdHdvIHNldHMgb2YgYXJndW1lbnRzXG4gKiBhbmQgcmV0dXJuIHRydWUgd2hlbiBlcXVhbCAoY2FuIGJlIGEgZGVlcCBlcXVhbGl0eSBjaGVjayBmb3IgZXhhbXBsZSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtmdW5jdGlvbihhOiAqLCBiOiAqKSA6IGJvb2xlYW59IGlzRXF1YWxcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZUNvbXBhcmUoZm4sIGlzRXF1YWwpIHtcbiAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbiBtZW1vaXplKCkge1xuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IG1lbW9pemUuY2FjaGUubGVuZ3RoOyBjKyspIHtcbiAgICAgIHZhciBjYWNoZWQgPSBtZW1vaXplLmNhY2hlW2NdO1xuXG4gICAgICBpZiAoaXNFcXVhbChhcmdzLCBjYWNoZWQuYXJncykpIHtcbiAgICAgICAgLy8gVE9ETzogbW92ZSB0aGlzIGNhY2hlIGVudHJ5IHRvIHRoZSB0b3Agc28gcmVjZW50bHkgdXNlZCBlbnRyaWVzIG1vdmUgdXA/XG4gICAgICAgIHJldHVybiBjYWNoZWQucmVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXMgPSBmbi5hcHBseShmbiwgYXJncyk7XG4gICAgbWVtb2l6ZS5jYWNoZS51bnNoaWZ0KHtcbiAgICAgIGFyZ3MsXG4gICAgICByZXNcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIG1lbW9pemUuY2FjaGUgPSBbXTtcbiAgcmV0dXJuIG1lbW9pemU7XG59XG4vKipcbiAqIEZpbmQgdGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyBleHBlY3RlZCBieSBhIHR5cGVkIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gICBBIHR5cGVkIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGV4cGVjdGVkIGFyZ3VtZW50cy5cbiAqICAgICAgICAgICAgICAgICAgUmV0dXJucyAtMSB3aGVuIG5vIHNpZ25hdHVyZXMgd2hlcmUgZm91bmQgb24gdGhlIGZ1bmN0aW9uLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXhBcmd1bWVudENvdW50KGZuKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhmbi5zaWduYXR1cmVzIHx8IHt9KS5yZWR1Y2UoZnVuY3Rpb24gKGFyZ3MsIHNpZ25hdHVyZSkge1xuICAgIHZhciBjb3VudCA9IChzaWduYXR1cmUubWF0Y2goLywvZykgfHwgW10pLmxlbmd0aCArIDE7XG4gICAgcmV0dXJuIE1hdGgubWF4KGFyZ3MsIGNvdW50KTtcbiAgfSwgLTEpO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2lkZW50aXR5JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnQmlnTnVtYmVyJywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVJZGVudGl0eSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgQmlnTnVtYmVyLFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgMi1kaW1lbnNpb25hbCBpZGVudGl0eSBtYXRyaXggd2l0aCBzaXplIG0geCBuIG9yIG4geCBuLlxuICAgKiBUaGUgbWF0cml4IGhhcyBvbmVzIG9uIHRoZSBkaWFnb25hbCBhbmQgemVyb3MgZWxzZXdoZXJlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguaWRlbnRpdHkobilcbiAgICogICAgbWF0aC5pZGVudGl0eShuLCBmb3JtYXQpXG4gICAqICAgIG1hdGguaWRlbnRpdHkobSwgbilcbiAgICogICAgbWF0aC5pZGVudGl0eShtLCBuLCBmb3JtYXQpXG4gICAqICAgIG1hdGguaWRlbnRpdHkoW20sIG5dKVxuICAgKiAgICBtYXRoLmlkZW50aXR5KFttLCBuXSwgZm9ybWF0KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5pZGVudGl0eSgzKSAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbWzEsIDAsIDBdLCBbMCwgMSwgMF0sIFswLCAwLCAxXV1cbiAgICogICAgbWF0aC5pZGVudGl0eSgzLCAyKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbWzEsIDBdLCBbMCwgMV0sIFswLCAwXV1cbiAgICpcbiAgICogICAgY29uc3QgQSA9IFtbMSwgMiwgM10sIFs0LCA1LCA2XV1cbiAgICogICAgbWF0aC5pZGVudGl0eShtYXRoLnNpemUoQSkpICAgICAgICAgLy8gcmV0dXJucyBbWzEsIDAsIDBdLCBbMCwgMSwgMF1dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBkaWFnLCBvbmVzLCB6ZXJvcywgc2l6ZSwgcmFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHsuLi5udW1iZXIgfCBNYXRyaXggfCBBcnJheX0gc2l6ZSAgIFRoZSBzaXplIGZvciB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAgICAgICAgICAgICAgICAgICBUaGUgTWF0cml4IHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeCB8IEFycmF5IHwgbnVtYmVyfSBBIG1hdHJpeCB3aXRoIG9uZXMgb24gdGhlIGRpYWdvbmFsLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnTWF0cml4JyA/IG1hdHJpeChbXSkgOiBbXTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGZvcm1hdCkge1xuICAgICAgcmV0dXJuIG1hdHJpeChmb3JtYXQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlcihyb3dzKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIHJvd3MsIGNvbmZpZy5tYXRyaXggPT09ICdNYXRyaXgnID8gJ2RlbnNlJyA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJTdHJpbmcocm93cywgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIHJvd3MsIGZvcm1hdCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJOdW1iZXJCaWdOdW1iZXIocm93cywgY29scykge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCBjb2xzLCBjb25maWcubWF0cml4ID09PSAnTWF0cml4JyA/ICdkZW5zZScgOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJOdW1iZXJCaWdOdW1iZXJTdHJpbmcocm93cywgY29scywgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIGNvbHMsIGZvcm1hdCk7XG4gICAgfSxcbiAgICBBcnJheTogZnVuY3Rpb24gQXJyYXkoc2l6ZSkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplKTtcbiAgICB9LFxuICAgICdBcnJheSwgc3RyaW5nJzogZnVuY3Rpb24gQXJyYXlTdHJpbmcoc2l6ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUsIGZvcm1hdCk7XG4gICAgfSxcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeChzaXplKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUudmFsdWVPZigpLCBzaXplLnN0b3JhZ2UoKSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBzdHJpbmcnOiBmdW5jdGlvbiBNYXRyaXhTdHJpbmcoc2l6ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUudmFsdWVPZigpLCBmb3JtYXQpO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gX2lkZW50aXR5VmVjdG9yKHNpemUsIGZvcm1hdCkge1xuICAgIHN3aXRjaCAoc2l6ZS5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdCA/IG1hdHJpeChmb3JtYXQpIDogW107XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eShzaXplWzBdLCBzaXplWzBdLCBmb3JtYXQpO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBfaWRlbnRpdHkoc2l6ZVswXSwgc2l6ZVsxXSwgZm9ybWF0KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWZWN0b3IgY29udGFpbmluZyB0d28gdmFsdWVzIGV4cGVjdGVkJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaWRlbnRpdHkgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSByb3dzXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBjb2xzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XVxuICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9pZGVudGl0eShyb3dzLCBjb2xzLCBmb3JtYXQpIHtcbiAgICAvLyBCaWdOdW1iZXIgY29uc3RydWN0b3Igd2l0aCB0aGUgcmlnaHQgcHJlY2lzaW9uXG4gICAgdmFyIEJpZyA9IGlzQmlnTnVtYmVyKHJvd3MpIHx8IGlzQmlnTnVtYmVyKGNvbHMpID8gQmlnTnVtYmVyIDogbnVsbDtcbiAgICBpZiAoaXNCaWdOdW1iZXIocm93cykpIHJvd3MgPSByb3dzLnRvTnVtYmVyKCk7XG4gICAgaWYgKGlzQmlnTnVtYmVyKGNvbHMpKSBjb2xzID0gY29scy50b051bWJlcigpO1xuXG4gICAgaWYgKCFpc0ludGVnZXIocm93cykgfHwgcm93cyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBpZGVudGl0eSBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0ludGVnZXIoY29scykgfHwgY29scyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBpZGVudGl0eSBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfVxuXG4gICAgdmFyIG9uZSA9IEJpZyA/IG5ldyBCaWdOdW1iZXIoMSkgOiAxO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBCaWcgPyBuZXcgQmlnKDApIDogMDtcbiAgICB2YXIgc2l6ZSA9IFtyb3dzLCBjb2xzXTsgLy8gY2hlY2sgd2UgbmVlZCB0byByZXR1cm4gYSBtYXRyaXhcblxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIC8vIGNyZWF0ZSBkaWFnb25hbCBtYXRyaXggKHVzZSBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb24gZm9yIHN0b3JhZ2UgZm9ybWF0KVxuICAgICAgaWYgKGZvcm1hdCA9PT0gJ3NwYXJzZScpIHtcbiAgICAgICAgcmV0dXJuIFNwYXJzZU1hdHJpeC5kaWFnb25hbChzaXplLCBvbmUsIDAsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JtYXQgPT09ICdkZW5zZScpIHtcbiAgICAgICAgcmV0dXJuIERlbnNlTWF0cml4LmRpYWdvbmFsKHNpemUsIG9uZSwgMCwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gbWF0cml4IHR5cGUgXFxcIlwiLmNvbmNhdChmb3JtYXQsIFwiXFxcIlwiKSk7XG4gICAgfSAvLyBjcmVhdGUgYW5kIHJlc2l6ZSBhcnJheVxuXG5cbiAgICB2YXIgcmVzID0gcmVzaXplKFtdLCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyBmaWxsIGluIG9uZXMgb24gdGhlIGRpYWdvbmFsXG5cbiAgICB2YXIgbWluaW11bSA9IHJvd3MgPCBjb2xzID8gcm93cyA6IGNvbHM7IC8vIGZpbGwgZGlhZ29uYWxcblxuICAgIGZvciAodmFyIGQgPSAwOyBkIDwgbWluaW11bTsgZCsrKSB7XG4gICAgICByZXNbZF1bZF0gPSBvbmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7IiwiZXhwb3J0IGZ1bmN0aW9uIG5vQmlnbnVtYmVyKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwiYmlnbnVtYmVyXCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9GcmFjdGlvbigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcImZyYWN0aW9uXCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9NYXRyaXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJtYXRyaXhcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub0luZGV4KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwiaW5kZXhcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub1N1YnNldCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcIm1hdHJpeFwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufSIsIi8qKlxuICogQ3JlYXRlIGEgc3ludGF4IGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMgaW4gZnVuY3Rpb24gPGZuPiAoPGNvdW50PiBwcm92aWRlZCwgPG1pbj4tPG1heD4gZXhwZWN0ZWQpJ1xuICogQHBhcmFtIHtzdHJpbmd9IGZuICAgICBGdW5jdGlvbiBuYW1lXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnQgIEFjdHVhbCBhcmd1bWVudCBjb3VudFxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiAgICBNaW5pbXVtIHJlcXVpcmVkIGFyZ3VtZW50IGNvdW50XG4gKiBAcGFyYW0ge251bWJlcn0gW21heF0gIE1heGltdW0gcmVxdWlyZWQgYXJndW1lbnQgY291bnRcbiAqIEBleHRlbmRzIEVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBcmd1bWVudHNFcnJvcihmbiwgY291bnQsIG1pbiwgbWF4KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBcmd1bWVudHNFcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICB9XG5cbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvdW50ID0gY291bnQ7XG4gIHRoaXMubWluID0gbWluO1xuICB0aGlzLm1heCA9IG1heDtcbiAgdGhpcy5tZXNzYWdlID0gJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMgaW4gZnVuY3Rpb24gJyArIGZuICsgJyAoJyArIGNvdW50ICsgJyBwcm92aWRlZCwgJyArIG1pbiArIChtYXggIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IG51bGwgPyAnLScgKyBtYXggOiAnJykgKyAnIGV4cGVjdGVkKSc7XG4gIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbn1cbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXJyb3I7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUubmFtZSA9ICdBcmd1bWVudHNFcnJvcic7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUuaXNBcmd1bWVudHNFcnJvciA9IHRydWU7IiwiaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbm9NYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9ub29wLmpzJztcbnZhciBuYW1lID0gJ3NpemUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJz9tYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU2l6ZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBhIG1hdHJpeCBvciBzY2FsYXIuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguc2l6ZSh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguc2l6ZSgyLjMpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbXVxuICAgKiAgICAgbWF0aC5zaXplKCdoZWxsbyB3b3JsZCcpICAgICAgICAvLyByZXR1cm5zIFsxMV1cbiAgICpcbiAgICogICAgIGNvbnN0IEEgPSBbWzEsIDIsIDNdLCBbNCwgNSwgNl1dXG4gICAqICAgICBtYXRoLnNpemUoQSkgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgWzIsIDNdXG4gICAqICAgICBtYXRoLnNpemUobWF0aC5yYW5nZSgxLDYpKSAgICAgIC8vIHJldHVybnMgWzVdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgcmVzaXplLCBzcXVlZXplLCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuIHwgbnVtYmVyIHwgQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCAgQSBtYXRyaXhcbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9IEEgdmVjdG9yIHdpdGggc2l6ZSBvZiBgeGAuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KHgpIHtcbiAgICAgIHJldHVybiB4LmNyZWF0ZSh4LnNpemUoKSk7XG4gICAgfSxcbiAgICBBcnJheTogYXJyYXlTaXplLFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnQXJyYXknID8gW3gubGVuZ3RoXSA6IG1hdHJpeChbeC5sZW5ndGhdKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyIHwgVW5pdCB8IGJvb2xlYW4gfCBudWxsJzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlclVuaXRCb29sZWFuTnVsbCh4KSB7XG4gICAgICAvLyBzY2FsYXJcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnQXJyYXknID8gW10gOiBtYXRyaXggPyBtYXRyaXgoW10pIDogbm9NYXRyaXgoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuL29iamVjdC5qcyc7XG4vKipcbiAqIEdldCBhIHByb3BlcnR5IG9mIGEgcGxhaW4gb2JqZWN0XG4gKiBUaHJvd3MgYW4gZXJyb3IgaW4gY2FzZSB0aGUgb2JqZWN0IGlzIG5vdCBhIHBsYWluIG9iamVjdCBvciB0aGVcbiAqIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBvYmplY3QgaXRzZWxmXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgd2hlbiBzYWZlXG4gKi9cblxuZnVuY3Rpb24gZ2V0U2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkge1xuICAvLyBvbmx5IGFsbG93IGdldHRpbmcgc2FmZSBwcm9wZXJ0aWVzIG9mIGEgcGxhaW4gb2JqZWN0XG4gIGlmIChpc1BsYWluT2JqZWN0KG9iamVjdCkgJiYgaXNTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSkge1xuICAgIHJldHVybiBvYmplY3RbcHJvcF07XG4gIH1cblxuICBpZiAodHlwZW9mIG9iamVjdFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1NhZmVNZXRob2Qob2JqZWN0LCBwcm9wKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFjY2VzcyBtZXRob2QgXCInICsgcHJvcCArICdcIiBhcyBhIHByb3BlcnR5Jyk7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBwcm9wZXJ0eSBcIicgKyBwcm9wICsgJ1wiJyk7XG59XG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGEgcGxhaW4gb2JqZWN0LlxuICogVGhyb3dzIGFuIGVycm9yIGluIGNhc2UgdGhlIG9iamVjdCBpcyBub3QgYSBwbGFpbiBvYmplY3Qgb3IgdGhlXG4gKiBwcm9wZXJ0eSB3b3VsZCBvdmVycmlkZSBhbiBpbmhlcml0ZWQgcHJvcGVydHkgbGlrZSAuY29uc3RydWN0b3Igb3IgLnRvU3RyaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgdmFsdWVcbiAqL1xuLy8gVE9ETzogbWVyZ2UgdGhpcyBmdW5jdGlvbiBpbnRvIGFjY2Vzcy5qcz9cblxuXG5mdW5jdGlvbiBzZXRTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wLCB2YWx1ZSkge1xuICAvLyBvbmx5IGFsbG93IHNldHRpbmcgc2FmZSBwcm9wZXJ0aWVzIG9mIGEgcGxhaW4gb2JqZWN0XG4gIGlmIChpc1BsYWluT2JqZWN0KG9iamVjdCkgJiYgaXNTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSkge1xuICAgIG9iamVjdFtwcm9wXSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHByb3BlcnR5IFwiJyArIHByb3AgKyAnXCInKTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgcHJvcGVydHkgaXMgc2FmZSB0byB1c2UgZm9yIGFuIG9iamVjdC5cbiAqIEZvciBleGFtcGxlIC50b1N0cmluZyBhbmQgLmNvbnN0cnVjdG9yIGFyZSBub3Qgc2FmZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHNhZmVcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzU2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkge1xuICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBTQUZFOiB3aGl0ZWxpc3RlZFxuICAvLyBlLmcgbGVuZ3RoXG5cblxuICBpZiAoaGFzT3duUHJvcGVydHkoc2FmZU5hdGl2ZVByb3BlcnRpZXMsIHByb3ApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBPYmplY3QgcHJvdG90eXBlXG4gIC8vIGUuZyBjb25zdHJ1Y3RvclxuXG5cbiAgaWYgKHByb3AgaW4gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIE9iamVjdC5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIEZ1bmN0aW9uIHByb3RvdHlwZVxuICAvLyBlLmcgY2FsbCwgYXBwbHlcblxuXG4gIGlmIChwcm9wIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIEZ1bmN0aW9uLnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgYSBtZXRob2QgaXMgc2FmZS5cbiAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoYXQncyBub3QgdGhlIGNhc2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKi9cbi8vIFRPRE86IG1lcmdlIHRoaXMgZnVuY3Rpb24gaW50byBhc3NpZ24uanM/XG5cblxuZnVuY3Rpb24gdmFsaWRhdGVTYWZlTWV0aG9kKG9iamVjdCwgbWV0aG9kKSB7XG4gIGlmICghaXNTYWZlTWV0aG9kKG9iamVjdCwgbWV0aG9kKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIG1ldGhvZCBcIicgKyBtZXRob2QgKyAnXCInKTtcbiAgfVxufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgbWV0aG9kIGlzIHNhZmUuXG4gKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGF0J3Mgbm90IHRoZSBjYXNlIChmb3IgZXhhbXBsZSBmb3IgYGNvbnN0cnVjdG9yYCkuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBzYWZlLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzU2FmZU1ldGhvZChvYmplY3QsIG1ldGhvZCkge1xuICBpZiAob2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBvYmplY3RbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBVTlNBRkU6IGdob3N0ZWRcbiAgLy8gZS5nIG92ZXJyaWRkZW4gdG9TdHJpbmdcbiAgLy8gTm90ZSB0aGF0IElFMTAgZG9lc24ndCBzdXBwb3J0IF9fcHJvdG9fXyBhbmQgd2UgY2FuJ3QgZG8gdGhpcyBjaGVjayB0aGVyZS5cblxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShvYmplY3QsIG1ldGhvZCkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIG1ldGhvZCBpbiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBTQUZFOiB3aGl0ZWxpc3RlZFxuICAvLyBlLmcgdG9TdHJpbmdcblxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShzYWZlTmF0aXZlTWV0aG9kcywgbWV0aG9kKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gT2JqZWN0IHByb3RvdHlwZVxuICAvLyBlLmcgY29uc3RydWN0b3JcblxuXG4gIGlmIChtZXRob2QgaW4gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIE9iamVjdC5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIEZ1bmN0aW9uIHByb3RvdHlwZVxuICAvLyBlLmcgY2FsbCwgYXBwbHlcblxuXG4gIGlmIChtZXRob2QgaW4gRnVuY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgRnVuY3Rpb24ucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cblxudmFyIHNhZmVOYXRpdmVQcm9wZXJ0aWVzID0ge1xuICBsZW5ndGg6IHRydWUsXG4gIG5hbWU6IHRydWVcbn07XG52YXIgc2FmZU5hdGl2ZU1ldGhvZHMgPSB7XG4gIHRvU3RyaW5nOiB0cnVlLFxuICB2YWx1ZU9mOiB0cnVlLFxuICB0b0xvY2FsZVN0cmluZzogdHJ1ZVxufTtcbmV4cG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9O1xuZXhwb3J0IHsgc2V0U2FmZVByb3BlcnR5IH07XG5leHBvcnQgeyBpc1NhZmVQcm9wZXJ0eSB9O1xuZXhwb3J0IHsgdmFsaWRhdGVTYWZlTWV0aG9kIH07XG5leHBvcnQgeyBpc1NhZmVNZXRob2QgfTtcbmV4cG9ydCB7IGlzUGxhaW5PYmplY3QgfTsiLCJpbXBvcnQgeyBpc0luZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ3N1YnNldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3Vic2V0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IGEgc3Vic2V0IG9mIGEgbWF0cml4IG9yIHN0cmluZy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKiAgICAgbWF0aC5zdWJzZXQodmFsdWUsIGluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgYSBzdWJzZXRcbiAgICogICAgIG1hdGguc3Vic2V0KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQgWywgZGVmYXVsdFZhbHVlXSkgIC8vIHJlcGxhY2UgYSBzdWJzZXRcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICAvLyBnZXQgYSBzdWJzZXRcbiAgICogICAgIGNvbnN0IGQgPSBbWzEsIDJdLCBbMywgNF1dXG4gICAqICAgICBtYXRoLnN1YnNldChkLCBtYXRoLmluZGV4KDEsIDApKSAgICAgICAgLy8gcmV0dXJucyAzXG4gICAqICAgICBtYXRoLnN1YnNldChkLCBtYXRoLmluZGV4KFswLCAxXSwgMSkpICAgLy8gcmV0dXJucyBbWzJdLCBbNF1dXG4gICAqXG4gICAqICAgICAvLyByZXBsYWNlIGEgc3Vic2V0XG4gICAqICAgICBjb25zdCBlID0gW11cbiAgICogICAgIGNvbnN0IGYgPSBtYXRoLnN1YnNldChlLCBtYXRoLmluZGV4KDAsIFswLCAyXSksIFs1LCA2XSkgIC8vIGYgPSBbWzUsIDZdXVxuICAgKiAgICAgY29uc3QgZyA9IG1hdGguc3Vic2V0KGYsIG1hdGguaW5kZXgoMSwgMSksIDcsIDApICAgICAgICAgLy8gZyA9IFtbNSwgNl0sIFswLCA3XV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICBzaXplLCByZXNpemUsIHNxdWVlemUsIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IG1hdHJpeCAgQW4gYXJyYXksIG1hdHJpeCwgb3Igc3RyaW5nXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgICAgICAgICAgICAgICAgICAgQW4gaW5kZXggY29udGFpbmluZyByYW5nZXMgZm9yIGVhY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25cbiAgICogQHBhcmFtIHsqfSBbcmVwbGFjZW1lbnRdICAgICAgICAgICAgICAgICBBbiBhcnJheSwgbWF0cml4LCBvciBzY2FsYXIuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgcHJvdmlkZWQsIHRoZSBzdWJzZXQgaXMgcmVwbGFjZWQgd2l0aCByZXBsYWNlbWVudC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBzdWJzZXQgaXMgcmV0dXJuZWRcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPXVuZGVmaW5lZF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGgubWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgbGVmdCB1bmRlZmluZWQuXG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBFaXRoZXIgdGhlIHJldHJpZXZlZCBzdWJzZXQgb3IgdGhlIHVwZGF0ZWQgbWF0cml4LlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAvLyBnZXQgc3Vic2V0XG4gICAgJ0FycmF5LCBJbmRleCc6IGZ1bmN0aW9uIEFycmF5SW5kZXgodmFsdWUsIGluZGV4KSB7XG4gICAgICB2YXIgbSA9IG1hdHJpeCh2YWx1ZSk7XG4gICAgICB2YXIgc3Vic2V0ID0gbS5zdWJzZXQoaW5kZXgpOyAvLyByZXR1cm5zIGEgTWF0cml4XG5cbiAgICAgIHJldHVybiBpbmRleC5pc1NjYWxhcigpID8gc3Vic2V0IDogc3Vic2V0LnZhbHVlT2YoKTsgLy8gcmV0dXJuIGFuIEFycmF5IChsaWtlIHRoZSBpbnB1dClcbiAgICB9LFxuICAgICdNYXRyaXgsIEluZGV4JzogZnVuY3Rpb24gTWF0cml4SW5kZXgodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWUuc3Vic2V0KGluZGV4KTtcbiAgICB9LFxuICAgICdPYmplY3QsIEluZGV4JzogX2dldE9iamVjdFByb3BlcnR5LFxuICAgICdzdHJpbmcsIEluZGV4JzogX2dldFN1YnN0cmluZyxcbiAgICAvLyBzZXQgc3Vic2V0XG4gICAgJ0FycmF5LCBJbmRleCwgYW55JzogZnVuY3Rpb24gQXJyYXlJbmRleEFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgICByZXR1cm4gbWF0cml4KGNsb25lKHZhbHVlKSkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCwgdW5kZWZpbmVkKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIEluZGV4LCBhbnksIGFueSc6IGZ1bmN0aW9uIEFycmF5SW5kZXhBbnlBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gbWF0cml4KGNsb25lKHZhbHVlKSkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBJbmRleCwgYW55JzogZnVuY3Rpb24gTWF0cml4SW5kZXhBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIHZhbHVlLmNsb25lKCkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBJbmRleCwgYW55LCBhbnknOiBmdW5jdGlvbiBNYXRyaXhJbmRleEFueUFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5jbG9uZSgpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBJbmRleCwgc3RyaW5nJzogX3NldFN1YnN0cmluZyxcbiAgICAnc3RyaW5nLCBJbmRleCwgc3RyaW5nLCBzdHJpbmcnOiBfc2V0U3Vic3RyaW5nLFxuICAgICdPYmplY3QsIEluZGV4LCBhbnknOiBfc2V0T2JqZWN0UHJvcGVydHlcbiAgfSk7XG59KTtcbi8qKlxuICogUmV0cmlldmUgYSBzdWJzZXQgb2YgYSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgICAgICBzdHJpbmcgZnJvbSB3aGljaCB0byBnZXQgYSBzdWJzdHJpbmdcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgICAgICAgICBBbiBpbmRleCBjb250YWluaW5nIHJhbmdlcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN1YnN0cmluZ1xuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfZ2V0U3Vic3RyaW5nKHN0ciwgaW5kZXgpIHtcbiAgaWYgKCFpc0luZGV4KGluZGV4KSkge1xuICAgIC8vIFRPRE86IGJldHRlciBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXggZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKS5sZW5ndGgsIDEpO1xuICB9IC8vIHZhbGlkYXRlIHdoZXRoZXIgdGhlIHJhbmdlIGlzIG91dCBvZiByYW5nZVxuXG5cbiAgdmFyIHN0ckxlbiA9IHN0ci5sZW5ndGg7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWluKClbMF0sIHN0ckxlbik7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWF4KClbMF0sIHN0ckxlbik7XG4gIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbigwKTtcbiAgdmFyIHN1YnN0ciA9ICcnO1xuICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgc3Vic3RyICs9IHN0ci5jaGFyQXQodik7XG4gIH0pO1xuICByZXR1cm4gc3Vic3RyO1xufVxuLyoqXG4gKiBSZXBsYWNlIGEgc3Vic3RyaW5nIGluIGEgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICAgICAgc3RyaW5nIHRvIGJlIHJlcGxhY2VkXG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgICAgICAgICAgQW4gaW5kZXggY29udGFpbmluZyByYW5nZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVwbGFjZW1lbnQgICAgUmVwbGFjZW1lbnQgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RlZmF1bHRWYWx1ZV0gRGVmYXVsdCB2YWx1ZSB0byBiZSB1c2VzIHdoZW4gcmVzaXppbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc3RyaW5nLiBpcyAnICcgYnkgZGVmYXVsdFxuICogQHJldHVybnMge3N0cmluZ30gcmVzdWx0XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX3NldFN1YnN0cmluZyhzdHIsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmICghaW5kZXggfHwgaW5kZXguaXNJbmRleCAhPT0gdHJ1ZSkge1xuICAgIC8vIFRPRE86IGJldHRlciBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXggZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKS5sZW5ndGgsIDEpO1xuICB9XG5cbiAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICdzdHJpbmcnIHx8IGRlZmF1bHRWYWx1ZS5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NpbmdsZSBjaGFyYWN0ZXIgZXhwZWN0ZWQgYXMgZGVmYXVsdFZhbHVlJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRlZmF1bHRWYWx1ZSA9ICcgJztcbiAgfVxuXG4gIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbigwKTtcbiAgdmFyIGxlbiA9IHJhbmdlLnNpemUoKVswXTtcblxuICBpZiAobGVuICE9PSByZXBsYWNlbWVudC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IocmFuZ2Uuc2l6ZSgpWzBdLCByZXBsYWNlbWVudC5sZW5ndGgpO1xuICB9IC8vIHZhbGlkYXRlIHdoZXRoZXIgdGhlIHJhbmdlIGlzIG91dCBvZiByYW5nZVxuXG5cbiAgdmFyIHN0ckxlbiA9IHN0ci5sZW5ndGg7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWluKClbMF0pO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1heCgpWzBdKTsgLy8gY29weSB0aGUgc3RyaW5nIGludG8gYW4gYXJyYXkgd2l0aCBjaGFyYWN0ZXJzXG5cbiAgdmFyIGNoYXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJMZW47IGkrKykge1xuICAgIGNoYXJzW2ldID0gc3RyLmNoYXJBdChpKTtcbiAgfVxuXG4gIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHtcbiAgICBjaGFyc1t2XSA9IHJlcGxhY2VtZW50LmNoYXJBdChpWzBdKTtcbiAgfSk7IC8vIGluaXRpYWxpemUgdW5kZWZpbmVkIGNoYXJhY3RlcnMgd2l0aCBhIHNwYWNlXG5cbiAgaWYgKGNoYXJzLmxlbmd0aCA+IHN0ckxlbikge1xuICAgIGZvciAodmFyIF9pID0gc3RyTGVuIC0gMSwgX2xlbiA9IGNoYXJzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICBpZiAoIWNoYXJzW19pXSkge1xuICAgICAgICBjaGFyc1tfaV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX2dldE9iamVjdFByb3BlcnR5KG9iamVjdCwgaW5kZXgpIHtcbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLCAxKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBpbmRleC5kaW1lbnNpb24oMCk7XG5cbiAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGFzIGluZGV4IHRvIHJldHJpZXZlIGFuIG9iamVjdCBwcm9wZXJ0eScpO1xuICB9XG5cbiAgcmV0dXJuIGdldFNhZmVQcm9wZXJ0eShvYmplY3QsIGtleSk7XG59XG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAqIEBwYXJhbSB7Kn0gcmVwbGFjZW1lbnRcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHVwZGF0ZWQgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX3NldE9iamVjdFByb3BlcnR5KG9iamVjdCwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKSwgMSk7XG4gIH1cblxuICB2YXIga2V5ID0gaW5kZXguZGltZW5zaW9uKDApO1xuXG4gIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBhcyBpbmRleCB0byByZXRyaWV2ZSBhbiBvYmplY3QgcHJvcGVydHknKTtcbiAgfSAvLyBjbG9uZSB0aGUgb2JqZWN0LCBhbmQgYXBwbHkgdGhlIHByb3BlcnR5IHRvIHRoZSBjbG9uZVxuXG5cbiAgdmFyIHVwZGF0ZWQgPSBjbG9uZShvYmplY3QpO1xuICBzZXRTYWZlUHJvcGVydHkodXBkYXRlZCwga2V5LCByZXBsYWNlbWVudCk7XG4gIHJldHVybiB1cGRhdGVkO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ3plcm9zJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnQmlnTnVtYmVyJ107XG5leHBvcnQgdmFyIGNyZWF0ZVplcm9zID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBCaWdOdW1iZXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG1hdHJpeCBmaWxsZWQgd2l0aCB6ZXJvcy4gVGhlIGNyZWF0ZWQgbWF0cml4IGNhbiBoYXZlIG9uZSBvclxuICAgKiBtdWx0aXBsZSBkaW1lbnNpb25zLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguemVyb3MobSlcbiAgICogICAgbWF0aC56ZXJvcyhtLCBmb3JtYXQpXG4gICAqICAgIG1hdGguemVyb3MobSwgbilcbiAgICogICAgbWF0aC56ZXJvcyhtLCBuLCBmb3JtYXQpXG4gICAqICAgIG1hdGguemVyb3MoW20sIG5dKVxuICAgKiAgICBtYXRoLnplcm9zKFttLCBuXSwgZm9ybWF0KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC56ZXJvcygzKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgWzAsIDAsIDBdXG4gICAqICAgIG1hdGguemVyb3MoMywgMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtbMCwgMF0sIFswLCAwXSwgWzAsIDBdXVxuICAgKiAgICBtYXRoLnplcm9zKDMsICdkZW5zZScpICAgICAgICAgLy8gcmV0dXJucyBbMCwgMCwgMF1cbiAgICpcbiAgICogICAgY29uc3QgQSA9IFtbMSwgMiwgM10sIFs0LCA1LCA2XV1cbiAgICogICAgbWF0aC56ZXJvcyhtYXRoLnNpemUoQSkpICAgICAgIC8vIHJldHVybnMgW1swLCAwLCAwXSwgWzAsIDAsIDBdXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgb25lcywgaWRlbnRpdHksIHNpemUsIHJhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7Li4ubnVtYmVyIHwgQXJyYXl9IHNpemUgICAgVGhlIHNpemUgb2YgZWFjaCBkaW1lbnNpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gICAgICAgICAgIFRoZSBNYXRyaXggc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9ICAgICAgICAgICBBIG1hdHJpeCBmaWxsZWQgd2l0aCB6ZXJvc1xuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnQXJyYXknID8gX3plcm9zKFtdKSA6IF96ZXJvcyhbXSwgJ2RlZmF1bHQnKTtcbiAgICB9LFxuICAgIC8vIG1hdGguemVyb3MobSwgbiwgcCwgLi4uLCBmb3JtYXQpXG4gICAgLy8gVE9ETzogbW9yZSBhY2N1cmF0ZSBzaWduYXR1cmUgJy4uLm51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nJyBhcyBzb29uIGFzIHR5cGVkLWZ1bmN0aW9uIHN1cHBvcnRzIHRoaXNcbiAgICAnLi4ubnVtYmVyIHwgQmlnTnVtYmVyIHwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyU3RyaW5nKHNpemUpIHtcbiAgICAgIHZhciBsYXN0ID0gc2l6ZVtzaXplLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAodHlwZW9mIGxhc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBzaXplLnBvcCgpO1xuICAgICAgICByZXR1cm4gX3plcm9zKHNpemUsIGZvcm1hdCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScpIHtcbiAgICAgICAgcmV0dXJuIF96ZXJvcyhzaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBfemVyb3Moc2l6ZSwgJ2RlZmF1bHQnKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIEFycmF5OiBfemVyb3MsXG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoc2l6ZSkge1xuICAgICAgdmFyIGZvcm1hdCA9IHNpemUuc3RvcmFnZSgpO1xuICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLnZhbHVlT2YoKSwgZm9ybWF0KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgc3RyaW5nJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhTdHJpbmcoc2l6ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX3plcm9zKHNpemUudmFsdWVPZigpLCBmb3JtYXQpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgb3IgTWF0cml4IHdpdGggemVyb3NcbiAgICogQHBhcmFtIHtBcnJheX0gc2l6ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdD0nZGVmYXVsdCddXG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfemVyb3Moc2l6ZSwgZm9ybWF0KSB7XG4gICAgdmFyIGhhc0JpZ051bWJlcnMgPSBfbm9ybWFsaXplKHNpemUpO1xuXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IGhhc0JpZ051bWJlcnMgPyBuZXcgQmlnTnVtYmVyKDApIDogMDtcblxuICAgIF92YWxpZGF0ZShzaXplKTtcblxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIC8vIHJldHVybiBhIG1hdHJpeFxuICAgICAgdmFyIG0gPSBtYXRyaXgoZm9ybWF0KTtcblxuICAgICAgaWYgKHNpemUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gbS5yZXNpemUoc2l6ZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJldHVybiBhbiBBcnJheVxuICAgICAgdmFyIGFyciA9IFtdO1xuXG4gICAgICBpZiAoc2l6ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNpemUoYXJyLCBzaXplLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgfSAvLyByZXBsYWNlIEJpZ051bWJlcnMgd2l0aCBudW1iZXJzLCByZXR1cm5zIHRydWUgaWYgc2l6ZSBjb250YWluZWQgQmlnTnVtYmVyc1xuXG5cbiAgZnVuY3Rpb24gX25vcm1hbGl6ZShzaXplKSB7XG4gICAgdmFyIGhhc0JpZ051bWJlcnMgPSBmYWxzZTtcbiAgICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIGhhc0JpZ051bWJlcnMgPSB0cnVlO1xuICAgICAgICBhcnJbaW5kZXhdID0gdmFsdWUudG9OdW1iZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGFzQmlnTnVtYmVycztcbiAgfSAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcblxuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZShzaXplKSB7XG4gICAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiB6ZXJvcyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pOyAvLyBUT0RPOiB6ZXJvcyBjb250YWlucyBhbG1vc3QgdGhlIHNhbWUgY29kZSBhcyBvbmVzLiBSZXVzZSB0aGlzPyIsImltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXRTdHJpbmcgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnZm9ybWF0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZvcm1hdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBGb3JtYXQgYSB2YWx1ZSBvZiBhbnkgdHlwZSBpbnRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlKVxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUsIGNhbGxiYWNrKVxuICAgKlxuICAgKiBXaGVyZTpcbiAgICpcbiAgICogIC0gYHZhbHVlOiAqYFxuICAgKiAgICBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkXG4gICAqICAtIGBvcHRpb25zOiBPYmplY3RgXG4gICAqICAgIEFuIG9iamVjdCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy4gQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqICAgIC0gYG5vdGF0aW9uOiBzdHJpbmdgXG4gICAqICAgICAgTnVtYmVyIG5vdGF0aW9uLiBDaG9vc2UgZnJvbTpcbiAgICogICAgICAtICdmaXhlZCdcbiAgICogICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQwJyBhbmQgJzE0MDAwMDAwJ1xuICAgKiAgICAgIC0gJ2V4cG9uZW50aWFsJ1xuICAgKiAgICAgICAgQWx3YXlzIHVzZSBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gICAqICAgICAgLSAnZW5naW5lZXJpbmcnXG4gICAqICAgICAgICBBbHdheXMgdXNlIGVuZ2luZWVyaW5nIG5vdGF0aW9uOiBhbHdheXMgaGF2ZSBleHBvbmVudGlhbCBub3RhdGlvbixcbiAgICogICAgICAgIGFuZCBzZWxlY3QgdGhlIGV4cG9uZW50IHRvIGJlIGEgbXVsdGlwbGUgb2YgMy5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxMjMuNGUrMCcgYW5kICcxNC4wZSs2J1xuICAgKiAgICAgIC0gJ2F1dG8nIChkZWZhdWx0KVxuICAgKiAgICAgICAgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnMgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAgICogICAgICAgIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLCBhbmQgdXNlcyBleHBvbmVudGlhbCBub3RhdGlvbiBlbHNld2hlcmUuXG4gICAqICAgICAgICBMb3dlciBib3VuZCBpcyBpbmNsdWRlZCwgdXBwZXIgYm91bmQgaXMgZXhjbHVkZWQuXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICAgKiAgICAtIGBwcmVjaXNpb246IG51bWJlcmBcbiAgICogICAgICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci4gSW4gY2FzZVxuICAgKiAgICAgIG9mIG5vdGF0aW9ucyAnZXhwb25lbnRpYWwnLCAnZW5naW5lZXJpbmcnLCBhbmQgJ2F1dG8nLCBgcHJlY2lzaW9uYFxuICAgKiAgICAgIGRlZmluZXMgdGhlIHRvdGFsIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgcmV0dXJuZWQuXG4gICAqICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLCBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAgICogICAgICBzaWduaWZpY2FudCBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuXG4gICAqICAgICAgYHByZWNpc2lvbmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gICAqICAgIC0gYGxvd2VyRXhwOiBudW1iZXJgXG4gICAqICAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIGxvd2VyIGJvdW5kYXJ5IGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aFxuICAgKiAgICAgIGFuIGV4cG9uZW50IHdoZW4gYG5vdGF0aW9uPSdhdXRvYC4gRGVmYXVsdCB2YWx1ZSBpcyBgLTNgLlxuICAgKiAgICAtIGB1cHBlckV4cDogbnVtYmVyYFxuICAgKiAgICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeSBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGhcbiAgICogICAgICBhbiBleHBvbmVudCB3aGVuIGBub3RhdGlvbj0nYXV0b2AuIERlZmF1bHQgdmFsdWUgaXMgYDVgLlxuICAgKiAgICAtIGBmcmFjdGlvbjogc3RyaW5nYC4gQXZhaWxhYmxlIHZhbHVlczogJ3JhdGlvJyAoZGVmYXVsdCkgb3IgJ2RlY2ltYWwnLlxuICAgKiAgICAgIEZvciBleGFtcGxlIGBmb3JtYXQoZnJhY3Rpb24oMSwgMykpYCB3aWxsIG91dHB1dCAnMS8zJyB3aGVuICdyYXRpbycgaXNcbiAgICogICAgICBjb25maWd1cmVkLCBhbmQgd2lsbCBvdXRwdXQgYDAuKDMpYCB3aGVuICdkZWNpbWFsJyBpcyBjb25maWd1cmVkLlxuICAgKiAtIGBjYWxsYmFjazogZnVuY3Rpb25gXG4gICAqICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbiwgaW52b2tlZCBmb3IgYWxsIG51bWVyaWMgZWxlbWVudHMgaW4gYHZhbHVlYCxcbiAgICogICBmb3IgZXhhbXBsZSBhbGwgZWxlbWVudHMgb2YgYSBtYXRyaXgsIG9yIHRoZSByZWFsIGFuZCBpbWFnaW5hcnlcbiAgICogICBwYXJ0cyBvZiBhIGNvbXBsZXggbnVtYmVyLiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZVxuICAgKiAgIGJ1aWx0LWluIG51bWVyaWMgbm90YXRpb24gd2l0aCBhbnkgdHlwZSBvZiBmb3JtYXR0aW5nLiBGdW5jdGlvbiBgY2FsbGJhY2tgXG4gICAqICAgaXMgY2FsbGVkIHdpdGggYHZhbHVlYCBhcyBwYXJhbWV0ZXIgYW5kIG11c3QgcmV0dXJuIGEgc3RyaW5nLlxuICAgKlxuICAgKiBXaGVuIGB2YWx1ZWAgaXMgYW4gT2JqZWN0OlxuICAgKlxuICAgKiAtIFdoZW4gdGhlIG9iamVjdCBjb250YWlucyBhIHByb3BlcnR5IGBmb3JtYXRgIGJlaW5nIGEgZnVuY3Rpb24sIHRoaXMgZnVuY3Rpb25cbiAgICogICBpcyBpbnZva2VkIGFzIGB2YWx1ZS5mb3JtYXQob3B0aW9ucylgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgKiAtIFdoZW4gdGhlIG9iamVjdCBoYXMgaXRzIG93biBgdG9TdHJpbmdgIG1ldGhvZCwgdGhpcyBtZXRob2QgaXMgaW52b2tlZFxuICAgKiAgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgKiAtIEluIG90aGVyIGNhc2VzIHRoZSBmdW5jdGlvbiB3aWxsIGxvb3Agb3ZlciBhbGwgb2JqZWN0IHByb3BlcnRpZXMgYW5kXG4gICAqICAgcmV0dXJuIEpTT04gb2JqZWN0IG5vdGF0aW9uIGxpa2UgJ3tcImFcIjogMiwgXCJiXCI6IDN9Jy5cbiAgICpcbiAgICogV2hlbiB2YWx1ZSBpcyBhIGZ1bmN0aW9uOlxuICAgKlxuICAgKiAtIFdoZW4gdGhlIGZ1bmN0aW9uIGhhcyBhIHByb3BlcnR5IGBzeW50YXhgLCBpdCByZXR1cm5zIHRoaXNcbiAgICogICBzeW50YXggZGVzY3JpcHRpb24uXG4gICAqIC0gSW4gb3RoZXIgY2FzZXMsIGEgc3RyaW5nIGAnZnVuY3Rpb24nYCBpcyByZXR1cm5lZC5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZm9ybWF0KDYuNCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnNi40J1xuICAgKiAgICBtYXRoLmZvcm1hdCgxMjQwMDAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzEuMjRlNidcbiAgICogICAgbWF0aC5mb3JtYXQoMS8zKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gICAqICAgIG1hdGguZm9ybWF0KDEvMywgMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMC4zMzMnXG4gICAqICAgIG1hdGguZm9ybWF0KDIxMzg1LCAyKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMjEwMDAnXG4gICAqICAgIG1hdGguZm9ybWF0KDEyZTgsIHtub3RhdGlvbjogJ2ZpeGVkJ30pICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMTIwMDAwMDAwMCdcbiAgICogICAgbWF0aC5mb3JtYXQoMi4zLCAge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDR9KSAgICAvLyByZXR1cm5zICcyLjMwMDAnXG4gICAqICAgIG1hdGguZm9ybWF0KDUyLjgsIHtub3RhdGlvbjogJ2V4cG9uZW50aWFsJ30pICAgICAgICAgICAgLy8gcmV0dXJucyAnNS4yOGUrMSdcbiAgICogICAgbWF0aC5mb3JtYXQoMTI0MDAse25vdGF0aW9uOiAnZW5naW5lZXJpbmcnfSkgICAgICAgICAgICAvLyByZXR1cm5zICcxMi40MDBlKzMnXG4gICAqICAgIG1hdGguZm9ybWF0KDIwMDAsIHtsb3dlckV4cDogLTIsIHVwcGVyRXhwOiAyfSkgICAgICAgICAgLy8gcmV0dXJucyAnMmUrMydcbiAgICpcbiAgICogICAgZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3kodmFsdWUpIHtcbiAgICogICAgICAvLyByZXR1cm4gY3VycmVuY3kgbm90YXRpb24gd2l0aCB0d28gZGlnaXRzOlxuICAgKiAgICAgIHJldHVybiAnJCcgKyB2YWx1ZS50b0ZpeGVkKDIpXG4gICAqXG4gICAqICAgICAgLy8geW91IGNvdWxkIGFsc28gdXNlIG1hdGguZm9ybWF0IGluc2lkZSB0aGUgY2FsbGJhY2s6XG4gICAqICAgICAgLy8gcmV0dXJuICckJyArIG1hdGguZm9ybWF0KHZhbHVlLCB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogMn0pXG4gICAqICAgIH1cbiAgICogICAgbWF0aC5mb3JtYXQoWzIuMSwgMywgMC4wMTZdLCBmb3JtYXRDdXJyZW5jeX0gICAgICAgICAgICAvLyByZXR1cm5zICdbJDIuMTAsICQzLjAwLCAkMC4wMl0nXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBwcmludFxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBhbnk6IGZvcm1hdFN0cmluZyxcbiAgICAnYW55LCBPYmplY3QgfCBmdW5jdGlvbiB8IG51bWJlcic6IGZvcm1hdFN0cmluZ1xuICB9KTtcbn0pOyIsImltcG9ydCB7IHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG5vQmlnbnVtYmVyLCBub0ZyYWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvbm9vcC5qcyc7XG52YXIgbmFtZSA9ICdudW1lcmljJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ251bWJlcicsICc/YmlnbnVtYmVyJywgJz9mcmFjdGlvbiddO1xuZXhwb3J0IHZhciBjcmVhdGVOdW1lcmljID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbnVtYmVyOiBfbnVtYmVyLFxuICAgIGJpZ251bWJlcixcbiAgICBmcmFjdGlvblxuICB9ID0gX3JlZjtcbiAgdmFyIHZhbGlkSW5wdXRUeXBlcyA9IHtcbiAgICBzdHJpbmc6IHRydWUsXG4gICAgbnVtYmVyOiB0cnVlLFxuICAgIEJpZ051bWJlcjogdHJ1ZSxcbiAgICBGcmFjdGlvbjogdHJ1ZVxuICB9OyAvLyBMb2FkIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBmb3IgZWFjaCBvdXRwdXQgdHlwZVxuXG4gIHZhciB2YWxpZE91dHB1dFR5cGVzID0ge1xuICAgIG51bWJlcjogeCA9PiBfbnVtYmVyKHgpLFxuICAgIEJpZ051bWJlcjogYmlnbnVtYmVyID8geCA9PiBiaWdudW1iZXIoeCkgOiBub0JpZ251bWJlcixcbiAgICBGcmFjdGlvbjogZnJhY3Rpb24gPyB4ID0+IGZyYWN0aW9uKHgpIDogbm9GcmFjdGlvblxuICB9O1xuICAvKipcbiAgICogQ29udmVydCBhIG51bWVyaWMgaW5wdXQgdG8gYSBzcGVjaWZpYyBudW1lcmljIHR5cGU6IG51bWJlciwgQmlnTnVtYmVyLCBvciBGcmFjdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm51bWVyaWMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcpICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnLCAnbnVtYmVyJykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5udW1lcmljKCc0JywgJ0JpZ051bWJlcicpICAgICAgICAgICAgICAvLyByZXR1cm5zIEJpZ051bWJlciA0XG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcsICdGcmFjdGlvbicpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBGcmFjdGlvbiA0XG4gICAqICAgIG1hdGgubnVtZXJpYyg0LCAnRnJhY3Rpb24nKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBGcmFjdGlvbiA0XG4gICAqICAgIG1hdGgubnVtZXJpYyhtYXRoLmZyYWN0aW9uKDIsIDUpLCAnbnVtYmVyJykgLy8gcmV0dXJucyBudW1iZXIgMC40XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBudW1iZXIsIGZyYWN0aW9uLCBiaWdudW1iZXIsIHN0cmluZywgZm9ybWF0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfSB2YWx1ZVxuICAgKiAgICAgICAgICAgICAgQSBudW1lcmljIHZhbHVlIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1lcmljIHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvdXRwdXRUeXBlXG4gICAqICAgICAgICAgICAgICBEZXNpcmVkIG51bWVyaWMgb3V0cHV0IHR5cGUuXG4gICAqICAgICAgICAgICAgICBBdmFpbGFibGUgdmFsdWVzOiAnbnVtYmVyJywgJ0JpZ051bWJlcicsIG9yICdGcmFjdGlvbidcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb259XG4gICAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIHRoZSBudW1lcmljIGluIHRoZSByZXF1ZXN0ZWQgdHlwZVxuICAgKi9cblxuICByZXR1cm4gZnVuY3Rpb24gbnVtZXJpYyh2YWx1ZSwgb3V0cHV0VHlwZSkge1xuICAgIHZhciBpbnB1dFR5cGUgPSB0eXBlT2YodmFsdWUpO1xuXG4gICAgaWYgKCEoaW5wdXRUeXBlIGluIHZhbGlkSW5wdXRUeXBlcykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0ICcgKyB2YWx1ZSArICcgb2YgdHlwZSBcIicgKyBpbnB1dFR5cGUgKyAnXCI7IHZhbGlkIGlucHV0IHR5cGVzIGFyZSAnICsgT2JqZWN0LmtleXModmFsaWRJbnB1dFR5cGVzKS5qb2luKCcsICcpKTtcbiAgICB9XG5cbiAgICBpZiAoIShvdXRwdXRUeXBlIGluIHZhbGlkT3V0cHV0VHlwZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAnICsgdmFsdWUgKyAnIHRvIHR5cGUgXCInICsgb3V0cHV0VHlwZSArICdcIjsgdmFsaWQgb3V0cHV0IHR5cGVzIGFyZSAnICsgT2JqZWN0LmtleXModmFsaWRPdXRwdXRUeXBlcykuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgaWYgKG91dHB1dFR5cGUgPT09IGlucHV0VHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRPdXRwdXRUeXBlc1tvdXRwdXRUeXBlXSh2YWx1ZSk7XG4gICAgfVxuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xudmFyIG5hbWUgPSAnZGl2aWRlU2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ251bWVyaWMnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGl2aWRlU2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbnVtZXJpY1xuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRGl2aWRlIHR3byBzY2FsYXIgdmFsdWVzLCBgeCAvIHlgLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IGZvciBpbnRlcm5hbCB1c2U6IGl0IGlzIHVzZWQgYnkgdGhlIHB1YmxpYyBmdW5jdGlvbnNcbiAgICogYGRpdmlkZWAgYW5kIGBpbnZgLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgY29sbGVjdGlvbnMgKEFycmF5IG9yIE1hdHJpeCkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9IHggICBOdW1lcmF0b3JcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4fSB5ICAgICAgICAgIERlbm9taW5hdG9yXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9ICAgICBRdW90aWVudCwgYHggLyB5YFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggLyB5O1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXYoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2KHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2KHkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIG51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gVW5pdE51bWJlckZyYWN0aW9uQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7IC8vIFRPRE86IG1vdmUgdGhlIGRpdmlkZSBmdW5jdGlvbiB0byBVbml0LmpzLCBpdCB1c2VzIGludGVybmFscyBvZiBVbml0XG5cbiAgICAgIHZhciBvbmUgPSBudW1lcmljKDEsIHR5cGVPZih5KSk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHJlcy52YWx1ZSA9PT0gbnVsbCA/IHJlcy5fbm9ybWFsaXplKG9uZSkgOiByZXMudmFsdWUsIHkpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciwgVW5pdCc6IGZ1bmN0aW9uIG51bWJlckZyYWN0aW9uQmlnTnVtYmVyVW5pdCh4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geS5jbG9uZSgpO1xuICAgICAgcmVzID0gcmVzLnBvdygtMSk7IC8vIFRPRE86IG1vdmUgdGhlIGRpdmlkZSBmdW5jdGlvbiB0byBVbml0LmpzLCBpdCB1c2VzIGludGVybmFscyBvZiBVbml0XG5cbiAgICAgIHZhciBvbmUgPSBudW1lcmljKDEsIHR5cGVPZih4KSk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHgsIHkudmFsdWUgPT09IG51bGwgPyB5Ll9ub3JtYWxpemUob25lKSA6IHkudmFsdWUpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2aWRlKHkpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIGFzIHNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBwb3dOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAncG93JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdpZGVudGl0eScsICdtdWx0aXBseScsICdtYXRyaXgnLCAnZnJhY3Rpb24nLCAnbnVtYmVyJywgJ0NvbXBsZXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUG93ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIGlkZW50aXR5LFxuICAgIG11bHRpcGx5LFxuICAgIG1hdHJpeCxcbiAgICBudW1iZXIsXG4gICAgZnJhY3Rpb24sXG4gICAgQ29tcGxleFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcG93ZXIgb2YgeCB0byB5LCBgeCBeIHlgLlxuICAgKiBNYXRyaXggZXhwb25lbnRpYXRpb24gaXMgc3VwcG9ydGVkIGZvciBzcXVhcmUgbWF0cmljZXMgYHhgLCBhbmQgcG9zaXRpdmVcbiAgICogaW50ZWdlciBleHBvbmVudHMgYHlgLlxuICAgKlxuICAgKiBGb3IgY3ViaWMgcm9vdHMgb2YgbmVnYXRpdmUgbnVtYmVycywgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHByaW5jaXBhbFxuICAgKiByb290IGJ5IGRlZmF1bHQuIEluIG9yZGVyIHRvIGxldCB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSByZWFsIHJvb3QsXG4gICAqIG1hdGguanMgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBgbWF0aC5jb25maWcoe3ByZWRpY3RhYmxlOiB0cnVlfSlgLlxuICAgKiBUbyByZXRyaWV2ZSBhbGwgY3ViaWMgcm9vdHMgb2YgYSB2YWx1ZSwgdXNlIGBtYXRoLmNicnQoeCwgdHJ1ZSlgLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgucG93KHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnBvdygyLCAzKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDhcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBtYXRoLnBvdyhhLCAyKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggLTUgKyAxMmlcbiAgICpcbiAgICogICAgY29uc3QgYiA9IFtbMSwgMl0sIFs0LCAzXV1cbiAgICogICAgbWF0aC5wb3coYiwgMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIEFycmF5IFtbOSwgOF0sIFsxNiwgMTddXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbXVsdGlwbHksIHNxcnQsIGNicnQsIG50aFJvb3RcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCAgVGhlIGJhc2VcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleH0geSAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGV4cG9uZW50XG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gVGhlIHZhbHVlIG9mIGB4YCB0byB0aGUgcG93ZXIgYHlgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IF9wb3csXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgaWYgKHkuaXNJbnRlZ2VyKCkgfHwgeCA+PSAwIHx8IGNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoeC50b051bWJlcigpLCAwKS5wb3coeS50b051bWJlcigpLCAwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIGlmICh5LmQgIT09IDEpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gcG93IGRvZXMgbm90IHN1cHBvcnQgbm9uLWludGVnZXIgZXhwb25lbnRzIGZvciBmcmFjdGlvbnMuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIF9wb3coeC52YWx1ZU9mKCksIHkudmFsdWVPZigpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0FycmF5LCBudW1iZXInOiBfcG93QXJyYXksXG4gICAgJ0FycmF5LCBCaWdOdW1iZXInOiBmdW5jdGlvbiBBcnJheUJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gX3Bvd0FycmF5KHgsIHkudG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBudW1iZXInOiBfcG93TWF0cml4LFxuICAgICdNYXRyaXgsIEJpZ051bWJlcic6IGZ1bmN0aW9uIE1hdHJpeEJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gX3Bvd01hdHJpeCh4LCB5LnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFVuaXROdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBwb3dlciBvZiB4IHRvIHksIHheeSwgZm9yIHR3byBudW1iZXJzLlxuICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBDb21wbGV4fSByZXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX3Bvdyh4LCB5KSB7XG4gICAgLy8gQWx0ZXJuYXRpdmVseSBjb3VsZCBkZWZpbmUgYSAncmVhbG1vZGUnIGNvbmZpZyBvcHRpb24gb3Igc29tZXRoaW5nLCBidXRcbiAgICAvLyAncHJlZGljdGFibGUnIHdpbGwgd29yayBmb3Igbm93XG4gICAgaWYgKGNvbmZpZy5wcmVkaWN0YWJsZSAmJiAhaXNJbnRlZ2VyKHkpICYmIHggPCAwKSB7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgeSBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBmcmFjdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHlGcmFjID0gZnJhY3Rpb24oeSk7XG4gICAgICAgIHZhciB5TnVtID0gbnVtYmVyKHlGcmFjKTtcblxuICAgICAgICBpZiAoeSA9PT0geU51bSB8fCBNYXRoLmFicygoeSAtIHlOdW0pIC8geSkgPCAxZS0xNCkge1xuICAgICAgICAgIGlmICh5RnJhYy5kICUgMiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuICh5RnJhYy5uICUgMiA9PT0gMCA/IDEgOiAtMSkgKiBNYXRoLnBvdygteCwgeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkgey8vIGZyYWN0aW9uKCkgdGhyb3dzIGFuIGVycm9yIGlmIHkgaXMgSW5maW5pdHksIGV0Yy5cbiAgICAgIH0gLy8gVW5hYmxlIHRvIGV4cHJlc3MgeSBhcyBhIGZyYWN0aW9uLCBzbyBjb250aW51ZSBvblxuXG4gICAgfSAvLyAqKmZvciBwcmVkaWN0YWJsZSBtb2RlKiogeF5JbmZpbml0eSA9PT0gTmFOIGlmIHggPCAtMVxuICAgIC8vIE4uQi4gdGhpcyBiZWhhdm91ciBpcyBkaWZmZXJlbnQgZnJvbSBgTWF0aC5wb3dgIHdoaWNoIGdpdmVzXG4gICAgLy8gKC0yKV5JbmZpbml0eSA9PT0gSW5maW5pdHlcblxuXG4gICAgaWYgKGNvbmZpZy5wcmVkaWN0YWJsZSAmJiAoeCA8IC0xICYmIHkgPT09IEluZmluaXR5IHx8IHggPiAtMSAmJiB4IDwgMCAmJiB5ID09PSAtSW5maW5pdHkpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIGlmIChpc0ludGVnZXIoeSkgfHwgeCA+PSAwIHx8IGNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgcmV0dXJuIHBvd051bWJlcih4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETzogdGhlIGZvbGxvd2luZyBpbmZpbml0eSBjaGVja3MgYXJlIGR1cGxpY2F0ZWQgZnJvbSBwb3dOdW1iZXIuIERlZHVwbGljYXRlIHRoaXMgc29tZWhvd1xuICAgICAgLy8geF5JbmZpbml0eSA9PT0gMCBpZiAtMSA8IHggPCAxXG4gICAgICAvLyBBIHJlYWwgbnVtYmVyIDAgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBjb21wbGV4KDApXG4gICAgICBpZiAoeCAqIHggPCAxICYmIHkgPT09IEluZmluaXR5IHx8IHggKiB4ID4gMSAmJiB5ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LCAwKS5wb3coeSwgMCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIGEgMmQgYXJyYXlcbiAgICogQHBhcmFtIHtBcnJheX0geCAgICAgbXVzdCBiZSBhIDIgZGltZW5zaW9uYWwsIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgICAgYSBwb3NpdGl2ZSwgaW50ZWdlciB2YWx1ZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3Bvd0FycmF5KHgsIHkpIHtcbiAgICBpZiAoIWlzSW50ZWdlcih5KSB8fCB5IDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRm9yIEFeYiwgYiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciAodmFsdWUgaXMgJyArIHkgKyAnKScpO1xuICAgIH0gLy8gdmVyaWZ5IHRoYXQgQSBpcyBhIDIgZGltZW5zaW9uYWwgc3F1YXJlIG1hdHJpeFxuXG5cbiAgICB2YXIgcyA9IHNpemUoeCk7XG5cbiAgICBpZiAocy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRm9yIEFeYiwgQSBtdXN0IGJlIDIgZGltZW5zaW9uYWwgKEEgaGFzICcgKyBzLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICB9XG5cbiAgICBpZiAoc1swXSAhPT0gc1sxXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3IgQV5iLCBBIG11c3QgYmUgc3F1YXJlIChzaXplIGlzICcgKyBzWzBdICsgJ3gnICsgc1sxXSArICcpJyk7XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IGlkZW50aXR5KHNbMF0pLnZhbHVlT2YoKTtcbiAgICB2YXIgcHggPSB4O1xuXG4gICAgd2hpbGUgKHkgPj0gMSkge1xuICAgICAgaWYgKCh5ICYgMSkgPT09IDEpIHtcbiAgICAgICAgcmVzID0gbXVsdGlwbHkocHgsIHJlcyk7XG4gICAgICB9XG5cbiAgICAgIHkgPj49IDE7XG4gICAgICBweCA9IG11bHRpcGx5KHB4LCBweCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiBhIDJkIG1hdHJpeFxuICAgKiBAcGFyYW0ge01hdHJpeH0geCAgICAgbXVzdCBiZSBhIDIgZGltZW5zaW9uYWwsIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgICAgYSBwb3NpdGl2ZSwgaW50ZWdlciB2YWx1ZVxuICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9wb3dNYXRyaXgoeCwgeSkge1xuICAgIHJldHVybiBtYXRyaXgoX3Bvd0FycmF5KHgudmFsdWVPZigpLCB5KSk7XG4gIH1cbn0pOyIsImZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgcm91bmROdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIE5PX0lOVCA9ICdOdW1iZXIgb2YgZGVjaW1hbHMgaW4gZnVuY3Rpb24gcm91bmQgbXVzdCBiZSBhbiBpbnRlZ2VyJztcbnZhciBuYW1lID0gJ3JvdW5kJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICd6ZXJvcycsICdCaWdOdW1iZXInLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUm91bmQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgemVyb3MsXG4gICAgQmlnTnVtYmVyLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIHRoZSBuZWFyZXN0IGludGVnZXIuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5yb3VuZCh4KVxuICAgKiAgICBtYXRoLnJvdW5kKHgsIG4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnJvdW5kKDMuMjIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5yb3VuZCgzLjgyKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGgucm91bmQoLTQuMikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICogICAgbWF0aC5yb3VuZCgtNC43KSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNVxuICAgKiAgICBtYXRoLnJvdW5kKDMuMjIsIDEpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMlxuICAgKiAgICBtYXRoLnJvdW5kKDMuODgsIDEpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuOVxuICAgKiAgICBtYXRoLnJvdW5kKC00LjIxLCAxKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjJcbiAgICogICAgbWF0aC5yb3VuZCgtNC43MSwgMSkgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC43XG4gICAqICAgIG1hdGgucm91bmQobWF0aC5waSwgMykgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4xNDJcbiAgICogICAgbWF0aC5yb3VuZCgxMjMuNDU2NzgsIDIpICAgICAvLyByZXR1cm5zIG51bWJlciAxMjMuNDZcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjIsIC0yLjcpXG4gICAqICAgIG1hdGgucm91bmQoYykgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMgLSAzaVxuICAgKlxuICAgKiAgICBtYXRoLnJvdW5kKFszLjIsIDMuOCwgLTQuN10pIC8vIHJldHVybnMgQXJyYXkgWzMsIDQsIC01XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgY2VpbCwgZml4LCBmbG9vclxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb3VuZE51bWJlclNpZ25hdHVyZXMpLCB7fSwge1xuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHgucm91bmQoKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuICUgMSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB4LnJvdW5kKG4pO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIEJpZ051bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9uID0gbi50b051bWJlcigpO1xuXG4gICAgICByZXR1cm4geC5yb3VuZChfbik7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCkudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMoMCk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgucm91bmQoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG4gJSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHgucm91bmQobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIHJvdW5kKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRGVuc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyU3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIGNoZWNrIHNjYWxhciBpcyB6ZXJvXG4gICAgICBpZiAoZXF1YWxTY2FsYXIoeCwgMCkpIHtcbiAgICAgICAgLy8gZG8gbm90IGV4ZWN1dGUgYWxnb3JpdGhtLCByZXN1bHQgd2lsbCBiZSBhIHplcm8gbWF0cml4XG4gICAgICAgIHJldHVybiB6ZXJvcyh5LnNpemUoKSwgeS5zdG9yYWdlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyRGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gY2hlY2sgc2NhbGFyIGlzIHplcm9cbiAgICAgIGlmIChlcXVhbFNjYWxhcih4LCAwKSkge1xuICAgICAgICAvLyBkbyBub3QgZXhlY3V0ZSBhbGdvcml0aG0sIHJlc3VsdCB3aWxsIGJlIGEgemVybyBtYXRyaXhcbiAgICAgICAgcmV0dXJuIHplcm9zKHkuc2l6ZSgpLCB5LnN0b3JhZ2UoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQXJyYXlOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KSk7XG59KTtcbnZhciByb3VuZE51bWJlclNpZ25hdHVyZXMgPSB7XG4gIG51bWJlcjogcm91bmROdW1iZXIsXG4gICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCBuKSB7XG4gICAgaWYgKCFpc0ludGVnZXIobikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICB9XG5cbiAgICBpZiAobiA8IDAgfHwgbiA+IDE1KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ051bWJlciBvZiBkZWNpbWFscyBpbiBmdW5jdGlvbiByb3VuZCBtdXN0IGJlIGluIHRlIHJhbmdlIG9mIDAtMTUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91bmROdW1iZXIoeCwgbik7XG4gIH1cbn07XG5leHBvcnQgdmFyIGNyZWF0ZVJvdW5kTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBbJ3R5cGVkJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHJvdW5kTnVtYmVyU2lnbmF0dXJlcyk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA3IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZXF1YWwnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNyA9IGNyZWF0ZUFsZ29yaXRobTA3KHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0d28gdmFsdWVzIGFyZSBlcXVhbC5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHRlc3RzIHdoZXRoZXIgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5IGlzXG4gICAqIHNtYWxsZXIgdGhhbiB0aGUgY29uZmlndXJlZCBlcHNpbG9uLiBUaGUgZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQgdG9cbiAgICogY29tcGFyZSB2YWx1ZXMgc21hbGxlciB0aGFuIGFwcHJveGltYXRlbHkgMi4yMmUtMTYuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqIEluIGNhc2Ugb2YgY29tcGxleCBudW1iZXJzLCB4LnJlIG11c3QgZXF1YWwgeS5yZSwgYW5kIHguaW0gbXVzdCBlcXVhbCB5LmltLlxuICAgKlxuICAgKiBWYWx1ZXMgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhcmUgY29tcGFyZWQgc3RyaWN0bHksIHRodXMgYG51bGxgIGlzIG9ubHlcbiAgICogZXF1YWwgdG8gYG51bGxgIGFuZCBub3RoaW5nIGVsc2UsIGFuZCBgdW5kZWZpbmVkYCBpcyBvbmx5IGVxdWFsIHRvXG4gICAqIGB1bmRlZmluZWRgIGFuZCBub3RoaW5nIGVsc2UuIFN0cmluZ3MgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIG51bWVyaWNhbCB2YWx1ZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKDIgKyAyLCAzKSAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5lcXVhbCgyICsgMiwgNCkgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCgnNTAgY20nKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCc1IG0nKVxuICAgKiAgICBtYXRoLmVxdWFsKGEsIGIpICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gWzIsIDUsIDFdXG4gICAqICAgIGNvbnN0IGQgPSBbMiwgNywgMV1cbiAgICpcbiAgICogICAgbWF0aC5lcXVhbChjLCBkKSAgICAgICAgICAgICAvLyByZXR1cm5zIFt0cnVlLCBmYWxzZSwgdHJ1ZV1cbiAgICogICAgbWF0aC5kZWVwRXF1YWwoYywgZCkgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoXCIxMDAwXCIsIFwiMWUzXCIpICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmVxdWFsKDAsIG51bGwpICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHVuZXF1YWwsIHNtYWxsZXIsIHNtYWxsZXJFcSwgbGFyZ2VyLCBsYXJnZXJFcSwgY29tcGFyZSwgZGVlcEVxdWFsLCBlcXVhbFRleHRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgYm9vbGVhbiB8IENvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBib29sZWFuIHwgQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFuIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIGVxdWFsLCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYW55LCBhbnknOiBmdW5jdGlvbiBhbnlBbnkoeCwgeSkge1xuICAgICAgLy8gc3RyaWN0IGVxdWFsaXR5IGZvciBudWxsIGFuZCB1bmRlZmluZWQ/XG4gICAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geSA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXF1YWxTY2FsYXIoeCwgeSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA3KHgsIHksIGVxdWFsU2NhbGFyKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIGVxdWFsU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgZXF1YWxTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeCwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIGVxdWFsU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbE51bWJlciA9IGZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdlcXVhbFNjYWxhciddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2FueSwgYW55JzogZnVuY3Rpb24gYW55QW55KHgsIHkpIHtcbiAgICAgIC8vIHN0cmljdCBlcXVhbGl0eSBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkP1xuICAgICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB4ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB5ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVxdWFsU2NhbGFyKHgsIHkpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA3IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xudmFyIG5hbWUgPSAnc21hbGxlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVNtYWxsZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNyA9IGNyZWF0ZUFsZ29yaXRobTA3KHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB2YWx1ZSB4IGlzIHNtYWxsZXIgdGhhbiB5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4geCBpcyBzbWFsbGVyIHRoYW4geSBhbmQgdGhlIHJlbGF0aXZlXG4gICAqIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5IGlzIHNtYWxsZXIgdGhhbiB0aGUgY29uZmlndXJlZCBlcHNpbG9uLiBUaGVcbiAgICogZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMgc21hbGxlciB0aGFuIGFwcHJveGltYXRlbHkgMi4yMmUtMTYuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqIFN0cmluZ3MgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIG51bWVyaWNhbCB2YWx1ZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnNtYWxsZXIoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguc21hbGxlcigyLCAzKSAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLnNtYWxsZXIoNSwgMiAqIDIpICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoJzUgY20nKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCcyIGluY2gnKVxuICAgKiAgICBtYXRoLnNtYWxsZXIoYSwgYikgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGVxdWFsLCB1bmVxdWFsLCBzbWFsbGVyRXEsIHNtYWxsZXIsIHNtYWxsZXJFcSwgY29tcGFyZVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgeCBpcyBzbWFsbGVyIHRoYW4geSwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2Jvb2xlYW4sIGJvb2xlYW4nOiBmdW5jdGlvbiBib29sZWFuQm9vbGVhbih4LCB5KSB7XG4gICAgICByZXR1cm4geCA8IHk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPCB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubHQoeSkgJiYgIWJpZ05lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmNvbXBhcmUoeSkgPT09IC0xO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvcmRlcmluZyByZWxhdGlvbiBpcyBkZWZpbmVkIGZvciBjb21wbGV4IG51bWJlcnMnKTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb21wYXJlIHVuaXRzIHdpdGggZGlmZmVyZW50IGJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMoeC52YWx1ZSwgeS52YWx1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA3KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZVNtYWxsZXJOdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnY29uZmlnJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IDwgeSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA3IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xudmFyIG5hbWUgPSAnbGFyZ2VyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTGFyZ2VyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDcgPSBjcmVhdGVBbGdvcml0aG0wNyh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdmFsdWUgeCBpcyBsYXJnZXIgdGhhbiB5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4geCBpcyBsYXJnZXIgdGhhbiB5IGFuZCB0aGUgcmVsYXRpdmVcbiAgICogZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHkgaXMgbGFyZ2VyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgZXBzaWxvbi4gVGhlXG4gICAqIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzIHNtYWxsZXIgdGhhbiBhcHByb3hpbWF0ZWx5IDIuMjJlLTE2LlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKiBTdHJpbmdzIGFyZSBjb21wYXJlZCBieSB0aGVpciBudW1lcmljYWwgdmFsdWUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5sYXJnZXIoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubGFyZ2VyKDIsIDMpICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5sYXJnZXIoNSwgMiArIDIpICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoJzUgY20nKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCcyIGluY2gnKVxuICAgKiAgICBtYXRoLmxhcmdlcihhLCBiKSAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBlcXVhbCwgdW5lcXVhbCwgc21hbGxlciwgc21hbGxlckVxLCBsYXJnZXJFcSwgY29tcGFyZVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgeCBpcyBsYXJnZXIgdGhhbiB5LCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYm9vbGVhbiwgYm9vbGVhbic6IGZ1bmN0aW9uIGJvb2xlYW5Cb29sZWFuKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID4geTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA+IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5ndCh5KSAmJiAhYmlnTmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguY29tcGFyZSh5KSA9PT0gMTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvcmRlcmluZyByZWxhdGlvbiBpcyBkZWZpbmVkIGZvciBjb21wbGV4IG51bWJlcnMnKTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb21wYXJlIHVuaXRzIHdpdGggZGlmZmVyZW50IGJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMoeC52YWx1ZSwgeS52YWx1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA3KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZUxhcmdlck51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdjb25maWcnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPiB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0ZpYm9uYWNjaUhlYXAnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnc21hbGxlcicsICdsYXJnZXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlRmlib25hY2NpSGVhcENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgc21hbGxlcixcbiAgICBsYXJnZXJcbiAgfSA9IF9yZWY7XG4gIHZhciBvbmVPdmVyTG9nUGhpID0gMS4wIC8gTWF0aC5sb2coKDEuMCArIE1hdGguc3FydCg1LjApKSAvIDIuMCk7XG4gIC8qKlxuICAgKiBGaWJvbmFjY2kgSGVhcCBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbnRlcmFsbHkgZm9yIE1hdHJpeCBtYXRoLlxuICAgKiBAY2xhc3MgRmlib25hY2NpSGVhcFxuICAgKiBAY29uc3RydWN0b3IgRmlib25hY2NpSGVhcFxuICAgKi9cblxuICBmdW5jdGlvbiBGaWJvbmFjY2lIZWFwKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGaWJvbmFjY2lIZWFwKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIGluaXRpYWxpemUgZmllbGRzXG5cblxuICAgIHRoaXMuX21pbmltdW0gPSBudWxsO1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLnR5cGUgPSAnRmlib25hY2NpSGVhcCc7XG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmlzRmlib25hY2NpSGVhcCA9IHRydWU7XG4gIC8qKlxuICAgKiBJbnNlcnRzIGEgbmV3IGRhdGEgZWxlbWVudCBpbnRvIHRoZSBoZWFwLiBObyBoZWFwIGNvbnNvbGlkYXRpb24gaXNcbiAgICogcGVyZm9ybWVkIGF0IHRoaXMgdGltZSwgdGhlIG5ldyBub2RlIGlzIHNpbXBseSBpbnNlcnRlZCBpbnRvIHRoZSByb290XG4gICAqIGxpc3Qgb2YgdGhpcyBoZWFwLiBSdW5uaW5nIHRpbWU6IE8oMSkgYWN0dWFsLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIC8vIGNyZWF0ZSBub2RlXG4gICAgdmFyIG5vZGUgPSB7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGRlZ3JlZTogMFxuICAgIH07IC8vIGNoZWNrIHdlIGhhdmUgYSBub2RlIGluIHRoZSBtaW5pbXVtXG5cbiAgICBpZiAodGhpcy5fbWluaW11bSkge1xuICAgICAgLy8gbWluaW11bSBub2RlXG4gICAgICB2YXIgbWluaW11bSA9IHRoaXMuX21pbmltdW07IC8vIHVwZGF0ZSBsZWZ0ICYgcmlnaHQgb2Ygbm9kZVxuXG4gICAgICBub2RlLmxlZnQgPSBtaW5pbXVtO1xuICAgICAgbm9kZS5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgICBtaW5pbXVtLnJpZ2h0ID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGU7IC8vIHVwZGF0ZSBtaW5pbXVtIG5vZGUgaW4gaGVhcCBpZiBuZWVkZWRcblxuICAgICAgaWYgKHNtYWxsZXIoa2V5LCBtaW5pbXVtLmtleSkpIHtcbiAgICAgICAgLy8gbm9kZSBoYXMgYSBzbWFsbGVyIGtleSwgdXNlIGl0IGFzIG1pbmltdW1cbiAgICAgICAgdGhpcy5fbWluaW11bSA9IG5vZGU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldCBsZWZ0ICYgcmlnaHRcbiAgICAgIG5vZGUubGVmdCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0ID0gbm9kZTsgLy8gdGhpcyBpcyB0aGUgZmlyc3Qgbm9kZVxuXG4gICAgICB0aGlzLl9taW5pbXVtID0gbm9kZTtcbiAgICB9IC8vIGluY3JlbWVudCBudW1iZXIgb2Ygbm9kZXMgaW4gaGVhcFxuXG5cbiAgICB0aGlzLl9zaXplKys7IC8vIHJldHVybiBub2RlXG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBub2RlcyBpbiBoZWFwLiBSdW5uaW5nIHRpbWU6IE8oMSkgYWN0dWFsLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIHRoaXMgaGVhcC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9taW5pbXVtID0gbnVsbDtcbiAgICB0aGlzLl9zaXplID0gMDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaGVhcCBpcyBlbXB0eSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemUgPT09IDA7XG4gIH07XG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0aGUgbm9kZSB3aXRoIG1pbmltdW0ga2V5IGZyb20gaGVhcC4gQW1vcnRpemVkIHJ1bm5pbmdcbiAgICogdGltZTogTyhsb2cgbikuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuZXh0cmFjdE1pbmltdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbm9kZSB0byByZW1vdmVcbiAgICB2YXIgbm9kZSA9IHRoaXMuX21pbmltdW07IC8vIGNoZWNrIHdlIGhhdmUgYSBtaW5pbXVtXG5cbiAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSAvLyBjdXJyZW50IG1pbmltdW1cblxuXG4gICAgdmFyIG1pbmltdW0gPSB0aGlzLl9taW5pbXVtOyAvLyBnZXQgbnVtYmVyIG9mIGNoaWxkcmVuXG5cbiAgICB2YXIgbnVtYmVyT2ZDaGlsZHJlbiA9IG5vZGUuZGVncmVlOyAvLyBwb2ludGVyIHRvIHRoZSBmaXJzdCBjaGlsZFxuXG4gICAgdmFyIHggPSBub2RlLmNoaWxkOyAvLyBmb3IgZWFjaCBjaGlsZCBvZiBub2RlIGRvLi4uXG5cbiAgICB3aGlsZSAobnVtYmVyT2ZDaGlsZHJlbiA+IDApIHtcbiAgICAgIC8vIHN0b3JlIG5vZGUgaW4gcmlnaHQgc2lkZVxuICAgICAgdmFyIHRlbXBSaWdodCA9IHgucmlnaHQ7IC8vIHJlbW92ZSB4IGZyb20gY2hpbGQgbGlzdFxuXG4gICAgICB4LmxlZnQucmlnaHQgPSB4LnJpZ2h0O1xuICAgICAgeC5yaWdodC5sZWZ0ID0geC5sZWZ0OyAvLyBhZGQgeCB0byByb290IGxpc3Qgb2YgaGVhcFxuXG4gICAgICB4LmxlZnQgPSBtaW5pbXVtO1xuICAgICAgeC5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgICBtaW5pbXVtLnJpZ2h0ID0geDtcbiAgICAgIHgucmlnaHQubGVmdCA9IHg7IC8vIHNldCBQYXJlbnRbeF0gdG8gbnVsbFxuXG4gICAgICB4LnBhcmVudCA9IG51bGw7XG4gICAgICB4ID0gdGVtcFJpZ2h0O1xuICAgICAgbnVtYmVyT2ZDaGlsZHJlbi0tO1xuICAgIH0gLy8gcmVtb3ZlIG5vZGUgZnJvbSByb290IGxpc3Qgb2YgaGVhcFxuXG5cbiAgICBub2RlLmxlZnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGUubGVmdDsgLy8gdXBkYXRlIG1pbmltdW1cblxuICAgIGlmIChub2RlID09PSBub2RlLnJpZ2h0KSB7XG4gICAgICAvLyBlbXB0eVxuICAgICAgbWluaW11bSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSBtaW5pbXVtXG4gICAgICBtaW5pbXVtID0gbm9kZS5yaWdodDsgLy8gd2UgbmVlZCB0byB1cGRhdGUgdGhlIHBvaW50ZXIgdG8gdGhlIHJvb3Qgd2l0aCBtaW5pbXVtIGtleVxuXG4gICAgICBtaW5pbXVtID0gX2ZpbmRNaW5pbXVtTm9kZShtaW5pbXVtLCB0aGlzLl9zaXplKTtcbiAgICB9IC8vIGRlY3JlbWVudCBzaXplIG9mIGhlYXBcblxuXG4gICAgdGhpcy5fc2l6ZS0tOyAvLyB1cGRhdGUgbWluaW11bVxuXG4gICAgdGhpcy5fbWluaW11bSA9IG1pbmltdW07IC8vIHJldHVybiBub2RlXG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBub2RlIGZyb20gdGhlIGhlYXAgZ2l2ZW4gdGhlIHJlZmVyZW5jZSB0byB0aGUgbm9kZS4gVGhlIHRyZWVzXG4gICAqIGluIHRoZSBoZWFwIHdpbGwgYmUgY29uc29saWRhdGVkLCBpZiBuZWNlc3NhcnkuIFRoaXMgb3BlcmF0aW9uIG1heSBmYWlsXG4gICAqIHRvIHJlbW92ZSB0aGUgY29ycmVjdCBlbGVtZW50IGlmIHRoZXJlIGFyZSBub2RlcyB3aXRoIGtleSB2YWx1ZSAtSW5maW5pdHkuXG4gICAqIFJ1bm5pbmcgdGltZTogTyhsb2cgbikgYW1vcnRpemVkLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgLy8gZGVjcmVhc2Uga2V5IHZhbHVlXG4gICAgdGhpcy5fbWluaW11bSA9IF9kZWNyZWFzZUtleSh0aGlzLl9taW5pbXVtLCBub2RlLCAtMSk7IC8vIHJlbW92ZSB0aGUgc21hbGxlc3RcblxuICAgIHRoaXMuZXh0cmFjdE1pbmltdW0oKTtcbiAgfTtcbiAgLyoqXG4gICAqIERlY3JlYXNlcyB0aGUga2V5IHZhbHVlIGZvciBhIGhlYXAgbm9kZSwgZ2l2ZW4gdGhlIG5ldyB2YWx1ZSB0byB0YWtlIG9uLlxuICAgKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBoZWFwIG1heSBiZSBjaGFuZ2VkIGFuZCB3aWxsIG5vdCBiZSBjb25zb2xpZGF0ZWQuXG4gICAqIFJ1bm5pbmcgdGltZTogTygxKSBhbW9ydGl6ZWQuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2RlY3JlYXNlS2V5KG1pbmltdW0sIG5vZGUsIGtleSkge1xuICAgIC8vIHNldCBub2RlIGtleVxuICAgIG5vZGUua2V5ID0ga2V5OyAvLyBnZXQgcGFyZW50IG5vZGVcblxuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudDtcblxuICAgIGlmIChwYXJlbnQgJiYgc21hbGxlcihub2RlLmtleSwgcGFyZW50LmtleSkpIHtcbiAgICAgIC8vIHJlbW92ZSBub2RlIGZyb20gcGFyZW50XG4gICAgICBfY3V0KG1pbmltdW0sIG5vZGUsIHBhcmVudCk7IC8vIHJlbW92ZSBhbGwgbm9kZXMgZnJvbSBwYXJlbnQgdG8gdGhlIHJvb3QgcGFyZW50XG5cblxuICAgICAgX2Nhc2NhZGluZ0N1dChtaW5pbXVtLCBwYXJlbnQpO1xuICAgIH0gLy8gdXBkYXRlIG1pbmltdW0gbm9kZSBpZiBuZWVkZWRcblxuXG4gICAgaWYgKHNtYWxsZXIobm9kZS5rZXksIG1pbmltdW0ua2V5KSkge1xuICAgICAgbWluaW11bSA9IG5vZGU7XG4gICAgfSAvLyByZXR1cm4gbWluaW11bVxuXG5cbiAgICByZXR1cm4gbWluaW11bTtcbiAgfVxuICAvKipcbiAgICogVGhlIHJldmVyc2Ugb2YgdGhlIGxpbmsgb3BlcmF0aW9uOiByZW1vdmVzIG5vZGUgZnJvbSB0aGUgY2hpbGQgbGlzdCBvZiBwYXJlbnQuXG4gICAqIFRoaXMgbWV0aG9kIGFzc3VtZXMgdGhhdCBtaW4gaXMgbm9uLW51bGwuIFJ1bm5pbmcgdGltZTogTygxKS5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBfY3V0KG1pbmltdW0sIG5vZGUsIHBhcmVudCkge1xuICAgIC8vIHJlbW92ZSBub2RlIGZyb20gcGFyZW50IGNoaWxkcmVuIGFuZCBkZWNyZW1lbnQgRGVncmVlW3BhcmVudF1cbiAgICBub2RlLmxlZnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGUubGVmdDtcbiAgICBwYXJlbnQuZGVncmVlLS07IC8vIHJlc2V0IHkuY2hpbGQgaWYgbmVjZXNzYXJ5XG5cbiAgICBpZiAocGFyZW50LmNoaWxkID09PSBub2RlKSB7XG4gICAgICBwYXJlbnQuY2hpbGQgPSBub2RlLnJpZ2h0O1xuICAgIH0gLy8gcmVtb3ZlIGNoaWxkIGlmIGRlZ3JlZSBpcyAwXG5cblxuICAgIGlmIChwYXJlbnQuZGVncmVlID09PSAwKSB7XG4gICAgICBwYXJlbnQuY2hpbGQgPSBudWxsO1xuICAgIH0gLy8gYWRkIG5vZGUgdG8gcm9vdCBsaXN0IG9mIGhlYXBcblxuXG4gICAgbm9kZS5sZWZ0ID0gbWluaW11bTtcbiAgICBub2RlLnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICBtaW5pbXVtLnJpZ2h0ID0gbm9kZTtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlOyAvLyBzZXQgcGFyZW50W25vZGVdIHRvIG51bGxcblxuICAgIG5vZGUucGFyZW50ID0gbnVsbDsgLy8gc2V0IG1hcmtbbm9kZV0gdG8gZmFsc2VcblxuICAgIG5vZGUubWFyayA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIGNhc2NhZGluZyBjdXQgb3BlcmF0aW9uLiBUaGlzIGN1dHMgbm9kZSBmcm9tIGl0cyBwYXJlbnQgYW5kIHRoZW5cbiAgICogZG9lcyB0aGUgc2FtZSBmb3IgaXRzIHBhcmVudCwgYW5kIHNvIG9uIHVwIHRoZSB0cmVlLlxuICAgKiBSdW5uaW5nIHRpbWU6IE8obG9nIG4pOyBPKDEpIGV4Y2x1ZGluZyB0aGUgcmVjdXJzaW9uLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9jYXNjYWRpbmdDdXQobWluaW11bSwgbm9kZSkge1xuICAgIC8vIHN0b3JlIHBhcmVudCBub2RlXG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50OyAvLyBpZiB0aGVyZSdzIGEgcGFyZW50Li4uXG5cbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gaWYgbm9kZSBpcyB1bm1hcmtlZCwgc2V0IGl0IG1hcmtlZFxuXG5cbiAgICBpZiAoIW5vZGUubWFyaykge1xuICAgICAgbm9kZS5tYXJrID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXQncyBtYXJrZWQsIGN1dCBpdCBmcm9tIHBhcmVudFxuICAgICAgX2N1dChtaW5pbXVtLCBub2RlLCBwYXJlbnQpOyAvLyBjdXQgaXRzIHBhcmVudCBhcyB3ZWxsXG5cblxuICAgICAgX2Nhc2NhZGluZ0N1dChwYXJlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTWFrZSB0aGUgZmlyc3Qgbm9kZSBhIGNoaWxkIG9mIHRoZSBzZWNvbmQgb25lLiBSdW5uaW5nIHRpbWU6IE8oMSkgYWN0dWFsLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIHZhciBfbGlua05vZGVzID0gZnVuY3Rpb24gX2xpbmtOb2Rlcyhub2RlLCBwYXJlbnQpIHtcbiAgICAvLyByZW1vdmUgbm9kZSBmcm9tIHJvb3QgbGlzdCBvZiBoZWFwXG4gICAgbm9kZS5sZWZ0LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlLmxlZnQ7IC8vIG1ha2Ugbm9kZSBhIENoaWxkIG9mIHBhcmVudFxuXG4gICAgbm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgICBpZiAoIXBhcmVudC5jaGlsZCkge1xuICAgICAgcGFyZW50LmNoaWxkID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQgPSBub2RlO1xuICAgICAgbm9kZS5sZWZ0ID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5sZWZ0ID0gcGFyZW50LmNoaWxkO1xuICAgICAgbm9kZS5yaWdodCA9IHBhcmVudC5jaGlsZC5yaWdodDtcbiAgICAgIHBhcmVudC5jaGlsZC5yaWdodCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlO1xuICAgIH0gLy8gaW5jcmVhc2UgZGVncmVlW3BhcmVudF1cblxuXG4gICAgcGFyZW50LmRlZ3JlZSsrOyAvLyBzZXQgbWFya1tub2RlXSBmYWxzZVxuXG4gICAgbm9kZS5tYXJrID0gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gX2ZpbmRNaW5pbXVtTm9kZShtaW5pbXVtLCBzaXplKSB7XG4gICAgLy8gdG8gZmluZCB0cmVlcyBvZiB0aGUgc2FtZSBkZWdyZWUgZWZmaWNpZW50bHkgd2UgdXNlIGFuIGFycmF5IG9mIGxlbmd0aCBPKGxvZyBuKSBpbiB3aGljaCB3ZSBrZWVwIGEgcG9pbnRlciB0byBvbmUgcm9vdCBvZiBlYWNoIGRlZ3JlZVxuICAgIHZhciBhcnJheVNpemUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHNpemUpICogb25lT3ZlckxvZ1BoaSkgKyAxOyAvLyBjcmVhdGUgbGlzdCB3aXRoIGluaXRpYWwgY2FwYWNpdHlcblxuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShhcnJheVNpemUpOyAvLyBmaW5kIHRoZSBudW1iZXIgb2Ygcm9vdCBub2Rlcy5cblxuICAgIHZhciBudW1Sb290cyA9IDA7XG4gICAgdmFyIHggPSBtaW5pbXVtO1xuXG4gICAgaWYgKHgpIHtcbiAgICAgIG51bVJvb3RzKys7XG4gICAgICB4ID0geC5yaWdodDtcblxuICAgICAgd2hpbGUgKHggIT09IG1pbmltdW0pIHtcbiAgICAgICAgbnVtUm9vdHMrKztcbiAgICAgICAgeCA9IHgucmlnaHQ7XG4gICAgICB9XG4gICAgfSAvLyB2YXJzXG5cblxuICAgIHZhciB5OyAvLyBGb3IgZWFjaCBub2RlIGluIHJvb3QgbGlzdCBkby4uLlxuXG4gICAgd2hpbGUgKG51bVJvb3RzID4gMCkge1xuICAgICAgLy8gYWNjZXNzIHRoaXMgbm9kZSdzIGRlZ3JlZS4uXG4gICAgICB2YXIgZCA9IHguZGVncmVlOyAvLyBnZXQgbmV4dCBub2RlXG5cbiAgICAgIHZhciBuZXh0ID0geC5yaWdodDsgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBub2RlIGFscmVhZHkgaW4gYXJyYXkgd2l0aCB0aGUgc2FtZSBkZWdyZWVcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgLy8gZ2V0IG5vZGUgd2l0aCB0aGUgc2FtZSBkZWdyZWUgaXMgYW55XG4gICAgICAgIHkgPSBhcnJheVtkXTtcblxuICAgICAgICBpZiAoIXkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSAvLyBtYWtlIG9uZSBub2RlIHdpdGggdGhlIHNhbWUgZGVncmVlIGEgY2hpbGQgb2YgdGhlIG90aGVyLCBkbyB0aGlzIGJhc2VkIG9uIHRoZSBrZXkgdmFsdWUuXG5cblxuICAgICAgICBpZiAobGFyZ2VyKHgua2V5LCB5LmtleSkpIHtcbiAgICAgICAgICB2YXIgdGVtcCA9IHk7XG4gICAgICAgICAgeSA9IHg7XG4gICAgICAgICAgeCA9IHRlbXA7XG4gICAgICAgIH0gLy8gbWFrZSB5IGEgY2hpbGQgb2YgeFxuXG5cbiAgICAgICAgX2xpbmtOb2Rlcyh5LCB4KTsgLy8gd2UgaGF2ZSBoYW5kbGVkIHRoaXMgZGVncmVlLCBnbyB0byBuZXh0IG9uZS5cblxuXG4gICAgICAgIGFycmF5W2RdID0gbnVsbDtcbiAgICAgICAgZCsrO1xuICAgICAgfSAvLyBzYXZlIHRoaXMgbm9kZSBmb3IgbGF0ZXIgd2hlbiB3ZSBtaWdodCBlbmNvdW50ZXIgYW5vdGhlciBvZiB0aGUgc2FtZSBkZWdyZWUuXG5cblxuICAgICAgYXJyYXlbZF0gPSB4OyAvLyBtb3ZlIGZvcndhcmQgdGhyb3VnaCBsaXN0LlxuXG4gICAgICB4ID0gbmV4dDtcbiAgICAgIG51bVJvb3RzLS07XG4gICAgfSAvLyBTZXQgbWluIHRvIG51bGwgKGVmZmVjdGl2ZWx5IGxvc2luZyB0aGUgcm9vdCBsaXN0KSBhbmQgcmVjb25zdHJ1Y3QgdGhlIHJvb3QgbGlzdCBmcm9tIHRoZSBhcnJheSBlbnRyaWVzIGluIGFycmF5W10uXG5cblxuICAgIG1pbmltdW0gPSBudWxsOyAvLyBsb29wIG5vZGVzIGluIGFycmF5XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5U2l6ZTsgaSsrKSB7XG4gICAgICAvLyBnZXQgY3VycmVudCBub2RlXG4gICAgICB5ID0gYXJyYXlbaV07XG5cbiAgICAgIGlmICgheSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2hlY2sgaWYgd2UgaGF2ZSBhIGxpbmtlZCBsaXN0XG5cblxuICAgICAgaWYgKG1pbmltdW0pIHtcbiAgICAgICAgLy8gRmlyc3QgcmVtb3ZlIG5vZGUgZnJvbSByb290IGxpc3QuXG4gICAgICAgIHkubGVmdC5yaWdodCA9IHkucmlnaHQ7XG4gICAgICAgIHkucmlnaHQubGVmdCA9IHkubGVmdDsgLy8gbm93IGFkZCB0byByb290IGxpc3QsIGFnYWluLlxuXG4gICAgICAgIHkubGVmdCA9IG1pbmltdW07XG4gICAgICAgIHkucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgICAgICBtaW5pbXVtLnJpZ2h0ID0geTtcbiAgICAgICAgeS5yaWdodC5sZWZ0ID0geTsgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIG5ldyBtaW4uXG5cbiAgICAgICAgaWYgKHNtYWxsZXIoeS5rZXksIG1pbmltdW0ua2V5KSkge1xuICAgICAgICAgIG1pbmltdW0gPSB5O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaW5pbXVtID0geTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWluaW11bTtcbiAgfVxuXG4gIHJldHVybiBGaWJvbmFjY2lIZWFwO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdTcGEnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnYWRkU2NhbGFyJywgJ2VxdWFsU2NhbGFyJywgJ0ZpYm9uYWNjaUhlYXAnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3BhQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBhZGRTY2FsYXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRmlib25hY2NpSGVhcFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQW4gb3JkZXJlZCBTcGFyc2UgQWNjdW11bGF0b3IgaXMgYSByZXByZXNlbnRhdGlvbiBmb3IgYSBzcGFyc2UgdmVjdG9yIHRoYXQgaW5jbHVkZXMgYSBkZW5zZSBhcnJheVxuICAgKiBvZiB0aGUgdmVjdG9yIGVsZW1lbnRzIGFuZCBhbiBvcmRlcmVkIGxpc3Qgb2Ygbm9uLXplcm8gZWxlbWVudHMuXG4gICAqL1xuICBmdW5jdGlvbiBTcGEoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwYSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyBhbGxvY2F0ZSB2ZWN0b3IsIFRPRE8gdXNlIHR5cGVkIGFycmF5c1xuXG5cbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9oZWFwID0gbmV3IEZpYm9uYWNjaUhlYXAoKTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBTcGEucHJvdG90eXBlLnR5cGUgPSAnU3BhJztcbiAgU3BhLnByb3RvdHlwZS5pc1NwYSA9IHRydWU7XG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIGZvciBpbmRleCBpLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICAgICAgICAgICAgICAgICAgVGhlIGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleH0gICBUaGUgdmFsdWUgYXQgaW5kZXggaVxuICAgKi9cblxuICBTcGEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgLy8gY2hlY2sgd2UgaGF2ZSBhIHZhbHVlIEAgaVxuICAgIGlmICghdGhpcy5fdmFsdWVzW2ldKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFwLmluc2VydChpLCB2KTsgLy8gc2V0IHRoZSB2YWx1ZSBAIGlcblxuXG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlIEAgaVxuICAgICAgdGhpcy5fdmFsdWVzW2ldLnZhbHVlID0gdjtcbiAgICB9XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSkge1xuICAgIHZhciBub2RlID0gdGhpcy5fdmFsdWVzW2ldO1xuXG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuYWNjdW11bGF0ZSA9IGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgLy8gbm9kZSBAIGlcbiAgICB2YXIgbm9kZSA9IHRoaXMuX3ZhbHVlc1tpXTtcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIG5vZGUgPSB0aGlzLl9oZWFwLmluc2VydChpLCB2KTsgLy8gaW5pdGlhbGl6ZSB2YWx1ZVxuXG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhY2N1bXVsYXRlIHZhbHVlXG4gICAgICBub2RlLnZhbHVlID0gYWRkU2NhbGFyKG5vZGUudmFsdWUsIHYpO1xuICAgIH1cbiAgfTtcblxuICBTcGEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZnJvbSwgdG8sIGNhbGxiYWNrKSB7XG4gICAgLy8gcmVmZXJlbmNlc1xuICAgIHZhciBoZWFwID0gdGhpcy5faGVhcDtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzOyAvLyBub2Rlc1xuXG4gICAgdmFyIG5vZGVzID0gW107IC8vIG5vZGUgd2l0aCBtaW5pbXVtIGtleSwgc2F2ZSBpdFxuXG4gICAgdmFyIG5vZGUgPSBoZWFwLmV4dHJhY3RNaW5pbXVtKCk7XG5cbiAgICBpZiAobm9kZSkge1xuICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICB9IC8vIGV4dHJhY3Qgbm9kZXMgZnJvbSBoZWFwIChvcmRlcmVkKVxuXG5cbiAgICB3aGlsZSAobm9kZSAmJiBub2RlLmtleSA8PSB0bykge1xuICAgICAgLy8gY2hlY2sgaXQgaXMgaW4gcmFuZ2VcbiAgICAgIGlmIChub2RlLmtleSA+PSBmcm9tKSB7XG4gICAgICAgIC8vIGNoZWNrIHZhbHVlIGlzIG5vdCB6ZXJvXG4gICAgICAgIGlmICghZXF1YWxTY2FsYXIobm9kZS52YWx1ZSwgMCkpIHtcbiAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgICAgICBjYWxsYmFjayhub2RlLmtleSwgbm9kZS52YWx1ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZXh0cmFjdCBuZXh0IG5vZGUsIHNhdmUgaXRcblxuXG4gICAgICBub2RlID0gaGVhcC5leHRyYWN0TWluaW11bSgpO1xuXG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0gLy8gcmVpbnNlcnQgYWxsIG5vZGVzIGluIGhlYXBcblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gY3VycmVudCBub2RlXG4gICAgICB2YXIgbiA9IG5vZGVzW2ldOyAvLyBpbnNlcnQgbm9kZSBpbiBoZWFwXG5cbiAgICAgIG5vZGUgPSBoZWFwLmluc2VydChuLmtleSwgbi52YWx1ZSk7IC8vIHVwZGF0ZSB2YWx1ZXNcblxuICAgICAgdmFsdWVzW25vZGUua2V5XSA9IG5vZGU7XG4gICAgfVxuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uIChpLCBqKSB7XG4gICAgLy8gbm9kZSBAIGkgYW5kIGpcbiAgICB2YXIgbm9kZWkgPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgdmFyIG5vZGVqID0gdGhpcy5fdmFsdWVzW2pdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluc2VydCBpbmRlY2VzXG5cbiAgICBpZiAoIW5vZGVpICYmIG5vZGVqKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgbm9kZWkgPSB0aGlzLl9oZWFwLmluc2VydChpLCBub2Rlai52YWx1ZSk7IC8vIHJlbW92ZSBmcm9tIGhlYXBcblxuICAgICAgdGhpcy5faGVhcC5yZW1vdmUobm9kZWopOyAvLyBzZXQgdmFsdWVzXG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gbm9kZWk7XG4gICAgICB0aGlzLl92YWx1ZXNbal0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChub2RlaSAmJiAhbm9kZWopIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICBub2RlaiA9IHRoaXMuX2hlYXAuaW5zZXJ0KGosIG5vZGVpLnZhbHVlKTsgLy8gcmVtb3ZlIGZyb20gaGVhcFxuXG4gICAgICB0aGlzLl9oZWFwLnJlbW92ZShub2RlaSk7IC8vIHNldCB2YWx1ZXNcblxuXG4gICAgICB0aGlzLl92YWx1ZXNbal0gPSBub2RlajtcbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKG5vZGVpICYmIG5vZGVqKSB7XG4gICAgICAvLyBzd2FwIHZhbHVlc1xuICAgICAgdmFyIHYgPSBub2RlaS52YWx1ZTtcbiAgICAgIG5vZGVpLnZhbHVlID0gbm9kZWoudmFsdWU7XG4gICAgICBub2Rlai52YWx1ZSA9IHY7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTcGE7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IG1lbW9pemUgfSBmcm9tICcuLi9mdW5jdGlvbi5qcyc7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIGVcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlckUgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMSkuZXhwKCk7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgZ29sZGVuIHJhdGlvLCBwaGkgPSAoMStzcXJ0KDUpKS8yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgcGhpXG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJQaGkgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMSkucGx1cyhuZXcgQmlnTnVtYmVyKDUpLnNxcnQoKSkuZGl2KDIpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIHBpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIHBpXG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJQaSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gQmlnTnVtYmVyLmFjb3MoLTEpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIHRhdSwgdGF1ID0gMiAqIHBpXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgdGF1XG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJUYXUgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIGNyZWF0ZUJpZ051bWJlclBpKEJpZ051bWJlcikudGltZXMoMik7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENyZWF0ZSBhIGhhc2ggZm9yIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBUaGUgY3JlYXRlZCBoYXMgaXNcbiAqIHRoZSBjb25maWd1cmVkIHByZWNpc2lvblxuICogQHBhcmFtIHtBcnJheX0gYXJncyAgICAgICAgIFN1cHBvc2VkIHRvIGNvbnRhaW4gYSBzaW5nbGUgZW50cnkgd2l0aFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHByZWNpc2lvblxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBoYXNoZXIoYXJncykge1xuICByZXR1cm4gYXJnc1swXS5wcmVjaXNpb247XG59IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IGlzQ29tcGxleCwgaXNVbml0LCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvZnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgZW5kc1dpdGggfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgY2xvbmUsIGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUJpZ051bWJlclBpIGFzIGNyZWF0ZVBpIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL2NvbnN0YW50cy5qcyc7XG52YXIgbmFtZSA9ICdVbml0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJz9vbicsICdjb25maWcnLCAnYWRkU2NhbGFyJywgJ3N1YnRyYWN0JywgJ211bHRpcGx5U2NhbGFyJywgJ2RpdmlkZVNjYWxhcicsICdwb3cnLCAnYWJzJywgJ2ZpeCcsICdyb3VuZCcsICdlcXVhbCcsICdpc051bWVyaWMnLCAnZm9ybWF0JywgJ251bWJlcicsICdDb21wbGV4JywgJ0JpZ051bWJlcicsICdGcmFjdGlvbiddO1xuZXhwb3J0IHZhciBjcmVhdGVVbml0Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBvbixcbiAgICBjb25maWcsXG4gICAgYWRkU2NhbGFyLFxuICAgIHN1YnRyYWN0LFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBwb3csXG4gICAgYWJzLFxuICAgIGZpeCxcbiAgICByb3VuZCxcbiAgICBlcXVhbCxcbiAgICBpc051bWVyaWMsXG4gICAgZm9ybWF0LFxuICAgIG51bWJlcixcbiAgICBDb21wbGV4LFxuICAgIEJpZ051bWJlcjogX0JpZ051bWJlcixcbiAgICBGcmFjdGlvbjogX0ZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuICB2YXIgdG9OdW1iZXIgPSBudW1iZXI7XG4gIC8qKlxuICAgKiBBIHVuaXQgY2FuIGJlIGNvbnN0cnVjdGVkIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAgICpcbiAgICogICAgIGNvbnN0IGEgPSBuZXcgVW5pdCh2YWx1ZSwgbmFtZSlcbiAgICogICAgIGNvbnN0IGIgPSBuZXcgVW5pdChudWxsLCBuYW1lKVxuICAgKiAgICAgY29uc3QgYyA9IFVuaXQucGFyc2Uoc3RyKVxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgICAgY29uc3QgYSA9IG5ldyBVbml0KDUsICdjbScpICAgICAgICAgICAgICAgLy8gNTAgbW1cbiAgICogICAgIGNvbnN0IGIgPSBVbml0LnBhcnNlKCcyMyBrZycpICAgICAgICAgICAgIC8vIDIzIGtnXG4gICAqICAgICBjb25zdCBjID0gbWF0aC5pbihhLCBuZXcgVW5pdChudWxsLCAnbScpICAvLyAwLjA1IG1cbiAgICogICAgIGNvbnN0IGQgPSBuZXcgVW5pdCg5LjgxLCBcIm0vc14yXCIpICAgICAgICAgLy8gOS44MSBtL3NeMlxuICAgKlxuICAgKiBAY2xhc3MgVW5pdFxuICAgKiBAY29uc3RydWN0b3IgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IGJvb2xlYW59IFt2YWx1ZV0gIEEgdmFsdWUgbGlrZSA1LjJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAgIEEgdW5pdCBuYW1lIGxpa2UgXCJjbVwiIG9yIFwiaW5jaFwiLCBvciBhIGRlcml2ZWQgdW5pdCBvZiB0aGUgZm9ybTogXCJ1MVteZXgxXSBbdTJbXmV4Ml0gLi4uXSBbLyB1M1teZXgzXSBbdTRbXmV4NF1dXVwiLCBzdWNoIGFzIFwia2cgbV4yL3NeMlwiLCB3aGVyZSBlYWNoIHVuaXQgYXBwZWFyaW5nIGFmdGVyIHRoZSBmb3J3YXJkIHNsYXNoIGlzIHRha2VuIHRvIGJlIGluIHRoZSBkZW5vbWluYXRvci4gXCJrZyBtXjIgc14tMlwiIGlzIGEgc3lub255bSBhbmQgaXMgYWxzbyBhY2NlcHRhYmxlLiBBbnkgb2YgdGhlIHVuaXRzIGNhbiBpbmNsdWRlIGEgcHJlZml4LlxuICAgKi9cblxuICBmdW5jdGlvbiBVbml0KHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVuaXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgaXNOdW1lcmljKHZhbHVlKSB8fCBpc0NvbXBsZXgodmFsdWUpKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgcGFyYW1ldGVyIGluIFVuaXQgY29uc3RydWN0b3IgbXVzdCBiZSBudW1iZXIsIEJpZ051bWJlciwgRnJhY3Rpb24sIENvbXBsZXgsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lID09PSAnJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBwYXJhbWV0ZXIgaW4gVW5pdCBjb25zdHJ1Y3RvciBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHUgPSBVbml0LnBhcnNlKG5hbWUpO1xuICAgICAgdGhpcy51bml0cyA9IHUudW5pdHM7XG4gICAgICB0aGlzLmRpbWVuc2lvbnMgPSB1LmRpbWVuc2lvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5pdHMgPSBbe1xuICAgICAgICB1bml0OiBVTklUX05PTkUsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORSxcbiAgICAgICAgLy8gbGluayB0byBhIGxpc3Qgd2l0aCBzdXBwb3J0ZWQgcHJlZml4ZXNcbiAgICAgICAgcG93ZXI6IDBcbiAgICAgIH1dO1xuICAgICAgdGhpcy5kaW1lbnNpb25zID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uc1tpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUodmFsdWUpIDogbnVsbDtcbiAgICB0aGlzLmZpeFByZWZpeCA9IGZhbHNlOyAvLyBpZiB0cnVlLCBmdW5jdGlvbiBmb3JtYXQgd2lsbCBub3Qgc2VhcmNoIGZvciB0aGVcbiAgICAvLyBiZXN0IHByZWZpeCBidXQgbGVhdmUgaXQgYXMgaW5pdGlhbGx5IHByb3ZpZGVkLlxuICAgIC8vIGZpeFByZWZpeCBpcyBzZXQgdHJ1ZSBieSB0aGUgbWV0aG9kIFVuaXQudG9cbiAgICAvLyBUaGUganVzdGlmaWNhdGlvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBleHBsaWNpdGx5IGNhbGxlZCxcbiAgICAvLyB0aGUgY2FsbGVyIHdpc2hlcyB0aGUgdW5pdHMgdG8gYmUgcmV0dXJuZWQgZXhhY3RseSBhcyBoZSBzdXBwbGllZC5cblxuICAgIHRoaXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50eXBlID0gJ1VuaXQnO1xuICBVbml0LnByb3RvdHlwZS5pc1VuaXQgPSB0cnVlOyAvLyBwcml2YXRlIHZhcmlhYmxlcyBhbmQgZnVuY3Rpb25zIGZvciB0aGUgVW5pdCBwYXJzZXJcblxuICB2YXIgdGV4dCwgaW5kZXgsIGM7XG5cbiAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgd2hpbGUgKGMgPT09ICcgJyB8fCBjID09PSAnXFx0Jykge1xuICAgICAgbmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRGlnaXREb3QoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JyB8fCBjID09PSAnLic7XG4gIH1cblxuICBmdW5jdGlvbiBpc0RpZ2l0KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOSc7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGluZGV4Kys7XG4gICAgYyA9IHRleHQuY2hhckF0KGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydChvbGRJbmRleCkge1xuICAgIGluZGV4ID0gb2xkSW5kZXg7XG4gICAgYyA9IHRleHQuY2hhckF0KGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlTnVtYmVyKCkge1xuICAgIHZhciBudW1iZXIgPSAnJztcbiAgICB2YXIgb2xkSW5kZXggPSBpbmRleDtcblxuICAgIGlmIChjID09PSAnKycpIHtcbiAgICAgIG5leHQoKTtcbiAgICB9IGVsc2UgaWYgKGMgPT09ICctJykge1xuICAgICAgbnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0RpZ2l0RG90KGMpKSB7XG4gICAgICAvLyBhICsgb3IgLSBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZGlnaXRcbiAgICAgIHJldmVydChvbGRJbmRleCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IC8vIGdldCBudW1iZXIsIGNhbiBoYXZlIGEgc2luZ2xlIGRvdFxuXG5cbiAgICBpZiAoYyA9PT0gJy4nKSB7XG4gICAgICBudW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcblxuICAgICAgaWYgKCFpc0RpZ2l0KGMpKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm8gbGVnYWwgbnVtYmVyLCBpdCBpcyBqdXN0IGEgZG90XG4gICAgICAgIHJldmVydChvbGRJbmRleCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoaXNEaWdpdChjKSkge1xuICAgICAgICBudW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYyA9PT0gJy4nKSB7XG4gICAgICAgIG51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2hpbGUgKGlzRGlnaXQoYykpIHtcbiAgICAgIG51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuICAgIH0gLy8gY2hlY2sgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uIGxpa2UgXCIyLjNlLTRcIiBvciBcIjEuMjNlNTBcIlxuXG5cbiAgICBpZiAoYyA9PT0gJ0UnIHx8IGMgPT09ICdlJykge1xuICAgICAgLy8gVGhlIGdyYW1tYXIgYnJhbmNoZXMgaGVyZS4gVGhpcyBjb3VsZCBlaXRoZXIgYmUgcGFydCBvZiBhbiBleHBvbmVudCBvciB0aGUgc3RhcnQgb2YgYSB1bml0IHRoYXQgYmVnaW5zIHdpdGggdGhlIGxldHRlciBlLCBzdWNoIGFzIFwiNGV4YWJ5dGVzXCJcbiAgICAgIHZhciB0ZW50YXRpdmVOdW1iZXIgPSAnJztcbiAgICAgIHZhciB0ZW50YXRpdmVJbmRleCA9IGluZGV4O1xuICAgICAgdGVudGF0aXZlTnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG5cbiAgICAgIGlmIChjID09PSAnKycgfHwgYyA9PT0gJy0nKSB7XG4gICAgICAgIHRlbnRhdGl2ZU51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9IC8vIFNjaWVudGlmaWMgbm90YXRpb24gTVVTVCBiZSBmb2xsb3dlZCBieSBhbiBleHBvbmVudCAob3RoZXJ3aXNlIHdlIGFzc3VtZSBpdCBpcyBub3Qgc2NpZW50aWZpYyBub3RhdGlvbilcblxuXG4gICAgICBpZiAoIWlzRGlnaXQoYykpIHtcbiAgICAgICAgLy8gVGhlIGUgb3IgRSBtdXN0IGJlbG9uZyB0byBzb21ldGhpbmcgZWxzZSwgc28gcmV0dXJuIHRoZSBudW1iZXIgd2l0aG91dCB0aGUgZSBvciBFLlxuICAgICAgICByZXZlcnQodGVudGF0aXZlSW5kZXgpO1xuICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgfSAvLyBXZSBjYW4gbm93IHNhZmVseSBzYXkgdGhhdCB0aGlzIGlzIHNjaWVudGlmaWMgbm90YXRpb24uXG5cblxuICAgICAgbnVtYmVyID0gbnVtYmVyICsgdGVudGF0aXZlTnVtYmVyO1xuXG4gICAgICB3aGlsZSAoaXNEaWdpdChjKSkge1xuICAgICAgICBudW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudW1iZXI7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVVuaXQoKSB7XG4gICAgdmFyIHVuaXROYW1lID0gJyc7IC8vIEFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIG9ubHk7IG1hdGNoZXMgW2EtekEtWjAtOV1cblxuICAgIHdoaWxlIChpc0RpZ2l0KGMpIHx8IFVuaXQuaXNWYWxpZEFscGhhKGMpKSB7XG4gICAgICB1bml0TmFtZSArPSBjO1xuICAgICAgbmV4dCgpO1xuICAgIH0gLy8gTXVzdCBiZWdpbiB3aXRoIFthLXpBLVpdXG5cblxuICAgIHZhciBmaXJzdEMgPSB1bml0TmFtZS5jaGFyQXQoMCk7XG5cbiAgICBpZiAoVW5pdC5pc1ZhbGlkQWxwaGEoZmlyc3RDKSkge1xuICAgICAgcmV0dXJuIHVuaXROYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUNoYXJhY3Rlcih0b0ZpbmQpIHtcbiAgICBpZiAoYyA9PT0gdG9GaW5kKSB7XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm4gdG9GaW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIGludG8gYSB1bml0LiBUaGUgdmFsdWUgb2YgdGhlIHVuaXQgaXMgcGFyc2VkIGFzIG51bWJlcixcbiAgICogQmlnTnVtYmVyLCBvciBGcmFjdGlvbiBkZXBlbmRpbmcgb24gdGhlIG1hdGguanMgY29uZmlnIHNldHRpbmcgYG51bWJlcmAuXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIHByb3ZpZGVkIHN0cmluZyBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgdW5pdCBvclxuICAgKiBjYW5ub3QgYmUgcGFyc2VkLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICBBIHN0cmluZyBsaWtlIFwiNS4yIGluY2hcIiwgXCI0ZTIgY20vc14yXCJcbiAgICogQHJldHVybiB7VW5pdH0gdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucGFyc2UgPSBmdW5jdGlvbiAoc3RyLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGV4dCA9IHN0cjtcbiAgICBpbmRleCA9IC0xO1xuICAgIGMgPSAnJztcblxuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgaW4gVW5pdC5wYXJzZSwgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgdmFyIHVuaXQgPSBuZXcgVW5pdCgpO1xuICAgIHVuaXQudW5pdHMgPSBbXTtcbiAgICB2YXIgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgdmFyIGV4cGVjdGluZ1VuaXQgPSBmYWxzZTsgLy8gQSB1bml0IHNob3VsZCBmb2xsb3cgdGhpcyBwYXR0ZXJuOlxuICAgIC8vIFtudW1iZXJdIC4uLlsgWyovXSB1bml0W15udW1iZXJdIF1cbiAgICAvLyB1bml0W15udW1iZXJdIC4uLiBbIFsqL10gdW5pdFtebnVtYmVyXSBdXG4gICAgLy8gUnVsZXM6XG4gICAgLy8gbnVtYmVyIGlzIGFueSBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgLy8gdW5pdCBpcyBhbnkgYWxwaGFudW1lcmljIHN0cmluZyBiZWdpbm5pbmcgd2l0aCBhbiBhbHBoYS4gVW5pdHMgd2l0aCBuYW1lcyBsaWtlIGUzIHNob3VsZCBiZSBhdm9pZGVkIGJlY2F1c2UgdGhleSBsb29rIGxpa2UgdGhlIGV4cG9uZW50IG9mIGEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyIVxuICAgIC8vIFRoZSBzdHJpbmcgbWF5IG9wdGlvbmFsbHkgYmVnaW4gd2l0aCBhIG51bWJlci5cbiAgICAvLyBFYWNoIHVuaXQgbWF5IG9wdGlvbmFsbHkgYmUgZm9sbG93ZWQgYnkgXm51bWJlci5cbiAgICAvLyBXaGl0ZXNwYWNlIG9yIGEgZm9yd2FyZCBzbGFzaCBpcyByZWNvbW1lbmRlZCBiZXR3ZWVuIGNvbnNlY3V0aXZlIHVuaXRzLCBhbHRob3VnaCB0aGUgZm9sbG93aW5nIHRlY2huaWNhbGx5IGlzIHBhcnNlYWJsZTpcbiAgICAvLyAgIDJtXjJrZy9zXjJcbiAgICAvLyBpdCBpcyBub3QgZ29vZCBmb3JtLiBJZiBhIHVuaXQgc3RhcnRzIHdpdGggZSwgdGhlbiBpdCBjb3VsZCBiZSBjb25mdXNlZCBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlcjpcbiAgICAvLyAgIDRlcmdcblxuICAgIG5leHQoKTtcbiAgICBza2lwV2hpdGVzcGFjZSgpOyAvLyBPcHRpb25hbCBudW1iZXIgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmdcblxuICAgIHZhciB2YWx1ZVN0ciA9IHBhcnNlTnVtYmVyKCk7XG4gICAgdmFyIHZhbHVlID0gbnVsbDtcblxuICAgIGlmICh2YWx1ZVN0cikge1xuICAgICAgaWYgKGNvbmZpZy5udW1iZXIgPT09ICdCaWdOdW1iZXInKSB7XG4gICAgICAgIHZhbHVlID0gbmV3IF9CaWdOdW1iZXIodmFsdWVTdHIpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcubnVtYmVyID09PSAnRnJhY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gbm90IGFsbCBudW1iZXJzIGNhbiBiZSB0dXJuZWQgaW4gRnJhY3Rpb25zLCBmb3IgZXhhbXBsZSB2ZXJ5IHNtYWxsIG51bWJlcnMgbm90XG4gICAgICAgICAgdmFsdWUgPSBuZXcgX0ZyYWN0aW9uKHZhbHVlU3RyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlU3RyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbnVtYmVyXG4gICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZVN0cik7XG4gICAgICB9XG5cbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7IC8vIFdoaXRlc3BhY2UgaXMgbm90IHJlcXVpcmVkIGhlcmVcbiAgICAgIC8vIGhhbmRsZSBtdWx0aXBsaWNhdGlvbiBvciBkaXZpc2lvbiByaWdodCBhZnRlciB0aGUgdmFsdWUsIGxpa2UgJzEvcydcblxuICAgICAgaWYgKHBhcnNlQ2hhcmFjdGVyKCcqJykpIHtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZUNoYXJhY3RlcignLycpKSB7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAtMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9XG4gICAgfSAvLyBTdGFjayB0byBrZWVwIHRyYWNrIG9mIHBvd2VyTXVsdGlwbGllcnMgYXBwbGllZCB0byBlYWNoIHBhcmVudGhlc2VzIGdyb3VwXG5cblxuICAgIHZhciBwb3dlck11bHRpcGxpZXJTdGFjayA9IFtdOyAvLyBSdW5uaW5nIHByb2R1Y3Qgb2YgYWxsIGVsZW1lbnRzIGluIHBvd2VyTXVsdGlwbGllclN0YWNrXG5cbiAgICB2YXIgcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0ID0gMTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBza2lwV2hpdGVzcGFjZSgpOyAvLyBDaGVjayBmb3IgYW5kIGNvbnN1bWUgb3BlbmluZyBwYXJlbnRoZXNlcywgcHVzaGluZyBwb3dlck11bHRpcGxpZXJDdXJyZW50IHRvIHRoZSBzdGFja1xuICAgICAgLy8gQSAnKCcgd2lsbCBhbHdheXMgYXBwZWFyIGRpcmVjdGx5IGJlZm9yZSBhIHVuaXQuXG5cbiAgICAgIHdoaWxlIChjID09PSAnKCcpIHtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyU3RhY2sucHVzaChwb3dlck11bHRpcGxpZXJDdXJyZW50KTtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0ICo9IHBvd2VyTXVsdGlwbGllckN1cnJlbnQ7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICB9IC8vIElzIHRoZXJlIHNvbWV0aGluZyBoZXJlP1xuXG5cbiAgICAgIHZhciB1U3RyID0gdm9pZCAwO1xuXG4gICAgICBpZiAoYykge1xuICAgICAgICB2YXIgb2xkQyA9IGM7XG4gICAgICAgIHVTdHIgPSBwYXJzZVVuaXQoKTtcblxuICAgICAgICBpZiAodVN0ciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5leHBlY3RlZCBcIicgKyBvbGRDICsgJ1wiIGluIFwiJyArIHRleHQgKyAnXCIgYXQgaW5kZXggJyArIGluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbmQgb2YgaW5wdXQuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBWZXJpZnkgdGhlIHVuaXQgZXhpc3RzIGFuZCBnZXQgdGhlIHByZWZpeCAoaWYgYW55KVxuXG5cbiAgICAgIHZhciByZXMgPSBfZmluZFVuaXQodVN0cik7XG5cbiAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVW5pdCBub3QgZm91bmQuXG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5pdCBcIicgKyB1U3RyICsgJ1wiIG5vdCBmb3VuZC4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvd2VyID0gcG93ZXJNdWx0aXBsaWVyQ3VycmVudCAqIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdDsgLy8gSXMgdGhlcmUgYSBcIl4gbnVtYmVyXCI/XG5cbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG5cbiAgICAgIGlmIChwYXJzZUNoYXJhY3RlcignXicpKSB7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICAgIHZhciBwID0gcGFyc2VOdW1iZXIoKTtcblxuICAgICAgICBpZiAocCA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIHZhbGlkIG51bWJlciBmb3VuZCBmb3IgdGhlIHBvd2VyIVxuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignSW4gXCInICsgc3RyICsgJ1wiLCBcIl5cIiBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3dlciAqPSBwO1xuICAgICAgfSAvLyBBZGQgdGhlIHVuaXQgdG8gdGhlIGxpc3RcblxuXG4gICAgICB1bml0LnVuaXRzLnB1c2goe1xuICAgICAgICB1bml0OiByZXMudW5pdCxcbiAgICAgICAgcHJlZml4OiByZXMucHJlZml4LFxuICAgICAgICBwb3dlcjogcG93ZXJcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1bml0LmRpbWVuc2lvbnNbaV0gKz0gKHJlcy51bml0LmRpbWVuc2lvbnNbaV0gfHwgMCkgKiBwb3dlcjtcbiAgICAgIH0gLy8gQ2hlY2sgZm9yIGFuZCBjb25zdW1lIGNsb3NpbmcgcGFyZW50aGVzZXMsIHBvcHBpbmcgZnJvbSB0aGUgc3RhY2suXG4gICAgICAvLyBBICcpJyB3aWxsIGFsd2F5cyBmb2xsb3cgYSB1bml0LlxuXG5cbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG5cbiAgICAgIHdoaWxlIChjID09PSAnKScpIHtcbiAgICAgICAgaWYgKHBvd2VyTXVsdGlwbGllclN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5tYXRjaGVkIFwiKVwiIGluIFwiJyArIHRleHQgKyAnXCIgYXQgaW5kZXggJyArIGluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0IC89IHBvd2VyTXVsdGlwbGllclN0YWNrLnBvcCgpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICB9IC8vIFwiKlwiIGFuZCBcIi9cIiBzaG91bGQgbWVhbiB3ZSBhcmUgZXhwZWN0aW5nIHNvbWV0aGluZyB0byBjb21lIG5leHQuXG4gICAgICAvLyBJcyB0aGVyZSBhIGZvcndhcmQgc2xhc2g/IElmIHNvLCBuZWdhdGUgcG93ZXJNdWx0aXBsaWVyQ3VycmVudC4gVGhlIG5leHQgdW5pdCBvciBwYXJlbiBncm91cCBpcyBpbiB0aGUgZGVub21pbmF0b3IuXG5cblxuICAgICAgZXhwZWN0aW5nVW5pdCA9IGZhbHNlO1xuXG4gICAgICBpZiAocGFyc2VDaGFyYWN0ZXIoJyonKSkge1xuICAgICAgICAvLyBleHBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlQ2hhcmFjdGVyKCcvJykpIHtcbiAgICAgICAgLy8gZGl2aXNpb25cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IC0xO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgfSAvLyBSZXBsYWNlIHRoZSB1bml0IGludG8gdGhlIGF1dG8gdW5pdCBzeXN0ZW1cblxuXG4gICAgICBpZiAocmVzLnVuaXQuYmFzZSkge1xuICAgICAgICB2YXIgYmFzZURpbSA9IHJlcy51bml0LmJhc2Uua2V5O1xuICAgICAgICBVTklUX1NZU1RFTVMuYXV0b1tiYXNlRGltXSA9IHtcbiAgICAgICAgICB1bml0OiByZXMudW5pdCxcbiAgICAgICAgICBwcmVmaXg6IHJlcy5wcmVmaXhcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IC8vIEhhcyB0aGUgc3RyaW5nIGJlZW4gZW50aXJlbHkgY29uc3VtZWQ/XG5cblxuICAgIHNraXBXaGl0ZXNwYWNlKCk7XG5cbiAgICBpZiAoYykge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb3VsZCBub3QgcGFyc2U6IFwiJyArIHN0ciArICdcIicpO1xuICAgIH0gLy8gSXMgdGhlcmUgYSB0cmFpbGluZyBzbGFzaD9cblxuXG4gICAgaWYgKGV4cGVjdGluZ1VuaXQpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVHJhaWxpbmcgY2hhcmFjdGVyczogXCInICsgc3RyICsgJ1wiJyk7XG4gICAgfSAvLyBJcyB0aGUgcGFyZW50aGVzZXMgc3RhY2sgZW1wdHk/XG5cblxuICAgIGlmIChwb3dlck11bHRpcGxpZXJTdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5tYXRjaGVkIFwiKFwiIGluIFwiJyArIHRleHQgKyAnXCInKTtcbiAgICB9IC8vIEFyZSB0aGVyZSBhbnkgdW5pdHMgYXQgYWxsP1xuXG5cbiAgICBpZiAodW5pdC51bml0cy5sZW5ndGggPT09IDAgJiYgIW9wdGlvbnMuYWxsb3dOb1VuaXRzKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1wiJyArIHN0ciArICdcIiBjb250YWlucyBubyB1bml0cycpO1xuICAgIH1cblxuICAgIHVuaXQudmFsdWUgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdW5pdC5fbm9ybWFsaXplKHZhbHVlKSA6IG51bGw7XG4gICAgcmV0dXJuIHVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBjcmVhdGUgYSBjb3B5IG9mIHRoaXMgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtVbml0fSBSZXR1cm5zIGEgY2xvbmVkIHZlcnNpb24gb2YgdGhlIHVuaXRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdW5pdCA9IG5ldyBVbml0KCk7XG4gICAgdW5pdC5maXhQcmVmaXggPSB0aGlzLmZpeFByZWZpeDtcbiAgICB1bml0LnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRoaXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uO1xuICAgIHVuaXQudmFsdWUgPSBjbG9uZSh0aGlzLnZhbHVlKTtcbiAgICB1bml0LmRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnMuc2xpY2UoMCk7XG4gICAgdW5pdC51bml0cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1bml0LnVuaXRzW2ldID0ge307XG5cbiAgICAgIGZvciAodmFyIHAgaW4gdGhpcy51bml0c1tpXSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy51bml0c1tpXSwgcCkpIHtcbiAgICAgICAgICB1bml0LnVuaXRzW2ldW3BdID0gdGhpcy51bml0c1tpXVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bml0O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhlIHVuaXQgaXMgZGVyaXZlZCAoc3VjaCBhcyBtL3MsIG9yIGNtXjIsIGJ1dCBub3QgTilcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdW5pdCBpcyBkZXJpdmVkXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX2lzRGVyaXZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy51bml0cy5sZW5ndGggPiAxIHx8IE1hdGguYWJzKHRoaXMudW5pdHNbMF0ucG93ZXIgLSAxLjApID4gMWUtMTU7XG4gIH07XG4gIC8qKlxuICAgKiBOb3JtYWxpemUgYSB2YWx1ZSwgYmFzZWQgb24gaXRzIGN1cnJlbnRseSBzZXQgdW5pdChzKVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbn0gdmFsdWVcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFufSBub3JtYWxpemVkIHZhbHVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX25vcm1hbGl6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciB1bml0VmFsdWUsIHVuaXRPZmZzZXQsIHVuaXRQb3dlciwgdW5pdFByZWZpeFZhbHVlO1xuICAgIHZhciBjb252ZXJ0O1xuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdGhpcy51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzRGVyaXZlZCgpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgZGVyaXZlZCB1bml0LCBzbyBkbyBub3QgYXBwbHkgb2Zmc2V0cy5cbiAgICAgIC8vIEZvciBleGFtcGxlLCB3aXRoIEoga2deLTEgZGVnQ14tMSB5b3Ugd291bGQgTk9UIHdhbnQgdG8gYXBwbHkgdGhlIG9mZnNldC5cbiAgICAgIHZhciByZXMgPSB2YWx1ZTtcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnVuaXQudmFsdWUpO1xuICAgICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucHJlZml4LnZhbHVlKTtcbiAgICAgICAgdW5pdFBvd2VyID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnBvd2VyKTtcbiAgICAgICAgcmVzID0gbXVsdGlwbHlTY2FsYXIocmVzLCBwb3cobXVsdGlwbHlTY2FsYXIodW5pdFZhbHVlLCB1bml0UHJlZml4VmFsdWUpLCB1bml0UG93ZXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSB1bml0IG9mIHBvd2VyIDEsIGxpa2Uga2cgb3IgZGVnQ1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0LnZhbHVlKTtcbiAgICAgIHVuaXRPZmZzZXQgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC5vZmZzZXQpO1xuICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnByZWZpeC52YWx1ZSk7XG4gICAgICByZXR1cm4gbXVsdGlwbHlTY2FsYXIoYWRkU2NhbGFyKHZhbHVlLCB1bml0T2Zmc2V0KSwgbXVsdGlwbHlTY2FsYXIodW5pdFZhbHVlLCB1bml0UHJlZml4VmFsdWUpKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBEZW5vcm1hbGl6ZSBhIHZhbHVlLCBiYXNlZCBvbiBpdHMgY3VycmVudGx5IHNldCB1bml0KHMpXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWZpeFZhbHVlXSAgICBPcHRpb25hbCBwcmVmaXggdmFsdWUgdG8gYmUgdXNlZCAoaWdub3JlZCBpZiB0aGlzIGlzIGEgZGVyaXZlZCB1bml0KVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGRlbm9ybWFsaXplZCB2YWx1ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9kZW5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJlZml4VmFsdWUpIHtcbiAgICB2YXIgdW5pdFZhbHVlLCB1bml0T2Zmc2V0LCB1bml0UG93ZXIsIHVuaXRQcmVmaXhWYWx1ZTtcbiAgICB2YXIgY29udmVydDtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc0Rlcml2ZWQoKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIGRlcml2ZWQgdW5pdCwgc28gZG8gbm90IGFwcGx5IG9mZnNldHMuXG4gICAgICAvLyBGb3IgZXhhbXBsZSwgd2l0aCBKIGtnXi0xIGRlZ0NeLTEgeW91IHdvdWxkIE5PVCB3YW50IHRvIGFwcGx5IHRoZSBvZmZzZXQuXG4gICAgICAvLyBBbHNvLCBwcmVmaXhWYWx1ZSBpcyBpZ25vcmVkLS1idXQgd2Ugd2lsbCBzdGlsbCB1c2UgdGhlIHByZWZpeCB2YWx1ZSBzdG9yZWQgaW4gZWFjaCB1bml0LCBzaW5jZSBrZyBpcyB1c3VhbGx5IHByZWZlcmFibGUgdG8gZyB1bmxlc3MgdGhlIHVzZXIgZGVjaWRlcyBvdGhlcndpc2UuXG4gICAgICB2YXIgcmVzID0gdmFsdWU7XG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS51bml0LnZhbHVlKTtcbiAgICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnByZWZpeC52YWx1ZSk7XG4gICAgICAgIHVuaXRQb3dlciA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wb3dlcik7XG4gICAgICAgIHJlcyA9IGRpdmlkZVNjYWxhcihyZXMsIHBvdyhtdWx0aXBseVNjYWxhcih1bml0VmFsdWUsIHVuaXRQcmVmaXhWYWx1ZSksIHVuaXRQb3dlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc2luZ2xlIHVuaXQgb2YgcG93ZXIgMSwgbGlrZSBrZyBvciBkZWdDXG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQudmFsdWUpO1xuICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnByZWZpeC52YWx1ZSk7XG4gICAgICB1bml0T2Zmc2V0ID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQub2Zmc2V0KTtcblxuICAgICAgaWYgKHByZWZpeFZhbHVlID09PSB1bmRlZmluZWQgfHwgcHJlZml4VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN1YnRyYWN0KGRpdmlkZVNjYWxhcihkaXZpZGVTY2FsYXIodmFsdWUsIHVuaXRWYWx1ZSksIHVuaXRQcmVmaXhWYWx1ZSksIHVuaXRPZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN1YnRyYWN0KGRpdmlkZVNjYWxhcihkaXZpZGVTY2FsYXIodmFsdWUsIHVuaXRWYWx1ZSksIHByZWZpeFZhbHVlKSwgdW5pdE9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRmluZCBhIHVuaXQgZnJvbSBhIHN0cmluZ1xuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICAgICAgICBBIHN0cmluZyBsaWtlICdjbScgb3IgJ2luY2gnXG4gICAqIEByZXR1cm5zIHtPYmplY3QgfCBudWxsfSByZXN1bHQgIFdoZW4gZm91bmQsIGFuIG9iamVjdCB3aXRoIGZpZWxkcyB1bml0IGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXggaXMgcmV0dXJuZWQuIEVsc2UsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmFyIF9maW5kVW5pdCA9IG1lbW9pemUoc3RyID0+IHtcbiAgICAvLyBGaXJzdCwgbWF0Y2ggdW5pdHMgbmFtZXMgZXhhY3RseS4gRm9yIGV4YW1wbGUsIGEgdXNlciBjb3VsZCBkZWZpbmUgJ21tJyBhcyAxMF4tNCBtLCB3aGljaCBpcyBzaWxseSwgYnV0IHRoZW4gd2Ugd291bGQgd2FudCAnbW0nIHRvIG1hdGNoIHRoZSB1c2VyLWRlZmluZWQgdW5pdC5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIHN0cikpIHtcbiAgICAgIHZhciB1bml0ID0gVU5JVFNbc3RyXTtcbiAgICAgIHZhciBwcmVmaXggPSB1bml0LnByZWZpeGVzWycnXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuaXQsXG4gICAgICAgIHByZWZpeFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbmFtZSBpbiBVTklUUykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBfbmFtZSkpIHtcbiAgICAgICAgaWYgKGVuZHNXaXRoKHN0ciwgX25hbWUpKSB7XG4gICAgICAgICAgdmFyIF91bml0ID0gVU5JVFNbX25hbWVdO1xuICAgICAgICAgIHZhciBwcmVmaXhMZW4gPSBzdHIubGVuZ3RoIC0gX25hbWUubGVuZ3RoO1xuICAgICAgICAgIHZhciBwcmVmaXhOYW1lID0gc3RyLnN1YnN0cmluZygwLCBwcmVmaXhMZW4pO1xuXG4gICAgICAgICAgdmFyIF9wcmVmaXggPSBoYXNPd25Qcm9wZXJ0eShfdW5pdC5wcmVmaXhlcywgcHJlZml4TmFtZSkgPyBfdW5pdC5wcmVmaXhlc1twcmVmaXhOYW1lXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChfcHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHN0b3JlIHVuaXQsIHByZWZpeCwgYW5kIHZhbHVlXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB1bml0OiBfdW5pdCxcbiAgICAgICAgICAgICAgcHJlZml4OiBfcHJlZml4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LCB7XG4gICAgaGFzaGVyOiBhcmdzID0+IGFyZ3NbMF0sXG4gICAgbGltaXQ6IDEwMFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGdpdmVuIGV4cHJlc3Npb24gaXMgYSB1bml0LlxuICAgKiBUaGUgdW5pdCBjYW4gaGF2ZSBhIHByZWZpeCBidXQgY2Fubm90IGhhdmUgYSB2YWx1ZS5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICBBIHN0cmluZyB0byBiZSB0ZXN0ZWQgd2hldGhlciBpdCBpcyBhIHZhbHVlIGxlc3MgdW5pdC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICBUaGUgdW5pdCBjYW4gaGF2ZSBwcmVmaXgsIGxpa2UgXCJjbVwiXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGEgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQuaXNWYWx1ZWxlc3NVbml0ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gX2ZpbmRVbml0KG5hbWUpICE9PSBudWxsO1xuICB9O1xuICAvKipcbiAgICogY2hlY2sgaWYgdGhpcyB1bml0IGhhcyBnaXZlbiBiYXNlIHVuaXRcbiAgICogSWYgdGhpcyB1bml0IGlzIGEgZGVyaXZlZCB1bml0LCB0aGlzIHdpbGwgQUxXQVlTIHJldHVybiBmYWxzZSwgc2luY2UgYnkgZGVmaW5pdGlvbiBiYXNlIHVuaXRzIGFyZSBub3QgZGVyaXZlZC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtCQVNFX1VOSVRTIHwgc3RyaW5nIHwgdW5kZWZpbmVkfSBiYXNlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuaGFzQmFzZSA9IGZ1bmN0aW9uIChiYXNlKSB7XG4gICAgaWYgKHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJykge1xuICAgICAgYmFzZSA9IEJBU0VfVU5JVFNbYmFzZV07XG4gICAgfVxuXG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBBbGwgZGltZW5zaW9ucyBtdXN0IGJlIHRoZSBzYW1lXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoTWF0aC5hYnMoKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAtIChiYXNlLmRpbWVuc2lvbnNbaV0gfHwgMCkpID4gMWUtMTIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyB1bml0IGhhcyBhIGJhc2Ugb3IgYmFzZXMgZXF1YWwgdG8gYW5vdGhlciBiYXNlIG9yIGJhc2VzXG4gICAqIEZvciBkZXJpdmVkIHVuaXRzLCB0aGUgZXhwb25lbnQgb24gZWFjaCBiYXNlIGFsc28gbXVzdCBtYXRjaFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgZXF1YWwgYmFzZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmVxdWFsQmFzZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIC8vIEFsbCBkaW1lbnNpb25zIG11c3QgYmUgdGhlIHNhbWVcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKE1hdGguYWJzKCh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgLSAob3RoZXIuZGltZW5zaW9uc1tpXSB8fCAwKSkgPiAxZS0xMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIHVuaXQgZXF1YWxzIGFub3RoZXIgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgYm90aCB1bml0cyBhcmUgZXF1YWxcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5lcXVhbEJhc2Uob3RoZXIpICYmIGVxdWFsKHRoaXMudmFsdWUsIG90aGVyLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIE11bHRpcGx5IHRoaXMgdW5pdCB3aXRoIGFub3RoZXIgb25lXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7VW5pdH0gcHJvZHVjdCBvZiB0aGlzIHVuaXQgYW5kIHRoZSBvdGhlciB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIERpbWVuc2lvbnMgYXJyYXlzIG1heSBiZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gRGVmYXVsdCB0byAwLlxuICAgICAgcmVzLmRpbWVuc2lvbnNbaV0gPSAodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApICsgKG90aGVyLmRpbWVuc2lvbnNbaV0gfHwgMCk7XG4gICAgfSAvLyBBcHBlbmQgb3RoZXIncyB1bml0cyBsaXN0IG9udG8gcmVzXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBvdGhlci51bml0cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIC8vIE1ha2UgYSBzaGFsbG93IGNvcHkgb2YgZXZlcnkgdW5pdFxuICAgICAgdmFyIGludmVydGVkID0gX29iamVjdFNwcmVhZCh7fSwgb3RoZXIudW5pdHNbX2ldKTtcblxuICAgICAgcmVzLnVuaXRzLnB1c2goaW52ZXJ0ZWQpO1xuICAgIH0gLy8gSWYgYXQgbGVhc3Qgb25lIG9wZXJhbmQgaGFzIGEgdmFsdWUsIHRoZW4gdGhlIHJlc3VsdCBzaG91bGQgYWxzbyBoYXZlIGEgdmFsdWVcblxuXG4gICAgaWYgKHRoaXMudmFsdWUgIT09IG51bGwgfHwgb3RoZXIudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciB2YWxUaGlzID0gdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSgxKSA6IHRoaXMudmFsdWU7XG4gICAgICB2YXIgdmFsT3RoZXIgPSBvdGhlci52YWx1ZSA9PT0gbnVsbCA/IG90aGVyLl9ub3JtYWxpemUoMSkgOiBvdGhlci52YWx1ZTtcbiAgICAgIHJlcy52YWx1ZSA9IG11bHRpcGx5U2NhbGFyKHZhbFRoaXMsIHZhbE90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGdldE51bWVyaWNJZlVuaXRsZXNzKHJlcyk7XG4gIH07XG4gIC8qKlxuICAgKiBEaXZpZGUgdGhpcyB1bml0IGJ5IGFub3RoZXIgb25lXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7VW5pdH0gcmVzdWx0IG9mIGRpdmlkaW5nIHRoaXMgdW5pdCBieSB0aGUgb3RoZXIgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmRpdmlkZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHZhciByZXMgPSB0aGlzLmNsb25lKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gRGltZW5zaW9ucyBhcnJheXMgbWF5IGJlIG9mIGRpZmZlcmVudCBsZW5ndGhzLiBEZWZhdWx0IHRvIDAuXG4gICAgICByZXMuZGltZW5zaW9uc1tpXSA9ICh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgLSAob3RoZXIuZGltZW5zaW9uc1tpXSB8fCAwKTtcbiAgICB9IC8vIEludmVydCBhbmQgYXBwZW5kIG90aGVyJ3MgdW5pdHMgbGlzdCBvbnRvIHJlc1xuXG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBvdGhlci51bml0cy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAvLyBNYWtlIGEgc2hhbGxvdyBjb3B5IG9mIGV2ZXJ5IHVuaXRcbiAgICAgIHZhciBpbnZlcnRlZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3RoZXIudW5pdHNbX2kyXSksIHt9LCB7XG4gICAgICAgIHBvd2VyOiAtb3RoZXIudW5pdHNbX2kyXS5wb3dlclxuICAgICAgfSk7XG5cbiAgICAgIHJlcy51bml0cy5wdXNoKGludmVydGVkKTtcbiAgICB9IC8vIElmIGF0IGxlYXN0IG9uZSBvcGVyYW5kIGhhcyBhIHZhbHVlLCB0aGUgcmVzdWx0IHNob3VsZCBoYXZlIGEgdmFsdWVcblxuXG4gICAgaWYgKHRoaXMudmFsdWUgIT09IG51bGwgfHwgb3RoZXIudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciB2YWxUaGlzID0gdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSgxKSA6IHRoaXMudmFsdWU7XG4gICAgICB2YXIgdmFsT3RoZXIgPSBvdGhlci52YWx1ZSA9PT0gbnVsbCA/IG90aGVyLl9ub3JtYWxpemUoMSkgOiBvdGhlci52YWx1ZTtcbiAgICAgIHJlcy52YWx1ZSA9IGRpdmlkZVNjYWxhcih2YWxUaGlzLCB2YWxPdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgIHJldHVybiBnZXROdW1lcmljSWZVbml0bGVzcyhyZXMpO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiBhIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlcn0gcFxuICAgKiBAcmV0dXJucyB7VW5pdH0gICAgICBUaGUgcmVzdWx0OiB0aGlzXnBcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbiAocCkge1xuICAgIHZhciByZXMgPSB0aGlzLmNsb25lKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gRGltZW5zaW9ucyBhcnJheXMgbWF5IGJlIG9mIGRpZmZlcmVudCBsZW5ndGhzLiBEZWZhdWx0IHRvIDAuXG4gICAgICByZXMuZGltZW5zaW9uc1tpXSA9ICh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgKiBwO1xuICAgIH0gLy8gQWRqdXN0IHRoZSBwb3dlciBvZiBlYWNoIHVuaXQgaW4gdGhlIGxpc3RcblxuXG4gICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgcmVzLnVuaXRzLmxlbmd0aDsgX2kzKyspIHtcbiAgICAgIHJlcy51bml0c1tfaTNdLnBvd2VyICo9IHA7XG4gICAgfVxuXG4gICAgaWYgKHJlcy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgcmVzLnZhbHVlID0gcG93KHJlcy52YWx1ZSwgcCk7IC8vIG9ubHkgYWxsb3cgbnVtZXJpYyBvdXRwdXQsIHdlIGRvbid0IHdhbnQgdG8gcmV0dXJuIGEgQ29tcGxleCBudW1iZXJcbiAgICAgIC8vIGlmICghaXNOdW1lcmljKHJlcy52YWx1ZSkpIHtcbiAgICAgIC8vICByZXMudmFsdWUgPSBOYU5cbiAgICAgIC8vIH1cbiAgICAgIC8vIFVwZGF0ZTogQ29tcGxleCBzdXBwb3J0ZWQgbm93XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgIHJldHVybiBnZXROdW1lcmljSWZVbml0bGVzcyhyZXMpO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSBudW1lcmljIHZhbHVlIG9mIHRoaXMgdW5pdCBpZiBpdCBpcyBkaW1lbnNpb25sZXNzLCBoYXMgYSB2YWx1ZSwgYW5kIGNvbmZpZy5wcmVkaWN0YWJsZSA9PSBmYWxzZTsgb3IgdGhlIG9yaWdpbmFsIHVuaXQgb3RoZXJ3aXNlXG4gICAqIEBwYXJhbSB7VW5pdH0gdW5pdFxuICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBVbml0fSAgVGhlIG51bWVyaWMgdmFsdWUgb2YgdGhlIHVuaXQgaWYgY29uZGl0aW9ucyBhcmUgbWV0LCBvciB0aGUgb3JpZ2luYWwgdW5pdCBvdGhlcndpc2VcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXROdW1lcmljSWZVbml0bGVzcyh1bml0KSB7XG4gICAgaWYgKHVuaXQuZXF1YWxCYXNlKEJBU0VfVU5JVFMuTk9ORSkgJiYgdW5pdC52YWx1ZSAhPT0gbnVsbCAmJiAhY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICByZXR1cm4gdW5pdC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGFic29sdXRlIHZhbHVlIG9mIGEgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyfSB4XG4gICAqIEByZXR1cm5zIHtVbml0fSAgICAgIFRoZSByZXN1bHQ6IHx4fCwgYWJzb2x1dGUgdmFsdWUgb2YgeFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmFicyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaGlzIGdpdmVzIGNvcnJlY3QsIGJ1dCB1bmV4cGVjdGVkLCByZXN1bHRzIGZvciB1bml0cyB3aXRoIGFuIG9mZnNldC5cbiAgICAvLyBGb3IgZXhhbXBsZSwgYWJzKC0yODMuMTUgZGVnQykgPSAtMjYzLjE1IGRlZ0MgISEhXG4gICAgdmFyIHJldCA9IHRoaXMuY2xvbmUoKTtcbiAgICByZXQudmFsdWUgPSByZXQudmFsdWUgIT09IG51bGwgPyBhYnMocmV0LnZhbHVlKSA6IG51bGw7XG5cbiAgICBmb3IgKHZhciBpIGluIHJldC51bml0cykge1xuICAgICAgaWYgKHJldC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQScgfHwgcmV0LnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBUicpIHtcbiAgICAgICAgcmV0LnVuaXRzW2ldLnVuaXQgPSBVTklUUy5XO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBDb252ZXJ0IHRoZSB1bml0IHRvIGEgc3BlY2lmaWMgdW5pdCBuYW1lLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IFVuaXR9IHZhbHVlbGVzc1VuaXQgICBBIHVuaXQgd2l0aG91dCB2YWx1ZS4gQ2FuIGhhdmUgcHJlZml4LCBsaWtlIFwiY21cIlxuICAgKiBAcmV0dXJucyB7VW5pdH0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSB1bml0IHdpdGggYSBmaXhlZCBwcmVmaXggYW5kIHVuaXQuXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAodmFsdWVsZXNzVW5pdCkge1xuICAgIHZhciBvdGhlcjtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKDEpIDogdGhpcy52YWx1ZTtcblxuICAgIGlmICh0eXBlb2YgdmFsdWVsZXNzVW5pdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIG90aGVyID0gbmV3IFVuaXQobnVsbCwgdmFsdWVsZXNzVW5pdClcbiAgICAgIG90aGVyID0gVW5pdC5wYXJzZSh2YWx1ZWxlc3NVbml0KTtcblxuICAgICAgaWYgKCF0aGlzLmVxdWFsQmFzZShvdGhlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pdHMgZG8gbm90IG1hdGNoICgnXCIuY29uY2F0KG90aGVyLnRvU3RyaW5nKCksIFwiJyAhPSAnXCIpLmNvbmNhdCh0aGlzLnRvU3RyaW5nKCksIFwiJylcIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXIudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCB0byBhIHVuaXQgd2l0aCBhIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIG90aGVyLnZhbHVlID0gY2xvbmUodmFsdWUpO1xuICAgICAgb3RoZXIuZml4UHJlZml4ID0gdHJ1ZTtcbiAgICAgIG90aGVyLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gICAgICByZXR1cm4gb3RoZXI7XG4gICAgfSBlbHNlIGlmIChpc1VuaXQodmFsdWVsZXNzVW5pdCkpIHtcbiAgICAgIGlmICghdGhpcy5lcXVhbEJhc2UodmFsdWVsZXNzVW5pdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pdHMgZG8gbm90IG1hdGNoICgnXCIuY29uY2F0KHZhbHVlbGVzc1VuaXQudG9TdHJpbmcoKSwgXCInICE9ICdcIikuY29uY2F0KHRoaXMudG9TdHJpbmcoKSwgXCInKVwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZWxlc3NVbml0LnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgdG8gYSB1bml0IHdpdGggYSB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBvdGhlciA9IHZhbHVlbGVzc1VuaXQuY2xvbmUoKTtcbiAgICAgIG90aGVyLnZhbHVlID0gY2xvbmUodmFsdWUpO1xuICAgICAgb3RoZXIuZml4UHJlZml4ID0gdHJ1ZTtcbiAgICAgIG90aGVyLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gICAgICByZXR1cm4gb3RoZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3RyaW5nIG9yIFVuaXQgZXhwZWN0ZWQgYXMgcGFyYW1ldGVyJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCB3aGVuIHJlcHJlc2VudGVkIHdpdGggZ2l2ZW4gdmFsdWVsZXNzIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBVbml0fSB2YWx1ZWxlc3NVbml0ICAgIEZvciBleGFtcGxlICdjbScgb3IgJ2luY2gnXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgdW5pdCB2YWx1ZSBhcyBudW1iZXIuXG4gICAqL1xuICAvLyBUT0RPOiBkZXByZWNhdGUgVW5pdC50b051bWJlcj8gSXQncyBhbHdheXMgYmV0dGVyIHRvIHVzZSB0b051bWVyaWNcblxuXG4gIFVuaXQucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gKHZhbHVlbGVzc1VuaXQpIHtcbiAgICByZXR1cm4gdG9OdW1iZXIodGhpcy50b051bWVyaWModmFsdWVsZXNzVW5pdCkpO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBpbiB0aGUgb3JpZ2luYWwgbnVtZXJpYyB0eXBlXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgVW5pdH0gdmFsdWVsZXNzVW5pdCAgICBGb3IgZXhhbXBsZSAnY20nIG9yICdpbmNoJ1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbn0gUmV0dXJucyB0aGUgdW5pdCB2YWx1ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvTnVtZXJpYyA9IGZ1bmN0aW9uICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgdmFyIG90aGVyO1xuXG4gICAgaWYgKHZhbHVlbGVzc1VuaXQpIHtcbiAgICAgIC8vIEFsbG93IGdldHRpbmcgdGhlIG51bWVyaWMgdmFsdWUgd2l0aG91dCBjb252ZXJ0aW5nIHRvIGEgZGlmZmVyZW50IHVuaXRcbiAgICAgIG90aGVyID0gdGhpcy50byh2YWx1ZWxlc3NVbml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIgPSB0aGlzLmNsb25lKCk7XG4gICAgfVxuXG4gICAgaWYgKG90aGVyLl9pc0Rlcml2ZWQoKSB8fCBvdGhlci51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBvdGhlci5fZGVub3JtYWxpemUob3RoZXIudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3RoZXIuX2Rlbm9ybWFsaXplKG90aGVyLnZhbHVlLCBvdGhlci51bml0c1swXS5wcmVmaXgudmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdCgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlVuaXRcIiwgXCJ2YWx1ZVwiOiAyLCBcInVuaXRcIjogXCJjbVwiLCBcImZpeFByZWZpeFwiOiBmYWxzZX1gXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdVbml0JyxcbiAgICAgIHZhbHVlOiB0aGlzLl9kZW5vcm1hbGl6ZSh0aGlzLnZhbHVlKSxcbiAgICAgIHVuaXQ6IHRoaXMuZm9ybWF0VW5pdHMoKSxcbiAgICAgIGZpeFByZWZpeDogdGhpcy5maXhQcmVmaXhcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBVbml0IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlVuaXRcIiwgXCJ2YWx1ZVwiOiAyLCBcInVuaXRcIjogXCJjbVwiLCBcImZpeFByZWZpeFwiOiBmYWxzZX1gXG4gICAqIEByZXR1cm4ge1VuaXR9XG4gICAqL1xuXG5cbiAgVW5pdC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgdmFyIHVuaXQgPSBuZXcgVW5pdChqc29uLnZhbHVlLCBqc29uLnVuaXQpO1xuICAgIHVuaXQuZml4UHJlZml4ID0ganNvbi5maXhQcmVmaXggfHwgZmFsc2U7XG4gICAgcmV0dXJuIHVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS52YWx1ZU9mID0gVW5pdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBTaW1wbGlmeSB0aGlzIFVuaXQncyB1bml0IGxpc3QgYW5kIHJldHVybiBhIG5ldyBVbml0IHdpdGggdGhlIHNpbXBsaWZpZWQgbGlzdC5cbiAgICogVGhlIHJldHVybmVkIFVuaXQgd2lsbCBjb250YWluIGEgbGlzdCBvZiB0aGUgXCJiZXN0XCIgdW5pdHMgZm9yIGZvcm1hdHRpbmcuXG4gICAqL1xuXG4gIFVuaXQucHJvdG90eXBlLnNpbXBsaWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHByb3Bvc2VkVW5pdExpc3QgPSBbXTsgLy8gU2VhcmNoIGZvciBhIG1hdGNoaW5nIGJhc2VcblxuICAgIHZhciBtYXRjaGluZ0Jhc2U7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gY3VycmVudFVuaXRTeXN0ZW0pIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjdXJyZW50VW5pdFN5c3RlbSwga2V5KSkge1xuICAgICAgICBpZiAocmV0Lmhhc0Jhc2UoQkFTRV9VTklUU1trZXldKSkge1xuICAgICAgICAgIG1hdGNoaW5nQmFzZSA9IGtleTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaGluZ0Jhc2UgPT09ICdOT05FJykge1xuICAgICAgcmV0LnVuaXRzID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRjaGluZ1VuaXQ7XG5cbiAgICAgIGlmIChtYXRjaGluZ0Jhc2UpIHtcbiAgICAgICAgLy8gRG9lcyB0aGUgdW5pdCBzeXN0ZW0gaGF2ZSBhIG1hdGNoaW5nIHVuaXQ/XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjdXJyZW50VW5pdFN5c3RlbSwgbWF0Y2hpbmdCYXNlKSkge1xuICAgICAgICAgIG1hdGNoaW5nVW5pdCA9IGN1cnJlbnRVbml0U3lzdGVtW21hdGNoaW5nQmFzZV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoaW5nVW5pdCkge1xuICAgICAgICByZXQudW5pdHMgPSBbe1xuICAgICAgICAgIHVuaXQ6IG1hdGNoaW5nVW5pdC51bml0LFxuICAgICAgICAgIHByZWZpeDogbWF0Y2hpbmdVbml0LnByZWZpeCxcbiAgICAgICAgICBwb3dlcjogMS4wXG4gICAgICAgIH1dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTXVsdGlwbGUgdW5pdHMgb3IgdW5pdHMgd2l0aCBwb3dlcnMgYXJlIGZvcm1hdHRlZCBsaWtlIHRoaXM6XG4gICAgICAgIC8vIDUgKGtnIG1eMikgLyAoc14zIG1vbClcbiAgICAgICAgLy8gQnVpbGQgYW4gcmVwcmVzZW50YXRpb24gZnJvbSB0aGUgYmFzZSB1bml0cyBvZiB0aGUgY3VycmVudCB1bml0IHN5c3RlbVxuICAgICAgICB2YXIgbWlzc2luZ0Jhc2VEaW0gPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBiYXNlRGltID0gQkFTRV9ESU1FTlNJT05TW2ldO1xuXG4gICAgICAgICAgaWYgKE1hdGguYWJzKHJldC5kaW1lbnNpb25zW2ldIHx8IDApID4gMWUtMTIpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjdXJyZW50VW5pdFN5c3RlbSwgYmFzZURpbSkpIHtcbiAgICAgICAgICAgICAgcHJvcG9zZWRVbml0TGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB1bml0OiBjdXJyZW50VW5pdFN5c3RlbVtiYXNlRGltXS51bml0LFxuICAgICAgICAgICAgICAgIHByZWZpeDogY3VycmVudFVuaXRTeXN0ZW1bYmFzZURpbV0ucHJlZml4LFxuICAgICAgICAgICAgICAgIHBvd2VyOiByZXQuZGltZW5zaW9uc1tpXSB8fCAwXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWlzc2luZ0Jhc2VEaW0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBJcyB0aGUgcHJvcG9zZWQgdW5pdCBsaXN0IFwic2ltcGxlclwiIHRoYW4gdGhlIGV4aXN0aW5nIG9uZT9cblxuXG4gICAgICAgIGlmIChwcm9wb3NlZFVuaXRMaXN0Lmxlbmd0aCA8IHJldC51bml0cy5sZW5ndGggJiYgIW1pc3NpbmdCYXNlRGltKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGlzIHVuaXQgbGlzdCB3aXRoIHRoZSBwcm9wb3NlZCBsaXN0XG4gICAgICAgICAgcmV0LnVuaXRzID0gcHJvcG9zZWRVbml0TGlzdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFVuaXQgaW4gdGhlIFNJIHN5c3RlbSB3aXRoIHRoZSBzYW1lIHZhbHVlIGFzIHRoaXMgb25lXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9TSSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5jbG9uZSgpO1xuICAgIHZhciBwcm9wb3NlZFVuaXRMaXN0ID0gW107IC8vIE11bHRpcGxlIHVuaXRzIG9yIHVuaXRzIHdpdGggcG93ZXJzIGFyZSBmb3JtYXR0ZWQgbGlrZSB0aGlzOlxuICAgIC8vIDUgKGtnIG1eMikgLyAoc14zIG1vbClcbiAgICAvLyBCdWlsZCBhbiByZXByZXNlbnRhdGlvbiBmcm9tIHRoZSBiYXNlIHVuaXRzIG9mIHRoZSBTSSB1bml0IHN5c3RlbVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBiYXNlRGltID0gQkFTRV9ESU1FTlNJT05TW2ldO1xuXG4gICAgICBpZiAoTWF0aC5hYnMocmV0LmRpbWVuc2lvbnNbaV0gfHwgMCkgPiAxZS0xMikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVF9TWVNURU1TLnNpLCBiYXNlRGltKSkge1xuICAgICAgICAgIHByb3Bvc2VkVW5pdExpc3QucHVzaCh7XG4gICAgICAgICAgICB1bml0OiBVTklUX1NZU1RFTVMuc2lbYmFzZURpbV0udW5pdCxcbiAgICAgICAgICAgIHByZWZpeDogVU5JVF9TWVNURU1TLnNpW2Jhc2VEaW1dLnByZWZpeCxcbiAgICAgICAgICAgIHBvd2VyOiByZXQuZGltZW5zaW9uc1tpXSB8fCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZXhwcmVzcyBjdXN0b20gdW5pdCAnICsgYmFzZURpbSArICcgaW4gU0kgdW5pdHMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUmVwbGFjZSB0aGlzIHVuaXQgbGlzdCB3aXRoIHRoZSBwcm9wb3NlZCBsaXN0XG5cblxuICAgIHJldC51bml0cyA9IHByb3Bvc2VkVW5pdExpc3Q7XG4gICAgcmV0LmZpeFByZWZpeCA9IHRydWU7XG4gICAgcmV0LnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdHMgb2YgdGhpcyBVbml0LCB3aXRob3V0IHRoZSB2YWx1ZS4gVGhlIHVuaXQgbGlzdCBpcyBmb3JtYXR0ZWQgYXMtaXMgd2l0aG91dCBmaXJzdCBiZWluZyBzaW1wbGlmaWVkLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZm9ybWF0VW5pdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0ck51bSA9ICcnO1xuICAgIHZhciBzdHJEZW4gPSAnJztcbiAgICB2YXIgbk51bSA9IDA7XG4gICAgdmFyIG5EZW4gPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy51bml0c1tpXS5wb3dlciA+IDApIHtcbiAgICAgICAgbk51bSsrO1xuICAgICAgICBzdHJOdW0gKz0gJyAnICsgdGhpcy51bml0c1tpXS5wcmVmaXgubmFtZSArIHRoaXMudW5pdHNbaV0udW5pdC5uYW1lO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnVuaXRzW2ldLnBvd2VyIC0gMS4wKSA+IDFlLTE1KSB7XG4gICAgICAgICAgc3RyTnVtICs9ICdeJyArIHRoaXMudW5pdHNbaV0ucG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy51bml0c1tpXS5wb3dlciA8IDApIHtcbiAgICAgICAgbkRlbisrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuRGVuID4gMCkge1xuICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgdGhpcy51bml0cy5sZW5ndGg7IF9pNCsrKSB7XG4gICAgICAgIGlmICh0aGlzLnVuaXRzW19pNF0ucG93ZXIgPCAwKSB7XG4gICAgICAgICAgaWYgKG5OdW0gPiAwKSB7XG4gICAgICAgICAgICBzdHJEZW4gKz0gJyAnICsgdGhpcy51bml0c1tfaTRdLnByZWZpeC5uYW1lICsgdGhpcy51bml0c1tfaTRdLnVuaXQubmFtZTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudW5pdHNbX2k0XS5wb3dlciArIDEuMCkgPiAxZS0xNSkge1xuICAgICAgICAgICAgICBzdHJEZW4gKz0gJ14nICsgLXRoaXMudW5pdHNbX2k0XS5wb3dlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyRGVuICs9ICcgJyArIHRoaXMudW5pdHNbX2k0XS5wcmVmaXgubmFtZSArIHRoaXMudW5pdHNbX2k0XS51bml0Lm5hbWU7XG4gICAgICAgICAgICBzdHJEZW4gKz0gJ14nICsgdGhpcy51bml0c1tfaTRdLnBvd2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUmVtb3ZlIGxlYWRpbmcgXCIgXCJcblxuXG4gICAgc3RyTnVtID0gc3RyTnVtLnN1YnN0cigxKTtcbiAgICBzdHJEZW4gPSBzdHJEZW4uc3Vic3RyKDEpOyAvLyBBZGQgcGFyYW5zIGZvciBiZXR0ZXIgY29weS9wYXN0ZSBiYWNrIGludG8gZXZhbHVhdGUsIGZvciBleGFtcGxlLCBvciBmb3IgYmV0dGVyIHByZXR0eSBwcmludCBmb3JtYXR0aW5nXG5cbiAgICBpZiAobk51bSA+IDEgJiYgbkRlbiA+IDApIHtcbiAgICAgIHN0ck51bSA9ICcoJyArIHN0ck51bSArICcpJztcbiAgICB9XG5cbiAgICBpZiAobkRlbiA+IDEgJiYgbk51bSA+IDApIHtcbiAgICAgIHN0ckRlbiA9ICcoJyArIHN0ckRlbiArICcpJztcbiAgICB9XG5cbiAgICB2YXIgc3RyID0gc3RyTnVtO1xuXG4gICAgaWYgKG5OdW0gPiAwICYmIG5EZW4gPiAwKSB7XG4gICAgICBzdHIgKz0gJyAvICc7XG4gICAgfVxuXG4gICAgc3RyICs9IHN0ckRlbjtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBVbml0LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIFNpbXBsZnkgdGhlIHVuaXQgbGlzdCwgdW5sZXNzIGl0IGlzIHZhbHVlbGVzcyBvciB3YXMgY3JlYXRlZCBkaXJlY3RseSBpbiB0aGVcbiAgICAvLyBjb25zdHJ1Y3RvciBvciBhcyB0aGUgcmVzdWx0IG9mIHRvIG9yIHRvU0lcbiAgICB2YXIgc2ltcCA9IHRoaXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uIHx8IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLmNsb25lKCkgOiB0aGlzLnNpbXBsaWZ5KCk7IC8vIEFwcGx5IHNvbWUgY3VzdG9tIGxvZ2ljIGZvciBoYW5kbGluZyBWQSBhbmQgVkFSLiBUaGUgZ29hbCBpcyB0byBleHByZXNzIHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBhcyBhIHJlYWwgdmFsdWUsIGlmIHBvc3NpYmxlLiBPdGhlcndpc2UsIHVzZSBhIHJlYWwtdmFsdWVkIHVuaXQgaW5zdGVhZCBvZiBhIGNvbXBsZXgtdmFsdWVkIG9uZS5cblxuICAgIHZhciBpc0ltYWdpbmFyeSA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBzaW1wLnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiBzaW1wLnZhbHVlICE9PSBudWxsICYmIGlzQ29tcGxleChzaW1wLnZhbHVlKSkge1xuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGJldHRlciwgZm9yIGV4YW1wbGUsIHVzZSByZWxhdGl2ZSBtYWduaXR1ZGUgb2YgcmUgYW5kIGltIHJhdGhlciB0aGFuIGFic29sdXRlXG4gICAgICBpc0ltYWdpbmFyeSA9IE1hdGguYWJzKHNpbXAudmFsdWUucmUpIDwgMWUtMTQ7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBzaW1wLnVuaXRzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoc2ltcC51bml0cywgaSkpIHtcbiAgICAgICAgaWYgKHNpbXAudW5pdHNbaV0udW5pdCkge1xuICAgICAgICAgIGlmIChzaW1wLnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBJyAmJiBpc0ltYWdpbmFyeSkge1xuICAgICAgICAgICAgc2ltcC51bml0c1tpXS51bml0ID0gVU5JVFMuVkFSO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2ltcC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQVInICYmICFpc0ltYWdpbmFyeSkge1xuICAgICAgICAgICAgc2ltcC51bml0c1tpXS51bml0ID0gVU5JVFMuVkE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBOb3cgYXBwbHkgdGhlIGJlc3QgcHJlZml4XG4gICAgLy8gVW5pdHMgbXVzdCBoYXZlIG9ubHkgb25lIHVuaXQgYW5kIG5vdCBoYXZlIHRoZSBmaXhQcmVmaXggZmxhZyBzZXRcblxuXG4gICAgaWYgKHNpbXAudW5pdHMubGVuZ3RoID09PSAxICYmICFzaW1wLmZpeFByZWZpeCkge1xuICAgICAgLy8gVW5pdHMgbXVzdCBoYXZlIGludGVnZXIgcG93ZXJzLCBvdGhlcndpc2UgdGhlIHByZWZpeCB3aWxsIGNoYW5nZSB0aGVcbiAgICAgIC8vIG91dHB1dHRlZCB2YWx1ZSBieSBub3QtYW4taW50ZWdlci1wb3dlci1vZi10ZW5cbiAgICAgIGlmIChNYXRoLmFicyhzaW1wLnVuaXRzWzBdLnBvd2VyIC0gTWF0aC5yb3VuZChzaW1wLnVuaXRzWzBdLnBvd2VyKSkgPCAxZS0xNCkge1xuICAgICAgICAvLyBBcHBseSB0aGUgYmVzdCBwcmVmaXhcbiAgICAgICAgc2ltcC51bml0c1swXS5wcmVmaXggPSBzaW1wLl9iZXN0UHJlZml4KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gc2ltcC5fZGVub3JtYWxpemUoc2ltcC52YWx1ZSk7XG5cbiAgICB2YXIgc3RyID0gc2ltcC52YWx1ZSAhPT0gbnVsbCA/IGZvcm1hdCh2YWx1ZSwgb3B0aW9ucyB8fCB7fSkgOiAnJztcbiAgICB2YXIgdW5pdFN0ciA9IHNpbXAuZm9ybWF0VW5pdHMoKTtcblxuICAgIGlmIChzaW1wLnZhbHVlICYmIGlzQ29tcGxleChzaW1wLnZhbHVlKSkge1xuICAgICAgc3RyID0gJygnICsgc3RyICsgJyknOyAvLyBTdXJyb3VuZCBjb21wbGV4IHZhbHVlcyB3aXRoICggKSB0byBlbmFibGUgYmV0dGVyIHBhcnNpbmdcbiAgICB9XG5cbiAgICBpZiAodW5pdFN0ci5sZW5ndGggPiAwICYmIHN0ci5sZW5ndGggPiAwKSB7XG4gICAgICBzdHIgKz0gJyAnO1xuICAgIH1cblxuICAgIHN0ciArPSB1bml0U3RyO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGJlc3QgcHJlZml4IHVzaW5nIGN1cnJlbnQgdmFsdWUuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHByZWZpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9iZXN0UHJlZml4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnVuaXRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBjb21wdXRlIHRoZSBiZXN0IHByZWZpeCBmb3Igc2luZ2xlIHVuaXRzIHdpdGggaW50ZWdlciBwb3dlcnMsIGxpa2Uga2csIHNeMiwgTl4tMSwgYW5kIHNvIGZvcnRoIScpO1xuICAgIH1cblxuICAgIGlmIChNYXRoLmFicyh0aGlzLnVuaXRzWzBdLnBvd2VyIC0gTWF0aC5yb3VuZCh0aGlzLnVuaXRzWzBdLnBvd2VyKSkgPj0gMWUtMTQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgY29tcHV0ZSB0aGUgYmVzdCBwcmVmaXggZm9yIHNpbmdsZSB1bml0cyB3aXRoIGludGVnZXIgcG93ZXJzLCBsaWtlIGtnLCBzXjIsIE5eLTEsIGFuZCBzbyBmb3J0aCEnKTtcbiAgICB9IC8vIGZpbmQgdGhlIGJlc3QgcHJlZml4IHZhbHVlIChyZXN1bHRpbmcgaW4gdGhlIHZhbHVlIG9mIHdoaWNoXG4gICAgLy8gdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoZSBsb2cxMCBpcyBjbG9zZXN0IHRvIHplcm8sXG4gICAgLy8gdGhvdWdoIHdpdGggYSBsaXR0bGUgb2Zmc2V0IG9mIDEuMiBmb3IgbmljZXIgdmFsdWVzOiB5b3UgZ2V0IGFcbiAgICAvLyBzZXF1ZW5jZSAxbW0gMTAwbW0gNTAwbW0gMC42bSAxbSAxMG0gMTAwbSA1MDBtIDAuNmttIDFrbSAuLi5cbiAgICAvLyBOb3RlOiB0aGUgdW5pdHMgdmFsdWUgY2FuIGJlIGFueSBudW1lcmljIHR5cGUsIGJ1dCB0byBmaW5kIHRoZSBiZXN0XG4gICAgLy8gcHJlZml4IGl0J3MgZW5vdWdoIHRvIHdvcmsgd2l0aCBsaW1pdGVkIHByZWNpc2lvbiBvZiBhIHJlZ3VsYXIgbnVtYmVyXG4gICAgLy8gVXBkYXRlOiB1c2luZyBtYXRoanMgYWJzIHNpbmNlIHdlIGFsc28gYWxsb3cgY29tcGxleCBudW1iZXJzXG5cblxuICAgIHZhciBhYnNWYWx1ZSA9IHRoaXMudmFsdWUgIT09IG51bGwgPyBhYnModGhpcy52YWx1ZSkgOiAwO1xuICAgIHZhciBhYnNVbml0VmFsdWUgPSBhYnModGhpcy51bml0c1swXS51bml0LnZhbHVlKTtcbiAgICB2YXIgYmVzdFByZWZpeCA9IHRoaXMudW5pdHNbMF0ucHJlZml4O1xuXG4gICAgaWYgKGFic1ZhbHVlID09PSAwKSB7XG4gICAgICByZXR1cm4gYmVzdFByZWZpeDtcbiAgICB9XG5cbiAgICB2YXIgcG93ZXIgPSB0aGlzLnVuaXRzWzBdLnBvd2VyO1xuICAgIHZhciBiZXN0RGlmZiA9IE1hdGgubG9nKGFic1ZhbHVlIC8gTWF0aC5wb3coYmVzdFByZWZpeC52YWx1ZSAqIGFic1VuaXRWYWx1ZSwgcG93ZXIpKSAvIE1hdGguTE4xMCAtIDEuMjtcbiAgICBpZiAoYmVzdERpZmYgPiAtMi4yMDAwMDEgJiYgYmVzdERpZmYgPCAxLjgwMDAwMSkgcmV0dXJuIGJlc3RQcmVmaXg7IC8vIEFsbG93IHRoZSBvcmlnaW5hbCBwcmVmaXhcblxuICAgIGJlc3REaWZmID0gTWF0aC5hYnMoYmVzdERpZmYpO1xuICAgIHZhciBwcmVmaXhlcyA9IHRoaXMudW5pdHNbMF0udW5pdC5wcmVmaXhlcztcblxuICAgIGZvciAodmFyIHAgaW4gcHJlZml4ZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShwcmVmaXhlcywgcCkpIHtcbiAgICAgICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW3BdO1xuXG4gICAgICAgIGlmIChwcmVmaXguc2NpZW50aWZpYykge1xuICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoTWF0aC5sb2coYWJzVmFsdWUgLyBNYXRoLnBvdyhwcmVmaXgudmFsdWUgKiBhYnNVbml0VmFsdWUsIHBvd2VyKSkgLyBNYXRoLkxOMTAgLSAxLjIpO1xuXG4gICAgICAgICAgaWYgKGRpZmYgPCBiZXN0RGlmZiB8fCBkaWZmID09PSBiZXN0RGlmZiAmJiBwcmVmaXgubmFtZS5sZW5ndGggPCBiZXN0UHJlZml4Lm5hbWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBjaG9vc2UgdGhlIHByZWZpeCB3aXRoIHRoZSBzbWFsbGVzdCBkaWZmLCBvciBpZiBlcXVhbCwgY2hvb3NlIHRoZSBvbmVcbiAgICAgICAgICAgIC8vIHdpdGggdGhlIHNob3J0ZXN0IG5hbWUgKGNhbiBoYXBwZW4gd2l0aCBTSE9SVExPTkcgZm9yIGV4YW1wbGUpXG4gICAgICAgICAgICBiZXN0UHJlZml4ID0gcHJlZml4O1xuICAgICAgICAgICAgYmVzdERpZmYgPSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiZXN0UHJlZml4O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiB1bml0cyB3aG9zZSBzdW0gaXMgZXF1YWwgdG8gdGhpcyB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0c10gQW4gYXJyYXkgb2Ygc3RyaW5ncyBvciB2YWx1ZWxlc3MgdW5pdHMuXG4gICAqXG4gICAqICAgRXhhbXBsZTpcbiAgICpcbiAgICogICBjb25zdCB1ID0gbmV3IFVuaXQoMSwgJ20nKVxuICAgKiAgIHUuc3BsaXRVbml0KFsnZmVldCcsICdpbmNoJ10pXG4gICAqICAgICBbIDMgZmVldCwgMy4zNzAwNzg3NDAxNTc1IGluY2ggXVxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdW5pdHMuXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuc3BsaXRVbml0ID0gZnVuY3Rpb24gKHBhcnRzKSB7XG4gICAgdmFyIHggPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gQ29udmVydCB4IHRvIHRoZSByZXF1ZXN0ZWQgdW5pdFxuICAgICAgeCA9IHgudG8ocGFydHNbaV0pO1xuICAgICAgaWYgKGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIGJyZWFrOyAvLyBHZXQgdGhlIG51bWVyaWMgdmFsdWUgb2YgdGhpcyB1bml0XG5cbiAgICAgIHZhciB4TnVtZXJpYyA9IHgudG9OdW1lcmljKCk7IC8vIENoZWNrIHRvIHNlZSBpZiB4TnVtZXJpYyBpcyBuZWFybHkgZXF1YWwgdG8gYW4gaW50ZWdlcixcbiAgICAgIC8vIHNpbmNlIGZpeCBjYW4gaW5jb3JyZWN0bHkgcm91bmQgZG93biBpZiB0aGVyZSBpcyByb3VuZC1vZmYgZXJyb3JcblxuICAgICAgdmFyIHhSb3VuZGVkID0gcm91bmQoeE51bWVyaWMpO1xuICAgICAgdmFyIHhGaXhlZCA9IHZvaWQgMDtcbiAgICAgIHZhciBpc05lYXJseUVxdWFsID0gZXF1YWwoeFJvdW5kZWQsIHhOdW1lcmljKTtcblxuICAgICAgaWYgKGlzTmVhcmx5RXF1YWwpIHtcbiAgICAgICAgeEZpeGVkID0geFJvdW5kZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4Rml4ZWQgPSBmaXgoeC50b051bWVyaWMoKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB5ID0gbmV3IFVuaXQoeEZpeGVkLCBwYXJ0c1tpXS50b1N0cmluZygpKTtcbiAgICAgIHJldC5wdXNoKHkpO1xuICAgICAgeCA9IHN1YnRyYWN0KHgsIHkpO1xuICAgIH0gLy8gVGhpcyBsaXR0bGUgYml0IGZpeGVzIGEgYnVnIHdoZXJlIHRoZSByZW1haW5kZXIgc2hvdWxkIGJlIDAgYnV0IGlzIGEgbGl0dGxlIGJpdCBvZmYuXG4gICAgLy8gQnV0IGluc3RlYWQgb2YgY29tcGFyaW5nIHgsIHRoZSByZW1haW5kZXIsIHdpdGggemVyby0td2Ugd2lsbCBjb21wYXJlIHRoZSBzdW0gb2ZcbiAgICAvLyBhbGwgdGhlIHBhcnRzIHNvIGZhciB3aXRoIHRoZSBvcmlnaW5hbCB2YWx1ZS4gSWYgdGhleSBhcmUgbmVhcmx5IGVxdWFsLFxuICAgIC8vIHdlIHNldCB0aGUgcmVtYWluZGVyIHRvIDAuXG5cblxuICAgIHZhciB0ZXN0U3VtID0gMDtcblxuICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IHJldC5sZW5ndGg7IF9pNSsrKSB7XG4gICAgICB0ZXN0U3VtID0gYWRkU2NhbGFyKHRlc3RTdW0sIHJldFtfaTVdLnZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoZXF1YWwodGVzdFN1bSwgdGhpcy52YWx1ZSkpIHtcbiAgICAgIHgudmFsdWUgPSAwO1xuICAgIH1cblxuICAgIHJldC5wdXNoKHgpO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgdmFyIFBSRUZJWEVTID0ge1xuICAgIE5PTkU6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgU0hPUlQ6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRhOiB7XG4gICAgICAgIG5hbWU6ICdkYScsXG4gICAgICAgIHZhbHVlOiAxZTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaDoge1xuICAgICAgICBuYW1lOiAnaCcsXG4gICAgICAgIHZhbHVlOiAxZTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZDoge1xuICAgICAgICBuYW1lOiAnZCcsXG4gICAgICAgIHZhbHVlOiAxZS0xLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGM6IHtcbiAgICAgICAgbmFtZTogJ2MnLFxuICAgICAgICB2YWx1ZTogMWUtMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtOiB7XG4gICAgICAgIG5hbWU6ICdtJyxcbiAgICAgICAgdmFsdWU6IDFlLTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB1OiB7XG4gICAgICAgIG5hbWU6ICd1JyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuOiB7XG4gICAgICAgIG5hbWU6ICduJyxcbiAgICAgICAgdmFsdWU6IDFlLTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwOiB7XG4gICAgICAgIG5hbWU6ICdwJyxcbiAgICAgICAgdmFsdWU6IDFlLTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZjoge1xuICAgICAgICBuYW1lOiAnZicsXG4gICAgICAgIHZhbHVlOiAxZS0xNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgbmFtZTogJ2EnLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6OiB7XG4gICAgICAgIG5hbWU6ICd6JyxcbiAgICAgICAgdmFsdWU6IDFlLTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIHZhbHVlOiAxZS0yNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgTE9ORzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGVjYToge1xuICAgICAgICBuYW1lOiAnZGVjYScsXG4gICAgICAgIHZhbHVlOiAxZTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaGVjdG86IHtcbiAgICAgICAgbmFtZTogJ2hlY3RvJyxcbiAgICAgICAgdmFsdWU6IDFlMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBraWxvOiB7XG4gICAgICAgIG5hbWU6ICdraWxvJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1lZ2E6IHtcbiAgICAgICAgbmFtZTogJ21lZ2EnLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZ2lnYToge1xuICAgICAgICBuYW1lOiAnZ2lnYScsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB0ZXJhOiB7XG4gICAgICAgIG5hbWU6ICd0ZXJhJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwZXRhOiB7XG4gICAgICAgIG5hbWU6ICdwZXRhJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBleGE6IHtcbiAgICAgICAgbmFtZTogJ2V4YScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemV0dGE6IHtcbiAgICAgICAgbmFtZTogJ3pldHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b3R0YToge1xuICAgICAgICBuYW1lOiAneW90dGEnLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRlY2k6IHtcbiAgICAgICAgbmFtZTogJ2RlY2knLFxuICAgICAgICB2YWx1ZTogMWUtMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjZW50aToge1xuICAgICAgICBuYW1lOiAnY2VudGknLFxuICAgICAgICB2YWx1ZTogMWUtMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtaWxsaToge1xuICAgICAgICBuYW1lOiAnbWlsbGknLFxuICAgICAgICB2YWx1ZTogMWUtMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1pY3JvOiB7XG4gICAgICAgIG5hbWU6ICdtaWNybycsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbmFubzoge1xuICAgICAgICBuYW1lOiAnbmFubycsXG4gICAgICAgIHZhbHVlOiAxZS05LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGljbzoge1xuICAgICAgICBuYW1lOiAncGljbycsXG4gICAgICAgIHZhbHVlOiAxZS0xMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGZlbXRvOiB7XG4gICAgICAgIG5hbWU6ICdmZW10bycsXG4gICAgICAgIHZhbHVlOiAxZS0xNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGF0dG86IHtcbiAgICAgICAgbmFtZTogJ2F0dG8nLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZXB0bzoge1xuICAgICAgICBuYW1lOiAnemVwdG8nLFxuICAgICAgICB2YWx1ZTogMWUtMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b2N0bzoge1xuICAgICAgICBuYW1lOiAneW9jdG8nLFxuICAgICAgICB2YWx1ZTogMWUtMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIFNRVUFSRUQ6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRhOiB7XG4gICAgICAgIG5hbWU6ICdkYScsXG4gICAgICAgIHZhbHVlOiAxZTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaDoge1xuICAgICAgICBuYW1lOiAnaCcsXG4gICAgICAgIHZhbHVlOiAxZTQsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlMzAsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlNDIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlNDgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkOiB7XG4gICAgICAgIG5hbWU6ICdkJyxcbiAgICAgICAgdmFsdWU6IDFlLTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBuYW1lOiAnYycsXG4gICAgICAgIHZhbHVlOiAxZS00LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG06IHtcbiAgICAgICAgbmFtZTogJ20nLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHU6IHtcbiAgICAgICAgbmFtZTogJ3UnLFxuICAgICAgICB2YWx1ZTogMWUtMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuOiB7XG4gICAgICAgIG5hbWU6ICduJyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcDoge1xuICAgICAgICBuYW1lOiAncCcsXG4gICAgICAgIHZhbHVlOiAxZS0yNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGY6IHtcbiAgICAgICAgbmFtZTogJ2YnLFxuICAgICAgICB2YWx1ZTogMWUtMzAsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIG5hbWU6ICdhJyxcbiAgICAgICAgdmFsdWU6IDFlLTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgejoge1xuICAgICAgICBuYW1lOiAneicsXG4gICAgICAgIHZhbHVlOiAxZS00MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgbmFtZTogJ3knLFxuICAgICAgICB2YWx1ZTogMWUtNDgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIENVQklDOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkYToge1xuICAgICAgICBuYW1lOiAnZGEnLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGg6IHtcbiAgICAgICAgbmFtZTogJ2gnLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTI3LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTQ1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTU0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTYzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTcyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZDoge1xuICAgICAgICBuYW1lOiAnZCcsXG4gICAgICAgIHZhbHVlOiAxZS0zLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGM6IHtcbiAgICAgICAgbmFtZTogJ2MnLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtOiB7XG4gICAgICAgIG5hbWU6ICdtJyxcbiAgICAgICAgdmFsdWU6IDFlLTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB1OiB7XG4gICAgICAgIG5hbWU6ICd1JyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbjoge1xuICAgICAgICBuYW1lOiAnbicsXG4gICAgICAgIHZhbHVlOiAxZS0yNyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHA6IHtcbiAgICAgICAgbmFtZTogJ3AnLFxuICAgICAgICB2YWx1ZTogMWUtMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIG5hbWU6ICdmJyxcbiAgICAgICAgdmFsdWU6IDFlLTQ1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBuYW1lOiAnYScsXG4gICAgICAgIHZhbHVlOiAxZS01NCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHo6IHtcbiAgICAgICAgbmFtZTogJ3onLFxuICAgICAgICB2YWx1ZTogMWUtNjMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAgdmFsdWU6IDFlLTcyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfU0hPUlRfU0k6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX1NIT1JUX0lFQzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgS2k6IHtcbiAgICAgICAgbmFtZTogJ0tpJyxcbiAgICAgICAgdmFsdWU6IDEwMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNaToge1xuICAgICAgICBuYW1lOiAnTWknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHaToge1xuICAgICAgICBuYW1lOiAnR2knLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUaToge1xuICAgICAgICBuYW1lOiAnVGknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQaToge1xuICAgICAgICBuYW1lOiAnUGknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNSksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFaToge1xuICAgICAgICBuYW1lOiAnRWknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaaToge1xuICAgICAgICBuYW1lOiAnWmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZaToge1xuICAgICAgICBuYW1lOiAnWWknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgOCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9MT05HX1NJOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBraWxvOiB7XG4gICAgICAgIG5hbWU6ICdraWxvJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1lZ2E6IHtcbiAgICAgICAgbmFtZTogJ21lZ2EnLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZ2lnYToge1xuICAgICAgICBuYW1lOiAnZ2lnYScsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB0ZXJhOiB7XG4gICAgICAgIG5hbWU6ICd0ZXJhJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwZXRhOiB7XG4gICAgICAgIG5hbWU6ICdwZXRhJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBleGE6IHtcbiAgICAgICAgbmFtZTogJ2V4YScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemV0dGE6IHtcbiAgICAgICAgbmFtZTogJ3pldHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b3R0YToge1xuICAgICAgICBuYW1lOiAneW90dGEnLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX0xPTkdfSUVDOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBraWJpOiB7XG4gICAgICAgIG5hbWU6ICdraWJpJyxcbiAgICAgICAgdmFsdWU6IDEwMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtZWJpOiB7XG4gICAgICAgIG5hbWU6ICdtZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDIpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZ2liaToge1xuICAgICAgICBuYW1lOiAnZ2liaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAzKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHRlYmk6IHtcbiAgICAgICAgbmFtZTogJ3RlYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwZWJpOiB7XG4gICAgICAgIG5hbWU6ICdwZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDUpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXhpOiB7XG4gICAgICAgIG5hbWU6ICdleGknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZWJpOiB7XG4gICAgICAgIG5hbWU6ICd6ZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDcpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW9iaToge1xuICAgICAgICBuYW1lOiAneW9iaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA4KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQlRVOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNTToge1xuICAgICAgICBuYW1lOiAnTU0nLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9O1xuICBQUkVGSVhFUy5TSE9SVExPTkcgPSBfZXh0ZW5kcyh7fSwgUFJFRklYRVMuU0hPUlQsIFBSRUZJWEVTLkxPTkcpO1xuICBQUkVGSVhFUy5CSU5BUllfU0hPUlQgPSBfZXh0ZW5kcyh7fSwgUFJFRklYRVMuQklOQVJZX1NIT1JUX1NJLCBQUkVGSVhFUy5CSU5BUllfU0hPUlRfSUVDKTtcbiAgUFJFRklYRVMuQklOQVJZX0xPTkcgPSBfZXh0ZW5kcyh7fSwgUFJFRklYRVMuQklOQVJZX0xPTkdfU0ksIFBSRUZJWEVTLkJJTkFSWV9MT05HX0lFQyk7XG4gIC8qIEludGVybmFsbHksIGVhY2ggdW5pdCBpcyByZXByZXNlbnRlZCBieSBhIHZhbHVlIGFuZCBhIGRpbWVuc2lvbiBhcnJheS4gVGhlIGVsZW1lbnRzIG9mIHRoZSBkaW1lbnNpb25zIGFycmF5IGhhdmUgdGhlIGZvbGxvd2luZyBtZWFuaW5nOlxuICAgKiBJbmRleCAgRGltZW5zaW9uXG4gICAqIC0tLS0tICAtLS0tLS0tLS1cbiAgICogICAwICAgIExlbmd0aFxuICAgKiAgIDEgICAgTWFzc1xuICAgKiAgIDIgICAgVGltZVxuICAgKiAgIDMgICAgQ3VycmVudFxuICAgKiAgIDQgICAgVGVtcGVyYXR1cmVcbiAgICogICA1ICAgIEx1bWlub3VzIGludGVuc2l0eVxuICAgKiAgIDYgICAgQW1vdW50IG9mIHN1YnN0YW5jZVxuICAgKiAgIDcgICAgQW5nbGVcbiAgICogICA4ICAgIEJpdCAoZGlnaXRhbClcbiAgICogRm9yIGV4YW1wbGUsIHRoZSB1bml0IFwiMjk4LjE1IEtcIiBpcyBhIHB1cmUgdGVtcGVyYXR1cmUgYW5kIHdvdWxkIGhhdmUgYSB2YWx1ZSBvZiAyOTguMTUgYW5kIGEgZGltZW5zaW9uIGFycmF5IG9mIFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwXS4gVGhlIHVuaXQgXCIxIGNhbCAvIChnbSDCsEMpXCIgY2FuIGJlIHdyaXR0ZW4gaW4gdGVybXMgb2YgdGhlIDkgZnVuZGFtZW50YWwgZGltZW5zaW9ucyBhcyBbbGVuZ3RoXjJdIC8gKFt0aW1lXjJdICogW3RlbXBlcmF0dXJlXSksIGFuZCB3b3VsZCBhIHZhbHVlIG9mIChhZnRlciBjb252ZXJzaW9uIHRvIFNJKSA0MTg0LjAgYW5kIGEgZGltZW5zaW9ucyBhcnJheSBvZiBbMiwgMCwgLTIsIDAsIC0xLCAwLCAwLCAwLCAwXS5cbiAgICpcbiAgICovXG5cbiAgdmFyIEJBU0VfRElNRU5TSU9OUyA9IFsnTUFTUycsICdMRU5HVEgnLCAnVElNRScsICdDVVJSRU5UJywgJ1RFTVBFUkFUVVJFJywgJ0xVTUlOT1VTX0lOVEVOU0lUWScsICdBTU9VTlRfT0ZfU1VCU1RBTkNFJywgJ0FOR0xFJywgJ0JJVCddO1xuICB2YXIgQkFTRV9VTklUUyA9IHtcbiAgICBOT05FOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIE1BU1M6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTEVOR1RIOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFRJTUU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgQ1VSUkVOVDoge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBURU1QRVJBVFVSRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBMVU1JTk9VU19JTlRFTlNJVFk6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgQU1PVU5UX09GX1NVQlNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDBdXG4gICAgfSxcbiAgICBGT1JDRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDEsIC0yLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgU1VSRkFDRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDIsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBWT0xVTUU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAzLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRU5FUkdZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTIsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBQT1dFUjoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0zLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgUFJFU1NVUkU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAtMSwgLTIsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19DSEFSR0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAxLCAxLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfQ0FQQUNJVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFstMSwgLTIsIDQsIDIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19QT1RFTlRJQUw6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMywgLTEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19SRVNJU1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTMsIC0yLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfSU5EVUNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0yLCAtMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0NPTkRVQ1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbLTEsIC0yLCAzLCAyLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTUFHTkVUSUNfRkxVWDoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0yLCAtMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIE1BR05FVElDX0ZMVVhfREVOU0lUWToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDAsIC0yLCAtMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEZSRVFVRU5DWToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIC0xLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgQU5HTEU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgIH0sXG4gICAgQklUOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMV1cbiAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIga2V5IGluIEJBU0VfVU5JVFMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoQkFTRV9VTklUUywga2V5KSkge1xuICAgICAgQkFTRV9VTklUU1trZXldLmtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICB2YXIgQkFTRV9VTklUX05PTkUgPSB7fTtcbiAgdmFyIFVOSVRfTk9ORSA9IHtcbiAgICBuYW1lOiAnJyxcbiAgICBiYXNlOiBCQVNFX1VOSVRfTk9ORSxcbiAgICB2YWx1ZTogMSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgZGltZW5zaW9uczogQkFTRV9ESU1FTlNJT05TLm1hcCh4ID0+IDApXG4gIH07XG4gIHZhciBVTklUUyA9IHtcbiAgICAvLyBsZW5ndGhcbiAgICBtZXRlcjoge1xuICAgICAgbmFtZTogJ21ldGVyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaW5jaDoge1xuICAgICAgbmFtZTogJ2luY2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAyNTQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGZvb3Q6IHtcbiAgICAgIG5hbWU6ICdmb290JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4zMDQ4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB5YXJkOiB7XG4gICAgICBuYW1lOiAneWFyZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuOTE0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWlsZToge1xuICAgICAgbmFtZTogJ21pbGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxNjA5LjM0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgbmFtZTogJ2xpbmsnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjIwMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcm9kOiB7XG4gICAgICBuYW1lOiAncm9kJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNS4wMjkyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjaGFpbjoge1xuICAgICAgbmFtZTogJ2NoYWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjAuMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYW5nc3Ryb206IHtcbiAgICAgIG5hbWU6ICdhbmdzdHJvbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDFlLTEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtOiB7XG4gICAgICBuYW1lOiAnbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBpbjoge1xuICAgICAgbmFtZTogJ2luJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMjU0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBmdDoge1xuICAgICAgbmFtZTogJ2Z0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4zMDQ4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB5ZDoge1xuICAgICAgbmFtZTogJ3lkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC45MTQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaToge1xuICAgICAgbmFtZTogJ21pJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTYwOS4zNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxpOiB7XG4gICAgICBuYW1lOiAnbGknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjIwMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcmQ6IHtcbiAgICAgIG5hbWU6ICdyZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDUuMDI5MjEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjaDoge1xuICAgICAgbmFtZTogJ2NoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjAuMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWlsOiB7XG4gICAgICBuYW1lOiAnbWlsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMjU0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxLzEwMDAgaW5jaFxuICAgIC8vIFN1cmZhY2VcbiAgICBtMjoge1xuICAgICAgbmFtZTogJ20yJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TUVVBUkVELFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHNxaW46IHtcbiAgICAgIG5hbWU6ICdzcWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwNjQ1MTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDY0NS4xNiBtbTJcbiAgICBzcWZ0OiB7XG4gICAgICBuYW1lOiAnc3FmdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjA5MjkwMzA0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA5MjkwMzA0IG0yXG4gICAgc3F5ZDoge1xuICAgICAgbmFtZTogJ3NxeWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC44MzYxMjczNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC44MzYxMjczNiBtMlxuICAgIHNxbWk6IHtcbiAgICAgIG5hbWU6ICdzcW1pJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI1ODk5ODguMTEwMzM2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyLjU4OTk4ODExMDMzNiBrbTJcbiAgICBzcXJkOiB7XG4gICAgICBuYW1lOiAnc3FyZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyNS4yOTI5NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjUuMjkyOTUgbTJcbiAgICBzcWNoOiB7XG4gICAgICBuYW1lOiAnc3FjaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0MDQuNjg3MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDA0LjY4NzMgbTJcbiAgICBzcW1pbDoge1xuICAgICAgbmFtZTogJ3NxbWlsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYuNDUxNmUtMTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDYuNDUxNiAqIDEwXi0xMCBtMlxuICAgIGFjcmU6IHtcbiAgICAgIG5hbWU6ICdhY3JlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQwNDYuODYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQwNDYuODYgbTJcbiAgICBoZWN0YXJlOiB7XG4gICAgICBuYW1lOiAnaGVjdGFyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMDAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTAwMDAgbTJcbiAgICAvLyBWb2x1bWVcbiAgICBtMzoge1xuICAgICAgbmFtZTogJ20zJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkNVQklDLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEw6IHtcbiAgICAgIG5hbWU6ICdMJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBsaXRyZVxuICAgIGw6IHtcbiAgICAgIG5hbWU6ICdsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBsaXRyZVxuICAgIGxpdHJlOiB7XG4gICAgICBuYW1lOiAnbGl0cmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY3Vpbjoge1xuICAgICAgbmFtZTogJ2N1aW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLjYzODcwNjRlLTUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDEuNjM4NzA2NGUtNSBtM1xuICAgIGN1ZnQ6IHtcbiAgICAgIG5hbWU6ICdjdWZ0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMjgzMTY4NDY1OTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI4LjMxNiA4NDYgNTkyIExcbiAgICBjdXlkOiB7XG4gICAgICBuYW1lOiAnY3V5ZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuNzY0NTU0ODU3OTg0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA3NjQuNTU0IDg1NyA5ODQgTFxuICAgIHRlYXNwb29uOiB7XG4gICAgICBuYW1lOiAndGVhc3Bvb24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNSBtTFxuICAgIHRhYmxlc3Bvb246IHtcbiAgICAgIG5hbWU6ICd0YWJsZXNwb29uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMTUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDE1IG1MXG4gICAgLy8ge25hbWU6ICdjdXAnLCBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAwLjAwMDI0MCwgb2Zmc2V0OiAwfSwgLy8gMjQwIG1MICAvLyBub3QgcG9zc2libGUsIHdlIGhhdmUgYWxyZWFkeSBhbm90aGVyIGN1cFxuICAgIGRyb3A6IHtcbiAgICAgIG5hbWU6ICdkcm9wJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNWUtOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wNSBtTCA9IDVlLTggbTNcbiAgICBndHQ6IHtcbiAgICAgIG5hbWU6ICdndHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1ZS04LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA1IG1MID0gNWUtOCBtM1xuICAgIC8vIExpcXVpZCB2b2x1bWVcbiAgICBtaW5pbToge1xuICAgICAgbmFtZTogJ21pbmltJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDAwNjE2MTE1MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wNjE2MTE1MiBtTFxuICAgIGZsdWlkZHJhbToge1xuICAgICAgbmFtZTogJ2ZsdWlkZHJhbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDAzNjk2NjkxMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy42OTY2OTEgbUxcbiAgICBmbHVpZG91bmNlOiB7XG4gICAgICBuYW1lOiAnZmx1aWRvdW5jZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDI5NTczNTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI5LjU3MzUzIG1MXG4gICAgZ2lsbDoge1xuICAgICAgbmFtZTogJ2dpbGwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDExODI5NDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExOC4yOTQxIG1MXG4gICAgY2M6IHtcbiAgICAgIG5hbWU6ICdjYycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDFlLTYgTFxuICAgIGN1cDoge1xuICAgICAgbmFtZTogJ2N1cCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMjM2NTg4MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjM2LjU4ODIgbUxcbiAgICBwaW50OiB7XG4gICAgICBuYW1lOiAncGludCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwNDczMTc2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDczLjE3NjUgbUxcbiAgICBxdWFydDoge1xuICAgICAgbmFtZTogJ3F1YXJ0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA5NDYzNTI5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA5NDYuMzUyOSBtTFxuICAgIGdhbGxvbjoge1xuICAgICAgbmFtZTogJ2dhbGxvbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAzNzg1NDEyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjc4NTQxMiBMXG4gICAgYmVlcmJhcnJlbDoge1xuICAgICAgbmFtZTogJ2JlZXJiYXJyZWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjExNzM0NzgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExNy4zNDc4IExcbiAgICBvaWxiYXJyZWw6IHtcbiAgICAgIG5hbWU6ICdvaWxiYXJyZWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjE1ODk4NzMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDE1OC45ODczIExcbiAgICBob2dzaGVhZDoge1xuICAgICAgbmFtZTogJ2hvZ3NoZWFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4yMzg0ODEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyMzguNDgxMCBMXG4gICAgLy8ge25hbWU6ICdtaW4nLCBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAwLjAwMDAwMDA2MTYxMTUyLCBvZmZzZXQ6IDB9LCAvLyAwLjA2MTYxMTUyIG1MIC8vIG1pbiBpcyBhbHJlYWR5IGluIHVzZSBhcyBtaW51dGVcbiAgICBmbGRyOiB7XG4gICAgICBuYW1lOiAnZmxkcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDAzNjk2NjkxMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy42OTY2OTEgbUxcbiAgICBmbG96OiB7XG4gICAgICBuYW1lOiAnZmxveicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDI5NTczNTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI5LjU3MzUzIG1MXG4gICAgZ2k6IHtcbiAgICAgIG5hbWU6ICdnaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMTE4Mjk0MSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE4LjI5NDEgbUxcbiAgICBjcDoge1xuICAgICAgbmFtZTogJ2NwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAyMzY1ODgyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyMzYuNTg4MiBtTFxuICAgIHB0OiB7XG4gICAgICBuYW1lOiAncHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDQ3MzE3NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQ3My4xNzY1IG1MXG4gICAgcXQ6IHtcbiAgICAgIG5hbWU6ICdxdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwOTQ2MzUyOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gOTQ2LjM1MjkgbUxcbiAgICBnYWw6IHtcbiAgICAgIG5hbWU6ICdnYWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMzc4NTQxMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy43ODU0MTIgTFxuICAgIGJibDoge1xuICAgICAgbmFtZTogJ2JibCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTE3MzQ3OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE3LjM0NzggTFxuICAgIG9ibDoge1xuICAgICAgbmFtZTogJ29ibCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTU4OTg3MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTU4Ljk4NzMgTFxuICAgIC8vIHtuYW1lOiAnaG9nc2hlYWQnLCBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAwLjIzODQ4MTAsIG9mZnNldDogMH0sIC8vIDIzOC40ODEwIEwgLy8gVE9ETzogaGg/XG4gICAgLy8gTWFzc1xuICAgIGc6IHtcbiAgICAgIG5hbWU6ICdnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3JhbToge1xuICAgICAgbmFtZTogJ2dyYW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHRvbjoge1xuICAgICAgbmFtZTogJ3RvbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogOTA3LjE4NDc0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0OiB7XG4gICAgICBuYW1lOiAndCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMTAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdG9ubmU6IHtcbiAgICAgIG5hbWU6ICd0b25uZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncmFpbjoge1xuICAgICAgbmFtZTogJ2dyYWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDY0Ljc5ODkxZS02LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkcmFtOiB7XG4gICAgICBuYW1lOiAnZHJhbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLjc3MTg0NTE5NTMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG91bmNlOiB7XG4gICAgICBuYW1lOiAnb3VuY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjguMzQ5NTIzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBwb3VuZG1hc3M6IHtcbiAgICAgIG5hbWU6ICdwb3VuZG1hc3MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUzLjU5MjM3ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBodW5kcmVkd2VpZ2h0OiB7XG4gICAgICBuYW1lOiAnaHVuZHJlZHdlaWdodCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NS4zNTkyMzcsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHN0aWNrOiB7XG4gICAgICBuYW1lOiAnc3RpY2snLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTE1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzdG9uZToge1xuICAgICAgbmFtZTogJ3N0b25lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYuMzUwMjkzMTgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyOiB7XG4gICAgICBuYW1lOiAnZ3InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjQuNzk4OTFlLTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRyOiB7XG4gICAgICBuYW1lOiAnZHInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMS43NzE4NDUxOTUzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBvejoge1xuICAgICAgbmFtZTogJ296JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI4LjM0OTUyMzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGJtOiB7XG4gICAgICBuYW1lOiAnbGJtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1My41OTIzN2UtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY3d0OiB7XG4gICAgICBuYW1lOiAnY3d0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1LjM1OTIzNyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gVGltZVxuICAgIHM6IHtcbiAgICAgIG5hbWU6ICdzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaW46IHtcbiAgICAgIG5hbWU6ICdtaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGg6IHtcbiAgICAgIG5hbWU6ICdoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDM2MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHNlY29uZDoge1xuICAgICAgbmFtZTogJ3NlY29uZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzZWM6IHtcbiAgICAgIG5hbWU6ICdzZWMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWludXRlOiB7XG4gICAgICBuYW1lOiAnbWludXRlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBob3VyOiB7XG4gICAgICBuYW1lOiAnaG91cicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzNjAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkYXk6IHtcbiAgICAgIG5hbWU6ICdkYXknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogODY0MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHdlZWs6IHtcbiAgICAgIG5hbWU6ICd3ZWVrJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDcgKiA4NjQwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW9udGg6IHtcbiAgICAgIG5hbWU6ICdtb250aCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyNjI5ODAwLFxuICAgICAgLy8gMS8xMnRoIG9mIEp1bGlhbiB5ZWFyXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHllYXI6IHtcbiAgICAgIG5hbWU6ICd5ZWFyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwLFxuICAgICAgLy8gSnVsaWFuIHllYXJcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGVjYWRlOiB7XG4gICAgICBuYW1lOiAnZGVjYWRlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwMCxcbiAgICAgIC8vIEp1bGlhbiBkZWNhZGVcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2VudHVyeToge1xuICAgICAgbmFtZTogJ2NlbnR1cnknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAwMCxcbiAgICAgIC8vIEp1bGlhbiBjZW50dXJ5XG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbGxlbm5pdW06IHtcbiAgICAgIG5hbWU6ICdtaWxsZW5uaXVtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwMDAwLFxuICAgICAgLy8gSnVsaWFuIG1pbGxlbm5pdW1cbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRnJlcXVlbmN5XG4gICAgaGVydHo6IHtcbiAgICAgIG5hbWU6ICdIZXJ0eicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZSRVFVRU5DWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICByZWNpcHJvY2FsOiB0cnVlXG4gICAgfSxcbiAgICBIejoge1xuICAgICAgbmFtZTogJ0h6JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRlJFUVVFTkNZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICByZWNpcHJvY2FsOiB0cnVlXG4gICAgfSxcbiAgICAvLyBBbmdsZVxuICAgIHJhZDoge1xuICAgICAgbmFtZTogJ3JhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHJhZGlhbjoge1xuICAgICAgbmFtZTogJ3JhZGlhbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gZGVnID0gcmFkIC8gKDIqcGkpICogMzYwID0gcmFkIC8gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NjkyMzY5MDc2ODQ4ODhcbiAgICBkZWc6IHtcbiAgICAgIG5hbWU6ICdkZWcnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkZWdyZWU6IHtcbiAgICAgIG5hbWU6ICdkZWdyZWUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGdyYWQgPSByYWQgLyAoMipwaSkgKiA0MDAgID0gcmFkIC8gMC4wMTU3MDc5NjMyNjc5NDg5NjYxOTIzMTMyMTY5MTYzOTlcbiAgICBncmFkOiB7XG4gICAgICBuYW1lOiAnZ3JhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyYWRpYW46IHtcbiAgICAgIG5hbWU6ICdncmFkaWFuJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBjeWNsZSA9IHJhZCAvICgyKnBpKSA9IHJhZCAvIDYuMjgzMTg1MzA3MTc5NTg2NDc2OTI1Mjg2NzY2NTc5M1xuICAgIGN5Y2xlOiB7XG4gICAgICBuYW1lOiAnY3ljbGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGFyY3NlYyA9IHJhZCAvICgzNjAwICogKDM2MCAvIDIgKiBwaSkpID0gcmFkIC8gMC4wMDAwMDQ4NDgxMzY4MTEwOTUzNTk5MzU4OTkxNDEwMjM1Nzk1XG4gICAgYXJjc2VjOiB7XG4gICAgICBuYW1lOiAnYXJjc2VjJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBhcmNtaW4gPSByYWQgLyAoNjAgKiAoMzYwIC8gMiAqIHBpKSkgPSByYWQgLyAwLjAwMDI5MDg4ODIwODY2NTcyMTU5NjE1Mzk0ODQ2MTQxNDc3XG4gICAgYXJjbWluOiB7XG4gICAgICBuYW1lOiAnYXJjbWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjdXJyZW50XG4gICAgQToge1xuICAgICAgbmFtZTogJ0EnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5DVVJSRU5ULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGFtcGVyZToge1xuICAgICAgbmFtZTogJ2FtcGVyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkNVUlJFTlQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBUZW1wZXJhdHVyZVxuICAgIC8vIEsoQykgPSDCsEMgKyAyNzMuMTVcbiAgICAvLyBLKEYpID0gKMKwRiArIDQ1OS42NykgLyAxLjhcbiAgICAvLyBLKFIpID0gwrBSIC8gMS44XG4gICAgSzoge1xuICAgICAgbmFtZTogJ0snLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRlZ0M6IHtcbiAgICAgIG5hbWU6ICdkZWdDJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAyNzMuMTVcbiAgICB9LFxuICAgIGRlZ0Y6IHtcbiAgICAgIG5hbWU6ICdkZWdGJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiA0NTkuNjdcbiAgICB9LFxuICAgIGRlZ1I6IHtcbiAgICAgIG5hbWU6ICdkZWdSJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBrZWx2aW46IHtcbiAgICAgIG5hbWU6ICdrZWx2aW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNlbHNpdXM6IHtcbiAgICAgIG5hbWU6ICdjZWxzaXVzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAyNzMuMTVcbiAgICB9LFxuICAgIGZhaHJlbmhlaXQ6IHtcbiAgICAgIG5hbWU6ICdmYWhyZW5oZWl0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiA0NTkuNjdcbiAgICB9LFxuICAgIHJhbmtpbmU6IHtcbiAgICAgIG5hbWU6ICdyYW5raW5lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBhbW91bnQgb2Ygc3Vic3RhbmNlXG4gICAgbW9sOiB7XG4gICAgICBuYW1lOiAnbW9sJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU1PVU5UX09GX1NVQlNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtb2xlOiB7XG4gICAgICBuYW1lOiAnbW9sZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFNT1VOVF9PRl9TVUJTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBsdW1pbm91cyBpbnRlbnNpdHlcbiAgICBjZDoge1xuICAgICAgbmFtZTogJ2NkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTFVNSU5PVVNfSU5URU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNhbmRlbGE6IHtcbiAgICAgIG5hbWU6ICdjYW5kZWxhJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTFVNSU5PVVNfSU5URU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gVE9ETzogdW5pdHMgU1RFUkFESUFOXG4gICAgLy8ge25hbWU6ICdzcicsIGJhc2U6IEJBU0VfVU5JVFMuU1RFUkFESUFOLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDEsIG9mZnNldDogMH0sXG4gICAgLy8ge25hbWU6ICdzdGVyYWRpYW4nLCBiYXNlOiBCQVNFX1VOSVRTLlNURVJBRElBTiwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAxLCBvZmZzZXQ6IDB9LFxuICAgIC8vIEZvcmNlXG4gICAgTjoge1xuICAgICAgbmFtZTogJ04nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBuZXd0b246IHtcbiAgICAgIG5hbWU6ICduZXd0b24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGR5bjoge1xuICAgICAgbmFtZTogJ2R5bicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAwMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGR5bmU6IHtcbiAgICAgIG5hbWU6ICdkeW5lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAwLjAwMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsYmY6IHtcbiAgICAgIG5hbWU6ICdsYmYnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQuNDQ4MjIxNjE1MjYwNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcG91bmRmb3JjZToge1xuICAgICAgbmFtZTogJ3BvdW5kZm9yY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQuNDQ4MjIxNjE1MjYwNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAga2lwOiB7XG4gICAgICBuYW1lOiAna2lwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiA0NDQ4LjIyMTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGtpbG9ncmFtZm9yY2U6IHtcbiAgICAgIG5hbWU6ICdraWxvZ3JhbWZvcmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA5LjgwNjY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbmVyZ3lcbiAgICBKOiB7XG4gICAgICBuYW1lOiAnSicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBqb3VsZToge1xuICAgICAgbmFtZTogJ2pvdWxlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGVyZzoge1xuICAgICAgbmFtZTogJ2VyZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDFlLTcsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFdoOiB7XG4gICAgICBuYW1lOiAnV2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMzYwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgQlRVOiB7XG4gICAgICBuYW1lOiAnQlRVJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJUVSxcbiAgICAgIHZhbHVlOiAxMDU1LjA1NTg1MjYyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBlVjoge1xuICAgICAgbmFtZTogJ2VWJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEuNjAyMTc2NTY1ZS0xOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZWxlY3Ryb252b2x0OiB7XG4gICAgICBuYW1lOiAnZWxlY3Ryb252b2x0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMS42MDIxNzY1NjVlLTE5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBQb3dlclxuICAgIFc6IHtcbiAgICAgIG5hbWU6ICdXJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgd2F0dDoge1xuICAgICAgbmFtZTogJ3dhdHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGhwOiB7XG4gICAgICBuYW1lOiAnaHAnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDc0NS42OTk4NzE1Mzg2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpY2FsIHBvd2VyIHVuaXRzXG4gICAgVkFSOiB7XG4gICAgICBuYW1lOiAnVkFSJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogQ29tcGxleC5JLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBWQToge1xuICAgICAgbmFtZTogJ1ZBJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gUHJlc3N1cmVcbiAgICBQYToge1xuICAgICAgbmFtZTogJ1BhJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcHNpOiB7XG4gICAgICBuYW1lOiAncHNpJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2ODk0Ljc1NzI5Mjc2NDU5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBhdG06IHtcbiAgICAgIG5hbWU6ICdhdG0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEwMTMyNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYmFyOiB7XG4gICAgICBuYW1lOiAnYmFyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlRMT05HLFxuICAgICAgdmFsdWU6IDEwMDAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdG9ycjoge1xuICAgICAgbmFtZTogJ3RvcnInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEzMy4zMjIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1tSGc6IHtcbiAgICAgIG5hbWU6ICdtbUhnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMzMuMzIyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtbUgyTzoge1xuICAgICAgbmFtZTogJ21tSDJPJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA5LjgwNjY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjbUgyTzoge1xuICAgICAgbmFtZTogJ2NtSDJPJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA5OC4wNjY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjaGFyZ2VcbiAgICBjb3Vsb21iOiB7XG4gICAgICBuYW1lOiAnY291bG9tYicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NIQVJHRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEM6IHtcbiAgICAgIG5hbWU6ICdDJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0hBUkdFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGNhcGFjaXRhbmNlXG4gICAgZmFyYWQ6IHtcbiAgICAgIG5hbWU6ICdmYXJhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NBUEFDSVRBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgRjoge1xuICAgICAgbmFtZTogJ0YnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DQVBBQ0lUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBwb3RlbnRpYWxcbiAgICB2b2x0OiB7XG4gICAgICBuYW1lOiAndm9sdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1BPVEVOVElBTCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFY6IHtcbiAgICAgIG5hbWU6ICdWJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUE9URU5USUFMLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIHJlc2lzdGFuY2VcbiAgICBvaG06IHtcbiAgICAgIG5hbWU6ICdvaG0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19SRVNJU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JUTE9ORyxcbiAgICAgIC8vIEJvdGggTW9obSBhbmQgbWVnYW9obSBhcmUgYWNjZXB0YWJsZVxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBVbmljb2RlIGJyZWFrcyBpbiBicm93c2VycyBpZiBjaGFyc2V0IGlzIG5vdCBzcGVjaWZpZWRcbiAgICDOqToge1xuICAgICAgbmFtZTogJ86pJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUkVTSVNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAqL1xuICAgIC8vIEVsZWN0cmljIGluZHVjdGFuY2VcbiAgICBoZW5yeToge1xuICAgICAgbmFtZTogJ2hlbnJ5JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfSU5EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgIG5hbWU6ICdIJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfSU5EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjb25kdWN0YW5jZVxuICAgIHNpZW1lbnM6IHtcbiAgICAgIG5hbWU6ICdzaWVtZW5zJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ09ORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBTOiB7XG4gICAgICBuYW1lOiAnUycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NPTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIE1hZ25ldGljIGZsdXhcbiAgICB3ZWJlcjoge1xuICAgICAgbmFtZTogJ3dlYmVyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFdiOiB7XG4gICAgICBuYW1lOiAnV2InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIE1hZ25ldGljIGZsdXggZGVuc2l0eVxuICAgIHRlc2xhOiB7XG4gICAgICBuYW1lOiAndGVzbGEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYX0RFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBUOiB7XG4gICAgICBuYW1lOiAnVCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVhfREVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBCaW5hcnlcbiAgICBiOiB7XG4gICAgICBuYW1lOiAnYicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYml0czoge1xuICAgICAgbmFtZTogJ2JpdHMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX0xPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgQjoge1xuICAgICAgbmFtZTogJ0InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX1NIT1JULFxuICAgICAgdmFsdWU6IDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGJ5dGVzOiB7XG4gICAgICBuYW1lOiAnYnl0ZXMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX0xPTkcsXG4gICAgICB2YWx1ZTogOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH1cbiAgfTsgLy8gYWxpYXNlcyAoZm9ybWVybHkgcGx1cmFscylcblxuICB2YXIgQUxJQVNFUyA9IHtcbiAgICBtZXRlcnM6ICdtZXRlcicsXG4gICAgaW5jaGVzOiAnaW5jaCcsXG4gICAgZmVldDogJ2Zvb3QnLFxuICAgIHlhcmRzOiAneWFyZCcsXG4gICAgbWlsZXM6ICdtaWxlJyxcbiAgICBsaW5rczogJ2xpbmsnLFxuICAgIHJvZHM6ICdyb2QnLFxuICAgIGNoYWluczogJ2NoYWluJyxcbiAgICBhbmdzdHJvbXM6ICdhbmdzdHJvbScsXG4gICAgbHQ6ICdsJyxcbiAgICBsaXRyZXM6ICdsaXRyZScsXG4gICAgbGl0ZXI6ICdsaXRyZScsXG4gICAgbGl0ZXJzOiAnbGl0cmUnLFxuICAgIHRlYXNwb29uczogJ3RlYXNwb29uJyxcbiAgICB0YWJsZXNwb29uczogJ3RhYmxlc3Bvb24nLFxuICAgIG1pbmltczogJ21pbmltJyxcbiAgICBmbHVpZGRyYW1zOiAnZmx1aWRkcmFtJyxcbiAgICBmbHVpZG91bmNlczogJ2ZsdWlkb3VuY2UnLFxuICAgIGdpbGxzOiAnZ2lsbCcsXG4gICAgY3VwczogJ2N1cCcsXG4gICAgcGludHM6ICdwaW50JyxcbiAgICBxdWFydHM6ICdxdWFydCcsXG4gICAgZ2FsbG9uczogJ2dhbGxvbicsXG4gICAgYmVlcmJhcnJlbHM6ICdiZWVyYmFycmVsJyxcbiAgICBvaWxiYXJyZWxzOiAnb2lsYmFycmVsJyxcbiAgICBob2dzaGVhZHM6ICdob2dzaGVhZCcsXG4gICAgZ3R0czogJ2d0dCcsXG4gICAgZ3JhbXM6ICdncmFtJyxcbiAgICB0b25zOiAndG9uJyxcbiAgICB0b25uZXM6ICd0b25uZScsXG4gICAgZ3JhaW5zOiAnZ3JhaW4nLFxuICAgIGRyYW1zOiAnZHJhbScsXG4gICAgb3VuY2VzOiAnb3VuY2UnLFxuICAgIHBvdW5kbWFzc2VzOiAncG91bmRtYXNzJyxcbiAgICBodW5kcmVkd2VpZ2h0czogJ2h1bmRyZWR3ZWlnaHQnLFxuICAgIHN0aWNrczogJ3N0aWNrJyxcbiAgICBsYjogJ2xibScsXG4gICAgbGJzOiAnbGJtJyxcbiAgICBraXBzOiAna2lwJyxcbiAgICBrZ2Y6ICdraWxvZ3JhbWZvcmNlJyxcbiAgICBhY3JlczogJ2FjcmUnLFxuICAgIGhlY3RhcmVzOiAnaGVjdGFyZScsXG4gICAgc3FmZWV0OiAnc3FmdCcsXG4gICAgc3F5YXJkOiAnc3F5ZCcsXG4gICAgc3FtaWxlOiAnc3FtaScsXG4gICAgc3FtaWxlczogJ3NxbWknLFxuICAgIG1taGc6ICdtbUhnJyxcbiAgICBtbWgybzogJ21tSDJPJyxcbiAgICBjbWgybzogJ2NtSDJPJyxcbiAgICBzZWNvbmRzOiAnc2Vjb25kJyxcbiAgICBzZWNzOiAnc2Vjb25kJyxcbiAgICBtaW51dGVzOiAnbWludXRlJyxcbiAgICBtaW5zOiAnbWludXRlJyxcbiAgICBob3VyczogJ2hvdXInLFxuICAgIGhyOiAnaG91cicsXG4gICAgaHJzOiAnaG91cicsXG4gICAgZGF5czogJ2RheScsXG4gICAgd2Vla3M6ICd3ZWVrJyxcbiAgICBtb250aHM6ICdtb250aCcsXG4gICAgeWVhcnM6ICd5ZWFyJyxcbiAgICBkZWNhZGVzOiAnZGVjYWRlJyxcbiAgICBjZW50dXJpZXM6ICdjZW50dXJ5JyxcbiAgICBtaWxsZW5uaWE6ICdtaWxsZW5uaXVtJyxcbiAgICBoZXJ0ejogJ2hlcnR6JyxcbiAgICByYWRpYW5zOiAncmFkaWFuJyxcbiAgICBkZWdyZWVzOiAnZGVncmVlJyxcbiAgICBncmFkaWFuczogJ2dyYWRpYW4nLFxuICAgIGN5Y2xlczogJ2N5Y2xlJyxcbiAgICBhcmNzZWNvbmQ6ICdhcmNzZWMnLFxuICAgIGFyY3NlY29uZHM6ICdhcmNzZWMnLFxuICAgIGFyY21pbnV0ZTogJ2FyY21pbicsXG4gICAgYXJjbWludXRlczogJ2FyY21pbicsXG4gICAgQlRVczogJ0JUVScsXG4gICAgd2F0dHM6ICd3YXR0JyxcbiAgICBqb3VsZXM6ICdqb3VsZScsXG4gICAgYW1wZXJlczogJ2FtcGVyZScsXG4gICAgY291bG9tYnM6ICdjb3Vsb21iJyxcbiAgICB2b2x0czogJ3ZvbHQnLFxuICAgIG9obXM6ICdvaG0nLFxuICAgIGZhcmFkczogJ2ZhcmFkJyxcbiAgICB3ZWJlcnM6ICd3ZWJlcicsXG4gICAgdGVzbGFzOiAndGVzbGEnLFxuICAgIGVsZWN0cm9udm9sdHM6ICdlbGVjdHJvbnZvbHQnLFxuICAgIG1vbGVzOiAnbW9sZScsXG4gICAgYml0OiAnYml0cycsXG4gICAgYnl0ZTogJ2J5dGVzJ1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSB2YWx1ZXMgZm9yIHRoZSBhbmdsZSB1bml0cy5cbiAgICogVmFsdWUgaXMgY2FsY3VsYXRlZCBhcyBudW1iZXIgb3IgQmlnTnVtYmVyIGRlcGVuZGluZyBvbiB0aGUgY29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0ge3tudW1iZXI6ICdudW1iZXInIHwgJ0JpZ051bWJlcid9fSBjb25maWdcbiAgICovXG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlQW5nbGVWYWx1ZXMoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5udW1iZXIgPT09ICdCaWdOdW1iZXInKSB7XG4gICAgICB2YXIgcGkgPSBjcmVhdGVQaShfQmlnTnVtYmVyKTtcbiAgICAgIFVOSVRTLnJhZC52YWx1ZSA9IG5ldyBfQmlnTnVtYmVyKDEpO1xuICAgICAgVU5JVFMuZGVnLnZhbHVlID0gcGkuZGl2KDE4MCk7IC8vIDIgKiBwaSAvIDM2MFxuXG4gICAgICBVTklUUy5ncmFkLnZhbHVlID0gcGkuZGl2KDIwMCk7IC8vIDIgKiBwaSAvIDQwMFxuXG4gICAgICBVTklUUy5jeWNsZS52YWx1ZSA9IHBpLnRpbWVzKDIpOyAvLyAyICogcGlcblxuICAgICAgVU5JVFMuYXJjc2VjLnZhbHVlID0gcGkuZGl2KDY0ODAwMCk7IC8vIDIgKiBwaSAvIDM2MCAvIDM2MDBcblxuICAgICAgVU5JVFMuYXJjbWluLnZhbHVlID0gcGkuZGl2KDEwODAwKTsgLy8gMiAqIHBpIC8gMzYwIC8gNjBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbnVtYmVyXG4gICAgICBVTklUUy5yYWQudmFsdWUgPSAxO1xuICAgICAgVU5JVFMuZGVnLnZhbHVlID0gTWF0aC5QSSAvIDE4MDsgLy8gMiAqIHBpIC8gMzYwXG5cbiAgICAgIFVOSVRTLmdyYWQudmFsdWUgPSBNYXRoLlBJIC8gMjAwOyAvLyAyICogcGkgLyA0MDBcblxuICAgICAgVU5JVFMuY3ljbGUudmFsdWUgPSBNYXRoLlBJICogMjsgLy8gMiAqIHBpXG5cbiAgICAgIFVOSVRTLmFyY3NlYy52YWx1ZSA9IE1hdGguUEkgLyA2NDgwMDA7IC8vIDIgKiBwaSAvIDM2MCAvIDM2MDBcblxuICAgICAgVU5JVFMuYXJjbWluLnZhbHVlID0gTWF0aC5QSSAvIDEwODAwOyAvLyAyICogcGkgLyAzNjAgLyA2MFxuICAgIH0gLy8gY29weSB0byB0aGUgZnVsbCBuYW1lcyBvZiB0aGUgYW5nbGVzXG5cblxuICAgIFVOSVRTLnJhZGlhbi52YWx1ZSA9IFVOSVRTLnJhZC52YWx1ZTtcbiAgICBVTklUUy5kZWdyZWUudmFsdWUgPSBVTklUUy5kZWcudmFsdWU7XG4gICAgVU5JVFMuZ3JhZGlhbi52YWx1ZSA9IFVOSVRTLmdyYWQudmFsdWU7XG4gIH0gLy8gYXBwbHkgdGhlIGFuZ2xlIHZhbHVlcyBub3dcblxuXG4gIGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKGNvbmZpZyk7XG5cbiAgaWYgKG9uKSB7XG4gICAgLy8gcmVjYWxjdWxhdGUgdGhlIHZhbHVlcyBvbiBjaGFuZ2Ugb2YgY29uZmlndXJhdGlvblxuICAgIG9uKCdjb25maWcnLCBmdW5jdGlvbiAoY3VyciwgcHJldikge1xuICAgICAgaWYgKGN1cnIubnVtYmVyICE9PSBwcmV2Lm51bWJlcikge1xuICAgICAgICBjYWxjdWxhdGVBbmdsZVZhbHVlcyhjdXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQSB1bml0IHN5c3RlbSBpcyBhIHNldCBvZiBkaW1lbnNpb25hbGx5IGluZGVwZW5kZW50IGJhc2UgdW5pdHMgcGx1cyBhIHNldCBvZiBkZXJpdmVkIHVuaXRzLCBmb3JtZWQgYnkgbXVsdGlwbGljYXRpb24gYW5kIGRpdmlzaW9uIG9mIHRoZSBiYXNlIHVuaXRzLCB0aGF0IGFyZSBieSBjb252ZW50aW9uIHVzZWQgd2l0aCB0aGUgdW5pdCBzeXN0ZW0uXG4gICAqIEEgdXNlciBwZXJoYXBzIGNvdWxkIGlzc3VlIGEgY29tbWFuZCB0byBzZWxlY3QgYSBwcmVmZXJyZWQgdW5pdCBzeXN0ZW0sIG9yIHVzZSB0aGUgZGVmYXVsdCAoc2VlIGJlbG93KS5cbiAgICogQXV0byB1bml0IHN5c3RlbTogVGhlIGRlZmF1bHQgdW5pdCBzeXN0ZW0gaXMgdXBkYXRlZCBvbiB0aGUgZmx5IGFueXRpbWUgYSB1bml0IGlzIHBhcnNlZC4gVGhlIGNvcnJlc3BvbmRpbmcgdW5pdCBpbiB0aGUgZGVmYXVsdCB1bml0IHN5c3RlbSBpcyB1cGRhdGVkLCBzbyB0aGF0IGFuc3dlcnMgYXJlIGdpdmVuIGluIHRoZSBzYW1lIHVuaXRzIHRoZSB1c2VyIHN1cHBsaWVzLlxuICAgKi9cblxuXG4gIHZhciBVTklUX1NZU1RFTVMgPSB7XG4gICAgc2k6IHtcbiAgICAgIC8vIEJhc2UgdW5pdHNcbiAgICAgIE5PTkU6IHtcbiAgICAgICAgdW5pdDogVU5JVF9OT05FLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gICAgICB9LFxuICAgICAgTEVOR1RIOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLm0sXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTUFTUzoge1xuICAgICAgICB1bml0OiBVTklUUy5nLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JULmtcbiAgICAgIH0sXG4gICAgICBUSU1FOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLnMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQ1VSUkVOVDoge1xuICAgICAgICB1bml0OiBVTklUUy5BLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIFRFTVBFUkFUVVJFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkssXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTFVNSU5PVVNfSU5URU5TSVRZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLmNkLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEFNT1VOVF9PRl9TVUJTVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMubW9sLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEFOR0xFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLnJhZCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBCSVQ6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuYml0cyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICAvLyBEZXJpdmVkIHVuaXRzXG4gICAgICBGT1JDRToge1xuICAgICAgICB1bml0OiBVTklUUy5OLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVORVJHWToge1xuICAgICAgICB1bml0OiBVTklUUy5KLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIFBPV0VSOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlcsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgUFJFU1NVUkU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuUGEsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfQ0hBUkdFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfQ0FQQUNJVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuRixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19QT1RFTlRJQUw6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuVixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19SRVNJU1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLm9obSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19JTkRVQ1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkgsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfQ09ORFVDVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuUyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBNQUdORVRJQ19GTFVYOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLldiLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIE1BR05FVElDX0ZMVVhfREVOU0lUWToge1xuICAgICAgICB1bml0OiBVTklUUy5ULFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEZSRVFVRU5DWToge1xuICAgICAgICB1bml0OiBVTklUUy5IeixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH1cbiAgICB9XG4gIH07IC8vIENsb25lIHRvIGNyZWF0ZSB0aGUgb3RoZXIgdW5pdCBzeXN0ZW1zXG5cbiAgVU5JVF9TWVNURU1TLmNncyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoVU5JVF9TWVNURU1TLnNpKSk7XG4gIFVOSVRfU1lTVEVNUy5jZ3MuTEVOR1RIID0ge1xuICAgIHVuaXQ6IFVOSVRTLm0sXG4gICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVC5jXG4gIH07XG4gIFVOSVRfU1lTVEVNUy5jZ3MuTUFTUyA9IHtcbiAgICB1bml0OiBVTklUUy5nLFxuICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy5jZ3MuRk9SQ0UgPSB7XG4gICAgdW5pdDogVU5JVFMuZHluLFxuICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy5jZ3MuRU5FUkdZID0ge1xuICAgIHVuaXQ6IFVOSVRTLmVyZyxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07IC8vIHRoZXJlIGFyZSB3aG9sbHkgNCB1bmlxdWUgY2dzIHN5c3RlbXMgZm9yIGVsZWN0cmljaXR5IGFuZCBtYWduZXRpc20sXG4gIC8vIHNvIGxldCdzIG5vdCB3b3JyeSBhYm91dCBpdCB1bmxlc3Mgc29tZWJvZHkgY29tcGxhaW5zXG5cbiAgVU5JVF9TWVNURU1TLnVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShVTklUX1NZU1RFTVMuc2kpKTtcbiAgVU5JVF9TWVNURU1TLnVzLkxFTkdUSCA9IHtcbiAgICB1bml0OiBVTklUUy5mdCxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5NQVNTID0ge1xuICAgIHVuaXQ6IFVOSVRTLmxibSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5URU1QRVJBVFVSRSA9IHtcbiAgICB1bml0OiBVTklUUy5kZWdGLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLkZPUkNFID0ge1xuICAgIHVuaXQ6IFVOSVRTLmxiZixcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5FTkVSR1kgPSB7XG4gICAgdW5pdDogVU5JVFMuQlRVLFxuICAgIHByZWZpeDogUFJFRklYRVMuQlRVWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuUE9XRVIgPSB7XG4gICAgdW5pdDogVU5JVFMuaHAsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuUFJFU1NVUkUgPSB7XG4gICAgdW5pdDogVU5JVFMucHNpLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTsgLy8gQWRkIGFkZGl0aW9uYWwgdW5pdCBzeXN0ZW1zIGhlcmUuXG4gIC8vIENob29zZSBhIHVuaXQgc3lzdGVtIHRvIHNlZWQgdGhlIGF1dG8gdW5pdCBzeXN0ZW0uXG5cbiAgVU5JVF9TWVNURU1TLmF1dG8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFVOSVRfU1lTVEVNUy5zaSkpOyAvLyBTZXQgdGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW1cblxuICB2YXIgY3VycmVudFVuaXRTeXN0ZW0gPSBVTklUX1NZU1RFTVMuYXV0bztcbiAgLyoqXG4gICAqIFNldCBhIHVuaXQgc3lzdGVtIGZvciBmb3JtYXR0aW5nIGRlcml2ZWQgdW5pdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gVGhlIG5hbWUgb2YgdGhlIHVuaXQgc3lzdGVtLlxuICAgKi9cblxuICBVbml0LnNldFVuaXRTeXN0ZW0gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUX1NZU1RFTVMsIG5hbWUpKSB7XG4gICAgICBjdXJyZW50VW5pdFN5c3RlbSA9IFVOSVRfU1lTVEVNU1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml0IHN5c3RlbSAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QuIENob2ljZXMgYXJlOiAnICsgT2JqZWN0LmtleXMoVU5JVF9TWVNURU1TKS5qb2luKCcsICcpKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW0uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW0uXG4gICAqL1xuXG5cbiAgVW5pdC5nZXRVbml0U3lzdGVtID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9rZXkgaW4gVU5JVF9TWVNURU1TKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVF9TWVNURU1TLCBfa2V5KSkge1xuICAgICAgICBpZiAoVU5JVF9TWVNURU1TW19rZXldID09PSBjdXJyZW50VW5pdFN5c3RlbSkge1xuICAgICAgICAgIHJldHVybiBfa2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ29udmVydGVycyB0byBjb252ZXJ0IGZyb20gbnVtYmVyIHRvIGFuIG90aGVyIG51bWVyaWMgdHlwZSBsaWtlIEJpZ051bWJlclxuICAgKiBvciBGcmFjdGlvblxuICAgKi9cblxuXG4gIFVuaXQudHlwZUNvbnZlcnRlcnMgPSB7XG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIG5ldyBfQmlnTnVtYmVyKHggKyAnJyk7IC8vIHN0cmluZ2lmeSB0byBwcmV2ZW50IGNvbnN0cnVjdG9yIGVycm9yXG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIG5ldyBfRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHJpZ2h0IGNvbnZlcnRvciBmdW5jdGlvbiBjb3JyZXNwb25kaW5nIHdpdGggdGhlIHR5cGVcbiAgICogb2YgcHJvdmlkZWQgZXhhbXBsZVZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAgIEEgc3RyaW5nICdudW1iZXInLCAnQmlnTnVtYmVyJywgb3IgJ0ZyYWN0aW9uJ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2YgYW4gdW5rbm93biB0eXBlLFxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICovXG5cbiAgVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAoIVVuaXQudHlwZUNvbnZlcnRlcnNbdHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgXCInICsgdHlwZSArICdcIicpO1xuICAgIH1cblxuICAgIHJldHVybiBVbml0LnR5cGVDb252ZXJ0ZXJzW3R5cGVdO1xuICB9OyAvLyBBZGQgZGltZW5zaW9ucyB0byBlYWNoIGJ1aWx0LWluIHVuaXRcblxuXG4gIGZvciAodmFyIF9rZXkyIGluIFVOSVRTKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBfa2V5MikpIHtcbiAgICAgIHZhciB1bml0ID0gVU5JVFNbX2tleTJdO1xuICAgICAgdW5pdC5kaW1lbnNpb25zID0gdW5pdC5iYXNlLmRpbWVuc2lvbnM7XG4gICAgfVxuICB9IC8vIENyZWF0ZSBhbGlhc2VzXG5cblxuICBmb3IgKHZhciBfbmFtZTIgaW4gQUxJQVNFUykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShBTElBU0VTLCBfbmFtZTIpKSB7XG4gICAgICB2YXIgX3VuaXQyID0gVU5JVFNbQUxJQVNFU1tfbmFtZTJdXTtcbiAgICAgIHZhciBhbGlhcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5MyBpbiBfdW5pdDIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KF91bml0MiwgX2tleTMpKSB7XG4gICAgICAgICAgYWxpYXNbX2tleTNdID0gX3VuaXQyW19rZXkzXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhbGlhcy5uYW1lID0gX25hbWUyO1xuICAgICAgVU5JVFNbX25hbWUyXSA9IGFsaWFzO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgY2hhcmFjdGVyIGlzIGEgdmFsaWQgbGF0aW4gbGV0dGVyICh1cHBlciBvciBsb3dlciBjYXNlKS5cbiAgICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIGJlIG92ZXJyaWRkZW4sIGZvciBleGFtcGxlIHRvIGFsbG93IHN1cHBvcnQgb2Ygb3RoZXIgYWxwaGFiZXRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyBUZXN0ZWQgY2hhcmFjdGVyXG4gICAqL1xuXG5cbiAgVW5pdC5pc1ZhbGlkQWxwaGEgPSBmdW5jdGlvbiBpc1ZhbGlkQWxwaGEoYykge1xuICAgIHJldHVybiAvXlthLXpBLVpdJC8udGVzdChjKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhc3NlcnRVbml0TmFtZUlzVmFsaWQobmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgYyA9IG5hbWUuY2hhckF0KGkpO1xuXG4gICAgICBpZiAoaSA9PT0gMCAmJiAhVW5pdC5pc1ZhbGlkQWxwaGEoYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVuaXQgbmFtZSAobXVzdCBiZWdpbiB3aXRoIGFscGhhIGNoYXJhY3Rlcik6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGkgPiAwICYmICEoVW5pdC5pc1ZhbGlkQWxwaGEoYykgfHwgaXNEaWdpdChjKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVuaXQgbmFtZSAob25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhcmUgYWxsb3dlZCk6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdyYXBwZXIgYXJvdW5kIGNyZWF0ZVVuaXRTaW5nbGUuXG4gICAqIEV4YW1wbGU6XG4gICAqICBjcmVhdGVVbml0KHtcbiAgICogICAgZm9vOiB7IH0sXG4gICAqICAgIGJhcjoge1xuICAgKiAgICAgIGRlZmluaXRpb246ICdrZy9mb28nLFxuICAgKiAgICAgIGFsaWFzZXM6IFsnYmEnLCAnYmFycicsICdiYXJzJ10sXG4gICAqICAgICAgb2Zmc2V0OiAyMDBcbiAgICogICAgfSxcbiAgICogICAgYmF6OiAnNCBiYXInXG4gICAqICB9LFxuICAgKiAge1xuICAgKiAgICBvdmVycmlkZTogdHJ1ZVxuICAgKiAgfSlcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAgICAgIE9iamVjdCBtYXAuIEVhY2gga2V5IGJlY29tZXMgYSB1bml0IHdoaWNoIGlzIGRlZmluZWQgYnkgaXRzIHZhbHVlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgKi9cblxuXG4gIFVuaXQuY3JlYXRlVW5pdCA9IGZ1bmN0aW9uIChvYmosIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjcmVhdGVVbml0IGV4cGVjdHMgZmlyc3QgcGFyYW1ldGVyIHRvIGJlIG9mIHR5cGUgJ09iamVjdCdcIik7XG4gICAgfSAvLyBSZW1vdmUgYWxsIHVuaXRzIGFuZCBhbGlhc2VzIHdlIGFyZSBvdmVycmlkaW5nXG5cblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMub3ZlcnJpZGUpIHtcbiAgICAgIGZvciAodmFyIF9rZXk0IGluIG9iaikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqLCBfa2V5NCkpIHtcbiAgICAgICAgICBVbml0LmRlbGV0ZVVuaXQoX2tleTQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9ialtfa2V5NF0uYWxpYXNlcykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqW19rZXk0XS5hbGlhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBVbml0LmRlbGV0ZVVuaXQob2JqW19rZXk0XS5hbGlhc2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFRPRE86IHRyYXZlcnNlIG11bHRpcGxlIHRpbWVzIHVudGlsIGFsbCB1bml0cyBoYXZlIGJlZW4gYWRkZWRcblxuXG4gICAgdmFyIGxhc3RVbml0O1xuXG4gICAgZm9yICh2YXIgX2tleTUgaW4gb2JqKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqLCBfa2V5NSkpIHtcbiAgICAgICAgbGFzdFVuaXQgPSBVbml0LmNyZWF0ZVVuaXRTaW5nbGUoX2tleTUsIG9ialtfa2V5NV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYXN0VW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHVzZXItZGVmaW5lZCB1bml0IGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBVbml0IHR5cGUuXG4gICAqIEV4YW1wbGU6XG4gICAqICBjcmVhdGVVbml0U2luZ2xlKCdrbm90JywgJzAuNTE0NDQ0NDQ0IG0vcycpXG4gICAqICBjcmVhdGVVbml0U2luZ2xlKCdhY3JlJywgbmV3IFVuaXQoNDM1NjAsICdmdF4yJykpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgVGhlIG5hbWUgb2YgdGhlIG5ldyB1bml0LiBNdXN0IGJlIHVuaXF1ZS4gRXhhbXBsZTogJ2tub3QnXG4gICAqIEBwYXJhbSB7c3RyaW5nLCBVbml0LCBPYmplY3R9IGRlZmluaXRpb24gICAgICBEZWZpbml0aW9uIG9mIHRoZSB1bml0IGluIHRlcm1zXG4gICAqIG9mIGV4aXN0aW5nIHVuaXRzLiBGb3IgZXhhbXBsZSwgJzAuNTE0NDQ0NDQ0IG0gLyBzJy4gQ2FuIGJlIGEgVW5pdCwgYSBzdHJpbmcsXG4gICAqIG9yIGFuIE9iamVjdC4gSWYgYW4gT2JqZWN0LCBtYXkgaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAgLSBkZWZpbml0aW9uIHtzdHJpbmd8VW5pdH0gVGhlIGRlZmluaXRpb24gb2YgdGhpcyB1bml0LlxuICAgKiAgIC0gcHJlZml4ZXMge3N0cmluZ30gXCJub25lXCIsIFwic2hvcnRcIiwgXCJsb25nXCIsIFwiYmluYXJ5X3Nob3J0XCIsIG9yIFwiYmluYXJ5X2xvbmdcIi5cbiAgICogICAgIFRoZSBkZWZhdWx0IGlzIFwibm9uZVwiLlxuICAgKiAgIC0gYWxpYXNlcyB7QXJyYXl9IEFycmF5IG9mIHN0cmluZ3MuIEV4YW1wbGU6IFsna25vdHMnLCAna3QnLCAna3RzJ11cbiAgICogICAtIG9mZnNldCB7TnVtZXJpY30gQW4gb2Zmc2V0IHRvIGFwcGx5IHdoZW4gY29udmVydGluZyBmcm9tIHRoZSB1bml0LiBGb3JcbiAgICogICAgIGV4YW1wbGUsIHRoZSBvZmZzZXQgZm9yIGNlbHNpdXMgaXMgMjczLjE1IGFuZCB0aGUgb2Zmc2V0IGZvciBmYXJoZW5oZWl0XG4gICAqICAgICBpcyA0NTkuNjcuIERlZmF1bHQgaXMgMC5cbiAgICogICAtIGJhc2VOYW1lIHtzdHJpbmd9IElmIHRoZSB1bml0J3MgZGltZW5zaW9uIGRvZXMgbm90IG1hdGNoIHRoYXQgb2YgYW55IG90aGVyXG4gICAqICAgICBiYXNlIHVuaXQsIHRoZSBuYW1lIG9mIHRoZSBuZXdseSBjcmVhdGUgYmFzZSB1bml0LiBPdGhlcndpc2UsIHRoaXMgcHJvcGVydHlcbiAgICogICAgIGhhcyBubyBlZmZlY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICAgKG9wdGlvbmFsKSBBbiBvYmplY3QgY29udGFpbmluZyBhbnkgb2YgdGhlIGZvbGxvd2luZ1xuICAgKiBwcm9wZXJ0aWVzOlxuICAgKiAgIC0gb3ZlcnJpZGUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyB1bml0IHNob3VsZCBiZSBhbGxvd2VkIHRvIG92ZXJyaWRlIGV4aXN0aW5nXG4gICAqICAgICB1bml0cy5cbiAgICpcbiAgICogQHJldHVybiB7VW5pdH1cbiAgICovXG5cblxuICBVbml0LmNyZWF0ZVVuaXRTaW5nbGUgPSBmdW5jdGlvbiAobmFtZSwgb2JqLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgb2JqID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNyZWF0ZVVuaXRTaW5nbGUgZXhwZWN0cyBmaXJzdCBwYXJhbWV0ZXIgdG8gYmUgb2YgdHlwZSAnc3RyaW5nJ1wiKTtcbiAgICB9IC8vIENoZWNrIGNvbGxpc2lvbnMgd2l0aCBleGlzdGluZyB1bml0c1xuXG5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgdW5pdCBcIicgKyBuYW1lICsgJ1wiOiBhIHVuaXQgd2l0aCB0aGF0IG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9IC8vIFRPRE86IFZhbGlkYXRlIG5hbWUgZm9yIGNvbGxpc2lvbnMgd2l0aCBvdGhlciBidWlsdC1pbiBmdW5jdGlvbnMgKGxpa2UgYWJzIG9yIGNvcywgZm9yIGV4YW1wbGUpLCBhbmQgZm9yIGFjY2VwdGFibGUgdmFyaWFibGUgbmFtZXMuIEZvciBleGFtcGxlLCAnNDInIGlzIHByb2JhYmx5IG5vdCBhIHZhbGlkIHVuaXQuIE5vciBpcyAnJScsIHNpbmNlIGl0IGlzIGFsc28gYW4gb3BlcmF0b3IuXG5cblxuICAgIGFzc2VydFVuaXROYW1lSXNWYWxpZChuYW1lKTtcbiAgICB2YXIgZGVmVW5pdCA9IG51bGw7IC8vIFRoZSBVbml0IGZyb20gd2hpY2ggdGhlIG5ldyB1bml0IHdpbGwgYmUgY3JlYXRlZC5cblxuICAgIHZhciBhbGlhc2VzID0gW107XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgdmFyIGRlZmluaXRpb247XG4gICAgdmFyIHByZWZpeGVzO1xuICAgIHZhciBiYXNlTmFtZTtcblxuICAgIGlmIChvYmogJiYgb2JqLnR5cGUgPT09ICdVbml0Jykge1xuICAgICAgZGVmVW5pdCA9IG9iai5jbG9uZSgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChvYmogIT09ICcnKSB7XG4gICAgICAgIGRlZmluaXRpb24gPSBvYmo7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgZGVmaW5pdGlvbiA9IG9iai5kZWZpbml0aW9uO1xuICAgICAgcHJlZml4ZXMgPSBvYmoucHJlZml4ZXM7XG4gICAgICBvZmZzZXQgPSBvYmoub2Zmc2V0O1xuICAgICAgYmFzZU5hbWUgPSBvYmouYmFzZU5hbWU7XG5cbiAgICAgIGlmIChvYmouYWxpYXNlcykge1xuICAgICAgICBhbGlhc2VzID0gb2JqLmFsaWFzZXMudmFsdWVPZigpOyAvLyBhbGlhc2VzIGNvdWxkIGJlIGEgTWF0cml4LCBzbyBjb252ZXJ0IHRvIEFycmF5XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgdW5pdCBcIicgKyBuYW1lICsgJ1wiIGZyb20gXCInICsgb2JqLnRvU3RyaW5nKCkgKyAnXCI6IGV4cGVjdGluZyBcInN0cmluZ1wiIG9yIFwiVW5pdFwiIG9yIFwiT2JqZWN0XCInKTtcbiAgICB9XG5cbiAgICBpZiAoYWxpYXNlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGlhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgYWxpYXNlc1tpXSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgYWxpYXMgXCInICsgYWxpYXNlc1tpXSArICdcIjogYSB1bml0IHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGVmaW5pdGlvbiAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ3N0cmluZycgJiYgIWRlZlVuaXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRlZlVuaXQgPSBVbml0LnBhcnNlKGRlZmluaXRpb24sIHtcbiAgICAgICAgICBhbGxvd05vVW5pdHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBleC5tZXNzYWdlID0gJ0NvdWxkIG5vdCBjcmVhdGUgdW5pdCBcIicgKyBuYW1lICsgJ1wiIGZyb20gXCInICsgZGVmaW5pdGlvbiArICdcIjogJyArIGV4Lm1lc3NhZ2U7XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGVmaW5pdGlvbiAmJiBkZWZpbml0aW9uLnR5cGUgPT09ICdVbml0Jykge1xuICAgICAgZGVmVW5pdCA9IGRlZmluaXRpb24uY2xvbmUoKTtcbiAgICB9XG5cbiAgICBhbGlhc2VzID0gYWxpYXNlcyB8fCBbXTtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGlmIChwcmVmaXhlcyAmJiBwcmVmaXhlcy50b1VwcGVyQ2FzZSkge1xuICAgICAgcHJlZml4ZXMgPSBQUkVGSVhFU1twcmVmaXhlcy50b1VwcGVyQ2FzZSgpXSB8fCBQUkVGSVhFUy5OT05FO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmVmaXhlcyA9IFBSRUZJWEVTLk5PTkU7XG4gICAgfSAvLyBJZiBkZWZVbml0IGlzIG51bGwsIGl0IGlzIGJlY2F1c2UgdGhlIHVzZXIgZGlkIG5vdFxuICAgIC8vIHNwZWNpZnkgYSBkZWZpbnRpb24uIFNvIGNyZWF0ZSBhIG5ldyBiYXNlIGRpbWVuc2lvbi5cblxuXG4gICAgdmFyIG5ld1VuaXQgPSB7fTtcblxuICAgIGlmICghZGVmVW5pdCkge1xuICAgICAgLy8gQWRkIGEgbmV3IGJhc2UgZGltZW5zaW9uXG4gICAgICBiYXNlTmFtZSA9IGJhc2VOYW1lIHx8IG5hbWUgKyAnX1NUVUZGJzsgLy8gZm9vIC0tPiBmb29fU1RVRkYsIG9yIHRoZSBlc3NlbmNlIG9mIGZvb1xuXG4gICAgICBpZiAoQkFTRV9ESU1FTlNJT05TLmluZGV4T2YoYmFzZU5hbWUpID49IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIG5ldyBiYXNlIHVuaXQgXCInICsgbmFtZSArICdcIjogYSBiYXNlIHVuaXQgd2l0aCB0aGF0IG5hbWUgYWxyZWFkeSBleGlzdHMgKGFuZCBjYW5ub3QgYmUgb3ZlcnJpZGRlbiknKTtcbiAgICAgIH1cblxuICAgICAgQkFTRV9ESU1FTlNJT05TLnB1c2goYmFzZU5hbWUpOyAvLyBQdXNoIDAgb250byBleGlzdGluZyBiYXNlIHVuaXRzXG5cbiAgICAgIGZvciAodmFyIGIgaW4gQkFTRV9VTklUUykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoQkFTRV9VTklUUywgYikpIHtcbiAgICAgICAgICBCQVNFX1VOSVRTW2JdLmRpbWVuc2lvbnNbQkFTRV9ESU1FTlNJT05TLmxlbmd0aCAtIDFdID0gMDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBBZGQgdGhlIG5ldyBiYXNlIHVuaXRcblxuXG4gICAgICB2YXIgbmV3QmFzZVVuaXQgPSB7XG4gICAgICAgIGRpbWVuc2lvbnM6IFtdXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBfaTYrKykge1xuICAgICAgICBuZXdCYXNlVW5pdC5kaW1lbnNpb25zW19pNl0gPSAwO1xuICAgICAgfVxuXG4gICAgICBuZXdCYXNlVW5pdC5kaW1lbnNpb25zW0JBU0VfRElNRU5TSU9OUy5sZW5ndGggLSAxXSA9IDE7XG4gICAgICBuZXdCYXNlVW5pdC5rZXkgPSBiYXNlTmFtZTtcbiAgICAgIEJBU0VfVU5JVFNbYmFzZU5hbWVdID0gbmV3QmFzZVVuaXQ7XG4gICAgICBuZXdVbml0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgZGltZW5zaW9uczogQkFTRV9VTklUU1tiYXNlTmFtZV0uZGltZW5zaW9ucy5zbGljZSgwKSxcbiAgICAgICAgcHJlZml4ZXM6IHByZWZpeGVzLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgYmFzZTogQkFTRV9VTklUU1tiYXNlTmFtZV1cbiAgICAgIH07XG4gICAgICBjdXJyZW50VW5pdFN5c3RlbVtiYXNlTmFtZV0gPSB7XG4gICAgICAgIHVuaXQ6IG5ld1VuaXQsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1VuaXQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHZhbHVlOiBkZWZVbml0LnZhbHVlLFxuICAgICAgICBkaW1lbnNpb25zOiBkZWZVbml0LmRpbWVuc2lvbnMuc2xpY2UoMCksXG4gICAgICAgIHByZWZpeGVzOiBwcmVmaXhlcyxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgIH07IC8vIENyZWF0ZSBhIG5ldyBiYXNlIGlmIG5vIG1hdGNoaW5nIGJhc2UgZXhpc3RzXG5cbiAgICAgIHZhciBhbnlNYXRjaCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBfaTcgaW4gQkFTRV9VTklUUykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoQkFTRV9VTklUUywgX2k3KSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHRydWU7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKChuZXdVbml0LmRpbWVuc2lvbnNbal0gfHwgMCkgLSAoQkFTRV9VTklUU1tfaTddLmRpbWVuc2lvbnNbal0gfHwgMCkpID4gMWUtMTIpIHtcbiAgICAgICAgICAgICAgbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBhbnlNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICBuZXdVbml0LmJhc2UgPSBCQVNFX1VOSVRTW19pN107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhbnlNYXRjaCkge1xuICAgICAgICBiYXNlTmFtZSA9IGJhc2VOYW1lIHx8IG5hbWUgKyAnX1NUVUZGJzsgLy8gZm9vIC0tPiBmb29fU1RVRkYsIG9yIHRoZSBlc3NlbmNlIG9mIGZvb1xuICAgICAgICAvLyBBZGQgdGhlIG5ldyBiYXNlIHVuaXRcblxuICAgICAgICB2YXIgX25ld0Jhc2VVbml0ID0ge1xuICAgICAgICAgIGRpbWVuc2lvbnM6IGRlZlVuaXQuZGltZW5zaW9ucy5zbGljZSgwKVxuICAgICAgICB9O1xuICAgICAgICBfbmV3QmFzZVVuaXQua2V5ID0gYmFzZU5hbWU7XG4gICAgICAgIEJBU0VfVU5JVFNbYmFzZU5hbWVdID0gX25ld0Jhc2VVbml0O1xuICAgICAgICBjdXJyZW50VW5pdFN5c3RlbVtiYXNlTmFtZV0gPSB7XG4gICAgICAgICAgdW5pdDogbmV3VW5pdCxcbiAgICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gICAgICAgIH07XG4gICAgICAgIG5ld1VuaXQuYmFzZSA9IEJBU0VfVU5JVFNbYmFzZU5hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIFVuaXQuVU5JVFNbbmFtZV0gPSBuZXdVbml0O1xuXG4gICAgZm9yICh2YXIgX2k4ID0gMDsgX2k4IDwgYWxpYXNlcy5sZW5ndGg7IF9pOCsrKSB7XG4gICAgICB2YXIgYWxpYXNOYW1lID0gYWxpYXNlc1tfaThdO1xuICAgICAgdmFyIF9hbGlhcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5NiBpbiBuZXdVbml0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShuZXdVbml0LCBfa2V5NikpIHtcbiAgICAgICAgICBfYWxpYXNbX2tleTZdID0gbmV3VW5pdFtfa2V5Nl07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX2FsaWFzLm5hbWUgPSBhbGlhc05hbWU7XG4gICAgICBVbml0LlVOSVRTW2FsaWFzTmFtZV0gPSBfYWxpYXM7XG4gICAgfSAvLyBkZWxldGUgdGhlIG1lbW9pemF0aW9uIGNhY2hlLCBzaW5jZSBhZGRpbmcgYSBuZXcgdW5pdCB0byB0aGUgYXJyYXlcbiAgICAvLyBpbnZhbGlkYXRlcyBhbGwgb2xkIHJlc3VsdHNcblxuXG4gICAgZGVsZXRlIF9maW5kVW5pdC5jYWNoZTtcbiAgICByZXR1cm4gbmV3IFVuaXQobnVsbCwgbmFtZSk7XG4gIH07XG5cbiAgVW5pdC5kZWxldGVVbml0ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBkZWxldGUgVW5pdC5VTklUU1tuYW1lXTtcbiAgfTsgLy8gZXhwb3NlIGFycmF5cyB3aXRoIHByZWZpeGVzLCBkaW1lbnNpb25zLCB1bml0cywgc3lzdGVtc1xuXG5cbiAgVW5pdC5QUkVGSVhFUyA9IFBSRUZJWEVTO1xuICBVbml0LkJBU0VfRElNRU5TSU9OUyA9IEJBU0VfRElNRU5TSU9OUztcbiAgVW5pdC5CQVNFX1VOSVRTID0gQkFTRV9VTklUUztcbiAgVW5pdC5VTklUX1NZU1RFTVMgPSBVTklUX1NZU1RFTVM7XG4gIFVuaXQuVU5JVFMgPSBVTklUUztcbiAgcmV0dXJuIFVuaXQ7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ3VuaXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnVW5pdCddOyAvLyBUaGlzIGZ1bmN0aW9uIGlzIG5hbWVkIGNyZWF0ZVVuaXRGdW5jdGlvbiB0byBwcmV2ZW50IGEgbmFtaW5nIGNvbmZsaWN0IHdpdGggY3JlYXRlVW5pdFxuXG5leHBvcnQgdmFyIGNyZWF0ZVVuaXRGdW5jdGlvbiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIFVuaXRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHVuaXQuIERlcGVuZGluZyBvbiB0aGUgcGFzc2VkIGFyZ3VtZW50cywgdGhlIGZ1bmN0aW9uXG4gICAqIHdpbGwgY3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgbWF0aC5Vbml0IG9iamVjdC5cbiAgICogV2hlbiBhIG1hdHJpeCBpcyBwcm92aWRlZCwgYWxsIGVsZW1lbnRzIHdpbGwgYmUgY29udmVydGVkIHRvIHVuaXRzLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLnVuaXQodW5pdCA6IHN0cmluZylcbiAgICogICAgIG1hdGgudW5pdCh2YWx1ZSA6IG51bWJlciwgdW5pdCA6IHN0cmluZylcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoNSwgJ2NtJykgICAgLy8gcmV0dXJucyBVbml0IDUwIG1tXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzIzIGtnJykgICAgLy8gcmV0dXJucyBVbml0IDIzIGtnXG4gICAqICAgIGEudG8oJ20nKSAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDAuMDUgbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbWF0cml4LCBudW1iZXIsIHN0cmluZywgY3JlYXRlVW5pdFxuICAgKlxuICAgKiBAcGFyYW0geyogfCBBcnJheSB8IE1hdHJpeH0gYXJncyAgIEEgbnVtYmVyIGFuZCB1bml0LlxuICAgKiBAcmV0dXJuIHtVbml0IHwgQXJyYXkgfCBNYXRyaXh9ICAgIFRoZSBjcmVhdGVkIHVuaXRcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICByZXR1cm4geC5jbG9uZSgpO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgaWYgKFVuaXQuaXNWYWx1ZWxlc3NVbml0KHgpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pdChudWxsLCB4KTsgLy8gYSBwdXJlIHVuaXRcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFVuaXQucGFyc2UoeCwge1xuICAgICAgICBhbGxvd05vVW5pdHM6IHRydWVcbiAgICAgIH0pOyAvLyBhIHVuaXQgd2l0aCB2YWx1ZSwgbGlrZSAnNWNtJ1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyRnJhY3Rpb25Db21wbGV4U3RyaW5nKHZhbHVlLCB1bml0KSB7XG4gICAgICByZXR1cm4gbmV3IFVuaXQodmFsdWUsIHVuaXQpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2NyZWF0ZVVuaXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnVW5pdCddO1xuZXhwb3J0IHZhciBjcmVhdGVDcmVhdGVVbml0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgVW5pdFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdXNlci1kZWZpbmVkIHVuaXQgYW5kIHJlZ2lzdGVyIGl0IHdpdGggdGhlIFVuaXQgdHlwZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KHtcbiAgICogICAgICAgYmFzZVVuaXQxOiB7XG4gICAqICAgICAgICAgYWxpYXNlczogW3N0cmluZywgLi4uXVxuICAgKiAgICAgICAgIHByZWZpeGVzOiBvYmplY3RcbiAgICogICAgICAgfSxcbiAgICogICAgICAgdW5pdDI6IHtcbiAgICogICAgICAgICBkZWZpbml0aW9uOiBzdHJpbmcsXG4gICAqICAgICAgICAgYWxpYXNlczogW3N0cmluZywgLi4uXVxuICAgKiAgICAgICAgIHByZWZpeGVzOiBvYmplY3QsXG4gICAqICAgICAgICAgb2Zmc2V0OiBudW1iZXJcbiAgICogICAgICAgfSxcbiAgICogICAgICAgdW5pdDM6IHN0cmluZyAgICAvLyBTaG9ydGN1dFxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIEFub3RoZXIgc2hvcnRjdXQ6XG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoc3RyaW5nLCB1bml0IDogc3RyaW5nLCBbb2JqZWN0XSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoJ2ZvbycpXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoJ2tub3QnLCB7ZGVmaW5pdGlvbjogJzAuNTE0NDQ0NDQ0IG0vcycsIGFsaWFzZXM6IFsna25vdHMnLCAna3QnLCAna3RzJ119KVxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KCdtcGgnLCAnMSBtaWxlL2hvdXInKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgIFRoZSBuYW1lIG9mIHRoZSBuZXcgdW5pdC4gTXVzdCBiZSB1bmlxdWUuIEV4YW1wbGU6ICdrbm90J1xuICAgKiBAcGFyYW0ge3N0cmluZywgVW5pdH0gZGVmaW5pdGlvbiAgICAgIERlZmluaXRpb24gb2YgdGhlIHVuaXQgaW4gdGVybXMgb2YgZXhpc3RpbmcgdW5pdHMuIEZvciBleGFtcGxlLCAnMC41MTQ0NDQ0NDQgbSAvIHMnLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgIChvcHRpb25hbCkgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYW55IG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogICAgIC0gYHByZWZpeGVzIHtzdHJpbmd9YCBcIm5vbmVcIiwgXCJzaG9ydFwiLCBcImxvbmdcIiwgXCJiaW5hcnlfc2hvcnRcIiwgb3IgXCJiaW5hcnlfbG9uZ1wiLiBUaGUgZGVmYXVsdCBpcyBcIm5vbmVcIi5cbiAgICogICAgIC0gYGFsaWFzZXMge0FycmF5fWAgQXJyYXkgb2Ygc3RyaW5ncy4gRXhhbXBsZTogWydrbm90cycsICdrdCcsICdrdHMnXVxuICAgKiAgICAgLSBgb2Zmc2V0IHtOdW1lcmljfWAgQW4gb2Zmc2V0IHRvIGFwcGx5IHdoZW4gY29udmVydGluZyBmcm9tIHRoZSB1bml0LiBGb3IgZXhhbXBsZSwgdGhlIG9mZnNldCBmb3IgY2Vsc2l1cyBpcyAyNzMuMTUuIERlZmF1bHQgaXMgMC5cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICB1bml0XG4gICAqXG4gICAqIEByZXR1cm4ge1VuaXR9IFRoZSBuZXcgdW5pdFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAvLyBHZW5lcmFsIGZ1bmN0aW9uIHNpZ25hdHVyZS4gRmlyc3QgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIHRoZSBkZWZpbml0aW9uIG9mIGEgbmV3IHVuaXQuIFRoZSBvYmplY3Qga2V5cyBhcmUgdGhlIHVuaXQgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBkZWZpbml0aW9ucy4gVGhlIHZhbHVlcyBjYW4gYmUgb2JqZWN0cywgc3RyaW5ncywgb3IgVW5pdHMuIElmIGEgcHJvcGVydHkgaXMgYW4gZW1wdHkgb2JqZWN0IG9yIGFuIGVtcHR5IHN0cmluZywgYSBuZXcgYmFzZSB1bml0IGlzIGNyZWF0ZWQuIFRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIHRoZSBvcHRpb25zLlxuICAgICdPYmplY3QsIE9iamVjdCc6IGZ1bmN0aW9uIE9iamVjdE9iamVjdChvYmosIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIC8vIFNhbWUgYXMgYWJvdmUgYnV0IHdpdGhvdXQgdGhlIG9wdGlvbnMuXG4gICAgT2JqZWN0OiBmdW5jdGlvbiBPYmplY3Qob2JqKSB7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwge30pO1xuICAgIH0sXG4gICAgLy8gU2hvcnRjdXQgbWV0aG9kIGZvciBjcmVhdGluZyBvbmUgdW5pdC5cbiAgICAnc3RyaW5nLCBVbml0IHwgc3RyaW5nIHwgT2JqZWN0LCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdVbml0U3RyaW5nT2JqZWN0T2JqZWN0KG5hbWUsIGRlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgb2JqW25hbWVdID0gZGVmO1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgLy8gU2FtZSBhcyBhYm92ZSBidXQgd2l0aG91dCB0aGUgb3B0aW9ucy5cbiAgICAnc3RyaW5nLCBVbml0IHwgc3RyaW5nIHwgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nVW5pdFN0cmluZ09iamVjdChuYW1lLCBkZWYpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtuYW1lXSA9IGRlZjtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCB7fSk7XG4gICAgfSxcbiAgICAvLyBXaXRob3V0IGEgZGVmaW5pdGlvbiwgY3JlYXRlcyBhIGJhc2UgdW5pdC5cbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhuYW1lKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbbmFtZV0gPSB7fTtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCB7fSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTAgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnYWRkJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdhZGRTY2FsYXInLCAnZXF1YWxTY2FsYXInLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFkZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBhZGRTY2FsYXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDEgPSBjcmVhdGVBbGdvcml0aG0wMSh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNCA9IGNyZWF0ZUFsZ29yaXRobTA0KHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEwID0gY3JlYXRlQWxnb3JpdGhtMTAoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIEFkZCB0d28gb3IgbW9yZSB2YWx1ZXMsIGB4ICsgeWAuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5hZGQoeCwgeSlcbiAgICogICAgbWF0aC5hZGQoeCwgeSwgeiwgLi4uKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5hZGQoMiwgMykgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA1XG4gICAqICAgIG1hdGguYWRkKDIsIDMsIDQpICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgOVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoLTQsIDEpXG4gICAqICAgIG1hdGguYWRkKGEsIGIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IC0yICsgNGlcbiAgICpcbiAgICogICAgbWF0aC5hZGQoWzEsIDIsIDNdLCA0KSAgICAgICAvLyByZXR1cm5zIEFycmF5IFs1LCA2LCA3XVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC51bml0KCc1IGNtJylcbiAgICogICAgY29uc3QgZCA9IG1hdGgudW5pdCgnMi4xIG1tJylcbiAgICogICAgbWF0aC5hZGQoYywgZCkgICAgICAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgNTIuMSBtbVxuICAgKlxuICAgKiAgICBtYXRoLmFkZChcIjIuM1wiLCBcIjRcIikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA2LjNcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHN1YnRyYWN0LCBzdW1cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGFkZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGFkZFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IFN1bSBvZiBgeGAgYW5kIGB5YFxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwgZXh0ZW5kKHtcbiAgICAvLyB3ZSBleHRlbmQgdGhlIHNpZ25hdHVyZXMgb2YgYWRkU2NhbGFyIHdpdGggc2lnbmF0dXJlcyBkZWFsaW5nIHdpdGggbWF0cmljZXNcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgYWRkU2NhbGFyKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAxKHgsIHksIGFkZFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDEoeSwgeCwgYWRkU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDQoeCwgeSwgYWRkU2NhbGFyKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBhZGRTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeCwgeSwgYWRkU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCBhZGRTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh5LCB4LCBhZGRTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBhZGRTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIGFkZFNjYWxhciwgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgYW55JzogYWRkU2NhbGFyLFxuICAgICdhbnksIGFueSwgLi4uYW55JzogZnVuY3Rpb24gYW55QW55QW55KHgsIHksIHJlc3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzKHgsIHkpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcyhyZXN1bHQsIHJlc3RbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwgYWRkU2NhbGFyLnNpZ25hdHVyZXMpKTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xudmFyIG5hbWUgPSAnZG90JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2FkZFNjYWxhcicsICdtdWx0aXBseVNjYWxhcicsICdjb25qJywgJ3NpemUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRG90ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgYWRkU2NhbGFyLFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIGNvbmosXG4gICAgc2l6ZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjdG9ycy4gVGhlIGRvdCBwcm9kdWN0IG9mXG4gICAqIGBBID0gW2ExLCBhMiwgLi4uLCBhbl1gIGFuZCBgQiA9IFtiMSwgYjIsIC4uLiwgYm5dYCBpcyBkZWZpbmVkIGFzOlxuICAgKlxuICAgKiAgICBkb3QoQSwgQikgPSBjb25qKGExKSAqIGIxICsgY29uaihhMikgKiBiMiArIC4uLiArIGNvbmooYW4pICogYm5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmRvdCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5kb3QoWzIsIDQsIDFdLCBbMiwgMiwgM10pICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDE1XG4gICAqICAgIG1hdGgubXVsdGlwbHkoWzIsIDQsIDFdLCBbMiwgMiwgM10pICAvLyByZXR1cm5zIG51bWJlciAxNVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbXVsdGlwbHksIGNyb3NzXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5IHwgTWF0cml4fSB4ICAgICBGaXJzdCB2ZWN0b3JcbiAgICogQHBhcmFtICB7QXJyYXkgfCBNYXRyaXh9IHkgICAgIFNlY29uZCB2ZWN0b3JcbiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgIFJldHVybnMgdGhlIGRvdCBwcm9kdWN0IG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdBcnJheSB8IERlbnNlTWF0cml4LCBBcnJheSB8IERlbnNlTWF0cml4JzogX2RlbnNlRG90LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IF9zcGFyc2VEb3RcbiAgfSk7XG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlRGltKHgsIHkpIHtcbiAgICB2YXIgeFNpemUgPSBfc2l6ZSh4KTtcblxuICAgIHZhciB5U2l6ZSA9IF9zaXplKHkpO1xuXG4gICAgdmFyIHhMZW4sIHlMZW47XG5cbiAgICBpZiAoeFNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICB4TGVuID0geFNpemVbMF07XG4gICAgfSBlbHNlIGlmICh4U2l6ZS5sZW5ndGggPT09IDIgJiYgeFNpemVbMV0gPT09IDEpIHtcbiAgICAgIHhMZW4gPSB4U2l6ZVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0V4cGVjdGVkIGEgY29sdW1uIHZlY3RvciwgaW5zdGVhZCBnb3QgYSBtYXRyaXggb2Ygc2l6ZSAoJyArIHhTaXplLmpvaW4oJywgJykgKyAnKScpO1xuICAgIH1cblxuICAgIGlmICh5U2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHlMZW4gPSB5U2l6ZVswXTtcbiAgICB9IGVsc2UgaWYgKHlTaXplLmxlbmd0aCA9PT0gMiAmJiB5U2l6ZVsxXSA9PT0gMSkge1xuICAgICAgeUxlbiA9IHlTaXplWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRXhwZWN0ZWQgYSBjb2x1bW4gdmVjdG9yLCBpbnN0ZWFkIGdvdCBhIG1hdHJpeCBvZiBzaXplICgnICsgeVNpemUuam9pbignLCAnKSArICcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHhMZW4gIT09IHlMZW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdWZWN0b3JzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGggKCcgKyB4TGVuICsgJyAhPSAnICsgeUxlbiArICcpJyk7XG4gICAgaWYgKHhMZW4gPT09IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCBvZiBlbXB0eSB2ZWN0b3JzJyk7XG4gICAgcmV0dXJuIHhMZW47XG4gIH1cblxuICBmdW5jdGlvbiBfZGVuc2VEb3QoYSwgYikge1xuICAgIHZhciBOID0gX3ZhbGlkYXRlRGltKGEsIGIpO1xuXG4gICAgdmFyIGFkYXRhID0gaXNNYXRyaXgoYSkgPyBhLl9kYXRhIDogYTtcbiAgICB2YXIgYWR0ID0gaXNNYXRyaXgoYSkgPyBhLl9kYXRhdHlwZSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgYmRhdGEgPSBpc01hdHJpeChiKSA/IGIuX2RhdGEgOiBiO1xuICAgIHZhciBiZHQgPSBpc01hdHJpeChiKSA/IGIuX2RhdGF0eXBlIDogdW5kZWZpbmVkOyAvLyBhcmUgdGhlc2UgMi1kaW1lbnNpb25hbCBjb2x1bW4gdmVjdG9ycz8gKGFzIG9wcG9zZWQgdG8gMS1kaW1lbnNpb25hbCB2ZWN0b3JzKVxuXG4gICAgdmFyIGFJc0NvbHVtbiA9IF9zaXplKGEpLmxlbmd0aCA9PT0gMjtcbiAgICB2YXIgYklzQ29sdW1uID0gX3NpemUoYikubGVuZ3RoID09PSAyO1xuICAgIHZhciBhZGQgPSBhZGRTY2FsYXI7XG4gICAgdmFyIG11bCA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWRkID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG11bCA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIGJvdGggdmVjdG9ycyAxLWRpbWVuc2lvbmFsXG5cblxuICAgIGlmICghYUlzQ29sdW1uICYmICFiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBjID0gbXVsKGNvbmooYWRhdGFbMF0pLCBiZGF0YVswXSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgTjsgaSsrKSB7XG4gICAgICAgIGMgPSBhZGQoYywgbXVsKGNvbmooYWRhdGFbaV0pLCBiZGF0YVtpXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYztcbiAgICB9IC8vIGEgaXMgMS1kaW0sIGIgaXMgY29sdW1uXG5cblxuICAgIGlmICghYUlzQ29sdW1uICYmIGJJc0NvbHVtbikge1xuICAgICAgdmFyIF9jID0gbXVsKGNvbmooYWRhdGFbMF0pLCBiZGF0YVswXVswXSk7XG5cbiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBOOyBfaSsrKSB7XG4gICAgICAgIF9jID0gYWRkKF9jLCBtdWwoY29uaihhZGF0YVtfaV0pLCBiZGF0YVtfaV1bMF0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jO1xuICAgIH0gLy8gYSBpcyBjb2x1bW4sIGIgaXMgMS1kaW1cblxuXG4gICAgaWYgKGFJc0NvbHVtbiAmJiAhYklzQ29sdW1uKSB7XG4gICAgICB2YXIgX2MyID0gbXVsKGNvbmooYWRhdGFbMF1bMF0pLCBiZGF0YVswXSk7XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IE47IF9pMisrKSB7XG4gICAgICAgIF9jMiA9IGFkZChfYzIsIG11bChjb25qKGFkYXRhW19pMl1bMF0pLCBiZGF0YVtfaTJdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfYzI7XG4gICAgfSAvLyBib3RoIHZlY3RvcnMgYXJlIGNvbHVtblxuXG5cbiAgICBpZiAoYUlzQ29sdW1uICYmIGJJc0NvbHVtbikge1xuICAgICAgdmFyIF9jMyA9IG11bChjb25qKGFkYXRhWzBdWzBdKSwgYmRhdGFbMF1bMF0pO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAxOyBfaTMgPCBOOyBfaTMrKykge1xuICAgICAgICBfYzMgPSBhZGQoX2MzLCBtdWwoY29uaihhZGF0YVtfaTNdWzBdKSwgYmRhdGFbX2kzXVswXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2MzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zcGFyc2VEb3QoeCwgeSkge1xuICAgIF92YWxpZGF0ZURpbSh4LCB5KTtcblxuICAgIHZhciB4aW5kZXggPSB4Ll9pbmRleDtcbiAgICB2YXIgeHZhbHVlcyA9IHguX3ZhbHVlcztcbiAgICB2YXIgeWluZGV4ID0geS5faW5kZXg7XG4gICAgdmFyIHl2YWx1ZXMgPSB5Ll92YWx1ZXM7IC8vIFRPRE8gb3B0aW1pemUgYWRkICYgbXVsIHVzaW5nIGRhdGF0eXBlXG5cbiAgICB2YXIgYyA9IDA7XG4gICAgdmFyIGFkZCA9IGFkZFNjYWxhcjtcbiAgICB2YXIgbXVsID0gbXVsdGlwbHlTY2FsYXI7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBqID0gMDtcblxuICAgIHdoaWxlIChpIDwgeGluZGV4Lmxlbmd0aCAmJiBqIDwgeWluZGV4Lmxlbmd0aCkge1xuICAgICAgdmFyIEkgPSB4aW5kZXhbaV07XG4gICAgICB2YXIgSiA9IHlpbmRleFtqXTtcblxuICAgICAgaWYgKEkgPCBKKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChJID4gSikge1xuICAgICAgICBqKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoSSA9PT0gSikge1xuICAgICAgICBjID0gYWRkKGMsIG11bCh4dmFsdWVzW2ldLCB5dmFsdWVzW2pdKSk7XG4gICAgICAgIGkrKztcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9IC8vIFRPRE8gcmVtb3ZlIHRoaXMgb25jZSAjMTc3MSBpcyBmaXhlZFxuXG5cbiAgZnVuY3Rpb24gX3NpemUoeCkge1xuICAgIHJldHVybiBpc01hdHJpeCh4KSA/IHguc2l6ZSgpIDogc2l6ZSh4KTtcbiAgfVxufSk7IiwiLy8gUmVzZXJ2ZWQga2V5d29yZHMgbm90IGFsbG93ZWQgdG8gdXNlIGluIHRoZSBwYXJzZXJcbmV4cG9ydCB2YXIga2V5d29yZHMgPSB7XG4gIGVuZDogdHJ1ZVxufTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBrZXl3b3JkcyB9IGZyb20gJy4uL2tleXdvcmRzLmpzJztcbmltcG9ydCB7IGRlZXBTdHJpY3RFcXVhbCwgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydtYXRoV2l0aFRyYW5zZm9ybSddO1xuZXhwb3J0IHZhciBjcmVhdGVOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbWF0aFdpdGhUcmFuc2Zvcm1cbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIE5vZGVcbiAgICovXG4gIGZ1bmN0aW9uIE5vZGUoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXZhbHVhdGUgdGhlIG5vZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtzY29wZV0gIFNjb3BlIHRvIHJlYWQvd3JpdGUgdmFyaWFibGVzXG4gICAqIEByZXR1cm4geyp9ICAgICAgICAgICAgICBSZXR1cm5zIHRoZSByZXN1bHRcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIChzY29wZSkge1xuICAgIHJldHVybiB0aGlzLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gIH07XG5cbiAgTm9kZS5wcm90b3R5cGUudHlwZSA9ICdOb2RlJztcbiAgTm9kZS5wcm90b3R5cGUuaXNOb2RlID0gdHJ1ZTtcbiAgTm9kZS5wcm90b3R5cGUuY29tbWVudCA9ICcnO1xuICAvKipcbiAgICogQ29tcGlsZSB0aGUgbm9kZSBpbnRvIGFuIG9wdGltaXplZCwgZXZhdWF0YWJsZSBKYXZhU2NyaXB0IGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge3tldmFsdWF0ZTogZnVuY3Rpb24oW09iamVjdF0pfX0gb2JqZWN0XG4gICAqICAgICAgICAgICAgICAgIFJldHVybnMgYW4gb2JqZWN0IHdpdGggYSBmdW5jdGlvbiAnZXZhbHVhdGUnLFxuICAgKiAgICAgICAgICAgICAgICB3aGljaCBjYW4gYmUgaW52b2tlZCBhcyBleHByLmV2YWx1YXRlKFtzY29wZTogT2JqZWN0XSksXG4gICAqICAgICAgICAgICAgICAgIHdoZXJlIHNjb3BlIGlzIGFuIG9wdGlvbmFsIG9iamVjdCB3aXRoXG4gICAqICAgICAgICAgICAgICAgIHZhcmlhYmxlcy5cbiAgICovXG5cbiAgTm9kZS5wcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXhwciA9IHRoaXMuX2NvbXBpbGUobWF0aFdpdGhUcmFuc2Zvcm0sIHt9KTtcblxuICAgIHZhciBhcmdzID0ge307XG4gICAgdmFyIGNvbnRleHQgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gZXZhbHVhdGUoc2NvcGUpIHtcbiAgICAgIHZhciBzID0gc2NvcGUgfHwge307XG5cbiAgICAgIF92YWxpZGF0ZVNjb3BlKHMpO1xuXG4gICAgICByZXR1cm4gZXhwcihzLCBhcmdzLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXZhbHVhdGVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgX2NvbXBpbGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHR5cGUgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBydW4gZm9yRWFjaCBvbiBhIE5vZGUgaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7T3BlcmF0b3JOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBydW4gbWFwIG9uIGEgTm9kZSBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlIHdoZXRoZXIgYW4gb2JqZWN0IGlzIGEgTm9kZSwgZm9yIHVzZSB3aXRoIG1hcFxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHJldHVybnMge05vZGV9IFJldHVybnMgdGhlIGlucHV0IGlmIGl0J3MgYSBub2RlLCBlbHNlIHRocm93cyBhbiBFcnJvclxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX2lmTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKCFpc05vZGUobm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NhbGxiYWNrIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGEgTm9kZScpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICAvKipcbiAgICogUmVjdXJzaXZlbHkgdHJhdmVyc2UgYWxsIG5vZGVzIGluIGEgbm9kZSB0cmVlLiBFeGVjdXRlcyBnaXZlbiBjYWxsYmFjayBmb3JcbiAgICogdGhpcyBub2RlIGFuZCBlYWNoIG9mIGl0cyBjaGlsZCBub2Rlcy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihub2RlOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqICAgICAgICAgIEEgY2FsbGJhY2sgY2FsbGVkIGZvciBldmVyeSBub2RlIGluIHRoZSBub2RlIHRyZWUuXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudHJhdmVyc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBleGVjdXRlIGNhbGxiYWNrIGZvciBpdHNlbGZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBjYWxsYmFjayh0aGlzLCBudWxsLCBudWxsKTsgLy8gcmVjdXJzaXZlbHkgdHJhdmVyc2Ugb3ZlciBhbGwgY2hpbGRzIG9mIGEgbm9kZVxuXG4gICAgZnVuY3Rpb24gX3RyYXZlcnNlKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgICBub2RlLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgICAgY2FsbGJhY2soY2hpbGQsIHBhdGgsIHBhcmVudCk7XG5cbiAgICAgICAgX3RyYXZlcnNlKGNoaWxkLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdHJhdmVyc2UodGhpcywgY2FsbGJhY2spO1xuICB9O1xuICAvKipcbiAgICogUmVjdXJzaXZlbHkgdHJhbnNmb3JtIGEgbm9kZSB0cmVlIHZpYSBhIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHRvIHJlcGxhY2UgYWxsIG5vZGVzIG9mIHR5cGUgU3ltYm9sTm9kZSBoYXZpbmcgbmFtZSAneCcgd2l0aCBhXG4gICAqIENvbnN0YW50Tm9kZSB3aXRoIHZhbHVlIDI6XG4gICAqXG4gICAqICAgICBjb25zdCByZXMgPSBOb2RlLnRyYW5zZm9ybShmdW5jdGlvbiAobm9kZSwgcGF0aCwgcGFyZW50KSB7XG4gICAqICAgICAgIGlmIChub2RlICYmIG5vZGUuaXNTeW1ib2xOb2RlKSAmJiAobm9kZS5uYW1lID09PSAneCcpKSB7XG4gICAqICAgICAgICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUoMilcbiAgICogICAgICAgfVxuICAgKiAgICAgICBlbHNlIHtcbiAgICogICAgICAgICByZXR1cm4gbm9kZVxuICAgKiAgICAgICB9XG4gICAqICAgICB9KVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5vZGU6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqICAgICAgICAgIEEgbWFwcGluZyBmdW5jdGlvbiBhY2NlcHRpbmcgYSBub2RlLCBhbmQgcmV0dXJuaW5nXG4gICAqICAgICAgICAgIGEgcmVwbGFjZW1lbnQgZm9yIHRoZSBub2RlIG9yIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiAgICAgICAgICBTaWduYXR1cmU6IGNhbGxiYWNrKG5vZGU6IE5vZGUsIGluZGV4OiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlXG4gICAqIEByZXR1cm4ge05vZGV9IFJldHVybnMgdGhlIG9yaWdpbmFsIG5vZGUgb3IgaXRzIHJlcGxhY2VtZW50XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZnVuY3Rpb24gX3RyYW5zZm9ybShjaGlsZCwgcGF0aCwgcGFyZW50KSB7XG4gICAgICB2YXIgcmVwbGFjZW1lbnQgPSBjYWxsYmFjayhjaGlsZCwgcGF0aCwgcGFyZW50KTtcblxuICAgICAgaWYgKHJlcGxhY2VtZW50ICE9PSBjaGlsZCkge1xuICAgICAgICAvLyBzdG9wIGl0ZXJhdGluZyB3aGVuIHRoZSBub2RlIGlzIHJlcGxhY2VkXG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkLm1hcChfdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RyYW5zZm9ybSh0aGlzLCBudWxsLCBudWxsKTtcbiAgfTtcbiAgLyoqXG4gICAqIEZpbmQgYW55IG5vZGUgaW4gdGhlIG5vZGUgdHJlZSBtYXRjaGluZyBnaXZlbiBmaWx0ZXIgZnVuY3Rpb24uIEZvciBleGFtcGxlLCB0b1xuICAgKiBmaW5kIGFsbCBub2RlcyBvZiB0eXBlIFN5bWJvbE5vZGUgaGF2aW5nIG5hbWUgJ3gnOlxuICAgKlxuICAgKiAgICAgY29uc3QgcmVzdWx0cyA9IE5vZGUuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAqICAgICAgIHJldHVybiAobm9kZSAmJiBub2RlLmlzU3ltYm9sTm9kZSkgJiYgKG5vZGUubmFtZSA9PT0gJ3gnKVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihub2RlOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiAgICAgICAgICAgIEEgdGVzdCBmdW5jdGlvbiByZXR1cm5pbmcgdHJ1ZSB3aGVuIGEgbm9kZSBtYXRjaGVzLCBhbmQgZmFsc2VcbiAgICogICAgICAgICAgICBvdGhlcndpc2UuIEZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICogICAgICAgICAgICBjYWxsYmFjayhub2RlOiBOb2RlLCBpbmRleDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogYm9vbGVhblxuICAgKiBAcmV0dXJuIHtOb2RlW119IG5vZGVzICAgICAgIEFuIGFycmF5IHdpdGggbm9kZXMgbWF0Y2hpbmcgZ2l2ZW4gZmlsdGVyIGNyaXRlcmlhXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIG5vZGVzID0gW107XG4gICAgdGhpcy50cmF2ZXJzZShmdW5jdGlvbiAobm9kZSwgcGF0aCwgcGFyZW50KSB7XG4gICAgICBpZiAoY2FsbGJhY2sobm9kZSwgcGF0aCwgcGFyZW50KSkge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBub2RlcztcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNoYWxsb3cgY2xvbmUgb2YgdGhpcyBub2RlXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNsb25lIGEgTm9kZSBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRlZXAgY2xvbmUgb2YgdGhpcyBub2RlXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuY2xvbmVEZWVwID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuY2xvbmVEZWVwKCk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBEZWVwIGNvbXBhcmUgdGhpcyBub2RlIHdpdGggYW5vdGhlciBub2RlLlxuICAgKiBAcGFyYW0ge05vZGV9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGJvdGggbm9kZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIChhcyBkbyB0aGVpciBjaGlsZHMpXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyID8gZGVlcFN0cmljdEVxdWFsKHRoaXMsIG90aGVyKSA6IGZhbHNlO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIGdldCBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxuICAgKiB7XG4gICAqICAgIGhhbmRsZXI6IC8vVGhpcyBjYW4gYmUgYSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgZm9ybVxuICAgKiAgICAgICAgICAgICAvLyBcImZ1bmN0aW9uIGNhbGxiYWNrKG5vZGUsIG9wdGlvbnMpXCJvclxuICAgKiAgICAgICAgICAgICAvLyBhIG1hcCB0aGF0IG1hcHMgZnVuY3Rpb24gbmFtZXMgKHVzZWQgaW4gRnVuY3Rpb25Ob2RlcylcbiAgICogICAgICAgICAgICAgLy8gdG8gY2FsbGJhY2tzXG4gICAqICAgIHBhcmVudGhlc2lzOiBcImtlZXBcIiAvL3RoZSBwYXJlbnRoZXNpcyBvcHRpb24gKFRoaXMgaXMgb3B0aW9uYWwpXG4gICAqIH1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21TdHJpbmc7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBjdXN0b21TdHJpbmcgPSBvcHRpb25zLmhhbmRsZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgb3IgZnVuY3Rpb24gZXhwZWN0ZWQgYXMgY2FsbGJhY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVN0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHJpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3RvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBCb3RoIC50b0pTT04oKSBhbmQgdGhlIHN0YXRpYyAuZnJvbUpTT04oanNvbikgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IGFsbFxuICAgKiBpbXBsZW1lbnRhdGlvbnMgb2YgTm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXJpYWxpemUgb2JqZWN0OiB0b0pTT04gbm90IGltcGxlbWVudGVkIGJ5ICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBnZXQgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICoge1xuICAgKiAgICBoYW5kbGVyOiAvL1RoaXMgY2FuIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIGZvcm1cbiAgICogICAgICAgICAgICAgLy8gXCJmdW5jdGlvbiBjYWxsYmFjayhub2RlLCBvcHRpb25zKVwiIG9yXG4gICAqICAgICAgICAgICAgIC8vIGEgbWFwIHRoYXQgbWFwcyBmdW5jdGlvbiBuYW1lcyAodXNlZCBpbiBGdW5jdGlvbk5vZGVzKVxuICAgKiAgICAgICAgICAgICAvLyB0byBjYWxsYmFja3NcbiAgICogICAgcGFyZW50aGVzaXM6IFwia2VlcFwiIC8vdGhlIHBhcmVudGhlc2lzIG9wdGlvbiAoVGhpcyBpcyBvcHRpb25hbClcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21TdHJpbmc7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBjdXN0b21TdHJpbmcgPSBvcHRpb25zLmhhbmRsZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgb3IgZnVuY3Rpb24gZXhwZWN0ZWQgYXMgY2FsbGJhY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVN0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHJpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudG9IVE1MKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIHN0cmluZyBvdXRwdXQuXG4gICAqIFRoaXMgaGFzIHRvIGJlIGltcGxlbWVudGVkIGJ5IGV2ZXJ5IE5vZGVcbiAgICpcbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ190b1N0cmluZyBub3QgaW1wbGVtZW50ZWQgZm9yICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gZ2V0IGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAqIHtcbiAgICogICAgaGFuZGxlcjogLy9UaGlzIGNhbiBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIHRoZSBmb3JtXG4gICAqICAgICAgICAgICAgIC8vIFwiZnVuY3Rpb24gY2FsbGJhY2sobm9kZSwgb3B0aW9ucylcIm9yXG4gICAqICAgICAgICAgICAgIC8vIGEgbWFwIHRoYXQgbWFwcyBmdW5jdGlvbiBuYW1lcyAodXNlZCBpbiBGdW5jdGlvbk5vZGVzKVxuICAgKiAgICAgICAgICAgICAvLyB0byBjYWxsYmFja3NcbiAgICogICAgcGFyZW50aGVzaXM6IFwia2VlcFwiIC8vdGhlIHBhcmVudGhlc2lzIG9wdGlvbiAoVGhpcyBpcyBvcHRpb25hbClcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVRleDtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGN1c3RvbVRleCA9IG9wdGlvbnMuaGFuZGxlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBvciBmdW5jdGlvbiBleHBlY3RlZCBhcyBjYWxsYmFjaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdG9UZXgob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgTGFUZVggb3V0cHV0LlxuICAgKiBUaGlzIGhhcyB0byBiZSBpbXBsZW1lbnRlZCBieSBldmVyeSBOb2RlXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdfdG9UZXggbm90IGltcGxlbWVudGVkIGZvciAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBjb250ZW50IG9mIHRoZSBjdXJyZW50IE5vZGUuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICoqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBzeW1ib2wgbmFtZXMgb2YgYSBzY29wZS5cbiAgICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhlIHNjb3BlIGNvbnRhaW5zIGFuIGlsbGVnYWwgc3ltYm9sLlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2NvcGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfdmFsaWRhdGVTY29wZShzY29wZSkge1xuICAgIGZvciAodmFyIHN5bWJvbCBpbiBzY29wZSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHNjb3BlLCBzeW1ib2wpKSB7XG4gICAgICAgIGlmIChzeW1ib2wgaW4ga2V5d29yZHMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Njb3BlIGNvbnRhaW5zIGFuIGlsbGVnYWwgc3ltYm9sLCBcIicgKyBzeW1ib2wgKyAnXCIgaXMgYSByZXNlcnZlZCBrZXl3b3JkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBJbmRleEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvSW5kZXhFcnJvci5qcyc7XG4vKipcbiAqIFRyYW5zZm9ybSB6ZXJvLWJhc2VkIGluZGljZXMgdG8gb25lLWJhc2VkIGluZGljZXMgaW4gZXJyb3JzXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEByZXR1cm5zIHtFcnJvciB8IEluZGV4RXJyb3J9IFJldHVybnMgdGhlIHRyYW5zZm9ybWVkIGVycm9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtKGVycikge1xuICBpZiAoZXJyICYmIGVyci5pc0luZGV4RXJyb3IpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4RXJyb3IoZXJyLmluZGV4ICsgMSwgZXJyLm1pbiArIDEsIGVyci5tYXggIT09IHVuZGVmaW5lZCA/IGVyci5tYXggKyAxIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHJldHVybiBlcnI7XG59IiwiaW1wb3J0IHsgZXJyb3JUcmFuc2Zvcm0gfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vdXRpbHMvZXJyb3JUcmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzRmFjdG9yeShfcmVmKSB7XG4gIHZhciB7XG4gICAgc3Vic2V0XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBwYXJ0IG9mIGFuIG9iamVjdDpcbiAgICpcbiAgICogLSBSZXRyaWV2ZSBhIHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gICAqIC0gUmV0cmlldmUgYSBwYXJ0IG9mIGEgc3RyaW5nXG4gICAqIC0gUmV0cmlldmUgYSBtYXRyaXggc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IG9iamVjdFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcmV0dXJuIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gUmV0dXJucyB0aGUgc3Vic2V0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWNjZXNzKG9iamVjdCwgaW5kZXgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gc3Vic2V0KG9iamVjdCwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5zdWJzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gTWF0cml4XG4gICAgICAgIHJldHVybiBvYmplY3Quc3Vic2V0KGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gVE9ETzogbW92ZSBnZXRTdHJpbmdTdWJzZXQgaW50byBhIHNlcGFyYXRlIHV0aWwgZmlsZSwgdXNlIHRoYXRcbiAgICAgICAgcmV0dXJuIHN1YnNldChvYmplY3QsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKCFpbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgYSBudW1lcmljIGluZGV4IGFzIG9iamVjdCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldFNhZmVQcm9wZXJ0eShvYmplY3QsIGluZGV4LmdldE9iamVjdFByb3BlcnR5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGluZGV4OiB1bnN1cHBvcnRlZCB0eXBlIG9mIG9iamVjdCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyb3JUcmFuc2Zvcm0oZXJyKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzQXJyYXlOb2RlLCBpc0NvbnN0YW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzSW5kZXhOb2RlLCBpc05vZGUsIGlzT2JqZWN0Tm9kZSwgaXNQYXJlbnRoZXNpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgYWNjZXNzRmFjdG9yeSB9IGZyb20gJy4vdXRpbHMvYWNjZXNzLmpzJztcbnZhciBuYW1lID0gJ0FjY2Vzc29yTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydzdWJzZXQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVBY2Nlc3Nvck5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBzdWJzZXQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcbiAgdmFyIGFjY2VzcyA9IGFjY2Vzc0ZhY3Rvcnkoe1xuICAgIHN1YnNldFxuICB9KTtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBBY2Nlc3Nvck5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEFjY2VzcyBhbiBvYmplY3QgcHJvcGVydHkgb3IgZ2V0IGEgbWF0cml4IHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG9iamVjdCAgICAgICAgICAgICAgICAgVGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJldHJpZXZlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIHByb3BlcnR5IG9yIHN1YnNldC5cbiAgICogQHBhcmFtIHtJbmRleE5vZGV9IGluZGV4ICAgICAgICAgICAgIEluZGV4Tm9kZSBjb250YWluaW5nIHJhbmdlc1xuICAgKi9cblxuICBmdW5jdGlvbiBBY2Nlc3Nvck5vZGUob2JqZWN0LCBpbmRleCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBY2Nlc3Nvck5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghaXNOb2RlKG9iamVjdCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm9iamVjdFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0luZGV4Tm9kZShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4Tm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiaW5kZXhcIicpO1xuICAgIH1cblxuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0IHx8IG51bGw7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4OyAvLyByZWFkb25seSBwcm9wZXJ0eSBuYW1lXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkgPyB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCkgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3QubmFtZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiBhIG5ldyBuYW1lLCBuYW1lIGlzIHJlYWQtb25seScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUudHlwZSA9ICdBY2Nlc3Nvck5vZGUnO1xuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLmlzQWNjZXNzb3JOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsT2JqZWN0ID0gdGhpcy5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxJbmRleCA9IHRoaXMuaW5kZXguX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgaWYgKHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICB2YXIgcHJvcCA9IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQWNjZXNzb3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBnZXRTYWZlUHJvcGVydHkoZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCksIHByb3ApO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBY2Nlc3Nvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIG9iamVjdCk7IC8vIHdlIHBhc3Mgb2JqZWN0IGhlcmUgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgcmV0dXJuIGFjY2VzcyhvYmplY3QsIGluZGV4KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQWNjZXNzb3JOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtBY2Nlc3Nvck5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IEFjY2Vzc29yTm9kZSh0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKSkpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtBY2Nlc3Nvck5vZGV9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEFjY2Vzc29yTm9kZSh0aGlzLm9iamVjdCwgdGhpcy5pbmRleCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLm9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9ICcoJyArIG9iamVjdCArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgdGhpcy5pbmRleC50b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcy5vYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBvYmplY3QgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIHRoaXMuaW5kZXgudG9IVE1MKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLm9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9ICdcXFxcbGVmdChcXCcgKyBvYmplY3QgKyBcXCdcXFxccmlnaHQpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgdGhpcy5pbmRleC50b1RleChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQWNjZXNzb3JOb2RlJyxcbiAgICAgIG9iamVjdDogdGhpcy5vYmplY3QsXG4gICAgICBpbmRleDogdGhpcy5pbmRleFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBY2Nlc3Nvck5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkFjY2Vzc29yTm9kZVwiLCBvYmplY3Q6IC4uLiwgaW5kZXg6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtBY2Nlc3Nvck5vZGV9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFjY2Vzc29yTm9kZShqc29uLm9iamVjdCwganNvbi5pbmRleCk7XG4gIH07XG4gIC8qKlxuICAgKiBBcmUgcGFyZW50aGVzaXMgbmVlZGVkP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5lZWRQYXJlbnRoZXNpcyhub2RlKSB7XG4gICAgLy8gVE9ETzogbWF5YmUgbWFrZSBhIG1ldGhvZCBvbiB0aGUgbm9kZXMgd2hpY2ggdGVsbHMgd2hldGhlciB0aGV5IG5lZWQgcGFyZW50aGVzaXM/XG4gICAgcmV0dXJuICEoaXNBY2Nlc3Nvck5vZGUobm9kZSkgfHwgaXNBcnJheU5vZGUobm9kZSkgfHwgaXNDb25zdGFudE5vZGUobm9kZSkgfHwgaXNGdW5jdGlvbk5vZGUobm9kZSkgfHwgaXNPYmplY3ROb2RlKG5vZGUpIHx8IGlzUGFyZW50aGVzaXNOb2RlKG5vZGUpIHx8IGlzU3ltYm9sTm9kZShub2RlKSk7XG4gIH1cblxuICByZXR1cm4gQWNjZXNzb3JOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0FycmF5Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFycmF5Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBBcnJheU5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEhvbGRzIGFuIDEtZGltZW5zaW9uYWwgYXJyYXkgd2l0aCBpdGVtc1xuICAgKiBAcGFyYW0ge05vZGVbXX0gW2l0ZW1zXSAgIDEgZGltZW5zaW9uYWwgYXJyYXkgd2l0aCBpdGVtc1xuICAgKi9cbiAgZnVuY3Rpb24gQXJyYXlOb2RlKGl0ZW1zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFycmF5Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zIHx8IFtdOyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuaXRlbXMpIHx8ICF0aGlzLml0ZW1zLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICBBcnJheU5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQXJyYXlOb2RlLnByb3RvdHlwZS50eXBlID0gJ0FycmF5Tm9kZSc7XG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuaXNBcnJheU5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBBcnJheU5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxJdGVtcyA9IG1hcCh0aGlzLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgIH0pO1xuICAgIHZhciBhc01hdHJpeCA9IG1hdGguY29uZmlnLm1hdHJpeCAhPT0gJ0FycmF5JztcblxuICAgIGlmIChhc01hdHJpeCkge1xuICAgICAgdmFyIG1hdHJpeCA9IG1hdGgubWF0cml4O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBcnJheU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG1hdHJpeChtYXAoZXZhbEl0ZW1zLCBmdW5jdGlvbiAoZXZhbEl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZXZhbEl0ZW0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFycmF5Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbWFwKGV2YWxJdGVtcywgZnVuY3Rpb24gKGV2YWxJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGV2YWxJdGVtKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgIGNhbGxiYWNrKG5vZGUsICdpdGVtc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFycmF5Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QXJyYXlOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZW1zW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuaXRlbXNbaV0sICdpdGVtc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKGl0ZW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QXJyYXlOb2RlfVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUodGhpcy5pdGVtcy5zbGljZSgwKSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuICdbJyArIGl0ZW1zLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0FycmF5Tm9kZScsXG4gICAgICBpdGVtczogdGhpcy5pdGVtc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBcnJheU5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkFycmF5Tm9kZVwiLCBpdGVtczogWy4uLl19YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QXJyYXlOb2RlfVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUoanNvbi5pdGVtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLnRvSFRNTChvcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPls8L3NwYW4+JyArIGl0ZW1zLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPl08L3NwYW4+JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcyA9ICdcXFxcYmVnaW57Ym1hdHJpeH0nO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKG5vZGUuaXRlbXMpIHtcbiAgICAgICAgcyArPSBub2RlLml0ZW1zLm1hcChmdW5jdGlvbiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkTm9kZS50b1RleChvcHRpb25zKTtcbiAgICAgICAgfSkuam9pbignJicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyArPSBub2RlLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgfSAvLyBuZXcgbGluZVxuXG5cbiAgICAgIHMgKz0gJ1xcXFxcXFxcJztcbiAgICB9KTtcbiAgICBzICs9ICdcXFxcZW5ke2JtYXRyaXh9JztcbiAgICByZXR1cm4gcztcbiAgfTtcblxuICByZXR1cm4gQXJyYXlOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsIi8vIGxpc3Qgb2YgaWRlbnRpZmllcnMgb2Ygbm9kZXMgaW4gb3JkZXIgb2YgdGhlaXIgcHJlY2VkZW5jZVxuLy8gYWxzbyBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBsZWZ0L3JpZ2h0IGFzc29jaWF0aXZpdHlcbi8vIGFuZCB3aGljaCBvdGhlciBvcGVyYXRvciB0aGUgb3BlcmF0b3IgaXMgYXNzb2NpYXRpdmUgd2l0aFxuLy8gRXhhbXBsZTpcbi8vIGFkZGl0aW9uIGlzIGFzc29jaWF0aXZlIHdpdGggYWRkaXRpb24gYW5kIHN1YnRyYWN0aW9uLCBiZWNhdXNlOlxuLy8gKGErYikrYz1hKyhiK2MpXG4vLyAoYStiKS1jPWErKGItYylcbi8vXG4vLyBwb3N0Zml4IG9wZXJhdG9ycyBhcmUgbGVmdCBhc3NvY2lhdGl2ZSwgcHJlZml4IG9wZXJhdG9yc1xuLy8gYXJlIHJpZ2h0IGFzc29jaWF0aXZlXG4vL1xuLy8gSXQncyBhbHNvIHBvc3NpYmxlIHRvIHNldCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4vLyBsYXRleFBhcmVuczogaWYgc2V0IHRvIGZhbHNlLCB0aGlzIG5vZGUgZG9lc24ndCBuZWVkIHRvIGJlIGVuY2xvc2VkXG4vLyAgICAgICAgICAgICAgaW4gcGFyZW50aGVzZXMgd2hlbiB1c2luZyBMYVRlWFxuLy8gbGF0ZXhMZWZ0UGFyZW5zOiBpZiBzZXQgdG8gZmFsc2UsIHRoaXMgIU9wZXJhdG9yTm9kZSdzIVxuLy8gICAgICAgICAgICAgICAgICBsZWZ0IGFyZ3VtZW50IGRvZXNuJ3QgbmVlZCB0byBiZSBlbmNsb3NlZFxuLy8gICAgICAgICAgICAgICAgICBpbiBwYXJlbnRoZXNlc1xuLy8gbGF0ZXhSaWdodFBhcmVuczogdGhlIHNhbWUgZm9yIHRoZSByaWdodCBhcmd1bWVudFxuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi91dGlscy9vYmplY3QuanMnO1xuZXhwb3J0IHZhciBwcm9wZXJ0aWVzID0gW3tcbiAgLy8gYXNzaWdubWVudFxuICBBc3NpZ25tZW50Tm9kZToge30sXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGU6IHt9XG59LCB7XG4gIC8vIGNvbmRpdGlvbmFsIGV4cHJlc3Npb25cbiAgQ29uZGl0aW9uYWxOb2RlOiB7XG4gICAgbGF0ZXhMZWZ0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFJpZ2h0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFBhcmVuczogZmFsc2UgLy8gY29uZGl0aW9uYWxzIGRvbid0IG5lZWQgcGFyZW50aGVzZXMgaW4gTGFUZVggYmVjYXVzZVxuICAgIC8vIHRoZXkgYXJlIDIgZGltZW5zaW9uYWxcblxuICB9XG59LCB7XG4gIC8vIGxvZ2ljYWwgb3JcbiAgJ09wZXJhdG9yTm9kZTpvcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGxvZ2ljYWwgeG9yXG4gICdPcGVyYXRvck5vZGU6eG9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gbG9naWNhbCBhbmRcbiAgJ09wZXJhdG9yTm9kZTphbmQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXR3aXNlIG9yXG4gICdPcGVyYXRvck5vZGU6Yml0T3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXR3aXNlIHhvclxuICAnT3BlcmF0b3JOb2RlOmJpdFhvcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHdpc2UgYW5kXG4gICdPcGVyYXRvck5vZGU6Yml0QW5kJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gcmVsYXRpb25hbCBvcGVyYXRvcnNcbiAgJ09wZXJhdG9yTm9kZTplcXVhbCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnVuZXF1YWwnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpzbWFsbGVyJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bGFyZ2VyJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6c21hbGxlckVxJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bGFyZ2VyRXEnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgUmVsYXRpb25hbE5vZGU6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHNoaWZ0IG9wZXJhdG9yc1xuICAnT3BlcmF0b3JOb2RlOmxlZnRTaGlmdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnJpZ2h0QXJpdGhTaGlmdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnJpZ2h0TG9nU2hpZnQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyB1bml0IGNvbnZlcnNpb25cbiAgJ09wZXJhdG9yTm9kZTp0byc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHJhbmdlXG4gIFJhbmdlTm9kZToge31cbn0sIHtcbiAgLy8gYWRkaXRpb24sIHN1YnRyYWN0aW9uXG4gICdPcGVyYXRvck5vZGU6YWRkJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFsnT3BlcmF0b3JOb2RlOmFkZCcsICdPcGVyYXRvck5vZGU6c3VidHJhY3QnXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnN1YnRyYWN0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gbXVsdGlwbHksIGRpdmlkZSwgbW9kdWx1c1xuICAnT3BlcmF0b3JOb2RlOm11bHRpcGx5Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFsnT3BlcmF0b3JOb2RlOm11bHRpcGx5JywgJ09wZXJhdG9yTm9kZTpkaXZpZGUnLCAnT3BlcmF0b3I6ZG90TXVsdGlwbHknLCAnT3BlcmF0b3I6ZG90RGl2aWRlJ11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkaXZpZGUnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW10sXG4gICAgbGF0ZXhMZWZ0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFJpZ2h0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFBhcmVuczogZmFsc2UgLy8gZnJhY3Rpb25zIGRvbid0IHJlcXVpcmUgcGFyZW50aGVzZXMgYmVjYXVzZVxuICAgIC8vIHRoZXkncmUgMiBkaW1lbnNpb25hbCwgc28gcGFyZW5zIGFyZW4ndCBuZWVkZWRcbiAgICAvLyBpbiBMYVRlWFxuXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHknOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogWydPcGVyYXRvck5vZGU6bXVsdGlwbHknLCAnT3BlcmF0b3JOb2RlOmRpdmlkZScsICdPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHknLCAnT3BlcmF0b3JOb2RlOmRvRGl2aWRlJ11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkb3REaXZpZGUnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTptb2QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyB1bmFyeSBwcmVmaXggb3BlcmF0b3JzXG4gICdPcGVyYXRvck5vZGU6dW5hcnlQbHVzJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTp1bmFyeU1pbnVzJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpiaXROb3QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9LFxuICAnT3BlcmF0b3JOb2RlOm5vdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH1cbn0sIHtcbiAgLy8gZXhwb25lbnRpYXRpb25cbiAgJ09wZXJhdG9yTm9kZTpwb3cnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdLFxuICAgIGxhdGV4UmlnaHRQYXJlbnM6IGZhbHNlIC8vIHRoZSBleHBvbmVudCBkb2Vzbid0IG5lZWQgcGFyZW50aGVzZXMgaW5cbiAgICAvLyBMYVRlWCBiZWNhdXNlIGl0J3MgMiBkaW1lbnNpb25hbFxuICAgIC8vIChpdCdzIG9uIHRvcClcblxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRvdFBvdyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBmYWN0b3JpYWxcbiAgJ09wZXJhdG9yTm9kZTpmYWN0b3JpYWwnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnXG4gIH1cbn0sIHtcbiAgLy8gbWF0cml4IHRyYW5zcG9zZVxuICAnT3BlcmF0b3JOb2RlOnRyYW5zcG9zZSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCdcbiAgfVxufV07XG4vKipcbiAqIEdldCB0aGUgcHJlY2VkZW5jZSBvZiBhIE5vZGUuXG4gKiBIaWdoZXIgbnVtYmVyIGZvciBoaWdoZXIgcHJlY2VkZW5jZSwgc3RhcnRpbmcgd2l0aCAwLlxuICogUmV0dXJucyBudWxsIGlmIHRoZSBwcmVjZWRlbmNlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IF9ub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAqIEByZXR1cm4ge251bWJlciB8IG51bGx9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByZWNlZGVuY2UoX25vZGUsIHBhcmVudGhlc2lzKSB7XG4gIHZhciBub2RlID0gX25vZGU7XG5cbiAgaWYgKHBhcmVudGhlc2lzICE9PSAna2VlcCcpIHtcbiAgICAvLyBQYXJlbnRoZXNpc05vZGVzIGFyZSBvbmx5IGlnbm9yZWQgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICBub2RlID0gX25vZGUuZ2V0Q29udGVudCgpO1xuICB9XG5cbiAgdmFyIGlkZW50aWZpZXIgPSBub2RlLmdldElkZW50aWZpZXIoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaWRlbnRpZmllciBpbiBwcm9wZXJ0aWVzW2ldKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogR2V0IHRoZSBhc3NvY2lhdGl2aXR5IG9mIGFuIG9wZXJhdG9yIChsZWZ0IG9yIHJpZ2h0KS5cbiAqIFJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyAnbGVmdCcgb3IgJ3JpZ2h0JyBvciBudWxsIGlmXG4gKiB0aGUgYXNzb2NpYXRpdml0eSBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IF9ub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAqIEByZXR1cm4ge3N0cmluZ3xudWxsfVxuICogQHRocm93cyB7RXJyb3J9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFzc29jaWF0aXZpdHkoX25vZGUsIHBhcmVudGhlc2lzKSB7XG4gIHZhciBub2RlID0gX25vZGU7XG5cbiAgaWYgKHBhcmVudGhlc2lzICE9PSAna2VlcCcpIHtcbiAgICAvLyBQYXJlbnRoZXNpc05vZGVzIGFyZSBvbmx5IGlnbm9yZWQgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICBub2RlID0gX25vZGUuZ2V0Q29udGVudCgpO1xuICB9XG5cbiAgdmFyIGlkZW50aWZpZXIgPSBub2RlLmdldElkZW50aWZpZXIoKTtcbiAgdmFyIGluZGV4ID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG5cbiAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgLy8gbm9kZSBpc24ndCBpbiB0aGUgbGlzdFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpbmRleF1baWRlbnRpZmllcl07XG5cbiAgaWYgKGhhc093blByb3BlcnR5KHByb3BlcnR5LCAnYXNzb2NpYXRpdml0eScpKSB7XG4gICAgaWYgKHByb3BlcnR5LmFzc29jaWF0aXZpdHkgPT09ICdsZWZ0Jykge1xuICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHkuYXNzb2NpYXRpdml0eSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfSAvLyBhc3NvY2lhdGl2aXR5IGlzIGludmFsaWRcblxuXG4gICAgdGhyb3cgRXJyb3IoJ1xcJycgKyBpZGVudGlmaWVyICsgJ1xcJyBoYXMgdGhlIGludmFsaWQgYXNzb2NpYXRpdml0eSBcXCcnICsgcHJvcGVydHkuYXNzb2NpYXRpdml0eSArICdcXCcuJyk7XG4gIH0gLy8gYXNzb2NpYXRpdml0eSBpcyB1bmRlZmluZWRcblxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBDaGVjayBpZiBhbiBvcGVyYXRvciBpcyBhc3NvY2lhdGl2ZSB3aXRoIGFub3RoZXIgb3BlcmF0b3IuXG4gKiBSZXR1cm5zIGVpdGhlciB0cnVlIG9yIGZhbHNlIG9yIG51bGwgaWYgbm90IGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlQVxuICogQHBhcmFtIHtOb2RlfSBub2RlQlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gKiBAcmV0dXJuIHtib29sZWFuIHwgbnVsbH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBc3NvY2lhdGl2ZVdpdGgobm9kZUEsIG5vZGVCLCBwYXJlbnRoZXNpcykge1xuICAvLyBQYXJlbnRoZXNpc05vZGVzIGFyZSBvbmx5IGlnbm9yZWQgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgdmFyIGEgPSBwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnID8gbm9kZUEuZ2V0Q29udGVudCgpIDogbm9kZUE7XG4gIHZhciBiID0gcGFyZW50aGVzaXMgIT09ICdrZWVwJyA/IG5vZGVBLmdldENvbnRlbnQoKSA6IG5vZGVCO1xuICB2YXIgaWRlbnRpZmllckEgPSBhLmdldElkZW50aWZpZXIoKTtcbiAgdmFyIGlkZW50aWZpZXJCID0gYi5nZXRJZGVudGlmaWVyKCk7XG4gIHZhciBpbmRleCA9IGdldFByZWNlZGVuY2UoYSwgcGFyZW50aGVzaXMpO1xuXG4gIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgIC8vIG5vZGUgaXNuJ3QgaW4gdGhlIGxpc3RcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaW5kZXhdW2lkZW50aWZpZXJBXTtcblxuICBpZiAoaGFzT3duUHJvcGVydHkocHJvcGVydHksICdhc3NvY2lhdGl2ZVdpdGgnKSAmJiBwcm9wZXJ0eS5hc3NvY2lhdGl2ZVdpdGggaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHkuYXNzb2NpYXRpdmVXaXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJvcGVydHkuYXNzb2NpYXRpdmVXaXRoW2ldID09PSBpZGVudGlmaWVyQikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gYXNzb2NpYXRpdmVXaXRoIGlzIG5vdCBkZWZpbmVkXG5cblxuICByZXR1cm4gbnVsbDtcbn0iLCJpbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNJbmRleE5vZGUsIGlzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGFjY2Vzc0ZhY3RvcnkgfSBmcm9tICcuL3V0aWxzL2FjY2Vzcy5qcyc7XG5pbXBvcnQgeyBhc3NpZ25GYWN0b3J5IH0gZnJvbSAnLi91dGlscy9hc3NpZ24uanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG52YXIgbmFtZSA9ICdBc3NpZ25tZW50Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydzdWJzZXQnLCAnP21hdHJpeCcsIC8vIEZJWE1FOiBzaG91bGQgbm90IGJlIG5lZWRlZCBhdCBhbGwsIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHN1YnNldFxuJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQXNzaWdubWVudE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBzdWJzZXQsXG4gICAgbWF0cml4LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG4gIHZhciBhY2Nlc3MgPSBhY2Nlc3NGYWN0b3J5KHtcbiAgICBzdWJzZXRcbiAgfSk7XG4gIHZhciBhc3NpZ24gPSBhc3NpZ25GYWN0b3J5KHtcbiAgICBzdWJzZXQsXG4gICAgbWF0cml4XG4gIH0pO1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEFzc2lnbm1lbnROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKlxuICAgKiBEZWZpbmUgYSBzeW1ib2wsIGxpa2UgYGE9My4yYCwgdXBkYXRlIGEgcHJvcGVydHkgbGlrZSBgYS5iPTMuMmAsIG9yXG4gICAqIHJlcGxhY2UgYSBzdWJzZXQgb2YgYSBtYXRyaXggbGlrZSBgQVsyLDJdPTQyYC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbmV3IEFzc2lnbm1lbnROb2RlKHN5bWJvbCwgdmFsdWUpXG4gICAqICAgICBuZXcgQXNzaWdubWVudE5vZGUob2JqZWN0LCBpbmRleCwgdmFsdWUpXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUoJ2EnKSwgbmV3IENvbnN0YW50Tm9kZSgyKSkgICAgICAgICAgICAgICAgICAgICAgIC8vIGE9MlxuICAgKiAgICBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUoJ2EnKSwgbmV3IEluZGV4Tm9kZSgnYicpLCBuZXcgQ29uc3RhbnROb2RlKDIpKSAgIC8vIGEuYj0yXG4gICAqICAgIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZSgnYScpLCBuZXcgSW5kZXhOb2RlKDEsIDIpLCBuZXcgQ29uc3RhbnROb2RlKDMpKSAgLy8gYVsxLDJdPTNcbiAgICpcbiAgICogQHBhcmFtIHtTeW1ib2xOb2RlIHwgQWNjZXNzb3JOb2RlfSBvYmplY3QgIE9iamVjdCBvbiB3aGljaCB0byBhc3NpZ24gYSB2YWx1ZVxuICAgKiBAcGFyYW0ge0luZGV4Tm9kZX0gW2luZGV4PW51bGxdICAgICAgICAgICAgSW5kZXgsIHByb3BlcnR5IG5hbWUgb3IgbWF0cml4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleC4gT3B0aW9uYWwuIElmIG5vdCBwcm92aWRlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGBvYmplY3RgIGlzIGEgU3ltYm9sTm9kZSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBwcm9wZXJ0eSBpcyBhc3NpZ25lZCB0byB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbCBzY29wZS5cbiAgICogQHBhcmFtIHtOb2RlfSB2YWx1ZSAgICAgICAgICAgICAgICAgICAgICAgIFRoZSB2YWx1ZSB0byBiZSBhc3NpZ25lZFxuICAgKi9cblxuICBmdW5jdGlvbiBBc3NpZ25tZW50Tm9kZShvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBc3NpZ25tZW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5pbmRleCA9IHZhbHVlID8gaW5kZXggOiBudWxsO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCBpbmRleDsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmICghaXNTeW1ib2xOb2RlKG9iamVjdCkgJiYgIWlzQWNjZXNzb3JOb2RlKG9iamVjdCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbE5vZGUgb3IgQWNjZXNzb3JOb2RlIGV4cGVjdGVkIGFzIFwib2JqZWN0XCInKTtcbiAgICB9XG5cbiAgICBpZiAoaXNTeW1ib2xOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5hbWUgPT09ICdlbmQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gdG8gc3ltYm9sIFwiZW5kXCInKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbmRleCAmJiAhaXNJbmRleE5vZGUodGhpcy5pbmRleCkpIHtcbiAgICAgIC8vIGluZGV4IGlzIG9wdGlvbmFsXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleE5vZGUgZXhwZWN0ZWQgYXMgXCJpbmRleFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc05vZGUodGhpcy52YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgYXMgXCJ2YWx1ZVwiJyk7XG4gICAgfSAvLyByZWFkb25seSBwcm9wZXJ0eSBuYW1lXG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSA/IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9iamVjdC5uYW1lIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIGEgbmV3IG5hbWUsIG5hbWUgaXMgcmVhZC1vbmx5Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdBc3NpZ25tZW50Tm9kZSc7XG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5pc0Fzc2lnbm1lbnROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxPYmplY3QgPSB0aGlzLm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXguX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpIDogbnVsbDtcblxuICAgIHZhciBldmFsVmFsdWUgPSB0aGlzLnZhbHVlLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBuYW1lID0gdGhpcy5vYmplY3QubmFtZTtcblxuICAgIGlmICghdGhpcy5pbmRleCkge1xuICAgICAgLy8gYXBwbHkgYSB2YXJpYWJsZSB0byB0aGUgc2NvcGUsIGZvciBleGFtcGxlIGBhPTJgXG4gICAgICBpZiAoIWlzU3ltYm9sTm9kZSh0aGlzLm9iamVjdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sTm9kZSBleHBlY3RlZCBhcyBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lLCBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgLy8gYXBwbHkgYW4gb2JqZWN0IHByb3BlcnR5IGZvciBleGFtcGxlIGBhLmI9MmBcbiAgICAgIHZhciBwcm9wID0gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBzZXRTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNTeW1ib2xOb2RlKHRoaXMub2JqZWN0KSkge1xuICAgICAgLy8gdXBkYXRlIGEgbWF0cml4IHN1YnNldCwgZm9yIGV4YW1wbGUgYGFbMl09M2BcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNoaWxkT2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgY2hpbGRPYmplY3QpOyAvLyBJbXBvcnRhbnQ6ICB3ZSBwYXNzIGNoaWxkT2JqZWN0IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgIHNldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSwgYXNzaWduKGNoaWxkT2JqZWN0LCBpbmRleCwgdmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXNBY2Nlc3Nvck5vZGUobm9kZS5vYmplY3QpID09PSB0cnVlXG4gICAgICAvLyB1cGRhdGUgYSBtYXRyaXggc3Vic2V0LCBmb3IgZXhhbXBsZSBgYS5iWzJdPTNgXG4gICAgICAvLyB3ZSB3aWxsIG5vdCB1c2UgdGhlIGNvbXBpbGUgZnVuY3Rpb24gb2YgdGhlIEFjY2Vzc29yTm9kZSwgYnV0IGNvbXBpbGUgaXRcbiAgICAgIC8vIG91cnNlbHZlcyBoZXJlIGFzIHdlIG5lZWQgdGhlIHBhcmVudCBvYmplY3Qgb2YgdGhlIEFjY2Vzc29yTm9kZTpcbiAgICAgIC8vIHdlZSBuZWVkIHRvIGFwcGx5IHRoZSB1cGRhdGVkIG9iamVjdCB0byBwYXJlbnQgb2JqZWN0XG4gICAgICB2YXIgZXZhbFBhcmVudE9iamVjdCA9IHRoaXMub2JqZWN0Lm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIGlmICh0aGlzLm9iamVjdC5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgICAgdmFyIHBhcmVudFByb3AgPSB0aGlzLm9iamVjdC5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IGV2YWxQYXJlbnRPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIHZhciBjaGlsZE9iamVjdCA9IGdldFNhZmVQcm9wZXJ0eShwYXJlbnQsIHBhcmVudFByb3ApO1xuICAgICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgY2hpbGRPYmplY3QpOyAvLyBJbXBvcnRhbnQ6IHdlIHBhc3MgY2hpbGRPYmplY3QgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIHNldFNhZmVQcm9wZXJ0eShwYXJlbnQsIHBhcmVudFByb3AsIGFzc2lnbihjaGlsZE9iamVjdCwgaW5kZXgsIHZhbHVlKSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgc29tZSBwYXJhbWV0ZXJzIHVzZSB0aGUgJ2VuZCcgcGFyYW1ldGVyLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgc2l6ZVxuICAgICAgICB2YXIgZXZhbFBhcmVudEluZGV4ID0gdGhpcy5vYmplY3QuaW5kZXguX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgcGFyZW50ID0gZXZhbFBhcmVudE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gZXZhbFBhcmVudEluZGV4KHNjb3BlLCBhcmdzLCBwYXJlbnQpOyAvLyBJbXBvcnRhbnQ6IHdlIHBhc3MgcGFyZW50IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgICAgdmFyIGNoaWxkT2JqZWN0ID0gYWNjZXNzKHBhcmVudCwgcGFyZW50SW5kZXgpO1xuICAgICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgY2hpbGRPYmplY3QpOyAvLyBJbXBvcnRhbnQ6ICB3ZSBwYXNzIGNoaWxkT2JqZWN0IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICBhc3NpZ24ocGFyZW50LCBwYXJlbnRJbmRleCwgYXNzaWduKGNoaWxkT2JqZWN0LCBpbmRleCwgdmFsdWUpKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmluZGV4KSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjYWxsYmFjayh0aGlzLnZhbHVlLCAndmFsdWUnLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBc3NpZ25tZW50Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QXNzaWdubWVudE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKSk7XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpKSA6IG51bGw7XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy52YWx1ZSwgJ3ZhbHVlJywgdGhpcykpO1xuXG4gICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShvYmplY3QsIGluZGV4LCB2YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Fzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKHRoaXMub2JqZWN0LCB0aGlzLmluZGV4LCB0aGlzLnZhbHVlKTtcbiAgfTtcbiAgLypcbiAgICogSXMgcGFyZW50aGVzaXMgbmVlZGVkP1xuICAgKiBAcGFyYW0ge25vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJlbnRoZXNpcz0na2VlcCddXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmVlZFBhcmVudGhlc2lzKG5vZGUsIHBhcmVudGhlc2lzKSB7XG4gICAgaWYgKCFwYXJlbnRoZXNpcykge1xuICAgICAgcGFyZW50aGVzaXMgPSAna2VlcCc7XG4gICAgfVxuXG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgZXhwclByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUudmFsdWUsIHBhcmVudGhlc2lzKTtcbiAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IGV4cHJQcmVjZWRlbmNlICE9PSBudWxsICYmIGV4cHJQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC50b1N0cmluZyhvcHRpb25zKSA6ICcnO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcykpIHtcbiAgICAgIHZhbHVlID0gJygnICsgdmFsdWUgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIGluZGV4ICsgJyA9ICcgKyB2YWx1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdBc3NpZ25tZW50Tm9kZScsXG4gICAgICBvYmplY3Q6IHRoaXMub2JqZWN0LFxuICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBc3NpZ25tZW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQXNzaWdubWVudE5vZGVcIiwgb2JqZWN0OiAuLi4sIGluZGV4OiAuLi4sIHZhbHVlOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUoanNvbi5vYmplY3QsIGpzb24uaW5kZXgsIGpzb24udmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXgudG9IVE1MKG9wdGlvbnMpIDogJyc7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZS50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcykpIHtcbiAgICAgIHZhbHVlID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgdmFsdWUgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIGluZGV4ICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC12YXJpYWJsZS1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yXCI+PTwvc3Bhbj4nICsgdmFsdWU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1RleChvcHRpb25zKTtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC50b1RleChvcHRpb25zKSA6ICcnO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcykpIHtcbiAgICAgIHZhbHVlID0gXCJcXFxcbGVmdChcIi5jb25jYXQodmFsdWUsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgaW5kZXggKyAnOj0nICsgdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIEFzc2lnbm1lbnROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGVycm9yVHJhbnNmb3JtIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkZhY3RvcnkoX3JlZikge1xuICB2YXIge1xuICAgIHN1YnNldCxcbiAgICBtYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgcGFydCBvZiBhbiBvYmplY3Q6XG4gICAqXG4gICAqIC0gQXNzaWduIGEgcHJvcGVydHkgdG8gYW4gb2JqZWN0XG4gICAqIC0gUmVwbGFjZSBhIHBhcnQgb2YgYSBzdHJpbmdcbiAgICogLSBSZXBsYWNlIGEgbWF0cml4IHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBvYmplY3RcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gUmV0dXJucyB0aGUgb3JpZ2luYWwgb2JqZWN0XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgaW4gY2FzZSBvZiBhIHN0cmluZ1xuICAgKi9cbiAgLy8gVE9ETzogY2hhbmdlIGFzc2lnbiB0byByZXR1cm4gdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhlIG9iamVjdFxuICByZXR1cm4gZnVuY3Rpb24gYXNzaWduKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgLy8gd2UgdXNlIG1hdHJpeC5zdWJzZXQgaGVyZSBpbnN0ZWFkIG9mIHRoZSBmdW5jdGlvbiBzdWJzZXQgYmVjYXVzZSB3ZSBtdXN0IG5vdCBjbG9uZSB0aGUgY29udGVudHNcbiAgICAgICAgcmV0dXJuIG1hdHJpeChvYmplY3QpLnN1YnNldChpbmRleCwgdmFsdWUpLnZhbHVlT2YoKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3Quc3Vic2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIE1hdHJpeFxuICAgICAgICByZXR1cm4gb2JqZWN0LnN1YnNldChpbmRleCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIHNldFN0cmluZ1N1YnNldCBpbnRvIGEgc2VwYXJhdGUgdXRpbCBmaWxlLCB1c2UgdGhhdFxuICAgICAgICByZXR1cm4gc3Vic2V0KG9iamVjdCwgaW5kZXgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKCFpbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBhIG51bWVyaWMgaW5kZXggYXMgb2JqZWN0IHByb3BlcnR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTYWZlUHJvcGVydHkob2JqZWN0LCBpbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgaW5kZXg6IHVuc3VwcG9ydGVkIHR5cGUgb2Ygb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnJvclRyYW5zZm9ybShlcnIpO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoLCBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdCbG9ja05vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnUmVzdWx0U2V0JywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmxvY2tOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgUmVzdWx0U2V0LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBCbG9ja05vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEhvbGRzIGEgc2V0IHdpdGggYmxvY2tzXG4gICAqIEBwYXJhbSB7QXJyYXkuPHtub2RlOiBOb2RlfSB8IHtub2RlOiBOb2RlLCB2aXNpYmxlOiBib29sZWFufT59IGJsb2Nrc1xuICAgKiAgICAgICAgICAgIEFuIGFycmF5IHdpdGggYmxvY2tzLCB3aGVyZSBhIGJsb2NrIGlzIGNvbnN0cnVjdGVkIGFzIGFuIE9iamVjdFxuICAgKiAgICAgICAgICAgIHdpdGggcHJvcGVydGllcyBibG9jaywgd2hpY2ggaXMgYSBOb2RlLCBhbmQgdmlzaWJsZSwgd2hpY2ggaXNcbiAgICogICAgICAgICAgICBhIGJvb2xlYW4uIFRoZSBwcm9wZXJ0eSB2aXNpYmxlIGlzIG9wdGlvbmFsIGFuZCBpcyB0cnVlIGJ5IGRlZmF1bHRcbiAgICovXG4gIGZ1bmN0aW9uIEJsb2NrTm9kZShibG9ja3MpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQmxvY2tOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0LCBjb3B5IGJsb2Nrc1xuXG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYmxvY2tzKSkgdGhyb3cgbmV3IEVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIHRoaXMuYmxvY2tzID0gYmxvY2tzLm1hcChmdW5jdGlvbiAoYmxvY2spIHtcbiAgICAgIHZhciBub2RlID0gYmxvY2sgJiYgYmxvY2subm9kZTtcbiAgICAgIHZhciB2aXNpYmxlID0gYmxvY2sgJiYgYmxvY2sudmlzaWJsZSAhPT0gdW5kZWZpbmVkID8gYmxvY2sudmlzaWJsZSA6IHRydWU7XG4gICAgICBpZiAoIWlzTm9kZShub2RlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvcGVydHkgXCJub2RlXCIgbXVzdCBiZSBhIE5vZGUnKTtcbiAgICAgIGlmICh0eXBlb2YgdmlzaWJsZSAhPT0gJ2Jvb2xlYW4nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9wZXJ0eSBcInZpc2libGVcIiBtdXN0IGJlIGEgYm9vbGVhbicpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBCbG9ja05vZGUucHJvdG90eXBlLnR5cGUgPSAnQmxvY2tOb2RlJztcbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5pc0Jsb2NrTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbEJsb2NrcyA9IG1hcCh0aGlzLmJsb2NrcywgZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBldmFsdWF0ZTogYmxvY2subm9kZS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyksXG4gICAgICAgIHZpc2libGU6IGJsb2NrLnZpc2libGVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxCbG9ja05vZGVzKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yRWFjaChldmFsQmxvY2tzLCBmdW5jdGlvbiBldmFsQmxvY2tOb2RlKGJsb2NrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBibG9jay5ldmFsdWF0ZShzY29wZSwgYXJncywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKGJsb2NrLnZpc2libGUpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFJlc3VsdFNldChyZXN1bHRzKTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBibG9ja3Mgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmJsb2Nrc1tpXS5ub2RlLCAnYmxvY2tzWycgKyBpICsgJ10ubm9kZScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBCbG9ja05vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Jsb2NrTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBibG9ja3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBibG9jayA9IHRoaXMuYmxvY2tzW2ldO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayhibG9jay5ub2RlLCAnYmxvY2tzWycgKyBpICsgJ10ubm9kZScsIHRoaXMpKTtcblxuICAgICAgYmxvY2tzW2ldID0ge1xuICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICB2aXNpYmxlOiBibG9jay52aXNpYmxlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGJsb2Nrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Jsb2NrTm9kZX1cbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlOiBibG9jay5ub2RlLFxuICAgICAgICB2aXNpYmxlOiBibG9jay52aXNpYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGJsb2Nrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLm5vZGUudG9TdHJpbmcob3B0aW9ucykgKyAocGFyYW0udmlzaWJsZSA/ICcnIDogJzsnKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQmxvY2tOb2RlJyxcbiAgICAgIGJsb2NrczogdGhpcy5ibG9ja3NcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQmxvY2tOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJCbG9ja05vZGVcIiwgYmxvY2tzOiBbe25vZGU6IC4uLiwgdmlzaWJsZTogZmFsc2V9LCAuLi5dfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Jsb2NrTm9kZX1cbiAgICovXG5cblxuICBCbG9ja05vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGpzb24uYmxvY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLm5vZGUudG9IVE1MKG9wdGlvbnMpICsgKHBhcmFtLnZpc2libGUgPyAnJyA6ICc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+Ozwvc3Bhbj4nKTtcbiAgICB9KS5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+PGJyIC8+PC9zcGFuPicpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0ubm9kZS50b1RleChvcHRpb25zKSArIChwYXJhbS52aXNpYmxlID8gJycgOiAnOycpO1xuICAgIH0pLmpvaW4oJ1xcXFw7XFxcXDtcXG4nKTtcbiAgfTtcblxuICByZXR1cm4gQmxvY2tOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc0NvbXBsZXgsIGlzTm9kZSwgaXNVbml0LCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbnZhciBuYW1lID0gJ0NvbmRpdGlvbmFsTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbmRpdGlvbmFsTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEEgbGF6eSBldmFsdWF0aW5nIGNvbmRpdGlvbmFsIG9wZXJhdG9yOiAnY29uZGl0aW9uID8gdHJ1ZUV4cHIgOiBmYWxzZUV4cHInXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gY29uZGl0aW9uICAgQ29uZGl0aW9uLCBtdXN0IHJlc3VsdCBpbiBhIGJvb2xlYW5cbiAgICogQHBhcmFtIHtOb2RlfSB0cnVlRXhwciAgICBFeHByZXNzaW9uIGV2YWx1YXRlZCB3aGVuIGNvbmRpdGlvbiBpcyB0cnVlXG4gICAqIEBwYXJhbSB7Tm9kZX0gZmFsc2VFeHByICAgRXhwcmVzc2lvbiBldmFsdWF0ZWQgd2hlbiBjb25kaXRpb24gaXMgdHJ1ZVxuICAgKlxuICAgKiBAY29uc3RydWN0b3IgQ29uZGl0aW9uYWxOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29uZGl0aW9uYWxOb2RlKGNvbmRpdGlvbiwgdHJ1ZUV4cHIsIGZhbHNlRXhwcikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25kaXRpb25hbE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghaXNOb2RlKGNvbmRpdGlvbikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBjb25kaXRpb24gbXVzdCBiZSBhIE5vZGUnKTtcbiAgICBpZiAoIWlzTm9kZSh0cnVlRXhwcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciB0cnVlRXhwciBtdXN0IGJlIGEgTm9kZScpO1xuICAgIGlmICghaXNOb2RlKGZhbHNlRXhwcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBmYWxzZUV4cHIgbXVzdCBiZSBhIE5vZGUnKTtcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB0aGlzLnRydWVFeHByID0gdHJ1ZUV4cHI7XG4gICAgdGhpcy5mYWxzZUV4cHIgPSBmYWxzZUV4cHI7XG4gIH1cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS50eXBlID0gJ0NvbmRpdGlvbmFsTm9kZSc7XG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuaXNDb25kaXRpb25hbE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxDb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbFRydWVFeHByID0gdGhpcy50cnVlRXhwci5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEZhbHNlRXhwciA9IHRoaXMuZmFsc2VFeHByLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBldmFsQ29uZGl0aW9uYWxOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGVzdENvbmRpdGlvbihldmFsQ29uZGl0aW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSkgPyBldmFsVHJ1ZUV4cHIoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIDogZXZhbEZhbHNlRXhwcihzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmNvbmRpdGlvbiwgJ2NvbmRpdGlvbicsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMudHJ1ZUV4cHIsICd0cnVlRXhwcicsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMuZmFsc2VFeHByLCAnZmFsc2VFeHByJywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQ29uZGl0aW9uYWxOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtDb25kaXRpb25hbE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsTm9kZSh0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5jb25kaXRpb24sICdjb25kaXRpb24nLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnRydWVFeHByLCAndHJ1ZUV4cHInLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmZhbHNlRXhwciwgJ2ZhbHNlRXhwcicsIHRoaXMpKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0NvbmRpdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxOb2RlKHRoaXMuY29uZGl0aW9uLCB0aGlzLnRydWVFeHByLCB0aGlzLmZhbHNlRXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gRW5jbG9zZSBBcmd1bWVudHMgaW4gcGFyZW50aGVzZXMgaWYgdGhleSBhcmUgYW4gT3BlcmF0b3JOb2RlXG4gICAgLy8gb3IgaGF2ZSBsb3dlciBvciBlcXVhbCBwcmVjZWRlbmNlXG4gICAgLy8gTk9URTogZW5jbG9zaW5nIGFsbCBPcGVyYXRvck5vZGVzIGluIHBhcmVudGhlc2VzIGlzIGEgZGVjaXNpb25cbiAgICAvLyBwdXJlbHkgYmFzZWQgb24gYWVzdGhldGljcyBhbmQgcmVhZGFiaWxpdHlcblxuICAgIHZhciBjb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgY29uZGl0aW9uUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5jb25kaXRpb24sIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5jb25kaXRpb24udHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgY29uZGl0aW9uUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBjb25kaXRpb25QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGNvbmRpdGlvbiA9ICcoJyArIGNvbmRpdGlvbiArICcpJztcbiAgICB9XG5cbiAgICB2YXIgdHJ1ZUV4cHIgPSB0aGlzLnRydWVFeHByLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciB0cnVlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy50cnVlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLnRydWVFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IHRydWVQcmVjZWRlbmNlICE9PSBudWxsICYmIHRydWVQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIHRydWVFeHByID0gJygnICsgdHJ1ZUV4cHIgKyAnKSc7XG4gICAgfVxuXG4gICAgdmFyIGZhbHNlRXhwciA9IHRoaXMuZmFsc2VFeHByLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciBmYWxzZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuZmFsc2VFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuZmFsc2VFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGZhbHNlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBmYWxzZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgZmFsc2VFeHByID0gJygnICsgZmFsc2VFeHByICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiBjb25kaXRpb24gKyAnID8gJyArIHRydWVFeHByICsgJyA6ICcgKyBmYWxzZUV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbmRpdGlvbmFsTm9kZScsXG4gICAgICBjb25kaXRpb246IHRoaXMuY29uZGl0aW9uLFxuICAgICAgdHJ1ZUV4cHI6IHRoaXMudHJ1ZUV4cHIsXG4gICAgICBmYWxzZUV4cHI6IHRoaXMuZmFsc2VFeHByXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIENvbmRpdGlvbmFsTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQ29uZGl0aW9uYWxOb2RlXCIsIFwiY29uZGl0aW9uXCI6IC4uLiwgXCJ0cnVlRXhwclwiOiAuLi4sIFwiZmFsc2VFeHByXCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtDb25kaXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsTm9kZShqc29uLmNvbmRpdGlvbiwganNvbi50cnVlRXhwciwganNvbi5mYWxzZUV4cHIpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpOyAvLyBFbmNsb3NlIEFyZ3VtZW50cyBpbiBwYXJlbnRoZXNlcyBpZiB0aGV5IGFyZSBhbiBPcGVyYXRvck5vZGVcbiAgICAvLyBvciBoYXZlIGxvd2VyIG9yIGVxdWFsIHByZWNlZGVuY2VcbiAgICAvLyBOT1RFOiBlbmNsb3NpbmcgYWxsIE9wZXJhdG9yTm9kZXMgaW4gcGFyZW50aGVzZXMgaXMgYSBkZWNpc2lvblxuICAgIC8vIHB1cmVseSBiYXNlZCBvbiBhZXN0aGV0aWNzIGFuZCByZWFkYWJpbGl0eVxuXG4gICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgY29uZGl0aW9uUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5jb25kaXRpb24sIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5jb25kaXRpb24udHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgY29uZGl0aW9uUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBjb25kaXRpb25QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGNvbmRpdGlvbiA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGNvbmRpdGlvbiArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICB2YXIgdHJ1ZUV4cHIgPSB0aGlzLnRydWVFeHByLnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgdHJ1ZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMudHJ1ZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy50cnVlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCB0cnVlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiB0cnVlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICB0cnVlRXhwciA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHRydWVFeHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHZhciBmYWxzZUV4cHIgPSB0aGlzLmZhbHNlRXhwci50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIGZhbHNlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5mYWxzZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5mYWxzZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgZmFsc2VQcmVjZWRlbmNlICE9PSBudWxsICYmIGZhbHNlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBmYWxzZUV4cHIgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBmYWxzZUV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmRpdGlvbiArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1jb25kaXRpb25hbC1vcGVyYXRvclwiPj88L3NwYW4+JyArIHRydWVFeHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWNvbmRpdGlvbmFsLW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgZmFsc2VFeHByO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiAnXFxcXGJlZ2lue2Nhc2VzfSB7JyArIHRoaXMudHJ1ZUV4cHIudG9UZXgob3B0aW9ucykgKyAnfSwgJlxcXFxxdWFke1xcXFx0ZXh0e2lmIH1cXFxcOycgKyB0aGlzLmNvbmRpdGlvbi50b1RleChvcHRpb25zKSArICd9XFxcXFxcXFx7JyArIHRoaXMuZmFsc2VFeHByLnRvVGV4KG9wdGlvbnMpICsgJ30sICZcXFxccXVhZHtcXFxcdGV4dHtvdGhlcndpc2V9fVxcXFxlbmR7Y2FzZXN9JztcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBhIGNvbmRpdGlvbiBpcyBtZXRcbiAgICogQHBhcmFtIHsqfSBjb25kaXRpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgY29uZGl0aW9uIGlzIHRydWUgb3Igbm9uLXplcm8sIGVsc2UgZmFsc2VcbiAgICovXG5cblxuICBmdW5jdGlvbiB0ZXN0Q29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgIGlmICh0eXBlb2YgY29uZGl0aW9uID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgY29uZGl0aW9uID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGNvbmRpdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiAhIWNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gIWNvbmRpdGlvbi5pc1plcm8oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29tcGxleChjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiAhIShjb25kaXRpb24ucmUgfHwgY29uZGl0aW9uLmltKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzVW5pdChjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiAhIWNvbmRpdGlvbi52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9uID09PSBudWxsIHx8IGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBvZiBjb25kaXRpb24gXCInICsgdHlwZU9mKGNvbmRpdGlvbikgKyAnXCInKTtcbiAgfVxuXG4gIHJldHVybiBDb25kaXRpb25hbE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIE1hcCB0aGUgY2hhcmFjdGVycyB0byBlc2NhcGUgdG8gdGhlaXIgZXNjYXBlZCB2YWx1ZXMuIFRoZSBsaXN0IGlzIGRlcml2ZWRcbi8vIGZyb20gaHR0cDovL3d3dy5jZXNwZWRlcy5vcmcvYmxvZy84NS9ob3ctdG8tZXNjYXBlLWxhdGV4LXNwZWNpYWwtY2hhcmFjdGVyc1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgZGVmYXVsdEVzY2FwZXMgPSB7XG4gIFwie1wiOiBcIlxcXFx7XCIsXG4gIFwifVwiOiBcIlxcXFx9XCIsXG4gIFwiXFxcXFwiOiBcIlxcXFx0ZXh0YmFja3NsYXNoe31cIixcbiAgXCIjXCI6IFwiXFxcXCNcIixcbiAgJDogXCJcXFxcJFwiLFxuICBcIiVcIjogXCJcXFxcJVwiLFxuICBcIiZcIjogXCJcXFxcJlwiLFxuICBcIl5cIjogXCJcXFxcdGV4dGFzY2lpY2lyY3Vte31cIixcbiAgXzogXCJcXFxcX1wiLFxuICBcIn5cIjogXCJcXFxcdGV4dGFzY2lpdGlsZGV7fVwiXG59O1xudmFyIGZvcm1hdEVzY2FwZXMgPSB7XG4gIFwiXFx1MjAxM1wiOiBcIlxcXFwtLVwiLFxuICBcIlxcdTIwMTRcIjogXCJcXFxcLS0tXCIsXG4gIFwiIFwiOiBcIn5cIixcbiAgXCJcXHRcIjogXCJcXFxccXF1YWR7fVwiLFxuICBcIlxcclxcblwiOiBcIlxcXFxuZXdsaW5le31cIixcbiAgXCJcXG5cIjogXCJcXFxcbmV3bGluZXt9XCJcbn07XG5cbnZhciBkZWZhdWx0RXNjYXBlTWFwRm4gPSBmdW5jdGlvbiBkZWZhdWx0RXNjYXBlTWFwRm4oZGVmYXVsdEVzY2FwZXMsIGZvcm1hdEVzY2FwZXMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0RXNjYXBlcywgZm9ybWF0RXNjYXBlcyk7XG59O1xuXG4vKipcbiAqIEVzY2FwZSBhIHN0cmluZyB0byBiZSB1c2VkIGluIExhVGVYIGRvY3VtZW50cy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgdGhlIHN0cmluZyB0byBiZSBlc2NhcGVkLlxuICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMucHJlc2VydmVGb3JtYXR0aW5nIHdoZXRoZXIgZm9ybWF0dGluZyBlc2NhcGVzIHNob3VsZFxuICogIGJlIHBlcmZvcm1lZCAoZGVmYXVsdDogZmFsc2UpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyYW1zLmVzY2FwZU1hcEZuIHRoZSBmdW5jdGlvbiB0byBtb2RpZnkgdGhlIGVzY2FwZSBtYXBzLlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgZXNjYXBlZCBzdHJpbmcsIHJlYWR5IHRvIGJlIHVzZWQgaW4gTGFUZVguXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICBfcmVmJHByZXNlcnZlRm9ybWF0dGkgPSBfcmVmLnByZXNlcnZlRm9ybWF0dGluZyxcbiAgICAgIHByZXNlcnZlRm9ybWF0dGluZyA9IF9yZWYkcHJlc2VydmVGb3JtYXR0aSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJHByZXNlcnZlRm9ybWF0dGksXG4gICAgICBfcmVmJGVzY2FwZU1hcEZuID0gX3JlZi5lc2NhcGVNYXBGbixcbiAgICAgIGVzY2FwZU1hcEZuID0gX3JlZiRlc2NhcGVNYXBGbiA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEVzY2FwZU1hcEZuIDogX3JlZiRlc2NhcGVNYXBGbjtcblxuICB2YXIgcnVubmluZ1N0ciA9IFN0cmluZyhzdHIpO1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICB2YXIgZXNjYXBlcyA9IGVzY2FwZU1hcEZuKF9leHRlbmRzKHt9LCBkZWZhdWx0RXNjYXBlcyksIHByZXNlcnZlRm9ybWF0dGluZyA/IF9leHRlbmRzKHt9LCBmb3JtYXRFc2NhcGVzKSA6IHt9KTtcbiAgdmFyIGVzY2FwZUtleXMgPSBPYmplY3Qua2V5cyhlc2NhcGVzKTsgLy8gYXMgaXQgaXMgcmV1c2VkIGxhdGVyIG9uXG5cbiAgLy8gQWxnb3JpdGhtOiBHbyB0aHJvdWdoIHRoZSBzdHJpbmcgY2hhcmFjdGVyIGJ5IGNoYXJhY3RlciwgaWYgaXQgbWF0Y2hlc1xuICAvLyB3aXRoIG9uZSBvZiB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoZW4gd2UnbGwgcmVwbGFjZSBpdCB3aXRoIHRoZSBlc2NhcGVkXG4gIC8vIHZlcnNpb24uXG5cbiAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgdmFyIHNwZWNpYWxDaGFyRm91bmQgPSBmYWxzZTtcbiAgICBlc2NhcGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgIGlmIChzcGVjaWFsQ2hhckZvdW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChydW5uaW5nU3RyLmxlbmd0aCA+PSBrZXkubGVuZ3RoICYmIHJ1bm5pbmdTdHIuc2xpY2UoMCwga2V5Lmxlbmd0aCkgPT09IGtleSkge1xuICAgICAgICByZXN1bHQgKz0gZXNjYXBlc1tlc2NhcGVLZXlzW2luZGV4XV07XG4gICAgICAgIHJ1bm5pbmdTdHIgPSBydW5uaW5nU3RyLnNsaWNlKGtleS5sZW5ndGgsIHJ1bm5pbmdTdHIubGVuZ3RoKTtcbiAgICAgICAgc3BlY2lhbENoYXJGb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFzcGVjaWFsQ2hhckZvdW5kKSB7XG4gICAgICByZXN1bHQgKz0gcnVubmluZ1N0ci5zbGljZSgwLCAxKTtcbiAgICAgIHJ1bm5pbmdTdHIgPSBydW5uaW5nU3RyLnNsaWNlKDEsIHJ1bm5pbmdTdHIubGVuZ3RoKTtcbiAgICB9XG4gIH07XG5cbiAgd2hpbGUgKHJ1bm5pbmdTdHIpIHtcbiAgICBfbG9vcCgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyIsIi8qIGVzbGludCBuby10ZW1wbGF0ZS1jdXJseS1pbi1zdHJpbmc6IFwib2ZmXCIgKi9cbmltcG9ydCBlc2NhcGVMYXRleExpYiBmcm9tICdlc2NhcGUtbGF0ZXgnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuL29iamVjdC5qcyc7XG5leHBvcnQgdmFyIGxhdGV4U3ltYm9scyA9IHtcbiAgLy8gR1JFRUsgTEVUVEVSU1xuICBBbHBoYTogJ0EnLFxuICBhbHBoYTogJ1xcXFxhbHBoYScsXG4gIEJldGE6ICdCJyxcbiAgYmV0YTogJ1xcXFxiZXRhJyxcbiAgR2FtbWE6ICdcXFxcR2FtbWEnLFxuICBnYW1tYTogJ1xcXFxnYW1tYScsXG4gIERlbHRhOiAnXFxcXERlbHRhJyxcbiAgZGVsdGE6ICdcXFxcZGVsdGEnLFxuICBFcHNpbG9uOiAnRScsXG4gIGVwc2lsb246ICdcXFxcZXBzaWxvbicsXG4gIHZhcmVwc2lsb246ICdcXFxcdmFyZXBzaWxvbicsXG4gIFpldGE6ICdaJyxcbiAgemV0YTogJ1xcXFx6ZXRhJyxcbiAgRXRhOiAnSCcsXG4gIGV0YTogJ1xcXFxldGEnLFxuICBUaGV0YTogJ1xcXFxUaGV0YScsXG4gIHRoZXRhOiAnXFxcXHRoZXRhJyxcbiAgdmFydGhldGE6ICdcXFxcdmFydGhldGEnLFxuICBJb3RhOiAnSScsXG4gIGlvdGE6ICdcXFxcaW90YScsXG4gIEthcHBhOiAnSycsXG4gIGthcHBhOiAnXFxcXGthcHBhJyxcbiAgdmFya2FwcGE6ICdcXFxcdmFya2FwcGEnLFxuICBMYW1iZGE6ICdcXFxcTGFtYmRhJyxcbiAgbGFtYmRhOiAnXFxcXGxhbWJkYScsXG4gIE11OiAnTScsXG4gIG11OiAnXFxcXG11JyxcbiAgTnU6ICdOJyxcbiAgbnU6ICdcXFxcbnUnLFxuICBYaTogJ1xcXFxYaScsXG4gIHhpOiAnXFxcXHhpJyxcbiAgT21pY3JvbjogJ08nLFxuICBvbWljcm9uOiAnbycsXG4gIFBpOiAnXFxcXFBpJyxcbiAgcGk6ICdcXFxccGknLFxuICB2YXJwaTogJ1xcXFx2YXJwaScsXG4gIFJobzogJ1AnLFxuICByaG86ICdcXFxccmhvJyxcbiAgdmFycmhvOiAnXFxcXHZhcnJobycsXG4gIFNpZ21hOiAnXFxcXFNpZ21hJyxcbiAgc2lnbWE6ICdcXFxcc2lnbWEnLFxuICB2YXJzaWdtYTogJ1xcXFx2YXJzaWdtYScsXG4gIFRhdTogJ1QnLFxuICB0YXU6ICdcXFxcdGF1JyxcbiAgVXBzaWxvbjogJ1xcXFxVcHNpbG9uJyxcbiAgdXBzaWxvbjogJ1xcXFx1cHNpbG9uJyxcbiAgUGhpOiAnXFxcXFBoaScsXG4gIHBoaTogJ1xcXFxwaGknLFxuICB2YXJwaGk6ICdcXFxcdmFycGhpJyxcbiAgQ2hpOiAnWCcsXG4gIGNoaTogJ1xcXFxjaGknLFxuICBQc2k6ICdcXFxcUHNpJyxcbiAgcHNpOiAnXFxcXHBzaScsXG4gIE9tZWdhOiAnXFxcXE9tZWdhJyxcbiAgb21lZ2E6ICdcXFxcb21lZ2EnLFxuICAvLyBsb2dpY1xuICB0cnVlOiAnXFxcXG1hdGhybXtUcnVlfScsXG4gIGZhbHNlOiAnXFxcXG1hdGhybXtGYWxzZX0nLFxuICAvLyBvdGhlclxuICBpOiAnaScsXG4gIC8vIFRPRE8gdXNlIFxcaSA/P1xuICBpbmY6ICdcXFxcaW5mdHknLFxuICBJbmY6ICdcXFxcaW5mdHknLFxuICBpbmZpbml0eTogJ1xcXFxpbmZ0eScsXG4gIEluZmluaXR5OiAnXFxcXGluZnR5JyxcbiAgb286ICdcXFxcaW5mdHknLFxuICBsaW06ICdcXFxcbGltJyxcbiAgdW5kZWZpbmVkOiAnXFxcXG1hdGhiZns/fSdcbn07XG5leHBvcnQgdmFyIGxhdGV4T3BlcmF0b3JzID0ge1xuICB0cmFuc3Bvc2U6ICdeXFxcXHRvcCcsXG4gIGN0cmFuc3Bvc2U6ICdeSCcsXG4gIGZhY3RvcmlhbDogJyEnLFxuICBwb3c6ICdeJyxcbiAgZG90UG93OiAnLl5cXFxcd2VkZ2UnLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgdW5hcnlQbHVzOiAnKycsXG4gIHVuYXJ5TWludXM6ICctJyxcbiAgYml0Tm90OiAnXFxcXH4nLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgbm90OiAnXFxcXG5lZycsXG4gIG11bHRpcGx5OiAnXFxcXGNkb3QnLFxuICBkaXZpZGU6ICdcXFxcZnJhYycsXG4gIC8vIFRPRE8gaG93IHRvIGhhbmRsZSB0aGF0IHByb3Blcmx5P1xuICBkb3RNdWx0aXBseTogJy5cXFxcY2RvdCcsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICBkb3REaXZpZGU6ICcuOicsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICBtb2Q6ICdcXFxcbW9kJyxcbiAgYWRkOiAnKycsXG4gIHN1YnRyYWN0OiAnLScsXG4gIHRvOiAnXFxcXHJpZ2h0YXJyb3cnLFxuICBsZWZ0U2hpZnQ6ICc8PCcsXG4gIHJpZ2h0QXJpdGhTaGlmdDogJz4+JyxcbiAgcmlnaHRMb2dTaGlmdDogJz4+PicsXG4gIGVxdWFsOiAnPScsXG4gIHVuZXF1YWw6ICdcXFxcbmVxJyxcbiAgc21hbGxlcjogJzwnLFxuICBsYXJnZXI6ICc+JyxcbiAgc21hbGxlckVxOiAnXFxcXGxlcScsXG4gIGxhcmdlckVxOiAnXFxcXGdlcScsXG4gIGJpdEFuZDogJ1xcXFwmJyxcbiAgYml0WG9yOiAnXFxcXHVuZGVybGluZXt8fScsXG4gIGJpdE9yOiAnfCcsXG4gIGFuZDogJ1xcXFx3ZWRnZScsXG4gIHhvcjogJ1xcXFx2ZWViYXInLFxuICBvcjogJ1xcXFx2ZWUnXG59O1xuZXhwb3J0IHZhciBsYXRleEZ1bmN0aW9ucyA9IHtcbiAgLy8gYXJpdGhtZXRpY1xuICBhYnM6IHtcbiAgICAxOiAnXFxcXGxlZnR8JHthcmdzWzBdfVxcXFxyaWdodHwnXG4gIH0sXG4gIGFkZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5hZGQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgY2JydDoge1xuICAgIDE6ICdcXFxcc3FydFszXXske2FyZ3NbMF19fSdcbiAgfSxcbiAgY2VpbDoge1xuICAgIDE6ICdcXFxcbGVmdFxcXFxsY2VpbCR7YXJnc1swXX1cXFxccmlnaHRcXFxccmNlaWwnXG4gIH0sXG4gIGN1YmU6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleMydcbiAgfSxcbiAgZGl2aWRlOiB7XG4gICAgMjogJ1xcXFxmcmFjeyR7YXJnc1swXX19eyR7YXJnc1sxXX19J1xuICB9LFxuICBkb3REaXZpZGU6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZG90RGl2aWRlLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGRvdE11bHRpcGx5OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmRvdE11bHRpcGx5LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGRvdFBvdzoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5kb3RQb3csIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgZXhwOiB7XG4gICAgMTogJ1xcXFxleHBcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZXhwbTE6IFwiXFxcXGxlZnQoZVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5wb3csIFwieyR7YXJnc1swXX19LTFcXFxccmlnaHQpXCIpLFxuICBmaXg6IHtcbiAgICAxOiAnXFxcXG1hdGhybXske25hbWV9fVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBmbG9vcjoge1xuICAgIDE6ICdcXFxcbGVmdFxcXFxsZmxvb3Ike2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJmbG9vcidcbiAgfSxcbiAgZ2NkOiAnXFxcXGdjZFxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgaHlwb3Q6ICdcXFxcaHlwb3RcXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIGxvZzoge1xuICAgIDE6ICdcXFxcbG5cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsb2dfeyR7YXJnc1sxXX19XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGxvZzEwOiB7XG4gICAgMTogJ1xcXFxsb2dfezEwfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBsb2cxcDoge1xuICAgIDE6ICdcXFxcbG5cXFxcbGVmdCgke2FyZ3NbMF19KzFcXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxvZ197JHthcmdzWzFdfX1cXFxcbGVmdCgke2FyZ3NbMF19KzFcXFxccmlnaHQpJ1xuICB9LFxuICBsb2cyOiAnXFxcXGxvZ197Mn1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gIG1vZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5tb2QsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbXVsdGlwbHk6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubXVsdGlwbHksIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbm9ybToge1xuICAgIDE6ICdcXFxcbGVmdFxcXFx8JHthcmdzWzBdfVxcXFxyaWdodFxcXFx8JyxcbiAgICAyOiB1bmRlZmluZWQgLy8gdXNlIGRlZmF1bHQgdGVtcGxhdGVcblxuICB9LFxuICBudGhSb290OiB7XG4gICAgMjogJ1xcXFxzcXJ0WyR7YXJnc1sxXX1deyR7YXJnc1swXX19J1xuICB9LFxuICBudGhSb290czoge1xuICAgIDI6ICdcXFxce3kgOiAkeV57YXJnc1sxXX0gPSB7JHthcmdzWzBdfX1cXFxcfSdcbiAgfSxcbiAgcG93OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5wb3csIFwieyR7YXJnc1sxXX19XCIpXG4gIH0sXG4gIHJvdW5kOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXGxmbG9vciR7YXJnc1swXX1cXFxccmlnaHRcXFxccmNlaWwnLFxuICAgIDI6IHVuZGVmaW5lZCAvLyB1c2UgZGVmYXVsdCB0ZW1wbGF0ZVxuXG4gIH0sXG4gIHNpZ246IHtcbiAgICAxOiAnXFxcXG1hdGhybXske25hbWV9fVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzcXJ0OiB7XG4gICAgMTogJ1xcXFxzcXJ0eyR7YXJnc1swXX19J1xuICB9LFxuICBzcXVhcmU6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleMidcbiAgfSxcbiAgc3VidHJhY3Q6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuc3VidHJhY3QsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgdW5hcnlNaW51czoge1xuICAgIDE6IFwiXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnVuYXJ5TWludXMsIFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgdW5hcnlQbHVzOiB7XG4gICAgMTogXCJcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudW5hcnlQbHVzLCBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIGJpdHdpc2VcbiAgYml0QW5kOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmJpdEFuZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBiaXROb3Q6IHtcbiAgICAxOiBsYXRleE9wZXJhdG9ycy5iaXROb3QgKyAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGJpdE9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmJpdE9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGJpdFhvcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5iaXRYb3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbGVmdFNoaWZ0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmxlZnRTaGlmdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICByaWdodEFyaXRoU2hpZnQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucmlnaHRBcml0aFNoaWZ0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHJpZ2h0TG9nU2hpZnQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucmlnaHRMb2dTaGlmdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBjb21iaW5hdG9yaWNzXG4gIGJlbGxOdW1iZXJzOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Qn1feyR7YXJnc1swXX19J1xuICB9LFxuICBjYXRhbGFuOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Q31feyR7YXJnc1swXX19J1xuICB9LFxuICBzdGlybGluZ1MyOiB7XG4gICAgMjogJ1xcXFxtYXRocm17U31cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gY29tcGxleFxuICBhcmc6IHtcbiAgICAxOiAnXFxcXGFyZ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb25qOiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXionXG4gIH0sXG4gIGltOiB7XG4gICAgMTogJ1xcXFxJbVxcXFxsZWZ0XFxcXGxicmFjZSR7YXJnc1swXX1cXFxccmlnaHRcXFxccmJyYWNlJ1xuICB9LFxuICByZToge1xuICAgIDE6ICdcXFxcUmVcXFxcbGVmdFxcXFxsYnJhY2Uke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJicmFjZSdcbiAgfSxcbiAgLy8gbG9naWNhbFxuICBhbmQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYW5kLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIG5vdDoge1xuICAgIDE6IGxhdGV4T3BlcmF0b3JzLm5vdCArICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgb3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMub3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgeG9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnhvciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBtYXRyaXhcbiAgY3Jvc3M6IHtcbiAgICAyOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcXFxcdGltZXNcXFxcbGVmdCgke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY3RyYW5zcG9zZToge1xuICAgIDE6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuY3RyYW5zcG9zZSlcbiAgfSxcbiAgZGV0OiB7XG4gICAgMTogJ1xcXFxkZXRcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZG90OiB7XG4gICAgMjogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxcY2RvdCR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9LFxuICBleHBtOiB7XG4gICAgMTogJ1xcXFxleHBcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgaW52OiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXnstMX0nXG4gIH0sXG4gIHNxcnRtOiB7XG4gICAgMTogXCJ7JHthcmdzWzBdfX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucG93LCBcIntcXFxcZnJhY3sxfXsyfX1cIilcbiAgfSxcbiAgdHJhY2U6IHtcbiAgICAxOiAnXFxcXG1hdGhybXt0cn1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdHJhbnNwb3NlOiB7XG4gICAgMTogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy50cmFuc3Bvc2UpXG4gIH0sXG4gIC8vIHByb2JhYmlsaXR5XG4gIGNvbWJpbmF0aW9uczoge1xuICAgIDI6ICdcXFxcYmlub217JHthcmdzWzBdfX17JHthcmdzWzFdfX0nXG4gIH0sXG4gIGNvbWJpbmF0aW9uc1dpdGhSZXA6IHtcbiAgICAyOiAnXFxcXGxlZnQoXFxcXCFcXFxcIXtcXFxcYmlub217JHthcmdzWzBdfX17JHthcmdzWzFdfX19XFxcXCFcXFxcIVxcXFxyaWdodCknXG4gIH0sXG4gIGZhY3RvcmlhbDoge1xuICAgIDE6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZmFjdG9yaWFsKVxuICB9LFxuICBnYW1tYToge1xuICAgIDE6ICdcXFxcR2FtbWFcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gcmVsYXRpb25hbFxuICBlcXVhbDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5lcXVhbCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBsYXJnZXI6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubGFyZ2VyLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGxhcmdlckVxOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmxhcmdlckVxLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHNtYWxsZXI6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuc21hbGxlciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBzbWFsbGVyRXE6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuc21hbGxlckVxLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHVuZXF1YWw6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudW5lcXVhbCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBzcGVjaWFsXG4gIGVyZjoge1xuICAgIDE6ICdlcmZcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gc3RhdGlzdGljc1xuICBtYXg6ICdcXFxcbWF4XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICBtaW46ICdcXFxcbWluXFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICB2YXJpYW5jZTogJ1xcXFxtYXRocm17VmFyfVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgLy8gdHJpZ29ub21ldHJ5XG4gIGFjb3M6IHtcbiAgICAxOiAnXFxcXGNvc157LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjb3NoOiB7XG4gICAgMTogJ1xcXFxjb3NoXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNvdDoge1xuICAgIDE6ICdcXFxcY290XnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNvdGg6IHtcbiAgICAxOiAnXFxcXGNvdGheey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY3NjOiB7XG4gICAgMTogJ1xcXFxjc2Neey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY3NjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte2NzY2h9XnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNlYzoge1xuICAgIDE6ICdcXFxcc2VjXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNlY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtzZWNofV57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzaW46IHtcbiAgICAxOiAnXFxcXHNpbl57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzaW5oOiB7XG4gICAgMTogJ1xcXFxzaW5oXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXRhbjoge1xuICAgIDE6ICdcXFxcdGFuXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXRhbjI6IHtcbiAgICAyOiAnXFxcXG1hdGhybXthdGFuMn1cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXRhbmg6IHtcbiAgICAxOiAnXFxcXHRhbmheey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3M6IHtcbiAgICAxOiAnXFxcXGNvc1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3NoOiB7XG4gICAgMTogJ1xcXFxjb3NoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvdDoge1xuICAgIDE6ICdcXFxcY290XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvdGg6IHtcbiAgICAxOiAnXFxcXGNvdGhcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY3NjOiB7XG4gICAgMTogJ1xcXFxjc2NcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY3NjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte2NzY2h9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNlYzoge1xuICAgIDE6ICdcXFxcc2VjXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNlY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtzZWNofVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzaW46IHtcbiAgICAxOiAnXFxcXHNpblxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzaW5oOiB7XG4gICAgMTogJ1xcXFxzaW5oXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHRhbjoge1xuICAgIDE6ICdcXFxcdGFuXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHRhbmg6IHtcbiAgICAxOiAnXFxcXHRhbmhcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gdW5pdFxuICB0bzoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy50bywgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyB1dGlsc1xuICBudW1lcmljOiBmdW5jdGlvbiBudW1lcmljKG5vZGUsIG9wdGlvbnMpIHtcbiAgICAvLyBOb3Qgc3VyZSBpZiB0aGlzIGlzIHN0cmljdGx5IHJpZ2h0IGJ1dCBzaG91bGQgd29yayBjb3JyZWN0bHkgZm9yIHRoZSB2YXN0IG1ham9yaXR5IG9mIHVzZSBjYXNlcy5cbiAgICByZXR1cm4gbm9kZS5hcmdzWzBdLnRvVGV4KCk7XG4gIH0sXG4gIC8vIHR5cGVcbiAgbnVtYmVyOiB7XG4gICAgMDogJzAnLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsZWZ0KFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH0sXG4gIHN0cmluZzoge1xuICAgIDA6ICdcXFxcbWF0aHR0e1wiXCJ9JyxcbiAgICAxOiAnXFxcXG1hdGhybXtzdHJpbmd9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGJpZ251bWJlcjoge1xuICAgIDA6ICcwJyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvbXBsZXg6IHtcbiAgICAwOiAnMCcsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiBcIlxcXFxsZWZ0KFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpK1wiLmNvbmNhdChsYXRleFN5bWJvbHMuaSwgXCJcXFxcY2RvdFxcXFxsZWZ0KCR7YXJnc1sxXX1cXFxccmlnaHQpXFxcXHJpZ2h0KVwiKVxuICB9LFxuICBtYXRyaXg6IHtcbiAgICAwOiAnXFxcXGJlZ2lue2JtYXRyaXh9XFxcXGVuZHtibWF0cml4fScsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNwYXJzZToge1xuICAgIDA6ICdcXFxcYmVnaW57YnNwYXJzZX1cXFxcZW5ke2JzcGFyc2V9JyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHVuaXQ6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbGVmdChcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9XG59O1xuZXhwb3J0IHZhciBkZWZhdWx0VGVtcGxhdGUgPSAnXFxcXG1hdGhybXske25hbWV9fVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJztcbnZhciBsYXRleFVuaXRzID0ge1xuICBkZWc6ICdeXFxcXGNpcmMnXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUxhdGV4KHN0cmluZykge1xuICByZXR1cm4gZXNjYXBlTGF0ZXhMaWIoc3RyaW5nLCB7XG4gICAgcHJlc2VydmVGb3JtYXR0aW5nOiB0cnVlXG4gIH0pO1xufSAvLyBAcGFyYW0ge3N0cmluZ30gbmFtZVxuLy8gQHBhcmFtIHtib29sZWFufSBpc1VuaXRcblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3ltYm9sKG5hbWUsIGlzVW5pdCkge1xuICBpc1VuaXQgPSB0eXBlb2YgaXNVbml0ID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogaXNVbml0O1xuXG4gIGlmIChpc1VuaXQpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkobGF0ZXhVbml0cywgbmFtZSkpIHtcbiAgICAgIHJldHVybiBsYXRleFVuaXRzW25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiAnXFxcXG1hdGhybXsnICsgZXNjYXBlTGF0ZXgobmFtZSkgKyAnfSc7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkobGF0ZXhTeW1ib2xzLCBuYW1lKSkge1xuICAgIHJldHVybiBsYXRleFN5bWJvbHNbbmFtZV07XG4gIH1cblxuICByZXR1cm4gZXNjYXBlTGF0ZXgobmFtZSk7XG59IiwiaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGVzY2FwZUxhdGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQ29uc3RhbnROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29uc3RhbnROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQSBDb25zdGFudE5vZGUgaG9sZHMgYSBjb25zdGFudCB2YWx1ZSBsaWtlIGEgbnVtYmVyIG9yIHN0cmluZy5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqXG4gICAqICAgICBuZXcgQ29uc3RhbnROb2RlKDIuMylcbiAgICogICAgIG5ldyBDb25zdGFudE5vZGUoJ2hlbGxvJylcbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAgICBWYWx1ZSBjYW4gYmUgYW55IHR5cGUgKG51bWJlciwgQmlnTnVtYmVyLCBzdHJpbmcsIC4uLilcbiAgICogQGNvbnN0cnVjdG9yIENvbnN0YW50Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIENvbnN0YW50Tm9kZSh2YWx1ZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25zdGFudE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBDb25zdGFudE5vZGUucHJvdG90eXBlLnR5cGUgPSAnQ29uc3RhbnROb2RlJztcbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5pc0NvbnN0YW50Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsQ29uc3RhbnROb2RlKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7Ly8gbm90aGluZyB0byBkbywgd2UgZG9uJ3QgaGF2ZSBjaGlsZHNcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBDb25zdGFudE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtDb25zdGFudE5vZGV9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7Q29uc3RhbnROb2RlfVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUodGhpcy52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy52YWx1ZSwgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl90b1N0cmluZyhvcHRpb25zKTtcblxuICAgIHN3aXRjaCAodHlwZU9mKHRoaXMudmFsdWUpKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnQmlnTnVtYmVyJzpcbiAgICAgIGNhc2UgJ0ZyYWN0aW9uJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtbnVtYmVyXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zdHJpbmdcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1ib29sZWFuXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICdudWxsJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtbnVsbC1zeW1ib2xcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXVuZGVmaW5lZFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQ29uc3RhbnROb2RlJyxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgQ29uc3RhbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJTeW1ib2xOb2RlXCIsIHZhbHVlOiAyLjN9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7Q29uc3RhbnROb2RlfVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUoanNvbi52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fdG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBzd2l0Y2ggKHR5cGVPZih0aGlzLnZhbHVlKSkge1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuICdcXFxcbWF0aHR0eycgKyBlc2NhcGVMYXRleCh2YWx1ZSkgKyAnfSc7XG5cbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdCaWdOdW1iZXInOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFpc0Zpbml0ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudmFsdWVPZigpIDwgMCA/ICctXFxcXGluZnR5JyA6ICdcXFxcaW5mdHknO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbmRleCA9IHZhbHVlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZScpO1xuXG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCBpbmRleCkgKyAnXFxcXGNkb3QxMF57JyArIHZhbHVlLnN1YnN0cmluZyhpbmRleCArIDEpICsgJ30nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG5cbiAgICAgIGNhc2UgJ0ZyYWN0aW9uJzpcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudG9MYXRleCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDb25zdGFudE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsga2V5d29yZHMgfSBmcm9tICcuLi9rZXl3b3Jkcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZm9yRWFjaCwgam9pbiB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IHRvU3ltYm9sIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEZ1bmN0aW9uQXNzaWdubWVudE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEZ1bmN0aW9uIGFzc2lnbm1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICAgICAgIEZ1bmN0aW9uIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmdbXSB8IEFycmF5Ljx7bmFtZTogc3RyaW5nLCB0eXBlOiBzdHJpbmd9Pn0gcGFyYW1zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcnJheSB3aXRoIGZ1bmN0aW9uIHBhcmFtZXRlciBuYW1lcywgb3IgYW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5IHdpdGggb2JqZWN0cyBjb250YWluaW5nIHRoZSBuYW1lXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgdHlwZSBvZiB0aGUgcGFyYW1ldGVyXG4gICAqIEBwYXJhbSB7Tm9kZX0gZXhwciAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gZXhwcmVzc2lvblxuICAgKi9cbiAgZnVuY3Rpb24gRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShuYW1lLCBwYXJhbXMsIGV4cHIpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm5hbWVcIicpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIHN0cmluZ3Mgb3Igb2JqZWN0cyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwicGFyYW1zXCInKTtcbiAgICBpZiAoIWlzTm9kZShleHByKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiZXhwclwiJyk7XG4gICAgaWYgKG5hbWUgaW4ga2V5d29yZHMpIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBmdW5jdGlvbiBuYW1lLCBcIicgKyBuYW1lICsgJ1wiIGlzIGEgcmVzZXJ2ZWQga2V5d29yZCcpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtICYmIHBhcmFtLm5hbWUgfHwgcGFyYW07XG4gICAgfSk7XG4gICAgdGhpcy50eXBlcyA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0gJiYgcGFyYW0udHlwZSB8fCAnYW55JztcbiAgICB9KTtcbiAgICB0aGlzLmV4cHIgPSBleHByO1xuICB9XG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50eXBlID0gJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnO1xuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5pc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBjaGlsZEFyZ05hbWVzID0gT2JqZWN0LmNyZWF0ZShhcmdOYW1lcyk7XG4gICAgZm9yRWFjaCh0aGlzLnBhcmFtcywgZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICBjaGlsZEFyZ05hbWVzW3BhcmFtXSA9IHRydWU7XG4gICAgfSk7IC8vIGNvbXBpbGUgdGhlIGZ1bmN0aW9uIGV4cHJlc3Npb24gd2l0aCB0aGUgY2hpbGQgYXJnc1xuXG4gICAgdmFyIGV2YWxFeHByID0gdGhpcy5leHByLl9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpO1xuXG4gICAgdmFyIG5hbWUgPSB0aGlzLm5hbWU7XG4gICAgdmFyIHBhcmFtcyA9IHRoaXMucGFyYW1zO1xuICAgIHZhciBzaWduYXR1cmUgPSBqb2luKHRoaXMudHlwZXMsICcsJyk7XG4gICAgdmFyIHN5bnRheCA9IG5hbWUgKyAnKCcgKyBqb2luKHRoaXMucGFyYW1zLCAnLCAnKSArICcpJztcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBzaWduYXR1cmVzID0ge307XG5cbiAgICAgIHNpZ25hdHVyZXNbc2lnbmF0dXJlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoaWxkQXJncyA9IE9iamVjdC5jcmVhdGUoYXJncyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjaGlsZEFyZ3NbcGFyYW1zW2ldXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmFsRXhwcihzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBmbiA9IHR5cGVkKG5hbWUsIHNpZ25hdHVyZXMpO1xuICAgICAgZm4uc3ludGF4ID0gc3ludGF4O1xuICAgICAgc2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lLCBmbik7XG4gICAgICByZXR1cm4gZm47XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5leHByLCAnZXhwcicsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Z1bmN0aW9uQXNzaWdubWVudE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGV4cHIgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5leHByLCAnZXhwcicsIHRoaXMpKTtcblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh0aGlzLm5hbWUsIHRoaXMucGFyYW1zLnNsaWNlKDApLCBleHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7RnVuY3Rpb25Bc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUodGhpcy5uYW1lLCB0aGlzLnBhcmFtcy5zbGljZSgwKSwgdGhpcy5leHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIElzIHBhcmVudGhlc2lzIG5lZWRlZD9cbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRoZXNpc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5lZWRQYXJlbnRoZXNpcyhub2RlLCBwYXJlbnRoZXNpcykge1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIGV4cHJQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLmV4cHIsIHBhcmVudGhlc2lzKTtcbiAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IGV4cHJQcmVjZWRlbmNlICE9PSBudWxsICYmIGV4cHJQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2U7XG4gIH1cbiAgLyoqXG4gICAqIGdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGV4cHIgPSB0aGlzLmV4cHIudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIHBhcmVudGhlc2lzKSkge1xuICAgICAgZXhwciA9ICcoJyArIGV4cHIgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubmFtZSArICcoJyArIHRoaXMucGFyYW1zLmpvaW4oJywgJykgKyAnKSA9ICcgKyBleHByO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHlwZXMgPSB0aGlzLnR5cGVzO1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBwYXJhbSxcbiAgICAgICAgICB0eXBlOiB0eXBlc1tpbmRleF1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgZXhwcjogdGhpcy5leHByXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZ1bmN0aW9uQXNzaWdubWVudE5vZGVcIiwgbmFtZTogLi4uLCBwYXJhbXM6IC4uLiwgZXhwcjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Z1bmN0aW9uQXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKGpzb24ubmFtZSwganNvbi5wYXJhbXMsIGpzb24uZXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBnZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXJhbXMucHVzaCgnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXBhcmFtZXRlclwiPicgKyBlc2NhcGUodGhpcy5wYXJhbXNbaV0pICsgJzwvc3Bhbj4nKTtcbiAgICB9XG5cbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwci50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIHBhcmVudGhlc2lzKSkge1xuICAgICAgZXhwciA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtZnVuY3Rpb25cIj4nICsgZXNjYXBlKHRoaXMubmFtZSkgKyAnPC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBwYXJhbXMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPjxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC12YXJpYWJsZS1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yXCI+PTwvc3Bhbj4nICsgZXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIGdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwci50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgcGFyZW50aGVzaXMpKSB7XG4gICAgICBleHByID0gXCJcXFxcbGVmdChcIi5jb25jYXQoZXhwciwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHJldHVybiAnXFxcXG1hdGhybXsnICsgdGhpcy5uYW1lICsgJ31cXFxcbGVmdCgnICsgdGhpcy5wYXJhbXMubWFwKHRvU3ltYm9sKS5qb2luKCcsJykgKyAnXFxcXHJpZ2h0KTo9JyArIGV4cHI7XG4gIH07XG5cbiAgcmV0dXJuIEZ1bmN0aW9uQXNzaWdubWVudE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIsIGlzQ29uc3RhbnROb2RlLCBpc05vZGUsIGlzUmFuZ2VOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG52YXIgbmFtZSA9ICdJbmRleE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnUmFuZ2UnLCAnTm9kZScsICdzaXplJ107XG5leHBvcnQgdmFyIGNyZWF0ZUluZGV4Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIFJhbmdlLFxuICAgIE5vZGUsXG4gICAgc2l6ZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEluZGV4Tm9kZVxuICAgKiBAZXh0ZW5kcyBOb2RlXG4gICAqXG4gICAqIERlc2NyaWJlcyBhIHN1YnNldCBvZiBhIG1hdHJpeCBvciBhbiBvYmplY3QgcHJvcGVydHkuXG4gICAqIENhbm5vdCBiZSB1c2VkIG9uIGl0cyBvd24sIG5lZWRzIHRvIGJlIHVzZWQgd2l0aGluIGFuIEFjY2Vzc29yTm9kZSBvclxuICAgKiBBc3NpZ25tZW50Tm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlW119IGRpbWVuc2lvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbZG90Tm90YXRpb249ZmFsc2VdICBPcHRpb25hbCBwcm9wZXJ0eSBkZXNjcmliaW5nIHdoZXRoZXJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGluZGV4IHdhcyB3cml0dGVuIHVzaW5nIGRvdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGF0aW9uIGxpa2UgYGEuYmAsIG9yIHVzaW5nIGJyYWNrZXRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RhdGlvbiBsaWtlIGBhW1wiYlwiXWAgKGRlZmF1bHQpLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZWQgdG8gc3RyaW5naWZ5IGFuIEluZGV4Tm9kZS5cbiAgICovXG4gIGZ1bmN0aW9uIEluZGV4Tm9kZShkaW1lbnNpb25zLCBkb3ROb3RhdGlvbikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBJbmRleE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG4gICAgdGhpcy5kb3ROb3RhdGlvbiA9IGRvdE5vdGF0aW9uIHx8IGZhbHNlOyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRpbWVuc2lvbnMpIHx8ICFkaW1lbnNpb25zLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImRpbWVuc2lvbnNcIicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRvdE5vdGF0aW9uICYmICF0aGlzLmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb3ROb3RhdGlvbiBvbmx5IGFwcGxpY2FibGUgZm9yIG9iamVjdCBwcm9wZXJ0aWVzJyk7XG4gICAgfVxuICB9XG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEluZGV4Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdJbmRleE5vZGUnO1xuICBJbmRleE5vZGUucHJvdG90eXBlLmlzSW5kZXhOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIC8vIFRPRE86IGltcGxlbWVudCBzdXBwb3J0IGZvciBiaWdudW1iZXIgKGN1cnJlbnRseSBiaWdudW1iZXJzIGFyZSBzaWxlbnRseVxuICAgIC8vICAgICAgIHJlZHVjZWQgdG8gbnVtYmVycyB3aGVuIGNoYW5naW5nIHRoZSB2YWx1ZSB0byB6ZXJvLWJhc2VkKVxuICAgIC8vIFRPRE86IE9wdGltaXphdGlvbjogd2hlbiB0aGUgcmFuZ2UgdmFsdWVzIGFyZSBDb25zdGFudE5vZGVzLFxuICAgIC8vICAgICAgIHdlIGNhbiBiZWZvcmVoYW5kIHJlc29sdmUgdGhlIHplcm8tYmFzZWQgdmFsdWVcbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIGEgc2ltcGxlIG9iamVjdCBwcm9wZXJ0eVxuICAgIHZhciBldmFsRGltZW5zaW9ucyA9IG1hcCh0aGlzLmRpbWVuc2lvbnMsIGZ1bmN0aW9uIChyYW5nZSwgaSkge1xuICAgICAgaWYgKGlzUmFuZ2VOb2RlKHJhbmdlKSkge1xuICAgICAgICBpZiAocmFuZ2UubmVlZHNFbmQoKSkge1xuICAgICAgICAgIC8vIGNyZWF0ZSBhIHJhbmdlIGNvbnRhaW5pbmcgZW5kIChsaWtlICc0OmVuZCcpXG4gICAgICAgICAgdmFyIGNoaWxkQXJnTmFtZXMgPSBPYmplY3QuY3JlYXRlKGFyZ05hbWVzKTtcbiAgICAgICAgICBjaGlsZEFyZ05hbWVzLmVuZCA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgZXZhbFN0YXJ0ID0gcmFuZ2Uuc3RhcnQuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgZXZhbEVuZCA9IHJhbmdlLmVuZC5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBldmFsU3RlcCA9IHJhbmdlLnN0ZXAgPyByYW5nZS5zdGVwLl9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaXplKGNvbnRleHQpLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHZhciBjaGlsZEFyZ3MgPSBPYmplY3QuY3JlYXRlKGFyZ3MpO1xuICAgICAgICAgICAgY2hpbGRBcmdzLmVuZCA9IHNbaV07XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUmFuZ2UoZXZhbFN0YXJ0KHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpLCBldmFsRW5kKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpLCBldmFsU3RlcChzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjcmVhdGUgcmFuZ2VcbiAgICAgICAgICB2YXIgX2V2YWxTdGFydCA9IHJhbmdlLnN0YXJ0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBfZXZhbEVuZCA9IHJhbmdlLmVuZC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgX2V2YWxTdGVwID0gcmFuZ2Uuc3RlcCA/IHJhbmdlLnN0ZXAuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUmFuZ2UoX2V2YWxTdGFydChzY29wZSwgYXJncywgY29udGV4dCksIF9ldmFsRW5kKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgX2V2YWxTdGVwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1N5bWJvbE5vZGUocmFuZ2UpICYmIHJhbmdlLm5hbWUgPT09ICdlbmQnKSB7XG4gICAgICAgIC8vIFN5bWJvbE5vZGUgJ2VuZCdcbiAgICAgICAgdmFyIF9jaGlsZEFyZ05hbWVzID0gT2JqZWN0LmNyZWF0ZShhcmdOYW1lcyk7XG5cbiAgICAgICAgX2NoaWxkQXJnTmFtZXMuZW5kID0gdHJ1ZTtcblxuICAgICAgICB2YXIgZXZhbFJhbmdlID0gcmFuZ2UuX2NvbXBpbGUobWF0aCwgX2NoaWxkQXJnTmFtZXMpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHMgPSBzaXplKGNvbnRleHQpLnZhbHVlT2YoKTtcbiAgICAgICAgICB2YXIgY2hpbGRBcmdzID0gT2JqZWN0LmNyZWF0ZShhcmdzKTtcbiAgICAgICAgICBjaGlsZEFyZ3MuZW5kID0gc1tpXTtcbiAgICAgICAgICByZXR1cm4gZXZhbFJhbmdlKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ29uc3RhbnROb2RlXG4gICAgICAgIHZhciBfZXZhbFJhbmdlID0gcmFuZ2UuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIF9ldmFsUmFuZ2Uoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBpbmRleCA9IGdldFNhZmVQcm9wZXJ0eShtYXRoLCAnaW5kZXgnKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEluZGV4Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIGRpbWVuc2lvbnMgPSBtYXAoZXZhbERpbWVuc2lvbnMsIGZ1bmN0aW9uIChldmFsRGltZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZGV4KC4uLmRpbWVuc2lvbnMpO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuZGltZW5zaW9uc1tpXSwgJ2RpbWVuc2lvbnNbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBJbmRleE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0luZGV4Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBkaW1lbnNpb25zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZGltZW5zaW9uc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmRpbWVuc2lvbnNbaV0sICdkaW1lbnNpb25zWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBJbmRleE5vZGUoZGltZW5zaW9ucywgdGhpcy5kb3ROb3RhdGlvbik7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0luZGV4Tm9kZX1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgSW5kZXhOb2RlKHRoaXMuZGltZW5zaW9ucy5zbGljZSgwKSwgdGhpcy5kb3ROb3RhdGlvbik7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdGhpcyBJbmRleE5vZGUgY29udGFpbnMgYSBzaW5nbGUgcHJvcGVydHkgbmFtZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuaXNPYmplY3RQcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zLmxlbmd0aCA9PT0gMSAmJiBpc0NvbnN0YW50Tm9kZSh0aGlzLmRpbWVuc2lvbnNbMF0pICYmIHR5cGVvZiB0aGlzLmRpbWVuc2lvbnNbMF0udmFsdWUgPT09ICdzdHJpbmcnO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBpZiBJbmRleE5vZGUgY29udGFpbnMgYSBwcm9wZXJ0eS5cbiAgICogSWYgbm90LCByZXR1cm5zIG51bGwuXG4gICAqIEByZXR1cm4ge3N0cmluZyB8IG51bGx9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5nZXRPYmplY3RQcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc09iamVjdFByb3BlcnR5KCkgPyB0aGlzLmRpbWVuc2lvbnNbMF0udmFsdWUgOiBudWxsO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBmb3JtYXQgdGhlIHBhcmFtZXRlcnMgbGlrZSBcIlsxLCAwOjVdXCJcbiAgICByZXR1cm4gdGhpcy5kb3ROb3RhdGlvbiA/ICcuJyArIHRoaXMuZ2V0T2JqZWN0UHJvcGVydHkoKSA6ICdbJyArIHRoaXMuZGltZW5zaW9ucy5qb2luKCcsICcpICsgJ10nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdJbmRleE5vZGUnLFxuICAgICAgZGltZW5zaW9uczogdGhpcy5kaW1lbnNpb25zLFxuICAgICAgZG90Tm90YXRpb246IHRoaXMuZG90Tm90YXRpb25cbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gSW5kZXhOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJJbmRleE5vZGVcIiwgZGltZW5zaW9uczogWy4uLl0sIGRvdE5vdGF0aW9uOiBmYWxzZX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtJbmRleE5vZGV9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEluZGV4Tm9kZShqc29uLmRpbWVuc2lvbnMsIGpzb24uZG90Tm90YXRpb24pO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gZm9ybWF0IHRoZSBwYXJhbWV0ZXJzIGxpa2UgXCJbMSwgMDo1XVwiXG4gICAgdmFyIGRpbWVuc2lvbnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkaW1lbnNpb25zW2ldID0gdGhpcy5kaW1lbnNpb25zW2ldLnRvSFRNTCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRvdE5vdGF0aW9uKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFjY2Vzc29yLW9wZXJhdG9yXCI+Ljwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1wcm9wZXJ0eVwiPicgKyBlc2NhcGUodGhpcy5nZXRPYmplY3RQcm9wZXJ0eSgpKSArICc8L3NwYW4+JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5bPC9zcGFuPicgKyBkaW1lbnNpb25zLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPl08L3NwYW4+JztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgcmV0dXJuIHJhbmdlLnRvVGV4KG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmRvdE5vdGF0aW9uID8gJy4nICsgdGhpcy5nZXRPYmplY3RQcm9wZXJ0eSgpICsgJycgOiAnX3snICsgZGltZW5zaW9ucy5qb2luKCcsJykgKyAnfSc7XG4gIH07IC8vIGhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYSBSYW5nZSBmcm9tIHN0YXJ0LCBzdGVwIGFuZCBlbmRcblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKGlzQmlnTnVtYmVyKHN0YXJ0KSA/IHN0YXJ0LnRvTnVtYmVyKCkgOiBzdGFydCwgaXNCaWdOdW1iZXIoZW5kKSA/IGVuZC50b051bWJlcigpIDogZW5kLCBpc0JpZ051bWJlcihzdGVwKSA/IHN0ZXAudG9OdW1iZXIoKSA6IHN0ZXApO1xuICB9XG5cbiAgcmV0dXJuIEluZGV4Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUsIHN0cmluZ2lmeSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBpc1NhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnT2JqZWN0Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZU9iamVjdE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgT2JqZWN0Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogSG9sZHMgYW4gb2JqZWN0IHdpdGgga2V5cy92YWx1ZXNcbiAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgTm9kZT59IFtwcm9wZXJ0aWVzXSAgIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlyc1xuICAgKi9cbiAgZnVuY3Rpb24gT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9iamVjdE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgaWYgKCEodHlwZW9mIHByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB8fCAhT2JqZWN0LmtleXMocHJvcGVydGllcykuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gaXNOb2RlKHByb3BlcnRpZXNba2V5XSk7XG4gICAgICB9KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdPYmplY3ROb2RlJztcbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuaXNPYmplY3ROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbEVudHJpZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgLy8gd2Ugc3RyaW5naWZ5L3BhcnNlIHRoZSBrZXkgaGVyZSB0byByZXNvbHZlIHVuaWNvZGUgY2hhcmFjdGVycyxcbiAgICAgICAgLy8gc28geW91IGNhbm5vdCBjcmVhdGUgYSBrZXkgbGlrZSB7XCJjb1xcXFx1MDA2RXN0cnVjdG9yXCI6IG51bGx9XG4gICAgICAgIHZhciBzdHJpbmdpZmllZEtleSA9IHN0cmluZ2lmeShrZXkpO1xuICAgICAgICB2YXIgcGFyc2VkS2V5ID0gSlNPTi5wYXJzZShzdHJpbmdpZmllZEtleSk7XG5cbiAgICAgICAgaWYgKCFpc1NhZmVQcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIHBhcnNlZEtleSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBwcm9wZXJ0eSBcIicgKyBwYXJzZWRLZXkgKyAnXCInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2YWxFbnRyaWVzW3BhcnNlZEtleV0gPSB0aGlzLnByb3BlcnRpZXNba2V5XS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPYmplY3ROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgb2JqID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXkgaW4gZXZhbEVudHJpZXMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGV2YWxFbnRyaWVzLCBfa2V5KSkge1xuICAgICAgICAgIG9ialtfa2V5XSA9IGV2YWxFbnRyaWVzW19rZXldKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5wcm9wZXJ0aWVzW2tleV0sICdwcm9wZXJ0aWVzWycgKyBzdHJpbmdpZnkoa2V5KSArICddJywgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9iamVjdE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge09iamVjdE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgcHJvcGVydGllc1trZXldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMucHJvcGVydGllc1trZXldLCAncHJvcGVydGllc1snICsgc3RyaW5naWZ5KGtleSkgKyAnXScsIHRoaXMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9iamVjdE5vZGUocHJvcGVydGllcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge09iamVjdE5vZGV9XG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgcHJvcGVydGllc1trZXldID0gdGhpcy5wcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPYmplY3ROb2RlKHByb3BlcnRpZXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBlbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGVudHJpZXMucHVzaChzdHJpbmdpZnkoa2V5KSArICc6ICcgKyB0aGlzLnByb3BlcnRpZXNba2V5XS50b1N0cmluZyhvcHRpb25zKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICd7JyArIGVudHJpZXMuam9pbignLCAnKSArICd9JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ09iamVjdE5vZGUnLFxuICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIE9wZXJhdG9yTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiT2JqZWN0Tm9kZVwiLCBcInByb3BlcnRpZXNcIjogey4uLn19YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7T2JqZWN0Tm9kZX1cbiAgICovXG5cblxuICBPYmplY3ROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IE9iamVjdE5vZGUoanNvbi5wcm9wZXJ0aWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKCc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtcHJvcGVydHlcIj4nICsgZXNjYXBlKGtleSkgKyAnPC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLXByb3BlcnR5LWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3JcIj46PC9zcGFuPicgKyB0aGlzLnByb3BlcnRpZXNba2V5XS50b0hUTUwob3B0aW9ucykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtY3VybHktcGFyZW50aGVzaXNcIj57PC9zcGFuPicgKyBlbnRyaWVzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLWN1cmx5LXBhcmVudGhlc2lzXCI+fTwvc3Bhbj4nO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZW50cmllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goJ1xcXFxtYXRoYmZ7JyArIGtleSArICc6fSAmICcgKyB0aGlzLnByb3BlcnRpZXNba2V5XS50b1RleChvcHRpb25zKSArICdcXFxcXFxcXCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlxcXFxsZWZ0XFxcXHtcXFxcYmVnaW57YXJyYXl9e2xsfVwiLmNvbmNhdChlbnRyaWVzLmpvaW4oJ1xcbicpLCBcIlxcXFxlbmR7YXJyYXl9XFxcXHJpZ2h0XFxcXH1cIik7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgaXNTYWZlTWV0aG9kIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBnZXRBc3NvY2lhdGl2aXR5LCBnZXRQcmVjZWRlbmNlLCBpc0Fzc29jaWF0aXZlV2l0aCwgcHJvcGVydGllcyB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG5pbXBvcnQgeyBsYXRleE9wZXJhdG9ycyB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ09wZXJhdG9yTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZU9wZXJhdG9yTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBPcGVyYXRvck5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEFuIG9wZXJhdG9yIHdpdGggdHdvIGFyZ3VtZW50cywgbGlrZSAyKzNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wICAgICAgICAgICBPcGVyYXRvciBuYW1lLCBmb3IgZXhhbXBsZSAnKydcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZuICAgICAgICAgICBGdW5jdGlvbiBuYW1lLCBmb3IgZXhhbXBsZSAnYWRkJ1xuICAgKiBAcGFyYW0ge05vZGVbXX0gYXJncyAgICAgICAgIE9wZXJhdG9yIGFyZ3VtZW50c1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbXBsaWNpdF0gIElzIHRoaXMgYW4gaW1wbGljaXQgbXVsdGlwbGljYXRpb24/XG4gICAqL1xuICBmdW5jdGlvbiBPcGVyYXRvck5vZGUob3AsIGZuLCBhcmdzLCBpbXBsaWNpdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPcGVyYXRvck5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKHR5cGVvZiBvcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwib3BcIicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImZuXCInKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJncykgfHwgIWFyZ3MuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiYXJnc1wiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pbXBsaWNpdCA9IGltcGxpY2l0ID09PSB0cnVlO1xuICAgIHRoaXMub3AgPSBvcDtcbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy5hcmdzID0gYXJncyB8fCBbXTtcbiAgfVxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLnR5cGUgPSAnT3BlcmF0b3JOb2RlJztcbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5pc09wZXJhdG9yTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICAvLyB2YWxpZGF0ZSBmblxuICAgIGlmICh0eXBlb2YgdGhpcy5mbiAhPT0gJ3N0cmluZycgfHwgIWlzU2FmZU1ldGhvZChtYXRoLCB0aGlzLmZuKSkge1xuICAgICAgaWYgKCFtYXRoW3RoaXMuZm5dKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gJyArIHRoaXMuZm4gKyAnIG1pc3NpbmcgaW4gcHJvdmlkZWQgbmFtZXNwYWNlIFwibWF0aFwiJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBmdW5jdGlvbiBcIicgKyB0aGlzLmZuICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGZuID0gZ2V0U2FmZVByb3BlcnR5KG1hdGgsIHRoaXMuZm4pO1xuICAgIHZhciBldmFsQXJncyA9IG1hcCh0aGlzLmFyZ3MsIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgIH0pO1xuXG4gICAgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGV2YWxBcmcwID0gZXZhbEFyZ3NbMF07XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9wZXJhdG9yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4oZXZhbEFyZzAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChldmFsQXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBfZXZhbEFyZyA9IGV2YWxBcmdzWzBdO1xuICAgICAgdmFyIGV2YWxBcmcxID0gZXZhbEFyZ3NbMV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9wZXJhdG9yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4oX2V2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsQXJnMShzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPcGVyYXRvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT3BlcmF0b3JOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtPcGVyYXRvck5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKHRoaXMub3AsIHRoaXMuZm4sIGFyZ3MsIHRoaXMuaW1wbGljaXQpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtPcGVyYXRvck5vZGV9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZSh0aGlzLm9wLCB0aGlzLmZuLCB0aGlzLmFyZ3Muc2xpY2UoMCksIHRoaXMuaW1wbGljaXQpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGlzIGlzIGFuIHVuYXJ5IE9wZXJhdG9yTm9kZTpcbiAgICogaGFzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBsaWtlIGAtYWAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGFuIHVuYXJ5IG9wZXJhdG9yIG5vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmlzVW5hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJncy5sZW5ndGggPT09IDE7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgaXMgYSBiaW5hcnkgT3BlcmF0b3JOb2RlOlxuICAgKiBoYXMgZXhhY3RseSB0d28gYXJndW1lbnRzLCBsaWtlIGBhICsgYmAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGEgYmluYXJ5IG9wZXJhdG9yIG5vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmlzQmluYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFyZ3MubGVuZ3RoID09PSAyO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHdoaWNoIHBhcmVudGhlc2VzIGFyZSBuZWNlc3NhcnkuIEdldHMgYW4gT3BlcmF0b3JOb2RlXG4gICAqICh3aGljaCBpcyB0aGUgcm9vdCBvZiB0aGUgdHJlZSkgYW5kIGFuIEFycmF5IG9mIE5vZGVzXG4gICAqICh0aGlzLmFyZ3MpIGFuZCByZXR1cm5zIGFuIGFycmF5IHdoZXJlICd0cnVlJyBtZWFucyB0aGF0IGFuIGFyZ3VtZW50XG4gICAqIGhhcyB0byBiZSBlbmNsb3NlZCBpbiBwYXJlbnRoZXNlcyB3aGVyZWFzICdmYWxzZScgbWVhbnMgdGhlIG9wcG9zaXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge09wZXJhdG9yTm9kZX0gcm9vdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAgICogQHBhcmFtIHtOb2RlW119IGFyZ3NcbiAgICogQHBhcmFtIHtib29sZWFufSBsYXRleFxuICAgKiBAcmV0dXJuIHtib29sZWFuW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMocm9vdCwgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCBsYXRleCkge1xuICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIHJvb3QgT3BlcmF0b3JOb2RlXG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHJvb3QsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgYXNzb2NpYXRpdml0eSA9IGdldEFzc29jaWF0aXZpdHkocm9vdCwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBhcmdzLmxlbmd0aCA+IDIgJiYgcm9vdC5nZXRJZGVudGlmaWVyKCkgIT09ICdPcGVyYXRvck5vZGU6YWRkJyAmJiByb290LmdldElkZW50aWZpZXIoKSAhPT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpIHtcbiAgICAgIHJldHVybiBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHN3aXRjaCAoYXJnLmdldENvbnRlbnQoKS50eXBlKSB7XG4gICAgICAgICAgLy8gTm9kZXMgdGhhdCBkb24ndCBuZWVkIGV4dHJhIHBhcmVudGhlc2VzXG4gICAgICAgICAgY2FzZSAnQXJyYXlOb2RlJzpcbiAgICAgICAgICBjYXNlICdDb25zdGFudE5vZGUnOlxuICAgICAgICAgIGNhc2UgJ1N5bWJvbE5vZGUnOlxuICAgICAgICAgIGNhc2UgJ1BhcmVudGhlc2lzTm9kZSc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG5cbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgICAge1xuICAgICAgICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIG9wZXJhbmRcbiAgICAgICAgICB2YXIgb3BlcmFuZFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZ3NbMF0sIHBhcmVudGhlc2lzKTsgLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXMgZm9yIExhVGVYLCB3aGVyZSBzb21lIG9mIHRoZSBwYXJlbnRoZXNlcyBhcmVuJ3QgbmVlZGVkXG5cbiAgICAgICAgICBpZiAobGF0ZXggJiYgb3BlcmFuZFByZWNlZGVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBvcGVyYW5kSWRlbnRpZmllcjtcbiAgICAgICAgICAgIHZhciByb290SWRlbnRpZmllcjtcblxuICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgICAgICAgICAgb3BlcmFuZElkZW50aWZpZXIgPSBhcmdzWzBdLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcm9vdElkZW50aWZpZXIgPSByb290LmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElnbm9yZSBQYXJlbnRoZXNpcyBOb2RlcyB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgICAgICAgICAgICBvcGVyYW5kSWRlbnRpZmllciA9IGFyZ3NbMF0uZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcm9vdElkZW50aWZpZXIgPSByb290LmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3ByZWNlZGVuY2VdW3Jvb3RJZGVudGlmaWVyXS5sYXRleExlZnRQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcGVydGllc1tvcGVyYW5kUHJlY2VkZW5jZV1bb3BlcmFuZElkZW50aWZpZXJdLmxhdGV4UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3BlcmFuZFByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBvcGVyYW5kIGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9wZXJhbmRQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBvcGVyYW5kcyBwcmVjZWRlbmNlIGlzIGxvd2VyLCBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgcmVzdWx0ID0gW3RydWVdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSAvLyBvdGhlcndpc2UsIG5vIHBhcmVucyBuZWVkZWRcblxuXG4gICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICAvLyBiaW5hcnkgb3BlcmF0b3JzXG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGhzUGFyZW5zOyAvLyBsZWZ0IGhhbmQgc2lkZSBuZWVkcyBwYXJlbnRoZXNpcz9cbiAgICAgICAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICAgICAgdmFyIGxoc1ByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZ3NbMF0sIHBhcmVudGhlc2lzKTsgLy8gaXMgdGhlIHJvb3Qgbm9kZSBhc3NvY2lhdGl2ZSB3aXRoIHRoZSBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICAgICAgdmFyIGFzc29jV2l0aExocyA9IGlzQXNzb2NpYXRpdmVXaXRoKHJvb3QsIGFyZ3NbMF0sIHBhcmVudGhlc2lzKTtcblxuICAgICAgICAgIGlmIChsaHNQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgbGVmdCBoYW5kIHNpZGUgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uTm9kZSBmb3IgZXhhbXBsZVxuICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaHNQcmVjZWRlbmNlID09PSBwcmVjZWRlbmNlICYmIGFzc29jaWF0aXZpdHkgPT09ICdyaWdodCcgJiYgIWFzc29jV2l0aExocykge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcXVhbCBwcmVjZWRlbmNlLCBpZiB0aGUgcm9vdCBub2RlIGlzIGxlZnQgYXNzb2NpYXRpdmVcbiAgICAgICAgICAgIC8vIHBhcmVucyBhcmUgKipuZXZlcioqIG5lY2Vzc2FyeSBmb3IgdGhlIGxlZnQgaGFuZCBzaWRlLlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgcmlnaHQgYXNzb2NpYXRpdmUgaG93ZXZlciwgcGFyZW5zIGFyZSBuZWNlc3NhcnlcbiAgICAgICAgICAgIC8vIGlmIHRoZSByb290IG5vZGUgaXNuJ3QgYXNzb2NpYXRpdmUgd2l0aCB0aGUgbGVmdCBoYW5kIHNpZGVcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaHNQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgbGhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJoc1BhcmVuczsgLy8gcmlnaHQgaGFuZCBzaWRlIG5lZWRzIHBhcmVudGhlc2lzP1xuICAgICAgICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICAgICAgdmFyIHJoc1ByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZ3NbMV0sIHBhcmVudGhlc2lzKTsgLy8gaXMgdGhlIHJvb3Qgbm9kZSBhc3NvY2lhdGl2ZSB3aXRoIHRoZSByaWdodCBoYW5kIHNpZGU/XG5cbiAgICAgICAgICB2YXIgYXNzb2NXaXRoUmhzID0gaXNBc3NvY2lhdGl2ZVdpdGgocm9vdCwgYXJnc1sxXSwgcGFyZW50aGVzaXMpO1xuXG4gICAgICAgICAgaWYgKHJoc1ByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSByaWdodCBoYW5kIHNpZGUgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uTm9kZSBmb3IgZXhhbXBsZVxuICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChyaHNQcmVjZWRlbmNlID09PSBwcmVjZWRlbmNlICYmIGFzc29jaWF0aXZpdHkgPT09ICdsZWZ0JyAmJiAhYXNzb2NXaXRoUmhzKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVxdWFsIHByZWNlZGVuY2UsIGlmIHRoZSByb290IG5vZGUgaXMgcmlnaHQgYXNzb2NpYXRpdmVcbiAgICAgICAgICAgIC8vIHBhcmVucyBhcmUgKipuZXZlcioqIG5lY2Vzc2FyeSBmb3IgdGhlIHJpZ2h0IGhhbmQgc2lkZS5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIGxlZnQgYXNzb2NpYXRpdmUgaG93ZXZlciwgcGFyZW5zIGFyZSBuZWNlc3NhcnlcbiAgICAgICAgICAgIC8vIGlmIHRoZSByb290IG5vZGUgaXNuJ3QgYXNzb2NpYXRpdmUgd2l0aCB0aGUgcmlnaHQgaGFuZCBzaWRlXG4gICAgICAgICAgICByaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmhzUHJlY2VkZW5jZSA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH0gLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXMgZm9yIExhVGVYLCB3aGVyZSBzb21lIG9mIHRoZSBwYXJlbnRoZXNlcyBhcmVuJ3QgbmVlZGVkXG5cblxuICAgICAgICAgIGlmIChsYXRleCkge1xuICAgICAgICAgICAgdmFyIF9yb290SWRlbnRpZmllcjtcblxuICAgICAgICAgICAgdmFyIGxoc0lkZW50aWZpZXI7XG4gICAgICAgICAgICB2YXIgcmhzSWRlbnRpZmllcjtcblxuICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgICAgICAgICAgX3Jvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIGxoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMF0uZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzFdLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElnbm9yZSBQYXJlbnRoZXNpc05vZGVzIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgICAgICAgICAgIF9yb290SWRlbnRpZmllciA9IHJvb3QuZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgbGhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1swXS5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzFdLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsaHNQcmVjZWRlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3ByZWNlZGVuY2VdW19yb290SWRlbnRpZmllcl0ubGF0ZXhMZWZ0UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbGhzUHJlY2VkZW5jZV1bbGhzSWRlbnRpZmllcl0ubGF0ZXhQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJoc1ByZWNlZGVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJlY2VkZW5jZV1bX3Jvb3RJZGVudGlmaWVyXS5sYXRleFJpZ2h0UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcmhzUHJlY2VkZW5jZV1bcmhzSWRlbnRpZmllcl0ubGF0ZXhQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXN1bHQgPSBbbGhzUGFyZW5zLCByaHNQYXJlbnNdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocm9vdC5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCByb290LmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpIHtcbiAgICAgICAgICByZXN1bHQgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgICAgICB2YXIgYXJnUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnLCBwYXJlbnRoZXNpcyk7XG4gICAgICAgICAgICB2YXIgYXNzb2NXaXRoQXJnID0gaXNBc3NvY2lhdGl2ZVdpdGgocm9vdCwgYXJnLCBwYXJlbnRoZXNpcyk7XG4gICAgICAgICAgICB2YXIgYXJnQXNzb2NpYXRpdml0eSA9IGdldEFzc29jaWF0aXZpdHkoYXJnLCBwYXJlbnRoZXNpcyk7XG5cbiAgICAgICAgICAgIGlmIChhcmdQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBhcmd1bWVudCBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByZWNlZGVuY2UgPT09IGFyZ1ByZWNlZGVuY2UgJiYgYXNzb2NpYXRpdml0eSA9PT0gYXJnQXNzb2NpYXRpdml0eSAmJiAhYXNzb2NXaXRoQXJnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhcmdQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfSAvLyBoYW5kbGVzIGFuIGVkZ2UgY2FzZSBvZiAnYXV0bycgcGFyZW50aGVzZXMgd2l0aCBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBvZiBDb25zdGFudE5vZGVcbiAgICAvLyBJbiB0aGF0IGNhc2UgcHJpbnQgcGFyZW50aGVzZXMgZm9yIFBhcmVudGhlc2lzTm9kZXMgZXZlbiB0aG91Z2ggdGhleSBub3JtYWxseSB3b3VsZG4ndCBiZVxuICAgIC8vIHByaW50ZWQuXG5cblxuICAgIGlmIChhcmdzLmxlbmd0aCA+PSAyICYmIHJvb3QuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiByb290LmltcGxpY2l0ICYmIHBhcmVudGhlc2lzID09PSAnYXV0bycgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgcmVzdWx0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgdmFyIGlzUGFyZW50aGVzaXNOb2RlID0gYXJnLmdldElkZW50aWZpZXIoKSA9PT0gJ1BhcmVudGhlc2lzTm9kZSc7XG5cbiAgICAgICAgaWYgKHJlc3VsdFtpbmRleF0gfHwgaXNQYXJlbnRoZXNpc05vZGUpIHtcbiAgICAgICAgICAvLyBwdXQgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBpbXBsaWNpdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbXBsaWNpdCA/IG9wdGlvbnMuaW1wbGljaXQgOiAnaGlkZSc7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgZmFsc2UpO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBhc3NvYyA9IGdldEFzc29jaWF0aXZpdHkodGhpcywgcGFyZW50aGVzaXMpO1xuICAgICAgdmFyIG9wZXJhbmQgPSBhcmdzWzBdLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIG9wZXJhbmQgPSAnKCcgKyBvcGVyYW5kICsgJyknO1xuICAgICAgfSAvLyBmb3IgZXhhbXBsZSBmb3IgXCJub3RcIiwgd2Ugd2FudCBhIHNwYWNlIGJldHdlZW4gb3BlcmFuZCBhbmQgYXJndW1lbnRcblxuXG4gICAgICB2YXIgb3BJc05hbWVkID0gL1thLXpBLVpdKy8udGVzdCh0aGlzLm9wKTtcblxuICAgICAgaWYgKGFzc29jID09PSAncmlnaHQnKSB7XG4gICAgICAgIC8vIHByZWZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gdGhpcy5vcCArIChvcElzTmFtZWQgPyAnICcgOiAnJykgKyBvcGVyYW5kO1xuICAgICAgfSBlbHNlIGlmIChhc3NvYyA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIC8vIHBvc3RmaXhcbiAgICAgICAgcmV0dXJuIG9wZXJhbmQgKyAob3BJc05hbWVkID8gJyAnIDogJycpICsgdGhpcy5vcDtcbiAgICAgIH0gLy8gZmFsbCBiYWNrIHRvIHBvc3RmaXhcblxuXG4gICAgICByZXR1cm4gb3BlcmFuZCArIHRoaXMub3A7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFyIGxocyA9IGFyZ3NbMF0udG9TdHJpbmcob3B0aW9ucyk7IC8vIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciByaHMgPSBhcmdzWzFdLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyByaWdodCBoYW5kIHNpZGVcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICAvLyBsZWZ0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgbGhzID0gJygnICsgbGhzICsgJyknO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW5zWzFdKSB7XG4gICAgICAgIC8vIHJpZ2h0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgcmhzID0gJygnICsgcmhzICsgJyknO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICByZXR1cm4gbGhzICsgJyAnICsgcmhzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGhzICsgJyAnICsgdGhpcy5vcCArICcgJyArIHJocztcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpKSB7XG4gICAgICB2YXIgc3RyaW5naWZpZWRBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChwYXJlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgLy8gcHV0IGluIHBhcmVudGhlc2lzP1xuICAgICAgICAgIGFyZyA9ICcoJyArIGFyZyArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignICcgKyB0aGlzLm9wICsgJyAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmFsbGJhY2sgdG8gZm9ybWF0dGluZyBhcyBhIGZ1bmN0aW9uIGNhbGxcbiAgICAgIHJldHVybiB0aGlzLmZuICsgJygnICsgdGhpcy5hcmdzLmpvaW4oJywgJykgKyAnKSc7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdPcGVyYXRvck5vZGUnLFxuICAgICAgb3A6IHRoaXMub3AsXG4gICAgICBmbjogdGhpcy5mbixcbiAgICAgIGFyZ3M6IHRoaXMuYXJncyxcbiAgICAgIGltcGxpY2l0OiB0aGlzLmltcGxpY2l0XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIE9wZXJhdG9yTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiT3BlcmF0b3JOb2RlXCIsIFwib3BcIjogXCIrXCIsIFwiZm5cIjogXCJhZGRcIiwgXCJhcmdzXCI6IFsuLi5dLCBcImltcGxpY2l0XCI6IGZhbHNlfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge09wZXJhdG9yTm9kZX1cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKGpzb24ub3AsIGpzb24uZm4sIGpzb24uYXJncywganNvbi5pbXBsaWNpdCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgaW1wbGljaXQgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1wbGljaXQgPyBvcHRpb25zLmltcGxpY2l0IDogJ2hpZGUnO1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIGZhbHNlKTtcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgYXNzb2MgPSBnZXRBc3NvY2lhdGl2aXR5KHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICAgIHZhciBvcGVyYW5kID0gYXJnc1swXS50b0hUTUwob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgb3BlcmFuZCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIG9wZXJhbmQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmIChhc3NvYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAvLyBwcmVmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC11bmFyeS1vcGVyYXRvciBtYXRoLWxlZnRoYW5kLXVuYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+JyArIG9wZXJhbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwb3N0Zml4IHdoZW4gYXNzb2MgPT09ICdsZWZ0JyBvciB1bmRlZmluZWRcbiAgICAgICAgcmV0dXJuIG9wZXJhbmQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtdW5hcnktb3BlcmF0b3IgbWF0aC1yaWdodGhhbmQtdW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIC8vIGJpbmFyeSBvcGVyYXRvZXNcbiAgICAgIHZhciBsaHMgPSBhcmdzWzBdLnRvSFRNTChvcHRpb25zKTsgLy8gbGVmdCBoYW5kIHNpZGVcblxuICAgICAgdmFyIHJocyA9IGFyZ3NbMV0udG9IVE1MKG9wdGlvbnMpOyAvLyByaWdodCBoYW5kIHNpZGVcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICAvLyBsZWZ0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgbGhzID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgbGhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW5zWzFdKSB7XG4gICAgICAgIC8vIHJpZ2h0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgcmhzID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgcmhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICByZXR1cm4gbGhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWltcGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPjwvc3Bhbj4nICsgcmhzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWV4cGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPicgKyByaHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdHJpbmdpZmllZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICBhcmcgPSBhcmcudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChwYXJlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgLy8gcHV0IGluIHBhcmVudGhlc2lzP1xuICAgICAgICAgIGFyZyA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGFyZyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpKSB7XG4gICAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1pbXBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj48L3NwYW4+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWV4cGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gZm9ybWF0dGluZyBhcyBhIGZ1bmN0aW9uIGNhbGxcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtZnVuY3Rpb25cIj4nICsgZXNjYXBlKHRoaXMuZm4pICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHN0cmluZ2lmaWVkQXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgaW1wbGljaXQgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1wbGljaXQgPyBvcHRpb25zLmltcGxpY2l0IDogJ2hpZGUnO1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIHRydWUpO1xuICAgIHZhciBvcCA9IGxhdGV4T3BlcmF0b3JzW3RoaXMuZm5dO1xuICAgIG9wID0gdHlwZW9mIG9wID09PSAndW5kZWZpbmVkJyA/IHRoaXMub3AgOiBvcDsgLy8gZmFsbCBiYWNrIHRvIHVzaW5nIHRoaXMub3BcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgYXNzb2MgPSBnZXRBc3NvY2lhdGl2aXR5KHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICAgIHZhciBvcGVyYW5kID0gYXJnc1swXS50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBvcGVyYW5kID0gXCJcXFxcbGVmdChcIi5jb25jYXQob3BlcmFuZCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXNzb2MgPT09ICdyaWdodCcpIHtcbiAgICAgICAgLy8gcHJlZml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBvcCArIG9wZXJhbmQ7XG4gICAgICB9IGVsc2UgaWYgKGFzc29jID09PSAnbGVmdCcpIHtcbiAgICAgICAgLy8gcG9zdGZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gb3BlcmFuZCArIG9wO1xuICAgICAgfSAvLyBmYWxsIGJhY2sgdG8gcG9zdGZpeFxuXG5cbiAgICAgIHJldHVybiBvcGVyYW5kICsgb3A7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gYmluYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGxocyA9IGFyZ3NbMF07IC8vIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciBsaHNUZXggPSBsaHMudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgbGhzVGV4ID0gXCJcXFxcbGVmdChcIi5jb25jYXQobGhzVGV4LCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciByaHMgPSBhcmdzWzFdOyAvLyByaWdodCBoYW5kIHNpZGVcblxuICAgICAgdmFyIHJoc1RleCA9IHJocy50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1sxXSkge1xuICAgICAgICByaHNUZXggPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChyaHNUZXgsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH0gLy8gaGFuZGxlIHNvbWUgZXhjZXB0aW9ucyAoZHVlIHRvIHRoZSB3YXkgTGFUZVggd29ya3MpXG5cblxuICAgICAgdmFyIGxoc0lkZW50aWZpZXI7XG5cbiAgICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICAgIGxoc0lkZW50aWZpZXIgPSBsaHMuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWdub3JlIFBhcmVudGhlc2lzTm9kZXMgaWYgaW4gJ2tlZXAnIG1vZGVcbiAgICAgICAgbGhzSWRlbnRpZmllciA9IGxocy5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHRoaXMuZ2V0SWRlbnRpZmllcigpKSB7XG4gICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTpkaXZpZGUnOlxuICAgICAgICAgIC8vIG9wIGNvbnRhaW5zICdcXFxcZnJhYycgYXQgdGhpcyBwb2ludFxuICAgICAgICAgIHJldHVybiBvcCArICd7JyArIGxoc1RleCArICd9JyArICd7JyArIHJoc1RleCArICd9JztcblxuICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6cG93JzpcbiAgICAgICAgICBsaHNUZXggPSAneycgKyBsaHNUZXggKyAnfSc7XG4gICAgICAgICAgcmhzVGV4ID0gJ3snICsgcmhzVGV4ICsgJ30nO1xuXG4gICAgICAgICAgc3dpdGNoIChsaHNJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBjYXNlICdDb25kaXRpb25hbE5vZGUnOiAvL1xuXG4gICAgICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6ZGl2aWRlJzpcbiAgICAgICAgICAgICAgbGhzVGV4ID0gXCJcXFxcbGVmdChcIi5jb25jYXQobGhzVGV4LCBcIlxcXFxyaWdodClcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JzpcbiAgICAgICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbGhzVGV4ICsgJ34nICsgcmhzVGV4O1xuICAgICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGhzVGV4ICsgb3AgKyByaHNUZXg7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDIgJiYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSkge1xuICAgICAgdmFyIHRleGlmaWVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIGFyZyA9IGFyZy50b1RleChvcHRpb25zKTtcblxuICAgICAgICBpZiAocGFyZW5zW2luZGV4XSkge1xuICAgICAgICAgIGFyZyA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGFyZywgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIHRoaXMuaW1wbGljaXQpIHtcbiAgICAgICAgcmV0dXJuIHRleGlmaWVkQXJncy5qb2luKCd+Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ZXhpZmllZEFyZ3Muam9pbihvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhbGwgYmFjayB0byBmb3JtYXR0aW5nIGFzIGEgZnVuY3Rpb24gY2FsbFxuICAgICAgLy8gYXMgdGhpcyBpcyBhIGZhbGxiYWNrLCBpdCBkb2Vzbid0IHVzZVxuICAgICAgLy8gZmFuY3kgZnVuY3Rpb24gbmFtZXNcbiAgICAgIHJldHVybiAnXFxcXG1hdGhybXsnICsgdGhpcy5mbiArICd9XFxcXGxlZnQoJyArIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIGFyZy50b1RleChvcHRpb25zKTtcbiAgICAgIH0pLmpvaW4oJywnKSArICdcXFxccmlnaHQpJztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlICsgJzonICsgdGhpcy5mbjtcbiAgfTtcblxuICByZXR1cm4gT3BlcmF0b3JOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1BhcmVudGhlc2lzTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVBhcmVudGhlc2lzTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBQYXJlbnRoZXNpc05vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEEgcGFyZW50aGVzaXMgbm9kZSBkZXNjcmliZXMgbWFudWFsIHBhcmVudGhlc2lzIGZyb20gdGhlIHVzZXIgaW5wdXRcbiAgICogQHBhcmFtIHtOb2RlfSBjb250ZW50XG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gUGFyZW50aGVzaXNOb2RlKGNvbnRlbnQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFyZW50aGVzaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICghaXNOb2RlKGNvbnRlbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJjb250ZW50XCInKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICB9XG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUudHlwZSA9ICdQYXJlbnRoZXNpc05vZGUnO1xuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmlzUGFyZW50aGVzaXNOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBjb250ZW50IG9mIHRoZSBjdXJyZW50IE5vZGUuXG4gICAqIEByZXR1cm4ge05vZGV9IGNvbnRlbnRcbiAgICogQG92ZXJyaWRlXG4gICAqKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmdldENvbnRlbnQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmNvbnRlbnQsICdjb250ZW50JywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUGFyZW50aGVzaXNOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UGFyZW50aGVzaXNOb2RlfSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBjb250ZW50ID0gY2FsbGJhY2sodGhpcy5jb250ZW50LCAnY29udGVudCcsIHRoaXMpO1xuICAgIHJldHVybiBuZXcgUGFyZW50aGVzaXNOb2RlKGNvbnRlbnQpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtQYXJlbnRoZXNpc05vZGV9XG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFBhcmVudGhlc2lzTm9kZSh0aGlzLmNvbnRlbnQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgJiYgIW9wdGlvbnMucGFyZW50aGVzaXMgfHwgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgIHJldHVybiAnKCcgKyB0aGlzLmNvbnRlbnQudG9TdHJpbmcob3B0aW9ucykgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUGFyZW50aGVzaXNOb2RlJyxcbiAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBQYXJlbnRoZXNpc05vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlBhcmVudGhlc2lzTm9kZVwiLCBcImNvbnRlbnRcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1BhcmVudGhlc2lzTm9kZX1cbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUGFyZW50aGVzaXNOb2RlKGpzb24uY29udGVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgJiYgIW9wdGlvbnMucGFyZW50aGVzaXMgfHwgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyB0aGlzLmNvbnRlbnQudG9IVE1MKG9wdGlvbnMpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9IVE1MKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJlbnRoZXNpcyB8fCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgcmV0dXJuIFwiXFxcXGxlZnQoXCIuY29uY2F0KHRoaXMuY29udGVudC50b1RleChvcHRpb25zKSwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9UZXgob3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIFBhcmVudGhlc2lzTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xudmFyIG5hbWUgPSAnUmFuZ2VOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmFuZ2VOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIFJhbmdlTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogY3JlYXRlIGEgcmFuZ2VcbiAgICogQHBhcmFtIHtOb2RlfSBzdGFydCAgaW5jbHVkZWQgbG93ZXItYm91bmRcbiAgICogQHBhcmFtIHtOb2RlfSBlbmQgICAgaW5jbHVkZWQgdXBwZXItYm91bmRcbiAgICogQHBhcmFtIHtOb2RlfSBbc3RlcF0gb3B0aW9uYWwgc3RlcFxuICAgKi9cbiAgZnVuY3Rpb24gUmFuZ2VOb2RlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2VOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0c1xuXG5cbiAgICBpZiAoIWlzTm9kZShzdGFydCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQnKTtcbiAgICBpZiAoIWlzTm9kZShlbmQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkJyk7XG4gICAgaWYgKHN0ZXAgJiYgIWlzTm9kZShzdGVwKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCcpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBhcmd1bWVudHMnKTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7IC8vIGluY2x1ZGVkIGxvd2VyLWJvdW5kXG5cbiAgICB0aGlzLmVuZCA9IGVuZDsgLy8gaW5jbHVkZWQgdXBwZXItYm91bmRcblxuICAgIHRoaXMuc3RlcCA9IHN0ZXAgfHwgbnVsbDsgLy8gb3B0aW9uYWwgc3RlcFxuICB9XG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFJhbmdlTm9kZS5wcm90b3R5cGUudHlwZSA9ICdSYW5nZU5vZGUnO1xuICBSYW5nZU5vZGUucHJvdG90eXBlLmlzUmFuZ2VOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhlIFJhbmdlTm9kZSBuZWVkcyB0aGUgYGVuZGAgc3ltYm9sIHRvIGJlIGRlZmluZWQuXG4gICAqIFRoaXMgZW5kIGlzIHRoZSBzaXplIG9mIHRoZSBNYXRyaXggaW4gY3VycmVudCBkaW1lbnNpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUubmVlZHNFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gZmluZCBhbGwgYGVuZGAgc3ltYm9scyBpbiB0aGlzIFJhbmdlTm9kZVxuICAgIHZhciBlbmRTeW1ib2xzID0gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBpc1N5bWJvbE5vZGUobm9kZSkgJiYgbm9kZS5uYW1lID09PSAnZW5kJztcbiAgICB9KTtcbiAgICByZXR1cm4gZW5kU3ltYm9scy5sZW5ndGggPiAwO1xuICB9O1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgcmFuZ2UgPSBtYXRoLnJhbmdlO1xuXG4gICAgdmFyIGV2YWxTdGFydCA9IHRoaXMuc3RhcnQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxFbmQgPSB0aGlzLmVuZC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgZXZhbFN0ZXAgPSB0aGlzLnN0ZXAuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbFJhbmdlTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmFuZ2UoZXZhbFN0YXJ0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEVuZChzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxTdGVwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbFJhbmdlTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmFuZ2UoZXZhbFN0YXJ0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEVuZChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5zdGFydCwgJ3N0YXJ0JywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy5lbmQsICdlbmQnLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuc3RlcCwgJ3N0ZXAnLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUmFuZ2VOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtSYW5nZU5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlTm9kZSh0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5zdGFydCwgJ3N0YXJ0JywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5lbmQsICdlbmQnLCB0aGlzKSksIHRoaXMuc3RlcCAmJiB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5zdGVwLCAnc3RlcCcsIHRoaXMpKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1JhbmdlTm9kZX1cbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2VOb2RlKHRoaXMuc3RhcnQsIHRoaXMuZW5kLCB0aGlzLnN0ZXAgJiYgdGhpcy5zdGVwKTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbmVjZXNzYXJ5IHBhcmVudGhlc2VzXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAgICogQHJldHVybiB7T2JqZWN0fSBwYXJlbnRoZXNlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKG5vZGUsIHBhcmVudGhlc2lzKSB7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyZW5zID0ge307XG4gICAgdmFyIHN0YXJ0UHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5zdGFydCwgcGFyZW50aGVzaXMpO1xuICAgIHBhcmVucy5zdGFydCA9IHN0YXJ0UHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBzdGFydFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSB8fCBwYXJlbnRoZXNpcyA9PT0gJ2FsbCc7XG5cbiAgICBpZiAobm9kZS5zdGVwKSB7XG4gICAgICB2YXIgc3RlcFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuc3RlcCwgcGFyZW50aGVzaXMpO1xuICAgICAgcGFyZW5zLnN0ZXAgPSBzdGVwUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBzdGVwUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlIHx8IHBhcmVudGhlc2lzID09PSAnYWxsJztcbiAgICB9XG5cbiAgICB2YXIgZW5kUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5lbmQsIHBhcmVudGhlc2lzKTtcbiAgICBwYXJlbnMuZW5kID0gZW5kUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBlbmRQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgfHwgcGFyZW50aGVzaXMgPT09ICdhbGwnO1xuICAgIHJldHVybiBwYXJlbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMpOyAvLyBmb3JtYXQgc3RyaW5nIGFzIHN0YXJ0OnN0ZXA6c3RvcFxuXG4gICAgdmFyIHN0cjtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0LnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5zdGFydCkge1xuICAgICAgc3RhcnQgPSAnKCcgKyBzdGFydCArICcpJztcbiAgICB9XG5cbiAgICBzdHIgPSBzdGFydDtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zLnN0ZXApIHtcbiAgICAgICAgc3RlcCA9ICcoJyArIHN0ZXAgKyAnKSc7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSAnOicgKyBzdGVwO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSB0aGlzLmVuZC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuZW5kKSB7XG4gICAgICBlbmQgPSAnKCcgKyBlbmQgKyAnKSc7XG4gICAgfVxuXG4gICAgc3RyICs9ICc6JyArIGVuZDtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSYW5nZU5vZGUnLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuZW5kLFxuICAgICAgc3RlcDogdGhpcy5zdGVwXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIFJhbmdlTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmFuZ2VOb2RlXCIsIFwic3RhcnRcIjogLi4uLCBcImVuZFwiOiAuLi4sIFwic3RlcFwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7UmFuZ2VOb2RlfVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZU5vZGUoanNvbi5zdGFydCwganNvbi5lbmQsIGpzb24uc3RlcCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIGZvcm1hdCBzdHJpbmcgYXMgc3RhcnQ6c3RlcDpzdG9wXG5cbiAgICB2YXIgc3RyO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5zdGFydCkge1xuICAgICAgc3RhcnQgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBzdGFydCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICBzdHIgPSBzdGFydDtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLnRvSFRNTChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVucy5zdGVwKSB7XG4gICAgICAgIHN0ZXAgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBzdGVwICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXJhbmdlLW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgc3RlcDtcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gdGhpcy5lbmQudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5lbmQpIHtcbiAgICAgIGVuZCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGVuZCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICBzdHIgKz0gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXJhbmdlLW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgZW5kO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtcyB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgc3RyID0gdGhpcy5zdGFydC50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuc3RhcnQpIHtcbiAgICAgIHN0ciA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHN0ciwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zLnN0ZXApIHtcbiAgICAgICAgc3RlcCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHN0ZXAsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9ICc6JyArIHN0ZXA7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5lbmQpIHtcbiAgICAgIGVuZCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGVuZCwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOicgKyBlbmQ7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICByZXR1cm4gUmFuZ2VOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgbGF0ZXhPcGVyYXRvcnMgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdSZWxhdGlvbmFsTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVJlbGF0aW9uYWxOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQSBub2RlIHJlcHJlc2VudGluZyBhIGNoYWluZWQgY29uZGl0aW9uYWwgZXhwcmVzc2lvbiwgc3VjaCBhcyAneCA+IHkgPiB6J1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBjb25kaXRpb25hbHMgICBBbiBhcnJheSBvZiBjb25kaXRpb25hbCBvcGVyYXRvcnMgdXNlZCB0byBjb21wYXJlIHRoZSBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBwYXJhbXMgICBUaGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgY29tcGFyZWRcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yIFJlbGF0aW9uYWxOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gUmVsYXRpb25hbE5vZGUoY29uZGl0aW9uYWxzLCBwYXJhbXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVsYXRpb25hbE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShjb25kaXRpb25hbHMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgY29uZGl0aW9uYWxzIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHBhcmFtcyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgaWYgKGNvbmRpdGlvbmFscy5sZW5ndGggIT09IHBhcmFtcy5sZW5ndGggLSAxKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgcGFyYW1zIG11c3QgY29udGFpbiBleGFjdGx5IG9uZSBtb3JlIGVsZW1lbnQgdGhhbiBwYXJhbWV0ZXIgY29uZGl0aW9uYWxzJyk7XG4gICAgdGhpcy5jb25kaXRpb25hbHMgPSBjb25kaXRpb25hbHM7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gIH1cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUudHlwZSA9ICdSZWxhdGlvbmFsTm9kZSc7XG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5pc1JlbGF0aW9uYWxOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjb21waWxlZCA9IHRoaXMucGFyYW1zLm1hcChwID0+IHAuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbFJlbGF0aW9uYWxOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZXZhbExocztcbiAgICAgIHZhciBldmFsUmhzID0gY29tcGlsZWRbMF0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGV2YWxMaHMgPSBldmFsUmhzO1xuICAgICAgICBldmFsUmhzID0gY29tcGlsZWRbaSArIDFdKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGNvbmRGbiA9IGdldFNhZmVQcm9wZXJ0eShtYXRoLCBzZWxmLmNvbmRpdGlvbmFsc1tpXSk7XG5cbiAgICAgICAgaWYgKCFjb25kRm4oZXZhbExocywgZXZhbFJocykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRoaXMucGFyYW1zLmZvckVhY2goKG4sIGkpID0+IGNhbGxiYWNrKG4sICdwYXJhbXNbJyArIGkgKyAnXScsIHRoaXMpLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSZWxhdGlvbmFsTm9kZSBoYXZpbmcgaXRzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtSZWxhdGlvbmFsTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZSh0aGlzLmNvbmRpdGlvbmFscy5zbGljZSgpLCB0aGlzLnBhcmFtcy5tYXAoKG4sIGkpID0+IHRoaXMuX2lmTm9kZShjYWxsYmFjayhuLCAncGFyYW1zWycgKyBpICsgJ10nLCB0aGlzKSksIHRoaXMpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7UmVsYXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUodGhpcy5jb25kaXRpb25hbHMsIHRoaXMucGFyYW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICB2YXIgcGFyYW1QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShwLCBwYXJlbnRoZXNpcyk7XG4gICAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHBhcmFtUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBwYXJhbVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSA/ICcoJyArIHAudG9TdHJpbmcob3B0aW9ucykgKyAnKScgOiBwLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBvcGVyYXRvck1hcCA9IHtcbiAgICAgIGVxdWFsOiAnPT0nLFxuICAgICAgdW5lcXVhbDogJyE9JyxcbiAgICAgIHNtYWxsZXI6ICc8JyxcbiAgICAgIGxhcmdlcjogJz4nLFxuICAgICAgc21hbGxlckVxOiAnPD0nLFxuICAgICAgbGFyZ2VyRXE6ICc+PSdcbiAgICB9O1xuICAgIHZhciByZXQgPSBwYXJhbVN0cmluZ3NbMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXQgKz0gJyAnICsgb3BlcmF0b3JNYXBbdGhpcy5jb25kaXRpb25hbHNbaV1dICsgJyAnICsgcGFyYW1TdHJpbmdzW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1JlbGF0aW9uYWxOb2RlJyxcbiAgICAgIGNvbmRpdGlvbmFsczogdGhpcy5jb25kaXRpb25hbHMsXG4gICAgICBwYXJhbXM6IHRoaXMucGFyYW1zXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmVsYXRpb25hbE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJlbGF0aW9uYWxOb2RlXCIsIFwiY29uZGl0aW9uXCI6IC4uLiwgXCJ0cnVlRXhwclwiOiAuLi4sIFwiZmFsc2VFeHByXCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtSZWxhdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZShqc29uLmNvbmRpdGlvbmFscywganNvbi5wYXJhbXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmFtU3RyaW5ncyA9IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgIHZhciBwYXJhbVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgcGFyYW1QcmVjZWRlbmNlICE9PSBudWxsICYmIHBhcmFtUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlID8gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgcC50b0hUTUwob3B0aW9ucykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPicgOiBwLnRvSFRNTChvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgb3BlcmF0b3JNYXAgPSB7XG4gICAgICBlcXVhbDogJz09JyxcbiAgICAgIHVuZXF1YWw6ICchPScsXG4gICAgICBzbWFsbGVyOiAnPCcsXG4gICAgICBsYXJnZXI6ICc+JyxcbiAgICAgIHNtYWxsZXJFcTogJzw9JyxcbiAgICAgIGxhcmdlckVxOiAnPj0nXG4gICAgfTtcbiAgICB2YXIgcmV0ID0gcGFyYW1TdHJpbmdzWzBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0ICs9ICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1leHBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKG9wZXJhdG9yTWFwW3RoaXMuY29uZGl0aW9uYWxzW2ldXSkgKyAnPC9zcGFuPicgKyBwYXJhbVN0cmluZ3NbaSArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmFtU3RyaW5ncyA9IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgIHZhciBwYXJhbVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgcGFyYW1QcmVjZWRlbmNlICE9PSBudWxsICYmIHBhcmFtUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlID8gJ1xcXFxsZWZ0KCcgKyBwLnRvVGV4KG9wdGlvbnMpICsgJ1xccmlnaHQpJyA6IHAudG9UZXgob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIHJldCA9IHBhcmFtU3RyaW5nc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldCArPSBsYXRleE9wZXJhdG9yc1t0aGlzLmNvbmRpdGlvbmFsc1tpXV0gKyBwYXJhbVN0cmluZ3NbaSArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgcmV0dXJuIFJlbGF0aW9uYWxOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUsIGlzSW5kZXhOb2RlLCBpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIHZhbGlkYXRlU2FmZU1ldGhvZCB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVmYXVsdFRlbXBsYXRlLCBsYXRleEZ1bmN0aW9ucyB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbnZhciBuYW1lID0gJ0Z1bmN0aW9uTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydtYXRoJywgJ05vZGUnLCAnU3ltYm9sTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVGdW5jdGlvbk5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBtYXRoLFxuICAgIE5vZGUsXG4gICAgU3ltYm9sTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEZ1bmN0aW9uTm9kZVxuICAgKiBAZXh0ZW5kcyB7Li9Ob2RlfVxuICAgKiBpbnZva2UgYSBsaXN0IHdpdGggYXJndW1lbnRzIG9uIGEgbm9kZVxuICAgKiBAcGFyYW0gey4vTm9kZSB8IHN0cmluZ30gZm4gTm9kZSByZXNvbHZpbmcgd2l0aCBhIGZ1bmN0aW9uIG9uIHdoaWNoIHRvIGludm9rZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGFyZ3VtZW50cywgdHlwaWNhbGx5IGEgU3ltYm9Ob2RlIG9yIEFjY2Vzc29yTm9kZVxuICAgKiBAcGFyYW0gey4vTm9kZVtdfSBhcmdzXG4gICAqL1xuICBmdW5jdGlvbiBGdW5jdGlvbk5vZGUoZm4sIGFyZ3MpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25Ob2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZuID09PSAnc3RyaW5nJykge1xuICAgICAgZm4gPSBuZXcgU3ltYm9sTm9kZShmbik7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAoIWlzTm9kZShmbikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgYXMgcGFyYW1ldGVyIFwiZm5cIicpO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpIHx8ICFhcmdzLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImFyZ3NcIicpO1xuICAgIH1cblxuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLmFyZ3MgPSBhcmdzIHx8IFtdOyAvLyByZWFkb25seSBwcm9wZXJ0eSBuYW1lXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm4ubmFtZSB8fCAnJztcbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gYSBuZXcgbmFtZSwgbmFtZSBpcyByZWFkLW9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnR5cGUgPSAnRnVuY3Rpb25Ob2RlJztcbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5pc0Z1bmN0aW9uTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25Ob2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gdmFsaWQgRnVuY3Rpb25Ob2RlJyk7XG4gICAgfSAvLyBjb21waWxlIGFyZ3VtZW50c1xuXG5cbiAgICB2YXIgZXZhbEFyZ3MgPSBtYXAodGhpcy5hcmdzLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICB9KTtcblxuICAgIGlmIChpc1N5bWJvbE5vZGUodGhpcy5mbikpIHtcbiAgICAgIC8vIHdlIGNhbiBzdGF0aWNhbGx5IGRldGVybWluZSB3aGV0aGVyIHRoZSBmdW5jdGlvbiBoYXMgYW4gcmF3QXJncyBwcm9wZXJ0eVxuICAgICAgdmFyIF9uYW1lID0gdGhpcy5mbi5uYW1lO1xuICAgICAgdmFyIGZuID0gX25hbWUgaW4gbWF0aCA/IGdldFNhZmVQcm9wZXJ0eShtYXRoLCBfbmFtZSkgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgaXNSYXcgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgZm4ucmF3QXJncyA9PT0gdHJ1ZTtcblxuICAgICAgaWYgKGlzUmF3KSB7XG4gICAgICAgIC8vIHBhc3MgdW5ldmFsdWF0ZWQgcGFyYW1ldGVycyAobm9kZXMpIHRvIHRoZSBmdW5jdGlvblxuICAgICAgICAvLyBcInJhd1wiIGV2YWx1YXRpb25cbiAgICAgICAgdmFyIHJhd0FyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pKHJhd0FyZ3MsIG1hdGgsIF9leHRlbmRzKHt9LCBzY29wZSwgYXJncykpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXCJyZWd1bGFyXCIgZXZhbHVhdGlvblxuICAgICAgICBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdmFyIGV2YWxBcmcwID0gZXZhbEFyZ3NbMF07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKShldmFsQXJnMChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdmFyIF9ldmFsQXJnID0gZXZhbEFyZ3NbMF07XG4gICAgICAgICAgdmFyIGV2YWxBcmcxID0gZXZhbEFyZ3NbMV07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKShfZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxBcmcxKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pLmFwcGx5KG51bGwsIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQWNjZXNzb3JOb2RlKHRoaXMuZm4pICYmIGlzSW5kZXhOb2RlKHRoaXMuZm4uaW5kZXgpICYmIHRoaXMuZm4uaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAvLyBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSByaWdodCBjb250ZXh0OiB0aGUgb2JqZWN0IG9mIHRoZSBBY2Nlc3Nvck5vZGVcbiAgICAgIHZhciBldmFsT2JqZWN0ID0gdGhpcy5mbi5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICB2YXIgcHJvcCA9IHRoaXMuZm4uaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgIHZhciBfcmF3QXJncyA9IHRoaXMuYXJncztcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFsaWRhdGVTYWZlTWV0aG9kKG9iamVjdCwgcHJvcCk7XG4gICAgICAgIHZhciBpc1JhdyA9IG9iamVjdFtwcm9wXSAmJiBvYmplY3RbcHJvcF0ucmF3QXJncztcbiAgICAgICAgcmV0dXJuIGlzUmF3ID8gb2JqZWN0W3Byb3BdKF9yYXdBcmdzLCBtYXRoLCBfZXh0ZW5kcyh7fSwgc2NvcGUsIGFyZ3MpKSAvLyBcInJhd1wiIGV2YWx1YXRpb25cbiAgICAgICAgOiBvYmplY3RbcHJvcF0uYXBwbHkob2JqZWN0LCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgLy8gXCJyZWd1bGFyXCIgZXZhbHVhdGlvblxuICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm9kZS5mbi5pc0FjY2Vzc29yTm9kZSAmJiAhbm9kZS5mbi5pbmRleC5pc09iamVjdFByb3BlcnR5KClcbiAgICAgIC8vIHdlIGhhdmUgdG8gZHluYW1pY2FsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGZ1bmN0aW9uIGhhcyBhIHJhd0FyZ3MgcHJvcGVydHlcbiAgICAgIHZhciBldmFsRm4gPSB0aGlzLmZuLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgdmFyIF9yYXdBcmdzMiA9IHRoaXMuYXJncztcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBmbiA9IGV2YWxGbihzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBpc1JhdyA9IGZuICYmIGZuLnJhd0FyZ3M7XG4gICAgICAgIHJldHVybiBpc1JhdyA/IGZuKF9yYXdBcmdzMiwgbWF0aCwgX2V4dGVuZHMoe30sIHNjb3BlLCBhcmdzKSkgLy8gXCJyYXdcIiBldmFsdWF0aW9uXG4gICAgICAgIDogZm4uYXBwbHkoZm4sIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICAvLyBcInJlZ3VsYXJcIiBldmFsdWF0aW9uXG4gICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmZuLCAnZm4nLCB0aGlzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRnVuY3Rpb25Ob2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbk5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgZm4gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5mbiwgJ2ZuJywgdGhpcykpO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTm9kZShmbiwgYXJncyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Z1bmN0aW9uTm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ob2RlKHRoaXMuZm4sIHRoaXMuYXJncy5zbGljZSgwKSk7XG4gIH07IC8vIGJhY2t1cCBOb2RlJ3MgdG9TdHJpbmcgZnVuY3Rpb25cbiAgLy8gQHByaXZhdGVcblxuXG4gIHZhciBub2RlVG9TdHJpbmcgPSBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvU3RyaW5nO1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqIFRoaXMgb3ZlcnJpZGVzIHBhcnRzIG9mIE5vZGUncyB0b1N0cmluZyBmdW5jdGlvbi5cbiAgICogSWYgY2FsbGJhY2sgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgY2FsbGJhY2tzLCBpdFxuICAgKiBjYWxscyB0aGUgY29ycmVjdCBjYWxsYmFjayBmb3IgdGhlIGN1cnJlbnQgbm9kZSxcbiAgICogb3RoZXJ3aXNlIGl0IGZhbGxzIGJhY2sgdG8gY2FsbGluZyBOb2RlJ3MgdG9TdHJpbmdcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tU3RyaW5nO1xuICAgIHZhciBuYW1lID0gdGhpcy5mbi50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmhhbmRsZXIgPT09ICdvYmplY3QnICYmIGhhc093blByb3BlcnR5KG9wdGlvbnMuaGFuZGxlciwgbmFtZSkpIHtcbiAgICAgIC8vIGNhbGxiYWNrIGlzIGEgbWFwIG9mIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgICAgY3VzdG9tU3RyaW5nID0gb3B0aW9ucy5oYW5kbGVyW25hbWVdKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tU3RyaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0cmluZztcbiAgICB9IC8vIGZhbGwgYmFjayB0byBOb2RlJ3MgdG9TdHJpbmdcblxuXG4gICAgcmV0dXJuIG5vZGVUb1N0cmluZy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgZm4gPSBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUodGhpcy5mbikgPyAnKCcgKyB0aGlzLmZuLnRvU3RyaW5nKG9wdGlvbnMpICsgJyknIDogdGhpcy5mbi50b1N0cmluZyhvcHRpb25zKTsgLy8gZm9ybWF0IHRoZSBhcmd1bWVudHMgbGlrZSBcImFkZCgyLCA0LjIpXCJcblxuICAgIHJldHVybiBmbiArICcoJyArIGFyZ3Muam9pbignLCAnKSArICcpJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRnVuY3Rpb25Ob2RlJyxcbiAgICAgIGZuOiB0aGlzLmZuLFxuICAgICAgYXJnczogdGhpcy5hcmdzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFzc2lnbm1lbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGdW5jdGlvbk5vZGVcIiwgZm46IC4uLiwgYXJnczogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Z1bmN0aW9uTm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ob2RlKGpzb24uZm4sIGpzb24uYXJncyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy50b0hUTUwob3B0aW9ucyk7XG4gICAgfSk7IC8vIGZvcm1hdCB0aGUgYXJndW1lbnRzIGxpa2UgXCJhZGQoMiwgNC4yKVwiXG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1mdW5jdGlvblwiPicgKyBlc2NhcGUodGhpcy5mbikgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgYXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgfTtcbiAgLypcbiAgICogRXhwYW5kIGEgTGFUZVggdGVtcGxhdGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcHJpdmF0ZVxuICAgKiovXG5cblxuICBmdW5jdGlvbiBleHBhbmRUZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZSwgb3B0aW9ucykge1xuICAgIHZhciBsYXRleCA9ICcnOyAvLyBNYXRjaCBldmVyeXRoaW5nIG9mIHRoZSBmb3JtICR7aWRlbnRpZmllcn0gb3IgJHtpZGVudGlmaWVyWzJdfSBvciAkJFxuICAgIC8vIHdoaWxlIHN1Ym1hdGNoaW5nIGlkZW50aWZpZXIgYW5kIDIgKGluIHRoZSBzZWNvbmQgY2FzZSlcblxuICAgIHZhciByZWdleCA9IC9cXCQoPzpcXHsoW2Etel9dW2Etel8wLTldKikoPzpcXFsoWzAtOV0rKVxcXSk/XFx9fFxcJCkvZ2k7XG4gICAgdmFyIGlucHV0UG9zID0gMDsgLy8gcG9zaXRpb24gaW4gdGhlIGlucHV0IHN0cmluZ1xuXG4gICAgdmFyIG1hdGNoO1xuXG4gICAgd2hpbGUgKChtYXRjaCA9IHJlZ2V4LmV4ZWModGVtcGxhdGUpKSAhPT0gbnVsbCkge1xuICAgICAgLy8gZ28gdGhyb3VnaCBhbGwgbWF0Y2hlc1xuICAgICAgLy8gYWRkIGV2ZXJ5dGhpbmcgaW4gZnJvbnQgb2YgdGhlIG1hdGNoIHRvIHRoZSBMYVRlWCBzdHJpbmdcbiAgICAgIGxhdGV4ICs9IHRlbXBsYXRlLnN1YnN0cmluZyhpbnB1dFBvcywgbWF0Y2guaW5kZXgpO1xuICAgICAgaW5wdXRQb3MgPSBtYXRjaC5pbmRleDtcblxuICAgICAgaWYgKG1hdGNoWzBdID09PSAnJCQnKSB7XG4gICAgICAgIC8vIGVzY2FwZWQgZG9sbGFyIHNpZ25cbiAgICAgICAgbGF0ZXggKz0gJyQnO1xuICAgICAgICBpbnB1dFBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGVtcGxhdGUgcGFyYW1ldGVyXG4gICAgICAgIGlucHV0UG9zICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gbm9kZVttYXRjaFsxXV07XG5cbiAgICAgICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignVGVtcGxhdGU6IFByb3BlcnR5ICcgKyBtYXRjaFsxXSArICcgZG9lcyBub3QgZXhpc3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2hbMl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIG5vIHNxdWFyZSBicmFja2V0c1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgIGlmIChpc05vZGUocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHkudG9UZXgob3B0aW9ucyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIGFycmF5IG9mIE5vZGVzIGludG8gY29tbWEgc2VwYXJhdGVkIGxpc3RcbiAgICAgICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eS5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc05vZGUoYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJ1snICsgaW5kZXggKyAnXSBpcyBub3QgYSBOb2RlLicpO1xuICAgICAgICAgICAgICAgIH0pLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJyBoYXMgdG8gYmUgYSBOb2RlLCBTdHJpbmcgb3IgYXJyYXkgb2YgTm9kZXMnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJyBoYXMgdG8gYmUgYSBOb2RlLCBTdHJpbmcgb3IgYXJyYXkgb2YgTm9kZXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gd2l0aCBzcXVhcmUgYnJhY2tldHNcbiAgICAgICAgICBpZiAoaXNOb2RlKHByb3BlcnR5W21hdGNoWzJdXSAmJiBwcm9wZXJ0eVttYXRjaFsyXV0pKSB7XG4gICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eVttYXRjaFsyXV0udG9UZXgob3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnWycgKyBtYXRjaFsyXSArICddIGlzIG5vdCBhIE5vZGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGF0ZXggKz0gdGVtcGxhdGUuc2xpY2UoaW5wdXRQb3MpOyAvLyBhcHBlbmQgcmVzdCBvZiB0aGUgdGVtcGxhdGVcblxuICAgIHJldHVybiBsYXRleDtcbiAgfSAvLyBiYWNrdXAgTm9kZSdzIHRvVGV4IGZ1bmN0aW9uXG4gIC8vIEBwcml2YXRlXG5cblxuICB2YXIgbm9kZVRvVGV4ID0gRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1RleDtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqIFRoaXMgb3ZlcnJpZGVzIHBhcnRzIG9mIE5vZGUncyB0b1RleCBmdW5jdGlvbi5cbiAgICogSWYgY2FsbGJhY2sgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgY2FsbGJhY2tzLCBpdFxuICAgKiBjYWxscyB0aGUgY29ycmVjdCBjYWxsYmFjayBmb3IgdGhlIGN1cnJlbnQgbm9kZSxcbiAgICogb3RoZXJ3aXNlIGl0IGZhbGxzIGJhY2sgdG8gY2FsbGluZyBOb2RlJ3MgdG9UZXhcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVRleDtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmhhbmRsZXIgPT09ICdvYmplY3QnICYmIGhhc093blByb3BlcnR5KG9wdGlvbnMuaGFuZGxlciwgdGhpcy5uYW1lKSkge1xuICAgICAgLy8gY2FsbGJhY2sgaXMgYSBtYXAgb2YgY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAgICBjdXN0b21UZXggPSBvcHRpb25zLmhhbmRsZXJbdGhpcy5uYW1lXSh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21UZXg7XG4gICAgfSAvLyBmYWxsIGJhY2sgdG8gTm9kZSdzIHRvVGV4XG5cblxuICAgIHJldHVybiBub2RlVG9UZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgLy8gZ2V0IExhVGVYIG9mIHRoZSBhcmd1bWVudHNcbiAgICAgIHJldHVybiBhcmcudG9UZXgob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIGxhdGV4Q29udmVydGVyO1xuXG4gICAgaWYgKGxhdGV4RnVuY3Rpb25zW3RoaXMubmFtZV0pIHtcbiAgICAgIGxhdGV4Q29udmVydGVyID0gbGF0ZXhGdW5jdGlvbnNbdGhpcy5uYW1lXTtcbiAgICB9IC8vIHRvVGV4IHByb3BlcnR5IG9uIHRoZSBmdW5jdGlvbiBpdHNlbGZcblxuXG4gICAgaWYgKG1hdGhbdGhpcy5uYW1lXSAmJiAodHlwZW9mIG1hdGhbdGhpcy5uYW1lXS50b1RleCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbWF0aFt0aGlzLm5hbWVdLnRvVGV4ID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbWF0aFt0aGlzLm5hbWVdLnRvVGV4ID09PSAnc3RyaW5nJykpIHtcbiAgICAgIC8vIC50b1RleCBpcyBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICBsYXRleENvbnZlcnRlciA9IG1hdGhbdGhpcy5uYW1lXS50b1RleDtcbiAgICB9XG5cbiAgICB2YXIgY3VzdG9tVG9UZXg7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiBsYXRleENvbnZlcnRlcikge1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAvLyBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgIGN1c3RvbVRvVGV4ID0gbGF0ZXhDb252ZXJ0ZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAvLyBhIHRlbXBsYXRlIHN0cmluZ1xuICAgICAgICBjdXN0b21Ub1RleCA9IGV4cGFuZFRlbXBsYXRlKGxhdGV4Q29udmVydGVyLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIC8vIGFuIG9iamVjdCB3aXRoIGRpZmZlcmVudCBcImNvbnZlcnRlcnNcIiBmb3IgZGlmZmVyZW50IG51bWJlcnMgb2YgYXJndW1lbnRzXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIGxhdGV4Q29udmVydGVyW2FyZ3MubGVuZ3RoXSkge1xuICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgIGN1c3RvbVRvVGV4ID0gbGF0ZXhDb252ZXJ0ZXJbYXJncy5sZW5ndGhdKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgY3VzdG9tVG9UZXggPSBleHBhbmRUZW1wbGF0ZShsYXRleENvbnZlcnRlclthcmdzLmxlbmd0aF0sIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVG9UZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVG9UZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cGFuZFRlbXBsYXRlKGRlZmF1bHRUZW1wbGF0ZSwgdGhpcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlICsgJzonICsgdGhpcy5uYW1lO1xuICB9O1xuXG4gIHJldHVybiBGdW5jdGlvbk5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0Z1bmN0aW9uTm9kZSwgaXNPcGVyYXRvck5vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0LmpzJztcbnZhciBuYW1lID0gJ3BhcnNlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ251bWVyaWMnLCAnY29uZmlnJywgJ0FjY2Vzc29yTm9kZScsICdBcnJheU5vZGUnLCAnQXNzaWdubWVudE5vZGUnLCAnQmxvY2tOb2RlJywgJ0NvbmRpdGlvbmFsTm9kZScsICdDb25zdGFudE5vZGUnLCAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZScsICdGdW5jdGlvbk5vZGUnLCAnSW5kZXhOb2RlJywgJ09iamVjdE5vZGUnLCAnT3BlcmF0b3JOb2RlJywgJ1BhcmVudGhlc2lzTm9kZScsICdSYW5nZU5vZGUnLCAnUmVsYXRpb25hbE5vZGUnLCAnU3ltYm9sTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVQYXJzZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG51bWVyaWMsXG4gICAgY29uZmlnLFxuICAgIEFjY2Vzc29yTm9kZSxcbiAgICBBcnJheU5vZGUsXG4gICAgQXNzaWdubWVudE5vZGUsXG4gICAgQmxvY2tOb2RlLFxuICAgIENvbmRpdGlvbmFsTm9kZSxcbiAgICBDb25zdGFudE5vZGUsXG4gICAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSxcbiAgICBGdW5jdGlvbk5vZGUsXG4gICAgSW5kZXhOb2RlLFxuICAgIE9iamVjdE5vZGUsXG4gICAgT3BlcmF0b3JOb2RlLFxuICAgIFBhcmVudGhlc2lzTm9kZSxcbiAgICBSYW5nZU5vZGUsXG4gICAgUmVsYXRpb25hbE5vZGUsXG4gICAgU3ltYm9sTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogUGFyc2UgYW4gZXhwcmVzc2lvbi4gUmV0dXJucyBhIG5vZGUgdHJlZSwgd2hpY2ggY2FuIGJlIGV2YWx1YXRlZCBieVxuICAgKiBpbnZva2luZyBub2RlLmV2YWx1YXRlKCkuXG4gICAqXG4gICAqIE5vdGUgdGhlIGV2YWx1YXRpbmcgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIG1heSBpbnZvbHZlIHNlY3VyaXR5IHJpc2tzLFxuICAgKiBzZWUgW2h0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWxdKGh0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWwpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLnBhcnNlKGV4cHIpXG4gICAqICAgICBtYXRoLnBhcnNlKGV4cHIsIG9wdGlvbnMpXG4gICAqICAgICBtYXRoLnBhcnNlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dKVxuICAgKiAgICAgbWF0aC5wYXJzZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSwgb3B0aW9ucylcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogICAgIGNvbnN0IG5vZGUxID0gbWF0aC5wYXJzZSgnc3FydCgzXjIgKyA0XjIpJylcbiAgICogICAgIG5vZGUxLmNvbXBpbGUoKS5ldmFsdWF0ZSgpIC8vIDVcbiAgICpcbiAgICogICAgIGxldCBzY29wZSA9IHthOjMsIGI6NH1cbiAgICogICAgIGNvbnN0IG5vZGUyID0gbWF0aC5wYXJzZSgnYSAqIGInKSAvLyAxMlxuICAgKiAgICAgY29uc3QgY29kZTIgPSBub2RlMi5jb21waWxlKClcbiAgICogICAgIGNvZGUyLmV2YWx1YXRlKHNjb3BlKSAvLyAxMlxuICAgKiAgICAgc2NvcGUuYSA9IDVcbiAgICogICAgIGNvZGUyLmV2YWx1YXRlKHNjb3BlKSAvLyAyMFxuICAgKlxuICAgKiAgICAgY29uc3Qgbm9kZXMgPSBtYXRoLnBhcnNlKFsnYSA9IDMnLCAnYiA9IDQnLCAnYSAqIGInXSlcbiAgICogICAgIG5vZGVzWzJdLmNvbXBpbGUoKS5ldmFsdWF0ZSgpIC8vIDEyXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgZXZhbHVhdGUsIGNvbXBpbGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IE1hdHJpeH0gZXhwciAgICAgICAgICBFeHByZXNzaW9uIHRvIGJlIHBhcnNlZFxuICAgKiBAcGFyYW0ge3tub2RlczogT2JqZWN0PHN0cmluZywgTm9kZT59fSBbb3B0aW9uc10gIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYG5vZGVzYCBhIHNldCBvZiBjdXN0b20gbm9kZXNcbiAgICogQHJldHVybiB7Tm9kZSB8IE5vZGVbXX0gbm9kZVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG4gIHZhciBwYXJzZSA9IHR5cGVkKG5hbWUsIHtcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhleHByZXNzaW9uKSB7XG4gICAgICByZXR1cm4gcGFyc2VTdGFydChleHByZXNzaW9uLCB7fSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeChleHByZXNzaW9ucykge1xuICAgICAgcmV0dXJuIHBhcnNlTXVsdGlwbGUoZXhwcmVzc2lvbnMsIHt9KTtcbiAgICB9LFxuICAgICdzdHJpbmcsIE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ09iamVjdChleHByZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZXh0cmFOb2RlcyA9IG9wdGlvbnMubm9kZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubm9kZXMgOiB7fTtcbiAgICAgIHJldHVybiBwYXJzZVN0YXJ0KGV4cHJlc3Npb24sIGV4dHJhTm9kZXMpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBPYmplY3QnOiBwYXJzZU11bHRpcGxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHBhcnNlTXVsdGlwbGUoZXhwcmVzc2lvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGV4dHJhTm9kZXMgPSBvcHRpb25zLm5vZGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5vZGVzIDoge307IC8vIHBhcnNlIGFuIGFycmF5IG9yIG1hdHJpeCB3aXRoIGV4cHJlc3Npb25zXG5cbiAgICByZXR1cm4gZGVlcE1hcChleHByZXNzaW9ucywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCcpO1xuICAgICAgcmV0dXJuIHBhcnNlU3RhcnQoZWxlbSwgZXh0cmFOb2Rlcyk7XG4gICAgfSk7XG4gIH0gLy8gdG9rZW4gdHlwZXMgZW51bWVyYXRpb25cblxuXG4gIHZhciBUT0tFTlRZUEUgPSB7XG4gICAgTlVMTDogMCxcbiAgICBERUxJTUlURVI6IDEsXG4gICAgTlVNQkVSOiAyLFxuICAgIFNZTUJPTDogMyxcbiAgICBVTktOT1dOOiA0XG4gIH07IC8vIG1hcCB3aXRoIGFsbCBkZWxpbWl0ZXJzXG5cbiAgdmFyIERFTElNSVRFUlMgPSB7XG4gICAgJywnOiB0cnVlLFxuICAgICcoJzogdHJ1ZSxcbiAgICAnKSc6IHRydWUsXG4gICAgJ1snOiB0cnVlLFxuICAgICddJzogdHJ1ZSxcbiAgICAneyc6IHRydWUsXG4gICAgJ30nOiB0cnVlLFxuICAgICdcIic6IHRydWUsXG4gICAgJ1xcJyc6IHRydWUsXG4gICAgJzsnOiB0cnVlLFxuICAgICcrJzogdHJ1ZSxcbiAgICAnLSc6IHRydWUsXG4gICAgJyonOiB0cnVlLFxuICAgICcuKic6IHRydWUsXG4gICAgJy8nOiB0cnVlLFxuICAgICcuLyc6IHRydWUsXG4gICAgJyUnOiB0cnVlLFxuICAgICdeJzogdHJ1ZSxcbiAgICAnLl4nOiB0cnVlLFxuICAgICd+JzogdHJ1ZSxcbiAgICAnISc6IHRydWUsXG4gICAgJyYnOiB0cnVlLFxuICAgICd8JzogdHJ1ZSxcbiAgICAnXnwnOiB0cnVlLFxuICAgICc9JzogdHJ1ZSxcbiAgICAnOic6IHRydWUsXG4gICAgJz8nOiB0cnVlLFxuICAgICc9PSc6IHRydWUsXG4gICAgJyE9JzogdHJ1ZSxcbiAgICAnPCc6IHRydWUsXG4gICAgJz4nOiB0cnVlLFxuICAgICc8PSc6IHRydWUsXG4gICAgJz49JzogdHJ1ZSxcbiAgICAnPDwnOiB0cnVlLFxuICAgICc+Pic6IHRydWUsXG4gICAgJz4+Pic6IHRydWVcbiAgfTsgLy8gbWFwIHdpdGggYWxsIG5hbWVkIGRlbGltaXRlcnNcblxuICB2YXIgTkFNRURfREVMSU1JVEVSUyA9IHtcbiAgICBtb2Q6IHRydWUsXG4gICAgdG86IHRydWUsXG4gICAgaW46IHRydWUsXG4gICAgYW5kOiB0cnVlLFxuICAgIHhvcjogdHJ1ZSxcbiAgICBvcjogdHJ1ZSxcbiAgICBub3Q6IHRydWVcbiAgfTtcbiAgdmFyIENPTlNUQU5UUyA9IHtcbiAgICB0cnVlOiB0cnVlLFxuICAgIGZhbHNlOiBmYWxzZSxcbiAgICBudWxsOiBudWxsLFxuICAgIHVuZGVmaW5lZDogdW5kZWZpbmVkXG4gIH07XG4gIHZhciBOVU1FUklDX0NPTlNUQU5UUyA9IFsnTmFOJywgJ0luZmluaXR5J107XG5cbiAgZnVuY3Rpb24gaW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHRyYU5vZGVzOiB7fSxcbiAgICAgIC8vIGN1cnJlbnQgZXh0cmEgbm9kZXMsIG11c3QgYmUgY2FyZWZ1bCBub3QgdG8gbXV0YXRlXG4gICAgICBleHByZXNzaW9uOiAnJyxcbiAgICAgIC8vIGN1cnJlbnQgZXhwcmVzc2lvblxuICAgICAgY29tbWVudDogJycsXG4gICAgICAvLyBsYXN0IHBhcnNlZCBjb21tZW50XG4gICAgICBpbmRleDogMCxcbiAgICAgIC8vIGN1cnJlbnQgaW5kZXggaW4gZXhwclxuICAgICAgdG9rZW46ICcnLFxuICAgICAgLy8gY3VycmVudCB0b2tlblxuICAgICAgdG9rZW5UeXBlOiBUT0tFTlRZUEUuTlVMTCxcbiAgICAgIC8vIHR5cGUgb2YgdGhlIHRva2VuXG4gICAgICBuZXN0aW5nTGV2ZWw6IDAsXG4gICAgICAvLyBsZXZlbCBvZiBuZXN0aW5nIGluc2lkZSBwYXJhbWV0ZXJzLCB1c2VkIHRvIGlnbm9yZSBuZXdsaW5lIGNoYXJhY3RlcnNcbiAgICAgIGNvbmRpdGlvbmFsTGV2ZWw6IG51bGwgLy8gd2hlbiBhIGNvbmRpdGlvbmFsIGlzIGJlaW5nIHBhcnNlZCwgdGhlIGxldmVsIG9mIHRoZSBjb25kaXRpb25hbCBpcyBzdG9yZWQgaGVyZVxuXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVmlldyB1cHRvIGBsZW5ndGhgIGNoYXJhY3RlcnMgb2YgdGhlIGV4cHJlc3Npb24gc3RhcnRpbmcgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MV0gTnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gdmlld1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGN1cnJlbnRTdHJpbmcoc3RhdGUsIGxlbmd0aCkge1xuICAgIHJldHVybiBzdGF0ZS5leHByZXNzaW9uLnN1YnN0cihzdGF0ZS5pbmRleCwgbGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogVmlldyB0aGUgY3VycmVudCBjaGFyYWN0ZXIuIFJldHVybnMgJycgaWYgZW5kIG9mIGV4cHJlc3Npb24gaXMgcmVhY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3VycmVudENoYXJhY3RlcihzdGF0ZSkge1xuICAgIHJldHVybiBjdXJyZW50U3RyaW5nKHN0YXRlLCAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBuZXh0IGNoYXJhY3RlciBmcm9tIHRoZSBleHByZXNzaW9uLlxuICAgKiBUaGUgY2hhcmFjdGVyIGlzIHN0b3JlZCBpbnRvIHRoZSBjaGFyIGMuIElmIHRoZSBlbmQgb2YgdGhlIGV4cHJlc3Npb24gaXNcbiAgICogcmVhY2hlZCwgdGhlIGZ1bmN0aW9uIHB1dHMgYW4gZW1wdHkgc3RyaW5nIGluIGMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmV4dChzdGF0ZSkge1xuICAgIHN0YXRlLmluZGV4Kys7XG4gIH1cbiAgLyoqXG4gICAqIFByZXZpZXcgdGhlIHByZXZpb3VzIGNoYXJhY3RlciBmcm9tIHRoZSBleHByZXNzaW9uLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNOZXh0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcHJldkNoYXJhY3RlcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5leHByZXNzaW9uLmNoYXJBdChzdGF0ZS5pbmRleCAtIDEpO1xuICB9XG4gIC8qKlxuICAgKiBQcmV2aWV3IHRoZSBuZXh0IGNoYXJhY3RlciBmcm9tIHRoZSBleHByZXNzaW9uLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNOZXh0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmV4dENoYXJhY3RlcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5leHByZXNzaW9uLmNoYXJBdChzdGF0ZS5pbmRleCArIDEpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbmV4dCB0b2tlbiBpbiB0aGUgY3VycmVudCBzdHJpbmcgZXhwci5cbiAgICogVGhlIHRva2VuIGFuZCB0b2tlbiB0eXBlIGFyZSBhdmFpbGFibGUgYXMgdG9rZW4gYW5kIHRva2VuVHlwZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFRva2VuKHN0YXRlKSB7XG4gICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLk5VTEw7XG4gICAgc3RhdGUudG9rZW4gPSAnJztcbiAgICBzdGF0ZS5jb21tZW50ID0gJyc7IC8vIHNraXAgb3ZlciB3aGl0ZXNwYWNlc1xuICAgIC8vIHNwYWNlLCB0YWIsIGFuZCBuZXdsaW5lIHdoZW4gaW5zaWRlIHBhcmFtZXRlcnNcblxuICAgIHdoaWxlIChwYXJzZS5pc1doaXRlc3BhY2UoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIHN0YXRlLm5lc3RpbmdMZXZlbCkpIHtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH0gLy8gc2tpcCBjb21tZW50XG5cblxuICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJyMnKSB7XG4gICAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICdcXG4nICYmIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJykge1xuICAgICAgICBzdGF0ZS5jb21tZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cbiAgICB9IC8vIGNoZWNrIGZvciBlbmQgb2YgZXhwcmVzc2lvblxuXG5cbiAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcnKSB7XG4gICAgICAvLyB0b2tlbiBpcyBzdGlsbCBlbXB0eVxuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBuZXcgbGluZSBjaGFyYWN0ZXJcblxuXG4gICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnXFxuJyAmJiAhc3RhdGUubmVzdGluZ0xldmVsKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjMSA9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgIHZhciBjMiA9IGN1cnJlbnRTdHJpbmcoc3RhdGUsIDIpO1xuICAgIHZhciBjMyA9IGN1cnJlbnRTdHJpbmcoc3RhdGUsIDMpO1xuXG4gICAgaWYgKGMzLmxlbmd0aCA9PT0gMyAmJiBERUxJTUlURVJTW2MzXSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gYzM7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgZGVsaW1pdGVycyBjb25zaXN0aW5nIG9mIDIgY2hhcmFjdGVyc1xuXG5cbiAgICBpZiAoYzIubGVuZ3RoID09PSAyICYmIERFTElNSVRFUlNbYzJdKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjMjtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgZGVsaW1pdGVycyBjb25zaXN0aW5nIG9mIDEgY2hhcmFjdGVyXG5cblxuICAgIGlmIChERUxJTUlURVJTW2MxXSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gYzE7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBhIG51bWJlclxuXG5cbiAgICBpZiAocGFyc2UuaXNEaWdpdERvdChjMSkpIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5OVU1CRVI7IC8vIGNoZWNrIGZvciBiaW5hcnksIG9jdGFsLCBvciBoZXhcblxuICAgICAgdmFyIF9jID0gY3VycmVudFN0cmluZyhzdGF0ZSwgMik7XG5cbiAgICAgIGlmIChfYyA9PT0gJzBiJyB8fCBfYyA9PT0gJzBvJyB8fCBfYyA9PT0gJzB4Jykge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcblxuICAgICAgICB3aGlsZSAocGFyc2UuaXNIZXhEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gZ2V0IG51bWJlciwgY2FuIGhhdmUgYSBzaW5nbGUgZG90XG5cblxuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLicpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuXG4gICAgICAgIGlmICghcGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAvLyB0aGlzIGlzIG5vIG51bWJlciwgaXQgaXMganVzdCBhIGRvdCAoY2FuIGJlIGRvdCBub3RhdGlvbilcbiAgICAgICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAocGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZS5pc0RlY2ltYWxNYXJrKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB3aGlsZSAocGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfSAvLyBjaGVjayBmb3IgZXhwb25lbnRpYWwgbm90YXRpb24gbGlrZSBcIjIuM2UtNFwiLCBcIjEuMjNlNTBcIiBvciBcIjJlKzRcIlxuXG5cbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ0UnIHx8IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnZScpIHtcbiAgICAgICAgaWYgKHBhcnNlLmlzRGlnaXQobmV4dENoYXJhY3RlcihzdGF0ZSkpIHx8IG5leHRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLScgfHwgbmV4dENoYXJhY3RlcihzdGF0ZSkgPT09ICcrJykge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuXG4gICAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnKycgfHwgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICctJykge1xuICAgICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgICB9IC8vIFNjaWVudGlmaWMgbm90YXRpb24gTVVTVCBiZSBmb2xsb3dlZCBieSBhbiBleHBvbmVudFxuXG5cbiAgICAgICAgICBpZiAoIXBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0RpZ2l0IGV4cGVjdGVkLCBnb3QgXCInICsgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgKyAnXCInKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aGlsZSAocGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcnNlLmlzRGVjaW1hbE1hcmsoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdEaWdpdCBleHBlY3RlZCwgZ290IFwiJyArIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICsgJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5leHRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLicpIHtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0RpZ2l0IGV4cGVjdGVkLCBnb3QgXCInICsgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgdmFyaWFibGVzLCBmdW5jdGlvbnMsIG5hbWVkIG9wZXJhdG9yc1xuXG5cbiAgICBpZiAocGFyc2UuaXNBbHBoYShjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgcHJldkNoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgd2hpbGUgKHBhcnNlLmlzQWxwaGEoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIHByZXZDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkgfHwgcGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoTkFNRURfREVMSU1JVEVSUywgc3RhdGUudG9rZW4pKSB7XG4gICAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuU1lNQk9MO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzb21ldGhpbmcgdW5rbm93biBpcyBmb3VuZCwgd3JvbmcgY2hhcmFjdGVycyAtPiBhIHN5bnRheCBlcnJvclxuXG5cbiAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuVU5LTk9XTjtcblxuICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycpIHtcbiAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdTeW50YXggZXJyb3IgaW4gcGFydCBcIicgKyBzdGF0ZS50b2tlbiArICdcIicpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbmV4dCB0b2tlbiBhbmQgc2tpcCBuZXdsaW5lIHRva2Vuc1xuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpIHtcbiAgICBkbyB7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgfSB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdcXG4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG5cbiAgfVxuICAvKipcbiAgICogT3BlbiBwYXJhbWV0ZXJzLlxuICAgKiBOZXcgbGluZSBjaGFyYWN0ZXJzIHdpbGwgYmUgaWdub3JlZCB1bnRpbCBjbG9zZVBhcmFtcyhzdGF0ZSkgaXMgY2FsbGVkXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb3BlblBhcmFtcyhzdGF0ZSkge1xuICAgIHN0YXRlLm5lc3RpbmdMZXZlbCsrO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBwYXJhbWV0ZXJzLlxuICAgKiBOZXcgbGluZSBjaGFyYWN0ZXJzIHdpbGwgbm8gbG9uZ2VyIGJlIGlnbm9yZWRcbiAgICovXG5cblxuICBmdW5jdGlvbiBjbG9zZVBhcmFtcyhzdGF0ZSkge1xuICAgIHN0YXRlLm5lc3RpbmdMZXZlbC0tO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgYGNgIGlzIGEgdmFsaWQgYWxwaGEgY2hhcmFjdGVyOlxuICAgKlxuICAgKiAtIEEgbGF0aW4gbGV0dGVyICh1cHBlciBvciBsb3dlciBjYXNlKSBBc2NpaTogYS16LCBBLVpcbiAgICogLSBBbiB1bmRlcnNjb3JlICAgICAgICAgICAgICAgICAgICAgICAgQXNjaWk6IF9cbiAgICogLSBBIGRvbGxhciBzaWduICAgICAgICAgICAgICAgICAgICAgICAgQXNjaWk6ICRcbiAgICogLSBBIGxhdGluIGxldHRlciB3aXRoIGFjY2VudHMgICAgICAgICAgVW5pY29kZTogXFx1MDBDMCAtIFxcdTAyQUZcbiAgICogLSBBIGdyZWVrIGxldHRlciAgICAgICAgICAgICAgICAgICAgICAgVW5pY29kZTogXFx1MDM3MCAtIFxcdTAzRkZcbiAgICogLSBBIG1hdGhlbWF0aWNhbCBhbHBoYW51bWVyaWMgc3ltYm9sICAgVW5pY29kZTogXFx1ezFENDAwfSAtIFxcdXsxRDdGRn0gZXhjbHVkaW5nIGludmFsaWQgY29kZSBwb2ludHNcbiAgICpcbiAgICogVGhlIHByZXZpb3VzIGFuZCBuZXh0IGNoYXJhY3RlcnMgYXJlIG5lZWRlZCB0byBkZXRlcm1pbmUgd2hldGhlclxuICAgKiB0aGlzIGNoYXJhY3RlciBpcyBwYXJ0IG9mIGEgdW5pY29kZSBzdXJyb2dhdGUgcGFpci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICAgICBDdXJyZW50IGNoYXJhY3RlciBpbiB0aGUgZXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gY1ByZXYgIFByZXZpb3VzIGNoYXJhY3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY05leHQgIE5leHQgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNBbHBoYSA9IGZ1bmN0aW9uIGlzQWxwaGEoYywgY1ByZXYsIGNOZXh0KSB7XG4gICAgcmV0dXJuIHBhcnNlLmlzVmFsaWRMYXRpbk9yR3JlZWsoYykgfHwgcGFyc2UuaXNWYWxpZE1hdGhTeW1ib2woYywgY05leHQpIHx8IHBhcnNlLmlzVmFsaWRNYXRoU3ltYm9sKGNQcmV2LCBjKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBhIGNoYXJhY3RlciBpcyBhIHZhbGlkIGxhdGluLCBncmVlaywgb3IgbGV0dGVyLWxpa2UgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNWYWxpZExhdGluT3JHcmVlayA9IGZ1bmN0aW9uIGlzVmFsaWRMYXRpbk9yR3JlZWsoYykge1xuICAgIHJldHVybiAvXlthLXpBLVpfJFxcdTAwQzAtXFx1MDJBRlxcdTAzNzAtXFx1MDNGRlxcdTIxMDAtXFx1MjE0Rl0kLy50ZXN0KGMpO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHR3byBnaXZlbiAxNiBiaXQgY2hhcmFjdGVycyBmb3JtIGEgc3Vycm9nYXRlIHBhaXIgb2YgYVxuICAgKiB1bmljb2RlIG1hdGggc3ltYm9sLlxuICAgKlxuICAgKiBodHRwczovL3VuaWNvZGUtdGFibGUuY29tL2VuL1xuICAgKiBodHRwczovL3d3dy53aWtpd2FuZC5jb20vZW4vTWF0aGVtYXRpY2FsX29wZXJhdG9yc19hbmRfc3ltYm9sc19pbl9Vbmljb2RlXG4gICAqXG4gICAqIE5vdGU6IEluIEVTNiB3aWxsIGJlIHVuaWNvZGUgYXdhcmU6XG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4MDcxMi9qYXZhc2NyaXB0LXVuaWNvZGUtcmVnZXhlc1xuICAgKiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvZXM2LXVuaWNvZGUtcmVnZXhcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhpZ2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvd1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzVmFsaWRNYXRoU3ltYm9sID0gZnVuY3Rpb24gaXNWYWxpZE1hdGhTeW1ib2woaGlnaCwgbG93KSB7XG4gICAgcmV0dXJuIC9eW1xcdUQ4MzVdJC8udGVzdChoaWdoKSAmJiAvXltcXHVEQzAwLVxcdURGRkZdJC8udGVzdChsb3cpICYmIC9eW15cXHVEQzU1XFx1REM5RFxcdURDQTBcXHVEQ0ExXFx1RENBM1xcdURDQTRcXHVEQ0E3XFx1RENBOFxcdURDQURcXHVEQ0JBXFx1RENCQ1xcdURDQzRcXHVERDA2XFx1REQwQlxcdUREMENcXHVERDE1XFx1REQxRFxcdUREM0FcXHVERDNGXFx1REQ0NVxcdURENDctXFx1REQ0OVxcdURENTFcXHVERUE2XFx1REVBN1xcdURGQ0NcXHVERkNEXSQvLnRlc3QobG93KTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gY2hhcmFjdGVyIGMgaXMgYSB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXI6IHNwYWNlLCB0YWIsIG9yIGVudGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXN0aW5nTGV2ZWxcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc1doaXRlc3BhY2UgPSBmdW5jdGlvbiBpc1doaXRlc3BhY2UoYywgbmVzdGluZ0xldmVsKSB7XG4gICAgLy8gVE9ETzogYWxzbyB0YWtlICdcXHInIGNhcnJpYWdlIHJldHVybiBhcyBuZXdsaW5lPyBPciBkb2VzIHRoYXQgZ2l2ZSBwcm9ibGVtcyBvbiBtYWM/XG4gICAgcmV0dXJuIGMgPT09ICcgJyB8fCBjID09PSAnXFx0JyB8fCBjID09PSAnXFxuJyAmJiBuZXN0aW5nTGV2ZWwgPiAwO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHRoZSBjaGFyYWN0ZXIgYyBpcyBhIGRlY2ltYWwgbWFyayAoZG90KS5cbiAgICogVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGl0J3Mgbm90IHRoZSBzdGFydCBvZiBhIGRlbGltaXRlciAnLionLCAnLi8nLCBvciAnLl4nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjTmV4dFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzRGVjaW1hbE1hcmsgPSBmdW5jdGlvbiBpc0RlY2ltYWxNYXJrKGMsIGNOZXh0KSB7XG4gICAgcmV0dXJuIGMgPT09ICcuJyAmJiBjTmV4dCAhPT0gJy8nICYmIGNOZXh0ICE9PSAnKicgJiYgY05leHQgIT09ICdeJztcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2hhciBjIGlzIGEgZGlnaXQgb3IgZG90XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgYSBzdHJpbmcgd2l0aCBvbmUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNEaWdpdERvdCA9IGZ1bmN0aW9uIGlzRGlnaXREb3QoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JyB8fCBjID09PSAnLic7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgdGhlIGdpdmVuIGNoYXIgYyBpcyBhIGRpZ2l0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgYSBzdHJpbmcgd2l0aCBvbmUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNEaWdpdCA9IGZ1bmN0aW9uIGlzRGlnaXQoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JztcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2hhciBjIGlzIGEgaGV4IGRpZ2l0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgYSBzdHJpbmcgd2l0aCBvbmUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNIZXhEaWdpdCA9IGZ1bmN0aW9uIGlzSGV4RGlnaXQoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JyB8fCBjID49ICdhJyAmJiBjIDw9ICdmJyB8fCBjID49ICdBJyAmJiBjIDw9ICdGJztcbiAgfTtcbiAgLyoqXG4gICAqIFN0YXJ0IG9mIHRoZSBwYXJzZSBsZXZlbHMgYmVsb3csIGluIG9yZGVyIG9mIHByZWNlZGVuY2VcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU3RhcnQoZXhwcmVzc2lvbiwgZXh0cmFOb2Rlcykge1xuICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZSgpO1xuXG4gICAgX2V4dGVuZHMoc3RhdGUsIHtcbiAgICAgIGV4cHJlc3Npb24sXG4gICAgICBleHRyYU5vZGVzXG4gICAgfSk7XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJsb2NrKHN0YXRlKTsgLy8gY2hlY2sgZm9yIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgZXhwcmVzc2lvblxuICAgIC8vIGFuIGV4cHJlc3Npb24gZW5kcyB3aXRoIGEgZW1wdHkgY2hhcmFjdGVyICcnIGFuZCB0b2tlblR5cGUgREVMSU1JVEVSXG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcnKSB7XG4gICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuREVMSU1JVEVSKSB7XG4gICAgICAgIC8vIHVzZXIgZW50ZXJlZCBhIG5vdCBleGlzdGluZyBvcGVyYXRvciBsaWtlIFwiLy9cIlxuICAgICAgICAvLyBUT0RPOiBnaXZlIGhpbnRzIGZvciBhbGlhc2VzLCBmb3IgZXhhbXBsZSB3aXRoIFwiPD5cIiBnaXZlIGFzIGhpbnQgXCIgZGlkIHlvdSBtZWFuICE9PSA/XCJcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3Ioc3RhdGUsICdVbmV4cGVjdGVkIG9wZXJhdG9yICcgKyBzdGF0ZS50b2tlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1VuZXhwZWN0ZWQgcGFydCBcIicgKyBzdGF0ZS50b2tlbiArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGJsb2NrIHdpdGggZXhwcmVzc2lvbnMuIEV4cHJlc3Npb25zIGNhbiBiZSBzZXBhcmF0ZWQgYnkgYSBuZXdsaW5lXG4gICAqIGNoYXJhY3RlciAnXFxuJywgb3IgYnkgYSBzZW1pY29sb24gJzsnLiBJbiBjYXNlIG9mIGEgc2VtaWNvbG9uLCBubyBvdXRwdXRcbiAgICogb2YgdGhlIHByZWNlZGluZyBsaW5lIGlzIHJldHVybmVkLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCbG9jayhzdGF0ZSkge1xuICAgIHZhciBub2RlO1xuICAgIHZhciBibG9ja3MgPSBbXTtcbiAgICB2YXIgdmlzaWJsZTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJycgJiYgc3RhdGUudG9rZW4gIT09ICdcXG4nICYmIHN0YXRlLnRva2VuICE9PSAnOycpIHtcbiAgICAgIG5vZGUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgbm9kZS5jb21tZW50ID0gc3RhdGUuY29tbWVudDtcbiAgICB9IC8vIFRPRE86IHNpbXBsaWZ5IHRoaXMgbG9vcFxuXG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdcXG4nIHx8IHN0YXRlLnRva2VuID09PSAnOycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDAgJiYgbm9kZSkge1xuICAgICAgICB2aXNpYmxlID0gc3RhdGUudG9rZW4gIT09ICc7JztcbiAgICAgICAgYmxvY2tzLnB1c2goe1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICdcXG4nICYmIHN0YXRlLnRva2VuICE9PSAnOycgJiYgc3RhdGUudG9rZW4gIT09ICcnKSB7XG4gICAgICAgIG5vZGUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICBub2RlLmNvbW1lbnQgPSBzdGF0ZS5jb21tZW50O1xuICAgICAgICB2aXNpYmxlID0gc3RhdGUudG9rZW4gIT09ICc7JztcbiAgICAgICAgYmxvY2tzLnB1c2goe1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmxvY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGJsb2Nrcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZSh1bmRlZmluZWQpO1xuICAgICAgICBub2RlLmNvbW1lbnQgPSBzdGF0ZS5jb21tZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbm1lbnQgb2YgYSBmdW5jdGlvbiBvciB2YXJpYWJsZSxcbiAgICogLSBjYW4gYmUgYSB2YXJpYWJsZSBsaWtlICdhPTIuMydcbiAgICogLSBvciBhIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHZhcmlhYmxlIGxpa2UgJ21hdHJpeCgyLDM6NSk9WzYsNyw4XSdcbiAgICogLSBkZWZpbmluZyBhIGZ1bmN0aW9uIGxpa2UgJ2YoeCkgPSB4XjInXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpIHtcbiAgICB2YXIgbmFtZSwgYXJncywgdmFsdWUsIHZhbGlkO1xuICAgIHZhciBub2RlID0gcGFyc2VDb25kaXRpb25hbChzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc9Jykge1xuICAgICAgaWYgKGlzU3ltYm9sTm9kZShub2RlKSkge1xuICAgICAgICAvLyBwYXJzZSBhIHZhcmlhYmxlIGFzc2lnbm1lbnQgbGlrZSAnYSA9IDIvMydcbiAgICAgICAgbmFtZSA9IG5vZGUubmFtZTtcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgIHZhbHVlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZShuYW1lKSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0FjY2Vzc29yTm9kZShub2RlKSkge1xuICAgICAgICAvLyBwYXJzZSBhIG1hdHJpeCBzdWJzZXQgYXNzaWdubWVudCBsaWtlICdBWzEsMl0gPSA0J1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKG5vZGUub2JqZWN0LCBub2RlLmluZGV4LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb25Ob2RlKG5vZGUpICYmIGlzU3ltYm9sTm9kZShub2RlLmZuKSkge1xuICAgICAgICAvLyBwYXJzZSBmdW5jdGlvbiBhc3NpZ25tZW50IGxpa2UgJ2YoeCkgPSB4XjInXG4gICAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICBuYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICBub2RlLmFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICAgIGlmIChpc1N5bWJvbE5vZGUoYXJnKSkge1xuICAgICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmcubmFtZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUobmFtZSwgYXJncywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnSW52YWxpZCBsZWZ0IGhhbmQgc2lkZSBvZiBhc3NpZ25tZW50IG9wZXJhdG9yID0nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogY29uZGl0aW9uYWwgb3BlcmF0aW9uXG4gICAqXG4gICAqICAgICBjb25kaXRpb24gPyB0cnVlUGFydCA6IGZhbHNlUGFydFxuICAgKlxuICAgKiBOb3RlOiBjb25kaXRpb25hbCBvcGVyYXRvciBpcyByaWdodC1hc3NvY2lhdGl2ZVxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VDb25kaXRpb25hbChzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VMb2dpY2FsT3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnPycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgLy8gc2V0IGEgY29uZGl0aW9uYWwgbGV2ZWwsIHRoZSByYW5nZSBvcGVyYXRvciB3aWxsIGJlIGlnbm9yZWQgYXMgbG9uZ1xuICAgICAgLy8gYXMgY29uZGl0aW9uYWxMZXZlbCA9PT0gc3RhdGUubmVzdGluZ0xldmVsLlxuICAgICAgdmFyIHByZXYgPSBzdGF0ZS5jb25kaXRpb25hbExldmVsO1xuICAgICAgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCA9IHN0YXRlLm5lc3RpbmdMZXZlbDtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgdmFyIGNvbmRpdGlvbiA9IG5vZGU7XG4gICAgICB2YXIgdHJ1ZUV4cHIgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnOicpIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRmFsc2UgcGFydCBvZiBjb25kaXRpb25hbCBleHByZXNzaW9uIGV4cGVjdGVkJyk7XG4gICAgICBzdGF0ZS5jb25kaXRpb25hbExldmVsID0gbnVsbDtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgdmFyIGZhbHNlRXhwciA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7IC8vIE5vdGU6IGNoZWNrIGZvciBjb25kaXRpb25hbCBvcGVyYXRvciBhZ2FpbiwgcmlnaHQgYXNzb2NpYXRpdml0eVxuXG4gICAgICBub2RlID0gbmV3IENvbmRpdGlvbmFsTm9kZShjb25kaXRpb24sIHRydWVFeHByLCBmYWxzZUV4cHIpOyAvLyByZXN0b3JlIHRoZSBwcmV2aW91cyBjb25kaXRpb25hbCBsZXZlbFxuXG4gICAgICBzdGF0ZS5jb25kaXRpb25hbExldmVsID0gcHJldjtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbG9naWNhbCBvciwgJ3ggb3IgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9naWNhbE9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUxvZ2ljYWxYb3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnb3InKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ29yJywgJ29yJywgW25vZGUsIHBhcnNlTG9naWNhbFhvcihzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbG9naWNhbCBleGNsdXNpdmUgb3IsICd4IHhvciB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMb2dpY2FsWG9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUxvZ2ljYWxBbmQoc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAneG9yJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCd4b3InLCAneG9yJywgW25vZGUsIHBhcnNlTG9naWNhbEFuZChzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbG9naWNhbCBhbmQsICd4IGFuZCB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMb2dpY2FsQW5kKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJpdHdpc2VPcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdhbmQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ2FuZCcsICdhbmQnLCBbbm9kZSwgcGFyc2VCaXR3aXNlT3Ioc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGJpdHdpc2Ugb3IsICd4IHwgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQml0d2lzZU9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJpdHdpc2VYb3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnfCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnfCcsICdiaXRPcicsIFtub2RlLCBwYXJzZUJpdHdpc2VYb3Ioc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGJpdHdpc2UgZXhjbHVzaXZlIG9yICh4b3IpLCAneCBefCB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCaXR3aXNlWG9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJpdHdpc2VBbmQoc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnXnwnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ158JywgJ2JpdFhvcicsIFtub2RlLCBwYXJzZUJpdHdpc2VBbmQoc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGJpdHdpc2UgYW5kLCAneCAmIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJpdHdpc2VBbmQoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlUmVsYXRpb25hbChzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcmJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcmJywgJ2JpdEFuZCcsIFtub2RlLCBwYXJzZVJlbGF0aW9uYWwoc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgY2hhaW5lZCBjb25kaXRpb25hbCwgbGlrZSAnYSA+IGIgPj0gYydcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUmVsYXRpb25hbChzdGF0ZSkge1xuICAgIHZhciBwYXJhbXMgPSBbcGFyc2VTaGlmdChzdGF0ZSldO1xuICAgIHZhciBjb25kaXRpb25hbHMgPSBbXTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJz09JzogJ2VxdWFsJyxcbiAgICAgICchPSc6ICd1bmVxdWFsJyxcbiAgICAgICc8JzogJ3NtYWxsZXInLFxuICAgICAgJz4nOiAnbGFyZ2VyJyxcbiAgICAgICc8PSc6ICdzbWFsbGVyRXEnLFxuICAgICAgJz49JzogJ2xhcmdlckVxJ1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgdmFyIGNvbmQgPSB7XG4gICAgICAgIG5hbWU6IHN0YXRlLnRva2VuLFxuICAgICAgICBmbjogb3BlcmF0b3JzW3N0YXRlLnRva2VuXVxuICAgICAgfTtcbiAgICAgIGNvbmRpdGlvbmFscy5wdXNoKGNvbmQpO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMucHVzaChwYXJzZVNoaWZ0KHN0YXRlKSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBwYXJhbXNbMF07XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAyKSB7XG4gICAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZShjb25kaXRpb25hbHNbMF0ubmFtZSwgY29uZGl0aW9uYWxzWzBdLmZuLCBwYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKGNvbmRpdGlvbmFscy5tYXAoYyA9PiBjLmZuKSwgcGFyYW1zKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEJpdHdpc2UgbGVmdCBzaGlmdCwgYml0d2lzZSByaWdodCBhcml0aG1ldGljIHNoaWZ0LCBiaXR3aXNlIHJpZ2h0IGxvZ2ljYWwgc2hpZnRcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU2hpZnQoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VDb252ZXJzaW9uKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJzw8JzogJ2xlZnRTaGlmdCcsXG4gICAgICAnPj4nOiAncmlnaHRBcml0aFNoaWZ0JyxcbiAgICAgICc+Pj4nOiAncmlnaHRMb2dTaGlmdCdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlQ29udmVyc2lvbihzdGF0ZSldO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGNvbnZlcnNpb24gb3BlcmF0b3JzICd0bycgYW5kICdpbidcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQ29udmVyc2lvbihzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZVJhbmdlKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgdG86ICd0bycsXG4gICAgICBpbjogJ3RvJyAvLyBhbGlhcyBvZiAndG8nXG5cbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuXG4gICAgICBpZiAobmFtZSA9PT0gJ2luJyAmJiBzdGF0ZS50b2tlbiA9PT0gJycpIHtcbiAgICAgICAgLy8gZW5kIG9mIGV4cHJlc3Npb24gLT4gdGhpcyBpcyB0aGUgdW5pdCAnaW4nICgnaW5jaCcpXG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcqJywgJ211bHRpcGx5JywgW25vZGUsIG5ldyBTeW1ib2xOb2RlKCdpbicpXSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvcGVyYXRvciAnYSB0byBiJyBvciAnYSBpbiBiJ1xuICAgICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VSYW5nZShzdGF0ZSldO1xuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgcmFuZ2UsIFwic3RhcnQ6ZW5kXCIsIFwic3RhcnQ6c3RlcDplbmRcIiwgXCI6XCIsIFwic3RhcnQ6XCIsIFwiOmVuZFwiLCBldGNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUmFuZ2Uoc3RhdGUpIHtcbiAgICB2YXIgbm9kZTtcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc6Jykge1xuICAgICAgLy8gaW1wbGljaXQgc3RhcnQ9MSAob25lLWJhc2VkKVxuICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4cGxpY2l0IHN0YXJ0XG4gICAgICBub2RlID0gcGFyc2VBZGRTdWJ0cmFjdChzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnOicgJiYgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCAhPT0gc3RhdGUubmVzdGluZ0xldmVsKSB7XG4gICAgICAvLyB3ZSBpZ25vcmUgdGhlIHJhbmdlIG9wZXJhdG9yIHdoZW4gYSBjb25kaXRpb25hbCBvcGVyYXRvciBpcyBiZWluZyBwcm9jZXNzZWQgb24gdGhlIHNhbWUgbGV2ZWxcbiAgICAgIHBhcmFtcy5wdXNoKG5vZGUpOyAvLyBwYXJzZSBzdGVwIGFuZCBlbmRcblxuICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnOicgJiYgcGFyYW1zLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJyknIHx8IHN0YXRlLnRva2VuID09PSAnXScgfHwgc3RhdGUudG9rZW4gPT09ICcsJyB8fCBzdGF0ZS50b2tlbiA9PT0gJycpIHtcbiAgICAgICAgICAvLyBpbXBsaWNpdCBlbmRcbiAgICAgICAgICBwYXJhbXMucHVzaChuZXcgU3ltYm9sTm9kZSgnZW5kJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGV4cGxpY2l0IGVuZFxuICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQWRkU3VidHJhY3Qoc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAvLyBwYXJhbXMgPSBbc3RhcnQsIHN0ZXAsIGVuZF1cbiAgICAgICAgbm9kZSA9IG5ldyBSYW5nZU5vZGUocGFyYW1zWzBdLCBwYXJhbXNbMl0sIHBhcmFtc1sxXSk7IC8vIHN0YXJ0LCBlbmQsIHN0ZXBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGxlbmd0aCA9PT0gMlxuICAgICAgICAvLyBwYXJhbXMgPSBbc3RhcnQsIGVuZF1cbiAgICAgICAgbm9kZSA9IG5ldyBSYW5nZU5vZGUocGFyYW1zWzBdLCBwYXJhbXNbMV0pOyAvLyBzdGFydCwgZW5kXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGFkZCBvciBzdWJ0cmFjdFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VBZGRTdWJ0cmFjdChzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZU11bHRpcGx5RGl2aWRlKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJysnOiAnYWRkJyxcbiAgICAgICctJzogJ3N1YnRyYWN0J1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VNdWx0aXBseURpdmlkZShzdGF0ZSldO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIG11bHRpcGx5LCBkaXZpZGUsIG1vZHVsdXNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTXVsdGlwbHlEaXZpZGUoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbGFzdCwgbmFtZSwgZm47XG4gICAgbm9kZSA9IHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvbihzdGF0ZSk7XG4gICAgbGFzdCA9IG5vZGU7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICcqJzogJ211bHRpcGx5JyxcbiAgICAgICcuKic6ICdkb3RNdWx0aXBseScsXG4gICAgICAnLyc6ICdkaXZpZGUnLFxuICAgICAgJy4vJzogJ2RvdERpdmlkZScsXG4gICAgICAnJSc6ICdtb2QnLFxuICAgICAgbW9kOiAnbW9kJ1xuICAgIH07XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yc1xuICAgICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgbGFzdCA9IHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvbihzdGF0ZSk7XG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBbbm9kZSwgbGFzdF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24oc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbGFzdDtcbiAgICBub2RlID0gcGFyc2VSdWxlMihzdGF0ZSk7XG4gICAgbGFzdCA9IG5vZGU7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlbiA9PT0gJ2luJyAmJiBpc0NvbnN0YW50Tm9kZShub2RlKSB8fCBzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5OVU1CRVIgJiYgIWlzQ29uc3RhbnROb2RlKGxhc3QpICYmICghaXNPcGVyYXRvck5vZGUobGFzdCkgfHwgbGFzdC5vcCA9PT0gJyEnKSB8fCBzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgIC8vIHBhcnNlIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIHN5bWJvbDogICAgICBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICcyYScsICcoMiszKWEnLCAnYSBiJ1xuICAgICAgICAvLyBudW1iZXI6ICAgICAgaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAnKDIrMykyJ1xuICAgICAgICAvLyBwYXJlbnRoZXNpczogaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAnMigzKzQpJywgJygzKzQpKDErMiknXG4gICAgICAgIGxhc3QgPSBwYXJzZVJ1bGUyKHN0YXRlKTtcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJyonLCAnbXVsdGlwbHknLCBbbm9kZSwgbGFzdF0sIHRydWVcbiAgICAgICAgLyogaW1wbGljaXQgKi9cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBJbmZhbW91cyBcInJ1bGUgMlwiIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9pc3N1ZXMvNzkyI2lzc3VlY29tbWVudC0zNjEwNjUzNzBcbiAgICogRXhwbGljaXQgZGl2aXNpb24gZ2V0cyBoaWdoZXIgcHJlY2VkZW5jZSB0aGFuIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAqIHdoZW4gdGhlIGRpdmlzaW9uIG1hdGNoZXMgdGhpcyBwYXR0ZXJuOiBbbnVtYmVyXSAvIFtudW1iZXJdIFtzeW1ib2xdXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJ1bGUyKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZVVuYXJ5KHN0YXRlKTtcbiAgICB2YXIgbGFzdCA9IG5vZGU7XG4gICAgdmFyIHRva2VuU3RhdGVzID0gW107XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gTWF0Y2ggdGhlIFwibnVtYmVyIC9cIiBwYXJ0IG9mIHRoZSBwYXR0ZXJuIFwibnVtYmVyIC8gbnVtYmVyIHN5bWJvbFwiXG4gICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcvJyAmJiBpc0NvbnN0YW50Tm9kZShsYXN0KSkge1xuICAgICAgICAvLyBMb29rIGFoZWFkIHRvIHNlZSBpZiB0aGUgbmV4dCB0b2tlbiBpcyBhIG51bWJlclxuICAgICAgICB0b2tlblN0YXRlcy5wdXNoKF9leHRlbmRzKHt9LCBzdGF0ZSkpO1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTsgLy8gTWF0Y2ggdGhlIFwibnVtYmVyIC8gbnVtYmVyXCIgcGFydCBvZiB0aGUgcGF0dGVyblxuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5OVU1CRVIpIHtcbiAgICAgICAgICAvLyBMb29rIGFoZWFkIGFnYWluXG4gICAgICAgICAgdG9rZW5TdGF0ZXMucHVzaChfZXh0ZW5kcyh7fSwgc3RhdGUpKTtcbiAgICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTsgLy8gTWF0Y2ggdGhlIFwic3ltYm9sXCIgcGFydCBvZiB0aGUgcGF0dGVybiwgb3IgYSBsZWZ0IHBhcmVudGhlc2lzXG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgICAgIC8vIFdlJ3ZlIG1hdGNoZWQgdGhlIHBhdHRlcm4gXCJudW1iZXIgLyBudW1iZXIgc3ltYm9sXCIuXG4gICAgICAgICAgICAvLyBSZXdpbmQgb25jZSBhbmQgYnVpbGQgdGhlIFwibnVtYmVyIC8gbnVtYmVyXCIgbm9kZTsgdGhlIHN5bWJvbCB3aWxsIGJlIGNvbnN1bWVkIGxhdGVyXG4gICAgICAgICAgICBfZXh0ZW5kcyhzdGF0ZSwgdG9rZW5TdGF0ZXMucG9wKCkpO1xuXG4gICAgICAgICAgICB0b2tlblN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3QgPSBwYXJzZVVuYXJ5KHN0YXRlKTtcbiAgICAgICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcvJywgJ2RpdmlkZScsIFtub2RlLCBsYXN0XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vdCBhIG1hdGNoLCBzbyByZXdpbmRcbiAgICAgICAgICAgIHRva2VuU3RhdGVzLnBvcCgpO1xuXG4gICAgICAgICAgICBfZXh0ZW5kcyhzdGF0ZSwgdG9rZW5TdGF0ZXMucG9wKCkpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm90IGEgbWF0Y2gsIHNvIHJld2luZFxuICAgICAgICAgIF9leHRlbmRzKHN0YXRlLCB0b2tlblN0YXRlcy5wb3AoKSk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFVuYXJ5IHBsdXMgYW5kIG1pbnVzLCBhbmQgbG9naWNhbCBhbmQgYml0d2lzZSBub3RcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlVW5hcnkoc3RhdGUpIHtcbiAgICB2YXIgbmFtZSwgcGFyYW1zLCBmbjtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJy0nOiAndW5hcnlNaW51cycsXG4gICAgICAnKyc6ICd1bmFyeVBsdXMnLFxuICAgICAgJ34nOiAnYml0Tm90JyxcbiAgICAgIG5vdDogJ25vdCdcbiAgICB9O1xuXG4gICAgaWYgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBmbiA9IG9wZXJhdG9yc1tzdGF0ZS50b2tlbl07XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtwYXJzZVVuYXJ5KHN0YXRlKV07XG4gICAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VQb3coc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwb3dlclxuICAgKiBOb3RlOiBwb3dlciBvcGVyYXRvciBpcyByaWdodCBhc3NvY2lhdGl2ZVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VQb3coc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VMZWZ0SGFuZE9wZXJhdG9ycyhzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdeJyB8fCBzdGF0ZS50b2tlbiA9PT0gJy5eJykge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBuYW1lID09PSAnXicgPyAncG93JyA6ICdkb3RQb3cnO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VVbmFyeShzdGF0ZSldOyAvLyBHbyBiYWNrIHRvIHVuYXJ5LCB3ZSBjYW4gaGF2ZSAnMl4tMydcblxuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIExlZnQgaGFuZCBvcGVyYXRvcnM6IGZhY3RvcmlhbCB4ISwgY3RyYW5zcG9zZSB4J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMZWZ0SGFuZE9wZXJhdG9ycyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZUN1c3RvbU5vZGVzKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJyEnOiAnZmFjdG9yaWFsJyxcbiAgICAgICdcXCcnOiAnY3RyYW5zcG9zZSdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlXTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBjdXN0b20gbm9kZSBoYW5kbGVyLiBBIG5vZGUgaGFuZGxlciBjYW4gYmUgdXNlZCB0byBwcm9jZXNzXG4gICAqIG5vZGVzIGluIGEgY3VzdG9tIHdheSwgZm9yIGV4YW1wbGUgZm9yIGhhbmRsaW5nIGEgcGxvdC5cbiAgICpcbiAgICogQSBoYW5kbGVyIG11c3QgYmUgcGFzc2VkIGFzIHNlY29uZCBhcmd1bWVudCBvZiB0aGUgcGFyc2UgZnVuY3Rpb24uXG4gICAqIC0gbXVzdCBleHRlbmQgbWF0aC5Ob2RlXG4gICAqIC0gbXVzdCBjb250YWluIGEgZnVuY3Rpb24gX2NvbXBpbGUoZGVmczogT2JqZWN0KSA6IHN0cmluZ1xuICAgKiAtIG11c3QgY29udGFpbiBhIGZ1bmN0aW9uIGZpbmQoZmlsdGVyOiBPYmplY3QpIDogTm9kZVtdXG4gICAqIC0gbXVzdCBjb250YWluIGEgZnVuY3Rpb24gdG9TdHJpbmcoKSA6IHN0cmluZ1xuICAgKiAtIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCBjb250YWluaW5nIGFsbCBwYXJhbWV0ZXJzXG4gICAqXG4gICAqIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiAgICAgbm9kZXMgPSB7XG4gICAqICAgICAgICdwbG90JzogUGxvdEhhbmRsZXJcbiAgICogICAgIH1cbiAgICpcbiAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBoYW5kbGVyIGlzIGNhbGxlZCBhczpcbiAgICpcbiAgICogICAgIG5vZGUgPSBuZXcgUGxvdEhhbmRsZXIocGFyYW1zKVxuICAgKlxuICAgKiBUaGUgaGFuZGxlciB3aWxsIGJlIGludm9rZWQgd2hlbiBldmFsdWF0aW5nIGFuIGV4cHJlc3Npb24gbGlrZTpcbiAgICpcbiAgICogICAgIG5vZGUgPSBtYXRoLnBhcnNlKCdwbG90KHNpbih4KSwgeCknLCBub2RlcylcbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQ3VzdG9tTm9kZXMoc3RhdGUpIHtcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MICYmIGhhc093blByb3BlcnR5KHN0YXRlLmV4dHJhTm9kZXMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgdmFyIEN1c3RvbU5vZGUgPSBzdGF0ZS5leHRyYU5vZGVzW3N0YXRlLnRva2VuXTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gcGFyc2UgcGFyYW1ldGVyc1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICBwYXJhbXMgPSBbXTtcbiAgICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpOyAvLyBwYXJzZSBhIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzXG5cbiAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgKSBleHBlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICB9IC8vIGNyZWF0ZSBhIG5ldyBjdXN0b20gbm9kZVxuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVmFsaWRhdGVUeXBlc1xuXG5cbiAgICAgIHJldHVybiBuZXcgQ3VzdG9tTm9kZShwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVN5bWJvbChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIHN5bWJvbHM6IGZ1bmN0aW9ucywgdmFyaWFibGVzLCBjb25zdGFudHMsIHVuaXRzXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVN5bWJvbChzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5ERUxJTUlURVIgJiYgc3RhdGUudG9rZW4gaW4gTkFNRURfREVMSU1JVEVSUykge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoQ09OU1RBTlRTLCBuYW1lKSkge1xuICAgICAgICAvLyB0cnVlLCBmYWxzZSwgbnVsbCwgLi4uXG4gICAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKENPTlNUQU5UU1tuYW1lXSk7XG4gICAgICB9IGVsc2UgaWYgKE5VTUVSSUNfQ09OU1RBTlRTLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICAgIC8vIE5hTiwgSW5maW5pdHlcbiAgICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUobnVtZXJpYyhuYW1lLCAnbnVtYmVyJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5ldyBTeW1ib2xOb2RlKG5hbWUpO1xuICAgICAgfSAvLyBwYXJzZSBmdW5jdGlvbiBwYXJhbWV0ZXJzIGFuZCBtYXRyaXggaW5kZXhcblxuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgYWNjZXNzb3JzOlxuICAgKiAtIGZ1bmN0aW9uIGludm9jYXRpb24gaW4gcm91bmQgYnJhY2tldHMgKC4uLiksIGZvciBleGFtcGxlIHNxcnQoMilcbiAgICogLSBpbmRleCBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMgWy4uLl0sIGZvciBleGFtcGxlIEFbMiwzXVxuICAgKiAtIGRvdCBub3RhdGlvbiBmb3IgcHJvcGVydGllcywgbGlrZSBmb28uYmFyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgICAgTm9kZSBvbiB3aGljaCB0byBhcHBseSB0aGUgcGFyYW1ldGVycy4gSWYgdGhlcmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGFyZSBubyBwYXJhbWV0ZXJzIGluIHRoZSBleHByZXNzaW9uLCB0aGUgbm9kZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgaXRzZWxmIGlzIHJldHVybmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFt0eXBlc10gIEZpbHRlciB0aGUgdHlwZXMgb2Ygbm90YXRpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbiBiZSBbJygnLCAnWycsICcuJ11cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlLCB0eXBlcykge1xuICAgIHZhciBwYXJhbXM7XG5cbiAgICB3aGlsZSAoKHN0YXRlLnRva2VuID09PSAnKCcgfHwgc3RhdGUudG9rZW4gPT09ICdbJyB8fCBzdGF0ZS50b2tlbiA9PT0gJy4nKSAmJiAoIXR5cGVzIHx8IHR5cGVzLmluZGV4T2Yoc3RhdGUudG9rZW4pICE9PSAtMSkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgcGFyYW1zID0gW107XG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgIGlmIChpc1N5bWJvbE5vZGUobm9kZSkgfHwgaXNBY2Nlc3Nvck5vZGUobm9kZSkpIHtcbiAgICAgICAgICAvLyBmdW5jdGlvbiBpbnZvY2F0aW9uIGxpa2UgZm4oMiwgMykgb3Igb2JqLmZuKDIsIDMpXG4gICAgICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpOyAvLyBwYXJzZSBhIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzXG5cbiAgICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzICkgZXhwZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgIG5vZGUgPSBuZXcgRnVuY3Rpb25Ob2RlKG5vZGUsIHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAoMiszKSg0KzUpIG9yIHNxcnQoMikoMSsyKVxuICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGl0IGhlcmUgYnV0IGxldCBpdCBiZSBoYW5kbGVkIGJ5IHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvblxuICAgICAgICAgIC8vIHdpdGggY29ycmVjdCBwcmVjZWRlbmNlXG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG9rZW4gPT09ICdbJykge1xuICAgICAgICAvLyBpbmRleCBub3RhdGlvbiBsaWtlIHZhcmlhYmxlWzIsIDNdXG4gICAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTsgLy8gcGFyc2UgYSBsaXN0IHdpdGggcGFyYW1ldGVyc1xuXG4gICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzIF0gZXhwZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICBub2RlID0gbmV3IEFjY2Vzc29yTm9kZShub2RlLCBuZXcgSW5kZXhOb2RlKHBhcmFtcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZG90IG5vdGF0aW9uIGxpa2UgdmFyaWFibGUucHJvcFxuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSAhPT0gVE9LRU5UWVBFLlNZTUJPTCkge1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUHJvcGVydHkgbmFtZSBleHBlY3RlZCBhZnRlciBkb3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtcy5wdXNoKG5ldyBDb25zdGFudE5vZGUoc3RhdGUudG9rZW4pKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICB2YXIgZG90Tm90YXRpb24gPSB0cnVlO1xuICAgICAgICBub2RlID0gbmV3IEFjY2Vzc29yTm9kZShub2RlLCBuZXcgSW5kZXhOb2RlKHBhcmFtcywgZG90Tm90YXRpb24pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBkb3VibGUgcXVvdGVzIHN0cmluZy5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIHN0cjtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1wiJykge1xuICAgICAgc3RyID0gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7IC8vIGNyZWF0ZSBjb25zdGFudFxuXG4gICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShzdHIpOyAvLyBwYXJzZSBpbmRleCBwYXJhbWV0ZXJzXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmcoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBzdXJyb3VuZGVkIGJ5IGRvdWJsZSBxdW90ZXMgXCIuLi5cIlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSkge1xuICAgIHZhciBzdHIgPSAnJztcblxuICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycgJiYgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICdcIicpIHtcbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIC8vIGVzY2FwZSBjaGFyYWN0ZXIsIGltbWVkaWF0ZWx5IHByb2Nlc3MgdGhlIG5leHRcbiAgICAgICAgLy8gY2hhcmFjdGVyIHRvIHByZXZlbnQgc3RvcHBpbmcgYXQgYSBuZXh0ICdcXFwiJ1xuICAgICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICdcIicpIHtcbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIHN0cmluZyBcIiBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSgnXCInICsgc3RyICsgJ1wiJyk7IC8vIHVuZXNjYXBlIGVzY2FwZWQgY2hhcmFjdGVyc1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHNpbmdsZSBxdW90ZXMgc3RyaW5nLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmcoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgc3RyO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnXFwnJykge1xuICAgICAgc3RyID0gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7IC8vIGNyZWF0ZSBjb25zdGFudFxuXG4gICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShzdHIpOyAvLyBwYXJzZSBpbmRleCBwYXJhbWV0ZXJzXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VNYXRyaXgoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBzdXJyb3VuZGVkIGJ5IHNpbmdsZSBxdW90ZXMgJy4uLidcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnICYmIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnXFwnJykge1xuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnXFxcXCcpIHtcbiAgICAgICAgLy8gZXNjYXBlIGNoYXJhY3RlciwgaW1tZWRpYXRlbHkgcHJvY2VzcyB0aGUgbmV4dFxuICAgICAgICAvLyBjaGFyYWN0ZXIgdG8gcHJldmVudCBzdG9wcGluZyBhdCBhIG5leHQgJ1xcJydcbiAgICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXFwnJykge1xuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2Ygc3RyaW5nIFxcJyBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSgnXCInICsgc3RyICsgJ1wiJyk7IC8vIHVuZXNjYXBlIGVzY2FwZWQgY2hhcmFjdGVyc1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSB0aGUgbWF0cml4XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU1hdHJpeChzdGF0ZSkge1xuICAgIHZhciBhcnJheSwgcGFyYW1zLCByb3dzLCBjb2xzO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnWycpIHtcbiAgICAgIC8vIG1hdHJpeCBbLi4uXVxuICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYSBub24tZW1wdHkgbWF0cml4XG4gICAgICAgIHZhciByb3cgPSBwYXJzZVJvdyhzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnOycpIHtcbiAgICAgICAgICAvLyAyIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgcm93cyA9IDE7XG4gICAgICAgICAgcGFyYW1zID0gW3Jvd107IC8vIHRoZSByb3dzIG9mIHRoZSBtYXRyaXggYXJlIHNlcGFyYXRlZCBieSBkb3QtY29tbWEnc1xuXG4gICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnOycpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgcGFyYW1zW3Jvd3NdID0gcGFyc2VSb3coc3RhdGUpO1xuICAgICAgICAgICAgcm93cysrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBtYXRyaXggXSBleHBlY3RlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIGNoZWNrIGlmIHRoZSBudW1iZXIgb2YgY29sdW1ucyBtYXRjaGVzIGluIGFsbCByb3dzXG5cbiAgICAgICAgICBjb2xzID0gcGFyYW1zWzBdLml0ZW1zLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAodmFyIHIgPSAxOyByIDwgcm93czsgcisrKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1zW3JdLml0ZW1zLmxlbmd0aCAhPT0gY29scykge1xuICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihzdGF0ZSwgJ0NvbHVtbiBkaW1lbnNpb25zIG1pc21hdGNoICcgKyAnKCcgKyBwYXJhbXNbcl0uaXRlbXMubGVuZ3RoICsgJyAhPT0gJyArIGNvbHMgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGFycmF5ID0gbmV3IEFycmF5Tm9kZShwYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIDEgZGltZW5zaW9uYWwgdmVjdG9yXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIG1hdHJpeCBdIGV4cGVjdGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICBhcnJheSA9IHJvdztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhbiBlbXB0eSBtYXRyaXggXCJbIF1cIlxuICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgYXJyYXkgPSBuZXcgQXJyYXlOb2RlKFtdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBhcnJheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlT2JqZWN0KHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzaW5nbGUgY29tbWEtc2VwYXJhdGVkIHJvdyBmcm9tIGEgbWF0cml4LCBsaWtlICdhLCBiLCBjJ1xuICAgKiBAcmV0dXJuIHtBcnJheU5vZGV9IG5vZGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJvdyhzdGF0ZSkge1xuICAgIHZhciBwYXJhbXMgPSBbcGFyc2VBc3NpZ25tZW50KHN0YXRlKV07XG4gICAgdmFyIGxlbiA9IDE7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIHBhcnNlIGV4cHJlc3Npb25cblxuICAgICAgcGFyYW1zW2xlbl0gPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgbGVuKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUocGFyYW1zKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgYW4gb2JqZWN0LCBlbmNsb3NlZCBpbiBhbmdsZSBicmFja2V0c3suLi59LCBmb3IgZXhhbXBsZSB7dmFsdWU6IDJ9XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU9iamVjdChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ3snKSB7XG4gICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgIHZhciBrZXk7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgICBkbyB7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICd9Jykge1xuICAgICAgICAgIC8vIHBhcnNlIGtleVxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1wiJykge1xuICAgICAgICAgICAga2V5ID0gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1xcJycpIHtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLkRFTElNSVRFUiAmJiBzdGF0ZS50b2tlbiBpbiBOQU1FRF9ERUxJTUlURVJTKSB7XG4gICAgICAgICAgICBrZXkgPSBzdGF0ZS50b2tlbjtcbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdTeW1ib2wgb3Igc3RyaW5nIGV4cGVjdGVkIGFzIG9iamVjdCBrZXknKTtcbiAgICAgICAgICB9IC8vIHBhcnNlIGtleS92YWx1ZSBzZXBhcmF0b3JcblxuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnOicpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnQ29sb24gOiBleHBlY3RlZCBhZnRlciBvYmplY3Qga2V5Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBwYXJzZSBrZXlcblxuICAgICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cblxuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICd9Jykge1xuICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0NvbW1hICwgb3IgYnJhY2tldCB9IGV4cGVjdGVkIGFmdGVyIG9iamVjdCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICB2YXIgbm9kZSA9IG5ldyBPYmplY3ROb2RlKHByb3BlcnRpZXMpOyAvLyBwYXJzZSBpbmRleCBwYXJhbWV0ZXJzXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VOdW1iZXIoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBhIG51bWJlclxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RhdGUpIHtcbiAgICB2YXIgbnVtYmVyU3RyO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLk5VTUJFUikge1xuICAgICAgLy8gdGhpcyBpcyBhIG51bWJlclxuICAgICAgbnVtYmVyU3RyID0gc3RhdGUudG9rZW47XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZShudW1lcmljKG51bWJlclN0ciwgY29uZmlnLm51bWJlcikpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVBhcmVudGhlc2VzKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyZW50aGVzZXNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUGFyZW50aGVzZXMoc3RhdGUpIHtcbiAgICB2YXIgbm9kZTsgLy8gY2hlY2sgaWYgaXQgaXMgYSBwYXJlbnRoZXNpemVkIGV4cHJlc3Npb25cblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAvLyBwYXJlbnRoZXNlcyAoLi4uKVxuICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICBub2RlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTsgLy8gc3RhcnQgYWdhaW5cblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyApIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgUGFyZW50aGVzaXNOb2RlKG5vZGUpO1xuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUVuZChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEV2YWx1YXRlZCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIG5vdCB5ZXQgZW5kZWQgYnV0IGV4cGVjdGVkIHRvIGVuZFxuICAgKiBAcmV0dXJuIHtOb2RlfSByZXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUVuZChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJycpIHtcbiAgICAgIC8vIHN5bnRheCBlcnJvciBvciB1bmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uXG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1VuZXhwZWN0ZWQgZW5kIG9mIGV4cHJlc3Npb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdWYWx1ZSBleHBlY3RlZCcpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2hvcnRjdXQgZm9yIGdldHRpbmcgdGhlIGN1cnJlbnQgcm93IHZhbHVlIChvbmUgYmFzZWQpXG4gICAqIFJldHVybnMgdGhlIGxpbmUgb2YgdGhlIGN1cnJlbnRseSBoYW5kbGVkIGV4cHJlc3Npb25cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgLyogVE9ETzogaW1wbGVtZW50IGtlZXBpbmcgdHJhY2sgb24gdGhlIHJvdyBudW1iZXJcbiAgZnVuY3Rpb24gcm93ICgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gICovXG5cbiAgLyoqXG4gICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBjdXJyZW50IGNvbCB2YWx1ZSAob25lIGJhc2VkKVxuICAgKiBSZXR1cm5zIHRoZSBjb2x1bW4gKHBvc2l0aW9uKSB3aGVyZSB0aGUgbGFzdCBzdGF0ZS50b2tlbiBzdGFydHNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjb2woc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuaW5kZXggLSBzdGF0ZS50b2tlbi5sZW5ndGggKyAxO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZXJyb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAqIEByZXR1cm4ge1N5bnRheEVycm9yfSBpbnN0YW50aWF0ZWQgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICAgIHZhciBjID0gY29sKHN0YXRlKTtcbiAgICB2YXIgZXJyb3IgPSBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSArICcgKGNoYXIgJyArIGMgKyAnKScpO1xuICAgIGVycm9yLmNoYXIgPSBjO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGVycm9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtFcnJvcn0gaW5zdGFudGlhdGVkIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3JlYXRlRXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgYyA9IGNvbChzdGF0ZSk7XG4gICAgdmFyIGVycm9yID0gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UgKyAnIChjaGFyICcgKyBjICsgJyknKTtcbiAgICBlcnJvci5jaGFyID0gYztcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICByZXR1cm4gcGFyc2U7XG59KTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlQmlnTnVtYmVyQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZUJpZ051bWJlckNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVDb21wbGV4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBDb21wbGV4RGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVDb21wbGV4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZU1hdHJpeENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgTWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVNYXRyaXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURlbnNlTWF0cml4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUZyYWN0aW9uQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGcmFjdGlvbkRlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlRnJhY3Rpb25DbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVR5cGVkIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgdHlwZWREZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIEZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVUeXBlZFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcXVhbFNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRXF1YWxTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTcGFyc2VNYXRyaXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgTWF0cml4RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU51bWJlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG51bWJlckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU51bWJlclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnJhY3Rpb24gfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmcmFjdGlvbkRlcGVuZGVuY2llcyA9IHtcbiAgRnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGcmFjdGlvblxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTWF0cml4IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgTWF0cml4RGVwZW5kZW5jaWVzLFxuICBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVNYXRyaXhcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVW5hcnlNaW51cyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVVbmFyeU1pbnVzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFicyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGFic0RlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFic1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBZGRTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBZGRTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHplcm9zRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNaZXJvcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUm91bmQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciByb3VuZERlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHplcm9zRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVSb3VuZFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlWmVyb3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciB6ZXJvc0RlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVaZXJvc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNdWx0aXBseVNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTXVsdGlwbHlTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNpemUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzaXplRGVwZW5kZW5jaWVzID0ge1xuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTaXplXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZG90RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEb3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNdWx0aXBseSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG11bHRpcGx5RGVwZW5kZW5jaWVzID0ge1xuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRvdERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVNdWx0aXBseVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNvbmpEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbmouZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc2l6ZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEb3QgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkb3REZXBlbmRlbmNpZXMgPSB7XG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgY29uakRlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHNpemVEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEb3Rcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uaiB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGNvbmpEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDb25qXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3VidHJhY3QgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzdWJ0cmFjdERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVN1YnRyYWN0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTGFyZ2VyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbGFyZ2VyRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTGFyZ2VyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSWRlbnRpdHkgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBpZGVudGl0eURlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJZGVudGl0eVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYmlnbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdudW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbi5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU51bWVyaWMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBudW1lcmljRGVwZW5kZW5jaWVzID0ge1xuICBiaWdudW1iZXJEZXBlbmRlbmNpZXMsXG4gIGZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBudW1iZXJEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU51bWVyaWNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQmlnbnVtYmVyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgYmlnbnVtYmVyRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVCaWdudW1iZXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG51bWVyaWNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWVyaWMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGl2aWRlU2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICBudW1lcmljRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGl2aWRlU2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzZXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzdWJzZXREZXBlbmRlbmNpZXMgPSB7XG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVN1YnNldFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWJzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZm9ybWF0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGb3JtYXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlzTnVtZXJpY0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSXNOdW1lcmljLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBwb3dEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1Bvdy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcm91bmREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJ0cmFjdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVuaXRDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFVuaXREZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgRnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIGFic0RlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsRGVwZW5kZW5jaWVzLFxuICBmaXhEZXBlbmRlbmNpZXMsXG4gIGZvcm1hdERlcGVuZGVuY2llcyxcbiAgaXNOdW1lcmljRGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgbnVtYmVyRGVwZW5kZW5jaWVzLFxuICBwb3dEZXBlbmRlbmNpZXMsXG4gIHJvdW5kRGVwZW5kZW5jaWVzLFxuICBzdWJ0cmFjdERlcGVuZGVuY2llcyxcbiAgY3JlYXRlVW5pdENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcXVhbCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGVxdWFsRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUVxdWFsXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNlaWxEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NlaWwuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZsb29yRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGbG9vci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRml4IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZml4RGVwZW5kZW5jaWVzID0ge1xuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBjZWlsRGVwZW5kZW5jaWVzLFxuICBmbG9vckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRml4XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByb3VuZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2VpbCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGNlaWxEZXBlbmRlbmNpZXMgPSB7XG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHJvdW5kRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ2VpbFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcm91bmREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZsb29yIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZmxvb3JEZXBlbmRlbmNpZXMgPSB7XG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHJvdW5kRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRmxvb3Jcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRm9ybWF0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZm9ybWF0RGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRm9ybWF0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUlzTnVtZXJpYyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGlzTnVtZXJpY0RlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUlzTnVtZXJpY1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlkZW50aXR5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJZGVudGl0eS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUG93IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgcG93RGVwZW5kZW5jaWVzID0ge1xuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBmcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgaWRlbnRpdHlEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIG51bWJlckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVBvd1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZU5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IFVuaXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuaXRDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIFVuaXREZXBlbmRlbmNpZXMsXG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVN5bWJvbE5vZGVcbn07IiwiaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgdG9TeW1ib2wgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG52YXIgbmFtZSA9ICdTeW1ib2xOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ21hdGgnLCAnP1VuaXQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVTeW1ib2xOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbWF0aCxcbiAgICBVbml0LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgc29tZSBuYW1lIGlzIGEgdmFsdWVsZXNzIHVuaXQgbGlrZSBcImluY2hcIi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGlzVmFsdWVsZXNzVW5pdChuYW1lKSB7XG4gICAgcmV0dXJuIFVuaXQgPyBVbml0LmlzVmFsdWVsZXNzVW5pdChuYW1lKSA6IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgU3ltYm9sTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQSBzeW1ib2wgbm9kZSBjYW4gaG9sZCBhbmQgcmVzb2x2ZSBhIHN5bWJvbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG5cblxuICBmdW5jdGlvbiBTeW1ib2xOb2RlKG5hbWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3ltYm9sTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm5hbWVcIicpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gIH1cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLnR5cGUgPSAnU3ltYm9sTm9kZSc7XG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLmlzU3ltYm9sTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIG5hbWUgPSB0aGlzLm5hbWU7XG5cbiAgICBpZiAoYXJnTmFtZXNbbmFtZV0gPT09IHRydWUpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBGdW5jdGlvbkFzc2lnbm1lbnQgYXJndW1lbnRcbiAgICAgIC8vIChsaWtlIGFuIHggd2hlbiBpbnNpZGUgdGhlIGV4cHJlc3Npb24gb2YgYSBmdW5jdGlvbiBhc3NpZ25tZW50IGBmKHgpID0gLi4uYClcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbbmFtZV07XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobmFtZSBpbiBtYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lKSA6IGdldFNhZmVQcm9wZXJ0eShtYXRoLCBuYW1lKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpc1VuaXQgPSBpc1ZhbHVlbGVzc1VuaXQobmFtZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lKSA6IGlzVW5pdCA/IG5ldyBVbml0KG51bGwsIG5hbWUpIDogdW5kZWYobmFtZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7Ly8gbm90aGluZyB0byBkbywgd2UgZG9uJ3QgaGF2ZSBjaGlsZHNcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBTeW1ib2xOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7U3ltYm9sTm9kZX0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciAnVW5kZWZpbmVkIHN5bWJvbCB7bmFtZX0nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gdW5kZWYobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIHN5bWJvbCAnICsgbmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7U3ltYm9sTm9kZX1cbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFN5bWJvbE5vZGUodGhpcy5uYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgbmFtZSA9IGVzY2FwZSh0aGlzLm5hbWUpO1xuXG4gICAgaWYgKG5hbWUgPT09ICd0cnVlJyB8fCBuYW1lID09PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1ib29sZWFuXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnaScpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLWltYWdpbmFyeS1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdJbmZpbml0eScpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLWluZmluaXR5LXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ05hTicpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLW5hbi1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdudWxsJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtbnVsbC1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC11bmRlZmluZWQtc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdTeW1ib2xOb2RlJyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFN5bWJvbE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlN5bWJvbE5vZGVcIiwgbmFtZTogXCJ4XCJ9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7U3ltYm9sTm9kZX1cbiAgICovXG5cblxuICBTeW1ib2xOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFN5bWJvbE5vZGUoanNvbi5uYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpc1VuaXQgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgbWF0aFt0aGlzLm5hbWVdID09PSAndW5kZWZpbmVkJyAmJiBpc1ZhbHVlbGVzc1VuaXQodGhpcy5uYW1lKSkge1xuICAgICAgaXNVbml0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3ltYm9sID0gdG9TeW1ib2wodGhpcy5uYW1lLCBpc1VuaXQpO1xuXG4gICAgaWYgKHN5bWJvbFswXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAvLyBubyBzcGFjZSBuZWVkZWQgaWYgdGhlIHN5bWJvbCBzdGFydHMgd2l0aCAnXFwnXG4gICAgICByZXR1cm4gc3ltYm9sO1xuICAgIH0gLy8gdGhlIHNwYWNlIHByZXZlbnRzIHN5bWJvbHMgZnJvbSBicmVha2luZyBzdHVmZiBsaWtlICdcXGNkb3QnIGlmIGl0J3Mgd3JpdHRlbiByaWdodCBiZWZvcmUgdGhlIHN5bWJvbFxuXG5cbiAgICByZXR1cm4gJyAnICsgc3ltYm9sO1xuICB9O1xuXG4gIHJldHVybiBTeW1ib2xOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBwYXJzZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUGFyc2UuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXZhbHVhdGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBldmFsdWF0ZURlcGVuZGVuY2llcyA9IHtcbiAgcGFyc2VEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVFdmFsdWF0ZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBY2Nlc3Nvck5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEFycmF5Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQXJyYXlOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEJsb2NrTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmxvY2tOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbmRpdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb25zdGFudE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnVuY3Rpb25Ob2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBJbmRleE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0luZGV4Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgT2JqZWN0Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzT2JqZWN0Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNPcGVyYXRvck5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUGFyZW50aGVzaXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSYW5nZU5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JhbmdlTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JlbGF0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTeW1ib2xOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1lcmljRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVBhcnNlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgcGFyc2VEZXBlbmRlbmNpZXMgPSB7XG4gIEFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyxcbiAgQXJyYXlOb2RlRGVwZW5kZW5jaWVzLFxuICBBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyxcbiAgQmxvY2tOb2RlRGVwZW5kZW5jaWVzLFxuICBDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMsXG4gIENvbnN0YW50Tm9kZURlcGVuZGVuY2llcyxcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyxcbiAgRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzLFxuICBJbmRleE5vZGVEZXBlbmRlbmNpZXMsXG4gIE9iamVjdE5vZGVEZXBlbmRlbmNpZXMsXG4gIE9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyxcbiAgUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzLFxuICBSYW5nZU5vZGVEZXBlbmRlbmNpZXMsXG4gIFJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzLFxuICBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzLFxuICBudW1lcmljRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlUGFyc2Vcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnNldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBY2Nlc3Nvck5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIHN1YnNldERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQWNjZXNzb3JOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBcnJheU5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBBcnJheU5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFycmF5Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnNldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBc3NpZ25tZW50Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIHN1YnNldERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQXNzaWdubWVudE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJlc3VsdFNldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmVzdWx0U2V0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCbG9ja05vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBCbG9ja05vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIFJlc3VsdFNldERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQmxvY2tOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVSZXN1bHRTZXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSZXN1bHRTZXREZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZVJlc3VsdFNldFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uZGl0aW9uYWxOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDb25kaXRpb25hbE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNvbnN0YW50Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIENvbnN0YW50Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ29uc3RhbnROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3ltYm9sTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnVuY3Rpb25Ob2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGdW5jdGlvbk5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJhbmdlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSYW5nZUNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzaXplRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTaXplLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbmRleE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBJbmRleE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIFJhbmdlRGVwZW5kZW5jaWVzLFxuICBzaXplRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJbmRleE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZVJhbmdlQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSYW5nZURlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlUmFuZ2VDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT2JqZWN0Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE9iamVjdE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU9iamVjdE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlT3BlcmF0b3JOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQYXJlbnRoZXNpc05vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBQYXJlbnRoZXNpc05vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVBhcmVudGhlc2lzTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUmFuZ2VOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmFuZ2VOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVSYW5nZU5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJlbGF0aW9uYWxOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVJlbGF0aW9uYWxOb2RlXG59OyIsImltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2V2YWx1YXRlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ3BhcnNlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUV2YWx1YXRlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgcGFyc2VcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlIGFuIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIE5vdGUgdGhlIGV2YWx1YXRpbmcgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIG1heSBpbnZvbHZlIHNlY3VyaXR5IHJpc2tzLFxuICAgKiBzZWUgW2h0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWxdKGh0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWwpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKGV4cHIpXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKGV4cHIsIHNjb3BlKVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSlcbiAgICogICAgIG1hdGguZXZhbHVhdGUoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0sIHNjb3BlKVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnKDIrMykvNCcpICAgICAgICAgICAgICAgIC8vIDEuMjVcbiAgICogICAgIG1hdGguZXZhbHVhdGUoJ3NxcnQoM14yICsgNF4yKScpICAgICAgICAvLyA1XG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCdzcXJ0KC00KScpICAgICAgICAgICAgICAgLy8gMmlcbiAgICogICAgIG1hdGguZXZhbHVhdGUoWydhPTMnLCAnYj00JywgJ2EqYiddKSAgICAvLyBbMywgNCwgMTJdXG4gICAqXG4gICAqICAgICBsZXQgc2NvcGUgPSB7YTozLCBiOjR9XG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCdhICogYicsIHNjb3BlKSAgICAgICAgICAgLy8gMTJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHBhcnNlLCBjb21waWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBNYXRyaXh9IGV4cHIgICBUaGUgZXhwcmVzc2lvbiB0byBiZSBldmFsdWF0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtzY29wZV0gICAgICAgICAgICAgICAgICAgIFNjb3BlIHRvIHJlYWQvd3JpdGUgdmFyaWFibGVzXG4gICAqIEByZXR1cm4geyp9IFRoZSByZXN1bHQgb2YgdGhlIGV4cHJlc3Npb25cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGV4cHIpIHtcbiAgICAgIHZhciBzY29wZSA9IHt9O1xuICAgICAgcmV0dXJuIHBhcnNlKGV4cHIpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdPYmplY3QoZXhwciwgc2NvcGUpIHtcbiAgICAgIHJldHVybiBwYXJzZShleHByKS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoZXhwcikge1xuICAgICAgdmFyIHNjb3BlID0ge307XG4gICAgICByZXR1cm4gZGVlcE1hcChleHByLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudHJ5KS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIE9iamVjdCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4T2JqZWN0KGV4cHIsIHNjb3BlKSB7XG4gICAgICByZXR1cm4gZGVlcE1hcChleHByLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudHJ5KS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pOyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpbnZEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ludi5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEaXZpZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkaXZpZGVEZXBlbmRlbmNpZXMgPSB7XG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGludkRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURpdmlkZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYWJzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlkZW50aXR5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJZGVudGl0eS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbnYgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBpbnZEZXBlbmRlbmNpZXMgPSB7XG4gIGFic0RlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkZXREZXBlbmRlbmNpZXMsXG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgaWRlbnRpdHlEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJbnZcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGx1cERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTHVwLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJ0cmFjdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGV0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZGV0RGVwZW5kZW5jaWVzID0ge1xuICBsdXBEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIHN1YnRyYWN0RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGV0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWJzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBsYXJnZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0xhcmdlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3VidHJhY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUx1cCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGx1cERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIFNwYURlcGVuZGVuY2llcyxcbiAgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBhYnNEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbGFyZ2VyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICBzdWJ0cmFjdERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUx1cFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRmlib25hY2NpSGVhcERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRmlib25hY2NpSGVhcENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTcGFDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFNwYURlcGVuZGVuY2llcyA9IHtcbiAgRmlib25hY2NpSGVhcERlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3BhQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGxhcmdlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzbWFsbGVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTbWFsbGVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzID0ge1xuICBsYXJnZXJEZXBlbmRlbmNpZXMsXG4gIHNtYWxsZXJEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNtYWxsZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzbWFsbGVyRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU21hbGxlclxufTsiLCJpbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdsdXAnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2FicycsICdhZGRTY2FsYXInLCAnZGl2aWRlU2NhbGFyJywgJ211bHRpcGx5U2NhbGFyJywgJ3N1YnRyYWN0JywgJ2xhcmdlcicsICdlcXVhbFNjYWxhcicsICd1bmFyeU1pbnVzJywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCcsICdTcGEnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTHVwID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGFicyxcbiAgICBhZGRTY2FsYXIsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIHN1YnRyYWN0LFxuICAgIGxhcmdlcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICB1bmFyeU1pbnVzLFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeCxcbiAgICBTcGFcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgTWF0cml4IExVIGRlY29tcG9zaXRpb24gd2l0aCBwYXJ0aWFsIHBpdm90aW5nLiBNYXRyaXggYEFgIGlzIGRlY29tcG9zZWQgaW4gdHdvIG1hdHJpY2VzIChgTGAsIGBVYCkgYW5kIGFcbiAgICogcm93IHBlcm11dGF0aW9uIHZlY3RvciBgcGAgd2hlcmUgYEFbcCw6XSA9IEwgKiBVYFxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubHVwKEEpXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgIGNvbnN0IG0gPSBbWzIsIDFdLCBbMSwgNF1dXG4gICAqICAgIGNvbnN0IHIgPSBtYXRoLmx1cChtKVxuICAgKiAgICAvLyByID0ge1xuICAgKiAgICAvLyAgIEw6IFtbMSwgMF0sIFswLjUsIDFdXSxcbiAgICogICAgLy8gICBVOiBbWzIsIDFdLCBbMCwgMy41XV0sXG4gICAqICAgIC8vICAgUDogWzAsIDFdXG4gICAqICAgIC8vIH1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHNsdSwgbHNvbHZlLCBsdXNvbHZlLCB1c29sdmVcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXggfCBBcnJheX0gQSAgICBBIHR3byBkaW1lbnNpb25hbCBtYXRyaXggb3IgYXJyYXkgZm9yIHdoaWNoIHRvIGdldCB0aGUgTFVQIGRlY29tcG9zaXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge3tMOiBBcnJheSB8IE1hdHJpeCwgVTogQXJyYXkgfCBNYXRyaXgsIFA6IEFycmF5LjxudW1iZXI+fX0gVGhlIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4LCB0aGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXggYW5kIHRoZSBwZXJtdXRhdGlvbiBtYXRyaXguXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIERlbnNlTWF0cml4OiBmdW5jdGlvbiBEZW5zZU1hdHJpeChtKSB7XG4gICAgICByZXR1cm4gX2RlbnNlTFVQKG0pO1xuICAgIH0sXG4gICAgU3BhcnNlTWF0cml4OiBmdW5jdGlvbiBTcGFyc2VNYXRyaXgobSkge1xuICAgICAgcmV0dXJuIF9zcGFyc2VMVVAobSk7XG4gICAgfSxcbiAgICBBcnJheTogZnVuY3Rpb24gQXJyYXkoYSkge1xuICAgICAgLy8gY3JlYXRlIGRlbnNlIG1hdHJpeCBmcm9tIGFycmF5XG4gICAgICB2YXIgbSA9IG1hdHJpeChhKTsgLy8gbHVwLCB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG5cbiAgICAgIHZhciByID0gX2RlbnNlTFVQKG0pOyAvLyByZXN1bHRcblxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBMOiByLkwudmFsdWVPZigpLFxuICAgICAgICBVOiByLlUudmFsdWVPZigpLFxuICAgICAgICBwOiByLnBcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBfZGVuc2VMVVAobSkge1xuICAgIC8vIHJvd3MgJiBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSBtLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gbS5fc2l6ZVsxXTsgLy8gbWluaW11bSByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MsIGNvbHVtbnMpOyAvLyBtYXRyaXggYXJyYXksIGNsb25lIG9yaWdpbmFsIGRhdGFcblxuICAgIHZhciBkYXRhID0gY2xvbmUobS5fZGF0YSk7IC8vIGwgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGxkYXRhID0gW107XG4gICAgdmFyIGxzaXplID0gW3Jvd3MsIG5dOyAvLyB1IG1hdHJpeCBhcnJheXNcblxuICAgIHZhciB1ZGF0YSA9IFtdO1xuICAgIHZhciB1c2l6ZSA9IFtuLCBjb2x1bW5zXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGs7IC8vIHBlcm11dGF0aW9uIHZlY3RvclxuXG4gICAgdmFyIHAgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIHBbaV0gPSBpO1xuICAgIH0gLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHNraXAgZmlyc3QgY29sdW1uIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgLy8gbG9vcCByb3dzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyBtaW4gaSxqXG4gICAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluKGksIGopOyAvLyB2W2ksIGpdXG5cbiAgICAgICAgICB2YXIgcyA9IDA7IC8vIGxvb3AgdXAgdG8gbWluXG5cbiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbWluOyBrKyspIHtcbiAgICAgICAgICAgIC8vIHMgPSBsW2ksIGtdIC0gZGF0YVtrLCBqXVxuICAgICAgICAgICAgcyA9IGFkZFNjYWxhcihzLCBtdWx0aXBseVNjYWxhcihkYXRhW2ldW2tdLCBkYXRhW2tdW2pdKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtpXVtqXSA9IHN1YnRyYWN0KGRhdGFbaV1bal0sIHMpO1xuICAgICAgICB9XG4gICAgICB9IC8vIHJvdyB3aXRoIGxhcmdlciB2YWx1ZSBpbiBjdmVjdG9yLCByb3cgPj0galxuXG5cbiAgICAgIHZhciBwaSA9IGo7XG4gICAgICB2YXIgcGFic3YgPSAwO1xuICAgICAgdmFyIHZqaiA9IDA7IC8vIGxvb3Agcm93c1xuXG4gICAgICBmb3IgKGkgPSBqOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGRhdGEgQCBpLCBqXG4gICAgICAgIHZhciB2ID0gZGF0YVtpXVtqXTsgLy8gYWJzb2x1dGUgdmFsdWVcblxuICAgICAgICB2YXIgYWJzdiA9IGFicyh2KTsgLy8gdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHBpdm90ZSB2YWx1ZVxuXG4gICAgICAgIGlmIChsYXJnZXIoYWJzdiwgcGFic3YpKSB7XG4gICAgICAgICAgLy8gc3RvcmUgcm93XG4gICAgICAgICAgcGkgPSBpOyAvLyB1cGRhdGUgbWF4IHZhbHVlXG5cbiAgICAgICAgICBwYWJzdiA9IGFic3Y7IC8vIHZhbHVlIEAgW2osIGpdXG5cbiAgICAgICAgICB2amogPSB2O1xuICAgICAgICB9XG4gICAgICB9IC8vIHN3YXAgcm93cyAoaiA8LT4gcGkpXG5cblxuICAgICAgaWYgKGogIT09IHBpKSB7XG4gICAgICAgIC8vIHN3YXAgdmFsdWVzIGogPC0+IHBpIGluIHBcbiAgICAgICAgcFtqXSA9IFtwW3BpXSwgcFtwaV0gPSBwW2pdXVswXTsgLy8gc3dhcCBqIDwtPiBwaSBpbiBkYXRhXG5cbiAgICAgICAgRGVuc2VNYXRyaXguX3N3YXBSb3dzKGosIHBpLCBkYXRhKTtcbiAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGlzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgIC8vIGxvb3Agcm93cyAobG93ZXIgdHJpYW5ndWxhciBtYXRyaXgpXG4gICAgICAgIGZvciAoaSA9IGogKyAxOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gdmFsdWUgQCBpLCBqXG4gICAgICAgICAgdmFyIHZpaiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgICBpZiAoIWVxdWFsU2NhbGFyKHZpaiwgMCkpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBkYXRhXG4gICAgICAgICAgICBkYXRhW2ldW2pdID0gZGl2aWRlU2NhbGFyKGRhdGFbaV1bal0sIHZqaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gbG9vcCByb3dzXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgcm93IGluIGFycmF5c1xuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIFVcbiAgICAgICAgICAgIHVkYXRhW2ldID0gW107XG4gICAgICAgICAgfSAvLyBMXG5cblxuICAgICAgICAgIGxkYXRhW2ldID0gW107XG4gICAgICAgIH0gLy8gY2hlY2sgd2UgYXJlIGluIHRoZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgaWYgKGkgPCBqKSB7XG4gICAgICAgICAgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgICAgLy8gVVxuICAgICAgICAgICAgdWRhdGFbaV1bal0gPSBkYXRhW2ldW2pdO1xuICAgICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGV4aXN0cyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgICAgIC8vIExcbiAgICAgICAgICAgIGxkYXRhW2ldW2pdID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBkaWFnb25hbCB2YWx1ZVxuXG5cbiAgICAgICAgaWYgKGkgPT09IGopIHtcbiAgICAgICAgICAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyBVXG4gICAgICAgICAgICB1ZGF0YVtpXVtqXSA9IGRhdGFbaV1bal07XG4gICAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gZXhpc3RzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAgICAgLy8gTFxuICAgICAgICAgICAgbGRhdGFbaV1bal0gPSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgIC8vIFVcbiAgICAgICAgICB1ZGF0YVtpXVtqXSA9IDA7XG4gICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGV4aXN0cyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgICAgLy8gTFxuICAgICAgICAgIGxkYXRhW2ldW2pdID0gZGF0YVtpXVtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gbCBtYXRyaXhcblxuXG4gICAgdmFyIGwgPSBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogbGRhdGEsXG4gICAgICBzaXplOiBsc2l6ZVxuICAgIH0pOyAvLyB1IG1hdHJpeFxuXG4gICAgdmFyIHUgPSBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogdWRhdGEsXG4gICAgICBzaXplOiB1c2l6ZVxuICAgIH0pOyAvLyBwIHZlY3RvclxuXG4gICAgdmFyIHB2ID0gW107XG5cbiAgICBmb3IgKGkgPSAwLCBuID0gcC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHB2W3BbaV1dID0gaTtcbiAgICB9IC8vIHJldHVybiBtYXRyaWNlc1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgTDogbCxcbiAgICAgIFU6IHUsXG4gICAgICBwOiBwdixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdMOiAnICsgdGhpcy5MLnRvU3RyaW5nKCkgKyAnXFxuVTogJyArIHRoaXMuVS50b1N0cmluZygpICsgJ1xcblA6ICcgKyB0aGlzLnA7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zcGFyc2VMVVAobSkge1xuICAgIC8vIHJvd3MgJiBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSBtLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gbS5fc2l6ZVsxXTsgLy8gbWluaW11bSByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MsIGNvbHVtbnMpOyAvLyBtYXRyaXggYXJyYXlzICh3aWxsIG5vdCBiZSBtb2RpZmllZCwgdGhhbmtzIHRvIHBlcm11dGF0aW9uIHZlY3RvcilcblxuICAgIHZhciB2YWx1ZXMgPSBtLl92YWx1ZXM7XG4gICAgdmFyIGluZGV4ID0gbS5faW5kZXg7XG4gICAgdmFyIHB0ciA9IG0uX3B0cjsgLy8gbCBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgbHZhbHVlcyA9IFtdO1xuICAgIHZhciBsaW5kZXggPSBbXTtcbiAgICB2YXIgbHB0ciA9IFtdO1xuICAgIHZhciBsc2l6ZSA9IFtyb3dzLCBuXTsgLy8gdSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgdXZhbHVlcyA9IFtdO1xuICAgIHZhciB1aW5kZXggPSBbXTtcbiAgICB2YXIgdXB0ciA9IFtdO1xuICAgIHZhciB1c2l6ZSA9IFtuLCBjb2x1bW5zXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGs7IC8vIHBlcm11dGF0aW9uIHZlY3RvcnMsIChjdXJyZW50IGluZGV4IC0+IG9yaWdpbmFsIGluZGV4KSBhbmQgKG9yaWdpbmFsIGluZGV4IC0+IGN1cnJlbnQgaW5kZXgpXG5cbiAgICB2YXIgcHZDbyA9IFtdO1xuICAgIHZhciBwdk9jID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBwdkNvW2ldID0gaTtcbiAgICAgIHB2T2NbaV0gPSBpO1xuICAgIH0gLy8gc3dhcCBpbmRpY2VzIGluIHBlcm11dGF0aW9uIHZlY3RvcnMgKGNvbmRpdGlvbiB4IDwgeSkhXG5cblxuICAgIHZhciBzd2FwSW5kZWNlcyA9IGZ1bmN0aW9uIHN3YXBJbmRlY2VzKHgsIHkpIHtcbiAgICAgIC8vIGZpbmQgcHYgaW5kZWNlcyBnZXR0aW5nIGRhdGEgZnJvbSB4IGFuZCB5XG4gICAgICB2YXIga3ggPSBwdk9jW3hdO1xuICAgICAgdmFyIGt5ID0gcHZPY1t5XTsgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvciBjdXJyZW50IC0+IG9yaWdpbmFsXG5cbiAgICAgIHB2Q29ba3hdID0geTtcbiAgICAgIHB2Q29ba3ldID0geDsgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvciBvcmlnaW5hbCAtPiBjdXJyZW50XG5cbiAgICAgIHB2T2NbeF0gPSBreTtcbiAgICAgIHB2T2NbeV0gPSBreDtcbiAgICB9OyAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgICAvLyBzcGFyc2UgYWNjdW11bGF0b3JcbiAgICAgIHZhciBzcGEgPSBuZXcgU3BhKCk7IC8vIGNoZWNrIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4IGhhcyBhIHZhbHVlIEAgY29sdW1uIGpcblxuICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgICAgbHB0ci5wdXNoKGx2YWx1ZXMubGVuZ3RoKTsgLy8gZmlyc3QgdmFsdWUgaW4gaiBjb2x1bW4gZm9yIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cbiAgICAgICAgbHZhbHVlcy5wdXNoKDEpO1xuICAgICAgICBsaW5kZXgucHVzaChqKTtcbiAgICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICAgIHVwdHIucHVzaCh1dmFsdWVzLmxlbmd0aCk7IC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cblxuICAgICAgdmFyIGswID0gcHRyW2pdO1xuICAgICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gY29weSBjb2x1bW4gaiBpbnRvIHNwYXJzZSBhY2N1bXVsYXRvclxuXG4gICAgICBmb3IgKGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBpbmRleFtrXTsgLy8gY29weSBjb2x1bW4gdmFsdWVzIGludG8gc3BhcnNlIGFjY3VtdWxhdG9yICh1c2UgcGVybXV0YXRpb24gdmVjdG9yKVxuXG4gICAgICAgIHNwYS5zZXQocHZDb1tpXSwgdmFsdWVzW2tdKTtcbiAgICAgIH0gLy8gc2tpcCBmaXJzdCBjb2x1bW4gaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgLy8gbG9vcCByb3dzIGluIGNvbHVtbiBqIChhYm92ZSBkaWFnb25hbClcbiAgICAgICAgc3BhLmZvckVhY2goMCwgaiAtIDEsIGZ1bmN0aW9uIChrLCB2a2opIHtcbiAgICAgICAgICAvLyBsb29wIHJvd3MgaW4gY29sdW1uIGsgKEwpXG4gICAgICAgICAgU3BhcnNlTWF0cml4Ll9mb3JFYWNoUm93KGssIGx2YWx1ZXMsIGxpbmRleCwgbHB0ciwgZnVuY3Rpb24gKGksIHZpaykge1xuICAgICAgICAgICAgLy8gY2hlY2sgcm93IGlzIGJlbG93IGtcbiAgICAgICAgICAgIGlmIChpID4gaykge1xuICAgICAgICAgICAgICAvLyB1cGRhdGUgc3BhIHZhbHVlXG4gICAgICAgICAgICAgIHNwYS5hY2N1bXVsYXRlKGksIHVuYXJ5TWludXMobXVsdGlwbHlTY2FsYXIodmlrLCB2a2opKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyByb3cgd2l0aCBsYXJnZXIgdmFsdWUgaW4gc3BhLCByb3cgPj0galxuXG5cbiAgICAgIHZhciBwaSA9IGo7XG4gICAgICB2YXIgdmpqID0gc3BhLmdldChqKTtcbiAgICAgIHZhciBwYWJzdiA9IGFicyh2amopOyAvLyBsb29wIHZhbHVlcyBpbiBzcGEgKG9yZGVyIGJ5IHJvdywgYmVsb3cgZGlhZ29uYWwpXG5cbiAgICAgIHNwYS5mb3JFYWNoKGogKyAxLCByb3dzIC0gMSwgZnVuY3Rpb24gKHgsIHYpIHtcbiAgICAgICAgLy8gYWJzb2x1dGUgdmFsdWVcbiAgICAgICAgdmFyIGFic3YgPSBhYnModik7IC8vIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBwaXZvdGUgdmFsdWVcblxuICAgICAgICBpZiAobGFyZ2VyKGFic3YsIHBhYnN2KSkge1xuICAgICAgICAgIC8vIHN0b3JlIHJvd1xuICAgICAgICAgIHBpID0geDsgLy8gdXBkYXRlIG1heCB2YWx1ZVxuXG4gICAgICAgICAgcGFic3YgPSBhYnN2OyAvLyB2YWx1ZSBAIFtqLCBqXVxuXG4gICAgICAgICAgdmpqID0gdjtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIHN3YXAgcm93cyAoaiA8LT4gcGkpXG5cbiAgICAgIGlmIChqICE9PSBwaSkge1xuICAgICAgICAvLyBzd2FwIHZhbHVlcyBqIDwtPiBwaSBpbiBMXG4gICAgICAgIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MoaiwgcGksIGxzaXplWzFdLCBsdmFsdWVzLCBsaW5kZXgsIGxwdHIpOyAvLyBzd2FwIHZhbHVlcyBqIDwtPiBwaSBpbiBVXG5cblxuICAgICAgICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzKGosIHBpLCB1c2l6ZVsxXSwgdXZhbHVlcywgdWluZGV4LCB1cHRyKTsgLy8gc3dhcCB2YWx1ZXMgaW4gc3BhXG5cblxuICAgICAgICBzcGEuc3dhcChqLCBwaSk7IC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3IgKHN3YXAgdmFsdWVzIEAgaiwgcGkpXG5cbiAgICAgICAgc3dhcEluZGVjZXMoaiwgcGkpO1xuICAgICAgfSAvLyBsb29wIHZhbHVlcyBpbiBzcGEgKG9yZGVyIGJ5IHJvdylcblxuXG4gICAgICBzcGEuZm9yRWFjaCgwLCByb3dzIC0gMSwgZnVuY3Rpb24gKHgsIHYpIHtcbiAgICAgICAgLy8gY2hlY2sgd2UgYXJlIGFib3ZlIGRpYWdvbmFsXG4gICAgICAgIGlmICh4IDw9IGopIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICB1dmFsdWVzLnB1c2godik7XG4gICAgICAgICAgdWluZGV4LnB1c2goeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICAgICAgdiA9IGRpdmlkZVNjYWxhcih2LCB2amopOyAvLyBjaGVjayB2YWx1ZSBpcyBub24gemVyb1xuXG4gICAgICAgICAgaWYgKCFlcXVhbFNjYWxhcih2LCAwKSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgICBsdmFsdWVzLnB1c2godik7XG4gICAgICAgICAgICBsaW5kZXgucHVzaCh4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH0gLy8gdXBkYXRlIHB0cnNcblxuXG4gICAgdXB0ci5wdXNoKHV2YWx1ZXMubGVuZ3RoKTtcbiAgICBscHRyLnB1c2gobHZhbHVlcy5sZW5ndGgpOyAvLyByZXR1cm4gbWF0cmljZXNcblxuICAgIHJldHVybiB7XG4gICAgICBMOiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgICAgdmFsdWVzOiBsdmFsdWVzLFxuICAgICAgICBpbmRleDogbGluZGV4LFxuICAgICAgICBwdHI6IGxwdHIsXG4gICAgICAgIHNpemU6IGxzaXplXG4gICAgICB9KSxcbiAgICAgIFU6IG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgICB2YWx1ZXM6IHV2YWx1ZXMsXG4gICAgICAgIGluZGV4OiB1aW5kZXgsXG4gICAgICAgIHB0cjogdXB0cixcbiAgICAgICAgc2l6ZTogdXNpemVcbiAgICAgIH0pLFxuICAgICAgcDogcHZDbyxcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdMOiAnICsgdGhpcy5MLnRvU3RyaW5nKCkgKyAnXFxuVTogJyArIHRoaXMuVS50b1N0cmluZygpICsgJ1xcblA6ICcgKyB0aGlzLnA7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnZGV0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdzdWJ0cmFjdCcsICdtdWx0aXBseScsICd1bmFyeU1pbnVzJywgJ2x1cCddO1xuZXhwb3J0IHZhciBjcmVhdGVEZXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgc3VidHJhY3QsXG4gICAgbXVsdGlwbHksXG4gICAgdW5hcnlNaW51cyxcbiAgICBsdXBcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXguXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5kZXQoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZGV0KFtbMSwgMl0sIFszLCA0XV0pIC8vIHJldHVybnMgLTJcbiAgICpcbiAgICogICAgY29uc3QgQSA9IFtcbiAgICogICAgICBbLTIsIDIsIDNdLFxuICAgKiAgICAgIFstMSwgMSwgM10sXG4gICAqICAgICAgWzIsIDAsIC0xXVxuICAgKiAgICBdXG4gICAqICAgIG1hdGguZGV0KEEpIC8vIHJldHVybnMgNlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgaW52XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IHggIEEgbWF0cml4XG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRldGVybWluYW50IG9mIGB4YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBhbnk6IGZ1bmN0aW9uIGFueSh4KSB7XG4gICAgICByZXR1cm4gY2xvbmUoeCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBkZXQoeCkge1xuICAgICAgdmFyIHNpemU7XG5cbiAgICAgIGlmIChpc01hdHJpeCh4KSkge1xuICAgICAgICBzaXplID0geC5zaXplKCk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgICAgeCA9IG1hdHJpeCh4KTtcbiAgICAgICAgc2l6ZSA9IHguc2l6ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYSBzY2FsYXJcbiAgICAgICAgc2l6ZSA9IFtdO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHNpemUubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAvLyBzY2FsYXJcbiAgICAgICAgICByZXR1cm4gY2xvbmUoeCk7XG5cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIHZlY3RvclxuICAgICAgICAgIGlmIChzaXplWzBdID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmUoeC52YWx1ZU9mKClbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gdHdvIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgY29scyA9IHNpemVbMV07XG5cbiAgICAgICAgICAgIGlmIChyb3dzID09PSBjb2xzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfZGV0KHguY2xvbmUoKS52YWx1ZU9mKCksIHJvd3MsIGNvbHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSB0d28gZGltZW5zaW9uYWwgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheVtdfSBtYXRyaXggIEEgc3F1YXJlLCB0d28gZGltZW5zaW9uYWwgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzICAgICBOdW1iZXIgb2Ygcm93cyBvZiB0aGUgbWF0cml4ICh6ZXJvLWJhc2VkKVxuICAgKiBAcGFyYW0ge251bWJlcn0gY29scyAgICAgTnVtYmVyIG9mIGNvbHVtbnMgb2YgdGhlIG1hdHJpeCAoemVyby1iYXNlZClcbiAgICogQHJldHVybnMge251bWJlcn0gZGV0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9kZXQobWF0cml4LCByb3dzLCBjb2xzKSB7XG4gICAgaWYgKHJvd3MgPT09IDEpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAxIHggMSBtYXRyaXhcbiAgICAgIHJldHVybiBjbG9uZShtYXRyaXhbMF1bMF0pO1xuICAgIH0gZWxzZSBpZiAocm93cyA9PT0gMikge1xuICAgICAgLy8gdGhpcyBpcyBhIDIgeCAyIG1hdHJpeFxuICAgICAgLy8gdGhlIGRldGVybWluYW50IG9mIFthMTEsYTEyO2EyMSxhMjJdIGlzIGRldCA9IGExMSphMjItYTIxKmExMlxuICAgICAgcmV0dXJuIHN1YnRyYWN0KG11bHRpcGx5KG1hdHJpeFswXVswXSwgbWF0cml4WzFdWzFdKSwgbXVsdGlwbHkobWF0cml4WzFdWzBdLCBtYXRyaXhbMF1bMV0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29tcHV0ZSB0aGUgTFUgZGVjb21wb3NpdGlvblxuICAgICAgdmFyIGRlY29tcCA9IGx1cChtYXRyaXgpOyAvLyBUaGUgZGV0ZXJtaW5hbnQgaXMgdGhlIHByb2R1Y3Qgb2YgdGhlIGRpYWdvbmFsIGVudHJpZXMgb2YgVSAoYW5kIHRob3NlIG9mIEwsIGJ1dCB0aGV5IGFyZSBhbGwgMSlcblxuICAgICAgdmFyIGRldCA9IGRlY29tcC5VWzBdWzBdO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgcm93czsgX2krKykge1xuICAgICAgICBkZXQgPSBtdWx0aXBseShkZXQsIGRlY29tcC5VW19pXVtfaV0pO1xuICAgICAgfSAvLyBUaGUgZGV0ZXJtaW5hbnQgd2lsbCBiZSBtdWx0aXBsaWVkIGJ5IDEgb3IgLTEgZGVwZW5kaW5nIG9uIHRoZSBwYXJpdHkgb2YgdGhlIHBlcm11dGF0aW9uIG1hdHJpeC5cbiAgICAgIC8vIFRoaXMgY2FuIGJlIGRldGVybWluZWQgYnkgY291bnRpbmcgdGhlIGN5Y2xlcy4gVGhpcyBpcyByb3VnaGx5IGEgbGluZWFyIHRpbWUgYWxnb3JpdGhtLlxuXG5cbiAgICAgIHZhciBldmVuQ3ljbGVzID0gMDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciB2aXNpdGVkID0gW107XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHdoaWxlICh2aXNpdGVkW2ldKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPj0gcm93cykgYnJlYWs7XG4gICAgICAgIHZhciBqID0gaTtcbiAgICAgICAgdmFyIGN5Y2xlTGVuID0gMDtcblxuICAgICAgICB3aGlsZSAoIXZpc2l0ZWRbZGVjb21wLnBbal1dKSB7XG4gICAgICAgICAgdmlzaXRlZFtkZWNvbXAucFtqXV0gPSB0cnVlO1xuICAgICAgICAgIGogPSBkZWNvbXAucFtqXTtcbiAgICAgICAgICBjeWNsZUxlbisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN5Y2xlTGVuICUgMiA9PT0gMCkge1xuICAgICAgICAgIGV2ZW5DeWNsZXMrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbkN5Y2xlcyAlIDIgPT09IDAgPyBkZXQgOiB1bmFyeU1pbnVzKGRldCk7XG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG52YXIgbmFtZSA9ICdpbnYnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2RpdmlkZVNjYWxhcicsICdhZGRTY2FsYXInLCAnbXVsdGlwbHknLCAndW5hcnlNaW51cycsICdkZXQnLCAnaWRlbnRpdHknLCAnYWJzJ107XG5leHBvcnQgdmFyIGNyZWF0ZUludiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgYWRkU2NhbGFyLFxuICAgIG11bHRpcGx5LFxuICAgIHVuYXJ5TWludXMsXG4gICAgZGV0LFxuICAgIGlkZW50aXR5LFxuICAgIGFic1xuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBpbnZlcnNlIG9mIGEgc3F1YXJlIG1hdHJpeC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5pbnYoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLmludihbWzEsIDJdLCBbMywgNF1dKSAgLy8gcmV0dXJucyBbWy0yLCAxXSwgWzEuNSwgLTAuNV1dXG4gICAqICAgICBtYXRoLmludig0KSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAwLjI1XG4gICAqICAgICAxIC8gNCAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAwLjI1XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgZGV0LCB0cmFuc3Bvc2VcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggICAgIE1hdHJpeCB0byBiZSBpbnZlcnNlZFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFRoZSBpbnZlcnNlIG9mIGB4YC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgdmFyIHNpemUgPSBpc01hdHJpeCh4KSA/IHguc2l6ZSgpIDogYXJyYXlTaXplKHgpO1xuXG4gICAgICBzd2l0Y2ggKHNpemUubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyB2ZWN0b3JcbiAgICAgICAgICBpZiAoc2l6ZVswXSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzTWF0cml4KHgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYXRyaXgoW2RpdmlkZVNjYWxhcigxLCB4LnZhbHVlT2YoKVswXSldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBbZGl2aWRlU2NhbGFyKDEsIHhbMF0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIC8vIHR3byBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICAgICAgICAgIHZhciBjb2xzID0gc2l6ZVsxXTtcblxuICAgICAgICAgICAgaWYgKHJvd3MgPT09IGNvbHMpIHtcbiAgICAgICAgICAgICAgaWYgKGlzTWF0cml4KHgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeChfaW52KHgudmFsdWVPZigpLCByb3dzLCBjb2xzKSwgeC5zdG9yYWdlKCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiBhbiBBcnJheVxuICAgICAgICAgICAgICAgIHJldHVybiBfaW52KHgsIHJvd3MsIGNvbHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHR3byBkaW1lbnNpb25hbCAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFueTogZnVuY3Rpb24gYW55KHgpIHtcbiAgICAgIC8vIHNjYWxhclxuICAgICAgcmV0dXJuIGRpdmlkZVNjYWxhcigxLCB4KTsgLy8gRklYTUU6IGNyZWF0ZSBhIEJpZ051bWJlciBvbmUgd2hlbiBjb25maWd1cmVkIGZvciBiaWdudW1iZXJzXG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgaW52ZXJzZSBvZiBhIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheVtdfSBtYXQgICAgIEEgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93cyAgICAgTnVtYmVyIG9mIHJvd3NcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgICAgIE51bWJlciBvZiBjb2x1bW5zLCBtdXN0IGVxdWFsIHJvd3NcbiAgICogQHJldHVybiB7QXJyYXlbXX0gaW52ICAgIEludmVyc2UgbWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9pbnYobWF0LCByb3dzLCBjb2xzKSB7XG4gICAgdmFyIHIsIHMsIGYsIHZhbHVlLCB0ZW1wO1xuXG4gICAgaWYgKHJvd3MgPT09IDEpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAxIHggMSBtYXRyaXhcbiAgICAgIHZhbHVlID0gbWF0WzBdWzBdO1xuXG4gICAgICBpZiAodmFsdWUgPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgaW52ZXJzZSwgZGV0ZXJtaW5hbnQgaXMgemVybycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1tkaXZpZGVTY2FsYXIoMSwgdmFsdWUpXV07XG4gICAgfSBlbHNlIGlmIChyb3dzID09PSAyKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMiB4IDIgbWF0cml4XG4gICAgICB2YXIgZCA9IGRldChtYXQpO1xuXG4gICAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBpbnZlcnNlLCBkZXRlcm1pbmFudCBpcyB6ZXJvJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbW2RpdmlkZVNjYWxhcihtYXRbMV1bMV0sIGQpLCBkaXZpZGVTY2FsYXIodW5hcnlNaW51cyhtYXRbMF1bMV0pLCBkKV0sIFtkaXZpZGVTY2FsYXIodW5hcnlNaW51cyhtYXRbMV1bMF0pLCBkKSwgZGl2aWRlU2NhbGFyKG1hdFswXVswXSwgZCldXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhpcyBpcyBhIG1hdHJpeCBvZiAzIHggMyBvciBsYXJnZXJcbiAgICAgIC8vIGNhbGN1bGF0ZSBpbnZlcnNlIHVzaW5nIGdhdXNzLWpvcmRhbiBlbGltaW5hdGlvblxuICAgICAgLy8gICAgICBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HYXVzc2lhbl9lbGltaW5hdGlvblxuICAgICAgLy8gICAgICBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL01hdHJpeEludmVyc2UuaHRtbFxuICAgICAgLy8gICAgICBodHRwOi8vbWF0aC51d3cuZWR1L35tY2ZhcmxhdC9pbnZlcnNlLmh0bVxuICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIG1hdHJpeCAob25seSB0aGUgYXJyYXlzLCBub3Qgb2YgdGhlIGVsZW1lbnRzKVxuICAgICAgdmFyIEEgPSBtYXQuY29uY2F0KCk7XG5cbiAgICAgIGZvciAociA9IDA7IHIgPCByb3dzOyByKyspIHtcbiAgICAgICAgQVtyXSA9IEFbcl0uY29uY2F0KCk7XG4gICAgICB9IC8vIGNyZWF0ZSBhbiBpZGVudGl0eSBtYXRyaXggd2hpY2ggaW4gdGhlIGVuZCB3aWxsIGNvbnRhaW4gdGhlXG4gICAgICAvLyBtYXRyaXggaW52ZXJzZVxuXG5cbiAgICAgIHZhciBCID0gaWRlbnRpdHkocm93cykudmFsdWVPZigpOyAvLyBsb29wIG92ZXIgYWxsIGNvbHVtbnMsIGFuZCBwZXJmb3JtIHJvdyByZWR1Y3Rpb25zXG5cbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgY29sczsgYysrKSB7XG4gICAgICAgIC8vIFBpdm90aW5nOiBTd2FwIHJvdyBjIHdpdGggcm93IHIsIHdoZXJlIHJvdyByIGNvbnRhaW5zIHRoZSBsYXJnZXN0IGVsZW1lbnQgQVtyXVtjXVxuICAgICAgICB2YXIgQUJpZyA9IGFicyhBW2NdW2NdKTtcbiAgICAgICAgdmFyIHJCaWcgPSBjO1xuICAgICAgICByID0gYyArIDE7XG5cbiAgICAgICAgd2hpbGUgKHIgPCByb3dzKSB7XG4gICAgICAgICAgaWYgKGFicyhBW3JdW2NdKSA+IEFCaWcpIHtcbiAgICAgICAgICAgIEFCaWcgPSBhYnMoQVtyXVtjXSk7XG4gICAgICAgICAgICByQmlnID0gcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQUJpZyA9PT0gMCkge1xuICAgICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGludmVyc2UsIGRldGVybWluYW50IGlzIHplcm8nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHIgPSByQmlnO1xuXG4gICAgICAgIGlmIChyICE9PSBjKSB7XG4gICAgICAgICAgdGVtcCA9IEFbY107XG4gICAgICAgICAgQVtjXSA9IEFbcl07XG4gICAgICAgICAgQVtyXSA9IHRlbXA7XG4gICAgICAgICAgdGVtcCA9IEJbY107XG4gICAgICAgICAgQltjXSA9IEJbcl07XG4gICAgICAgICAgQltyXSA9IHRlbXA7XG4gICAgICAgIH0gLy8gZWxpbWluYXRlIG5vbi16ZXJvIHZhbHVlcyBvbiB0aGUgb3RoZXIgcm93cyBhdCBjb2x1bW4gY1xuXG5cbiAgICAgICAgdmFyIEFjID0gQVtjXTtcbiAgICAgICAgdmFyIEJjID0gQltjXTtcblxuICAgICAgICBmb3IgKHIgPSAwOyByIDwgcm93czsgcisrKSB7XG4gICAgICAgICAgdmFyIEFyID0gQVtyXTtcbiAgICAgICAgICB2YXIgQnIgPSBCW3JdO1xuXG4gICAgICAgICAgaWYgKHIgIT09IGMpIHtcbiAgICAgICAgICAgIC8vIGVsaW1pbmF0ZSB2YWx1ZSBhdCBjb2x1bW4gYyBhbmQgcm93IHJcbiAgICAgICAgICAgIGlmIChBcltjXSAhPT0gMCkge1xuICAgICAgICAgICAgICBmID0gZGl2aWRlU2NhbGFyKHVuYXJ5TWludXMoQXJbY10pLCBBY1tjXSk7IC8vIGFkZCAoZiAqIHJvdyBjKSB0byByb3cgciB0byBlbGltaW5hdGUgdGhlIHZhbHVlXG4gICAgICAgICAgICAgIC8vIGF0IGNvbHVtbiBjXG5cbiAgICAgICAgICAgICAgZm9yIChzID0gYzsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICAgIEFyW3NdID0gYWRkU2NhbGFyKEFyW3NdLCBtdWx0aXBseShmLCBBY1tzXSkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZm9yIChzID0gMDsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICAgIEJyW3NdID0gYWRkU2NhbGFyKEJyW3NdLCBtdWx0aXBseShmLCBCY1tzXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSB2YWx1ZSBhdCBBY2MgdG8gMSxcbiAgICAgICAgICAgIC8vIGRpdmlkZSBlYWNoIHZhbHVlIG9uIHJvdyByIHdpdGggdGhlIHZhbHVlIGF0IEFjY1xuICAgICAgICAgICAgZiA9IEFjW2NdO1xuXG4gICAgICAgICAgICBmb3IgKHMgPSBjOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgIEFyW3NdID0gZGl2aWRlU2NhbGFyKEFyW3NdLCBmKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChzID0gMDsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICBCcltzXSA9IGRpdmlkZVNjYWxhcihCcltzXSwgZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBCO1xuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdkaXZpZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ211bHRpcGx5JywgJ2VxdWFsU2NhbGFyJywgJ2RpdmlkZVNjYWxhcicsICdpbnYnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGl2aWRlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIG11bHRpcGx5LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBpbnZcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogRGl2aWRlIHR3byB2YWx1ZXMsIGB4IC8geWAuXG4gICAqIFRvIGRpdmlkZSBtYXRyaWNlcywgYHhgIGlzIG11bHRpcGxpZWQgd2l0aCB0aGUgaW52ZXJzZSBvZiBgeWA6IGB4ICogaW52KHkpYC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmRpdmlkZSh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5kaXZpZGUoMiwgMykgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAwLjY2NjY2NjY2NjY2NjY2NjZcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCg1LCAxNClcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCg0LCAxKVxuICAgKiAgICBtYXRoLmRpdmlkZShhLCBiKSAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAyICsgM2lcbiAgICpcbiAgICogICAgY29uc3QgYyA9IFtbNywgLTZdLCBbMTMsIC00XV1cbiAgICogICAgY29uc3QgZCA9IFtbMSwgMl0sIFs0LCAzXV1cbiAgICogICAgbWF0aC5kaXZpZGUoYywgZCkgICAgICAgICAgICAvLyByZXR1cm5zIEFycmF5IFtbLTksIDRdLCBbLTExLCA2XV1cbiAgICpcbiAgICogICAgY29uc3QgZSA9IG1hdGgudW5pdCgnMTgga20nKVxuICAgKiAgICBtYXRoLmRpdmlkZShlLCA0LjUpICAgICAgICAgIC8vIHJldHVybnMgVW5pdCA0IGttXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBtdWx0aXBseVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggICBOdW1lcmF0b3JcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHkgICAgICAgICAgRGVub21pbmF0b3JcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSAgICAgICAgICAgICAgICAgICAgICBRdW90aWVudCwgYHggLyB5YFxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2RpdmlkZScsIGV4dGVuZCh7XG4gICAgLy8gd2UgZXh0ZW5kIHRoZSBzaWduYXR1cmVzIG9mIGRpdmlkZVNjYWxhciB3aXRoIHNpZ25hdHVyZXMgZGVhbGluZyB3aXRoIG1hdHJpY2VzXG4gICAgJ0FycmF5IHwgTWF0cml4LCBBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4QXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gVE9ETzogaW1wbGVtZW50IG1hdHJpeCByaWdodCBkaXZpc2lvbiB1c2luZyBwc2V1ZG8gaW52ZXJzZVxuICAgICAgLy8gaHR0cHM6Ly93d3cubWF0aHdvcmtzLm5sL2hlbHAvbWF0bGFiL3JlZi9tcmRpdmlkZS5odG1sXG4gICAgICAvLyBodHRwczovL3d3dy5nbnUub3JnL3NvZnR3YXJlL29jdGF2ZS9kb2MvaW50ZXJwcmV0ZXIvQXJpdGhtZXRpYy1PcHMuaHRtbFxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTIyNjM5MzIvaG93LWRvZXMtZ251LW9jdGF2ZS1tYXRyaXgtZGl2aXNpb24td29yay1nZXR0aW5nLXVuZXhwZWN0ZWQtYmVoYXZpb3VyXG4gICAgICByZXR1cm4gbXVsdGlwbHkoeCwgaW52KHkpKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIGRpdmlkZVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCBkaXZpZGVTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgZGl2aWRlU2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBhbnlBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gbXVsdGlwbHkoeCwgaW52KHkpKTtcbiAgICB9XG4gIH0sIGRpdmlkZVNjYWxhci5zaWduYXR1cmVzKSk7XG59KTsiLCJmdW5jdGlvbiBFICgpIHtcbiAgLy8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcbm1vZHVsZS5leHBvcnRzLlRpbnlFbWl0dGVyID0gRTtcbiIsIlxuXG5pbXBvcnQge1ZlY3RvcjMsIE1hdGhVdGlsc30gZnJvbSAnLi9tYXRoLXV0aWxzJ1xuXG5jb25zdCBzY3JhdGNoVmVjdG9yMyA9IG5ldyBWZWN0b3IzXG5cbmV4cG9ydCBjbGFzcyBTcGhlcmljYWxDb29yZGluYXRlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaG9yaXpvbnRhbFJhZGlhbnM6bnVtYmVyID0gMCxcbiAgICAgICAgcHVibGljIHZlcnRpY2FsUmFkaWFuczpudW1iZXIgPSAwLFxuICAgICAgICBwdWJsaWMgZGlzdGFuY2U6bnVtYmVyID0gMFxuICAgICl7fVxuXG4gICAgZ2V0IGhvcml6b250YWxEZWdyZWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3Jpem9udGFsUmFkaWFucyAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgfVxuXG4gICAgc2V0IGhvcml6b250YWxEZWdyZWVzKGg6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbFJhZGlhbnMgPSBoICogTWF0aFV0aWxzLkRFRzJSQURcbiAgICB9XG5cbiAgICBnZXQgdmVydGljYWxEZWdyZWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbFJhZGlhbnMgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgIH1cblxuICAgIHNldCB2ZXJ0aWNhbERlZ3JlZXMoaDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlhbnMgPSBoICogTWF0aFV0aWxzLkRFRzJSQURcbiAgICB9XG5cbiAgICBzZXRXaXRoUmFkaWFucyhob3Jpem9udGFsOm51bWJlciwgdmVydGljYWw6bnVtYmVyLCBkaXN0YW5jZTpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsUmFkaWFucyA9IGhvcml6b250YWxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlhbnMgPSB2ZXJ0aWNhbFxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBzZXRXaXRoRGVncmVlcyhob3Jpem9udGFsOm51bWJlciwgdmVydGljYWw6bnVtYmVyLCBkaXN0YW5jZTpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsRGVncmVlcyA9IGhvcml6b250YWxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbERlZ3JlZXMgPSB2ZXJ0aWNhbFxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBmcm9tQ2FydGVzaWFuRGlyZWN0aW9uKGNhcnRlc2lhbjogVmVjdG9yMykge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBzY3JhdGNoVmVjdG9yMy5jb3B5KGNhcnRlc2lhbikubm9ybWFsaXplKClcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlhbnMgPSBNYXRoLmFzaW4oZGlyZWN0aW9uLnkpICogTWF0aFV0aWxzLlJBRDJERUdcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsUmFkaWFucyA9IE1hdGguYXRhbjIoZGlyZWN0aW9uLngsIC1kaXJlY3Rpb24ueikgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gMFxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGZyb21DYXJ0ZXNpYW5Qb3NpdGlvbihjYXJ0ZXNpYW46IFZlY3RvcjMpIHtcbiAgICAgICAgdGhpcy5mcm9tQ2FydGVzaWFuRGlyZWN0aW9uKGNhcnRlc2lhbilcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGNhcnRlc2lhbi5sZW5ndGgoKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRvQ2FydGVzaWFuRGlyZWN0aW9uKG91dDogVmVjdG9yMykgeyBcbiAgICAgICAgY29uc3QgdmlzdWFsRWxldmF0aW9uUmFkaWFucyA9IHRoaXMudmVydGljYWxSYWRpYW5zXG4gICAgICAgIGNvbnN0IHZpc3VhbEF6aW11dGhSYWRpYW5zID0gLSBNYXRoLlBJIC0gdGhpcy5ob3Jpem9udGFsUmFkaWFuc1xuICAgICAgICBjb25zdCB5ID0gTWF0aC5zaW4odmlzdWFsRWxldmF0aW9uUmFkaWFucylcbiAgICAgICAgY29uc3QgeCA9IE1hdGguY29zKHZpc3VhbEVsZXZhdGlvblJhZGlhbnMpICogTWF0aC5zaW4odmlzdWFsQXppbXV0aFJhZGlhbnMpXG4gICAgICAgIGNvbnN0IHogPSAtIE1hdGguY29zKHZpc3VhbEVsZXZhdGlvblJhZGlhbnMpICogTWF0aC5jb3ModmlzdWFsQXppbXV0aFJhZGlhbnMpXG4gICAgICAgIHJldHVybiBvdXQuc2V0KHgsIHksIHopLm5vcm1hbGl6ZSgpXG4gICAgfVxuXG4gICAgdG9DYXJ0ZXNpYW5Qb3NpdGlvbihvdXQ6IFZlY3RvcjMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9DYXJ0ZXNpYW5EaXJlY3Rpb24ob3V0KS5tdWx0aXBseVNjYWxhcih0aGlzLmRpc3RhbmNlKVxuICAgIH1cblxufSIsImZ1bmN0aW9uIGlkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmlkID8gYCMke2VsZW1lbnQuaWR9YCA6ICcnXG59XG5cbmZ1bmN0aW9uIGNsYXNzZXMoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGNsYXNzU2VsZWN0b3IgPSAnJ1xuICBjb25zdCBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdFxuICBmb3IgKGNvbnN0IGMgb2YgY2xhc3NMaXN0KSB7XG4gICAgY2xhc3NTZWxlY3RvciArPSAnLicgKyBjXG4gIH1cbiAgcmV0dXJuIGNsYXNzU2VsZWN0b3Jcbn1cblxuZnVuY3Rpb24gbnRoQ2hpbGQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGNoaWxkTnVtYmVyID0gMFxuICBjb25zdCBjaGlsZE5vZGVzID0gZWxlbWVudC5wYXJlbnROb2RlIS5jaGlsZE5vZGVzXG4gIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZE5vZGVzKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSArK2NoaWxkTnVtYmVyXG4gICAgaWYgKG5vZGUgPT09IGVsZW1lbnQpIHJldHVybiBgOm50aC1jaGlsZCgnJHtjaGlsZE51bWJlcn0nKWBcbiAgfVxufVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGxldCBhdHRyaWJ1dGVzID0gJydcbiAgZm9yIChjb25zdCBhdHRyIG9mIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgIGF0dHJpYnV0ZXMgKz0gYFske2F0dHIubmFtZX09XCIke2F0dHIudmFsdWV9XCJdYFxuICB9XG4gIHJldHVybiBhdHRyaWJ1dGVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRoKGVsOiBIVE1MRWxlbWVudCwgcm9vdE5vZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIDogc3RyaW5nIHtcbiAgY29uc3Qgc2VsZWN0b3IgPSBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgKyBpZChlbCkgKyBjbGFzc2VzKGVsKSArIGF0dHJpYnV0ZXMoZWwpICsgbnRoQ2hpbGQoZWwpXG4gIGNvbnN0IGhhc1BhcmVudCA9IGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZSAhPT0gcm9vdE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgYXMgYW55KS50YWdOYW1lXG4gIHJldHVybiBoYXNQYXJlbnQgPyBwYXRoKGVsLnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQsIHJvb3ROb2RlKSArICcgPiAnICsgc2VsZWN0b3IgOiBzZWxlY3RvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzaChlbDogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgY3NzUGF0aCA9IHBhdGgoZWwpXG4gIGNvbnN0IHR5cGUgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkudHlwZVxuICBjb25zdCBjaGVja2VkID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgY29uc3QgdmFsdWUgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWVcbiAgY29uc3QgdGV4dENvbnRlbnQgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkudGV4dENvbnRlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgZWFjaDogKGVsZW1lbnQ6IEVsZW1lbnQsIGxldmVsOiBudW1iZXIpID0+IGJvb2xlYW4sXG4gIGJpbmQ/OiBhbnksXG4gIGxldmVsID0gMFxuKSB7XG4gIGxldmVsKytcbiAgZWxlbWVudCA9IChlbGVtZW50LnNoYWRvd1Jvb3QgfHwgZWxlbWVudCkgYXMgRWxlbWVudFxuICBmb3IgKGxldCBjaGlsZDogRWxlbWVudCB8IG51bGwgPSBlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBpZiAoKGNoaWxkIGFzIEhUTUxFbGVtZW50KS5hc3NpZ25lZFNsb3QpIGNvbnRpbnVlXG4gICAgY29uc3QgYXNzaWduZWRFbGVtZW50cyA9IChjaGlsZCBhcyBIVE1MU2xvdEVsZW1lbnQpLmFzc2lnbmVkRWxlbWVudHM/Lih7ZmxhdHRlbjp0cnVlfSlcbiAgICBpZiAoYXNzaWduZWRFbGVtZW50cykgZm9yIChjb25zdCBhc3NpZ25lZCBvZiBhc3NpZ25lZEVsZW1lbnRzKSB7XG4gICAgICBpZiAoZWFjaC5jYWxsKGJpbmQsIGFzc2lnbmVkLCBsZXZlbCkpIHtcbiAgICAgICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGNoaWxkLCBlYWNoLCBiaW5kLCBsZXZlbClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVhY2guY2FsbChiaW5kLCBjaGlsZCwgbGV2ZWwpKSB7XG4gICAgICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoY2hpbGQsIGVhY2gsIGJpbmQsIGxldmVsKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ1NTUnVsZShzaGVldDphbnksIHNlbGVjdG9yOnN0cmluZywgcnVsZXM6c3RyaW5nLCBpbmRleDpudW1iZXIpIDogdm9pZCB7XG4gIGlmICgnaW5zZXJ0UnVsZScgaW4gc2hlZXQpIHtcbiAgICBzaGVldC5pbnNlcnRSdWxlKHNlbGVjdG9yICsgJ3snICsgcnVsZXMgKyAnfScsIGluZGV4KVxuICB9IGVsc2UgaWYgKCdhZGRSdWxlJyBpbiBzaGVldCkge1xuICAgIHNoZWV0LmFkZFJ1bGUoc2VsZWN0b3IsIHJ1bGVzLCBpbmRleClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQm91bmRzIHtcbiAgbGVmdCA9IDBcbiAgdG9wID0gMFxuICB3aWR0aCA9IDBcbiAgaGVpZ2h0ID0gMFxuICBjb3B5KHJlY3Q6IEJvdW5kcykge1xuICAgIHRoaXMudG9wID0gcmVjdC50b3BcbiAgICB0aGlzLmxlZnQgPSByZWN0LmxlZnRcbiAgICB0aGlzLndpZHRoID0gcmVjdC53aWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHRcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGdlcyB7XG4gIGxlZnQgPSAwXG4gIHRvcCA9IDBcbiAgcmlnaHQgPSAwXG4gIGJvdHRvbSA9IDBcbiAgY29weShyZWN0OiBFZGdlcykge1xuICAgIHRoaXMudG9wID0gcmVjdC50b3BcbiAgICB0aGlzLmxlZnQgPSByZWN0LmxlZnRcbiAgICB0aGlzLnJpZ2h0ID0gcmVjdC5yaWdodFxuICAgIHRoaXMuYm90dG9tID0gcmVjdC5ib3R0b21cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3VuZHMoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGJvdW5kczogQm91bmRzID0gbmV3IEJvdW5kcygpLFxuICByZWZlcmVuY2VFbGVtZW50PzogRWxlbWVudFxuKSB7XG4gIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCFcbiAgY29uc3QgZG9jRWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50XG4gIGNvbnN0IGJvZHkgPSBkb2MuYm9keVxuXG4gIGlmIChlbGVtZW50ID09PSBkb2NFbCkge1xuICAgIHJldHVybiBnZXREb2N1bWVudEJvdW5kcyhkb2MsIGJvdW5kcylcbiAgfVxuXG4gIGlmIChyZWZlcmVuY2VFbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgYm91bmRzLmxlZnQgPSAwXG4gICAgYm91bmRzLnRvcCA9IDBcbiAgICBib3VuZHMud2lkdGggPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGhcbiAgICBib3VuZHMuaGVpZ2h0ID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldEhlaWdodFxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZGVmYXVsdFZpZXcgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQhLmRlZmF1bHRWaWV3IVxuICBsZXQgZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcblxuICBsZXQgY29tcHV0ZWRTdHlsZVxuICBsZXQgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50IGFzIEhUTUxFbGVtZW50XG4gIGxldCBwcmV2Q29tcHV0ZWRTdHlsZSA9IGRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpXG4gIGxldCB0b3AgPSBlbC5vZmZzZXRUb3BcbiAgbGV0IGxlZnQgPSBlbC5vZmZzZXRMZWZ0XG5cbiAgaWYgKFxuICAgIG9mZnNldFBhcmVudCAmJlxuICAgIHJlZmVyZW5jZUVsZW1lbnQgJiZcbiAgICBvZmZzZXRQYXJlbnQuY29udGFpbnMocmVmZXJlbmNlRWxlbWVudCkgJiZcbiAgICBvZmZzZXRQYXJlbnQgIT09IHJlZmVyZW5jZUVsZW1lbnRcbiAgKSB7XG4gICAgZ2V0Qm91bmRzKHJlZmVyZW5jZUVsZW1lbnQsIGJvdW5kcywgb2Zmc2V0UGFyZW50KVxuICAgIGxlZnQgLT0gYm91bmRzLmxlZnRcbiAgICB0b3AgLT0gYm91bmRzLnRvcFxuICB9XG5cbiAgd2hpbGUgKFxuICAgIChlbCA9IGVsLnBhcmVudEVsZW1lbnQpICYmXG4gICAgZWwgIT09IGJvZHkgJiZcbiAgICBlbCAhPT0gZG9jRWwgJiZcbiAgICBlbCAhPT0gcmVmZXJlbmNlRWxlbWVudFxuICApIHtcbiAgICBpZiAocHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY29tcHV0ZWRTdHlsZSA9IGRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpXG4gICAgdG9wIC09IGVsLnNjcm9sbFRvcFxuICAgIGxlZnQgLT0gZWwuc2Nyb2xsTGVmdFxuXG4gICAgaWYgKGVsID09PSBvZmZzZXRQYXJlbnQpIHtcbiAgICAgIHRvcCArPSBlbC5vZmZzZXRUb3BcbiAgICAgIGxlZnQgKz0gZWwub2Zmc2V0TGVmdFxuICAgICAgdG9wICs9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5ib3JkZXJUb3BXaWR0aCkgfHwgMFxuICAgICAgbGVmdCArPSBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwXG4gICAgICBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnQgYXMgSFRNTEVsZW1lbnRcbiAgICB9XG5cbiAgICBwcmV2Q29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGVcbiAgfVxuXG4gIC8vIGlmIChwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3JlbGF0aXZlJyB8fCBwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgLy8gICBnZXREb2N1bWVudEJvdW5kcyhkb2MsIGJvdW5kcylcbiAgLy8gICB0b3AgKz0gYm91bmRzLnRvcFxuICAvLyAgIGxlZnQgKz0gYm91bmRzLmxlZnRcbiAgLy8gfVxuXG4gIGlmIChwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHRvcCArPSBNYXRoLm1heChkb2NFbC5zY3JvbGxUb3AsIGJvZHkuc2Nyb2xsVG9wKVxuICAgIGxlZnQgKz0gTWF0aC5tYXgoZG9jRWwuc2Nyb2xsTGVmdCwgYm9keS5zY3JvbGxMZWZ0KVxuICB9XG5cbiAgLy8gbGV0IGVsID0gZWxlbWVudFxuICAvLyBsZXQgbGVmdCA9IGVsLm9mZnNldExlZnRcbiAgLy8gbGV0IHRvcCA9IGVsLm9mZnNldFRvcFxuICAvLyBsZXQgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50XG4gIC8vIHdoaWxlIChlbCAmJiBlbC5ub2RlVHlwZSAhPT0gTm9kZS5ET0NVTUVOVF9OT0RFKSB7XG4gIC8vICAgbGVmdCAtPSBlbC5zY3JvbGxMZWZ0XG4gIC8vICAgdG9wIC09IGVsLnNjcm9sbFRvcFxuICAvLyAgIGlmIChlbCA9PT0gb2Zmc2V0UGFyZW50KSB7XG4gIC8vICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVxuICAvLyAgICAgbGVmdCArPSBlbC5vZmZzZXRMZWZ0ICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGghKSB8fCAwXG4gIC8vICAgICB0b3AgKz0gZWwub2Zmc2V0VG9wICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCEpIHx8IDBcbiAgLy8gICAgIG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudFxuICAvLyAgIH1cbiAgLy8gICBlbCA9IGVsLm9mZnNldFBhcmVudCBhcyBhbnlcbiAgLy8gfVxuXG4gIGJvdW5kcy5sZWZ0ID0gbGVmdFxuICBib3VuZHMudG9wID0gdG9wXG4gIGJvdW5kcy53aWR0aCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRXaWR0aFxuICBib3VuZHMuaGVpZ2h0ID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldEhlaWdodFxuICByZXR1cm4gYm91bmRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXJnaW4oZWxlbWVudDogRWxlbWVudCwgbWFyZ2luOiBFZGdlcykge1xuICBsZXQgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gIG1hcmdpbi5sZWZ0ID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5MZWZ0KSB8fCAwXG4gIG1hcmdpbi5yaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luUmlnaHQpIHx8IDBcbiAgbWFyZ2luLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luVG9wKSB8fCAwXG4gIG1hcmdpbi5ib3R0b20gPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkJvdHRvbSkgfHwgMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9yZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGJvcmRlcjogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBib3JkZXIubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwXG4gIGJvcmRlci5yaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCkgfHwgMFxuICBib3JkZXIudG9wID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgfHwgMFxuICBib3JkZXIuYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgfHwgMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFkZGluZyhlbGVtZW50OiBFbGVtZW50LCBwYWRkaW5nOiBFZGdlcykge1xuICBsZXQgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gIHBhZGRpbmcubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpIHx8IDBcbiAgcGFkZGluZy5yaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1JpZ2h0KSB8fCAwXG4gIHBhZGRpbmcudG9wID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSB8fCAwXG4gIHBhZGRpbmcuYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSB8fCAwXG59XG5cbi8qXG4gKiBPbiBzb21lIG1vYmlsZSBicm93c2VycywgdGhlIHZhbHVlIHJlcG9ydGVkIGJ5IHdpbmRvdy5pbm5lckhlaWdodFxuICogaXMgbm90IHRoZSB0cnVlIHZpZXdwb3J0IGhlaWdodC4gVGhpcyBtZXRob2QgcmV0dXJuc1xuICogdGhlIGFjdHVhbCB2aWV3cG9ydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdwb3J0Qm91bmRzKGJvdW5kczogQm91bmRzKSB7XG4gIGlmICghdmlld3BvcnRUZXN0ZXIucGFyZW50Tm9kZSkgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZCh2aWV3cG9ydFRlc3RlcilcbiAgYm91bmRzLmxlZnQgPSBwYWdlWE9mZnNldFxuICBib3VuZHMudG9wID0gcGFnZVlPZmZzZXRcbiAgYm91bmRzLndpZHRoID0gdmlld3BvcnRUZXN0ZXIub2Zmc2V0V2lkdGhcbiAgYm91bmRzLmhlaWdodCA9IHZpZXdwb3J0VGVzdGVyLm9mZnNldEhlaWdodFxuICByZXR1cm4gYm91bmRzXG59XG5jb25zdCB2aWV3cG9ydFRlc3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG52aWV3cG9ydFRlc3Rlci5pZCA9ICdWSUVXUE9SVCdcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUud2lkdGggPSAnMTAwdncnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50Qm91bmRzKGRvY3VtZW50OiBEb2N1bWVudCwgYm91bmRzOiBCb3VuZHMpIHtcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudEVsZW1lbnQpXG4gIGNvbnN0IGJvZHlTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoYm9keSlcbiAgYm91bmRzLnRvcCA9XG4gICAgYm9keS5vZmZzZXRUb3AgKyBwYXJzZUZsb2F0KGRvY3VtZW50RWxlbWVudFN0eWxlLm1hcmdpblRvcCBhcyAnJykgfHxcbiAgICAwICsgcGFyc2VGbG9hdChib2R5U3R5bGUubWFyZ2luVG9wIGFzICcnKSB8fFxuICAgIDBcbiAgYm91bmRzLmxlZnQgPVxuICAgIGJvZHkub2Zmc2V0TGVmdCArIHBhcnNlRmxvYXQoZG9jdW1lbnRFbGVtZW50U3R5bGUubWFyZ2luTGVmdCBhcyAnJykgfHxcbiAgICAwICsgcGFyc2VGbG9hdChib2R5U3R5bGUubWFyZ2luTGVmdCBhcyAnJykgfHxcbiAgICAwXG4gIGJvdW5kcy53aWR0aCA9IE1hdGgubWF4KFxuICAgIE1hdGgubWF4KGJvZHkuc2Nyb2xsV2lkdGgsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCksXG4gICAgTWF0aC5tYXgoYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSxcbiAgICBNYXRoLm1heChib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gIClcbiAgYm91bmRzLmhlaWdodCA9IE1hdGgubWF4KFxuICAgIE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KSxcbiAgICBNYXRoLm1heChib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCksXG4gICAgTWF0aC5tYXgoYm9keS5jbGllbnRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpXG4gIClcbiAgcmV0dXJuIGJvdW5kc1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBET00oaHRtbDpzdHJpbmcpIHtcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHdyYXBwZXIuaW5uZXJIVE1MID0gaHRtbFxuICBjb25zdCBlbCA9IHdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQhXG4gIHdyYXBwZXIucmVtb3ZlQ2hpbGQoZWwpXG4gIHJldHVybiBlbFxufSIsIihmdW5jdGlvbihsKXtmdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGsoYSxjKXthPXZvaWQgMD09PWE/XCJ1dGYtOFwiOmE7Yz12b2lkIDA9PT1jP3tmYXRhbDohMX06YztpZigtMT09PXIuaW5kZXhPZihhLnRvTG93ZXJDYXNlKCkpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnVGV4dERlY29kZXInOiBUaGUgZW5jb2RpbmcgbGFiZWwgcHJvdmlkZWQgKCdcIithK1wiJykgaXMgaW52YWxpZC5cIik7aWYoYy5mYXRhbCl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogdGhlICdmYXRhbCcgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLlwiKTt9ZnVuY3Rpb24gdChhKXtyZXR1cm4gQnVmZmVyLmZyb20oYS5idWZmZXIsYS5ieXRlT2Zmc2V0LGEuYnl0ZUxlbmd0aCkudG9TdHJpbmcoXCJ1dGYtOFwiKX1mdW5jdGlvbiB1KGEpe3ZhciBjPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2FdLHt0eXBlOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9KSk7XG50cnl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O2Yub3BlbihcIkdFVFwiLGMsITEpO2Yuc2VuZCgpO3JldHVybiBmLnJlc3BvbnNlVGV4dH1jYXRjaChlKXtyZXR1cm4gcShhKX1maW5hbGx5e1VSTC5yZXZva2VPYmplY3RVUkwoYyl9fWZ1bmN0aW9uIHEoYSl7Zm9yKHZhciBjPTAsZj1NYXRoLm1pbig2NTUzNixhLmxlbmd0aCsxKSxlPW5ldyBVaW50MTZBcnJheShmKSxoPVtdLGQ9MDs7KXt2YXIgYj1jPGEubGVuZ3RoO2lmKCFifHxkPj1mLTEpe2gucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZS5zdWJhcnJheSgwLGQpKSk7aWYoIWIpcmV0dXJuIGguam9pbihcIlwiKTthPWEuc3ViYXJyYXkoYyk7ZD1jPTB9Yj1hW2MrK107aWYoMD09PShiJjEyOCkpZVtkKytdPWI7ZWxzZSBpZigxOTI9PT0oYiYyMjQpKXt2YXIgZz1hW2MrK10mNjM7ZVtkKytdPShiJjMxKTw8NnxnfWVsc2UgaWYoMjI0PT09KGImMjQwKSl7Zz1hW2MrK10mNjM7dmFyIG49YVtjKytdJjYzO2VbZCsrXT1cbihiJjMxKTw8MTJ8Zzw8NnxufWVsc2UgaWYoMjQwPT09KGImMjQ4KSl7Zz1hW2MrK10mNjM7bj1hW2MrK10mNjM7dmFyIHY9YVtjKytdJjYzO2I9KGImNyk8PDE4fGc8PDEyfG48PDZ8djs2NTUzNTxiJiYoYi09NjU1MzYsZVtkKytdPWI+Pj4xMCYxMDIzfDU1Mjk2LGI9NTYzMjB8YiYxMDIzKTtlW2QrK109Yn19fWlmKGwuVGV4dEVuY29kZXImJmwuVGV4dERlY29kZXIpcmV0dXJuITE7dmFyIHI9W1widXRmLThcIixcInV0ZjhcIixcInVuaWNvZGUtMS0xLXV0Zi04XCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShtLnByb3RvdHlwZSxcImVuY29kaW5nXCIse3ZhbHVlOlwidXRmLThcIn0pO20ucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhLGMpe2M9dm9pZCAwPT09Yz97c3RyZWFtOiExfTpjO2lmKGMuc3RyZWFtKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGVuY29kZTogdGhlICdzdHJlYW0nIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC5cIik7Yz0wO2Zvcih2YXIgZj1hLmxlbmd0aCxlPTAsaD1NYXRoLm1heCgzMixcbmYrKGY+Pj4xKSs3KSxkPW5ldyBVaW50OEFycmF5KGg+Pj4zPDwzKTtjPGY7KXt2YXIgYj1hLmNoYXJDb2RlQXQoYysrKTtpZig1NTI5Njw9YiYmNTYzMTk+PWIpe2lmKGM8Zil7dmFyIGc9YS5jaGFyQ29kZUF0KGMpOzU2MzIwPT09KGcmNjQ1MTIpJiYoKytjLGI9KChiJjEwMjMpPDwxMCkrKGcmMTAyMykrNjU1MzYpfWlmKDU1Mjk2PD1iJiY1NjMxOT49Yiljb250aW51ZX1lKzQ+ZC5sZW5ndGgmJihoKz04LGgqPTErYy9hLmxlbmd0aCoyLGg9aD4+PjM8PDMsZz1uZXcgVWludDhBcnJheShoKSxnLnNldChkKSxkPWcpO2lmKDA9PT0oYiY0Mjk0OTY3MTY4KSlkW2UrK109YjtlbHNle2lmKDA9PT0oYiY0Mjk0OTY1MjQ4KSlkW2UrK109Yj4+PjYmMzF8MTkyO2Vsc2UgaWYoMD09PShiJjQyOTQ5MDE3NjApKWRbZSsrXT1iPj4+MTImMTV8MjI0LGRbZSsrXT1iPj4+NiY2M3wxMjg7ZWxzZSBpZigwPT09KGImNDI5Mjg3MDE0NCkpZFtlKytdPWI+Pj4xOCY3fDI0MCxkW2UrK109Yj4+PjEyJlxuNjN8MTI4LGRbZSsrXT1iPj4+NiY2M3wxMjg7ZWxzZSBjb250aW51ZTtkW2UrK109YiY2M3wxMjh9fXJldHVybiBkLnNsaWNlP2Quc2xpY2UoMCxlKTpkLnN1YmFycmF5KDAsZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImVuY29kaW5nXCIse3ZhbHVlOlwidXRmLThcIn0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImZhdGFsXCIse3ZhbHVlOiExfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGsucHJvdG90eXBlLFwiaWdub3JlQk9NXCIse3ZhbHVlOiExfSk7dmFyIHA9cTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgQnVmZmVyJiZCdWZmZXIuZnJvbT9wPXQ6XCJmdW5jdGlvblwiPT09dHlwZW9mIEJsb2ImJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBVUkwmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiYocD11KTtrLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSxjKXtjPXZvaWQgMD09PWM/e3N0cmVhbTohMX06YztpZihjLnN0cmVhbSl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGU6IHRoZSAnc3RyZWFtJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuXCIpO1xuYT1hIGluc3RhbmNlb2YgVWludDhBcnJheT9hOmEuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIpOm5ldyBVaW50OEFycmF5KGEpO3JldHVybiBwKGEpfTtsLlRleHRFbmNvZGVyPW07bC5UZXh0RGVjb2Rlcj1rfSkoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzKTtcbiIsIi8qKlxuICogQSBkb3VibHkgbGlua2VkIGxpc3QtYmFzZWQgTGVhc3QgUmVjZW50bHkgVXNlZCAoTFJVKSBjYWNoZS4gV2lsbCBrZWVwIG1vc3RcbiAqIHJlY2VudGx5IHVzZWQgaXRlbXMgd2hpbGUgZGlzY2FyZGluZyBsZWFzdCByZWNlbnRseSB1c2VkIGl0ZW1zIHdoZW4gaXRzIGxpbWl0XG4gKiBpcyByZWFjaGVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVC4gQ29weXJpZ2h0IChjKSAyMDEwIFJhc211cyBBbmRlcnNzb24gPGh0dHA6Ly9odW5jaC5zZS8+XG4gKiBTZWUgUkVBRE1FLm1kIGZvciBkZXRhaWxzLlxuICpcbiAqIElsbHVzdHJhdGlvbiBvZiB0aGUgZGVzaWduOlxuICpcbiAqICAgICAgIGVudHJ5ICAgICAgICAgICAgIGVudHJ5ICAgICAgICAgICAgIGVudHJ5ICAgICAgICAgICAgIGVudHJ5XG4gKiAgICAgICBfX19fX18gICAgICAgICAgICBfX19fX18gICAgICAgICAgICBfX19fX18gICAgICAgICAgICBfX19fX19cbiAqICAgICAgfCBoZWFkIHwubmV3ZXIgPT4gfCAgICAgIHwubmV3ZXIgPT4gfCAgICAgIHwubmV3ZXIgPT4gfCB0YWlsIHxcbiAqICAgICAgfCAgQSAgIHwgICAgICAgICAgfCAgQiAgIHwgICAgICAgICAgfCAgQyAgIHwgICAgICAgICAgfCAgRCAgIHxcbiAqICAgICAgfF9fX19fX3wgPD0gb2xkZXIufF9fX19fX3wgPD0gb2xkZXIufF9fX19fX3wgPD0gb2xkZXIufF9fX19fX3xcbiAqXG4gKiAgcmVtb3ZlZCAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIGFkZGVkXG4gKi9cbihmdW5jdGlvbihnLGYpe1xuICBjb25zdCBlID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgPyBleHBvcnRzIDogdHlwZW9mIGcgPT0gJ29iamVjdCcgPyBnIDoge307XG4gIGYoZSk7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyBkZWZpbmUoJ2xydScsIGUpOyB9XG59KSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG5cbmNvbnN0IE5FV0VSID0gU3ltYm9sKCduZXdlcicpO1xuY29uc3QgT0xERVIgPSBTeW1ib2woJ29sZGVyJyk7XG5cbmZ1bmN0aW9uIExSVU1hcChsaW1pdCwgZW50cmllcykge1xuICBpZiAodHlwZW9mIGxpbWl0ICE9PSAnbnVtYmVyJykge1xuICAgIC8vIGNhbGxlZCBhcyAoZW50cmllcylcbiAgICBlbnRyaWVzID0gbGltaXQ7XG4gICAgbGltaXQgPSAwO1xuICB9XG5cbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5saW1pdCA9IGxpbWl0O1xuICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9rZXltYXAgPSBuZXcgTWFwKCk7XG5cbiAgaWYgKGVudHJpZXMpIHtcbiAgICB0aGlzLmFzc2lnbihlbnRyaWVzKTtcbiAgICBpZiAobGltaXQgPCAxKSB7XG4gICAgICB0aGlzLmxpbWl0ID0gdGhpcy5zaXplO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnRzLkxSVU1hcCA9IExSVU1hcDtcblxuZnVuY3Rpb24gRW50cnkoa2V5LCB2YWx1ZSkge1xuICB0aGlzLmtleSA9IGtleTtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB0aGlzW05FV0VSXSA9IHVuZGVmaW5lZDtcbiAgdGhpc1tPTERFUl0gPSB1bmRlZmluZWQ7XG59XG5cblxuTFJVTWFwLnByb3RvdHlwZS5fbWFya0VudHJ5QXNVc2VkID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdCkge1xuICAgIC8vIEFscmVhZHkgdGhlIG1vc3QgcmVjZW5sdHkgdXNlZCBlbnRyeSwgc28gbm8gbmVlZCB0byB1cGRhdGUgdGhlIGxpc3RcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gSEVBRC0tLS0tLS0tLS0tLS0tVEFJTFxuICAvLyAgIDwub2xkZXIgICAubmV3ZXI+XG4gIC8vICA8LS0tIGFkZCBkaXJlY3Rpb24gLS1cbiAgLy8gICBBICBCICBDICA8RD4gIEVcbiAgaWYgKGVudHJ5W05FV0VSXSkge1xuICAgIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3QpIHtcbiAgICAgIHRoaXMub2xkZXN0ID0gZW50cnlbTkVXRVJdO1xuICAgIH1cbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gZW50cnlbT0xERVJdOyAvLyBDIDwtLSBFLlxuICB9XG4gIGlmIChlbnRyeVtPTERFUl0pIHtcbiAgICBlbnRyeVtPTERFUl1bTkVXRVJdID0gZW50cnlbTkVXRVJdOyAvLyBDLiAtLT4gRVxuICB9XG4gIGVudHJ5W05FV0VSXSA9IHVuZGVmaW5lZDsgLy8gRCAtLXhcbiAgZW50cnlbT0xERVJdID0gdGhpcy5uZXdlc3Q7IC8vIEQuIC0tPiBFXG4gIGlmICh0aGlzLm5ld2VzdCkge1xuICAgIHRoaXMubmV3ZXN0W05FV0VSXSA9IGVudHJ5OyAvLyBFLiA8LS0gRFxuICB9XG4gIHRoaXMubmV3ZXN0ID0gZW50cnk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmFzc2lnbiA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgbGV0IGVudHJ5LCBsaW1pdCA9IHRoaXMubGltaXQgfHwgTnVtYmVyLk1BWF9WQUxVRTtcbiAgdGhpcy5fa2V5bWFwLmNsZWFyKCk7XG4gIGxldCBpdCA9IGVudHJpZXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICBmb3IgKGxldCBpdHYgPSBpdC5uZXh0KCk7ICFpdHYuZG9uZTsgaXR2ID0gaXQubmV4dCgpKSB7XG4gICAgbGV0IGUgPSBuZXcgRW50cnkoaXR2LnZhbHVlWzBdLCBpdHYudmFsdWVbMV0pO1xuICAgIHRoaXMuX2tleW1hcC5zZXQoZS5rZXksIGUpO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHRoaXMub2xkZXN0ID0gZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnlbTkVXRVJdID0gZTtcbiAgICAgIGVbT0xERVJdID0gZW50cnk7XG4gICAgfVxuICAgIGVudHJ5ID0gZTtcbiAgICBpZiAobGltaXQtLSA9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ292ZXJmbG93Jyk7XG4gICAgfVxuICB9XG4gIHRoaXMubmV3ZXN0ID0gZW50cnk7XG4gIHRoaXMuc2l6ZSA9IHRoaXMuX2tleW1hcC5zaXplO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgLy8gRmlyc3QsIGZpbmQgb3VyIGNhY2hlIGVudHJ5XG4gIHZhciBlbnRyeSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgaWYgKCFlbnRyeSkgcmV0dXJuOyAvLyBOb3QgY2FjaGVkLiBTb3JyeS5cbiAgLy8gQXMgPGtleT4gd2FzIGZvdW5kIGluIHRoZSBjYWNoZSwgcmVnaXN0ZXIgaXQgYXMgYmVpbmcgcmVxdWVzdGVkIHJlY2VudGx5XG4gIHRoaXMuX21hcmtFbnRyeUFzVXNlZChlbnRyeSk7XG4gIHJldHVybiBlbnRyeS52YWx1ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB2YXIgZW50cnkgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG5cbiAgaWYgKGVudHJ5KSB7XG4gICAgLy8gdXBkYXRlIGV4aXN0aW5nXG4gICAgZW50cnkudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLl9tYXJrRW50cnlBc1VzZWQoZW50cnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gbmV3IGVudHJ5XG4gIHRoaXMuX2tleW1hcC5zZXQoa2V5LCAoZW50cnkgPSBuZXcgRW50cnkoa2V5LCB2YWx1ZSkpKTtcblxuICBpZiAodGhpcy5uZXdlc3QpIHtcbiAgICAvLyBsaW5rIHByZXZpb3VzIHRhaWwgdG8gdGhlIG5ldyB0YWlsIChlbnRyeSlcbiAgICB0aGlzLm5ld2VzdFtORVdFUl0gPSBlbnRyeTtcbiAgICBlbnRyeVtPTERFUl0gPSB0aGlzLm5ld2VzdDtcbiAgfSBlbHNlIHtcbiAgICAvLyB3ZSdyZSBmaXJzdCBpbiAtLSB5YXlcbiAgICB0aGlzLm9sZGVzdCA9IGVudHJ5O1xuICB9XG5cbiAgLy8gYWRkIG5ldyBlbnRyeSB0byB0aGUgZW5kIG9mIHRoZSBsaW5rZWQgbGlzdCAtLSBpdCdzIG5vdyB0aGUgZnJlc2hlc3QgZW50cnkuXG4gIHRoaXMubmV3ZXN0ID0gZW50cnk7XG4gICsrdGhpcy5zaXplO1xuICBpZiAodGhpcy5zaXplID4gdGhpcy5saW1pdCkge1xuICAgIC8vIHdlIGhpdCB0aGUgbGltaXQgLS0gcmVtb3ZlIHRoZSBoZWFkXG4gICAgdGhpcy5zaGlmdCgpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gIC8vIHRvZG86IGhhbmRsZSBzcGVjaWFsIGNhc2Ugd2hlbiBsaW1pdCA9PSAxXG4gIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0O1xuICBpZiAoZW50cnkpIHtcbiAgICBpZiAodGhpcy5vbGRlc3RbTkVXRVJdKSB7XG4gICAgICAvLyBhZHZhbmNlIHRoZSBsaXN0XG4gICAgICB0aGlzLm9sZGVzdCA9IHRoaXMub2xkZXN0W05FV0VSXTtcbiAgICAgIHRoaXMub2xkZXN0W09MREVSXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhlIGNhY2hlIGlzIGV4aGF1c3RlZFxuICAgICAgdGhpcy5vbGRlc3QgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGxhc3Qgc3Ryb25nIHJlZmVyZW5jZSB0byA8ZW50cnk+IGFuZCByZW1vdmUgbGlua3MgZnJvbSB0aGUgcHVyZ2VkXG4gICAgLy8gZW50cnkgYmVpbmcgcmV0dXJuZWQ6XG4gICAgZW50cnlbTkVXRVJdID0gZW50cnlbT0xERVJdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2tleW1hcC5kZWxldGUoZW50cnkua2V5KTtcbiAgICAtLXRoaXMuc2l6ZTtcbiAgICByZXR1cm4gW2VudHJ5LmtleSwgZW50cnkudmFsdWVdO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBGb2xsb3dpbmcgY29kZSBpcyBvcHRpb25hbCBhbmQgY2FuIGJlIHJlbW92ZWQgd2l0aG91dCBicmVha2luZyB0aGUgY29yZVxuLy8gZnVuY3Rpb25hbGl0eS5cblxuTFJVTWFwLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oa2V5KSB7XG4gIGxldCBlID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuICByZXR1cm4gZSA/IGUudmFsdWUgOiB1bmRlZmluZWQ7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5fa2V5bWFwLmhhcyhrZXkpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihrZXkpIHtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuICBpZiAoIWVudHJ5KSByZXR1cm47XG4gIHRoaXMuX2tleW1hcC5kZWxldGUoZW50cnkua2V5KTtcbiAgaWYgKGVudHJ5W05FV0VSXSAmJiBlbnRyeVtPTERFUl0pIHtcbiAgICAvLyByZWxpbmsgdGhlIG9sZGVyIGVudHJ5IHdpdGggdGhlIG5ld2VyIGVudHJ5XG4gICAgZW50cnlbT0xERVJdW05FV0VSXSA9IGVudHJ5W05FV0VSXTtcbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gZW50cnlbT0xERVJdO1xuICB9IGVsc2UgaWYgKGVudHJ5W05FV0VSXSkge1xuICAgIC8vIHJlbW92ZSB0aGUgbGluayB0byB1c1xuICAgIGVudHJ5W05FV0VSXVtPTERFUl0gPSB1bmRlZmluZWQ7XG4gICAgLy8gbGluayB0aGUgbmV3ZXIgZW50cnkgdG8gaGVhZFxuICAgIHRoaXMub2xkZXN0ID0gZW50cnlbTkVXRVJdO1xuICB9IGVsc2UgaWYgKGVudHJ5W09MREVSXSkge1xuICAgIC8vIHJlbW92ZSB0aGUgbGluayB0byB1c1xuICAgIGVudHJ5W09MREVSXVtORVdFUl0gPSB1bmRlZmluZWQ7XG4gICAgLy8gbGluayB0aGUgbmV3ZXIgZW50cnkgdG8gaGVhZFxuICAgIHRoaXMubmV3ZXN0ID0gZW50cnlbT0xERVJdO1xuICB9IGVsc2Ugey8vIGlmKGVudHJ5W09MREVSXSA9PT0gdW5kZWZpbmVkICYmIGVudHJ5Lm5ld2VyID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdGhpcy5zaXplLS07XG4gIHJldHVybiBlbnRyeS52YWx1ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgLy8gTm90IGNsZWFyaW5nIGxpbmtzIHNob3VsZCBiZSBzYWZlLCBhcyB3ZSBkb24ndCBleHBvc2UgbGl2ZSBsaW5rcyB0byB1c2VyXG4gIHRoaXMub2xkZXN0ID0gdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX2tleW1hcC5jbGVhcigpO1xufTtcblxuXG5mdW5jdGlvbiBFbnRyeUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuRW50cnlJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuRW50cnlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZW50ID0gdGhpcy5lbnRyeTtcbiAgaWYgKGVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRbTkVXRVJdO1xuICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogW2VudC5rZXksIGVudC52YWx1ZV0gfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gS2V5SXRlcmF0b3Iob2xkZXN0RW50cnkpIHsgdGhpcy5lbnRyeSA9IG9sZGVzdEVudHJ5OyB9XG5LZXlJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuS2V5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGVudCA9IHRoaXMuZW50cnk7XG4gIGlmIChlbnQpIHtcbiAgICB0aGlzLmVudHJ5ID0gZW50W05FV0VSXTtcbiAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IGVudC5rZXkgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFZhbHVlSXRlcmF0b3Iob2xkZXN0RW50cnkpIHsgdGhpcy5lbnRyeSA9IG9sZGVzdEVudHJ5OyB9XG5WYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9XG5WYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBlbnQgPSB0aGlzLmVudHJ5O1xuICBpZiAoZW50KSB7XG4gICAgdGhpcy5lbnRyeSA9IGVudFtORVdFUl07XG4gICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnQudmFsdWUgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gIH1cbn07XG5cblxuTFJVTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgS2V5SXRlcmF0b3IodGhpcy5vbGRlc3QpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBWYWx1ZUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbkxSVU1hcC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IEVudHJ5SXRlcmF0b3IodGhpcy5vbGRlc3QpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZnVuLCB0aGlzT2JqKSB7XG4gIGlmICh0eXBlb2YgdGhpc09iaiAhPT0gJ29iamVjdCcpIHtcbiAgICB0aGlzT2JqID0gdGhpcztcbiAgfVxuICBsZXQgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgZnVuLmNhbGwodGhpc09iaiwgZW50cnkudmFsdWUsIGVudHJ5LmtleSwgdGhpcyk7XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gIH1cbn07XG5cbi8qKiBSZXR1cm5zIGEgSlNPTiAoYXJyYXkpIHJlcHJlc2VudGF0aW9uICovXG5MUlVNYXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcyA9IG5ldyBBcnJheSh0aGlzLnNpemUpLCBpID0gMCwgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgc1tpKytdID0geyBrZXk6IGVudHJ5LmtleSwgdmFsdWU6IGVudHJ5LnZhbHVlIH07XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gIH1cbiAgcmV0dXJuIHM7XG59O1xuXG4vKiogUmV0dXJucyBhIFN0cmluZyByZXByZXNlbnRhdGlvbiAqL1xuTFJVTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcyA9ICcnLCBlbnRyeSA9IHRoaXMub2xkZXN0O1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICBzICs9IFN0cmluZyhlbnRyeS5rZXkpKyc6JytlbnRyeS52YWx1ZTtcbiAgICBlbnRyeSA9IGVudHJ5W05FV0VSXTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHMgKz0gJyA8ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBzO1xufTtcblxufSk7XG4iLCIvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vY2J1cmdtZXIveG1sc2VyaWFsaXplciBcblxuaW1wb3J0IHsgV2ViUmVuZGVyZXIgfSBmcm9tIFwiLi9XZWJSZW5kZXJlclwiO1xuXG5mdW5jdGlvbiByZW1vdmVJbnZhbGlkQ2hhcmFjdGVycyhjb250ZW50OnN0cmluZykge1xuICAgIC8vIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi94bWwvI05ULUNoYXIgZm9yIHZhbGlkIFhNTCAxLjAgY2hhcmFjdGVyc1xuICAgIHJldHVybiBjb250ZW50LnJlcGxhY2UoL1tcXHgwMC1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRl0vZywgJycpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGVWYWx1ZSAodmFsdWU6c3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csICcmYXBvczsnKVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVUZXh0Q29udGVudCAoY29udGVudDpzdHJpbmcpIHtcbiAgICByZXR1cm4gY29udGVudFxuICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUF0dHJpYnV0ZSAobmFtZTpzdHJpbmcsIHZhbHVlOnN0cmluZykge1xuICAgIHJldHVybiAnICcgKyBuYW1lICsgJz1cIicgKyBzZXJpYWxpemVBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSkgKyAnXCInXG59XG5cbmZ1bmN0aW9uIGdldFRhZ05hbWUobm9kZTpFbGVtZW50KSB7XG4gICAgdmFyIHRhZ05hbWUgPSBub2RlLnRhZ05hbWVcbiAgICAvLyBBaWQgaW4gc2VyaWFsaXppbmcgb2Ygb3JpZ2luYWwgSFRNTCBkb2N1bWVudHNcbiAgICBpZiAobm9kZS5uYW1lc3BhY2VVUkkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJykge1xuICAgICAgICB0YWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgfVxuICAgIHJldHVybiB0YWdOYW1lXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZU5hbWVzcGFjZShub2RlOkVsZW1lbnQsIGlzUm9vdE5vZGU6Ym9vbGVhbikge1xuICAgIGNvbnN0IG5vZGVIYXNYbWxuc0F0dHIgPSBub2RlLmhhc0F0dHJpYnV0ZSgneG1sbnMnKVxuICAgIC8vIFNlcmlhbGl6ZSB0aGUgbmFtZXNwYWNlIGFzIGFuIHhtbG5zIGF0dHJpYnV0ZSB3aGVuZXZlciB0aGUgZWxlbWVudFxuICAgIC8vIGRvZXNuJ3QgYWxyZWFkeSBoYXZlIG9uZSBhbmQgdGhlIGluaGVyaXRlZCBuYW1lc3BhY2UgZG9lcyBub3QgbWF0Y2hcbiAgICAvLyB0aGUgZWxlbWVudCdzIG5hbWVzcGFjZS5cbiAgICBpZiAoIW5vZGVIYXNYbWxuc0F0dHIgJiZcbiAgICAgICAgKGlzUm9vdE5vZGUgfHxcbiAgICAgICAgICAgIG5vZGUubmFtZXNwYWNlVVJJICE9PSBub2RlLnBhcmVudEVsZW1lbnQhLm5hbWVzcGFjZVVSSSkpIHtcbiAgICAgICAgcmV0dXJuICcgeG1sbnM9XCInICsgbm9kZS5uYW1lc3BhY2VVUkkgKyAnXCInXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZXJpYWxpemVDaGlsZHJlbihub2RlOkVsZW1lbnQsIG9wdGlvbnM6T3B0aW9ucykge1xuICAgIGxldCBvdXRwdXQgPSBbXVxuICAgIGZvciAoY29uc3QgbiBvZiBub2RlLmNoaWxkTm9kZXMpIG91dHB1dC5wdXNoKG5vZGVUcmVlVG9YSFRNTChuLCBvcHRpb25zKSlcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwob3V0cHV0KS50aGVuKG91dHB1dCA9PiBvdXRwdXQuam9pbignJykpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlcmlhbGl6ZVRhZyhub2RlOkVsZW1lbnQsIG9wdGlvbnM6T3B0aW9ucykge1xuICAgIGNvbnN0IHRhZ05hbWUgPSBnZXRUYWdOYW1lKG5vZGUpXG4gICAgbGV0IG91dHB1dCA9ICc8JyArIHRhZ05hbWVcbiAgICBvdXRwdXQgKz0gc2VyaWFsaXplTmFtZXNwYWNlKG5vZGUsIG9wdGlvbnMuZGVwdGggPT09IDApXG5cbiAgICBjb25zdCBjaGlsZHJlbkhUTUwgPSBzZXJpYWxpemVDaGlsZHJlbihub2RlLCBvcHRpb25zKVxuXG4gICAgY29uc3QgaXNJbWcgPSB0YWdOYW1lID09PSAnaW1nJ1xuICAgIFxuICAgIGZvciAoY29uc3QgYXR0ciBvZiBub2RlLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGlzSW1nICYmIGF0dHIubmFtZSA9PT0gJ3NyYycpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBzZXJpYWxpemVBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhd2FpdCBXZWJSZW5kZXJlci5nZXREYXRhVVJMKGF0dHIudmFsdWUpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ICs9IHNlcmlhbGl6ZUF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb3B0aW9ucy5kZXB0aCsrXG4gICAgICAgIG91dHB1dCArPSAnPidcbiAgICAgICAgb3V0cHV0ICs9IGF3YWl0IGNoaWxkcmVuSFRNTFxuICAgICAgICBvdXRwdXQgKz0gJzwvJyArIHRhZ05hbWUgKyAnPidcbiAgICAgICAgb3B0aW9ucy5kZXB0aC0tXG4gICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0ICs9ICcvPidcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVUZXh0KG5vZGU6VGV4dCkge1xuICAgIHZhciB0ZXh0ID0gbm9kZS5ub2RlVmFsdWUgfHwgJydcbiAgICByZXR1cm4gc2VyaWFsaXplVGV4dENvbnRlbnQodGV4dClcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQ29tbWVudChub2RlOkNvbW1lbnQpIHtcbiAgICByZXR1cm4gJzwhLS0nICtcbiAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgIC5yZXBsYWNlKC8tL2csICcmIzQ1OycpICtcbiAgICAgICAgJy0tPidcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQ0RBVEEobm9kZTpOb2RlKSB7XG4gICAgcmV0dXJuICc8IVtDREFUQVsnICsgbm9kZS5ub2RlVmFsdWUgKyAnXV0+J1xufVxuXG5hc3luYyBmdW5jdGlvbiBub2RlVHJlZVRvWEhUTUwobm9kZTpOb2RlLCBvcHRpb25zOk9wdGlvbnMpIDogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCByZXBsYWNlZCA9IG9wdGlvbnMucmVwbGFjZXI/Lihub2RlKVxuICAgIGlmICh0eXBlb2YgcmVwbGFjZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiByZXBsYWNlZFxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJyNkb2N1bWVudCcgfHxcbiAgICAgICAgbm9kZS5ub2RlTmFtZSA9PT0gJyNkb2N1bWVudC1mcmFnbWVudCcpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUNoaWxkcmVuKG5vZGUgYXMgRWxlbWVudCwgb3B0aW9ucylcbiAgICB9IGVsc2UgaWYgKChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVRhZyhub2RlIGFzIEVsZW1lbnQsIG9wdGlvbnMpXG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnI3RleHQnKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVUZXh0KG5vZGUgYXMgVGV4dClcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT09ICcjY29tbWVudCcpIHtcbiAgICAgICAgLy8gcmV0dXJuIHNlcmlhbGl6ZUNvbW1lbnQobm9kZSBhcyBDb21tZW50KVxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJyNjZGF0YS1zZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplQ0RBVEEobm9kZSlcbiAgICB9XG4gICAgcmV0dXJuICcnXG59XG5cbmludGVyZmFjZSBPcHRpb25zIHtcbiAgICBkZXB0aDpudW1iZXIsXG4gICAgcmVwbGFjZXI/Oihub2RlOk5vZGUpPT5zdHJpbmd8dm9pZFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VyaWFsaXplVG9TdHJpbmcobm9kZTpFbGVtZW50LCByZXBsYWNlcjpPcHRpb25zWydyZXBsYWNlciddKSB7XG4gICAgcmV0dXJuIHJlbW92ZUludmFsaWRDaGFyYWN0ZXJzKGF3YWl0IG5vZGVUcmVlVG9YSFRNTChub2RlLCB7ZGVwdGg6IDAsIHJlcGxhY2VyfSkpXG59IiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgLy8gSGFjayB0byBtYWtlIGFsbCBleHBvcnRzIG9mIHRoaXMgbW9kdWxlIHNoYTI1NiBmdW5jdGlvbiBvYmplY3QgcHJvcGVydGllcy5cbiAgICB2YXIgZXhwb3J0cyA9IHt9O1xuICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gICAgdmFyIHNoYTI1NiA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuICAgIGZvciAodmFyIGsgaW4gZXhwb3J0cykge1xuICAgICAgICBzaGEyNTZba10gPSBleHBvcnRzW2tdO1xuICAgIH1cbiAgICAgICAgXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBzaGEyNTY7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2hhMjU2OyB9KTsgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5zaGEyNTYgPSBzaGEyNTY7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLy8gU0hBLTI1NiAoKyBITUFDIGFuZCBQQktERjIpIGZvciBKYXZhU2NyaXB0LlxuLy9cbi8vIFdyaXR0ZW4gaW4gMjAxNC0yMDE2IGJ5IERtaXRyeSBDaGVzdG55a2guXG4vLyBQdWJsaWMgZG9tYWluLCBubyB3YXJyYW50eS5cbi8vXG4vLyBGdW5jdGlvbnMgKGFjY2VwdCBhbmQgcmV0dXJuIFVpbnQ4QXJyYXlzKTpcbi8vXG4vLyAgIHNoYTI1NihtZXNzYWdlKSAtPiBoYXNoXG4vLyAgIHNoYTI1Ni5obWFjKGtleSwgbWVzc2FnZSkgLT4gbWFjXG4vLyAgIHNoYTI1Ni5wYmtkZjIocGFzc3dvcmQsIHNhbHQsIHJvdW5kcywgZGtMZW4pIC0+IGRrXG4vL1xuLy8gIENsYXNzZXM6XG4vL1xuLy8gICBuZXcgc2hhMjU2Lkhhc2goKVxuLy8gICBuZXcgc2hhMjU2LkhNQUMoa2V5KVxuLy9cbmV4cG9ydHMuZGlnZXN0TGVuZ3RoID0gMzI7XG5leHBvcnRzLmJsb2NrU2l6ZSA9IDY0O1xuLy8gU0hBLTI1NiBjb25zdGFudHNcbnZhciBLID0gbmV3IFVpbnQzMkFycmF5KFtcbiAgICAweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LCAweDM5NTZjMjViLFxuICAgIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsXG4gICAgMHgyNDMxODViZSwgMHg1NTBjN2RjMywgMHg3MmJlNWQ3NCwgMHg4MGRlYjFmZSwgMHg5YmRjMDZhNyxcbiAgICAweGMxOWJmMTc0LCAweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLFxuICAgIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsIDB4OTgzZTUxNTIsXG4gICAgMHhhODMxYzY2ZCwgMHhiMDAzMjdjOCwgMHhiZjU5N2ZjNywgMHhjNmUwMGJmMywgMHhkNWE3OTE0NyxcbiAgICAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LCAweDI3YjcwYTg1LCAweDJlMWIyMTM4LCAweDRkMmM2ZGZjLFxuICAgIDB4NTMzODBkMTMsIDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG4gICAgMHhhMmJmZThhMSwgMHhhODFhNjY0YiwgMHhjMjRiOGI3MCwgMHhjNzZjNTFhMywgMHhkMTkyZTgxOSxcbiAgICAweGQ2OTkwNjI0LCAweGY0MGUzNTg1LCAweDEwNmFhMDcwLCAweDE5YTRjMTE2LCAweDFlMzc2YzA4LFxuICAgIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsXG4gICAgMHg2ODJlNmZmMywgMHg3NDhmODJlZSwgMHg3OGE1NjM2ZiwgMHg4NGM4NzgxNCwgMHg4Y2M3MDIwOCxcbiAgICAweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXG5dKTtcbmZ1bmN0aW9uIGhhc2hCbG9ja3ModywgdiwgcCwgcG9zLCBsZW4pIHtcbiAgICB2YXIgYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgdSwgaSwgaiwgdDEsIHQyO1xuICAgIHdoaWxlIChsZW4gPj0gNjQpIHtcbiAgICAgICAgYSA9IHZbMF07XG4gICAgICAgIGIgPSB2WzFdO1xuICAgICAgICBjID0gdlsyXTtcbiAgICAgICAgZCA9IHZbM107XG4gICAgICAgIGUgPSB2WzRdO1xuICAgICAgICBmID0gdls1XTtcbiAgICAgICAgZyA9IHZbNl07XG4gICAgICAgIGggPSB2WzddO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgaiA9IHBvcyArIGkgKiA0O1xuICAgICAgICAgICAgd1tpXSA9ICgoKHBbal0gJiAweGZmKSA8PCAyNCkgfCAoKHBbaiArIDFdICYgMHhmZikgPDwgMTYpIHxcbiAgICAgICAgICAgICAgICAoKHBbaiArIDJdICYgMHhmZikgPDwgOCkgfCAocFtqICsgM10gJiAweGZmKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICB1ID0gd1tpIC0gMl07XG4gICAgICAgICAgICB0MSA9ICh1ID4+PiAxNyB8IHUgPDwgKDMyIC0gMTcpKSBeICh1ID4+PiAxOSB8IHUgPDwgKDMyIC0gMTkpKSBeICh1ID4+PiAxMCk7XG4gICAgICAgICAgICB1ID0gd1tpIC0gMTVdO1xuICAgICAgICAgICAgdDIgPSAodSA+Pj4gNyB8IHUgPDwgKDMyIC0gNykpIF4gKHUgPj4+IDE4IHwgdSA8PCAoMzIgLSAxOCkpIF4gKHUgPj4+IDMpO1xuICAgICAgICAgICAgd1tpXSA9ICh0MSArIHdbaSAtIDddIHwgMCkgKyAodDIgKyB3W2kgLSAxNl0gfCAwKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgdDEgPSAoKCgoKGUgPj4+IDYgfCBlIDw8ICgzMiAtIDYpKSBeIChlID4+PiAxMSB8IGUgPDwgKDMyIC0gMTEpKSBeXG4gICAgICAgICAgICAgICAgKGUgPj4+IDI1IHwgZSA8PCAoMzIgLSAyNSkpKSArICgoZSAmIGYpIF4gKH5lICYgZykpKSB8IDApICtcbiAgICAgICAgICAgICAgICAoKGggKyAoKEtbaV0gKyB3W2ldKSB8IDApKSB8IDApKSB8IDA7XG4gICAgICAgICAgICB0MiA9ICgoKGEgPj4+IDIgfCBhIDw8ICgzMiAtIDIpKSBeIChhID4+PiAxMyB8IGEgPDwgKDMyIC0gMTMpKSBeXG4gICAgICAgICAgICAgICAgKGEgPj4+IDIyIHwgYSA8PCAoMzIgLSAyMikpKSArICgoYSAmIGIpIF4gKGEgJiBjKSBeIChiICYgYykpKSB8IDA7XG4gICAgICAgICAgICBoID0gZztcbiAgICAgICAgICAgIGcgPSBmO1xuICAgICAgICAgICAgZiA9IGU7XG4gICAgICAgICAgICBlID0gKGQgKyB0MSkgfCAwO1xuICAgICAgICAgICAgZCA9IGM7XG4gICAgICAgICAgICBjID0gYjtcbiAgICAgICAgICAgIGIgPSBhO1xuICAgICAgICAgICAgYSA9ICh0MSArIHQyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgdlswXSArPSBhO1xuICAgICAgICB2WzFdICs9IGI7XG4gICAgICAgIHZbMl0gKz0gYztcbiAgICAgICAgdlszXSArPSBkO1xuICAgICAgICB2WzRdICs9IGU7XG4gICAgICAgIHZbNV0gKz0gZjtcbiAgICAgICAgdls2XSArPSBnO1xuICAgICAgICB2WzddICs9IGg7XG4gICAgICAgIHBvcyArPSA2NDtcbiAgICAgICAgbGVuIC09IDY0O1xuICAgIH1cbiAgICByZXR1cm4gcG9zO1xufVxuLy8gSGFzaCBpbXBsZW1lbnRzIFNIQTI1NiBoYXNoIGFsZ29yaXRobS5cbnZhciBIYXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhhc2goKSB7XG4gICAgICAgIHRoaXMuZGlnZXN0TGVuZ3RoID0gZXhwb3J0cy5kaWdlc3RMZW5ndGg7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gZXhwb3J0cy5ibG9ja1NpemU7XG4gICAgICAgIC8vIE5vdGU6IEludDMyQXJyYXkgaXMgdXNlZCBpbnN0ZWFkIG9mIFVpbnQzMkFycmF5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IEludDMyQXJyYXkoOCk7IC8vIGhhc2ggc3RhdGVcbiAgICAgICAgdGhpcy50ZW1wID0gbmV3IEludDMyQXJyYXkoNjQpOyAvLyB0ZW1wb3Jhcnkgc3RhdGVcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgxMjgpOyAvLyBidWZmZXIgZm9yIGRhdGEgdG8gaGFzaFxuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7IC8vIG51bWJlciBvZiBieXRlcyBpbiBidWZmZXJcbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCA9IDA7IC8vIG51bWJlciBvZiB0b3RhbCBieXRlcyBoYXNoZWRcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOyAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGUgaGFzaCB3YXMgZmluYWxpemVkXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLy8gUmVzZXRzIGhhc2ggc3RhdGUgbWFraW5nIGl0IHBvc3NpYmxlXG4gICAgLy8gdG8gcmUtdXNlIHRoaXMgaW5zdGFuY2UgdG8gaGFzaCBvdGhlciBkYXRhLlxuICAgIEhhc2gucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlWzBdID0gMHg2YTA5ZTY2NztcbiAgICAgICAgdGhpcy5zdGF0ZVsxXSA9IDB4YmI2N2FlODU7XG4gICAgICAgIHRoaXMuc3RhdGVbMl0gPSAweDNjNmVmMzcyO1xuICAgICAgICB0aGlzLnN0YXRlWzNdID0gMHhhNTRmZjUzYTtcbiAgICAgICAgdGhpcy5zdGF0ZVs0XSA9IDB4NTEwZTUyN2Y7XG4gICAgICAgIHRoaXMuc3RhdGVbNV0gPSAweDliMDU2ODhjO1xuICAgICAgICB0aGlzLnN0YXRlWzZdID0gMHgxZjgzZDlhYjtcbiAgICAgICAgdGhpcy5zdGF0ZVs3XSA9IDB4NWJlMGNkMTk7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCA9IDA7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBDbGVhbnMgaW50ZXJuYWwgYnVmZmVycyBhbmQgcmUtaW5pdGlhbGl6ZXMgaGFzaCBzdGF0ZS5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8vIFVwZGF0ZXMgaGFzaCBzdGF0ZSB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgIC8vXG4gICAgLy8gT3B0aW9uYWxseSwgbGVuZ3RoIG9mIHRoZSBkYXRhIGNhbiBiZSBzcGVjaWZpZWQgdG8gaGFzaFxuICAgIC8vIGZld2VyIGJ5dGVzIHRoYW4gZGF0YS5sZW5ndGguXG4gICAgLy9cbiAgICAvLyBUaHJvd3MgZXJyb3Igd2hlbiB0cnlpbmcgdG8gdXBkYXRlIGFscmVhZHkgZmluYWxpemVkIGhhc2g6XG4gICAgLy8gaW5zdGFuY2UgbXVzdCBiZSByZXNldCB0byB1c2UgaXQgYWdhaW4uXG4gICAgSGFzaC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGFMZW5ndGgpIHtcbiAgICAgICAgaWYgKGRhdGFMZW5ndGggPT09IHZvaWQgMCkgeyBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGg7IH1cbiAgICAgICAgaWYgKHRoaXMuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNIQTI1NjogY2FuJ3QgdXBkYXRlIGJlY2F1c2UgaGFzaCB3YXMgZmluaXNoZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhUG9zID0gMDtcbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCArPSBkYXRhTGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5idWZmZXJMZW5ndGggPCA2NCAmJiBkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdID0gZGF0YVtkYXRhUG9zKytdO1xuICAgICAgICAgICAgICAgIGRhdGFMZW5ndGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA9PT0gNjQpIHtcbiAgICAgICAgICAgICAgICBoYXNoQmxvY2tzKHRoaXMudGVtcCwgdGhpcy5zdGF0ZSwgdGhpcy5idWZmZXIsIDAsIDY0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFMZW5ndGggPj0gNjQpIHtcbiAgICAgICAgICAgIGRhdGFQb3MgPSBoYXNoQmxvY2tzKHRoaXMudGVtcCwgdGhpcy5zdGF0ZSwgZGF0YSwgZGF0YVBvcywgZGF0YUxlbmd0aCk7XG4gICAgICAgICAgICBkYXRhTGVuZ3RoICU9IDY0O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJMZW5ndGgrK10gPSBkYXRhW2RhdGFQb3MrK107XG4gICAgICAgICAgICBkYXRhTGVuZ3RoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBGaW5hbGl6ZXMgaGFzaCBzdGF0ZSBhbmQgcHV0cyBoYXNoIGludG8gb3V0LlxuICAgIC8vXG4gICAgLy8gSWYgaGFzaCB3YXMgYWxyZWFkeSBmaW5hbGl6ZWQsIHB1dHMgdGhlIHNhbWUgdmFsdWUuXG4gICAgSGFzaC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBieXRlc0hhc2hlZCA9IHRoaXMuYnl0ZXNIYXNoZWQ7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMuYnVmZmVyTGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGJpdExlbkhpID0gKGJ5dGVzSGFzaGVkIC8gMHgyMDAwMDAwMCkgfCAwO1xuICAgICAgICAgICAgdmFyIGJpdExlbkxvID0gYnl0ZXNIYXNoZWQgPDwgMztcbiAgICAgICAgICAgIHZhciBwYWRMZW5ndGggPSAoYnl0ZXNIYXNoZWQgJSA2NCA8IDU2KSA/IDY0IDogMTI4O1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbbGVmdF0gPSAweDgwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxlZnQgKyAxOyBpIDwgcGFkTGVuZ3RoIC0gODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gOF0gPSAoYml0TGVuSGkgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA3XSA9IChiaXRMZW5IaSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDZdID0gKGJpdExlbkhpID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA1XSA9IChiaXRMZW5IaSA+Pj4gMCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gNF0gPSAoYml0TGVuTG8gPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAzXSA9IChiaXRMZW5MbyA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDJdID0gKGJpdExlbkxvID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAxXSA9IChiaXRMZW5MbyA+Pj4gMCkgJiAweGZmO1xuICAgICAgICAgICAgaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIHRoaXMuYnVmZmVyLCAwLCBwYWRMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpICogNCArIDBdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAxXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgMl0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgM10gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMCkgJiAweGZmO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyB0aGUgZmluYWwgaGFzaCBkaWdlc3QuXG4gICAgSGFzaC5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kaWdlc3RMZW5ndGgpO1xuICAgICAgICB0aGlzLmZpbmlzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gZm9yIHVzZSBpbiBITUFDIGZvciBvcHRpbWl6YXRpb24uXG4gICAgSGFzaC5wcm90b3R5cGUuX3NhdmVTdGF0ZSA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSB0aGlzLnN0YXRlW2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbiBmb3IgdXNlIGluIEhNQUMgZm9yIG9wdGltaXphdGlvbi5cbiAgICBIYXNoLnByb3RvdHlwZS5fcmVzdG9yZVN0YXRlID0gZnVuY3Rpb24gKGZyb20sIGJ5dGVzSGFzaGVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVtpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCA9IGJ5dGVzSGFzaGVkO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBIYXNoO1xufSgpKTtcbmV4cG9ydHMuSGFzaCA9IEhhc2g7XG4vLyBITUFDIGltcGxlbWVudHMgSE1BQy1TSEEyNTYgbWVzc2FnZSBhdXRoZW50aWNhdGlvbiBhbGdvcml0aG0uXG52YXIgSE1BQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBITUFDKGtleSkge1xuICAgICAgICB0aGlzLmlubmVyID0gbmV3IEhhc2goKTtcbiAgICAgICAgdGhpcy5vdXRlciA9IG5ldyBIYXNoKCk7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gdGhpcy5pbm5lci5ibG9ja1NpemU7XG4gICAgICAgIHRoaXMuZGlnZXN0TGVuZ3RoID0gdGhpcy5pbm5lci5kaWdlc3RMZW5ndGg7XG4gICAgICAgIHZhciBwYWQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJsb2NrU2l6ZSk7XG4gICAgICAgIGlmIChrZXkubGVuZ3RoID4gdGhpcy5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIChuZXcgSGFzaCgpKS51cGRhdGUoa2V5KS5maW5pc2gocGFkKS5jbGVhbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYWRbaV0gPSBrZXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZFtpXSBePSAweDM2O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5uZXIudXBkYXRlKHBhZCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWRbaV0gXj0gMHgzNiBeIDB4NWM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRlci51cGRhdGUocGFkKTtcbiAgICAgICAgdGhpcy5pc3RhdGUgPSBuZXcgVWludDMyQXJyYXkoOCk7XG4gICAgICAgIHRoaXMub3N0YXRlID0gbmV3IFVpbnQzMkFycmF5KDgpO1xuICAgICAgICB0aGlzLmlubmVyLl9zYXZlU3RhdGUodGhpcy5pc3RhdGUpO1xuICAgICAgICB0aGlzLm91dGVyLl9zYXZlU3RhdGUodGhpcy5vc3RhdGUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFkW2ldID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZXR1cm5zIEhNQUMgc3RhdGUgdG8gdGhlIHN0YXRlIGluaXRpYWxpemVkIHdpdGgga2V5XG4gICAgLy8gdG8gbWFrZSBpdCBwb3NzaWJsZSB0byBydW4gSE1BQyBvdmVyIHRoZSBvdGhlciBkYXRhIHdpdGggdGhlIHNhbWVcbiAgICAvLyBrZXkgd2l0aG91dCBjcmVhdGluZyBhIG5ldyBpbnN0YW5jZS5cbiAgICBITUFDLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm5lci5fcmVzdG9yZVN0YXRlKHRoaXMuaXN0YXRlLCB0aGlzLmlubmVyLmJsb2NrU2l6ZSk7XG4gICAgICAgIHRoaXMub3V0ZXIuX3Jlc3RvcmVTdGF0ZSh0aGlzLm9zdGF0ZSwgdGhpcy5vdXRlci5ibG9ja1NpemUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENsZWFucyBITUFDIHN0YXRlLlxuICAgIEhNQUMucHJvdG90eXBlLmNsZWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm9zdGF0ZVtpXSA9IHRoaXMuaXN0YXRlW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubmVyLmNsZWFuKCk7XG4gICAgICAgIHRoaXMub3V0ZXIuY2xlYW4oKTtcbiAgICB9O1xuICAgIC8vIFVwZGF0ZXMgc3RhdGUgd2l0aCBwcm92aWRlZCBkYXRhLlxuICAgIEhNQUMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuaW5uZXIudXBkYXRlKGRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIEZpbmFsaXplcyBITUFDIGFuZCBwdXRzIHRoZSByZXN1bHQgaW4gb3V0LlxuICAgIEhNQUMucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgaWYgKHRoaXMub3V0ZXIuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluaXNoKG91dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyLmZpbmlzaChvdXQpO1xuICAgICAgICAgICAgdGhpcy5vdXRlci51cGRhdGUob3V0LCB0aGlzLmRpZ2VzdExlbmd0aCkuZmluaXNoKG91dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIG1lc3NhZ2UgYXV0aGVudGljYXRpb24gY29kZS5cbiAgICBITUFDLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSh0aGlzLmRpZ2VzdExlbmd0aCk7XG4gICAgICAgIHRoaXMuZmluaXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICByZXR1cm4gSE1BQztcbn0oKSk7XG5leHBvcnRzLkhNQUMgPSBITUFDO1xuLy8gUmV0dXJucyBTSEEyNTYgaGFzaCBvZiBkYXRhLlxuZnVuY3Rpb24gaGFzaChkYXRhKSB7XG4gICAgdmFyIGggPSAobmV3IEhhc2goKSkudXBkYXRlKGRhdGEpO1xuICAgIHZhciBkaWdlc3QgPSBoLmRpZ2VzdCgpO1xuICAgIGguY2xlYW4oKTtcbiAgICByZXR1cm4gZGlnZXN0O1xufVxuZXhwb3J0cy5oYXNoID0gaGFzaDtcbi8vIEZ1bmN0aW9uIGhhc2ggaXMgYm90aCBhdmFpbGFibGUgYXMgbW9kdWxlLmhhc2ggYW5kIGFzIGRlZmF1bHQgZXhwb3J0LlxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBoYXNoO1xuLy8gUmV0dXJucyBITUFDLVNIQTI1NiBvZiBkYXRhIHVuZGVyIHRoZSBrZXkuXG5mdW5jdGlvbiBobWFjKGtleSwgZGF0YSkge1xuICAgIHZhciBoID0gKG5ldyBITUFDKGtleSkpLnVwZGF0ZShkYXRhKTtcbiAgICB2YXIgZGlnZXN0ID0gaC5kaWdlc3QoKTtcbiAgICBoLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRpZ2VzdDtcbn1cbmV4cG9ydHMuaG1hYyA9IGhtYWM7XG4vLyBGaWxscyBoa2RmIGJ1ZmZlciBsaWtlIHRoaXM6XG4vLyBUKDEpID0gSE1BQy1IYXNoKFBSSywgVCgwKSB8IGluZm8gfCAweDAxKVxuZnVuY3Rpb24gZmlsbEJ1ZmZlcihidWZmZXIsIGhtYWMsIGluZm8sIGNvdW50ZXIpIHtcbiAgICAvLyBDb3VudGVyIGlzIGEgYnl0ZSB2YWx1ZTogY2hlY2sgaWYgaXQgb3ZlcmZsb3dlZC5cbiAgICB2YXIgbnVtID0gY291bnRlclswXTtcbiAgICBpZiAobnVtID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImhrZGY6IGNhbm5vdCBleHBhbmQgbW9yZVwiKTtcbiAgICB9XG4gICAgLy8gUHJlcGFyZSBITUFDIGluc3RhbmNlIGZvciBuZXcgZGF0YSB3aXRoIG9sZCBrZXkuXG4gICAgaG1hYy5yZXNldCgpO1xuICAgIC8vIEhhc2ggaW4gcHJldmlvdXMgb3V0cHV0IGlmIGl0IHdhcyBnZW5lcmF0ZWRcbiAgICAvLyAoaS5lLiBjb3VudGVyIGlzIGdyZWF0ZXIgdGhhbiAxKS5cbiAgICBpZiAobnVtID4gMSkge1xuICAgICAgICBobWFjLnVwZGF0ZShidWZmZXIpO1xuICAgIH1cbiAgICAvLyBIYXNoIGluIGluZm8gaWYgaXQgZXhpc3RzLlxuICAgIGlmIChpbmZvKSB7XG4gICAgICAgIGhtYWMudXBkYXRlKGluZm8pO1xuICAgIH1cbiAgICAvLyBIYXNoIGluIHRoZSBjb3VudGVyLlxuICAgIGhtYWMudXBkYXRlKGNvdW50ZXIpO1xuICAgIC8vIE91dHB1dCByZXN1bHQgdG8gYnVmZmVyIGFuZCBjbGVhbiBITUFDIGluc3RhbmNlLlxuICAgIGhtYWMuZmluaXNoKGJ1ZmZlcik7XG4gICAgLy8gSW5jcmVtZW50IGNvdW50ZXIgaW5zaWRlIHR5cGVkIGFycmF5LCB0aGlzIHdvcmtzIHByb3Blcmx5LlxuICAgIGNvdW50ZXJbMF0rKztcbn1cbnZhciBoa2RmU2FsdCA9IG5ldyBVaW50OEFycmF5KGV4cG9ydHMuZGlnZXN0TGVuZ3RoKTsgLy8gRmlsbGVkIHdpdGggemVyb2VzLlxuZnVuY3Rpb24gaGtkZihrZXksIHNhbHQsIGluZm8sIGxlbmd0aCkge1xuICAgIGlmIChzYWx0ID09PSB2b2lkIDApIHsgc2FsdCA9IGhrZGZTYWx0OyB9XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7IGxlbmd0aCA9IDMyOyB9XG4gICAgdmFyIGNvdW50ZXIgPSBuZXcgVWludDhBcnJheShbMV0pO1xuICAgIC8vIEhLREYtRXh0cmFjdCB1c2VzIHNhbHQgYXMgSE1BQyBrZXksIGFuZCBrZXkgYXMgZGF0YS5cbiAgICB2YXIgb2ttID0gaG1hYyhzYWx0LCBrZXkpO1xuICAgIC8vIEluaXRpYWxpemUgSE1BQyBmb3IgZXhwYW5kaW5nIHdpdGggZXh0cmFjdGVkIGtleS5cbiAgICAvLyBFbnN1cmUgbm8gY29sbGlzaW9ucyB3aXRoIGBobWFjYCBmdW5jdGlvbi5cbiAgICB2YXIgaG1hY18gPSBuZXcgSE1BQyhva20pO1xuICAgIC8vIEFsbG9jYXRlIGJ1ZmZlci5cbiAgICB2YXIgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoaG1hY18uZGlnZXN0TGVuZ3RoKTtcbiAgICB2YXIgYnVmcG9zID0gYnVmZmVyLmxlbmd0aDtcbiAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChidWZwb3MgPT09IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZpbGxCdWZmZXIoYnVmZmVyLCBobWFjXywgaW5mbywgY291bnRlcik7XG4gICAgICAgICAgICBidWZwb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIG91dFtpXSA9IGJ1ZmZlcltidWZwb3MrK107XG4gICAgfVxuICAgIGhtYWNfLmNsZWFuKCk7XG4gICAgYnVmZmVyLmZpbGwoMCk7XG4gICAgY291bnRlci5maWxsKDApO1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLmhrZGYgPSBoa2RmO1xuLy8gRGVyaXZlcyBhIGtleSBmcm9tIHBhc3N3b3JkIGFuZCBzYWx0IHVzaW5nIFBCS0RGMi1ITUFDLVNIQTI1NlxuLy8gd2l0aCB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGl0ZXJhdGlvbnMuXG4vL1xuLy8gVGhlIG51bWJlciBvZiBieXRlcyByZXR1cm5lZCBpcyBlcXVhbCB0byBka0xlbi5cbi8vXG4vLyAoRm9yIGJldHRlciBzZWN1cml0eSwgYXZvaWQgZGtMZW4gZ3JlYXRlciB0aGFuIGhhc2ggbGVuZ3RoIC0gMzIgYnl0ZXMpLlxuZnVuY3Rpb24gcGJrZGYyKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBka0xlbikge1xuICAgIHZhciBwcmYgPSBuZXcgSE1BQyhwYXNzd29yZCk7XG4gICAgdmFyIGxlbiA9IHByZi5kaWdlc3RMZW5ndGg7XG4gICAgdmFyIGN0ciA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgIHZhciB0ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICB2YXIgdSA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgdmFyIGRrID0gbmV3IFVpbnQ4QXJyYXkoZGtMZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpICogbGVuIDwgZGtMZW47IGkrKykge1xuICAgICAgICB2YXIgYyA9IGkgKyAxO1xuICAgICAgICBjdHJbMF0gPSAoYyA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgY3RyWzFdID0gKGMgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGN0clsyXSA9IChjID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIGN0clszXSA9IChjID4+PiAwKSAmIDB4ZmY7XG4gICAgICAgIHByZi5yZXNldCgpO1xuICAgICAgICBwcmYudXBkYXRlKHNhbHQpO1xuICAgICAgICBwcmYudXBkYXRlKGN0cik7XG4gICAgICAgIHByZi5maW5pc2godSk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIHRbal0gPSB1W2pdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAyOyBqIDw9IGl0ZXJhdGlvbnM7IGorKykge1xuICAgICAgICAgICAgcHJmLnJlc2V0KCk7XG4gICAgICAgICAgICBwcmYudXBkYXRlKHUpLmZpbmlzaCh1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVuOyBrKyspIHtcbiAgICAgICAgICAgICAgICB0W2tdIF49IHVba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW4gJiYgaSAqIGxlbiArIGogPCBka0xlbjsgaisrKSB7XG4gICAgICAgICAgICBka1tpICogbGVuICsgal0gPSB0W2pdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdFtpXSA9IHVbaV0gPSAwO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBjdHJbaV0gPSAwO1xuICAgIH1cbiAgICBwcmYuY2xlYW4oKTtcbiAgICByZXR1cm4gZGs7XG59XG5leHBvcnRzLnBia2RmMiA9IHBia2RmMjtcbn0pO1xuIiwiaW1wb3J0IHtXZWJSZW5kZXJlcn0gZnJvbSAnLi9XZWJSZW5kZXJlcidcbmltcG9ydCBcImZhc3QtdGV4dC1lbmNvZGluZ1wiXG5pbXBvcnQge1xuICBhZGRDU1NSdWxlLFxuICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMsXG4gIGdldEJvdW5kcyxcbiAgZ2V0UGFkZGluZyxcbiAgZ2V0TWFyZ2luLFxuICBnZXRCb3JkZXIsXG4gIEJvdW5kcyxcbiAgRWRnZXNcbn0gZnJvbSAnLi9kb20tdXRpbHMnXG5pbXBvcnQgeyBMUlVNYXAgfSBmcm9tICdscnVfbWFwJ1xuaW1wb3J0ICogYXMgc2hhMjU2IGZyb20gJ2Zhc3Qtc2hhMjU2J1xuXG5pbXBvcnQge3NlcmlhbGl6ZVRvU3RyaW5nLCBzZXJpYWxpemVBdHRyaWJ1dGV9IGZyb20gJy4veG1sLXNlcmlhbGl6ZXInXG5cbmV4cG9ydCB0eXBlIEV2ZW50Q2FsbGJhY2sgPSAoXG4gIGV2ZW50OlxuICAgIHwgJ2xheWVyY2hhbmdlZCdcbiAgICB8ICdsYXllcnJlc2l6ZWQnXG4gICAgfCAnbGF5ZXJjcmVhdGVkJ1xuICAgIHwgJ2xheWVybW92ZWQnXG4gICAgfCAncmVtb3ZhbHJlcXVpcmVkJ1xuICAgIHwgJ2lucHV0cmVxdWlyZWQnLFxuICBkYXRhOiB7IHRhcmdldDogRWxlbWVudCB9XG4pID0+IHZvaWRcblxuY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuXG50eXBlIFNWR0hhc2ggPSBzdHJpbmdcbnR5cGUgQ2FudmFzSGFzaCA9IHN0cmluZ1xuXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIge1xuICBzdGF0aWMgREVGQVVMVF9DQUNIRV9TSVpFID0gNFxuICBwcml2YXRlIHN0YXRpYyBzdmdSZXRyeUNvdW50OiBNYXA8U1ZHSGFzaCwgbnVtYmVyPiA9IG5ldyBNYXBcbiAgcHJpdmF0ZSBzdGF0aWMgc3ZnQ2FudmFzSGFzaDogTFJVTWFwPFNWR0hhc2gsIENhbnZhc0hhc2g+ID0gbmV3IExSVU1hcCgxMDAwKVxuICBwcml2YXRlIHN0YXRpYyBjYWNoZWRDYW52YXNlczogTFJVTWFwPENhbnZhc0hhc2gsIEhUTUxDYW52YXNFbGVtZW50PiA9IG5ldyBMUlVNYXAoV2ViTGF5ZXIuREVGQVVMVF9DQUNIRV9TSVpFKVxuXG4gIGlkOnN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIFdlYlJlbmRlcmVyLmxheWVycy5zZXQoZWxlbWVudCwgdGhpcylcbiAgICB0aGlzLmlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKSB8fCAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKClcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIHRoaXMuaWQpXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFLCcnKVxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LCBmYWxzZSlcbiAgICB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVyY3JlYXRlZCcsIHsgdGFyZ2V0OiBlbGVtZW50IH0pXG4gICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMubGltaXQgPSBXZWJSZW5kZXJlci5sYXllcnMuc2l6ZSAqIFdlYkxheWVyLkRFRkFVTFRfQ0FDSEVfU0laRVxuICAgIHRoaXMuX2hhc2hpbmdDYW52YXMud2lkdGggPSAyMFxuICAgIHRoaXMuX2hhc2hpbmdDYW52YXMuaGVpZ2h0ID0gMjBcbiAgfVxuXG4gIG5lZWRzUmVmcmVzaCA9IHRydWVcbiAgbmVlZHNSZW1vdmFsID0gZmFsc2VcblxuICBwc2V1ZG9TdGF0ZXMgPSB7XG4gICAgaG92ZXI6IGZhbHNlLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZm9jdXM6IGZhbHNlLFxuICAgIHRhcmdldDogZmFsc2VcbiAgfVxuXG4gIHN2Z0ltYWdlOiBIVE1MSW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKClcbiAgXG4gIHByaXZhdGUgYm91bmRzID0gbmV3IEJvdW5kcygpXG4gIHByaXZhdGUgcGFkZGluZyA9IG5ldyBFZGdlcygpXG4gIHByaXZhdGUgbWFyZ2luID0gbmV3IEVkZ2VzKClcbiAgcHJpdmF0ZSBib3JkZXIgPSBuZXcgRWRnZXMoKVxuICBcbiAgcGFyZW50TGF5ZXI/OiBXZWJMYXllclxuICBjaGlsZExheWVycyA9IFtdIGFzIFdlYkxheWVyW11cbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuXG4gIHJhc3Rlcml6YXRpb25Db3VudDogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKVxuICBjYWNoZWRCb3VuZHM6IE1hcDxzdHJpbmcsIEJvdW5kcz4gPSBuZXcgTWFwKClcbiAgY2FjaGVkTWFyZ2luOiBNYXA8c3RyaW5nLCBFZGdlcz4gPSBuZXcgTWFwKClcblxuICBwcml2YXRlIF9keW5hbWljQXR0cmlidXRlcyA9ICcnXG4gIHByaXZhdGUgX3N2Z0hhc2ggPSAnJ1xuICBwcml2YXRlIF9zdmdEb2N1bWVudCA9ICcnXG4gIHByaXZhdGUgX3N2Z0hhc2hSYXN0ZXJpemluZyA9ICcnXG4gIHByaXZhdGUgX3N2Z1NyYyA9ICcnXG4gIHByaXZhdGUgX2hhc2hpbmdDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG4gIF9jdXJyZW50U1ZHSGFzaD86IHN0cmluZ1xuICBfY3VycmVudENhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50XG4gIF9jdXJyZW50Qm91bmRzITogQm91bmRzXG4gIF9jdXJyZW50TWFyZ2luITogRWRnZXNcblxuICB0cnlTZXRGcm9tU1ZHSGFzaChzdmdIYXNoOlNWR0hhc2gpIHtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmNhY2hlZEJvdW5kcy5nZXQoc3ZnSGFzaClcbiAgICBjb25zdCBtYXJnaW4gPSB0aGlzLmNhY2hlZE1hcmdpbi5nZXQoc3ZnSGFzaClcbiAgICBpZiAoc3ZnSGFzaCA9PSB0aGlzLl9jdXJyZW50U1ZHSGFzaCkge1xuICAgICAgaWYgKGJvdW5kcyAmJiBtYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IGJvdW5kc1xuICAgICAgICB0aGlzLl9jdXJyZW50TWFyZ2luID0gbWFyZ2luXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZSBcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJldmlvdXNDYW52YXNIYXNoID0gV2ViTGF5ZXIuc3ZnQ2FudmFzSGFzaC5nZXQodGhpcy5fY3VycmVudFNWR0hhc2ghKVxuICAgICAgY29uc3QgY2FudmFzSGFzaCA9IFdlYkxheWVyLnN2Z0NhbnZhc0hhc2guZ2V0KHN2Z0hhc2gpIVxuICAgICAgY29uc3QgY2FudmFzID0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuZ2V0KGNhbnZhc0hhc2gpXG4gICAgICBpZiAoY2FudmFzICYmIGJvdW5kcyAmJiBtYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFNWR0hhc2ggPSBzdmdIYXNoXG4gICAgICAgIHRoaXMuX2N1cnJlbnRDYW52YXMgPSBjYW52YXNcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IGJvdW5kc1xuICAgICAgICB0aGlzLl9jdXJyZW50TWFyZ2luID0gbWFyZ2luXG4gICAgICAgIGlmIChwcmV2aW91c0NhbnZhc0hhc2ggIT09IGNhbnZhc0hhc2ggJiYgdGhpcy5ldmVudENhbGxiYWNrKSB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVyY2hhbmdlZCcsIHsgdGFyZ2V0OiB0aGlzLmVsZW1lbnQgfSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgY3VycmVudENhbnZhcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudENhbnZhc1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRCb3VuZHNcbiAgfVxuXG4gIGdldCBjdXJyZW50TWFyZ2luKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50TWFyZ2luXG4gIH1cblxuICBnZXQgZGVwdGgoKSB7XG4gICAgbGV0IGRlcHRoID0gMFxuICAgIGxldCBsYXllciA9IHRoaXMgYXMgV2ViTGF5ZXJcbiAgICB3aGlsZSAobGF5ZXIucGFyZW50TGF5ZXIpIHtcbiAgICAgIGxheWVyID0gbGF5ZXIucGFyZW50TGF5ZXJcbiAgICAgIGRlcHRoKytcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoXG4gIH1cblxuICBnZXQgcm9vdExheWVyKCkge1xuICAgIGxldCByb290TGF5ZXIgPSB0aGlzIGFzIFdlYkxheWVyXG4gICAgd2hpbGUgKHJvb3RMYXllci5wYXJlbnRMYXllcikgcm9vdExheWVyID0gcm9vdExheWVyLnBhcmVudExheWVyXG4gICAgcmV0dXJuIHJvb3RMYXllclxuICB9XG5cbiAgdHJhdmVyc2VQYXJlbnRMYXllcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCBwYXJlbnRMYXllciA9IHRoaXMucGFyZW50TGF5ZXJcbiAgICBpZiAocGFyZW50TGF5ZXIpIHtcbiAgICAgIHBhcmVudExheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKGVhY2gpXG4gICAgICBlYWNoKHBhcmVudExheWVyKVxuICAgIH1cbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzKGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWQpIHtcbiAgICBlYWNoKHRoaXMpXG4gICAgdGhpcy50cmF2ZXJzZUNoaWxkTGF5ZXJzKGVhY2gpXG4gIH1cblxuICB0cmF2ZXJzZUNoaWxkTGF5ZXJzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWRcbiAgKSB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkTGF5ZXJzKSB7XG4gICAgICBjaGlsZC50cmF2ZXJzZUxheWVycyhlYWNoKVxuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgZ2V0Qm91bmRzKHRoaXMuZWxlbWVudCwgdGhpcy5ib3VuZHMsIHRoaXMucGFyZW50TGF5ZXIgJiYgdGhpcy5wYXJlbnRMYXllci5lbGVtZW50KVxuICAgIGdldE1hcmdpbih0aGlzLmVsZW1lbnQsIHRoaXMubWFyZ2luKVxuICAgIGlmICghdGhpcy5fY3VycmVudFNWR0hhc2gpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMgPSB0aGlzLmJvdW5kc1xuICAgICAgdGhpcy5fY3VycmVudE1hcmdpbiA9IHRoaXMubWFyZ2luXG4gICAgfVxuICAgIHRoaXMubmVlZHNSZWZyZXNoID0gZmFsc2VcbiAgICB0aGlzLl91cGRhdGVQYXJlbnRBbmRDaGlsZExheWVycygpXG4gICAgV2ViUmVuZGVyZXIuYWRkVG9TZXJpYWxpemVRdWV1ZSh0aGlzKVxuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlUGFyZW50QW5kQ2hpbGRMYXllcnMoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudFxuICAgIGNvbnN0IGNoaWxkTGF5ZXJzID0gdGhpcy5jaGlsZExheWVyc1xuICAgIGNvbnN0IG9sZENoaWxkTGF5ZXJzID0gY2hpbGRMYXllcnMuc2xpY2UoKVxuXG4gICAgY29uc3QgcHJldmlvdXNQYXJlbnRMYXllciA9IHRoaXMucGFyZW50TGF5ZXJcbiAgICB0aGlzLnBhcmVudExheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRoaXMuZWxlbWVudCwgZmFsc2UpXG4gICAgaWYgKHByZXZpb3VzUGFyZW50TGF5ZXIgIT09IHRoaXMucGFyZW50TGF5ZXIpIHtcbiAgICAgIHRoaXMucGFyZW50TGF5ZXIgJiYgdGhpcy5wYXJlbnRMYXllci5jaGlsZExheWVycy5wdXNoKHRoaXMpXG4gICAgICB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVybW92ZWQnLCB7IHRhcmdldDogZWxlbWVudCB9KVxuICAgIH1cblxuICAgIGNoaWxkTGF5ZXJzLmxlbmd0aCA9IDBcbiAgICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoZWxlbWVudCwgdGhpcy5fdHJ5Q29udmVydEVsZW1lbnRUb1dlYkxheWVyLCB0aGlzKVxuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBvbGRDaGlsZExheWVycykge1xuICAgICAgY29uc3QgcGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoY2hpbGQuZWxlbWVudCwgZmFsc2UpXG4gICAgICBpZiAoIXBhcmVudExheWVyKSB7XG4gICAgICAgIGNoaWxkLm5lZWRzUmVtb3ZhbCA9IHRydWVcbiAgICAgICAgY2hpbGRMYXllcnMucHVzaChjaGlsZClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIobjogTm9kZSkge1xuICAgIGlmICh0aGlzLm5lZWRzUmVtb3ZhbCkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgZWwgPSBuIGFzIEhUTUxFbGVtZW50XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbClcbiAgICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUpXG4gICAgaWYgKCFpZCkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFLCBXZWJSZW5kZXJlci5nZW5lcmF0ZUVsZW1lbnRVSUQoKSlcbiAgICB9XG4gICAgY29uc3QgaXNMYXllciA9IGVsLmhhc0F0dHJpYnV0ZShXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEUpXG4gICAgaWYgKGlzTGF5ZXIgfHwgZWwubm9kZU5hbWUgPT09ICdWSURFTycgfHwgc3R5bGVzLnRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgICBsZXQgY2hpbGQgPSBXZWJSZW5kZXJlci5sYXllcnMuZ2V0KGVsKVxuICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICBjaGlsZCA9IG5ldyBXZWJMYXllcihlbCwgdGhpcy5ldmVudENhbGxiYWNrKVxuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZExheWVycy5wdXNoKGNoaWxkKVxuICAgICAgcmV0dXJuIGZhbHNlIC8vIHN0b3AgdHJhdmVyc2luZyB0aGlzIHN1YnRyZWVcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlcmlhbGl6YXRpb25SZXBsYWNlciA9IChub2RlOk5vZGUpID0+IHtcbiAgICBpZiAodGhpcy5lbGVtZW50ID09PSBub2RlKSByZXR1cm5cbiAgICBjb25zdCBlbGVtZW50ID0gbm9kZSBhcyBFbGVtZW50XG4gICAgY29uc3QgbGF5ZXIgPSBXZWJSZW5kZXJlci5sYXllcnMuZ2V0KGVsZW1lbnQpXG4gICAgaWYgKGxheWVyKSB7ICAgICAgXG4gICAgICBjb25zdCBib3VuZHMgPSBsYXllci5ib3VuZHNcbiAgICAgIGxldCBhdHRyaWJ1dGVzID0gJydcbiAgICAgIGNvbnN0IGV4dHJhU3R5bGUgPSBgbWF4LXdpZHRoOiR7Ym91bmRzLndpZHRoKzF9cHg7bWF4LWhlaWdodDoke2JvdW5kcy5oZWlnaHQrMX1weDttaW4td2lkdGg6JHtib3VuZHMud2lkdGh9cHg7bWluLWhlaWdodDoke2JvdW5kcy5oZWlnaHR9cHg7dmlzaWJpbGl0eTpoaWRkZW5gXG4gICAgICBsZXQgYWRkZWRTdHlsZSA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgbGF5ZXIuZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyLm5hbWUgPT09ICdzcmMnKSBjb250aW51ZVxuICAgICAgICBpZiAoYXR0ci5uYW1lID09ICdzdHlsZScpIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzICs9IHNlcmlhbGl6ZUF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUgKyAnOycgKyBleHRyYVN0eWxlKVxuICAgICAgICAgIGFkZGVkU3R5bGUgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0cmlidXRlcyArPSBzZXJpYWxpemVBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWFkZGVkU3R5bGUpIHtcbiAgICAgICAgYXR0cmlidXRlcyArPSBzZXJpYWxpemVBdHRyaWJ1dGUoJ3N0eWxlJywgZXh0cmFTdHlsZSlcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICByZXR1cm4gYDwke3RhZ30gJHthdHRyaWJ1dGVzfT48LyR7dGFnfT5gXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2VyaWFsaXplKCkgeyAgICAgIFxuICAgIGNvbnN0IGxheWVyRWxlbWVudCA9IHRoaXMuZWxlbWVudCBhcyBIVE1MRWxlbWVudFxuICAgIGlmIChsYXllckVsZW1lbnQubm9kZU5hbWUgPT09ICdWSURFTycpIHJldHVyblxuICAgIFxuICAgIGdldEJvdW5kcyhsYXllckVsZW1lbnQsIHRoaXMuYm91bmRzLCB0aGlzLnBhcmVudExheWVyPy5lbGVtZW50KVxuICAgIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuYm91bmRzXG5cbiAgICBpZiAod2lkdGggKiBoZWlnaHQgPiAwKSB7XG4gICAgICBnZXRQYWRkaW5nKGxheWVyRWxlbWVudCwgdGhpcy5wYWRkaW5nKVxuICAgICAgZ2V0TWFyZ2luKGxheWVyRWxlbWVudCwgdGhpcy5tYXJnaW4pXG4gICAgICBnZXRCb3JkZXIobGF5ZXJFbGVtZW50LCB0aGlzLmJvcmRlcilcbiAgICAgIC8vIGFkZCBtYXJnaW5zIGFuZCBib3JkZXJcbiAgICAgIHdpZHRoICs9IE1hdGgubWF4KHRoaXMubWFyZ2luLmxlZnQsIDApICsgTWF0aC5tYXgodGhpcy5tYXJnaW4ucmlnaHQsIDApLy8gKyAwLjVcbiAgICAgIGhlaWdodCArPSBNYXRoLm1heCh0aGlzLm1hcmdpbi50b3AsIDApICsgTWF0aC5tYXgodGhpcy5tYXJnaW4uYm90dG9tLCAwKVxuICAgICAgLy8gd2lkdGggKz0gTWF0aC5tYXgodGhpcy5ib3JkZXIubGVmdCwwKSArIE1hdGgubWF4KHRoaXMuYm9yZGVyLnJpZ2h0LDApXG4gICAgICAvLyBoZWlnaHQgKz0gTWF0aC5tYXgodGhpcy5ib3JkZXIudG9wLDApICsgTWF0aC5tYXgodGhpcy5ib3JkZXIuYm90dG9tLDApXG5cbiAgICAgIC8vIGNyZWF0ZSBzdmcgbWFya3VwXG4gICAgICBjb25zdCBlbGVtZW50QXR0cmlidXRlID0gV2ViUmVuZGVyZXIuYXR0cmlidXRlSFRNTChXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsJycrdGhpcy5pZClcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGxheWVyRWxlbWVudClcbiAgICAgIGNvbnN0IG5lZWRzSW5saW5lQmxvY2sgPSBjb21wdXRlZFN0eWxlLmRpc3BsYXkgPT09ICdpbmxpbmUnXG4gICAgICBXZWJSZW5kZXJlci51cGRhdGVJbnB1dEF0dHJpYnV0ZXMobGF5ZXJFbGVtZW50KVxuICAgICAgY29uc3QgcGFyZW50c0hUTUwgPSB0aGlzLl9nZXRQYXJlbnRzSFRNTChsYXllckVsZW1lbnQpXG4gICAgICBwYXJlbnRzSFRNTFswXSA9IHBhcmVudHNIVE1MWzBdLnJlcGxhY2UoXG4gICAgICAgICdodG1sJyxcbiAgICAgICAgJ2h0bWwgJyArIFdlYlJlbmRlcmVyLlJFTkRFUklOR19ET0NVTUVOVF9BVFRSSUJVVEUgKyAnPVwiXCIgJ1xuICAgICAgKVxuXG4gICAgICBsZXQgW3N2Z0NTUywgbGF5ZXJIVE1MXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgV2ViUmVuZGVyZXIuZ2V0UmVuZGVyaW5nQ1NTKGxheWVyRWxlbWVudCksXG4gICAgICAgIHNlcmlhbGl6ZVRvU3RyaW5nKGxheWVyRWxlbWVudCwgdGhpcy5zZXJpYWxpemF0aW9uUmVwbGFjZXIpXG4gICAgICBdKVxuICAgICAgbGF5ZXJIVE1MID0gbGF5ZXJIVE1MLnJlcGxhY2UoZWxlbWVudEF0dHJpYnV0ZSxcbiAgICAgICAgICAgIGAke2VsZW1lbnRBdHRyaWJ1dGV9ICR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgICAgICAgIGAke25lZWRzSW5saW5lQmxvY2sgPyBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfSBgICtcbiAgICAgICAgICAgIFdlYlJlbmRlcmVyLmdldFBzdWVkb0F0dHJpYnV0ZXModGhpcy5wc2V1ZG9TdGF0ZXMpKVxuICAgICAgY29uc3QgZG9jU3RyaW5nID1cbiAgICAgICAgJzxzdmcgd2lkdGg9XCInICtcbiAgICAgICAgd2lkdGggK1xuICAgICAgICAnXCIgaGVpZ2h0PVwiJyArXG4gICAgICAgIGhlaWdodCArXG4gICAgICAgICdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGRlZnM+PHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPjwhW0NEQVRBW1xcbicgK1xuICAgICAgICBzdmdDU1Muam9pbignXFxuJykgK1xuICAgICAgICAnXV0+PC9zdHlsZT48L2RlZnM+PGZvcmVpZ25PYmplY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiJyArXG4gICAgICAgICh3aWR0aCsxKSArXG4gICAgICAgICdcIiBoZWlnaHQ9XCInICtcbiAgICAgICAgKGhlaWdodCsxKSArXG4gICAgICAgICdcIj4nICtcbiAgICAgICAgcGFyZW50c0hUTUxbMF0gK1xuICAgICAgICBsYXllckhUTUwgK1xuICAgICAgICBwYXJlbnRzSFRNTFsxXSArXG4gICAgICAgICc8L2ZvcmVpZ25PYmplY3Q+PC9zdmc+J1xuICAgICAgY29uc3Qgc3ZnRG9jID0gdGhpcy5fc3ZnRG9jdW1lbnQgPSBkb2NTdHJpbmdcbiAgICAgIGNvbnN0IHN2Z0hhc2ggPSB0aGlzLl9zdmdIYXNoID0gV2ViUmVuZGVyZXIuYXJyYXlCdWZmZXJUb0Jhc2U2NChzaGEyNTYuaGFzaChlbmNvZGVyLmVuY29kZShzdmdEb2MpKSkgK1xuICAgICAgICAnP3c9JyArIHdpZHRoICtcbiAgICAgICAgJztoPScgKyBoZWlnaHRcblxuICAgICAgdGhpcy5jYWNoZWRCb3VuZHMuc2V0KHN2Z0hhc2gsIG5ldyBCb3VuZHMoKS5jb3B5KHRoaXMuYm91bmRzKSlcbiAgICAgIHRoaXMuY2FjaGVkTWFyZ2luLnNldChzdmdIYXNoLCBuZXcgRWRnZXMoKS5jb3B5KHRoaXMubWFyZ2luKSlcbiAgICAgIFxuICAgICAgLy8gdHJ5IHNldHRpbmcgZnJvbSBjYWNoZVxuICAgICAgaWYgKHRoaXMudHJ5U2V0RnJvbVNWR0hhc2goc3ZnSGFzaCkpIHJldHVyblxuXG4gICAgICAvLyByYXN0ZXJpemUgdGhlIHN2ZyBkb2N1bWVudCBpZiBubyBleGlzdGluZyBjYW52YXMgbWF0Y2hlc1xuICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SYXN0ZXJpemVRdWV1ZSh0aGlzKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJhc3Rlcml6ZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKVxuICAgICAgICB0aGlzLnN2Z0ltYWdlLm9ubG9hZCA9IG51bGxcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgICB0aGlzLnN2Z0ltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dChyZW5kZXIsIDEwKSAvLyBkZWxheSB0byBtYWtlIHN1cmUgaW50ZXJuYWwgU1ZHIGltYWdlcy9yZXNvdXJjZXMgYXJlIGZ1bGx5IGxvYWRlZCBcbiAgICAgIH1cbiAgICAgIHRoaXMuc3ZnSW1hZ2Uub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICB9XG4gICAgICB0aGlzLl9zdmdIYXNoUmFzdGVyaXppbmcgPSB0aGlzLl9zdmdIYXNoXG4gICAgICB0aGlzLnN2Z0ltYWdlLnNyYyA9ICh0aGlzLl9zdmdTcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLl9zdmdEb2N1bWVudCkpXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcblxuICAgIGlmICghdGhpcy5zdmdJbWFnZS5jb21wbGV0ZSB8fCB0aGlzLnN2Z0ltYWdlLmN1cnJlbnRTcmMgIT09IHRoaXMuc3ZnSW1hZ2Uuc3JjKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IFdlYlJlbmRlcmVyLmFkZFRvUmVuZGVyUXVldWUodGhpcyksMTAwKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3Qgc3ZnSGFzaCA9IHRoaXMuX3N2Z0hhc2hSYXN0ZXJpemluZ1xuXG4gICAgaWYgKCF0aGlzLmNhY2hlZEJvdW5kcy5oYXMoc3ZnSGFzaCkgfHwgIXRoaXMuY2FjaGVkTWFyZ2luLmhhcyhzdmdIYXNoKSkge1xuICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSB0cnVlXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmNhY2hlZEJvdW5kcy5nZXQoc3ZnSGFzaCkhXG4gICAgbGV0IHsgbGVmdCwgdG9wLCByaWdodCwgYm90dG9tIH0gPSB0aGlzLmNhY2hlZE1hcmdpbi5nZXQoc3ZnSGFzaCkhXG5cbiAgICBjb25zdCBmdWxsV2lkdGggPSB3aWR0aCArIGxlZnQgKyByaWdodFxuICAgIGNvbnN0IGZ1bGxIZWlnaHQgPSBoZWlnaHQgKyB0b3AgKyBib3R0b21cblxuICAgIGNvbnN0IGhhc2hpbmdDYW52YXMgPSB0aGlzLl9oYXNoaW5nQ2FudmFzXG4gICAgbGV0IGh3ID0gaGFzaGluZ0NhbnZhcy53aWR0aFxuICAgIGxldCBoaCA9IGhhc2hpbmdDYW52YXMuaGVpZ2h0XG4gICAgY29uc3QgaGN0eCA9IGhhc2hpbmdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSFcbiAgICBoY3R4LmNsZWFyUmVjdCgwLCAwLCBodywgaGgpXG4gICAgaGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgIGhjdHguZHJhd0ltYWdlKHRoaXMuc3ZnSW1hZ2UsIDAsIDAsIGZ1bGxXaWR0aCwgZnVsbEhlaWdodCwgMCwgMCwgaHcsIGhoKVxuICAgIGNvbnN0IGhhc2hEYXRhID0gaGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaHcsIGhoKS5kYXRhXG4gICAgY29uc3QgY2FudmFzSGFzaCA9XG4gICAgICBXZWJSZW5kZXJlci5hcnJheUJ1ZmZlclRvQmFzZTY0KHNoYTI1Ni5oYXNoKG5ldyBVaW50OEFycmF5KGhhc2hEYXRhKSkpXG4gICAgXG4gICAgY29uc3QgcHJldmlvdXNDYW52YXNIYXNoID0gV2ViTGF5ZXIuc3ZnQ2FudmFzSGFzaC5nZXQoc3ZnSGFzaClcbiAgICBXZWJMYXllci5zdmdDYW52YXNIYXNoLnNldChzdmdIYXNoLCBjYW52YXNIYXNoKVxuICAgIGlmIChwcmV2aW91c0NhbnZhc0hhc2ggIT09IGNhbnZhc0hhc2gpIHtcbiAgICAgIFdlYkxheWVyLnN2Z1JldHJ5Q291bnQuc2V0KHN2Z0hhc2gsIDApXG4gICAgfVxuXG4gICAgY29uc3QgcmV0cnlDb3VudCA9IFdlYkxheWVyLnN2Z1JldHJ5Q291bnQuZ2V0KHN2Z0hhc2gpfHwwXG4gICAgV2ViTGF5ZXIuc3ZnUmV0cnlDb3VudC5zZXQoc3ZnSGFzaCwgcmV0cnlDb3VudCsxKVxuXG4gICAgaWYgKHJldHJ5Q291bnQgPiAzICYmIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmhhcyhjYW52YXNIYXNoKSkge1xuICAgICAgaWYgKHRoaXMuX3N2Z0hhc2ggPT09IHRoaXMuX3N2Z0hhc2hSYXN0ZXJpemluZylcbiAgICAgICAgdGhpcy50cnlTZXRGcm9tU1ZHSGFzaCh0aGlzLl9zdmdIYXNoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpLCAoNTAwICsgTWF0aC5yYW5kb20oKSAqIDEwMDApICogMl5yZXRyeUNvdW50KVxuXG4gICAgaWYgKHByZXZpb3VzQ2FudmFzSGFzaCA9PT0gY2FudmFzSGFzaCkgcmV0dXJuXG5cbiAgICBjb25zdCBwaXhlbFJhdGlvID1cbiAgICAgIHRoaXMucGl4ZWxSYXRpbyB8fFxuICAgICAgcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLlBJWEVMX1JBVElPX0FUVFJJQlVURSkhKSB8fFxuICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW9cbiAgICBjb25zdCBuZXdDYW52YXMgPVxuICAgICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuc2l6ZSA9PT0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMubGltaXRcbiAgICAgICAgPyBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zaGlmdCgpIVsxXVxuICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgbGV0IHcgPSAobmV3Q2FudmFzLndpZHRoID0gZnVsbFdpZHRoICogcGl4ZWxSYXRpbylcbiAgICBsZXQgaCA9IChuZXdDYW52YXMuaGVpZ2h0ID0gZnVsbEhlaWdodCAqIHBpeGVsUmF0aW8pXG4gICAgY29uc3QgY3R4ID0gbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJykhXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKVxuICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5zdmdJbWFnZSwgMCwgMCwgZnVsbFdpZHRoLCBmdWxsSGVpZ2h0LCAwLCAwLCB3LCBoKVxuICAgIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLnNldChjYW52YXNIYXNoLCBuZXdDYW52YXMpXG4gICAgY29uc29sZS5sb2coJ2xheWVyIHBhaW50ZWQgJyArICd4JytyZXRyeUNvdW50LCB0aGlzLmVsZW1lbnQpXG5cbiAgICBpZiAodGhpcy5fc3ZnSGFzaCA9PT0gdGhpcy5fc3ZnSGFzaFJhc3Rlcml6aW5nKVxuICAgICAgdGhpcy50cnlTZXRGcm9tU1ZHSGFzaChzdmdIYXNoKVxuICB9XG5cbiAgLy8gR2V0IGFsbCBwYXJlbnRzIG9mIHRoZSBlbWJlZGVkIGh0bWwgYXMgdGhlc2UgY2FuIGVmZmVjdCB0aGUgcmVzdWx0aW5nIHN0eWxlc1xuICBwcml2YXRlIF9nZXRQYXJlbnRzSFRNTChlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgY29uc3Qgb3BlbnMgPSBbXVxuICAgIGNvbnN0IGNsb3NlcyA9IFtdXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgIGlmICghcGFyZW50KSBwYXJlbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICBkbyB7XG4gICAgICBsZXQgdGFnID0gcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAnICdcbiAgICAgIGZvciAoY29uc3QgYSBvZiBwYXJlbnQuYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYS5uYW1lID09PSAnc3R5bGUnKSBjb250aW51ZVxuXG4gICAgICAgIGF0dHJpYnV0ZXMgKz0gYCR7YS5uYW1lfT1cIiR7YS52YWx1ZX1cIiBgXG4gICAgICB9XG4gICAgICBjb25zdCBvcGVuID1cbiAgICAgICAgJzwnICtcbiAgICAgICAgdGFnICtcbiAgICAgICAgKHRhZyA9PT0gJ2h0bWwnXG4gICAgICAgICAgPyBgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiIHN0eWxlPVwiLS14LXdpZHRoOiR7XG4gICAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRofXB4Oy0teC1oZWlnaHQ6JHt0aGlzLmJvdW5kcy5oZWlnaHR9cHg7LS14LWlubGluZS10b3A6JHtcbiAgICAgICAgICAgICAgdGhpcy5ib3JkZXIudG9wICsgdGhpcy5tYXJnaW4udG9wICsgdGhpcy5wYWRkaW5nLnRvcH1weFwiIGBcbiAgICAgICAgICA6ICcnKSArXG4gICAgICAgIGF0dHJpYnV0ZXMgK1xuICAgICAgICBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgICAgLy8gV2ViUmVuZGVyZXIuZ2V0UHN1ZWRvQXR0cmlidXRlcyhwYXJlbnQpICtcbiAgICAgICAgJyA+J1xuICAgICAgb3BlbnMudW5zaGlmdChvcGVuKVxuICAgICAgY29uc3QgY2xvc2UgPSAnPC8nICsgdGFnICsgJz4nXG4gICAgICBjbG9zZXMucHVzaChjbG9zZSlcbiAgICAgIGlmICh0YWcgPT0gJ2h0bWwnKSBicmVha1xuICAgIH0gd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/IHBhcmVudC5wYXJlbnRFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IG51bGwpKVxuICAgIHJldHVybiBbb3BlbnMuam9pbignJyksIGNsb3Nlcy5qb2luKCcnKV1cbiAgfVxufSIsInZhciByZXNpemVPYnNlcnZlcnMgPSBbXTtcbmV4cG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9O1xuIiwidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiIsInZhciBtc2cgPSAnUmVzaXplT2JzZXJ2ZXIgbG9vcCBjb21wbGV0ZWQgd2l0aCB1bmRlbGl2ZXJlZCBub3RpZmljYXRpb25zLic7XG52YXIgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXZlbnQ7XG4gICAgaWYgKHR5cGVvZiBFcnJvckV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50ID0gbmV3IEVycm9yRXZlbnQoJ2Vycm9yJywge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdlcnJvcicsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn07XG5leHBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH07XG4iLCJleHBvcnQgdmFyIGZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKTsgfTtcbiIsInZhciB0cmlnZ2VyO1xudmFyIGNhbGxiYWNrcyA9IFtdO1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrcy5zcGxpY2UoMCkuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKCk7IH0pOyB9O1xudmFyIHF1ZXVlTWljcm9UYXNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0cmlnZ2VyKSB7XG4gICAgICAgIHZhciB0b2dnbGVfMSA9IDA7XG4gICAgICAgIHZhciBlbF8xID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB2YXIgY29uZmlnID0geyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH07XG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeSgpOyB9KS5vYnNlcnZlKGVsXzEsIGNvbmZpZyk7XG4gICAgICAgIHRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7IGVsXzEudGV4dENvbnRlbnQgPSBcIlwiICsgKHRvZ2dsZV8xID8gdG9nZ2xlXzEtLSA6IHRvZ2dsZV8xKyspOyB9O1xuICAgIH1cbiAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgdHJpZ2dlcigpO1xufTtcbmV4cG9ydCB7IHF1ZXVlTWljcm9UYXNrIH07XG4iLCJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJTaXplID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlclNpemUoaW5saW5lU2l6ZSwgYmxvY2tTaXplKSB7XG4gICAgICAgIHRoaXMuaW5saW5lU2l6ZSA9IGlubGluZVNpemU7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gYmxvY2tTaXplO1xuICAgICAgICBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlclNpemU7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH07XG4iLCJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgRE9NUmVjdFJlYWRPbmx5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBET01SZWN0UmVhZE9ubHkoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvcCA9IHRoaXMueTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy54O1xuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoO1xuICAgICAgICByZXR1cm4gZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICBET01SZWN0UmVhZE9ubHkucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgeCA9IF9hLngsIHkgPSBfYS55LCB0b3AgPSBfYS50b3AsIHJpZ2h0ID0gX2EucmlnaHQsIGJvdHRvbSA9IF9hLmJvdHRvbSwgbGVmdCA9IF9hLmxlZnQsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSwgdG9wOiB0b3AsIHJpZ2h0OiByaWdodCwgYm90dG9tOiBib3R0b20sIGxlZnQ6IGxlZnQsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9O1xuICAgIERPTVJlY3RSZWFkT25seS5mcm9tUmVjdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBET01SZWN0UmVhZE9ubHkocmVjdGFuZ2xlLngsIHJlY3RhbmdsZS55LCByZWN0YW5nbGUud2lkdGgsIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERPTVJlY3RSZWFkT25seTtcbn0oKSk7XG5leHBvcnQgeyBET01SZWN0UmVhZE9ubHkgfTtcbiIsInZhciBpc1NWRyA9IGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgJ2dldEJCb3gnIGluIHRhcmdldDsgfTtcbnZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoaXNTVkcodGFyZ2V0KSkge1xuICAgICAgICB2YXIgX2EgPSB0YXJnZXQuZ2V0QkJveCgpLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAhd2lkdGggJiYgIWhlaWdodDtcbiAgICB9XG4gICAgdmFyIF9iID0gdGFyZ2V0LCBvZmZzZXRXaWR0aCA9IF9iLm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBfYi5vZmZzZXRIZWlnaHQ7XG4gICAgcmV0dXJuICEob2Zmc2V0V2lkdGggfHwgb2Zmc2V0SGVpZ2h0IHx8IHRhcmdldC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG59O1xudmFyIGlzRWxlbWVudCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgc2NvcGUgPSAoX2IgPSAoX2EgPSBvYmopID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vd25lckRvY3VtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVmYXVsdFZpZXc7XG4gICAgcmV0dXJuICEhKHNjb3BlICYmIG9iaiBpbnN0YW5jZW9mIHNjb3BlLkVsZW1lbnQpO1xufTtcbnZhciBpc1JlcGxhY2VkRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldC50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ0lOUFVUJzpcbiAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSAhPT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdWSURFTyc6XG4gICAgICAgIGNhc2UgJ0FVRElPJzpcbiAgICAgICAgY2FzZSAnRU1CRUQnOlxuICAgICAgICBjYXNlICdPQkpFQ1QnOlxuICAgICAgICBjYXNlICdDQU5WQVMnOlxuICAgICAgICBjYXNlICdJRlJBTUUnOlxuICAgICAgICBjYXNlICdJTUcnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgeyBpc1NWRywgaXNIaWRkZW4sIGlzRWxlbWVudCwgaXNSZXBsYWNlZEVsZW1lbnQgfTtcbiIsImV4cG9ydCB2YXIgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIiwiaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZXMgfSBmcm9tICcuL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZSc7XG5pbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJFbnRyeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJFbnRyeSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGJveGVzID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0KTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY29udGVudFJlY3QgPSBib3hlcy5jb250ZW50UmVjdDtcbiAgICAgICAgdGhpcy5ib3JkZXJCb3hTaXplID0gZnJlZXplKFtib3hlcy5ib3JkZXJCb3hTaXplXSk7XG4gICAgICAgIHRoaXMuY29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmNvbnRlbnRCb3hTaXplXSk7XG4gICAgICAgIHRoaXMuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJFbnRyeTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH07XG4iLCJpbXBvcnQgeyBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xudmFyIGNhbGN1bGF0ZURlcHRoRm9yTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKGlzSGlkZGVuKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgZGVwdGggKz0gMTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aDtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJFbnRyeSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9jYWxjdWxhdGVCb3hTaXplJztcbnZhciBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNoYWxsb3dlc3REZXB0aCA9IEluZmluaXR5O1xuICAgIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgaWYgKHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG90LnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RGVwdGggPSBjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICBvdC5sYXN0UmVwb3J0ZWRTaXplID0gY2FsY3VsYXRlQm94U2l6ZShvdC50YXJnZXQsIG90Lm9ic2VydmVkQm94KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXREZXB0aCA8IHNoYWxsb3dlc3REZXB0aCkge1xuICAgICAgICAgICAgICAgIHNoYWxsb3dlc3REZXB0aCA9IHRhcmdldERlcHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gcmVzaXplT2JzZXJ2ZXJDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJvLmNhbGxiYWNrLmNhbGwocm8ub2JzZXJ2ZXIsIGVudHJpZXMsIHJvLm9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9KTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGNhbGxiYWNrc18xID0gY2FsbGJhY2tzOyBfaSA8IGNhbGxiYWNrc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMVtfaV07XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFsbG93ZXN0RGVwdGg7XG59O1xuZXhwb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH0gZnJvbSAnLi9jYWxjdWxhdGVEZXB0aEZvck5vZGUnO1xudmFyIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggPSBmdW5jdGlvbiAoZGVwdGgpIHtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5zcGxpY2UoMCwgcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8ub2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgaWYgKG90LmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsY3VsYXRlRGVwdGhGb3JOb2RlKG90LnRhcmdldCkgPiBkZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICByby5hY3RpdmVUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIH07XG4iLCJpbXBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfSBmcm9tICcuLi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3InO1xuaW1wb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9IGZyb20gJy4uL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCc7XG52YXIgcHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIHdoaWxlIChoYXNBY3RpdmVPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZXB0aCA9IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucygpO1xuICAgICAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB9XG4gICAgaWYgKGhhc1NraXBwZWRPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZWxpdmVyUmVzaXplTG9vcEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCA+IDA7XG59O1xuZXhwb3J0IHsgcHJvY2VzcyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIiwiaW1wb3J0IHsgcXVldWVNaWNyb1Rhc2sgfSBmcm9tICcuL3F1ZXVlTWljcm9UYXNrJztcbnZhciBxdWV1ZVJlc2l6ZU9ic2VydmVyID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgcXVldWVNaWNyb1Rhc2soZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIiwidmFyIFJlc2l6ZU9ic2VydmVyRGV0YWlsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckRldGFpbChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuc2tpcHBlZFRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYnNlcnZhdGlvblRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckRldGFpbDtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9O1xuIiwiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iLCJpbXBvcnQge0V2ZW50Q2FsbGJhY2ssIFdlYkxheWVyfSBmcm9tICcuL1dlYkxheWVyJ1xuaW1wb3J0IHsgYWRkQ1NTUnVsZSB9IGZyb20gJy4vZG9tLXV0aWxzJ1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciBhcyBQb2x5ZmlsbCB9IGZyb20gJ0BqdWdnbGUvcmVzaXplLW9ic2VydmVyJ1xuY29uc3QgUmVzaXplT2JzZXJ2ZXI6dHlwZW9mIFBvbHlmaWxsID0gKHNlbGYgYXMgYW55KS5SZXNpemVPYnNlcnZlciB8fCBQb2x5ZmlsbFxuXG5leHBvcnQgaW50ZXJmYWNlIFdlYkxheWVyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBJbmplY3QgYW5kIGFwcGx5IG9ubHkgdGhlc2Ugc3R5bGVzaGVldHMuXG4gICAqIFRoaXMgb25seSBoYXMgYW4gZWZmZWN0IHdoZW4gcGFzc2luZyBhIGRldGFjaGVkIERPTSBlbGVtZW50XG4gICAqIGFzIHRoZSByb290IG9mIHRoZSBMYXllciB0cmVlLiBUaGlzIGRvbSBlbGVtZW50IHdpbGwgYmVcbiAgICogaG9zdGVkIGluc2lkZSBhbiBpZnJhbWUsIGFsb25nIHdpdGggdGhlIHByb3ZpZGVkIHN0eWxlc2hlZXRzLFxuICAgKiBmb3Igc3R5bGUgaXNvbGF0aW9uLlxuICAgKi9cbiAgc3R5bGVTaGVldFVSTHM/OiBzdHJpbmdbXVxufVxuXG50eXBlIFJlcXVlc3RJZGxlQ2FsbGJhY2tIYW5kbGUgPSBhbnlcbnR5cGUgUmVxdWVzdElkbGVDYWxsYmFja09wdGlvbnMgPSB7XG4gIHRpbWVvdXQ6IG51bWJlclxufVxuZXhwb3J0IHR5cGUgUmVxdWVzdElkbGVDYWxsYmFja0RlYWRsaW5lID0ge1xuICByZWFkb25seSBkaWRUaW1lb3V0OiBib29sZWFuXG4gIHRpbWVSZW1haW5pbmc6ICgpID0+IG51bWJlclxufVxuXG5kZWNsYXJlIGZ1bmN0aW9uIHJlcXVlc3RJZGxlQ2FsbGJhY2sgKFxuICBjYWxsYmFjazogKGRlYWRsaW5lOiBSZXF1ZXN0SWRsZUNhbGxiYWNrRGVhZGxpbmUpID0+IHZvaWQsXG4gIG9wdHM/OiBSZXF1ZXN0SWRsZUNhbGxiYWNrT3B0aW9uc1xuKSA6IFJlcXVlc3RJZGxlQ2FsbGJhY2tIYW5kbGVcblxuZGVjbGFyZSBmdW5jdGlvbiBjYW5jZWxJZGxlQ2FsbGJhY2soaGFuZGxlOiBSZXF1ZXN0SWRsZUNhbGxiYWNrSGFuZGxlKSA6IHZvaWRcblxuXG5mdW5jdGlvbiBlbnN1cmVFbGVtZW50SXNJbkRvY3VtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIG9wdGlvbnM6V2ViTGF5ZXJPcHRpb25zKTogRWxlbWVudCB7XG4gIGlmIChkb2N1bWVudC5jb250YWlucyhlbGVtZW50KSkge1xuICAgIHJldHVybiBlbGVtZW50XG4gIH1cbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5SRU5ERVJJTkdfQ09OVEFJTkVSX0FUVFJJQlVURSwgJycpXG4gIGNvbnRhaW5lci5zdHlsZS5hbGwgPSAnaW5pdGlhbCdcbiAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcbiAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICBjb250YWluZXIuc3R5bGUudG9wID0gJzBweCdcbiAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICBjb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xuICBjb250YWluZXIuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSdcbiAgY29udGFpbmVyLnN0eWxlWydjb250YWluJyBhcyBhbnldID0gJ3N0cmljdCdcbiAgY29uc3QgY29udGFpbmVyU2hhZG93ID0gY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSlcbiAgY29udGFpbmVyU2hhZG93LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIpXG4gIHJldHVybiBlbGVtZW50XG59XG5cbmNvbnN0IHNjcmF0Y2hNYXQxID0gbmV3IE1hdHJpeDQoKVxuY29uc3Qgc2NyYXRjaE1hdDIgPSBuZXcgTWF0cml4NCgpXG5jb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpXG5jb25zdCBtaWNyb3Rhc2sgPSBQcm9taXNlLnJlc29sdmUoKVxuXG5leHBvcnQgY2xhc3MgV2ViUmVuZGVyZXIge1xuICBzdGF0aWMgQVRUUklCVVRFX1BSRUZJWCA9ICd4cidcbiAgc3RhdGljIGdldCBFTEVNRU5UX1VJRF9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXVpZCcgfVxuICBzdGF0aWMgZ2V0IEhPVkVSX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctaG92ZXInfVxuICBzdGF0aWMgZ2V0IEFDVElWRV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWFjdGl2ZSd9XG4gIHN0YXRpYyBnZXQgRk9DVVNfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1mb2N1cyd9XG4gIHN0YXRpYyBnZXQgVEFSR0VUX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctdGFyZ2V0J31cbiAgc3RhdGljIGdldCBMQVlFUl9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWxheWVyJ31cbiAgc3RhdGljIGdldCBQSVhFTF9SQVRJT19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXBpeGVsLXJhdGlvJyB9XG5cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmcnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcmVuZGVyaW5nLXBhcmVudCcgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctY29udGFpbmVyJyB9XG4gIHN0YXRpYyBnZXQgUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1pbmxpbmUnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctZG9jdW1lbnQnIH1cblxuICBwcml2YXRlIHN0YXRpYyBfbmV4dFVJRCA9IDBcbiAgc3RhdGljIGdlbmVyYXRlRWxlbWVudFVJRCgpIHsgcmV0dXJuICcnICsgKHRoaXMuX25leHRVSUQgKyspIH1cblxuICBzdGF0aWMgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKClcblxuICBzdGF0aWMgcm9vdExheWVyczogTWFwPEVsZW1lbnQsIFdlYkxheWVyPiA9IG5ldyBNYXAoKVxuICBzdGF0aWMgbGF5ZXJzOiBNYXA8RWxlbWVudCwgV2ViTGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgc3RhdGljIG11dGF0aW9uT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgTXV0YXRpb25PYnNlcnZlcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzdGF0aWMgcmVzaXplT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgUG9seWZpbGw+ID0gbmV3IE1hcCgpXG4gIHN0YXRpYyBzZXJpYWxpemVRdWV1ZSA9IFtdIGFzIFdlYkxheWVyW11cbiAgc3RhdGljIHJhc3Rlcml6ZVF1ZXVlID0gW10gYXMgV2ViTGF5ZXJbXVxuICBzdGF0aWMgcmVuZGVyUXVldWUgPSBbXSBhcyBXZWJMYXllcltdXG5cbiAgLy8gc3RhdGljIHJlYWRvbmx5IHZpcnR1YWxIb3ZlckVsZW1lbnRzID0gbmV3IFNldDxFbGVtZW50PigpXG4gIHN0YXRpYyByZWFkb25seSBmb2N1c0VsZW1lbnQ6SFRNTEVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgZWxlbWVudCBpcyByZWFkeSB0byByZWNlaXZlIGlucHV0XG4gIHN0YXRpYyByZWFkb25seSBhY3RpdmVFbGVtZW50OkVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgYnV0dG9uIGVsZW1lbnQgaXMgYmVpbmcgXCJwcmVzc2VkIGRvd25cIlxuICBzdGF0aWMgcmVhZG9ubHkgdGFyZ2V0RWxlbWVudDpFbGVtZW50fG51bGwgPSBudWxsIC8vIGkuZS4sIHRoZSBlbGVtZW50IHdob3NlIElEIG1hdGNoZXMgdGhlIHVybCAjaGFzaFxuXG4gIC8vIHN0YXRpYyBjb250YWluc0hvdmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgLy8gICBmb3IgKGNvbnN0IHQgb2YgdGhpcy52aXJ0dWFsSG92ZXJFbGVtZW50cykge1xuICAvLyAgICAgaWYgKGVsZW1lbnQuY29udGFpbnModCkpIHJldHVybiB0cnVlXG4gIC8vICAgfVxuICAvLyAgIHJldHVybiBmYWxzZVxuICAvLyB9XG5cbiAgc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoc3RhdGVzOiB0eXBlb2YgV2ViTGF5ZXIucHJvdG90eXBlLnBzZXVkb1N0YXRlcykge1xuICAgIHJldHVybiAoXG4gICAgICBgJHtzdGF0ZXMuaG92ZXIgPyBgJHt0aGlzLkhPVkVSX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLmZvY3VzID8gYCR7dGhpcy5GT0NVU19BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy5hY3RpdmUgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy50YXJnZXQgPyBgJHt0aGlzLlRBUkdFVF9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIHJvb3ROb2RlT2JzZXJ2ZXJzID0gbmV3IE1hcDxEb2N1bWVudHxTaGFkb3dSb290LCBNdXRhdGlvbk9ic2VydmVyPigpXG4gIC8vIHN0YXRpYyBkb2N1bWVudE9ic2VydmVyIDogTXV0YXRpb25PYnNlcnZlclxuICAvLyBzdGF0aWMgX2RpZEluaXQgPSBmYWxzZVxuXG4gIHN0YXRpYyByZW5kZXJpbmdTdHlsZUVsZW1lbnQgOiBIVE1MU3R5bGVFbGVtZW50XG5cbiAgc3RhdGljIGluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQ6RWxlbWVudCkge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50XG4gICAgY29uc3Qgcm9vdE5vZGUgPSBlbGVtZW50LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdHxEb2N1bWVudFxuICAgIGNvbnN0IHN0eWxlUm9vdCA9ICdoZWFkJyBpbiByb290Tm9kZSA/IHJvb3ROb2RlLmhlYWQgOiByb290Tm9kZVxuICAgIGlmICh0aGlzLnJvb3ROb2RlT2JzZXJ2ZXJzLmdldChyb290Tm9kZSkpIHJldHVyblxuICAgIFxuICAgIGlmICghdGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgICBzdHlsZVJvb3QuYXBwZW5kKHN0eWxlKSAvLyBvdGhlcndpc2Ugc3R5bGVzaGVldCBpcyBub3QgY3JlYXRlZFxuICAgICAgY29uc3Qgc2hlZXQgPSBzdHlsZS5zaGVldCBhcyBDU1NTdHlsZVNoZWV0XG4gICAgICBsZXQgaSA9IDBcbiAgICAgIGFkZENTU1J1bGUoXG4gICAgICAgIHNoZWV0LFxuICAgICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURX1dICpgLFxuICAgICAgICAndHJhbnNmb3JtOiBub25lICFpbXBvcnRhbnQ7JyxcbiAgICAgICAgaSsrXG4gICAgICApXG4gICAgICBhZGRDU1NSdWxlKFxuICAgICAgICBzaGVldCxcbiAgICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSwgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dICpgLFxuICAgICAgICAndmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OycsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV0gWyR7V2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFfV0sIFske1xuICAgICAgICAgIFdlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSAqYCxcbiAgICAgICAgJ3Zpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50OycsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV1gLFxuICAgICAgICAncG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDAgIWltcG9ydGFudDsgbGVmdDogMCAhaW1wb3J0YW50OyBmbG9hdDogbm9uZTsgYm94LXNpemluZzpib3JkZXItYm94OyBtaW4td2lkdGg6dmFyKC0teC13aWR0aCk7IG1pbi1oZWlnaHQ6dmFyKC0teC1oZWlnaHQpOyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7JyxcbiAgICAgICAgaSsrXG4gICAgICApXG4gICAgICBhZGRDU1NSdWxlKFxuICAgICAgICBzaGVldCxcbiAgICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfV1gLFxuICAgICAgICAndG9wOiB2YXIoLS14LWlubGluZS10b3ApICFpbXBvcnRhbnQ7IHdpZHRoOmF1dG8gIWltcG9ydGFudCcsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dYCxcbiAgICAgICAgJ3RyYW5zZm9ybTogbm9uZSAhaW1wb3J0YW50OyBsZWZ0OiAwICFpbXBvcnRhbnQ7IHRvcDogMCAhaW1wb3J0YW50OyBtYXJnaW46IDAgIWltcG9ydGFudDsgYm9yZGVyOjAgIWltcG9ydGFudDsgYm9yZGVyLXJhZGl1czowICFpbXBvcnRhbnQ7IGhlaWdodDoxMDAlICFpbXBvcnRhbnQ7IHBhZGRpbmc6MCAhaW1wb3J0YW50OyBwb3NpdGlvbjpmaXhlZCAhaW1wb3J0YW50OyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMCkgbm9uZSAhaW1wb3J0YW50OyBib3gtc2hhZG93Om5vbmUgIWltcG9ydGFudCcsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dOjpiZWZvcmUsIFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFfV06OmFmdGVyYCxcbiAgICAgICAgJ2NvbnRlbnQ6bm9uZSAhaW1wb3J0YW50OyBib3gtc2hhZG93Om5vbmUgIWltcG9ydGFudDsnLFxuICAgICAgICBpKytcbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgaWYgKHJvb3ROb2RlID09PSBkb2N1bWVudCkge1xuICAgICAgbGV0IHByZXZpb3VzSGFzaCA9ICcnXG4gICAgICBjb25zdCBvbkhhc2hDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcmV2aW91c0hhc2ggIT0gd2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUoKVxuICAgICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSByb290Tm9kZS5xdWVyeVNlbGVjdG9yKHdpbmRvdy5sb2NhdGlvbi5oYXNoKVxuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c0hhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaFxuICAgICAgfVxuICAgICAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSwgZmFsc2UpXG4gICAgICBvbkhhc2hDaGFuZ2UoKVxuICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZXZ0LnRhcmdldFxuICAgICAgfSwgZmFsc2UpXG4gIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gbnVsbFxuICAgICAgfSwgZmFsc2UpXG4gICAgICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlLGxdIG9mIHRoaXMubGF5ZXJzKSBsLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZCA9IChub2RlOk5vZGUpID0+IHtcbiAgICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKVxuICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2Yobm9kZU5hbWUpICE9PSAtMSlcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycylcbiAgICB9XG5cbiAgICBjb25zdCBTVFlMRV9OT0RFUyA9IFtcIlNUWUxFXCIsIFwiTElOS1wiXTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2YobS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgIT09IC0xKSB7XG4gICAgICAgICAgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMoKVxuICAgICAgICAgIHRoaXMuZW1iZWRkZWRDU1MuZ2V0KGRvY3VtZW50KT8uZGVsZXRlKG0udGFyZ2V0IGFzIEVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG0uYWRkZWROb2Rlcykgc2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQobm9kZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMucm9vdE5vZGVPYnNlcnZlcnMuc2V0KHJvb3ROb2RlLCBvYnNlcnZlcilcbiAgfVxuXG4gIHN0YXRpYyBhZGRUb1NlcmlhbGl6ZVF1ZXVlKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnNlcmlhbGl6ZVF1ZXVlLmluZGV4T2YobGF5ZXIpID09PSAtMSkgdGhpcy5zZXJpYWxpemVRdWV1ZS5wdXNoKGxheWVyKVxuICB9XG5cbiAgc3RhdGljIGFkZFRvUmFzdGVyaXplUXVldWUobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgaWYgKHRoaXMucmFzdGVyaXplUXVldWUuaW5kZXhPZihsYXllcikgPT09IC0xKSB0aGlzLnJhc3Rlcml6ZVF1ZXVlLnB1c2gobGF5ZXIpXG4gIH1cblxuICBzdGF0aWMgYWRkVG9SZW5kZXJRdWV1ZShsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJRdWV1ZS5pbmRleE9mKGxheWVyKSA9PT0gLTEpIHRoaXMucmVuZGVyUXVldWUucHVzaChsYXllcilcbiAgfVxuXG4gIHN0YXRpYyBUQVNLX0FTWU5DX01BWF9DT1VOVCA9IDIgLy8gc2luY2UgcmFzdGVyaXphdGlvbiBpcyBhc3luYywgbGltaXQgc2ltdWx0YW5lb3VzIHJhc3Rlcml6YXRpb25zXG4gIHN0YXRpYyBUQVNLX1NZTkNfTUFYX1RJTUUgPSAyMDBcbiAgc3RhdGljIHJhc3Rlcml6ZVRhc2tDb3VudCA9IDBcbiAgcHJpdmF0ZSBzdGF0aWMgX3J1blRhc2tzKCkge1xuICAgIFdlYlJlbmRlcmVyLnRhc2tzUGVuZGluZyA9IGZhbHNlXG4gICAgY29uc3Qgc2VyaWFsaXplUXVldWUgPSBXZWJSZW5kZXJlci5zZXJpYWxpemVRdWV1ZVxuICAgIGNvbnN0IHJhc3Rlcml6ZVF1ZXVlID0gV2ViUmVuZGVyZXIucmFzdGVyaXplUXVldWVcbiAgICBjb25zdCByZW5kZXJRdWV1ZSA9IFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlXG4gICAgY29uc3QgbWF4U3luY1RpbWUgPSBXZWJSZW5kZXJlci5UQVNLX1NZTkNfTUFYX1RJTUUgLyAyXG4gICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgd2hpbGUgKHJlbmRlclF1ZXVlLmxlbmd0aCAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFN5bmNUaW1lKSB7XG4gICAgICByZW5kZXJRdWV1ZS5zaGlmdCgpIS5yZW5kZXIoKVxuICAgIH1cbiAgICBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIHdoaWxlIChzZXJpYWxpemVRdWV1ZS5sZW5ndGggJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWUgPCBtYXhTeW5jVGltZSkge1xuICAgICAgc2VyaWFsaXplUXVldWUuc2hpZnQoKSEuc2VyaWFsaXplKClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmFzdGVyaXplUXVldWUubGVuZ3RoICYmXG4gICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQgPCBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVFxuICAgICkge1xuICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50KytcbiAgICAgIHJhc3Rlcml6ZVF1ZXVlXG4gICAgICAgIC5zaGlmdCgpIVxuICAgICAgICAucmFzdGVyaXplKClcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVRhc2tDb3VudC0tXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRhc2tzUGVuZGluZyA9IGZhbHNlXG4gIFxuICBzdGF0aWMgc2NoZWR1bGVUYXNrc0lmTmVlZGVkKCkge1xuICAgIGlmICh0aGlzLnRhc2tzUGVuZGluZyB8fFxuICAgICAgICAoV2ViUmVuZGVyZXIuc2VyaWFsaXplUXVldWUubGVuZ3RoID09PSAwICYmXG4gICAgICAgIFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiBcbiAgICAgICAgKFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVF1ZXVlLmxlbmd0aCA9PT0gMCB8fCBcbiAgICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50ID09PSBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVCkpKSByZXR1cm5cbiAgICB0aGlzLnRhc2tzUGVuZGluZyA9IHRydWVcbiAgICBXZWJSZW5kZXJlci5zY2hlZHVsZUlkbGUoV2ViUmVuZGVyZXIuX3J1blRhc2tzKVxuICB9XG5cbiAgc3RhdGljIHNjaGVkdWxlSWRsZShjYjooZGVhZGxpbmU/OlJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSk9PmFueSkge1xuICAgIC8vIGlmIChcInJlcXVlc3RJZGxlQ2FsbGJhY2tcIiBpbiBzZWxmKSB7XG4gICAgLy8gICByZXF1ZXN0SWRsZUNhbGxiYWNrKGNiKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGNiLDEpXG4gICAgLy8gfVxuICB9XG5cbiAgc3RhdGljIHNldExheWVyTmVlZHNSZWZyZXNoKGxheWVyOiBXZWJMYXllcikge1xuICAgIGxheWVyLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVMYXllclRyZWUoZWxlbWVudDogRWxlbWVudCwgaG9zdGluZ09wdGlvbnM6V2ViTGF5ZXJPcHRpb25zLCBldmVudENhbGxiYWNrOiBFdmVudENhbGxiYWNrKSB7XG4gICAgaWYgKFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSByb290IFdlYkxheWVyIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbHJlYWR5IGV4aXN0cycpXG5cbiAgICBlbnN1cmVFbGVtZW50SXNJbkRvY3VtZW50KGVsZW1lbnQsIGhvc3RpbmdPcHRpb25zKVxuICAgIFdlYlJlbmRlcmVyLmluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQpXG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMpXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5zZXQoZWxlbWVudCwgb2JzZXJ2ZXIpXG4gICAgdGhpcy5zdGFydE11dGF0aW9uT2JzZXJ2ZXIoZWxlbWVudClcblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlY29yZHMgPT4ge1xuICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0Q2xvc2VzdExheWVyKHJlY29yZC50YXJnZXQpIVxuICAgICAgICBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgbGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcnMuc2V0KGVsZW1lbnQsIHJlc2l6ZU9ic2VydmVyKVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIoZWxlbWVudCwgZXZlbnRDYWxsYmFjaylcbiAgICB0aGlzLnJvb3RMYXllcnMuc2V0KGVsZW1lbnQsIGxheWVyKVxuICAgIHJldHVybiBsYXllclxuICB9XG5cbiAgc3RhdGljIGRpc3Bvc2VMYXllcihsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yb290TGF5ZXJzLmhhcyhsYXllci5lbGVtZW50KSkge1xuICAgICAgdGhpcy5yb290TGF5ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChsYXllci5lbGVtZW50KSFcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdGhpcy5yZXNpemVPYnNlcnZlcnMuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0Q2xvc2VzdExheWVyKGVsZW1lbnQ6IEVsZW1lbnQsIGluY2x1c2l2ZT10cnVlKTogV2ViTGF5ZXIgfCB1bmRlZmluZWQge1xuICAgIGxldCB0YXJnZXRFbGVtZW50ID0gaW5jbHVzaXZlID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgIGNvbnN0IGNsb3Nlc3RMYXllckVsZW1lbnQgPSB0YXJnZXRFbGVtZW50Py5jbG9zZXN0KGBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XWApIGFzIEhUTUxFbGVtZW50XG4gICAgaWYgKCFjbG9zZXN0TGF5ZXJFbGVtZW50KSB7XG4gICAgICBjb25zdCBob3N0ID0gKGVsZW1lbnQ/LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdCkuaG9zdFxuICAgICAgaWYgKGhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xvc2VzdExheWVyKGhvc3QsIGluY2x1c2l2ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmdldChjbG9zZXN0TGF5ZXJFbGVtZW50ISlcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUNTU1RyYW5zZm9ybShjb21wdXRlZFN0eWxlOkNTU1N0eWxlRGVjbGFyYXRpb24sIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgcGl4ZWxTaXplOm51bWJlciwgb3V0ID0gbmV3IE1hdHJpeDQoKSkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNvbXB1dGVkU3R5bGUudHJhbnNmb3JtXG4gICAgY29uc3QgdHJhbnNmb3JtT3JpZ2luID0gY29tcHV0ZWRTdHlsZS50cmFuc2Zvcm1PcmlnaW5cblxuICAgIGlmICh0cmFuc2Zvcm0uaW5kZXhPZignbWF0cml4KCcpID09IDApIHtcbiAgICAgIG91dC5pZGVudGl0eSgpXG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtXG4gICAgICAgIC5zdWJzdHJpbmcoNywgdHJhbnNmb3JtLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZWxlbWVudHNbMF0gPSBtYXRbMF1cbiAgICAgIG91dC5lbGVtZW50c1sxXSA9IG1hdFsxXVxuICAgICAgb3V0LmVsZW1lbnRzWzRdID0gbWF0WzJdXG4gICAgICBvdXQuZWxlbWVudHNbNV0gPSBtYXRbM11cbiAgICAgIG91dC5lbGVtZW50c1sxMl0gPSBtYXRbNF1cbiAgICAgIG91dC5lbGVtZW50c1sxM10gPSBtYXRbNV1cbiAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCdtYXRyaXgzZCgnKSA9PSAwKSB7XG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtXG4gICAgICAgIC5zdWJzdHJpbmcoOSwgdHJhbnNmb3JtLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZnJvbUFycmF5KG1hdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAob3V0LmVsZW1lbnRzWzBdID09PSAwKSBvdXQuZWxlbWVudHNbMF0gPSAxZS0xNVxuICAgIGlmIChvdXQuZWxlbWVudHNbNV0gPT09IDApIG91dC5lbGVtZW50c1s1XSA9IDFlLTE1XG4gICAgaWYgKG91dC5lbGVtZW50c1sxMF0gPT09IDApIG91dC5lbGVtZW50c1sxMF0gPSAxZS0xNVxuICAgIG91dC5lbGVtZW50c1sxMl0gKj0gcGl4ZWxTaXplXG4gICAgb3V0LmVsZW1lbnRzWzEzXSAqPSBwaXhlbFNpemUgKiAtMVxuXG4gICAgdmFyIG9yaWdpbiA9IHRyYW5zZm9ybU9yaWdpbi5zcGxpdCgnICcpLm1hcChwYXJzZUZsb2F0KVxuXG4gICAgdmFyIG94ID0gKG9yaWdpblswXSAtIHdpZHRoLzIpICogcGl4ZWxTaXplXG4gICAgdmFyIG95ID0gKG9yaWdpblsxXSAtIGhlaWdodC8yKSAqIHBpeGVsU2l6ZSAqIC0xXG4gICAgdmFyIG96ID0gb3JpZ2luWzJdIHx8IDBcblxuICAgIHZhciBUMSA9IHNjcmF0Y2hNYXQxLmlkZW50aXR5KCkubWFrZVRyYW5zbGF0aW9uKC1veCwgLW95LCAtb3opXG4gICAgdmFyIFQyID0gc2NyYXRjaE1hdDIuaWRlbnRpdHkoKS5tYWtlVHJhbnNsYXRpb24ob3gsIG95LCBveilcblxuICAgIGZvciAoY29uc3QgZSBvZiBvdXQuZWxlbWVudHMpIHtcbiAgICAgIGlmIChpc05hTihlKSkgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0LnByZW11bHRpcGx5KFQyKS5tdWx0aXBseShUMSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBlbWJlZEV4dGVybmFsUmVzb3VyY2VzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKVxuICAgIC8vIFRPRE86IGp1c3Qgc2F2ZSB0aGUgc2VyaWFsaXplZCByZXNvdXJjZXMgd2l0aG91dCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIGVsZW1lbnRzXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBsaW5rID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChsaW5rKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgZGF0YVVSTClcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdJTUcnICYmIGltZ0VsZW1lbnQuc3JjLnN1YnN0cigwLCA0KSAhPSAnZGF0YScpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBXZWJSZW5kZXJlci5nZXREYXRhVVJMKGltZ0VsZW1lbnQuc3JjKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGFVUkwpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3R5bGUnKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgc3R5bGUpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICAgIGlmIChzdHlsZSAhPSBjc3MpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNzcylcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKVxuICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBXZWJSZW5kZXJlci5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBzdHlsZS5pbm5lckhUTUwpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICBpZiAoc3R5bGUuaW5uZXJIVE1MICE9IGNzcykgc3R5bGUuaW5uZXJIVE1MID0gY3NzXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIHN0YXRpYyBwYXVzZU11dGF0aW9uT2JzZXJ2ZXJzKCkge1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJzID0gV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMudmFsdWVzKClcbiAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMobS50YWtlUmVjb3JkcygpKVxuICAgICAgbS5kaXNjb25uZWN0KClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcmVzdW1lTXV0YXRpb25PYnNlcnZlcnMoKSB7XG4gICAgZm9yIChjb25zdCBbZV0gb2YgV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIHRoaXMuc3RhcnRNdXRhdGlvbk9ic2VydmVyKGUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc3RhcnRNdXRhdGlvbk9ic2VydmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChlbGVtZW50KSFcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9oYW5kbGVNdXRhdGlvbnMgPSAocmVjb3JkczogTXV0YXRpb25SZWNvcmRbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHJlY29yZC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUocmVjb3JkLmF0dHJpYnV0ZU5hbWUhKSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hhcmFjdGVyRGF0YScpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gcmVjb3JkLnRhcmdldCBhcyBDaGFyYWN0ZXJEYXRhXG4gICAgICAgIGlmICh0YXJnZXQuZGF0YSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID1cbiAgICAgICAgcmVjb3JkLnRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICA/IChyZWNvcmQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIDogcmVjb3JkLnRhcmdldC5wYXJlbnRFbGVtZW50XG4gICAgICBpZiAoIXRhcmdldCkgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRhcmdldClcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiByZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICBjb25zdCBvbGRDbGFzc2VzID0gcmVjb3JkLm9sZFZhbHVlID8gcmVjb3JkLm9sZFZhbHVlIDogJydcbiAgICAgICAgY29uc3QgY3VycmVudENsYXNzZXMgPSAocmVjb3JkLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xhc3NOYW1lXG4gICAgICAgIGlmIChvbGRDbGFzc2VzID09PSBjdXJyZW50Q2xhc3NlcykgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIGxheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKSAvLyBtYXkgYmUgbmVlZGVkIHRvIHN1cHBvcnQgOmZvY3VzLXdpdGhpbigpIGFuZCBmdXR1cmUgOmhhcygpIHNlbGVjdG9yIHN1cHBvcnRcbiAgICAgIGxheWVyLnBhcmVudExheWVyXG4gICAgICAgID8gbGF5ZXIucGFyZW50TGF5ZXIudHJhdmVyc2VDaGlsZExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgOiBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdHJpZ2dlclJlZnJlc2ggPSBhc3luYyAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlLnRhcmdldCBhcyBhbnkpIVxuICAgIC8vIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhlLnRhcmdldCBhcyBhbnkpXG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvLyBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaCkgLy8gbWF5IGJlIG5lZWRlZCB0byBzdXBwb3J0IDpmb2N1cy13aXRoaW4oKSBhbmQgZnV0dXJlIDpoYXMoKSBzZWxlY3RvciBzdXBwb3J0XG4gICAgICBsYXllci5wYXJlbnRMYXllclxuICAgICAgICA/IGxheWVyLnBhcmVudExheWVyLnRyYXZlcnNlQ2hpbGRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICAgIDogbGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKGRvYzpEb2N1bWVudHxTaGFkb3dSb290KSB7XG4gICAgY29uc3Qgc2hlZXRzID0gZG9jLnN0eWxlU2hlZXRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gc2hlZXRzW2ldIGFzIENTU1N0eWxlU2hlZXRcbiAgICAgICAgY29uc3QgcnVsZXMgPSBzaGVldC5jc3NSdWxlc1xuICAgICAgICBpZiAoIXJ1bGVzKSBjb250aW51ZVxuICAgICAgICBjb25zdCBuZXdSdWxlcyA9IFtdXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6aG92ZXInKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuSE9WRVJfQVRUUklCVVRFfV1gKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOmFjdGl2ZScpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2goXG4gICAgICAgICAgICAgIHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6YWN0aXZlJywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLkFDVElWRV9BVFRSSUJVVEV9XWApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChydWxlc1tqXS5jc3NUZXh0LmluZGV4T2YoJzpmb2N1cycpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2gocnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzpmb2N1cycsICdnJyksIGBbJHtXZWJSZW5kZXJlci5GT0NVU19BVFRSSUJVVEV9XWApKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6dGFyZ2V0JykgPiAtMSkge1xuICAgICAgICAgICAgbmV3UnVsZXMucHVzaChcbiAgICAgICAgICAgICAgcnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuVEFSR0VUX0FUVFJJQlVURX1dYClcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IG5ld1J1bGVzLmluZGV4T2YocnVsZXNbal0uY3NzVGV4dClcbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnNwbGljZShpZHgsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3UnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG5ld1J1bGVzW2pdKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ5dGVzOlVpbnQ4QXJyYXkpIHtcbiAgICB2YXIgYmluYXJ5ID0gJydcbiAgICB2YXIgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKVxuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KVxuICB9XG5cbiAgc3RhdGljIGF0dHJpYnV0ZUNTUyhuYW1lOnN0cmluZywgdmFsdWU/OnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IGBbJHtuYW1lfV09JHt2YWx1ZX1gIDogYFske25hbWV9XWBcbiAgfVxuXG4gIHN0YXRpYyBhdHRyaWJ1dGVIVE1MKG5hbWU6c3RyaW5nLCB2YWx1ZT86c3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gYCR7bmFtZX09XCIke3ZhbHVlfVwiYCA6IGAke25hbWV9PVwiXCJgXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmw6c3RyaW5nLCBjc3M6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgZm91bmRcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAvLyBBZGQgY2xhc3NlcyBmb3IgcHN1ZWRvLWNsYXNzZXNcbiAgICBjc3MgPSBjc3MucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLkhPVkVSX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmFjdGl2ZScsICdnJyksIHRoaXMuYXR0cmlidXRlQ1NTKHRoaXMuQUNUSVZFX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmZvY3VzJywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5GT0NVU19BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLlRBUkdFVF9BVFRSSUJVVEUpKVxuXG4gICAgLy8gUmVwbGFjZSBhbGwgdXJscyBpbiB0aGUgY3NzXG4gICAgY29uc3QgcmVnRXggPSBSZWdFeHAoL3VybFxcKCg/IVsnXCJdPyg/OmRhdGEpOilbJ1wiXT8oW14nXCJcXCldKilbJ1wiXT9cXCkvZ2kpXG4gICAgd2hpbGUgKChmb3VuZCA9IHJlZ0V4LmV4ZWMoY3NzKSkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlVVJMID0gZm91bmRbMV1cbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMuZ2V0RGF0YVVSTChuZXcgVVJMKHJlc291cmNlVVJMLCB1cmwpLmhyZWYpLnRoZW4oZGF0YVVSTCA9PiB7XG4gICAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UocmVzb3VyY2VVUkwsIGRhdGFVUkwpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgcmV0dXJuIGNzc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFVSTCh1cmw6c3RyaW5nLCBhY2NlcHQ/OnN0cmluZyk6IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+IHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpLmhyZWZcbiAgICByZXR1cm4gbmV3IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+KHJlc29sdmUgPT4ge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpXG4gICAgICBpZiAoYWNjZXB0KSB4aHIuc2V0UmVxdWVzdEhlYWRlcignYWNjZXB0JywgYWNjZXB0KVxuXG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJ1xuXG4gICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHhocilcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoeGhyKVxuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZCgpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGVtYmVkZGVkQ1NTID0gbmV3IE1hcDxTaGFkb3dSb290fERvY3VtZW50LCBNYXA8RWxlbWVudCwgUHJvbWlzZTxzdHJpbmc+Pj4oKVxuXG4gIHN0YXRpYyBhc3luYyBnZXRSZW5kZXJpbmdDU1MoZWw6RWxlbWVudCkge1xuICAgIGNvbnN0IHJvb3ROb2RlID0gZWwuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290fERvY3VtZW50XG4gICAgY29uc3QgZW1iZWRkZWQgPSB0aGlzLmVtYmVkZGVkQ1NTLmdldChyb290Tm9kZSkgfHwgbmV3IE1hcDxFbGVtZW50LCBQcm9taXNlPHN0cmluZz4+KClcbiAgICB0aGlzLmVtYmVkZGVkQ1NTLnNldChyb290Tm9kZSwgZW1iZWRkZWQpXG5cbiAgICBjb25zdCBzdHlsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZSwgbGlua1t0eXBlPSd0ZXh0L2NzcyddLCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIpXG4gICAgKSBhcyAoSFRNTFN0eWxlRWxlbWVudHxIVE1MTGlua0VsZW1lbnQpW11cbiAgICBzdHlsZUVsZW1lbnRzLnB1c2godGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQpXG4gICAgXG4gICAgLy8gaWYgd2UgYXJlIGluc2lkZSBzaGFkb3cgZG9tLCB3ZSBoYXZlIHRvIGNsb25lIHRoZSBmb250cyBpbnRvIHRoZSBsaWdodCBkb20gdG8gbG9hZCBmb250cyBpbiBDaHJvbWUvRmlyZWZveFxuICAgIGNvbnN0IGluU2hhZG93ID0gZWwuZ2V0Um9vdE5vZGUoKSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3RcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTaGVldFJ1bGVzKHJ1bGVzOkNTU1J1bGVMaXN0KSB7XG4gICAgICBsZXQgYWxsUnVsZXMgPSAnJ1xuICAgICAgbGV0IGZvbnRSdWxlcyA9ICcnXG4gICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gQ1NTUnVsZS5GT05UX0ZBQ0VfUlVMRSkge1xuICAgICAgICAgIGZvbnRSdWxlcyArPSAnXFxuXFxuJyArIHJ1bGUuY3NzVGV4dFxuICAgICAgICB9XG4gICAgICAgIGFsbFJ1bGVzICs9ICdcXG5cXG4nICsgcnVsZS5jc3NUZXh0XG4gICAgICB9XG4gICAgICByZXR1cm4ge2FsbFJ1bGVzLCBmb250UnVsZXN9XG4gICAgfVxuXG4gICAgbGV0IGZvdW5kTmV3U3R5bGVzID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3R5bGVFbGVtZW50cykge1xuICAgICAgaWYgKCFlbWJlZGRlZC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgZm91bmROZXdTdHlsZXMgPSB0cnVlXG4gICAgICAgIGVtYmVkZGVkLnNldChlbGVtZW50LCBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zaGVldCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGxvYWRpbmcpXG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2Nlc3NTaGVldFJ1bGVzKGVsZW1lbnQuc2hlZXQucnVsZXMpXG4gICAgICAgICAgICAgIGlmIChpblNoYWRvdyAmJiByZXN1bHQuZm9udFJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9udFN0eWxlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICAgICAgICAgICAgICBmb250U3R5bGVzLmlubmVySFRNTCA9IHJlc3VsdC5mb250UnVsZXNcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGZvbnRTdHlsZXMpXG4gICAgICAgICAgICAgICAgZW1iZWRkZWQuc2V0KGZvbnRTdHlsZXMsIFByb21pc2UucmVzb2x2ZSgnJykpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0LmFsbFJ1bGVzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sMTApXG4gICAgICAgIH0pLnRoZW4oKGNzc1RleHQpID0+IHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzVGV4dCkpKVxuICAgICAgICAvLyAgIGVtYmVkZGVkLnNldChcbiAgICAgICAgLy8gICAgIGVsZW1lbnQsXG4gICAgICAgIC8vICAgICB0aGlzLmdldFVSTChlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpISwgJ3RleHQvY3NzJykudGhlbih4aHIgPT4ge1xuICAgICAgICAvLyAgICAgICBpZiAoIXhoci5yZXNwb25zZSkgcmV0dXJuICcnXG4gICAgICAgIC8vICAgICAgIHRoaXMuX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKHJvb3ROb2RlKVxuICAgICAgICAvLyAgICAgICB2YXIgY3NzID0gdGV4dERlY29kZXIuZGVjb2RlKHhoci5yZXNwb25zZSlcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzKVxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICApXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIChmb3VuZE5ld1N0eWxlcykgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGVtYmVkZGVkLnZhbHVlcygpKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgYW5kIHJldHVybnMgYSBkYXRhdXJsIGZvciB0aGUgZ2l2ZW4gdXJsXG4gIHN0YXRpYyBkYXRhVVJMTWFwID0gbmV3IE1hcDxzdHJpbmcsIFByb21pc2U8c3RyaW5nPj4oKVxuICBzdGF0aWMgYXN5bmMgZ2V0RGF0YVVSTCh1cmw6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAodGhpcy5kYXRhVVJMTWFwLmhhcyh1cmwpKSByZXR1cm4gdGhpcy5kYXRhVVJMTWFwLmdldCh1cmwpIVxuICAgIGNvbnN0IGRhdGFVUkxQcm9taXNlID0gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyByZXNvbHZlRGF0YVVSTCA9PiB7XG4gICAgICBjb25zdCB4aHIgPSBhd2FpdCB0aGlzLmdldFVSTCh1cmwpXG4gICAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpXG4gICAgICBjb25zdCBjb250ZW50VHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk/LnNwbGl0KCc7JylbMF1cbiAgICAgIGxldCBkYXRhVVJMID0gJydcbiAgICAgIGlmIChjb250ZW50VHlwZSA9PSAndGV4dC9jc3MnKSB7XG4gICAgICAgIGxldCBjc3MgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoYXJyKVxuICAgICAgICBjc3MgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRW1iZWRkZWRDU1ModXJsLCBjc3MpXG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IHdpbmRvdy5idG9hKGNzcylcbiAgICAgICAgaWYgKGJhc2U2NC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGF0YVVSTCA9ICdkYXRhOicgKyBjb250ZW50VHlwZSArICc7YmFzZTY0LCcgKyBiYXNlNjRcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVVSTCA9ICdkYXRhOicgKyBjb250ZW50VHlwZSArICc7YmFzZTY0LCcgKyB0aGlzLmFycmF5QnVmZmVyVG9CYXNlNjQoYXJyKVxuICAgICAgfVxuICAgICAgcmVzb2x2ZURhdGFVUkwoZGF0YVVSTClcbiAgICB9KVxuICAgIHRoaXMuZGF0YVVSTE1hcC5zZXQodXJsLCBkYXRhVVJMUHJvbWlzZSlcbiAgICByZXR1cm4gZGF0YVVSTFByb21pc2VcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVJbnB1dEF0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50Lm1hdGNoZXMoJ2lucHV0JykpIHRoaXMuX3VwZGF0ZUlucHV0QXR0cmlidXRlKGVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudClcbiAgICBmb3IgKGNvbnN0IGUgb2YgZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKSkgdGhpcy5fdXBkYXRlSW5wdXRBdHRyaWJ1dGUoZSlcbiAgfVxuXG4gIHN0YXRpYyBfdXBkYXRlSW5wdXRBdHRyaWJ1dGUoaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xuICAgICAgaWYgKCFpbnB1dEVsZW1lbnQuY2hlY2tlZCkgaW5wdXRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnB1dEVsZW1lbnQuY2hlY2tlZCkgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICcnKVxuICAgIH1cbiAgICBpZiAoaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSAhPT0gaW5wdXRFbGVtZW50LnZhbHVlKSB7XG4gICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGlucHV0RWxlbWVudC52YWx1ZSlcbiAgICB9XG4gIH1cblxuICAvLyBzdGF0aWMgZ2V0UHN1ZWRvQXR0cmlidXRlcyhlbGVtZW50OiBFbGVtZW50KSB7XG4gIC8vICAgLy8gY29uc3QgbGF5ZXIgPSB0aGlzLmxheWVycy5nZXQoZWxlbWVudClcbiAgLy8gICByZXR1cm4gKFxuICAvLyAgICAgYCR7dGhpcy5jb250YWluc0hvdmVyKGVsZW1lbnQpID8gYCR7dGhpcy5IT1ZFUl9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy5mb2N1c0VsZW1lbnQpID8gYCR7dGhpcy5GT0NVU19BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy5hY3RpdmVFbGVtZW50KSA/IGAke3RoaXMuQUNUSVZFX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAvLyAgICAgYCR7ZWxlbWVudC5jb250YWlucyh0aGlzLnRhcmdldEVsZW1lbnQpID8gYCR7dGhpcy5UQVJHRVRfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YFxuICAvLyAgIClcbiAgLy8gfVxuXG4gIHN0YXRpYyBpc0JsYW5rSW1hZ2UoaW1hZ2VEYXRhOlVpbnQ4Q2xhbXBlZEFycmF5KSB7XG4gICAgICBjb25zdCBwaXhlbEJ1ZmZlciA9IG5ldyBVaW50MzJBcnJheShpbWFnZURhdGEuYnVmZmVyKVxuICAgICAgcmV0dXJuICFwaXhlbEJ1ZmZlci5zb21lKGNvbG9yID0+IGNvbG9yICE9PSAwKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgX1RIUkVFIGZyb20gJ3RocmVlJ1xuXG5pZiAoc2VsZi5USFJFRSkge1xuICB2YXIgVEhSRUUgPSBzZWxmLlRIUkVFXG59IGVsc2Uge1xuICB2YXIgVEhSRUUgPSBfVEhSRUVcbn1cblxuaW1wb3J0IHsgV2ViTGF5ZXJ9IGZyb20gJy4uL1dlYkxheWVyJ1xuaW1wb3J0IHsgV2ViUmVuZGVyZXIsIFdlYkxheWVyT3B0aW9ucyB9IGZyb20gJy4uL1dlYlJlbmRlcmVyJ1xuXG5pbXBvcnQge0JvdW5kcywgRWRnZXMsIGdldEJvdW5kcywgZ2V0Vmlld3BvcnRCb3VuZHMsIHRyYXZlcnNlQ2hpbGRFbGVtZW50cywgRE9NIH0gZnJvbSAnLi4vZG9tLXV0aWxzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFdlYkxheWVyM0RPcHRpb25zIGV4dGVuZHMgV2ViTGF5ZXJPcHRpb25zIHtcbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuICBsYXllclNlcGFyYXRpb24/OiBudW1iZXJcbiAgYXV0b1JlZnJlc2g/OiBib29sZWFuXG4gIG9uTGF5ZXJDcmVhdGU/KGxheWVyOiBXZWJMYXllcjNEQ29udGVudCk6IHZvaWRcbiAgb25BZnRlclJhc3Rlcml6ZT8obGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KTogdm9pZCxcbiAgdGV4dHVyZUVuY29kaW5nPzogbnVtYmVyLFxuICByZW5kZXJPcmRlck9mZnNldD86IG51bWJlclxufVxuXG5leHBvcnQge1RIUkVFfVxuXG50eXBlIEludGVyc2VjdGlvbiA9IFRIUkVFLkludGVyc2VjdGlvbiAmIHtncm91cE9yZGVyOm51bWJlcn1cblxuZXhwb3J0IHR5cGUgV2ViTGF5ZXJIaXQgPSBSZXR1cm5UeXBlPHR5cGVvZiBXZWJMYXllcjNELnByb3RvdHlwZS5oaXRUZXN0PiAmIHt9XG5cbmNvbnN0IHNjcmF0Y2hNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NFxuY29uc3Qgc2NyYXRjaFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbmNvbnN0IHNjcmF0Y2hWZWN0b3IyID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuY29uc3Qgc2NyYXRjaEJvdW5kcyA9IG5ldyBCb3VuZHMoKVxuY29uc3Qgc2NyYXRjaEJvdW5kczIgPSBuZXcgQm91bmRzKClcblxuY29uc3QgT05fQkVGT1JFX1VQREFURSA9IFN5bWJvbCgnT05fQkVGT1JFX1VQREFURScpXG5cbmV4cG9ydCBjbGFzcyBXZWJMYXllcjNEQ29udGVudCBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcblxuICBwdWJsaWMgaXNSb290ID0gZmFsc2VcblxuICBwcml2YXRlIF9jYW1lcmE/OlRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhXG5cbiAgY29uc3RydWN0b3IocHVibGljIGVsZW1lbnQ6IEVsZW1lbnQsIHB1YmxpYyBvcHRpb25zOiBXZWJMYXllcjNET3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMubmFtZSA9IGVsZW1lbnQuaWRcbiAgICB0aGlzLl93ZWJMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSFcbiAgICA7KGVsZW1lbnQgYXMgYW55KS5sYXllciA9IHRoaXNcblxuICAgIHRoaXMuYWRkKHRoaXMuY29udGVudE1lc2gpXG4gICAgdGhpcy5hZGQodGhpcy5fYm91bmRzTWVzaClcbiAgICB0aGlzLmN1cnNvci52aXNpYmxlID0gZmFsc2VcbiAgICBcbiAgICB0aGlzLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG5cbiAgICB0aGlzLmNvbnRlbnRNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG4gICAgdGhpcy5jb250ZW50TWVzaC52aXNpYmxlID0gZmFsc2VcbiAgICB0aGlzLmNvbnRlbnRNZXNoWydjdXN0b21EZXB0aE1hdGVyaWFsJ10gPSB0aGlzLmRlcHRoTWF0ZXJpYWxcbiAgICB0aGlzLmNvbnRlbnRNZXNoLm9uQmVmb3JlUmVuZGVyID0gKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSA9PiB7XG4gICAgICB0aGlzLl9jYW1lcmEgPSBjYW1lcmEgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmFcbiAgICB9XG5cbiAgICB0aGlzLl9ib3VuZHNNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG5cbiAgICBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5zZXQodGhpcy5lbGVtZW50LCB0aGlzKVxuICAgIFdlYkxheWVyM0QubGF5ZXJzQnlNZXNoLnNldCh0aGlzLmNvbnRlbnRNZXNoLCB0aGlzKVxuICB9XG5cbiAgcHJvdGVjdGVkIF93ZWJMYXllciA6IFdlYkxheWVyXG5cbiAgcHJpdmF0ZSBfbG9jYWxaID0gMFxuICBwcml2YXRlIF92aWV3WiA9IDBcbiAgcHJpdmF0ZSBfcmVuZGVyWiA9IDBcblxuICB0ZXh0dXJlcyA9IG5ldyBNYXA8SFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50LCBUSFJFRS5UZXh0dXJlPigpXG5cbiAgZ2V0IGN1cnJlbnRUZXh0dXJlKCkge1xuICAgIGlmICh0aGlzLl93ZWJMYXllci5lbGVtZW50LnRhZ05hbWUgPT09ICdWSURFTycpIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdGhpcy5fd2ViTGF5ZXIuZWxlbWVudCBhcyBIVE1MVmlkZW9FbGVtZW50XG4gICAgICBsZXQgdCA9IHRoaXMudGV4dHVyZXMuZ2V0KHZpZGVvKVxuICAgICAgaWYgKCF0KSB7XG4gICAgICAgIHQgPSBuZXcgVEhSRUUuVmlkZW9UZXh0dXJlKHZpZGVvKVxuICAgICAgICB0LndyYXBTID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgICB0LndyYXBUID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgICB0Lm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHR1cmVFbmNvZGluZykgdC5lbmNvZGluZyA9IHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmdcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5zZXQodmlkZW8sIHQpXG4gICAgICB9XG4gICAgICByZXR1cm4gdFxuICAgIH1cblxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX3dlYkxheWVyLmN1cnJlbnRDYW52YXNcbiAgICBsZXQgdCA9IHRoaXMudGV4dHVyZXMuZ2V0KGNhbnZhcyEpXG4gICAgaWYgKGNhbnZhcyAmJiAhdCkge1xuICAgICAgdCA9IG5ldyBUSFJFRS5UZXh0dXJlKGNhbnZhcylcbiAgICAgIHQubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICB0LndyYXBTID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgdC53cmFwVCA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgIHQubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRleHR1cmVFbmNvZGluZykgdC5lbmNvZGluZyA9IHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmdcbiAgICAgIHRoaXMudGV4dHVyZXMuc2V0KGNhbnZhcywgdClcbiAgICB9XG4gICAgcmV0dXJuIHRcbiAgfVxuXG4gIHRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlXG5cbiAgY29udGVudE1lc2ggPSBuZXcgVEhSRUUuTWVzaChcbiAgICBXZWJMYXllcjNELkdFT01FVFJZLFxuICAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlLFxuICAgICAgZGVwdGhXcml0ZTogZmFsc2UsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIGFscGhhVGVzdDogMC4wMDEsXG4gICAgICBvcGFjaXR5OiAxXG4gICAgfSlcbiAgKVxuXG4gIC8qKlxuICAgKiBUaGlzIG5vbi12aXNpYmxlIG1lc2ggZW5zdXJlcyB0aGF0IGFuIGFkYXB0ZWQgbGF5ZXIgcmV0YWluc1xuICAgKiBpdHMgaW5uZXJCb3VuZHMsIGV2ZW4gaWYgdGhlIGNvbnRlbnQgbWVzaCBpc1xuICAgKiBpbmRlcGVuZGVudGx5IGFkYXB0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9ib3VuZHNNZXNoID0gbmV3IFRIUkVFLk1lc2goXG4gICAgV2ViTGF5ZXIzRC5HRU9NRVRSWSxcbiAgICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9KVxuICApXG5cbiAgY3Vyc29yID0gbmV3IFRIUkVFLk9iamVjdDNEKClcblxuICAvKipcbiAgICogQWxsb3dzIGNvcnJlY3Qgc2hhZG93IG1hcHNcbiAgICovXG4gIGRlcHRoTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaERlcHRoTWF0ZXJpYWwoe1xuICAgIGRlcHRoUGFja2luZzogVEhSRUUuUkdCQURlcHRoUGFja2luZyxcbiAgICBhbHBoYVRlc3Q6IDAuMDAxXG4gIH0pXG5cbiAgZG9tTGF5b3V0ID0gbmV3IFRIUkVFLk9iamVjdDNEKClcbiAgZG9tU2l6ZSA9IG5ldyBUSFJFRS5WZWN0b3IzKDEsMSwxKVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGhvdmVyIHN0YXRlXG4gICAqL1xuICBnZXQgcHNldWRvU3RhdGVzKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5wc2V1ZG9TdGF0ZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIGRlcHRoIChkaXN0YW5jZSBmcm9tIHRoaXMgbGF5ZXIncyBlbGVtZW50IGFuZCB0aGUgcGFyZW50IGxheWVyJ3MgZWxlbWVudClcbiAgICovXG4gIGdldCBkZXB0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIuZGVwdGhcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZ2V0IGluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnBhcmVudFdlYkxheWVyID8gdGhpcy5wYXJlbnRXZWJMYXllci5jaGlsZFdlYkxheWVycy5pbmRleE9mKHRoaXMpIDogMFxuICB9XG5cbiAgZ2V0IG5lZWRzUmVmcmVzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIubmVlZHNSZWZyZXNoXG4gIH1cblxuICBzZXROZWVkc1JlZnJlc2goKSB7XG4gICAgdGhpcy5fd2ViTGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gIH1cblxuICAvKiogSWYgdHJ1ZSwgdGhpcyBsYXllciBuZWVkcyB0byBiZSByZW1vdmVkIGZyb20gdGhlIHNjZW5lICovXG4gIGdldCBuZWVkc1JlbW92YWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLm5lZWRzUmVtb3ZhbFxuICB9XG5cbiAgYm91bmRzID0gbmV3IEJvdW5kc1xuICBtYXJnaW4gPSBuZXcgRWRnZXNcblxuICBnZXQgcGFyZW50V2ViTGF5ZXIoKTogV2ViTGF5ZXIzRENvbnRlbnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl93ZWJMYXllci5wYXJlbnRMYXllciAmJlxuICAgICAgV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRoaXMuX3dlYkxheWVyLnBhcmVudExheWVyLmVsZW1lbnQpXG4gICAgKVxuICB9XG5cbiAgY2hpbGRXZWJMYXllcnM6IFdlYkxheWVyM0RDb250ZW50W10gPSBbXVxuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdGhlIERPTSBsYXlvdXQgc2hvdWxkIGJlIGFwcGxpZWQuXG4gICAqXG4gICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIGRvbSBsYXlvdXQgc2hvdWxkIGFsd2F5cyBiZSBhcHBsaWVkLlxuICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCB0aGUgZG9tIGxheW91dCBzaG91bGQgbmV2ZXIgYmUgYXBwbGllZC5cbiAgICogV2hlbiBzZXQgdG8gYCdhdXRvJ2AsIHRoZSBkb20gbGF5b3V0IHNob3VsZCBvbmx5IGJlIGFwcGxpZWRcbiAgICogd2hlbiB0aGUgYHBhcmVudExheWVyYCBpcyB0aGUgc2FtZSBhcyB0aGUgYHBhcmVudGAgb2JqZWN0LlxuICAgKlxuICAgKiBJdCBpcyB0aGUgcmVzcG9uc2liaWx0aXkgb2YgdGhlIHVwZGF0ZSBjYWxsYmFja1xuICAgKiB0byBmb2xsb3cgdGhlc2UgcnVsZXMuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGBhdXRvYFxuICAgKi9cbiAgc2hvdWxkQXBwbHlET01MYXlvdXQ6IHRydWUgfCBmYWxzZSB8ICdhdXRvJyA9ICdhdXRvJ1xuXG4gIC8qKlxuICAgKiBSZWZyZXNoIGZyb20gRE9NXG4gICAqL1xuICBwdWJsaWMgcmVmcmVzaChyZWN1cnNlPWZhbHNlKSB7XG4gICAgdGhpcy5fd2ViTGF5ZXIucmVmcmVzaCgpXG4gICAgdGhpcy5jaGlsZFdlYkxheWVycy5sZW5ndGggPSAwXG4gICAgZm9yIChjb25zdCBjIG9mIHRoaXMuX3dlYkxheWVyLmNoaWxkTGF5ZXJzKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50XG4gICAgICAgIC5nZXQoV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKGMuZWxlbWVudCk/LmVsZW1lbnQhKVxuICAgICAgaWYgKCFjaGlsZCkgY29udGludWVcbiAgICAgIHRoaXMuY2hpbGRXZWJMYXllcnMucHVzaChjaGlsZClcbiAgICAgIGlmIChyZWN1cnNlKSBjaGlsZC5yZWZyZXNoKHJlY3Vyc2UpXG4gICAgfVxuICAgIHRoaXMuX3JlZnJlc2hWaWRlb0JvdW5kcygpXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUxheW91dCgpIHtcblxuICAgIHRoaXMuX3VwZGF0ZURPTUxheW91dCgpXG5cbiAgICBpZiAodGhpcy5fY2FtZXJhKSB7XG5cbiAgICAgIHRoaXMuX2xvY2FsWiA9IE1hdGguYWJzKFxuICAgICAgICBzY3JhdGNoVmVjdG9yLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeCkueiArIFxuICAgICAgICBzY3JhdGNoVmVjdG9yLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmNvbnRlbnRNZXNoLm1hdHJpeCkueilcbiAgICAgIHRoaXMuX3ZpZXdaID0gTWF0aC5hYnModGhpcy5jb250ZW50TWVzaC5nZXRXb3JsZFBvc2l0aW9uKHNjcmF0Y2hWZWN0b3IpLmFwcGx5TWF0cml4NCh0aGlzLl9jYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKS56KVxuICAgICAgXG4gICAgICBsZXQgcGFyZW50UmVuZGVyWiA9IHRoaXMucGFyZW50V2ViTGF5ZXIgPyB0aGlzLnBhcmVudFdlYkxheWVyLl9yZW5kZXJaIDogdGhpcy5fdmlld1pcbiAgICAgIFxuICAgICAgaWYgKHRoaXMuX2xvY2FsWiA8IDFlLTMpIHsgLy8gY29wbGFuYXI/IHVzZSBwYXJlbnQgcmVuZGVyWlxuICAgICAgICB0aGlzLl9yZW5kZXJaID0gcGFyZW50UmVuZGVyWlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyWiA9IHRoaXMuX3ZpZXdaXG4gICAgICB9XG4gIFxuICAgICAgdGhpcy5jb250ZW50TWVzaC5yZW5kZXJPcmRlciA9ICh0aGlzLm9wdGlvbnMucmVuZGVyT3JkZXJPZmZzZXQgfHwgMCkgKyBcbiAgICAgICAgKDEgLSBNYXRoLmxvZyh0aGlzLl9yZW5kZXJaICsgMSkgLyBNYXRoLmxvZyh0aGlzLl9jYW1lcmEuZmFyICsgMSkpK1xuICAgICAgICAodGhpcy5kZXB0aCArIHRoaXMuaW5kZXggKiAwLjAwMSkqMC4wMDAwMDAxXG4gIFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ29udGVudCgpIHtcbiAgICBjb25zdCBtZXNoID0gdGhpcy5jb250ZW50TWVzaFxuICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmN1cnJlbnRUZXh0dXJlXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsIGFzIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsXG4gICAgaWYgKHRleHR1cmUgJiYgKHRleHR1cmUuaW1hZ2UgJiYgbWF0ZXJpYWwubWFwICE9PSB0ZXh0dXJlIHx8IHRoaXMudGV4dHVyZU5lZWRzVXBkYXRlKSkge1xuICAgICAgY29uc3QgY29udGVudFNjYWxlID0gdGhpcy5jb250ZW50TWVzaC5zY2FsZVxuICAgICAgY29uc3QgYXNwZWN0ID0gTWF0aC5hYnMoY29udGVudFNjYWxlLnggKiB0aGlzLnNjYWxlLnggLyBjb250ZW50U2NhbGUueSAqIHRoaXMuc2NhbGUueSlcbiAgICAgIGNvbnN0IHRhcmdldEFzcGVjdCA9IHRoaXMuZG9tU2l6ZS54IC8gdGhpcy5kb21TaXplLnlcbiAgICAgIGlmIChNYXRoLmFicyh0YXJnZXRBc3BlY3QtYXNwZWN0KSA8IDFlMykge1xuICAgICAgICBtYXRlcmlhbC5tYXAgPSB0ZXh0dXJlXG4gICAgICAgIHRoaXMuZGVwdGhNYXRlcmlhbFsnbWFwJ10gPSB0ZXh0dXJlXG4gICAgICAgIHRoaXMudGV4dHVyZU5lZWRzVXBkYXRlID0gZmFsc2VcbiAgICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuZGVwdGhNYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgbWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlXG5cbiAgICAvLyBoYW5kbGUgbGF5ZXIgdmlzaWJpbHRpeSBvciByZW1vdmFsXG4gICAgY29uc3QgbWF0ID0gbWVzaC5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbFxuICAgIGNvbnN0IGlzSGlkZGVuID0gbWF0Lm9wYWNpdHkgPCAwLjAwNVxuICAgIGlmIChpc0hpZGRlbikgbWVzaC52aXNpYmxlID0gZmFsc2VcbiAgICBlbHNlIGlmIChtZXNoLm1hdGVyaWFsLm1hcCkgbWVzaC52aXNpYmxlID0gdHJ1ZVxuICAgIGlmICh0aGlzLm5lZWRzUmVtb3ZhbCAmJiBpc0hpZGRlbikge1xuICAgICAgaWYgKHRoaXMucGFyZW50KSB0aGlzLnBhcmVudC5yZW1vdmUodGhpcylcbiAgICAgIHRoaXMuZGlzcG9zZSgpXG4gICAgfVxuICB9XG5cbiAgZ2V0IHJvb3RXZWJMYXllcigpIHtcbiAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRoaXMuX3dlYkxheWVyLnJvb3RMYXllci5lbGVtZW50KSFcbiAgfVxuXG4gIC8qKiBJTlRFUk5BTCAqL1xuICBwcml2YXRlIFtPTl9CRUZPUkVfVVBEQVRFXSgpIHt9XG5cbiAgcHJvdGVjdGVkIF9kb1VwZGF0ZSgpIHtcbiAgICB0aGlzW09OX0JFRk9SRV9VUERBVEVdKClcbiAgICAvLyBjb250ZW50IG11c3QgdXBkYXRlIGJlZm9yZSBsYXlvdXRcbiAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKVxuICAgIHRoaXMudXBkYXRlTGF5b3V0KClcblxuICAgIHRoaXMucG9zaXRpb24uY29weSh0aGlzLmRvbUxheW91dC5wb3NpdGlvbilcbiAgICB0aGlzLnF1YXRlcm5pb24uY29weSh0aGlzLmRvbUxheW91dC5xdWF0ZXJuaW9uKVxuICAgIHRoaXMuc2NhbGUuY29weSh0aGlzLmRvbUxheW91dC5zY2FsZSlcbiAgICB0aGlzLmNvbnRlbnRNZXNoLnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLmNvbnRlbnRNZXNoLnNjYWxlLmNvcHkodGhpcy5kb21TaXplKVxuICAgIHRoaXMuY29udGVudE1lc2gucXVhdGVybmlvbi5zZXQoMCwwLDAsMSlcbiAgICB0aGlzLl9ib3VuZHNNZXNoLnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLl9ib3VuZHNNZXNoLnNjYWxlLmNvcHkodGhpcy5kb21TaXplKVxuICAgIHRoaXMuX2JvdW5kc01lc2gucXVhdGVybmlvbi5zZXQoMCwwLDAsMSlcblxuICAgIGlmICh0aGlzLm5lZWRzUmVmcmVzaCAmJiB0aGlzLm9wdGlvbnMuYXV0b1JlZnJlc2ggIT09IGZhbHNlKSBcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgV2ViUmVuZGVyZXIuc2NoZWR1bGVUYXNrc0lmTmVlZGVkKClcbiAgfVxuXG4gIHVwZGF0ZShyZWN1cnNlPWZhbHNlKSB7XG4gICAgaWYgKHJlY3Vyc2UpIHRoaXMudHJhdmVyc2VMYXllcnNQcmVPcmRlcih0aGlzLl9kb1VwZGF0ZSlcbiAgICBlbHNlIHRoaXMuX2RvVXBkYXRlKClcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3I6IHN0cmluZyk6IFdlYkxheWVyM0RDb250ZW50IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIHx8IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2hhZG93Um9vdD8ucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChlbGVtZW50KVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB0cmF2ZXJzZUxheWVyQW5jZXN0b3JzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudFdlYkxheWVyXG4gICAgaWYgKHBhcmVudExheWVyKSB7XG4gICAgICBwYXJlbnRMYXllci50cmF2ZXJzZUxheWVyQW5jZXN0b3JzKGVhY2gpXG4gICAgICBlYWNoLmNhbGwodGhpcywgcGFyZW50TGF5ZXIpXG4gICAgfVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnNQcmVPcmRlcihcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KSA9PiBib29sZWFufHZvaWRcbiAgKSB7XG4gICAgaWYgKGVhY2guY2FsbCh0aGlzLCB0aGlzKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykge1xuICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIoZWFjaCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzUG9zdE9yZGVyKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpID0+IGJvb2xlYW58dm9pZFxuICApIDogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSB7XG4gICAgICBpZiAoY2hpbGQudHJhdmVyc2VMYXllcnNQb3N0T3JkZXIoZWFjaCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIGVhY2guY2FsbCh0aGlzLCB0aGlzKSB8fCB0cnVlXG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLnRleHR1cmVzLnZhbHVlcygpKSB7XG4gICAgICB0LmRpc3Bvc2UoKVxuICAgIH1cbiAgICB0aGlzLmNvbnRlbnRNZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgIHRoaXMuX2JvdW5kc01lc2guZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgV2ViUmVuZGVyZXIuZGlzcG9zZUxheWVyKHRoaXMuX3dlYkxheWVyKVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykgY2hpbGQuZGlzcG9zZSgpXG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoVmlkZW9Cb3VuZHMoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1ZJREVPJykge1xuICAgICAgY29uc3QgdmlkZW8gPSB0aGlzLmVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY3VycmVudFRleHR1cmUhXG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpXG4gICAgICBjb25zdCB7IG9iamVjdEZpdCB9ID0gY29tcHV0ZWRTdHlsZVxuICAgICAgY29uc3QgeyB3aWR0aDogdmlld1dpZHRoLCBoZWlnaHQ6IHZpZXdIZWlnaHQgfSA9IHRoaXMuYm91bmRzLmNvcHkodGhpcy5fd2ViTGF5ZXIuY3VycmVudEJvdW5kcylcbiAgICAgIGNvbnN0IHsgdmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQgfSA9IHZpZGVvXG4gICAgICBjb25zdCB2aWRlb1JhdGlvID0gdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0XG4gICAgICBjb25zdCB2aWV3UmF0aW8gPSB2aWV3V2lkdGggLyB2aWV3SGVpZ2h0XG4gICAgICB0ZXh0dXJlLmNlbnRlci5zZXQoMC41LCAwLjUpXG4gICAgICBzd2l0Y2ggKG9iamVjdEZpdCkge1xuICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQodmlld1dpZHRoIC8gdmlkZW9XaWR0aCwgdmlld0hlaWdodCAvIHZpZGVvSGVpZ2h0KS5jbGFtcFNjYWxhcigwLCAxKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NvbnRhaW4nOlxuICAgICAgICBjYXNlICdzY2FsZS1kb3duJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoMSwgMSlcbiAgICAgICAgICBpZiAodmlld1JhdGlvID4gdmlkZW9SYXRpbykge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmJvdW5kcy5oZWlnaHQgKiB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmxlZnQgKz0gKHRoaXMuYm91bmRzLndpZHRoIC0gd2lkdGgpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMud2lkdGggPSB3aWR0aFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJvdW5kcy53aWR0aCAvIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMudG9wICs9ICh0aGlzLmJvdW5kcy5oZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NvdmVyJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQodmlld1dpZHRoIC8gdmlkZW9XaWR0aCwgdmlld0hlaWdodCAvIHZpZGVvSGVpZ2h0KVxuICAgICAgICAgIGlmICh2aWV3UmF0aW8gPCB2aWRlb1JhdGlvKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm91bmRzLmhlaWdodCAqIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMubGVmdCArPSAodGhpcy5ib3VuZHMud2lkdGggLSB3aWR0aCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aCA9IHdpZHRoXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYm91bmRzLndpZHRoIC8gdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy50b3AgKz0gKHRoaXMuYm91bmRzLmhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2FzZSAnZmlsbCc6XG4gICAgICAgICAgdGV4dHVyZS5yZXBlYXQuc2V0KDEsIDEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVET01MYXlvdXQoKSB7XG5cbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHtjdXJyZW50Qm91bmRzLCBjdXJyZW50TWFyZ2lufSA9IHRoaXMuX3dlYkxheWVyXG5cbiAgICB0aGlzLmRvbUxheW91dC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5kb21MYXlvdXQuc2NhbGUuc2V0KDEsIDEsIDEpXG4gICAgdGhpcy5kb21MYXlvdXQucXVhdGVybmlvbi5zZXQoMCwgMCwgMCwgMSlcblxuICAgIGNvbnN0IGlzVmlkZW8gPSB0aGlzLmVsZW1lbnQubm9kZU5hbWUgPT09ICdWSURFTydcbiAgICBjb25zdCBib3VuZHMgPSBpc1ZpZGVvID8gdGhpcy5ib3VuZHMgOiB0aGlzLmJvdW5kcy5jb3B5KGN1cnJlbnRCb3VuZHMpXG4gICAgY29uc3QgbWFyZ2luID0gaXNWaWRlbyA/IHRoaXMubWFyZ2luIDogdGhpcy5tYXJnaW4uY29weShjdXJyZW50TWFyZ2luKVxuXG4gICAgY29uc3QgZnVsbFdpZHRoID0gYm91bmRzLndpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHRcbiAgICBjb25zdCBmdWxsSGVpZ2h0ID0gYm91bmRzLmhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tXG4gICAgY29uc3Qgd2lkdGggPSBib3VuZHMud2lkdGhcbiAgICBjb25zdCBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0XG4gICAgY29uc3QgcGl4ZWxTaXplID0gMSAvIFdlYkxheWVyM0QuREVGQVVMVF9QSVhFTFNfUEVSX1VOSVRcblxuICAgIHRoaXMuZG9tU2l6ZS5zZXQoXG4gICAgICBNYXRoLm1heChwaXhlbFNpemUgKiAod2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCksIDEwZS02KSxcbiAgICAgIE1hdGgubWF4KHBpeGVsU2l6ZSAqIChoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSksIDEwZS02KSxcbiAgICAgIDFcbiAgICApXG5cbiAgICBpZiAoIVdlYkxheWVyM0Quc2hvdWxkQXBwbHlET01MYXlvdXQodGhpcykpIHJldHVyblxuXG4gICAgY29uc3QgcGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudFdlYkxheWVyXG4gICAgaWYgKCFwYXJlbnRMYXllcikgcmV0dXJuXG5cbiAgICBjb25zdCBwYXJlbnRCb3VuZHMgPSBwYXJlbnRMYXllci5ib3VuZHMgLy98fCBnZXRWaWV3cG9ydEJvdW5kcyhzY3JhdGNoQm91bmRzKVxuICAgIGNvbnN0IHBhcmVudE1hcmdpbiA9IHBhcmVudExheWVyLm1hcmdpblxuICAgIGNvbnN0IHBhcmVudEZ1bGxXaWR0aCA9IHBhcmVudEJvdW5kcy53aWR0aCArIHBhcmVudE1hcmdpbi5sZWZ0ICsgcGFyZW50TWFyZ2luLnJpZ2h0XG4gICAgY29uc3QgcGFyZW50RnVsbEhlaWdodCA9IHBhcmVudEJvdW5kcy5oZWlnaHQgKyBwYXJlbnRNYXJnaW4uYm90dG9tICsgcGFyZW50TWFyZ2luLmJvdHRvbVxuICAgIGNvbnN0IHBhcmVudExlZnRFZGdlID0gLSBwYXJlbnRGdWxsV2lkdGggLyAyICsgcGFyZW50TWFyZ2luLmxlZnRcbiAgICBjb25zdCBwYXJlbnRUb3BFZGdlID0gcGFyZW50RnVsbEhlaWdodCAvIDIgLSBwYXJlbnRNYXJnaW4udG9wXG4gICAgXG4gICAgdGhpcy5kb21MYXlvdXQucG9zaXRpb24uc2V0KFxuICAgICAgcGl4ZWxTaXplICogKHBhcmVudExlZnRFZGdlICsgZnVsbFdpZHRoLzIgKyBib3VuZHMubGVmdCAtIG1hcmdpbi5sZWZ0KSxcbiAgICAgIHBpeGVsU2l6ZSAqIChwYXJlbnRUb3BFZGdlIC0gZnVsbEhlaWdodC8yIC0gYm91bmRzLnRvcCArIG1hcmdpbi50b3ApLFxuICAgICAgMFxuICAgIClcblxuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wdXRlZFN0eWxlLnRyYW5zZm9ybVxuICAgIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgIGNvbnN0IGNzc1RyYW5zZm9ybSA9IFdlYlJlbmRlcmVyLnBhcnNlQ1NTVHJhbnNmb3JtKGNvbXB1dGVkU3R5bGUsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCwgcGl4ZWxTaXplLCBzY3JhdGNoTWF0cml4KVxuICAgICAgaWYgKGNzc1RyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmRvbUxheW91dC51cGRhdGVNYXRyaXgoKVxuICAgICAgICB0aGlzLmRvbUxheW91dC5tYXRyaXgubXVsdGlwbHkoY3NzVHJhbnNmb3JtKVxuICAgICAgICB0aGlzLmRvbUxheW91dC5tYXRyaXguZGVjb21wb3NlKHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLCB0aGlzLmRvbUxheW91dC5xdWF0ZXJuaW9uLCB0aGlzLmRvbUxheW91dC5zY2FsZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBET00gdHJlZSBpbnRvIDNEIGxheWVycy5cbiAqXG4gKiBXaGVuIGFuIGluc3RhbmNlIGlzIGNyZWF0ZWQsIGEgYHhyLWxheWVyYCBpcyBzZXQgb24gdGhlXG4gKiB0aGUgcGFzc2VkIERPTSBlbGVtZW50IHRvIG1hdGNoIHRoaXMgaW5zdGFuY2UncyBPYmplY3QzRCBpZC5cbiAqIElmIHRoZSBwYXNzZWQgRE9NIGVsZW1lbnQgaGFzIGFuIGBpZGAgYXR0cmlidXRlLCB0aGlzIGluc3RhbmNlJ3MgT2JqZWN0M0QgbmFtZVxuICogd2lsbCBiZSBzZXQgdG8gbWF0Y2ggdGhlIGVsZW1lbnQgaWQuXG4gKlxuICogQ2hpbGQgV2ViTGF5ZXIzRCBpbnN0YW5jZXMgY2FuIGJlIHNwZWNpZmllZCB3aXRoIGFuIGB4ci1sYXllcmAgYXR0cmlidXRlLFxuICogd2hpY2ggd2lsbCBiZSBzZXQgd2hlbiB0aGUgY2hpbGQgV2ViTGF5ZXIzRCBpbnN0YW5jZSBpcyBjcmVhdGVkIGF1dG9tYXRpY2FsbHkuXG4gKiBUaGUgYXR0cmlidXRlIGNhbiBiZSBzcGVjaWZpZWQgYWRkZWQgaW4gSFRNTCBvciBkeW5hbWljYWxseTpcbiAqICAtIGA8ZGl2IHhyLWxheWVyPjwvZGl2PmBcbiAqXG4gKiBBZGRpdGlvbmFsbHksIHRoZSBwaXhlbCByYXRpbyBjYW4gYmUgYWRqdXN0ZWQgb24gZWFjaCBsYXllciwgaW5kaXZpZHVhbGx5OlxuICogIC0gYDxkaXYgeHItbGF5ZXIgeHItcGl4ZWwtcmF0aW89XCIwLjVcIj48L2Rpdj5gXG4gKlxuICogRGVmYXVsdCBkaW1lbnNpb25zOiAxcHggPSAwLjAwMSB3b3JsZCBkaW1lbnNpb25zID0gMW1tIChhc3N1bWluZyBtZXRlcnMpXG4gKiAgICAgZS5nLiwgNTAwcHggd2lkdGggbWVhbnMgMC41bWV0ZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJMYXllcjNEIGV4dGVuZHMgVEhSRUUuT2JqZWN0M0Qge1xuXG4gIHN0YXRpYyBsYXllcnNCeUVsZW1lbnQgPSBuZXcgV2Vha01hcDxFbGVtZW50LCBXZWJMYXllcjNEQ29udGVudD4oKVxuICBzdGF0aWMgbGF5ZXJzQnlNZXNoID0gbmV3IFdlYWtNYXA8VEhSRUUuTWVzaCwgV2ViTGF5ZXIzRENvbnRlbnQ+KClcblxuICBzdGF0aWMgREVGQVVMVF9MQVlFUl9TRVBBUkFUSU9OID0gMC4wMDFcbiAgc3RhdGljIERFRkFVTFRfUElYRUxTX1BFUl9VTklUID0gMTAwMFxuICBzdGF0aWMgR0VPTUVUUlkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLCAxLCAyLCAyKVxuXG4gIC8vIHN0YXRpYyBjb21wdXRlTmF0dXJhbERpc3RhbmNlKFxuICAvLyAgIHByb2plY3Rpb246IFRIUkVFLk1hdHJpeDQgfCBUSFJFRS5DYW1lcmEsXG4gIC8vICAgcmVuZGVyZXI6IFRIUkVFLldlYkdMUmVuZGVyZXJcbiAgLy8gKSB7XG4gIC8vICAgbGV0IHByb2plY3Rpb25NYXRyaXggPSBwcm9qZWN0aW9uIGFzICBUSFJFRS5NYXRyaXg0XG4gIC8vICAgaWYgKChwcm9qZWN0aW9uIGFzIFRIUkVFLkNhbWVyYSkuaXNDYW1lcmEpIHtcbiAgLy8gICAgIHByb2plY3Rpb25NYXRyaXggPSAocHJvamVjdGlvbiBhcyBUSFJFRS5DYW1lcmEpLnByb2plY3Rpb25NYXRyaXhcbiAgLy8gICB9XG4gIC8vICAgY29uc3QgcGl4ZWxSYXRpbyA9IHJlbmRlcmVyLmdldFBpeGVsUmF0aW8oKVxuICAvLyAgIGNvbnN0IHdpZHRoUGl4ZWxzID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aCAvIHBpeGVsUmF0aW9cbiAgLy8gICBjb25zdCB3aWR0aCA9IFdlYkxheWVyM0QuREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQgKiB3aWR0aFBpeGVsc1xuICAvLyAgIGNvbnN0IGhvcml6b250YWxGT1YgPSBnZXRGb3ZzKHByb2plY3Rpb25NYXRyaXgpLmhvcml6b250YWxcbiAgLy8gICBjb25zdCBuYXR1cmFsRGlzdGFuY2UgPSB3aWR0aCAvIDIgLyBNYXRoLnRhbihob3Jpem9udGFsRk9WIC8gMilcbiAgLy8gICByZXR1cm4gbmF0dXJhbERpc3RhbmNlXG4gIC8vIH1cbiAgXG4gIHN0YXRpYyBzaG91bGRBcHBseURPTUxheW91dChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpIHtcbiAgICBjb25zdCBzaG91bGQgPSBsYXllci5zaG91bGRBcHBseURPTUxheW91dFxuICAgIGlmICgoc2hvdWxkIGFzIGFueSkgPT09ICdhbHdheXMnIHx8IHNob3VsZCA9PT0gdHJ1ZSkgcmV0dXJuIHRydWVcbiAgICBpZiAoKHNob3VsZCBhcyBhbnkpID09PSAnbmV2ZXInIHx8IHNob3VsZCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIGlmIChzaG91bGQgPT09ICdhdXRvJyAmJiBsYXllci5wYXJlbnRXZWJMYXllciAmJiBsYXllci5wYXJlbnQgPT09IGxheWVyLnBhcmVudFdlYkxheWVyKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIFxuICBwdWJsaWMgcm9vdExheWVyITpXZWJMYXllcjNEQ29udGVudFxuXG4gIHByaXZhdGUgX2ludGVyYWN0aW9uUmF5cyA9IFtdIGFzIEFycmF5PFRIUkVFLlJheSB8IFRIUkVFLk9iamVjdDNEPlxuICBwcml2YXRlIF9yYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKClcbiAgcHJpdmF0ZSBfaGl0SW50ZXJzZWN0aW9ucyA9IFtdIGFzIEludGVyc2VjdGlvbltdXG5cbiAgY29uc3RydWN0b3IoZWxlbWVudE9ySFRNTDogRWxlbWVudHxzdHJpbmcsIHB1YmxpYyBvcHRpb25zOiBXZWJMYXllcjNET3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuXG4gICAgY29uc3QgZWxlbWVudCA9IHR5cGVvZiBlbGVtZW50T3JIVE1MID09PSAnc3RyaW5nJyA/IERPTShlbGVtZW50T3JIVE1MKSA6IGVsZW1lbnRPckhUTUxcblxuICAgIFdlYlJlbmRlcmVyLmNyZWF0ZUxheWVyVHJlZShlbGVtZW50LCBvcHRpb25zLCAoZXZlbnQsIHsgdGFyZ2V0IH0pID0+IHtcbiAgICAgIGlmIChldmVudCA9PT0gJ2xheWVyY3JlYXRlZCcpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIzRENvbnRlbnQodGFyZ2V0LCB0aGlzLm9wdGlvbnMpXG4gICAgICAgIGlmICh0YXJnZXQgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICBsYXllcltPTl9CRUZPUkVfVVBEQVRFXSA9ICgpID0+IHRoaXMuX3VwZGF0ZUludGVyYWN0aW9ucygpXG4gICAgICAgICAgbGF5ZXIuaXNSb290ID0gdHJ1ZVxuICAgICAgICAgIHRoaXMucm9vdExheWVyID0gbGF5ZXJcbiAgICAgICAgICB0aGlzLmFkZChsYXllcilcbiAgICAgICAgfSBlbHNlIGxheWVyLnBhcmVudFdlYkxheWVyPy5hZGQobGF5ZXIpXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uTGF5ZXJDcmVhdGUobGF5ZXIpXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnbGF5ZXJjaGFuZ2VkJykge1xuICAgICAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQodGFyZ2V0KSFcbiAgICAgICAgY29uc3QgbGF5ZXIzRCA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChsYXllci5lbGVtZW50KSFcbiAgICAgICAgbGF5ZXIzRC50ZXh0dXJlTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIGNvbnNvbGUubG9nKCdsYXllcmNoYW5nZWQnLCBsYXllci5lbGVtZW50KVxuICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2xheWVybW92ZWQnKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRhcmdldCkhXG4gICAgICAgIGxheWVyLnBhcmVudFdlYkxheWVyPy5hZGQobGF5ZXIpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy51cGRhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBSYXlzIHRvIGJlIHVzZWQgZm9yIGludGVyYWN0aW9uLlxuICAgKiBDYW4gb25seSBiZSBzZXQgb24gYSByb290IFdlYkxheWVyM0QgaW5zdGFuY2UuXG4gICAqL1xuICBnZXQgaW50ZXJhY3Rpb25SYXlzKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvblJheXNcbiAgfVxuICBzZXQgaW50ZXJhY3Rpb25SYXlzKHJheXM6IEFycmF5PFRIUkVFLlJheSB8IFRIUkVFLk9iamVjdDNEPikge1xuICAgIHRoaXMuX2ludGVyYWN0aW9uUmF5cyA9IHJheXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYSBxdWVyeSBzZWxlY3RvciBvbiB0aGUgcm9vdCBsYXllclxuICAgKiBAcGFyYW0gc2VsZWN0b3IgXG4gICAqL1xuICBxdWVyeVNlbGVjdG9yKHNlbGVjdG9yOnN0cmluZykgOiBXZWJMYXllcjNEQ29udGVudHx1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnJvb3RMYXllci5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggYWxsIGxheWVycywgcmVjdXJzaXZlbHlcbiAgICovXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5yb290TGF5ZXIucmVmcmVzaCh0cnVlKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgbGF5ZXJzLCByZWN1cnNpdmVseVxuICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMucm9vdExheWVyLnVwZGF0ZSh0cnVlKVxuICB9XG5cbiAgLyoqIEdldCB0aGUgY29udGVudCBtZXNoIG9mIHRoZSByb290IGxheWVyICovXG4gIGdldCBjb250ZW50TWVzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb290TGF5ZXIuY29udGVudE1lc2hcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZpb3VzSG92ZXJMYXllcnMgPSBuZXcgU2V0PFdlYkxheWVyM0RDb250ZW50PigpXG4gIHByaXZhdGUgX2NvbnRlbnRNZXNoZXMgPSBbXSBhcyBUSFJFRS5NZXNoW11cblxuICBwcml2YXRlIF9wcmVwYXJlSGl0VGVzdCA9IChsYXllcjpXZWJMYXllcjNEQ29udGVudCkgPT4ge1xuICAgIGlmIChsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIpIHRoaXMuX3ByZXZpb3VzSG92ZXJMYXllcnMuYWRkKGxheWVyKVxuICAgIGxheWVyLmN1cnNvci52aXNpYmxlID0gZmFsc2VcbiAgICBsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIgPSBmYWxzZVxuICAgIHRoaXMuX2NvbnRlbnRNZXNoZXMucHVzaChsYXllci5jb250ZW50TWVzaClcbiAgfVxuXG4gIC8vIHByaXZhdGUgX2ludGVyc2VjdGlvbkdldEdyb3VwT3JkZXIoaTpJbnRlcnNlY3Rpb24pIHtcbiAgLy8gICBsZXQgbyA9IGkub2JqZWN0IGFzIFRIUkVFLkdyb3VwJlRIUkVFLk9iamVjdDNEXG4gIC8vICAgd2hpbGUgKG8ucGFyZW50ICYmICFvLmlzR3JvdXApIHtcbiAgLy8gICAgIG8gPSBvLnBhcmVudCBhcyBUSFJFRS5Hcm91cCZUSFJFRS5PYmplY3QzRFxuICAvLyAgIH1cbiAgLy8gICBpLmdyb3VwT3JkZXIgPSBvLnJlbmRlck9yZGVyXG4gIC8vIH1cblxuICBwcml2YXRlIF9pbnRlcnNlY3Rpb25Tb3J0KGE6SW50ZXJzZWN0aW9uLGI6SW50ZXJzZWN0aW9uKSB7XG4gICAgY29uc3QgYUxheWVyID0gYS5vYmplY3QucGFyZW50IGFzIFdlYkxheWVyM0RDb250ZW50XG4gICAgY29uc3QgYkxheWVyID0gYi5vYmplY3QucGFyZW50IGFzIFdlYkxheWVyM0RDb250ZW50XG4gICAgaWYgKGFMYXllci5kZXB0aCAhPT0gYkxheWVyLmRlcHRoKSB7XG4gICAgICByZXR1cm4gYkxheWVyLmRlcHRoIC0gYUxheWVyLmRlcHRoXG4gICAgfVxuICAgIHJldHVybiBiTGF5ZXIuaW5kZXggLSBhTGF5ZXIuaW5kZXhcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZUludGVyYWN0aW9ucygpIHtcbiAgICAvLyB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsIHRydWUpXG4gICAgXG4gICAgY29uc3QgcHJldkhvdmVyID0gdGhpcy5fcHJldmlvdXNIb3ZlckxheWVyc1xuICAgIHByZXZIb3Zlci5jbGVhcigpXG4gICAgdGhpcy5fY29udGVudE1lc2hlcy5sZW5ndGggPSAwXG4gICAgdGhpcy5yb290TGF5ZXIudHJhdmVyc2VMYXllcnNQcmVPcmRlcih0aGlzLl9wcmVwYXJlSGl0VGVzdClcblxuICAgIGZvciAoY29uc3QgcmF5IG9mIHRoaXMuX2ludGVyYWN0aW9uUmF5cykge1xuICAgICAgaWYgKHJheSBpbnN0YW5jZW9mIFRIUkVFLlJheSkgdGhpcy5fcmF5Y2FzdGVyLnJheS5jb3B5KHJheSlcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5fcmF5Y2FzdGVyLnJheS5zZXQoXG4gICAgICAgICAgcmF5LmdldFdvcmxkUG9zaXRpb24oc2NyYXRjaFZlY3RvciksXG4gICAgICAgICAgcmF5LmdldFdvcmxkRGlyZWN0aW9uKHNjcmF0Y2hWZWN0b3IyKS5uZWdhdGUoKVxuICAgICAgICApXG4gICAgICB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zLmxlbmd0aCA9IDBcbiAgICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSB0aGlzLl9yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLl9jb250ZW50TWVzaGVzLCBmYWxzZSwgdGhpcy5faGl0SW50ZXJzZWN0aW9ucykgYXMgSW50ZXJzZWN0aW9uW11cbiAgICAgIC8vIGludGVyc2VjdGlvbnMuZm9yRWFjaCh0aGlzLl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyKVxuICAgICAgaW50ZXJzZWN0aW9ucy5zb3J0KHRoaXMuX2ludGVyc2VjdGlvblNvcnQpXG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zWzBdXG4gICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gaW50ZXJzZWN0aW9uLm9iamVjdC5wYXJlbnQgYXMgV2ViTGF5ZXIzRENvbnRlbnRcbiAgICAgICAgbGF5ZXIuY3Vyc29yLnBvc2l0aW9uLmNvcHkoaW50ZXJzZWN0aW9uLnBvaW50KVxuICAgICAgICBsYXllci5jdXJzb3IudmlzaWJsZSA9IHRydWVcbiAgICAgICAgbGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyID0gdHJ1ZVxuICAgICAgICBpZiAoIXByZXZIb3Zlci5oYXMobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIuc2V0TmVlZHNSZWZyZXNoKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgcHJldkhvdmVyKSB7XG4gICAgICBpZiAoIWxheWVyLnBzZXVkb1N0YXRlcy5ob3Zlcikge1xuICAgICAgICBsYXllci5zZXROZWVkc1JlZnJlc2goKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGhpdCB0ZXN0IHdpdGggcmF5LCBvciB3aXRoIC1aIGRpcmVjdGlvbiBvZiBhbiBPYmplY3QzRFxuICAgKiBAcGFyYW0gcmF5IFxuICAgKi9cbiAgaGl0VGVzdChyYXk6IFRIUkVFLlJheXxUSFJFRS5PYmplY3QzRCkge1xuICAgIGNvbnN0IHJheWNhc3RlciA9IHRoaXMuX3JheWNhc3RlclxuICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zXG4gICAgY29uc3QgbWVzaE1hcCA9IFdlYkxheWVyM0QubGF5ZXJzQnlNZXNoXG4gICAgaWYgKHJheSBpbnN0YW5jZW9mIFRIUkVFLlJheSkgXG4gICAgICB0aGlzLl9yYXljYXN0ZXIucmF5LmNvcHkocmF5KVxuICAgIGVsc2UgdGhpcy5fcmF5Y2FzdGVyLnJheS5zZXQoXG4gICAgICByYXkuZ2V0V29ybGRQb3NpdGlvbihzY3JhdGNoVmVjdG9yKSxcbiAgICAgIHJheS5nZXRXb3JsZERpcmVjdGlvbihzY3JhdGNoVmVjdG9yMikubmVnYXRlKClcbiAgICApXG4gICAgaW50ZXJzZWN0aW9ucy5sZW5ndGggPSAwXG4gICAgcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdCh0aGlzLCB0cnVlLCBpbnRlcnNlY3Rpb25zKVxuICAgIC8vIGludGVyc2VjdGlvbnMuZm9yRWFjaCh0aGlzLl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyKVxuICAgIGludGVyc2VjdGlvbnMuc29ydCh0aGlzLl9pbnRlcnNlY3Rpb25Tb3J0KVxuICAgIGZvciAoY29uc3QgaW50ZXJzZWN0aW9uIG9mIGludGVyc2VjdGlvbnMpIHtcbiAgICAgIGNvbnN0IGxheWVyID0gbWVzaE1hcCEuZ2V0KGludGVyc2VjdGlvbi5vYmplY3QgYXMgYW55KVxuICAgICAgaWYgKCFsYXllcikgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyQm91bmRpbmdSZWN0ID0gZ2V0Qm91bmRzKGxheWVyLmVsZW1lbnQsIHNjcmF0Y2hCb3VuZHMpIVxuICAgICAgaWYgKCFsYXllckJvdW5kaW5nUmVjdC53aWR0aCB8fCAhbGF5ZXJCb3VuZGluZ1JlY3QuaGVpZ2h0KSBjb250aW51ZVxuICAgICAgbGV0IHRhcmdldCA9IGxheWVyLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcbiAgICAgIGNvbnN0IGNsaWVudFggPSBpbnRlcnNlY3Rpb24udXYhLnggKiBsYXllckJvdW5kaW5nUmVjdC53aWR0aFxuICAgICAgY29uc3QgY2xpZW50WSA9ICgxIC0gaW50ZXJzZWN0aW9uLnV2IS55KSAqIGxheWVyQm91bmRpbmdSZWN0LmhlaWdodFxuICAgICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGxheWVyLmVsZW1lbnQsIGVsID0+IHtcbiAgICAgICAgaWYgKCF0YXJnZXQuY29udGFpbnMoZWwpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgY29uc3QgZWxlbWVudEJvdW5kaW5nUmVjdCA9IGdldEJvdW5kcyhlbCwgc2NyYXRjaEJvdW5kczIpIVxuICAgICAgICBjb25zdCBvZmZzZXRMZWZ0ID0gZWxlbWVudEJvdW5kaW5nUmVjdC5sZWZ0IC0gbGF5ZXJCb3VuZGluZ1JlY3QubGVmdFxuICAgICAgICBjb25zdCBvZmZzZXRUb3AgPSBlbGVtZW50Qm91bmRpbmdSZWN0LnRvcCAtIGxheWVyQm91bmRpbmdSZWN0LnRvcFxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnRCb3VuZGluZ1JlY3RcbiAgICAgICAgY29uc3Qgb2Zmc2V0UmlnaHQgPSBvZmZzZXRMZWZ0ICsgd2lkdGhcbiAgICAgICAgY29uc3Qgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wICsgaGVpZ2h0XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjbGllbnRYID4gb2Zmc2V0TGVmdCAmJlxuICAgICAgICAgIGNsaWVudFggPCBvZmZzZXRSaWdodCAmJlxuICAgICAgICAgIGNsaWVudFkgPiBvZmZzZXRUb3AgJiZcbiAgICAgICAgICBjbGllbnRZIDwgb2Zmc2V0Qm90dG9tXG4gICAgICAgICkge1xuICAgICAgICAgIHRhcmdldCA9IGVsIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2UgLy8gc3RvcCB0cmF2ZXJzYWwgZG93biB0aGlzIHBhdGhcbiAgICAgIH0pXG4gICAgICByZXR1cm4geyBsYXllciwgaW50ZXJzZWN0aW9uLCB0YXJnZXQgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxufVxuXG4vLyBjbGFzcyBDYW1lcmFGT1ZzIHtcbi8vICAgdG9wID0gMFxuLy8gICBsZWZ0ID0gMFxuLy8gICBib3R0b20gPSAwXG4vLyAgIHJpZ2h0ID0gMFxuLy8gICBob3Jpem9udGFsID0gMFxuLy8gICB2ZXJ0aWNhbCA9IDBcbi8vIH1cblxuLy8gY29uc3QgX2ZvdnMgPSBuZXcgQ2FtZXJhRk9WcygpXG4vLyBjb25zdCBfZ2V0Rm92c01hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KClcbi8vIGNvbnN0IF9nZXRGb3ZzVmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuLy8gY29uc3QgRk9SV0FSRCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC0xKVxuLy8gZnVuY3Rpb24gZ2V0Rm92cyhwcm9qZWN0aW9uTWF0cml4OiBUSFJFRS5NYXRyaXg0KSB7XG4vLyAgIGNvbnN0IG91dCA9IF9mb3ZzXG4vLyAgIGNvbnN0IGludlByb2plY3Rpb24gPSBfZ2V0Rm92c01hdHJpeC5nZXRJbnZlcnNlKHByb2plY3Rpb25NYXRyaXgpIGFzIFRIUkVFLk1hdHJpeDRcbi8vICAgY29uc3QgdmVjID0gX2dldEZvdnNWZWN0b3Jcbi8vICAgb3V0LmxlZnQgPSB2ZWNcbi8vICAgICAuc2V0KC0xLCAwLCAtMSlcbi8vICAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4vLyAgICAgLmFuZ2xlVG8oRk9SV0FSRClcbi8vICAgb3V0LnJpZ2h0ID0gdmVjXG4vLyAgICAgLnNldCgxLCAwLCAtMSlcbi8vICAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4vLyAgICAgLmFuZ2xlVG8oRk9SV0FSRClcbi8vICAgb3V0LnRvcCA9IHZlY1xuLy8gICAgIC5zZXQoMCwgMSwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC5ib3R0b20gPSB2ZWNcbi8vICAgICAuc2V0KDAsIC0xLCAtMSlcbi8vICAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4vLyAgICAgLmFuZ2xlVG8oRk9SV0FSRClcbi8vICAgb3V0Lmhvcml6b250YWwgPSBvdXQucmlnaHQgKyBvdXQubGVmdFxuLy8gICBvdXQudmVydGljYWwgPSBvdXQudG9wICsgb3V0LmJvdHRvbVxuLy8gICByZXR1cm4gb3V0XG4vLyB9XG4iXSwibmFtZXMiOlsiaGFzT3duUHJvcGVydHkiLCJ1aWQiLCJjb21wdXRlZCIsInAiLCJbb2JqZWN0IE9iamVjdF0iLCJ4IiwieSIsInRoaXMiLCJ2YWx1ZSIsInNjYWxhciIsImluZGV4IiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInYiLCJ3Iiwid2FybiIsImFkZFZlY3RvcnMiLCJzIiwiYTIiLCJiMiIsInN1YlZlY3RvcnMiLCJtdWx0aXBseVNjYWxhciIsIm0iLCJlIiwiZWxlbWVudHMiLCJNYXRoIiwibWluIiwibWF4IiwibWluMiIsIm1heDIiLCJtaW5WYWwiLCJtYXhWYWwiLCJsZW5ndGgiLCJkaXZpZGVTY2FsYXIiLCJmbG9vciIsImNlaWwiLCJyb3VuZCIsInNxcnQiLCJhYnMiLCJhdGFuMiIsIlBJIiwiZGlzdGFuY2VUb1NxdWFyZWQiLCJkeCIsImR5Iiwibm9ybWFsaXplIiwiYWxwaGEiLCJ2MSIsInYyIiwiYXJyYXkiLCJvZmZzZXQiLCJhdHRyaWJ1dGUiLCJnZXRYIiwiZ2V0WSIsImNlbnRlciIsImFuZ2xlIiwiYzIiLCJjb3MiLCJzaW4iLCJyYW5kb20iLCJWZWN0b3IyIiwicHJvdG90eXBlIiwiaXNWZWN0b3IyIiwiX2x1dCIsImkiLCJ0b1N0cmluZyIsIl9zZWVkIiwiREVHMlJBRCIsIlJBRDJERUciLCJuIiwidCIsImQwIiwiZDEiLCJkMiIsImQzIiwidG9VcHBlckNhc2UiLCJhMSIsImIxIiwibGFtYmRhIiwiZHQiLCJsZXJwIiwiZXhwIiwiZXVjbGlkZWFuTW9kdWxvIiwibG93IiwiaGlnaCIsInJhbmdlIiwiZGVncmVlcyIsInJhZGlhbnMiLCJwb3ciLCJsb2ciLCJMTjIiLCJxIiwib3JkZXIiLCJjb3MyIiwic2luMiIsImMyMiIsInMyIiwiYzEzIiwiczEzIiwiYzFfMyIsInMxXzMiLCJjM18xIiwiczNfMSIsInNldCIsInoiLCJfeCIsIl95IiwiX3oiLCJfdyIsInFhIiwicWIiLCJxbSIsInNsZXJwUXVhdGVybmlvbnMiLCJkc3QiLCJkc3RPZmZzZXQiLCJzcmMwIiwic3JjT2Zmc2V0MCIsInNyYzEiLCJzcmNPZmZzZXQxIiwieDAiLCJ5MCIsInowIiwidzAiLCJ4MSIsInkxIiwiejEiLCJ3MSIsImRpciIsInNxclNpbiIsIk51bWJlciIsIkVQU0lMT04iLCJsZW4iLCJ0RGlyIiwiZiIsIl9vbkNoYW5nZUNhbGxiYWNrIiwicXVhdGVybmlvbiIsImV1bGVyIiwidXBkYXRlIiwiaXNFdWxlciIsIl9vcmRlciIsImMxIiwiYzMiLCJzMSIsInMzIiwiYXhpcyIsImhhbGZBbmdsZSIsInRlIiwibTExIiwibTEyIiwibTEzIiwibTIxIiwibTIyIiwibTIzIiwibTMxIiwibTMyIiwibTMzIiwidHJhY2UiLCJ2RnJvbSIsInZUbyIsInIiLCJkb3QiLCJhY29zIiwiTWF0aFV0aWxzLmNsYW1wIiwic3RlcCIsImFuZ2xlVG8iLCJzbGVycCIsImNvbmp1Z2F0ZSIsImwiLCJtdWx0aXBseVF1YXRlcm5pb25zIiwicWF4IiwicWF5IiwicWF6IiwicWF3IiwicWJ4IiwicWJ5IiwicWJ6IiwicWJ3IiwiY29weSIsImNvc0hhbGZUaGV0YSIsInNxclNpbkhhbGZUaGV0YSIsInNpbkhhbGZUaGV0YSIsImhhbGZUaGV0YSIsInJhdGlvQSIsInJhdGlvQiIsImdldFoiLCJnZXRXIiwiY2FsbGJhY2siLCJRdWF0ZXJuaW9uIiwiaXNRdWF0ZXJuaW9uIiwibXVsdGlwbHlWZWN0b3JzIiwiZXJyb3IiLCJhcHBseVF1YXRlcm5pb24iLCJfcXVhdGVybmlvbiIsInNldEZyb21FdWxlciIsInNldEZyb21BeGlzQW5nbGUiLCJhcHBseU1hdHJpeDMiLCJxeCIsInF5IiwicXoiLCJxdyIsIml4IiwiaXkiLCJpeiIsIml3IiwiY2FtZXJhIiwiYXBwbHlNYXRyaXg0IiwibWF0cml4V29ybGRJbnZlcnNlIiwicHJvamVjdGlvbk1hdHJpeCIsInByb2plY3Rpb25NYXRyaXhJbnZlcnNlIiwibWF0cml4V29ybGQiLCJjcm9zc1ZlY3RvcnMiLCJheCIsImF5IiwiYXoiLCJieCIsImJ5IiwiYnoiLCJkZW5vbWluYXRvciIsImxlbmd0aFNxIiwicGxhbmVOb3JtYWwiLCJwcm9qZWN0T25WZWN0b3IiLCJzdWIiLCJfdmVjdG9yIiwibm9ybWFsIiwidGhldGEiLCJkeiIsInNldEZyb21TcGhlcmljYWxDb29yZHMiLCJyYWRpdXMiLCJwaGkiLCJzaW5QaGlSYWRpdXMiLCJzZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMiLCJzeCIsInNldEZyb21NYXRyaXhDb2x1bW4iLCJzeSIsInN6IiwiZnJvbUFycmF5IiwiVmVjdG9yMyIsImlzVmVjdG9yMyIsImFyZ3VtZW50cyIsIm4xMSIsIm4xMiIsIm4xMyIsIm4xNCIsIm4yMSIsIm4yMiIsIm4yMyIsIm4yNCIsIm4zMSIsIm4zMiIsIm4zMyIsIm4zNCIsIm40MSIsIm40MiIsIm40MyIsIm40NCIsIk1hdHJpeDQiLCJtZSIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInNjYWxlWCIsIl92MSIsInNjYWxlWSIsInNjYWxlWiIsImQiLCJhZSIsImFmIiwiYmUiLCJiZiIsImNlIiwiY2YiLCJkZSIsImRmIiwiYWMiLCJhZCIsImJjIiwiYmQiLCJjb21wb3NlIiwiX3plcm8iLCJfb25lIiwiZXllIiwidGFyZ2V0IiwidXAiLCJtdWx0aXBseU1hdHJpY2VzIiwiYTExIiwiYTEyIiwiYTEzIiwiYTE0IiwiYTIxIiwiYTIyIiwiYTIzIiwiYTI0IiwiYTMxIiwiYTMyIiwiYTMzIiwiYTM0IiwiYTQxIiwiYTQyIiwiYTQzIiwiYTQ0IiwiYjExIiwiYjEyIiwiYjEzIiwiYjE0IiwiYjIxIiwiYjIyIiwiYjIzIiwiYjI0IiwiYjMxIiwiYjMyIiwiYjMzIiwiYjM0IiwiYjQxIiwiYjQyIiwiYjQzIiwiYjQ0IiwidG1wIiwidDExIiwidDEyIiwidDEzIiwidDE0IiwiZGV0IiwiZGV0SW52Iiwic2NhbGVYU3EiLCJzY2FsZVlTcSIsInNjYWxlWlNxIiwidHgiLCJ0eSIsInh5IiwieHoiLCJ5eCIsInl6IiwiengiLCJ6eSIsInBvc2l0aW9uIiwic2NhbGUiLCJ4MiIsInkyIiwiejIiLCJ4eCIsInl5IiwienoiLCJ3eCIsInd5Iiwid3oiLCJkZXRlcm1pbmFudCIsImludlNYIiwiaW52U1kiLCJpbnZTWiIsInNldEZyb21Sb3RhdGlvbk1hdHJpeCIsIl9tMSIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIm5lYXIiLCJmYXIiLCJoIiwibWF0cml4IiwiaXNNYXRyaXg0IiwiX2NvbG9yS2V5d29yZHMiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyZWQiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRhbiIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZSIsIndoaXRlc21va2UiLCJ5ZWxsb3ciLCJ5ZWxsb3dncmVlbiIsIl9oc2xBIiwiX2hzbEIiLCJnIiwic2V0UkdCIiwiaXNDb2xvciIsInNldEhleCIsInNldFN0eWxlIiwiYiIsImhleCIsIk1hdGhVdGlscy5ldWNsaWRlYW5Nb2R1bG8iLCJodWUycmdiIiwic3R5bGUiLCJzdHJpbmciLCJwYXJzZUZsb2F0IiwiZXhlYyIsImNvbG9yIiwibmFtZTIiLCJjb21wb25lbnRzIiwicGFyc2VJbnQiLCJzZXRIU0wiLCJzaXplMiIsImNoYXJBdCIsInNldENvbG9yTmFtZSIsInRvTG93ZXJDYXNlIiwiZ2FtbWFGYWN0b3IiLCJzYWZlSW52ZXJzZSIsImNvcHlHYW1tYVRvTGluZWFyIiwiY29weUxpbmVhclRvR2FtbWEiLCJTUkdCVG9MaW5lYXIiLCJMaW5lYXJUb1NSR0IiLCJjb3B5U1JHQlRvTGluZWFyIiwiY29weUxpbmVhclRvU1JHQiIsImdldEhleCIsInNsaWNlIiwiaHVlIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsImRlbHRhIiwiZ2V0SFNMIiwiY29sb3IxIiwiY29sb3IyIiwiTWF0aFV0aWxzLmxlcnAiLCJub3JtYWxpemVkIiwiQ29sb3IiLCJOQU1FUyIsIkluZmluaXR5IiwicG9pbnRzIiwibWFrZUVtcHR5IiwiaWwiLCJleHBhbmRCeVBvaW50IiwiaGFsZlNpemUiLCJhZGQiLCJib3giLCJpc0VtcHR5IiwicG9pbnQiLCJ2ZWN0b3IiLCJhZGRTY2FsYXIiLCJjbGFtcCIsImVxdWFscyIsIkJveDIiLCJpc0JveDIiLCJtaW5YIiwibWluWSIsIm1pbloiLCJtYXhYIiwibWF4WSIsIm1heFoiLCJjb3VudCIsIm9iamVjdCIsImV4cGFuZEJ5T2JqZWN0IiwidXBkYXRlV29ybGRNYXRyaXgiLCJnZW9tZXRyeSIsImJvdW5kaW5nQm94IiwiY29tcHV0ZUJvdW5kaW5nQm94IiwidW5pb24iLCJfYm94IiwiY2hpbGRyZW4iLCJzcGhlcmUiLCJjbGFtcFBvaW50IiwicGxhbmUiLCJjb25zdGFudCIsInRyaWFuZ2xlIiwiZ2V0Q2VudGVyIiwiX2NlbnRlciIsImEiLCJjIiwiX3YwIiwiX3YyIiwiYXhlcyIsIl9mMCIsIl9mMSIsIl9mMiIsInNhdEZvckF4ZXMiLCJfZXh0ZW50cyIsIl90cmlhbmdsZU5vcm1hbCIsImdldFNpemUiLCJzZXRGcm9tUG9pbnRzIiwiX3BvaW50cyIsIkJveDMiLCJpc0JveDMiLCJfdGVzdEF4aXMiLCJ2MCIsImV4dGVudHMiLCJqIiwicDAiLCJwMSIsInAyIiwic2V0RnJvbU1hdHJpeDNDb2x1bW4iLCJtYXRyaXg0Iiwic2V0RnJvbU1hdHJpeDQiLCJpbnZlcnQiLCJ0cmFuc3Bvc2UiLCJyb3RhdGlvbiIsImN4IiwiY3kiLCJNYXRyaXgzIiwiaXNNYXRyaXgzIiwiT2JqZWN0IiwiZnJlZXplIiwiUklHSFQiLCJVUCIsIk5FQVIiLCJMRUZUIiwiRE9XTiIsIkZBUiIsIl8yUEkiLCJWXzAwMTIiLCJ0d2lzdCIsInN3aW5nIiwic3dpbmdBeGlzIiwib3V0IiwidHdpc3RTY2FsZSIsInN3aW5nU2NhbGUiLCJ0d2lzdE1hZ25pdHVkZSIsInN3aW5nRGlyZWN0aW9uIiwic3dpbmdNYWduaXR1ZGUiLCJhcHBseUF4aXNBbmdsZSIsInZlYyIsInJvdCIsImRpcmVjdGlvbiIsInJvdEF4aXMiLCJkb3RQcm9kIiwicHJvamVjdGlvbiIsInJldmVyc2VkIiwiZWFzaW5nMiIsIm1pcnJvcmVkIiwiY3JlYXRlUmV2ZXJzZWRFYXNpbmciLCJjcmVhdGVNaXJyb3JlZEVhc2luZyIsImNyZWF0ZUV4cG9JbiIsInBvd2VyIiwiY3JlYXRlQmFja0luIiwiY3JlYXRlQW50aWNpcGF0ZUVhc2luZyIsImJhY2tFYXNpbmciLCJlYXNlSW4iLCJlYXNlT3V0IiwiZWFzZUluT3V0IiwiY2lyY0luIiwiY2lyY091dCIsImNpcmNJbk91dCIsImJhY2tJbiIsImJhY2tPdXQiLCJiYWNrSW5PdXQiLCJhbnRpY2lwYXRlIiwiYm91bmNlT3V0IiwiRkxPQVRfMzJfU1VQUE9SVEVEIiwiRmxvYXQzMkFycmF5IiwiZ2V0U2xvcGUiLCJjYWxjQmV6aWVyIiwibVgxIiwibVkxIiwibVgyIiwibVkyIiwic2FtcGxlVmFsdWVzIiwiQXJyYXkiLCJnZXRURm9yWCIsImFYIiwiZGlzdDIiLCJndWVzc0ZvclQiLCJpbml0aWFsU2xvcGUiLCJpbnRlcnZhbFN0YXJ0IiwiY3VycmVudFNhbXBsZSIsIktfU1BMSU5FX1RBQkxFX1NJWkUiLCJhR3Vlc3NUIiwiY3VycmVudFNsb3BlIiwibmV3dG9uUmFwaHNvbkl0ZXJhdGUiLCJhQSIsImFCIiwiY3VycmVudFgiLCJjdXJyZW50VCIsImJpbmFyeVN1YmRpdmlkZSIsImlzQmlnTnVtYmVyIiwiZ2V0UHJvdG90eXBlT2YiLCJpc0NvbXBsZXgiLCJpc0ZyYWN0aW9uIiwiaXNVbml0IiwiaXNBcnJheSIsImlzTWF0cml4IiwiaXNEZW5zZU1hdHJpeCIsImlzU3BhcnNlTWF0cml4IiwiaXNSYW5nZSIsImlzSW5kZXgiLCJpc1Jlc3VsdFNldCIsImlzSGVscCIsIkRhdGUiLCJSZWdFeHAiLCJpc0FjY2Vzc29yTm9kZSIsImlzTm9kZSIsImlzQXJyYXlOb2RlIiwiaXNBc3NpZ25tZW50Tm9kZSIsImlzQmxvY2tOb2RlIiwiaXNDb25kaXRpb25hbE5vZGUiLCJpc0NvbnN0YW50Tm9kZSIsImlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsImlzRnVuY3Rpb25Ob2RlIiwiaXNJbmRleE5vZGUiLCJpc09iamVjdE5vZGUiLCJpc09wZXJhdG9yTm9kZSIsImlzUGFyZW50aGVzaXNOb2RlIiwiaXNSYW5nZU5vZGUiLCJpc1N5bWJvbE5vZGUiLCJpc0NoYWluIiwidHlwZSIsImNsb25lIiwibWFwIiwidmFsdWVPZiIsIlR5cGVFcnJvciIsIm1hcE9iamVjdCIsImNsb25lMiIsImtleSIsInByb3AiLCJkZWVwU3RyaWN0RXF1YWwiLCJwcm9wZXJ0eSIsImNhbGwiLCJfdHlwZXMiLCJuYW1lIiwidGVzdCIsImFueVR5cGUiLCJvayIsIl9pZ25vcmUiLCJfY29udmVyc2lvbnMiLCJ0eXBlZCIsInR5cGVzIiwiY29udmVyc2lvbnMiLCJpZ25vcmUiLCJ0eXBlTmFtZSIsImVudHJ5IiwiZmluZEluQXJyYXkiLCJlbnRyeTIiLCJoaW50IiwiaW5kZXhPZiIsImZuIiwic2lnbmF0dXJlIiwic2lnbmF0dXJlcyIsImFyciIsInNwbGl0IiwidHJpbSIsInN0ciIsImpvaW4iLCJtYXRjaCIsImZyb20iLCJmaW5kVHlwZU5hbWUiLCJjb252ZXJzaW9uIiwidG8iLCJjb252ZXJ0IiwicGFyYW1zIiwicGFyYW0iLCJ0eXBlTmFtZXMiLCJnZXRUeXBlTmFtZSIsInJlc3RQYXJhbSIsImZpbHRlciIsIm5vdEVtcHR5Iiwibm90SWdub3JlIiwibWF0Y2hpbmdDb252ZXJzaW9ucyIsImZpbHRlckNvbnZlcnNpb25zIiwiZXhhY3RUeXBlcyIsImZpbmRUeXBlQnlOYW1lIiwidHlwZUluZGV4IiwiZmluZFR5cGVJbmRleCIsImNvbnZlcnNpb25JbmRleCIsImNvbnZlcnRpYmxlVHlwZXMiLCJjb25jYXQiLCJwYXJzZWRQYXJhbSIsInBhcnNlUGFyYW0iLCJTeW50YXhFcnJvciIsInNvbWUiLCJpc0ludmFsaWRQYXJhbSIsImxhc3QiLCJ0ZXN0MCIsInRlc3QxIiwidGVzdHMiLCJoYXNSZXN0UGFyYW0iLCJ2YXJJbmRleCIsImluaXRpYWwiLCJjb21waWxlVGVzdCIsImxhc3RUZXN0IiwidGVzdFJlc3RQYXJhbSIsImFyZ3MiLCJleGNsdWRlQ29udmVyc2lvbnMiLCJnZXRQYXJhbUF0SW5kZXgiLCJpc0V4YWN0VHlwZSIsInVuaXEiLCJmbGF0TWFwIiwiZ2V0RXhwZWN0ZWRUeXBlTmFtZXMiLCJlcnIiLCJleHBlY3RlZCIsIl9uYW1lIiwibWF0Y2hpbmdTaWduYXR1cmVzIiwibmV4dE1hdGNoaW5nRGVmcyIsIm1lcmdlRXhwZWN0ZWRQYXJhbXMiLCJhY3R1YWxUeXBlIiwiZGF0YSIsImNhdGVnb3J5IiwiYWN0dWFsIiwibGVuZ3RocyIsImFwcGx5IiwibWF4TGVuZ3RoIiwiZXhwZWN0ZWRMZW5ndGgiLCJwYXJhbTEiLCJwYXJhbTIiLCJoYXNDb252ZXJzaW9ucyIsImdldExvd2VzdFR5cGVJbmRleCIsImdldExvd2VzdENvbnZlcnNpb25JbmRleCIsInNpZ25hdHVyZTEiLCJzaWduYXR1cmUyIiwiY29tcGFyZVBhcmFtcyIsIm1hdGNoZXMiLCJmb3JFYWNoIiwia2V5cyIsImZuQ29udmVydCIsImNvbXBpbGVkQ29udmVyc2lvbnMiLCJjb21waWxlQXJnQ29udmVyc2lvbiIsImxhc3QyIiwiZm5QcmVwcm9jZXNzIiwiY29udmVyc2lvbjAiLCJjb252ZXJzaW9uMSIsInB1c2giLCJhcmciLCJzaWduYXR1cmVzTWFwIiwic3RyaW5naWZ5UGFyYW1zIiwiaWdub3JlQ29udmVyc2lvblR5cGVzIiwicGFyYW1zMiIsInR5cGVHcm91cHMiLCJmaWx0ZXJlZFR5cGVzIiwidHlwZUdyb3VwIiwiX3NwbGl0UGFyYW1zIiwiaWkiLCJoYXNPdmVybGFwIiwibGVuMSIsImxlbjIiLCJyZXN0UGFyYW0xIiwicmVzdFBhcmFtMiIsInBhcnNlZFNpZ25hdHVyZXMiLCJwYXJzZVNpZ25hdHVyZSIsIm5vdE51bGwiLCJwYXJzZWRTaWduYXR1cmUiLCJjb25mbGljdGluZ1NpZ25hdHVyZSIsImhhc0NvbmZsaWN0aW5nUGFyYW1zIiwic3BsaXRQYXJhbXMiLCJzb3J0IiwiY29tcGFyZVNpZ25hdHVyZXMiLCJvazAiLCJvazEiLCJvazIiLCJvazMiLCJvazQiLCJvazUiLCJhbGxPayIsImNvbXBpbGVUZXN0cyIsInRlc3QwMCIsIm5vdE9rIiwidGVzdDEwIiwidGVzdDIwIiwidGVzdDMwIiwidGVzdDQwIiwidGVzdDUwIiwidGVzdDAxIiwidGVzdDExIiwidGVzdDIxIiwidGVzdDMxIiwidGVzdDQxIiwidGVzdDUxIiwiZm5zIiwiY29tcGlsZUFyZ3NQcmVwcm9jZXNzaW5nIiwiZm4wIiwidW5kZWYiLCJmbjEiLCJmbjIiLCJmbjMiLCJmbjQiLCJmbjUiLCJsZW4wIiwibGVuMyIsImxlbjQiLCJsZW41IiwiaVN0YXJ0IiwiaUVuZCIsImdlbmVyaWMiLCJjcmVhdGVFcnJvciIsImFyZzAiLCJhcmcxIiwiZm42IiwiZGVmaW5lUHJvcGVydHkiLCJjcmVhdGVTaWduYXR1cmVzTWFwIiwic3RhcnQiLCJlbmQiLCJpdGVtIiwiYXJyYXkxIiwiYXJyYXkyIiwiY29udGFpbnMyIiwiZW50cmllcyIsIl9zaWduYXR1cmUiLCJfZm4iLCJjcmVhdGVUeXBlZEZ1bmN0aW9uIiwic3RyaW5nLCBPYmplY3QiLCJnZXROYW1lIiwiLi4uRnVuY3Rpb24iLCJleHRyYWN0U2lnbmF0dXJlcyIsInN0cmluZywgLi4uRnVuY3Rpb24iLCJjcmVhdGUiLCJjcmVhdGUyIiwiZmluZCIsImFkZFR5cGUiLCJiZWZvcmVPYmplY3RUZXN0Iiwic3BsaWNlIiwiYWRkQ29udmVyc2lvbiIsImZhY3RvcnkyIiwiaXNGaW5pdGUiLCJzaWduIiwib3B0aW9ucyIsImlzTmFOIiwicHJlY2lzaW9uIiwibm90YXRpb24iLCJpc051bWJlciIsInRvRml4ZWQiLCJ0b0V4cG9uZW50aWFsIiwiU3RyaW5nIiwicm91bmRlZCIsInJvdW5kRGlnaXRzIiwic3BsaXROdW1iZXIiLCJleHBvbmVudCIsImNvZWZmaWNpZW50cyIsIm5ld0V4cCIsIm1pc3NpbmdaZXJvcyIsImV4cERpZmYiLCJkZWNpbWFsSWR4IiwiZGVjaW1hbHMiLCJkZWNpbWFsVmFsIiwidG9FbmdpbmVlcmluZyIsImxvd2VyRXhwIiwidXBwZXJFeHAiLCJ6ZXJvcyIsInRvUHJlY2lzaW9uIiwicmVwbGFjZSIsImRpZ2l0czIiLCJzaWduMiIsInplcm9zMiIsInNwbGl0VmFsdWUiLCJwcCIsImZpcnN0Iiwic2hpZnQiLCJ1bnNoaWZ0IiwicG9wIiwiREJMX0VQU0lMT04iLCJlcHNpbG9uIiwiZGlmZiIsImd0IiwidmFsdWVXaXRob3V0RXhwIiwibXVsIiwidmFsdWVTdHIiLCJpc1plcm8iLCJ0b1NpZ25pZmljYW50RGlnaXRzIiwiZXhwMiIsInRleHQiLCJzZWFyY2giLCJzdWJzdHJpbmciLCJmb3JtYXROdW1iZXIiLCJmb3JtYXRCaWdOdW1iZXIiLCJsb29rc0xpa2VGcmFjdGlvbiIsImZyYWN0aW9uIiwiZm9ybWF0QXJyYXkiLCJpc1N0cmluZyIsInN5bnRheCIsImZvcm1hdCIsImVzY2FwZWQiLCJyZWxhdGlvbiIsIkRpbWVuc2lvbkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiSW5kZXhFcnJvciIsImRpbSIsImRpbU5leHQiLCJjaGlsZCIsImlzSW50ZWdlciIsImRlZmF1bHRWYWx1ZSIsImVsZW0iLCJvbGRMZW4iLCJuZXdMZW4iLCJtaW5MZW4iLCJzaXplcyIsIm5ld0FycmF5IiwiZmxhdEFycmF5IiwiZmxhdCIsImZsYXR0ZW4iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInByb2R1Y3QiLCJhcnJheVNpemUiLCJ0b3RhbFNpemUiLCJzaXplSW5kZXgiLCJ0bXBBcnJheTIiLCJ0bXBBcnJheSIsIl9yZXNoYXBlIiwiZGltcyIsIm91dGVyIiwiX3Vuc3F1ZWV6ZSIsIm5leHQiLCJzZXBhcmF0b3IiLCJ0eXBlT2YyIiwiaXNBcnJheTIiLCJpdGVtVHlwZSIsImdldEFycmF5RGF0YVR5cGUiLCJkZXBlbmRlbmNpZXMyIiwibWV0YSIsInNjb3BlIiwiZGVwcyIsInByb3BlcnRpZXMyIiwicGlja1NoYWxsb3ciLCJzdHJpcE9wdGlvbmFsTm90YXRpb24iLCJkZXBlbmRlbmN5IiwiaXNPcHRpb25hbERlcGVuZGVuY3kiLCJldmVyeSIsIm1pc3NpbmdEZXBlbmRlbmNpZXMiLCJpc0ZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJhc3NlcnRBbmRDcmVhdGUiLCJSYW5nZUVycm9yIiwiaXNEaW1lbnNpb25FcnJvciIsImlzSW5kZXhFcnJvciIsIl9jcmVhdGVUeXBlZDIiLCJ0eXBlZEZ1bmN0aW9uIiwiY3JlYXRlVHlwZWQiLCJfcmVmIiwiQmlnTnVtYmVyIiwiQ29tcGxleCIsIkRlbnNlTWF0cml4IiwiRnJhY3Rpb24iLCJpc0Jvb2xlYW4iLCJpc0Z1bmN0aW9uIiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiQ29tcGxleDIiLCJ0b051bWJlciIsIkZyYWN0aW9uMiIsImluZXhhY3QiLCJxdWFkcmFudCIsImNyZWF0ZVJlc3VsdFNldCIsIlJlc3VsdFNldCIsInRvSlNPTiIsIm1hdGhqcyIsImZyb21KU09OIiwianNvbiIsImlzQ2xhc3MiLCJFWFBfTElNSVQiLCJOVU1FUkFMUyIsIkxOMTAiLCJERUZBVUxUUyIsInJvdW5kaW5nIiwibW9kdWxvIiwidG9FeHBOZWciLCJ0b0V4cFBvcyIsIm1pbkUiLCJtYXhFIiwiY3J5cHRvIiwiZXh0ZXJuYWwiLCJpbnZhbGlkQXJndW1lbnQiLCJkZWNpbWFsRXJyb3IiLCJtYXRoZmxvb3IiLCJtYXRocG93IiwiaXNCaW5hcnkiLCJpc0hleCIsImlzT2N0YWwiLCJpc0RlY2ltYWwiLCJCQVNFIiwiTE4xMF9QUkVDSVNJT04iLCJQSV9QUkVDSVNJT04iLCJQIiwiayIsIndzIiwiaW5kZXhPZkxhc3RXb3JkIiwiZ2V0WmVyb1N0cmluZyIsInJtIiwicmVwZWF0aW5nIiwiZGkiLCJyZCIsImJhc2VJbiIsImJhc2VPdXQiLCJhcnJMIiwic3RyTCIsInJldmVyc2UiLCJhYnNvbHV0ZVZhbHVlIiwiZmluYWxpc2UiLCJjb21wYXJlZFRvIiwiY21wIiwieGRMIiwieWRMIiwieGQiLCJ5ZCIsInhzIiwieXMiLCJOYU4iLCJjb3NpbmUiLCJwciIsIkN0b3IiLCJzZCIsInRpbnlQb3ciLCJ0YXlsb3JTZXJpZXMiLCJ0aW1lcyIsImNvczJ4IiwibWludXMiLCJwbHVzIiwidG9MZXNzVGhhbkhhbGZQaSIsIm5lZyIsImN1YmVSb290IiwiY2JydCIsInJlcCIsInQzIiwidDNwbHVzeCIsImRpZ2l0c1RvU3RyaW5nIiwiZGl2aWRlIiwiZXEiLCJkZWNpbWFsUGxhY2VzIiwiZHAiLCJkaXZpZGVkQnkiLCJkaXYiLCJkaXZpZGVkVG9JbnRlZ2VyQnkiLCJkaXZUb0ludCIsImdyZWF0ZXJUaGFuIiwiZ3JlYXRlclRoYW5PckVxdWFsVG8iLCJndGUiLCJoeXBlcmJvbGljQ29zaW5lIiwiY29zaCIsIm9uZSIsImNvc2gyX3giLCJkOCIsImh5cGVyYm9saWNTaW5lIiwic2luaCIsInNpbmgyX3giLCJkNSIsImQxNiIsImQyMCIsImh5cGVyYm9saWNUYW5nZW50IiwidGFuaCIsImludmVyc2VDb3NpbmUiLCJoYWxmUGkiLCJpc05lZyIsImdldFBpIiwiYXNpbiIsImludmVyc2VIeXBlcmJvbGljQ29zaW5lIiwiYWNvc2giLCJsdGUiLCJsbiIsImludmVyc2VIeXBlcmJvbGljU2luZSIsImFzaW5oIiwiaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50IiwiYXRhbmgiLCJ3cHIiLCJ4c2QiLCJpbnZlcnNlU2luZSIsImF0YW4iLCJpbnZlcnNlVGFuZ2VudCIsInB4IiwiaXNJbnQiLCJpc05lZ2F0aXZlIiwiaXNQb3NpdGl2ZSIsImlzUG9zIiwibGVzc1RoYW4iLCJsdCIsImxlc3NUaGFuT3JFcXVhbFRvIiwibG9nYXJpdGhtIiwiYmFzZSIsImlzQmFzZTEwIiwiaW5mIiwibnVtIiwibmF0dXJhbExvZ2FyaXRobSIsImdldExuMTAiLCJjaGVja1JvdW5kaW5nRGlnaXRzIiwieGUiLCJ4TFR5IiwiZ2V0QmFzZTEwRXhwb25lbnQiLCJtb2QiLCJuYXR1cmFsRXhwb25lbnRpYWwiLCJuZWdhdGVkIiwiY2FycnkiLCJnZXRQcmVjaXNpb24iLCJzaW5lIiwic2luMl94Iiwic3F1YXJlUm9vdCIsInRhbmdlbnQiLCJyTCIsInRvQmluYXJ5IiwidG9TdHJpbmdCaW5hcnkiLCJ0b0RlY2ltYWxQbGFjZXMiLCJ0b0RQIiwiZmluaXRlVG9TdHJpbmciLCJ0b0ZyYWN0aW9uIiwibWF4RCIsIm4wIiwidG9IZXhhZGVjaW1hbCIsInRvSGV4IiwidG9OZWFyZXN0IiwidG9PY3RhbCIsInRvUG93ZXIiLCJ5biIsImludFBvdyIsInRvU0QiLCJ0cnVuY2F0ZWQiLCJ0cnVuYyIsInRlbXAiLCJhTCIsImJMIiwibG9nQmFzZSIsIm1vcmUiLCJwcm9kIiwicHJvZEwiLCJxZCIsInJlbSIsInJlbUwiLCJyZW0wIiwieGkiLCJ4TCIsInlkMCIsInlMIiwibXVsdGlwbHlJbnRlZ2VyIiwiY29tcGFyZSIsImlzVHJ1bmNhdGVkIiwicm91bmRVcCIsInhkaSIsImlzRXhwIiwibm9uRmluaXRlVG9TdHJpbmciLCJ6cyIsInRydW5jYXRlIiwibHRndCIsImd1YXJkIiwicG93MiIsInN1bSIsImMwIiwibnVtZXJhdG9yIiwiY2hhckNvZGVBdCIsImlzSHlwZXJib2xpYyIsInUiLCJwaSIsImlzT2RkIiwiY29udmVydEJhc2UiLCJvYmoiLCJ1c2VEZWZhdWx0cyIsImRlZmF1bHRzIiwicHMiLCJnZXRSYW5kb21WYWx1ZXMiLCJyYW5kb21CeXRlcyIsIkRlY2ltYWwiLCJtYXhPck1pbiIsIlVpbnQzMkFycmF5IiwiU3ltYm9sIiwiZm9yIiwidG9TdHJpbmdUYWciLCJpMiIsIkRlY2ltYWwyIiwicGFyc2VEZWNpbWFsIiwiZGl2aXNvciIsImlzRmxvYXQiLCJwYXJzZU90aGVyIiwiUk9VTkRfVVAiLCJST1VORF9ET1dOIiwiUk9VTkRfQ0VJTCIsIlJPVU5EX0ZMT09SIiwiUk9VTkRfSEFMRl9VUCIsIlJPVU5EX0hBTEZfRE9XTiIsIlJPVU5EX0hBTEZfRVZFTiIsIlJPVU5EX0hBTEZfQ0VJTCIsIlJPVU5EX0hBTEZfRkxPT1IiLCJFVUNMSUQiLCJjb25maWciLCJpc0RlY2ltYWxJbnN0YW5jZSIsImh5cG90IiwibG9nMTAiLCJsb2cyIiwiY3JlYXRlQmlnTnVtYmVyQ2xhc3MiLCJvbiIsImNvbmZpZzIiLCJyb290IiwiY29zaDIiLCJzaW5oMiIsInBhcnNlcl9leGl0IiwiX2EyIiwiX2IyIiwicmUiLCJpbSIsInRva2VucyIsInBhcnNlIiwiYWJzMiIsImxvaCIsImxvZ0h5cG90IiwiZXhwbTEiLCJsaW1pdCIsImNvc20xIiwiY290Iiwic2VjIiwiY3NjIiwidDEiLCJ0MiIsImFjb3QiLCJhc2VjIiwiYWNzYyIsImNvdGgiLCJjc2NoIiwic2VjaCIsInJlcyIsIm5vSU0iLCJvbmVNaW51cyIsIm9uZVBsdXMiLCJhY290aCIsImFjc2NoIiwiYXNlY2giLCJpbnZlcnNlIiwicGxhY2VzIiwicmV0IiwidG9WZWN0b3IiLCJpc0luZmluaXRlIiwiRSIsImNyZWF0ZUNvbXBsZXhDbGFzcyIsInRvUG9sYXIiLCJzdHJSZSIsInN0ckltIiwiZnJvbVBvbGFyIiwiaGFzQmFzZSIsIlAyIiwiSW50ZXJtZWRpYXRlSW5oZXJpdG9yIiwiZXJyb3JDb25zdHJ1Y3RvciIsIkRpdmlzaW9uQnlaZXJvIiwiSW52YWxpZFBhcmFtZXRlciIsImZhY3RvcnMiLCJNIiwiQSIsIkIiLCJDIiwiRCIsIk4iLCJhc3NpZ24iLCJnY2QiLCJsY20iLCJmYWN0b3JpemUiLCJzaW1wbGlmeSIsImVwcyIsImNvbnQiLCJyZWMiLCJkaXZpc2libGUiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInRvTGF0ZXgiLCJ0b0NvbnRpbnVlZCIsImRlYyIsImN5Y0xlbiIsImN5Y2xlTGVuIiwiY3ljT2ZmIiwicmVtMSIsInJlbTIiLCJtb2Rwb3ciLCJjeWNsZVN0YXJ0IiwiY3JlYXRlRnJhY3Rpb25DbGFzcyIsImNyZWF0ZVJhbmdlQ2xhc3MiLCJSYW5nZSIsImhhc1N0YXJ0IiwiaGFzRW5kIiwiaGFzU3RlcCIsIm51bXMiLCJzaXplIiwidG9BcnJheSIsImNyZWF0ZU1hdHJpeENsYXNzIiwiTWF0cml4Iiwic3RvcmFnZSIsImRhdGF0eXBlIiwic3Vic2V0IiwicmVwbGFjZW1lbnQiLCJnZXQiLCJyZXNpemUiLCJyZXNoYXBlIiwic2tpcFplcm9zIiwiY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyIsIl9kYXRhIiwiX3NpemUiLCJfZGF0YXR5cGUiLCJwcmVwcm9jZXNzIiwidHlwZU9mIiwiaXNTY2FsYXIiLCJfZ2V0U3VibWF0cml4IiwiZGltZW5zaW9uIiwic3VibWF0cml4Iiwic1NpemUiLCJpU2l6ZSIsInVuc3F1ZWV6ZSIsImRhdGFJbmRleCIsInN1YkluZGV4IiwibmV3U2l6ZSIsImNoYW5nZWQiLCJjcmVhdGVEZW5zZU1hdHJpeCIsImdldERhdGFUeXBlIiwiX2dldCIsIl9zZXQiLCJpbmRleEkiLCJpc0NvbGxlY3Rpb24iLCJzaXplQXJyYXkiLCJfcmVzaXplMiIsInJlY3Vyc2UyIiwicmVjdXJzZSIsImRpYWdvbmFsIiwia1N1cGVyIiwia1N1YiIsInJvd3MiLCJjb2x1bW5zIiwiX3ZhbHVlIiwibXMiLCJzd2FwUm93cyIsIl9zd2FwUm93cyIsInZpIiwiZGVlcE1hcCIsIm4xIiwibjIiLCJhYnNOdW1iZXIiLCJhZGROdW1iZXIiLCJtdWx0aXBseU51bWJlciIsInVuYXJ5TWludXNOdW1iZXIiLCJjZWlsTnVtYmVyIiwibW9kTnVtYmVyIiwicG93TnVtYmVyIiwicm91bmROdW1iZXIiLCJjcmVhdGVJc051bWVyaWMiLCJudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4iLCJDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfCBOb2RlIiwiQXJyYXkgfCBNYXRyaXgiLCJjcmVhdGVFcXVhbFNjYWxhciIsImJvb2xlYW4sIGJvb2xlYW4iLCJudW1iZXIsIG51bWJlciIsIm5lYXJseUVxdWFsIiwiQmlnTnVtYmVyLCBCaWdOdW1iZXIiLCJiaWdOZWFybHlFcXVhbCIsIkZyYWN0aW9uLCBGcmFjdGlvbiIsIkNvbXBsZXgsIENvbXBsZXgiLCJjb21wbGV4RXF1YWxzIiwiVW5pdCwgVW5pdCIsImVxdWFsQmFzZSIsImZhY3RvcnkiLCJfcmVmMiIsImNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzIiwiZXF1YWxTY2FsYXIiLCJTcGFyc2VNYXRyaXgiLCJzb3VyY2UiLCJfdmFsdWVzIiwiX2luZGV4IiwiX3B0ciIsInB0ciIsInZhbHVlcyIsInplcm8iLCJyb3ciLCJpZHgiLCJrayIsIm12YWx1ZXMiLCJtaW5kZXgiLCJtcHRyIiwicHYiLCJ2YWx1ZXMyIiwiaW5zIiwiazAiLCJrMSIsImNyZWF0ZVNwYXJzZU1hdHJpeCIsImRlbnNpdHkiLCJfZ2V0c3Vic2V0IiwiX3NldHN1YnNldCIsIl9nZXRWYWx1ZUluZGV4IiwiY29sSW5kZXgiLCJyb3dJbmRleCIsIl9pIiwicjEiLCJfaTIiLCJfaTMiLCJfaiIsIm1pblJvdyIsIm1heFJvdyIsIm1pbkNvbHVtbiIsIm1heENvbHVtbiIsImludm9rZSIsIl9rIiwiX2k1IiwiX21hcCIsIl9rMiIsIl9pNyIsIl90b0FycmF5IiwiX2ZvckVhY2hSb3ciLCJreCIsImt5IiwidngiLCJ2eSIsImNyZWF0ZU51bWJlciIsIm51bWJlciIsImluY2x1ZGVzIiwiVW5pdCIsIm51bGwiLCJVbml0LCBzdHJpbmcgfCBVbml0IiwidW5pdCIsInZhbHVlbGVzc1VuaXQiLCJjcmVhdGVCaWdudW1iZXIiLCJjcmVhdGVGcmFjdGlvbiIsImNyZWF0ZU1hdHJpeCIsIl9jcmVhdGUiLCJmb3JtYXQyIiwic3RyaW5nLCBzdHJpbmciLCJBcnJheSB8IE1hdHJpeCwgc3RyaW5nIiwiQXJyYXkgfCBNYXRyaXgsIHN0cmluZywgc3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZVVuYXJ5TWludXMiLCJjcmVhdGVBYnMiLCJjcmVhdGVBZGRTY2FsYXIiLCJmaXhQcmVmaXgiLCJjcmVhdGVBbGdvcml0aG0xMSIsImF2YWx1ZXMiLCJhaW5kZXgiLCJhcHRyIiwiYXNpemUiLCJhZHQiLCJjdmFsdWVzIiwiY2luZGV4IiwiY3B0ciIsImNyZWF0ZUFsZ29yaXRobTE0IiwiYWRhdGEiLCJjZGF0YSIsIl9pdGVyYXRlIiwibGV2ZWwiLCJhdiIsImJ2IiwiY3YiLCJjcmVhdGVDZWlsIiwiYWxnb3JpdGhtMTEiLCJhbGdvcml0aG0xNCIsInJvdW5kMiIsInJlc3VsdCIsIkNvbXBsZXgsIG51bWJlciIsIkZyYWN0aW9uLCBudW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIiwiU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXkiLCJjcmVhdGVGaXgiLCJfQ29tcGxleCIsImZsb29yMiIsImNlaWwyIiwibnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsIkZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY3JlYXRlRmxvb3IiLCJjcmVhdGVBbGdvcml0aG0wMSIsImRlbnNlTWF0cml4Iiwic3BhcnNlTWF0cml4IiwiYnZhbHVlcyIsImJpbmRleCIsImJwdHIiLCJic2l6ZSIsImJkdCIsIm1hcmsiLCJjcmVhdGVBbGdvcml0aG0wNCIsInhhIiwieGIiLCJ3YSIsIndiIiwiY3JlYXRlQWxnb3JpdGhtMTAiLCJjcmVhdGVBbGdvcml0aG0xMyIsImJkYXRhIiwiY3NpemUiLCJjcmVhdGVBbGdvcml0aG0wMiIsImNpaiIsImNyZWF0ZUFsZ29yaXRobTAzIiwiY3JlYXRlQWxnb3JpdGhtMDUiLCJ3YWkiLCJ3YmkiLCJ2YyIsImNyZWF0ZUFsZ29yaXRobTEyIiwiYWxnb3JpdGhtMDIiLCJhbGdvcml0aG0wMyIsImFsZ29yaXRobTA1IiwiYWxnb3JpdGhtMTIiLCJhbGdvcml0aG0xMyIsIlNwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4IiwiU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCIsIkRlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgiLCJEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgiLCJBcnJheSwgQXJyYXkiLCJBcnJheSwgTWF0cml4IiwiTWF0cml4LCBBcnJheSIsIlNwYXJzZU1hdHJpeCwgYW55IiwiRGVuc2VNYXRyaXgsIGFueSIsImFueSwgU3BhcnNlTWF0cml4IiwiYW55LCBEZW5zZU1hdHJpeCIsIkFycmF5LCBhbnkiLCJhbnksIEFycmF5IiwiY3JlYXRlTXVsdGlwbHlTY2FsYXIiLCJudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQiLCJfbm9ybWFsaXplIiwiVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4IiwibXVsdGlwbHkiLCJjcmVhdGVNdWx0aXBseSIsInNpemUxIiwiYWxlbmd0aCIsImJjb2x1bW5zIiwibWYiLCJfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeCIsIl9tdWx0aXBseU1hdHJpeFZlY3RvciIsImFyb3dzIiwiYWNvbHVtbnMiLCJicm93cyIsImliIiwidmJpIiwia2EwIiwia2ExIiwia2EiLCJpYSIsImljIiwiX211bHRpcGx5TWF0cml4TWF0cml4IiwiamIiLCJrYjAiLCJrYjEiLCJrYiIsInZiaWoiLCJleHRlbmQiLCJNYXRyaXgsIE1hdHJpeCIsInhzaXplIiwieXNpemUiLCJfbXVsdGlwbHlWZWN0b3JWZWN0b3IiLCJfbXVsdGlwbHlWZWN0b3JNYXRyaXgiLCJhbnksIGFueSIsImFueSwgYW55LCAuLi5hbnkiLCJyZXN0IiwiY3JlYXRlU3VidHJhY3QiLCJ1bmFyeU1pbnVzIiwiYWxnb3JpdGhtMDEiLCJhbGdvcml0aG0xMCIsImNyZWF0ZUFsZ29yaXRobTA3IiwidmEiLCJ2YiIsImNyZWF0ZUNvbmoiLCJxdWV1ZSIsIm1hcDIiLCJkZWwiLCJpZCIsIm9sZEluZGV4IiwiaGl0IiwibnVJbmRleCIsImRlbGV0ZSIsImNsZWFyIiwiaGFzaGVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJoYXNoZXIyIiwibWVtb2l6ZTIiLCJjYWNoZSIsIk1hcCIsImxydSIsImxydVF1ZXVlIiwiaGFzaCIsImhhcyIsIm5ld1ZhbCIsImNyZWF0ZUlkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyIiwiX2lkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmciLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsImNvbHMiLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nIiwiX2lkZW50aXR5VmVjdG9yIiwiQXJyYXksIHN0cmluZyIsIk1hdHJpeCwgc3RyaW5nIiwiQmlnIiwibWluaW11bSIsIkFyZ3VtZW50c0Vycm9yIiwiaXNBcmd1bWVudHNFcnJvciIsImNyZWF0ZVNpemUiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyIHwgVW5pdCB8IGJvb2xlYW4gfCBudWxsIiwibm9NYXRyaXgiLCJpc1BsYWluT2JqZWN0IiwiaXNTYWZlUHJvcGVydHkiLCJpc1NhZmVNZXRob2QiLCJzYWZlTmF0aXZlUHJvcGVydGllcyIsIkZ1bmN0aW9uIiwibWV0aG9kIiwic2FmZU5hdGl2ZU1ldGhvZHMiLCJ0b0xvY2FsZVN0cmluZyIsImNyZWF0ZVN1YnNldCIsIkFycmF5LCBJbmRleCIsIk1hdHJpeCwgSW5kZXgiLCJPYmplY3QsIEluZGV4IiwiX2dldE9iamVjdFByb3BlcnR5Iiwic3RyaW5nLCBJbmRleCIsIl9nZXRTdWJzdHJpbmciLCJBcnJheSwgSW5kZXgsIGFueSIsIkFycmF5LCBJbmRleCwgYW55LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnksIGFueSIsInN0cmluZywgSW5kZXgsIHN0cmluZyIsIl9zZXRTdWJzdHJpbmciLCJzdHJpbmcsIEluZGV4LCBzdHJpbmcsIHN0cmluZyIsIk9iamVjdCwgSW5kZXgsIGFueSIsIl9zZXRPYmplY3RQcm9wZXJ0eSIsInN0ckxlbiIsInN1YnN0ciIsImNoYXJzIiwiX2xlbiIsImdldFNhZmVQcm9wZXJ0eSIsInVwZGF0ZWQiLCJjcmVhdGVaZXJvcyIsIl96ZXJvcyIsIi4uLm51bWJlciB8IEJpZ051bWJlciB8IHN0cmluZyIsImhhc0JpZ051bWJlcnMiLCJjcmVhdGVGb3JtYXQiLCJhbnkiLCJmb3JtYXRTdHJpbmciLCJhbnksIE9iamVjdCB8IGZ1bmN0aW9uIHwgbnVtYmVyIiwiY3JlYXRlTnVtZXJpYyIsIl9udW1iZXIiLCJiaWdudW1iZXIiLCJ2YWxpZElucHV0VHlwZXMiLCJ2YWxpZE91dHB1dFR5cGVzIiwibm9CaWdudW1iZXIiLCJmcmFjdGlvbjIiLCJub0ZyYWN0aW9uIiwib3V0cHV0VHlwZSIsImlucHV0VHlwZSIsImNyZWF0ZURpdmlkZVNjYWxhciIsIm51bWVyaWMiLCJVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciIsIm51bWVyaWMyIiwibnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIsIFVuaXQiLCJjcmVhdGVQb3ciLCJpZGVudGl0eSIsIl9wb3ciLCJwcmVkaWN0YWJsZSIsIkFycmF5LCBudW1iZXIiLCJfcG93QXJyYXkiLCJBcnJheSwgQmlnTnVtYmVyIiwiTWF0cml4LCBudW1iZXIiLCJfcG93TWF0cml4IiwiTWF0cml4LCBCaWdOdW1iZXIiLCJVbml0LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJ5RnJhYyIsInlOdW0iLCJleCIsImVudW1lcmFibGVPbmx5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiTk9fSU5UIiwiY3JlYXRlUm91bmQiLCJfb2JqZWN0U3ByZWFkIiwicm91bmROdW1iZXJTaWduYXR1cmVzIiwiQ29tcGxleCwgQmlnTnVtYmVyIiwiX24iLCJudW1iZXIsIEJpZ051bWJlciIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIFNwYXJzZU1hdHJpeCIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIERlbnNlTWF0cml4IiwiQXJyYXksIG51bWJlciB8IEJpZ051bWJlciIsImNyZWF0ZUVxdWFsIiwiYWxnb3JpdGhtMDciLCJjcmVhdGVTbWFsbGVyIiwiY3JlYXRlTGFyZ2VyIiwiY3JlYXRlRmlib25hY2NpSGVhcENsYXNzIiwic21hbGxlciIsImxhcmdlciIsIm9uZU92ZXJMb2dQaGkiLCJGaWJvbmFjY2lIZWFwIiwiX21pbmltdW0iLCJub2RlIiwicGFyZW50IiwiZGVncmVlIiwiaXNGaWJvbmFjY2lIZWFwIiwiaW5zZXJ0IiwiZXh0cmFjdE1pbmltdW0iLCJudW1iZXJPZkNoaWxkcmVuIiwidGVtcFJpZ2h0IiwiYXJyYXlTaXplMiIsIm51bVJvb3RzIiwiX2ZpbmRNaW5pbXVtTm9kZSIsInJlbW92ZSIsIl9kZWNyZWFzZUtleSIsIl9saW5rTm9kZXMiLCJjcmVhdGVTcGFDbGFzcyIsIlNwYSIsIl9oZWFwIiwiaXNTcGEiLCJhY2N1bXVsYXRlIiwiaGVhcCIsIm5vZGVzIiwic3dhcCIsIm5vZGVpIiwibm9kZWoiLCJtZW1vaXplIiwiY3JlYXRlQmlnTnVtYmVyUGkiLCJjcmVhdGVVbml0Q2xhc3MiLCJzdWJ0cmFjdCIsImZpeCIsImVxdWFsIiwiaXNOdW1lcmljIiwiX0JpZ051bWJlciIsIl9GcmFjdGlvbiIsInVuaXRzIiwiZGltZW5zaW9ucyIsIlVOSVRfTk9ORSIsInByZWZpeCIsIlBSRUZJWEVTIiwiTk9ORSIsIkJBU0VfRElNRU5TSU9OUyIsInNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiIsIm51bWJlcjIiLCJpc0RpZ2l0IiwidGVudGF0aXZlTnVtYmVyIiwidGVudGF0aXZlSW5kZXgiLCJ1bml0TmFtZSIsImlzVmFsaWRBbHBoYSIsImZpcnN0QyIsInRvRmluZCIsInVuaXQyIiwicG93ZXJNdWx0aXBsaWVyQ3VycmVudCIsImV4cGVjdGluZ1VuaXQiLCJwYXJzZU51bWJlciIsInBhcnNlQ2hhcmFjdGVyIiwicG93ZXJNdWx0aXBsaWVyU3RhY2siLCJwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QiLCJ1U3RyIiwib2xkQyIsInBhcnNlVW5pdCIsIl9maW5kVW5pdCIsImJhc2VEaW0iLCJhdXRvIiwiYWxsb3dOb1VuaXRzIiwiX2lzRGVyaXZlZCIsInVuaXRWYWx1ZSIsInVuaXRPZmZzZXQiLCJ1bml0UG93ZXIiLCJ1bml0UHJlZml4VmFsdWUiLCJfZ2V0TnVtYmVyQ29udmVydGVyIiwiX2Rlbm9ybWFsaXplIiwicHJlZml4VmFsdWUiLCJVTklUUyIsInByZWZpeGVzIiwiZW5kc1dpdGgiLCJfdW5pdCIsInByZWZpeExlbiIsInByZWZpeE5hbWUiLCJfcHJlZml4IiwiQkFTRV9VTklUUyIsImlzVmFsdWVsZXNzVW5pdCIsIm90aGVyIiwiaW52ZXJ0ZWQiLCJ2YWxUaGlzIiwidmFsT3RoZXIiLCJnZXROdW1lcmljSWZVbml0bGVzcyIsIlciLCJ0b051bWVyaWMiLCJmb3JtYXRVbml0cyIsIm1hdGNoaW5nQmFzZSIsIm1hdGNoaW5nVW5pdCIsInByb3Bvc2VkVW5pdExpc3QiLCJrZXkyIiwiY3VycmVudFVuaXRTeXN0ZW0iLCJtaXNzaW5nQmFzZURpbSIsInRvU0kiLCJVTklUX1NZU1RFTVMiLCJzaSIsInN0ck51bSIsInN0ckRlbiIsIm5OdW0iLCJuRGVuIiwiX2k0Iiwic2ltcCIsImlzSW1hZ2luYXJ5IiwiVkFSIiwiVkEiLCJfYmVzdFByZWZpeCIsInVuaXRTdHIiLCJhYnNWYWx1ZSIsImFic1VuaXRWYWx1ZSIsImJlc3RQcmVmaXgiLCJiZXN0RGlmZiIsInNjaWVudGlmaWMiLCJzcGxpdFVuaXQiLCJwYXJ0cyIsInhOdW1lcmljIiwieFJvdW5kZWQiLCJ0ZXN0U3VtIiwiU0hPUlQiLCJkYSIsIkciLCJUIiwiWiIsIlkiLCJMT05HIiwiZGVjYSIsImhlY3RvIiwia2lsbyIsIm1lZ2EiLCJnaWdhIiwidGVyYSIsInBldGEiLCJleGEiLCJ6ZXR0YSIsInlvdHRhIiwiZGVjaSIsImNlbnRpIiwibWlsbGkiLCJtaWNybyIsIm5hbm8iLCJwaWNvIiwiZmVtdG8iLCJhdHRvIiwiemVwdG8iLCJ5b2N0byIsIlNRVUFSRUQiLCJDVUJJQyIsIkJJTkFSWV9TSE9SVF9TSSIsIkJJTkFSWV9TSE9SVF9JRUMiLCJLaSIsIk1pIiwiR2kiLCJUaSIsIlBpIiwiRWkiLCJaaSIsIllpIiwiQklOQVJZX0xPTkdfU0kiLCJCSU5BUllfTE9OR19JRUMiLCJraWJpIiwibWViaSIsImdpYmkiLCJ0ZWJpIiwicGViaSIsImV4aSIsInplYmkiLCJ5b2JpIiwiQlRVIiwiTU0iLCJTSE9SVExPTkciLCJfZXh0ZW5kcyIsIkJJTkFSWV9TSE9SVCIsIkJJTkFSWV9MT05HIiwiTUFTUyIsIkxFTkdUSCIsIlRJTUUiLCJDVVJSRU5UIiwiVEVNUEVSQVRVUkUiLCJMVU1JTk9VU19JTlRFTlNJVFkiLCJBTU9VTlRfT0ZfU1VCU1RBTkNFIiwiRk9SQ0UiLCJTVVJGQUNFIiwiVk9MVU1FIiwiRU5FUkdZIiwiUE9XRVIiLCJQUkVTU1VSRSIsIkVMRUNUUklDX0NIQVJHRSIsIkVMRUNUUklDX0NBUEFDSVRBTkNFIiwiRUxFQ1RSSUNfUE9URU5USUFMIiwiRUxFQ1RSSUNfUkVTSVNUQU5DRSIsIkVMRUNUUklDX0lORFVDVEFOQ0UiLCJFTEVDVFJJQ19DT05EVUNUQU5DRSIsIk1BR05FVElDX0ZMVVgiLCJNQUdORVRJQ19GTFVYX0RFTlNJVFkiLCJGUkVRVUVOQ1kiLCJBTkdMRSIsIkJJVCIsIm1ldGVyIiwiaW5jaCIsImZvb3QiLCJ5YXJkIiwibWlsZSIsImxpbmsiLCJyb2QiLCJjaGFpbiIsImFuZ3N0cm9tIiwiaW4iLCJmdCIsIm1pIiwibGkiLCJjaCIsIm1pbCIsIm0yIiwic3FpbiIsInNxZnQiLCJzcXlkIiwic3FtaSIsInNxcmQiLCJzcWNoIiwic3FtaWwiLCJhY3JlIiwiaGVjdGFyZSIsIm0zIiwiTCIsImxpdHJlIiwiY3VpbiIsImN1ZnQiLCJjdXlkIiwidGVhc3Bvb24iLCJ0YWJsZXNwb29uIiwiZHJvcCIsImd0dCIsIm1pbmltIiwiZmx1aWRkcmFtIiwiZmx1aWRvdW5jZSIsImdpbGwiLCJjYyIsImN1cCIsInBpbnQiLCJxdWFydCIsImdhbGxvbiIsImJlZXJiYXJyZWwiLCJvaWxiYXJyZWwiLCJob2dzaGVhZCIsImZsZHIiLCJmbG96IiwiZ2kiLCJjcCIsInB0IiwicXQiLCJnYWwiLCJiYmwiLCJvYmwiLCJncmFtIiwidG9uIiwidG9ubmUiLCJncmFpbiIsImRyYW0iLCJvdW5jZSIsInBvdW5kbWFzcyIsImh1bmRyZWR3ZWlnaHQiLCJzdGljayIsInN0b25lIiwiZ3IiLCJkciIsIm96IiwibGJtIiwiY3d0Iiwic2Vjb25kIiwibWludXRlIiwiaG91ciIsImRheSIsIndlZWsiLCJtb250aCIsInllYXIiLCJkZWNhZGUiLCJjZW50dXJ5IiwibWlsbGVubml1bSIsImhlcnR6IiwicmVjaXByb2NhbCIsIkh6IiwicmFkIiwicmFkaWFuIiwiZGVnIiwiZ3JhZCIsImdyYWRpYW4iLCJjeWNsZSIsImFyY3NlYyIsImFyY21pbiIsImFtcGVyZSIsIksiLCJkZWdDIiwiZGVnRiIsImRlZ1IiLCJrZWx2aW4iLCJjZWxzaXVzIiwiZmFocmVuaGVpdCIsInJhbmtpbmUiLCJtb2wiLCJtb2xlIiwiY2QiLCJjYW5kZWxhIiwibmV3dG9uIiwiZHluIiwiZHluZSIsImxiZiIsInBvdW5kZm9yY2UiLCJraXAiLCJraWxvZ3JhbWZvcmNlIiwiSiIsImpvdWxlIiwiZXJnIiwiV2giLCJlViIsImVsZWN0cm9udm9sdCIsIndhdHQiLCJocCIsIkkiLCJQYSIsInBzaSIsImF0bSIsImJhciIsInRvcnIiLCJtbUhnIiwibW1IMk8iLCJjbUgyTyIsImNvdWxvbWIiLCJmYXJhZCIsIkYiLCJ2b2x0IiwiViIsIm9obSIsImhlbnJ5IiwiSCIsInNpZW1lbnMiLCJTIiwid2ViZXIiLCJXYiIsInRlc2xhIiwiYml0cyIsImJ5dGVzIiwiQUxJQVNFUyIsIm1ldGVycyIsImluY2hlcyIsImZlZXQiLCJ5YXJkcyIsIm1pbGVzIiwibGlua3MiLCJyb2RzIiwiY2hhaW5zIiwiYW5nc3Ryb21zIiwibGl0cmVzIiwibGl0ZXIiLCJsaXRlcnMiLCJ0ZWFzcG9vbnMiLCJ0YWJsZXNwb29ucyIsIm1pbmltcyIsImZsdWlkZHJhbXMiLCJmbHVpZG91bmNlcyIsImdpbGxzIiwiY3VwcyIsInBpbnRzIiwicXVhcnRzIiwiZ2FsbG9ucyIsImJlZXJiYXJyZWxzIiwib2lsYmFycmVscyIsImhvZ3NoZWFkcyIsImd0dHMiLCJncmFtcyIsInRvbnMiLCJ0b25uZXMiLCJncmFpbnMiLCJkcmFtcyIsIm91bmNlcyIsInBvdW5kbWFzc2VzIiwiaHVuZHJlZHdlaWdodHMiLCJzdGlja3MiLCJsYiIsImxicyIsImtpcHMiLCJrZ2YiLCJhY3JlcyIsImhlY3RhcmVzIiwic3FmZWV0Iiwic3F5YXJkIiwic3FtaWxlIiwic3FtaWxlcyIsIm1taGciLCJtbWgybyIsImNtaDJvIiwic2Vjb25kcyIsInNlY3MiLCJtaW51dGVzIiwibWlucyIsImhvdXJzIiwiaHIiLCJocnMiLCJkYXlzIiwid2Vla3MiLCJtb250aHMiLCJ5ZWFycyIsImRlY2FkZXMiLCJjZW50dXJpZXMiLCJtaWxsZW5uaWEiLCJncmFkaWFucyIsImN5Y2xlcyIsImFyY3NlY29uZCIsImFyY3NlY29uZHMiLCJhcmNtaW51dGUiLCJhcmNtaW51dGVzIiwiQlRVcyIsIndhdHRzIiwiam91bGVzIiwiYW1wZXJlcyIsImNvdWxvbWJzIiwidm9sdHMiLCJvaG1zIiwiZmFyYWRzIiwid2ViZXJzIiwidGVzbGFzIiwiZWxlY3Ryb252b2x0cyIsIm1vbGVzIiwiYml0IiwiYnl0ZSIsImNvbmZpZzMiLCJjcmVhdGVQaSIsImNncyIsInVzIiwiX2tleTIiLCJzZXRVbml0U3lzdGVtIiwiZ2V0VW5pdFN5c3RlbSIsIl9rZXkiLCJ0eXBlQ29udmVydGVycyIsIl9uYW1lMiIsIl91bml0MiIsImFsaWFzIiwiX2tleTMiLCJjcmVhdGVVbml0Iiwib3ZlcnJpZGUiLCJfa2V5NCIsImRlbGV0ZVVuaXQiLCJhbGlhc2VzIiwibGFzdFVuaXQiLCJfa2V5NSIsImNyZWF0ZVVuaXRTaW5nbGUiLCJkZWZpbml0aW9uIiwiYmFzZU5hbWUiLCJkZWZVbml0IiwibmV3VW5pdCIsImFueU1hdGNoIiwiX25ld0Jhc2VVbml0IiwibmV3QmFzZVVuaXQiLCJfaTYiLCJfaTgiLCJhbGlhc05hbWUiLCJfYWxpYXMiLCJfa2V5NiIsIm51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCwgc3RyaW5nIiwiT2JqZWN0LCBPYmplY3QiLCJzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QsIE9iamVjdCIsImRlZiIsInN0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCIsImFsZ29yaXRobTA0IiwiY3JlYXRlRG90IiwiY29uaiIsIkFycmF5IHwgRGVuc2VNYXRyaXgsIEFycmF5IHwgRGVuc2VNYXRyaXgiLCJfdmFsaWRhdGVEaW0iLCJhSXNDb2x1bW4iLCJiSXNDb2x1bW4iLCJhZGQyIiwibXVsMiIsIl9jMiIsIl9jMjIiLCJfYzMiLCJ4aW5kZXgiLCJ4dmFsdWVzIiwieWluZGV4IiwieXZhbHVlcyIsInhMZW4iLCJ5TGVuIiwieFNpemUiLCJ5U2l6ZSIsImtleXdvcmRzIiwiY3JlYXRlTm9kZSIsIm1hdGhXaXRoVHJhbnNmb3JtIiwiTm9kZTIiLCJldmFsdWF0ZSIsImNvbXBpbGUiLCJjb21tZW50IiwiZXhwciIsIl9jb21waWxlIiwic3ltYm9sIiwibWF0aCIsImFyZ05hbWVzIiwiX2lmTm9kZSIsInRyYXZlcnNlIiwiY2FsbGJhY2syIiwicGF0aCIsInRyYW5zZm9ybSIsIl90cmFuc2Zvcm0iLCJjbG9uZURlZXAiLCJjdXN0b21TdHJpbmciLCJoYW5kbGVyIiwiX3RvU3RyaW5nIiwidG9IVE1MIiwidG9UZXgiLCJjdXN0b21UZXgiLCJfdG9UZXgiLCJnZXRJZGVudGlmaWVyIiwiZ2V0Q29udGVudCIsImlzT2JqZWN0UHJvcGVydHkiLCJnZXRPYmplY3RQcm9wZXJ0eSIsImVycm9yVHJhbnNmb3JtIiwiY3JlYXRlQWNjZXNzb3JOb2RlIiwiTm9kZSIsImFjY2VzcyIsImFjY2Vzc0ZhY3RvcnkiLCJBY2Nlc3Nvck5vZGUiLCJiaW5kIiwiZXZhbE9iamVjdCIsImV2YWxJbmRleCIsImNvbnRleHQiLCJuZWVkUGFyZW50aGVzaXMiLCJjcmVhdGVBcnJheU5vZGUiLCJpdGVtcyIsIkFycmF5Tm9kZSIsImV2YWxJdGVtcyIsImV2YWxJdGVtIiwiY2hpbGROb2RlIiwicHJvcGVydGllcyIsIkFzc2lnbm1lbnROb2RlIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsIkNvbmRpdGlvbmFsTm9kZSIsImxhdGV4TGVmdFBhcmVucyIsImxhdGV4UmlnaHRQYXJlbnMiLCJsYXRleFBhcmVucyIsIk9wZXJhdG9yTm9kZTpvciIsImFzc29jaWF0aXZpdHkiLCJhc3NvY2lhdGl2ZVdpdGgiLCJPcGVyYXRvck5vZGU6eG9yIiwiT3BlcmF0b3JOb2RlOmFuZCIsIk9wZXJhdG9yTm9kZTpiaXRPciIsIk9wZXJhdG9yTm9kZTpiaXRYb3IiLCJPcGVyYXRvck5vZGU6Yml0QW5kIiwiT3BlcmF0b3JOb2RlOmVxdWFsIiwiT3BlcmF0b3JOb2RlOnVuZXF1YWwiLCJPcGVyYXRvck5vZGU6c21hbGxlciIsIk9wZXJhdG9yTm9kZTpsYXJnZXIiLCJPcGVyYXRvck5vZGU6c21hbGxlckVxIiwiT3BlcmF0b3JOb2RlOmxhcmdlckVxIiwiUmVsYXRpb25hbE5vZGUiLCJPcGVyYXRvck5vZGU6bGVmdFNoaWZ0IiwiT3BlcmF0b3JOb2RlOnJpZ2h0QXJpdGhTaGlmdCIsIk9wZXJhdG9yTm9kZTpyaWdodExvZ1NoaWZ0IiwiT3BlcmF0b3JOb2RlOnRvIiwiUmFuZ2VOb2RlIiwiT3BlcmF0b3JOb2RlOmFkZCIsIk9wZXJhdG9yTm9kZTpzdWJ0cmFjdCIsIk9wZXJhdG9yTm9kZTptdWx0aXBseSIsIk9wZXJhdG9yTm9kZTpkaXZpZGUiLCJPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHkiLCJPcGVyYXRvck5vZGU6ZG90RGl2aWRlIiwiT3BlcmF0b3JOb2RlOm1vZCIsIk9wZXJhdG9yTm9kZTp1bmFyeVBsdXMiLCJPcGVyYXRvck5vZGU6dW5hcnlNaW51cyIsIk9wZXJhdG9yTm9kZTpiaXROb3QiLCJPcGVyYXRvck5vZGU6bm90IiwiT3BlcmF0b3JOb2RlOnBvdyIsIk9wZXJhdG9yTm9kZTpkb3RQb3ciLCJPcGVyYXRvck5vZGU6ZmFjdG9yaWFsIiwiT3BlcmF0b3JOb2RlOnRyYW5zcG9zZSIsIl9ub2RlIiwicGFyZW50aGVzaXMiLCJpZGVudGlmaWVyIiwiZ2V0UHJlY2VkZW5jZSIsIm5vZGVBIiwibm9kZUIiLCJpZGVudGlmaWVyQSIsImlkZW50aWZpZXJCIiwiY3JlYXRlQXNzaWdubWVudE5vZGUiLCJhc3NpZ25GYWN0b3J5IiwicHJlY2VkZW5jZSIsImV4cHJQcmVjZWRlbmNlIiwiZXZhbFZhbHVlIiwic2V0U2FmZVByb3BlcnR5IiwiY2hpbGRPYmplY3QiLCJldmFsUGFyZW50T2JqZWN0IiwicGFyZW50UHJvcCIsImV2YWxQYXJlbnRJbmRleCIsInBhcmVudEluZGV4IiwiY3JlYXRlQmxvY2tOb2RlIiwiYmxvY2tzIiwiQmxvY2tOb2RlIiwiYmxvY2siLCJ2aXNpYmxlIiwiZXZhbEJsb2NrcyIsInJlc3VsdHMiLCJjcmVhdGVDb25kaXRpb25hbE5vZGUiLCJjb25kaXRpb24iLCJ0cnVlRXhwciIsImZhbHNlRXhwciIsImV2YWxDb25kaXRpb24iLCJldmFsVHJ1ZUV4cHIiLCJldmFsRmFsc2VFeHByIiwidGVzdENvbmRpdGlvbiIsImNvbmRpdGlvblByZWNlZGVuY2UiLCJ0cnVlUHJlY2VkZW5jZSIsImZhbHNlUHJlY2VkZW5jZSIsImRlZmF1bHRFc2NhcGVzIiwieyIsIn0iLCJcXCIsIiMiLCIkIiwiJSIsIiYiLCJeIiwiXyIsIn4iLCJmb3JtYXRFc2NhcGVzIiwi4oCTIiwi4oCUIiwiICIsIlx0IiwiXHJcbiIsIlxuIiwiZGVmYXVsdEVzY2FwZU1hcEZuIiwiZGVmYXVsdEVzY2FwZXMyIiwiZm9ybWF0RXNjYXBlczIiLCJsYXRleFN5bWJvbHMiLCJBbHBoYSIsIkJldGEiLCJiZXRhIiwiR2FtbWEiLCJnYW1tYSIsIkRlbHRhIiwiRXBzaWxvbiIsInZhcmVwc2lsb24iLCJaZXRhIiwiemV0YSIsIkV0YSIsImV0YSIsIlRoZXRhIiwidmFydGhldGEiLCJJb3RhIiwiaW90YSIsIkthcHBhIiwia2FwcGEiLCJ2YXJrYXBwYSIsIkxhbWJkYSIsIk11IiwibXUiLCJOdSIsIm51IiwiWGkiLCJPbWljcm9uIiwib21pY3JvbiIsInZhcnBpIiwiUmhvIiwicmhvIiwidmFycmhvIiwiU2lnbWEiLCJzaWdtYSIsInZhcnNpZ21hIiwiVGF1IiwidGF1IiwiVXBzaWxvbiIsInVwc2lsb24iLCJQaGkiLCJ2YXJwaGkiLCJDaGkiLCJjaGkiLCJQc2kiLCJPbWVnYSIsIm9tZWdhIiwidHJ1ZSIsImZhbHNlIiwiSW5mIiwiaW5maW5pdHkiLCJvbyIsImxpbSIsInVuZGVmaW5lZCIsImxhdGV4T3BlcmF0b3JzIiwiY3RyYW5zcG9zZSIsImZhY3RvcmlhbCIsImRvdFBvdyIsInVuYXJ5UGx1cyIsImJpdE5vdCIsIm5vdCIsImRvdE11bHRpcGx5IiwiZG90RGl2aWRlIiwibGVmdFNoaWZ0IiwicmlnaHRBcml0aFNoaWZ0IiwicmlnaHRMb2dTaGlmdCIsInVuZXF1YWwiLCJzbWFsbGVyRXEiLCJsYXJnZXJFcSIsImJpdEFuZCIsImJpdFhvciIsImJpdE9yIiwiYW5kIiwieG9yIiwib3IiLCJsYXRleEZ1bmN0aW9ucyIsIjEiLCIyIiwiY3ViZSIsImxvZzFwIiwibm9ybSIsIm50aFJvb3QiLCJudGhSb290cyIsInNxdWFyZSIsImJlbGxOdW1iZXJzIiwiY2F0YWxhbiIsInN0aXJsaW5nUzIiLCJjcm9zcyIsImV4cG0iLCJpbnYiLCJzcXJ0bSIsImNvbWJpbmF0aW9ucyIsImNvbWJpbmF0aW9uc1dpdGhSZXAiLCJlcmYiLCJ2YXJpYW5jZSIsIjAiLCJjb21wbGV4Iiwic3BhcnNlIiwibGF0ZXhVbml0cyIsIl9yZWYkcHJlc2VydmVGb3JtYXR0aSIsInByZXNlcnZlRm9ybWF0dGluZyIsIl9yZWYkZXNjYXBlTWFwRm4iLCJlc2NhcGVNYXBGbiIsInJ1bm5pbmdTdHIiLCJlc2NhcGVzIiwiZXNjYXBlS2V5cyIsIl9sb29wIiwic3BlY2lhbENoYXJGb3VuZCIsImVzY2FwZUxhdGV4TGliIiwiaXNVbml0MiIsImVzY2FwZUxhdGV4IiwiY3JlYXRlQ29uc3RhbnROb2RlIiwiQ29uc3RhbnROb2RlIiwiY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsImNoaWxkQXJnTmFtZXMiLCJldmFsRXhwciIsImNoaWxkQXJncyIsImVzY2FwZSIsInRvU3ltYm9sIiwiY3JlYXRlSW5kZXhOb2RlIiwiZG90Tm90YXRpb24iLCJJbmRleE5vZGUiLCJldmFsRGltZW5zaW9ucyIsIm5lZWRzRW5kIiwiZXZhbFN0YXJ0IiwiZXZhbEVuZCIsImV2YWxTdGVwIiwiY3JlYXRlUmFuZ2UiLCJfZXZhbFN0YXJ0IiwiX2V2YWxFbmQiLCJfZXZhbFN0ZXAiLCJfY2hpbGRBcmdOYW1lcyIsImV2YWxSYW5nZSIsIl9ldmFsUmFuZ2UiLCJldmFsRGltZW5zaW9uIiwiY3JlYXRlT2JqZWN0Tm9kZSIsIk9iamVjdE5vZGUiLCJldmFsRW50cmllcyIsInN0cmluZ2lmaWVkS2V5IiwicGFyc2VkS2V5IiwiY3JlYXRlT3BlcmF0b3JOb2RlIiwib3AiLCJpbXBsaWNpdCIsIk9wZXJhdG9yTm9kZSIsImxhdGV4IiwiZ2V0QXNzb2NpYXRpdml0eSIsIm9wZXJhbmRQcmVjZWRlbmNlIiwib3BlcmFuZElkZW50aWZpZXIiLCJyb290SWRlbnRpZmllciIsImxoc1BhcmVucyIsInJoc1BhcmVucyIsImxoc1ByZWNlZGVuY2UiLCJhc3NvY1dpdGhMaHMiLCJpc0Fzc29jaWF0aXZlV2l0aCIsIl9yb290SWRlbnRpZmllciIsImxoc0lkZW50aWZpZXIiLCJyaHNJZGVudGlmaWVyIiwicmhzUHJlY2VkZW5jZSIsImFzc29jV2l0aFJocyIsImFyZ1ByZWNlZGVuY2UiLCJhc3NvY1dpdGhBcmciLCJhcmdBc3NvY2lhdGl2aXR5IiwiaXNQYXJlbnRoZXNpc05vZGUyIiwiZXZhbEFyZ3MiLCJldmFsQXJnMCIsIl9ldmFsQXJnIiwiZXZhbEFyZzEiLCJldmFsQXJnIiwiaXNVbmFyeSIsInBhcmVucyIsImNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzIiwiYXNzb2MiLCJvcGVyYW5kIiwib3BJc05hbWVkIiwibGhzIiwicmhzIiwic3RyaW5naWZpZWRBcmdzIiwibGhzVGV4IiwicmhzVGV4IiwidGV4aWZpZWRBcmdzIiwiY3JlYXRlUGFyZW50aGVzaXNOb2RlIiwiY29udGVudCIsIlBhcmVudGhlc2lzTm9kZSIsImNyZWF0ZVJhbmdlTm9kZSIsInN0YXJ0UHJlY2VkZW5jZSIsInN0ZXBQcmVjZWRlbmNlIiwiZW5kUHJlY2VkZW5jZSIsImNyZWF0ZVJlbGF0aW9uYWxOb2RlIiwiY29uZGl0aW9uYWxzIiwiaXNSZWxhdGlvbmFsTm9kZSIsInNlbGYyIiwiY29tcGlsZWQiLCJldmFsTGhzIiwiZXZhbFJocyIsImNvbmRGbiIsInBhcmFtU3RyaW5ncyIsInBhcmFtUHJlY2VkZW5jZSIsIm9wZXJhdG9yTWFwIiwiQmlnTnVtYmVyRGVwZW5kZW5jaWVzIiwiQ29tcGxleERlcGVuZGVuY2llcyIsIk1hdHJpeERlcGVuZGVuY2llcyIsIkRlbnNlTWF0cml4RGVwZW5kZW5jaWVzIiwiRnJhY3Rpb25EZXBlbmRlbmNpZXMiLCJ0eXBlZERlcGVuZGVuY2llcyIsImVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIiwiU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIiwibnVtYmVyRGVwZW5kZW5jaWVzIiwiZnJhY3Rpb25EZXBlbmRlbmNpZXMiLCJtYXRyaXhEZXBlbmRlbmNpZXMiLCJ1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIiwiYWJzRGVwZW5kZW5jaWVzIiwiYWRkU2NhbGFyRGVwZW5kZW5jaWVzIiwicm91bmREZXBlbmRlbmNpZXMiLCJ6ZXJvc0RlcGVuZGVuY2llcyIsIm11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIiwic2l6ZURlcGVuZGVuY2llcyIsIm11bHRpcGx5RGVwZW5kZW5jaWVzIiwiZG90RGVwZW5kZW5jaWVzIiwiY29uakRlcGVuZGVuY2llcyIsInN1YnRyYWN0RGVwZW5kZW5jaWVzIiwibGFyZ2VyRGVwZW5kZW5jaWVzIiwiaWRlbnRpdHlEZXBlbmRlbmNpZXMiLCJudW1lcmljRGVwZW5kZW5jaWVzIiwiYmlnbnVtYmVyRGVwZW5kZW5jaWVzIiwiZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIiwic3Vic2V0RGVwZW5kZW5jaWVzIiwiVW5pdERlcGVuZGVuY2llcyIsImVxdWFsRGVwZW5kZW5jaWVzIiwiZml4RGVwZW5kZW5jaWVzIiwiY2VpbERlcGVuZGVuY2llcyIsImZsb29yRGVwZW5kZW5jaWVzIiwiZm9ybWF0RGVwZW5kZW5jaWVzIiwiaXNOdW1lcmljRGVwZW5kZW5jaWVzIiwicG93RGVwZW5kZW5jaWVzIiwiTm9kZURlcGVuZGVuY2llcyIsIlN5bWJvbE5vZGVEZXBlbmRlbmNpZXMiLCJjcmVhdGVTeW1ib2xOb2RlIiwiU3ltYm9sTm9kZSIsIm1hdGgyIiwicGFyc2VEZXBlbmRlbmNpZXMiLCJBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMiLCJBcnJheU5vZGVEZXBlbmRlbmNpZXMiLCJBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyIsIkJsb2NrTm9kZURlcGVuZGVuY2llcyIsIlJlc3VsdFNldERlcGVuZGVuY2llcyIsIkNvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyIsIkNvbnN0YW50Tm9kZURlcGVuZGVuY2llcyIsIkZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMiLCJGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMiLCJjcmVhdGVGdW5jdGlvbk5vZGUiLCJGdW5jdGlvbk5vZGUiLCJyYXdBcmdzIiwiX3Jhd0FyZ3MiLCJldmFsRm4iLCJfcmF3QXJnczIiLCJub2RlVG9TdHJpbmciLCJ0ZW1wbGF0ZSIsInJlZ2V4IiwiaW5wdXRQb3MiLCJSZWZlcmVuY2VFcnJvciIsIm5vZGVUb1RleCIsImxhdGV4Q29udmVydGVyIiwiY3VzdG9tVG9UZXgiLCJleHBhbmRUZW1wbGF0ZSIsIkluZGV4Tm9kZURlcGVuZGVuY2llcyIsIlJhbmdlRGVwZW5kZW5jaWVzIiwiT2JqZWN0Tm9kZURlcGVuZGVuY2llcyIsIk9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyIsIlBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyIsIlJhbmdlTm9kZURlcGVuZGVuY2llcyIsIlJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiY3JlYXRlUGFyc2UiLCJleHByZXNzaW9uIiwicGFyc2VTdGFydCIsImV4cHJlc3Npb25zIiwicGFyc2VNdWx0aXBsZSIsIkFycmF5IHwgTWF0cml4LCBPYmplY3QiLCJleHRyYU5vZGVzIiwiVE9LRU5UWVBFIiwiREVMSU1JVEVSUyIsIiwiLCIoIiwiKSIsIlsiLCJdIiwiXCIiLCInIiwiOyIsIisiLCItIiwiKiIsIi4qIiwiLyIsIi4vIiwiLl4iLCIhIiwifCIsIl58IiwiPSIsIjoiLCI/IiwiPT0iLCIhPSIsIjwiLCI+IiwiPD0iLCI+PSIsIjw8IiwiPj4iLCI+Pj4iLCJOQU1FRF9ERUxJTUlURVJTIiwiQ09OU1RBTlRTIiwiTlVNRVJJQ19DT05TVEFOVFMiLCJzdGF0ZSIsImN1cnJlbnRTdHJpbmciLCJ0b2tlblR5cGUiLCJ0b2tlbiIsImlzV2hpdGVzcGFjZSIsImN1cnJlbnRDaGFyYWN0ZXIiLCJuZXN0aW5nTGV2ZWwiLCJpc0RpZ2l0RG90IiwiaXNIZXhEaWdpdCIsImlzRGVjaW1hbE1hcmsiLCJuZXh0Q2hhcmFjdGVyIiwiY3JlYXRlU3ludGF4RXJyb3IiLCJpc0FscGhhIiwicHJldkNoYXJhY3RlciIsImNvbmRpdGlvbmFsTGV2ZWwiLCJwYXJzZUFzc2lnbm1lbnQiLCJwYXJzZUJsb2NrIiwidmFsaWQiLCJwYXJzZUxvZ2ljYWxYb3IiLCJwYXJzZUxvZ2ljYWxPciIsInBhcnNlQ29uZGl0aW9uYWwiLCJwYXJzZUxvZ2ljYWxBbmQiLCJwYXJzZUJpdHdpc2VPciIsInBhcnNlQml0d2lzZVhvciIsInBhcnNlQml0d2lzZUFuZCIsInBhcnNlUmVsYXRpb25hbCIsInBhcnNlU2hpZnQiLCJvcGVyYXRvcnMiLCJjb25kIiwicGFyc2VDb252ZXJzaW9uIiwicGFyc2VSYW5nZSIsInBhcnNlQWRkU3VidHJhY3QiLCJwYXJzZU11bHRpcGx5RGl2aWRlIiwicGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uIiwicGFyc2VSdWxlMiIsInBhcnNlVW5hcnkiLCJ0b2tlblN0YXRlcyIsIkN1c3RvbU5vZGUiLCJwYXJzZUFjY2Vzc29ycyIsInBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4iLCJwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuIiwicGFyc2VSb3ciLCJudW1iZXJTdHIiLCJwYXJzZUVuZCIsInBhcnNlUGFyZW50aGVzZXMiLCJwYXJzZU9iamVjdCIsInBhcnNlTWF0cml4IiwicGFyc2VTaW5nbGVRdW90ZXNTdHJpbmciLCJwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyIsInBhcnNlU3ltYm9sIiwicGFyc2VDdXN0b21Ob2RlcyIsInBhcnNlTGVmdEhhbmRPcGVyYXRvcnMiLCJwYXJzZVBvdyIsImNvbCIsImNoYXIiLCJjUHJldiIsImNOZXh0IiwiaXNWYWxpZExhdGluT3JHcmVlayIsImlzVmFsaWRNYXRoU3ltYm9sIiwiY3JlYXRlRXZhbHVhdGUiLCJpbnZEZXBlbmRlbmNpZXMiLCJkZXREZXBlbmRlbmNpZXMiLCJsdXBEZXBlbmRlbmNpZXMiLCJTcGFEZXBlbmRlbmNpZXMiLCJGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzIiwic21hbGxlckRlcGVuZGVuY2llcyIsImNyZWF0ZUx1cCIsIl9kZW5zZUxVUCIsImx2YWx1ZXMiLCJsaW5kZXgiLCJscHRyIiwibHNpemUiLCJ1dmFsdWVzIiwidWluZGV4IiwidXB0ciIsInVzaXplIiwicHZDbyIsInB2T2MiLCJzd2FwSW5kZWNlcyIsInNwYSIsImsyIiwidmtqIiwidmlrIiwidmpqIiwicGFic3YiLCJhYnN2IiwiVSIsIl9zcGFyc2VMVVAiLCJsZGF0YSIsInVkYXRhIiwidmlqIiwiY3JlYXRlRGV0IiwibHVwIiwibWF0cml4MiIsImRlY29tcCIsImV2ZW5DeWNsZXMiLCJ2aXNpdGVkIiwiX2RldCIsImNyZWF0ZUludiIsIl9pbnYiLCJtYXQiLCJBQmlnIiwickJpZyIsIkFjIiwiQmMiLCJBciIsIkJyIiwiY3JlYXRlRGl2aWRlIiwiQXJyYXkgfCBNYXRyaXgsIEFycmF5IHwgTWF0cml4IiwiYW55LCBBcnJheSB8IE1hdHJpeCIsImN0eCIsIm9uY2UiLCJvZmYiLCJsaXN0ZW5lciIsImVtaXQiLCJldnRBcnIiLCJldnRzIiwibGl2ZUV2ZW50cyIsInRpbnlFbWl0dGVyTW9kdWxlIiwiZWxlbWVudCIsImVhY2giLCJzaGFkb3dSb290IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhc3NpZ25lZFNsb3QiLCJhc3NpZ25lZEVsZW1lbnRzIiwiYXNzaWduZWQiLCJzaGVldCIsInNlbGVjdG9yIiwicnVsZXMiLCJpbnNlcnRSdWxlIiwiYWRkUnVsZSIsImZhdGFsIiwiVWludDE2QXJyYXkiLCJmcm9tQ2hhckNvZGUiLCJzdWJhcnJheSIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJlbmNvZGUiLCJzdHJlYW0iLCJVaW50OEFycmF5IiwiQnVmZmVyIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInJlc3BvbnNlVGV4dCIsInJldm9rZU9iamVjdFVSTCIsImRlY29kZSIsIkFycmF5QnVmZmVyIiwid2luZG93IiwiZ2xvYmFsIiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiYm91bmRzIiwiQm91bmRzIiwicmVmZXJlbmNlRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkb2NFbCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJkb2N1bWVudDIiLCJkb2N1bWVudEVsZW1lbnRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJib2R5U3R5bGUiLCJvZmZzZXRUb3AiLCJtYXJnaW5Ub3AiLCJvZmZzZXRMZWZ0IiwibWFyZ2luTGVmdCIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImNsaWVudEhlaWdodCIsImdldERvY3VtZW50Qm91bmRzIiwiZGVmYXVsdFZpZXciLCJjb21wdXRlZFN0eWxlIiwiZWwiLCJvZmZzZXRQYXJlbnQiLCJwcmV2Q29tcHV0ZWRTdHlsZSIsImNvbnRhaW5zIiwicGFyZW50RWxlbWVudCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckxlZnRXaWR0aCIsIm1hcmdpbiIsIm1hcmdpblJpZ2h0IiwibWFyZ2luQm90dG9tIiwidmlld3BvcnRUZXN0ZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwid3JhcHBlciIsImlubmVySFRNTCIsInJlbW92ZUNoaWxkIiwidmlzaWJpbGl0eSIsInBvaW50ZXJFdmVudHMiLCJleHBvcnRzMiIsIk5FV0VSIiwiT0xERVIiLCJvbGRlc3QiLCJuZXdlc3QiLCJfa2V5bWFwIiwib2xkZXN0RW50cnkiLCJMUlVNYXAiLCJfbWFya0VudHJ5QXNVc2VkIiwiTUFYX1ZBTFVFIiwiaXQiLCJpdGVyYXRvciIsIml0diIsImRvbmUiLCJFbnRyeSIsImVudCIsIktleUl0ZXJhdG9yIiwiVmFsdWVJdGVyYXRvciIsIkVudHJ5SXRlcmF0b3IiLCJmdW4iLCJ0aGlzT2JqIiwic2VyaWFsaXplQXR0cmlidXRlVmFsdWUiLCJhc3luYyIsIm91dHB1dCIsImNoaWxkTm9kZXMiLCJub2RlVHJlZVRvWEhUTUwiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsIm91dHB1dDIiLCJyZXBsYWNlZCIsInJlcGxhY2VyIiwibm9kZU5hbWUiLCJzZXJpYWxpemVDaGlsZHJlbiIsInRhZ05hbWUiLCJuYW1lc3BhY2VVUkkiLCJnZXRUYWdOYW1lIiwiaXNSb290Tm9kZSIsImhhc0F0dHJpYnV0ZSIsInNlcmlhbGl6ZU5hbWVzcGFjZSIsImRlcHRoIiwiY2hpbGRyZW5IVE1MIiwiaXNJbWciLCJhdHRyIiwiYXR0cmlidXRlcyIsInNlcmlhbGl6ZUF0dHJpYnV0ZSIsIldlYlJlbmRlcmVyIiwiZ2V0RGF0YVVSTCIsInNlcmlhbGl6ZVRhZyIsIm5vZGVWYWx1ZSIsInNlcmlhbGl6ZVRleHQiLCJzZXJpYWxpemVDREFUQSIsImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGlnZXN0TGVuZ3RoIiwiYmxvY2tTaXplIiwicG9zIiwiSGFzaCIsIkludDMyQXJyYXkiLCJidWZmZXJMZW5ndGgiLCJieXRlc0hhc2hlZCIsImZpbmlzaGVkIiwicmVzZXQiLCJjbGVhbiIsImRhdGFMZW5ndGgiLCJkYXRhUG9zIiwiaGFzaEJsb2NrcyIsImZpbmlzaCIsImJpdExlbkhpIiwiYml0TGVuTG8iLCJwYWRMZW5ndGgiLCJkaWdlc3QiLCJfc2F2ZVN0YXRlIiwiX3Jlc3RvcmVTdGF0ZSIsIkhhc2gyIiwiSE1BQyIsImlubmVyIiwicGFkIiwiaXN0YXRlIiwib3N0YXRlIiwiSE1BQzIiLCJobWFjMiIsImluZm8iLCJjb3VudGVyIiwiaG1hYyIsImhrZGZTYWx0Iiwic2FsdCIsIm9rbSIsImhtYWNfIiwiYnVmcG9zIiwiZmlsbCIsInBhc3N3b3JkIiwiaXRlcmF0aW9ucyIsImRrTGVuIiwicHJmIiwiY3RyIiwiZGsiLCJoa2RmIiwicGJrZGYyIiwic2hhMjU2MiIsImVuY29kZXIiLCJldmVudENhbGxiYWNrIiwiaG92ZXIiLCJhY3RpdmUiLCJmb2N1cyIsIkltYWdlIiwiRWRnZXMiLCJlbGVtZW50MiIsImxheWVyIiwibGF5ZXJzIiwiZXh0cmFTdHlsZSIsImFkZGVkU3R5bGUiLCJ0YWciLCJnZXRBdHRyaWJ1dGUiLCJFTEVNRU5UX1VJRF9BVFRSSUJVVEUiLCJnZW5lcmF0ZUVsZW1lbnRVSUQiLCJzZXRBdHRyaWJ1dGUiLCJMQVlFUl9BVFRSSUJVVEUiLCJwYXJlbnRMYXllciIsImdldENsb3Nlc3RMYXllciIsImNhY2hlZENhbnZhc2VzIiwiX1dlYkxheWVyIiwiREVGQVVMVF9DQUNIRV9TSVpFIiwiX2hhc2hpbmdDYW52YXMiLCJzdmdIYXNoIiwiY2FjaGVkQm91bmRzIiwiY2FjaGVkTWFyZ2luIiwiX2N1cnJlbnRTVkdIYXNoIiwiX2N1cnJlbnRCb3VuZHMiLCJfY3VycmVudE1hcmdpbiIsInByZXZpb3VzQ2FudmFzSGFzaCIsInN2Z0NhbnZhc0hhc2giLCJjYW52YXNIYXNoIiwiY2FudmFzIiwiX2N1cnJlbnRDYW52YXMiLCJyb290TGF5ZXIiLCJ0cmF2ZXJzZVBhcmVudExheWVycyIsInRyYXZlcnNlQ2hpbGRMYXllcnMiLCJjaGlsZExheWVycyIsInRyYXZlcnNlTGF5ZXJzIiwibmVlZHNSZWZyZXNoIiwiX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzIiwiYWRkVG9TZXJpYWxpemVRdWV1ZSIsIm9sZENoaWxkTGF5ZXJzIiwicHJldmlvdXNQYXJlbnRMYXllciIsIl90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIiLCJuZWVkc1JlbW92YWwiLCJzdHlsZXMiLCJsYXllckVsZW1lbnQiLCJwYWRkaW5nIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlciIsImJvcmRlclJpZ2h0V2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsImVsZW1lbnRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVIVE1MIiwibmVlZHNJbmxpbmVCbG9jayIsImRpc3BsYXkiLCJ1cGRhdGVJbnB1dEF0dHJpYnV0ZXMiLCJwYXJlbnRzSFRNTCIsIl9nZXRQYXJlbnRzSFRNTCIsIlJFTkRFUklOR19ET0NVTUVOVF9BVFRSSUJVVEUiLCJzdmdDU1MiLCJsYXllckhUTUwiLCJnZXRSZW5kZXJpbmdDU1MiLCJzZXJpYWxpemVUb1N0cmluZyIsInNlcmlhbGl6YXRpb25SZXBsYWNlciIsIlJFTkRFUklOR19BVFRSSUJVVEUiLCJSRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURSIsImdldFBzdWVkb0F0dHJpYnV0ZXMiLCJwc2V1ZG9TdGF0ZXMiLCJkb2NTdHJpbmciLCJzdmdEb2MiLCJfc3ZnRG9jdW1lbnQiLCJfc3ZnSGFzaCIsImFycmF5QnVmZmVyVG9CYXNlNjQiLCJzaGEyNTYuaGFzaCIsInRyeVNldEZyb21TVkdIYXNoIiwiYWRkVG9SYXN0ZXJpemVRdWV1ZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZW5kZXIiLCJhZGRUb1JlbmRlclF1ZXVlIiwic3ZnSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiX3N2Z0hhc2hSYXN0ZXJpemluZyIsInNyYyIsIl9zdmdTcmMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb21wbGV0ZSIsImN1cnJlbnRTcmMiLCJmdWxsV2lkdGgiLCJmdWxsSGVpZ2h0IiwiaGFzaGluZ0NhbnZhcyIsImh3IiwiaGgiLCJoY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImRyYXdJbWFnZSIsImhhc2hEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwic3ZnUmV0cnlDb3VudCIsInJldHJ5Q291bnQiLCJwaXhlbFJhdGlvIiwiUElYRUxfUkFUSU9fQVRUUklCVVRFIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIm5ld0NhbnZhcyIsIm9wZW5zIiwiY2xvc2VzIiwiUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEUiLCJjbG9zZSIsIldlYkxheWVyIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zMiIsInJlc2l6ZU9ic2VydmVycyIsIm1zZyIsInRyaWdnZXIiLCJSZXNpemVPYnNlcnZlclNpemUiLCJpbmxpbmVTaXplIiwiRE9NUmVjdFJlYWRPbmx5IiwiZnJvbVJlY3QiLCJyZWN0YW5nbGUiLCJET01SZWN0UmVhZE9ubHkyIiwiaXNTVkciLCJTVkdFbGVtZW50IiwiaXNIaWRkZW4iLCJnZXRCQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJpc0VsZW1lbnQiLCJFbGVtZW50IiwiV2Vha01hcCIsInNjcm9sbFJlZ2V4cCIsInZlcnRpY2FsUmVnZXhwIiwiSUUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJwYXJzZURpbWVuc2lvbiIsInBpeGVsIiwic3dpdGNoU2l6ZXMiLCJ6ZXJvQm94ZXMiLCJkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplIiwiYm9yZGVyQm94U2l6ZSIsImNvbnRlbnRCb3hTaXplIiwiY29udGVudFJlY3QiLCJjYWxjdWxhdGVCb3hTaXplcyIsImZvcmNlUmVjYWxjdWxhdGlvbiIsImNzIiwic3ZnIiwib3duZXJTVkdFbGVtZW50IiwicmVtb3ZlUGFkZGluZyIsImJveFNpemluZyIsIndyaXRpbmdNb2RlIiwiY2FuU2Nyb2xsVmVydGljYWxseSIsIm92ZXJmbG93WSIsImNhblNjcm9sbEhvcml6b250YWxseSIsIm92ZXJmbG93WCIsImJvcmRlclRvcCIsImJvcmRlclJpZ2h0IiwiYm9yZGVyQm90dG9tIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJob3Jpem9udGFsQm9yZGVyQXJlYSIsInZlcnRpY2FsQm9yZGVyQXJlYSIsImhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MiLCJ2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyIsIndpZHRoUmVkdWN0aW9uIiwiaGVpZ2h0UmVkdWN0aW9uIiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsImJvcmRlckJveFdpZHRoIiwiYm9yZGVyQm94SGVpZ2h0IiwiYm94ZXMiLCJjYWxjdWxhdGVCb3hTaXplIiwib2JzZXJ2ZWRCb3giLCJERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1giLCJCT1JERVJfQk9YIiwiUmVzaXplT2JzZXJ2ZXJFbnRyeSIsImNhbGN1bGF0ZURlcHRoRm9yTm9kZSIsInBhcmVudE5vZGUiLCJicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMiLCJzaGFsbG93ZXN0RGVwdGgiLCJjYWxsYmFja3MyIiwicm8iLCJhY3RpdmVUYXJnZXRzIiwib3QiLCJ0YXJnZXREZXB0aCIsImxhc3RSZXBvcnRlZFNpemUiLCJvYnNlcnZlciIsImNhbGxiYWNrc18xIiwiZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCIsInNraXBwZWRUYXJnZXRzIiwib2JzZXJ2YXRpb25UYXJnZXRzIiwiaXNBY3RpdmUiLCJwcm9jZXNzIiwiZXZlbnQiLCJFcnJvckV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FsbGJhY2tzIiwicXVldWVNaWNyb1Rhc2siLCJ0b2dnbGVfMSIsImVsXzEiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjYjIiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInRleHRDb250ZW50Iiwid2F0Y2hpbmciLCJvYnNlcnZlckNvbmZpZyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJldmVudHMiLCJ0aW1lIiwidGltZW91dCIsIm5vdyIsInNjaGVkdWxlZCIsInNjaGVkdWxlciIsIl90aGlzIiwic3RvcHBlZCIsInNjaGVkdWxlIiwicnVuIiwidW50aWwiLCJlbGVtZW50c0hhdmVSZXNpemVkIiwic3RvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlNjaGVkdWxlcjIiLCJ1cGRhdGVDb3VudCIsIlJlc2l6ZU9ic2VydmF0aW9uIiwiQ09OVEVOVF9CT1giLCJpc1JlcGxhY2VkRWxlbWVudCIsIlJlc2l6ZU9ic2VydmF0aW9uMiIsIlJlc2l6ZU9ic2VydmVyRGV0YWlsIiwicmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlck1hcCIsImdldE9ic2VydmF0aW9uSW5kZXgiLCJSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIiLCJjb25uZWN0IiwiZGV0YWlsIiwiZmlyc3RPYnNlcnZhdGlvbiIsInVub2JzZXJ2ZSIsImxhc3RPYnNlcnZhdGlvbiIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIiLCJSZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyMiIsInNlbGYiLCJQb2x5ZmlsbCIsInNjcmF0Y2hNYXQxIiwic2NyYXRjaE1hdDIiLCJ0ZXh0RGVjb2RlciIsIkFUVFJJQlVURV9QUkVGSVgiLCJfbmV4dFVJRCIsInN0YXRlcyIsIkhPVkVSX0FUVFJJQlVURSIsIkZPQ1VTX0FUVFJJQlVURSIsIkFDVElWRV9BVFRSSUJVVEUiLCJUQVJHRVRfQVRUUklCVVRFIiwicm9vdE5vZGUiLCJnZXRSb290Tm9kZSIsInN0eWxlUm9vdCIsImhlYWQiLCJyb290Tm9kZU9ic2VydmVycyIsInJlbmRlcmluZ1N0eWxlRWxlbWVudCIsImFwcGVuZCIsIl9XZWJSZW5kZXJlciIsInByZXZpb3VzSGFzaCIsIm9uSGFzaENoYW5nZSIsImxvY2F0aW9uIiwidGFyZ2V0RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJldnQiLCJmb2N1c0VsZW1lbnQiLCJzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycyIsInNldE5lZWRzUmVmcmVzaE9uU3R5bGVMb2FkIiwiU1RZTEVfTk9ERVMiLCJtdXRhdGlvbnMiLCJlbWJlZGRlZENTUyIsImFkZGVkTm9kZXMiLCJhdHRyaWJ1dGVPbGRWYWx1ZSIsImNoYXJhY3RlckRhdGFPbGRWYWx1ZSIsInNlcmlhbGl6ZVF1ZXVlIiwicmFzdGVyaXplUXVldWUiLCJyZW5kZXJRdWV1ZSIsInRhc2tzUGVuZGluZyIsIm1heFN5bmNUaW1lIiwiVEFTS19TWU5DX01BWF9USU1FIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJzZXJpYWxpemUiLCJyYXN0ZXJpemVUYXNrQ291bnQiLCJUQVNLX0FTWU5DX01BWF9DT1VOVCIsInJhc3Rlcml6ZSIsImZpbmFsbHkiLCJzY2hlZHVsZUlkbGUiLCJfcnVuVGFza3MiLCJob3N0aW5nT3B0aW9ucyIsImNvbnRhaW5lciIsIlJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFIiwidG91Y2hBY3Rpb24iLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiYXBwZW5kQ2hpbGQiLCJpbml0Um9vdE5vZGVPYnNlcnZhdGlvbiIsIl9oYW5kbGVNdXRhdGlvbnMiLCJtdXRhdGlvbk9ic2VydmVycyIsInN0YXJ0TXV0YXRpb25PYnNlcnZlciIsInJlY29yZCIsInJlY29yZHMiLCJsYXllcjIiLCJzZXRMYXllck5lZWRzUmVmcmVzaCIsIl90cmlnZ2VyUmVmcmVzaCIsImNhcHR1cmUiLCJyb290TGF5ZXJzIiwiaW5jbHVzaXZlIiwiY2xvc2VzdExheWVyRWxlbWVudCIsImNsb3Nlc3QiLCJob3N0IiwicGl4ZWxTaXplIiwidHJhbnNmb3JtT3JpZ2luIiwib3JpZ2luIiwib3giLCJveSIsIlQxIiwibWFrZVRyYW5zbGF0aW9uIiwiVDIiLCJwcmVtdWx0aXBseSIsInByb21pc2VzIiwicXVlcnlTZWxlY3RvckFsbCIsImdldEF0dHJpYnV0ZU5TIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJkYXRhVVJMIiwiaW1nRWxlbWVudCIsImdlbmVyYXRlRW1iZWRkZWRDU1MiLCJocmVmIiwiY3NzIiwidGFrZVJlY29yZHMiLCJzaGVldHMiLCJzdHlsZVNoZWV0cyIsImNzc1J1bGVzIiwibmV3UnVsZXMiLCJjc3NUZXh0IiwiYmluYXJ5IiwiYnRvYSIsInVybCIsImZvdW5kIiwiYXR0cmlidXRlQ1NTIiwicmVnRXgiLCJyZXNvdXJjZVVSTCIsImFjY2VwdCIsInhociIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJlbWJlZGRlZCIsInN0eWxlRWxlbWVudHMiLCJpblNoYWRvdyIsIlNoYWRvd1Jvb3QiLCJhbGxSdWxlcyIsImZvbnRSdWxlcyIsInJ1bGUiLCJDU1NSdWxlIiwiRk9OVF9GQUNFX1JVTEUiLCJsb2FkaW5nIiwic2V0SW50ZXJ2YWwiLCJwcm9jZXNzU2hlZXRSdWxlcyIsImZvbnRTdHlsZXMiLCJfYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMiLCJkYXRhVVJMTWFwIiwiZGF0YVVSTFByb21pc2UiLCJyZXNvbHZlRGF0YVVSTCIsImdldFVSTCIsInJlc3BvbnNlIiwiY29udGVudFR5cGUiLCJnZXRSZXNwb25zZUhlYWRlciIsImJhc2U2NCIsIl91cGRhdGVJbnB1dEF0dHJpYnV0ZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5wdXRFbGVtZW50IiwiY2hlY2tlZCIsInJlbW92ZUF0dHJpYnV0ZSIsImltYWdlRGF0YSIsInNlcmlhbGl6ZXIiLCJYTUxTZXJpYWxpemVyIiwiYWN0aXZlRWxlbWVudCIsImF0dHJpYnV0ZU5hbWUiLCJvbGRWYWx1ZSIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwiY2xhc3NOYW1lIiwiVEhSRUUiLCJfVEhSRUUiLCJzY3JhdGNoTWF0cml4Iiwic2NyYXRjaFZlY3RvciIsInNjcmF0Y2hWZWN0b3IyIiwic2NyYXRjaEJvdW5kcyIsInNjcmF0Y2hCb3VuZHMyIiwiT05fQkVGT1JFX1VQREFURSIsIk9iamVjdDNEIiwiTWVzaCIsIldlYkxheWVyM0QiLCJHRU9NRVRSWSIsIk1lc2hCYXNpY01hdGVyaWFsIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJkZXB0aFdyaXRlIiwidHJhbnNwYXJlbnQiLCJhbHBoYVRlc3QiLCJvcGFjaXR5IiwiTWVzaERlcHRoTWF0ZXJpYWwiLCJkZXB0aFBhY2tpbmciLCJSR0JBRGVwdGhQYWNraW5nIiwiX3dlYkxheWVyIiwiY29udGVudE1lc2giLCJfYm91bmRzTWVzaCIsImN1cnNvciIsIm1hdHJpeEF1dG9VcGRhdGUiLCJkZXB0aE1hdGVyaWFsIiwib25CZWZvcmVSZW5kZXIiLCJyZW5kZXJlciIsInNjZW5lIiwiX2NhbWVyYSIsImxheWVyc0J5RWxlbWVudCIsImxheWVyc0J5TWVzaCIsInZpZGVvIiwidGV4dHVyZXMiLCJWaWRlb1RleHR1cmUiLCJ3cmFwUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJ3cmFwVCIsIm1pbkZpbHRlciIsIkxpbmVhckZpbHRlciIsInRleHR1cmVFbmNvZGluZyIsImVuY29kaW5nIiwiY3VycmVudENhbnZhcyIsIlRleHR1cmUiLCJuZWVkc1VwZGF0ZSIsInBhcmVudFdlYkxheWVyIiwiY2hpbGRXZWJMYXllcnMiLCJyZWZyZXNoIiwiX3JlZnJlc2hWaWRlb0JvdW5kcyIsIl91cGRhdGVET01MYXlvdXQiLCJfbG9jYWxaIiwic2V0RnJvbU1hdHJpeFBvc2l0aW9uIiwiX3ZpZXdaIiwiZ2V0V29ybGRQb3NpdGlvbiIsInBhcmVudFJlbmRlcloiLCJfcmVuZGVyWiIsInJlbmRlck9yZGVyIiwicmVuZGVyT3JkZXJPZmZzZXQiLCJtZXNoIiwidGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwibWF0ZXJpYWwiLCJpbWFnZSIsInRleHR1cmVOZWVkc1VwZGF0ZSIsImNvbnRlbnRTY2FsZSIsImFzcGVjdCIsInRhcmdldEFzcGVjdCIsImRvbVNpemUiLCJpc0hpZGRlbjIiLCJkaXNwb3NlIiwidXBkYXRlQ29udGVudCIsInVwZGF0ZUxheW91dCIsImRvbUxheW91dCIsImF1dG9SZWZyZXNoIiwic2NoZWR1bGVUYXNrc0lmTmVlZGVkIiwidHJhdmVyc2VMYXllcnNQcmVPcmRlciIsIl9kb1VwZGF0ZSIsInRyYXZlcnNlTGF5ZXJBbmNlc3RvcnMiLCJ0cmF2ZXJzZUxheWVyc1Bvc3RPcmRlciIsImRpc3Bvc2VMYXllciIsIm9iamVjdEZpdCIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJjdXJyZW50Qm91bmRzIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwidmlkZW9SYXRpbyIsInZpZXdSYXRpbyIsInJlcGVhdCIsImNsYW1wU2NhbGFyIiwiY3VycmVudE1hcmdpbiIsImlzVmlkZW8iLCJERUZBVUxUX1BJWEVMU19QRVJfVU5JVCIsInNob3VsZEFwcGx5RE9NTGF5b3V0IiwicGFyZW50Qm91bmRzIiwicGFyZW50TWFyZ2luIiwicGFyZW50RnVsbFdpZHRoIiwicGFyZW50RnVsbEhlaWdodCIsInBhcmVudExlZnRFZGdlIiwicGFyZW50VG9wRWRnZSIsImNzc1RyYW5zZm9ybSIsInBhcnNlQ1NTVHJhbnNmb3JtIiwidXBkYXRlTWF0cml4IiwiZGVjb21wb3NlIiwiZWxlbWVudE9ySFRNTCIsIlJheWNhc3RlciIsIlNldCIsIl9wcmV2aW91c0hvdmVyTGF5ZXJzIiwiX2NvbnRlbnRNZXNoZXMiLCJET00iLCJjcmVhdGVMYXllclRyZWUiLCJXZWJMYXllcjNEQ29udGVudCIsIl91cGRhdGVJbnRlcmFjdGlvbnMiLCJpc1Jvb3QiLCJvbkxheWVyQ3JlYXRlIiwiX1dlYkxheWVyM0QiLCJzaG91bGQiLCJfaW50ZXJhY3Rpb25SYXlzIiwicmF5cyIsImFMYXllciIsImJMYXllciIsInByZXZIb3ZlciIsIl9wcmVwYXJlSGl0VGVzdCIsInJheSIsIlJheSIsIl9yYXljYXN0ZXIiLCJnZXRXb3JsZERpcmVjdGlvbiIsIm5lZ2F0ZSIsIl9oaXRJbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9ucyIsImludGVyc2VjdE9iamVjdHMiLCJfaW50ZXJzZWN0aW9uU29ydCIsImludGVyc2VjdGlvbiIsInNldE5lZWRzUmVmcmVzaCIsInJheWNhc3RlciIsIm1lc2hNYXAiLCJpbnRlcnNlY3RPYmplY3QiLCJsYXllckJvdW5kaW5nUmVjdCIsImdldEJvdW5kcyIsImNsaWVudFgiLCJ1diIsImNsaWVudFkiLCJlbGVtZW50Qm91bmRpbmdSZWN0IiwiREVGQVVMVF9MQVlFUl9TRVBBUkFUSU9OIiwiUGxhbmVHZW9tZXRyeSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLEVBQUU7QUFDeEMsSUFBSSxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BDLElBQUksTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzFDLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUM1QixLQUFLO0FBQ0wsSUFBSSxPQUFPLGdCQUFnQixHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xGLENBQUM7QUE4QkQ7QUFDQSxNQUFNLG9CQUFvQixHQUFHLHNFQUFzRTtBQUNuRyxJQUFJLHlFQUF5RTtBQUM3RSxJQUFJLHVEQUF1RCxDQUFDO0FBQzVELE1BQU0scUJBQXFCLGlCQUFpQixPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQW1DMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLDJFQUEyRSxDQUFDLENBQUM7QUFDMUcsTUFBTSxvQkFBb0IsaUJBQWlCLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBMkR4RTtBQUNBLFNBQVMsY0FBYyxDQUFDLEtBQUssRUFBRTtBQUMvQixJQUFJLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3hCLFFBQVEsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0MsWUFBWSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEMsWUFBWSxNQUFNLFVBQVUsR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQzlGLFlBQVksSUFBSSxVQUFVLEVBQUU7QUFDNUIsZ0JBQWdCLEtBQUssTUFBTSxHQUFHLElBQUksVUFBVSxFQUFFO0FBQzlDLG9CQUFvQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9DLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsT0FBTyxHQUFHLENBQUM7QUFDbkIsS0FBSztBQUNMLFNBQVMsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDOUIsUUFBUSxPQUFPLEtBQUssQ0FBQztBQUNyQixLQUFLO0FBQ0wsQ0FBQztBQUNELE1BQU0sZUFBZSxHQUFHLGVBQWUsQ0FBQztBQUN4QyxNQUFNLG1CQUFtQixHQUFHLE9BQU8sQ0FBQztBQUNwQyxTQUFTLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtBQUNuQyxJQUFJLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNuQixJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSTtBQUNuRCxRQUFRLElBQUksSUFBSSxFQUFFO0FBQ2xCLFlBQVksTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3hELFlBQVksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQ25FLFNBQVM7QUFDVCxLQUFLLENBQUMsQ0FBQztBQUNQLElBQUksT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDO0FBaUJELFNBQVMsY0FBYyxDQUFDLEtBQUssRUFBRTtBQUMvQixJQUFJLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNqQixJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFFBQVEsR0FBRyxHQUFHLEtBQUssQ0FBQztBQUNwQixLQUFLO0FBQ0wsU0FBUyxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM3QixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQy9DLFlBQVksTUFBTSxVQUFVLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hELFlBQVksSUFBSSxVQUFVLEVBQUU7QUFDNUIsZ0JBQWdCLEdBQUcsSUFBSSxVQUFVLEdBQUcsR0FBRyxDQUFDO0FBQ3hDLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVMsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDOUIsUUFBUSxLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtBQUNsQyxZQUFZLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQzdCLGdCQUFnQixHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUNsQyxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3RCLENBQUM7QUEySEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNLLE1BQUMsZUFBZSxHQUFHLENBQUMsR0FBRyxLQUFLO0FBQ2pDLElBQUksT0FBTyxHQUFHLElBQUksSUFBSTtBQUN0QixVQUFVLEVBQUU7QUFDWixVQUFVLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFDdkIsY0FBYyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQzlDLGNBQWMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLEVBQUU7QUFDRixNQUFNLFFBQVEsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUs7QUFDaEMsSUFBSSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNwQixRQUFRLE9BQU87QUFDZixZQUFZLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxLQUFLO0FBQ3JGLGdCQUFnQixPQUFPLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUMzQyxnQkFBZ0IsT0FBTyxPQUFPLENBQUM7QUFDL0IsYUFBYSxFQUFFLEVBQUUsQ0FBQztBQUNsQixTQUFTLENBQUM7QUFDVixLQUFLO0FBQ0wsU0FBUyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN6QixRQUFRLE9BQU87QUFDZixZQUFZLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ25ELFNBQVMsQ0FBQztBQUNWLEtBQUs7QUFDTCxTQUFTLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3BFLFFBQVEsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0IsS0FBSztBQUNMLElBQUksT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDLENBQUM7QUFhRixNQUFNLFNBQVMsR0FFVCxFQUFFLENBQUM7QUFDVCxNQUFNLFNBQVMsR0FBaUUsRUFBRSxDQUFDO0FBQ25GLE1BQU0sSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sRUFBRSxHQUFHLE1BQU0sS0FBSyxDQUFDO0FBQ3ZCLE1BQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUN6QixNQUFNLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLE1BQU0sZUFBZSxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDN0QsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUM3QixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLEtBQUs7QUFDNUIsSUFBSSxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzlCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDaEIsUUFBUSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN6QixLQUFLO0FBQ0wsQ0FBQyxDQUFDO0FBQ0YsTUFBTUEsZ0JBQWMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQztBQUN2RCxNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUtBLGdCQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMzRCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxjQUFjLENBQUM7QUFDNUQsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLGNBQWMsQ0FBQztBQUU1RCxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxVQUFVLENBQUM7QUFDdEQsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLEtBQUssT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDO0FBQ2xELE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxLQUFLLE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQztBQUNsRCxNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQztBQUNsRSxNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsS0FBSztBQUMzQixJQUFJLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMxRSxDQUFDLENBQUM7QUFDRixNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQztBQUNqRCxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQUssS0FBSyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzNELE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBSyxLQUFLO0FBQzdCO0FBQ0EsSUFBSSxPQUFPLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFHLEtBQUssWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLGlCQUFpQixDQUFDO0FBQ3ZFLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBRyxLQUFLLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFDM0MsSUFBSSxHQUFHLEtBQUssS0FBSztBQUNqQixJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO0FBQ2xCLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEtBQUssR0FBRyxDQUFDO0FBQ25DLE1BQU0sY0FBYyxpQkFBaUIsT0FBTztBQUM1QztBQUNBLFdBQVc7QUFDWCxJQUFJLG9DQUFvQztBQUN4QyxJQUFJLHFDQUFxQztBQUN6QyxJQUFJLHVDQUF1QyxDQUFDLENBQUM7QUFDN0MsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLEVBQUUsS0FBSztBQUNwQyxJQUFJLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdEMsSUFBSSxRQUFRLENBQUMsR0FBRyxLQUFLO0FBQ3JCLFFBQVEsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9CLFFBQVEsT0FBTyxHQUFHLEtBQUssS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzdDLEtBQUssRUFBRTtBQUNQLENBQUMsQ0FBQztBQUNGLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxNQUFNLFFBQVEsR0FBRyxtQkFBbUIsQ0FBQyxDQUFDLEdBQUcsS0FBSztBQUM5QyxJQUFJLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN6RSxDQUFDLENBQUMsQ0FBQztBQUNILE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQVMsR0FBRyxtQkFBbUIsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLE1BQU0sVUFBVSxHQUFHLG1CQUFtQixDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLE1BQU0sWUFBWSxHQUFHLG1CQUFtQixDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RjtBQUNBLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBSyxFQUFFLFFBQVEsS0FBSyxLQUFLLEtBQUssUUFBUSxLQUFLLEtBQUssS0FBSyxLQUFLLElBQUksUUFBUSxLQUFLLFFBQVEsQ0FBQyxDQUFDO0FBQ3pHLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSztBQUNyQyxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3pDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxLQUFLO0FBQ2pDLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ3BDLFFBQVEsWUFBWSxFQUFFLElBQUk7QUFDMUIsUUFBUSxVQUFVLEVBQUUsS0FBSztBQUN6QixRQUFRLEtBQUs7QUFDYixLQUFLLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQztBQUNGLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxLQUFLO0FBQzFCLElBQUksTUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlCLElBQUksT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUM5QixDQUFDLENBQUM7QUFDRixJQUFJLFdBQVcsQ0FBQztBQUNoQixNQUFNLGFBQWEsR0FBRyxNQUFNO0FBQzVCLElBQUksUUFBUSxXQUFXO0FBQ3ZCLFNBQVMsV0FBVztBQUNwQixZQUFZLE9BQU8sVUFBVSxLQUFLLFdBQVc7QUFDN0Msa0JBQWtCLFVBQVU7QUFDNUIsa0JBQWtCLE9BQU8sSUFBSSxLQUFLLFdBQVc7QUFDN0Msc0JBQXNCLElBQUk7QUFDMUIsc0JBQXNCLE9BQU8sTUFBTSxLQUFLLFdBQVc7QUFDbkQsMEJBQTBCLE1BQU07QUFDaEMsMEJBQTBCLE9BQU8sTUFBTSxLQUFLLFdBQVc7QUFDdkQsOEJBQThCLE1BQU07QUFDcEMsOEJBQThCLEVBQUUsQ0FBQyxFQUFFO0FBQ25DLENBQUM7O0FDOWVELE1BQU0sU0FBUyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7QUFDaEMsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLElBQUksWUFBWSxDQUFDO0FBQ2pCLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBdUQsRUFBRSxDQUFDLENBQUM7QUFDckYsTUFBTSxtQkFBbUIsR0FBRyxNQUFNLENBQStELEVBQUUsQ0FBQyxDQUFDO0FBQ3JHLFNBQVMsUUFBUSxDQUFDLEVBQUUsRUFBRTtBQUN0QixJQUFJLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDO0FBQ3ZDLENBQUM7QUFDRCxTQUFTLE1BQU0sQ0FBQyxFQUFFLEVBQUUsT0FBTyxHQUFHLFNBQVMsRUFBRTtBQUN6QyxJQUFJLElBQUksUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ3RCLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFDcEIsS0FBSztBQUNMLElBQUksTUFBTSxNQUFNLEdBQUcsb0JBQW9CLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3JELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDdkIsUUFBUSxNQUFNLEVBQUUsQ0FBQztBQUNqQixLQUFLO0FBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBQ0QsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ3RCLElBQUksSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ3ZCLFFBQVEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hCLFFBQVEsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRTtBQUNuQyxZQUFZLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDcEMsU0FBUztBQUNULFFBQVEsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDOUIsS0FBSztBQUNMLENBQUM7QUFDRCxJQUFJQyxLQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ1osU0FBUyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFO0FBQzNDLElBQUksTUFBTSxNQUFNLEdBQUcsU0FBUyxjQUFjLEdBQUc7QUFDN0MsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUM1QixZQUFZLE9BQU8sRUFBRSxFQUFFLENBQUM7QUFDeEIsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDM0MsWUFBWSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUIsWUFBWSxJQUFJO0FBQ2hCLGdCQUFnQixjQUFjLEVBQUUsQ0FBQztBQUNqQyxnQkFBZ0IsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN6QyxnQkFBZ0IsWUFBWSxHQUFHLE1BQU0sQ0FBQztBQUN0QyxnQkFBZ0IsT0FBTyxFQUFFLEVBQUUsQ0FBQztBQUM1QixhQUFhO0FBQ2Isb0JBQW9CO0FBQ3BCLGdCQUFnQixXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDbEMsZ0JBQWdCLGFBQWEsRUFBRSxDQUFDO0FBQ2hDLGdCQUFnQixZQUFZLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbkUsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sQ0FBQyxFQUFFLEdBQUdBLEtBQUcsRUFBRSxDQUFDO0FBQ3RCLElBQUksTUFBTSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNqRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQzVCLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDekIsSUFBSSxNQUFNLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNwQixJQUFJLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLElBQUksTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDN0IsSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBQ0QsU0FBUyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ3pCLElBQUksTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQztBQUM1QixJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNyQixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlDLFlBQVksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNuQyxTQUFTO0FBQ1QsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUN4QixLQUFLO0FBQ0wsQ0FBQztBQUNELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztBQUN2QixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsU0FBUyxhQUFhLEdBQUc7QUFDekIsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2pDLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQztBQUN4QixDQUFDO0FBQ0QsU0FBUyxjQUFjLEdBQUc7QUFDMUIsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2pDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztBQUN2QixDQUFDO0FBQ0QsU0FBUyxhQUFhLEdBQUc7QUFDekIsSUFBSSxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDbEMsSUFBSSxXQUFXLEdBQUcsSUFBSSxLQUFLLFNBQVMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ25ELENBQUM7QUFDRCxTQUFTLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRTtBQUNsQyxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksWUFBWSxLQUFLLFNBQVMsRUFBRTtBQUNwRCxRQUFRLE9BQU87QUFDZixLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUNsQixRQUFRLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLE9BQU8sR0FBRyxJQUFJLEdBQUcsRUFBRSxFQUFFLENBQUM7QUFDckQsS0FBSztBQUNMLElBQUksSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMvQixJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7QUFDZCxRQUFRLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBRSxFQUFFLENBQUM7QUFDNUMsS0FBSztBQUNMLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLEVBQUU7QUFDaEMsUUFBUSxHQUFHLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzlCLFFBQVEsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFTcEMsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRTtBQUNuRSxJQUFJLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ2xCO0FBQ0EsUUFBUSxPQUFPO0FBQ2YsS0FBSztBQUNMLElBQUksTUFBTSxPQUFPLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUM5QixJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsWUFBWSxLQUFLO0FBQ2xDLFFBQVEsSUFBSSxZQUFZLEVBQUU7QUFDMUIsWUFBWSxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSTtBQUMzQyxnQkFBZ0IsSUFBSSxNQUFNLEtBQUssWUFBWSxJQUFJLE1BQU0sQ0FBQyxZQUFZLEVBQUU7QUFDcEUsb0JBQW9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEMsaUJBQWlCO0FBQ2pCLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksSUFBSSxJQUFJLEtBQUssT0FBTyxjQUFjO0FBQ3RDO0FBQ0E7QUFDQSxRQUFRLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0IsS0FBSztBQUNMLFNBQVMsSUFBSSxHQUFHLEtBQUssUUFBUSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUNsRCxRQUFRLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLO0FBQ3RDLFlBQVksSUFBSSxHQUFHLEtBQUssUUFBUSxJQUFJLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDckQsZ0JBQWdCLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6QixhQUFhO0FBQ2IsU0FBUyxDQUFDLENBQUM7QUFDWCxLQUFLO0FBQ0wsU0FBUztBQUNUO0FBQ0EsUUFBUSxJQUFJLEdBQUcsS0FBSyxLQUFLLENBQUMsRUFBRTtBQUM1QixZQUFZLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbEMsU0FBUztBQUNUO0FBQ0EsUUFBUSxRQUFRLElBQUk7QUFDcEIsWUFBWSxLQUFLLEtBQUs7QUFDdEIsZ0JBQWdCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDdEMsb0JBQW9CLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDbEQsb0JBQW9CLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ3ZDLHdCQUF3QixHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7QUFDOUQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixxQkFBcUIsSUFBSSxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDNUM7QUFDQSxvQkFBb0IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUMvQyxpQkFBaUI7QUFDakIsZ0JBQWdCLE1BQU07QUFDdEIsWUFBWSxLQUFLLFFBQVE7QUFDekIsZ0JBQWdCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDdEMsb0JBQW9CLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDbEQsb0JBQW9CLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ3ZDLHdCQUF3QixHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7QUFDOUQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixnQkFBZ0IsTUFBTTtBQUN0QixZQUFZLEtBQUssS0FBSztBQUN0QixnQkFBZ0IsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDbkMsb0JBQW9CLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDbEQsaUJBQWlCO0FBQ2pCLGdCQUFnQixNQUFNO0FBQ3RCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sS0FBSztBQVk1QixRQUFRLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUU7QUFDdEMsWUFBWSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QyxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksTUFBTSxFQUFFLENBQUM7QUFDckIsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6QixDQUFDO0FBQ0Q7QUFDQSxNQUFNLGtCQUFrQixpQkFBaUIsT0FBTyxDQUFDLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDO0FBQ2hGLE1BQU0sY0FBYyxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUM7QUFDakUsS0FBSyxHQUFHLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QixLQUFLLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCLE1BQU0sR0FBRyxpQkFBaUIsWUFBWSxFQUFFLENBQUM7QUFDekMsTUFBTSxVQUFVLGlCQUFpQixZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzNELE1BQU0sV0FBVyxpQkFBaUIsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3JELE1BQU0sa0JBQWtCLGlCQUFpQixZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2xFLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO0FBQ2pDLENBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO0FBQ3RELElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QyxJQUFJLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsR0FBRyxJQUFJLEVBQUU7QUFDcEQsUUFBUSxNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEMsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3JELFlBQVksS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFLLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ2hELFNBQVM7QUFDVDtBQUNBLFFBQVEsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUMsUUFBUSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFO0FBQ3pDO0FBQ0EsWUFBWSxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUN0RCxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksT0FBTyxHQUFHLENBQUM7QUFDdkIsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLENBQUMsQ0FBQyxDQUFDO0FBQ0gsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSTtBQUM3RCxJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDeEMsSUFBSSxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLEdBQUcsSUFBSSxFQUFFO0FBQ3BELFFBQVEsYUFBYSxFQUFFLENBQUM7QUFDeEIsUUFBUSxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM3QyxRQUFRLGFBQWEsRUFBRSxDQUFDO0FBQ3hCLFFBQVEsT0FBTyxHQUFHLENBQUM7QUFDbkIsS0FBSyxDQUFDO0FBQ04sQ0FBQyxDQUFDLENBQUM7QUFDSCxTQUFTLFlBQVksQ0FBQyxVQUFVLEdBQUcsS0FBSyxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDM0QsSUFBSSxPQUFPLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO0FBQy9DLFFBQVEsSUFBSSxHQUFHLEtBQUssZ0JBQWdCLG9CQUFvQjtBQUN4RCxZQUFZLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDL0IsU0FBUztBQUNULGFBQWEsSUFBSSxHQUFHLEtBQUssZ0JBQWdCLG9CQUFvQjtBQUM3RCxZQUFZLE9BQU8sVUFBVSxDQUFDO0FBQzlCLFNBQVM7QUFDVCxhQUFhLElBQUksR0FBRyxLQUFLLFNBQVM7QUFDbEMsWUFBWSxRQUFRO0FBQ3BCLGdCQUFnQixDQUFDLFVBQVU7QUFDM0Isc0JBQXNCLE9BQU87QUFDN0IsMEJBQTBCLGtCQUFrQjtBQUM1QywwQkFBMEIsV0FBVztBQUNyQyxzQkFBc0IsT0FBTztBQUM3QiwwQkFBMEIsa0JBQWtCO0FBQzVDLDBCQUEwQixXQUFXLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ3BELFlBQVksT0FBTyxNQUFNLENBQUM7QUFDMUIsU0FBUztBQUNULFFBQVEsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzlDLFFBQVEsSUFBSSxDQUFDLFVBQVUsSUFBSSxhQUFhLElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ2hGLFlBQVksT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNyRSxTQUFTO0FBQ1QsUUFBUSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDdkQsUUFBUSxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQy9FLFlBQVksT0FBTyxHQUFHLENBQUM7QUFDdkIsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUN6QixZQUFZLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxZQUFZLEdBQUcsQ0FBQyxDQUFDO0FBQ2hELFNBQVM7QUFDVCxRQUFRLElBQUksT0FBTyxFQUFFO0FBQ3JCLFlBQVksT0FBTyxHQUFHLENBQUM7QUFDdkIsU0FBUztBQUNULFFBQVEsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDeEI7QUFDQSxZQUFZLE1BQU0sWUFBWSxHQUFHLENBQUMsYUFBYSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3RFLFlBQVksT0FBTyxZQUFZLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7QUFDbEQsU0FBUztBQUNULFFBQVEsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPLFVBQVUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlELFNBQVM7QUFDVCxRQUFRLE9BQU8sR0FBRyxDQUFDO0FBQ25CLEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxNQUFNLEdBQUcsaUJBQWlCLFlBQVksRUFBRSxDQUFDO0FBQ3pDLE1BQU0sVUFBVSxpQkFBaUIsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BELFNBQVMsWUFBWSxDQUFDLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDdkMsSUFBSSxPQUFPLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRTtBQUN0RCxRQUFRLElBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNuQyxRQUFRLElBQUksQ0FBQyxPQUFPLEVBQUU7QUFDdEIsWUFBWSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2pDLFlBQVksUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2QyxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3RFLGdCQUFnQixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUN2QyxnQkFBZ0IsT0FBTyxJQUFJLENBQUM7QUFDNUIsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxZQUFZLENBQUMsR0FBRyxDQUFDO0FBQzNELGNBQWMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNO0FBQ3pDLGNBQWMsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNsQyxRQUFRLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDakU7QUFDQSxRQUFRLElBQUksTUFBTSxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUN4QyxZQUFZLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDekIsZ0JBQWdCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxZQUFZLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM3RCxhQUFhO0FBQ2IsaUJBQWlCLElBQUksVUFBVSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBRTtBQUNsRCxnQkFBZ0IsT0FBTyxDQUFDLE1BQU0sRUFBRSxLQUFLLFlBQVksR0FBRyxFQUFFLEtBQWUsQ0FBQyxDQUFDO0FBQ3ZFLGFBQWE7QUFDYixTQUFTO0FBQ1QsUUFBUSxPQUFPLE1BQU0sQ0FBQztBQUN0QixLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsU0FBUyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUNyQyxJQUFJLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdkMsSUFBcUIsTUFBTSxDQUFDLEdBQUcsRUFBRTtBQUNqQyxJQUFJLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZELElBQUksSUFBSSxNQUFNLElBQUksTUFBTSxFQUFFO0FBQzFCLFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRSxRQUFRLGVBQWUsR0FBRyxFQUFFLFNBQW1CLENBQUMsQ0FBQztBQUN6RSxLQUFLO0FBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBQ0QsU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUMxQixJQUFJLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzVDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDcEQsUUFBUSxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssWUFBWSxHQUFHLENBQUMsQ0FBQztBQUM1QyxLQUFLO0FBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBQ0QsU0FBUyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ3pCLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxTQUFTLGdCQUFnQixPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDO0FBQ3JGLElBQUksT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFDRCxNQUFNLGVBQWUsR0FBRztBQUN4QixJQUFJLEdBQUc7QUFDUCxJQUFJLEdBQUc7QUFDUCxJQUFJLGNBQWM7QUFDbEIsSUFBSSxHQUFHO0FBQ1AsSUFBSSxPQUFPO0FBQ1gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxnQkFBZ0IsR0FBRztBQUN6QixJQUFJLEdBQUcsRUFBRSxXQUFXO0FBQ3BCLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7QUFJckIsUUFBUSxPQUFPLElBQUksQ0FBQztBQUNwQixLQUFLO0FBQ0wsSUFBSSxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUloQyxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLHVCQUF1QixHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsZUFBZSxFQUFFO0FBQzVELElBQUksR0FBRyxFQUFFLFVBQVU7QUFDbkIsSUFBSSxHQUFHLEVBQUUsVUFBVTtBQUNuQixDQUFDLENBQUMsQ0FBQztBQUNIO0FBQ0E7QUFDQTtBQUNnQyxNQUFNLENBQUMsRUFBRSxFQUFFLGdCQUFnQixFQUFFO0FBQzdELElBQUksR0FBRyxFQUFFLGtCQUFrQjtBQUMzQixDQUFDLEVBQUU7QUFDSDtBQUNBLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3hFLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3hFLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQztBQUNuQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUMsS0FBSyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2xELFNBQVMsS0FBSyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsVUFBVSxHQUFHLEtBQUssRUFBRSxTQUFTLEdBQUcsS0FBSyxFQUFFO0FBQ25FO0FBQ0E7QUFDQSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDekMsSUFBSSxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUIsSUFBSSxJQUFJLEdBQUcsS0FBSyxNQUFNLEVBQUU7QUFDeEIsUUFBUSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssWUFBWSxHQUFHLENBQUMsQ0FBQztBQUM5RCxLQUFLO0FBQ0wsSUFBSSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssWUFBWSxNQUFNLENBQUMsQ0FBQztBQUM3RCxJQUFJLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDeEMsSUFBSSxNQUFNLElBQUksR0FBRyxTQUFTLEdBQUcsU0FBUyxHQUFHLFVBQVUsR0FBRyxVQUFVLEdBQUcsVUFBVSxDQUFDO0FBQzlFLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNsQyxRQUFRLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyQyxLQUFLO0FBQ0wsU0FBUyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFFO0FBQzFDLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLEtBQUs7QUFDTCxTQUFTLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtBQUNuQztBQUNBO0FBQ0EsUUFBUSxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLFVBQVUsR0FBRyxLQUFLLEVBQUU7QUFDeEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDN0MsSUFBSSxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUIsSUFBSSxJQUFJLEdBQUcsS0FBSyxNQUFNLEVBQUU7QUFDeEIsUUFBUSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssWUFBWSxHQUFHLENBQUMsQ0FBQztBQUM5RCxLQUFLO0FBQ0wsSUFBSSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssWUFBWSxNQUFNLENBQUMsQ0FBQztBQUM3RCxJQUFJLE9BQU8sR0FBRyxLQUFLLE1BQU07QUFDekIsVUFBVSxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztBQUN6QixVQUFVLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBQ0QsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsR0FBRyxLQUFLLEVBQUU7QUFDMUMsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsV0FBVyxDQUFDO0FBQ3pDLElBQUksQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxTQUFTLGdCQUFnQixXQUFXLENBQUMsQ0FBQztBQUM5RSxJQUFJLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFDRCxTQUFTLEdBQUcsQ0FBQyxLQUFLLEVBQUU7QUFDcEIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLElBQUksTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ25DLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2pELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNqQixRQUFRLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDMUIsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssWUFBWSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdkQsS0FBSztBQUNMLElBQUksT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQUNELFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDM0IsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUMsSUFBSSxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN2QyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDakIsUUFBUSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLFFBQVEsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLEtBR0s7QUFDTCxJQUFJLE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzNDLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDM0IsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2pCLFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRSxLQUFLLFlBQVksR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3JELEtBQUs7QUFDTCxTQUFTLElBQUksVUFBVSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBRTtBQUMxQyxRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxZQUFZLEdBQUcsRUFBRSxLQUFlLENBQUMsQ0FBQztBQUMvRCxLQUFLO0FBQ0wsSUFBSSxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBQ0QsU0FBUyxXQUFXLENBQUMsR0FBRyxFQUFFO0FBQzFCLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUMsSUFBSSxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN2QyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDakIsUUFBUSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLFFBQVEsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLEtBR0s7QUFDTCxJQUFxQixHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsVUFBVTtBQUM3RDtBQUNBLElBQUksTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0QyxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRSxRQUFRLGVBQWUsR0FBRyxFQUFFLFNBQW1CLENBQUMsQ0FBQztBQUN6RSxLQUFLO0FBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBQ0QsU0FBUyxLQUFLLEdBQUc7QUFDakIsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsSUFBSSxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQztBQU12QztBQUNBLElBQUksTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ2xDLElBQUksSUFBSSxRQUFRLEVBQUU7QUFDbEIsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sY0FBYyxTQUFTLEVBQUUsU0FBb0IsQ0FBQyxDQUFDO0FBQzlFLEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLGFBQWEsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFO0FBQzlDLElBQUksT0FBTyxTQUFTLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQy9DLFFBQVEsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQzlCLFFBQVEsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLFNBQVMsV0FBVyxDQUFDO0FBQ3JELFFBQVEsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hDLFFBQVEsTUFBTSxJQUFJLEdBQUcsU0FBUyxHQUFHLFNBQVMsR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQztBQUNsRixRQUFRLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsU0FBUyxnQkFBZ0IsV0FBVyxDQUFDLENBQUM7QUFDOUUsUUFBUSxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxLQUFLO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzVFLFNBQVMsQ0FBQyxDQUFDO0FBQ1gsS0FBSyxDQUFDO0FBQ04sQ0FBQztBQUNELFNBQVMsb0JBQW9CLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxPQUFPLFVBQVUsR0FBRyxJQUFJLEVBQUU7QUFDOUIsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDakQsUUFBUSxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEMsUUFBUSxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDN0MsUUFBUSxNQUFNLE1BQU0sR0FBRyxNQUFNLEtBQUssU0FBUyxLQUFLLE1BQU0sS0FBSyxNQUFNLENBQUMsUUFBUSxJQUFJLFdBQVcsQ0FBQyxDQUFDO0FBQzNGLFFBQVEsTUFBTSxTQUFTLEdBQUcsTUFBTSxLQUFLLE1BQU0sSUFBSSxXQUFXLENBQUM7QUFDM0QsUUFBUSxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUN0RCxRQUFRLE1BQU0sSUFBSSxHQUFHLFNBQVMsR0FBRyxTQUFTLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDbEYsUUFBUSxDQUFDLFVBQVU7QUFDbkIsWUFBWSxLQUFLLENBQUMsU0FBUyxFQUFFLFNBQVMsZ0JBQWdCLFNBQVMsR0FBRyxtQkFBbUIsR0FBRyxXQUFXLENBQUMsQ0FBQztBQUNyRztBQUNBO0FBQ0EsUUFBUSxPQUFPO0FBQ2Y7QUFDQSxZQUFZLElBQUksR0FBRztBQUNuQixnQkFBZ0IsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDN0QsZ0JBQWdCLE9BQU8sSUFBSTtBQUMzQixzQkFBc0IsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3JDLHNCQUFzQjtBQUN0Qix3QkFBd0IsS0FBSyxFQUFFLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3RGLHdCQUF3QixJQUFJO0FBQzVCLHFCQUFxQixDQUFDO0FBQ3RCLGFBQWE7QUFDYjtBQUNBLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUc7QUFDaEMsZ0JBQWdCLE9BQU8sSUFBSSxDQUFDO0FBQzVCLGFBQWE7QUFDYixTQUFTLENBQUM7QUFDVixLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsU0FBUyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUU7QUFDcEMsSUFBSSxPQUFPLFVBQVUsR0FBRyxJQUFJLEVBQUU7QUFLOUIsUUFBUSxPQUFPLElBQUksS0FBSyxRQUFRLGdCQUFnQixLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQzdELEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxNQUFNLHVCQUF1QixHQUFHO0FBQ2hDLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUNiLFFBQVEsT0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLEtBQUs7QUFDTCxJQUFJLElBQUksSUFBSSxHQUFHO0FBQ2YsUUFBUSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxQixLQUFLO0FBQ0wsSUFBSSxHQUFHLEVBQUUsS0FBSztBQUNkLElBQUksR0FBRztBQUNQLElBQUksR0FBRyxFQUFFLEtBQUs7QUFDZCxJQUFJLE1BQU0sRUFBRSxXQUFXO0FBQ3ZCLElBQUksS0FBSztBQUNULElBQUksT0FBTyxFQUFFLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDO0FBQ3hDLENBQUMsQ0FBQztBQUNGLE1BQU0sdUJBQXVCLEdBQUc7QUFDaEMsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFO0FBQ2IsUUFBUSxPQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM3QyxLQUFLO0FBQ0wsSUFBSSxJQUFJLElBQUksR0FBRztBQUNmLFFBQVEsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDMUIsS0FBSztBQUNMLElBQUksR0FBRyxFQUFFLEtBQUs7QUFDZCxJQUFJLEdBQUc7QUFDUCxJQUFJLEdBQUcsRUFBRSxLQUFLO0FBQ2QsSUFBSSxNQUFNLEVBQUUsV0FBVztBQUN2QixJQUFJLEtBQUs7QUFDVCxJQUFJLE9BQU8sRUFBRSxhQUFhLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFDRixNQUFNLHdCQUF3QixHQUFHO0FBQ2pDLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUNiLFFBQVEsT0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0QyxLQUFLO0FBQ0wsSUFBSSxJQUFJLElBQUksR0FBRztBQUNmLFFBQVEsT0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2hDLEtBQUs7QUFDTCxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDYixRQUFRLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzNDLEtBQUs7QUFDTCxJQUFJLEdBQUcsRUFBRSxvQkFBb0IsQ0FBQyxLQUFLLFdBQVc7QUFDOUMsSUFBSSxHQUFHLEVBQUUsb0JBQW9CLENBQUMsS0FBSyxXQUFXO0FBQzlDLElBQUksTUFBTSxFQUFFLG9CQUFvQixDQUFDLFFBQVEsY0FBYztBQUN2RCxJQUFJLEtBQUssRUFBRSxvQkFBb0IsQ0FBQyxPQUFPLGFBQWE7QUFDcEQsSUFBSSxPQUFPLEVBQUUsYUFBYSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSwrQkFBK0IsR0FBRztBQUN4QyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDYixRQUFRLE9BQU8sS0FBSyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVDLEtBQUs7QUFDTCxJQUFJLElBQUksSUFBSSxHQUFHO0FBQ2YsUUFBUSxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDaEMsS0FBSztBQUNMLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUNiLFFBQVEsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0MsS0FBSztBQUNMLElBQUksR0FBRyxFQUFFLG9CQUFvQixDQUFDLEtBQUssV0FBVztBQUM5QyxJQUFJLEdBQUcsRUFBRSxvQkFBb0IsQ0FBQyxLQUFLLFdBQVc7QUFDOUMsSUFBSSxNQUFNLEVBQUUsb0JBQW9CLENBQUMsUUFBUSxjQUFjO0FBQ3ZELElBQUksS0FBSyxFQUFFLG9CQUFvQixDQUFDLE9BQU8sYUFBYTtBQUNwRCxJQUFJLE9BQU8sRUFBRSxhQUFhLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFDRixNQUFNLGVBQWUsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2RSxlQUFlLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSTtBQUNsQyxJQUFJLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDakYsSUFBSSx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2pGLElBQUksdUJBQXVCLENBQUMsTUFBTSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNoRixJQUFJLCtCQUErQixDQUFDLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDdkYsQ0FBQyxDQUFDLENBQUM7QUFDSCxTQUFTLDJCQUEyQixDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUU7QUFDMUQsSUFBSSxNQUFNLGdCQUFnQixHQUFHLE9BQU87QUFDcEMsVUFBVSxVQUFVO0FBQ3BCLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsdUJBQXVCO0FBQ3JDLFVBQVUsVUFBVTtBQUNwQixjQUFjLHdCQUF3QjtBQUN0QyxjQUFjLHVCQUF1QixDQUFDO0FBQ3RDLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxLQUFLO0FBQ3RDLFFBQVEsSUFBSSxHQUFHLEtBQUssZ0JBQWdCLG9CQUFvQjtBQUN4RCxZQUFZLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDL0IsU0FBUztBQUNULGFBQWEsSUFBSSxHQUFHLEtBQUssZ0JBQWdCLG9CQUFvQjtBQUM3RCxZQUFZLE9BQU8sVUFBVSxDQUFDO0FBQzlCLFNBQVM7QUFDVCxhQUFhLElBQUksR0FBRyxLQUFLLFNBQVMsWUFBWTtBQUM5QyxZQUFZLE9BQU8sTUFBTSxDQUFDO0FBQzFCLFNBQVM7QUFDVCxRQUFRLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLE1BQU07QUFDekUsY0FBYyxnQkFBZ0I7QUFDOUIsY0FBYyxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3JDLEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxNQUFNLHlCQUF5QixHQUFHO0FBQ2xDLElBQUksR0FBRyxFQUFFLDJCQUEyQixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUM7QUFDbEQsQ0FBQyxDQUFDO0FBQ0YsTUFBTSx5QkFBeUIsR0FBRztBQUNsQyxJQUFJLEdBQUcsRUFBRSwyQkFBMkIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUNGLE1BQU0sMEJBQTBCLEdBQUc7QUFDbkMsSUFBSSxHQUFHLEVBQUUsMkJBQTJCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztBQUNqRCxDQUFDLENBQUM7QUFlRjtBQUNBLE1BQU0sV0FBVyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7QUFDbEMsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO0FBQ3pDLE1BQU0sV0FBVyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7QUFDbEMsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO0FBQ3pDLFNBQVMsYUFBYSxDQUFDLE9BQU8sRUFBRTtBQUNoQyxJQUFJLFFBQVEsT0FBTztBQUNuQixRQUFRLEtBQUssUUFBUSxDQUFDO0FBQ3RCLFFBQVEsS0FBSyxPQUFPO0FBQ3BCLFlBQVksT0FBTyxDQUFDLGNBQWM7QUFDbEMsUUFBUSxLQUFLLEtBQUssQ0FBQztBQUNuQixRQUFRLEtBQUssS0FBSyxDQUFDO0FBQ25CLFFBQVEsS0FBSyxTQUFTLENBQUM7QUFDdkIsUUFBUSxLQUFLLFNBQVM7QUFDdEIsWUFBWSxPQUFPLENBQUMsa0JBQWtCO0FBQ3RDLFFBQVE7QUFDUixZQUFZLE9BQU8sQ0FBQyxlQUFlO0FBQ25DLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxhQUFhLENBQUMsS0FBSyxFQUFFO0FBQzlCLElBQUksT0FBTyxLQUFLLENBQUMsVUFBVSxZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztBQUN0RSxVQUFVLENBQUM7QUFDWCxVQUFVLGFBQWEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMxQyxDQUFDO0FBQ0QsU0FBUyxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQzFCO0FBQ0EsSUFBSSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsZ0JBQWdCLG1CQUFtQixFQUFFO0FBQzlELFFBQVEsT0FBTyxNQUFNLENBQUM7QUFDdEIsS0FBSztBQUNMLElBQUksT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRSx5QkFBeUIsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN4RyxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRTtBQUNqQyxJQUFJLE9BQU8sb0JBQW9CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSx1QkFBdUIsRUFBRSx5QkFBeUIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3ZILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsUUFBUSxDQUFDLE1BQU0sRUFBRTtBQUMxQixJQUFJLE9BQU8sb0JBQW9CLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSwwQkFBMEIsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN6RyxDQUFDO0FBVUQsU0FBUyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQUU7QUFDOUYsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBSTNCLFFBQVEsT0FBTyxNQUFNLENBQUM7QUFDdEIsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJLElBQUksTUFBTSxDQUFDLFNBQVMsV0FBVztBQUNuQyxRQUFRLEVBQUUsVUFBVSxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsbUJBQW1CLENBQUMsRUFBRTtBQUNyRSxRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUs7QUFDTDtBQUNBLElBQUksTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMvQyxJQUFJLElBQUksYUFBYSxFQUFFO0FBQ3ZCLFFBQVEsT0FBTyxhQUFhLENBQUM7QUFDN0IsS0FBSztBQUNMO0FBQ0EsSUFBSSxNQUFNLFVBQVUsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0MsSUFBSSxJQUFJLFVBQVUsS0FBSyxDQUFDLGdCQUFnQjtBQUN4QyxRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUs7QUFDTCxJQUFJLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxVQUFVLEtBQUssQ0FBQyxvQkFBb0Isa0JBQWtCLEdBQUcsWUFBWSxDQUFDLENBQUM7QUFDM0csSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNoQyxJQUFJLE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUFDRCxTQUFTLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDM0IsSUFBSSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUMzQixRQUFRLE9BQU8sVUFBVSxDQUFDLEtBQUssQ0FBQyxTQUFTLFdBQVcsQ0FBQyxDQUFDO0FBQ3RELEtBQUs7QUFDTCxJQUFJLE9BQU8sQ0FBQyxFQUFFLEtBQUssSUFBSSxLQUFLLENBQUMsZ0JBQWdCLG1CQUFtQixDQUFDLENBQUM7QUFDbEUsQ0FBQztBQUNELFNBQVMsVUFBVSxDQUFDLEtBQUssRUFBRTtBQUMzQixJQUFJLE9BQU8sQ0FBQyxFQUFFLEtBQUssSUFBSSxLQUFLLENBQUMsZ0JBQWdCLG1CQUFtQixDQUFDLENBQUM7QUFDbEUsQ0FBQztBQUNELFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRTtBQUN4QixJQUFJLE9BQU8sVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsRCxDQUFDO0FBQ0QsU0FBUyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ3pCLElBQUksUUFBUSxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsV0FBVyxDQUFDLEtBQUssUUFBUSxFQUFFO0FBQzVFLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDeEIsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQVUsYUFBYSxJQUFJLENBQUMsQ0FBQztBQUM1QyxJQUFJLE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUFHRCxTQUFTLEtBQUssQ0FBQyxDQUFDLEVBQUU7QUFDbEIsSUFBSSxPQUFPLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsQ0FBQztBQUM5QyxDQUFDO0FBbUNELFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRTtBQUNwQixJQUFJLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO0FBQ3hDLENBQUM7QUFDRCxNQUFNLHFCQUFxQixHQUFHO0FBQzlCLElBQUksR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEtBQUssS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUM3RSxJQUFJLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsS0FBSztBQUMzQyxRQUFRLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQyxRQUFRLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzlDLFlBQVksUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkMsWUFBWSxPQUFPLElBQUksQ0FBQztBQUN4QixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzdELFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQyxDQUFDO0FBQ0YsU0FBUyxTQUFTLENBQUMsY0FBYyxFQUFFO0FBQ25DLElBQUksT0FBTyxVQUFVLENBQUMsY0FBYyxDQUFDO0FBQ3JDLFVBQVUsY0FBYztBQUN4QixVQUFVLElBQUksS0FBSyxDQUFDLGNBQWMsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0FBQzNELENBQUM7QUE0QkQsTUFBTSxhQUFhLENBQUM7QUFDcEIsSUFBSSxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUMvQixRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQy9CLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDekIsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUM5QixLQUFLO0FBQ0wsSUFBSSxJQUFJLEtBQUssR0FBRztBQUNoQixRQUFRLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkMsS0FBSztBQUNMLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQ3RCLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ3pDLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxLQUFLLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUM1QixJQUFJLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM3QixVQUFVLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDckIsVUFBVSxJQUFJLGFBQWEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDekMsQ0FBQztBQUNEO0FBQ0EsTUFBTSxlQUFlLENBQUM7QUFDdEIsSUFBSSxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUU7QUFDN0MsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUMvQixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0FBQzNCLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDOUIsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDckMsWUFBWSxJQUFJLEVBQUUsSUFBSTtBQUN0QixZQUFZLFNBQVMsRUFBRSxNQUFNO0FBQzdCLGdCQUFnQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNsQyxvQkFBb0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDdkMsb0JBQW9CLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxZQUFZLE9BQU8sQ0FBQyxDQUFDO0FBQ25FLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUyxDQUFDLENBQUM7QUFDWCxRQUFRLElBQUksQ0FBQyxnQkFBZ0IsbUJBQW1CLEdBQUcsVUFBVSxDQUFDO0FBQzlELEtBQUs7QUFDTCxJQUFJLElBQUksS0FBSyxHQUFHO0FBQ2hCO0FBQ0EsUUFBUSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakMsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDekIsWUFBWSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUN4QyxZQUFZLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ2hDLFNBQVM7QUFDVCxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxZQUFZLE9BQU8sQ0FBQyxDQUFDO0FBQzlDLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQzNCLEtBQUs7QUFDTCxJQUFJLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRTtBQUN4QixRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0IsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTQyxVQUFRLENBQUMsZUFBZSxFQUFFO0FBQ25DLElBQUksSUFBSSxNQUFNLENBQUM7QUFDZixJQUFJLElBQUksTUFBTSxDQUFDO0FBQ2YsSUFBSSxJQUFJLFVBQVUsQ0FBQyxlQUFlLENBQUMsRUFBRTtBQUNyQyxRQUFRLE1BQU0sR0FBRyxlQUFlLENBQUM7QUFDakMsUUFBUSxNQUFNLEdBSUEsSUFBSSxDQUFDO0FBQ25CLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxNQUFNLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQztBQUNyQyxRQUFRLE1BQU0sR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDO0FBQ3JDLEtBQUs7QUFDTCxJQUFJLE9BQU8sSUFBSSxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDcEc7O0FDcDNCQSxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7QUFPakIsU0FBUyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxFQUFFO0FBQzVCO0FBQ0E7QUFDQSxJQUFJLGFBQWEsRUFBRSxDQUFDO0FBQ3BCLElBQUksTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQzdFLElBQUksTUFBTSxjQUFjLEdBQUcsUUFBUSxJQUFJLFFBQVEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztBQUM5RSxJQUFJLE1BQU0sS0FBSyxHQUFHLGlCQUFpQixFQUFFLENBQUM7QUFDdEMsSUFBSSxJQUFJLGNBQWMsRUFBRTtBQUN4QixRQUFRLHFCQUFxQixDQUFDLGNBQWMsRUFBRSxRQUFRLEVBQUUsRUFBRSx5QkFBeUI7QUFDbkYsWUFBWSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDL0IsWUFBWSxRQUFRLElBQUksUUFBUSxDQUFDLEtBQUs7QUFDdEMsWUFBWSxLQUFLO0FBQ2pCLGlCQUFpQixHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEYsaUJBQWlCLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDM0IsWUFBWSxLQUFLO0FBQ2pCLFNBQVMsQ0FBQyxDQUFDO0FBQ1gsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3pEO0FBQ0EsUUFBUSxJQUFJLEtBQUssQ0FBQyxNQUFNO0FBQ3hCO0FBQ0EsWUFBWSxDQUFDLEtBQUssRUFBRTtBQUNwQixZQUFZLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELFNBQVM7QUFDVCxRQUFRLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztBQUNsQyxLQUFLO0FBQ0wsSUFBSSxhQUFhLEVBQUUsQ0FBQztBQUNwQixDQUFDO0FBQ0QsU0FBUyxpQkFBaUIsR0FBRztBQUM3QixJQUFJLElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQy9DLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtBQUN2QixRQUFRLE9BQU8sRUFBRSxDQUFDO0FBQ2xCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJLE1BQU0sZUFBZSxHQUFHLEVBQUUsQ0FBQztBQUMvQixJQUFJLE9BQU8sWUFBWSxFQUFFO0FBQ3pCLFFBQVEsTUFBTSxJQUFJLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLFFBQVEsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxZQUFZLEVBQUU7QUFDakQsWUFBWSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7QUFDaEMsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLGVBQWUsQ0FBQyxJQUFJLENBQUM7QUFDakMsZ0JBQWdCLEtBQUssRUFBRSxZQUFZO0FBQ25DLGdCQUFnQixZQUFZLEVBQUUsQ0FBQztBQUMvQixhQUFhLENBQUMsQ0FBQztBQUNmLFNBQVM7QUFDVCxRQUFRLE1BQU0sY0FBYyxHQUFHLFlBQVksQ0FBQyxTQUFTLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7QUFDdkYsUUFBUSxZQUFZLEdBQUcsY0FBYyxJQUFJLGNBQWMsQ0FBQyxLQUFLLENBQUM7QUFDOUQsS0FBSztBQUNMLElBQUksT0FBTyxlQUFlLENBQUM7QUFDM0IsQ0FBQztBQUNEO0FBQ0EsU0FBUyxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQzVCLElBQUksTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUs7QUFDaEMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDMUUsS0FBSyxDQUFDLENBQUM7QUFDUCxJQUFJLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFDRCxTQUFTLGdCQUFnQixDQUFDLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxFQUFFO0FBQ25ELElBQUksTUFBTSxPQUFPLEdBQUcsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNwRixJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQztBQUM1RSxJQUFJLE1BQU0sSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEYsSUFBSSxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztBQUNoQyxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUs7QUFDdEIsVUFBVSxDQUFDLElBQUksRUFBRSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxDQUFDO0FBQ3BELFVBQVUsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDekIsQ0FBQztBQUNEO0FBQ0EsU0FBUyxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQzVCLElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ25CLElBQUksTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNwQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7QUFDcEMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pELEtBQUssQ0FBQyxDQUFDO0FBQ1AsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3pCLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDekIsS0FBSztBQUNMLElBQUksT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDO0FBQ0Q7QUFDQSxTQUFTLFVBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtBQUNyQyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFFBQVEsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdEMsUUFBUSxPQUFPLEdBQUcsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakQsS0FBSztBQUNMLFNBQVMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO0FBQ3RDLFFBQVEsT0FBTyxLQUFLLEtBQUssU0FBUztBQUNsQyxRQUFRLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFDdkIsUUFBUSxPQUFPLEdBQUcsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakQsS0FBSztBQUNMLFNBQVMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDM0IsUUFBUSxLQUFLLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzFELFFBQVEsT0FBTyxHQUFHLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pELEtBQUs7QUFDTCxTQUFTLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ2hDLFFBQVEsT0FBTyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRSxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM3QixRQUFRLE9BQU8sR0FBRyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEQsS0FBSztBQUNMLENBQUM7QUFpQ0QsU0FBUyxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDekQsSUFBSSxJQUFJLEdBQUcsQ0FBQztBQUNaLElBQUksSUFBSTtBQUNSLFFBQVEsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQztBQUN4QyxLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsRUFBRTtBQUNoQixRQUFRLFdBQVcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3pDLEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUNELFNBQVMsMEJBQTBCLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQzlELElBQUksSUFBSSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDeEIsUUFBUSxNQUFNLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNwRSxRQUFRLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQyxZQUFZLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJO0FBQzdCLGdCQUFnQixXQUFXLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNqRCxhQUFhLENBQUMsQ0FBQztBQUNmLFNBQVM7QUFDVCxRQUFRLE9BQU8sR0FBRyxDQUFDO0FBQ25CLEtBQUs7QUFDTCxJQUFJLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUN0QixJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3hDLFFBQVEsTUFBTSxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdFLEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLFdBQVcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxVQUFVLEdBQUcsSUFBSSxFQUFFO0FBQzdELElBQUksTUFBTSxZQUFZLEdBQUcsUUFBUSxHQUFHLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQzFELElBQUksSUFBSSxRQUFRLEVBQUU7QUFDbEIsUUFBUSxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDO0FBQ2xDO0FBQ0EsUUFBUSxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQy9DO0FBQ0EsUUFBUSxNQUFNLFNBQVMsR0FBc0UsSUFBSSxDQUFDO0FBQ2xHLFFBQVEsT0FBTyxHQUFHLEVBQUU7QUFDcEIsWUFBWSxNQUFNLGtCQUFrQixHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7QUFDOUMsWUFBWSxJQUFJLGtCQUFrQixFQUFFO0FBQ3BDLGdCQUFnQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3BFLG9CQUFvQixJQUFJLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxlQUFlLEVBQUUsU0FBUyxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQzFGLHdCQUF3QixPQUFPO0FBQy9CLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFlBQVksR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDN0IsU0FBUztBQUNUO0FBQ0EsUUFBUSxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7QUFDeEUsUUFBUSxJQUFJLGVBQWUsRUFBRTtBQUM3QixZQUFZLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsRUFBRSwwQkFBMEIsQ0FBQyxHQUFHLEVBQUUsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDeEgsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDbEQsQ0FBQztBQUNELFNBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLFVBQVUsR0FBRyxJQUFJLEVBQUU7QUFDOUQsSUFpQlM7QUFDVDtBQUNBLFFBQVEsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzQixLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0EsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO0FBQ3ZCLElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQztBQUMzQixNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDakIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQ25CLE1BQU0sa0JBQWtCLEdBQUcsRUFBRSxDQUFDO0FBQzlCLElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDO0FBQzdCLElBQUksYUFBYSxHQUFHLENBQUMsQ0FBQztBQUN0QixNQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztBQUMvQixJQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQztBQUM5QixJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUM7QUFDdkIsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzFDLElBQUksbUJBQW1CLEdBQUcsSUFBSSxDQUFDO0FBQy9CLElBQUksd0JBQXdCLEdBQUcsSUFBSSxDQUFDO0FBQ3BDLE1BQU0sZUFBZSxHQUFHLEdBQUcsQ0FBQztBQUM1QixTQUFTLFFBQVEsQ0FBQyxFQUFFLEVBQUU7QUFDdEIsSUFBSSxNQUFNLENBQUMsR0FBRyxtQkFBbUIsSUFBSSxlQUFlLENBQUM7QUFDckQsSUFBSSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0RCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtBQUNqQztBQUNBLElBQUksSUFBSSxLQUFLLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUMvQixJQUFJLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7QUFDM0IsSUFBSSxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0IsSUFBSSxPQUFPLEtBQUssR0FBRyxHQUFHLEVBQUU7QUFDeEIsUUFBUSxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0FBQzNDLFFBQVEsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ2pELFFBQVEsV0FBVyxHQUFHLEtBQUssSUFBSSxLQUFLLEdBQUcsTUFBTSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDcEUsS0FBSztBQUNMLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNELFNBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNO0FBQ3RCLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxVQUFVLElBQUksR0FBRyxDQUFDLFlBQVksR0FBRyxVQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUMxRixRQUFRLEdBQUcsS0FBSyx3QkFBd0IsRUFBRTtBQUMxQyxRQUFRLE1BQU0sR0FBRyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVDLFFBQVEsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDdEIsWUFBWSxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdEMsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUIsU0FBUztBQUNULFFBQVEsVUFBVSxFQUFFLENBQUM7QUFDckIsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLFVBQVUsR0FBRztBQUN0QixJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxjQUFjLEVBQUU7QUFDeEMsUUFBUSxjQUFjLEdBQUcsSUFBSSxDQUFDO0FBQzlCLFFBQVEsbUJBQW1CLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM5RCxLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsYUFBYSxDQUFDLEdBQUcsRUFBRTtBQUM1QixJQUFJLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakMsSUFBSSxJQUFJLENBQUMsR0FBRyxVQUFVLEVBQUU7QUFDeEIsUUFBUSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMzQixLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsT0FBTyxDQUFDLEVBQUUsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRTtBQUN2RCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDdEIsUUFBUSxJQUFJLENBQUMsV0FBVztBQUN4QixZQUFZLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLFlBQVksR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFO0FBQzVFLFlBQVksWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNsQyxTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUNqQyxLQUFLO0FBQ0wsSUFBSSxVQUFVLEVBQUUsQ0FBQztBQUNqQixDQUFDO0FBQ0QsU0FBUyxlQUFlLENBQUMsRUFBRSxFQUFFO0FBQzdCLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUN0RSxDQUFDO0FBQ0QsU0FBUyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7QUFDOUIsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLGtCQUFrQixFQUFFLG1CQUFtQixFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pFLENBQUM7QUFDRCxTQUFTLGdCQUFnQixDQUFDLElBQUksRUFBRSxTQUFTLEdBQUcsSUFBSSxFQUFFO0FBQ2xELElBQUksSUFBSSxrQkFBa0IsQ0FBQyxNQUFNLEVBQUU7QUFDbkMsUUFBUSx3QkFBd0IsR0FBRyxTQUFTLENBQUM7QUFDN0MsUUFBUSxpQkFBaUIsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO0FBQzdELFFBQVEsa0JBQWtCLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUl0QyxRQUFRLEtBQUssYUFBYSxHQUFHLENBQUMsRUFBRSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSxFQUFFO0FBSzNGLFlBQVksaUJBQWlCLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztBQUMvQyxTQUFTO0FBQ1QsUUFBUSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7QUFDakMsUUFBUSxhQUFhLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLFFBQVEsd0JBQXdCLEdBQUcsSUFBSSxDQUFDO0FBQ3hDO0FBQ0EsUUFBUSxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDMUMsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLGlCQUFpQixDQUFDLElBQUksRUFBRTtBQUNqQyxJQUFJLElBQUksbUJBQW1CLENBQUMsTUFBTSxFQUFFO0FBQ3BDLFFBQVEsTUFBTSxPQUFPLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztBQUMxRCxRQUFRLG1CQUFtQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDdkM7QUFDQSxRQUFRLElBQUksa0JBQWtCLEVBQUU7QUFDaEMsWUFBWSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQztBQUNoRCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsa0JBQWtCLEdBQUcsT0FBTyxDQUFDO0FBSXJDLFFBQVEsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0QsUUFBUSxLQUFLLGNBQWMsR0FBRyxDQUFDLEVBQUUsY0FBYyxHQUFHLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxjQUFjLEVBQUUsRUFBRTtBQUsvRixZQUFZLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUM7QUFDakQsU0FBUztBQUNULFFBQVEsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO0FBQ2xDLFFBQVEsY0FBYyxHQUFHLENBQUMsQ0FBQztBQUMzQixLQUFLO0FBQ0wsQ0FBQztBQUNELE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksSUFBSSxHQUFHLFFBQVEsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO0FBQzFELFNBQVMsU0FBUyxDQUFDLElBQUksRUFBRTtBQUN6QixJQUFJLGNBQWMsR0FBRyxLQUFLLENBQUM7QUFDM0IsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBSXRCLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM5QyxJQUFJLElBQUk7QUFDUixRQUFRLEtBQUssVUFBVSxHQUFHLENBQUMsRUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRTtBQUN0RSxZQUFZLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxQyxZQUFZLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssS0FBSyxFQUFFO0FBQzdDLGdCQUFnQixJQUFJLENBQUMsWUFBb0IsS0FBSyxZQUFZLEtBQUsscUJBQXFCLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBRWhGO0FBQ2pCLGdCQUFnQixxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsaUJBQWlCLENBQUM7QUFDckUsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsWUFBWTtBQUNaLFFBQVEsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUN2QixRQUFRLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLFFBQVEsaUJBQWlCLENBQUssQ0FBQyxDQUFDO0FBQ2hDLFFBQVEsVUFBVSxHQUFHLEtBQUssQ0FBQztBQUMzQixRQUFRLG1CQUFtQixHQUFHLElBQUksQ0FBQztBQUNuQztBQUNBO0FBQ0EsUUFBUSxJQUFJLEtBQUssQ0FBQyxNQUFNO0FBQ3hCLFlBQVksa0JBQWtCLENBQUMsTUFBTTtBQUNyQyxZQUFZLG1CQUFtQixDQUFDLE1BQU0sRUFBRTtBQUN4QyxZQUFZLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM1QixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLHFCQUFxQixDQUFDLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDekMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUN2QixRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ25DLFFBQVEsSUFBSSxLQUFLLEdBQUcsZUFBZSxFQUFFO0FBQ3JDLFlBQVksTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQztBQUM5QyxZQUFZLE1BQU0sYUFBYSxHQUFHLFFBQVEsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDOUUsWUFBWSxJQUFJLENBQUMsQ0FBQyxrQ0FBa0MsRUFBRSxhQUFhLEdBQUcsQ0FBQyxlQUFlLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNqSCxnQkFBZ0IsQ0FBQywrREFBK0QsQ0FBQztBQUNqRixnQkFBZ0IsQ0FBQyxzRUFBc0UsQ0FBQztBQUN4RixnQkFBZ0IsQ0FBQyw2REFBNkQsQ0FBQztBQUMvRSxnQkFBZ0IsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUM7QUFDNUMsWUFBWSxPQUFPLElBQUksQ0FBQztBQUN4QixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3BDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQWdJRDtBQUNBLElBQUksUUFBUSxDQUFDO0FBQ2IsU0FBUyxlQUFlLENBQUMsSUFBSSxFQUFFO0FBQy9CLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztBQUNwQixDQUFDO0FBQ0QsU0FBUyxlQUFlLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRTtBQUN2QztBQUNBLElBQUksSUFBSSxDQUFDLFFBQVE7QUFDakIsUUFBUSxPQUFPO0FBQ2YsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsaUJBQWlCLEdBQUcsRUFBRSxPQUFPLEVBQUU7QUFDM0QsUUFBUSxRQUFRO0FBQ2hCLFFBQVEsSUFBSTtBQUNaLFFBQVEsT0FBTyxFQUFFLFNBQVM7QUFDMUIsUUFBUSxNQUFNO0FBQ2QsS0FBSyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBQ0QsU0FBUyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUU7QUFDakMsSUFBSSxJQUFJLENBQUMsUUFBUTtBQUNqQixRQUFRLE9BQU87QUFDZixJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxvQkFBb0IsR0FBRyxDQUFDLENBQUM7QUFDeEQsQ0FBQztBQUNELE1BQU0sc0JBQXNCLGlCQUFpQiwyQkFBMkIsQ0FBQyxpQkFBaUIsdUJBQXVCLENBQUM7QUFDbEgsTUFBTSx3QkFBd0IsaUJBQWlCLDJCQUEyQixDQUFDLG1CQUFtQix5QkFBeUIsQ0FBQztBQUN4SCxNQUFNLHdCQUF3QixpQkFBaUIsMkJBQTJCLENBQUMsbUJBQW1CLHlCQUF5QixDQUFDO0FBQ3hILFNBQVMsMkJBQTJCLENBQUMsSUFBSSxFQUFFO0FBQzNDLElBQUksT0FBTyxDQUFDLFNBQVMsS0FBSztBQUMxQixRQUFRLElBQUksQ0FBQyxRQUFRO0FBQ3JCLFlBQVksT0FBTztBQUNuQixRQUFRLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDckksS0FBSyxDQUFDO0FBQ04sQ0FBQztBQVVELFNBQVMscUJBQXFCLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7QUFDekQsSUFBSSxJQUFJLENBQUMsUUFBUTtBQUNqQixRQUFRLE9BQU87QUFDZixJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLHVCQUF1QixTQUFTLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzdHLENBQUM7QUFrVEQsTUFBTSxrQkFBa0IsR0FBRztBQUMzQixJQUFJLElBQUksRUFBRSxDQUFDO0FBQ1gsQ0FBQyxDQUFDO0FBQ0YsU0FBUyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFO0FBQzlDLElBQUksTUFBTSxjQUFjLEdBQUcsUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0FBQ2xFLElBQUksSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsRUFBRTtBQUNqRCxRQUFRLE9BQU8sY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25DLEtBQUs7QUFDTCxJQUFJLE9BQU8sa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUNELFNBQVMsZUFBZSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFFO0FBQ2xFO0FBQ0EsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO0FBQ3BFLFFBQVEsT0FBTyxLQUFLLENBQUM7QUFDckIsS0FBSztBQUNMLElBQUksTUFBTSxPQUFPLEdBQUcscUJBQXFCLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqRSxJQUFJLE1BQU0sR0FBRyxHQUFHLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNyRCxJQUFJLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUM7QUFDcEMsVUFBVSxPQUFPLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUM7QUFDNUMsVUFBVSxPQUFPLENBQUM7QUFDbEIsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLEVBQUU7QUFDcEIsUUFBUSxPQUFPLEdBQUcsS0FBSyxLQUFLLENBQUM7QUFDN0IsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLE9BQU8sR0FBRyxLQUFLLElBQUksSUFBSSxHQUFHLEtBQUssa0JBQWtCLENBQUM7QUFDMUQsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBLFNBQVMsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsR0FBRyxPQUFPLEVBQUU7QUFDM0MsSUFBSSxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUM7QUFzQnBELElBQUksSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDO0FBQ3ZCLElBQUksTUFBTSxlQUFlLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN4RDtBQUNBLElBQUksTUFBTSxRQUFRLEdBQUcsZUFBZSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkQsSUFBSSxJQUFJLFFBQVEsSUFBSSxRQUFRLElBQUksS0FBSyxFQUFFO0FBQ3ZDLFFBQVEsTUFBTSxZQUFZLEdBQUcsQ0FBQyxFQUFFLFFBQVEsS0FBSyxZQUFZLEdBQUcsT0FBTyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMxRixRQUFRLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLFNBQVMsQ0FBQztBQUNsRSxRQUFRLElBQUksSUFBSSxFQUFFO0FBQ2xCLFlBQVksSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzlDLFNBQVM7QUFDVCxhQUFhLElBQUksTUFBTSxFQUFFO0FBQ3pCLFlBQVksSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDekMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLElBQStDLHFCQUFxQixFQUFFO0FBQzFFLFFBQVEscUJBQXFCLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNyRCxLQUFLO0FBV0wsSUFBSSxJQUFJLFdBQVcsQ0FBQztBQUNwQixJQUFJLElBQUksT0FBTyxHQUFHLEtBQUssRUFBRSxXQUFXLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzVEO0FBQ0EsUUFBUSxLQUFLLEVBQUUsV0FBVyxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQzdEO0FBQ0E7QUFDQSxJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksZUFBZSxFQUFFO0FBQ3JDLFFBQVEsT0FBTyxHQUFHLEtBQUssRUFBRSxXQUFXLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDeEUsS0FBSztBQUNMLElBQUksSUFBSSxPQUFPLEVBQUU7QUFDakIsUUFBUSwwQkFBMEIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUMsZ0NBQWdDLElBQUksQ0FBQyxDQUFDO0FBQzdGLEtBQUs7QUFDTCxJQUFJLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3BELElBQUksSUFBSSxXQUFXLEVBQUU7QUFDckIsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtBQUMvQixZQUFZLFFBQVEsQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ2xDLFNBQVM7QUFDVCxhQUFhLElBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBRTtBQUNoRCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsUUFBUSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDN0MsUUFBUSwwQkFBMEIsQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsZ0NBQWdDLElBQUksQ0FBQyxDQUFDO0FBQ2pHLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDbEUsSUFBSSxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDO0FBQ3hDLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQyxJQUFJLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtBQUM5QixRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUs7QUFDTCxJQUFJLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDM0IsSUFBSSxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDeEI7QUFDQSxJQUFJLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztBQUMzQixJQUFJLElBQUksbUJBQW1CLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDbEQsUUFBUSxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQUcsS0FBSztBQUNyQyxZQUFZLE1BQU0sb0JBQW9CLEdBQUcscUJBQXFCLENBQUMsR0FBRyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RixZQUFZLElBQUksb0JBQW9CLEVBQUU7QUFDdEMsZ0JBQWdCLFVBQVUsR0FBRyxJQUFJLENBQUM7QUFDbEMsZ0JBQWdCLE1BQU0sQ0FBQyxVQUFVLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztBQUN6RCxhQUFhO0FBQ2IsU0FBUyxDQUFDO0FBQ1YsUUFBUSxJQUFJLENBQUMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ2xELFlBQVksVUFBVSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDbkQsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQzFCLFlBQVksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN0QyxTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDekIsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUM3QyxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUM3QixRQUFRLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzlCLFFBQVEsT0FBTyxJQUFJLENBQUM7QUFDcEIsS0FBSztBQUNMLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDdEIsUUFBUSxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNyRCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsTUFBTSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNoQyxLQUFLO0FBQ0wsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNoQyxJQUFJLE9BQU8sVUFBVSxDQUFDO0FBQ3RCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGNBQWMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO0FBQ3RDLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNoQyxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTCxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDNUMsSUFBSSxRQUFRLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEUsUUFBUSxNQUFNLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QyxRQUFRLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDOUIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdCQUF3QixHQUFHLElBQUksQ0FBQztBQUNwQyxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJCQUEyQixDQUFDLFFBQVEsRUFBRTtBQUMvQyxJQUFJLE1BQU0sSUFBSSxHQUFHLHdCQUF3QixDQUFDO0FBQzFDLElBQUksd0JBQXdCLEdBQUcsUUFBUSxDQUFDO0FBQ3hDLElBQUksY0FBYyxHQUFHLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQztBQUNuRSxJQUFJLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBVyxDQUFDLEVBQUUsRUFBRTtBQUN6QixJQUFJLGNBQWMsR0FBRyxFQUFFLENBQUM7QUFDeEIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFVBQVUsR0FBRztBQUN0QixJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDMUIsQ0FBQztBQU1EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxPQUFPLENBQUMsRUFBRSxFQUFFLEdBQUcsR0FBRyx3QkFBd0IsRUFBRSxlQUFlO0FBQ3BFLEVBQUU7QUFDRixJQUFJLElBQUksQ0FBQyxHQUFHO0FBQ1osUUFBUSxPQUFPLEVBQUUsQ0FBQztBQUNsQjtBQUNBLElBQUksSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ2YsUUFBUSxPQUFPLEVBQUUsQ0FBQztBQUNsQixLQUFLO0FBQ0wsSUFBSSxNQUFNLG1CQUFtQixHQUFHLENBQUMsR0FBRyxJQUFJLEtBQUs7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxtQkFBbUIsQ0FBQyxFQUFFLEVBQUU7QUFDcEMsWUFBWSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLFNBQVM7QUFDVCxRQUFRLE1BQU0sWUFBWSxHQUFHLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlELFFBQVEsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDaEMsUUFBUSwyQkFBMkIsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNsRCxRQUFRLElBQUksbUJBQW1CLENBQUMsRUFBRSxFQUFFO0FBQ3BDLFlBQVksZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEMsU0FBUztBQUNULFFBQVEsSUFBK0MscUJBQXFCLEVBQUU7QUFDOUUsWUFBWSx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLLENBQUM7QUFDTjtBQUNBLElBQUksbUJBQW1CLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxJQUFJLG1CQUFtQixDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7QUFDbEM7QUFDQSxJQUFJLG1CQUFtQixDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7QUFDbEMsSUFBSSxPQUFPLG1CQUFtQixDQUFDO0FBQy9CLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUM7QUFDMUIsU0FBUyxpQkFBaUIsR0FBRztBQUM3QixJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDekIsQ0FBQztBQUNELFNBQVMsbUJBQW1CLENBQUMsUUFBUSxFQUFFO0FBQ3ZDLElBQUksTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ3JMLElBQUksSUFBSSxNQUFNLENBQUM7QUFDZixJQUFJLE1BQU0sSUFBSSxHQUFHLDJCQUEyQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBSXZELElBQUksSUFBSTtBQUNSLFFBQVEsSUFBSSxnQkFBZ0IsQ0FBQztBQUM3QixRQUFRLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLDJCQUEyQjtBQUMxRDtBQUNBO0FBQ0EsWUFBWSxNQUFNLFVBQVUsR0FBRyxTQUFTLElBQUksS0FBSyxDQUFDO0FBQ2xELFlBQVksTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEgsWUFBWSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7QUFDckMsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFlBQVksTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ3JDO0FBQ0EsWUFBWSxJQUFJLENBQUMsWUFBb0IsS0FBSyxZQUFZLEtBQUssS0FBSyxLQUFLLEtBQUssRUFBRSxDQUUvRDtBQUNiLFlBQVksTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUM7QUFDckQsa0JBQWtCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxZQUFvQixLQUFLLFlBQVk7QUFDdEUsc0JBQXNCO0FBQ3RCLHdCQUF3QixJQUFJLEtBQUssR0FBRztBQUNwQyw0QkFBNEIsaUJBQWlCLEVBQUUsQ0FBQztBQUNoRCw0QkFBNEIsT0FBTyxLQUFLLENBQUM7QUFDekMseUJBQXlCO0FBQ3pCLHdCQUF3QixLQUFLO0FBQzdCLHdCQUF3QixJQUFJO0FBQzVCLHFCQUFxQjtBQUNyQixzQkFBc0IsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDO0FBQzdDLGtCQUFrQixNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksa0NBQWtDLENBQUMsQ0FBQztBQUN4RSxZQUFZLGdCQUFnQixHQUFHLFNBQVMsQ0FBQyxLQUFLO0FBQzlDLGtCQUFrQixLQUFLO0FBQ3ZCLGtCQUFrQix3QkFBd0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUM7QUFDMUIsUUFBUSxJQUFJLE9BQU8sR0FBRyxTQUFTLENBQUM7QUFDaEMsUUFBUSxJQUFJLENBQUMsWUFBb0IsS0FBSyxZQUFZO0FBQ2xELFlBQVksTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDO0FBQ2hDLFlBQVksTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLDBCQUEwQixDQUdwRDtBQUNULFFBQVEsSUFBSSxnQkFBZ0IsSUFBSSxZQUFZLEtBQUssS0FBSyxFQUFFO0FBQ3hELFlBQVksTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3ZELFlBQVksTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUN2QyxZQUFZLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUM3QixnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQztBQUNqQyxvQkFBb0IsU0FBUyxHQUFHLENBQUMsa0JBQWtCO0FBQ25ELG9CQUFvQixJQUFJLFlBQVksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLGdCQUFnQixFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2hHLHFCQUFxQjtBQUNyQixvQkFBb0IsSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUM5RCxpQkFBaUI7QUFDakIscUJBQXFCLElBQUksQ0FBQyxZQUFvQixLQUFLLFlBQVksS0FBSyxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRSxDQWdDOUY7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLElBQUksS0FBSztBQUNqQixZQUFZLGVBQWUsQ0FBQyw0QkFBNEIsbUNBQW1DLFFBQVEsQ0FBQztBQUNwRyxZQUFZLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMvQixhQUFhLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMvQixnQkFBZ0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUM7QUFDdEQ7QUFDQSxRQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRTtBQUN4QixZQUFZLElBQUksQ0FBQyxZQUFvQixLQUFLLFlBQVksS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUdwRTtBQUNiLFlBQVksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQzlFLFNBQVM7QUFDVDtBQUNBLFFBQVEsSUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFO0FBQzlCLFlBQVksSUFBSSxDQUFDLFlBQW9CLEtBQUssWUFBWSxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLENBR3BFO0FBQ2IsWUFBWSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFDL0MsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFlBQW9CLEtBQUssWUFBWSxLQUFLLE9BQU8sRUFBRSxDQUV2RDtBQUNULGFBQWE7QUFDYixZQUFZLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDMUIsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxFQUFFO0FBQ2hCLFFBQVEsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDOUIsUUFBUSxXQUFXLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxDQUFDLHVCQUF1QixDQUFDO0FBQzVELFFBQVEsTUFBTSxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN4QyxLQUFLO0FBQ0wsSUFBSSwyQkFBMkIsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QyxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQUssS0FBSztBQUNoQyxJQUFJLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7QUFDdkMsSUFBSSxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO0FBQ2xELElBQUksTUFBTSxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDcEQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO0FBQ3BCLFFBQVEsT0FBTyxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNsQyxLQUFLO0FBQ0wsSUFBSSxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2pELElBQUksTUFBTSxZQUFZLEdBQUcsZUFBZSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbkYsSUFBSSxNQUFNLE9BQU8sR0FBRyxDQUFDLFdBQVcsS0FBSztBQUNyQyxRQUFRLFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDekMsUUFBUSxJQUFJLGVBQWUsRUFBRTtBQUM3QixZQUFZLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ25DLGdCQUFnQixlQUFlLENBQUMsWUFBWSxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQzVELGFBQWE7QUFDYixpQkFBaUIsSUFBSSxXQUFXLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBRTtBQUNoRCxnQkFBZ0IsS0FBSyxDQUFDLGVBQWUsR0FBRyxDQUFDLEdBQUcsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzFFLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUNGLFNBQVMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO0FBQ3BDLElBQUksSUFBSSxVQUFVLENBQUM7QUFDbkIsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM5QyxRQUFRLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxRQUFRLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzVCO0FBQ0EsWUFBWSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFO0FBQ3ZFLGdCQUFnQixJQUFJLFVBQVUsRUFBRTtBQUNoQztBQUNBLG9CQUFvQixPQUFPO0FBQzNCLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDdkMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksT0FBTyxVQUFVLENBQUM7QUFDdEIsQ0FBQztBQUNELE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxLQUFLLEtBQUs7QUFDNUMsSUFBSSxJQUFJLEdBQUcsQ0FBQztBQUNaLElBQUksS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDN0IsUUFBUSxJQUFJLEdBQUcsS0FBSyxPQUFPLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDN0QsWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xELFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUMsQ0FBQztBQUNGLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxLQUFLO0FBQy9DLElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ25CLElBQUksS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDN0IsUUFBUSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtBQUMvRCxZQUFZLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbEMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFLLEtBQUs7QUFDakMsSUFBSSxRQUFRLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMvQixRQUFRLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMzQixRQUFRLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUztBQUNoQyxNQUFNO0FBQ04sQ0FBQyxDQUFDO0FBQ0YsU0FBUyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRTtBQUNoRSxJQUFJLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLEdBQUcsU0FBUyxDQUFDO0FBQzlFLElBQUksTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsR0FBRyxTQUFTLENBQUM7QUFDOUUsSUFBSSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsWUFBWSxDQUFDO0FBT3pDO0FBQ0EsSUFBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLFVBQVUsRUFBRTtBQUNoRCxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxJQUFJLElBQUksU0FBUyxJQUFJLFNBQVMsSUFBSSxDQUFDLEVBQUU7QUFDckMsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0EsWUFBWSxPQUFPLElBQUksQ0FBQztBQUN4QixTQUFTO0FBQ1QsUUFBUSxJQUFJLFNBQVMsR0FBRyxFQUFFLG1CQUFtQjtBQUM3QyxZQUFZLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDNUIsZ0JBQWdCLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNuQyxhQUFhO0FBQ2I7QUFDQSxZQUFZLE9BQU8sZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEUsU0FBUztBQUNULGFBQWEsSUFBSSxTQUFTLEdBQUcsQ0FBQyxjQUFjO0FBQzVDLFlBQVksTUFBTSxZQUFZLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQztBQUN4RCxZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzFELGdCQUFnQixNQUFNLEdBQUcsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUM7QUFDckQsb0JBQW9CLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNqRCxvQkFBb0IsT0FBTyxJQUFJLENBQUM7QUFDaEMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxJQUFJLFlBQVksSUFBSSxZQUFZLEVBQUU7QUFDMUMsWUFBWSxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRTtBQUN4RCxnQkFBZ0IsT0FBTyxJQUFJLENBQUM7QUFDNUIsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxLQUFLLFNBQVMsRUFBRTtBQUNyQyxZQUFZLE9BQU8sS0FBSyxDQUFDO0FBQ3pCLFNBQVM7QUFDVCxRQUFRLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDeEIsWUFBWSxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDL0IsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFNBQVMsRUFBRTtBQUN4QixZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxRQUFRLE9BQU8sZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDNUQsS0FBSztBQUNMLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNELFNBQVMsZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFO0FBQzdELElBQUksTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM1QyxJQUFJLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtBQUMzRCxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlDLFFBQVEsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLFFBQVEsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQztBQUM3QyxZQUFZLENBQUMsY0FBYyxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNoRCxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBQ0QsU0FBUyxlQUFlLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRTtBQUM5QyxFQUFFO0FBQ0YsSUFBSSxPQUFPLE1BQU0sSUFBSSxNQUFNLENBQUMsT0FBTyxLQUFLLEtBQUssRUFBRTtBQUMvQyxRQUFRLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUN2QyxRQUFRLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQy9CLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSxNQUFNLFVBQVUsR0FBRyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsWUFBWSxDQUFDO0FBcVovQyxTQUFTLHVCQUF1QixDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUU7QUFDL0MsSUFBSSxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsYUFBYSxFQUFFO0FBQzVDLFFBQVEsSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDekIsWUFBWSxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ3pDLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN0QyxTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdCLEtBQUs7QUFDTCxDQUFDO0FBWUQ7QUFDQSxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQzdCLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUlyQjtBQUNMLFNBQVM7QUFDVCxRQUFRLElBQUksUUFBUSxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsTUFBTSxjQUFjLEdBQUcsZUFBZSxDQUFDLE1BQU0sSUFBSSxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUN6RixRQUFRLElBQUksY0FBYyxLQUFLLFFBQVEsRUFBRTtBQUN6QyxZQUFZLFFBQVEsR0FBRyxlQUFlLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDaEYsU0FBUztBQUNUO0FBQ0EsUUFBUSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzlCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxNQUFNLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxxQkFBcUIsR0FBRyxLQUFLLEVBQUU7QUFDbEU7QUFDQTtBQUNBLElBQUksTUFBTSxRQUFRLEdBQUcsZUFBZSxJQUFJLHdCQUF3QixDQUFDO0FBQ2pFLElBQUksSUFBSSxRQUFRLEVBQUU7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsUUFBUSxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsTUFBTSxJQUFJLElBQUk7QUFDaEQsY0FBYyxRQUFRLENBQUMsS0FBSyxDQUFDLFVBQVUsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRO0FBQzdFLGNBQWMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7QUFDdkMsUUFBUSxJQUFJLFFBQVEsSUFBSSxHQUFHLElBQUksUUFBUSxFQUFFO0FBQ3pDO0FBQ0EsWUFBWSxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqQyxTQUFTO0FBQ1QsYUFBYSxJQUFJLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZDLFlBQVksT0FBTyxxQkFBcUIsSUFBSSxVQUFVLENBQUMsWUFBWSxDQUFDO0FBQ3BFLGtCQUFrQixZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDbkQsa0JBQWtCLFlBQVksQ0FBQztBQUMvQixTQUFTO0FBQ1QsYUFBYSxDQUVKO0FBQ1QsS0FHSztBQUNMLENBQUM7QUFNRDtBQUNBLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO0FBQ2pDO0FBQ0EsU0FBUyxLQUFLLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUU7QUFNcEMsSUFBSSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLFNBQVMsRUFBRSxRQUFRLEdBQUcsZUFBZSxFQUFFO0FBZXJILElBQUksSUFBSSxNQUFNLENBQUM7QUFDZixJQUFJLElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQztBQUM3QixJQUFJLElBQUksYUFBYSxHQUFHLEtBQUssQ0FBQztBQUM5QixJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsTUFBTSxHQUFHLE1BQU0sTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNwQyxRQUFRLFlBQVksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUN6QyxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUNqQyxRQUFRLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQztBQUM5QixRQUFRLElBQUksR0FBRyxJQUFJLENBQUM7QUFDcEIsS0FBSztBQUNMLFNBQVMsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDOUIsUUFBUSxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLFFBQVEsWUFBWSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDL0MsUUFBUSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSTtBQUN2QyxZQUFZLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQzFCLGdCQUFnQixPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDL0IsYUFBYTtBQUNiLGlCQUFpQixJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNwQyxnQkFBZ0IsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbkMsYUFBYTtBQUNiLGlCQUFpQixJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNwQyxnQkFBZ0IsT0FBTyxxQkFBcUIsQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsb0JBQW9CLENBQUM7QUFDaEYsYUFBYTtBQUNiLGlCQUFpQixDQUVKO0FBQ2IsU0FBUyxDQUFDLENBQUM7QUFDWCxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUNqQyxRQUFRLElBQUksRUFBRSxFQUFFO0FBQ2hCO0FBQ0EsWUFBWSxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUMsb0JBQW9CLENBQUM7QUFDekYsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFlBQVksTUFBTSxHQUFHLE1BQU07QUFDM0IsZ0JBQWdCLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxXQUFXLEVBQUU7QUFDdEQsb0JBQW9CLE9BQU87QUFDM0IsaUJBQWlCO0FBQ2pCLGdCQUFnQixJQUFJLE9BQU8sRUFBRTtBQUM3QixvQkFBb0IsT0FBTyxFQUFFLENBQUM7QUFDOUIsaUJBQWlCO0FBQ2pCLGdCQUFnQixPQUFPLDBCQUEwQixDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0FBQzVHLGFBQWEsQ0FBQztBQUNkLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsTUFBTSxHQUFHLElBQUksQ0FBQztBQUV0QixLQUFLO0FBQ0wsSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDcEIsUUFBUSxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDbEMsUUFBUSxNQUFNLEdBQUcsTUFBTSxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztBQUM5QyxLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sQ0FBQztBQUNoQixJQUFJLElBQUksWUFBWSxHQUFHLENBQUMsRUFBRSxLQUFLO0FBQy9CLFFBQVEsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLE1BQU07QUFDaEQsWUFBWSxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMscUJBQXFCLENBQUM7QUFDdkUsU0FBUyxDQUFDO0FBQ1YsS0FBSyxDQUFDO0FBQ04sSUFBSSxJQUFJLFFBQVEsR0FBRyxhQUFhLEdBQUcsRUFBRSxHQUFHLHFCQUFxQixDQUFDO0FBQzlELElBQUksTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUN0QixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzVCLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxJQUFJLEVBQUUsRUFBRTtBQUNoQjtBQUNBLFlBQVksTUFBTSxRQUFRLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDdEMsWUFBWSxJQUFJLElBQUk7QUFDcEIsZ0JBQWdCLFlBQVk7QUFDNUIsaUJBQWlCLGFBQWE7QUFDOUIsc0JBQXNCLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekUsc0JBQXNCLFVBQVUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDckQsaUJBQWlCLEtBQUssR0FBRyxFQUFFO0FBQzNCO0FBQ0EsZ0JBQWdCLElBQUksT0FBTyxFQUFFO0FBQzdCLG9CQUFvQixPQUFPLEVBQUUsQ0FBQztBQUM5QixpQkFBaUI7QUFDakIsZ0JBQWdCLDBCQUEwQixDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyx1QkFBdUI7QUFDakYsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQSxvQkFBb0IsUUFBUSxLQUFLLHFCQUFxQixHQUFHLFNBQVMsR0FBRyxRQUFRO0FBQzdFLG9CQUFvQixZQUFZO0FBQ2hDLGlCQUFpQixDQUFDLENBQUM7QUFDbkIsZ0JBQWdCLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDcEMsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2I7QUFDQSxZQUFZLE1BQU0sRUFBRSxDQUFDO0FBQ3JCLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTjtBQUNBO0FBQ0EsSUFBSSxHQUFHLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDNUIsSUFBSSxJQUFJLFNBQVMsQ0FBQztBQUNsQixJQUFJLElBQUksS0FBSyxLQUFLLE1BQU0sRUFBRTtBQUMxQixRQUFRLFNBQVMsR0FBRyxHQUFHLENBQUM7QUFDeEIsS0FBSztBQUNMLFNBQVMsSUFBSSxLQUFLLEtBQUssTUFBTSxFQUFFO0FBQy9CLFFBQVEsU0FBUyxHQUFHLE1BQU0scUJBQXFCLENBQUMsR0FBRyxFQUFFLFFBQVEsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDcEYsS0FBSztBQUNMLFNBQVM7QUFDVDtBQUNBLFFBQVEsU0FBUyxHQUFHLE1BQU07QUFDMUIsWUFBWSxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUU7QUFDakQsZ0JBQWdCLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQyxhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7QUFDdEIsYUFBYTtBQUNiLFNBQVMsQ0FBQztBQUNWLEtBQUs7QUFDTCxJQUFJLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDbEMsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQixRQUFRLE9BQU87QUFDZixRQUFRLFNBQVM7QUFDakIsUUFBUSxTQUFTO0FBQ2pCLEtBQUssQ0FBQyxDQUFDO0FBQ1AsSUFBSSx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDaEQ7QUFDQSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQ1osUUFBUSxJQUFJLFNBQVMsRUFBRTtBQUN2QixZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ2xCLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxRQUFRLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDaEMsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLElBQUksS0FBSyxLQUFLLE1BQU0sRUFBRTtBQUMvQixRQUFRLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3JFLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxNQUFNLEVBQUUsQ0FBQztBQUNqQixLQUFLO0FBQ0wsSUFBSSxPQUFPLE1BQU07QUFDakIsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckIsUUFBUSxJQUFJLFFBQVEsRUFBRTtBQUN0QixZQUFZLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzdDLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0Q7QUFDQSxTQUFTLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUMvQyxJQUFJLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDbEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDO0FBQ25DLFVBQVUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFDOUIsY0FBYyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDO0FBQ2xELGNBQWMsTUFBTSxVQUFVLENBQUMsTUFBTSxDQUFDO0FBQ3RDLFVBQVUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDOUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUNYLElBQUksSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDM0IsUUFBUSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQ25CLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxFQUFFLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztBQUMzQixRQUFRLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDeEIsS0FBSztBQUNMLElBQUksT0FBTyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9ELENBQUM7QUFDRCxTQUFTLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUU7QUFDckMsSUFBSSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLElBQUksT0FBTyxNQUFNO0FBQ2pCLFFBQVEsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ3RCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3pELFlBQVksR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRSxFQUFFO0FBQzNDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDeEIsUUFBUSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztBQUN2QixRQUFRLEtBQUssQ0FBQyxVQUFVLFlBQVksRUFBRTtBQUN0QyxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEIsSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN0QixRQUFRLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BDLEtBQUs7QUFDTCxTQUFTLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0MsWUFBWSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDM0MsUUFBUSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLO0FBQzdCLFlBQVksUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM5QixTQUFTLENBQUMsQ0FBQztBQUNYLEtBQUs7QUFDTCxTQUFTLElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ25DLFFBQVEsS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDakMsWUFBWSxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBOFREO0FBQ0EsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBd0lyRDtBQUNBLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBOE54RCxTQUFTLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO0FBQ25DLElBQUkscUJBQXFCLENBQUMsSUFBSSxFQUFFLEdBQUcsa0JBQWtCLE1BQU0sQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFDRCxTQUFTLGFBQWEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO0FBQ3JDLElBQUkscUJBQXFCLENBQUMsSUFBSSxFQUFFLElBQUksb0JBQW9CLE1BQU0sQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFDRCxTQUFTLHFCQUFxQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxHQUFHLGVBQWUsRUFBRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxJQUFJLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLO0FBQ2xDLFNBQVMsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNO0FBQzVCO0FBQ0EsWUFBWSxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDakMsWUFBWSxPQUFPLE9BQU8sRUFBRTtBQUM1QixnQkFBZ0IsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFO0FBQzNDLG9CQUFvQixPQUFPO0FBQzNCLGlCQUFpQjtBQUNqQixnQkFBZ0IsT0FBTyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDekMsYUFBYTtBQUNiLFlBQVksSUFBSSxFQUFFLENBQUM7QUFDbkIsU0FBUyxDQUFDLENBQUM7QUFDWCxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUNwQyxRQUFRLE9BQU8sT0FBTyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDMUMsWUFBWSxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ25ELGdCQUFnQixxQkFBcUIsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMxRSxhQUFhO0FBQ2IsWUFBWSxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUNyQyxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLHFCQUFxQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtBQUNsRTtBQUNBO0FBQ0EsSUFBSSxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxlQUFlLENBQUM7QUFDL0UsSUFBSSxXQUFXLENBQUMsTUFBTTtBQUN0QixRQUFRLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDOUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2YsQ0FBQztBQWNEO0FBQ0EsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEdBQUcsZUFBZSxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDM0UsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQixRQUFRLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsUUFBUSxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSztBQUN0QyxhQUFhLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksS0FBSztBQUN2QyxnQkFBZ0IsSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFO0FBQ3hDLG9CQUFvQixPQUFPO0FBQzNCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsRUFBRSxDQUFDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQyxnQkFBZ0IsTUFBTSxHQUFHLEdBQUcsMEJBQTBCLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDakYsZ0JBQWdCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pDLGdCQUFnQixhQUFhLEVBQUUsQ0FBQztBQUNoQyxnQkFBZ0IsT0FBTyxHQUFHLENBQUM7QUFDM0IsYUFBYSxDQUFDLENBQUM7QUFDZixRQUFRLElBQUksT0FBTyxFQUFFO0FBQ3JCLFlBQVksS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN2QyxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNwQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLFdBQVcsQ0FBQztBQUMzQixLQVNLO0FBQ0wsQ0FBQztBQUNELE1BQU0sVUFBVSxHQUFHLENBQUMsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sR0FBRyxlQUFlO0FBQ2pFO0FBQ0EsQ0FBQyxDQUFDLHFCQUFxQixJQUFJLFNBQVMsS0FBSyxJQUFJO0FBQzdDLElBQUksVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDeEMsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDLElBQUksb0JBQW9CLENBQUM7QUFDMUQsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLEdBQUcsZUFBZSxDQUFDO0FBQ2hELE1BQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxJQUFJLHFCQUFxQixDQUFDO0FBQzVELE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxHQUFHLGVBQWUsQ0FBQztBQUNoRCxNQUFNLGVBQWUsR0FBRyxVQUFVLENBQUMsS0FBSyxzQkFBc0IsQ0FBQztBQUMvRCxNQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztBQUNyRCxNQUFNLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxJQUFJLHVCQUF1QixDQUFDO0FBQ2hFLE1BQU0saUJBQWlCLEdBQUcsVUFBVSxDQUFDLEtBQUssd0JBQXdCLENBQUM7QUFDbkUsTUFBTSxlQUFlLEdBQUcsVUFBVSxDQUFDLEtBQUssc0JBQXNCLENBQUM7QUFDL0QsU0FBUyxlQUFlLENBQUMsSUFBSSxFQUFFLE1BQU0sR0FBRyxlQUFlLEVBQUU7QUFDekQsSUFBSSxVQUFVLENBQUMsSUFBSSx1QkFBdUIsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFhRCxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQztBQUM3QixTQUFTLFlBQVksQ0FBQyxRQUFRLEVBQUU7QUFDaEMsSUFBSSxNQUFNLE9BQU8sR0FBRyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNuRCxJQUFJLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDdEMsSUFBSSxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO0FBQzdCO0FBQ0EsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUM7QUFDOUI7QUFDQTtBQUNBLElBQUksSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFO0FBQzlCLFFBQVEsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLElBQUkscUJBQXFCLENBQUM7QUFDM0UsS0FBSztBQUNMLElBQUksTUFBTTtBQUNWO0FBQ0EsSUFBSSxJQUFJLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsYUFBYTtBQUM5SDtBQUNBLElBQUksT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLGVBQWUsRUFBRSxhQUFhLEVBQUUsY0FBYztBQUMzTTtBQUNBLElBQUksTUFBTSxFQUFFLFlBQVk7QUFDeEI7QUFDQSxJQUFJLFVBQVUsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDO0FBQ2hELElBQUksTUFBTSx3QkFBd0IsR0FBd0UsSUFBSSxDQUFDO0FBUy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJLGFBQWEsRUFBRTtBQUN2QixRQUFRLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztBQUN4RSxLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sRUFBRTtBQUNqQixRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFO0FBQ25DLFlBQVksTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9DLFlBQVksSUFBSSxVQUFVLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDM0M7QUFDQTtBQUNBLGdCQVFxQjtBQUNyQixvQkFBb0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDOUQsaUJBQWlCO0FBSWpCLGFBSWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxXQUFXLEVBQUU7QUFLckIsUUFBUSxNQUFNLElBQUksR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQU05RCxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FFcEI7QUFDVCxhQUFhO0FBQ2IsWUFBWSxRQUFRLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQWUzQyxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7QUFDN0IsSUFBSSxJQUFJLGVBQWUsRUFBRTtBQUN6QixRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksZUFBZSxFQUFFO0FBQzNDLFlBQVksTUFBTSxHQUFHLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdDLFlBQVksTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztBQUN2QyxrQkFBa0IsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDO0FBQ2xELGtCQUFrQixVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztBQUNyQyxzQkFBc0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztBQUMxRCxzQkFBc0IsSUFBSSxDQUFDO0FBSTNCLFlBQVksTUFBTSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7QUFDL0Qsa0JBQWtCLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUMxQyxrQkFJc0IsSUFBSSxDQUFDO0FBQzNCLFlBQVksTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQy9CLGdCQUFnQixHQUFHO0FBQ25CLGdCQUFnQixHQUFHO0FBQ25CLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsWUFBWSxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDNUMsZ0JBQWdCLFVBQVUsRUFBRSxJQUFJO0FBQ2hDLGdCQUFnQixZQUFZLEVBQUUsSUFBSTtBQUNsQyxnQkFBZ0IsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEtBQUs7QUFDbEMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDdkMsYUFBYSxDQUFDLENBQUM7QUFJZixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxZQUFZLEVBQUU7QUFDdEIsUUFBUSxLQUFLLE1BQU0sR0FBRyxJQUFJLFlBQVksRUFBRTtBQUN4QyxZQUFZLGFBQWEsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNuRSxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxjQUFjLEVBQUU7QUFDeEIsUUFBUSxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDO0FBQ25ELGNBQWMsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDN0MsY0FBYyxjQUFjLENBQUM7QUFDN0IsUUFBUSxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7QUFDakQsWUFBWSxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLFNBQVMsQ0FBQyxDQUFDO0FBQ1gsS0FBSztBQUNMLElBQUksSUFBSSxPQUFPLEVBQUU7QUFDakIsUUFBUSxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxHQUFHLGVBQWUsQ0FBQztBQUN2RCxLQUFLO0FBQ0wsSUFBSSxTQUFTLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUU7QUFDbkQsUUFBUSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUMzQixZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRSxTQUFTO0FBQ1QsYUFBYSxJQUFJLElBQUksRUFBRTtBQUN2QixZQUFZLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFDNUMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLHFCQUFxQixDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN0RCxJQUFJLHFCQUFxQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxJQUFJLHFCQUFxQixDQUFDLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUN4RCxJQUFJLHFCQUFxQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxJQUFJLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNsRCxJQUFJLHFCQUFxQixDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN0RCxJQUFJLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUMxRCxJQUFJLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUMxRCxJQUFJLHFCQUFxQixDQUFDLGlCQUFpQixFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQzlELElBQUkscUJBQXFCLENBQUMsZUFBZSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQzFELElBQUkscUJBQXFCLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2xELElBQUkscUJBQXFCLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDNUQsSUFBSSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN6QixRQUFRLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUMzQixZQUFZLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuRixZQUFZLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO0FBQ2xDLGdCQUFnQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN0RCxhQUFhLENBQUMsQ0FBQztBQUNmLFNBQVM7QUFDVCxhQUFhLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFO0FBQ3BDLFlBQVksUUFBUSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7QUFDekMsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSSxJQUFJLE1BQU0sSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLElBQUksRUFBRTtBQUM1QyxRQUFRLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ2pDLEtBQUs7QUFDTCxJQUFJLElBQUksWUFBWSxJQUFJLElBQUksRUFBRTtBQUM5QixRQUFRLFFBQVEsQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBQzdDLEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSSxVQUFVO0FBQ2xCLFFBQVEsUUFBUSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDekMsSUFBSSxJQUFJLFVBQVU7QUFDbEIsUUFBUSxRQUFRLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztBQUN6QyxDQUFDO0FBQ0QsU0FBUyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFLHdCQUF3QixHQUFHLElBQUksRUFBRTtBQUNoRixJQUFJLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFO0FBQ2hDLFFBQVEsYUFBYSxHQUFHLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2RCxLQUFLO0FBQ0wsSUFBSSxLQUFLLE1BQU0sR0FBRyxJQUFJLGFBQWEsRUFBRTtBQUNyQyxRQUFRLE1BQU0sR0FBRyxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QyxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzNCLFlBQVksSUFBSSxTQUFTLElBQUksR0FBRyxFQUFFO0FBQ2xDLGdCQUFnQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSx5Q0FBeUMsQ0FBQztBQUM5RyxhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCLGdCQUFnQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7QUFDbkQsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25DLFNBQVM7QUFJVCxLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0FBQ3hDLElBQUksMEJBQTBCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztBQUM1QyxVQUFVLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9DLFVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFDRCxTQUFTLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUU7QUFDbEQsSUFBSSxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztBQUNwQyxVQUFVLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUM7QUFDM0MsVUFBVSxNQUFNLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxJQUFJLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pDLFFBQVEsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDakMsWUFBWSxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLFNBR1M7QUFDVCxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUM5QixRQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQzVDLEtBQUs7QUFDTCxTQUFTLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzVCLFFBQVEsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDMUIsWUFBWSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxhQUFhLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyRSxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7QUFDbkQsa0JBQWtCLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUM5QyxrQkFBa0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNuQyxZQUFZLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQ3JDLGdCQUFnQixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM1QyxhQUdhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLENBRUo7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0JBQW9CLENBQUMsUUFBUSxFQUFFO0FBQ3hDLElBQUksTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztBQUMvQixJQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNyRCxJQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDakgsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLElBQUksSUFBSSxRQUFRLENBQUM7QUFDakIsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQixRQUFRLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFDMUIsS0FBSztBQUNMLFNBQVMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxjQUFjLEVBQUU7QUFDakUsUUFBUTtBQUNSLFlBQVksUUFBUSxHQUFHLElBQUksQ0FBQztBQUM1QixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFDdEIsUUFBUSxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQUU7QUFDakMsWUFBWSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxxQkFBcUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzlGLFNBQVM7QUFDVCxRQUFRLFlBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixDQUFDLENBQUM7QUFDNUQsS0FBSztBQUNMLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDOUIsSUFBSSxPQUFPLFFBQVEsQ0FBQztBQUNwQixDQUFDO0FBQ0QsU0FBUyxZQUFZLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxHQUFHLEtBQUssRUFBRTtBQUN6RCxJQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNyRCxJQUFJLElBQUksY0FBYyxFQUFFO0FBQ3hCLFFBQVEsWUFBWSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZELEtBQUs7QUFDTCxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNqRSxLQUFLO0FBQ0wsSUFBSSxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtBQUM1QixRQUFRLElBQUksT0FBTyxJQUFJLEdBQUcsS0FBSyxRQUFRLEVBQUUsQ0FJaEM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxNQUFNLEtBQUssR0FBRyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxNQUFNLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEYsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BFLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUNkLENBQUM7QUFDRCxNQUFNLHlCQUF5QixHQUFHO0FBQ2xDLElBQUksSUFBSSxFQUFFLFdBQVc7QUFDckIsSUFBSSxLQUFLLEVBQUUsa0JBQWtCO0FBQzdCLElBQUksS0FBSyxFQUFFLGtCQUFrQjtBQUM3QjtBQUNBLElBQUksT0FBTyxFQUFFLGtCQUFrQjtBQUMvQixJQUFJLFFBQVEsRUFBRSxrQkFBa0I7QUFDaEM7QUFDQSxJQUFJLFlBQVksRUFBRSxZQUFZO0FBQzlCLElBQUksT0FBTyxFQUFFLFlBQVk7QUFDekIsSUFBSSxXQUFXLEVBQUUsWUFBWTtBQUM3QixJQUFJLE9BQU8sRUFBRSxZQUFZO0FBQ3pCLElBQUksWUFBWSxFQUFFLFlBQVk7QUFDOUIsSUFBSSxPQUFPLEVBQUUsWUFBWTtBQUN6QixJQUFJLGFBQWEsRUFBRSxZQUFZO0FBQy9CLElBQUksU0FBUyxFQUFFLFlBQVk7QUFDM0IsSUFBSSxTQUFTLEVBQUUsWUFBWTtBQUMzQixJQUFJLFdBQVcsRUFBRSxZQUFZO0FBQzdCLElBQUksYUFBYSxFQUFFLFlBQVk7QUFDL0IsSUFBSSxjQUFjLEVBQUUsWUFBWTtBQUNoQztBQUNBLElBQUksVUFBVSxFQUFFLGtCQUFrQjtBQUNsQyxJQUFJLFVBQVUsRUFBRSxrQkFBa0I7QUFDbEM7QUFDQSxJQUFJLEtBQUssRUFBRSxpQkFBaUI7QUFDNUI7QUFDQSxJQUFJLE9BQU8sRUFBRSxXQUFXO0FBQ3hCLElBQUksTUFBTSxFQUFFLFdBQVc7QUFDdkIsQ0FBQyxDQUFDO0FBQ0YsU0FBUyxXQUFXLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRTtBQUMvQixJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7QUFDZixRQUFRLE9BQU8sRUFBRSxDQUFDO0FBQ2xCLEtBQUs7QUFDTCxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7QUFDYixRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxJQUFJLE9BQU8sU0FBUyxZQUFZLEdBQUc7QUFDbkMsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3BILEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxTQUFTLFdBQVcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFO0FBQy9CLElBQUksT0FBTyxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLEVBQUUsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUUsQ0FBQztBQUNELFNBQVMsZUFBZSxDQUFDLEdBQUcsRUFBRTtBQUM5QixJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFFBQVEsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLFNBQVM7QUFDVCxRQUFRLE9BQU8sR0FBRyxDQUFDO0FBQ25CLEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUNELFNBQVMsWUFBWSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUU7QUFDaEMsSUFBSSxPQUFPLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUN6RCxDQUFDO0FBQ0QsU0FBUyxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFO0FBQ3RDLElBQUksT0FBTyxFQUFFLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztBQUNyRSxDQUFDO0FBQ0QsU0FBUyxpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFO0FBQ3JDLElBQUksSUFBSSxDQUFDLEVBQUU7QUFDWCxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLElBQUksSUFBSSxDQUFDLElBQUk7QUFDYixRQUFRLE9BQU8sRUFBRSxDQUFDO0FBQ2xCLElBQUksTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDbkQsSUFBSSxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtBQUM1QixRQUFRLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxZQUFZLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRDtBQUNBLFNBQVMsU0FBUyxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsVUFBVTtBQUNqRCxLQUFLLEdBQUcsS0FBSyxFQUFFO0FBQ2YsSUFBSSxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDckIsSUFBSSxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDckIsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3JDLElBQUksUUFBUSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pELElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ25EO0FBQ0EsSUFBSSxLQUFLLE1BQU0sR0FBRyxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDaEQsUUFBUSxJQUFJLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUNuQyxTQUFTO0FBQ1QsS0FBSztBQUtMLElBQUksSUFBSSxVQUFVLEVBQUU7QUFDcEI7QUFDQSxRQUFRLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEUsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNsQztBQUNBLFlBQVksUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkMsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFlBQVksUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQzNCLENBQUM7QUFDRCxTQUFTLFdBQVcsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUU7QUFDbEUsSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQztBQUM1RCxJQUFJLE1BQU0sZUFBZSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDO0FBQzVDLElBQUksSUFBSSxlQUFlLEdBQUcsS0FBSyxDQUFDO0FBQ2hDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUdRLENBQUMsU0FBUyxJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7QUFDcEMsUUFBUSxFQUFFLFNBQVMsR0FBRyxFQUFFLGtCQUFrQixFQUFFO0FBQzVDLFFBQVEsSUFBSSxTQUFTLEdBQUcsQ0FBQyxjQUFjO0FBQ3ZDO0FBQ0E7QUFDQSxZQUFZLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDO0FBQzlELFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDM0QsZ0JBQWdCLElBQUksR0FBRyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQztBQUNBLGdCQUFnQixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUMsZ0JBQWdCLElBQUksT0FBTyxFQUFFO0FBQzdCO0FBQ0E7QUFDQSxvQkFBb0IsSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQzVDLHdCQUF3QixJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDbEQsNEJBQTRCLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDL0MsNEJBQTRCLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDbkQseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsd0JBQXdCLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzRCx3QkFBd0IsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxnQkFBZ0IsQ0FBQztBQUM5SSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQixvQkFBb0IsSUFBSSxLQUFLLEtBQUssS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzlDLHdCQUF3QixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzNDLHdCQUF3QixlQUFlLEdBQUcsSUFBSSxDQUFDO0FBQy9DLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUztBQUNUO0FBQ0EsUUFBUSxJQUFJLFlBQVksQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRTtBQUM1RCxZQUFZLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDbkMsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLElBQUksUUFBUSxDQUFDO0FBQ3JCLFFBQVEsS0FBSyxNQUFNLEdBQUcsSUFBSSxlQUFlLEVBQUU7QUFDM0MsWUFBWSxJQUFJLENBQUMsUUFBUTtBQUN6QjtBQUNBLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDO0FBQ3ZDO0FBQ0E7QUFDQSxxQkFBcUIsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQzNGLGdCQUFnQixJQUFJLE9BQU8sRUFBRTtBQUM3QixvQkFBb0IsSUFBSSxZQUFZO0FBQ3BDO0FBQ0EseUJBQXlCLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxTQUFTO0FBQ3hEO0FBQ0EsNEJBQTRCLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxTQUFTLENBQUMsRUFBRTtBQUNuRSx3QkFBd0IsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsSUFBSSxnQkFBZ0IsQ0FBQztBQUMvSCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQixvQkFBb0IsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdEMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsSUFBSSxLQUFLLEtBQUssZUFBZSxFQUFFO0FBQ3ZDLFlBQVksS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDckMsZ0JBQWdCLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ3pELG9CQUFvQixPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0QyxvQkFBb0IsZUFBZSxHQUFHLElBQUksQ0FBQztBQUMzQyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxJQUFJLElBQUksZUFBZSxFQUFFO0FBQ3pCLFFBQVEsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLFlBQVksUUFBUSxDQUFDLENBQUM7QUFDckQsS0FBSztBQUlMLENBQUM7QUFDRCxTQUFTLFlBQVksQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDeEQsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUM7QUFDMUQsSUFBSSxJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7QUFDaEMsSUFBSSxJQUFJLGFBQWEsQ0FBQztBQUN0QixJQUFJLElBQUksUUFBUSxFQUFFO0FBQ2xCLFFBQVEsS0FBSyxJQUFJLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDbEM7QUFDQSxZQUFZLElBQUksY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3JDLGdCQUFnQixTQUFTO0FBQ3pCLGFBQWE7QUFDYixZQUFZLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QztBQUNBO0FBQ0EsWUFBWSxJQUFJLFFBQVEsQ0FBQztBQUN6QixZQUFZLElBQUksT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFO0FBQ3hFLGdCQUFnQixJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUN2RSxvQkFBb0IsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUM1QyxpQkFBaUI7QUFDakIscUJBQXFCO0FBQ3JCLG9CQUFvQixDQUFDLGFBQWEsS0FBSyxhQUFhLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzlFLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsaUJBQWlCLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNsRSxnQkFBZ0IsSUFBSSxLQUFLLEtBQUssS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzFDLG9CQUFvQixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3ZDLG9CQUFvQixlQUFlLEdBQUcsSUFBSSxDQUFDO0FBQzNDLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLElBQUksWUFBWSxFQUFFO0FBQ3RCLFFBQVEsTUFBTSxlQUFlLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzdDLFFBQVEsTUFBTSxVQUFVLEdBQUcsYUFBYSxJQUFJLFNBQVMsQ0FBQztBQUN0RCxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3RELFlBQVksTUFBTSxHQUFHLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDOUgsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sZUFBZSxDQUFDO0FBQzNCLENBQUM7QUFDRCxTQUFTLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFO0FBQzFFLElBQUksTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdCLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO0FBQ3JCLFFBQVEsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNsRDtBQUNBLFFBQVEsSUFBSSxVQUFVLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtBQUMvQyxZQUFZLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUM7QUFDN0MsWUFBWSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxJQUFJLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRTtBQUNuRSxnQkFBZ0IsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLFFBQVEsQ0FBQztBQUNuRCxnQkFBZ0IsSUFBSSxHQUFHLElBQUksYUFBYSxFQUFFO0FBQzFDLG9CQUFvQixLQUFLLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9DLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ2pELG9CQUFvQixLQUFLLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2hGLG9CQUFvQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM3QyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixnQkFBZ0IsS0FBSyxHQUFHLFlBQVksQ0FBQztBQUNyQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsUUFBUSxJQUFJLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFO0FBQ3JDLFlBQVksSUFBSSxRQUFRLElBQUksQ0FBQyxVQUFVLEVBQUU7QUFDekMsZ0JBQWdCLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDOUIsYUFBYTtBQUNiLGlCQUFpQixJQUFJLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQjtBQUNoRCxpQkFBaUIsS0FBSyxLQUFLLEVBQUUsSUFBSSxLQUFLLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDNUQsZ0JBQWdCLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDN0IsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBQ0QsU0FBUyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDbEUsSUFBSSxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDO0FBQ3hDLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQyxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsT0FBTyxNQUFNLENBQUM7QUFDdEIsS0FBSztBQUNMLElBQUksTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUMzQixJQUFJLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUMxQixJQUFJLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQztBQUM1QjtBQUNBLElBQUksSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO0FBQzNCLElBQUksSUFBSSxtQkFBbUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUNsRCxRQUFRLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxLQUFLO0FBQ3JDLFlBQVksVUFBVSxHQUFHLElBQUksQ0FBQztBQUM5QixZQUFZLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcscUJBQXFCLENBQUMsR0FBRyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMvRSxZQUFZLE1BQU0sQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdEMsWUFBWSxJQUFJLElBQUk7QUFDcEIsZ0JBQWdCLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUMzQyxTQUFTLENBQUM7QUFDVixRQUFRLElBQUksQ0FBQyxPQUFPLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDbEQsWUFBWSxVQUFVLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNuRCxTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7QUFDMUIsWUFBWSxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3RDLFNBQVM7QUFDVCxRQUFRLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUN6QixZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzdDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQzdCLFFBQVEsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbkMsUUFBUSxPQUFPLFNBQVMsQ0FBQztBQUN6QixLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBSTdDLFlBQVksTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25ELFlBQVksSUFBSSxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsRUFBRTtBQUNqRCxnQkFBZ0IsVUFBVSxDQUFDLGFBQWEsQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUN0RCxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLElBQUksR0FBRyxFQUFFO0FBSWxCLFFBQVEsS0FBSyxNQUFNLEdBQUcsSUFBSSxHQUFHLEVBQUU7QUFDL0IsWUFBWSxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEQsWUFBWSxJQUFJLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxFQUFFO0FBQ2pELGdCQUFnQixNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckMsZ0JBQWdCLE1BQU0sSUFBSSxJQUFJLFVBQVUsQ0FBQyxhQUFhLENBQUM7QUFDdkQsb0JBQW9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDM0UsZ0JBQWdCLElBQUksSUFBSSxFQUFFO0FBQzFCLG9CQUFvQixNQUFNLFlBQVksR0FBRyxZQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxRSxvQkFBb0IsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDeEUsb0JBQW9CLElBQUksQ0FBQyxDQUFDLGtCQUFrQixHQUFHLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNqRSxvQkFBb0IsSUFBSSxDQUFDLENBQUMsc0JBQXNCO0FBQ2hELHdCQUF3QixXQUFXLEdBQUcsQ0FBQyxJQUFJLFlBQVksR0FBRyxXQUFXLENBQUM7QUFDdEU7QUFDQSxvQkFBb0IsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsRUFBRTtBQUN0RSx3QkFBd0IsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN6RCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDM0MsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6QixJQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUNELFNBQVMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFO0FBQy9CLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO0FBQ3hCLFFBQVEsT0FBTyxJQUFJLENBQUM7QUFDcEIsS0FHSztBQUNMLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNEO0FBQ0E7QUFDQSxTQUFTLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDdkIsSUFBSSxNQUFNLEtBQUssR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ3RFLElBQUksT0FBTyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNqQyxDQUFDO0FBQ0QsU0FBUyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUMxQixJQUFJLE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQyxDQUFDO0FBQ0QsU0FBUyxZQUFZLENBQUMsSUFBSSxFQUFFLGFBQWEsRUFBRTtBQUMzQyxJQUFJLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFO0FBQ2hDLFFBQVEsT0FBTyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxVQUFVLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDakUsS0FBSztBQUNMLFNBQVMsSUFBSSxVQUFVLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDeEMsUUFBUSxPQUFPLFVBQVUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3hELEtBQUs7QUFDTCxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDZCxDQUFDO0FBZ0lEO0FBQ0EsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssU0FBUyxDQUFDO0FBQ25FLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLEtBQUssQ0FBQztBQUNwRCxNQUFNLEtBQUssQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO0FBQy9CLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUM5QixNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLO0FBQzdDLElBQUksTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLO0FBTTFDLFFBQVEsT0FBTyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUNsRCxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDWixJQUFJLFVBQVUsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQzFCLElBQUksT0FBTyxVQUFVLENBQUM7QUFDdEIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxLQUFLO0FBQzVELElBQUksTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztBQUM5QixJQUFJLEtBQUssTUFBTSxHQUFHLElBQUksUUFBUSxFQUFFO0FBQ2hDLFFBQVEsSUFBSSxhQUFhLENBQUMsR0FBRyxDQUFDO0FBQzlCLFlBQVksU0FBUztBQUNyQixRQUFRLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNwQyxRQUFRLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQy9CLFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3hELFNBQVM7QUFDVCxhQUFhLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtBQU1oQyxZQUFZLE1BQU0sVUFBVSxHQUFHLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pELFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sVUFBVSxDQUFDO0FBQzFDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLFFBQVEsRUFBRSxRQUFRLEtBQUs7QUFPcEQsSUFBSSxNQUFNLFVBQVUsR0FBRyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNwRCxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sVUFBVSxDQUFDO0FBQzlDLENBQUMsQ0FBQztBQUNGLE1BQU0sU0FBUyxHQUFHLENBQUMsUUFBUSxFQUFFLFFBQVEsS0FBSztBQUMxQyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSx1QkFBdUI7QUFDNUQsUUFBUSxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDbEI7QUFDQTtBQUNBLFlBQVksUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDN0M7QUFDQSxZQUFZLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JDLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxvQkFBb0IsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLEtBQUssR0FBRyxFQUFFLEVBQUUsQ0FBQztBQUNsRSxTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQzVCLFFBQVEsSUFBSSxRQUFRLEVBQUU7QUFDdEIsWUFBWSxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDcEQsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzlDLENBQUMsQ0FBQztBQUNGLE1BQU0sV0FBVyxHQUFHLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLEtBQUs7QUFDdkQsSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLFFBQVEsQ0FBQztBQUN0QyxJQUFJLElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDO0FBQ2pDLElBQUksSUFBSSx3QkFBd0IsR0FBRyxTQUFTLENBQUM7QUFDN0MsSUFBSSxJQUFJLEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSx1QkFBdUI7QUFDbkQsUUFBUSxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDbEI7QUFDQSxZQUtpQixJQUFJLFNBQVMsSUFBSSxJQUFJLEtBQUssQ0FBQyxlQUFlO0FBQzNEO0FBQ0E7QUFDQSxnQkFBZ0IsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO0FBQzFDLGFBQWE7QUFDYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdCQUFnQixNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxLQUFLLENBQUMsZUFBZTtBQUMzRCxvQkFBb0IsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ25DLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLGlCQUFpQixHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQztBQUNsRCxZQUFZLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsRCxTQUFTO0FBQ1QsUUFBUSx3QkFBd0IsR0FBRyxRQUFRLENBQUM7QUFDNUMsS0FBSztBQUNMLFNBQVMsSUFBSSxRQUFRLEVBQUU7QUFDdkI7QUFDQSxRQUFRLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNoRCxRQUFRLHdCQUF3QixHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDO0FBQ2xELEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSSxpQkFBaUIsRUFBRTtBQUMzQixRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFO0FBQ2pDLFlBQVksSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSx3QkFBd0IsQ0FBQyxFQUFFO0FBQzNFLGdCQUFnQixPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNsQyxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDLENBQUM7QUFrREYsU0FBUyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7QUFDL0QsSUFBSSxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQ2hDLElBQUksTUFBTSxXQUFXLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUM7QUFDcEQsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM5QyxRQUFRLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQyxRQUFRLElBQUksV0FBVyxFQUFFO0FBQ3pCLFlBQVksT0FBTyxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ3BELFNBQVM7QUFDVCxRQUFRLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsUUFBUSxJQUFJLElBQUksRUFBRTtBQUNsQjtBQUNBO0FBQ0EsWUFBWSxhQUFhLEVBQUUsQ0FBQztBQUM1QixZQUFZLDBCQUEwQixDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyx1QkFBdUI7QUFDL0UsZ0JBQWdCLEtBQUssQ0FBQyxFQUFFO0FBQ3hCLGdCQUFnQixPQUFPO0FBQ3ZCLGdCQUFnQixLQUFLO0FBQ3JCLGdCQUFnQixTQUFTO0FBQ3pCLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsWUFBWSxhQUFhLEVBQUUsQ0FBQztBQUM1QixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBLFNBQVMsZ0JBQWdCLEdBQUc7QUFDNUIsSUFBSSxPQUFPO0FBQ1gsUUFBUSxHQUFHLEVBQUUsSUFBSTtBQUNqQixRQUFRLE1BQU0sRUFBRTtBQUNoQixZQUFZLFdBQVcsRUFBRSxFQUFFO0FBQzNCLFlBQVksV0FBVyxFQUFFLEtBQUs7QUFDOUIsWUFBWSxnQkFBZ0IsRUFBRSxFQUFFO0FBQ2hDLFlBQVkscUJBQXFCLEVBQUUsRUFBRTtBQUNyQyxZQUFZLFlBQVksRUFBRSxTQUFTO0FBQ25DLFlBQVksV0FBVyxFQUFFLFNBQVM7QUFDbEMsWUFBWSxlQUFlLEVBQUUsRUFBRTtBQUMvQixTQUFTO0FBQ1QsUUFBUSxNQUFNLEVBQUUsRUFBRTtBQUNsQixRQUFRLFVBQVUsRUFBRSxFQUFFO0FBQ3RCLFFBQVEsVUFBVSxFQUFFLEVBQUU7QUFDdEIsUUFBUSxRQUFRLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFDckMsUUFBUSxZQUFZLEVBQUUsSUFBSSxPQUFPLEVBQUU7QUFDbkMsUUFBUSxVQUFVLEVBQUUsSUFBSSxPQUFPLEVBQUU7QUFDakMsUUFBUSxVQUFVLEVBQUUsSUFBSSxPQUFPLEVBQUU7QUFDakMsS0FBSyxDQUFDO0FBQ04sQ0FBQztBQUNELElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNaLFNBQVMsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUU7QUFDdkMsSUFBSSxPQUFPLFNBQVMsU0FBUyxDQUFDLGFBQWEsRUFBRSxTQUFTLEdBQUcsSUFBSSxFQUFFO0FBQy9ELFFBQVEsSUFBSSxTQUFTLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFO0FBRXZELFlBQVksU0FBUyxHQUFHLElBQUksQ0FBQztBQUM3QixTQUFTO0FBQ1QsUUFBUSxNQUFNLE9BQU8sR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0FBQzNDLFFBQVEsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQzNDLFFBQVEsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0FBQzlCLFFBQVEsTUFBTSxHQUFHLElBQUksT0FBTyxDQUFDLEdBQUcsR0FBRztBQUNuQyxZQUFZLElBQUksRUFBRSxHQUFHLEVBQUU7QUFDdkIsWUFBWSxVQUFVLEVBQUUsYUFBYTtBQUNyQyxZQUFZLE1BQU0sRUFBRSxTQUFTO0FBQzdCLFlBQVksVUFBVSxFQUFFLElBQUk7QUFDNUIsWUFBWSxRQUFRLEVBQUUsT0FBTztBQUM3QixZQUFZLFNBQVMsRUFBRSxJQUFJO0FBQzNCLFlBQVksT0FBTztBQUNuQixZQUFZLElBQUksTUFBTSxHQUFHO0FBQ3pCLGdCQUFnQixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDdEMsYUFBYTtBQUNiLFlBQVksSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUFFO0FBSTFCLGFBQWE7QUFDYixZQUFZLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxPQUFPLEVBQUU7QUFDcEMsZ0JBQWdCLElBQUksZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBRWpDO0FBQ2pCLHFCQUFxQixJQUFJLE1BQU0sSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQy9ELG9CQUFvQixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDakQsb0JBQW9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUM7QUFDcEQsaUJBQWlCO0FBQ2pCLHFCQUFxQixJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUM3QyxvQkFBb0IsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2pELG9CQUFvQixNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUM7QUFDNUMsaUJBQWlCO0FBQ2pCLHFCQUFxQixDQUdKO0FBQ2pCLGdCQUFnQixPQUFPLEdBQUcsQ0FBQztBQUMzQixhQUFhO0FBQ2IsWUFBWSxLQUFLLENBQUMsS0FBSyxFQUFFO0FBQ3pCLGdCQUFnQixJQUFJLG1CQUFtQixFQUFFO0FBQ3pDLG9CQUFvQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDekQsd0JBQXdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25ELHFCQUlxQjtBQUNyQixpQkFHaUI7QUFDakIsZ0JBQWdCLE9BQU8sR0FBRyxDQUFDO0FBQzNCLGFBQWE7QUFDYixZQUFZLFNBQVMsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFO0FBSXZDLGdCQUFnQixJQUFJLENBQUMsU0FBUyxFQUFFO0FBQ2hDLG9CQUFvQixPQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEQsaUJBQWlCO0FBSWpCLGdCQUFnQixPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUNyRCxnQkFBZ0IsT0FBTyxHQUFHLENBQUM7QUFDM0IsYUFBYTtBQUNiLFlBQVksU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUU7QUFJdkMsZ0JBQWdCLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDaEMsb0JBQW9CLE9BQU8sT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwRCxpQkFBaUI7QUFJakIsZ0JBQWdCLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQ3JELGdCQUFnQixPQUFPLEdBQUcsQ0FBQztBQUMzQixhQUFhO0FBQ2IsWUFBWSxLQUFLLENBQUMsYUFBYSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUU7QUFDbkQsZ0JBQWdCLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDaEMsb0JBQW9CLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDeEU7QUFDQTtBQUNBLG9CQUFvQixLQUFLLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztBQU8vQyxvQkFBb0IsSUFBSSxTQUFTLElBQUksT0FBTyxFQUFFO0FBQzlDLHdCQUF3QixPQUFPLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ3RELHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsd0JBQXdCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzVELHFCQUFxQjtBQUNyQixvQkFBb0IsU0FBUyxHQUFHLElBQUksQ0FBQztBQUNyQyxvQkFBb0IsR0FBRyxDQUFDLFVBQVUsR0FBRyxhQUFhLENBQUM7QUFDbkQsb0JBQW9CLGFBQWEsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO0FBQ3BELG9CQUFvQixJQUErQyxxQkFBcUIsRUFBRTtBQUMxRix3QkFBd0IsR0FBRyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDO0FBQ3hELHdCQUF3QixlQUFlLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RELHFCQUFxQjtBQUNyQixvQkFBb0IsT0FBTyxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztBQUNqRCxpQkFNaUI7QUFDakIsYUFBYTtBQUNiLFlBQVksT0FBTyxHQUFHO0FBQ3RCLGdCQUFnQixJQUFJLFNBQVMsRUFBRTtBQUMvQixvQkFBb0IsTUFBTSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDakQsb0JBQW9CLElBQStDLHFCQUFxQixFQUFFO0FBQzFGLHdCQUF3QixHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUM3Qyx3QkFBd0Isa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEQscUJBQXFCO0FBQ3JCLG9CQUFvQixPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDO0FBQ3RELGlCQUdpQjtBQUNqQixhQUFhO0FBQ2IsWUFBWSxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUtoQztBQUNBO0FBQ0EsZ0JBQWdCLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzlDLGdCQUFnQixPQUFPLEdBQUcsQ0FBQztBQUMzQixhQUFhO0FBQ2IsU0FBUyxDQUFDLENBQUM7QUFDWCxRQUFRLE9BQU8sR0FBRyxDQUFDO0FBQ25CLEtBQUssQ0FBQztBQUNOLENBQUM7QUF3V0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCLEdBQUc7QUFFNUIsSUFBSSxJQUFJLE9BQU8sbUJBQW1CLEtBQUssU0FBUyxFQUFFO0FBRWxELFFBQVEsYUFBYSxFQUFFLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO0FBQ25ELEtBQUs7QUFDTCxJQUFJLElBQUksT0FBTyxxQkFBcUIsS0FBSyxTQUFTLEVBQUU7QUFFcEQsUUFBUSxhQUFhLEVBQUUsQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDdEQsS0FBSztBQU9MLENBQUM7QUFDRDtBQUNBLE1BQU0saUJBQWlCLEdBQUc7QUFDMUIsSUFBSSxTQUFTLEVBQUUsUUFBUTtBQUN2QjtBQUNBLElBQUksWUFBWSxFQUFFLElBQUk7QUFDdEIsQ0FBQyxDQUFDO0FBU0YsTUFBTSxxQkFBcUIsR0FBRyx1QkFBdUI7QUFDckQsS0FBSztBQUNMLE1BQU0sTUFBTSxHQUFHLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFNBQVMsR0FBRyxLQUFLLEtBQUs7QUFDaEYsSUFBSSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN6QixRQUFRLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLEVBQUUsU0FBUyxLQUFLLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQzVJLFFBQVEsT0FBTztBQUNmLEtBQUs7QUFDTCxJQUFJLElBQUksY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO0FBQzdDO0FBQ0E7QUFDQSxRQUFRLE9BQU87QUFDZixLQUFLO0FBQ0wsSUFBSSxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsU0FBUyxHQUFHLENBQUM7QUFDeEMsVUFBVSxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUs7QUFDMUQsVUFBVSxLQUFLLENBQUMsRUFBRSxDQUFDO0FBQ25CLElBQUksTUFBTSxLQUFLLEdBQUcsU0FBUyxHQUFHLElBQUksR0FBRyxRQUFRLENBQUM7QUFDOUMsSUFBSSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDO0FBTXhDLElBQUksTUFBTSxNQUFNLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsSUFBSSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQzNFLElBQUksTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQztBQUN4QztBQUNBLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUU7QUFDMUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUM5QixZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDaEMsWUFBWSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDNUMsZ0JBQWdCLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDMUMsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ2hDLFlBQVksTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDaEMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsTUFBTSxLQUFLLEdBQUcsTUFBTTtBQUM1QixZQUFZO0FBQ1osZ0JBQWdCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbEMsYUFBYTtBQUNiLFlBQVksSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ3pDLGdCQUFnQixVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3hDLGFBQWE7QUFDYixTQUFTLENBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksS0FBSyxFQUFFO0FBQ25CLFlBQVksS0FBSyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMxQixZQUFZLHFCQUFxQixDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN6RCxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksS0FBSyxFQUFFLENBQUM7QUFDcEIsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3pCLFFBQVEsTUFBTSxLQUFLLEdBQUcsTUFBTTtBQUM1QixZQUFZLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQzlCLFNBQVMsQ0FBQztBQUNWLFFBQVEsSUFBSSxLQUFLLEVBQUU7QUFDbkIsWUFBWSxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzFCLFlBQVkscUJBQXFCLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pELFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxLQUFLLEVBQUUsQ0FBQztBQUNwQixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDOUIsUUFBUSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUscUJBQXFCLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDaEYsS0FBSztBQUNMLFNBQVMsQ0FFSjtBQUNMLENBQUMsQ0FBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsY0FBYyxDQUFDLE9BQU8sRUFBRTtBQUNqQyxJQUFJLE9BQU8sa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkMsQ0FBQztBQU9EO0FBQ0EsU0FBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUU7QUFDekQ7QUFDQSxJQUFJO0FBQ0osUUFBUSxnQkFBZ0IsRUFBRSxDQUFDO0FBQzNCLEtBQUs7QUFDTCxJQUFJLElBQStDLHFCQUFxQixFQUFFO0FBQzFFLFFBQVEsTUFBTSxNQUFNLEdBQUcsYUFBYSxFQUFFLENBQUM7QUFDdkMsUUFBUSxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztBQUM5QixRQUFRLGVBQWUsQ0FBQyxNQUFNLENBQUMsNEJBQTRCLENBQUMsQ0FBQztBQUM3RCxLQUFLO0FBQ0wsSUFBSSxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxpQkFBaUIsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLGNBQWMsR0FBRyxJQUFJLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxtQkFBbUIsRUFBRSx1QkFBdUIsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUM1YjtBQUNBO0FBQ0EsSUFBSSxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sR0FBRyxJQUFJLEVBQUUsZUFBZSxHQUFHLElBQUksRUFBRSxjQUFjLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsWUFBWSxHQUFHLElBQUksRUFBRSxTQUFTLEdBQUcsS0FBSyxLQUFLO0FBQzlKO0FBQ0EsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUU7QUFDNUMsWUFBWSxNQUFNLEdBQUcsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3pDLFlBQVksT0FBTyxDQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9ELFlBQVksRUFBRSxHQUFHLElBQUksQ0FBQztBQUN0QixTQUFTO0FBQ1QsUUFBUSxJQUFJLEVBQUUsQ0FBQyxTQUFTLEtBQUssQ0FBQyxDQUFDLGFBQWE7QUFDNUMsWUFBWSxTQUFTLEdBQUcsS0FBSyxDQUFDO0FBQzlCLFlBQVksRUFBRSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDdEMsU0FBUztBQUNULFFBQVEsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQzVDLFFBQVEsUUFBUSxJQUFJO0FBQ3BCLFlBQVksS0FBSyxJQUFJO0FBQ3JCLGdCQUFnQixXQUFXLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDdkQsZ0JBQWdCLE1BQU07QUFDdEIsWUFBWSxLQUFLLFNBQVM7QUFDMUIsZ0JBQWdCLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzlELGdCQUFnQixNQUFNO0FBQ3RCLFlBQVksS0FBSyxNQUFNO0FBQ3ZCLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDaEMsb0JBQW9CLGVBQWUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsRSxpQkFHaUI7QUFDakIsZ0JBQWdCLE1BQU07QUFDdEIsWUFBWSxLQUFLLFFBQVE7QUFDekIsZ0JBQWdCLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzVILGdCQUFnQixNQUFNO0FBQ3RCLFlBQVk7QUFDWixnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQyxnQkFBZ0I7QUFDakQsb0JBQW9CLGNBQWMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQy9ILGlCQUFpQjtBQUNqQixxQkFBcUIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxrQkFBa0I7QUFDeEQsb0JBQW9CLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDakksaUJBQWlCO0FBQ2pCLHFCQUFxQixJQUFJLFNBQVMsR0FBRyxFQUFFLGlCQUFpQjtBQUN4RCxvQkFBb0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN4SSxpQkFBaUI7QUFDakIscUJBQXFCLElBQUksU0FBUyxHQUFHLEdBQUcsaUJBQWlCO0FBQ3pELG9CQUFvQixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3hJLGlCQUFpQjtBQUNqQixxQkFBcUIsQ0FFSjtBQUNqQixTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxlQUFlLEVBQUU7QUFDNUMsWUFBWSxNQUFNLENBQUMsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDckUsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxXQUFXLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEtBQUs7QUFDdkQsUUFBUSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIsWUFBWSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxjQUFjLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNqRixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsWUFBWSxJQUFJLEVBQUUsQ0FBQyxRQUFRLEtBQUssRUFBRSxDQUFDLFFBQVEsRUFBRTtBQUM3QyxnQkFBZ0IsV0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDN0MsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEtBQUs7QUFDOUQsUUFBUSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIsWUFBWSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxHQUFHLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUMxRixTQUFTO0FBQ1QsYUFBYTtBQUNiO0FBQ0EsWUFBWSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDMUIsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxlQUFlLEdBQUcsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEtBQUs7QUFDOUQsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLFFBQVEsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDckMsS0FBSyxDQUFDO0FBaUJOLElBQUksTUFBTSxjQUFjLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxLQUFLO0FBQ3ZFLFFBQVEsSUFBSSxJQUFJLENBQUM7QUFDakIsUUFBUSxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFO0FBQ3BDLFlBQVksSUFBSSxHQUFHLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN2QyxZQUFZLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ25ELFlBQVksRUFBRSxHQUFHLElBQUksQ0FBQztBQUN0QixTQUFTO0FBQ1QsUUFBUSxVQUFVLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNuRCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSztBQUNqRCxRQUFRLElBQUksSUFBSSxDQUFDO0FBQ2pCLFFBQVEsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLE1BQU0sRUFBRTtBQUNwQyxZQUFZLElBQUksR0FBRyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsWUFBWSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDM0IsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLFNBQVM7QUFDVCxRQUFRLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQixLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sY0FBYyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFDM0gsUUFBUSxLQUFLLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO0FBQzNDLFFBQVEsSUFBSSxFQUFFLElBQUksSUFBSSxFQUFFO0FBQ3hCLFlBQVksWUFBWSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNqSCxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksWUFBWSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2xHLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSztBQUN4SCxRQUFRLElBQUksRUFBRSxDQUFDO0FBQ2YsUUFBUSxJQUFJLFNBQVMsQ0FBQztBQUN0QixRQUFRLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztBQUM5RSxRQUFRLElBQ0ksS0FBSyxDQUFDLEVBQUU7QUFDcEIsWUFBWSxhQUFhLEtBQUssU0FBUztBQUN2QyxZQUFZLFNBQVMsS0FBSyxDQUFDLENBQUMsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxFQUFFLEdBQUcsS0FBSyxDQUFDLEVBQUUsR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3BELFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxFQUFFLEdBQUcsS0FBSyxDQUFDLEVBQUUsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLElBQUksS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzRjtBQUNBO0FBQ0EsWUFBWSxJQUFJLFNBQVMsR0FBRyxDQUFDLHNCQUFzQjtBQUNuRCxnQkFBZ0Isa0JBQWtCLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2RCxhQUFhO0FBQ2IsaUJBQWlCLElBQUksU0FBUyxHQUFHLEVBQUUsdUJBQXVCO0FBQzFELGdCQUFnQixhQUFhLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxJQUFJLElBQUksS0FBSyxlQUFlLEVBQUUsWUFBWSxFQUFFLFNBQVMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ2hMLGFBQWE7QUFDYixZQUFZLElBQUksSUFBSSxFQUFFO0FBQ3RCLGdCQUFnQixtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUM3RSxhQUFhO0FBQ2I7QUFDQSxZQUFZLElBQUksS0FBSyxFQUFFO0FBQ3ZCLGdCQUFnQixLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssRUFBRTtBQUN6QyxvQkFBb0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUM5Qyx3QkFBd0IsYUFBYSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQzFJLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsZ0JBQWdCLEtBQUssU0FBUyxHQUFHLEtBQUssQ0FBQyxrQkFBa0IsR0FBRztBQUM1RCxvQkFBb0IsZUFBZSxDQUFDLFNBQVMsRUFBRSxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdkUsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLFlBQVksVUFBVSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDaEYsU0FBUztBQUNULFFBQVEsSUFBK0MscUJBQXFCLEVBQUU7QUFDOUUsWUFBWSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUU7QUFDakQsZ0JBQWdCLEtBQUssRUFBRSxLQUFLO0FBQzVCLGdCQUFnQixVQUFVLEVBQUUsS0FBSztBQUNqQyxhQUFhLENBQUMsQ0FBQztBQUNmLFlBQVksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLEVBQUU7QUFDOUQsZ0JBQWdCLEtBQUssRUFBRSxlQUFlO0FBQ3RDLGdCQUFnQixVQUFVLEVBQUUsS0FBSztBQUNqQyxhQUFhLENBQUMsQ0FBQztBQUNmLFNBQVM7QUFDVCxRQUFRLElBQUksSUFBSSxFQUFFO0FBQ2xCLFlBQVksbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDN0UsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxDQUFDLGNBQWMsS0FBSyxjQUFjLElBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDO0FBQzdHLFlBQVksVUFBVTtBQUN0QixZQUFZLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQztBQUNsQyxRQUFRLElBQUksdUJBQXVCLEVBQUU7QUFDckMsWUFBWSxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZDLFNBQVM7QUFDVCxRQUFRLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzFDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLGNBQWM7QUFDdEQsWUFBWSx1QkFBdUI7QUFDbkMsWUFBWSxJQUFJLEVBQUU7QUFDbEIsWUFBWSxxQkFBcUIsQ0FBQyxNQUFNO0FBQ3hDLGdCQUFnQixTQUFTLElBQUksZUFBZSxDQUFDLFNBQVMsRUFBRSxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEYsZ0JBQWdCLHVCQUF1QixJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDaEUsZ0JBQWdCLElBQUksSUFBSSxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNyRixhQUFhLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDL0IsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxVQUFVLEdBQUcsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsZUFBZSxLQUFLO0FBQzlFLFFBQVEsSUFBSSxPQUFPLEVBQUU7QUFDckIsWUFBWSxjQUFjLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLFNBQVM7QUFDVCxRQUFRLElBQUksWUFBWSxFQUFFO0FBQzFCLFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDMUQsZ0JBQWdCLGNBQWMsQ0FBQyxFQUFFLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEQsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLElBQUksZUFBZSxFQUFFO0FBQzdCLFlBQVksSUFBSSxPQUFPLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQztBQU9sRCxZQUFZLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRTtBQUNuQyxnQkFBZ0IsTUFBTSxXQUFXLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQztBQUMxRCxnQkFBZ0IsVUFBVSxDQUFDLEVBQUUsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsWUFBWSxFQUFFLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNuSCxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxhQUFhLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLEtBQUssR0FBRyxDQUFDLEtBQUs7QUFDdkksUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN0RCxZQUFZLE1BQU0sS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTO0FBQ2xELGtCQUFrQixjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdDLGtCQUFrQixjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvQyxZQUFZLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ25ILFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sWUFBWSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLO0FBQ3RHLFFBQVEsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbkMsUUFBUSxJQUFJLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDdEQ7QUFDQTtBQUNBLFFBQVEsU0FBUyxJQUFJLEVBQUUsQ0FBQyxTQUFTLEdBQUcsRUFBRSxrQkFBa0I7QUFDeEQsUUFBUSxNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQztBQUMvQyxRQUFRLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDO0FBQy9DLFFBQVEsSUFBSSxTQUFTLENBQUM7QUFDdEIsUUFBUSxLQUFLLFNBQVMsR0FBRyxRQUFRLENBQUMsbUJBQW1CLEdBQUc7QUFDeEQsWUFBWSxlQUFlLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDaEUsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDbEIsWUFBWSxtQkFBbUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLGVBQWUsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN6RSxTQUFTO0FBT1QsUUFBUSxJQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLElBQUksU0FBUyxHQUFHLEVBQUUsbUJBQW1CO0FBQ2pEO0FBQ0EsZ0JBQWdCLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMvRixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQyxjQUFjO0FBQy9DLG9CQUFvQixJQUFJLFFBQVEsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLEtBQUssRUFBRTtBQUMzRCx3QkFBd0IsYUFBYSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEYscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLElBQUksU0FBUyxHQUFHLENBQUMsY0FBYztBQUMvQyxvQkFBb0IsYUFBYSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3RGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQyxjQUFjO0FBQy9DO0FBQ0Esb0JBQW9CLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUM7QUFDMUQsb0JBQW9CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ25FLHdCQUF3QixNQUFNLEdBQUcsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckQsd0JBQXdCLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNuRCx3QkFBd0IsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25ELHdCQUF3QixJQUFJLElBQUksS0FBSyxJQUFJO0FBQ3pDLDZCQUE2QixrQkFBa0IsSUFBSSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRTtBQUNqRiw0QkFBNEIsYUFBYSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3JJLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWSxJQUFJLFNBQVMsR0FBRyxDQUFDLGFBQWE7QUFDMUMsZ0JBQWdCLElBQUksRUFBRSxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFO0FBQ2pELG9CQUFvQixrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3hELGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWEsSUFBSSxDQUFDLFNBQVMsSUFBSSxlQUFlLElBQUksSUFBSSxFQUFFO0FBQ3hEO0FBQ0EsWUFBWSxVQUFVLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDM0YsU0FBUztBQUNULFFBQVEsTUFBTSxjQUFjLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssZUFBZSxDQUFDO0FBQ3BFLFFBQVEsSUFBSSxlQUFlLEVBQUU7QUFDN0IsWUFBWSxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFJdkksU0FBUztBQUNULGFBQWEsSUFBSSxDQUFDLFNBQVMsRUFBRTtBQUM3QjtBQUNBLFlBQVksYUFBYSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDbEgsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxLQUFLLElBQUksRUFBRTtBQUMzRCxZQUFZLHFCQUFxQixDQUFDLE1BQU07QUFDeEMsZ0JBQWdCLFNBQVMsSUFBSSxlQUFlLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakYsZ0JBQWdCLElBQUksSUFBSSxtQkFBbUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNoRixhQUFhLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDL0IsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOO0FBQ0EsSUFBSSxNQUFNLGtCQUFrQixHQUFHLENBQUMsV0FBVyxFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEtBQUs7QUFDdEksUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNyRCxZQUFZLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxZQUFZLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QztBQUNBLFlBQVksTUFBTSxTQUFTO0FBQzNCO0FBQ0E7QUFDQSxZQUFZLFFBQVEsQ0FBQyxFQUFFO0FBQ3ZCO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUSxDQUFDLElBQUksS0FBSyxRQUFRO0FBQzNDO0FBQ0E7QUFDQSxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQztBQUN4RDtBQUNBLG9CQUFvQixRQUFRLENBQUMsU0FBUyxHQUFHLENBQUM7QUFDMUMsb0JBQW9CLFFBQVEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxnQkFBZ0I7QUFDM0Qsa0JBQWtCLGNBQWMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO0FBQzdDO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCLENBQUM7QUFDdEMsWUFBWSxLQUFLLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNuSCxTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLFVBQVUsR0FBRyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssS0FBSztBQUNsRyxRQUFRLElBQUksUUFBUSxLQUFLLFFBQVEsRUFBRTtBQUNuQyxZQUFZLEtBQUssTUFBTSxHQUFHLElBQUksUUFBUSxFQUFFO0FBQ3hDO0FBQ0EsZ0JBQWdCLElBQUksY0FBYyxDQUFDLEdBQUcsQ0FBQztBQUN2QyxvQkFBb0IsU0FBUztBQUM3QixnQkFBZ0IsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNDLGdCQUFnQixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0MsZ0JBQWdCLElBQUksSUFBSSxLQUFLLElBQUk7QUFDakMscUJBQXFCLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ3pFLG9CQUFvQixhQUFhLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDaEksaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixZQUFZLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUN4QyxnQkFBZ0IsS0FBSyxNQUFNLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDNUMsb0JBQW9CLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksUUFBUSxDQUFDLEVBQUU7QUFDcEUsd0JBQXdCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUM3SSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGVBQWUsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLO0FBQzVILFFBQVEsTUFBTSxtQkFBbUIsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzlFLFFBQVEsTUFBTSxpQkFBaUIsSUFBSSxFQUFFLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3BGLFFBQVEsSUFBSSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQ3BGLFFBQVEsSUFBSSxlQUFlLEVBQUU7QUFDN0IsWUFBWSxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQzdCLFNBQVM7QUFDVDtBQUNBLFFBQVEsSUFBSSxvQkFBb0IsRUFBRTtBQUNsQyxZQUFZLFlBQVksR0FBRyxZQUFZO0FBQ3ZDLGtCQUFrQixZQUFZLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDO0FBQzNELGtCQUFrQixvQkFBb0IsQ0FBQztBQUN2QyxTQUFTO0FBT1QsUUFBUSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIsWUFBWSxVQUFVLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9ELFlBQVksVUFBVSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWEsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDdEksU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLElBQUksU0FBUyxHQUFHLENBQUM7QUFDN0IsZ0JBQWdCLFNBQVMsR0FBRyxFQUFFO0FBQzlCLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQSxnQkFBZ0IsRUFBRSxDQUFDLGVBQWUsRUFBRTtBQUNwQztBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztBQUN6SSxnQkFHcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsRUFBRSxDQUFDLEdBQUcsSUFBSSxJQUFJO0FBQzlCLHFCQUFxQixlQUFlLElBQUksRUFBRSxLQUFLLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUN6RSxvQkFBb0Isc0JBQXNCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLGVBQWUsQ0FBQztBQUN2RSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3JJLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGdCQUFnQixHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFDN0gsUUFBUSxFQUFFLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztBQUN2QyxRQUFRLElBQUksRUFBRSxJQUFJLElBQUksRUFBRTtBQUN4QixZQUFZLElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxHQUFHLDZCQUE2QjtBQUMvRCxnQkFBZ0IsZUFBZSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3RGLGFBQWE7QUFDYixpQkFBaUI7QUFDakIsZ0JBQWdCLGNBQWMsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN6RyxhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQy9DLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sY0FBYyxHQUFHLENBQUMsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsU0FBUyxLQUFLO0FBQ25ILFFBQVEsTUFBTSxRQUFRLElBQUksWUFBWSxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsQ0FBQyxZQUFZLEVBQUUsZUFBZSxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7QUFRM0g7QUFDQSxRQUFRLElBQUksV0FBVyxDQUFDLFlBQVksQ0FBQyxFQUFFO0FBQ3ZDLFlBQVksUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDO0FBQzlDLFNBQVM7QUFDVDtBQUNBLFFBQVE7QUFJUixZQUFZLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUlyQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsSUFBSSxRQUFRLENBQUMsUUFBUSxFQUFFO0FBQy9CLFlBQVksY0FBYyxJQUFJLGNBQWMsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDdEY7QUFDQTtBQUNBLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUU7QUFDbEMsZ0JBQWdCLE1BQU0sV0FBVyxJQUFJLFFBQVEsQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDaEYsZ0JBQWdCLGtCQUFrQixDQUFDLElBQUksRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3pFLGFBQWE7QUFDYixZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFLdkcsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGVBQWUsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxLQUFLO0FBQ25ELFFBQVEsTUFBTSxRQUFRLElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDdkQsUUFBUSxJQUFJLHFCQUFxQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFDdEQsWUFBWSxJQUFJLFFBQVEsQ0FBQyxRQUFRO0FBQ2pDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUU7QUFNekMsZ0JBQWdCLHdCQUF3QixDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFJbEUsZ0JBQWdCLE9BQU87QUFDdkIsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixRQUFRLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUNuQztBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDL0M7QUFDQSxnQkFBZ0IsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2xDLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYTtBQUNiO0FBQ0EsWUFBWSxFQUFFLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUM7QUFDeEMsWUFBWSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDMUIsWUFBWSxRQUFRLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNoQyxTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGlCQUFpQixHQUFHLENBQUMsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsU0FBUyxLQUFLO0FBQy9HO0FBQ0EsUUFBUSxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLGVBQWUsR0FBRztBQUM1RCxZQUFZLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFO0FBQ3JDLGdCQUFnQixJQUFJLFNBQVMsQ0FBQztBQUM5QixnQkFBZ0IsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxZQUFZLENBQUM7QUFDbkQsZ0JBQWdCLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLFFBQVEsQ0FBQztBQUNuRDtBQUNBLGdCQUFnQixJQUFJLEVBQUUsRUFBRTtBQUN4QixvQkFBb0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixLQUFLLFNBQVMsR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLGtCQUFrQixHQUFHO0FBQ3JFLG9CQUFvQixlQUFlLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNyRSxpQkFBaUI7QUFDakIsZ0JBQWdCLElBQUksRUFBRSxJQUFJLFdBQVcsRUFBRTtBQUN2QztBQUNBLG9CQUFvQixNQUFNLGNBQWMsR0FBRyxNQUFNO0FBSWpELHdCQUF3QixRQUFRLENBQUMsT0FBTyxHQUFHLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBT3pFLHdCQUF3QixXQUFXLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUkxRixxQkFBcUIsQ0FBQztBQUN0QixvQkFBb0IsSUFBSSxjQUFjLENBQUMsWUFBWSxDQUFDLEVBQUU7QUFDdEQsd0JBQXdCLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixNQUFNLENBQUMsUUFBUSxDQUFDLFdBQVcsSUFBSSxjQUFjLEVBQUUsQ0FBQyxDQUFDO0FBQ3pFLHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsd0JBQXdCLGNBQWMsRUFBRSxDQUFDO0FBQ3pDLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIscUJBQXFCO0FBSXJCLG9CQUFvQixNQUFNLE9BQU8sSUFBSSxRQUFRLENBQUMsT0FBTyxHQUFHLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFPdkYsb0JBQW9CLEtBQUssQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUk3RixvQkFBb0IsWUFBWSxDQUFDLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDO0FBQ2pELGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixJQUFJLENBQUMsRUFBRTtBQUN2QixvQkFBb0IscUJBQXFCLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQzdELGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixLQUFLLFNBQVMsR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLGNBQWMsR0FBRztBQUNqRSxvQkFBb0IsTUFBTSxrQkFBa0IsR0FBRyxZQUFZLENBQUM7QUFDNUQsb0JBQW9CLHFCQUFxQixDQUFDLE1BQU0sZUFBZSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsa0JBQWtCLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN4SCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQUksWUFBWSxDQUFDLFNBQVMsR0FBRyxHQUFHLG9DQUFvQztBQUNwRixvQkFBb0IsUUFBUSxDQUFDLENBQUMsSUFBSSxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3BGLGlCQUFpQjtBQUNqQixnQkFBZ0IsUUFBUSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDMUMsZ0JBQWdCLElBQStDLHFCQUFxQixFQUFFO0FBQ3RGLG9CQUFvQixzQkFBc0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNyRCxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0IsWUFBWSxHQUFHLFNBQVMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDO0FBQ3pELGFBQWE7QUFDYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQzlELGdCQUFnQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUM7QUFDdEMsZ0JBQWdCLElBQUksU0FBUyxDQUFDO0FBSTlCLGdCQUFnQixJQUFJLElBQUksRUFBRTtBQUMxQixvQkFBb0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDO0FBQ3ZDLG9CQUFvQix3QkFBd0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3hFLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLElBQUksR0FBRyxLQUFLLENBQUM7QUFDakMsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCLElBQUksRUFBRSxFQUFFO0FBQ3hCLG9CQUFvQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsR0FBRztBQUNoRixvQkFBb0IsZUFBZSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3BFLGlCQUFpQjtBQUtqQixnQkFBZ0IsTUFBTSxRQUFRLEdBQUcsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7QUFJL0QsZ0JBQWdCLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7QUFDbEQsZ0JBQWdCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO0FBSTVDLGdCQUFnQixLQUFLLENBQUMsUUFBUSxFQUFFLFFBQVE7QUFDeEM7QUFDQSxnQkFBZ0IsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7QUFDM0M7QUFDQSxnQkFBZ0IsZUFBZSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFJNUUsZ0JBQWdCLElBQUksQ0FBQyxFQUFFLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUN0QyxnQkFBZ0IsSUFBSSxVQUFVLEtBQUssSUFBSSxFQUFFO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMzRCxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0IsSUFBSSxDQUFDLEVBQUU7QUFDdkIsb0JBQW9CLHFCQUFxQixDQUFDLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUM3RCxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0IsS0FBSyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsR0FBRztBQUMzRSxvQkFBb0IscUJBQXFCLENBQUMsTUFBTSxlQUFlLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDakgsaUJBQWlCO0FBQ2pCLGdCQUFnQixJQUErQyxxQkFBcUIsRUFBRTtBQUN0RixvQkFBb0Isd0JBQXdCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDdkQsaUJBQWlCO0FBSWpCLGFBQWE7QUFDYixTQUFTLEVBQStFLGlCQUFpQixDQUFDLENBQUM7QUFLM0csS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLHdCQUF3QixHQUFHLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEtBQUs7QUFDekUsUUFBUSxTQUFTLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUN2QyxRQUFRLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO0FBQy9DLFFBQVEsUUFBUSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7QUFDbkMsUUFBUSxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUM3QixRQUFRLFdBQVcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDckUsUUFBUSxXQUFXLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDN0QsUUFBUSxhQUFhLEVBQUUsQ0FBQztBQUN4QjtBQUNBO0FBQ0EsUUFBUSxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3JELFFBQVEsYUFBYSxFQUFFLENBQUM7QUFDeEIsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGFBQWEsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxHQUFHLEtBQUssS0FBSztBQUNsSSxRQUFRLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ3JDLFFBQVEsTUFBTSxhQUFhLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ3BELFFBQVEsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUMvQixRQUFRLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQzVDO0FBQ0EsUUFBUSxJQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUU7QUFDM0IsWUFBWSxJQUFJLFNBQVMsR0FBRyxHQUFHLHVCQUF1QjtBQUN0RDtBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDL0gsZ0JBQWdCLE9BQU87QUFDdkIsYUFBYTtBQUNiLGlCQUFpQixJQUFJLFNBQVMsR0FBRyxHQUFHLHlCQUF5QjtBQUM3RDtBQUNBLGdCQUFnQixvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2pJLGdCQUFnQixPQUFPO0FBQ3ZCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksU0FBUyxHQUFHLENBQUMsc0JBQXNCO0FBQy9DO0FBQ0EsWUFBWSxJQUFJLGFBQWEsR0FBRyxFQUFFLHVCQUF1QjtBQUN6RCxnQkFBZ0IsZUFBZSxDQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDckUsYUFBYTtBQUNiLFlBQVksSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO0FBQzNCLGdCQUFnQixrQkFBa0IsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDbEQsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxJQUFJLGFBQWEsR0FBRyxFQUFFLHVCQUF1QjtBQUN6RDtBQUNBLGdCQUFnQixJQUFJLFNBQVMsR0FBRyxFQUFFLHVCQUF1QjtBQUN6RDtBQUNBLG9CQUFvQixrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ25JLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0IsZUFBZSxDQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9FLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxhQUFhLEdBQUcsQ0FBQyxzQkFBc0I7QUFDM0Qsb0JBQW9CLGtCQUFrQixDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN0RCxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsRUFBRSx1QkFBdUI7QUFDekQsb0JBQW9CLGFBQWEsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDMUgsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLG9CQUFvQixHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFDakksUUFBUSxFQUFFLEdBQUcsRUFBRSxJQUFJLFNBQVMsQ0FBQztBQUM3QixRQUFRLEVBQUUsR0FBRyxFQUFFLElBQUksU0FBUyxDQUFDO0FBQzdCLFFBQVEsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUNwQyxRQUFRLE1BQU0sU0FBUyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7QUFDcEMsUUFBUSxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUM1RCxRQUFRLElBQUksQ0FBQyxDQUFDO0FBQ2QsUUFBUSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMzQyxZQUFZLE1BQU0sU0FBUyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTO0FBQ2hELGtCQUFrQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLGtCQUFrQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QyxZQUFZLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3RILFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxHQUFHLFNBQVMsRUFBRTtBQUNuQztBQUNBLFlBQVksZUFBZSxDQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDNUYsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFlBQVksYUFBYSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDaEksU0FBUztBQUNULEtBQUssQ0FBQztBQUNOO0FBQ0EsSUFBSSxNQUFNLGtCQUFrQixHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFDckksUUFBUSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbEIsUUFBUSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDO0FBQzdCLFFBQVEsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDL0IsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFFBQVEsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDbkMsWUFBWSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDN0IsWUFBWSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUztBQUN6QyxrQkFBa0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QyxrQkFBa0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekMsWUFBWSxJQUFJLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUU7QUFDekMsZ0JBQWdCLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2hILGFBQWE7QUFDYixpQkFBaUI7QUFDakIsZ0JBQWdCLE1BQU07QUFDdEIsYUFBYTtBQUNiLFlBQVksQ0FBQyxFQUFFLENBQUM7QUFDaEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDbkMsWUFBWSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDOUIsWUFBWSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUztBQUMxQyxrQkFBa0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN4QyxrQkFBa0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUMsWUFBWSxJQUFJLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUU7QUFDekMsZ0JBQWdCLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2hILGFBQWE7QUFDYixpQkFBaUI7QUFDakIsZ0JBQWdCLE1BQU07QUFDdEIsYUFBYTtBQUNiLFlBQVksRUFBRSxFQUFFLENBQUM7QUFDakIsWUFBWSxFQUFFLEVBQUUsQ0FBQztBQUNqQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtBQUNwQixZQUFZLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUN6QixnQkFBZ0IsTUFBTSxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN2QyxnQkFBZ0IsTUFBTSxNQUFNLEdBQUcsT0FBTyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxHQUFHLFlBQVksQ0FBQztBQUM1RSxnQkFBZ0IsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2hDLG9CQUFvQixLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTO0FBQ2xELDBCQUEwQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQy9DLDBCQUEwQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDdEksb0JBQW9CLENBQUMsRUFBRSxDQUFDO0FBQ3hCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUU7QUFDekIsWUFBWSxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDNUIsZ0JBQWdCLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7QUFDcEIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6QixZQUFZLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6QjtBQUNBLFlBQVksTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQy9DLFlBQVksS0FBSyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDdkMsZ0JBQWdCLE1BQU0sU0FBUyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTO0FBQ3BELHNCQUFzQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNDLHNCQUFzQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QyxnQkFBZ0IsSUFBSSxTQUFTLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRTtBQUkzQyxvQkFBb0IsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0QsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWSxJQUFJLENBQUMsQ0FBQztBQUNsQixZQUFZLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztBQUM1QixZQUFZLE1BQU0sV0FBVyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzVDLFlBQVksSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQzlCO0FBQ0EsWUFBWSxJQUFJLGdCQUFnQixHQUFHLENBQUMsQ0FBQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNLHFCQUFxQixHQUFHLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2pFLFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxFQUFFO0FBQzVDLGdCQUFnQixxQkFBcUIsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0MsWUFBWSxLQUFLLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxnQkFBZ0IsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLGdCQUFnQixJQUFJLE9BQU8sSUFBSSxXQUFXLEVBQUU7QUFDNUM7QUFDQSxvQkFBb0IsT0FBTyxDQUFDLFNBQVMsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzlFLG9CQUFvQixTQUFTO0FBQzdCLGlCQUFpQjtBQUNqQixnQkFBZ0IsSUFBSSxRQUFRLENBQUM7QUFDN0IsZ0JBQWdCLElBQUksU0FBUyxDQUFDLEdBQUcsSUFBSSxJQUFJLEVBQUU7QUFDM0Msb0JBQW9CLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25FLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0IsS0FBSyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0Msd0JBQXdCLElBQUkscUJBQXFCLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDL0QsNEJBQTRCLGVBQWUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDL0QsNEJBQTRCLFFBQVEsR0FBRyxDQUFDLENBQUM7QUFDekMsNEJBQTRCLE1BQU07QUFDbEMseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsZ0JBQWdCLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUM1QyxvQkFBb0IsT0FBTyxDQUFDLFNBQVMsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzlFLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLHFCQUFxQixDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pFLG9CQUFvQixJQUFJLFFBQVEsSUFBSSxnQkFBZ0IsRUFBRTtBQUN0RCx3QkFBd0IsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDO0FBQ3BELHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsd0JBQXdCLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDckMscUJBQXFCO0FBQ3JCLG9CQUFvQixLQUFLLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNySSxvQkFBb0IsT0FBTyxFQUFFLENBQUM7QUFDOUIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWSxNQUFNLDBCQUEwQixHQUFHLEtBQUs7QUFDcEQsa0JBQWtCLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQztBQUNwRCxrQkFBa0IsU0FBUyxDQUFDO0FBQzVCLFlBQVksQ0FBQyxHQUFHLDBCQUEwQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDdEQ7QUFDQSxZQUFZLEtBQUssQ0FBQyxHQUFHLFdBQVcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNuRCxnQkFBZ0IsTUFBTSxTQUFTLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6QyxnQkFBZ0IsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2hELGdCQUFnQixNQUFNLE1BQU0sR0FBRyxTQUFTLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxZQUFZLENBQUM7QUFDeEYsZ0JBQWdCLElBQUkscUJBQXFCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3BEO0FBQ0Esb0JBQW9CLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQy9ILGlCQUFpQjtBQUNqQixxQkFBcUIsSUFBSSxLQUFLLEVBQUU7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssMEJBQTBCLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDdEUsd0JBQXdCLElBQUksQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxDQUFDLGVBQWUsQ0FBQztBQUM1RSxxQkFBcUI7QUFDckIseUJBQXlCO0FBQ3pCLHdCQUF3QixDQUFDLEVBQUUsQ0FBQztBQUM1QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxjQUFjLEdBQUcsSUFBSSxLQUFLO0FBQ2hGLFFBQVEsTUFBTSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDcEUsUUFBUSxJQUFJLFNBQVMsR0FBRyxDQUFDLGtCQUFrQjtBQUMzQyxZQUFZLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZFLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxJQUFJLFNBQVMsR0FBRyxHQUFHLGlCQUFpQjtBQUM1QyxZQUFZLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDN0QsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxHQUFHLEVBQUUsaUJBQWlCO0FBQzNDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztBQUMzRCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0FBQy9CLFlBQVksVUFBVSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDOUMsWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN0RCxnQkFBZ0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQy9ELGFBQWE7QUFDYixZQUFZLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN4RCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFO0FBQzdCLFlBQVksY0FBYyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDckQsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVDtBQUNBLFFBQVEsTUFBTSxjQUFjLEdBQUcsUUFBUSxLQUFLLENBQUM7QUFDN0MsWUFBWSxTQUFTLEdBQUcsQ0FBQztBQUN6QixZQUFZLFVBQVUsQ0FBQztBQUN2QixRQUFRLElBQUksY0FBYyxFQUFFO0FBQzVCLFlBQVksSUFBSSxRQUFRLEtBQUssQ0FBQyxjQUFjO0FBQzVDLGdCQUFnQixVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzNDLGdCQUFnQixVQUFVLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNsRCxnQkFBZ0IscUJBQXFCLENBQUMsTUFBTSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2xGLGFBQWE7QUFDYixpQkFBaUI7QUFDakIsZ0JBQWdCLE1BQU0sRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxHQUFHLFVBQVUsQ0FBQztBQUNyRSxnQkFBZ0IsTUFBTSxNQUFNLEdBQUcsTUFBTSxVQUFVLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN2RSxnQkFBZ0IsTUFBTSxZQUFZLEdBQUcsTUFBTTtBQUMzQyxvQkFBb0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxNQUFNO0FBQ3BDLHdCQUF3QixNQUFNLEVBQUUsQ0FBQztBQUNqQyx3QkFBd0IsVUFBVSxJQUFJLFVBQVUsRUFBRSxDQUFDO0FBQ25ELHFCQUFxQixDQUFDLENBQUM7QUFDdkIsaUJBQWlCLENBQUM7QUFDbEIsZ0JBQWdCLElBQUksVUFBVSxFQUFFO0FBQ2hDLG9CQUFvQixVQUFVLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztBQUN6RCxpQkFBaUI7QUFDakIscUJBQXFCO0FBQ3JCLG9CQUFvQixZQUFZLEVBQUUsQ0FBQztBQUNuQyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxVQUFVLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM5QyxTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLE9BQU8sR0FBRyxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLFFBQVEsR0FBRyxLQUFLLEVBQUUsU0FBUyxHQUFHLEtBQUssS0FBSztBQUNyRyxRQUFRLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQ2xHO0FBQ0EsUUFBUSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7QUFDekIsWUFBWSxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzNELFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxHQUFHLEdBQUcsb0NBQW9DO0FBQy9ELFlBQVksZUFBZSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEQsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxRQUFRLE1BQU0sZ0JBQWdCLEdBQUcsU0FBUyxHQUFHLENBQUMsa0JBQWtCLElBQUksQ0FBQztBQUNyRSxRQUFRLElBQUksU0FBUyxDQUFDO0FBQ3RCLFFBQVEsS0FBSyxTQUFTLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsR0FBRztBQUMvRCxZQUFZLGVBQWUsQ0FBQyxTQUFTLEVBQUUsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQy9ELFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxHQUFHLENBQUMsa0JBQWtCO0FBQzNDLFlBQVksZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDeEUsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLElBQUksU0FBUyxHQUFHLEdBQUcsaUJBQWlCO0FBQ2hELGdCQUFnQixLQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDakUsZ0JBQWdCLE9BQU87QUFDdkIsYUFBYTtBQUNiLFlBQVksSUFBSSxnQkFBZ0IsRUFBRTtBQUNsQyxnQkFBZ0IsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDbkYsYUFBYTtBQUNiLFlBQVksSUFBSSxTQUFTLEdBQUcsRUFBRSxpQkFBaUI7QUFDL0MsZ0JBQWdCLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDMUcsYUFBYTtBQUNiLGlCQUFpQixJQUFJLGVBQWU7QUFDcEM7QUFDQSxpQkFBaUIsSUFBSSxLQUFLLFFBQVE7QUFDbEMscUJBQXFCLFNBQVMsR0FBRyxDQUFDLElBQUksU0FBUyxHQUFHLEVBQUUsdUJBQXVCLENBQUMsRUFBRTtBQUM5RTtBQUNBLGdCQUFnQixlQUFlLENBQUMsZUFBZSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9GLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRO0FBQ3ZDLGlCQUFpQixTQUFTLEdBQUcsR0FBRztBQUNoQyxvQkFBb0IsU0FBUyxHQUFHLEdBQUcsd0JBQXdCO0FBQzNELGlCQUFpQixDQUFDLFNBQVMsSUFBSSxTQUFTLEdBQUcsRUFBRSxzQkFBc0IsRUFBRTtBQUNyRSxnQkFBZ0IsZUFBZSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDM0UsYUFBYTtBQUNiLFlBQVksSUFBSSxRQUFRLEVBQUU7QUFDMUIsZ0JBQWdCLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLGdCQUFnQixLQUFLLGdCQUFnQixFQUFFO0FBQy9FLFlBQVkscUJBQXFCLENBQUMsTUFBTTtBQUN4QyxnQkFBZ0IsU0FBUyxJQUFJLGVBQWUsQ0FBQyxTQUFTLEVBQUUsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2hGLGdCQUFnQixnQkFBZ0I7QUFDaEMsb0JBQW9CLG1CQUFtQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ25GLGFBQWEsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMvQixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLElBQUk7QUFDNUIsUUFBUSxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQ3ZELFFBQVEsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0FBQy9CLFlBQVksY0FBYyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN2QyxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFO0FBQzdCLFlBQVksZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEMsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxRQUFRLE1BQU0sYUFBYSxHQUFHLE1BQU07QUFDcEMsWUFBWSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDM0IsWUFBWSxJQUFJLFVBQVUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLElBQUksVUFBVSxDQUFDLFVBQVUsRUFBRTtBQUM5RSxnQkFBZ0IsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO0FBQ3hDLGFBQWE7QUFDYixTQUFTLENBQUM7QUFDVixRQUFRLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDO0FBQy9CLFlBQVksVUFBVTtBQUN0QixZQUFZLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRTtBQUNuQyxZQUFZLE1BQU0sRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLEdBQUcsVUFBVSxDQUFDO0FBQ3JELFlBQVksTUFBTSxZQUFZLEdBQUcsTUFBTSxLQUFLLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ2hFLFlBQVksSUFBSSxVQUFVLEVBQUU7QUFDNUIsZ0JBQWdCLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLGFBQWEsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNsRSxhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCLGdCQUFnQixZQUFZLEVBQUUsQ0FBQztBQUMvQixhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLGFBQWEsRUFBRSxDQUFDO0FBQzVCLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSztBQUN6QztBQUNBO0FBQ0EsUUFBUSxJQUFJLElBQUksQ0FBQztBQUNqQixRQUFRLE9BQU8sR0FBRyxLQUFLLEdBQUcsRUFBRTtBQUM1QixZQUFZLElBQUksR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDeEMsWUFBWSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUIsWUFBWSxHQUFHLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFNBQVM7QUFDVCxRQUFRLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QixLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxRQUFRLEVBQUUsY0FBYyxFQUFFLFFBQVEsS0FBSztBQUlyRSxRQUFRLE1BQU0sRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQy9EO0FBQ0EsUUFBUSxJQUFJLEdBQUcsRUFBRTtBQUNqQixZQUFZLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxTQUFTO0FBQ1QsUUFBUSxJQUFJLE9BQU8sRUFBRTtBQUNyQixZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3JELGdCQUFnQixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakMsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxJQUFJLE1BQU0sRUFBRTtBQUNwQixZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN6QixZQUFZLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNqRSxTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksRUFBRSxFQUFFO0FBQ2hCLFlBQVkscUJBQXFCLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3RELFNBQVM7QUFDVCxRQUFRLHFCQUFxQixDQUFDLE1BQU07QUFDcEMsWUFBWSxRQUFRLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztBQUN4QyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLGNBQWM7QUFDMUIsWUFBWSxjQUFjLENBQUMsYUFBYTtBQUN4QyxZQUFZLENBQUMsY0FBYyxDQUFDLFdBQVc7QUFDdkMsWUFBWSxRQUFRLENBQUMsUUFBUTtBQUM3QixZQUFZLENBQUMsUUFBUSxDQUFDLGFBQWE7QUFDbkMsWUFBWSxRQUFRLENBQUMsVUFBVSxLQUFLLGNBQWMsQ0FBQyxTQUFTLEVBQUU7QUFDOUQsWUFBWSxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbEMsWUFBWSxJQUFJLGNBQWMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO0FBQzNDLGdCQUFnQixjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDekMsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLElBQStDLHFCQUFxQixFQUFFO0FBQzlFLFlBQVksd0JBQXdCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0MsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxlQUFlLEdBQUcsQ0FBQyxRQUFRLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxRQUFRLEdBQUcsS0FBSyxFQUFFLFNBQVMsR0FBRyxLQUFLLEVBQUUsS0FBSyxHQUFHLENBQUMsS0FBSztBQUMzSCxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3RELFlBQVksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN2RixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGVBQWUsR0FBRyxLQUFLLElBQUk7QUFDckMsUUFBUSxJQUFJLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQyxrQkFBa0I7QUFDakQsWUFBWSxPQUFPLGVBQWUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzVELFNBQVM7QUFDVCxRQUFRLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxHQUFHLGlCQUFpQjtBQUNsRCxZQUFZLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN6QyxTQUFTO0FBQ1QsUUFBUSxPQUFPLGVBQWUsRUFBRSxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQztBQUMzRCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sTUFBTSxHQUFHLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEtBQUs7QUFDaEQsUUFBUSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFDM0IsWUFBWSxJQUFJLFNBQVMsQ0FBQyxNQUFNLEVBQUU7QUFDbEMsZ0JBQWdCLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUQsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN2RixTQUFTO0FBQ1QsUUFBUSxpQkFBaUIsRUFBRSxDQUFDO0FBQzVCLFFBQVEsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDakMsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLFNBQVMsR0FBRztBQUN0QixRQUFRLENBQUMsRUFBRSxLQUFLO0FBQ2hCLFFBQVEsRUFBRSxFQUFFLE9BQU87QUFDbkIsUUFBUSxDQUFDLEVBQUUsSUFBSTtBQUNmLFFBQVEsQ0FBQyxFQUFFLE1BQU07QUFDakIsUUFBUSxFQUFFLEVBQUUsY0FBYztBQUMxQixRQUFRLEVBQUUsRUFBRSxhQUFhO0FBQ3pCLFFBQVEsRUFBRSxFQUFFLGFBQWE7QUFDekIsUUFBUSxHQUFHLEVBQUUsa0JBQWtCO0FBQy9CLFFBQVEsQ0FBQyxFQUFFLGVBQWU7QUFDMUIsUUFBUSxDQUFDLEVBQUUsT0FBTztBQUNsQixLQUFLLENBQUM7QUFDTixJQUFJLElBQUksT0FBTyxDQUFDO0FBQ2hCLElBQUksSUFBSSxXQUFXLENBQUM7QUFDcEIsSUFBSSxJQUFJLGtCQUFrQixFQUFFO0FBQzVCLFFBQVEsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLEdBQUcsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDL0QsS0FBSztBQUNMLElBQUksT0FBTztBQUNYLFFBQVEsTUFBTTtBQUNkLFFBQVEsT0FBTztBQUNmLFFBQVEsU0FBUyxFQUFFLFlBQVksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO0FBQ2hELEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxTQUFTLGVBQWUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEdBQUcsSUFBSSxFQUFFO0FBQ2xFLElBQUksMEJBQTBCLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLG1CQUFtQjtBQUNuRSxRQUFRLEtBQUs7QUFDYixRQUFRLFNBQVM7QUFDakIsS0FBSyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsc0JBQXNCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEdBQUcsS0FBSyxFQUFFO0FBQ3pELElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUM1QixJQUFJLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDNUIsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDdEMsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM3QztBQUNBO0FBQ0EsWUFBWSxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUIsWUFBWSxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUIsWUFBWSxJQUFJLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFO0FBQ3ZFLGdCQUFnQixJQUFJLEVBQUUsQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLEtBQUssRUFBRSx1QkFBdUI7QUFDbkYsb0JBQW9CLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pELG9CQUFvQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDbEMsaUJBQWlCO0FBQ2pCLGdCQUFnQixJQUFJLENBQUMsT0FBTztBQUM1QixvQkFBb0Isc0JBQXNCLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELGFBQWE7QUFNYixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBLFNBQVMsV0FBVyxDQUFDLEdBQUcsRUFBRTtBQUMxQixJQUFJLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUMxQixJQUFJLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkIsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdEIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0FBQzNCLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDOUIsUUFBUSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUIsUUFBUSxJQUFJLElBQUksS0FBSyxDQUFDLEVBQUU7QUFDeEIsWUFBWSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDMUMsWUFBWSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUU7QUFDL0IsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsZ0JBQWdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0IsZ0JBQWdCLFNBQVM7QUFDekIsYUFBYTtBQUNiLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNsQixZQUFZLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUNsQyxZQUFZLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUMxQixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdEMsZ0JBQWdCLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FB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
