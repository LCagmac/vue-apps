function t(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(b(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=r(M(i)?o(i):i);if(s)for(const t in s)e[t]=s[t]}return e}if(T(t))return t}const i=/;(?![^(]*\))/g,s=/:(.+)/;function o(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(s);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(M(t))e=t;else if(b(t))for(let n=0;n<t.length;n++){const r=a(t[n]);r&&(e+=r+" ")}else if(T(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":T(t)?JSON.stringify(t,c,2):String(t),c=(t,e)=>_(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:E(e)?{[`Set(${e.size})`]:[...e.values()]}:!T(e)||b(e)||R(e)?e:String(e),h={},l=[],f=()=>{},p=()=>!1,d=/^on[^a-z]/,m=t=>d.test(t),g=t=>t.startsWith("onUpdate:"),v=Object.assign,y=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},x=Object.prototype.hasOwnProperty,w=(t,e)=>x.call(t,e),b=Array.isArray,_=t=>"[object Map]"===C(t),E=t=>"[object Set]"===C(t),N=t=>"function"==typeof t,M=t=>"string"==typeof t,S=t=>"symbol"==typeof t,T=t=>null!==t&&"object"==typeof t,O=t=>T(t)&&N(t.then)&&N(t.catch),A=Object.prototype.toString,C=t=>A.call(t),R=t=>"[object Object]"===C(t),k=t=>M(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,z=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L=/-(\w)/g,D=I((t=>t.replace(L,((t,e)=>e?e.toUpperCase():"")))),U=/\B([A-Z])/g,P=I((t=>t.replace(U,"-$1").toLowerCase())),F=I((t=>t.charAt(0).toUpperCase()+t.slice(1))),j=I((t=>t?`on${F(t)}`:"")),B=(t,e)=>t!==e&&(t==t||e==e),H=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},q=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let V;const G=()=>V||(V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),W=new WeakMap,Y=[];let Z;const X=Symbol(""),J=Symbol("");function Q(t,e=h){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!Y.includes(n)){et(n);try{return rt.push(nt),nt=!0,Y.push(n),Z=n,t()}finally{Y.pop(),st(),Z=Y[Y.length-1]}}};return n.id=tt++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function K(t){t.active&&(et(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let tt=0;function et(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let nt=!0;const rt=[];function it(){rt.push(nt),nt=!1}function st(){const t=rt.pop();nt=void 0===t||t}function ot(t,e,n){if(!nt||void 0===Z)return;let r=W.get(t);r||W.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Z)||(i.add(Z),Z.deps.push(i))}function at(t,e,n,r,i,s){const o=W.get(t);if(!o)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==Z||t.allowRecurse)&&a.add(t)}))};if("clear"===e)o.forEach(u);else if("length"===n&&b(t))o.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(o.get(n)),e){case"add":b(t)?k(n)&&u(o.get("length")):(u(o.get(X)),_(t)&&u(o.get(J)));break;case"delete":b(t)||(u(o.get(X)),_(t)&&u(o.get(J)));break;case"set":_(t)&&u(o.get(X))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const ut=t("__proto__,__v_isRef,__isVue"),ct=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(S)),ht=mt(),lt=mt(!1,!0),ft=mt(!0),pt=mt(!0,!0),dt={};function mt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Vt:$t:e?qt:Ht).get(n))return n;const s=b(n);if(!t&&s&&w(dt,r))return Reflect.get(dt,r,i);const o=Reflect.get(n,r,i);if(S(r)?ct.has(r):ut(r))return o;if(t||ot(n,0,r),e)return o;if(te(o)){return!s||!k(r)?o.value:o}return T(o)?t?Yt(o):Wt(o):o}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];dt[t]=function(...t){const n=Kt(this);for(let t=0,e=this.length;t<e;t++)ot(n,0,t+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Kt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];dt[t]=function(...t){it();const n=e.apply(this,t);return st(),n}}));function gt(t=!1){return function(e,n,r,i){let s=e[n];if(!t&&(r=Kt(r),s=Kt(s),!b(e)&&te(s)&&!te(r)))return s.value=r,!0;const o=b(e)&&k(n)?Number(n)<e.length:w(e,n),a=Reflect.set(e,n,r,i);return e===Kt(i)&&(o?B(r,s)&&at(e,"set",n,r):at(e,"add",n,r)),a}}const vt={get:ht,set:gt(),deleteProperty:function(t,e){const n=w(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&at(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return S(e)&&ct.has(e)||ot(t,0,e),n},ownKeys:function(t){return ot(t,0,b(t)?"length":X),Reflect.ownKeys(t)}},yt={get:ft,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},xt=v({},vt,{get:lt,set:gt(!0)});v({},yt,{get:pt});const wt=t=>T(t)?Wt(t):t,bt=t=>T(t)?Yt(t):t,_t=t=>t,Et=t=>Reflect.getPrototypeOf(t);function Nt(t,e,n=!1,r=!1){const i=Kt(t=t.__v_raw),s=Kt(e);e!==s&&!n&&ot(i,0,e),!n&&ot(i,0,s);const{has:o}=Et(i),a=r?_t:n?bt:wt;return o.call(i,e)?a(t.get(e)):o.call(i,s)?a(t.get(s)):void 0}function Mt(t,e=!1){const n=this.__v_raw,r=Kt(n),i=Kt(t);return t!==i&&!e&&ot(r,0,t),!e&&ot(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function St(t,e=!1){return t=t.__v_raw,!e&&ot(Kt(t),0,X),Reflect.get(t,"size",t)}function Tt(t){t=Kt(t);const e=Kt(this);return Et(e).has.call(e,t)||(e.add(t),at(e,"add",t,t)),this}function Ot(t,e){e=Kt(e);const n=Kt(this),{has:r,get:i}=Et(n);let s=r.call(n,t);s||(t=Kt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?B(e,o)&&at(n,"set",t,e):at(n,"add",t,e),this}function At(t){const e=Kt(this),{has:n,get:r}=Et(e);let i=n.call(e,t);i||(t=Kt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&at(e,"delete",t,void 0),s}function Ct(){const t=Kt(this),e=0!==t.size,n=t.clear();return e&&at(t,"clear",void 0,void 0),n}function Rt(t,e){return function(n,r){const i=this,s=i.__v_raw,o=Kt(s),a=e?_t:t?bt:wt;return!t&&ot(o,0,X),s.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function kt(t,e,n){return function(...r){const i=this.__v_raw,s=Kt(i),o=_(s),a="entries"===t||t===Symbol.iterator&&o,u="keys"===t&&o,c=i[t](...r),h=n?_t:e?bt:wt;return!e&&ot(s,0,u?J:X),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function zt(t){return function(...e){return"delete"!==t&&this}}const It={get(t){return Nt(this,t)},get size(){return St(this)},has:Mt,add:Tt,set:Ot,delete:At,clear:Ct,forEach:Rt(!1,!1)},Lt={get(t){return Nt(this,t,!1,!0)},get size(){return St(this)},has:Mt,add:Tt,set:Ot,delete:At,clear:Ct,forEach:Rt(!1,!0)},Dt={get(t){return Nt(this,t,!0)},get size(){return St(this,!0)},has(t){return Mt.call(this,t,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Rt(!0,!1)},Ut={get(t){return Nt(this,t,!0,!0)},get size(){return St(this,!0)},has(t){return Mt.call(this,t,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Rt(!0,!0)};function Pt(t,e){const n=e?t?Ut:Lt:t?Dt:It;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{It[t]=kt(t,!1,!1),Dt[t]=kt(t,!0,!1),Lt[t]=kt(t,!1,!0),Ut[t]=kt(t,!0,!0)}));const Ft={get:Pt(!1,!1)},jt={get:Pt(!1,!0)},Bt={get:Pt(!0,!1)},Ht=new WeakMap,qt=new WeakMap,$t=new WeakMap,Vt=new WeakMap;function Gt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>C(t).slice(8,-1))(t))}function Wt(t){return t&&t.__v_isReadonly?t:Zt(t,!1,vt,Ft,Ht)}function Yt(t){return Zt(t,!0,yt,Bt,$t)}function Zt(t,e,n,r,i){if(!T(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Gt(t);if(0===o)return t;const a=new Proxy(t,2===o?r:n);return i.set(t,a),a}function Xt(t){return Jt(t)?Xt(t.__v_raw):!(!t||!t.__v_isReactive)}function Jt(t){return!(!t||!t.__v_isReadonly)}function Qt(t){return Xt(t)||Jt(t)}function Kt(t){return t&&Kt(t.__v_raw)||t}function te(t){return Boolean(t&&!0===t.__v_isRef)}function ee(t){return te(t)?t.value:t}const ne={get:(t,e,n)=>ee(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return te(i)&&!te(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function re(t){return Xt(t)?t:new Proxy(t,ne)}class ie{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}class se{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=Q(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,at(Kt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=Kt(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),ot(t,0,"value"),t._value}set value(t){this._setter(t)}}function oe(t,e,n,r){let i;try{i=r?t(...r):t()}catch(t){ue(t,e,n)}return i}function ae(t,e,n,r){if(N(t)){const i=oe(t,e,n,r);return i&&O(i)&&i.catch((t=>{ue(t,e,n)})),i}const i=[];for(let s=0;s<t.length;s++)i.push(ae(t[s],e,n,r));return i}function ue(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,s=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,s))return;r=r.parent}const o=e.appContext.config.errorHandler;if(o)return void oe(o,null,10,[t,i,s])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let ce=!1,he=!1;const le=[];let fe=0;const pe=[];let de=null,me=0;const ge=[];let ve=null,ye=0;const xe=Promise.resolve();let we=null,be=null;function _e(t){const e=we||xe;return t?e.then(this?t.bind(this):t):e}function Ee(t){if(!(le.length&&le.includes(t,ce&&t.allowRecurse?fe+1:fe)||t===be)){const e=function(t){let e=fe+1,n=le.length;const r=Oe(t);for(;e<n;){const t=e+n>>>1;Oe(le[t])<r?e=t+1:n=t}return e}(t);e>-1?le.splice(e,0,t):le.push(t),Ne()}}function Ne(){ce||he||(he=!0,we=xe.then(Ae))}function Me(t,e,n,r){b(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Ne()}function Se(t,e=null){if(pe.length){for(be=e,de=[...new Set(pe)],pe.length=0,me=0;me<de.length;me++)de[me]();de=null,me=0,be=null,Se(t,e)}}function Te(t){if(ge.length){const t=[...new Set(ge)];if(ge.length=0,ve)return void ve.push(...t);for(ve=t,ve.sort(((t,e)=>Oe(t)-Oe(e))),ye=0;ye<ve.length;ye++)ve[ye]();ve=null,ye=0}}const Oe=t=>null==t.id?1/0:t.id;function Ae(t){he=!1,ce=!0,Se(t),le.sort(((t,e)=>Oe(t)-Oe(e)));try{for(fe=0;fe<le.length;fe++){const t=le[fe];t&&oe(t,null,14)}}finally{fe=0,le.length=0,Te(),ce=!1,we=null,(le.length||ge.length)&&Ae(t)}}let Ce;const Re=Ie("component:added"),ke=Ie("component:updated"),ze=Ie("component:removed");function Ie(t){return e=>{Ce&&Ce.emit(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}function Le(t,e,...n){const r=t.vnode.props||h;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const t=`${"modelValue"===o?"model":o}Modifiers`,{number:e,trim:s}=r[t]||h;s?i=n.map((t=>t.trim())):e&&(i=n.map($))}let a;__VUE_PROD_DEVTOOLS__&&function(t,e,n){Ce&&Ce.emit("component:emit",t.appContext.app,t,e,n)}(t,e,i);let u=r[a=j(e)]||r[a=j(D(e))];!u&&s&&(u=r[a=j(P(e))]),u&&ae(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;ae(c,t,6,i)}}function De(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},s=!1;if(__VUE_OPTIONS_API__&&!N(t)){const r=t=>{const n=De(t,e,!0);n&&(s=!0,v(i,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||s?(b(r)?r.forEach((t=>i[t]=null)):v(i,r),t.__emits=i):t.__emits=null}function Ue(t,e){return!(!t||!m(e))&&(e=e.slice(2).replace(/Once$/,""),w(t,e[0].toLowerCase()+e.slice(1))||w(t,P(e))||w(t,e))}let Pe=0;const Fe=t=>Pe+=t;let je=null,Be=null;function He(t){const e=je;return je=t,Be=t&&t.type.__scopeId||null,e}function qe(t){Be=t}function $e(){Be=null}function Ve(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:u,emit:c,render:h,renderCache:l,data:f,setupState:p,ctx:d}=t;let m;const v=He(t);try{let t;if(4&n.shapeFlag){const e=i||r;m=rr(h.call(e,e,l,s,p,f,d)),t=u}else{const n=e;0,m=rr(n.length>1?n(s,{attrs:u,slots:a,emit:c}):n(s,null)),t=e.props?u:We(u)}let v=m;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=v;e.length&&(1&n||6&n)&&(o&&e.some(g)&&(t=Ye(t,o)),v=er(v,t))}n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),m=v}catch(e){$n.length=0,ue(e,t,1),m=tr(Hn)}return He(v),m}function Ge(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!Zn(r))return;if(r.type!==Hn||"v-if"===r.children){if(e)return;e=r}}return e}const We=t=>{let e;for(const n in t)("class"===n||"style"===n||m(n))&&((e||(e={}))[n]=t[n]);return e},Ye=(t,e)=>{const n={};for(const r in t)g(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Ze(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Ue(n,s))return!0}return!1}function Xe(t){if(N(t)&&(t=t()),b(t)){t=Ge(t)}return rr(t)}function Je(t,e,n,r=!1){const i={},s={};q(s,Jn,1),t.propsDefaults=Object.create(null),Qe(t,e,i,s),n?t.props=r?i:Zt(i,!1,xt,jt,qt):t.type.props?t.props=i:t.props=s,t.attrs=s}function Qe(t,e,n,r){const[i,s]=t.propsOptions;if(e)for(const s in e){const o=e[s];if(z(s))continue;let a;i&&w(i,a=D(s))?n[a]=o:Ue(t.emitsOptions,s)||(r[s]=o)}if(s){const e=Kt(n);for(let r=0;r<s.length;r++){const o=s[r];n[o]=Ke(i,e,o,e[o],t)}}}function Ke(t,e,n,r,i){const s=t[n];if(null!=s){const t=w(s,"default");if(t&&void 0===r){const t=s.default;if(s.type!==Function&&N(t)){const{propsDefaults:s}=i;n in s?r=s[n]:(_r(i),r=s[n]=t(e),_r(null))}else r=t}s[0]&&(w(e,n)||t?!s[1]||""!==r&&r!==P(n)||(r=!0):r=!1)}return r}function tn(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},s=[];let o=!1;if(__VUE_OPTIONS_API__&&!N(t)){const r=t=>{o=!0;const[n,r]=tn(t,e,!0);v(i,n),r&&s.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!o)return t.__props=l;if(b(r))for(let t=0;t<r.length;t++){const e=D(r[t]);en(e)&&(i[e]=h)}else if(r)for(const t in r){const e=D(t);if(en(e)){const n=r[t],o=i[e]=b(n)||N(n)?{type:n}:n;if(o){const t=sn(Boolean,o.type),n=sn(String,o.type);o[0]=t>-1,o[1]=n<0||t<n,(t>-1||w(o,"default"))&&s.push(e)}}}return t.__props=[i,s]}function en(t){return"$"!==t[0]}function nn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function rn(t,e){return nn(t)===nn(e)}function sn(t,e){return b(e)?e.findIndex((e=>rn(e,t))):N(e)&&rn(e,t)?0:-1}function on(t,e,n=br,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;it(),_r(n);const i=ae(e,n,t,r);return _r(null),st(),i});return r?i.unshift(s):i.push(s),s}}const an=t=>(e,n=br)=>!Nr&&on(t,e,n),un=an("bm"),cn=an("m"),hn=an("bu"),ln=an("u"),fn=an("bum"),pn=an("um"),dn=an("rtg"),mn=an("rtc"),gn={};function vn(t,e,n){return yn(t,e,n)}function yn(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=h,a=br){let u,c,l=!1;if(te(t)?(u=()=>t.value,l=!!t._shallow):Xt(t)?(u=()=>t,r=!0):u=b(t)?()=>t.map((t=>te(t)?t.value:Xt(t)?wn(t):N(t)?oe(t,a,2,[a&&a.proxy]):void 0)):N(t)?e?()=>oe(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),ae(t,a,3,[p])}:f,e&&r){const t=u;u=()=>wn(t())}let p=t=>{c=v.options.onStop=()=>{oe(t,a,4)}},d=b(t)?[]:gn;const m=()=>{if(v.active)if(e){const t=v();(r||l||B(t,d))&&(c&&c(),ae(e,a,3,[t,d===gn?void 0:d,p]),d=t)}else v()};let g;m.allowRecurse=!!e,g="sync"===i?m:"post"===i?()=>In(m,a&&a.suspense):()=>{!a||a.isMounted?function(t){Me(t,de,pe,me)}(m):m()};const v=Q(u,{lazy:!0,onTrack:s,onTrigger:o,scheduler:g});return Tr(v,a),e?n?m():d=v():"post"===i?In(v,a&&a.suspense):v(),()=>{K(v),a&&y(a.effects,v)}}function xn(t,e,n){const r=this.proxy;return yn(M(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function wn(t,e=new Set){if(!T(t)||e.has(t))return t;if(e.add(t),te(t))wn(t.value,e);else if(b(t))for(let n=0;n<t.length;n++)wn(t[n],e);else if(E(t)||_(t))t.forEach((t=>{wn(t,e)}));else for(const n in t)wn(t[n],e);return t}const bn=t=>t.type.__isKeepAlive;function _n(t,e,n=br){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(on(e,r,n),n){let t=n.parent;for(;t&&t.parent;)bn(t.parent.vnode)&&En(r,e,n,t),t=t.parent}}function En(t,e,n,r){const i=on(e,t,r,!0);pn((()=>{y(r[e],i)}),n)}const Nn=t=>"_"===t[0]||"$stable"===t,Mn=t=>b(t)?t.map(rr):[rr(t)],Sn=(t,e,n)=>function(t,e=je){if(!e)return t;const n=(...n)=>{Pe||Gn(!0);const r=He(e),i=t(...n);return He(r),Pe||Wn(),i};return n._c=!0,n}((t=>Mn(e(t))),n),Tn=(t,e)=>{const n=t._ctx;for(const r in t){if(Nn(r))continue;const i=t[r];if(N(i))e[r]=Sn(0,i,n);else if(null!=i){const t=Mn(i);e[r]=()=>t}}},On=(t,e)=>{const n=Mn(e);t.slots.default=()=>n};function An(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);const u=a.dir[r];u&&ae(u,n,8,[t.el,a,t,e])}}function Cn(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:p,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Rn=0;function kn(t,e){return function(n,r=null){null==r||T(r)||(r=null);const i=Cn(),s=new Set;let o=!1;const a=i.app={_uid:Rn++,_component:n,_props:r,_container:null,_context:i,version:Ar,get config(){return i.config},set config(t){},use:(t,...e)=>(s.has(t)||(t&&N(t.install)?(s.add(t),t.install(a,...e)):N(t)&&(s.add(t),t(a,...e))),a),mixin:t=>(__VUE_OPTIONS_API__&&(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0))),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(s,u,c){if(!o){const h=tr(n,r);return h.appContext=i,u&&e?e(h,s):t(h,s,c),o=!0,a._container=s,s.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&function(t,e){Ce&&Ce.emit("app:init",t,e,{Fragment:jn,Text:Bn,Comment:Hn,Static:qn})}(a,Ar),h.component.proxy}},unmount(){o&&(t(null,a._container),__VUE_PROD_DEVTOOLS__&&function(t){Ce&&Ce.emit("app:unmount",t)}(a),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const zn={scheduler:Ee,allowRecurse:!0},In=function(t,e){e&&e.pendingBranch?b(t)?e.effects.push(...t):e.effects.push(t):Me(t,ve,ge,ye)},Ln=(t,e,n,r)=>{if(b(t))return void t.forEach(((t,i)=>Ln(t,e&&(b(e)?e[i]:e),n,r)));let i;if(r){if((t=>!!t.type.__asyncLoader)(r))return;i=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else i=null;const{i:s,r:o}=t,a=e&&e.r,u=s.refs===h?s.refs={}:s.refs,c=s.setupState;if(null!=a&&a!==o&&(M(a)?(u[a]=null,w(c,a)&&(c[a]=null)):te(a)&&(a.value=null)),M(o)){const t=()=>{u[o]=i,w(c,o)&&(c[o]=i)};i?(t.id=-1,In(t,n)):t()}else if(te(o)){const t=()=>{o.value=i};i?(t.id=-1,In(t,n)):t()}else N(o)&&oe(o,s,12,[i,u])};function Dn(t){return function(t,e){if(function(){"boolean"!=typeof __VUE_OPTIONS_API__&&(G().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(G().__VUE_PROD_DEVTOOLS__=!1)}(),__VUE_PROD_DEVTOOLS__){const t=G();t.__VUE__=!0,n=t.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ce=n}var n;const{insert:r,remove:i,patchProp:s,forcePatchProp:o,createElement:a,createText:u,createComment:c,setText:p,setElementText:d,parentNode:m,nextSibling:g,setScopeId:y=f,cloneNode:x,insertStaticContent:b}=t,_=(t,e,n,r=null,i=null,s=null,o=!1,a=null,u=!1)=>{t&&!Xn(t,e)&&(r=ut(t),tt(t,i,s,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:l}=e;switch(c){case Bn:E(t,e,n,r);break;case Hn:N(t,e,n,r);break;case qn:null==t&&M(e,n,r,o);break;case jn:F(t,e,n,r,i,s,o,a,u);break;default:1&l?A(t,e,n,r,i,s,o,a,u):6&l?j(t,e,n,r,i,s,o,a,u):(64&l||128&l)&&c.process(t,e,n,r,i,s,o,a,u,ht)}null!=h&&i&&Ln(h,t&&t.ref,s,e)},E=(t,e,n,i)=>{if(null==t)r(e.el=u(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&p(n,e.children)}},N=(t,e,n,i)=>{null==t?r(e.el=c(e.children||""),n,i):e.el=t.el},M=(t,e,n,r)=>{[t.el,t.anchor]=b(t.children,e,n,r)},S=({el:t,anchor:e},n,i)=>{let s;for(;t&&t!==e;)s=g(t),r(t,n,i),t=s;r(e,n,i)},T=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=g(t),i(t),t=n;i(e)},A=(t,e,n,r,i,s,o,a,u)=>{o=o||"svg"===e.type,null==t?C(e,n,r,i,s,o,a,u):I(t,e,i,s,o,a,u)},C=(t,e,n,i,o,u,c,h)=>{let l,f;const{type:p,props:m,shapeFlag:g,transition:v,patchFlag:y,dirs:w}=t;if(t.el&&void 0!==x&&-1===y)l=t.el=x(t.el);else{if(l=t.el=a(t.type,u,m&&m.is,m),8&g?d(l,t.children):16&g&&k(t.children,l,null,i,o,u&&"foreignObject"!==p,c,h||!!t.dynamicChildren),w&&An(t,null,i,"created"),m){for(const e in m)z(e)||s(l,e,null,m[e],u,t.children,i,o,ot);(f=m.onVnodeBeforeMount)&&Un(f,i,t)}R(l,t,t.scopeId,c,i)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(l,"__vnode",{value:t,enumerable:!1}),Object.defineProperty(l,"__vueParentComponent",{value:i,enumerable:!1})),w&&An(t,null,i,"beforeMount");const b=(!o||o&&!o.pendingBranch)&&v&&!v.persisted;b&&v.beforeEnter(l),r(l,e,n),((f=m&&m.onVnodeMounted)||b||w)&&In((()=>{f&&Un(f,i,t),b&&v.enter(l),w&&An(t,null,i,"mounted")}),o)},R=(t,e,n,r,i)=>{if(n&&y(t,n),r)for(let e=0;e<r.length;e++)y(t,r[e]);if(i){if(e===i.subTree){const e=i.vnode;R(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},k=(t,e,n,r,i,s,o,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=o?ir(t[c]):rr(t[c]);_(null,u,e,n,r,i,s,o,a)}},I=(t,e,n,r,i,a,u)=>{const c=e.el=t.el;let{patchFlag:l,dynamicChildren:f,dirs:p}=e;l|=16&t.patchFlag;const m=t.props||h,g=e.props||h;let v;if((v=g.onVnodeBeforeUpdate)&&Un(v,n,e,t),p&&An(e,t,n,"beforeUpdate"),l>0){if(16&l)U(c,e,m,g,n,r,i);else if(2&l&&m.class!==g.class&&s(c,"class",null,g.class,i),4&l&&s(c,"style",m.style,g.style,i),8&l){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],h=m[u],l=g[u];(l!==h||o&&o(c,u))&&s(c,u,h,l,i,t.children,n,r,ot)}}1&l&&t.children!==e.children&&d(c,e.children)}else u||null!=f||U(c,e,m,g,n,r,i);const y=i&&"foreignObject"!==e.type;f?L(t.dynamicChildren,f,c,n,r,y,a):u||Y(t,e,c,null,n,r,y,a,!1),((v=g.onVnodeUpdated)||p)&&In((()=>{v&&Un(v,n,e,t),p&&An(e,t,n,"updated")}),r)},L=(t,e,n,r,i,s,o)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],h=u.type===jn||!Xn(u,c)||6&u.shapeFlag||64&u.shapeFlag?m(u.el):n;_(u,c,h,null,r,i,s,o,!0)}},U=(t,e,n,r,i,a,u)=>{if(n!==r){for(const c in r){if(z(c))continue;const h=r[c],l=n[c];(h!==l||o&&o(t,c))&&s(t,c,l,h,u,e.children,i,a,ot)}if(n!==h)for(const o in n)z(o)||o in r||s(t,o,n[o],null,u,e.children,i,a,ot)}},F=(t,e,n,i,s,o,a,c,h)=>{const l=e.el=t?t.el:u(""),f=e.anchor=t?t.anchor:u("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:m}=e;p>0&&(h=!0),m&&(c=c?c.concat(m):m),null==t?(r(l,n,i),r(f,n,i),k(e.children,n,f,s,o,a,c,h)):p>0&&64&p&&d&&t.dynamicChildren?(L(t.dynamicChildren,d,n,s,o,a,c),(null!=e.key||s&&e===s.subTree)&&Pn(t,e,!0)):Y(t,e,n,f,s,o,a,c,h)},j=(t,e,n,r,i,s,o,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,o,u):B(e,n,r,i,s,o,u):$(t,e,u)},B=(t,e,n,r,i,s,o)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||xr,s={uid:wr++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tn(r,i),emitsOptions:De(r,i),emit:null,emitted:null,propsDefaults:h,ctx:h,data:h,props:h,attrs:h,slots:h,refs:h,setupState:h,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Le.bind(null,s),s}(t,r,i);if(bn(t)&&(a.ctx.renderer=ht),function(t,e=!1){Nr=e;const{props:n,children:r}=t.vnode,i=Er(t);Je(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,q(e,"_",n)):Tn(e,t.slots={})}else t.slots={},e&&On(t,e);q(t.slots,Jn,1)})(t,r);const s=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vr);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=re(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;br=t,it();const i=oe(r,t,0,[t.props,n]);if(st(),br=null,O(i)){if(e)return i.then((e=>{Mr(t,e)})).catch((e=>{ue(e,t,0)}));t.asyncDep=i}else Mr(t,i)}else Sr(t)}(t,e):void 0;Nr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,V),!t.el){const t=a.subTree=tr(Hn);N(null,t,e,n)}}else V(a,t,e,n,i,s,o)},$=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||Ze(r,o,c):!!o);if(1024&u)return!0;if(16&u)return r?Ze(r,o,c):!!o;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==r[n]&&!Ue(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void W(r,e,n);r.next=e,function(t){const e=le.indexOf(t);e>fe&&le.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},V=(t,e,n,r,i,s,o)=>{t.update=Q((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,h=n;n?(n.el=c.el,W(t,n,o)):n=c,r&&H(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Un(e,u,n,c);const l=Ve(t),f=t.subTree;t.subTree=l,_(f,l,m(f.el),ut(f),t,i,s),n.el=l.el,null===h&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,l.el),a&&In(a,i),(e=n.props&&n.props.onVnodeUpdated)&&In((()=>{Un(e,u,n,c)}),i),__VUE_PROD_DEVTOOLS__&&ke(t)}else{let o;const{el:a,props:u}=e,{bm:c,m:h,parent:l}=t;c&&H(c),(o=u&&u.onVnodeBeforeMount)&&Un(o,l,e);const f=t.subTree=Ve(t);if(a&&ft?ft(e.el,f,t,i,null):(_(null,f,n,r,t,i,s),e.el=f.el),h&&In(h,i),o=u&&u.onVnodeMounted){const t=e;In((()=>{Un(o,l,t)}),i)}const{a:p}=t;p&&256&e.shapeFlag&&In(p,i),t.isMounted=!0,__VUE_PROD_DEVTOOLS__&&Re(t),e=n=r=null}}),zn)},W=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Kt(i),[u]=t.propsOptions;if(!(r||o>0)||16&o){let r;Qe(t,e,i,s);for(const s in a)e&&(w(e,s)||(r=P(s))!==s&&w(e,r))||(u?!n||void 0===n[s]&&void 0===n[r]||(i[s]=Ke(u,e||h,s,void 0,t)):delete i[s]);if(s!==a)for(const t in s)e&&w(e,t)||delete s[t]}else if(8&o){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const o=n[r],c=e[o];if(u)if(w(s,o))s[o]=c;else{const e=D(o);i[e]=Ke(u,a,e,c,t)}else s[o]=c}}at(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=h;if(32&r.shapeFlag){const t=e._;t?n&&1===t?s=!1:(v(i,e),n||1!==t||delete i._):(s=!e.$stable,Tn(e,i)),o=e}else e&&(On(t,e),o={default:1});if(s)for(const t in i)Nn(t)||t in o||delete i[t]})(t,e.children,n),it(),Se(void 0,t.update),st()},Y=(t,e,n,r,i,s,o,a,u=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,l=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void X(c,l,n,r,i,s,o,a,u);if(256&f)return void Z(c,l,n,r,i,s,o,a,u)}8&p?(16&h&&ot(c,i,s),l!==c&&d(n,l)):16&h?16&p?X(c,l,n,r,i,s,o,a,u):ot(c,i,s,!0):(8&h&&d(n,""),16&p&&k(l,n,r,i,s,o,a,u))},Z=(t,e,n,r,i,s,o,a,u)=>{e=e||l;const c=(t=t||l).length,h=e.length,f=Math.min(c,h);let p;for(p=0;p<f;p++){const r=e[p]=u?ir(e[p]):rr(e[p]);_(t[p],r,n,null,i,s,o,a,u)}c>h?ot(t,i,s,!0,!1,f):k(e,n,r,i,s,o,a,u,f)},X=(t,e,n,r,i,s,o,a,u)=>{let c=0;const h=e.length;let f=t.length-1,p=h-1;for(;c<=f&&c<=p;){const r=t[c],h=e[c]=u?ir(e[c]):rr(e[c]);if(!Xn(r,h))break;_(r,h,n,null,i,s,o,a,u),c++}for(;c<=f&&c<=p;){const r=t[f],c=e[p]=u?ir(e[p]):rr(e[p]);if(!Xn(r,c))break;_(r,c,n,null,i,s,o,a,u),f--,p--}if(c>f){if(c<=p){const t=p+1,l=t<h?e[t].el:r;for(;c<=p;)_(null,e[c]=u?ir(e[c]):rr(e[c]),n,l,i,s,o,a,u),c++}}else if(c>p)for(;c<=f;)tt(t[c],i,s,!0),c++;else{const d=c,m=c,g=new Map;for(c=m;c<=p;c++){const t=e[c]=u?ir(e[c]):rr(e[c]);null!=t.key&&g.set(t.key,c)}let v,y=0;const x=p-m+1;let w=!1,b=0;const E=new Array(x);for(c=0;c<x;c++)E[c]=0;for(c=d;c<=f;c++){const r=t[c];if(y>=x){tt(r,i,s,!0);continue}let h;if(null!=r.key)h=g.get(r.key);else for(v=m;v<=p;v++)if(0===E[v-m]&&Xn(r,e[v])){h=v;break}void 0===h?tt(r,i,s,!0):(E[h-m]=c+1,h>=b?b=h:w=!0,_(r,e[h],n,null,i,s,o,a,u),y++)}const N=w?function(t){const e=t.slice(),n=[0];let r,i,s,o,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=(s+o)/2|0,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];for(;s-- >0;)n[s]=o,o=e[o];return n}(E):l;for(v=N.length-1,c=x-1;c>=0;c--){const t=m+c,l=e[t],f=t+1<h?e[t+1].el:r;0===E[c]?_(null,l,n,f,i,s,o,a,u):w&&(v<0||c!==N[v]?J(l,n,f,2):v--)}}},J=(t,e,n,i,s=null)=>{const{el:o,type:a,transition:u,children:c,shapeFlag:h}=t;if(6&h)return void J(t.component.subTree,e,n,i);if(128&h)return void t.suspense.move(e,n,i);if(64&h)return void a.move(t,e,n,ht);if(a===jn){r(o,e,n);for(let t=0;t<c.length;t++)J(c[t],e,n,i);return void r(t.anchor,e,n)}if(a===qn)return void S(t,e,n);if(2!==i&&1&h&&u)if(0===i)u.beforeEnter(o),r(o,e,n),In((()=>u.enter(o)),s);else{const{leave:t,delayLeave:i,afterLeave:s}=u,a=()=>r(o,e,n),c=()=>{t(o,(()=>{a(),s&&s()}))};i?i(o,a,c):c()}else r(o,e,n)},tt=(t,e,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:u,dynamicChildren:c,shapeFlag:h,patchFlag:l,dirs:f}=t;if(null!=a&&Ln(a,null,n,null),256&h)return void e.ctx.deactivate(t);const p=1&h&&f;let d;if((d=o&&o.onVnodeBeforeUnmount)&&Un(d,e,t),6&h)rt(t.component,n,r);else{if(128&h)return void t.suspense.unmount(n,r);p&&An(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,n,i,ht,r):c&&(s!==jn||l>0&&64&l)?ot(c,e,n,!1,!0):(s===jn&&(128&l||256&l)||!i&&16&h)&&ot(u,e,n),r&&et(t)}((d=o&&o.onVnodeUnmounted)||p)&&In((()=>{d&&Un(d,e,t),p&&An(t,null,e,"unmounted")}),n)},et=t=>{const{type:e,el:n,anchor:r,transition:s}=t;if(e===jn)return void nt(n,r);if(e===qn)return void T(t);const o=()=>{i(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:r}=s,i=()=>e(n,o);r?r(t.el,o,i):i()}else o()},nt=(t,e)=>{let n;for(;t!==e;)n=g(t),i(t),t=n;i(e)},rt=(t,e,n)=>{const{bum:r,effects:i,update:s,subTree:o,um:a}=t;if(r&&H(r),i)for(let t=0;t<i.length;t++)K(i[t]);s&&(K(s),tt(o,t,e,n)),a&&In(a,e),In((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve()),__VUE_PROD_DEVTOOLS__&&ze(t)},ot=(t,e,n,r=!1,i=!1,s=0)=>{for(let o=s;o<t.length;o++)tt(t[o],e,n,r,i)},ut=t=>6&t.shapeFlag?ut(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el),ct=(t,e,n)=>{null==t?e._vnode&&tt(e._vnode,null,null,!0):_(e._vnode||null,t,e,null,null,null,n),Te(),e._vnode=t},ht={p:_,um:tt,m:J,r:et,mt:B,mc:k,pc:Y,pbc:L,n:ut,o:t};let lt,ft;e&&([lt,ft]=e(ht));return{render:ct,hydrate:lt,createApp:kn(ct,lt)}}(t)}function Un(t,e,n,r=null){ae(t,e,7,[n,r])}function Pn(t,e,n=!1){const r=t.children,i=e.children;if(b(r)&&b(i))for(let t=0;t<r.length;t++){const e=r[t];let s=i[t];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=i[t]=ir(i[t]),s.el=e.el),n||Pn(e,s))}}const Fn=Symbol(),jn=Symbol(void 0),Bn=Symbol(void 0),Hn=Symbol(void 0),qn=Symbol(void 0),$n=[];let Vn=null;function Gn(t=!1){$n.push(Vn=t?null:[])}function Wn(){$n.pop(),Vn=$n[$n.length-1]||null}function Yn(t,e,n,r,i){const s=tr(t,e,n,r,i,!0);return s.dynamicChildren=Vn||l,Wn(),Vn&&Vn.push(s),s}function Zn(t){return!!t&&!0===t.__v_isVNode}function Xn(t,e){return t.type===e.type&&t.key===e.key}const Jn="__vInternal",Qn=({key:t})=>null!=t?t:null,Kn=({ref:t})=>null!=t?M(t)||te(t)||N(t)?{i:je,r:t}:t:null,tr=function(t,e=null,n=null,i=0,s=null,o=!1){t&&t!==Fn||(t=Hn);if(Zn(t)){const r=er(t,e,!0);return n&&sr(r,n),r}u=t,N(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){(Qt(e)||Jn in e)&&(e=v({},e));let{class:t,style:n}=e;t&&!M(t)&&(e.class=a(t)),T(n)&&(Qt(n)&&!b(n)&&(n=v({},n)),e.style=r(n))}const c=M(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:T(t)?4:N(t)?2:0,h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Qn(e),ref:e&&Kn(e),scopeId:Be,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};if(sr(h,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=Xe(n.default),i=Xe(n.fallback)):(r=Xe(n),i=rr(null)),{content:r,fallback:i}}(h);h.ssContent=t,h.ssFallback=e}!o&&Vn&&(i>0||6&c)&&32!==i&&Vn.push(h);return h};function er(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:u}=t,c=e?function(...t){const e=v({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(m(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Qn(c),ref:e&&e.ref?n&&s?b(s)?s.concat(Kn(e)):[s,Kn(e)]:Kn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==jn?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&er(t.ssContent),ssFallback:t.ssFallback&&er(t.ssFallback),el:t.el,anchor:t.anchor}}function nr(t=" ",e=0){return tr(Bn,null,t,e)}function rr(t){return null==t||"boolean"==typeof t?tr(Hn):b(t)?tr(jn,null,t):"object"==typeof t?null===t.el?t:er(t):tr(Bn,null,String(t))}function ir(t){return null===t.el?t:er(t)}function sr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(b(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Fe(1),sr(t,n()),n._c&&Fe(-1)))}{n=32;const r=e._;r||Jn in e?3===r&&je&&(1024&je.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=je}}else N(e)?(e={default:e,_ctx:je},n=32):(e=String(e),64&r?(n=16,e=[nr(e)]):n=8);t.children=e,t.shapeFlag|=n}function or(t,e,n=!1){const r=br||je;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&N(e)?e():e}}let ar=!0;function ur(t,e,n=[],r=[],i=[],s=!1){const{mixins:o,extends:a,data:u,computed:c,methods:l,watch:p,provide:d,inject:m,components:g,directives:y,beforeMount:x,mounted:w,beforeUpdate:_,updated:E,activated:M,deactivated:S,beforeDestroy:O,beforeUnmount:A,destroyed:C,unmounted:R,render:k,renderTracked:z,renderTriggered:I,errorCaptured:L,expose:D}=e,U=t.proxy,P=t.ctx,F=t.appContext.mixins;if(s&&k&&t.render===f&&(t.render=k),s||(ar=!1,cr("beforeCreate","bc",e,t,F),ar=!0,lr(t,F,n,r,i)),a&&ur(t,a,n,r,i,!0),o&&lr(t,o,n,r,i),m)if(b(m))for(let t=0;t<m.length;t++){const e=m[t];P[e]=or(e)}else for(const t in m){const e=m[t];T(e)?P[t]=or(e.from||t,e.default,!0):P[t]=or(e)}if(l)for(const t in l){const e=l[t];N(e)&&(P[t]=e.bind(U))}if(s?u&&n.push(u):(n.length&&n.forEach((e=>fr(t,e,U))),u&&fr(t,u,U)),c)for(const t in c){const e=c[t],n=Or({get:N(e)?e.bind(U,U):N(e.get)?e.get.bind(U,U):f,set:!N(e)&&N(e.set)?e.set.bind(U):f});Object.defineProperty(P,t,{enumerable:!0,configurable:!0,get:()=>n.value,set:t=>n.value=t})}var j;if(p&&r.push(p),!s&&r.length&&r.forEach((t=>{for(const e in t)pr(t[e],P,U,e)})),d&&i.push(d),!s&&i.length&&i.forEach((t=>{const e=N(t)?t.call(U):t;Reflect.ownKeys(e).forEach((t=>{!function(t,e){if(br){let n=br.provides;const r=br.parent&&br.parent.provides;r===n&&(n=br.provides=Object.create(r)),n[t]=e}}(t,e[t])}))})),s&&(g&&v(t.components||(t.components=v({},t.type.components)),g),y&&v(t.directives||(t.directives=v({},t.type.directives)),y)),s||cr("created","c",e,t,F),x&&un(x.bind(U)),w&&cn(w.bind(U)),_&&hn(_.bind(U)),E&&ln(E.bind(U)),M&&_n(M.bind(U),"a",j),S&&function(t,e){_n(t,"da",e)}(S.bind(U)),L&&((t,e=br)=>{on("ec",t,e)})(L.bind(U)),z&&mn(z.bind(U)),I&&dn(I.bind(U)),A&&fn(A.bind(U)),R&&pn(R.bind(U)),b(D)&&!s)if(D.length){const e=t.exposed||(t.exposed=re({}));D.forEach((t=>{e[t]=function(t,e){return te(t[e])?t[e]:new ie(t,e)}(U,t)}))}else t.exposed||(t.exposed=h)}function cr(t,e,n,r,i){for(let n=0;n<i.length;n++)hr(t,e,i[n],r);hr(t,e,n,r)}function hr(t,e,n,r){const{extends:i,mixins:s}=n,o=n[t];if(i&&hr(t,e,i,r),s)for(let n=0;n<s.length;n++)hr(t,e,s[n],r);o&&ae(o.bind(r.proxy),r,e)}function lr(t,e,n,r,i){for(let s=0;s<e.length;s++)ur(t,e[s],n,r,i,!0)}function fr(t,e,n){ar=!1;const r=e.call(n,n);ar=!0,T(r)&&(t.data===h?t.data=Wt(r):v(t.data,r))}function pr(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(M(t)){const n=e[t];N(n)&&vn(i,n)}else if(N(t))vn(i,t.bind(n));else if(T(t))if(b(t))t.forEach((t=>pr(t,e,n,r)));else{const r=N(t.handler)?t.handler.bind(n):e[t.handler];N(r)&&vn(i,r,t)}}function dr(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:s}=e;s&&dr(t,s,n),i&&i.forEach((e=>dr(t,e,n)));for(const i in e)r&&w(r,i)?t[i]=r[i](t[i],e[i],n.proxy,i):t[i]=e[i]}const mr=t=>t?Er(t)?t.exposed?t.exposed:t.proxy:mr(t.parent):null,gr=v(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mr(t.parent),$root:t=>mr(t.root),$emit:t=>t.emit,$options:t=>__VUE_OPTIONS_API__?function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const s=t.appContext.mixins;if(!s.length&&!r&&!i)return e;const o={};return s.forEach((e=>dr(o,e,t))),dr(o,e,t),e.__merged=o}(t):t.type,$forceUpdate:t=>()=>Ee(t.update),$nextTick:t=>_e.bind(t.proxy),$watch:t=>__VUE_OPTIONS_API__?xn.bind(t):f}),vr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=o[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return s[e]}else{if(r!==h&&w(r,e))return o[e]=0,r[e];if(i!==h&&w(i,e))return o[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return o[e]=2,s[e];if(n!==h&&w(n,e))return o[e]=3,n[e];__VUE_OPTIONS_API__&&!ar||(o[e]=4)}}const l=gr[e];let f,p;return l?("$attrs"===e&&ot(t,0,e),l(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==h&&w(n,e)?(o[e]=3,n[e]):(p=u.config.globalProperties,w(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;if(i!==h&&w(i,e))i[e]=n;else if(r!==h&&w(r,e))r[e]=n;else if(w(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return void 0!==n[o]||t!==h&&w(t,o)||e!==h&&w(e,o)||(a=s[0])&&w(a,o)||w(r,o)||w(gr,o)||w(i.config.globalProperties,o)}},yr=v({},vr,{get(t,e){if(e!==Symbol.unscopables)return vr.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),xr=Cn();let wr=0;let br=null;const _r=t=>{br=t};function Er(t){return 4&t.vnode.shapeFlag}let Nr=!1;function Mr(t,e,n){N(e)?t.render=e:T(e)&&(__VUE_PROD_DEVTOOLS__&&(t.devtoolsRawSetupState=e),t.setupState=re(e)),Sr(t)}function Sr(t,e){const n=t.type;t.render||(t.render=n.render||f,t.render._rc&&(t.withProxy=new Proxy(t.ctx,yr))),__VUE_OPTIONS_API__&&(br=t,it(),ur(t,n),st(),br=null)}function Tr(t,e=br){e&&(e.effects||(e.effects=[])).push(t)}function Or(t){const e=function(t){let e,n;return N(t)?(e=t,n=f):(e=t.get,n=t.set),new se(e,n,N(t)||!t.set)}(t);return Tr(e.effect),e}const Ar="3.0.11",Cr="http://www.w3.org/2000/svg",Rr="undefined"!=typeof document?document:null;let kr,zr;const Ir={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Rr.createElementNS(Cr,t):Rr.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>Rr.createTextNode(t),createComment:t=>Rr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Rr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?zr||(zr=Rr.createElementNS(Cr,"svg")):kr||(kr=Rr.createElement("div"));i.innerHTML=t;const s=i.firstChild;let o=s,a=o;for(;o;)a=o,Ir.insert(o,e,n),o=i.firstChild;return[s,a]}};const Lr=/\s*!important$/;function Dr(t,e,n){if(b(n))n.forEach((n=>Dr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Pr[e];if(n)return n;let r=D(e);if("filter"!==r&&r in t)return Pr[e]=r;r=F(r);for(let n=0;n<Ur.length;n++){const i=Ur[n]+r;if(i in t)return Pr[e]=i}return e}(t,e);Lr.test(n)?t.setProperty(P(r),n.replace(Lr,""),"important"):t[r]=n}}const Ur=["Webkit","Moz","ms"],Pr={};const Fr="http://www.w3.org/1999/xlink";let jr=Date.now,Br=!1;if("undefined"!=typeof window){jr()>document.createEvent("Event").timeStamp&&(jr=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Br=!!(t&&Number(t[1])<=53)}let Hr=0;const qr=Promise.resolve(),$r=()=>{Hr=0};function Vr(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[n,a]=function(t){let e;if(Gr.test(t)){let n;for(e={};n=t.match(Gr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[P(t.slice(2)),e]}(e);if(r){!function(t,e,n,r){t.addEventListener(e,n,r)}(t,n,s[e]=function(t,e){const n=t=>{const r=t.timeStamp||jr();(Br||r>=n.attached-1)&&ae(function(t,e){if(b(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Hr||(qr.then($r),Hr=jr()))(),n}(r,i),a)}else o&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,o,a),s[e]=void 0)}}const Gr=/(?:Once|Passive|Capture)$/;const Wr=/^on[a-z]/;const Yr=v({patchProp:(t,e,r,i,s=!1,o,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,s);break;case"style":!function(t,e,n){const r=t.style;if(n)if(M(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)Dr(r,t,n[t]);if(e&&!M(e))for(const t in e)null==n[t]&&Dr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:m(e)?g(e)||Vr(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&Wr.test(e)&&N(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(Wr.test(e)&&M(n))return!1;return e in t}(t,e,i,s)?function(t,e,n,r,i,s,o){if("innerHTML"===e||"textContent"===e)return r&&o(r,i,s),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(t){}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,o,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(Fr,e.slice(6,e.length)):t.setAttributeNS(Fr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,s))}},forcePatchProp:(t,e)=>"value"===e},Ir);let Zr;const Xr=(...t)=>{const e=(Zr||(Zr=Dn(Yr))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(M(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;N(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};var Jr="https://resources.realitymedia.digital/test-vue-app/dist/1a6ace377133f14a.png";qe("data-v-1a845c70");const Qr={"xr-layer":"",class:"fade"},Kr=tr("p",null," Here's some more text just to make things not blank. ",-1);$e();var ti={expose:[],props:{msg:String},setup(t){const e=or("shared");return(n,r)=>(Gn(),Yn(jn,null,[tr("h1",Qr,u(t.msg),1),Kr,tr("button",{"xr-layer":"",onClick:r[1]||(r[1]=(...t)=>ee(e).increment&&ee(e).increment(...t))},"count is: "+u(ee(e).state.count),1)],64))}};function ei(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}ei("\na[data-v-1a845c70] {\n  color: #b542b9;\n}\n*[data-v-1a845c70] {\n    line-height : normal;\n}\n.fade[data-v-1a845c70] {\n  color: #9803a5;\n  /* transition: color 1s; */\n}\n.fade[data-v-1a845c70]:hover {\n  color: #a78e06;\n}\np[data-v-1a845c70] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-1a845c70] {\n      /* text-align: center; */\n\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-1a845c70] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n/* button :hover {\n    background-color: -internal-light-dark(rgb(150, 150, 150), rgb(121, 121, 121));\n} */\n"),ti.__scopeId="data-v-1a845c70",qe("data-v-3801617a");const ni={id:"top"},ri=tr("img",{alt:"Vue logo",src:Jr},null,-1);$e();var ii={expose:[],setup:t=>(t,e)=>(Gn(),Yn("div",ni,[ri,tr(ti,{msg:"Networked Vue Component with Shared Button Count"})]))};ei("\n#top[data-v-3801617a] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n  border: 5;\n  border-radius: 10px;\n  border-color: red;\n  width: 400px; height: 450px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-3801617a] {\n    box-sizing: content-box;\n}\nimg[data-v-3801617a] {\n    max-width: none;\n        display: inline;\n}\n"),ii.__scopeId="data-v-3801617a";var si=THREE,oi=Object.freeze({__proto__:null,default:si});class ai{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*n-s*r+t.x,this.y=i*r+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}ai.prototype.isVector2=!0;const ui=[];for(let t=0;t<256;t++)ui[t]=(t<16?"0":"")+t.toString(16);let ci=1234567;const hi=Math.PI/180,li=180/Math.PI;function fi(t,e,n){return Math.max(e,Math.min(n,t))}function pi(t,e){return(t%e+e)%e}function di(t,e,n){return(1-n)*t+n*e}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEG2RAD:hi,RAD2DEG:li,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ui[255&t]+ui[t>>8&255]+ui[t>>16&255]+ui[t>>24&255]+"-"+ui[255&e]+ui[e>>8&255]+"-"+ui[e>>16&15|64]+ui[e>>24&255]+"-"+ui[63&n|128]+ui[n>>8&255]+"-"+ui[n>>16&255]+ui[n>>24&255]+ui[255&r]+ui[r>>8&255]+ui[r>>16&255]+ui[r>>24&255]).toUpperCase()},clamp:fi,euclideanModulo:pi,mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:di,damp:function(t,e,n,r){return di(t,e,1-Math.exp(-n*r))},pingpong:function(t,e=1){return e-Math.abs(pi(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(ci=t%2147483647),ci=16807*ci%2147483647,(ci-1)/2147483646},degToRad:function(t){return t*hi},radToDeg:function(t){return t*li},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),u=o(n/2),c=s((e+r)/2),h=o((e+r)/2),l=s((e-r)/2),f=o((e-r)/2),p=s((r-e)/2),d=o((r-e)/2);switch(i){case"XYX":t.set(a*h,u*l,u*f,a*c);break;case"YZY":t.set(u*f,a*h,u*l,a*c);break;case"ZXZ":t.set(u*l,u*f,a*h,a*c);break;case"XZX":t.set(a*h,u*d,u*p,a*c);break;case"YXY":t.set(u*p,a*h,u*d,a*c);break;case"ZYZ":t.set(u*d,u*p,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}});class mi{constructor(t=0,e=0,n=0,r=1){this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,r)}static slerpFlat(t,e,n,r,i,s,o){let a=n[r+0],u=n[r+1],c=n[r+2],h=n[r+3];const l=i[s+0],f=i[s+1],p=i[s+2],d=i[s+3];if(0===o)return t[e+0]=a,t[e+1]=u,t[e+2]=c,void(t[e+3]=h);if(1===o)return t[e+0]=l,t[e+1]=f,t[e+2]=p,void(t[e+3]=d);if(h!==d||a!==l||u!==f||c!==p){let t=1-o;const e=a*l+u*f+c*p+h*d,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),s=Math.atan2(i,e*n);t=Math.sin(t*s)/i,o=Math.sin(o*s)/i}const i=o*n;if(a=a*t+l*i,u=u*t+f*i,c=c*t+p*i,h=h*t+d*i,t===1-o){const t=1/Math.sqrt(a*a+u*u+c*c+h*h);a*=t,u*=t,c*=t,h*=t}}t[e]=a,t[e+1]=u,t[e+2]=c,t[e+3]=h}static multiplyQuaternionsFlat(t,e,n,r,i,s){const o=n[r],a=n[r+1],u=n[r+2],c=n[r+3],h=i[s],l=i[s+1],f=i[s+2],p=i[s+3];return t[e]=o*p+c*h+a*f-u*l,t[e+1]=a*p+c*l+u*h-o*f,t[e+2]=u*p+c*f+o*l-a*h,t[e+3]=c*p-o*h-a*l-u*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,i=t._z,s=t._order,o=Math.cos,a=Math.sin,u=o(n/2),c=o(r/2),h=o(i/2),l=a(n/2),f=a(r/2),p=a(i/2);switch(s){case"XYZ":this._x=l*c*h+u*f*p,this._y=u*f*h-l*c*p,this._z=u*c*p+l*f*h,this._w=u*c*h-l*f*p;break;case"YXZ":this._x=l*c*h+u*f*p,this._y=u*f*h-l*c*p,this._z=u*c*p-l*f*h,this._w=u*c*h+l*f*p;break;case"ZXY":this._x=l*c*h-u*f*p,this._y=u*f*h+l*c*p,this._z=u*c*p+l*f*h,this._w=u*c*h-l*f*p;break;case"ZYX":this._x=l*c*h-u*f*p,this._y=u*f*h+l*c*p,this._z=u*c*p-l*f*h,this._w=u*c*h+l*f*p;break;case"YZX":this._x=l*c*h+u*f*p,this._y=u*f*h+l*c*p,this._z=u*c*p-l*f*h,this._w=u*c*h-l*f*p;break;case"XZY":this._x=l*c*h-u*f*p,this._y=u*f*h-l*c*p,this._z=u*c*p+l*f*h,this._w=u*c*h+l*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],s=e[1],o=e[5],a=e[9],u=e[2],c=e[6],h=e[10],l=n+o+h;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(c-a)*t,this._y=(i-u)*t,this._z=(s-r)*t}else if(n>o&&n>h){const t=2*Math.sqrt(1+n-o-h);this._w=(c-a)/t,this._x=.25*t,this._y=(r+s)/t,this._z=(i+u)/t}else if(o>h){const t=2*Math.sqrt(1+o-n-h);this._w=(i-u)/t,this._x=(r+s)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+h-n-o);this._w=(s-r)/t,this._x=(i+u)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(fi(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,s=t._w,o=e._x,a=e._y,u=e._z,c=e._w;return this._x=n*c+s*o+r*u-i*a,this._y=r*c+s*a+i*o-n*u,this._z=i*c+s*u+n*a-r*o,this._w=s*c-n*o-r*a-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,s=this._w;let o=s*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=n,this._y=r,this._z=i,this;const a=1-o*o;if(a<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(a),c=Math.atan2(u,o),h=Math.sin((1-e)*c)/u,l=Math.sin(e*c)/u;return this._w=s*h+this._w*l,this._x=n*h+this._x*l,this._y=r*h+this._y*l,this._z=i*h+this._z*l,this._onChangeCallback(),this}slerpQuaternions(t,e,n){this.copy(t).slerp(e,n)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}mi.prototype.isQuaternion=!0;class gi{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(yi.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(yi.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,s=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*s,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*s,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*s,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,s=t.y,o=t.z,a=t.w,u=a*e+s*r-o*n,c=a*n+o*e-i*r,h=a*r+i*n-s*e,l=-i*e-s*n-o*r;return this.x=u*a+l*-i+c*-o-h*-s,this.y=c*a+l*-s+h*-i-u*-o,this.z=h*a+l*-o+u*-s-c*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,s=e.x,o=e.y,a=e.z;return this.x=r*a-i*o,this.y=i*s-n*a,this.z=n*o-r*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return vi.copy(this).projectOnVector(t),this.sub(vi)}reflect(t){return this.sub(vi.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(fi(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}gi.prototype.isVector3=!0;const vi=new gi,yi=new mi;class xi{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,s,o,a,u,c,h,l,f,p,d,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=s,g[9]=o,g[13]=a,g[2]=u,g[6]=c,g[10]=h,g[14]=l,g[3]=f,g[7]=p,g[11]=d,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new xi).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/wi.setFromMatrixColumn(t,0).length(),i=1/wi.setFromMatrixColumn(t,1).length(),s=1/wi.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,i=t.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(r),u=Math.sin(r),c=Math.cos(i),h=Math.sin(i);if("XYZ"===t.order){const t=s*c,n=s*h,r=o*c,i=o*h;e[0]=a*c,e[4]=-a*h,e[8]=u,e[1]=n+r*u,e[5]=t-i*u,e[9]=-o*a,e[2]=i-t*u,e[6]=r+n*u,e[10]=s*a}else if("YXZ"===t.order){const t=a*c,n=a*h,r=u*c,i=u*h;e[0]=t+i*o,e[4]=r*o-n,e[8]=s*u,e[1]=s*h,e[5]=s*c,e[9]=-o,e[2]=n*o-r,e[6]=i+t*o,e[10]=s*a}else if("ZXY"===t.order){const t=a*c,n=a*h,r=u*c,i=u*h;e[0]=t-i*o,e[4]=-s*h,e[8]=r+n*o,e[1]=n+r*o,e[5]=s*c,e[9]=i-t*o,e[2]=-s*u,e[6]=o,e[10]=s*a}else if("ZYX"===t.order){const t=s*c,n=s*h,r=o*c,i=o*h;e[0]=a*c,e[4]=r*u-n,e[8]=t*u+i,e[1]=a*h,e[5]=i*u+t,e[9]=n*u-r,e[2]=-u,e[6]=o*a,e[10]=s*a}else if("YZX"===t.order){const t=s*a,n=s*u,r=o*a,i=o*u;e[0]=a*c,e[4]=i-t*h,e[8]=r*h+n,e[1]=h,e[5]=s*c,e[9]=-o*c,e[2]=-u*c,e[6]=n*h+r,e[10]=t-i*h}else if("XZY"===t.order){const t=s*a,n=s*u,r=o*a,i=o*u;e[0]=a*c,e[4]=-h,e[8]=u*c,e[1]=t*h+i,e[5]=s*c,e[9]=n*h-r,e[2]=r*h-n,e[6]=o*c,e[10]=i*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(_i,t,Ei)}lookAt(t,e,n){const r=this.elements;return Si.subVectors(t,e),0===Si.lengthSq()&&(Si.z=1),Si.normalize(),Ni.crossVectors(n,Si),0===Ni.lengthSq()&&(1===Math.abs(n.z)?Si.x+=1e-4:Si.z+=1e-4,Si.normalize(),Ni.crossVectors(n,Si)),Ni.normalize(),Mi.crossVectors(Si,Ni),r[0]=Ni.x,r[4]=Mi.x,r[8]=Si.x,r[1]=Ni.y,r[5]=Mi.y,r[9]=Si.y,r[2]=Ni.z,r[6]=Mi.z,r[10]=Si.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,s=n[0],o=n[4],a=n[8],u=n[12],c=n[1],h=n[5],l=n[9],f=n[13],p=n[2],d=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],w=n[15],b=r[0],_=r[4],E=r[8],N=r[12],M=r[1],S=r[5],T=r[9],O=r[13],A=r[2],C=r[6],R=r[10],k=r[14],z=r[3],I=r[7],L=r[11],D=r[15];return i[0]=s*b+o*M+a*A+u*z,i[4]=s*_+o*S+a*C+u*I,i[8]=s*E+o*T+a*R+u*L,i[12]=s*N+o*O+a*k+u*D,i[1]=c*b+h*M+l*A+f*z,i[5]=c*_+h*S+l*C+f*I,i[9]=c*E+h*T+l*R+f*L,i[13]=c*N+h*O+l*k+f*D,i[2]=p*b+d*M+m*A+g*z,i[6]=p*_+d*S+m*C+g*I,i[10]=p*E+d*T+m*R+g*L,i[14]=p*N+d*O+m*k+g*D,i[3]=v*b+y*M+x*A+w*z,i[7]=v*_+y*S+x*C+w*I,i[11]=v*E+y*T+x*R+w*L,i[15]=v*N+y*O+x*k+w*D,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],s=t[1],o=t[5],a=t[9],u=t[13],c=t[2],h=t[6],l=t[10],f=t[14];return t[3]*(+i*a*h-r*u*h-i*o*l+n*u*l+r*o*f-n*a*f)+t[7]*(+e*a*f-e*u*l+i*s*l-r*s*f+r*u*c-i*a*c)+t[11]*(+e*u*h-e*o*f-i*s*h+n*s*f+i*o*c-n*u*c)+t[15]*(-r*o*c-e*a*h+e*o*l+r*s*h-n*s*l+n*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],u=t[7],c=t[8],h=t[9],l=t[10],f=t[11],p=t[12],d=t[13],m=t[14],g=t[15],v=h*m*u-d*l*u+d*a*f-o*m*f-h*a*g+o*l*g,y=p*l*u-c*m*u-p*a*f+s*m*f+c*a*g-s*l*g,x=c*d*u-p*h*u+p*o*f-s*d*f-c*o*g+s*h*g,w=p*h*a-c*d*a-p*o*l+s*d*l+c*o*m-s*h*m,b=e*v+n*y+r*x+i*w;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/b;return t[0]=v*_,t[1]=(d*l*i-h*m*i-d*r*f+n*m*f+h*r*g-n*l*g)*_,t[2]=(o*m*i-d*a*i+d*r*u-n*m*u-o*r*g+n*a*g)*_,t[3]=(h*a*i-o*l*i-h*r*u+n*l*u+o*r*f-n*a*f)*_,t[4]=y*_,t[5]=(c*m*i-p*l*i+p*r*f-e*m*f-c*r*g+e*l*g)*_,t[6]=(p*a*i-s*m*i-p*r*u+e*m*u+s*r*g-e*a*g)*_,t[7]=(s*l*i-c*a*i+c*r*u-e*l*u-s*r*f+e*a*f)*_,t[8]=x*_,t[9]=(p*h*i-c*d*i-p*n*f+e*d*f+c*n*g-e*h*g)*_,t[10]=(s*d*i-p*o*i+p*n*u-e*d*u-s*n*g+e*o*g)*_,t[11]=(c*o*i-s*h*i-c*n*u+e*h*u+s*n*f-e*o*f)*_,t[12]=w*_,t[13]=(c*d*r-p*h*r+p*n*l-e*d*l-c*n*m+e*h*m)*_,t[14]=(p*o*r-s*d*r-p*n*a+e*d*a+s*n*m-e*o*m)*_,t[15]=(s*h*r-c*o*r+c*n*a-e*h*a-s*n*l+e*o*l)*_,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,s=t.x,o=t.y,a=t.z,u=i*s,c=i*o;return this.set(u*s+n,u*o-r*a,u*a+r*o,0,u*o+r*a,c*o+n,c*a-r*s,0,u*a-r*o,c*a+r*s,i*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,i,s){return this.set(1,n,i,0,t,1,s,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,s=e._y,o=e._z,a=e._w,u=i+i,c=s+s,h=o+o,l=i*u,f=i*c,p=i*h,d=s*c,m=s*h,g=o*h,v=a*u,y=a*c,x=a*h,w=n.x,b=n.y,_=n.z;return r[0]=(1-(d+g))*w,r[1]=(f+x)*w,r[2]=(p-y)*w,r[3]=0,r[4]=(f-x)*b,r[5]=(1-(l+g))*b,r[6]=(m+v)*b,r[7]=0,r[8]=(p+y)*_,r[9]=(m-v)*_,r[10]=(1-(l+d))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=wi.set(r[0],r[1],r[2]).length();const s=wi.set(r[4],r[5],r[6]).length(),o=wi.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],bi.copy(this);const a=1/i,u=1/s,c=1/o;return bi.elements[0]*=a,bi.elements[1]*=a,bi.elements[2]*=a,bi.elements[4]*=u,bi.elements[5]*=u,bi.elements[6]*=u,bi.elements[8]*=c,bi.elements[9]*=c,bi.elements[10]*=c,e.setFromRotationMatrix(bi),n.x=i,n.y=s,n.z=o,this}makePerspective(t,e,n,r,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*i/(e-t),u=2*i/(n-r),c=(e+t)/(e-t),h=(n+r)/(n-r),l=-(s+i)/(s-i),f=-2*s*i/(s-i);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=l,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,n,r,i,s){const o=this.elements,a=1/(e-t),u=1/(n-r),c=1/(s-i),h=(e+t)*a,l=(n+r)*u,f=(s+i)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-l,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}xi.prototype.isMatrix4=!0;const wi=new gi,bi=new xi,_i=new gi(0,0,0),Ei=new gi(1,1,1),Ni=new gi,Mi=new gi,Si=new gi;new xi;class Ti{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,s,o,a,u){const c=this.elements;return c[0]=t,c[1]=r,c[2]=o,c[3]=e,c[4]=i,c[5]=a,c[6]=n,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,s=n[0],o=n[3],a=n[6],u=n[1],c=n[4],h=n[7],l=n[2],f=n[5],p=n[8],d=r[0],m=r[3],g=r[6],v=r[1],y=r[4],x=r[7],w=r[2],b=r[5],_=r[8];return i[0]=s*d+o*v+a*w,i[3]=s*m+o*y+a*b,i[6]=s*g+o*x+a*_,i[1]=u*d+c*v+h*w,i[4]=u*m+c*y+h*b,i[7]=u*g+c*x+h*_,i[2]=l*d+f*v+p*w,i[5]=l*m+f*y+p*b,i[8]=l*g+f*x+p*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],u=t[7],c=t[8];return e*s*c-e*o*u-n*i*c+n*o*a+r*i*u-r*s*a}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],u=t[7],c=t[8],h=c*s-o*u,l=o*a-c*i,f=u*i-s*a,p=e*h+n*l+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const d=1/p;return t[0]=h*d,t[1]=(r*u-c*n)*d,t[2]=(o*n-r*s)*d,t[3]=l*d,t[4]=(c*e-r*a)*d,t[5]=(r*i-o*e)*d,t[6]=f*d,t[7]=(n*a-u*e)*d,t[8]=(s*e-n*i)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,s,o){const a=Math.cos(i),u=Math.sin(i);return this.set(n*a,n*u,-n*(a*s+u*o)+s+t,-r*u,r*a,-r*(-u*s+a*o)+o+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],s=r[3],o=r[6],a=r[1],u=r[4],c=r[7];return r[0]=e*i+n*a,r[3]=e*s+n*u,r[6]=e*o+n*c,r[1]=-n*i+e*a,r[4]=-n*s+e*u,r[7]=-n*o+e*c,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}Ti.prototype.isMatrix3=!0,new Ti,Object.freeze(new ai(0,0)),Object.freeze(new ai(1,1)),Object.freeze(new gi(0,0,0)),Object.freeze(new gi(1,0,0)),Object.freeze(new gi(0,1,0)),Object.freeze(new gi(0,0,1)),Object.freeze(new gi(1,1,1)),Object.freeze(new mi),Object.freeze(new gi(1,0,0)),Object.freeze(new gi(0,1,0)),Object.freeze(new gi(0,0,1)),Object.freeze(new gi(-1,0,0)),Object.freeze(new gi(0,-1,0)),Object.freeze(new gi(0,0,-1));var Oi=function(t){return function(e){return 1-t(1-e)}},Ai=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},Ci=Oi,Ri=Ai,ki=function(t){return function(e){return Math.pow(e,t)}},zi=function(t){return function(e){return e*e*((t+1)*e-t)}},Ii=function(t){var e=zi(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},Li=ki(2),Di=Oi(Li),Ui=Ai(Li),Pi=function(t){return 1-Math.sin(Math.acos(t))},Fi=Oi(Pi),ji=Ai(Fi),Bi=zi(1.525),Hi=Oi(Bi),qi=Ai(Bi),$i=Ii(1.525),Vi=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},Gi="undefined"!=typeof Float32Array,Wi=function(t,e){return 1-3*e+3*t},Yi=function(t,e){return 3*e-6*t},Zi=function(t){return 3*t},Xi=function(t,e,n){return 3*Wi(e,n)*t*t+2*Yi(e,n)*t+Zi(e)},Ji=function(t,e,n){return((Wi(e,n)*t+Yi(e,n))*t+Zi(e))*t};function Qi(t){return"number"==typeof t}function Ki(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function ts(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function es(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function ns(t){return t&&!0===t.constructor.prototype.isUnit||!1}function rs(t){return"string"==typeof t}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:Oi,mirrored:Ai,createReversedEasing:Ci,createMirroredEasing:Ri,createExpoIn:ki,createBackIn:zi,createAnticipateEasing:Ii,linear:function(t){return t},easeIn:Li,easeOut:Di,easeInOut:Ui,circIn:Pi,circOut:Fi,circInOut:ji,backIn:Bi,backOut:Hi,backInOut:qi,anticipate:$i,bounceOut:Vi,bounceIn:function(t){return 1-Vi(1-t)},bounceInOut:function(t){return t<.5?.5*(1-Vi(1-2*t)):.5*Vi(2*t-1)+.5},cubicBezier:function(t,e,n,r){var i=Gi?new Float32Array(11):new Array(11),s=function(e){for(var r,s,o,a=0,u=1;10!==u&&i[u]<=e;++u)a+=.1;return--u,r=(e-i[u])/(i[u+1]-i[u]),(o=Xi(s=a+.1*r,t,n))>=.001?function(e,r){for(var i=0,s=0;i<8;++i){if(0===(s=Xi(r,t,n)))return r;r-=(Ji(r,t,n)-e)/s}return r}(e,s):0===o?s:function(e,r,i){var s,o,a=0;do{(s=Ji(o=r+(i-r)/2,t,n)-e)>0?i=o:r=o}while(Math.abs(s)>1e-7&&++a<10);return o}(e,a,a+.1)};return function(){for(var e=0;e<11;++e)i[e]=Ji(.1*e,t,n)}(),function(i){return t===e&&n===r?i:0===i?0:1===i?1:Ji(s(i),e,r)}}});var is=Array.isArray;function ss(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function os(t){return Array.isArray(t)||ss(t)}function as(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function us(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function cs(t){return t&&!0===t.constructor.prototype.isRange||!1}function hs(t){return t&&!0===t.constructor.prototype.isIndex||!1}function ls(t){return"boolean"==typeof t}function fs(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function ps(t){return t&&!0===t.constructor.prototype.isHelp||!1}function ds(t){return"function"==typeof t}function ms(t){return t instanceof Date}function gs(t){return t instanceof RegExp}function vs(t){return!(!t||"object"!=typeof t||t.constructor!==Object||ts(t)||es(t))}function ys(t){return null===t}function xs(t){return void 0===t}function ws(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function bs(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function _s(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Es(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function Ns(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function Ms(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function Ss(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Ts(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function Os(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function As(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function Cs(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function Rs(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function ks(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function zs(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function Is(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function Ls(t){return t&&!0===t.constructor.prototype.isChain||!1}function Ds(t){var e=typeof t;return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":Ki(t)?"BigNumber":ts(t)?"Complex":es(t)?"Fraction":ss(t)?"Matrix":ns(t)?"Unit":hs(t)?"Index":cs(t)?"Range":fs(t)?"ResultSet":As(t)?t.type:Ls(t)?"Chain":ps(t)?"Help":"Object":"function"===e?"Function":e}function Us(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Us(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Ki(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function(t,e){var n={};for(var r in t)js(t,r)&&(n[r]=e(t[r]));return n}(t,Us)}function Ps(t,e){for(var n in e)js(e,n)&&(t[n]=e[n]);return t}function Fs(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!Fs(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!Fs(t[n],e[n]))return!1;for(n in e)if(!(n in t)||!Fs(t[n],e[n]))return!1;return!0}return t===e}function js(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Bs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Hs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qs=function(){function t(){return!0}function e(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},o=[],a=[],u={types:i,conversions:a,ignore:o};function c(t){var e=$(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var n=$(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function h(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=$(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function f(t){return t.map((function(t){var e=t.types.map(b);return(t.restParam?"...":"")+e.join("|")})).join(",")}function p(t,e){var n=0===t.indexOf("..."),r=(n?t.length>3?t.slice(3):"any":t).split("|").map(D).filter(U).filter(L),i=function(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(e,r),s=r.map((function(t){var e=c(t);return{name:t,typeIndex:h(e),test:e.test,conversion:null,conversionIndex:-1}})),o=i.map((function(t){var n=c(t.from);return{name:t.from,typeIndex:h(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:s.concat(o),restParam:n}}function d(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(D).map((function(t,e,r){var i=p(t,n);if(i.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),r.some(F)?null:{params:r,fn:e}}function m(t){var e=j(t);return!!e&&e.restParam}function g(t){return t.types.some((function(t){return null!=t.conversion}))}function v(e){if(e&&0!==e.types.length){if(1===e.types.length)return c(e.types[0].name).test;if(2===e.types.length){var n=c(e.types[0].name).test,r=c(e.types[1].name).test;return function(t){return n(t)||r(t)}}var i=e.types.map((function(t){return c(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return!0;return!1}}return t}function y(t){var e,n,r;if(m(t)){var i=(e=function(t){return t.slice(0,t.length-1)}(t).map(v)).length,s=v(j(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=v(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=v(t[0]),r=v(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(v),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function x(t,e){return e<t.params.length?t.params[e]:m(t.params)?j(t.params):null}function w(t,e,n){var r=x(t,e);return(r?n?r.types.filter(_):r.types:[]).map(b)}function b(t){return t.name}function _(t){return null===t.conversion||void 0===t.conversion}function E(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(V(t,(function(t){return w(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function N(t,e,n){var r,i,s,o=t||"unnamed",a=n;for(s=0;s<e.length;s++){var u=a.filter((function(t){var n=v(x(t,s));return(s<t.params.length||m(t.params))&&n(e[s])}));if(0===u.length){if((i=E(a,s)).length>0){var c=l(e[s]);return(r=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+s+")")).data={category:"wrongType",fn:o,index:s,actual:c,expected:i},r}}else a=u}var h=a.map((function(t){return m(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,h))return i=E(a,s),(r=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:o,index:e.length,expected:i},r;var f=Math.max.apply(null,h);return e.length>f?((r=new TypeError("Too many arguments in function "+o+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:o,index:e.length,expectedLength:f},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:e.map(l)},r)}function M(t){for(var e=999,n=0;n<t.types.length;n++)_(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function S(t){for(var e=999,n=0;n<t.types.length;n++)_(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function T(t,e){var n;return 0!=(n=t.restParam-e.restParam)||0!=(n=g(t)-g(e))||0!=(n=M(t)-M(e))?n:S(t)-S(e)}function O(t,e){var n,r,i=Math.min(t.params.length,e.params.length);if(0!=(r=t.params.some(g)-e.params.some(g)))return r;for(n=0;n<i;n++)if(0!=(r=g(t.params[n])-g(e.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=T(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function A(t,e){var n=e;if(t.some(g)){var r=m(t),i=t.map(C);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,s=0;s<n;s++)t[s]=i[s](arguments[s]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var s=n;if(m(t)){var o=t.length-1;s=function(){return n.apply(this,B(arguments,0,o).concat([B(arguments,o)]))}}return s}function C(t){var e,n,r,i,s=[],o=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(c(t.conversion.from).test),o.push(t.conversion.convert))})),o.length){case 0:return function(t){return t};case 1:return e=s[0],r=o[0],function(t){return e(t)?r(t):t};case 2:return e=s[0],n=s[1],r=o[0],i=o[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<o.length;e++)if(s[e](t))return o[e](t);return t}}}function R(t){var e={};return t.forEach((function(t){t.params.some(g)||k(t.params,!0).forEach((function(n){e[f(n)]=t.fn}))})),e}function k(t,e){return function t(n,r,i){if(r<n.length){var s,o=n[r],a=e?o.types.filter(_):o.types;if(o.restParam){var u=a.filter(_);s=u.length<a.length?[u,a]:[a]}else s=a.map((function(t){return[t]}));return V(s,(function(e){return t(n,r+1,i.concat([e]))}))}return[i.map((function(t,e){return{types:t,restParam:e===n.length-1&&m(n)}}))]}(t,0,[])}function z(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++)if(!q(w(t,r,!0),w(e,r,!0)))return!1;var i=t.params.length,s=e.params.length,o=m(t.params),a=m(e.params);return o?a?i===s:s>=i:a?i>=s:i===s}function I(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(t){return d(t,r[t],u.conversions)})).filter(P).forEach((function(t){var e=$(i,(function(e){return z(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+f(e.params)+'" and "'+f(t.params)+'".');i.push(t)}));var s=V(i,(function(t){return(t?k(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(P);s.sort(O);var o=s[0]&&s[0].params.length<=2&&!m(s[0].params),a=s[1]&&s[1].params.length<=2&&!m(s[1].params),c=s[2]&&s[2].params.length<=2&&!m(s[2].params),h=s[3]&&s[3].params.length<=2&&!m(s[3].params),l=s[4]&&s[4].params.length<=2&&!m(s[4].params),p=s[5]&&s[5].params.length<=2&&!m(s[5].params),g=o&&a&&c&&h&&l&&p,x=s.map((function(t){return y(t.params)})),w=o?v(s[0].params[0]):e,b=a?v(s[1].params[0]):e,_=c?v(s[2].params[0]):e,E=h?v(s[3].params[0]):e,M=l?v(s[4].params[0]):e,S=p?v(s[5].params[0]):e,T=o?v(s[0].params[1]):e,C=a?v(s[1].params[1]):e,I=c?v(s[2].params[1]):e,L=h?v(s[3].params[1]):e,D=l?v(s[4].params[1]):e,U=p?v(s[5].params[1]):e,F=s.map((function(t){return A(t.params,t.fn)})),j=o?F[0]:n,B=a?F[1]:n,H=c?F[2]:n,q=h?F[3]:n,G=l?F[4]:n,W=p?F[5]:n,Y=o?s[0].params.length:-1,Z=a?s[1].params.length:-1,X=c?s[2].params.length:-1,J=h?s[3].params.length:-1,Q=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=g?6:0,et=s.length,nt=function(){for(var e=tt;e<et;e++)if(x[e](arguments))return F[e].apply(this,arguments);throw N(t,arguments,s)},rt=function t(e,n){return arguments.length===Y&&w(e)&&T(n)?j.apply(t,arguments):arguments.length===Z&&b(e)&&C(n)?B.apply(t,arguments):arguments.length===X&&_(e)&&I(n)?H.apply(t,arguments):arguments.length===J&&E(e)&&L(n)?q.apply(t,arguments):arguments.length===Q&&M(e)&&D(n)?G.apply(t,arguments):arguments.length===K&&S(e)&&U(n)?W.apply(t,arguments):nt.apply(t,arguments)};try{Object.defineProperty(rt,"name",{value:t})}catch(t){}return rt.signatures=R(s),rt}function L(t){return-1===u.ignore.indexOf(t)}function D(t){return t.trim()}function U(t){return!!t}function P(t){return null!==t}function F(t){return 0===t.types.length}function j(t){return t[t.length-1]}function B(t,e,n){return Array.prototype.slice.call(t,e,n)}function H(t,e){return-1!==t.indexOf(e)}function q(t,e){for(var n=0;n<t.length;n++)if(H(e,t[n]))return!0;return!1}function $(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function V(t,e){return Array.prototype.concat.apply([],t.map(e))}function G(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function W(t){var e,n={};function r(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var o in s.signatures)s.signatures.hasOwnProperty(o)&&(r(o,s.signatures[o]),n[o]=s.signatures[o]);else{if("string"!=typeof s.signature)throw(e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;r(s.signature,s),n[s.signature]=s}}return n}return(u=I("typed",{"string, Object":I,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return I(G(e),t)},"...Function":function(t){return I(G(t),W(t))},"string, ...Function":function(t,e){return I(t,W(e))}})).create=r,u.types=i,u.conversions=a,u.ignore=o,u.convert=function(t,e){var n=l(t);if(e===n)return t;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},u.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()}();function $s(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var Vs=Math.sign||function(t){return t>0?1:t<0?-1:0};function Gs(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r="auto";switch(e&&(e.notation&&(r=e.notation),Qi(e)?n=e:Qi(e.precision)&&(n=e.precision)),r){case"fixed":return Ys(t,n);case"exponential":return Zs(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Xs(Ws(t),e),r=n.exponent,i=n.coefficients,s=r%3==0?r:r<0?r-3-r%3:r-r%3;if(Qi(e))for(;e>i.length||r-s+1>i.length;)i.push(0);else for(var o=Math.abs(r-s)-(i.length-1),a=0;a<o;a++)i.push(0);for(var u=Math.abs(r-s),c=1;u>0;)c++,u--;var h=i.slice(c).join(""),l=Qi(e)&&h.length||h.match(/[1-9]/)?"."+h:"",f=i.slice(0,c).join("")+l+"e"+(r>=0?"+":"")+s.toString();return n.sign+f}(t,n);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,s=Ws(t),o=e?Xs(s,e):s;if(o.exponent<r||o.exponent>=i)return Zs(t,e);var a=o.coefficients,u=o.exponent;a.length<e&&(a=a.concat(Js(e-a.length))),a=a.concat(Js(u-a.length+1+(a.length<e?e-a.length:0)));var c=u>0?u:0;return c<(a=Js(-u).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function Ws(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var o=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===o.length&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function Ys(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Ws(t),r="number"==typeof e?Xs(n,n.exponent+1+e):n,i=r.coefficients,s=r.exponent+1,o=s+(e||0);return i.length<o&&(i=i.concat(Js(o-i.length))),s<0&&(i=Js(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Zs(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Ws(t),r=e?Xs(n,e):n,i=r.coefficients,s=r.exponent;i.length<e&&(i=i.concat(Js(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function Xs(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Js(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var Qs=Number.EPSILON||2220446049250313e-31;function Ks(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<Qs||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}function to(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function eo(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e}function no(t,e){return"number"==typeof t?Gs(t,e):Ki(t)?function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==e&&(e.notation&&(r=e.notation),"number"==typeof e?n=e:e.precision&&(n=e.precision)),r){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return to(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),s=i.toPrecision(e);return-1!==s.indexOf("e")&&(s=i.toString()),s+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var o=t.toSignificantDigits(n),a=o.e;return(a>=i&&a<s?o.toFixed():to(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?so(t,e):rs(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((n=>'"'+n+'": '+no(t[n],e))).join(", ")+"}":String(t)}function ro(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);"\\"===i?(n+=i,r++,""!==(i=e.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function io(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function so(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=so(t[i],e);return n+"]"}return no(t,e)}function oo(t,e,n){if(!(this instanceof oo))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function ao(t,e,n){if(!(this instanceof ao))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function uo(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function co(t,e,n){var r,i=t.length;if(i!==e[n])throw new oo(i,e[n]);if(n<e.length-1){var s=n+1;for(r=0;r<i;r++){var o=t[r];if(!Array.isArray(o))throw new oo(e.length-1,e.length,"<");co(t[r],e,s)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new oo(e.length+1,e.length,">")}function ho(t,e){if(0===e.length){if(Array.isArray(t))throw new oo(t.length,0)}else co(t,e,0)}function lo(t,e){if(!Qi(t)||!$s(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new ao(t,e)}function fo(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Qi(t)||!$s(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+no(e)+")")})),po(t,e,0,void 0!==n?n:0),t}function po(t,e,n,r){var i,s,o=t.length,a=e[n],u=Math.min(o,a);if(t.length=a,n<e.length-1){var c=n+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),po(s,e,c,r);for(i=u;i<a;i++)s=[],t[i]=s,po(s,e,c,r)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<a;i++)t[i]=r}}function mo(t,e,n,r){var i=r||uo(t);if(n)for(var s=0;s<n;s++)t=[t],i.unshift(1);for(t=go(t,e,0);i.length<e;)i.push(1);return t}function go(t,e,n){var r,i;if(Array.isArray(t)){var s=n+1;for(r=0,i=t.length;r<i;r++)t[r]=go(t[r],e,s)}else for(var o=n;o<e;o++)t=[t];return t}function vo(t,e){return Array.prototype.map.call(t,e)}function yo(t,e){Array.prototype.forEach.call(t,e)}function xo(t,e){return Array.prototype.join.call(t,e)}function wo(t,e){for(var n,r=0,i=0;i<t.length;i++){var s=t[i],o=Array.isArray(s);if(0===i&&o&&(r=s.length),o&&s.length!==r)return;var a=o?wo(s,e):e(s);if(void 0===n)n=a;else if(n!==a)return"mixed"}return n}function bo(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],s=t[i];void 0!==s&&(n[i]=s)}return n}(r,e.map(_o));return function(t,e,n){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==n[t]))){var r=e.filter((t=>void 0===n[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function _o(t){return t&&"?"===t[0]?t.slice(1):t}oo.prototype=new RangeError,oo.prototype.constructor=RangeError,oo.prototype.name="DimensionError",oo.prototype.isDimensionError=!0,ao.prototype=new RangeError,ao.prototype.constructor=RangeError,ao.prototype.name="IndexError",ao.prototype.isIndexError=!0;var Eo=function(){return Eo=qs.create,qs},No=bo("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:n,DenseMatrix:r,Fraction:i}=t,s=Eo();return s.types=[{name:"number",test:Qi},{name:"Complex",test:ts},{name:"BigNumber",test:Ki},{name:"Fraction",test:es},{name:"Unit",test:ns},{name:"string",test:rs},{name:"Chain",test:Ls},{name:"Array",test:is},{name:"Matrix",test:ss},{name:"DenseMatrix",test:as},{name:"SparseMatrix",test:us},{name:"Range",test:cs},{name:"Index",test:hs},{name:"boolean",test:ls},{name:"ResultSet",test:fs},{name:"Help",test:ps},{name:"function",test:ds},{name:"Date",test:ms},{name:"RegExp",test:gs},{name:"null",test:ys},{name:"undefined",test:xs},{name:"AccessorNode",test:ws},{name:"ArrayNode",test:bs},{name:"AssignmentNode",test:_s},{name:"BlockNode",test:Es},{name:"ConditionalNode",test:Ns},{name:"ConstantNode",test:Ms},{name:"FunctionNode",test:Ts},{name:"FunctionAssignmentNode",test:Ss},{name:"IndexNode",test:Os},{name:"Node",test:As},{name:"ObjectNode",test:Cs},{name:"OperatorNode",test:Rs},{name:"ParenthesisNode",test:ks},{name:"RangeNode",test:zs},{name:"SymbolNode",test:Is},{name:"Object",test:vs}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||Mo(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||So(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||So(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||So(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||To(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||Mo(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||To(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||So(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||Mo(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||To(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function Mo(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function So(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function To(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}bo("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0});var Oo,Ao,Co=9e15,Ro="0123456789abcdef",ko="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zo="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Io={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Co,maxE:Co,crypto:!1},Lo=!0,Do="[DecimalError] Invalid argument: ",Uo=Math.floor,Po=Math.pow,Fo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,jo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Bo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ho=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qo=1e7,$o=ko.length-1,Vo=zo.length-1,Go={name:"[object Decimal]"};function Wo(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(s+=ia(n)),s+=r;(n=7-(r=(o=t[e])+"").length)&&(s+=ia(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function Yo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Do+t)}function Zo(t,e,n,r){var i,s,o,a;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=Po(10,7-e),a=t[i]%s|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):o=(n<4&&a+1==s||n>3&&a+1==s/2)&&(t[i+1]/s/100|0)==Po(10,e-2)-1||(a==s/2||0==a)&&0==(t[i+1]/s/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(r||n<4)&&9999==a||!r&&n>3&&4999==a):o=((r||n<4)&&a+1==s||!r&&n>3&&a+1==s/2)&&(t[i+1]/s/1e3|0)==Po(10,e-3)-1,o}function Xo(t,e,n){for(var r,i,s=[0],o=0,a=t.length;o<a;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=Ro.indexOf(t.charAt(o++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}Go.absoluteValue=Go.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Qo(t)},Go.ceil=function(){return Qo(new this.constructor(this),this.e+1,2)},Go.comparedTo=Go.cmp=function(t){var e,n,r,i,s=this,o=s.d,a=(t=new s.constructor(t)).d,u=s.s,c=t.s;if(!o||!a)return u&&c?u!==c?u:o===a?0:!o^u<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?u:a[0]?-c:0;if(u!==c)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,n=(r=o.length)<(i=a.length)?r:i;e<n;++e)if(o[e]!==a[e])return o[e]>a[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Go.cosine=Go.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r,i=e.d.length;i<32?r=(1/pa(4,n=Math.ceil(i/3))).toString():(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=fa(t,1,e.times(r),new t(1));for(var s=n;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}(r,da(r,n)),r.precision=t,r.rounding=e,Qo(2==Ao||3==Ao?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Go.cubeRoot=Go.cbrt=function(){var t,e,n,r,i,s,o,a,u,c,h=this,l=h.constructor;if(!h.isFinite()||h.isZero())return new l(h);for(Lo=!1,(s=h.s*Po(h.s*h,1/3))&&Math.abs(s)!=1/0?r=new l(s.toString()):(n=Wo(h.d),(s=((t=h.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Po(n,1/3),t=Uo((t+1)/3)-(t%3==(t<0?-1:2)),(r=new l(n=s==1/0?"5e"+t:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=h.s),o=(t=l.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(h),r=Jo(c.plus(h).times(a),c.plus(u),o+2,1),Wo(a.d).slice(0,o)===(n=Wo(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(Qo(r,t+1,1),e=!r.times(r).times(r).eq(h));break}if(!i&&(Qo(a,t+1,0),a.times(a).times(a).eq(h))){r=a;break}o+=4,i=1}return Lo=!0,Qo(r,t,l.rounding,e)},Go.decimalPlaces=Go.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=7*((t=e.length-1)-Uo(this.e/7)),t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Go.dividedBy=Go.div=function(t){return Jo(this,new this.constructor(t))},Go.dividedToIntegerBy=Go.divToInt=function(t){var e=this.constructor;return Qo(Jo(this,new e(t),0,1,1),e.precision,e.rounding)},Go.equals=Go.eq=function(t){return 0===this.cmp(t)},Go.floor=function(){return Qo(new this.constructor(this),this.e+1,3)},Go.greaterThan=Go.gt=function(t){return this.cmp(t)>0},Go.greaterThanOrEqualTo=Go.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Go.hyperbolicCosine=Go.cosh=function(){var t,e,n,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?e=(1/pa(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=fa(o,1,s.times(e),new o(1),!0);for(var u,c=t,h=new o(8);c--;)u=s.times(s),s=a.minus(u.times(h.minus(u.times(h))));return Qo(s,o.precision=n,o.rounding=r,!0)},Go.hyperbolicSine=Go.sinh=function(){var t,e,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,n=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=fa(s,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=fa(s,2,i=i.times(1/pa(5,t)),i,!0);for(var o,a=new s(5),u=new s(16),c=new s(20);t--;)o=i.times(i),i=i.times(a.plus(o.times(u.times(o).plus(c))))}return s.precision=e,s.rounding=n,Qo(i,e,n,!0)},Go.hyperbolicTangent=Go.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Jo(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Go.inverseCosine=Go.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,s=n.rounding;return-1!==r?0===r?e.isNeg()?na(n,i,s):new n(0):new n(NaN):e.isZero()?na(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=na(n,i+4,s).times(.5),n.precision=i,n.rounding=s,t.minus(e))},Go.inverseHyperbolicCosine=Go.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Lo=!1,n=n.times(n).minus(1).sqrt().plus(n),Lo=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Go.inverseHyperbolicSine=Go.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Lo=!1,n=n.times(n).plus(1).sqrt().plus(n),Lo=!0,r.precision=t,r.rounding=e,n.ln())},Go.inverseHyperbolicTangent=Go.atanh=function(){var t,e,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?Qo(new s(i),t,e,!0):(s.precision=n=r-i.e,i=Jo(i.plus(1),new s(1).minus(i),n+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},Go.inverseSine=Go.asin=function(){var t,e,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==e?0===e?((t=na(s,n+4,r).times(.5)).s=i.s,t):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},Go.inverseTangent=Go.atan=function(){var t,e,n,r,i,s,o,a,u,c=this,h=c.constructor,l=h.precision,f=h.rounding;if(c.isFinite()){if(c.isZero())return new h(c);if(c.abs().eq(1)&&l+4<=Vo)return(o=na(h,l+4,f).times(.25)).s=c.s,o}else{if(!c.s)return new h(NaN);if(l+4<=Vo)return(o=na(h,l+4,f).times(.5)).s=c.s,o}for(h.precision=a=l+10,h.rounding=1,t=n=Math.min(28,a/7+2|0);t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Lo=!1,e=Math.ceil(a/7),r=1,u=c.times(c),o=new h(c),i=c;-1!==t;)if(i=i.times(u),s=o.minus(i.div(r+=2)),i=i.times(u),void 0!==(o=s.plus(i.div(r+=2))).d[e])for(t=e;o.d[t]===s.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),Lo=!0,Qo(o,h.precision=l,h.rounding=f,!0)},Go.isFinite=function(){return!!this.d},Go.isInteger=Go.isInt=function(){return!!this.d&&Uo(this.e/7)>this.d.length-2},Go.isNaN=function(){return!this.s},Go.isNegative=Go.isNeg=function(){return this.s<0},Go.isPositive=Go.isPos=function(){return this.s>0},Go.isZero=function(){return!!this.d&&0===this.d[0]},Go.lessThan=Go.lt=function(t){return this.cmp(t)<0},Go.lessThanOrEqualTo=Go.lte=function(t){return this.cmp(t)<1},Go.logarithm=Go.log=function(t){var e,n,r,i,s,o,a,u,c=this,h=c.constructor,l=h.precision,f=h.rounding;if(null==t)t=new h(10),e=!0;else{if(n=(t=new h(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new h(NaN);e=t.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new h(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(e)if(n.length>1)s=!0;else{for(i=n[0];i%10==0;)i/=10;s=1!==i}if(Lo=!1,o=ca(c,a=l+5),r=e?ea(h,a+10):ca(t,a),Zo((u=Jo(o,r,a,1)).d,i=l,f))do{if(o=ca(c,a+=10),r=e?ea(h,a+10):ca(t,a),u=Jo(o,r,a,1),!s){+Wo(u.d).slice(i+1,i+15)+1==1e14&&(u=Qo(u,l+1,0));break}}while(Zo(u.d,i+=10,f));return Lo=!0,Qo(u,l,f)},Go.minus=Go.sub=function(t){var e,n,r,i,s,o,a,u,c,h,l,f,p=this,d=p.constructor;if(t=new d(t),!p.d||!t.d)return p.s&&t.s?p.d?t.s=-t.s:t=new d(t.d||p.s!==t.s?p:NaN):t=new d(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(c=p.d,f=t.d,a=d.precision,u=d.rounding,!c[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!c[0])return new d(3===u?-0:0);t=new d(p)}return Lo?Qo(t,a,u):t}if(n=Uo(t.e/7),h=Uo(p.e/7),c=c.slice(),s=h-n){for((l=s<0)?(e=c,s=-s,o=f.length):(e=f,n=h,o=c.length),s>(r=Math.max(Math.ceil(a/7),o)+2)&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for((l=(r=c.length)<(o=f.length))&&(o=r),r=0;r<o;r++)if(c[r]!=f[r]){l=c[r]<f[r];break}s=0}for(l&&(e=c,c=f,f=e,t.s=-t.s),o=c.length,r=f.length-o;r>0;--r)c[o++]=0;for(r=f.length;r>s;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=qo-1;--c[i],c[r]+=qo}c[r]-=f[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=ta(c,n),Lo?Qo(t,a,u):t):new d(3===u?-0:0)},Go.modulo=Go.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Qo(new r(n),r.precision,r.rounding):(Lo=!1,9==r.modulo?(e=Jo(n,t.abs(),0,3,1)).s*=t.s:e=Jo(n,t,0,r.modulo,1),e=e.times(t),Lo=!0,n.minus(e))},Go.naturalExponential=Go.exp=function(){return ua(this)},Go.naturalLogarithm=Go.ln=function(){return ca(this)},Go.negated=Go.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Qo(t)},Go.plus=Go.add=function(t){var e,n,r,i,s,o,a,u,c,h,l=this,f=l.constructor;if(t=new f(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new f(t.d||l.s===t.s?l:NaN)):t=new f(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(c=l.d,h=t.d,a=f.precision,u=f.rounding,!c[0]||!h[0])return h[0]||(t=new f(l)),Lo?Qo(t,a,u):t;if(s=Uo(l.e/7),r=Uo(t.e/7),c=c.slice(),i=s-r){for(i<0?(n=c,i=-i,o=h.length):(n=h,r=s,o=c.length),i>(o=(s=Math.ceil(a/7))>o?s+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=c.length)-(i=h.length)<0&&(i=o,n=h,h=c,c=n),e=0;i;)e=(c[--i]=c[i]+h[i]+e)/qo|0,c[i]%=qo;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return t.d=c,t.e=ta(c,r),Lo?Qo(t,a,u):t},Go.precision=Go.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Do+t);return n.d?(e=ra(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Go.round=function(){var t=this,e=t.constructor;return Qo(new e(t),t.e+1,e.rounding)},Go.sine=Go.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return fa(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=fa(t,2,e=e.times(1/pa(5,n)),e);for(var i,s=new t(5),o=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}(r,da(r,n)),r.precision=t,r.rounding=e,Qo(Ao>2?n.neg():n,t,e,!0)):new r(NaN)},Go.squareRoot=Go.sqrt=function(){var t,e,n,r,i,s,o=this,a=o.d,u=o.e,c=o.s,h=o.constructor;if(1!==c||!a||!a[0])return new h(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(Lo=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=Wo(a)).length+u)%2==0&&(e+="0"),c=Math.sqrt(e),u=Uo((u+1)/2)-(u<0||u%2),r=new h(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new h(c.toString()),n=(u=h.precision)+3;;)if(r=(s=r).plus(Jo(o,s,n+2,1)).times(.5),Wo(s.d).slice(0,n)===(e=Wo(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Qo(r,u+1,1),t=!r.times(r).eq(o));break}if(!i&&(Qo(s,u+1,0),s.times(s).eq(o))){r=s;break}n+=4,i=1}return Lo=!0,Qo(r,u,h.rounding,t)},Go.tangent=Go.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=Jo(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Qo(2==Ao||4==Ao?n.neg():n,t,e,!0)):new r(NaN)},Go.times=Go.mul=function(t){var e,n,r,i,s,o,a,u,c,h=this,l=h.constructor,f=h.d,p=(t=new l(t)).d;if(t.s*=h.s,!(f&&f[0]&&p&&p[0]))return new l(!t.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*t.s:t.s/0);for(n=Uo(h.e/7)+Uo(t.e/7),(u=f.length)<(c=p.length)&&(s=f,f=p,p=s,o=u,u=c,c=o),s=[],r=o=u+c;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)a=s[i]+p[r]*f[i-r-1]+e,s[i--]=a%qo|0,e=a/qo|0;s[i]=(s[i]+e)%qo|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=ta(s,n),Lo?Qo(t,l.precision,l.rounding):t},Go.toBinary=function(t,e){return ma(this,2,t,e)},Go.toDecimalPlaces=Go.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(Yo(t,0,1e9),void 0===e?e=r.rounding:Yo(e,0,8),Qo(n,t+n.e+1,e))},Go.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=Ko(r,!0):(Yo(t,0,1e9),void 0===e?e=i.rounding:Yo(e,0,8),n=Ko(r=Qo(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Go.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return void 0===t?n=Ko(i):(Yo(t,0,1e9),void 0===e?e=s.rounding:Yo(e,0,8),n=Ko(r=Qo(new s(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Go.toFraction=function(t){var e,n,r,i,s,o,a,u,c,h,l,f,p=this,d=p.d,m=p.constructor;if(!d)return new m(p);if(c=n=new m(1),r=u=new m(0),o=(s=(e=new m(r)).e=ra(d)-p.e-1)%7,e.d[0]=Po(10,o<0?7+o:o),null==t)t=s>0?e:c;else{if(!(a=new m(t)).isInt()||a.lt(c))throw Error(Do+a);t=a.gt(e)?s>0?e:c:a}for(Lo=!1,a=new m(Wo(d)),h=m.precision,m.precision=s=7*d.length*2;l=Jo(a,e,0,1,1),1!=(i=n.plus(l.times(r))).cmp(t);)n=r,r=i,i=c,c=u.plus(l.times(i)),u=i,i=e,e=a.minus(l.times(i)),a=i;return i=Jo(t.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=p.s,f=Jo(c,r,s,1).minus(p).abs().cmp(Jo(u,n,s,1).minus(p).abs())<1?[c,r]:[u,n],m.precision=h,Lo=!0,f},Go.toHexadecimal=Go.toHex=function(t,e){return ma(this,16,t,e)},Go.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:Yo(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Lo=!1,n=Jo(n,t,0,e,1).times(t),Lo=!0,Qo(n)):(t.s=n.s,n=t),n},Go.toNumber=function(){return+this},Go.toOctal=function(t,e){return ma(this,8,t,e)},Go.toPower=Go.pow=function(t){var e,n,r,i,s,o,a=this,u=a.constructor,c=+(t=new u(t));if(!(a.d&&t.d&&a.d[0]&&t.d[0]))return new u(Po(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,s=u.rounding,t.eq(1))return Qo(a,r,s);if((e=Uo(t.e/7))>=t.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=sa(u,a,n,r),t.s<0?new u(1).div(i):Qo(i,r,s);if((o=a.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(n=Po(+a,c))&&isFinite(n)?new u(n+"").e:Uo(c*(Math.log("0."+Wo(a.d))/Math.LN10+a.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(Lo=!1,u.rounding=a.s=1,n=Math.min(12,(e+"").length),(i=ua(t.times(ca(a,r+n)),r)).d&&Zo((i=Qo(i,r+5,1)).d,r,s)&&(e=r+10,+Wo((i=Qo(ua(t.times(ca(a,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Qo(i,r+1,0))),i.s=o,Lo=!0,u.rounding=s,Qo(i,r,s))},Go.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=Ko(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Yo(t,1,1e9),void 0===e?e=i.rounding:Yo(e,0,8),n=Ko(r=Qo(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Go.toSignificantDigits=Go.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(Yo(t,1,1e9),void 0===e?e=n.rounding:Yo(e,0,8)),Qo(new n(this),t,e)},Go.toString=function(){var t=this,e=t.constructor,n=Ko(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Go.truncated=Go.trunc=function(){return Qo(new this.constructor(this),this.e+1,1)},Go.valueOf=Go.toJSON=function(){var t=this,e=t.constructor,n=Ko(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var Jo=function(){function t(t,e,n){var r,i=0,s=t.length;for(t=t.slice();s--;)r=t[s]*e+i,t[s]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,s,o,a,u){var c,h,l,f,p,d,m,g,v,y,x,w,b,_,E,N,M,S,T,O,A=r.constructor,C=r.s==i.s?1:-1,R=r.d,k=i.d;if(!(R&&R[0]&&k&&k[0]))return new A(r.s&&i.s&&(R?!k||R[0]!=k[0]:k)?R&&0==R[0]||!k?0*C:C/0:NaN);for(u?(p=1,h=r.e-i.e):(u=qo,p=7,h=Uo(r.e/p)-Uo(i.e/p)),T=k.length,M=R.length,y=(v=new A(C)).d=[],l=0;k[l]==(R[l]||0);l++);if(k[l]>(R[l]||0)&&h--,null==s?(_=s=A.precision,o=A.rounding):_=a?s+(r.e-i.e)+1:s,_<0)y.push(1),d=!0;else{if(_=_/p+2|0,l=0,1==T){for(f=0,k=k[0],_++;(l<M||f)&&_--;l++)E=f*u+(R[l]||0),y[l]=E/k|0,f=E%k|0;d=f||l<M}else{for((f=u/(k[0]+1)|0)>1&&(k=t(k,f,u),R=t(R,f,u),T=k.length,M=R.length),N=T,w=(x=R.slice(0,T)).length;w<T;)x[w++]=0;(O=k.slice()).unshift(0),S=k[0],k[1]>=u/2&&++S;do{f=0,(c=e(k,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(f=b/S|0)>1?(f>=u&&(f=u-1),1==(c=e(m=t(k,f,u),x,g=m.length,w=x.length))&&(f--,n(m,T<g?O:k,g,u))):(0==f&&(c=f=1),m=k.slice()),(g=m.length)<w&&m.unshift(0),n(x,m,w,u),-1==c&&(c=e(k,x,T,w=x.length))<1&&(f++,n(x,T<w?O:k,w,u)),w=x.length):0===c&&(f++,x=[0]),y[l++]=f,c&&x[0]?x[w++]=R[N]||0:(x=[R[N]],w=1)}while((N++<M||void 0!==x[0])&&_--);d=void 0!==x[0]}y[0]||y.shift()}if(1==p)v.e=h,Oo=d;else{for(l=1,f=y[0];f>=10;f/=10)l++;v.e=l+h*p-1,Qo(v,a?s+v.e+1:s,o,d)}return v}}();function Qo(t,e,n,r){var i,s,o,a,u,c,h,l,f,p=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,a=l[0];a>=10;a/=10)i++;if((s=e-i)<0)s+=7,o=e,u=(h=l[f=0])/Po(10,i-o-1)%10|0;else if((f=Math.ceil((s+1)/7))>=(a=l.length)){if(!r)break t;for(;a++<=f;)l.push(0);h=u=0,i=1,o=(s%=7)-7+1}else{for(h=a=l[f],i=1;a>=10;a/=10)i++;u=(o=(s%=7)-7+i)<0?0:h/Po(10,i-o-1)%10|0}if(r=r||e<0||void 0!==l[f+1]||(o<0?h:h%Po(10,i-o-1)),c=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(s>0?o>0?h/Po(10,i-o):0:l[f-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,c?(e-=t.e+1,l[0]=Po(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=f,a=1,f--):(l.length=f+1,a=Po(10,7-s),l[f]=o>0?(h/Po(10,i-o)%Po(10,o)|0)*a:0),c)for(;;){if(0==f){for(s=1,o=l[0];o>=10;o/=10)s++;for(o=l[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(t.e++,l[0]==qo&&(l[0]=1));break}if(l[f]+=a,l[f]!=qo)break;l[f--]=0,a=1}for(s=l.length;0===l[--s];)l.pop()}return Lo&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function Ko(t,e,n){if(!t.isFinite())return ha(t);var r,i=t.e,s=Wo(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ia(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+ia(-i-1)+s,n&&(r=n-o)>0&&(s+=ia(r))):i>=o?(s+=ia(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ia(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ia(r))),s}function ta(t,e){var n=t[0];for(e*=7;n>=10;n/=10)e++;return e}function ea(t,e,n){if(e>$o)throw Lo=!0,n&&(t.precision=n),Error("[DecimalError] Precision limit exceeded");return Qo(new t(ko),e,1,!0)}function na(t,e,n){if(e>Vo)throw Error("[DecimalError] Precision limit exceeded");return Qo(new t(zo),e,n,!0)}function ra(t){var e=t.length-1,n=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ia(t){for(var e="";t--;)e+="0";return e}function sa(t,e,n,r){var i,s=new t(1),o=Math.ceil(r/7+4);for(Lo=!1;;){if(n%2&&ga((s=s.times(e)).d,o)&&(i=!0),0===(n=Uo(n/2))){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}ga((e=e.times(e)).d,o)}return Lo=!0,s}function oa(t){return 1&t.d[t.d.length-1]}function aa(t,e,n){for(var r,i=new t(e[0]),s=0;++s<e.length;){if(!(r=new t(e[s])).s){i=r;break}i[n](r)&&(i=r)}return i}function ua(t,e){var n,r,i,s,o,a,u,c=0,h=0,l=0,f=t.constructor,p=f.rounding,d=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Lo=!1,u=d):u=e,a=new f(.03125);t.e>-2;)t=t.times(a),l+=5;for(u+=r=Math.log(Po(2,l))/Math.LN10*2+5|0,n=s=o=new f(1),f.precision=u;;){if(s=Qo(s.times(t),u,1),n=n.times(++h),Wo((a=o.plus(Jo(s,n,u,1))).d).slice(0,u)===Wo(o.d).slice(0,u)){for(i=l;i--;)o=Qo(o.times(o),u,1);if(null!=e)return f.precision=d,o;if(!(c<3&&Zo(o.d,u-r,p,c)))return Qo(o,f.precision=d,p,Lo=!0);f.precision=u+=10,n=s=a=new f(1),h=0,c++}o=a}}function ca(t,e){var n,r,i,s,o,a,u,c,h,l,f,p=1,d=t,m=d.d,g=d.constructor,v=g.rounding,y=g.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(Lo=!1,h=y):h=e,g.precision=h+=10,r=(n=Wo(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return c=ea(g,h+2,y).times(s+""),d=ca(new g(r+"."+n.slice(1)),h-10).plus(c),g.precision=y,null==e?Qo(d,y,v,Lo=!0):d;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Wo((d=d.times(t)).d)).charAt(0),p++;for(s=d.e,r>1?(d=new g("0."+n),s++):d=new g(r+"."+n.slice(1)),l=d,u=o=d=Jo(d.minus(1),d.plus(1),h,1),f=Qo(d.times(d),h,1),i=3;;){if(o=Qo(o.times(f),h,1),Wo((c=u.plus(Jo(o,new g(i),h,1))).d).slice(0,h)===Wo(u.d).slice(0,h)){if(u=u.times(2),0!==s&&(u=u.plus(ea(g,h+2,y).times(s+""))),u=Jo(u,new g(p),h,1),null!=e)return g.precision=y,u;if(!Zo(u.d,h-10,v,a))return Qo(u,g.precision=y,v,Lo=!0);g.precision=h+=10,c=o=d=Jo(l.minus(1),l.plus(1),h,1),f=Qo(d.times(d),h,1),i=a=1}u=c,i+=2}}function ha(t){return String(t.s*t.s/0)}function la(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Lo&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function fa(t,e,n,r,i){var s,o,a,u,c=t.precision,h=Math.ceil(c/7);for(Lo=!1,u=n.times(n),a=new t(r);;){if(o=Jo(a.times(u),new t(e++*e++),c,1),a=i?r.plus(o):r.minus(o),r=Jo(o.times(u),new t(e++*e++),c,1),void 0!==(o=a.plus(r)).d[h]){for(s=h;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=o,o=s}return Lo=!0,o.d.length=h+1,o}function pa(t,e){for(var n=t;--e;)n*=t;return n}function da(t,e){var n,r=e.s<0,i=na(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Ao=r?4:1,e;if((n=e.divToInt(i)).isZero())Ao=r?3:2;else{if((e=e.minus(n.times(i))).lte(s))return Ao=oa(n)?r?2:3:r?4:1,e;Ao=oa(n)?r?1:4:r?3:2}return e.minus(i).abs()}function ma(t,e,n,r){var i,s,o,a,u,c,h,l,f,p=t.constructor,d=void 0!==n;if(d?(Yo(n,1,1e9),void 0===r?r=p.rounding:Yo(r,0,8)):(n=p.precision,r=p.rounding),t.isFinite()){for(d?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(o=(h=Ko(t)).indexOf("."))>=0&&(h=h.replace(".",""),(f=new p(1)).e=h.length-o,f.d=Xo(Ko(f),10,i),f.e=f.d.length),s=u=(l=Xo(h,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(o<0?s--:((t=new p(t)).d=l,t.e=s,l=(t=Jo(t,f,n,r,0,i)).d,s=t.e,c=Oo),o=l[n],a=i/2,c=c||void 0!==l[n+1],c=r<4?(void 0!==o||c)&&(0===r||r===(t.s<0?3:2)):o>a||o===a&&(4===r||c||6===r&&1&l[n-1]||r===(t.s<0?8:7)),l.length=n,c)for(;++l[--n]>i-1;)l[n]=0,n||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(o=0,h="";o<u;o++)h+=Ro.charAt(l[o]);if(d){if(u>1)if(16==e||8==e){for(o=16==e?4:3,--u;u%o;u++)h+="0";for(u=(l=Xo(h,i,e)).length;!l[u-1];--u);for(o=1,h="1.";o<u;o++)h+=Ro.charAt(l[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)h="0"+h;h="0."+h}else if(++s>u)for(s-=u;s--;)h+="0";else s<u&&(h=h.slice(0,s)+"."+h.slice(s))}else h=d?"0p+0":"0";h=(16==e?"0x":2==e?"0b":8==e?"0o":"")+h}else h=ha(t);return t.s<0?"-"+h:h}function ga(t,e){if(t.length>e)return t.length=e,!0}function va(t){return new this(t).abs()}function ya(t){return new this(t).acos()}function xa(t){return new this(t).acosh()}function wa(t,e){return new this(t).plus(e)}function ba(t){return new this(t).asin()}function _a(t){return new this(t).asinh()}function Ea(t){return new this(t).atan()}function Na(t){return new this(t).atanh()}function Ma(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,s=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?na(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=na(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,n=this.atan(Jo(t,e,s,1)),e=na(this,s,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Jo(t,e,s,1)):(n=na(this,s,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function Sa(t){return new this(t).cbrt()}function Ta(t){return Qo(t=new this(t),t.e+1,2)}function Oa(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,n,r,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-Co,0,"toExpPos",0,Co,"maxE",0,Co,"minE",-Co,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(n=s[e],i&&(this[n]=Io[n]),void 0!==(r=t[n])){if(!(Uo(r)===r&&r>=s[e+1]&&r<=s[e+2]))throw Error(Do+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Io[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Do+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function Aa(t){return new this(t).cos()}function Ca(t){return new this(t).cosh()}function Ra(t,e){return new this(t).div(e)}function ka(t){return new this(t).exp()}function za(t){return Qo(t=new this(t),t.e+1,3)}function Ia(){var t,e,n=new this(0);for(Lo=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Lo=!0,new this(1/0);n=e}return Lo=!0,n.sqrt()}function La(t){return t instanceof eu||t&&"[object Decimal]"===t.name||!1}function Da(t){return new this(t).ln()}function Ua(t,e){return new this(t).log(e)}function Pa(t){return new this(t).log(2)}function Fa(t){return new this(t).log(10)}function ja(){return aa(this,arguments,"lt")}function Ba(){return aa(this,arguments,"gt")}function Ha(t,e){return new this(t).mod(e)}function qa(t,e){return new this(t).mul(e)}function $a(t,e){return new this(t).pow(e)}function Va(t){var e,n,r,i,s=0,o=new this(1),a=[];if(void 0===t?t=this.precision:Yo(t,1,1e9),r=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(r*=4);s<r;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(t%=7,(r=a[--s])&&t&&(i=Po(10,7-t),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=a,o}function Ga(t){return Qo(t=new this(t),t.e+1,this.rounding)}function Wa(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Ya(t){return new this(t).sin()}function Za(t){return new this(t).sinh()}function Xa(t){return new this(t).sqrt()}function Ja(t,e){return new this(t).sub(e)}function Qa(t){return new this(t).tan()}function Ka(t){return new this(t).tanh()}function tu(t){return Qo(t=new this(t),t.e+1,1)}Go[Symbol.for("nodejs.util.inspect.custom")]=Go.toString,Go[Symbol.toStringTag]="Decimal";var eu=function t(e){var n,r,i;function s(t){var e,n,r,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(Lo?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"==(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(Lo?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):la(i,t.toString())}if("string"!==r)throw Error(Do+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),Ho.test(t)?la(i,t):function(t,e){var n,r,i,s,o,a,u,c,h;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(jo.test(e))n=16,e=e.toLowerCase();else if(Fo.test(e))n=2;else{if(!Bo.test(e))throw Error(Do+e);n=8}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),o=(s=e.indexOf("."))>=0,r=t.constructor,o&&(s=(a=(e=e.replace(".","")).length)-s,i=sa(r,new r(n),s,2*s)),s=h=(c=Xo(e,n,qo)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*t.s):(t.e=ta(c,h),t.d=c,Lo=!1,o&&(t=Jo(t,i,4*a)),u&&(t=t.times(Math.abs(u)<54?Po(2,u):eu.pow(2,u))),Lo=!0,t)}(i,t)}if(s.prototype=Go,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Oa,s.clone=t,s.isDecimal=La,s.abs=va,s.acos=ya,s.acosh=xa,s.add=wa,s.asin=ba,s.asinh=_a,s.atan=Ea,s.atanh=Na,s.atan2=Ma,s.cbrt=Sa,s.ceil=Ta,s.cos=Aa,s.cosh=Ca,s.div=Ra,s.exp=ka,s.floor=za,s.hypot=Ia,s.ln=Da,s.log=Ua,s.log10=Fa,s.log2=Pa,s.max=ja,s.min=Ba,s.mod=Ha,s.mul=qa,s.pow=$a,s.random=Va,s.round=Ga,s.sign=Wa,s.sin=Ya,s.sinh=Za,s.sqrt=Xa,s.sub=Ja,s.tan=Qa,s.tanh=Ka,s.trunc=tu,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return s.config(e),s}(Io);ko=new eu(ko),zo=new eu(zo);var nu,ru=bo("BigNumber",["?on","config"],(t=>{var{on:e,config:n}=t,r=eu.clone({precision:n.precision,modulo:9});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),iu={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/nu=iu,function(t){var e=function(t){return.5*(Math.exp(t)+Math.exp(-t))},n=function(t){return.5*(Math.exp(t)-Math.exp(-t))},r=function(){throw SyntaxError("Invalid Param")};function i(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):r();break;case"string":n.im=n.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,a=0;null===i&&r();for(var u=0;u<i.length;u++){var c=i[u];" "===c||"\t"===c||"\n"===c||("+"===c?o++:"-"===c?a++:"i"===c||"I"===c?(o+a===0&&r()," "===i[u+1]||isNaN(i[u+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+i[u+1]),u++),o=a=0):((o+a===0||isNaN(c))&&r(),"i"===i[u+1]||"I"===i[u+1]?(n.im+=parseFloat((a%2?"-":"")+c),u++):n.re+=parseFloat((a%2?"-":"")+c),o=a=0))}o+a>0&&r();break;case"number":n.im=0,n.re=t;break;default:r()}return n}(t,e);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new s(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;t=this.re,e=this.im;var r,i,o=n.re,a=n.im;return 0===a?new s(t/o,e/o):Math.abs(o)<Math.abs(a)?new s((t*(i=o/a)+e)/(r=o*i+a),(e*i-t)/r):new s((t+e*(i=a/o))/(r=a*i+o),(e-t*i)/r)},pow:function(t,e){var n=new s(t,e);if(t=this.re,e=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===e&&t>0)return new s(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new s(Math.pow(e,n.re),0);case 1:return new s(0,Math.pow(e,n.re));case 2:return new s(-Math.pow(e,n.re),0);case 3:return new s(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return s.ZERO;var r=Math.atan2(e,t),o=i(t,e);return t=Math.exp(n.re*o-n.im*r),e=n.im*o+n.re*r,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new s(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new s(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),r=Math.abs(e),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r));var t,e,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,r=this.im;return new s(Math.sin(t)*e(r),Math.cos(t)*n(r))},cos:function(){var t=this.re,r=this.im;return new s(Math.cos(t)*e(r),-Math.sin(t)*n(r))},tan:function(){var t=2*this.re,r=2*this.im,i=Math.cos(t)+e(r);return new s(Math.sin(t)/i,n(r)/i)},cot:function(){var t=2*this.re,r=2*this.im,i=Math.cos(t)-e(r);return new s(-Math.sin(t)/i,n(r)/i)},sec:function(){var t=this.re,r=this.im,i=.5*e(2*r)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(r)/i,Math.sin(t)*n(r)/i)},csc:function(){var t=this.re,r=this.im,i=.5*e(2*r)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(r)/i,-Math.cos(t)*n(r)/i)},asin:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new s((1-e*e-t*t)/n,-2*t/n).log();return new s(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,r=this.im;return new s(n(t)*Math.cos(r),e(t)*Math.sin(r))},cosh:function(){var t=this.re,r=this.im;return new s(e(t)*Math.cos(r),n(t)*Math.sin(r))},tanh:function(){var t=2*this.re,r=2*this.im,i=e(t)+Math.cos(r);return new s(n(t)/i,Math.sin(r)/i)},coth:function(){var t=2*this.re,r=2*this.im,i=e(t)-Math.cos(r);return new s(n(t)/i,-Math.sin(r)/i)},csch:function(){var t=this.re,r=this.im,i=Math.cos(2*r)-e(2*t);return new s(-2*n(t)*Math.cos(r)/i,2*e(t)*Math.sin(r)/i)},sech:function(){var t=this.re,r=this.im,i=Math.cos(2*r)+e(2*t);return new s(2*e(t)*Math.cos(r)/i,-2*n(t)*Math.sin(r)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,o=1+t,a=r*r+e*e,u=0!==a?new s((o*r-e*e)/a,(e*r+o*e)/a):new s(-1!==t?t/0:0,0!==e?e/0:0),c=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,c)/2,n&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new s(t/n,-e/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new s(t,e);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,nu.exports=s}();var su=Hs(iu.exports),ou=bo("Complex",[],(()=>(su.prototype.type="Complex",su.prototype.isComplex=!0,su.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},su.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},su.prototype.format=function(t){var e=this.im,n=this.re,r=Gs(this.re,t),i=Gs(this.im,t),s=Qi(t)?t:t?t.precision:null;if(null!==s){var o=Math.pow(10,-s);Math.abs(n/e)<o&&(n=0),Math.abs(e/n)<o&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},su.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return su(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Qi(n)){if(ns(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Qi(r))return new su({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},su.prototype.valueOf=su.prototype.toString,su.fromJSON=function(t){return new su(t)},su.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},su)),{isClass:!0}),au={exports:{}};
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(t,e){!function(e){var n={s:1,n:0,d:1};function r(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var i=l.DivisionByZero=r("DivisionByZero"),s=l.InvalidParameter=r("InvalidParameter");function o(t,e){return isNaN(t=parseInt(t,10))&&a(),t*e}function a(){throw new s}function u(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var c=function(t,e){var r,s=0,u=1,c=1,h=0,l=0,f=0,p=1,d=1,m=0,g=1,v=1,y=1,x=1e7;if(null==t);else if(void 0!==e)c=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):a(),c=s*u;break;case"number":if(t<0&&(c=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));g<=x&&y<=x;){if(t===(r=(m+v)/(g+y))){g+y<=x?(s=m+v,u=g+y):y>g?(s=v,u=y):(s=m,u=g);break}t>r?(m+=v,g+=y):(v+=m,y+=g),g>x?(s=v,u=y):(s=m,u=g)}s*=d}else(isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(g=t.match(/\d+|./g))&&a(),"-"===g[m]?(c=-1,m++):"+"===g[m]&&m++,g.length===m+1?l=o(g[m++],c):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(h=o(g[m++],c)),(1+ ++m===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(l=o(g[m],c),p=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(f=o(g[m+1],c),d=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(l=o(g[m],c),p=o(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(h=o(g[m],c),l=o(g[m+2],c),p=o(g[m+4],1),m+=5),g.length<=m){c=s=f+(u=p*d)*h+d*l;break}default:a()}if(0===u)throw new i;n.s=c<0?-1:1,n.n=Math.abs(s),n.d=Math.abs(u)};function h(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);c(t,e),t=l.REDUCE?h(n.d,n.n):1,this.s=n.s,this.n=n.n/t,this.d=n.d/t}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return c(t,e),new l(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,e){return c(t,e),new l(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,e){return c(t,e),new l(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,e){return c(t,e),new l(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(c(t,e),0===n.n&&0===this.d&&l(0,0),new l(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d))},gcd:function(t,e){return c(t,e),new l(h(n.n,this.n)*h(n.d,this.d),n.d*this.d)},lcm:function(t,e){return c(t,e),0===n.n&&0===this.n?new l:new l(n.n*this.n,h(n.n,this.n)*h(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(c(t,e),1===n.d)return n.s<0?new l(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):new l(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=u(this.n),i=u(this.d),s=1,o=1;for(var a in r)if("1"!==a){if("0"===a){s=0;break}if(r[a]*=n.n,r[a]%n.d!=0)return null;r[a]/=n.d,s*=Math.pow(a,r[a])}for(var a in i)if("1"!==a){if(i[a]*=n.n,i[a]%n.d!=0)return null;i[a]/=n.d,o*=Math.pow(a,i[a])}return n.s<0?new l(o,s):new l(s,o)},equals:function(t,e){return c(t,e),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,e){c(t,e);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new l(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var i=n(e.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return c(t,e),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";l.REDUCE||(n/=e=h(n,r),r/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),s=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),s=0;s<300;s++){if(r===i)return s;r=10*r%e,i=10*i%e}return 0}(0,r,i),o=-1===this.s?"-":"";if(o+=n/r|0,n%=r,(n*=10)&&(o+="."),i){for(var a=s;a--;)o+=n/r|0,n%=r,n*=10;for(o+="(",a=i;a--;)o+=n/r|0,n%=r,n*=10;o+=")"}else for(a=t;n&&a--;)o+=n/r|0,n%=r,n*=10;return o}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l}()}(au);var uu=Hs(au.exports),cu=bo("Fraction",[],(()=>(uu.prototype.type="Fraction",uu.prototype.isFraction=!0,uu.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},uu.fromJSON=function(t){return new uu(t)},uu)),{isClass:!0}),hu=(bo("Range",[],(()=>{function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=n,o=null!=r;if(i)if(Ki(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Ki(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(o)if(Ki(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(n):0,this.step=o?parseFloat(r):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var n=e.split(":").map((function(t){return parseFloat(t)}));if(n.some((function(t){return isNaN(t)})))return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end-e;return Vs(n)===Vs(r)?t=Math.ceil(r/n):0===r&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},t.prototype.map=function(t){var e=[];return this.forEach((function(n,r,i){e[r[0]]=t(n,r,i)})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,n){t[n[0]]=e})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Gs(this.start,t);return 1!==this.step&&(e+=":"+Gs(this.step,t)),e+":"+Gs(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),bo("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0})),lu=bo("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!rs(e))throw new Error("Invalid datatype: "+e);if(ss(t))"DenseMatrix"===t.type?(this._data=Us(t._data),this._size=Us(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&is(t.data)&&is(t.size))this._data=t.data,this._size=t.size,ho(this._data,this._size),this._datatype=e||t.datatype;else if(is(t))this._data=c(t),this._size=uo(this._data),ho(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+Ds(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e){if(!hs(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r=e.size();if(r.length!==t._size.length)throw new oo(r.length,t._size.length);for(var s=e.min(),o=e.max(),a=0,u=t._size.length;a<u;a++)lo(s[a],t._size[a]),lo(o[a],t._size[a]);return new n(i(t._data,e,r.length,0),t._datatype)}function i(t,e,n,r){var s=r===n-1,o=e.dimension(r);return s?o.map((function(e){return lo(e,t.length),t[e]})).valueOf():o.map((function(s){return lo(s,t.length),i(t[s],e,n,r+1)})).valueOf()}function s(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if(ss(n)?(i=n.size(),n=n.valueOf()):i=uo(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(s.length<t._size.length)throw new oo(s.length,t._size.length,"<");if(i.length<s.length){for(var c=0,h=0;1===s[c]&&1===i[c];)c++;for(;1===s[c];)h++,c++;n=mo(n,s.length,h,i)}if(!Fs(s,i))throw new oo(s,i,">");u(t,e.max().map((function(t){return t+1})),r);var l=s.length;o(t._data,e,n,l,0)}return t}function o(t,e,n,r,i){var s=i===r-1,a=e.dimension(i);s?a.forEach((function(e,r){lo(e),t[e]=n[r[0]]})):a.forEach((function(s,a){lo(s),o(t[s],e,n[a[0]],r,i+1)}))}function a(t,e,n){if(0===e.length){for(var r=t._data;is(r);)r=r[0];return r}return t._size=e.slice(0),t._data=fo(t._data,t._size,n),t}function u(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var s=0,o=e.length;s<o;s++)e[s]>r[s]&&(r[s]=e[s],i=!0);i&&a(t,r,n)}function c(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];is(r)?t[e]=c(r):r&&!0===r.isMatrix&&(t[e]=c(r.valueOf()))}return t}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return wo(this._data,Ds)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return r(this,t);case 2:case 3:return s(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!is(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new oo(t.length,this._size.length);for(var e=0;e<t.length;e++)lo(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var s=t[r];lo(s,n.length),n=n[s]}return n},n.prototype.set=function(t,e,n){if(!is(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new oo(t.length,this._size.length,"<");var r,i,s;u(this,t.map((function(t){return t+1})),n);var o=this._data;for(r=0,i=t.length-1;r<i;r++)lo(s=t[r],o.length),o=o[s];return lo(s=t[t.length-1],o.length),o[s]=e,this},n.prototype.resize=function(t,e,n){if(!os(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return a(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=function(t,e){var n,r=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new oo(0,i(uo(t)),"!=");for(var s=1,o=0;o<e.length;o++)s*=e[o];if(r.length!==s)throw new oo(i(e),i(uo(t)),"!=");try{n=function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var s=e[i];n=[];for(var o=r.length/s,a=0;a<o;a++)n.push(r.slice(a*s,(a+1)*s));r=n}return r}(r,e)}catch(n){if(n instanceof oo)throw new oo(i(e),i(uo(t)),"!=");throw n}return n}(n._data,t),n._size=t.slice(0),n},n.prototype.clone=function(){return new n({data:Us(this._data),size:Us(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=function n(r,i){return is(r)?r.map((function(t,e){return n(t,i.concat(e))})):t(r,i,e)}(this._data,[]);return new n(r,void 0!==this._datatype?wo(r,Ds):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){is(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype.toArray=function(){return Us(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return no(this._data,t)},n.prototype.toString=function(){return no(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(Ki(t)&&(t=t.toNumber()),!Qi(t)||!$s(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],s=this._size[1],o=Math.min(i-r,s-e),a=[],u=0;u<o;u++)a[u]=this._data[u+r][u+e];return new n({data:a,size:[o],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!is(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Ki(t)&&(t=t.toNumber()),!Qi(t)||!$s(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(Ki(r)&&(r=r.toNumber()),!Qi(r)||!$s(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var s,o=r>0?r:0,a=r<0?-r:0,u=t[0],c=t[1],h=Math.min(u-a,c-o);if(is(e)){if(e.length!==h)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(ss(e)){var l=e.size();if(1!==l.length||l[0]!==h)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};i||(i=Ki(s(0))?s(0).mul(0):0);var f=[];if(t.length>0){f=fo(f,t,i);for(var p=0;p<h;p++)f[p+a][p+o]=s(p)}return new n({data:f,size:[u,c]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(Qi(t)&&$s(t)&&Qi(e)&&$s(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return lo(t,this._size[0]),lo(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0});function fu(t,e,n){return t&&"function"==typeof t.map?t.map((function(t){return fu(t,e)})):e(t)}var pu="number",du="number, number";function mu(t){return Math.abs(t)}function gu(t,e){return t+e}function vu(t,e){return t*e}function yu(t){return-t}function xu(t){return Math.ceil(t)}function wu(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function bu(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function _u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(Ys(t,e))}mu.signature=pu,gu.signature=du,vu.signature=du,yu.signature=pu,xu.signature=pu,wu.signature=du,bu.signature=du,_u.signature=du;var Eu=bo("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(t){return fu(t,this)}})}));function Nu(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}var Mu="equalScalar",Su=bo(Mu,["typed","config"],(t=>{var{typed:e,config:n}=t;return e(Mu,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Ks(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||Nu(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return Ks(t.re,e.re,n)&&Ks(t.im,e.im,n)}(t,e,n.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));bo(Mu,["typed","config"],(t=>{var{typed:e,config:n}=t;return e(Mu,{"number, number":function(t,e){return Ks(t,e,n.epsilon)}})}));var Tu=bo("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!rs(e))throw new Error("Invalid datatype: "+e);if(ss(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?Us(e._values):void 0,t._index=Us(e._index),t._ptr=Us(e._ptr),t._size=Us(e._size),t._datatype=n||e._datatype):s(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&is(t.index)&&is(t.ptr)&&is(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(is(t))s(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+Ds(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function s(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=r.length,o=0,a=n,u=0;if(rs(i)&&(a=e.find(n,[i,i])||n,u=e.convert(0,i)),s>0){var c=0;do{t._ptr.push(t._index.length);for(var h=0;h<s;h++){var l=r[h];if(is(l)){if(0===c&&o<l.length&&(o=l.length),c<l.length){var f=l[c];a(f,u)||(t._values.push(f),t._index.push(h))}}else 0===c&&o<1&&(o=1),a(l,u)||(t._values.push(l),t._index.push(h))}c++}while(c<o)}t._ptr.push(t._index.length),t._size=[s,o]}function o(t,e){if(!hs(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,s,o,a=e.size();if(a.length!==t._size.length)throw new oo(a.length,t._size.length);var u=e.min(),c=e.max();for(n=0,r=t._size.length;n<r;n++)lo(u[n],t._size[n]),lo(c[n],t._size[n]);var h=t._values,l=t._index,f=t._ptr,p=e.dimension(0),d=e.dimension(1),m=[],g=[];p.forEach((function(t,e){g[t]=e[0],m[t]=!0}));var v=h?[]:void 0,y=[],x=[];return d.forEach((function(t){for(x.push(y.length),s=f[t],o=f[t+1];s<o;s++)n=l[s],!0===m[n]&&(y.push(g[n]),v&&v.push(h[s]))})),x.push(y.length),new i({values:v,index:y,ptr:x,size:a,datatype:t._datatype})}function a(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if(ss(n)?(i=n.size(),n=n.toArray()):i=uo(n),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==s.length&&2!==s.length)throw new oo(s.length,t._size.length,"<");if(i.length<s.length){for(var a=0,u=0;1===s[a]&&1===i[a];)a++;for(;1===s[a];)u++,a++;n=mo(n,s.length,u,i)}if(!Fs(s,i))throw new oo(s,i,">");for(var c=e.min()[0],h=e.min()[1],l=i[0],f=i[1],p=0;p<l;p++)for(var d=0;d<f;d++){var m=n[p][d];t.set([p+c,d+h],m,r)}}return t}function u(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function c(t,e,n,r,i,s,o){i.splice(t,0,r),s.splice(t,0,e);for(var a=n+1;a<o.length;a++)o[a]++}function h(t,r,i,s){var o=s||0,a=n,u=0;rs(t._datatype)&&(a=e.find(n,[t._datatype,t._datatype])||n,u=e.convert(0,t._datatype),o=e.convert(o,t._datatype));var c,h,l,f=!a(o,u),p=t._size[0],d=t._size[1];if(i>d){for(h=d;h<i;h++)if(t._ptr[h]=t._values.length,f)for(c=0;c<p;c++)t._values.push(o),t._index.push(c);t._ptr[i]=t._values.length}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,r>p){if(f){var m=0;for(h=0;h<d;h++){t._ptr[h]=t._ptr[h]+m,l=t._ptr[h+1]+m;var g=0;for(c=p;c<r;c++,g++)t._values.splice(l+g,0,o),t._index.splice(l+g,0,c),m++}t._ptr[d]=t._values.length}}else if(r<p){var v=0;for(h=0;h<d;h++){t._ptr[h]=t._ptr[h]-v;var y=t._ptr[h],x=t._ptr[h+1]-v;for(l=y;l<x;l++)(c=t._index[l])>r-1&&(t._values.splice(l,1),t._index.splice(l,1),v++)}t._ptr[h]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function l(t,e,n,r,i){var s,o,a=r[0],u=r[1],c=[];for(s=0;s<a;s++)for(c[s]=[],o=0;o<u;o++)c[s][o]=0;for(o=0;o<u;o++)for(var h=n[o],l=n[o+1],f=h;f<l;f++)c[s=e[f]][o]=t?i?Us(t[f]):t[f]:1;return c}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return wo(this._values,Ds)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,t);case 2:case 3:return a(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!is(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new oo(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];lo(e,this._size[0]),lo(n,this._size[1]);var r=u(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!is(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new oo(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],o=t[1],a=this._size[0],l=this._size[1],f=n,p=0;rs(this._datatype)&&(f=e.find(n,[this._datatype,this._datatype])||n,p=e.convert(0,this._datatype)),(s>a-1||o>l-1)&&(h(this,Math.max(s+1,a),Math.max(o+1,l),i),a=this._size[0],l=this._size[1]),lo(s,a),lo(o,l);var d=u(s,this._ptr[o],this._ptr[o+1],this._index);return d<this._ptr[o+1]&&this._index[d]===s?f(r,p)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--}(d,o,this._values,this._index,this._ptr):this._values[d]=r:c(d,s,o,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!os(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!Qi(t)||!$s(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+no(r)+")")})),h(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!is(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Qi(e)||!$s(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+no(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var s=0;s<n._ptr[i+1]-n._ptr[i];s++)r.push(i);for(var o=n._values.slice(),a=n._index.slice(),h=0;h<n._index.length;h++){var l=a[h],f=r[h],p=l*n._size[1]+f;r[h]=p%t[1],a[h]=Math.floor(p/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var d=0;d<n._ptr.length;d++)n._ptr[d]=0;for(var m=0;m<o.length;m++){var g=a[m],v=r[m],y=o[m];c(u(g,n._ptr[v],n._ptr[v+1],n._index),g,v,y,n._values,n._index,n._ptr)}return n},i.prototype.clone=function(){return new i({values:this._values?Us(this._values):void 0,index:Us(this._index),ptr:Us(this._ptr),size:Us(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,r,s,o,a,u,c){var h=[],l=[],f=[],p=n,d=0;rs(t._datatype)&&(p=e.find(n,[t._datatype,t._datatype])||n,d=e.convert(0,t._datatype));for(var m=function(t,e,n){t=u(t,e,n),p(t,d)||(h.push(t),l.push(e))},g=0;g<=a;g++){f.push(h.length);var v=t._ptr[g],y=t._ptr[g+1];if(c)for(var x=v;x<y;x++){var w=t._index[x];w>=0&&w<=s&&m(t._values[x],w-0,g-0)}else{for(var b={},_=v;_<y;_++)b[t._index[_]]=t._values[_];for(var E=0;E<=s;E++)m(E in b?b[E]:0,E-0,g-0)}}return f.push(h.length),new i({values:h,index:l,ptr:f,size:[s-0+1,a-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,n,r){return t(e,[n,r],s)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var s=this._ptr[i],o=this._ptr[i+1];if(e)for(var a=s;a<o;a++){var u=this._index[a];t(this._values[a],[u,i],this)}else{for(var c={},h=s;h<o;h++)c[this._index[h]]=this._values[h];for(var l=0;l<n;l++)t(l in c?c[l]:0,[l,i],this)}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+no(e,t)+" x "+no(n,t)+"] density: "+no(r,t)+"\n",s=0;s<n;s++)for(var o=this._ptr[s],a=this._ptr[s+1],u=o;u<a;u++)i+="\n    ("+no(this._index[u],t)+", "+no(s,t)+") ==> "+(this._values?no(this._values[u],t):"X");return i},i.prototype.toString=function(){return no(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(Ki(t)&&(t=t.toNumber()),!Qi(t)||!$s(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],s=this._size[1],o=Math.min(r-n,s-e),a=[],u=[],c=[];c[0]=0;for(var h=e;h<s&&a.length<o;h++)for(var l=this._ptr[h],f=this._ptr[h+1],p=l;p<f;p++){var d=this._index[p];if(d===h-e+n){a.push(this._values[p]),u[a.length-1]=d-n;break}}return c.push(a.length),new i({values:a,index:u,ptr:c,size:[o,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,s,o,a){if(!is(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Ki(t)&&(t=t.toNumber()),!Qi(t)||!$s(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(Ki(s)&&(s=s.toNumber()),!Qi(s)||!$s(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=n,c=0;rs(a)&&(u=e.find(n,[a,a])||n,c=e.convert(0,a));var h,l=s>0?s:0,f=s<0?-s:0,p=t[0],d=t[1],m=Math.min(p-f,d-l);if(is(r)){if(r.length!==m)throw new Error("Invalid value array length");h=function(t){return r[t]}}else if(ss(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");h=function(t){return r.get([t])}}else h=function(){return r};for(var v=[],y=[],x=[],w=0;w<d;w++){x.push(v.length);var b=w-l;if(b>=0&&b<m){var _=h(b);u(_,c)||(y.push(b+f),v.push(_))}}return x.push(v.length),new i({values:v,index:y,ptr:x,size:[p,d]})},i.prototype.swapRows=function(t,e){if(!(Qi(t)&&$s(t)&&Qi(e)&&$s(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return lo(t,this._size[0]),lo(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var s=r[t],o=r[t+1],a=s;a<o;a++)i(n[a],e[a])},i._swapRows=function(t,e,n,r,i,s){for(var o=0;o<n;o++){var a=s[o],c=s[o+1],h=u(t,a,c,i),l=u(e,a,c,i);if(h<c&&l<c&&i[h]===t&&i[l]===e){if(r){var f=r[h];r[h]=r[l],r[l]=f}}else if(h<c&&i[h]===t&&(l>=c||i[l]!==e)){var p=r?r[h]:void 0;i.splice(l,0,e),r&&r.splice(l,0,p),i.splice(l<=h?h+1:h,1),r&&r.splice(l<=h?h+1:h,1)}else if(l<c&&i[l]===e&&(h>=c||i[h]!==t)){var d=r?r[l]:void 0;i.splice(h,0,t),r&&r.splice(h,0,d),i.splice(h<=l?l+1:l,1),r&&r.splice(h<=l?l+1:l,1)}}},i}),{isClass:!0}),Ou=bo("number",["typed"],(t=>{var{typed:e}=t,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1))}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return fu(t,this)}});return n.fromJSON=function(t){return parseFloat(t.value)},n})),Au=bo("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:n}=t;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return fu(t,this)}})})),Cu=bo("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:n}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,e){return new n(t,e)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return fu(t,this)}})})),Ru=bo("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,n){if("dense"===e||"default"===e||void 0===e)return new r(t,n);if("sparse"===e)return new i(t,n);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),ku=bo("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:yu,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return fu(t,this)}})})),zu=bo("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:mu,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return fu(t,this)},Unit:function(t){return t.abs()}})})),Iu=bo("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":gu,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n}})})),Lu=bo("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i,s){var o=t._values,a=t._index,u=t._ptr,c=t._size,h=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,f=c[0],p=c[1],d=n,m=0,g=i;"string"==typeof h&&(l=h,d=e.find(n,[l,l]),m=e.convert(0,l),r=e.convert(r,l),g=e.find(i,[l,l]));for(var v=[],y=[],x=[],w=0;w<p;w++){x[w]=y.length;for(var b=u[w],_=u[w+1],E=b;E<_;E++){var N=a[E],M=s?g(r,o[E]):g(o[E],r);d(M,m)||(y.push(N),v.push(M))}}return x[p]=y.length,t.createSparseMatrix({values:v,index:y,ptr:x,size:[f,p],datatype:l})}})),Du=bo("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,r,i,s){var o,a=t._data,u=t._size,c=t._datatype,h=i;"string"==typeof c&&(o=c,r=e.convert(r,o),h=e.find(i,[o,o]));var l=u.length>0?n(h,0,u,u[0],a,r,s):[];return t.createDenseMatrix({data:l,size:Us(u),datatype:o})};function n(t,e,r,i,s,o,a){var u=[];if(e===r.length-1)for(var c=0;c<i;c++)u[c]=a?t(o,s[c]):t(s[c],o);else for(var h=0;h<i;h++)u[h]=n(t,e+1,r,r[e+1],s[h],o,a);return u}})),Uu=bo("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:s}=t,o=Lu({typed:e,equalScalar:s}),a=Du({typed:e});return e("ceil",{number:function(t){return Ks(t,r(t),n.epsilon)?r(t):xu(t)},"number, number":function(t,e){if(Ks(t,r(t,e),n.epsilon))return r(t,e);var[i,s]="".concat(t,"e").split("e"),o=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return[i,s]="".concat(o,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return Nu(t,r(t),n.epsilon)?r(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return Nu(t,r(t,e),n.epsilon)?r(t,e):t.toDecimalPlaces(e.toNumber(),eu.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return fu(t,this)},"Array | Matrix, number":function(t,e){return fu(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return a(i(e),t,this,!0).valueOf()}})})),Pu=bo("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:n,matrix:r,ceil:i,floor:s}=t,o=Du({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new n(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new n(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return fu(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return fu(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return o(r(e),t,this,!0).valueOf()}})})),Fu=bo("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:s}=t,o=Lu({typed:e,equalScalar:s}),a=Du({typed:e});return e("floor",{number:function(t){return Ks(t,r(t),n.epsilon)?r(t):Math.floor(t)},"number, number":function(t,e){if(Ks(t,r(t,e),n.epsilon))return r(t,e);var[i,s]="".concat(t,"e").split("e"),o=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return[i,s]="".concat(o,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return Nu(t,r(t),n.epsilon)?r(t):t.floor()},"BigNumber, BigNumber":function(t,e){return Nu(t,r(t,e),n.epsilon)?r(t,e):t.toDecimalPlaces(e.toNumber(),eu.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return fu(t,this)},"Array | Matrix, number":function(t,e){return fu(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return a(i(e),t,this,!0).valueOf()}})})),ju=bo("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,n,r,i){var s=t._data,o=t._size,a=t._datatype,u=n._values,c=n._index,h=n._ptr,l=n._size,f=n._datatype;if(o.length!==l.length)throw new oo(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,d,m=o[0],g=o[1],v="string"==typeof a&&a===f?a:void 0,y=v?e.find(r,[v,v]):r,x=[];for(p=0;p<m;p++)x[p]=[];var w=[],b=[];for(d=0;d<g;d++){for(var _=d+1,E=h[d],N=h[d+1],M=E;M<N;M++)w[p=c[M]]=i?y(u[M],s[p][d]):y(s[p][d],u[M]),b[p]=_;for(p=0;p<m;p++)b[p]===_?x[p][d]=w[p]:x[p][d]=s[p][d]}return t.createDenseMatrix({data:x,size:[m,g],datatype:v})}})),Bu=bo("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var s=t._values,o=t._index,a=t._ptr,u=t._size,c=t._datatype,h=r._values,l=r._index,f=r._ptr,p=r._size,d=r._datatype;if(u.length!==p.length)throw new oo(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var m,g=u[0],v=u[1],y=n,x=0,w=i;"string"==typeof c&&c===d&&(m=c,y=e.find(n,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,E,N,M,S=s&&h?[]:void 0,T=[],O=[],A=s&&h?[]:void 0,C=s&&h?[]:void 0,R=[],k=[];for(_=0;_<v;_++){O[_]=T.length;var z=_+1;for(N=a[_],M=a[_+1],E=N;E<M;E++)b=o[E],T.push(b),R[b]=z,A&&(A[b]=s[E]);for(N=f[_],M=f[_+1],E=N;E<M;E++)if(R[b=l[E]]===z){if(A){var I=w(A[b],h[E]);y(I,x)?R[b]=null:A[b]=I}}else T.push(b),k[b]=z,C&&(C[b]=h[E]);if(A&&C)for(E=O[_];E<T.length;)R[b=T[E]]===z?(S[E]=A[b],E++):k[b]===z?(S[E]=C[b],E++):T.splice(E,1)}return O[v]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[g,v],datatype:m})}})),Hu=bo("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,r,i,s){var o=t._values,a=t._index,u=t._ptr,c=t._size,h=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,f=c[0],p=c[1],d=i;"string"==typeof h&&(l=h,r=e.convert(r,l),d=e.find(i,[l,l]));for(var m=[],g=[],v=[],y=0;y<p;y++){for(var x=y+1,w=u[y],b=u[y+1],_=w;_<b;_++){var E=a[_];g[E]=o[_],v[E]=x}for(var N=0;N<f;N++)0===y&&(m[N]=[]),v[N]===x?m[N][y]=s?d(r,g[N]):d(g[N],r):m[N][y]=r}return new n({data:m,size:[f,p],datatype:l})}})),qu=bo("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,r,i){var s,o=t._data,a=t._size,u=t._datatype,c=r._data,h=r._size,l=r._datatype,f=[];if(a.length!==h.length)throw new oo(a.length,h.length);for(var p=0;p<a.length;p++){if(a[p]!==h[p])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");f[p]=a[p]}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=f.length>0?n(d,0,f,f[0],o,c):[];return t.createDenseMatrix({data:m,size:f,datatype:s})};function n(t,e,r,i,s,o){var a=[];if(e===r.length-1)for(var u=0;u<i;u++)a[u]=t(s[u],o[u]);else for(var c=0;c<i;c++)a[c]=n(t,e+1,r,r[e+1],s[c],o[c]);return a}})),$u=bo("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i,s){var o=t._data,a=t._size,u=t._datatype,c=r._values,h=r._index,l=r._ptr,f=r._size,p=r._datatype;if(a.length!==f.length)throw new oo(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=a[0],g=a[1],v=n,y=0,x=i;"string"==typeof u&&u===p&&(d=u,v=e.find(n,[d,d]),y=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],E=0;E<g;E++){_[E]=b.length;for(var N=l[E],M=l[E+1],S=N;S<M;S++){var T=h[S],O=s?x(c[S],o[T][E]):x(o[T][E],c[S]);v(O,y)||(b.push(T),w.push(O))}}return _[g]=b.length,r.createSparseMatrix({values:w,index:b,ptr:_,size:[m,g],datatype:d})}})),Vu=bo("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,n,r,i){var s=t._data,o=t._size,a=t._datatype,u=n._values,c=n._index,h=n._ptr,l=n._size,f=n._datatype;if(o.length!==l.length)throw new oo(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,d=o[0],m=o[1],g=0,v=r;"string"==typeof a&&a===f&&(p=a,g=e.convert(0,p),v=e.find(r,[p,p]));for(var y=[],x=0;x<d;x++)y[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var E=_+1,N=h[_],M=h[_+1],S=N;S<M;S++){var T=c[S];w[T]=i?v(u[S],s[T][_]):v(s[T][_],u[S]),b[T]=E}for(var O=0;O<d;O++)b[O]===E?y[O][_]=w[O]:y[O][_]=i?v(g,s[O][_]):v(s[O][_],g)}return t.createDenseMatrix({data:y,size:[d,m],datatype:p})}})),Gu=bo("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var s=t._values,o=t._index,a=t._ptr,u=t._size,c=t._datatype,h=r._values,l=r._index,f=r._ptr,p=r._size,d=r._datatype;if(u.length!==p.length)throw new oo(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var m,g=u[0],v=u[1],y=n,x=0,w=i;"string"==typeof c&&c===d&&(m=c,y=e.find(n,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,E,N,M=s&&h?[]:void 0,S=[],T=[],O=M?[]:void 0,A=M?[]:void 0,C=[],R=[];for(_=0;_<v;_++){T[_]=S.length;var k=_+1;for(E=a[_],N=a[_+1];E<N;E++)b=o[E],S.push(b),C[b]=k,O&&(O[b]=s[E]);for(E=f[_],N=f[_+1];E<N;E++)C[b=l[E]]!==k&&S.push(b),R[b]=k,A&&(A[b]=h[E]);if(M)for(E=T[_];E<S.length;){var z=C[b=S[E]],I=R[b];if(z===k||I===k){var L=w(z===k?O[b]:x,I===k?A[b]:x);y(L,x)?S.splice(E,1):(M.push(L),E++)}}}return T[v]=S.length,t.createSparseMatrix({values:M,index:S,ptr:T,size:[g,v],datatype:m})}})),Wu=bo("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,r,i,s){var o=t._values,a=t._index,u=t._ptr,c=t._size,h=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,f=c[0],p=c[1],d=i;"string"==typeof h&&(l=h,r=e.convert(r,l),d=e.find(i,[l,l]));for(var m=[],g=[],v=[],y=0;y<p;y++){for(var x=y+1,w=u[y],b=u[y+1],_=w;_<b;_++){var E=a[_];g[E]=o[_],v[E]=x}for(var N=0;N<f;N++)0===y&&(m[N]=[]),v[N]===x?m[N][y]=s?d(r,g[N]):d(g[N],r):m[N][y]=s?d(r,0):d(0,r)}return new n({data:m,size:[f,p],datatype:l})}}));bo("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i}=t,s=$u({typed:e,equalScalar:r}),o=Vu({typed:e}),a=Gu({typed:e,equalScalar:r}),u=Lu({typed:e,equalScalar:r}),c=Wu({typed:e,DenseMatrix:i}),h=qu({typed:e}),l=Du({typed:e});return e("mod",{"number, number":wu,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(n(e),t,this,!0).valueOf()}})}));var Yu=bo("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":vu,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Zu=bo("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:s,dot:o}=t,a=Lu({typed:e,equalScalar:s}),u=Du({typed:e});function c(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function h(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var s,o=t._data,a=t._size,u=t._datatype,c=n._data,h=n._size,l=n._datatype,f=a[0],p=h[1],d=r,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(r,[s,s]),m=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){for(var y=m(o[0],c[0][v]),x=1;x<f;x++)y=d(y,m(o[x],c[x][v]));g[v]=y}return t.createDenseMatrix({data:g,size:[p],datatype:s})}(t,n)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var s,o=t._data,a=t._size,u=t._datatype,c=n._data,h=n._datatype,l=a[0],f=a[1],p=r,d=i;u&&h&&u===h&&"string"==typeof u&&(s=u,p=e.find(r,[s,s]),d=e.find(i,[s,s]));for(var m=[],g=0;g<l;g++){for(var v=o[g],y=d(v[0],c[0]),x=1;x<f;x++)y=p(y,d(v[x],c[x]));m[g]=y}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,n){var o=t._values,a=t._index,u=t._ptr,c=t._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var h,l=n._data,f=n._datatype,p=t._size[0],d=n._size[0],m=[],g=[],v=[],y=r,x=i,w=s,b=0;c&&f&&c===f&&"string"==typeof c&&(h=c,y=e.find(r,[h,h]),x=e.find(i,[h,h]),w=e.find(s,[h,h]),b=e.convert(0,h));var _=[],E=[];v[0]=0;for(var N=0;N<d;N++){var M=l[N];if(!w(M,b))for(var S=u[N],T=u[N+1],O=S;O<T;O++){var A=a[O];E[A]?_[A]=y(_[A],x(M,o[O])):(E[A]=!0,g.push(A),_[A]=x(M,o[O]))}}for(var C=g.length,R=0;R<C;R++){var k=g[R];m[R]=_[k]}return v[1]=g.length,t.createSparseMatrix({values:m,index:g,ptr:v,size:[p,1],datatype:h})}}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var s,o=t._data,a=t._size,u=t._datatype,c=n._data,h=n._size,l=n._datatype,f=a[0],p=a[1],d=h[1],m=r,g=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(r,[s,s]),g=e.find(i,[s,s]));for(var v=[],y=0;y<f;y++){var x=o[y];v[y]=[];for(var w=0;w<d;w++){for(var b=g(x[0],c[0][w]),_=1;_<p;_++)b=m(b,g(x[_],c[_][w]));v[y][w]=b}}return t.createDenseMatrix({data:v,size:[f,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,n){var o=t._data,a=t._size,u=t._datatype,c=n._values,h=n._index,l=n._ptr,f=n._size,p=n._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=a[0],g=f[1],v=r,y=i,x=s,w=0;u&&p&&u===p&&"string"==typeof u&&(d=u,v=e.find(r,[d,d]),y=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],E=[],N=n.createSparseMatrix({values:b,index:_,ptr:E,size:[m,g],datatype:d}),M=0;M<g;M++){E[M]=_.length;var S=l[M],T=l[M+1];if(T>S)for(var O=0,A=0;A<m;A++){for(var C=A+1,R=void 0,k=S;k<T;k++){var z=h[k];O!==C?(R=y(o[A][z],c[k]),O=C):R=v(R,y(o[A][z],c[k]))}O!==C||x(R,w)||(_.push(A),b.push(R))}}return E[g]=_.length,N},"SparseMatrix, DenseMatrix":function(t,n){var o=t._values,a=t._index,u=t._ptr,c=t._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var h,l=n._data,f=n._datatype,p=t._size[0],d=n._size[0],m=n._size[1],g=r,v=i,y=s,x=0;c&&f&&c===f&&"string"==typeof c&&(h=c,g=e.find(r,[h,h]),v=e.find(i,[h,h]),y=e.find(s,[h,h]),x=e.convert(0,h));for(var w=[],b=[],_=[],E=t.createSparseMatrix({values:w,index:b,ptr:_,size:[p,m],datatype:h}),N=[],M=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var A=l[O][S];if(!y(A,x))for(var C=u[O],R=u[O+1],k=C;k<R;k++){var z=a[k];M[z]!==T?(M[z]=T,b.push(z),N[z]=v(A,o[k])):N[z]=g(N[z],v(A,o[k]))}}for(var I=_[S],L=b.length,D=I;D<L;D++){var U=b[D];w[D]=N[U]}}return _[m]=b.length,E},"SparseMatrix, SparseMatrix":function(t,n){var s,o=t._values,a=t._index,u=t._ptr,c=t._datatype,h=n._values,l=n._index,f=n._ptr,p=n._datatype,d=t._size[0],m=n._size[1],g=o&&h,v=r,y=i;c&&p&&c===p&&"string"==typeof c&&(s=c,v=e.find(r,[s,s]),y=e.find(i,[s,s]));for(var x,w,b,_,E,N,M,S,T=g?[]:void 0,O=[],A=[],C=t.createSparseMatrix({values:T,index:O,ptr:A,size:[d,m],datatype:s}),R=g?[]:void 0,k=[],z=0;z<m;z++){A[z]=O.length;var I=z+1;for(E=f[z],N=f[z+1],_=E;_<N;_++)if(S=l[_],g)for(w=u[S],b=u[S+1],x=w;x<b;x++)k[M=a[x]]!==I?(k[M]=I,O.push(M),R[M]=y(h[_],o[x])):R[M]=v(R[M],y(h[_],o[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)k[M=a[x]]!==I&&(k[M]=I,O.push(M));if(g)for(var L=A[z],D=O.length,U=L;U<D;U++){var P=O[U];T[U]=R[P]}}return A[m]=O.length,C}});return e("multiply",Ps({"Array, Array":function(t,e){c(uo(t),uo(e));var r=this(n(t),n(e));return ss(r)?r.valueOf():r},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return c(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(t,e)}(t,e,n[0]):h(t,e):1===r.length?l(t,e):f(t,e)},"Matrix, Array":function(t,e){return this(t,n(e))},"Array, Matrix":function(t,e){return this(n(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return a(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return a(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))})),Xu=bo("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:n,equalScalar:r,addScalar:i,unaryMinus:s,DenseMatrix:o}=t,a=ju({typed:e}),u=Vu({typed:e}),c=Gu({typed:e,equalScalar:r}),h=Hu({typed:e,DenseMatrix:o}),l=qu({typed:e}),f=Du({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(t,e){return Ju(t,e),c(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Ju(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Ju(t,e),a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Ju(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return h(t,s(e),i)},"DenseMatrix, any":function(t,e){return f(t,e,this)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return f(e,t,this,!0)},"Array, any":function(t,e){return f(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return f(n(e),t,this,!0).valueOf()}})}));function Ju(t,e){var n=t.size(),r=e.size();if(n.length!==r.length)throw new oo(n.length,r.length)}var Qu=bo("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,i,s){var o=t._size,a=t._datatype,u=i._size,c=i._datatype;if(o.length!==u.length)throw new oo(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var h,l,f,p=o[0],d=o[1],m=0,g=s;"string"==typeof a&&a===c&&(h=a,m=e.convert(0,h),g=e.find(s,[h,h]));var v=[];for(l=0;l<p;l++)v[l]=[];var y=[],x=[],w=[],b=[];for(f=0;f<d;f++){var _=f+1;for(r(t,f,w,y,_),r(i,f,b,x,_),l=0;l<p;l++){var E=w[l]===_?y[l]:m,N=b[l]===_?x[l]:m;v[l][f]=g(E,N)}}return new n({data:v,size:[p,d],datatype:h})};function r(t,e,n,r,i){for(var s=t._values,o=t._index,a=t._ptr,u=a[e],c=a[e+1];u<c;u++){var h=o[u];n[h]=i,r[h]=s[u]}}})),Ku=bo("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return fu(t,this)}})}));function tc(t){var e=0,n=1,r=Object.create(null),i=Object.create(null),s=0,o=function(t){var o=i[t];if(o&&(delete r[o],delete i[t],--e,n===o)){if(!e)return s=0,void(n=1);for(;!hasOwnProperty.call(r,++n););}};return t=Math.abs(t),{hit:function(a){var u=i[a],c=++s;if(r[c]=a,i[a]=c,!u){if(++e<=t)return;return a=r[n],o(a),a}if(delete r[u],n===u)for(;!hasOwnProperty.call(r,++n););},delete:o,clear:function(){e=s=0,n=1,r=Object.create(null),i=Object.create(null)}}}function ec(t){var{hasher:e,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,e=null==e?JSON.stringify:e,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:tc(n||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=t.apply(t,i);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}var nc=bo("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:n,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:o}=t;return e("identity",{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(t){return r(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return a(t)},"Array, string":function(t,e){return a(t,e)},Matrix:function(t){return a(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return a(t.valueOf(),e)}});function a(t,e){switch(t.length){case 0:return e?r(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,n){var r=Ki(t)||Ki(e)?i:null;if(Ki(t)&&(t=t.toNumber()),Ki(e)&&(e=e.toNumber()),!$s(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!$s(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var a=r?new i(1):1,u=r?new r(0):0,c=[t,e];if(n){if("sparse"===n)return o.diagonal(c,a,0,u);if("dense"===n)return s.diagonal(c,a,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var h=fo([],c,u),l=t<e?t:e,f=0;f<l;f++)h[f][f]=a;return h}}));function rc(){throw new Error('No "bignumber" implementation available')}function ic(){throw new Error('No "fraction" implementation available')}function sc(t,e,n,r){if(!(this instanceof sc))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}sc.prototype=new Error,sc.prototype.constructor=Error,sc.prototype.name="ArgumentsError",sc.prototype.isArgumentsError=!0;var oc=bo("size",["typed","config","?matrix"],(t=>{var{typed:e,config:n,matrix:r}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:uo,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function ac(t,e){if(lc(t)&&cc(t,e))return t[e];if("function"==typeof t[e]&&hc(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function uc(t,e,n){if(lc(t)&&cc(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function cc(t,e){return!(!t||"object"!=typeof t||!js(fc,e)&&(e in Object.prototype||e in Function.prototype))}function hc(t,e){return!(null==t||"function"!=typeof t[e]||js(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)||!js(pc,e)&&(e in Object.prototype||e in Function.prototype))}function lc(t){return"object"==typeof t&&t&&t.constructor===Object}var fc={length:!0,name:!0},pc={toString:!0,valueOf:!0,toLocaleString:!0};bo("subset",["typed","matrix"],(t=>{var{typed:e,matrix:n}=t;return e("subset",{"Array, Index":function(t,e){var r=n(t).subset(e);return e.isScalar()?r:r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":gc,"string, Index":dc,"Array, Index, any":function(t,e,r){return n(Us(t)).subset(e,r,void 0).valueOf()},"Array, Index, any, any":function(t,e,r,i){return n(Us(t)).subset(e,r,i).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":mc,"string, Index, string, string":mc,"Object, Index, any":vc})}));function dc(t,e){if(!hs(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new oo(e.size().length,1);var n=t.length;lo(e.min()[0],n),lo(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach((function(e){i+=t.charAt(e)})),i}function mc(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new oo(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==n.length)throw new oo(i.size()[0],n.length);var s=t.length;lo(e.min()[0]),lo(e.max()[0]);for(var o=[],a=0;a<s;a++)o[a]=t.charAt(a);if(i.forEach((function(t,e){o[t]=n.charAt(e[0])})),o.length>s)for(var u=s-1,c=o.length;u<c;u++)o[u]||(o[u]=r);return o.join("")}function gc(t,e){if(1!==e.size().length)throw new oo(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return ac(t,n)}function vc(t,e,n){if(1!==e.size().length)throw new oo(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Us(t);return uc(i,r,n),i}var yc=bo("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e("zeros",{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return"Array"===n.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var n=function(t){var e=!1;return t.forEach((function(t,n,r){Ki(t)&&(e=!0,r[n]=t.toNumber())})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!$s(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}))}(t),e){var s=r(e);return t.length>0?s.resize(t,n):s}var o=[];return t.length>0?fo(o,t,n):o}})),xc=bo("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:no,"any, Object | function | number":no})})),wc=bo("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:n,fraction:r}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:n?t=>n(t):rc,Fraction:r?t=>r(t):ic};return function(t,e){var n=Ds(t);if(!(n in i))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===n?t:s[e](t)}})),bc=bo("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:n}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var r=t.clone(),i=n(1,Ds(e));return r.value=this(null===r.value?r._normalize(i):r.value,e),r},"number | Fraction | BigNumber, Unit":function(t,e){var r=e.clone();r=r.pow(-1);var i=n(1,Ds(t));return r.value=this(t,null===e.value?e._normalize(i):e.value),r},"Unit, Unit":function(t,e){return t.divide(e)}})})),_c=bo("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:n,identity:r,multiply:i,matrix:s,number:o,fraction:a,Complex:u}=t;return e("pow",{"number, number":c,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||n.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":h,"Array, BigNumber":function(t,e){return h(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function c(t,e){if(n.predictable&&!$s(e)&&t<0)try{var r=a(e),i=o(r);if((e===i||Math.abs((e-i)/e)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-t,e)}catch(t){}return n.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:$s(e)||t>=0||n.predictable?bu(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function h(t,e){if(!$s(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=uo(t);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var s=r(n[0]).valueOf(),o=t;e>=1;)1==(1&e)&&(s=i(o,s)),e>>=1,o=i(o,o);return s}function l(t,e){return s(h(t.valueOf(),e))}}));function Ec(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ec(Object(n),!0).forEach((function(e){Mc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sc="Number of decimals in function round must be an integer",Tc=bo("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,BigNumber:s,DenseMatrix:o}=t,a=Lu({typed:e,equalScalar:r}),u=Wu({typed:e,DenseMatrix:o}),c=Du({typed:e});return e("round",Nc(Nc({},Oc),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(Sc);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Sc);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Sc);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Sc);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(Sc);return t.round(e)},"Array | Matrix":function(t){return fu(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return c(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return r(t,0)?i(e.size(),e.storage()):c(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return c(n(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return c(n(e),t,this,!0).valueOf()}}))})),Oc={number:_u,"number, number":function(t,e){if(!$s(e))throw new TypeError(Sc);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return _u(t,e)}},Ac=bo("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i}=t,s=Vu({typed:e}),o=Qu({typed:e,DenseMatrix:i}),a=Wu({typed:e,DenseMatrix:i}),u=qu({typed:e}),c=Du({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,r)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,r,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,r,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,r)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return a(t,e,r,!1)},"DenseMatrix, any":function(t,e){return c(t,e,r,!1)},"any, SparseMatrix":function(t,e){return a(e,t,r,!0)},"any, DenseMatrix":function(t,e){return c(e,t,r,!0)},"Array, any":function(t,e){return c(n(t),e,r,!1).valueOf()},"any, Array":function(t,e){return c(n(e),t,r,!0).valueOf()}})}));bo("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})}));bo("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i}=t,s=Vu({typed:e}),o=Qu({typed:e,DenseMatrix:i}),a=Wu({typed:e,DenseMatrix:i}),u=qu({typed:e}),c=Du({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Ks(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!Nu(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return a(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return a(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),bo("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i}=t,s=Vu({typed:e}),o=Qu({typed:e,DenseMatrix:i}),a=Wu({typed:e,DenseMatrix:i}),u=qu({typed:e}),c=Du({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Ks(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!Nu(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return a(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return a(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),bo("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:n}=t,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function s(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child===e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1}function o(t,e){var n=e.parent;n&&(e.mark?(s(t,e,n),o(n)):e.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,n){var r={key:t,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,e(t,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,o=t.child;s>0;){var u=o.right;o.left.right=o.right,o.right.left=o.left,o.left=i,o.right=i.right,i.right=o,o.right.left=o,o.parent=null,o=u,s--}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,o=Math.floor(Math.log(i)*r)+1,u=new Array(o),c=0,h=t;if(h)for(c++,h=h.right;h!==t;)c++,h=h.right;for(;c>0;){for(var l=h.degree,f=h.right;s=u[l];){if(n(h.key,s.key)){var p=s;s=h,h=p}a(s,h),u[l]=null,l++}u[l]=h,h=f,c--}t=null;for(var d=0;d<o;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,n,r){n.key=-1;var i=n.parent;return i&&e(n.key,i.key)&&(s(t,n,i),o(t,i)),e(n.key,t.key)&&(t=n),t}(this._minimum,t),this.extractMinimum()};var a=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1};return i}),{isClass:!0}),bo("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:n,FibonacciHeap:r}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,n){var r=this._values[t];r?r.value=e(r.value,n):(r=this._heap.insert(t,n),this._values[t]=r)},i.prototype.forEach=function(t,e,r){var i=this._heap,s=this._values,o=[],a=i.extractMinimum();for(a&&o.push(a);a&&a.key<=e;)a.key>=t&&(n(a.value,0)||r(a.key,a.value,this)),(a=i.extractMinimum())&&o.push(a);for(var u=0;u<o.length;u++){var c=o[u];s[(a=i.insert(c.key,c.value)).key]=a}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0});ec((function(t){return new t(1).exp()}),{hasher:Rc}),ec((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:Rc});var Cc=ec((function(t){return t.acos(-1)}),{hasher:Rc});function Rc(t){return t[0].precision}function kc(){return(kc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ic(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zc(Object(n),!0).forEach((function(e){Lc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ec((function(t){return Cc(t).times(2)}),{hasher:Rc});var Dc=bo("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,n,r,{on:i,config:s,addScalar:o,subtract:a,multiplyScalar:u,divideScalar:c,pow:h,abs:l,fix:f,round:p,equal:d,isNumeric:m,format:g,number:v,Complex:y,BigNumber:x,Fraction:w}=t,b=v;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!ts(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var n=_.parse(e);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:D,prefix:k.NONE,power:0}],this.dimensions=[];for(var r=0;r<z.length;r++)this.dimensions[r]=0}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function E(){for(;" "===r||"\t"===r;)M()}function N(t){return t>="0"&&t<="9"}function M(){n++,r=e.charAt(n)}function S(t){n=t,r=e.charAt(n)}function T(){var t,e="",i=n;if("+"===r?M():"-"===r&&(e+=r,M()),!((t=r)>="0"&&t<="9"||"."===t))return S(i),null;if("."===r){if(e+=r,M(),!N(r))return S(i),null}else{for(;N(r);)e+=r,M();"."===r&&(e+=r,M())}for(;N(r);)e+=r,M();if("E"===r||"e"===r){var s="",o=n;if(s+=r,M(),"+"!==r&&"-"!==r||(s+=r,M()),!N(r))return S(o),e;for(e+=s;N(r);)e+=r,M()}return e}function O(){for(var t="";N(r)||_.isValidAlpha(r);)t+=r,M();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function A(t){return r===t?(M(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},n=-1,r="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new _;o.units=[];var a=1,u=!1;M(),E();var c=T(),h=null;if(c){if("BigNumber"===s.number)h=new x(c);else if("Fraction"===s.number)try{h=new w(c)}catch(t){h=parseFloat(c)}else h=parseFloat(c);E(),A("*")?(a=1,u=!0):A("/")&&(a=-1,u=!0)}for(var l=[],f=1;;){for(E();"("===r;)l.push(a),f*=a,a=1,M(),E();var p;if(!r)break;var d=r;if(null===(p=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+n.toString());var m=C(p);if(null===m)throw new SyntaxError('Unit "'+p+'" not found.');var g=a*f;if(E(),A("^")){E();var v=T();if(null===v)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');g*=v}o.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var y=0;y<z.length;y++)o.dimensions[y]+=(m.unit.dimensions[y]||0)*g;for(E();")"===r;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+n.toString());f/=l.pop(),M(),E()}if(u=!1,A("*")?(a=1,u=!0):A("/")?(a=-1,u=!0):a=1,m.unit.base){var b=m.unit.base.key;j.auto[b]={unit:m.unit,prefix:m.prefix}}}if(E(),r)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===o.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return o.value=void 0!==h?o._normalize(h):null,o},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=Us(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var n in t.units[e]={},this.units[e])js(this.units[e],n)&&(t.units[e][n]=this.units[e][n]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,n,r,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var a=t;s=_._getNumberConverter(Ds(t));for(var c=0;c<this.units.length;c++)e=s(this.units[c].unit.value),i=s(this.units[c].prefix.value),r=s(this.units[c].power),a=u(a,h(u(e,i),r));return a}return e=(s=_._getNumberConverter(Ds(t)))(this.units[0].unit.value),n=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(o(t,n),u(e,i))},_.prototype._denormalize=function(t,e){var n,r,i,s,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;o=_._getNumberConverter(Ds(t));for(var f=0;f<this.units.length;f++)n=o(this.units[f].unit.value),s=o(this.units[f].prefix.value),i=o(this.units[f].power),l=c(l,h(u(n,s),i));return l}return n=(o=_._getNumberConverter(Ds(t)))(this.units[0].unit.value),s=o(this.units[0].prefix.value),r=o(this.units[0].unit.offset),a(c(c(t,n),null==e?s:e),r)};var C=ec((t=>{if(js(U,t)){var e=U[t];return{unit:e,prefix:e.prefixes[""]}}for(var n in U)if(js(U,n)&&eo(t,n)){var r=U[n],i=t.length-n.length,s=t.substring(0,i),o=js(r.prefixes,s)?r.prefixes[s]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null}),{hasher:t=>t[0],limit:100});function R(t){return t.equalBase(I.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==C(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=I[t]),!t)return!1;for(var e=0;e<z.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(t){for(var e=0;e<z.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<z.length;n++)e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var r=0;r<t.units.length;r++){var i=Ic({},t.units[r]);e.units.push(i)}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,o=null===t.value?t._normalize(1):t.value;e.value=u(s,o)}else e.value=null;return e.skipAutomaticSimplification=!1,R(e)},_.prototype.divide=function(t){for(var e=this.clone(),n=0;n<z.length;n++)e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var r=0;r<t.units.length;r++){var i=Ic(Ic({},t.units[r]),{},{power:-t.units[r].power});e.units.push(i)}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,o=null===t.value?t._normalize(1):t.value;e.value=c(s,o)}else e.value=null;return e.skipAutomaticSimplification=!1,R(e)},_.prototype.pow=function(t){for(var e=this.clone(),n=0;n<z.length;n++)e.dimensions[n]=(this.dimensions[n]||0)*t;for(var r=0;r<e.units.length;r++)e.units[r].power*=t;return null!==e.value?e.value=h(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,R(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=U.W);return t},_.prototype.to=function(t){var e,n=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=Us(n),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(ns(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return(e=t.clone()).value=Us(n),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return(e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,n=this.clone(),r=[];for(var i in B)if(js(B,i)&&n.hasBase(I[i])){t=i;break}if("NONE"===t)n.units=[];else if(t&&js(B,t)&&(e=B[t]),e)n.units=[{unit:e.unit,prefix:e.prefix,power:1}];else{for(var s=!1,o=0;o<z.length;o++){var a=z[o];Math.abs(n.dimensions[o]||0)>1e-12&&(js(B,a)?r.push({unit:B[a].unit,prefix:B[a].prefix,power:n.dimensions[o]||0}):s=!0)}r.length<n.units.length&&!s&&(n.units=r)}return n},_.prototype.toSI=function(){for(var t=this.clone(),e=[],n=0;n<z.length;n++){var r=z[n];if(Math.abs(t.dimensions[n]||0)>1e-12){if(!js(j.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");e.push({unit:j.si[r].unit,prefix:j.si[r].prefix,power:t.dimensions[n]||0})}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(n>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),n>1&&r>0&&(t="("+t+")"),r>1&&n>0&&(e="("+e+")");var o=t;return n>0&&r>0&&(o+=" / "),o+e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in void 0!==e.value&&null!==e.value&&ts(e.value)&&(n=Math.abs(e.value.re)<1e-14),e.units)js(e.units,r)&&e.units[r].unit&&("VA"===e.units[r].unit.name&&n?e.units[r].unit=U.VAR:"VAR"!==e.units[r].unit.name||n||(e.units[r].unit=U.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?g(i,t||{}):"",o=e.formatUnits();return e.value&&ts(e.value)&&(s="("+s+")"),o.length>0&&s.length>0&&(s+=" "),s+o},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var r=this.units[0].power,i=Math.log(t/Math.pow(n.value*e,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var o in s)if(js(s,o)){var a=s[o];if(a.scientific){var u=Math.abs(Math.log(t/Math.pow(a.value*e,r))/Math.LN10-1.2);(u<i||u===i&&a.name.length<n.name.length)&&(n=a,i=u)}}return n},_.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],r=0;r<t.length&&(e=e.to(t[r]),r!==t.length-1);r++){var i=e.toNumeric(),s=p(i),u=new _(d(s,i)?s:f(e.toNumeric()),t[r].toString());n.push(u),e=a(e,u)}for(var c=0,h=0;h<n.length;h++)c=o(c,n[h].value);return d(c,this.value)&&(e.value=0),n.push(e),n};var k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};k.SHORTLONG=kc({},k.SHORT,k.LONG),k.BINARY_SHORT=kc({},k.BINARY_SHORT_SI,k.BINARY_SHORT_IEC),k.BINARY_LONG=kc({},k.BINARY_LONG_SI,k.BINARY_LONG_IEC);var z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],I={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var L in I)js(I,L)&&(I[L].key=L);var D={name:"",base:{},value:1,offset:0,dimensions:z.map((t=>0))},U={meter:{name:"meter",base:I.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:I.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:I.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:I.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:I.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:I.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:I.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:I.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:I.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:I.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:I.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:I.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:I.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:I.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:I.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:I.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:I.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:I.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:I.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:I.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:I.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:I.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:I.SURFACE,prefixes:k.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:I.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:I.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:I.SURFACE,prefixes:k.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:I.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:I.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:I.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:I.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:I.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:I.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:I.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:I.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:I.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:I.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:I.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:I.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:I.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:I.VOLUME,prefixes:k.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:I.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:I.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:I.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:I.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:I.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:I.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:I.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:I.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:I.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:I.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:I.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:I.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:I.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:I.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:I.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:I.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:I.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:I.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:I.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:I.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:I.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:I.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:I.MASS,prefixes:k.SHORT,value:907.18474,offset:0},t:{name:"t",base:I.MASS,prefixes:k.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:I.MASS,prefixes:k.LONG,value:1e3,offset:0},grain:{name:"grain",base:I.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:I.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:I.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:I.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:I.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:I.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:I.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:I.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:I.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:I.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:I.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:I.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:I.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:I.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:I.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:I.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:I.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:I.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:I.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:I.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:I.TIME,prefixes:k.NONE,value:604800,offset:0},month:{name:"month",base:I.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:I.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:I.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:I.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:I.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:I.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:I.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:I.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:I.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:I.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:I.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:I.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:I.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:I.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:I.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:I.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:I.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:I.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},degC:{name:"degC",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},degF:{name:"degF",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},celsius:{name:"celsius",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:I.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:I.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:I.LUMINOUS_INTENSITY,prefixes:k.SHORT,value:1,offset:0},candela:{name:"candela",base:I.LUMINOUS_INTENSITY,prefixes:k.LONG,value:1,offset:0},N:{name:"N",base:I.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:I.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:I.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:I.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:I.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:I.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:I.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:I.FORCE,prefixes:k.NONE,value:9.80665,offset:0},J:{name:"J",base:I.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:I.ENERGY,prefixes:k.SHORT,value:1,offset:0},erg:{name:"erg",base:I.ENERGY,prefixes:k.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:I.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:I.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:I.ENERGY,prefixes:k.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:I.ENERGY,prefixes:k.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:I.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:I.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:I.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:I.POWER,prefixes:k.SHORT,value:y.I,offset:0},VA:{name:"VA",base:I.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:I.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:I.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:I.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:I.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:I.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:I.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:I.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:I.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:I.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:I.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:I.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:I.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:I.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:I.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:I.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:I.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:I.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:I.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:I.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:I.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:I.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:I.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:I.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:I.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:I.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:I.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:I.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},P={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function F(t){if("BigNumber"===t.number){var e=Cc(x);U.rad.value=new x(1),U.deg.value=e.div(180),U.grad.value=e.div(200),U.cycle.value=e.times(2),U.arcsec.value=e.div(648e3),U.arcmin.value=e.div(10800)}else U.rad.value=1,U.deg.value=Math.PI/180,U.grad.value=Math.PI/200,U.cycle.value=2*Math.PI,U.arcsec.value=Math.PI/648e3,U.arcmin.value=Math.PI/10800;U.radian.value=U.rad.value,U.degree.value=U.deg.value,U.gradian.value=U.grad.value}F(s),i&&i("config",(function(t,e){t.number!==e.number&&F(t)}));var j={si:{NONE:{unit:D,prefix:k.NONE[""]},LENGTH:{unit:U.m,prefix:k.SHORT[""]},MASS:{unit:U.g,prefix:k.SHORT.k},TIME:{unit:U.s,prefix:k.SHORT[""]},CURRENT:{unit:U.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:U.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:U.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:U.mol,prefix:k.SHORT[""]},ANGLE:{unit:U.rad,prefix:k.SHORT[""]},BIT:{unit:U.bits,prefix:k.SHORT[""]},FORCE:{unit:U.N,prefix:k.SHORT[""]},ENERGY:{unit:U.J,prefix:k.SHORT[""]},POWER:{unit:U.W,prefix:k.SHORT[""]},PRESSURE:{unit:U.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:U.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:U.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:U.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:U.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:U.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:U.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:U.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:U.T,prefix:k.SHORT[""]},FREQUENCY:{unit:U.Hz,prefix:k.SHORT[""]}}};j.cgs=JSON.parse(JSON.stringify(j.si)),j.cgs.LENGTH={unit:U.m,prefix:k.SHORT.c},j.cgs.MASS={unit:U.g,prefix:k.SHORT[""]},j.cgs.FORCE={unit:U.dyn,prefix:k.SHORT[""]},j.cgs.ENERGY={unit:U.erg,prefix:k.NONE[""]},j.us=JSON.parse(JSON.stringify(j.si)),j.us.LENGTH={unit:U.ft,prefix:k.NONE[""]},j.us.MASS={unit:U.lbm,prefix:k.NONE[""]},j.us.TEMPERATURE={unit:U.degF,prefix:k.NONE[""]},j.us.FORCE={unit:U.lbf,prefix:k.NONE[""]},j.us.ENERGY={unit:U.BTU,prefix:k.BTU[""]},j.us.POWER={unit:U.hp,prefix:k.NONE[""]},j.us.PRESSURE={unit:U.psi,prefix:k.NONE[""]},j.auto=JSON.parse(JSON.stringify(j.si));var B=j.auto;for(var H in _.setUnitSystem=function(t){if(!js(j,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(j).join(", "));B=j[t]},_.getUnitSystem=function(){for(var t in j)if(js(j,t)&&j[t]===B)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},U)if(js(U,H)){var q=U[H];q.dimensions=q.base.dimensions}for(var $ in P)if(js(P,$)){var V=U[P[$]],G={};for(var W in V)js(V,W)&&(G[W]=V[W]);G.name=$,U[$]=G}return _.isValidAlpha=function(t){return/^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var n in t)if(js(t,n)&&_.deleteUnit(n),t[n].aliases)for(var r=0;r<t[n].aliases.length;r++)_.deleteUnit(t[n].aliases[r]);var i;for(var s in t)js(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,n){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(js(U,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(r=t.charAt(e),0===e&&!_.isValidAlpha(r))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(r)&&!N(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,o,a=null,u=[],c=0;if(e&&"Unit"===e.type)a=e.clone();else if("string"==typeof e)""!==e&&(i=e);else{if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,c=e.offset,o=e.baseName,e.aliases&&(u=e.aliases.valueOf())}if(u)for(var h=0;h<u.length;h++)if(js(U,u[h]))throw new Error('Cannot create alias "'+u[h]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!a)try{a=_.parse(i,{allowNoUnits:!0})}catch(e){throw e.message='Could not create unit "'+t+'" from "'+i+'": '+e.message,e}else i&&"Unit"===i.type&&(a=i.clone());u=u||[],c=c||0,s=s&&s.toUpperCase&&k[s.toUpperCase()]||k.NONE;var l={};if(a){l={name:t,value:a.value,dimensions:a.dimensions.slice(0),prefixes:s,offset:c};var f=!1;for(var p in I)if(js(I,p)){for(var d=!0,m=0;m<z.length;m++)if(Math.abs((l.dimensions[m]||0)-(I[p].dimensions[m]||0))>1e-12){d=!1;break}if(d){f=!0,l.base=I[p];break}}if(!f){o=o||t+"_STUFF";var g={dimensions:a.dimensions.slice(0)};g.key=o,I[o]=g,B[o]={unit:l,prefix:k.NONE[""]},l.base=I[o]}}else{if(o=o||t+"_STUFF",z.indexOf(o)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var v in z.push(o),I)js(I,v)&&(I[v].dimensions[z.length-1]=0);for(var y={dimensions:[]},x=0;x<z.length;x++)y.dimensions[x]=0;y.dimensions[z.length-1]=1,y.key=o,I[o]=y,l={name:t,value:1,dimensions:I[o].dimensions.slice(0),prefixes:s,offset:c,base:I[o]},B[o]={unit:l,prefix:k.NONE[""]}}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],E={};for(var M in l)js(l,M)&&(E[M]=l[M]);E.name=b,_.UNITS[b]=E}return delete C.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t]},_.PREFIXES=k,_.BASE_DIMENSIONS=z,_.BASE_UNITS=I,_.UNIT_SYSTEMS=j,_.UNITS=U,_}),{isClass:!0});bo("unit",["typed","Unit"],(t=>{var{typed:e,Unit:n}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return n.isValuelessUnit(t)?new n(null,t):n.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new n(t,e)},"Array | Matrix":function(t){return fu(t,this)}})})),bo("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:n}=t;return e("createUnit",{"Object, Object":function(t,e){return n.createUnit(t,e)},Object:function(t){return n.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,r){var i={};return i[t]=e,n.createUnit(i,r)},"string, Unit | string | Object":function(t,e){var r={};return r[t]=e,n.createUnit(r,{})},string:function(t){var e={};return e[t]={},n.createUnit(e,{})}})})),bo("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:s,SparseMatrix:o}=t,a=ju({typed:e}),u=Bu({typed:e,equalScalar:i}),c=Hu({typed:e,DenseMatrix:s}),h=qu({typed:e}),l=Du({typed:e});return e("add",Ps({"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,r)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,r,!1)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,r,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,r)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"DenseMatrix, any":function(t,e){return l(t,e,r,!1)},"SparseMatrix, any":function(t,e){return c(t,e,r,!1)},"any, DenseMatrix":function(t,e){return l(e,t,r,!0)},"any, SparseMatrix":function(t,e){return c(e,t,r,!0)},"Array, any":function(t,e){return l(n(t),e,r,!1).valueOf()},"any, Array":function(t,e){return l(n(e),t,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},r.signatures))}));var Uc=bo("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=o(t,s),c=ss(t)?t._data:t,h=ss(t)?t._datatype:void 0,l=ss(s)?s._data:s,f=ss(s)?s._datatype:void 0,p=2===a(t).length,d=2===a(s).length,m=n,g=r;if(h&&f&&h===f&&"string"==typeof h){var v=h;m=e.find(n,[v,v]),g=e.find(r,[v,v])}if(!p&&!d){for(var y=g(i(c[0]),l[0]),x=1;x<u;x++)y=m(y,g(i(c[x]),l[x]));return y}if(!p&&d){for(var w=g(i(c[0]),l[0][0]),b=1;b<u;b++)w=m(w,g(i(c[b]),l[b][0]));return w}if(p&&!d){for(var _=g(i(c[0][0]),l[0]),E=1;E<u;E++)_=m(_,g(i(c[E][0]),l[E]));return _}if(p&&d){for(var N=g(i(c[0][0]),l[0][0]),M=1;M<u;M++)N=m(N,g(i(c[M][0]),l[M][0]));return N}},"SparseMatrix, SparseMatrix":function(t,e){o(t,e);for(var i=t._index,s=t._values,a=e._index,u=e._values,c=0,h=n,l=r,f=0,p=0;f<i.length&&p<a.length;){var d=i[f],m=a[p];d<m?f++:d>m?p++:d===m&&(c=h(c,l(s[f],u[p])),f++,p++)}return c}});function o(t,e){var n,r,i=a(t),s=a(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===s.length)r=s[0];else{if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");r=s[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function a(t){return ss(t)?t.size():s(t)}})),Pc={end:!0},Fc=bo("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(t){return this.compile().evaluate(t)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var t=this._compile(e,{}),n={};return{evaluate:function(e){var r=e||{};return function(t){for(var e in t)if(js(t,e)&&e in Pc)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(r),t(r,n,null)}}},n.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(t){if(!As(t))throw new TypeError("Callback function must return a Node");return t},n.prototype.traverse=function(t){t(this,null,null),function t(e,n){e.forEach((function(e,r,i){n(e,r,i),t(e,n)}))}(this,t)},n.prototype.transform=function(t){return function e(n,r,i){var s=t(n,r,i);return s!==n?s:n.map(e)}(this,null,null)},n.prototype.filter=function(t){var e=[];return this.traverse((function(n,r,i){t(n,r,i)&&e.push(n)})),e},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},n.prototype.equals=function(t){return!!t&&Fs(this,t)},n.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},n.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0});function jc(t){return t&&t.isIndexError?new ao(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function Bc(t){var{subset:e}=t;return function(t,n){try{if(Array.isArray(t))return e(t,n);if(t&&"function"==typeof t.subset)return t.subset(n);if("string"==typeof t)return e(t,n);if("object"==typeof t){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ac(t,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw jc(t)}}}bo("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:n}=t,r=Bc({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!As(t))throw new TypeError('Node expected for parameter "object"');if(!Os(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(t){return!(ws(t)||bs(t)||Ms(t)||Ts(t)||Cs(t)||ks(t)||Is(t))}return i.prototype=new n,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var n=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,r){return ac(n(t,e,r),s)}}return function(t,e,s){var o=n(t,e,s),a=i(t,e,o);return r(o,a)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),bo("ArrayNode",["Node"],(t=>{var{Node:e}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(As))throw new TypeError("Array containing Nodes expected")}return n.prototype=new e,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(t,e){var n=vo(this.items,(function(n){return n._compile(t,e)}));if("Array"!==t.config.matrix){var r=t.matrix;return function(t,e,i){return r(vo(n,(function(n){return n(t,e,i)})))}}return function(t,e,r){return vo(n,(function(n){return n(t,e,r)}))}},n.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e],"items["+e+"]",this)},n.prototype.map=function(t){for(var e=[],r=0;r<this.items.length;r++)e[r]=this._ifNode(t(this.items[r],"items["+r+"]",this));return new n(e)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(t){return"["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(t){return new n(t.items)},n.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(n){n.items?e+=n.items.map((function(e){return e.toTex(t)})).join("&"):e+=n.toTex(t),e+="\\\\"})),e+="\\end{bmatrix}"},n}),{isClass:!0,isNode:!0});var Hc=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function qc(t,e){var n=t;"keep"!==e&&(n=t.getContent());for(var r=n.getIdentifier(),i=0;i<Hc.length;i++)if(r in Hc[i])return i;return null}function $c(t,e){var n=t;"keep"!==e&&(n=t.getContent());var r=n.getIdentifier(),i=qc(n,e);if(null===i)return null;var s=Hc[i][r];if(js(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+s.associativity+"'.")}return null}function Vc(t,e,n){var r="keep"!==n?t.getContent():t,i="keep"!==n?t.getContent():e,s=r.getIdentifier(),o=i.getIdentifier(),a=qc(r,n);if(null===a)return null;var u=Hc[a][s];if(js(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===o)return!0;return!1}return null}bo("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:n,Node:r}=t,i=Bc({subset:e}),s=function(t){var{subset:e,matrix:n}=t;return function(t,r,i){try{if(Array.isArray(t))return n(t).subset(r,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(r,i);if("string"==typeof t)return e(t,r,i);if("object"==typeof t){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return uc(t,r.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw jc(t)}}}({subset:e,matrix:n});function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?e:null,this.value=n||e,!Is(t)&&!ws(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Is(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!Os(this.index))throw new TypeError('IndexNode expected as "index"');if(!As(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(t,e){e||(e="keep");var n=qc(t,e),r=qc(t.value,e);return"all"===e||null!==r&&r<=n}return o.prototype=new r,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(t,e){var n=this.object._compile(t,e),r=this.index?this.index._compile(t,e):null,o=this.value._compile(t,e),a=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,r){var i=n(t,e,r),s=o(t,e,r);return uc(i,u,s)}}if(Is(this.object))return function(t,e,i){var u=n(t,e,i),c=o(t,e,i),h=r(t,e,u);return uc(t,a,s(u,h,c)),c};var c=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var h=this.object.index.getObjectProperty();return function(t,e,n){var i=c(t,e,n),a=ac(i,h),u=r(t,e,a),l=o(t,e,n);return uc(i,h,s(a,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,n){var a=c(t,e,n),u=l(t,e,a),h=i(a,u),f=r(t,e,h),p=o(t,e,n);return s(a,u,s(h,f,p)),p}}if(!Is(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,n){return uc(t,a,o(t,e,n))}},o.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return a(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},o.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},o.fromJSON=function(t){return new o(t.object,t.index,t.value)},o.prototype.toHTML=function(t){var e=this.object.toHTML(t),n=this.index?this.index.toHTML(t):"",r=this.value.toHTML(t);return a(this,t&&t.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},o.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return a(this,t&&t.parenthesis)&&(r="\\left(".concat(r,"\\right)")),e+n+":="+r},o}),{isClass:!0,isNode:!0}),bo("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:n}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!As(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:n}}))}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(t,n){var r=vo(this.blocks,(function(e){return{evaluate:e.node._compile(t,n),visible:e.visible}}));return function(t,n,i){var s=[];return yo(r,(function(e){var r=e.evaluate(t,n,i);e.visible&&s.push(r)})),new e(s)}},r.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},r.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],s=this._ifNode(t(i.node,"blocks["+n+"].node",this));e[n]={node:s,visible:i.visible}}return new r(e)},r.prototype.clone=function(){return new r(this.blocks.map((function(t){return{node:t.node,visible:t.visible}})))},r.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(t){return new r(t.blocks)},r.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},r}),{isClass:!0,isNode:!0}),bo("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!As(t))throw new TypeError("Parameter condition must be a Node");if(!As(e))throw new TypeError("Parameter trueExpr must be a Node");if(!As(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=r}return n.prototype=new e,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(t,e){var n=this.condition._compile(t,e),r=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(Ki(t))return!t.isZero();if(ts(t))return!(!t.re&&!t.im);if(ns(t))return!!t.value}if(null==t)return!1;throw new TypeError('Unsupported type of condition "'+Ds(t)+'"')}(n(t,e,s))?r(t,e,s):i(t,e,s)}},n.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},n.prototype.map=function(t){return new n(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=qc(this,e),r=this.condition.toString(t),i=qc(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var s=this.trueExpr.toString(t),o=qc(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(s="("+s+")");var a=this.falseExpr.toString(t),u=qc(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(a="("+a+")"),r+" ? "+s+" : "+a},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(t){return new n(t.condition,t.trueExpr,t.falseExpr)},n.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=qc(this,e),r=this.condition.toHTML(t),i=qc(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),o=qc(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.falseExpr.toHTML(t),u=qc(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+a},n.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n}),{isClass:!0,isNode:!0});var Gc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Yc={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Zc=function(t,e){return Gc({},t,e)},Xc={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Jc={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Qc={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Jc.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Jc.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Jc.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Jc.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Jc.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Jc.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Jc.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Jc.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Jc.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Jc.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Jc.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Jc.bitAnd,"${args[1]}\\right)")},bitNot:{1:Jc.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Jc.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Jc.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Jc.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Jc.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Jc.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Jc.and,"${args[1]}\\right)")},not:{1:Jc.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Jc.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Jc.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Jc.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(Jc.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Jc.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Jc.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Jc.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Jc.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Jc.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Jc.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Jc.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Jc.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Jc.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Xc.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Kc={deg:"^\\circ"};function th(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preserveFormatting,r=void 0!==n&&n,i=e.escapeMapFn,s=void 0===i?Zc:i,o=String(t),a="",u=s(Gc({},Wc),r?Gc({},Yc):{}),c=Object.keys(u),h=function(){var t=!1;c.forEach((function(e,n){t||o.length>=e.length&&o.slice(0,e.length)===e&&(a+=u[c[n]],o=o.slice(e.length,o.length),t=!0)})),t||(a+=o.slice(0,1),o=o.slice(1,o.length))};o;)h();return a}(t,{preserveFormatting:!0})}function eh(t,e){return(e=void 0!==e&&e)?js(Kc,t)?Kc[t]:"\\mathrm{"+th(t)+"}":js(Xc,t)?Xc[t]:th(t)}bo("ConstantNode",["Node"],(t=>{var{Node:e}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=t}return n.prototype=new e,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(t,e){var n=this.value;return function(){return n}},n.prototype.forEach=function(t){},n.prototype.map=function(t){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(t){return no(this.value,t)},n.prototype.toHTML=function(t){var e=this._toString(t);switch(Ds(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(t){return new n(t.value)},n.prototype._toTex=function(t){var e=this._toString(t);switch(Ds(this.value)){case"string":return"\\mathtt{"+th(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=e.toLowerCase().indexOf("e");return-1!==n?e.substring(0,n)+"\\cdot10^{"+e.substring(n+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},n}),{isClass:!0,isNode:!0}),bo("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:n}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!As(n))throw new TypeError('Node expected for parameter "expr"');if(t in Pc)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=n}function i(t,e){var n=qc(t,e),r=qc(t.expr,e);return"all"===e||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(t,n){var r=Object.create(n);yo(this.params,(function(t){r[t]=!0}));var i=this.expr._compile(t,r),s=this.name,o=this.params,a=xo(this.types,","),u=s+"("+xo(this.params,", ")+")";return function(t,n,r){var c={};c[a]=function(){for(var e=Object.create(n),s=0;s<o.length;s++)e[o[s]]=arguments[s];return i(t,e,r)};var h=e(s,c);return h.syntax=u,uc(t,s,h),h}},r.prototype.forEach=function(t){t(this.expr,"expr",this)},r.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new r(this.name,this.params.slice(0),e)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return i(this,e)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var t=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,n){return{name:e,type:t[n]}})),expr:this.expr}},r.fromJSON=function(t){return new r(t.name,t.params,t.expr)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+io(this.params[r])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+io(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return i(this,e)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(eh).join(",")+"\\right):="+n},r}),{isClass:!0,isNode:!0}),bo("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:n,size:r}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(As))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,n,r){return new e(Ki(t)?t.toNumber():t,Ki(n)?n.toNumber():n,Ki(r)?r.toNumber():r)}return i.prototype=new n,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var n=vo(this.dimensions,(function(n,i){if(zs(n)){if(n.needsEnd()){var o=Object.create(e);o.end=!0;var a=n.start._compile(t,o),u=n.end._compile(t,o),c=n.step?n.step._compile(t,o):function(){return 1};return function(t,e,n){var o=r(n).valueOf(),h=Object.create(e);return h.end=o[i],s(a(t,h,n),u(t,h,n),c(t,h,n))}}var h=n.start._compile(t,e),l=n.end._compile(t,e),f=n.step?n.step._compile(t,e):function(){return 1};return function(t,e,n){return s(h(t,e,n),l(t,e,n),f(t,e,n))}}if(Is(n)&&"end"===n.name){var p=Object.create(e);p.end=!0;var d=n._compile(t,p);return function(t,e,n){var s=r(n).valueOf(),o=Object.create(e);return o.end=s[i],d(t,o,n)}}var m=n._compile(t,e);return function(t,e,n){return m(t,e,n)}})),i=ac(t,"index");return function(t,e,r){var s=vo(n,(function(n){return n(t,e,r)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},i.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&Ms(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+io(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),bo("ObjectNode",["Node"],(t=>{var{Node:e}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return As(t[e])}))))throw new TypeError("Object containing Nodes expected")}return n.prototype=new e,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(t,e){var n={};for(var r in this.properties)if(js(this.properties,r)){var i=ro(r),s=JSON.parse(i);if(!cc(this.properties,s))throw new Error('No access to property "'+s+'"');n[s]=this.properties[r]._compile(t,e)}return function(t,e,r){var i={};for(var s in n)js(n,s)&&(i[s]=n[s](t,e,r));return i}},n.prototype.forEach=function(t){for(var e in this.properties)js(this.properties,e)&&t(this.properties[e],"properties["+ro(e)+"]",this)},n.prototype.map=function(t){var e={};for(var r in this.properties)js(this.properties,r)&&(e[r]=this._ifNode(t(this.properties[r],"properties["+ro(r)+"]",this)));return new n(e)},n.prototype.clone=function(){var t={};for(var e in this.properties)js(this.properties,e)&&(t[e]=this.properties[e]);return new n(t)},n.prototype._toString=function(t){var e=[];for(var n in this.properties)js(this.properties,n)&&e.push(ro(n)+": "+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(t){return new n(t.properties)},n.prototype.toHTML=function(t){var e=[];for(var n in this.properties)js(this.properties,n)&&e.push('<span class="math-symbol math-property">'+io(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(t){var e=[];for(var n in this.properties)js(this.properties,n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},n}),{isClass:!0,isNode:!0}),bo("OperatorNode",["Node"],(t=>{var{Node:e}=t;function n(t,e,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(As))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=r||[]}function r(t,e,n,r,i){var s,o=qc(t,e),a=$c(t,e);if("all"===e||r.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return r.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:s=[];break;case 1:var u=qc(r[0],e);if(i&&null!==u){var c,h;if("keep"===e?(c=r[0].getIdentifier(),h=t.getIdentifier()):(c=r[0].getContent().getIdentifier(),h=t.getContent().getIdentifier()),!1===Hc[o][h].latexLeftParens){s=[!1];break}if(!1===Hc[u][c].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=o){s=[!0];break}s=[!1];break;case 2:var l,f,p=qc(r[0],e),d=Vc(t,r[0],e);l=null!==p&&(p===o&&"right"===a&&!d||p<o);var m,g,v,y=qc(r[1],e),x=Vc(t,r[1],e);f=null!==y&&(y===o&&"left"===a&&!x||y<o),i&&("keep"===e?(m=t.getIdentifier(),g=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),g=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==p&&(!1===Hc[o][m].latexLeftParens&&(l=!1),!1===Hc[p][g].latexParens&&(l=!1)),null!==y&&(!1===Hc[o][m].latexRightParens&&(f=!1),!1===Hc[y][v].latexParens&&(f=!1))),s=[l,f];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=r.map((function(n){var r=qc(n,e),i=Vc(t,n,e),s=$c(n,e);return null!==r&&(o===r&&a===s&&!i||r<o)})))}return r.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===n&&(s=r.map((function(t,e){var n="ParenthesisNode"===t.getIdentifier();return!(!s[e]&&!n)}))),s}return n.prototype=new e,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(t,e){if("string"!=typeof this.fn||!hc(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=ac(t,this.fn),r=vo(this.args,(function(n){return n._compile(t,e)}));if(1===r.length){var i=r[0];return function(t,e,r){return n(i(t,e,r))}}if(2===r.length){var s=r[0],o=r[1];return function(t,e,r){return n(s(t,e,r),o(t,e,r))}}return function(t,e,i){return n.apply(null,vo(r,(function(n){return n(t,e,i)})))}},n.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},n.prototype.map=function(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,e,this.implicit)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",i=this.args,s=r(this,e,n,i,!1);if(1===i.length){var o=$c(this,e),a=i[0].toString(t);s[0]&&(a="("+a+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(u?" ":"")+a:"left"===o?a+(u?" ":"")+this.op:a+this.op}if(2===i.length){var c=i[0].toString(t),h=i[1].toString(t);return s[0]&&(c="("+c+")"),s[1]&&(h="("+h+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+h:c+" "+this.op+" "+h}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,n){return e=e.toString(t),s[n]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},n.fromJSON=function(t){return new n(t.op,t.fn,t.args,t.implicit)},n.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",i=this.args,s=r(this,e,n,i,!1);if(1===i.length){var o=$c(this,e),a=i[0].toHTML(t);return s[0]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+io(this.op)+"</span>"+a:a+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+io(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),c=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+io(this.op)+"</span>"+c}var h=i.map((function(e,n){return e=e.toHTML(t),s[n]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?h.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):h.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+io(this.op)+"</span>"):'<span class="math-function">'+io(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",i=this.args,s=r(this,e,n,i,!0),o=Jc[this.fn];if(o=void 0===o?this.op:o,1===i.length){var a=$c(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===a?o+u:u+o}if(2===i.length){var c=i[0],h=c.toTex(t);s[0]&&(h="\\left(".concat(h,"\\right)"));var l,f=i[1].toTex(t);switch(s[1]&&(f="\\left(".concat(f,"\\right)")),l="keep"===e?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+h+"}{"+f+"}";case"OperatorNode:pow":switch(h="{"+h+"}",f="{"+f+"}",l){case"ConditionalNode":case"OperatorNode:divide":h="\\left(".concat(h,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return h+"~"+f}return h+o+f}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=i.map((function(e,n){return e=e.toTex(t),s[n]&&(e="\\left(".concat(e,"\\right)")),e}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?p.join("~"):p.join(o)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n}),{isClass:!0,isNode:!0}),bo("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!As(t))throw new TypeError('Node expected for parameter "content"');this.content=t}return n.prototype=new e,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(t,e){return this.content._compile(t,e)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(t){t(this.content,"content",this)},n.prototype.map=function(t){return new n(t(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(t){return new n(t.content)},n.prototype.toHTML=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},n.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},n}),{isClass:!0,isNode:!0}),bo("RangeNode",["Node"],(t=>{var{Node:e}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!As(t))throw new TypeError("Node expected");if(!As(e))throw new TypeError("Node expected");if(r&&!As(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=r||null}function r(t,e){var n=qc(t,e),r={},i=qc(t.start,e);if(r.start=null!==i&&i<=n||"all"===e,t.step){var s=qc(t.step,e);r.step=null!==s&&s<=n||"all"===e}var o=qc(t.end,e);return r.end=null!==o&&o<=n||"all"===e,r}return n.prototype=new e,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter((function(t){return Is(t)&&"end"===t.name})).length>0},n.prototype._compile=function(t,e){var n=t.range,r=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,o){return n(r(t,e,o),i(t,e,o),s(t,e,o))}}return function(t,e,s){return n(r(t,e,s),i(t,e,s))}},n.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},n.prototype.map=function(t){return new n(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(t){var e,n=r(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(n.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);n.step&&(s="("+s+")"),e+=":"+s}var o=this.end.toString(t);return n.end&&(o="("+o+")"),e+":"+o},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(t){return new n(t.start,t.end,t.step)},n.prototype.toHTML=function(t){var e,n=r(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);n.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s}var o=this.end.toHTML(t);return n.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+'<span class="math-operator math-range-operator">:</span>'+o},n.prototype._toTex=function(t){var e=r(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toTex(t);if(e.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),n+":"+s},n}),{isClass:!0,isNode:!0}),bo("RelationalNode",["Node"],(t=>{var{Node:e}=t;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}return n.prototype=new e,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(t,e){var n=this,r=this.params.map((n=>n._compile(t,e)));return function(e,i,s){for(var o,a=r[0](e,i,s),u=0;u<n.conditionals.length;u++)if(o=a,a=r[u+1](e,i,s),!ac(t,n.conditionals[u])(o,a))return!1;return!0}},n.prototype.forEach=function(t){this.params.forEach(((e,n)=>t(e,"params["+n+"]",this)),this)},n.prototype.map=function(t){return new n(this.conditionals.slice(),this.params.map(((e,n)=>this._ifNode(t(e,"params["+n+"]",this))),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=qc(this,e),r=this.params.map((function(r,i){var s=qc(r,e);return"all"===e||null!==s&&s<=n?"("+r.toString(t)+")":r.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=r[0],o=0;o<this.conditionals.length;o++)s+=" "+i[this.conditionals[o]]+" "+r[o+1];return s},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(t){return new n(t.conditionals,t.params)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=qc(this,e),r=this.params.map((function(r,i){var s=qc(r,e);return"all"===e||null!==s&&s<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=r[0],o=0;o<this.conditionals.length;o++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+io(i[this.conditionals[o]])+"</span>"+r[o+1];return s},n.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=qc(this,e),r=this.params.map((function(r,i){var s=qc(r,e);return"all"===e||null!==s&&s<=n?"\\left("+r.toTex(t)+"\right)":r.toTex(t)})),i=r[0],s=0;s<this.conditionals.length;s++)i+=Jc[this.conditionals[s]]+r[s+1];return i},n}),{isClass:!0,isNode:!0});function nh(){return(nh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rh(){return(rh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ih={createBigNumberClass:ru},sh={createComplexClass:ou},oh={createMatrixClass:hu},ah={MatrixDependencies:oh,createDenseMatrixClass:lu},uh={createFractionClass:cu},ch={BigNumberDependencies:ih,ComplexDependencies:sh,DenseMatrixDependencies:ah,FractionDependencies:uh,createTyped:No},hh={typedDependencies:ch,createEqualScalar:Su},lh={MatrixDependencies:oh,equalScalarDependencies:hh,typedDependencies:ch,createSparseMatrixClass:Tu},fh={typedDependencies:ch,createNumber:Ou},ph={FractionDependencies:uh,typedDependencies:ch,createFraction:Cu},dh={DenseMatrixDependencies:ah,MatrixDependencies:oh,SparseMatrixDependencies:lh,typedDependencies:ch,createMatrix:Ru},mh={typedDependencies:ch,createUnaryMinus:ku},gh={typedDependencies:ch,createAbs:zu},vh={typedDependencies:ch,createAddScalar:Iu},yh={BigNumberDependencies:ih,DenseMatrixDependencies:ah,equalScalarDependencies:hh,matrixDependencies:dh,typedDependencies:ch,zerosDependencies:{BigNumberDependencies:ih,matrixDependencies:dh,typedDependencies:ch,createZeros:yc},createRound:Tc},xh={typedDependencies:ch,createMultiplyScalar:Yu},wh={matrixDependencies:dh,typedDependencies:ch,createSize:oc},bh={addScalarDependencies:vh,dotDependencies:{addScalarDependencies:vh,conjDependencies:{typedDependencies:ch,createConj:Ku},multiplyScalarDependencies:xh,sizeDependencies:wh,typedDependencies:ch,createDot:Uc},equalScalarDependencies:hh,matrixDependencies:dh,multiplyScalarDependencies:xh,typedDependencies:ch,createMultiply:Zu},_h={DenseMatrixDependencies:ah,addScalarDependencies:vh,equalScalarDependencies:hh,matrixDependencies:dh,typedDependencies:ch,unaryMinusDependencies:mh,createSubtract:Xu},Eh={BigNumberDependencies:ih,DenseMatrixDependencies:ah,SparseMatrixDependencies:lh,matrixDependencies:dh,typedDependencies:ch,createIdentity:nc},Nh={bignumberDependencies:{BigNumberDependencies:ih,typedDependencies:ch,createBignumber:Au},fractionDependencies:ph,numberDependencies:fh,createNumeric:wc},Mh={numericDependencies:Nh,typedDependencies:ch,createDivideScalar:bc},Sh={createNode:Fc};bo("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:n,Node:r}=t;function i(t){return!!n&&n.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}return s.prototype=new r,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var r=this.name;if(!0===e[r])return function(t,e,n){return e[r]};if(r in t)return function(e,n,i){return ac(r in e?e:t,r)};var s=i(r);return function(t,e,i){return r in t?ac(t,r):s?new n(null,r):function(t){throw new Error("Undefined symbol "+t)}(r)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=io(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var n=!1;void 0===e[this.name]&&i(this.name)&&(n=!0);var r=eh(this.name,n);return"\\"===r[0]?r:" "+r},s}),{isClass:!0,isNode:!0});bo("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:n,SymbolNode:r}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new r(t)),!As(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(As))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}i.prototype=new n,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var n=vo(this.args,(function(n){return n._compile(t,e)}));if(Is(this.fn)){var r=this.fn.name,s=r in t?ac(t,r):void 0;if("function"==typeof s&&!0===s.rawArgs){var o=this.args;return function(e,n,i){return(r in e?ac(e,r):s)(o,t,nh({},e,n))}}if(1===n.length){var a=n[0];return function(t,e,n){return(r in t?ac(t,r):s)(a(t,e,n))}}if(2===n.length){var u=n[0],c=n[1];return function(t,e,n){return(r in t?ac(t,r):s)(u(t,e,n),c(t,e,n))}}return function(t,e,i){return(r in t?ac(t,r):s).apply(null,vo(n,(function(n){return n(t,e,i)})))}}if(ws(this.fn)&&Os(this.fn.index)&&this.fn.index.isObjectProperty()){var h=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),f=this.args;return function(e,r,i){var s=h(e,r,i);return function(t,e){if(!hc(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](f,t,nh({},e,r)):s[l].apply(s,vo(n,(function(t){return t(e,r,i)})))}}var p=this.fn._compile(t,e),d=this.args;return function(e,r,i){var s=p(e,r,i);return s&&s.rawArgs?s(d,t,nh({},e,r)):s.apply(s,vo(n,(function(t){return t(e,r,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new i(e,n)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function o(t,e,n){for(var r,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,o=0;null!==(r=s.exec(t));)if(i+=t.substring(o,r.index),o=r.index,"$$"===r[0])i+="$",o++;else{o+=r[0].length;var a=e[r[1]];if(!a)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof a){case"string":i+=a;break;case"object":if(As(a))i+=a.toTex(n);else{if(!Array.isArray(a))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=a.map((function(t,e){if(As(t))return t.toTex(n);throw new TypeError("Template: "+r[1]+"["+e+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!As(a[r[2]]&&a[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=a[r[2]].toTex(n)}}return i+t.slice(o)}i.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"==typeof t.handler&&js(t.handler,n)&&(e=t.handler[n](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return(Ss(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return'<span class="math-function">'+io(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var a=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&js(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:a.call(this,t)},i.prototype._toTex=function(t){var n,r,i=this.args.map((function(e){return e.toTex(t)}));switch(Qc[this.name]&&(n=Qc[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(n=e[this.name].toTex),typeof n){case"function":r=n(this,t);break;case"string":r=o(n,this,t);break;case"object":switch(typeof n[i.length]){case"function":r=n[i.length](this,t);break;case"string":r=o(n[i.length],this,t)}}return void 0!==r?r:o("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0}),bo("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:n,config:r,AccessorNode:i,ArrayNode:s,AssignmentNode:o,BlockNode:a,ConditionalNode:u,ConstantNode:c,FunctionAssignmentNode:h,FunctionNode:l,IndexNode:f,ObjectNode:p,OperatorNode:d,ParenthesisNode:m,RangeNode:g,RelationalNode:v,SymbolNode:y}=t,x=e("parse",{string:function(t){return I(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return I(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==e.nodes?e.nodes:{};return fu(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return I(t,n)}))}var b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"];function M(t,e){return t.expression.substr(t.index,e)}function S(t){return M(t,1)}function T(t){t.index++}function O(t){return t.expression.charAt(t.index-1)}function A(t){return t.expression.charAt(t.index+1)}function C(t){for(t.tokenType=0,t.token="",t.comment="";x.isWhitespace(S(t),t.nestingLevel);)T(t);if("#"===S(t))for(;"\n"!==S(t)&&""!==S(t);)t.comment+=S(t),T(t);if(""!==S(t)){if("\n"===S(t)&&!t.nestingLevel)return t.tokenType=1,t.token=S(t),void T(t);var e=S(t),n=M(t,2),r=M(t,3);if(3===r.length&&b[r])return t.tokenType=1,t.token=r,T(t),T(t),void T(t);if(2===n.length&&b[n])return t.tokenType=1,t.token=n,T(t),void T(t);if(b[e])return t.tokenType=1,t.token=e,void T(t);if(x.isDigitDot(e)){t.tokenType=2;var i=M(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=S(t),T(t),t.token+=S(t),T(t);x.isHexDigit(S(t));)t.token+=S(t),T(t);return}if("."===S(t))t.token+=S(t),T(t),x.isDigit(S(t))||(t.tokenType=1);else{for(;x.isDigit(S(t));)t.token+=S(t),T(t);x.isDecimalMark(S(t),A(t))&&(t.token+=S(t),T(t))}for(;x.isDigit(S(t));)t.token+=S(t),T(t);if("E"===S(t)||"e"===S(t))if(x.isDigit(A(t))||"-"===A(t)||"+"===A(t)){if(t.token+=S(t),T(t),"+"!==S(t)&&"-"!==S(t)||(t.token+=S(t),T(t)),!x.isDigit(S(t)))throw et(t,'Digit expected, got "'+S(t)+'"');for(;x.isDigit(S(t));)t.token+=S(t),T(t);if(x.isDecimalMark(S(t),A(t)))throw et(t,'Digit expected, got "'+S(t)+'"')}else if("."===A(t))throw T(t),et(t,'Digit expected, got "'+S(t)+'"')}else{if(!x.isAlpha(S(t),O(t),A(t))){for(t.tokenType=4;""!==S(t);)t.token+=S(t),T(t);throw et(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(S(t),O(t),A(t))||x.isDigit(S(t));)t.token+=S(t),T(t);js(_,t.token)?t.tokenType=1:t.tokenType=3}}else t.tokenType=1}function R(t){do{C(t)}while("\n"===t.token)}function k(t){t.nestingLevel++}function z(t){t.nestingLevel--}function I(t,e){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};rh(n,{expression:t,extraNodes:e}),C(n);var r=function(t){var e,n,r=[];for(""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=L(t)).comment=t.comment);"\n"===t.token||";"===t.token;)0===r.length&&e&&(n=";"!==t.token,r.push({node:e,visible:n})),C(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=L(t)).comment=t.comment,n=";"!==t.token,r.push({node:e,visible:n}));return r.length>0?new a(r):(e||((e=new c(void 0)).comment=t.comment),e)}(n);if(""!==n.token)throw 1===n.tokenType?nt(n,"Unexpected operator "+n.token):et(n,'Unexpected part "'+n.token+'"');return r}function L(t){var e,n,r,i,s=function(t){for(var e=function(t){for(var e=D(t);"or"===t.token;)R(t),e=new d("or","or",[e,D(t)]);return e}(t);"?"===t.token;){var n=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,R(t);var r=e,i=L(t);if(":"!==t.token)throw et(t,"False part of conditional expression expected");t.conditionalLevel=null,R(t);var s=L(t);e=new u(r,i,s),t.conditionalLevel=n}return e}(t);if("="===t.token){if(Is(s))return e=s.name,R(t),r=L(t),new o(new y(e),r);if(ws(s))return R(t),r=L(t),new o(s.object,s.index,r);if(Ts(s)&&Is(s.fn)&&(i=!0,n=[],e=s.name,s.args.forEach((function(t,e){Is(t)?n[e]=t.name:i=!1})),i))return R(t),r=L(t),new h(e,n,r);throw et(t,"Invalid left hand side of assignment operator =")}return s}function D(t){for(var e=U(t);"xor"===t.token;)R(t),e=new d("xor","xor",[e,U(t)]);return e}function U(t){for(var e=P(t);"and"===t.token;)R(t),e=new d("and","and",[e,P(t)]);return e}function P(t){for(var e=F(t);"|"===t.token;)R(t),e=new d("|","bitOr",[e,F(t)]);return e}function F(t){for(var e=j(t);"^|"===t.token;)R(t),e=new d("^|","bitXor",[e,j(t)]);return e}function j(t){for(var e=B(t);"&"===t.token;)R(t),e=new d("&","bitAnd",[e,B(t)]);return e}function B(t){for(var e=[H(t)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};js(r,t.token);){var i={name:t.token,fn:r[t.token]};n.push(i),R(t),e.push(H(t))}return 1===e.length?e[0]:2===e.length?new d(n[0].name,n[0].fn,e):new v(n.map((t=>t.fn)),e)}function H(t){var e,n,r,i;e=q(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};js(s,t.token);)r=s[n=t.token],R(t),i=[e,q(t)],e=new d(n,r,i);return e}function q(t){var e,n,r,i;e=$(t);for(var s={to:"to",in:"to"};js(s,t.token);)r=s[n=t.token],R(t),"in"===n&&""===t.token?e=new d("*","multiply",[e,new y("in")],!0):(i=[e,$(t)],e=new d(n,r,i));return e}function $(t){var e,n=[];if(e=":"===t.token?new c(1):V(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(n.push(e);":"===t.token&&n.length<3;)R(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?n.push(new y("end")):n.push(V(t));e=3===n.length?new g(n[0],n[2],n[1]):new g(n[0],n[1])}return e}function V(t){var e,n,r,i;e=G(t);for(var s={"+":"add","-":"subtract"};js(s,t.token);)r=s[n=t.token],R(t),i=[e,G(t)],e=new d(n,r,i);return e}function G(t){var e,n,r,i;n=e=W(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};js(s,t.token);)i=s[r=t.token],R(t),n=W(t),e=new d(r,i,[e,n]);return e}function W(t){var e,n;for(n=e=Y(t);3===t.tokenType||"in"===t.token&&Ms(e)||!(2!==t.tokenType||Ms(n)||Rs(n)&&"!"!==n.op)||"("===t.token;)n=Y(t),e=new d("*","multiply",[e,n],!0);return e}function Y(t){for(var e=Z(t),n=e,r=[];"/"===t.token&&Ms(n);){if(r.push(rh({},t)),R(t),2!==t.tokenType){rh(t,r.pop());break}if(r.push(rh({},t)),R(t),3!==t.tokenType&&"("!==t.token){r.pop(),rh(t,r.pop());break}rh(t,r.pop()),r.pop(),n=Z(t),e=new d("/","divide",[e,n])}return e}function Z(t){var e,i,o,a={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return js(a,t.token)?(o=a[t.token],e=t.token,R(t),i=[Z(t)],new d(e,o,i)):function(t){var e,i,o,a;return e=function(t){var e,i,o;e=function(t){var e=[];if(3===t.tokenType&&js(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(C(t),"("===t.token){if(e=[],k(t),C(t),")"!==t.token)for(e.push(L(t));","===t.token;)C(t),e.push(L(t));if(")"!==t.token)throw et(t,"Parenthesis ) expected");z(t),C(t)}return new i(e)}return function(t){var e;return 3===t.tokenType||1===t.tokenType&&t.token in _?(e=t.token,C(t),X(t,js(E,e)?new c(E[e]):-1!==N.indexOf(e)?new c(n(e,"number")):new y(e))):function(t){var e;return'"'===t.token?(e=J(t),X(t,new c(e))):function(t){var e;return"'"===t.token?(e=Q(t),X(t,new c(e))):function(t){var e,i,o,a;if("["===t.token){if(k(t),C(t),"]"!==t.token){var u=K(t);if(";"===t.token){for(o=1,i=[u];";"===t.token;)C(t),i[o]=K(t),o++;if("]"!==t.token)throw et(t,"End of matrix ] expected");z(t),C(t),a=i[0].items.length;for(var h=1;h<o;h++)if(i[h].items.length!==a)throw nt(t,"Column dimensions mismatch ("+i[h].items.length+" !== "+a+")");e=new s(i)}else{if("]"!==t.token)throw et(t,"End of matrix ] expected");z(t),C(t),e=u}}else z(t),C(t),e=new s([]);return X(t,e)}return function(t){if("{"===t.token){var e;k(t);var i={};do{if(C(t),"}"!==t.token){if('"'===t.token)e=J(t);else if("'"===t.token)e=Q(t);else{if(!(3===t.tokenType||1===t.tokenType&&t.token in _))throw et(t,"Symbol or string expected as object key");e=t.token,C(t)}if(":"!==t.token)throw et(t,"Colon : expected after object key");C(t),i[e]=L(t)}}while(","===t.token);if("}"!==t.token)throw et(t,"Comma , or bracket } expected after object value");z(t),C(t);var s=new p(i);return X(t,s)}return function(t){var e;return 2===t.tokenType?(e=t.token,C(t),new c(n(e,r.number))):function(t){var e;if("("===t.token){if(k(t),C(t),e=L(t),")"!==t.token)throw et(t,"Parenthesis ) expected");return z(t),C(t),X(t,e=new m(e))}return function(t){throw""===t.token?et(t,"Unexpected end of expression"):et(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);for(var a={"!":"factorial","'":"ctranspose"};js(a,t.token);)o=a[i=t.token],C(t),e=X(t,e=new d(i,o,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(o="^"===(i=t.token)?"pow":"dotPow",R(t),a=[e,Z(t)],e=new d(i,o,a)),e}(t)}function X(t,e,n){for(var r;!("("!==t.token&&"["!==t.token&&"."!==t.token||n&&-1===n.indexOf(t.token));)if(r=[],"("===t.token){if(!Is(e)&&!ws(e))return e;if(k(t),C(t),")"!==t.token)for(r.push(L(t));","===t.token;)C(t),r.push(L(t));if(")"!==t.token)throw et(t,"Parenthesis ) expected");z(t),C(t),e=new l(e,r)}else if("["===t.token){if(k(t),C(t),"]"!==t.token)for(r.push(L(t));","===t.token;)C(t),r.push(L(t));if("]"!==t.token)throw et(t,"Parenthesis ] expected");z(t),C(t),e=new i(e,new f(r))}else{if(C(t),3!==t.tokenType)throw et(t,"Property name expected after dot");r.push(new c(t.token)),C(t),e=new i(e,new f(r,!0))}return e}function J(t){for(var e="";""!==S(t)&&'"'!==S(t);)"\\"===S(t)&&(e+=S(t),T(t)),e+=S(t),T(t);if(C(t),'"'!==t.token)throw et(t,'End of string " expected');return C(t),JSON.parse('"'+e+'"')}function Q(t){for(var e="";""!==S(t)&&"'"!==S(t);)"\\"===S(t)&&(e+=S(t),T(t)),e+=S(t),T(t);if(C(t),"'"!==t.token)throw et(t,"End of string ' expected");return C(t),JSON.parse('"'+e+'"')}function K(t){for(var e=[L(t)],n=1;","===t.token;)C(t),e[n]=L(t),n++;return new s(e)}function tt(t){return t.index-t.token.length+1}function et(t,e){var n=tt(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}function nt(t,e){var n=tt(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}return x.isAlpha=function(t,e,n){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,n)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x})),bo("evaluate",["typed","parse"],(t=>{var{typed:e,parse:n}=t;return e("evaluate",{string:function(t){return n(t).compile().evaluate({})},"string, Object":function(t,e){return n(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return fu(t,(function(t){return n(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return fu(t,(function(t){return n(t).compile().evaluate(e)}))}})})),bo("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:n,abs:r,addScalar:i,divideScalar:s,multiplyScalar:o,subtract:a,larger:u,equalScalar:c,unaryMinus:h,DenseMatrix:l,SparseMatrix:f,Spa:p}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,n,i,a=t._size[0],l=t._size[1],d=Math.min(a,l),m=t._values,g=t._index,v=t._ptr,y=[],x=[],w=[],b=[a,d],_=[],E=[],N=[],M=[d,l],S=[],T=[];for(e=0;e<a;e++)S[e]=e,T[e]=e;var O=function(t,e){var n=T[t],r=T[e];S[n]=e,S[r]=t,T[t]=r,T[e]=n},A=function(){var t=new p;n<a&&(w.push(y.length),y.push(1),x.push(n)),N.push(_.length);var l=v[n],d=v[n+1];for(i=l;i<d;i++)e=g[i],t.set(S[e],m[i]);n>0&&t.forEach(0,n-1,(function(e,n){f._forEachRow(e,y,x,w,(function(r,i){r>e&&t.accumulate(r,h(o(i,n)))}))}));var T=n,A=t.get(n),C=r(A);t.forEach(n+1,a-1,(function(t,e){var n=r(e);u(n,C)&&(T=t,C=n,A=e)})),n!==T&&(f._swapRows(n,T,b[1],y,x,w),f._swapRows(n,T,M[1],_,E,N),t.swap(n,T),O(n,T)),t.forEach(0,a-1,(function(t,e){t<=n?(_.push(e),E.push(t)):(e=s(e,A),c(e,0)||(y.push(e),x.push(t)))}))};for(n=0;n<l;n++)A();return N.push(_.length),w.push(y.length),{L:new f({values:y,index:x,ptr:w,size:b}),U:new f({values:_,index:E,ptr:N,size:M}),p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(n(t));return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,n,h,f=t._size[0],p=t._size[1],d=Math.min(f,p),m=Us(t._data),g=[],v=[f,d],y=[],x=[d,p],w=[];for(e=0;e<f;e++)w[e]=e;for(n=0;n<p;n++){if(n>0)for(e=0;e<f;e++){var b=Math.min(e,n),_=0;for(h=0;h<b;h++)_=i(_,o(m[e][h],m[h][n]));m[e][n]=a(m[e][n],_)}var E=n,N=0,M=0;for(e=n;e<f;e++){var S=m[e][n],T=r(S);u(T,N)&&(E=e,N=T,M=S)}if(n!==E&&(w[n]=[w[E],w[E]=w[n]][0],l._swapRows(n,E,m)),n<f)for(e=n+1;e<f;e++){var O=m[e][n];c(O,0)||(m[e][n]=s(m[e][n],M))}}for(n=0;n<p;n++)for(e=0;e<f;e++)0===n&&(e<p&&(y[e]=[]),g[e]=[]),e<n?(e<p&&(y[e][n]=m[e][n]),n<f&&(g[e][n]=0)):e!==n?(e<p&&(y[e][n]=0),n<f&&(g[e][n]=m[e][n])):(e<p&&(y[e][n]=m[e][n]),n<f&&(g[e][n]=1));var A=new l({data:g,size:v}),C=new l({data:y,size:x}),R=[];for(e=0,d=w.length;e<d;e++)R[w[e]]=e;return{L:A,U:C,p:R,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}})),bo("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:n,subtract:r,multiply:i,unaryMinus:s,lup:o}=t;return e("det",{any:function(t){return Us(t)},"Array | Matrix":function(t){var e;switch((e=ss(t)?t.size():Array.isArray(t)?(t=n(t)).size():[]).length){case 0:return Us(t);case 1:if(1===e[0])return Us(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+no(e)+")");case 2:var a=e[0];if(a===e[1])return function(t,e,n){if(1===e)return Us(t[0][0]);if(2===e)return r(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var a=o(t),u=a.U[0][0],c=1;c<e;c++)u=i(u,a.U[c][c]);for(var h=0,l=0,f=[];;){for(;f[l];)l++;if(l>=e)break;for(var p=l,d=0;!f[a.p[p]];)f[a.p[p]]=!0,p=a.p[p],d++;d%2==0&&h++}return h%2==0?u:s(u)}(t.clone().valueOf(),a);throw new RangeError("Matrix must be square (size: "+no(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+no(e)+")")}}})})),bo("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:n,divideScalar:r,addScalar:i,multiply:s,unaryMinus:o,det:a,identity:u,abs:c}=t;return e("inv",{"Array | Matrix":function(t){var e=ss(t)?t.size():uo(t);switch(e.length){case 1:if(1===e[0])return ss(t)?n([r(1,t.valueOf()[0])]):[r(1,t[0])];throw new RangeError("Matrix must be square (size: "+no(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return ss(t)?n(h(t.valueOf(),i,s),t.storage()):h(t,i,s);throw new RangeError("Matrix must be square (size: "+no(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+no(e)+")")}},any:function(t){return r(1,t)}});function h(t,e,n){var h,l,f,p,d;if(1===e){if(0===(p=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,p)]]}if(2===e){var m=a(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(t[1][1],m),r(o(t[0][1]),m)],[r(o(t[1][0]),m),r(t[0][0],m)]]}var g=t.concat();for(h=0;h<e;h++)g[h]=g[h].concat();for(var v=u(e).valueOf(),y=0;y<n;y++){var x=c(g[y][y]),w=y;for(h=y+1;h<e;)c(g[h][y])>x&&(x=c(g[h][y]),w=h),h++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(h=w)!==y&&(d=g[y],g[y]=g[h],g[h]=d,d=v[y],v[y]=v[h],v[h]=d);var b=g[y],_=v[y];for(h=0;h<e;h++){var E=g[h],N=v[h];if(h!==y){if(0!==E[y]){for(f=r(o(E[y]),b[y]),l=y;l<n;l++)E[l]=i(E[l],s(f,b[l]));for(l=0;l<n;l++)N[l]=i(N[l],s(f,_[l]))}}else{for(f=b[y],l=y;l<n;l++)E[l]=r(E[l],f);for(l=0;l<n;l++)N[l]=r(N[l],f)}}}return v}})),bo("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:n,multiply:r,equalScalar:i,divideScalar:s,inv:o}=t,a=Lu({typed:e,equalScalar:i}),u=Du({typed:e});return e("divide",Ps({"Array | Matrix, Array | Matrix":function(t,e){return r(t,o(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return a(t,e,s,!1)},"Array, any":function(t,e){return u(n(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return r(t,o(e))}},s.signatures))}));var Th={exports:{}};function Oh(){}function Ah(t,e,n,r=0){r++;for(let i=t.firstChild;i;i=i.nextSibling)if(i.nodeType===Node.ELEMENT_NODE){const t=i;e.call(n,t,r)&&Ah(t,e,n,r)}}function Ch(t,e,n,r){"insertRule"in t?t.insertRule(e+"{"+n+"}",r):"addRule"in t&&t.addRule(e,n,r)}Oh.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var s=0,o=r.length;s<o;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?n[t]=i:delete n[t],this}},Th.exports=Oh,Th.exports.TinyEmitter=Oh,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(t){for(var e=0,n=Math.min(65536,t.length+1),r=new Uint16Array(n),i=[],s=0;;){var o=e<t.length;if(!o||s>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,s))),!o)return i.join("");t=t.subarray(e),s=e=0}if(0==(128&(o=t[e++])))r[s++]=o;else if(192==(224&o)){var a=63&t[e++];r[s++]=(31&o)<<6|a}else if(224==(240&o)){a=63&t[e++];var u=63&t[e++];r[s++]=(31&o)<<12|a<<6|u}else 240==(248&o)&&(65535<(o=(7&o)<<18|(a=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(o-=65536,r[s++]=o>>>10&1023|55296,o=56320|1023&o),r[s++]=o)}}if(t.TextEncoder&&t.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,i=Math.max(32,n+(n>>>1)+7),s=new Uint8Array(i>>>3<<3);e<n;){var o=t.charCodeAt(e++);if(55296<=o&&56319>=o){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,o=((1023&o)<<10)+(1023&a)+65536)}if(55296<=o&&56319>=o)continue}if(r+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(a=new Uint8Array(i)).set(s),s=a),0==(4294967168&o))s[r++]=o;else{if(0==(4294965248&o))s[r++]=o>>>6&31|192;else if(0==(4294901760&o))s[r++]=o>>>12&15|224,s[r++]=o>>>6&63|128;else{if(0!=(4292870144&o))continue;s[r++]=o>>>18&7|240,s[r++]=o>>>12&63|128,s[r++]=o>>>6&63|128}s[r++]=63&o|128}}return s.slice?s.slice(0,r):s.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var s=r;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return r(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:Bs);class Rh{constructor(){this.left=0,this.top=0,this.width=0,this.height=0}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class kh{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function zh(t,e=new Rh,n){const r=t.ownerDocument,i=r.documentElement,s=r.body;if(t===i)return function(t,e){const n=t.documentElement,r=t.body,i=getComputedStyle(n),s=getComputedStyle(r);return e.top=r.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=r.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(r.scrollWidth,n.scrollWidth),Math.max(r.offsetWidth,n.offsetWidth),Math.max(r.clientWidth,n.clientWidth)),e.height=Math.max(Math.max(r.scrollHeight,n.scrollHeight),Math.max(r.offsetHeight,n.offsetHeight),Math.max(r.clientHeight,n.clientHeight)),e}(r,e);if(n===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const o=t.ownerDocument.defaultView;let a,u=t,c=u.offsetParent,h=o.getComputedStyle(u,null),l=u.offsetTop,f=u.offsetLeft;for(c&&n&&c.contains(n)&&c!==n&&(zh(n,e,c),f-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==n&&"fixed"!==h.position;)a=o.getComputedStyle(u,null),l-=u.scrollTop,f-=u.scrollLeft,u===c&&(l+=u.offsetTop,f+=u.offsetLeft,l+=parseFloat(a.borderTopWidth)||0,f+=parseFloat(a.borderLeftWidth)||0,c=u.offsetParent),h=a;return"fixed"===h.position&&(l+=Math.max(i.scrollTop,s.scrollTop),f+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=f,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}const Ih=document.createElement("div");Ih.id="VIEWPORT",Ih.style.position="fixed",Ih.style.width="100vw",Ih.style.height="100vh",Ih.style.visibility="hidden",Ih.style.pointerEvents="none";var Lh={};!function(t){const e=Symbol("newer"),n=Symbol("older");function r(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size))}function i(t,r){this.key=t,this.value=r,this[e]=void 0,this[n]=void 0}function s(t){this.entry=t}function o(t){this.entry=t}function a(t){this.entry=t}t.LRUMap=r,r.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][n]=t[n]),t[n]&&(t[n][e]=t[e]),t[e]=void 0,t[n]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t)},r.prototype.assign=function(t){let r,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let o=t[Symbol.iterator]();for(let t=o.next();!t.done;t=o.next()){let o=new i(t.value[0],t.value[1]);if(this._keymap.set(o.key,o),r?(r[e]=o,o[n]=r):this.oldest=o,r=o,0==s--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size},r.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},r.prototype.set=function(t,r){var s=this._keymap.get(t);return s?(s.value=r,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,r)),this.newest?(this.newest[e]=s,s[n]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},r.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[n]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},r.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},r.prototype.has=function(t){return this._keymap.has(t)},r.prototype.delete=function(t){var r=this._keymap.get(t);if(r)return this._keymap.delete(r.key),r[e]&&r[n]?(r[n][e]=r[e],r[e][n]=r[n]):r[e]?(r[e][n]=void 0,this.oldest=r[e]):r[n]?(r[n][e]=void 0,this.newest=r[n]):this.oldest=this.newest=void 0,this.size--,r.value},r.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},r.prototype.keys=function(){return new o(this.oldest)},r.prototype.values=function(){return new a(this.oldest)},r.prototype.entries=function(){return this},r.prototype[Symbol.iterator]=function(){return new s(this.oldest)},r.prototype.forEach=function(t,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)t.call(n,r.value,r.key,this),r=r[e]},r.prototype.toJSON=function(){for(var t=new Array(this.size),n=0,r=this.oldest;r;)t[n++]={key:r.key,value:r.value},r=r[e];return t},r.prototype.toString=function(){for(var t="",n=this.oldest;n;)t+=String(n.key)+":"+n.value,(n=n[e])&&(t+=" < ");return t}}(Lh);var Dh={exports:{}};function Uh(t,e){return" "+t+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}function Ph(t){var e=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e}function Fh(t,e){let n="";for(const r of t.childNodes)n+=jh(r,e);return n}function jh(t,e){var n;const r=null==(n=e.replacer)?void 0:n.call(e,t);if("string"==typeof r)return r;if("#document"===t.nodeName||"#document-fragment"===t.nodeName)return Fh(t,e);if(t.tagName)return function(t,e){let n="<"+Ph(t);n+=function(t,e){return t.hasAttribute("xmlns")||!e&&t.namespaceURI===t.parentElement.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(t,0===e.depth);for(const e of t.attributes)n+=Uh(e.name,e.value);return t.childNodes.length>0?(e.depth++,n+=">",n+=Fh(t,e),n+="</"+Ph(t)+">",e.depth--):n+="/>",n}(t,e);if("#text"===t.nodeName)return function(t){return(t.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t);if("#comment"===t.nodeName);else if("#cdata-section"===t.nodeName)return function(t){return"<![CDATA["+t.nodeValue+"]]>"}(t);return""}!function(t){!function(e,n){var r={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(t,n,r,i,s){for(var o,a,u,c,h,l,f,p,d,m,g,v,y;s>=64;){for(o=n[0],a=n[1],u=n[2],c=n[3],h=n[4],l=n[5],f=n[6],p=n[7],m=0;m<16;m++)g=i+4*m,t[m]=(255&r[g])<<24|(255&r[g+1])<<16|(255&r[g+2])<<8|255&r[g+3];for(m=16;m<64;m++)v=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,y=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(v+t[m-7]|0)+(y+t[m-16]|0);for(m=0;m<64;m++)v=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&l^~h&f)|0)+(p+(e[m]+t[m]|0)|0)|0,y=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0,p=f,f=l,l=h,h=c+v|0,c=u,u=a,a=o,o=v+y|0;n[0]+=o,n[1]+=a,n[2]+=u,n[3]+=c,n[4]+=h,n[5]+=l,n[6]+=f,n[7]+=p,i+=64,s-=64}return i}var r=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[r++],e--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(r=n(this.temp,this.state,t,r,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[r++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,r=this.bufferLength,i=e/536870912|0,s=e<<3,o=e%64<56?64:128;this.buffer[r]=128;for(var a=r+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=i>>>24&255,this.buffer[o-7]=i>>>16&255,this.buffer[o-6]=i>>>8&255,this.buffer[o-5]=i>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,n(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(a=0;a<8;a++)t[4*a+0]=this.state[a]>>>24&255,t[4*a+1]=this.state[a]>>>16&255,t[4*a+2]=this.state[a]>>>8&255,t[4*a+3]=this.state[a]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e]},e.prototype._restoreState=function(t,e){for(var n=0;n<this.state.length;n++)this.state[n]=t[n];this.bytesHashed=e,this.finished=!1,this.bufferLength=0},e}();t.Hash=r;var i=function(){function t(t){this.inner=new r,this.outer=new r,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new r).update(t).finish(e).clean();else for(var n=0;n<t.length;n++)e[n]=t[n];for(n=0;n<e.length;n++)e[n]^=54;for(this.inner.update(e),n=0;n<e.length;n++)e[n]^=106;for(this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),n=0;n<e.length;n++)e[n]=0}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean()},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new r).update(t),n=e.digest();return e.clean(),n}function o(t,e){var n=new i(t).update(e),r=n.digest();return n.clean(),r}function a(t,e,n,r){var i=r[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),n&&e.update(n),e.update(r),e.finish(t),r[0]++}t.HMAC=i,t.hash=s,t.default=s,t.hmac=o;var u=new Uint8Array(t.digestLength);t.hkdf=function(t,e,n,r){void 0===e&&(e=u),void 0===r&&(r=32);for(var s=new Uint8Array([1]),c=o(e,t),h=new i(c),l=new Uint8Array(h.digestLength),f=l.length,p=new Uint8Array(r),d=0;d<r;d++)f===l.length&&(a(l,h,n,s),f=0),p[d]=l[f++];return h.clean(),l.fill(0),s.fill(0),p},t.pbkdf2=function(t,e,n,r){for(var s=new i(t),o=s.digestLength,a=new Uint8Array(4),u=new Uint8Array(o),c=new Uint8Array(o),h=new Uint8Array(r),l=0;l*o<r;l++){var f=l+1;a[0]=f>>>24&255,a[1]=f>>>16&255,a[2]=f>>>8&255,a[3]=f>>>0&255,s.reset(),s.update(e),s.update(a),s.finish(c);for(var p=0;p<o;p++)u[p]=c[p];for(p=2;p<=n;p++){s.reset(),s.update(c).finish(c);for(var d=0;d<o;d++)u[d]^=c[d]}for(p=0;p<o&&l*o+p<r;p++)h[l*o+p]=u[p]}for(l=0;l<o;l++)u[l]=c[l]=0;for(l=0;l<4;l++)a[l]=0;return s.clean(),h}}(r);var i=r.default;for(var s in r)i[s]=r[s];t.exports=i}()}(Dh);const Bh=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.pseudoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new Rh,this.padding=new kh,this.margin=new kh,this.border=new kh,this.childLayers=[],this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgDocument="",this._rasterizingDocument="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),this.serializationReplacer=t=>{if(this.element===t)return;const e=t,n=zl.layers.get(e);if(n){const t=n.bounds;let r="";const i=`min-width:${t.width}px;min-height:${t.height}px;visibility:hidden`;let s=!1;for(const t of n.element.attributes)"style"==t.name?(r+=Uh(t.name,t.value+";"+i),s=!0):r+=Uh(t.name,t.value);s||(r+=Uh("style",i));const o=e.tagName.toLowerCase();return`<${o} ${r}></${o}>`}},zl.layers.set(t,this),this.id=t.getAttribute(zl.ELEMENT_UID_ATTRIBUTE)||zl.generateElementUID(),t.setAttribute(zl.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(zl.LAYER_ATTRIBUTE,""),this.parentLayer=zl.getClosestLayer(this.element.parentElement),this.eventCallback("layercreated",{target:t}),Bh.cachedCanvases.limit=zl.layers.size*Bh.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20}set canvas(t){this._canvas!==t&&(this._canvas=t,this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}))}get canvas(){return this._canvas}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e))}traverseLayers(t){t(this),this.traverseChildLayers(t)}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t)}refresh(){zh(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),this.needsRefresh=!1,this._updateParentAndChildLayers(),zl.addToSerializeQueue(this)}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,n=e.slice(),r=this.parentLayer;this.parentLayer=zl.getClosestLayer(this.element.parentElement),r!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,Ah(t,this._tryConvertElementToWebLayer,this);for(const t of n)zl.getClosestLayer(t.element.parentElement)||(t.needsRemoval=!0,e.push(t))}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return!1;const e=t,n=getComputedStyle(e);if(e.getAttribute(zl.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(zl.ELEMENT_UID_ATTRIBUTE,zl.generateElementUID()),e.hasAttribute(zl.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==n.transform){let t=zl.layers.get(e);return t||(t=new Bh(e,this.eventCallback)),this.childLayers.push(t),!1}return!0}async serialize(){if("VIDEO"===this.element.nodeName)return;let{width:t,height:e}=this.bounds;if(t*e>0){!function(t,e){let n=getComputedStyle(t);e.left=parseFloat(n.paddingLeft)||0,e.right=parseFloat(n.paddingRight)||0,e.top=parseFloat(n.paddingTop)||0,e.bottom=parseFloat(n.paddingBottom)||0}(this.element,this.padding),function(t,e){let n=getComputedStyle(t);e.left=parseFloat(n.marginLeft)||0,e.right=parseFloat(n.marginRight)||0,e.top=parseFloat(n.marginTop)||0,e.bottom=parseFloat(n.marginBottom)||0}(this.element,this.margin),function(t,e){let n=getComputedStyle(t);e.left=parseFloat(n.borderLeftWidth)||0,e.right=parseFloat(n.borderRightWidth)||0,e.top=parseFloat(n.borderTopWidth)||0,e.bottom=parseFloat(n.borderBottomWidth)||0}(this.element,this.border),t+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),e+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0);const i=zl.attributeHTML(zl.ELEMENT_UID_ATTRIBUTE,""+this.id),s=this.element,o="inline"===getComputedStyle(s).display;zl.updateInputAttributes(s);const a=(n=s,r=this.serializationReplacer,jh(n,{depth:0,replacer:r}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")).replace(i,`${i} ${zl.RENDERING_ATTRIBUTE}="" ${o?`${zl.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+zl.getPsuedoAttributes(this.pseudoStates)),u=this._getParentsHTML(s);u[0]=u[0].replace("html","html "+zl.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');const[c]=await Promise.all([zl.getEmbeddedCSS(this.element),zl.embedExternalResources(this.element)]),h='<svg width="'+t+'" height="'+e+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[a[href]{color:#0000EE;text-decoration:underline;}'+c.join("")+']]></style></defs><foreignObject x="0" y="0" width="'+t+'" height="'+e+'">'+u[0]+a+u[1]+"</foreignObject></svg>",l=this._svgDocument=h,f=Bh.canvasHashes.get(l);if(f&&Bh.cachedCanvases.has(f))return void(this.canvas=Bh.cachedCanvases.get(f));this.cachedBounds.set(l,(new Rh).copy(this.bounds)),this.cachedMargin.set(l,(new kh).copy(this.margin)),zl.addToRasterizeQueue(this)}var n,r}async rasterize(){return new Promise((t=>{this.svgImage.onload=()=>{zl.addToRenderQueue(this),t()},this._rasterizingDocument=this._svgDocument,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument),this.svgImage.complete&&this.svgImage.currentSrc===this.svgImage.src&&(zl.addToRenderQueue(this),this.svgImage.onload=null,t())}))}render(){const t=this._rasterizingDocument;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);if(!this.svgImage.complete)return void zl.addToRenderQueue(this);let{width:e,height:n}=this.cachedBounds.get(t),{left:r,top:i}=this.cachedMargin.get(t);const s=this._hashingCanvas;let o=s.width,a=s.height;const u=s.getContext("2d");u.clearRect(0,0,o,a),u.imageSmoothingEnabled=!1,u.drawImage(this.svgImage,r,i,e,n,0,0,o,a);const c=u.getImageData(0,0,o,a).data,h=zl.arrayBufferToBase64(Dh.exports.hash(new Uint8Array(c)))+"?w="+e+";h="+n;Bh.canvasHashes.set(t,h);const l=Bh.blankRetryCounts.get(t)||0;if(zl.isBlankImage(c)&&l<10)return Bh.blankRetryCounts.set(t,l+1),void setTimeout((()=>zl.addToRenderQueue(this)),500);if(Bh.cachedCanvases.has(h))return void(this.canvas=Bh.cachedCanvases.get(h));const f=this.pixelRatio||parseFloat(this.element.getAttribute(zl.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,p=Bh.cachedCanvases.size===Bh.cachedCanvases.limit?Bh.cachedCanvases.shift()[1]:document.createElement("canvas");let d=p.width=e*f,m=p.height=n*f;const g=p.getContext("2d");g.imageSmoothingEnabled=!1,g.clearRect(0,0,d,m),g.drawImage(this.svgImage,r,i,e,n,0,0,d,m),Bh.cachedCanvases.set(h,p),this.canvas=p}_getParentsHTML(t){const e=[],n=[];let r=t.parentElement;r||(r=document.documentElement);do{let t=r.tagName.toLowerCase(),i=" ";for(const t of r.attributes)"style"!==t.name&&(i+=`${t.name}="${t.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${zl.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const o="</"+t+">";if(n.push(o),"html"==t)break}while(r=r.parentElement);return[e.join(""),n.join("")]}};let Hh=Bh;Hh.DEFAULT_CACHE_SIZE=4,Hh.blankRetryCounts=new Map,Hh.canvasHashes=new Lh.LRUMap(1e3),Hh.cachedCanvases=new Lh.LRUMap(Bh.DEFAULT_CACHE_SIZE);var qh,$h,Vh=[],Gh="ResizeObserver loop completed with undelivered notifications.";($h=qh||(qh={})).BORDER_BOX="border-box",$h.CONTENT_BOX="content-box",$h.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Wh,Yh=function(t){return Object.freeze(t)},Zh=function(t,e){this.inlineSize=t,this.blockSize=e,Yh(this)},Xh=function(){function t(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Yh(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Jh=function(t){return t instanceof SVGElement&&"getBBox"in t},Qh=function(t){if(Jh(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||t.getClientRects().length)},Kh=function(t){var e,n;if(t instanceof Element)return!0;var r=null===(n=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},tl="undefined"!=typeof window?window:{},el=new WeakMap,nl=/auto|scroll/,rl=/^tb|vertical/,il=/msie|trident/i.test(tl.navigator&&tl.navigator.userAgent),sl=function(t){return parseFloat(t||"0")},ol=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),new Zh((n?e:t)||0,(n?t:e)||0)},al=Yh({devicePixelContentBoxSize:ol(),borderBoxSize:ol(),contentBoxSize:ol(),contentRect:new Xh(0,0,0,0)}),ul=function(t,e){if(void 0===e&&(e=!1),el.has(t)&&!e)return el.get(t);if(Qh(t))return el.set(t,al),al;var n=getComputedStyle(t),r=Jh(t)&&t.ownerSVGElement&&t.getBBox(),i=!il&&"border-box"===n.boxSizing,s=rl.test(n.writingMode||""),o=!r&&nl.test(n.overflowY||""),a=!r&&nl.test(n.overflowX||""),u=r?0:sl(n.paddingTop),c=r?0:sl(n.paddingRight),h=r?0:sl(n.paddingBottom),l=r?0:sl(n.paddingLeft),f=r?0:sl(n.borderTopWidth),p=r?0:sl(n.borderRightWidth),d=r?0:sl(n.borderBottomWidth),m=l+c,g=u+h,v=(r?0:sl(n.borderLeftWidth))+p,y=f+d,x=a?t.offsetHeight-y-t.clientHeight:0,w=o?t.offsetWidth-v-t.clientWidth:0,b=i?m+v:0,_=i?g+y:0,E=r?r.width:sl(n.width)-b-w,N=r?r.height:sl(n.height)-_-x,M=E+m+w+v,S=N+g+x+y,T=Yh({devicePixelContentBoxSize:ol(Math.round(E*devicePixelRatio),Math.round(N*devicePixelRatio),s),borderBoxSize:ol(M,S,s),contentBoxSize:ol(E,N,s),contentRect:new Xh(l,u,E,N)});return el.set(t,T),T},cl=function(t,e,n){var r=ul(t,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case qh.DEVICE_PIXEL_CONTENT_BOX:return o;case qh.BORDER_BOX:return i;default:return s}},hl=function(t){var e=ul(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Yh([e.borderBoxSize]),this.contentBoxSize=Yh([e.contentBoxSize]),this.devicePixelContentBoxSize=Yh([e.devicePixelContentBoxSize])},ll=function(t){if(Qh(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},fl=function(){var t=1/0,e=[];Vh.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(e){var n=new hl(e.target),i=ll(e.target);r.push(n),e.lastReportedSize=cl(e.target,e.observedBox),i<t&&(t=i)})),e.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=e;n<r.length;n++)(0,r[n])();return t},pl=function(t){Vh.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(n){n.isActive()&&(ll(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))}))}))},dl=[],ml=0,gl={attributes:!0,characterData:!0,childList:!0,subtree:!0},vl=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],yl=function(t){return void 0===t&&(t=0),Date.now()+t},xl=!1,wl=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!xl){xl=!0;var n,r=yl(t);n=function(){var n=!1;try{n=function(){var t,e=0;for(pl(e);Vh.some((function(t){return t.activeTargets.length>0}));)e=fl(),pl(e);return Vh.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Gh}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Gh),window.dispatchEvent(t)),e>0}()}finally{if(xl=!1,t=r-yl(),!ml)return;n?e.run(1e3):t>0?e.run(t):e.start()}},function(t){if(!Wh){var e=0,n=document.createTextNode("");new MutationObserver((function(){return dl.splice(0).forEach((function(t){return t()}))})).observe(n,{characterData:!0}),Wh=function(){n.textContent=""+(e?e--:e++)}}dl.push(t),Wh()}((function(){requestAnimationFrame(n)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,gl)};document.body?e():tl.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),vl.forEach((function(e){return tl.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),vl.forEach((function(e){return tl.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),bl=function(t){!ml&&t>0&&wl.start(),!(ml+=t)&&wl.stop()},_l=function(){function t(t,e){this.target=t,this.observedBox=e||qh.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=cl(this.target,this.observedBox,!0);return t=this.target,Jh(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),El=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},Nl=new WeakMap,Ml=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Sl=function(){function t(){}return t.connect=function(t,e){var n=new El(t,e);Nl.set(t,n)},t.observe=function(t,e,n){var r=Nl.get(t),i=0===r.observationTargets.length;Ml(r.observationTargets,e)<0&&(i&&Vh.push(r),r.observationTargets.push(new _l(e,n&&n.box)),bl(1),wl.schedule())},t.unobserve=function(t,e){var n=Nl.get(t),r=Ml(n.observationTargets,e),i=1===n.observationTargets.length;r>=0&&(i&&Vh.splice(Vh.indexOf(n),1),n.observationTargets.splice(r,1),bl(-1))},t.disconnect=function(t){var e=this,n=Nl.get(t);n.observationTargets.slice().forEach((function(n){return e.unobserve(t,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},t}(),Tl=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Sl.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Kh(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Sl.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Kh(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Sl.unobserve(this,t)},t.prototype.disconnect=function(){Sl.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const Ol=self.ResizeObserver||Tl,Al=new xi,Cl=new xi,Rl=new TextDecoder,kl=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return""+this._nextUID++}static getPsuedoAttributes(t){return`${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,n=t.getRootNode(),r="head"in n?n.head:n;if(this.rootNodeObservers.get(n))return;const i=e.createElement("style");r.append(i);const s=i.sheet;let o=0;if(Ch(s,`[${kl.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",o++),Ch(s,`[${kl.RENDERING_ATTRIBUTE}], [${kl.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",o++),Ch(s,`[${kl.RENDERING_ATTRIBUTE}] [${kl.LAYER_ATTRIBUTE}], [${kl.RENDERING_ATTRIBUTE}] [${kl.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",o++),Ch(s,`[${kl.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",o++),Ch(s,`[${kl.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",o++),Ch(s,`[${kl.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; height:100% !important; padding:0 !important; position:static !important; display:block !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",o++),Ch(s,`[${kl.RENDERING_PARENT_ATTRIBUTE}]::before, [${kl.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",o++),n===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=n.querySelector(window.location.hash)}catch{}t=window.location.hash};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null}),!1),window.addEventListener("load",(t=>{a()}))}const a=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0},u=t=>{var e=t.nodeName.toUpperCase();-1!==c.indexOf(e)&&t.addEventListener("load",a)},c=["STYLE","LINK"],h=new MutationObserver((t=>{var n;for(const r of t){-1!==c.indexOf(r.target.nodeName.toUpperCase())&&(a(),null==(n=this.embeddedCSS.get(e))||n.delete(r.target));for(const t of r.addedNodes)u(t)}}));h.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(n,h)}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t)}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t)}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t)}static _runTasks(){kl.tasksPending=!1;const t=kl.serializeQueue,e=kl.rasterizeQueue,n=kl.renderQueue,r=kl.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;n.length&&performance.now()-i<r;)n.shift().render();for(i=performance.now();t.length&&performance.now()-i<r;)t.shift().serialize();e.length&&kl.rasterizeTaskCount<kl.TASK_ASYNC_MAX_COUNT&&(kl.rasterizeTaskCount++,e.shift().rasterize().then((()=>{kl.rasterizeTaskCount--})))}static scheduleTasksIfNeeded(){this.tasksPending||0===kl.serializeQueue.length&&0===kl.renderQueue.length&&(0===kl.rasterizeQueue.length||kl.rasterizeTaskCount===kl.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,kl.scheduleIdle(kl._runTasks))}static scheduleIdle(t){setTimeout(t,1)}static setLayerNeedsRefresh(t){t.needsRefresh=!0}static createLayerTree(t,e){if(kl.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t){const e=t.ownerDocument,n=t.getRootNode();if(e.contains(t)||e.contains(null==n?void 0:n.host))return t;const r=n.host||e.createElement("div");r.setAttribute(zl.RENDERING_CONTAINER_ATTRIBUTE,""),r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.style.top="-100000px",r.style.contain="strict",n.host||r.appendChild(t),e.documentElement.appendChild(r)}(t),kl.initRootNodeObservation(t);const n=new MutationObserver(kl._handleMutations);this.mutationObservers.set(t,n),this.startMutationObserver(t);const r=new Ol((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(kl.setLayerNeedsRefresh),t.traverseParentLayers(kl.setLayerNeedsRefresh)}}));r.observe(t),this.resizeObservers.set(t,r),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const i=new Hh(t,e);return this.rootLayers.set(t,i),i}static disposeLayer(t){this.rootLayers.has(t.element)&&(this.rootLayers.delete(t.element),this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element),this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0}))}static getClosestLayer(t){const e=t&&t.closest(`[${kl.LAYER_ATTRIBUTE}]`);return this.layers.get(e)}static parseCSSTransform(t,e,n,r,i=new xi){const s=t.transform,o=t.transformOrigin;if(0==s.indexOf("matrix(")){i.identity();var a=s.substring(7,s.length-1).split(", ").map(parseFloat);i.elements[0]=a[0],i.elements[1]=a[1],i.elements[4]=a[2],i.elements[5]=a[3],i.elements[12]=a[4],i.elements[13]=a[5]}else{if(0!=s.indexOf("matrix3d("))return null;a=s.substring(9,s.length-1).split(", ").map(parseFloat),i.fromArray(a)}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=r,i.elements[13]*=-1*r;var u=o.split(" ").map(parseFloat),c=(u[0]-e/2)*r,h=(u[1]-n/2)*r*-1,l=u[2]||0,f=Al.identity().makeTranslation(-c,-h,-l),p=Cl.identity().makeTranslation(c,h,l);for(const t of i.elements)if(isNaN(t))return null;return i.premultiply(p).multiply(f)}static async embedExternalResources(t){const e=[],n=t.querySelectorAll("*");for(const t of n){const n=t.getAttributeNS("http://www.w3.org/1999/xlink","href");n&&e.push(kl.getDataURL(n).then((e=>{t.removeAttributeNS("http://www.w3.org/1999/xlink","href"),t.setAttribute("href",e)})));const r=t;if("IMG"==t.tagName&&"data"!=r.src.substr(0,4)&&e.push(kl.getDataURL(r.src).then((e=>{t.setAttribute("src",e)}))),"http://www.w3.org/1999/xhtml"==t.namespaceURI&&t.hasAttribute("style")){const n=t.getAttribute("style")||"";e.push(kl.generateEmbeddedCSS(window.location.href,n).then((e=>{n!=e&&t.setAttribute("style",e)})))}}const r=t.querySelectorAll("style");for(const t of r)e.push(kl.generateEmbeddedCSS(window.location.href,t.innerHTML).then((e=>{t.innerHTML!=e&&(t.innerHTML=e)})));return Promise.all(e)}static pauseMutationObservers(){const t=kl.mutationObservers.values();for(const e of t)kl._handleMutations(e.takeRecords()),e.disconnect()}static resumeMutationObservers(){for(const[t]of kl.mutationObservers)this.startMutationObserver(t)}static startMutationObserver(t){kl.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0})}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let t=0;t<e.length;t++)try{const i=e[t],s=i.cssRules;if(!s)continue;const o=[];for(var n=0;n<s.length;n++){s[n].cssText.indexOf(":hover")>-1&&o.push(s[n].cssText.replace(new RegExp(":hover","g"),`[${kl.HOVER_ATTRIBUTE}]`)),s[n].cssText.indexOf(":active")>-1&&o.push(s[n].cssText.replace(new RegExp(":active","g"),`[${kl.ACTIVE_ATTRIBUTE}]`)),s[n].cssText.indexOf(":focus")>-1&&o.push(s[n].cssText.replace(new RegExp(":focus","g"),`[${kl.FOCUS_ATTRIBUTE}]`)),s[n].cssText.indexOf(":target")>-1&&o.push(s[n].cssText.replace(new RegExp(":target","g"),`[${kl.TARGET_ATTRIBUTE}]`));var r=o.indexOf(s[n].cssText);r>-1&&o.splice(r,1)}for(n=0;n<o.length;n++)i.insertRule(o[n])}catch(t){}}static arrayBufferToBase64(t){for(var e="",n=t.byteLength,r=0;r<n;r++)e+=String.fromCharCode(t[r]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let n;const r=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;n=i.exec(e);){const i=n[1];r.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t)})))}return await Promise.all(r),e}static async getURL(t){return t=new URL(t,window.location.href).href,new Promise((e=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{e(n)},n.onerror=()=>{e(n)},n.send()}))}static async getEmbeddedCSS(t){const e=t.getRootNode(),n=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,n);const r=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));let i=!1;for(const t of r)if(!n.has(t))if(i=!0,"STYLE"==t.tagName){const e=t.sheet;let r="";for(const t of e.cssRules)r+=t.cssText+"\n";n.set(t,this.generateEmbeddedCSS(window.location.href,r))}else n.set(t,this.getURL(t.getAttribute("href")).then((t=>{if(!t.response)return"";this._addDynamicPseudoClassRules(e);var n=Rl.decode(t.response);return this.generateEmbeddedCSS(window.location.href,n)})));return i&&this._addDynamicPseudoClassRules(e),Promise.all(n.values())}static async getDataURL(t){var e;const n=await this.getURL(t),r=new Uint8Array(n.response),i=null==(e=n.getResponseHeader("Content-Type"))?void 0:e.split(";")[0];if("text/css"==i){let e=Rl.decode(r);e=await this.generateEmbeddedCSS(t,e);const n=window.btoa(e);return n.length>0?"data:"+i+";base64,"+n:""}return"data:"+i+";base64,"+this.arrayBufferToBase64(r)}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e)}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value)}static isBlankImage(t){return!new Uint32Array(t.buffer).some((t=>0!==t))}};let zl=kl;if(zl.ATTRIBUTE_PREFIX="xr",zl._nextUID=0,zl.serializer=new XMLSerializer,zl.rootLayers=new Map,zl.layers=new Map,zl.mutationObservers=new Map,zl.resizeObservers=new Map,zl.serializeQueue=[],zl.rasterizeQueue=[],zl.renderQueue=[],zl.focusElement=null,zl.activeElement=null,zl.targetElement=null,zl.rootNodeObservers=new Map,zl.TASK_ASYNC_MAX_COUNT=2,zl.TASK_SYNC_MAX_TIME=200,zl.rasterizeTaskCount=0,zl.tasksPending=!1,zl._handleMutations=t=>{for(const e of t){if("attributes"===e.type&&e.target.getAttribute(e.attributeName)===e.oldValue)continue;if("characterData"===e.type&&e.target.data===e.oldValue)continue;const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const n=kl.getClosestLayer(t);if(n){if("attributes"===e.type&&"class"===e.attributeName&&(e.oldValue?e.oldValue:"")===e.target.className)continue;n.parentLayer?n.parentLayer.traverseChildLayers(kl.setLayerNeedsRefresh):n.traverseLayers(kl.setLayerNeedsRefresh)}}},zl._triggerRefresh=async t=>{const e=kl.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(kl.setLayerNeedsRefresh):e.traverseLayers(kl.setLayerNeedsRefresh))},zl.embeddedCSS=new Map,self.THREE)var Il=self.THREE;else Il=oi;const Ll=new Il.Matrix4,Dl=new Il.Vector3,Ul=new Il.Vector3,Pl=new Rh,Fl=new Rh,jl=Symbol("ON_BEFORE_UPDATE");class Bl extends Il.Object3D{constructor(t,e={}){super(),this.element=t,this.options=e,this.isRoot=!1,this._localZ=0,this._viewZ=0,this._renderZ=0,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new Il.Mesh(ql.GEOMETRY,new Il.MeshBasicMaterial({side:Il.DoubleSide,transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new Il.Mesh(ql.GEOMETRY,new Il.MeshBasicMaterial({visible:!1})),this.cursor=new Il.Object3D,this.depthMaterial=new Il.MeshDepthMaterial({depthPacking:Il.RGBADepthPacking,alphaTest:.001}),this.domLayout=new Il.Object3D,this.domSize=new Il.Vector3(1,1,1),this.childWebLayers=[],this.shouldApplyDOMLayout="auto",this.name=t.id,this._webLayer=zl.getClosestLayer(t),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(t,e,n)=>{this._camera=n},this._boundsMesh.matrixAutoUpdate=!0,ql.layersByElement.set(this.element,this),ql.layersByMesh.set(this.contentMesh,this)}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new Il.VideoTexture(t),e.wrapS=Il.ClampToEdgeWrapping,e.wrapT=Il.ClampToEdgeWrapping,e.minFilter=Il.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.canvas;let e=this.textures.get(t);return e?this.textureNeedsUpdate&&(this.textureNeedsUpdate=!1,e.needsUpdate=!0):(e=new Il.Texture(t),e.needsUpdate=!0,e.wrapS=Il.ClampToEdgeWrapping,e.wrapT=Il.ClampToEdgeWrapping,e.minFilter=Il.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.pseudoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(zl.setLayerNeedsRefresh)}get needsRemoval(){return this._webLayer.needsRemoval}get bounds(){return this._webLayer.bounds}get parentWebLayer(){return this._webLayer.parentLayer&&ql.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){this._webLayer.refresh(),this.childWebLayers.length=0;for(const e of this._webLayer.childLayers){const n=ql.getClosestLayerForElement(e.element);n&&(this.childWebLayers.push(n),t&&n.refresh(t))}this._refreshVideoBounds(),this._refreshDOMLayout()}updateLayout(){this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1)}updateContent(){const t=this.contentMesh,e=this.currentTexture,n=t.material;e.image&&n.map!==e&&(n.map=e,n.depthWrite=!1,n.needsUpdate=!0,this.depthMaterial.map=e,this.depthMaterial.needsUpdate=!0),n.transparent=!0;const r=t.material.opacity<.005;if(r?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&r&&(this.parent&&this.parent.remove(this),this.dispose()),!this._camera)return;this._localZ=Math.abs(Dl.setFromMatrixPosition(this.matrix).z+Dl.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Dl).applyMatrix4(this._camera.matrixWorldInverse).z);let i=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<1e-8?this._renderZ=i:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index)}get rootWebLayer(){return ql.layersByElement.get(this._webLayer.rootLayer.element)}[jl](){}_doUpdate(){this[jl](),this.updateContent(),this.updateLayout(),this.needsRefresh&&!1!==this.options.autoRefresh&&this.refresh(),zl.scheduleTasksIfNeeded()}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate()}querySelector(t){const e=this.element.querySelector(t);if(e)return ql.layersByElement.get(e)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e))}traverseLayersPreOrder(t){if(!1===t.call(this,this))return!1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return!1;return!0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return!1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),zl.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose()}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,n=getComputedStyle(this.element),{objectFit:r}=n,{width:i,height:s}=this.bounds,{videoWidth:o,videoHeight:a}=t,u=o/a,c=i/s;switch(e.center.set(.5,.5),r){case"none":e.repeat.set(i/o,s/a).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),c>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t}else{const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t}break;case"cover":if(e.repeat.set(i/o,s/a),c<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t}else{const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t}break;default:case"fill":e.repeat.set(1,1)}}}_refreshDOMLayout(){if(this.needsRemoval)return;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const t=this.bounds,e=t.width,n=t.height,r=1/ql.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(r*e,1e-5),Math.max(r*n,1e-5),1),!ql.shouldApplyDOMLayout(this))return;const i=this.parentWebLayer instanceof Bl?this.parentWebLayer.bounds:function(t){return Ih.parentNode||document.documentElement.append(Ih),t.left=pageXOffset,t.top=pageYOffset,t.width=Ih.offsetWidth,t.height=Ih.offsetHeight,t}(Pl),s=-i.width/2+e/2,o=i.height/2-n/2;this.domLayout.position.set(r*(s+t.left),r*(o-t.top),0);const a=getComputedStyle(this.element),u=a.transform;if(u&&"none"!==u){const t=zl.parseCSSTransform(a,e,n,r,Ll);t&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(t),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale))}}}const Hl=class extends Il.Object3D{constructor(t,e={}){super(),this.options=e,this._interactionRays=[],this._raycaster=new Il.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh)};const n="string"==typeof t?function(t){const e=document.createElement("div");e.innerHTML=t;const n=e.firstElementChild;return e.removeChild(n),n}(t):t;zl.createLayerTree(n,((t,{target:e})=>{var r,i;if("layercreated"===t){const t=new Bl(e,this.options);e===n?(t[jl]=()=>this._updateInteractions(),t.isRoot=!0,this.rootLayer=t,this.add(t)):null==(r=t.parentWebLayer)||r.add(t),this.options.onLayerCreate&&this.options.onLayerCreate(t)}else if("layerpainted"===t){const t=zl.layers.get(e);Hl.layersByElement.get(t.element).textureNeedsUpdate=!0}else if("layermoved"===t){const t=Hl.layersByElement.get(e);null==(i=t.parentWebLayer)||i.add(t)}})),this.refresh(),this.update()}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return"always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t}querySelector(t){return this.rootLayer.querySelector(t)}refresh(){this.rootLayer.refresh(!0)}update(){this.rootLayer.update(!0)}get contentMesh(){return this.rootLayer.contentMesh}_intersectionSort(t,e){const n=t.object.parent,r=e.object.parent;return n.depth!==r.depth?r.depth-n.depth:r.index-n.index}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof Il.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(Dl),e.getWorldDirection(Ul)),this._hitIntersections.length=0;const n=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);n.sort(this._intersectionSort);const r=n[0];if(r){const e=r.object.parent;e.cursor.position.copy(r.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh()}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh()}static getLayerForQuery(t){const e=document.querySelector(t);return Hl.layersByElement.get(e)}static getClosestLayerForElement(t){const e=t&&t.closest(`[${zl.LAYER_ATTRIBUTE}]`);return Hl.layersByElement.get(e)}hitTest(t){const e=this._raycaster,n=this._hitIntersections,r=Hl.layersByMesh;e.ray.copy(t),n.length=0,e.intersectObject(this,!0,n),n.sort(this._intersectionSort);for(const t of n){const e=r.get(t.object);if(!e)continue;const n=zh(e.element,Pl);if(!n.width||!n.height)continue;let i=e.element;const s=t.uv.x*n.width,o=(1-t.uv.y)*n.height;return Ah(e.element,(t=>{if(!i.contains(t))return!1;const e=zh(t,Fl),r=e.left-n.left,a=e.top-n.top,{width:u,height:c}=e;return s>r&&s<r+u&&o>a&&o<a+c&&(i=t,!0)})),{layer:e,intersection:t,target:i}}}};let ql=Hl;ql.layersByElement=new WeakMap,ql.layersByMesh=new WeakMap,ql.DEFAULT_LAYER_SEPARATION=.001,ql.DEFAULT_PIXELS_PER_UNIT=1e3,ql.GEOMETRY=new Il.PlaneGeometry(1,1,2,2);class $l{constructor(t,e={}){this.isInteractive=!1,this.isNetworked=!1,this.isStatic=!0,this.takeOwnership=this.takeOwnershipProto.bind(this),this.setSharedData=this.setSharedDataProto.bind(this),this.headDiv=document.createElement("div"),this.appDiv=document.createElement("div"),this.headDiv.appendChild(this.appDiv),this.vueApp=Xr(t,e)}mount(){this.vueRoot=this.vueApp.mount(this.appDiv),this.webLayer3D=new ql(this.vueRoot.$el,{autoRefresh:!0,onLayerCreate:t=>{},onAfterRasterize(t){},textureEncoding:THREE.sRGBEncoding,renderOrderOffset:0})}setNetworkMethods(t,e){this.takeOwnership=t,this.setSharedData=e}takeOwnershipProto(){return!0}setSharedDataProto(t){return!0}updateSharedData(t){raise("updateData should be overridden by subclasses")}getSharedData(t){raise("getSharedData should be overridden by subclasses")}play(){}pause(){}destroy(){}}class Vl{constructor(t){this._state=Wt({count:0}),this.app=t,this.state=Yt(this._state)}increment(){this.app.takeOwnership()&&(this._state.count++,this.app.setSharedData(this.state))}updateSharedData(t){this._state.count=t.count}}class Gl extends $l{constructor(){super(ii),this.shared=new Vl(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1,console.log(JSON.stringify(this.shared.data))}updateSharedData(t){this.shared.updateSharedData(t)}getSharedData(){return this.shared.state}}var Wl=function(){let t=new Gl;return t.mount(),t};qe("data-v-86a6691a");const Yl=tr("p",null,[tr("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation and Then Some! "),nr(" | "),tr("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1),Zl=tr("p",null,[nr(" Edit "),tr("code",null,"components/HelloWorld.vue"),nr(' to test hot module replacement while running project as "npm run dev". ')],-1);$e();var Xl={expose:[],props:{msg:String},setup(t){const e=Wt({count:0});return(n,r)=>(Gn(),Yn(jn,null,[tr("h1",null,u(t.msg),1),Yl,tr("button",{"xr-layer":"",onClick:r[1]||(r[1]=t=>ee(e).count++)},"count is: "+u(ee(e).count),1),Zl],64))}};ei("\na[data-v-86a6691a] {\n  color: #42b983;\n}\n*[data-v-86a6691a] {\n    box-sizing: content-box;\n    line-height : normal;\n}\np[data-v-86a6691a] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-86a6691a] {\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-86a6691a] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n\n"),Xl.__scopeId="data-v-86a6691a",qe("data-v-3ae706cb");const Jl={id:"top"},Ql=tr("img",{alt:"Vue logo",src:Jr},null,-1);$e();var Kl={expose:[],setup:t=>(t,e)=>(Gn(),Yn("div",Jl,[Ql,tr(Xl,{msg:"Vue Component with Local Button Count"})]))};ei("\n#top[data-v-3ae706cb] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n\n  width: 500px; height: 500px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-3ae706cb] {\n    box-sizing: content-box;\n}\nimg[data-v-3ae706cb] {\n    max-width: none;\n        display: inline;\n}\n"),Kl.__scopeId="data-v-3ae706cb";class tf extends $l{constructor(){super(Kl),this.isInteractive=!0}}var ef=function(){let t=new tf;return t.mount(),t};export{Wl as hubsTest1,ef as hubsTest2};
