/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isObject$1(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject$1(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return val == null
        ? ''
        : isObject$1(val)
            ? JSON.stringify(val, replacer, 2)
            : String(val);
};
const replacer = (_key, val) => {
    if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject$1(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};
const EMPTY_OBJ = {};
const EMPTY_ARR = [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject$1 = (val) => val !== null && typeof val === 'object';
const isPromise$1 = (val) => {
    return isObject$1(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

const targetMap = new WeakMap();
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol('');
const MAP_KEY_ITERATE_KEY = Symbol('');
function isEffect(fn) {
    return fn && fn._isEffect === true;
}
function effect(fn, options = EMPTY_OBJ) {
    if (isEffect(fn)) {
        fn = fn.raw;
    }
    const effect = createReactiveEffect(fn, options);
    if (!options.lazy) {
        effect();
    }
    return effect;
}
function stop(effect) {
    if (effect.active) {
        cleanup(effect);
        if (effect.options.onStop) {
            effect.options.onStop();
        }
        effect.active = false;
    }
}
let uid$2 = 0;
function createReactiveEffect(fn, options) {
    const effect = function reactiveEffect() {
        if (!effect.active) {
            return options.scheduler ? undefined : fn();
        }
        if (!effectStack.includes(effect)) {
            cleanup(effect);
            try {
                enableTracking();
                effectStack.push(effect);
                activeEffect = effect;
                return fn();
            }
            finally {
                effectStack.pop();
                resetTracking();
                activeEffect = effectStack[effectStack.length - 1];
            }
        }
    };
    effect.id = uid$2++;
    effect.allowRecurse = !!options.allowRecurse;
    effect._isEffect = true;
    effect.active = true;
    effect.raw = fn;
    effect.deps = [];
    effect.options = options;
    return effect;
}
function cleanup(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function enableTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = true;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (!shouldTrack || activeEffect === undefined) {
        return;
    }
    let depsMap = targetMap.get(target);
    if (!depsMap) {
        targetMap.set(target, (depsMap = new Map()));
    }
    let dep = depsMap.get(key);
    if (!dep) {
        depsMap.set(key, (dep = new Set()));
    }
    if (!dep.has(activeEffect)) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    const effects = new Set();
    const add = (effectsToAdd) => {
        if (effectsToAdd) {
            effectsToAdd.forEach(effect => {
                if (effect !== activeEffect || effect.allowRecurse) {
                    effects.add(effect);
                }
            });
        }
    };
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        depsMap.forEach(add);
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                add(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            add(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    add(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    add(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    const run = (effect) => {
        if (effect.options.scheduler) {
            effect.options.scheduler(effect);
        }
        else {
            effect();
        }
    };
    effects.forEach(run);
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);
const arrayInstrumentations = {};
['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        const arr = toRaw(this);
        for (let i = 0, l = this.length; i < l; i++) {
            track(arr, "get" /* GET */, i + '');
        }
        // we run the method using the original args first (which may be reactive)
        const res = method.apply(arr, args);
        if (res === -1 || res === false) {
            // if that didn't work, run it again using raw values.
            return method.apply(arr, args.map(toRaw));
        }
        else {
            return res;
        }
    };
});
['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        pauseTracking();
        const res = method.apply(this, args);
        resetTracking();
        return res;
    };
});
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key)
            ? builtInSymbols.has(key)
            : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - does not apply for Array + integer key.
            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
            return shouldUnwrap ? res.value : res;
        }
        if (isObject$1(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (!shallow) {
            value = toRaw(value);
            oldValue = toRaw(oldValue);
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});
// Props handlers are special in the sense that it should not unwrap top-level
// refs (in order to allow refs to be explicitly passed down), but should
// retain the reactivity of the normal readonly object.
extend({}, readonlyHandlers, {
    get: shallowReadonlyGet
});

const toReactive = (value) => isObject$1(value) ? reactive(value) : value;
const toReadonly = (value) => isObject$1(value) ? readonly(value) : value;
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "get" /* GET */, key);
    }
    !isReadonly && track(rawTarget, "get" /* GET */, rawKey);
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "has" /* HAS */, key);
    }
    !isReadonly && track(rawTarget, "has" /* HAS */, rawKey);
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
const mutableInstrumentations = {
    get(key) {
        return get$1(this, key);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
};
const shallowInstrumentations = {
    get(key) {
        return get$1(this, key, false, true);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
};
const readonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, false)
};
const shallowReadonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, true)
};
const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
iteratorMethods.forEach(method => {
    mutableInstrumentations[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations[method] = createIterableMethod(method, true, false);
    shallowInstrumentations[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (target && target["__v_isReadonly" /* IS_READONLY */]) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject$1(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only a whitelist of value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    return ((observed && toRaw(observed["__v_raw" /* RAW */])) || observed);
}
function isRef(r) {
    return Boolean(r && r.__v_isRef === true);
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
class ObjectRefImpl {
    constructor(_object, _key) {
        this._object = _object;
        this._key = _key;
        this.__v_isRef = true;
    }
    get value() {
        return this._object[this._key];
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key) {
    return isRef(object[key])
        ? object[key]
        : new ObjectRefImpl(object, key);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly) {
        this._setter = _setter;
        this._dirty = true;
        this.__v_isRef = true;
        this.effect = effect(getter, {
            lazy: true,
            scheduler: () => {
                if (!this._dirty) {
                    this._dirty = true;
                    trigger(toRaw(this), "set" /* SET */, 'value');
                }
            }
        });
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        if (self._dirty) {
            self._value = this.effect();
            self._dirty = false;
        }
        track(self, "get" /* GET */, 'value');
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed$1(getterOrOptions) {
    let getter;
    let setter;
    if (isFunction(getterOrOptions)) {
        getter = getterOrOptions;
        setter = NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);
}

const stack = [];
function warn(msg, ...args) {
    // avoid props formatting or warn handler tracking deps that might be mutated
    // during patch, leading to infinite recursion.
    pauseTracking();
    const instance = stack.length ? stack[stack.length - 1].component : null;
    const appWarnHandler = instance && instance.appContext.config.warnHandler;
    const trace = getComponentTrace();
    if (appWarnHandler) {
        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [
            msg + args.join(''),
            instance && instance.proxy,
            trace
                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)
                .join('\n'),
            trace
        ]);
    }
    else {
        const warnArgs = [`[Vue warn]: ${msg}`, ...args];
        /* istanbul ignore if */
        if (trace.length &&
            // avoid spamming console during tests
            !false) {
            warnArgs.push(`\n`, ...formatTrace(trace));
        }
        console.warn(...warnArgs);
    }
    resetTracking();
}
function getComponentTrace() {
    let currentVNode = stack[stack.length - 1];
    if (!currentVNode) {
        return [];
    }
    // we can't just use the stack because it will be incomplete during updates
    // that did not start from the root. Re-construct the parent chain using
    // instance parent pointers.
    const normalizedStack = [];
    while (currentVNode) {
        const last = normalizedStack[0];
        if (last && last.vnode === currentVNode) {
            last.recurseCount++;
        }
        else {
            normalizedStack.push({
                vnode: currentVNode,
                recurseCount: 0
            });
        }
        const parentInstance = currentVNode.component && currentVNode.component.parent;
        currentVNode = parentInstance && parentInstance.vnode;
    }
    return normalizedStack;
}
/* istanbul ignore next */
function formatTrace(trace) {
    const logs = [];
    trace.forEach((entry, i) => {
        logs.push(...(i === 0 ? [] : [`\n`]), ...formatTraceEntry(entry));
    });
    return logs;
}
function formatTraceEntry({ vnode, recurseCount }) {
    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
    const isRoot = vnode.component ? vnode.component.parent == null : false;
    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
    const close = `>` + postfix;
    return vnode.props
        ? [open, ...formatProps(vnode.props), close]
        : [open + close];
}
/* istanbul ignore next */
function formatProps(props) {
    const res = [];
    const keys = Object.keys(props);
    keys.slice(0, 3).forEach(key => {
        res.push(...formatProp(key, props[key]));
    });
    if (keys.length > 3) {
        res.push(` ...`);
    }
    return res;
}
/* istanbul ignore next */
function formatProp(key, value, raw) {
    if (isString(value)) {
        value = JSON.stringify(value);
        return raw ? value : [`${key}=${value}`];
    }
    else if (typeof value === 'number' ||
        typeof value === 'boolean' ||
        value == null) {
        return raw ? value : [`${key}=${value}`];
    }
    else if (isRef(value)) {
        value = formatProp(key, toRaw(value.value), true);
        return raw ? value : [`${key}=Ref<`, value, `>`];
    }
    else if (isFunction(value)) {
        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
    }
    else {
        value = toRaw(value);
        return raw ? value : [`${key}=`, value];
    }
}
function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise$1(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo = type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
const RECURSION_LIMIT = 100;
function nextTick(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(job) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue.length;
    const jobId = getId(job);
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue[middle]);
        middleJobId < jobId ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue.length ||
        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        const pos = findInsertionIndex(job);
        if (pos > -1) {
            queue.splice(pos, 0, job);
        }
        else {
            queue.push(job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue.indexOf(job);
    if (i > flushIndex) {
        queue.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue.sort((a, b) => getId(a) - getId(b));
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const job = queue[flushIndex];
            if (job) {
                if (("production" !== 'production')) ;
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue.length || pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}
function checkRecursiveUpdates(seen, fn) {
    if (!seen.has(fn)) {
        seen.set(fn, 1);
    }
    else {
        const count = seen.get(fn);
        if (count > RECURSION_LIMIT) {
            throw new Error(`Maximum recursive updates exceeded. ` +
                `This means you have a reactive effect that is mutating its own ` +
                `dependencies and thus recursively triggering itself. Possible sources ` +
                `include component template, render function, updated hook or ` +
                `watcher source function.`);
        }
        else {
            seen.set(fn, count + 1);
        }
    }
}

let devtools;
function setDevtoolsHook(hook) {
    devtools = hook;
}
function devtoolsInitApp(app, version) {
    // TODO queue if devtools is undefined
    if (!devtools)
        return;
    devtools.emit("app:init" /* APP_INIT */, app, version, {
        Fragment,
        Text,
        Comment,
        Static
    });
}
function devtoolsUnmountApp(app) {
    if (!devtools)
        return;
    devtools.emit("app:unmount" /* APP_UNMOUNT */, app);
}
const devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */);
const devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */);
const devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */);
function createDevtoolsComponentHook(hook) {
    return (component) => {
        if (!devtools)
            return;
        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);
    };
}
function devtoolsComponentEmit(component, event, params) {
    if (!devtools)
        return;
    devtools.emit("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}

function emit(instance, event, ...rawArgs) {
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        else if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    if (__VUE_PROD_DEVTOOLS__) {
        devtoolsComponentEmit(instance, event, args);
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            (instance.emitted = {})[handlerName] = true;
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    if (!appContext.deopt && comp.__emits !== undefined) {
        return comp.__emits;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        return (comp.__emits = null);
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    return (comp.__emits = normalized);
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

let isRenderingCompiledSlot = 0;
const setCompiledSlotRendering = (n) => (isRenderingCompiledSlot += n);

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Set scope id when creating hoisted vnodes.
 * @private compiler helper
 */
function pushScopeId(id) {
    currentScopeId = id;
}
/**
 * Technically we no longer need this after 3.0.8 but we need to keep the same
 * API for backwards compat w/ code generated by compilers.
 * @private
 */
function popScopeId() {
    currentScopeId = null;
}
/**
 * Only for backwards compat
 * @private
 */
const withScopeId = (_id) => withCtx;
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance) {
    if (!ctx)
        return fn;
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we need to push a null block to
        // avoid that. This isn't necessary if rendering a compiled `<slot>`.
        if (!isRenderingCompiledSlot) {
            openBlock(true /* null block that disables tracking */);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (!isRenderingCompiledSlot) {
            closeBlock();
        }
        return res;
    };
    // mark this as a compiled slot function.
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    return renderFnWithContext;
}

/**
 * dev only flag to track whether $attrs was used during render.
 * If $attrs was used during render then the warning for failed attrs
 * fallthrough can be suppressed.
 */
let accessedAttrs = false;
function markAttrsAccessed() {
    accessedAttrs = true;
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx } = instance;
    let result;
    const prev = setCurrentRenderingInstance(instance);
    try {
        let fallthroughAttrs;
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
        // attr merging
        // in dev mode, comments are preserved, and it's possible for a template
        // to have comments along side the root element which makes it a fragment
        let root = result;
        let setRoot = undefined;
        if (("production" !== 'production') &&
            result.patchFlag > 0 &&
            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) ;
        if (Component.inheritAttrs !== false && fallthroughAttrs) {
            const keys = Object.keys(fallthroughAttrs);
            const { shapeFlag } = root;
            if (keys.length) {
                if (shapeFlag & 1 /* ELEMENT */ ||
                    shapeFlag & 6 /* COMPONENT */) {
                    if (propsOptions && keys.some(isModelListener)) {
                        // If a v-model listener (onUpdate:xxx) has a corresponding declared
                        // prop, it indicates this component expects to handle v-model and
                        // it should not fallthrough.
                        // related: #1543, #1643, #1989
                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                    }
                    root = cloneVNode(root, fallthroughAttrs);
                }
                else if (("production" !== 'production') && !accessedAttrs && root.type !== Comment) ;
            }
        }
        // inherit directives
        if (vnode.dirs) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
        }
        // inherit transition data
        if (vnode.transition) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.transition = vnode.transition;
        }
        if (("production" !== 'production') && setRoot) ;
        else {
            result = root;
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment);
    }
    setCurrentRenderingInstance(prev);
    return result;
}
/**
 * dev only
 * In dev mode, template root level comments are rendered, which turns the
 * template into a fragment root, but we need to locate the single element
 * root for attrs and scope id processing.
 */
const getChildRoot = (vnode) => {
    const rawChildren = vnode.children;
    const dynamicChildren = vnode.dynamicChildren;
    const childRoot = filterSingleRoot(rawChildren);
    if (!childRoot) {
        return [vnode, undefined];
    }
    const index = rawChildren.indexOf(childRoot);
    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
    const setRoot = (updatedRoot) => {
        rawChildren[index] = updatedRoot;
        if (dynamicChildren) {
            if (dynamicIndex > -1) {
                dynamicChildren[dynamicIndex] = updatedRoot;
            }
            else if (updatedRoot.patchFlag > 0) {
                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];
            }
        }
    };
    return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
    let singleRoot;
    for (let i = 0; i < children.length; i++) {
        const child = children[i];
        if (isVNode(child)) {
            // ignore user comment
            if (child.type !== Comment || child.children === 'v-if') {
                if (singleRoot) {
                    // has more than 1 non-comment child, return now
                    return;
                }
                else {
                    singleRoot = child;
                }
            }
        }
        else {
            return;
        }
    }
    return singleRoot;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
const isElementRoot = (vnode) => {
    return (vnode.shapeFlag & 6 /* COMPONENT */ ||
        vnode.shapeFlag & 1 /* ELEMENT */ ||
        vnode.type === Comment // potential v-if branch switch
    );
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function normalizeSuspenseChildren(vnode) {
    const { shapeFlag, children } = vnode;
    let content;
    let fallback;
    if (shapeFlag & 32 /* SLOTS_CHILDREN */) {
        content = normalizeSuspenseSlot(children.default);
        fallback = normalizeSuspenseSlot(children.fallback);
    }
    else {
        content = normalizeSuspenseSlot(children);
        fallback = normalizeVNode(null);
    }
    return {
        content,
        fallback
    };
}
function normalizeSuspenseSlot(s) {
    if (isFunction(s)) {
        s = s();
    }
    if (isArray(s)) {
        const singleChild = filterSingleRoot(s);
        s = singleChild;
    }
    return normalizeVNode(s);
}
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                const key = propsToUpdate[i];
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        attrs[key] = value;
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance);
                    }
                }
                else {
                    attrs[key] = value;
                }
            }
        }
    }
    else {
        // full props update.
        setFullProps(instance, rawProps, props, attrs);
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawProps || EMPTY_OBJ, key, undefined, instance);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps || !hasOwn(rawProps, key)) {
                    delete attrs[key];
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    trigger(instance, "set" /* SET */, '$attrs');
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    if (rawProps) {
        for (const key in rawProps) {
            const value = rawProps[key];
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                props[camelKey] = value;
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                // Any non-declared (either as a prop or an emitted event) props are put
                // into a separate `attrs` object for spreading. Make sure to preserve
                // original key casing
                attrs[key] = value;
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, rawCurrentProps[key], instance);
        }
    }
}
function resolvePropValue(options, props, key, value, instance) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue(props);
                    setCurrentInstance(null);
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (!hasOwn(props, key) && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    if (!appContext.deopt && comp.__props) {
        return comp.__props;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        return (comp.__props = EMPTY_ARR);
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    return (comp.__props = [normalized, needCastKeys]);
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                setCurrentInstance(null);
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR
!isInSSRComponentSetup && injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
const onErrorCaptured = (hook, target = currentInstance) => {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
};
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {
    let getter;
    let forceTrigger = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = !!source._shallow;
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */, [
                    instance && instance.proxy
                ]);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */, [
                instance && instance.proxy
            ]);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onInvalidate = (fn) => {
        cleanup = runner.options.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    let oldValue = isArray(source) ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!runner.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = runner();
            if (deep || forceTrigger || hasChanged(newValue, oldValue)) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onInvalidate
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            runner();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job;
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => {
            if (!instance || instance.isMounted) {
                queuePreFlushCb(job);
            }
            else {
                // with 'pre' option, the first call must happen before
                // the component is mounted so it is called synchronously.
                job();
            }
        };
    }
    const runner = effect(getter, {
        lazy: true,
        onTrack,
        onTrigger,
        scheduler
    });
    recordInstanceBoundEffect(runner, instance);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = runner();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(runner, instance && instance.suspense);
    }
    else {
        runner();
    }
    return () => {
        stop(runner);
        if (instance) {
            remove(instance.effects, runner);
        }
    };
}
// this.$watch
function instanceWatch(source, cb, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? () => publicThis[source]
        : source.bind(publicThis);
    return doWatch(getter, cb.bind(publicThis), options, this);
}
function traverse(value, seen = new Set()) {
    if (!isObject$1(value) || seen.has(value)) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => withCtx((props) => {
    return normalizeSlotValue(rawSlot(props));
}, ctx);
const normalizeObjectSlots = (rawSlots, slots) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            instance.slots = children;
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        const hook = binding.dir[name];
        if (hook) {
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
        }
    }
}

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            isCustomElement: NO,
            errorHandler: undefined,
            warnHandler: undefined
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null)
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (rootProps != null && !isObject$1(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            version,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                if (__VUE_OPTIONS_API__) {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                        // global mixin with props/emits de-optimizes props/emits
                        // normalization caching.
                        if (mixin.props || mixin.emits) {
                            context.deopt = true;
                        }
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsInitApp(app, version);
                    }
                    return vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsUnmountApp(app);
                    }
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                // TypeScript doesn't allow symbols as index type
                // https://github.com/Microsoft/TypeScript/issues/24587
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * This is only called in esm-bundler builds.
 * It is called when a renderer is created, in `baseCreateRenderer` so that
 * importing runtime-core is side-effects free.
 *
 * istanbul-ignore-next
 */
function initFeatureFlags() {
    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {
        getGlobalThis().__VUE_OPTIONS_API__ = true;
    }
    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {
        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;
    }
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const prodEffectOptions = {
    scheduler: queueJob,
    // #1801, #2043 component render effects should allow recursive updates
    allowRecurse: true
};
const queuePostRenderEffect = queueEffectWithSuspense
    ;
const setRef = (rawRef, oldRawRef, parentSuspense, vnode) => {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode));
        return;
    }
    let value;
    if (!vnode) {
        // means unmount
        value = null;
    }
    else if (isAsyncWrapper(vnode)) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    else if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
        value = vnode.component.exposed || vnode.component.proxy;
    }
    else {
        value = vnode.el;
    }
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isString(ref)) {
        const doSet = () => {
            refs[ref] = value;
            if (hasOwn(setupState, ref)) {
                setupState[ref] = value;
            }
        };
        // #1789: for non-null values, set them after render
        // null values means this is unmount and it should not overwrite another
        // ref with the same key
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isRef(ref)) {
        const doSet = () => {
            ref.value = value;
        };
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else ;
};
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    // compile-time feature flags check
    {
        initFeatureFlags();
    }
    if (__VUE_PROD_DEVTOOLS__) {
        const target = getGlobalThis();
        target.__VUE__ = true;
        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);
    }
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (!isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            Object.defineProperty(el, '__vnode', {
                value: vnode,
                enumerable: false
            });
            Object.defineProperty(el, '__vueParentComponent', {
                value: parentComponent,
                enumerable: false
            });
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        if (next !== prev ||
                            (hostForcePatchProp && hostForcePatchProp(el, key))) {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // - In the case of a Fragment, we need to provide the actual parent
            // of the Fragment itself so it can move its children.
            oldVNode.type === Fragment ||
                // - In the case of different nodes, there is going to be a replacement
                // which also requires the correct parent container
                !isSameVNodeType(oldVNode, newVNode) ||
                // - In the case of a component, it could contain anything.
                oldVNode.shapeFlag & 6 /* COMPONENT */ ||
                oldVNode.shapeFlag & 64 /* TELEPORT */
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                if (next !== prev ||
                    (hostForcePatchProp && hostForcePatchProp(el, key))) {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        if (patchFlag > 0) {
            optimized = true;
        }
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        setupComponent(instance);
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect runner.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.component = n1.component;
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        // create reactive effect for rendering
        instance.update = effect(function componentEffect() {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if ((vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                const subTree = (instance.subTree = renderComponentRoot(instance));
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    hydrateNode(initialVNode.el, subTree, instance, parentSuspense, null);
                }
                else {
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if ((vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => {
                        invokeVNodeHook(vnodeHook, parent, scopedInitialVNode);
                    }, parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                const { a } = instance;
                if (a &&
                    initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
                    queuePostRenderEffect(a, parentSuspense);
                }
                instance.isMounted = true;
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentAdded(instance);
                }
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => {
                        invokeVNodeHook(vnodeHook, parent, next, vnode);
                    }, parentSuspense);
                }
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentUpdated(instance);
                }
            }
        }, prodEffectOptions);
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, null);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        let vnodeHook;
        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                (patchFlag & 128 /* KEYED_FRAGMENT */ ||
                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            removeFragment(el, anchor);
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, effects, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        if (effects) {
            for (let i = 0; i < effects.length; i++) {
                stop(effects[i]);
            }
        }
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            stop(update);
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentRemoved(instance);
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always moved so that need inherit el form previous nodes
 * to ensure correct moved position.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = ((u + v) / 2) | 0;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;
const NULL_DYNAMIC_COMPONENT = Symbol();

const Fragment = Symbol(undefined);
const Text = Symbol(undefined);
const Comment = Symbol(undefined);
const Static = Symbol(undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);
    // save current block children on the block vnode
    vnode.dynamicChildren = currentBlock || EMPTY_ARR;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref }
            : ref
        : null);
};
const createVNode = (_createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        if (isProxy(props) || InternalObjectKey in props) {
            props = extend({}, props);
        }
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject$1(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject$1(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    const vnode = {
        __v_isVNode: true,
        ["__v_skip" /* SKIP */]: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: null,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    normalizeChildren(vnode, children);
    // normalize suspense children
    if (shapeFlag & 128 /* SUSPENSE */) {
        const { content, fallback } = normalizeSuspenseChildren(vnode);
        vnode.ssContent = content;
        vnode.ssFallback = fallback;
    }
    if (// avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    return {
        __v_isVNode: true,
        ["__v_skip" /* SKIP */]: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children: children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: perserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, child);
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return child.el === null ? child : cloneVNode(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && setCompiledSlotRendering(1);
                normalizeChildren(vnode, slot());
                slot._c && setCompiledSlotRendering(-1);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.vnode.patchFlag & 1024 /* DYNAMIC_SLOTS */) {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
                else {
                    children._ = 1 /* STABLE */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = extend({}, args[0]);
    for (let i = 1; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (existing !== incoming) {
                    ret[key] = existing
                        ? [].concat(existing, toMerge[key])
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the intance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue()
                : defaultValue;
        }
        else ;
    }
}
let shouldCacheAccess = true;
function applyOptions(instance, options, deferredData = [], deferredWatch = [], deferredProvide = [], asMixin = false) {
    const { 
    // composition
    mixins, extends: extendsOptions, 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // assets
    components, directives, 
    // lifecycle
    beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, 
    // public API
    expose } = options;
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    const globalMixins = instance.appContext.mixins;
    if (asMixin && render && instance.render === NOOP) {
        instance.render = render;
    }
    // applyOptions is called non-as-mixin once per instance
    if (!asMixin) {
        shouldCacheAccess = false;
        callSyncHook('beforeCreate', "bc" /* BEFORE_CREATE */, options, instance, globalMixins);
        shouldCacheAccess = true;
        // global mixins are applied first
        applyMixins(instance, globalMixins, deferredData, deferredWatch, deferredProvide);
    }
    // extending a base component...
    if (extendsOptions) {
        applyOptions(instance, extendsOptions, deferredData, deferredWatch, deferredProvide, true);
    }
    // local mixins
    if (mixins) {
        applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide);
    }
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        if (isArray(injectOptions)) {
            for (let i = 0; i < injectOptions.length; i++) {
                const key = injectOptions[i];
                ctx[key] = inject(key);
            }
        }
        else {
            for (const key in injectOptions) {
                const opt = injectOptions[key];
                if (isObject$1(opt)) {
                    ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);
                }
                else {
                    ctx[key] = inject(opt);
                }
            }
        }
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,
                // and those are read-only but reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (!asMixin) {
        if (deferredData.length) {
            deferredData.forEach(dataFn => resolveData(instance, dataFn, publicThis));
        }
        if (dataOptions) {
            // @ts-ignore dataOptions is not fully type safe
            resolveData(instance, dataOptions, publicThis);
        }
    }
    else if (dataOptions) {
        deferredData.push(dataOptions);
    }
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                : NOOP;
            const c = computed({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        deferredWatch.push(watchOptions);
    }
    if (!asMixin && deferredWatch.length) {
        deferredWatch.forEach(watchOptions => {
            for (const key in watchOptions) {
                createWatcher(watchOptions[key], ctx, publicThis, key);
            }
        });
    }
    if (provideOptions) {
        deferredProvide.push(provideOptions);
    }
    if (!asMixin && deferredProvide.length) {
        deferredProvide.forEach(provideOptions => {
            const provides = isFunction(provideOptions)
                ? provideOptions.call(publicThis)
                : provideOptions;
            Reflect.ownKeys(provides).forEach(key => {
                provide(key, provides[key]);
            });
        });
    }
    // asset options.
    // To reduce memory usage, only components with mixins or extends will have
    // resolved asset registry attached to instance.
    if (asMixin) {
        if (components) {
            extend(instance.components ||
                (instance.components = extend({}, instance.type.components)), components);
        }
        if (directives) {
            extend(instance.directives ||
                (instance.directives = extend({}, instance.type.directives)), directives);
        }
    }
    // lifecycle options
    if (!asMixin) {
        callSyncHook('created', "c" /* CREATED */, options, instance, globalMixins);
    }
    if (beforeMount) {
        onBeforeMount(beforeMount.bind(publicThis));
    }
    if (mounted) {
        onMounted(mounted.bind(publicThis));
    }
    if (beforeUpdate) {
        onBeforeUpdate(beforeUpdate.bind(publicThis));
    }
    if (updated) {
        onUpdated(updated.bind(publicThis));
    }
    if (activated) {
        onActivated(activated.bind(publicThis));
    }
    if (deactivated) {
        onDeactivated(deactivated.bind(publicThis));
    }
    if (errorCaptured) {
        onErrorCaptured(errorCaptured.bind(publicThis));
    }
    if (renderTracked) {
        onRenderTracked(renderTracked.bind(publicThis));
    }
    if (renderTriggered) {
        onRenderTriggered(renderTriggered.bind(publicThis));
    }
    if (beforeUnmount) {
        onBeforeUnmount(beforeUnmount.bind(publicThis));
    }
    if (unmounted) {
        onUnmounted(unmounted.bind(publicThis));
    }
    if (isArray(expose)) {
        if (!asMixin) {
            if (expose.length) {
                const exposed = instance.exposed || (instance.exposed = proxyRefs({}));
                expose.forEach(key => {
                    exposed[key] = toRef(publicThis, key);
                });
            }
            else if (!instance.exposed) {
                instance.exposed = EMPTY_OBJ;
            }
        }
    }
}
function callSyncHook(name, type, options, instance, globalMixins) {
    for (let i = 0; i < globalMixins.length; i++) {
        callHookWithMixinAndExtends(name, type, globalMixins[i], instance);
    }
    callHookWithMixinAndExtends(name, type, options, instance);
}
function callHookWithMixinAndExtends(name, type, options, instance) {
    const { extends: base, mixins } = options;
    const selfHook = options[name];
    if (base) {
        callHookWithMixinAndExtends(name, type, base, instance);
    }
    if (mixins) {
        for (let i = 0; i < mixins.length; i++) {
            callHookWithMixinAndExtends(name, type, mixins[i], instance);
        }
    }
    if (selfHook) {
        callWithAsyncErrorHandling(selfHook.bind(instance.proxy), instance, type);
    }
}
function applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide) {
    for (let i = 0; i < mixins.length; i++) {
        applyOptions(instance, mixins[i], deferredData, deferredWatch, deferredProvide, true);
    }
}
function resolveData(instance, dataFn, publicThis) {
    shouldCacheAccess = false;
    const data = dataFn.call(publicThis, publicThis);
    shouldCacheAccess = true;
    if (!isObject$1(data)) ;
    else if (instance.data === EMPTY_OBJ) {
        instance.data = reactive(data);
    }
    else {
        // existing data: this is a mixin or extends.
        extend(instance.data, data);
    }
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject$1(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function resolveMergedOptions(instance) {
    const raw = instance.type;
    const { __merged, mixins, extends: extendsOptions } = raw;
    if (__merged)
        return __merged;
    const globalMixins = instance.appContext.mixins;
    if (!globalMixins.length && !mixins && !extendsOptions)
        return raw;
    const options = {};
    globalMixins.forEach(m => mergeOptions(options, m, instance));
    mergeOptions(options, raw, instance);
    return (raw.__merged = options);
}
function mergeOptions(to, from, instance) {
    const strats = instance.appContext.config.optionMergeStrategies;
    const { mixins, extends: extendsOptions } = from;
    extendsOptions && mergeOptions(to, extendsOptions, instance);
    mixins &&
        mixins.forEach((m) => mergeOptions(to, m, instance));
    for (const key in from) {
        if (strats && hasOwn(strats, key)) {
            to[key] = strats[key](to[key], from[key], instance.proxy, key);
        }
        else {
            to[key] = from[key];
        }
    }
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return i.exposed ? i.exposed : i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => (i.props),
    $attrs: i => (i.attrs),
    $slots: i => (i.slots),
    $refs: i => (i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),
    $forceUpdate: i => () => queueJob(i.update),
    $nextTick: i => nextTick.bind(i.proxy),
    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // let @vue/reactivity know it should never observe Vue public instances.
        if (key === "__v_skip" /* SKIP */) {
            return true;
        }
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 0 /* SETUP */:
                        return setupState[key];
                    case 1 /* DATA */:
                        return data[key];
                    case 3 /* CONTEXT */:
                        return ctx[key];
                    case 2 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 0 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 1 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 2 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 3 /* CONTEXT */;
                return ctx[key];
            }
            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {
                accessCache[key] = 4 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 3 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            return globalProperties[key];
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (accessCache[key] !== undefined ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    }
};
const RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {
    get(target, key) {
        // fast path for unscopables when using `with` block
        if (key === Symbol.unscopables) {
            return;
        }
        return PublicInstanceProxyHandlers.get(target, key, target);
    },
    has(_, key) {
        const has = key[0] !== '_' && !isGloballyWhitelisted(key);
        return has;
    }
});

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        update: null,
        render: null,
        proxy: null,
        exposed: null,
        withProxy: null,
        effects: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resovled assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit.bind(null, instance);
    return instance;
}
let currentInstance = null;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        currentInstance = instance;
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [instance.props, setupContext]);
        resetTracking();
        currentInstance = null;
        if (isPromise$1(setupResult)) {
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult);
        }
    }
    else {
        finishComponentSetup(instance);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        {
            instance.render = setupResult;
        }
    }
    else if (isObject$1(setupResult)) {
        // setup returned bindings.
        // assuming a render function compiled from template is present.
        if (__VUE_PROD_DEVTOOLS__) {
            instance.devtoolsRawSetupState = setupResult;
        }
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance);
}
function finishComponentSetup(instance, isSSR) {
    const Component = instance.type;
    // template / render function normalization
    if (!instance.render) {
        instance.render = (Component.render || NOOP);
        // for runtime-compiled render functions using `with` blocks, the render
        // proxy used needs a different `has` handler which is more performant and
        // also only allows a whitelist of globals to fallthrough.
        if (instance.render._rc) {
            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
        }
    }
    // support for 2.x options
    if (__VUE_OPTIONS_API__) {
        currentInstance = instance;
        pauseTracking();
        applyOptions(instance, Component);
        resetTracking();
        currentInstance = null;
    }
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = proxyRefs(exposed);
    };
    {
        return {
            attrs: instance.attrs,
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
// record effects created during a component's setup() so that they can be
// stopped when the component unmounts
function recordInstanceBoundEffect(effect, instance = currentInstance) {
    if (instance) {
        (instance.effects || (instance.effects = [])).push(effect);
    }
}
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');
function getComponentName(Component) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name;
}
/* istanbul ignore next */
function formatComponentName(instance, Component, isRoot = false) {
    let name = getComponentName(Component);
    if (!name && Component.__file) {
        const match = Component.__file.match(/([^/\\]+)\.\w+$/);
        if (match) {
            name = match[1];
        }
    }
    if (!name && instance && instance.parent) {
        // try to infer the name based on reverse resolution
        const inferFromRegistry = (registry) => {
            for (const key in registry) {
                if (registry[key] === Component) {
                    return key;
                }
            }
        };
        name =
            inferFromRegistry(instance.components ||
                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
    }
    return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

function computed(getterOrOptions) {
    const c = computed$1(getterOrOptions);
    recordInstanceBoundEffect(c.effect);
    return c;
}

// Core API ------------------------------------------------------------------
const version = "3.0.11";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
let tempContainer;
let tempSVGContainer;
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: innerHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG) {
        const temp = isSVG
            ? tempSVGContainer ||
                (tempSVGContainer = doc.createElementNS(svgNS, 'svg'))
            : tempContainer || (tempContainer = doc.createElement('div'));
        temp.innerHTML = content;
        const first = temp.firstChild;
        let node = first;
        let last = node;
        while (node) {
            last = node;
            nodeOps.insert(node, parent, anchor);
            node = temp.firstChild;
        }
        return [first, last];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    if (value == null) {
        value = '';
    }
    if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        // directly setting className should be faster than setAttribute in theory
        // if this is an element during a transition, take the temporary transition
        // classes into account.
        const transitionClasses = el._vtc;
        if (transitionClasses) {
            value = (value
                ? [value, ...transitionClasses]
                : [...transitionClasses]).join(' ');
        }
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    if (!next) {
        el.removeAttribute('style');
    }
    else if (isString(next)) {
        if (prev !== next) {
            const current = style.display;
            style.cssText = next;
            // indicates that the `display` of the element is controlled by `v-show`,
            // so we always keep the current `display` value regardless of the `style` value,
            // thus handing over control to `v-show`.
            if ('_vod' in el) {
                style.display = current;
            }
        }
    }
    else {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && value === false)) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' && el.tagName !== 'PROGRESS') {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
        return;
    }
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (value === '' && type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            el[key] = true;
            return;
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            el[key] = '';
            el.removeAttribute(key);
            return;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            el[key] = 0;
            el.removeAttribute(key);
            return;
        }
    }
    // some properties perform value validation and throw
    try {
        el[key] = value;
    }
    catch (e) {
    }
}

// Async edge case fix requires storing an event listener's attach timestamp.
let _getNow = Date.now;
let skipTimestampCheck = false;
if (typeof window !== 'undefined') {
    // Determine what event timestamp the browser is using. Annoyingly, the
    // timestamp can either be hi-res (relative to page load) or low-res
    // (relative to UNIX epoch), so in order to compare time we have to use the
    // same timestamp type when saving the flush timestamp.
    if (_getNow() > document.createEvent('Event').timeStamp) {
        // if the low-res timestamp which is bigger than the event timestamp
        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
        // and we need to use the hi-res version for event listeners as well.
        _getNow = () => performance.now();
    }
    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
    // and does not fire microtasks in between event propagation, so safe to exclude.
    const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
}
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p$1 = Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p$1.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const forcePatchProp = (_, key) => key === 'value';
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    switch (key) {
        // special
        case 'class':
            patchClass(el, nextValue, isSVG);
            break;
        case 'style':
            patchStyle(el, prevValue, nextValue);
            break;
        default:
            if (isOn(key)) {
                // ignore v-model listeners
                if (!isModelListener(key)) {
                    patchEvent(el, key, prevValue, nextValue, parentComponent);
                }
            }
            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {
                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
            }
            else {
                // special case for <input v-model type="checkbox"> with
                // :true-value & :false-value
                // store value as dom properties since non-string values will be
                // stringified.
                if (key === 'true-value') {
                    el._trueValue = nextValue;
                }
                else if (key === 'false-value') {
                    el._falseValue = nextValue;
                }
                patchAttr(el, key, nextValue, isSVG);
            }
            break;
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML
        if (key === 'innerHTML') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // spellcheck and draggable are numerated attrs, however their
    // corresponding DOM properties are actually booleans - this leads to
    // setting it with a string "false" value leading it to be coerced to
    // `true`, so we need to always treat them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var _imports_0 = "https://resources.realitymedia.digital/test-vue-app/dist/1a6ace377133f14a.png";

function getDevtoolsGlobalHook() {
    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;
}
function getTarget() {
    // @ts-ignore
    return typeof navigator !== 'undefined'
        ? window
        : typeof global !== 'undefined'
            ? global
            : {};
}

const HOOK_SETUP = 'devtools-plugin:setup';

function setupDevtoolsPlugin(pluginDescriptor, setupFn) {
    const hook = getDevtoolsGlobalHook();
    if (hook) {
        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);
    }
    else {
        const target = getTarget();
        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];
        list.push({
            pluginDescriptor,
            setupFn
        });
    }
}

/*!
 * vuex v4.0.1
 * (c) 2021 Evan You
 * @license MIT
 */

var storeKey = 'store';

/**
 * forEach for object
 */
function forEachValue (obj, fn) {
  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });
}

function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

function isPromise (val) {
  return val && typeof val.then === 'function'
}

function partial (fn, arg) {
  return function () {
    return fn(arg)
  }
}

function genericSubscribe (fn, subs, options) {
  if (subs.indexOf(fn) < 0) {
    options && options.prepend
      ? subs.unshift(fn)
      : subs.push(fn);
  }
  return function () {
    var i = subs.indexOf(fn);
    if (i > -1) {
      subs.splice(i, 1);
    }
  }
}

function resetStore (store, hot) {
  store._actions = Object.create(null);
  store._mutations = Object.create(null);
  store._wrappedGetters = Object.create(null);
  store._modulesNamespaceMap = Object.create(null);
  var state = store.state;
  // init all modules
  installModule(store, state, [], store._modules.root, true);
  // reset state
  resetStoreState(store, state, hot);
}

function resetStoreState (store, state, hot) {
  var oldState = store._state;

  // bind store public getters
  store.getters = {};
  // reset local getters cache
  store._makeLocalGettersCache = Object.create(null);
  var wrappedGetters = store._wrappedGetters;
  var computedObj = {};
  forEachValue(wrappedGetters, function (fn, key) {
    // use computed to leverage its lazy-caching mechanism
    // direct inline function use will lead to closure preserving oldState.
    // using partial to return function with only arguments preserved in closure environment.
    computedObj[key] = partial(fn, store);
    Object.defineProperty(store.getters, key, {
      // TODO: use `computed` when it's possible. at the moment we can't due to
      // https://github.com/vuejs/vuex/pull/1883
      get: function () { return computedObj[key](); },
      enumerable: true // for local getters
    });
  });

  store._state = reactive({
    data: state
  });

  // enable strict mode for new state
  if (store.strict) {
    enableStrictMode(store);
  }

  if (oldState) {
    if (hot) {
      // dispatch changes in all subscribed watchers
      // to force getter re-evaluation for hot reloading.
      store._withCommit(function () {
        oldState.data = null;
      });
    }
  }
}

function installModule (store, rootState, path, module, hot) {
  var isRoot = !path.length;
  var namespace = store._modules.getNamespace(path);

  // register in namespace map
  if (module.namespaced) {
    if (store._modulesNamespaceMap[namespace] && ("production" !== 'production')) {
      console.error(("[vuex] duplicate namespace " + namespace + " for the namespaced module " + (path.join('/'))));
    }
    store._modulesNamespaceMap[namespace] = module;
  }

  // set state
  if (!isRoot && !hot) {
    var parentState = getNestedState(rootState, path.slice(0, -1));
    var moduleName = path[path.length - 1];
    store._withCommit(function () {
      parentState[moduleName] = module.state;
    });
  }

  var local = module.context = makeLocalContext(store, namespace, path);

  module.forEachMutation(function (mutation, key) {
    var namespacedType = namespace + key;
    registerMutation(store, namespacedType, mutation, local);
  });

  module.forEachAction(function (action, key) {
    var type = action.root ? key : namespace + key;
    var handler = action.handler || action;
    registerAction(store, type, handler, local);
  });

  module.forEachGetter(function (getter, key) {
    var namespacedType = namespace + key;
    registerGetter(store, namespacedType, getter, local);
  });

  module.forEachChild(function (child, key) {
    installModule(store, rootState, path.concat(key), child, hot);
  });
}

/**
 * make localized dispatch, commit, getters and state
 * if there is no namespace, just use root ones
 */
function makeLocalContext (store, namespace, path) {
  var noNamespace = namespace === '';

  var local = {
    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
      }

      return store.dispatch(type, payload)
    },

    commit: noNamespace ? store.commit : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
      }

      store.commit(type, payload, options);
    }
  };

  // getters and state object must be gotten lazily
  // because they will be changed by state update
  Object.defineProperties(local, {
    getters: {
      get: noNamespace
        ? function () { return store.getters; }
        : function () { return makeLocalGetters(store, namespace); }
    },
    state: {
      get: function () { return getNestedState(store.state, path); }
    }
  });

  return local
}

function makeLocalGetters (store, namespace) {
  if (!store._makeLocalGettersCache[namespace]) {
    var gettersProxy = {};
    var splitPos = namespace.length;
    Object.keys(store.getters).forEach(function (type) {
      // skip if the target getter is not match this namespace
      if (type.slice(0, splitPos) !== namespace) { return }

      // extract local getter type
      var localType = type.slice(splitPos);

      // Add a port to the getters proxy.
      // Define as getter property because
      // we do not want to evaluate the getters in this time.
      Object.defineProperty(gettersProxy, localType, {
        get: function () { return store.getters[type]; },
        enumerable: true
      });
    });
    store._makeLocalGettersCache[namespace] = gettersProxy;
  }

  return store._makeLocalGettersCache[namespace]
}

function registerMutation (store, type, handler, local) {
  var entry = store._mutations[type] || (store._mutations[type] = []);
  entry.push(function wrappedMutationHandler (payload) {
    handler.call(store, local.state, payload);
  });
}

function registerAction (store, type, handler, local) {
  var entry = store._actions[type] || (store._actions[type] = []);
  entry.push(function wrappedActionHandler (payload) {
    var res = handler.call(store, {
      dispatch: local.dispatch,
      commit: local.commit,
      getters: local.getters,
      state: local.state,
      rootGetters: store.getters,
      rootState: store.state
    }, payload);
    if (!isPromise(res)) {
      res = Promise.resolve(res);
    }
    if (store._devtoolHook) {
      return res.catch(function (err) {
        store._devtoolHook.emit('vuex:error', err);
        throw err
      })
    } else {
      return res
    }
  });
}

function registerGetter (store, type, rawGetter, local) {
  if (store._wrappedGetters[type]) {
    return
  }
  store._wrappedGetters[type] = function wrappedGetter (store) {
    return rawGetter(
      local.state, // local state
      local.getters, // local getters
      store.state, // root state
      store.getters // root getters
    )
  };
}

function enableStrictMode (store) {
  watch(function () { return store._state.data; }, function () {
  }, { deep: true, flush: 'sync' });
}

function getNestedState (state, path) {
  return path.reduce(function (state, key) { return state[key]; }, state)
}

function unifyObjectStyle (type, payload, options) {
  if (isObject(type) && type.type) {
    options = payload;
    payload = type;
    type = type.type;
  }

  return { type: type, payload: payload, options: options }
}

var LABEL_VUEX_BINDINGS = 'vuex bindings';
var MUTATIONS_LAYER_ID = 'vuex:mutations';
var ACTIONS_LAYER_ID = 'vuex:actions';
var INSPECTOR_ID = 'vuex';

var actionId = 0;

function addDevtools (app, store) {
  setupDevtoolsPlugin(
    {
      id: 'org.vuejs.vuex',
      app: app,
      label: 'Vuex',
      homepage: 'https://next.vuex.vuejs.org/',
      logo: 'https://vuejs.org/images/icons/favicon-96x96.png',
      packageName: 'vuex',
      componentStateTypes: [LABEL_VUEX_BINDINGS]
    },
    function (api) {
      api.addTimelineLayer({
        id: MUTATIONS_LAYER_ID,
        label: 'Vuex Mutations',
        color: COLOR_LIME_500
      });

      api.addTimelineLayer({
        id: ACTIONS_LAYER_ID,
        label: 'Vuex Actions',
        color: COLOR_LIME_500
      });

      api.addInspector({
        id: INSPECTOR_ID,
        label: 'Vuex',
        icon: 'storage',
        treeFilterPlaceholder: 'Filter stores...'
      });

      api.on.getInspectorTree(function (payload) {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          if (payload.filter) {
            var nodes = [];
            flattenStoreForInspectorTree(nodes, store._modules.root, payload.filter, '');
            payload.rootNodes = nodes;
          } else {
            payload.rootNodes = [
              formatStoreForInspectorTree(store._modules.root, '')
            ];
          }
        }
      });

      api.on.getInspectorState(function (payload) {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          var modulePath = payload.nodeId;
          makeLocalGetters(store, modulePath);
          payload.state = formatStoreForInspectorState(
            getStoreModule(store._modules, modulePath),
            store._makeLocalGettersCache,
            modulePath
          );
        }
      });

      api.on.editInspectorState(function (payload) {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          var modulePath = payload.nodeId;
          var path = payload.path;
          if (modulePath !== 'root') {
            path = modulePath.split('/').filter(Boolean).concat( path);
          }
          store._withCommit(function () {
            payload.set(store._state.data, path, payload.state.value);
          });
        }
      });

      store.subscribe(function (mutation, state) {
        var data = {};

        if (mutation.payload) {
          data.payload = mutation.payload;
        }

        data.state = state;

        api.notifyComponentUpdate();
        api.sendInspectorTree(INSPECTOR_ID);
        api.sendInspectorState(INSPECTOR_ID);

        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: {
            time: Date.now(),
            title: mutation.type,
            data: data
          }
        });
      });

      store.subscribeAction({
        before: function (action, state) {
          var data = {};
          if (action.payload) {
            data.payload = action.payload;
          }
          action._id = actionId++;
          action._time = Date.now();
          data.state = state;

          api.addTimelineEvent({
            layerId: ACTIONS_LAYER_ID,
            event: {
              time: action._time,
              title: action.type,
              groupId: action._id,
              subtitle: 'start',
              data: data
            }
          });
        },
        after: function (action, state) {
          var data = {};
          var duration = Date.now() - action._time;
          data.duration = {
            _custom: {
              type: 'duration',
              display: (duration + "ms"),
              tooltip: 'Action duration',
              value: duration
            }
          };
          if (action.payload) {
            data.payload = action.payload;
          }
          data.state = state;

          api.addTimelineEvent({
            layerId: ACTIONS_LAYER_ID,
            event: {
              time: Date.now(),
              title: action.type,
              groupId: action._id,
              subtitle: 'end',
              data: data
            }
          });
        }
      });
    }
  );
}

// extracted from tailwind palette
var COLOR_LIME_500 = 0x84cc16;
var COLOR_DARK = 0x666666;
var COLOR_WHITE = 0xffffff;

var TAG_NAMESPACED = {
  label: 'namespaced',
  textColor: COLOR_WHITE,
  backgroundColor: COLOR_DARK
};

/**
 * @param {string} path
 */
function extractNameFromPath (path) {
  return path && path !== 'root' ? path.split('/').slice(-2, -1)[0] : 'Root'
}

/**
 * @param {*} module
 * @return {import('@vue/devtools-api').CustomInspectorNode}
 */
function formatStoreForInspectorTree (module, path) {
  return {
    id: path || 'root',
    // all modules end with a `/`, we want the last segment only
    // cart/ -> cart
    // nested/cart/ -> cart
    label: extractNameFromPath(path),
    tags: module.namespaced ? [TAG_NAMESPACED] : [],
    children: Object.keys(module._children).map(function (moduleName) { return formatStoreForInspectorTree(
        module._children[moduleName],
        path + moduleName + '/'
      ); }
    )
  }
}

/**
 * @param {import('@vue/devtools-api').CustomInspectorNode[]} result
 * @param {*} module
 * @param {string} filter
 * @param {string} path
 */
function flattenStoreForInspectorTree (result, module, filter, path) {
  if (path.includes(filter)) {
    result.push({
      id: path || 'root',
      label: path.endsWith('/') ? path.slice(0, path.length - 1) : path || 'Root',
      tags: module.namespaced ? [TAG_NAMESPACED] : []
    });
  }
  Object.keys(module._children).forEach(function (moduleName) {
    flattenStoreForInspectorTree(result, module._children[moduleName], filter, path + moduleName + '/');
  });
}

/**
 * @param {*} module
 * @return {import('@vue/devtools-api').CustomInspectorState}
 */
function formatStoreForInspectorState (module, getters, path) {
  getters = path === 'root' ? getters : getters[path];
  var gettersKeys = Object.keys(getters);
  var storeState = {
    state: Object.keys(module.state).map(function (key) { return ({
      key: key,
      editable: true,
      value: module.state[key]
    }); })
  };

  if (gettersKeys.length) {
    storeState.getters = gettersKeys.map(function (key) { return ({
      key: key.endsWith('/') ? extractNameFromPath(key) : key,
      editable: false,
      value: getters[key]
    }); });
  }

  return storeState
}

function getStoreModule (moduleMap, path) {
  var names = path.split('/').filter(function (n) { return n; });
  return names.reduce(
    function (module, moduleName, i) {
      var child = module[moduleName];
      if (!child) {
        throw new Error(("Missing module \"" + moduleName + "\" for path \"" + path + "\"."))
      }
      return i === names.length - 1 ? child : child._children
    },
    path === 'root' ? moduleMap : moduleMap.root._children
  )
}

// Base data struct for store's module, package with some attribute and method
var Module = function Module (rawModule, runtime) {
  this.runtime = runtime;
  // Store some children item
  this._children = Object.create(null);
  // Store the origin module object which passed by programmer
  this._rawModule = rawModule;
  var rawState = rawModule.state;

  // Store the origin module's state
  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};
};

var prototypeAccessors$1 = { namespaced: { configurable: true } };

prototypeAccessors$1.namespaced.get = function () {
  return !!this._rawModule.namespaced
};

Module.prototype.addChild = function addChild (key, module) {
  this._children[key] = module;
};

Module.prototype.removeChild = function removeChild (key) {
  delete this._children[key];
};

Module.prototype.getChild = function getChild (key) {
  return this._children[key]
};

Module.prototype.hasChild = function hasChild (key) {
  return key in this._children
};

Module.prototype.update = function update (rawModule) {
  this._rawModule.namespaced = rawModule.namespaced;
  if (rawModule.actions) {
    this._rawModule.actions = rawModule.actions;
  }
  if (rawModule.mutations) {
    this._rawModule.mutations = rawModule.mutations;
  }
  if (rawModule.getters) {
    this._rawModule.getters = rawModule.getters;
  }
};

Module.prototype.forEachChild = function forEachChild (fn) {
  forEachValue(this._children, fn);
};

Module.prototype.forEachGetter = function forEachGetter (fn) {
  if (this._rawModule.getters) {
    forEachValue(this._rawModule.getters, fn);
  }
};

Module.prototype.forEachAction = function forEachAction (fn) {
  if (this._rawModule.actions) {
    forEachValue(this._rawModule.actions, fn);
  }
};

Module.prototype.forEachMutation = function forEachMutation (fn) {
  if (this._rawModule.mutations) {
    forEachValue(this._rawModule.mutations, fn);
  }
};

Object.defineProperties( Module.prototype, prototypeAccessors$1 );

var ModuleCollection = function ModuleCollection (rawRootModule) {
  // register root module (Vuex.Store options)
  this.register([], rawRootModule, false);
};

ModuleCollection.prototype.get = function get (path) {
  return path.reduce(function (module, key) {
    return module.getChild(key)
  }, this.root)
};

ModuleCollection.prototype.getNamespace = function getNamespace (path) {
  var module = this.root;
  return path.reduce(function (namespace, key) {
    module = module.getChild(key);
    return namespace + (module.namespaced ? key + '/' : '')
  }, '')
};

ModuleCollection.prototype.update = function update$1 (rawRootModule) {
  update([], this.root, rawRootModule);
};

ModuleCollection.prototype.register = function register (path, rawModule, runtime) {
    var this$1$1 = this;
    if ( runtime === void 0 ) runtime = true;

  var newModule = new Module(rawModule, runtime);
  if (path.length === 0) {
    this.root = newModule;
  } else {
    var parent = this.get(path.slice(0, -1));
    parent.addChild(path[path.length - 1], newModule);
  }

  // register nested modules
  if (rawModule.modules) {
    forEachValue(rawModule.modules, function (rawChildModule, key) {
      this$1$1.register(path.concat(key), rawChildModule, runtime);
    });
  }
};

ModuleCollection.prototype.unregister = function unregister (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];
  var child = parent.getChild(key);

  if (!child) {
    return
  }

  if (!child.runtime) {
    return
  }

  parent.removeChild(key);
};

ModuleCollection.prototype.isRegistered = function isRegistered (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];

  if (parent) {
    return parent.hasChild(key)
  }

  return false
};

function update (path, targetModule, newModule) {

  // update target module
  targetModule.update(newModule);

  // update nested modules
  if (newModule.modules) {
    for (var key in newModule.modules) {
      if (!targetModule.getChild(key)) {
        return
      }
      update(
        path.concat(key),
        targetModule.getChild(key),
        newModule.modules[key]
      );
    }
  }
}

function createStore (options) {
  return new Store(options)
}

var Store = function Store (options) {
  var this$1$1 = this;
  if ( options === void 0 ) options = {};

  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];
  var strict = options.strict; if ( strict === void 0 ) strict = false;
  var devtools = options.devtools;

  // store internal state
  this._committing = false;
  this._actions = Object.create(null);
  this._actionSubscribers = [];
  this._mutations = Object.create(null);
  this._wrappedGetters = Object.create(null);
  this._modules = new ModuleCollection(options);
  this._modulesNamespaceMap = Object.create(null);
  this._subscribers = [];
  this._makeLocalGettersCache = Object.create(null);
  this._devtools = devtools;

  // bind commit and dispatch to self
  var store = this;
  var ref = this;
  var dispatch = ref.dispatch;
  var commit = ref.commit;
  this.dispatch = function boundDispatch (type, payload) {
    return dispatch.call(store, type, payload)
  };
  this.commit = function boundCommit (type, payload, options) {
    return commit.call(store, type, payload, options)
  };

  // strict mode
  this.strict = strict;

  var state = this._modules.root.state;

  // init root module.
  // this also recursively registers all sub-modules
  // and collects all module getters inside this._wrappedGetters
  installModule(this, state, [], this._modules.root);

  // initialize the store state, which is responsible for the reactivity
  // (also registers _wrappedGetters as computed properties)
  resetStoreState(this, state);

  // apply plugins
  plugins.forEach(function (plugin) { return plugin(this$1$1); });
};

var prototypeAccessors = { state: { configurable: true } };

Store.prototype.install = function install (app, injectKey) {
  app.provide(injectKey || storeKey, this);
  app.config.globalProperties.$store = this;

  var useDevtools = this._devtools !== undefined
    ? this._devtools
    : __VUE_PROD_DEVTOOLS__;

  if (useDevtools) {
    addDevtools(app, this);
  }
};

prototypeAccessors.state.get = function () {
  return this._state.data
};

prototypeAccessors.state.set = function (v) {
};

Store.prototype.commit = function commit (_type, _payload, _options) {
    var this$1$1 = this;

  // check object-style commit
  var ref = unifyObjectStyle(_type, _payload, _options);
    var type = ref.type;
    var payload = ref.payload;

  var mutation = { type: type, payload: payload };
  var entry = this._mutations[type];
  if (!entry) {
    return
  }
  this._withCommit(function () {
    entry.forEach(function commitIterator (handler) {
      handler(payload);
    });
  });

  this._subscribers
    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
    .forEach(function (sub) { return sub(mutation, this$1$1.state); });
};

Store.prototype.dispatch = function dispatch (_type, _payload) {
    var this$1$1 = this;

  // check object-style dispatch
  var ref = unifyObjectStyle(_type, _payload);
    var type = ref.type;
    var payload = ref.payload;

  var action = { type: type, payload: payload };
  var entry = this._actions[type];
  if (!entry) {
    return
  }

  try {
    this._actionSubscribers
      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
      .filter(function (sub) { return sub.before; })
      .forEach(function (sub) { return sub.before(action, this$1$1.state); });
  } catch (e) {
  }

  var result = entry.length > 1
    ? Promise.all(entry.map(function (handler) { return handler(payload); }))
    : entry[0](payload);

  return new Promise(function (resolve, reject) {
    result.then(function (res) {
      try {
        this$1$1._actionSubscribers
          .filter(function (sub) { return sub.after; })
          .forEach(function (sub) { return sub.after(action, this$1$1.state); });
      } catch (e) {
      }
      resolve(res);
    }, function (error) {
      try {
        this$1$1._actionSubscribers
          .filter(function (sub) { return sub.error; })
          .forEach(function (sub) { return sub.error(action, this$1$1.state, error); });
      } catch (e) {
      }
      reject(error);
    });
  })
};

Store.prototype.subscribe = function subscribe (fn, options) {
  return genericSubscribe(fn, this._subscribers, options)
};

Store.prototype.subscribeAction = function subscribeAction (fn, options) {
  var subs = typeof fn === 'function' ? { before: fn } : fn;
  return genericSubscribe(subs, this._actionSubscribers, options)
};

Store.prototype.watch = function watch$1 (getter, cb, options) {
    var this$1$1 = this;
  return watch(function () { return getter(this$1$1.state, this$1$1.getters); }, cb, Object.assign({}, options))
};

Store.prototype.replaceState = function replaceState (state) {
    var this$1$1 = this;

  this._withCommit(function () {
    this$1$1._state.data = state;
  });
};

Store.prototype.registerModule = function registerModule (path, rawModule, options) {
    if ( options === void 0 ) options = {};

  if (typeof path === 'string') { path = [path]; }

  this._modules.register(path, rawModule);
  installModule(this, this.state, path, this._modules.get(path), options.preserveState);
  // reset store to update getters...
  resetStoreState(this, this.state);
};

Store.prototype.unregisterModule = function unregisterModule (path) {
    var this$1$1 = this;

  if (typeof path === 'string') { path = [path]; }

  this._modules.unregister(path);
  this._withCommit(function () {
    var parentState = getNestedState(this$1$1.state, path.slice(0, -1));
    delete parentState[path[path.length - 1]];
  });
  resetStore(this);
};

Store.prototype.hasModule = function hasModule (path) {
  if (typeof path === 'string') { path = [path]; }

  return this._modules.isRegistered(path)
};

Store.prototype.hotUpdate = function hotUpdate (newOptions) {
  this._modules.update(newOptions);
  resetStore(this, true);
};

Store.prototype._withCommit = function _withCommit (fn) {
  var committing = this._committing;
  this._committing = true;
  fn();
  this._committing = committing;
};

Object.defineProperties( Store.prototype, prototypeAccessors );

/**
 * Reduce the code which written in Vue.js for getting the state.
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.
 * @param {Object}
 */
var mapState = normalizeNamespace(function (namespace, states) {
  var res = {};
  normalizeMap(states).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedState () {
      var state = this.$store.state;
      var getters = this.$store.getters;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapState', namespace);
        if (!module) {
          return
        }
        state = module.context.state;
        getters = module.context.getters;
      }
      return typeof val === 'function'
        ? val.call(this, state, getters)
        : state[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for dispatch the action
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapActions = normalizeNamespace(function (namespace, actions) {
  var res = {};
  normalizeMap(actions).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedAction () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // get dispatch function from store
      var dispatch = this.$store.dispatch;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);
        if (!module) {
          return
        }
        dispatch = module.context.dispatch;
      }
      return typeof val === 'function'
        ? val.apply(this, [dispatch].concat(args))
        : dispatch.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Normalize the map
 * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]
 * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]
 * @param {Array|Object} map
 * @return {Object}
 */
function normalizeMap (map) {
  if (!isValidMap(map)) {
    return []
  }
  return Array.isArray(map)
    ? map.map(function (key) { return ({ key: key, val: key }); })
    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })
}

/**
 * Validate whether given map is valid or not
 * @param {*} map
 * @return {Boolean}
 */
function isValidMap (map) {
  return Array.isArray(map) || isObject(map)
}

/**
 * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.
 * @param {Function} fn
 * @return {Function}
 */
function normalizeNamespace (fn) {
  return function (namespace, map) {
    if (typeof namespace !== 'string') {
      map = namespace;
      namespace = '';
    } else if (namespace.charAt(namespace.length - 1) !== '/') {
      namespace += '/';
    }
    return fn(namespace, map)
  }
}

/**
 * Search a special module from store by namespace. if module not exist, print error message.
 * @param {Object} store
 * @param {String} helper
 * @param {String} namespace
 * @return {Object}
 */
function getModuleByNamespace (store, helper, namespace) {
  var module = store._modulesNamespaceMap[namespace];
  return module
}

// defineProps({
//   msg: String
// })

var script$3 = {
    props: {
        msg: {
          type: String,
          required: true
        }
    },

    computed: mapState({
        count: state => state.count,
            // passing the string value 'count' is same as `state => state.count`
        countAlias: 'count',

    }),

    methods: {
        ...mapActions([
            'increment', // map `this.increment()` to `this.$store.dispatch('increment')`
        ]),

        inc() {
            this.increment();
            console.log(this.count);
        }
    },
    // setup (props) {

    // }
};

const _withId = /*#__PURE__*/withScopeId();

pushScopeId("data-v-74669348");
const _hoisted_1$3 = {
  "xr-layer": "",
  class: "fade"
};
const _hoisted_2$3 = /*#__PURE__*/createVNode("p", null, " Here's some more text just to make things not blank. ", -1 /* HOISTED */);
popScopeId();

const render = /*#__PURE__*/_withId((_ctx, _cache, $props, $setup, $data, $options) => {
  return (openBlock(), createBlock(Fragment, null, [
    createVNode("h1", _hoisted_1$3, toDisplayString($props.msg), 1 /* TEXT */),
    _hoisted_2$3,
    createVNode("button", {
      "xr-layer": "",
      onClick: _cache[1] || (_cache[1] = (...args) => ($options.inc && $options.inc(...args)))
    }, "count is: " + toDisplayString(_ctx.count), 1 /* TEXT */)
  ], 64 /* STABLE_FRAGMENT */))
});

function styleInject(css, ref) {
  if ( ref === void 0 ) ref = {};
  var insertAt = ref.insertAt;

  if (!css || typeof document === 'undefined') { return; }

  var head = document.head || document.getElementsByTagName('head')[0];
  var style = document.createElement('style');
  style.type = 'text/css';

  if (insertAt === 'top') {
    if (head.firstChild) {
      head.insertBefore(style, head.firstChild);
    } else {
      head.appendChild(style);
    }
  } else {
    head.appendChild(style);
  }

  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }
}

var css_248z$3 = "\na[data-v-74669348] {\n  color: #b542b9;\n}\n*[data-v-74669348] {\n    line-height : normal;\n}\n.fade[data-v-74669348] {\n  color: #9803a5;\n  /* transition: color 1s; */\n}\n.fade[data-v-74669348]:hover {\n  color: #a78e06;\n}\np[data-v-74669348] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-74669348] {\n      /* text-align: center; */\n\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-74669348] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n\n/* button :hover {\n    background-color: -internal-light-dark(rgb(150, 150, 150), rgb(121, 121, 121));\n} */\n";
styleInject(css_248z$3);

script$3.render = render;
script$3.__scopeId = "data-v-74669348";

pushScopeId("data-v-518ff234");
const _hoisted_1$2 = { id: "top" };
const _hoisted_2$2 = /*#__PURE__*/createVNode("img", {
  alt: "Vue logo",
  src: _imports_0
}, null, -1 /* HOISTED */);
popScopeId();


var script$2 = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1$2, [
    _hoisted_2$2,
    createVNode(script$3, { msg: "Some Text We passed to the SomeText Component" })
  ]))
}
}

};

var css_248z$2 = "\n#top[data-v-518ff234] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n  border: 5;\n  border-radius: 10px;\n  border-color: red;\n  width: 400px; height: 450px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-518ff234] {\n    box-sizing: content-box;\n}\nimg[data-v-518ff234] {\n    max-width: none;\n        display: inline;\n}\n";
styleInject(css_248z$2);

script$2.__scopeId = "data-v-518ff234";

var THREE$1 = THREE;

var t = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': THREE$1
});

class e{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e;}get width(){return this.x}set width(t){this.x=t;}get height(){return this.y}set height(t){this.y=t;}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*n+t.x,this.y=i*n+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}const r=[];for(let Oh=0;Oh<256;Oh++)r[Oh]=(Oh<16?"0":"")+Oh.toString(16);let n=1234567;const i={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return (r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]).toUpperCase()},clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return (t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return (1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(n=t%2147483647),n=16807*n%2147483647,(n-1)/2147483646},degToRad:function(t){return t*i.DEG2RAD},radToDeg:function(t){return t*i.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,r,n,i){const s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((e+n)/2),c=a((e+n)/2),l=s((e-n)/2),p=a((e-n)/2),f=s((n-e)/2),d=a((n-e)/2);switch(i){case"XYX":t.set(o*c,u*l,u*p,o*h);break;case"YZY":t.set(u*p,o*c,u*l,o*h);break;case"ZXZ":t.set(u*l,u*p,o*c,o*h);break;case"XZX":t.set(o*c,u*d,u*f,o*h);break;case"YXY":t.set(u*f,o*c,u*d,o*h);break;case"ZYZ":t.set(u*d,u*f,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i);}}};class s{constructor(t=0,e=0,r=0,n=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=r,this._w=n;}static slerp(t,e,r,n){return r.copy(t).slerp(e,n)}static slerpFlat(t,e,r,n,i,s,a){let o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3];const l=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(c!==d||o!==l||u!==p||h!==f){let t=1-a;const e=o*l+u*p+h*f+c*d,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,e*r);t=Math.sin(t*s)/i,a=Math.sin(a*s)/i;}const i=a*r;if(o=o*t+l*i,u=u*t+p*i,h=h*t+f*i,c=c*t+d*i,t===1-a){const t=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=t,u*=t,h*=t,c*=t;}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c;}static multiplyQuaternionsFlat(t,e,r,n,i,s){const a=r[n],o=r[n+1],u=r[n+2],h=r[n+3],c=i[s],l=i[s+1],p=i[s+2],f=i[s+3];return t[e]=a*f+h*c+o*p-u*l,t[e+1]=o*f+h*l+u*c-a*p,t[e+2]=u*f+h*p+a*l-o*c,t[e+3]=h*f-a*c-o*l-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback();}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback();}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback();}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback();}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,n=t._y,i=t._z,s=t._order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(n/2),c=a(i/2),l=o(r/2),p=o(n/2),f=o(i/2);switch(s){case"XYZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"YXZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"ZXY":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"ZYX":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"YZX":this._x=l*h*c+u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c-l*p*f;break;case"XZY":this._x=l*h*c-u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c+l*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s);}return !1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],s=e[1],a=e[5],o=e[9],u=e[2],h=e[6],c=e[10],l=r+a+c;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(h-o)*t,this._y=(i-u)*t,this._z=(s-n)*t;}else if(r>a&&r>c){const t=2*Math.sqrt(1+r-a-c);this._w=(h-o)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(i+u)/t;}else if(a>c){const t=2*Math.sqrt(1+a-r-c);this._w=(i-u)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(o+h)/t;}else {const t=2*Math.sqrt(1+c-r-a);this._w=(s-n)/t,this._x=(i+u)/t,this._y=(o+h)/t,this._z=.25*t;}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(i.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,s=t._w,a=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+s*a+n*u-i*o,this._y=n*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-n*a,this._w=s*h-r*a-n*o-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,s=this._w;let a=s*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),h=Math.atan2(u,a),c=Math.sin((1-e)*h)/u,l=Math.sin(e*h)/u;return this._w=s*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class a{constructor(t=0,e=0,r=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=r;}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(u.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(u.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,s=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*e+s*n-a*r,h=o*r+a*e-i*n,c=o*n+i*r-s*e,l=-i*e-s*r-a*n;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=n*o-i*a,this.y=i*s-r*o,this.z=r*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return o.copy(this).projectOnVector(t),this.sub(o)}reflect(t){return this.sub(o.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(i.clamp(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const o=new a,u=new s;class c{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u,h,c,l,p,f,d,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=r,y[12]=n,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=u,y[6]=h,y[10]=c,y[14]=l,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return (new c).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/l.setFromMatrixColumn(t,0).length(),i=1/l.setFromMatrixColumn(t,1).length(),s=1/l.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*s,e[9]=r[9]*s,e[10]=r[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,n=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-a*o,e[2]=i-t*u,e[6]=n+r*u,e[10]=s*o;}else if("YXZ"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t+i*a,e[4]=n*a-r,e[8]=s*u,e[1]=s*c,e[5]=s*h,e[9]=-a,e[2]=r*a-n,e[6]=i+t*a,e[10]=s*o;}else if("ZXY"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t-i*a,e[4]=-s*c,e[8]=n+r*a,e[1]=r+n*a,e[5]=s*h,e[9]=i-t*a,e[2]=-s*u,e[6]=a,e[10]=s*o;}else if("ZYX"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=n*u-r,e[8]=t*u+i,e[1]=o*c,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=a*o,e[10]=s*o;}else if("YZX"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=i-t*c,e[8]=n*c+r,e[1]=c,e[5]=s*h,e[9]=-a*h,e[2]=-u*h,e[6]=r*c+n,e[10]=t-i*c;}else if("XZY"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=t*c+i,e[5]=s*h,e[9]=r*c-n,e[2]=n*c-r,e[6]=a*h,e[10]=i*c+t;}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(f,t,d)}lookAt(t,e,r){const n=this.elements;return g.subVectors(t,e),0===g.lengthSq()&&(g.z=1),g.normalize(),m.crossVectors(r,g),0===m.lengthSq()&&(1===Math.abs(r.z)?g.x+=1e-4:g.z+=1e-4,g.normalize(),m.crossVectors(r,g)),m.normalize(),y.crossVectors(g,m),n[0]=m.x,n[4]=y.x,n[8]=g.x,n[1]=m.y,n[5]=y.y,n[9]=g.y,n[2]=m.z,n[6]=y.z,n[10]=g.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],p=r[13],f=r[2],d=r[6],m=r[10],y=r[14],g=r[3],v=r[7],x=r[11],w=r[15],b=n[0],_=n[4],M=n[8],E=n[12],N=n[1],S=n[5],T=n[9],O=n[13],z=n[2],A=n[6],C=n[10],R=n[14],D=n[3],k=n[7],I=n[11],L=n[15];return i[0]=s*b+a*N+o*z+u*D,i[4]=s*_+a*S+o*A+u*k,i[8]=s*M+a*T+o*C+u*I,i[12]=s*E+a*O+o*R+u*L,i[1]=h*b+c*N+l*z+p*D,i[5]=h*_+c*S+l*A+p*k,i[9]=h*M+c*T+l*C+p*I,i[13]=h*E+c*O+l*R+p*L,i[2]=f*b+d*N+m*z+y*D,i[6]=f*_+d*S+m*A+y*k,i[10]=f*M+d*T+m*C+y*I,i[14]=f*E+d*O+m*R+y*L,i[3]=g*b+v*N+x*z+w*D,i[7]=g*_+v*S+x*A+w*k,i[11]=g*M+v*T+x*C+w*I,i[15]=g*E+v*O+x*R+w*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],p=t[14];return t[3]*(+i*o*c-n*u*c-i*a*l+r*u*l+n*a*p-r*o*p)+t[7]*(+e*o*p-e*u*l+i*s*l-n*s*p+n*u*h-i*o*h)+t[11]*(+e*u*c-e*a*p-i*s*c+r*s*p+i*a*h-r*u*h)+t[15]*(-n*a*h-e*o*c+e*a*l+n*s*c-r*s*l+r*o*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}getInverse(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const r=this.elements,n=t.elements,i=n[0],s=n[1],a=n[2],o=n[3],u=n[4],h=n[5],c=n[6],l=n[7],p=n[8],f=n[9],d=n[10],m=n[11],y=n[12],g=n[13],v=n[14],x=n[15],w=f*v*l-g*d*l+g*c*m-h*v*m-f*c*x+h*d*x,b=y*d*l-p*v*l-y*c*m+u*v*m+p*c*x-u*d*x,_=p*g*l-y*f*l+y*h*m-u*g*m-p*h*x+u*f*x,M=y*f*c-p*g*c-y*h*d+u*g*d+p*h*v-u*f*v,E=i*w+s*b+a*_+o*M;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/E;return r[0]=w*N,r[1]=(g*d*o-f*v*o-g*a*m+s*v*m+f*a*x-s*d*x)*N,r[2]=(h*v*o-g*c*o+g*a*l-s*v*l-h*a*x+s*c*x)*N,r[3]=(f*c*o-h*d*o-f*a*l+s*d*l+h*a*m-s*c*m)*N,r[4]=b*N,r[5]=(p*v*o-y*d*o+y*a*m-i*v*m-p*a*x+i*d*x)*N,r[6]=(y*c*o-u*v*o-y*a*l+i*v*l+u*a*x-i*c*x)*N,r[7]=(u*d*o-p*c*o+p*a*l-i*d*l-u*a*m+i*c*m)*N,r[8]=_*N,r[9]=(y*f*o-p*g*o-y*s*m+i*g*m+p*s*x-i*f*x)*N,r[10]=(u*g*o-y*h*o+y*s*l-i*g*l-u*s*x+i*h*x)*N,r[11]=(p*h*o-u*f*o-p*s*l+i*f*l+u*s*m-i*h*m)*N,r[12]=M*N,r[13]=(p*g*a-y*f*a+y*s*d-i*g*d-p*s*v+i*f*v)*N,r[14]=(y*h*a-u*g*a-y*s*c+i*g*c+u*s*v-i*h*v)*N,r[15]=(u*f*a-p*h*a+p*s*c-i*f*c-u*s*d+i*h*d)*N,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-n*o,u*o+n*a,0,u*a+n*o,h*a+r,h*o-n*s,0,u*o-n*a,h*o+n*s,i*o*o+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r){return this.set(1,e,r,0,t,1,r,0,t,e,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,s=e._y,a=e._z,o=e._w,u=i+i,h=s+s,c=a+a,l=i*u,p=i*h,f=i*c,d=s*h,m=s*c,y=a*c,g=o*u,v=o*h,x=o*c,w=r.x,b=r.y,_=r.z;return n[0]=(1-(d+y))*w,n[1]=(p+x)*w,n[2]=(f-v)*w,n[3]=0,n[4]=(p-x)*b,n[5]=(1-(l+y))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(f+v)*_,n[9]=(m-g)*_,n[10]=(1-(l+d))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=l.set(n[0],n[1],n[2]).length();const s=l.set(n[4],n[5],n[6]).length(),a=l.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],p.copy(this);const o=1/i,u=1/s,h=1/a;return p.elements[0]*=o,p.elements[1]*=o,p.elements[2]*=o,p.elements[4]*=u,p.elements[5]*=u,p.elements[6]*=u,p.elements[8]*=h,p.elements[9]*=h,p.elements[10]*=h,e.setFromRotationMatrix(p),r.x=i,r.y=s,r.z=a,this}makePerspective(t,e,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,s){const a=this.elements,o=1/(e-t),u=1/(r-n),h=1/(s-i),c=(e+t)*o,l=(r+n)*u,p=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}const l=new a,p=new c,f=new a(0,0,0),d=new a(1,1,1),m=new a,y=new a,g=new a;new c;new s;const O=new e;class z{constructor(t,r){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new e(1/0,1/0),this.max=void 0!==r?r:new e(-1/0,-1/0);}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=O.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return void 0===r&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new e),r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,r){return void 0===r&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new e),r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return O.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}class A{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new a(1/0,1/0,1/0),this.max=void 0!==e?e:new a(-1/0,-1/0,-1/0);}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.length;o<u;o+=3){const u=t[o],h=t[o+1],c=t[o+2];u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromBufferAttribute(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.count;o<u;o++){const u=t.getX(o),h=t.getY(o),c=t.getZ(o);u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=D.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new a),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new a),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),k.copy(e.boundingBox),k.applyMatrix4(t.matrixWorld),this.union(k));const r=t.children;for(let n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new a),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,D),D.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return !1;this.getCenter(j),q.subVectors(this.max,j),I.subVectors(t.a,j),L.subVectors(t.b,j),B.subVectors(t.c,j),F.subVectors(L,I),P.subVectors(B,L),U.subVectors(I,B);let e=[0,-F.z,F.y,0,-P.z,P.y,0,-U.z,U.y,F.z,0,-F.x,P.z,0,-P.x,U.z,0,-U.x,-F.y,F.x,0,-P.y,P.x,0,-U.y,U.x,0];return !!C(e,I,L,B,q)&&(e=[1,0,0,0,1,0,0,0,1],!!C(e,I,L,B,q)&&(H.crossVectors(F,P),e=[H.x,H.y,H.z],C(e,I,L,B,q)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new a),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return D.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(D).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(R[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),R[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),R[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),R[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),R[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),R[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),R[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),R[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(R)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function C(t,e,r,n,i){for(let s=0,a=t.length-3;s<=a;s+=3){V.fromArray(t,s);const a=i.x*Math.abs(V.x)+i.y*Math.abs(V.y)+i.z*Math.abs(V.z),o=e.dot(V),u=r.dot(V),h=n.dot(V);if(Math.max(-Math.max(o,u,h),Math.min(o,u,h))>a)return !1}return !0}const R=[new a,new a,new a,new a,new a,new a,new a,new a],D=new a,k=new A,I=new a,L=new a,B=new a,F=new a,P=new a,U=new a,j=new a,q=new a,H=new a,V=new a;new a;new a;new a;new a;new a;new a;new a;new a;new a;class rt{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u){const h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return (new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],p=r[5],f=r[8],d=n[0],m=n[3],y=n[6],g=n[1],v=n[4],x=n[7],w=n[2],b=n[5],_=n[8];return i[0]=s*d+a*g+o*w,i[3]=s*m+a*v+o*b,i[6]=s*y+a*x+o*_,i[1]=u*d+h*g+c*w,i[4]=u*m+h*v+c*b,i[7]=u*y+h*x+c*_,i[2]=l*d+p*g+f*w,i[5]=l*m+p*v+f*b,i[8]=l*y+p*x+f*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*s*h-e*a*u-r*i*h+r*a*o+n*i*u-n*s*o}getInverse(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const r=t.elements,n=this.elements,i=r[0],s=r[1],a=r[2],o=r[3],u=r[4],h=r[5],c=r[6],l=r[7],p=r[8],f=p*u-h*l,d=h*c-p*o,m=l*o-u*c,y=i*f+s*d+a*m;if(0===y)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return n[0]=f*g,n[1]=(a*l-p*s)*g,n[2]=(h*s-a*u)*g,n[3]=d*g,n[4]=(p*i-a*c)*g,n[5]=(a*o-h*i)*g,n[6]=m*g,n[7]=(s*c-l*i)*g,n[8]=(u*i-s*o)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).getInverse(this).transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,s,a){const o=Math.cos(i),u=Math.sin(i);this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-n*u,n*o,-n*(-u*s+o*a)+a+e,0,0,1);}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*s+r*u,n[6]=e*a+r*h,n[1]=-r*i+e*o,n[4]=-r*s+e*u,n[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}}new a;new a;new rt;Object.freeze(new e(0,0));Object.freeze(new e(1,1));Object.freeze(new a(0,0,0));Object.freeze(new a(1,0,0));Object.freeze(new a(0,1,0));Object.freeze(new a(0,0,1));Object.freeze(new a(1,1,1));Object.freeze(new s);({RIGHT:Object.freeze(new a(1,0,0)),UP:Object.freeze(new a(0,1,0)),NEAR:Object.freeze(new a(0,0,1)),LEFT:Object.freeze(new a(-1,0,0)),DOWN:Object.freeze(new a(0,-1,0)),FAR:Object.freeze(new a(0,0,-1))});new a;(()=>{const t=2*Math.PI,e=new a(0,0,1),r=new s,n=new s,i=new a,o=new s;return function(s=1,a=1){var u=(Math.random()-.5)*t*s,h=Math.random()*t,c=Math.random()*Math.PI*a;return i.set(1,0,0).applyAxisAngle(e,h),r.setFromAxisAngle(e,u),n.setFromAxisAngle(i,c),o.multiplyQuaternions(n,r)}})();(()=>{const t=new a;return function(e,r,n){const i=t.set(e.x,e.y,e.z),s=r.dot(i),a=t.copy(r).multiplyScalar(s),o=n.set(a.x,a.y,a.z,e.w).normalize();return s<0&&(o.x=-o.x,o.y=-o.y,o.z=-o.z,o.w=-o.w),o}})();new z,new z,new e,new e;new a,new a,new a,new a,new a,new a,new a;var Xt=function(t){return function(e){return 1-t(1-e)}},Qt=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},Jt=Xt,Kt=Qt,te=function(t){return function(e){return Math.pow(e,t)}},ee=function(t){return function(e){return e*e*((t+1)*e-t)}},re=function(t){var e=ee(t);return function(t){return (t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ne=te(2),ie=Xt(ne),se=Qt(ne),ae=function(t){return 1-Math.sin(Math.acos(t))},oe=Xt(ae),ue=Qt(oe),he=ee(1.525),ce=Xt(he),le=Qt(he),pe=re(1.525),fe=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},de="undefined"!=typeof Float32Array,me=function(t,e){return 1-3*e+3*t},ye=function(t,e){return 3*e-6*t},ge=function(t){return 3*t},ve=function(t,e,r){return 3*me(e,r)*t*t+2*ye(e,r)*t+ge(e)},xe=function(t,e,r){return ((me(e,r)*t+ye(e,r))*t+ge(e))*t};Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:Xt,mirrored:Qt,createReversedEasing:Jt,createMirroredEasing:Kt,createExpoIn:te,createBackIn:ee,createAnticipateEasing:re,linear:function(t){return t},easeIn:ne,easeOut:ie,easeInOut:se,circIn:ae,circOut:oe,circInOut:ue,backIn:he,backOut:ce,backInOut:le,anticipate:pe,bounceOut:fe,bounceIn:function(t){return 1-fe(1-t)},bounceInOut:function(t){return t<.5?.5*(1-fe(1-2*t)):.5*fe(2*t-1)+.5},cubicBezier:function(t,e,r,n){var i=de?new Float32Array(11):new Array(11),s=function(e){for(var n,s,a,o=0,u=1;10!==u&&i[u]<=e;++u)o+=.1;return --u,n=(e-i[u])/(i[u+1]-i[u]),(a=ve(s=o+.1*n,t,r))>=.001?function(e,n){for(var i=0,s=0;i<8;++i){if(0===(s=ve(n,t,r)))return n;n-=(xe(n,t,r)-e)/s;}return n}(e,s):0===a?s:function(e,n,i){var s,a,o=0;do{(s=xe(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a;}while(Math.abs(s)>1e-7&&++o<10);return a}(e,o,o+.1)};return function(){for(var e=0;e<11;++e)i[e]=xe(.1*e,t,r);}(),function(i){return t===e&&r===n?i:0===i?0:1===i?1:xe(s(i),e,n)}}});function Te(t){return "number"==typeof t}function Oe(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function ze(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Ae(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Ce(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Re(t){return "string"==typeof t}var De=Array.isArray;function ke(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ie(t){return Array.isArray(t)||ke(t)}function Le(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Be(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Fe(t){return t&&!0===t.constructor.prototype.isRange||!1}function Pe(t){return t&&!0===t.constructor.prototype.isIndex||!1}function Ue(t){return "boolean"==typeof t}function je(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function qe(t){return t&&!0===t.constructor.prototype.isHelp||!1}function He(t){return "function"==typeof t}function Ve(t){return t instanceof Date}function $e(t){return t instanceof RegExp}function Ge(t){return !(!t||"object"!=typeof t||t.constructor!==Object||ze(t)||Ae(t))}function We(t){return null===t}function Ye(t){return void 0===t}function Ze(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function Xe(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function Qe(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Je(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function Ke(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function tr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function er(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function rr(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function nr(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function ir(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function sr(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function ar(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function or(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function ur(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function hr(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function cr(t){return t&&!0===t.constructor.prototype.isChain||!1}function lr(t){var e=typeof t;return "object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":Oe(t)?"BigNumber":ze(t)?"Complex":Ae(t)?"Fraction":ke(t)?"Matrix":Ce(t)?"Unit":Pe(t)?"Index":Fe(t)?"Range":je(t)?"ResultSet":ir(t)?t.type:cr(t)?"Chain":qe(t)?"Help":"Object":"function"===e?"Function":e}function pr(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return pr(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Oe(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return fr(t,pr)}function fr(t,e){var r={};for(var n in t)wr(t,n)&&(r[n]=e(t[n]));return r}function dr(t,e){for(var r in e)wr(e,r)&&(t[r]=e[r]);return t}function yr(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e))return !1;if(t.length!==e.length)return !1;for(n=0,i=t.length;n<i;n++)if(!yr(t[n],e[n]))return !1;return !0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return !1;for(r in t)if(!(r in e)||!yr(t[r],e[r]))return !1;for(r in e)if(!(r in t)||!yr(t[r],e[r]))return !1;return !0}return t===e}function wr(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Sr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zr=function(){function t(){return !0}function e(){return !1}function r(){}function n(){var i=[{name:"number",test:function(t){return "number"==typeof t}},{name:"string",test:function(t){return "string"==typeof t}},{name:"boolean",test:function(t){return "boolean"==typeof t}},{name:"Function",test:function(t){return "function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return "object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],u={types:i,conversions:o,ignore:a};function h(t){var e=Y(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=Y(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=Y(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim();}else {if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e;}var i=r.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function f(t,e){var r=l(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(M);return (t.restParam?"...":"")+e.join("|")})).join(",")}function m(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(U).filter(F),i=C(e,n),s=n.map((function(t){var e=h(t);return {name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var r=h(t.from);return {name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return {types:s.concat(a),restParam:r}}function y(t,e,r){var n=[];return ""!==t.trim()&&(n=t.split(",").map(P).map((function(t,e,n){var i=m(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),n.some(q)?null:{params:n,fn:e}}function g(t){var e=V(t);return !!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function x(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){var r=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(t){return r(t)||n(t)}}var i=e.types.map((function(t){return h(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return !0;return !1}}return t}function w(t){var e,r,n;if(g(t)){var i=(e=H(t).map(x)).length,s=x(V(t)),a=function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return !1;return !0};return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=x(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=x(t[0]),n=x(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(x),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:g(t.params)?V(t.params):null}function _(t,e,r){var n=b(t,e);return (n?r?n.types.filter(E):n.types:[]).map(M)}function M(t){return t.name}function E(t){return null===t.conversion||void 0===t.conversion}function N(t,e){var r=Z(X(t,(function(t){return _(t,e,!1)})));return -1!==r.indexOf("any")?["any"]:r}function S(t,e,r){var n,i,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var u=o.filter((function(t){var r=x(b(t,s));return (s<t.params.length||g(t.params))&&r(e[s])}));if(0===u.length){if((i=N(o,s)).length>0){var h=l(e[s]);return (n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+h+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:h,expected:i},n}}else o=u;}var c=o.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=N(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},n)}function T(t){for(var e=999,r=0;r<t.types.length;r++)E(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function O(t){for(var e=999,r=0;r<t.types.length;r++)E(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function z(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=v(t)-v(e))||0!=(r=T(t)-T(e))?r:O(t)-O(e)}function A(t,e){var r,n,i=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(v)-e.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(t.params[r])-v(e.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=z(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function C(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t);})),Object.keys(r).map((function(t){return r[t]}))}function R(t,e){var r=e;if(t.some(v)){var n=g(t),i=t.map(D);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=i[s](arguments[s]);return n&&(t[r]=arguments[r].map(i[r])),e.apply(this,t)};}var s=r;if(g(t)){var a=t.length-1;s=function(){return r.apply(this,$(arguments,0,a).concat([$(arguments,a)]))};}return s}function D(t){var e,r,n,i,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(h(t.conversion.from).test),a.push(t.conversion.convert));})),a.length){case 0:return function(t){return t};case 1:return e=s[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=s[0],r=s[1],n=a[0],i=a[1],function(t){return e(t)?n(t):r(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(r){e[d(r)]=t.fn;}));})),e}function I(t,e){function r(t,n,i){if(n<t.length){var s,a=t[n],o=e?a.types.filter(E):a.types;if(a.restParam){var u=o.filter(E);s=u.length<o.length?[u,o]:[o];}else s=o.map((function(t){return [t]}));return X(s,(function(e){return r(t,n+1,i.concat([e]))}))}return [i.map((function(e,r){return {types:e,restParam:r===t.length-1&&g(t)}}))]}return r(t,0,[])}function L(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!W(_(t,n,!0),_(e,n,!0)))return !1;var i=t.params.length,s=e.params.length,a=g(t.params),o=g(e.params);return a?o?i===s:s>=i:o?i>=s:i===s}function B(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(t){return y(t,n[t],u.conversions)})).filter(j).forEach((function(t){var e=Y(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t);}));var s=X(i,(function(t){return (t?I(t.params,!1):[]).map((function(e){return {params:e,fn:t.fn}}))})).filter(j);s.sort(A);var a=s[0]&&s[0].params.length<=2&&!g(s[0].params),o=s[1]&&s[1].params.length<=2&&!g(s[1].params),h=s[2]&&s[2].params.length<=2&&!g(s[2].params),c=s[3]&&s[3].params.length<=2&&!g(s[3].params),l=s[4]&&s[4].params.length<=2&&!g(s[4].params),p=s[5]&&s[5].params.length<=2&&!g(s[5].params),f=a&&o&&h&&c&&l&&p,m=s.map((function(t){return w(t.params)})),v=a?x(s[0].params[0]):e,b=o?x(s[1].params[0]):e,_=h?x(s[2].params[0]):e,M=c?x(s[3].params[0]):e,E=l?x(s[4].params[0]):e,N=p?x(s[5].params[0]):e,T=a?x(s[0].params[1]):e,O=o?x(s[1].params[1]):e,z=h?x(s[2].params[1]):e,C=c?x(s[3].params[1]):e,D=l?x(s[4].params[1]):e,B=p?x(s[5].params[1]):e,F=s.map((function(t){return R(t.params,t.fn)})),P=a?F[0]:r,U=o?F[1]:r,q=h?F[2]:r,H=c?F[3]:r,V=l?F[4]:r,$=p?F[5]:r,G=a?s[0].params.length:-1,W=o?s[1].params.length:-1,Z=h?s[2].params.length:-1,Q=c?s[3].params.length:-1,J=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=f?6:0,et=s.length,rt=function(){for(var e=tt;e<et;e++)if(m[e](arguments))return F[e].apply(this,arguments);throw S(t,arguments,s)},nt=function t(e,r){return arguments.length===G&&v(e)&&T(r)?P.apply(t,arguments):arguments.length===W&&b(e)&&O(r)?U.apply(t,arguments):arguments.length===Z&&_(e)&&z(r)?q.apply(t,arguments):arguments.length===Q&&M(e)&&C(r)?H.apply(t,arguments):arguments.length===J&&E(e)&&D(r)?V.apply(t,arguments):arguments.length===K&&N(e)&&B(r)?$.apply(t,arguments):rt.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t});}catch(it){}return nt.signatures=k(s),nt}function F(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function U(t){return !!t}function j(t){return null!==t}function q(t){return 0===t.types.length}function H(t){return t.slice(0,t.length-1)}function V(t){return t[t.length-1]}function $(t,e,r){return Array.prototype.slice.call(t,e,r)}function G(t,e){return -1!==t.indexOf(e)}function W(t,e){for(var r=0;r<t.length;r++)if(G(e,t[r]))return !0;return !1}function Y(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function Z(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}function X(t,e){return Array.prototype.concat.apply([],t.map(e))}function Q(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function J(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw (e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else {if("string"!=typeof s.signature)throw (e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;n(s.signature,s),r[s.signature]=s;}}return r}return (u=B("typed",{"string, Object":B,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return B(Q(e),t)},"...Function":function(t){return B(Q(t),J(t))},"string, ...Function":function(t,e){return B(t,J(e))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=f,u.find=p,u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t);},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t);},u}return n()}();function Ar(t){return "boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var Cr=Math.sign||function(t){return t>0?1:t<0?-1:0};function Rr(t,e){if("function"==typeof e)return e(t);if(t===1/0)return "Infinity";if(t===-1/0)return "-Infinity";if(isNaN(t))return "NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),Te(e)?r=e:Te(e.precision)&&(r=e.precision)),n){case"fixed":return kr(t,r);case"exponential":return Ir(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Lr(Dr(t),e),n=r.exponent,i=r.coefficients,s=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Te(e))for(;e>i.length||n-s+1>i.length;)i.push(0);else for(var a=Math.abs(n-s)-(i.length-1),o=0;o<a;o++)i.push(0);var u=Math.abs(n-s),h=1;for(;u>0;)h++,u--;var c=i.slice(h).join(""),l=Te(e)&&c.length||c.match(/[1-9]/)?"."+c:"",p=i.slice(0,h).join("")+l+"e"+(n>=0?"+":"")+s.toString();return r.sign+p}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=Dr(t),a=e?Lr(s,e):s;if(a.exponent<n||a.exponent>=i)return Ir(t,e);var o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(Br(e-o.length))),o=o.concat(Br(u-o.length+1+(o.length<e?e-o.length:0)));var h=u>0?u:0;return h<(o=Br(-u).concat(o)).length-1&&o.splice(h+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Dr(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function kr(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Dr(t),n="number"==typeof e?Lr(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(Br(a-i.length))),s<0&&(i=Br(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function Ir(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Dr(t),n=e?Lr(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(Br(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function Lr(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}return r}function Br(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var Fr=Number.EPSILON||2220446049250313e-31;function Pr(t,e,r){if(null==r)return t===e;if(t===e)return !0;if(isNaN(t)||isNaN(e))return !1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Fr||n<=Math.max(Math.abs(t),Math.abs(e))*r}return !1}function Ur(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return jr(t,r);case"engineering":return function(t,e){var r=t.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);-1!==s.indexOf("e")&&(s=i.toString());return s+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return "0";var a=t.toSignificantDigits(r),o=a.e;return (o>=i&&o<s?a.toFixed():jr(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function jr(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function qr(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function Hr(t,e){return "number"==typeof t?Rr(t,e):Oe(t)?Ur(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?Gr(t,e):Re(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((r=>'"'+r+'": '+Hr(t[r],e))).join(", ")+"}":String(t)}function Vr(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return '"'+r+'"'}function $r(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gr(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=Gr(t[i],e);return r+="]"}return Hr(t,e)}function Wr(t,e,r){if(!(this instanceof Wr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack;}function Yr(t,e,r){if(!(this instanceof Yr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack;}function Zr(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Xr(t,e,r){var n,i=t.length;if(i!==e[r])throw new Wr(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new Wr(e.length-1,e.length,"<");Xr(t[n],e,s);}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Wr(e.length+1,e.length,">")}function Qr(t,e){if(0===e.length){if(Array.isArray(t))throw new Wr(t.length,0)}else Xr(t,e,0);}function Jr(t,e){if(!Te(t)||!Ar(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Yr(t,e)}function Kr(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Te(t)||!Ar(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Hr(e)+")")})),tn(t,e,0,void 0!==r?r:0),t}function tn(t,e,r,n){var i,s,a=t.length,o=e[r],u=Math.min(a,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),tn(s,e,h,n);for(i=u;i<o;i++)s=[],t[i]=s,tn(s,e,h,n);}else {for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n;}}function en(t,e){var r,n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r);})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Wr(0,i(Zr(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(n.length!==s)throw new Wr(i(e),i(Zr(t)),"!=");try{r=function(t,e){for(var r,n=t,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r;}return n}(n,e);}catch(o){if(o instanceof Wr)throw new Wr(i(e),i(Zr(t)),"!=");throw o}return r}function rn(t,e,r,n){var i=n||Zr(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=nn(t,e,0);i.length<e;)i.push(1);return t}function nn(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=nn(t[n],e,s);}else for(var a=r;a<e;a++)t=[t];return t}function sn(t,e){return Array.prototype.map.call(t,e)}function an(t,e){Array.prototype.forEach.call(t,e);}function on(t,e){return Array.prototype.join.call(t,e)}function un(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?un(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return "mixed"}return r}function cn(t,e,r,n){function i(n){var i=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];void 0!==s&&(r[i]=s);}return r}(n,e.map(pn));return function(t,e,r){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==r[t]))){var n=e.filter((t=>void 0===r[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,n),r(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function pn(t){return t&&"?"===t[0]?t.slice(1):t}Wr.prototype=new RangeError,Wr.prototype.constructor=RangeError,Wr.prototype.name="DimensionError",Wr.prototype.isDimensionError=!0,Yr.prototype=new RangeError,Yr.prototype.constructor=RangeError,Yr.prototype.name="IndexError",Yr.prototype.isIndexError=!0;var fn=function(){return fn=zr.create,zr},dn=cn("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,s=fn();return s.types=[{name:"number",test:Te},{name:"Complex",test:ze},{name:"BigNumber",test:Oe},{name:"Fraction",test:Ae},{name:"Unit",test:Ce},{name:"string",test:Re},{name:"Chain",test:cr},{name:"Array",test:De},{name:"Matrix",test:ke},{name:"DenseMatrix",test:Le},{name:"SparseMatrix",test:Be},{name:"Range",test:Fe},{name:"Index",test:Pe},{name:"boolean",test:Ue},{name:"ResultSet",test:je},{name:"Help",test:qe},{name:"function",test:He},{name:"Date",test:Ve},{name:"RegExp",test:$e},{name:"null",test:We},{name:"undefined",test:Ye},{name:"AccessorNode",test:Ze},{name:"ArrayNode",test:Xe},{name:"AssignmentNode",test:Qe},{name:"BlockNode",test:Je},{name:"ConditionalNode",test:Ke},{name:"ConstantNode",test:tr},{name:"FunctionNode",test:rr},{name:"FunctionAssignmentNode",test:er},{name:"IndexNode",test:nr},{name:"Node",test:ir},{name:"ObjectNode",test:sr},{name:"OperatorNode",test:ar},{name:"ParenthesisNode",test:or},{name:"RangeNode",test:ur},{name:"SymbolNode",test:hr},{name:"Object",test:Ge}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||mn(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||yn(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||yn(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||yn(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||gn(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||mn(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||gn(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||yn(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return +t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||mn(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||gn(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function mn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function yn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function gn(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var vn,xn,wn=cn("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return "["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return {mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),bn=9e15,_n="0123456789abcdef",Mn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",En="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Nn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bn,maxE:bn,crypto:!1},Sn=!0,Tn="[DecimalError] Invalid argument: ",On=Math.floor,zn=Math.pow,An=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Rn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Dn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn=1e7,In=Mn.length-1,Ln=En.length-1,Bn={name:"[object Decimal]"};function Fn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)(r=7-(n=t[e]+"").length)&&(s+=Zn(r)),s+=n;(r=7-(n=(a=t[e])+"").length)&&(s+=Zn(r));}else if(0===a)return "0";for(;a%10==0;)a/=10;return s+a}function Pn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Tn+t)}function Un(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return --e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=zn(10,7-e),o=t[i]%s|0,null==n?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==zn(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==zn(10,e-3)-1,a}function jn(t,e,r){for(var n,i,s=[0],a=0,o=t.length;a<o;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=_n.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r);}return s.reverse()}Bn.absoluteValue=Bn.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Hn(t)},Bn.ceil=function(){return Hn(new this.constructor(this),this.e+1,2)},Bn.comparedTo=Bn.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,u=s.s,h=t.s;if(!a||!o)return u&&h?u!==h?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-h:0;if(u!==h)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(i=o.length)?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},Bn.cosine=Bn.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n,i=e.d.length;i<32?n=(1/ii(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=ni(t,1,e.times(n),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1);}return t.precision-=r,e}(n,si(n,r)),n.precision=t,n.rounding=e,Hn(2==xn||3==xn?r.neg():r,t,e,!0)):new n(1):new n(NaN)},Bn.cubeRoot=Bn.cbrt=function(){var t,e,r,n,i,s,a,o,u,h,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(Sn=!1,(s=c.s*zn(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new l(s.toString()):(r=Fn(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=zn(r,1/3),t=On((t+1)/3)-(t%3==(t<0?-1:2)),(n=new l(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(h=(u=(o=n).times(o).times(o)).plus(c),n=qn(h.plus(c).times(o),h.plus(u),a+2,1),Fn(o.d).slice(0,a)===(r=Fn(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Hn(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!i&&(Hn(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1;}return Sn=!0,Hn(n,t,l.rounding,e)},Bn.decimalPlaces=Bn.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-On(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0);}return r},Bn.dividedBy=Bn.div=function(t){return qn(this,new this.constructor(t))},Bn.dividedToIntegerBy=Bn.divToInt=function(t){var e=this.constructor;return Hn(qn(this,new e(t),0,1,1),e.precision,e.rounding)},Bn.equals=Bn.eq=function(t){return 0===this.cmp(t)},Bn.floor=function(){return Hn(new this.constructor(this),this.e+1,3)},Bn.greaterThan=Bn.gt=function(t){return this.cmp(t)>0},Bn.greaterThanOrEqualTo=Bn.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Bn.hyperbolicCosine=Bn.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?e=(1/ii(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=ni(a,1,s.times(e),new a(1),!0);for(var u,h=t,c=new a(8);h--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return Hn(s,a.precision=r,a.rounding=n,!0)},Bn.hyperbolicSine=Bn.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=ni(s,2,i,i,!0);else {t=(t=1.4*Math.sqrt(n))>16?16:0|t,i=ni(s,2,i=i.times(1/ii(5,t)),i,!0);for(var a,o=new s(5),u=new s(16),h=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(h))));}return s.precision=e,s.rounding=r,Hn(i,e,r,!0)},Bn.hyperbolicTangent=Bn.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,qn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},Bn.inverseCosine=Bn.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return -1!==n?0===n?e.isNeg()?Wn(r,i,s):new r(0):new r(NaN):e.isZero()?Wn(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Wn(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))},Bn.inverseHyperbolicCosine=Bn.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Sn=!1,r=r.times(r).minus(1).sqrt().plus(r),Sn=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},Bn.inverseHyperbolicSine=Bn.asinh=function(){var t,e,r=this,n=r.constructor;return !r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Sn=!1,r=r.times(r).plus(1).sqrt().plus(r),Sn=!0,n.precision=t,n.rounding=e,r.ln())},Bn.inverseHyperbolicTangent=Bn.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?Hn(new s(i),t,e,!0):(s.precision=r=n-i.e,i=qn(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},Bn.inverseSine=Bn.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==e?0===e?((t=Wn(s,r+4,n).times(.5)).s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},Bn.inverseTangent=Bn.atan=function(){var t,e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&l+4<=Ln)return (a=Wn(c,l+4,p).times(.25)).s=h.s,a}else {if(!h.s)return new c(NaN);if(l+4<=Ln)return (a=Wn(c,l+4,p).times(.5)).s=h.s,a}for(c.precision=o=l+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(Sn=!1,e=Math.ceil(o/7),n=1,u=h.times(h),a=new c(h),i=h;-1!==t;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),Sn=!0,Hn(a,c.precision=l,c.rounding=p,!0)},Bn.isFinite=function(){return !!this.d},Bn.isInteger=Bn.isInt=function(){return !!this.d&&On(this.e/7)>this.d.length-2},Bn.isNaN=function(){return !this.s},Bn.isNegative=Bn.isNeg=function(){return this.s<0},Bn.isPositive=Bn.isPos=function(){return this.s>0},Bn.isZero=function(){return !!this.d&&0===this.d[0]},Bn.lessThan=Bn.lt=function(t){return this.cmp(t)<0},Bn.lessThanOrEqualTo=Bn.lte=function(t){return this.cmp(t)<1},Bn.logarithm=Bn.log=function(t){var e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(null==t)t=new c(10),e=!0;else {if(r=(t=new c(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10);}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new c(r&&!r[0]?-1/0:1!=h.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else {for(i=r[0];i%10==0;)i/=10;s=1!==i;}if(Sn=!1,a=ti(h,o=l+5),n=e?Gn(c,o+10):ti(t,o),Un((u=qn(a,n,o,1)).d,i=l,p))do{if(a=ti(h,o+=10),n=e?Gn(c,o+10):ti(t,o),u=qn(a,n,o,1),!s){+Fn(u.d).slice(i+1,i+15)+1==1e14&&(u=Hn(u,l+1,0));break}}while(Un(u.d,i+=10,p));return Sn=!0,Hn(u,l,p)},Bn.minus=Bn.sub=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new d(t.d||f.s!==t.s?f:NaN):t=new d(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(h=f.d,p=t.d,o=d.precision,u=d.rounding,!h[0]||!p[0]){if(p[0])t.s=-t.s;else {if(!h[0])return new d(3===u?-0:0);t=new d(f);}return Sn?Hn(t,o,u):t}if(r=On(t.e/7),c=On(f.e/7),h=h.slice(),s=c-r){for((l=s<0)?(e=h,s=-s,a=p.length):(e=p,r=c,a=h.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse();}else {for((l=(n=h.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(h[n]!=p[n]){l=h[n]<p[n];break}s=0;}for(l&&(e=h,h=p,p=e,t.s=-t.s),a=h.length,n=p.length-a;n>0;--n)h[a++]=0;for(n=p.length;n>s;){if(h[--n]<p[n]){for(i=n;i&&0===h[--i];)h[i]=kn-1;--h[i],h[n]+=kn;}h[n]-=p[n];}for(;0===h[--a];)h.pop();for(;0===h[0];h.shift())--r;return h[0]?(t.d=h,t.e=$n(h,r),Sn?Hn(t,o,u):t):new d(3===u?-0:0)},Bn.modulo=Bn.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Hn(new n(r),n.precision,n.rounding):(Sn=!1,9==n.modulo?(e=qn(r,t.abs(),0,3,1)).s*=t.s:e=qn(r,t,0,n.modulo,1),e=e.times(t),Sn=!0,r.minus(e))},Bn.naturalExponential=Bn.exp=function(){return Kn(this)},Bn.naturalLogarithm=Bn.ln=function(){return ti(this)},Bn.negated=Bn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Hn(t)},Bn.plus=Bn.add=function(t){var e,r,n,i,s,a,o,u,h,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,c=t.d,o=p.precision,u=p.rounding,!h[0]||!c[0])return c[0]||(t=new p(l)),Sn?Hn(t,o,u):t;if(s=On(l.e/7),n=On(t.e/7),h=h.slice(),i=s-n){for(i<0?(r=h,i=-i,a=c.length):(r=c,n=s,a=h.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse();}for((a=h.length)-(i=c.length)<0&&(i=a,r=c,c=h,h=r),e=0;i;)e=(h[--i]=h[i]+c[i]+e)/kn|0,h[i]%=kn;for(e&&(h.unshift(e),++n),a=h.length;0==h[--a];)h.pop();return t.d=h,t.e=$n(h,n),Sn?Hn(t,o,u):t},Bn.precision=Bn.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Tn+t);return r.d?(e=Yn(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},Bn.round=function(){var t=this,e=t.constructor;return Hn(new e(t),t.e+1,e.rounding)},Bn.sine=Bn.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n=e.d.length;if(n<3)return ni(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/ii(5,r)),e=ni(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}(n,si(n,r)),n.precision=t,n.rounding=e,Hn(xn>2?r.neg():r,t,e,!0)):new n(NaN)},Bn.squareRoot=Bn.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,u=a.e,h=a.s,c=a.constructor;if(1!==h||!o||!o[0])return new c(!h||h<0&&(!o||o[0])?NaN:o?a:1/0);for(Sn=!1,0==(h=Math.sqrt(+a))||h==1/0?(((e=Fn(o)).length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=On((u+1)/2)-(u<0||u%2),n=new c(e=h==1/0?"5e"+u:(e=h.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(h.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(qn(a,s,r+2,1)).times(.5),Fn(s.d).slice(0,r)===(e=Fn(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Hn(n,u+1,1),t=!n.times(n).eq(a));break}if(!i&&(Hn(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1;}return Sn=!0,Hn(n,u,c.rounding,t)},Bn.tangent=Bn.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=qn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Hn(2==xn||4==xn?r.neg():r,t,e,!0)):new n(NaN)},Bn.times=Bn.mul=function(t){var e,r,n,i,s,a,o,u,h,c=this,l=c.constructor,p=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&f&&f[0]))return new l(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*t.s:t.s/0);for(r=On(c.e/7)+On(t.e/7),(u=p.length)<(h=f.length)&&(s=p,p=f,f=s,a=u,u=h,h=a),s=[],n=a=u+h;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%kn|0,e=o/kn|0;s[i]=(s[i]+e)%kn|0;}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=$n(s,r),Sn?Hn(t,l.precision,l.rounding):t},Bn.toBinary=function(t,e){return ai(this,2,t,e)},Bn.toDecimalPlaces=Bn.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(Pn(t,0,1e9),void 0===e?e=n.rounding:Pn(e,0,8),Hn(r,t+r.e+1,e))},Bn.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Vn(n,!0):(Pn(t,0,1e9),void 0===e?e=i.rounding:Pn(e,0,8),r=Vn(n=Hn(new i(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Bn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return void 0===t?r=Vn(i):(Pn(t,0,1e9),void 0===e?e=s.rounding:Pn(e,0,8),r=Vn(n=Hn(new s(i),t+i.e+1,e),!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},Bn.toFraction=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(h=r=new m(1),n=u=new m(0),a=(s=(e=new m(n)).e=Yn(d)-f.e-1)%7,e.d[0]=zn(10,a<0?7+a:a),null==t)t=s>0?e:h;else {if(!(o=new m(t)).isInt()||o.lt(h))throw Error(Tn+o);t=o.gt(e)?s>0?e:h:o;}for(Sn=!1,o=new m(Fn(d)),c=m.precision,m.precision=s=7*d.length*2;l=qn(o,e,0,1,1),1!=(i=r.plus(l.times(n))).cmp(t);)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=qn(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=f.s,p=qn(h,n,s,1).minus(f).abs().cmp(qn(u,r,s,1).minus(f).abs())<1?[h,n]:[u,r],m.precision=c,Sn=!0,p},Bn.toHexadecimal=Bn.toHex=function(t,e){return ai(this,16,t,e)},Bn.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding;}else {if(t=new n(t),void 0===e?e=n.rounding:Pn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Sn=!1,r=qn(r,t,0,e,1).times(t),Sn=!0,Hn(r)):(t.s=r.s,r=t),r},Bn.toNumber=function(){return +this},Bn.toOctal=function(t,e){return ai(this,8,t,e)},Bn.toPower=Bn.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,h=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(zn(+o,h));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,t.eq(1))return Hn(o,n,s);if((e=On(t.e/7))>=t.d.length-1&&(r=h<0?-h:h)<=9007199254740991)return i=Xn(u,o,r,n),t.s<0?new u(1).div(i):Hn(i,n,s);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return (e=0!=(r=zn(+o,h))&&isFinite(r)?new u(r+"").e:On(h*(Math.log("0."+Fn(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(Sn=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(i=Kn(t.times(ti(o,n+r)),n)).d&&Un((i=Hn(i,n+5,1)).d,n,s)&&(e=n+10,+Fn((i=Hn(Kn(t.times(ti(o,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Hn(i,n+1,0))),i.s=a,Sn=!0,u.rounding=s,Hn(i,n,s))},Bn.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Vn(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Pn(t,1,1e9),void 0===e?e=i.rounding:Pn(e,0,8),r=Vn(n=Hn(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},Bn.toSignificantDigits=Bn.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Pn(t,1,1e9),void 0===e?e=r.rounding:Pn(e,0,8)),Hn(new r(this),t,e)},Bn.toString=function(){var t=this,e=t.constructor,r=Vn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},Bn.truncated=Bn.trunc=function(){return Hn(new this.constructor(this),this.e+1,1)},Bn.valueOf=Bn.toJSON=function(){var t=this,e=t.constructor,r=Vn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var qn=function(){function t(t,e,r){var n,i=0,s=t.length;for(t=t.slice();s--;)n=t[s]*e+i,t[s]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift();}return function(n,i,s,a,o,u){var h,c,l,p,f,d,m,y,g,v,x,w,b,_,M,E,N,S,T,O,z=n.constructor,A=n.s==i.s?1:-1,C=n.d,R=i.d;if(!(C&&C[0]&&R&&R[0]))return new z(n.s&&i.s&&(C?!R||C[0]!=R[0]:R)?C&&0==C[0]||!R?0*A:A/0:NaN);for(u?(f=1,c=n.e-i.e):(u=kn,f=7,c=On(n.e/f)-On(i.e/f)),T=R.length,N=C.length,v=(g=new z(A)).d=[],l=0;R[l]==(C[l]||0);l++);if(R[l]>(C[l]||0)&&c--,null==s?(_=s=z.precision,a=z.rounding):_=o?s+(n.e-i.e)+1:s,_<0)v.push(1),d=!0;else {if(_=_/f+2|0,l=0,1==T){for(p=0,R=R[0],_++;(l<N||p)&&_--;l++)M=p*u+(C[l]||0),v[l]=M/R|0,p=M%R|0;d=p||l<N;}else {for((p=u/(R[0]+1)|0)>1&&(R=t(R,p,u),C=t(C,p,u),T=R.length,N=C.length),E=T,w=(x=C.slice(0,T)).length;w<T;)x[w++]=0;(O=R.slice()).unshift(0),S=R[0],R[1]>=u/2&&++S;do{p=0,(h=e(R,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(p=b/S|0)>1?(p>=u&&(p=u-1),1==(h=e(m=t(R,p,u),x,y=m.length,w=x.length))&&(p--,r(m,T<y?O:R,y,u))):(0==p&&(h=p=1),m=R.slice()),(y=m.length)<w&&m.unshift(0),r(x,m,w,u),-1==h&&(h=e(R,x,T,w=x.length))<1&&(p++,r(x,T<w?O:R,w,u)),w=x.length):0===h&&(p++,x=[0]),v[l++]=p,h&&x[0]?x[w++]=C[E]||0:(x=[C[E]],w=1);}while((E++<N||void 0!==x[0])&&_--);d=void 0!==x[0];}v[0]||v.shift();}if(1==f)g.e=c,vn=d;else {for(l=1,p=v[0];p>=10;p/=10)l++;g.e=l+c*f-1,Hn(g,o?s+g.e+1:s,a,d);}return g}}();function Hn(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((s=e-i)<0)s+=7,a=e,u=(c=l[p=0])/zn(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=l.length)){if(!n)break t;for(;o++<=p;)l.push(0);c=u=0,i=1,a=(s%=7)-7+1;}else {for(c=o=l[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/zn(10,i-a-1)%10|0;}if(n=n||e<0||void 0!==l[p+1]||(a<0?c:c%zn(10,i-a-1)),h=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/zn(10,i-a):0:l[p-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=zn(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=p,o=1,p--):(l.length=p+1,o=zn(10,7-s),l[p]=a>0?(c/zn(10,i-a)%zn(10,a)|0)*o:0),h)for(;;){if(0==p){for(s=1,a=l[0];a>=10;a/=10)s++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,l[0]==kn&&(l[0]=1));break}if(l[p]+=o,l[p]!=kn)break;l[p--]=0,o=1;}for(s=l.length;0===l[--s];)l.pop();}return Sn&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function Vn(t,e,r){if(!t.isFinite())return ei(t);var n,i=t.e,s=Fn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Zn(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+Zn(-i-1)+s,r&&(n=r-a)>0&&(s+=Zn(n))):i>=a?(s+=Zn(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Zn(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Zn(n))),s}function $n(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function Gn(t,e,r){if(e>In)throw Sn=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return Hn(new t(Mn),e,1,!0)}function Wn(t,e,r){if(e>Ln)throw Error("[DecimalError] Precision limit exceeded");return Hn(new t(En),e,r,!0)}function Yn(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++;}return r}function Zn(t){for(var e="";t--;)e+="0";return e}function Xn(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/7+4);for(Sn=!1;;){if(r%2&&oi((s=s.times(e)).d,a)&&(i=!0),0===(r=On(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}oi((e=e.times(e)).d,a);}return Sn=!0,s}function Qn(t){return 1&t.d[t.d.length-1]}function Jn(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;){if(!(n=new t(e[s])).s){i=n;break}i[r](n)&&(i=n);}return i}function Kn(t,e){var r,n,i,s,a,o,u,h=0,c=0,l=0,p=t.constructor,f=p.rounding,d=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Sn=!1,u=d):u=e,o=new p(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=n=Math.log(zn(2,l))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=Hn(s.times(t),u,1),r=r.times(++c),Fn((o=a.plus(qn(s,r,u,1))).d).slice(0,u)===Fn(a.d).slice(0,u)){for(i=l;i--;)a=Hn(a.times(a),u,1);if(null!=e)return p.precision=d,a;if(!(h<3&&Un(a.d,u-n,f,h)))return Hn(a,p.precision=d,f,Sn=!0);p.precision=u+=10,r=s=o=new p(1),c=0,h++;}a=o;}}function ti(t,e){var r,n,i,s,a,o,u,h,c,l,p,f=1,d=t,m=d.d,y=d.constructor,g=y.rounding,v=y.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(Sn=!1,c=v):c=e,y.precision=c+=10,n=(r=Fn(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return h=Gn(y,c+2,v).times(s+""),d=ti(new y(n+"."+r.slice(1)),c-10).plus(h),y.precision=v,null==e?Hn(d,v,g,Sn=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Fn((d=d.times(t)).d)).charAt(0),f++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),l=d,u=a=d=qn(d.minus(1),d.plus(1),c,1),p=Hn(d.times(d),c,1),i=3;;){if(a=Hn(a.times(p),c,1),Fn((h=u.plus(qn(a,new y(i),c,1))).d).slice(0,c)===Fn(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(Gn(y,c+2,v).times(s+""))),u=qn(u,new y(f),c,1),null!=e)return y.precision=v,u;if(!Un(u.d,c-10,g,o))return Hn(u,y.precision=v,g,Sn=!0);y.precision=c+=10,h=a=d=qn(l.minus(1),l.plus(1),c,1),p=Hn(d.times(d),c,1),i=o=1;}u=h,i+=2;}}function ei(t){return String(t.s*t.s/0)}function ri(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=7;n<i;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length;}else n-=i;for(;n--;)e+="0";t.d.push(+e),Sn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]));}else t.e=0,t.d=[0];return t}function ni(t,e,r,n,i){var s,a,o,u,h=t.precision,c=Math.ceil(h/7);for(Sn=!1,u=r.times(r),o=new t(n);;){if(a=qn(o.times(u),new t(e++*e++),h,1),o=i?n.plus(a):n.minus(a),n=qn(a.times(u),new t(e++*e++),h,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s;}return Sn=!0,a.d.length=c+1,a}function ii(t,e){for(var r=t;--e;)r*=t;return r}function si(t,e){var r,n=e.s<0,i=Wn(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return xn=n?4:1,e;if((r=e.divToInt(i)).isZero())xn=n?3:2;else {if((e=e.minus(r.times(i))).lte(s))return xn=Qn(r)?n?2:3:n?4:1,e;xn=Qn(r)?n?1:4:n?3:2;}return e.minus(i).abs()}function ai(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor,d=void 0!==r;if(d?(Pn(r,1,1e9),void 0===n?n=f.rounding:Pn(n,0,8)):(r=f.precision,n=f.rounding),t.isFinite()){for(d?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(a=(c=Vn(t)).indexOf("."))>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=jn(Vn(p),10,i),p.e=p.d.length),s=u=(l=jn(c,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?s--:((t=new f(t)).d=l,t.e=s,l=(t=qn(t,p,r,n,0,i)).d,s=t.e,h=vn),a=l[r],o=i/2,h=h||void 0!==l[r+1],h=n<4?(void 0!==a||h)&&(0===n||n===(t.s<0?3:2)):a>o||a===o&&(4===n||h||6===n&&1&l[r-1]||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,c="";a<u;a++)c+=_n.charAt(l[a]);if(d){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(l=jn(c,i,e)).length;!l[u-1];--u);for(a=1,c="1.";a<u;a++)c+=_n.charAt(l[a]);}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s;}else if(s<0){for(;++s;)c="0"+c;c="0."+c;}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));}else c=d?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c;}else c=ei(t);return t.s<0?"-"+c:c}function oi(t,e){if(t.length>e)return t.length=e,!0}function ui(t){return new this(t).abs()}function hi(t){return new this(t).acos()}function ci(t){return new this(t).acosh()}function li(t,e){return new this(t).plus(e)}function pi(t){return new this(t).asin()}function fi(t){return new this(t).asinh()}function di(t){return new this(t).atan()}function mi(t){return new this(t).atanh()}function yi(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?Wn(this,n,i):new this(0)).s=t.s:!t.d||e.isZero()?(r=Wn(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(qn(t,e,s,1)),e=Wn(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(qn(t,e,s,1)):(r=Wn(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function gi(t){return new this(t).cbrt()}function vi(t){return Hn(t=new this(t),t.e+1,2)}function xi(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,n,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-bn,0,"toExpPos",0,bn,"maxE",0,bn,"minE",-bn,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=Nn[r]),void 0!==(n=t[r])){if(!(On(n)===n&&n>=s[e+1]&&n<=s[e+2]))throw Error(Tn+r+": "+n);this[r]=n;}if(r="crypto",i&&(this[r]=Nn[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Tn+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this}function wi(t){return new this(t).cos()}function bi(t){return new this(t).cosh()}function _i(t,e){return new this(t).div(e)}function Mi(t){return new this(t).exp()}function Ei(t){return Hn(t=new this(t),t.e+1,3)}function Ni(){var t,e,r=new this(0);for(Sn=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else {if(e.s)return Sn=!0,new this(1/0);r=e;}return Sn=!0,r.sqrt()}function Si(t){return t instanceof Gi||t&&"[object Decimal]"===t.name||!1}function Ti(t){return new this(t).ln()}function Oi(t,e){return new this(t).log(e)}function zi(t){return new this(t).log(2)}function Ai(t){return new this(t).log(10)}function Ci(){return Jn(this,arguments,"lt")}function Ri(){return Jn(this,arguments,"gt")}function Di(t,e){return new this(t).mod(e)}function ki(t,e){return new this(t).mul(e)}function Ii(t,e){return new this(t).pow(e)}function Li(t){var e,r,n,i,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:Pn(t,1,1e9),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else {if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(n*=4);s<n;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4;}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(t%=7,(n=o[--s])&&t&&(i=zn(10,7-t),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else {for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n);}return a.e=r,a.d=o,a}function Bi(t){return Hn(t=new this(t),t.e+1,this.rounding)}function Fi(t){return (t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Pi(t){return new this(t).sin()}function Ui(t){return new this(t).sinh()}function ji(t){return new this(t).sqrt()}function qi(t,e){return new this(t).sub(e)}function Hi(t){return new this(t).tan()}function Vi(t){return new this(t).tanh()}function $i(t){return Hn(t=new this(t),t.e+1,1)}Bn[Symbol.for("nodejs.util.inspect.custom")]=Bn.toString,Bn[Symbol.toStringTag]="Decimal";var Gi=function t(e){var r,n,i;function s(t){var e,r,n,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(Sn?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(Sn?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):ri(i,t.toString())}if("string"!==n)throw Error(Tn+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===r&&(t=t.slice(1)),i.s=1),Dn.test(t)?ri(i,t):function(t,e){var r,n,i,s,a,o,u,h,c;if("Infinity"===e||"NaN"===e)return +e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Cn.test(e))r=16,e=e.toLowerCase();else if(An.test(e))r=2;else {if(!Rn.test(e))throw Error(Tn+e);r=8;}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),a=(s=e.indexOf("."))>=0,n=t.constructor,a&&(s=(o=(e=e.replace(".","")).length)-s,i=Xn(n,new n(r),s,2*s)),s=c=(h=jn(e,r,kn)).length-1;0===h[s];--s)h.pop();return s<0?new n(0*t.s):(t.e=$n(h,c),t.d=h,Sn=!1,a&&(t=qn(t,i,4*o)),u&&(t=t.times(Math.abs(u)<54?zn(2,u):Gi.pow(2,u))),Sn=!0,t)}(i,t)}if(s.prototype=Bn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=xi,s.clone=t,s.isDecimal=Si,s.abs=ui,s.acos=hi,s.acosh=ci,s.add=li,s.asin=pi,s.asinh=fi,s.atan=di,s.atanh=mi,s.atan2=yi,s.cbrt=gi,s.ceil=vi,s.cos=wi,s.cosh=bi,s.div=_i,s.exp=Mi,s.floor=Ei,s.hypot=Ni,s.ln=Ti,s.log=Oi,s.log10=Ai,s.log2=zi,s.max=Ci,s.min=Ri,s.mod=Di,s.mul=ki,s.pow=Ii,s.random=Li,s.round=Bi,s.sign=Fi,s.sin=Pi,s.sinh=Ui,s.sqrt=ji,s.sub=qi,s.tan=Hi,s.tanh=Vi,s.trunc=$i,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return s.config(e),s}(Nn);Mn=new Gi(Mn),En=new Gi(En);var Wi,Yi=cn("BigNumber",["?on","config"],(t=>{var{on:e,config:r}=t,n=Gi.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return {mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision});})),n}),{isClass:!0}),Zi={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
Wi=Zi,function(t){var e=function(t){return .5*(Math.exp(t)+Math.exp(-t))},r=function(t){return .5*(Math.exp(t)-Math.exp(-t))},n=function(){throw SyntaxError("Invalid Param")};function i(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg);}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi);}else 2===t.length?(r.re=t[0],r.im=t[1]):n();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&n();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?a++:"-"===h?o++:"i"===h||"I"===h?(a+o===0&&n()," "===i[u+1]||isNaN(i[u+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(h))&&n(),"i"===i[u+1]||"I"===i[u+1]?(r.im+=parseFloat((o%2?"-":"")+h),u++):r.re+=parseFloat((o%2?"-":"")+h),a=o=0));}a+o>0&&n();break;case"number":r.im=0,r.re=t;break;default:n();}return r}(t,e);this.re=r.re,this.im=r.im;}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:0===r.im&&0===this.im?new s(this.re*r.re,0):new s(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new s(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return s.NAN;if(this.isInfinite()||r.isZero())return s.INFINITY;if(this.isZero()||r.isInfinite())return s.ZERO;t=this.re,e=this.im;var n,i,a=r.re,o=r.im;return 0===o?new s(t/a,e/a):Math.abs(a)<Math.abs(o)?new s((t*(i=a/o)+e)/(n=a*i+o),(e*i-t)/n):new s((t+e*(i=o/a))/(n=o*i+a),(e-t*i)/n)},pow:function(t,e){var r=new s(t,e);if(t=this.re,e=this.im,r.isZero())return s.ONE;if(0===r.im){if(0===e&&t>0)return new s(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new s(Math.pow(e,r.re),0);case 1:return new s(0,Math.pow(e,r.re));case 2:return new s(-Math.pow(e,r.re),0);case 3:return new s(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return s.ZERO;var n=Math.atan2(e,t),a=i(t,e);return t=Math.exp(r.re*a-r.im*n),e=r.im*a+r.re*n,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new s(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r));}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new s(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),n=Math.abs(e),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n));var t,e,r,n;},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new s(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new s(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new s(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new s(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new s((1-e*e-t*t)/r,-2*t/r).log();return new s(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new s(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new s(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new s(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new s(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new s(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new s(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e;}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,a=1+t,o=n*n+e*e,u=0!==o?new s((a*n-e*e)/o,(e*n+a*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),h=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,h)/2,r&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new s(t/r,-e/r)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new s(t,e);return Math.abs(r.re-this.re)<=s.EPSILON&&Math.abs(r.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?r+t:(0!==t?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),1!==e&&(r+=e),r+"i"))},toVector:function(){return [this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return !(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,Wi.exports=s;}();var Xi=Tr(Zi.exports),Qi=cn("Complex",[],(()=>(Xi.prototype.type="Complex",Xi.prototype.isComplex=!0,Xi.prototype.toJSON=function(){return {mathjs:"Complex",re:this.re,im:this.im}},Xi.prototype.toPolar=function(){return {r:this.abs(),phi:this.arg()}},Xi.prototype.format=function(t){var e=this.im,r=this.re,n=Rr(this.re,t),i=Rr(this.im,t),s=Te(t)?t:t?t.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0);}return 0===e?n:0===r?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?n+" - i":n+" - "+i.substring(1)+"i":1===e?n+" + i":n+" + "+i+"i"},Xi.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Xi(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Te(r)){if(Ce(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Te(n))return new Xi({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xi.prototype.valueOf=Xi.prototype.toString,Xi.fromJSON=function(t){return new Xi(t)},Xi.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Xi)),{isClass:!0}),Ji={exports:{}};
/**
 * @license Fraction.js v4.1.0 13/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(t,e){!function(e){var r={s:1,n:0,d:1};function n(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message;}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var i=l.DivisionByZero=n("DivisionByZero"),s=l.InvalidParameter=n("InvalidParameter");function a(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw new s}function u(t){for(var e={},r=t,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,e[n]=(e[n]||0)+1;i+=1+2*n++;}return r!==t?r>1&&(e[r]=(e[r]||0)+1):e[t]=(e[t]||0)+1,e}var h=function(t,e){var n,s=0,u=1,h=1,c=0,l=0,p=0,f=1,d=1,m=0,y=1,g=1,v=1,x=1e7;if(null==t);else if(void 0!==e)h=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):o(),h=s*u;break;case"number":if(t<0&&(h=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=x&&v<=x;){if(t===(n=(m+g)/(y+v))){y+v<=x?(s=m+g,u=y+v):v>y?(s=g,u=v):(s=m,u=y);break}t>n?(m+=g,y+=v):(g+=m,v+=y),y>x?(s=g,u=v):(s=m,u=y);}s*=d;}else (isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(y=t.match(/\d+|./g))&&o(),"-"===y[m]?(h=-1,m++):"+"===y[m]&&m++,y.length===m+1?l=a(y[m++],h):"."===y[m+1]||"."===y[m]?("."!==y[m]&&(c=a(y[m++],h)),(++m+1===y.length||"("===y[m+1]&&")"===y[m+3]||"'"===y[m+1]&&"'"===y[m+3])&&(l=a(y[m],h),f=Math.pow(10,y[m].length),m++),("("===y[m]&&")"===y[m+2]||"'"===y[m]&&"'"===y[m+2])&&(p=a(y[m+1],h),d=Math.pow(10,y[m+1].length)-1,m+=3)):"/"===y[m+1]||":"===y[m+1]?(l=a(y[m],h),f=a(y[m+2],1),m+=3):"/"===y[m+3]&&" "===y[m+1]&&(c=a(y[m],h),l=a(y[m+2],h),f=a(y[m+4],1),m+=5),y.length<=m){h=s=p+(u=f*d)*c+d*l;break}default:o();}if(0===u)throw new i;r.s=h<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(u);};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);h(t,e),t=l.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t;}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===r.n&&0===this.d&&l(0,0),new l(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return h(t,e),new l(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return h(t,e),0===r.n&&0===this.n?new l:new l(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(h(t,e),1===r.d)return r.s<0?new l(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new l(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var n=u(this.n),i=u(this.d),s=this.s,a=1;for(var o in n)if("1"!==o){if("0"===o){s=0;break}if(n[o]*=r.n,n[o]%r.d!=0)return null;n[o]/=r.d,s*=Math.pow(o,n[o]);}for(var o in i)if("1"!==o){if(i[o]*=r.n,i[o]%r.d!=0)return null;i[o]/=r.d,a*=Math.pow(o,i[o]);}return r.s<0?new l(a,s):new l(s,a)},equals:function(t,e){return h(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return (0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new l(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var i=r(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];if(isNaN(e)||isNaN(r))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t;}while(1!==e);return n},toString:function(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return "NaN";l.REDUCE||(r/=e=c(r,n),n/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>2e3)return 0;return n}(0,n),s=function(t,e,r){for(var n=1,i=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),s=0;s<300;s++){if(n===i)return s;n=10*n%e,i=10*i%e;}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;a+="(";for(o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")";}else for(o=t;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l;}();}(Ji);var Ki=Tr(Ji.exports),ts=cn("Fraction",[],(()=>(Ki.prototype.type="Fraction",Ki.prototype.isFraction=!0,Ki.prototype.toJSON=function(){return {mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ki.fromJSON=function(t){return new Ki(t)},Ki)),{isClass:!0}),es=cn("Range",[],(()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=r,a=null!=n;if(i)if(Oe(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Oe(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(a)if(Oe(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1;}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map((function(t){return parseFloat(t)}));if(r.some((function(t){return isNaN(t)})))return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end-e;return Cr(r)===Cr(n)?t=Math.ceil(n/r):0===n&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++;},t.prototype.map=function(t){var e=[];return this.forEach((function(r,n,i){e[n[0]]=t(r,n,i);})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e;})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Rr(this.start,t);return 1!==this.step&&(e+=":"+Rr(this.step,t)),e+=":"+Rr(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return {mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),rs=cn("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),ns=cn("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Re(e))throw new Error("Invalid datatype: "+e);if(ke(t))"DenseMatrix"===t.type?(this._data=pr(t._data),this._size=pr(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&De(t.data)&&De(t.size))this._data=t.data,this._size=t.size,Qr(this._data,this._size),this._datatype=e||t.datatype;else if(De(t))this._data=h(t),this._size=Zr(this._data),Qr(this._data,this._size),this._datatype=e;else {if(t)throw new TypeError("Unsupported type of data ("+lr(t)+")");this._data=[],this._size=[0],this._datatype=e;}}function n(t,e){if(!Pe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new Wr(n.length,t._size.length);for(var s=e.min(),a=e.max(),o=0,u=t._size.length;o<u;o++)Jr(s[o],t._size[o]),Jr(a[o],t._size[o]);return new r(i(t._data,e,n.length,0),t._datatype)}function i(t,e,r,n){var s=n===r-1,a=e.dimension(n);return s?a.map((function(e){return Jr(e,t.length),t[e]})).valueOf():a.map((function(s){return Jr(s,t.length),i(t[s],e,r,n+1)})).valueOf()}function s(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if(ke(r)?(i=r.size(),r=r.valueOf()):i=Zr(r),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(s.length<t._size.length)throw new Wr(s.length,t._size.length,"<");if(i.length<s.length){for(var h=0,c=0;1===s[h]&&1===i[h];)h++;for(;1===s[h];)c++,h++;r=rn(r,s.length,c,i);}if(!yr(s,i))throw new Wr(s,i,">");u(t,e.max().map((function(t){return t+1})),n);var l=s.length;a(t._data,e,r,l,0);}return t}function a(t,e,r,n,i){var s=i===n-1,o=e.dimension(i);s?o.forEach((function(e,n){Jr(e),t[e]=r[n[0]];})):o.forEach((function(s,o){Jr(s),a(t[s],e,r[o[0]],n,i+1);}));}function o(t,e,r){if(0===e.length){for(var n=t._data;De(n);)n=n[0];return n}return t._size=e.slice(0),t._data=Kr(t._data,t._size,r),t}function u(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var s=0,a=e.length;s<a;s++)e[s]>n[s]&&(n[s]=e[s],i=!0);i&&o(t,n,r);}function h(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];De(n)?t[e]=h(n):n&&!0===n.isMatrix&&(t[e]=h(n.valueOf()));}return t}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return un(this._data,lr)},r.prototype.storage=function(){return "dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!De(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Wr(t.length,this._size.length);for(var e=0;e<t.length;e++)Jr(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var s=t[n];Jr(s,r.length),r=r[s];}return r},r.prototype.set=function(t,e,r){if(!De(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Wr(t.length,this._size.length,"<");var n,i,s;u(this,t.map((function(t){return t+1})),r);var a=this._data;for(n=0,i=t.length-1;n<i;n++)Jr(s=t[n],a.length),a=a[s];return Jr(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!Ie(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(r?this.clone():this,n,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=en(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:pr(this._data),size:pr(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,n=function r(n,i){return De(n)?n.map((function(t,e){return r(t,i.concat(e))})):t(n,i,e)}(this._data,[]);return new r(n,void 0!==this._datatype?un(n,lr):void 0)},r.prototype.forEach=function(t){var e=this;!function r(n,i){De(n)?n.forEach((function(t,e){r(t,i.concat(e));})):t(n,i,e);}(this._data,[]);},r.prototype.toArray=function(){return pr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return Hr(this._data,t)},r.prototype.toString=function(){return Hr(this._data)},r.prototype.toJSON=function(){return {mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],s=this._size[1],a=Math.min(i-n,s-e),o=[],u=0;u<a;u++)o[u]=this._data[u+n][u+e];return new r({data:o,size:[a],datatype:this._datatype})},r.diagonal=function(t,e,n,i){if(!De(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(Oe(n)&&(n=n.toNumber()),!Te(n)||!Ar(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,a=n>0?n:0,o=n<0?-n:0,u=t[0],h=t[1],c=Math.min(u-o,h-a);if(De(e)){if(e.length!==c)throw new Error("Invalid value array length");s=function(t){return e[t]};}else if(ke(e)){var l=e.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");s=function(t){return e.get([t])};}else s=function(){return e};i||(i=Oe(s(0))?s(0).mul(0):0);var p=[];if(t.length>0){p=Kr(p,t,i);for(var f=0;f<c;f++)p[f+o][f+a]=s(f);}return new r({data:p,size:[u,h]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(Te(t)&&Ar(t)&&Te(e)&&Ar(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Jr(t,this._size[0]),Jr(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n;},r}),{isClass:!0});function is(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return is(t,e)})):e(t)}var ss="number",as="number, number";function os(t){return Math.abs(t)}function us(t,e){return t+e}function hs(t,e){return t*e}function cs(t){return -t}function ls(t){return Math.ceil(t)}function ps(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function fs(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function ds(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(kr(t,e))}os.signature=ss,us.signature=as,hs.signature=as,cs.signature=ss,ls.signature=ss,ps.signature=as,fs.signature=as,ds.signature=as;var ms=cn("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return !0},"Complex | Unit | string | null | undefined | Node":function(){return !1},"Array | Matrix":function(t){return is(t,this)}})}));function ys(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return !0;if(t.isNaN()||e.isNaN())return !1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return !0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return !1}var gs="equalScalar",vs=cn(gs,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(gs,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Pr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||ys(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return Pr(t.re,e.re,r)&&Pr(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));cn(gs,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(gs,{"number, number":function(t,e){return Pr(t,e,r.epsilon)}})}));var xs=cn("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Re(e))throw new Error("Invalid datatype: "+e);if(ke(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?pr(e._values):void 0,t._index=pr(e._index),t._ptr=pr(e._ptr),t._size=pr(e._size),t._datatype=r||e._datatype):s(t,e.valueOf(),r||e._datatype);}(this,t,e);else if(t&&De(t.index)&&De(t.ptr)&&De(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(De(t))s(this,t,e);else {if(t)throw new TypeError("Unsupported type of data ("+lr(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e;}}function s(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=n.length,a=0,o=r,u=0;if(Re(i)&&(o=e.find(r,[i,i])||r,u=e.convert(0,i)),s>0){var h=0;do{t._ptr.push(t._index.length);for(var c=0;c<s;c++){var l=n[c];if(De(l)){if(0===h&&a<l.length&&(a=l.length),h<l.length){var p=l[h];o(p,u)||(t._values.push(p),t._index.push(c));}}else 0===h&&a<1&&(a=1),o(l,u)||(t._values.push(l),t._index.push(c));}h++;}while(h<a)}t._ptr.push(t._index.length),t._size=[s,a];}function a(t,e){if(!Pe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,s,a,o=e.size();if(o.length!==t._size.length)throw new Wr(o.length,t._size.length);var u=e.min(),h=e.max();for(r=0,n=t._size.length;r<n;r++)Jr(u[r],t._size[r]),Jr(h[r],t._size[r]);var c=t._values,l=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),m=[],y=[];f.forEach((function(t,e){y[t]=e[0],m[t]=!0;}));var g=c?[]:void 0,v=[],x=[];return d.forEach((function(t){for(x.push(v.length),s=p[t],a=p[t+1];s<a;s++)r=l[s],!0===m[r]&&(v.push(y[r]),g&&g.push(c[s]));})),x.push(v.length),new i({values:g,index:v,ptr:x,size:o,datatype:t._datatype})}function o(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if(ke(r)?(i=r.size(),r=r.toArray()):i=Zr(r),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(1!==s.length&&2!==s.length)throw new Wr(s.length,t._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;r=rn(r,s.length,u,i);}if(!yr(s,i))throw new Wr(s,i,">");for(var h=e.min()[0],c=e.min()[1],l=i[0],p=i[1],f=0;f<l;f++)for(var d=0;d<p;d++){var m=r[f][d];t.set([f+h,d+c],m,n);}}return t}function u(t,e,r,n){if(r-e==0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e}function h(t,e,r,n,i,s,a){i.splice(t,0,n),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++;}function c(t,n,i,s){var a=s||0,o=r,u=0;Re(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,c,l,p=!o(a,u),f=t._size[0],d=t._size[1];if(i>d){for(c=d;c<i;c++)if(t._ptr[c]=t._values.length,p)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[i]=t._values.length;}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,n>f){if(p){var m=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]+m,l=t._ptr[c+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(l+y,0,a),t._index.splice(l+y,0,h),m++;}t._ptr[d]=t._values.length;}}else if(n<f){var g=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],x=t._ptr[c+1]-g;for(l=v;l<x;l++)(h=t._index[l])>n-1&&(t._values.splice(l,1),t._index.splice(l,1),g++);}t._ptr[c]=t._values.length;}return t._size[0]=n,t._size[1]=i,t}function l(t,e,r,n,i){var s,a,o=n[0],u=n[1],h=[];for(s=0;s<o;s++)for(h[s]=[],a=0;a<u;a++)h[s][a]=0;for(a=0;a<u;a++)for(var c=r[a],l=r[a+1],p=c;p<l;p++)h[s=e[p]][a]=t?i?pr(t[p]):t[p]:1;return h}return i.prototype=new n,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return un(this._values,lr)},i.prototype.storage=function(){return "sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return o(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!De(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Wr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];Jr(e,this._size[0]),Jr(r,this._size[1]);var n=u(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},i.prototype.set=function(t,n,i){if(!De(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Wr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],l=this._size[1],p=r,f=0;Re(this._datatype)&&(p=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>l-1)&&(c(this,Math.max(s+1,o),Math.max(a+1,l),i),o=this._size[0],l=this._size[1]),Jr(s,o),Jr(a,l);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(n,f)?function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--;}(d,a,this._values,this._index,this._ptr):this._values[d]=n:h(d,s,a,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,r){if(!Ie(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!Te(t)||!Ar(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Hr(n)+")")})),c(r?this.clone():this,n[0],n[1],e)},i.prototype.reshape=function(t,e){if(!De(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Te(e)||!Ar(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Hr(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var s=0;s<r._ptr[i+1]-r._ptr[i];s++)n.push(i);for(var a=r._values.slice(),o=r._index.slice(),c=0;c<r._index.length;c++){var l=o[c],p=n[c],f=l*r._size[1]+p;n[c]=f%t[1],o[c]=Math.floor(f/t[1]);}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var m=0;m<a.length;m++){var y=o[m],g=n[m],v=a[m];h(u(y,r._ptr[g],r._ptr[g+1],r._index),y,g,v,r._values,r._index,r._ptr);}return r},i.prototype.clone=function(){return new i({values:this._values?pr(this._values):void 0,index:pr(this._index),ptr:pr(this._ptr),size:pr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,n,s,a,o,u,h){var c=[],l=[],p=[],f=r,d=0;Re(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var m=function(t,e,r){t=u(t,e,r),f(t,d)||(c.push(t),l.push(e));},y=a;y<=o;y++){p.push(c.length);var g=t._ptr[y],v=t._ptr[y+1];if(h)for(var x=g;x<v;x++){var w=t._index[x];w>=n&&w<=s&&m(t._values[x],w-n,y-a);}else {for(var b={},_=g;_<v;_++){b[t._index[_]]=t._values[_];}for(var M=n;M<=s;M++){m(M in b?b[M]:0,M-n,y-a);}}}return p.push(c.length),new i({values:c,index:l,ptr:p,size:[s-n+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,n){return t(e,[r,n],s)}),n)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(e)for(var o=s;o<a;o++){var u=this._index[o];t(this._values[o],[u,i],this);}else {for(var h={},c=s;c<a;c++){h[this._index[c]]=this._values[c];}for(var l=0;l<r;l++){t(l in h?h[l]:0,[l,i],this);}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+Hr(e,t)+" x "+Hr(r,t)+"] density: "+Hr(n,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++){i+="\n    ("+Hr(this._index[u],t)+", "+Hr(s,t)+") ==> "+(this._values?Hr(this._values[u],t):"X");}return i},i.prototype.toString=function(){return Hr(this.toArray())},i.prototype.toJSON=function(){return {mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],s=this._size[1],a=Math.min(n-r,s-e),o=[],u=[],h=[];h[0]=0;for(var c=e;c<s&&o.length<a;c++)for(var l=this._ptr[c],p=this._ptr[c+1],f=l;f<p;f++){var d=this._index[f];if(d===c-e+r){o.push(this._values[f]),u[o.length-1]=d-r;break}}return h.push(o.length),new i({values:o,index:u,ptr:h,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,n,s,a,o){if(!De(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(Oe(s)&&(s=s.toNumber()),!Te(s)||!Ar(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=r,h=0;Re(o)&&(u=e.find(r,[o,o])||r,h=e.convert(0,o));var c,l=s>0?s:0,p=s<0?-s:0,f=t[0],d=t[1],m=Math.min(f-p,d-l);if(De(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function(t){return n[t]};}else if(ke(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function(t){return n.get([t])};}else c=function(){return n};for(var g=[],v=[],x=[],w=0;w<d;w++){x.push(g.length);var b=w-l;if(b>=0&&b<m){var _=c(b);u(_,h)||(v.push(b+p),g.push(_));}}return x.push(g.length),new i({values:g,index:v,ptr:x,size:[f,d]})},i.prototype.swapRows=function(t,e){if(!(Te(t)&&Ar(t)&&Te(e)&&Ar(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Jr(t,this._size[0]),Jr(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,r,n,i){for(var s=n[t],a=n[t+1],o=s;o<a;o++)i(r[o],e[o]);},i._swapRows=function(t,e,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],c=u(t,o,h,i),l=u(e,o,h,i);if(c<h&&l<h&&i[c]===t&&i[l]===e){if(n){var p=n[c];n[c]=n[l],n[l]=p;}}else if(c<h&&i[c]===t&&(l>=h||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<h&&i[l]===e&&(c>=h||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i}),{isClass:!0}),ws=cn("number",["typed"],(t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1));}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return is(t,this)}});return r.fromJSON=function(t){return parseFloat(t.value)},r})),bs=cn("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(t){return new r(t+"")},string:function(t){return new r(t)},BigNumber:function(t){return t},Fraction:function(t){return new r(t.n).div(t.d).times(t.s)},null:function(t){return new r(0)},"Array | Matrix":function(t){return is(t,this)}})})),_s=cn("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r(t)},string:function(t){return new r(t)},"number, number":function(t,e){return new r(t,e)},null:function(t){return new r(0)},BigNumber:function(t){return new r(t.toString())},Fraction:function(t){return t},Object:function(t){return new r(t)},"Array | Matrix":function(t){return is(t,this)}})})),Ms=cn("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Es=cn("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:cs,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return is(t,this)}})})),Ns=cn("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:os,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return is(t,this)},Unit:function(t){return t.abs()}})})),Ss=cn("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":us,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r}})})),Ts=cn("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=r,m=0,y=i;"string"==typeof c&&(l=c,d=e.find(r,[l,l]),m=e.convert(0,l),n=e.convert(n,l),y=e.find(i,[l,l]));for(var g=[],v=[],x=[],w=0;w<f;w++){x[w]=v.length;for(var b=u[w],_=u[w+1],M=b;M<_;M++){var E=o[M],N=s?y(n,a[M]):y(a[M],n);d(N,m)||(v.push(E),g.push(N));}}return x[f]=v.length,t.createSparseMatrix({values:g,index:v,ptr:x,size:[p,f],datatype:l})}})),Os=cn("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,n,i,s){var a,o=t._data,u=t._size,h=t._datatype,c=i;"string"==typeof h&&(a=h,n=e.convert(n,a),c=e.find(i,[a,a]));var l=u.length>0?r(c,0,u,u[0],o,n,s):[];return t.createDenseMatrix({data:l,size:pr(u),datatype:a})};function r(t,e,n,i,s,a,o){var u=[];if(e===n.length-1)for(var h=0;h<i;h++)u[h]=o?t(a,s[h]):t(s[h],a);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],s[c],a,o);return u}})),zs=cn("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Ts({typed:e,equalScalar:s}),o=Os({typed:e});return e("ceil",{number:function(t){return Pr(t,n(t),r.epsilon)?n(t):ls(t)},"number, number":function(t,e){if(Pr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return ys(t,n(t),r.epsilon)?n(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return ys(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Gi.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return is(t,this)},"Array | Matrix, number":function(t,e){return is(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),As=cn("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s}=t,a=Os({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new r(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new r(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return is(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return is(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return a(n(e),t,this,!0).valueOf()}})})),Cs=cn("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Ts({typed:e,equalScalar:s}),o=Os({typed:e});return e("floor",{number:function(t){return Pr(t,n(t),r.epsilon)?n(t):Math.floor(t)},"number, number":function(t,e){if(Pr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return ys(t,n(t),r.epsilon)?n(t):t.floor()},"BigNumber, BigNumber":function(t,e){return ys(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Gi.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return is(t,this)},"Array | Matrix, number":function(t,e){return is(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Rs=cn("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Wr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],y=a[1],g="string"==typeof o&&o===p?o:void 0,v=g?e.find(n,[g,g]):n,x=[];for(f=0;f<m;f++)x[f]=[];var w=[],b=[];for(d=0;d<y;d++){for(var _=d+1,M=c[d],E=c[d+1],N=M;N<E;N++)w[f=h[N]]=i?v(u[N],s[f][d]):v(s[f][d],u[N]),b[f]=_;for(f=0;f<m;f++)b[f]===_?x[f][d]=w[f]:x[f][d]=s[f][d];}return t.createDenseMatrix({data:x,size:[m,y],datatype:g})}})),Ds=cn("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Wr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,E,N,S=s&&c?[]:void 0,T=[],O=[],z=s&&c?[]:void 0,A=s&&c?[]:void 0,C=[],R=[];for(_=0;_<g;_++){O[_]=T.length;var D=_+1;for(E=o[_],N=o[_+1],M=E;M<N;M++)b=a[M],T.push(b),C[b]=D,z&&(z[b]=s[M]);for(E=p[_],N=p[_+1],M=E;M<N;M++)if(C[b=l[M]]===D){if(z){var k=w(z[b],c[M]);v(k,x)?C[b]=null:z[b]=k;}}else T.push(b),R[b]=D,A&&(A[b]=c[M]);if(z&&A)for(M=O[_];M<T.length;)C[b=T[M]]===D?(S[M]=z[b],M++):R[b]===D?(S[M]=A[b],M++):T.splice(M,1);}return O[g]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[y,g],datatype:m})}})),ks=cn("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var E=0;E<p;E++)0===v&&(m[E]=[]),g[E]===x?m[E][v]=s?d(n,y[E]):d(y[E],n):m[E][v]=n;}return new r({data:m,size:[p,f],datatype:l})}})),Is=cn("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,n,i){var s,a=t._data,o=t._size,u=t._datatype,h=n._data,c=n._size,l=n._datatype,p=[];if(o.length!==c.length)throw new Wr(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f];}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=p.length>0?r(d,0,p,p[0],a,h):[];return t.createDenseMatrix({data:m,size:p,datatype:s})};function r(t,e,n,i,s,a){var o=[];if(e===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var h=0;h<i;h++)o[h]=r(t,e+1,n,n[e+1],s[h],a[h]);return o}})),Ls=cn("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._data,o=t._size,u=t._datatype,h=n._values,c=n._index,l=n._ptr,p=n._size,f=n._datatype;if(o.length!==p.length)throw new Wr(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],y=o[1],g=r,v=0,x=i;"string"==typeof u&&u===f&&(d=u,g=e.find(r,[d,d]),v=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],M=0;M<y;M++){_[M]=b.length;for(var E=l[M],N=l[M+1],S=E;S<N;S++){var T=c[S],O=s?x(h[S],a[T][M]):x(a[T][M],h[S]);g(O,v)||(b.push(T),w.push(O));}}return _[y]=b.length,n.createSparseMatrix({values:w,index:b,ptr:_,size:[m,y],datatype:d})}})),Bs=cn("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Wr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],y=0,g=n;"string"==typeof o&&o===p&&(f=o,y=e.convert(0,f),g=e.find(n,[f,f]));for(var v=[],x=0;x<d;x++)v[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var M=_+1,E=c[_],N=c[_+1],S=E;S<N;S++){var T=h[S];w[T]=i?g(u[S],s[T][_]):g(s[T][_],u[S]),b[T]=M;}for(var O=0;O<d;O++)b[O]===M?v[O][_]=w[O]:v[O][_]=i?g(y,s[O][_]):g(s[O][_],y);}return t.createDenseMatrix({data:v,size:[d,m],datatype:f})}})),Fs=cn("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Wr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,E,N=s&&c?[]:void 0,S=[],T=[],O=N?[]:void 0,z=N?[]:void 0,A=[],C=[];for(_=0;_<g;_++){T[_]=S.length;var R=_+1;for(M=o[_],E=o[_+1];M<E;M++)b=a[M],S.push(b),A[b]=R,O&&(O[b]=s[M]);for(M=p[_],E=p[_+1];M<E;M++)A[b=l[M]]!==R&&S.push(b),C[b]=R,z&&(z[b]=c[M]);if(N)for(M=T[_];M<S.length;){var D=A[b=S[M]],k=C[b];if(D===R||k===R){var I=w(D===R?O[b]:x,k===R?z[b]:x);v(I,x)?S.splice(M,1):(N.push(I),M++);}}}return T[g]=S.length,t.createSparseMatrix({values:N,index:S,ptr:T,size:[y,g],datatype:m})}})),Ps=cn("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var E=0;E<p;E++)0===v&&(m[E]=[]),g[E]===x?m[E][v]=s?d(n,y[E]):d(y[E],n):m[E][v]=s?d(n,0):d(0,n);}return new r({data:m,size:[p,f],datatype:l})}}));cn("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Ls({typed:e,equalScalar:n}),a=Bs({typed:e}),o=Fs({typed:e,equalScalar:n}),u=Ts({typed:e,equalScalar:n}),h=Ps({typed:e,DenseMatrix:i}),c=Is({typed:e}),l=Os({typed:e});return e("mod",{"number, number":ps,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var js=cn("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":hs,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}})})),qs=cn("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=Ts({typed:e,equalScalar:s}),u=Os({typed:e});function h(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=c[1],d=n,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(n,[s,s]),m=e.find(i,[s,s]));for(var y=[],g=0;g<f;g++){for(var v=m(a[0],h[0][g]),x=1;x<p;x++)v=d(v,m(a[x],h[x][g]));y[g]=v;}return t.createDenseMatrix({data:y,size:[f],datatype:s})}(t,r)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._datatype,l=o[0],p=o[1],f=n,d=i;u&&c&&u===c&&"string"==typeof u&&(s=u,f=e.find(n,[s,s]),d=e.find(i,[s,s]));for(var m=[],y=0;y<l;y++){for(var g=a[y],v=d(g[0],h[0]),x=1;x<p;x++)v=f(v,d(g[x],h[x]));m[y]=v;}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=[],y=[],g=[],v=n,x=i,w=s,b=0;h&&p&&h===p&&"string"==typeof h&&(c=h,v=e.find(n,[c,c]),x=e.find(i,[c,c]),w=e.find(s,[c,c]),b=e.convert(0,c));var _=[],M=[];g[0]=0;for(var E=0;E<d;E++){var N=l[E];if(!w(N,b))for(var S=u[E],T=u[E+1],O=S;O<T;O++){var z=o[O];M[z]?_[z]=v(_[z],x(N,a[O])):(M[z]=!0,y.push(z),_[z]=x(N,a[O]));}}for(var A=y.length,C=0;C<A;C++){var R=y[C];m[C]=_[R];}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[f,1],datatype:c})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=o[1],d=c[1],m=n,y=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(n,[s,s]),y=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){var x=a[v];g[v]=[];for(var w=0;w<d;w++){for(var b=y(x[0],h[0][w]),_=1;_<f;_++)b=m(b,y(x[_],h[_][w]));g[v][w]=b;}}return t.createDenseMatrix({data:g,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,r){var a=t._data,o=t._size,u=t._datatype,h=r._values,c=r._index,l=r._ptr,p=r._size,f=r._datatype;if(!h)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],y=p[1],g=n,v=i,x=s,w=0;u&&f&&u===f&&"string"==typeof u&&(d=u,g=e.find(n,[d,d]),v=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],M=[],E=r.createSparseMatrix({values:b,index:_,ptr:M,size:[m,y],datatype:d}),N=0;N<y;N++){M[N]=_.length;var S=l[N],T=l[N+1];if(T>S)for(var O=0,z=0;z<m;z++){for(var A=z+1,C=void 0,R=S;R<T;R++){var D=c[R];O!==A?(C=v(a[z][D],h[R]),O=A):C=g(C,v(a[z][D],h[R]));}O!==A||x(C,w)||(_.push(z),b.push(C));}}return M[y]=_.length,E},"SparseMatrix, DenseMatrix":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=r._size[1],y=n,g=i,v=s,x=0;h&&p&&h===p&&"string"==typeof h&&(c=h,y=e.find(n,[c,c]),g=e.find(i,[c,c]),v=e.find(s,[c,c]),x=e.convert(0,c));for(var w=[],b=[],_=[],M=t.createSparseMatrix({values:w,index:b,ptr:_,size:[f,m],datatype:c}),E=[],N=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var z=l[O][S];if(!v(z,x))for(var A=u[O],C=u[O+1],R=A;R<C;R++){var D=o[R];N[D]!==T?(N[D]=T,b.push(D),E[D]=g(z,a[R])):E[D]=y(E[D],g(z,a[R]));}}for(var k=_[S],I=b.length,L=k;L<I;L++){var B=b[L];w[L]=E[B];}}return _[m]=b.length,M},"SparseMatrix, SparseMatrix":function(t,r){var s,a=t._values,o=t._index,u=t._ptr,h=t._datatype,c=r._values,l=r._index,p=r._ptr,f=r._datatype,d=t._size[0],m=r._size[1],y=a&&c,g=n,v=i;h&&f&&h===f&&"string"==typeof h&&(s=h,g=e.find(n,[s,s]),v=e.find(i,[s,s]));for(var x,w,b,_,M,E,N,S,T=y?[]:void 0,O=[],z=[],A=t.createSparseMatrix({values:T,index:O,ptr:z,size:[d,m],datatype:s}),C=y?[]:void 0,R=[],D=0;D<m;D++){z[D]=O.length;var k=D+1;for(M=p[D],E=p[D+1],_=M;_<E;_++)if(S=l[_],y)for(w=u[S],b=u[S+1],x=w;x<b;x++)N=o[x],R[N]!==k?(R[N]=k,O.push(N),C[N]=v(c[_],a[x])):C[N]=g(C[N],v(c[_],a[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)N=o[x],R[N]!==k&&(R[N]=k,O.push(N));if(y)for(var I=z[D],L=O.length,B=I;B<L;B++){var F=O[B];T[B]=C[F];}}return z[m]=O.length,A}});return e("multiply",dr({"Array, Array":function(t,e){h(Zr(t),Zr(e));var n=this(r(t),r(e));return ke(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return h(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,r[0]):c(t,e):1===n.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,r(e))},"Array, Matrix":function(t,e){return this(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return o(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(r(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},i.signatures))})),Hs=cn("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:s,DenseMatrix:a}=t,o=Rs({typed:e}),u=Bs({typed:e}),h=Fs({typed:e,equalScalar:n}),c=ks({typed:e,DenseMatrix:a}),l=Is({typed:e}),p=Os({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return Vs(t,e),h(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Vs(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Vs(t,e),o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Vs(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,s(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(r(e),t,this,!0).valueOf()}})}));function Vs(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new Wr(r.length,n.length)}var $s=cn("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,i,s){var a=t._size,o=t._datatype,u=i._size,h=i._datatype;if(a.length!==u.length)throw new Wr(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,l,p,f=a[0],d=a[1],m=0,y=s;"string"==typeof o&&o===h&&(c=o,m=e.convert(0,c),y=e.find(s,[c,c]));var g=[];for(l=0;l<f;l++)g[l]=[];var v=[],x=[],w=[],b=[];for(p=0;p<d;p++){var _=p+1;for(n(t,p,w,v,_),n(i,p,b,x,_),l=0;l<f;l++){var M=w[l]===_?v[l]:m,E=b[l]===_?x[l]:m;g[l][p]=y(M,E);}}return new r({data:g,size:[f,d],datatype:c})};function n(t,e,r,n,i){for(var s=t._values,a=t._index,o=t._ptr,u=o[e],h=o[e+1];u<h;u++){var c=a[u];r[c]=i,n[c]=s[u];}}})),Gs=cn("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return is(t,this)}})}));function Ws(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(t){var a=i[t];if(a&&(delete n[a],delete i[t],--e,r===a)){if(!e)return s=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(o){var u=i[o],h=++s;if(n[h]=o,i[o]=h,!u){if(++e<=t)return;return o=n[r],a(o),o}if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null);}}}function Ys(t){var{hasher:e,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,e=null==e?JSON.stringify:e,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:Ws(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var Zs=cn("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e("identity",{"":function(){return "Matrix"===r.matrix?n([]):[]},string:function(t){return n(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return o(t)},"Array, string":function(t,e){return o(t,e)},Matrix:function(t){return o(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){switch(t.length){case 0:return e?n(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,r){var n=Oe(t)||Oe(e)?i:null;if(Oe(t)&&(t=t.toNumber()),Oe(e)&&(e=e.toNumber()),!Ar(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!Ar(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var o=n?new i(1):1,u=n?new n(0):0,h=[t,e];if(r){if("sparse"===r)return a.diagonal(h,o,0,u);if("dense"===r)return s.diagonal(h,o,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=Kr([],h,u),l=t<e?t:e,p=0;p<l;p++)c[p][p]=o;return c}}));function Xs(){throw new Error('No "bignumber" implementation available')}function Qs(){throw new Error('No "fraction" implementation available')}function Js(t,e,r,n){if(!(this instanceof Js))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack;}Js.prototype=new Error,Js.prototype.constructor=Error,Js.prototype.name="ArgumentsError",Js.prototype.isArgumentsError=!0;var Ks=cn("size",["typed","config","?matrix"],(t=>{var{typed:e,config:r,matrix:n}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:Zr,string:function(t){return "Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return "Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function ta(t,e){if(ia(t)&&ra(t,e))return t[e];if("function"==typeof t[e]&&na(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function ea(t,e,r){if(ia(t)&&ra(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function ra(t,e){return !(!t||"object"!=typeof t)&&(!!wr(sa,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function na(t,e){return null!=t&&"function"==typeof t[e]&&(!(wr(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!wr(aa,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function ia(t){return "object"==typeof t&&t&&t.constructor===Object}var sa={length:!0,name:!0},aa={toString:!0,valueOf:!0,toLocaleString:!0},oa=cn("subset",["typed","matrix"],(t=>{var{typed:e,matrix:r}=t;return e("subset",{"Array, Index":function(t,e){var n=r(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":ca,"string, Index":ua,"Array, Index, any":function(t,e,n){return r(pr(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return r(pr(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":ha,"string, Index, string, string":ha,"Object, Index, any":la})}));function ua(t,e){if(!Pe(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new Wr(e.size().length,1);var r=t.length;Jr(e.min()[0],r),Jr(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach((function(e){i+=t.charAt(e);})),i}function ha(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new Wr(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new Wr(i.size()[0],r.length);var s=t.length;Jr(e.min()[0]),Jr(e.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=t.charAt(o);if(i.forEach((function(t,e){a[t]=r.charAt(e[0]);})),a.length>s)for(var u=s-1,h=a.length;u<h;u++)a[u]||(a[u]=n);return a.join("")}function ca(t,e){if(1!==e.size().length)throw new Wr(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return ta(t,r)}function la(t,e,r){if(1!==e.size().length)throw new Wr(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=pr(t);return ea(i,n,r),i}var pa=cn("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("zeros",{"":function(){return "Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return "Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,n){Oe(t)&&(e=!0,n[r]=t.toNumber());})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!Ar(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}));}(t),e){var s=n(e);return t.length>0?s.resize(t,r):s}var a=[];return t.length>0?Kr(a,t,r):a}})),fa=cn("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:Hr,"any, Object | function | number":Hr})})),da=cn("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:r?t=>r(t):Xs,Fraction:n?t=>n(t):Qs};return function(t,e){var r=lr(t);if(!(r in i))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)}})),ma=cn("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:r}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),i=r(1,lr(e));return n.value=this(null===n.value?n._normalize(i):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var i=r(1,lr(t));return n.value=this(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}})})),ya=cn("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=t;return e("pow",{"number, number":h,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||r.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":c,"Array, BigNumber":function(t,e){return c(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function h(t,e){if(r.predictable&&!Ar(e)&&t<0)try{var n=o(e),i=a(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return (n.n%2==0?1:-1)*Math.pow(-t,e)}catch(s){}return r.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:Ar(e)||t>=0||r.predictable?fs(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function c(t,e){if(!Ar(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=Zr(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var s=n(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(s=i(a,s)),e>>=1,a=i(a,a);return s}function l(t,e){return s(c(t.valueOf(),e))}}));function ga(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ga(Object(r),!0).forEach((function(e){xa(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function xa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wa="Number of decimals in function round must be an integer",ba=cn("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:s,DenseMatrix:a}=t,o=Ts({typed:e,equalScalar:n}),u=Ps({typed:e,DenseMatrix:a}),h=Os({typed:e});return e("round",va(va({},_a),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(wa);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(wa);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(wa);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(wa);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(wa);return t.round(e)},"Array | Matrix":function(t){return is(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):h(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}}))})),_a={number:ds,"number, number":function(t,e){if(!Ar(e))throw new TypeError(wa);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return ds(t,e)}},Ma=cn("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Bs({typed:e}),a=$s({typed:e,DenseMatrix:i}),o=Ps({typed:e,DenseMatrix:i}),u=Is({typed:e}),h=Os({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,n)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,n,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,n,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return o(t,e,n,!1)},"DenseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, SparseMatrix":function(t,e){return o(e,t,n,!0)},"any, DenseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return h(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,n,!0).valueOf()}})}));cn("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var Ea=cn("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Bs({typed:e}),a=$s({typed:e,DenseMatrix:i}),o=Ps({typed:e,DenseMatrix:i}),u=Is({typed:e}),h=Os({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Pr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!ys(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return -1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Na=cn("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Bs({typed:e}),a=$s({typed:e,DenseMatrix:i}),o=Ps({typed:e,DenseMatrix:i}),u=Is({typed:e}),h=Os({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Pr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!ys(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Sa=cn("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function s(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child===e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1;}function a(t,e){var r=e.parent;r&&(e.mark?(s(t,e,r),a(r)):e.mark=!0);}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,e(t,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,a=t.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--;}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,a=Math.floor(Math.log(i)*n)+1,u=new Array(a),h=0,c=t;if(c)for(h++,c=c.right;c!==t;)h++,c=c.right;for(;h>0;){for(var l=c.degree,p=c.right;s=u[l];){if(r(c.key,s.key)){var f=s;s=c,c=f;}o(s,c),u[l]=null,l++;}u[l]=c,c=p,h--;}t=null;for(var d=0;d<a;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;var i=r.parent;i&&e(r.key,i.key)&&(s(t,r,i),a(t,i));e(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum();};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1;};return i}),{isClass:!0}),Ta=cn("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n;}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else {var r=this._heap.insert(t,e);this._values[t]=r;}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n);},i.prototype.forEach=function(t,e,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=e;)o.key>=t&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var h=a[u];s[(o=i.insert(h.key,h.value)).key]=o;}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i}),{isClass:!0});Ys((function(t){return new t(1).exp()}),{hasher:za}),Ys((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:za});var Oa=Ys((function(t){return t.acos(-1)}),{hasher:za});function za(t){return t[0].precision}function Aa(){return (Aa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function Ca(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(r),!0).forEach((function(e){Da(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Da(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ys((function(t){return Oa(t).times(2)}),{hasher:za});var ka=cn("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,r,n,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:h,pow:c,abs:l,fix:p,round:f,equal:d,isNumeric:m,format:y,number:g,Complex:v,BigNumber:x,Fraction:w}=t,b=g;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!ze(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var r=_.parse(e);this.units=r.units,this.dimensions=r.dimensions;}else {this.units=[{unit:L,prefix:R.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0;}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function M(){for(;" "===n||"\t"===n;)N();}function E(t){return t>="0"&&t<="9"}function N(){r++,n=e.charAt(r);}function S(t){r=t,n=e.charAt(r);}function T(){var t,e="",i=r;if("+"===n?N():"-"===n&&(e+=n,N()),!((t=n)>="0"&&t<="9"||"."===t))return S(i),null;if("."===n){if(e+=n,N(),!E(n))return S(i),null}else {for(;E(n);)e+=n,N();"."===n&&(e+=n,N());}for(;E(n);)e+=n,N();if("E"===n||"e"===n){var s="",a=r;if(s+=n,N(),"+"!==n&&"-"!==n||(s+=n,N()),!E(n))return S(a),e;for(e+=s;E(n);)e+=n,N();}return e}function O(){for(var t="";E(n)||_.isValidAlpha(n);)t+=n,N();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function z(t){return n===t?(N(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},r=-1,n="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;N(),M();var h=T(),c=null;if(h){if("BigNumber"===s.number)c=new x(h);else if("Fraction"===s.number)try{c=new w(h);}catch(E){c=parseFloat(h);}else c=parseFloat(h);M(),z("*")?(o=1,u=!0):z("/")&&(o=-1,u=!0);}for(var l=[],p=1;;){for(M();"("===n;)l.push(o),p*=o,o=1,N(),M();var f=void 0;if(!n)break;var d=n;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+r.toString());var m=A(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var y=o*p;if(M(),z("^")){M();var g=T();if(null===g)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=g;}a.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*y;for(M();")"===n;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+r.toString());p/=l.pop(),N(),M();}if(u=!1,z("*")?(o=1,u=!0):z("/")?(o=-1,u=!0):o=1,m.unit.base){var b=m.unit.base.key;U.auto[b]={unit:m.unit,prefix:m.prefix};}}if(M(),n)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=pr(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var r in t.units[e]={},this.units[e])wr(this.units[e],r)&&(t.units[e][r]=this.units[e][r]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,r,n,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var o=t;s=_._getNumberConverter(lr(t));for(var h=0;h<this.units.length;h++)e=s(this.units[h].unit.value),i=s(this.units[h].prefix.value),n=s(this.units[h].power),o=u(o,c(u(e,i),n));return o}return e=(s=_._getNumberConverter(lr(t)))(this.units[0].unit.value),r=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(t,r),u(e,i))},_.prototype._denormalize=function(t,e){var r,n,i,s,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;a=_._getNumberConverter(lr(t));for(var p=0;p<this.units.length;p++)r=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),l=h(l,c(u(r,s),i));return l}return r=(a=_._getNumberConverter(lr(t)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),o(h(h(t,r),null==e?s:e),n)};var A=Ys((t=>{if(wr(B,t)){var e=B[t];return {unit:e,prefix:e.prefixes[""]}}for(var r in B)if(wr(B,r)&&qr(t,r)){var n=B[r],i=t.length-r.length,s=t.substring(0,i),a=wr(n.prefixes,s)?n.prefixes[s]:void 0;if(void 0!==a)return {unit:n,prefix:a}}return null}),{hasher:t=>t[0],limit:100});function C(t){return t.equalBase(k.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==A(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=k[t]),!t)return !1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ra({},t.units[n]);e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=u(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,C(e)},_.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ra(Ra({},t.units[n]),{},{power:-t.units[n].power});e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=h(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,C(e)},_.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!==e.value?e.value=c(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,C(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=B.W);return t},_.prototype.to=function(t){var e,r=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=pr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(Ce(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return (e=t.clone()).value=pr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return (e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return {mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,r=this.clone(),n=[];for(var i in j)if(wr(j,i)&&r.hasBase(k[i])){t=i;break}if("NONE"===t)r.units=[];else if(t&&wr(j,t)&&(e=j[t]),e)r.units=[{unit:e.unit,prefix:e.prefix,power:1}];else {for(var s=!1,a=0;a<D.length;a++){var o=D[a];Math.abs(r.dimensions[a]||0)>1e-12&&(wr(j,o)?n.push({unit:j[o].unit,prefix:j[o].prefix,power:r.dimensions[a]||0}):s=!0);}n.length<r.units.length&&!s&&(r.units=n);}return r},_.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!wr(U.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:U.si[n].unit,prefix:U.si[n].prefix,power:t.dimensions[r]||0});}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var a=t;return r>0&&n>0&&(a+=" / "),a+=e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==e.value&&null!==e.value&&ze(e.value)&&(r=Math.abs(e.value.re)<1e-14),e.units)wr(e.units,n)&&e.units[n].unit&&("VA"===e.units[n].unit.name&&r?e.units[n].unit=B.VAR:"VAR"!==e.units[n].unit.name||r||(e.units[n].unit=B.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?y(i,t||{}):"",a=e.formatUnits();return e.value&&ze(e.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+=a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(wr(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(t/Math.pow(o.value*e,n))/Math.LN10-1.2);(u<i||u===i&&o.name.length<r.name.length)&&(r=o,i=u);}}return r},_.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!==t.length-1);n++){var i=e.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(e.toNumeric()),t[n].toString());r.push(u),e=o(e,u);}for(var h=0,c=0;c<r.length;c++)h=a(h,r[c].value);return d(h,this.value)&&(e.value=0),r.push(e),r};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=Aa({},R.SHORT,R.LONG),R.BINARY_SHORT=Aa({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=Aa({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in k)wr(k,I)&&(k[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:D.map((t=>0))},B={meter:{name:"meter",base:k.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:k.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(t){if("BigNumber"===t.number){var e=Oa(x);B.rad.value=new x(1),B.deg.value=e.div(180),B.grad.value=e.div(200),B.cycle.value=e.times(2),B.arcsec.value=e.div(648e3),B.arcmin.value=e.div(10800);}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value;}P(s),i&&i("config",(function(t,e){t.number!==e.number&&P(t);}));var U={si:{NONE:{unit:L,prefix:R.NONE[""]},LENGTH:{unit:B.m,prefix:R.SHORT[""]},MASS:{unit:B.g,prefix:R.SHORT.k},TIME:{unit:B.s,prefix:R.SHORT[""]},CURRENT:{unit:B.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:R.SHORT[""]},ANGLE:{unit:B.rad,prefix:R.SHORT[""]},BIT:{unit:B.bits,prefix:R.SHORT[""]},FORCE:{unit:B.N,prefix:R.SHORT[""]},ENERGY:{unit:B.J,prefix:R.SHORT[""]},POWER:{unit:B.W,prefix:R.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:R.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:R.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:B.m,prefix:R.SHORT.c},U.cgs.MASS={unit:B.g,prefix:R.SHORT[""]},U.cgs.FORCE={unit:B.dyn,prefix:R.SHORT[""]},U.cgs.ENERGY={unit:B.erg,prefix:R.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:B.ft,prefix:R.NONE[""]},U.us.MASS={unit:B.lbm,prefix:R.NONE[""]},U.us.TEMPERATURE={unit:B.degF,prefix:R.NONE[""]},U.us.FORCE={unit:B.lbf,prefix:R.NONE[""]},U.us.ENERGY={unit:B.BTU,prefix:R.BTU[""]},U.us.POWER={unit:B.hp,prefix:R.NONE[""]},U.us.PRESSURE={unit:B.psi,prefix:R.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var j=U.auto;for(var q in _.setUnitSystem=function(t){if(!wr(U,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(U).join(", "));j=U[t];},_.getUnitSystem=function(){for(var t in U)if(wr(U,t)&&U[t]===j)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},B)if(wr(B,q)){var H=B[q];H.dimensions=H.base.dimensions;}for(var V in F)if(wr(F,V)){var $=B[F[V]],G={};for(var W in $)wr($,W)&&(G[W]=$[W]);G.name=V,B[V]=G;}return _.isValidAlpha=function(t){return /^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(wr(t,r)&&_.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)_.deleteUnit(t[r].aliases[n]);var i;for(var s in t)wr(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(wr(B,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(n=t.charAt(e),0===e&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(n)&&!E(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,a,o=null,u=[],h=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(i=e);else {if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,h=e.offset,a=e.baseName,e.aliases&&(u=e.aliases.valueOf());}if(u)for(var c=0;c<u.length;c++)if(wr(B,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0});}catch(S){throw S.message='Could not create unit "'+t+'" from "'+i+'": '+S.message,S}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],h=h||0,s=s&&s.toUpperCase&&R[s.toUpperCase()]||R.NONE;var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:h};var p=!1;for(var f in k)if(wr(k,f)){for(var d=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(k[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,l.base=k[f];break}}if(!p){a=a||t+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=a,k[a]=y,j[a]={unit:l,prefix:R.NONE[""]},l.base=k[a];}}else {if(a=a||t+"_STUFF",D.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(a),k)wr(k,g)&&(k[g].dimensions[D.length-1]=0);for(var v={dimensions:[]},x=0;x<D.length;x++)v.dimensions[x]=0;v.dimensions[D.length-1]=1,v.key=a,k[a]=v,l={name:t,value:1,dimensions:k[a].dimensions.slice(0),prefixes:s,offset:h,base:k[a]},j[a]={unit:l,prefix:R.NONE[""]};}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],M={};for(var N in l)wr(l,N)&&(M[N]=l[N]);M.name=b,_.UNITS[b]=M;}return delete A.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t];},_.PREFIXES=R,_.BASE_DIMENSIONS=D,_.BASE_UNITS=k,_.UNIT_SYSTEMS=U,_.UNITS=B,_}),{isClass:!0});cn("unit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return r.isValuelessUnit(t)?new r(null,t):r.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new r(t,e)},"Array | Matrix":function(t){return is(t,this)}})}));cn("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("createUnit",{"Object, Object":function(t,e){return r.createUnit(t,e)},Object:function(t){return r.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.createUnit(e,{})}})}));cn("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=t,o=Rs({typed:e}),u=Ds({typed:e,equalScalar:i}),h=ks({typed:e,DenseMatrix:s}),c=Is({typed:e}),l=Os({typed:e});return e("add",dr({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,n)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,n,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,n,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"DenseMatrix, any":function(t,e){return l(t,e,n,!1)},"SparseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, DenseMatrix":function(t,e){return l(e,t,n,!0)},"any, SparseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return l(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}));var Fa=cn("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=a(t,s),h=ke(t)?t._data:t,c=ke(t)?t._datatype:void 0,l=ke(s)?s._data:s,p=ke(s)?s._datatype:void 0,f=2===o(t).length,d=2===o(s).length,m=r,y=n;if(c&&p&&c===p&&"string"==typeof c){var g=c;m=e.find(r,[g,g]),y=e.find(n,[g,g]);}if(!f&&!d){for(var v=y(i(h[0]),l[0]),x=1;x<u;x++)v=m(v,y(i(h[x]),l[x]));return v}if(!f&&d){for(var w=y(i(h[0]),l[0][0]),b=1;b<u;b++)w=m(w,y(i(h[b]),l[b][0]));return w}if(f&&!d){for(var _=y(i(h[0][0]),l[0]),M=1;M<u;M++)_=m(_,y(i(h[M][0]),l[M]));return _}if(f&&d){for(var E=y(i(h[0][0]),l[0][0]),N=1;N<u;N++)E=m(E,y(i(h[N][0]),l[N][0]));return E}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,s=t._values,o=e._index,u=e._values,h=0,c=r,l=n,p=0,f=0;for(;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(h=c(h,l(s[p],u[f])),p++,f++);}return h}});function a(t,e){var r,n,i=o(t),s=o(e);if(1===i.length)r=i[0];else {if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===s.length)n=s[0];else {if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function o(t){return ke(t)?t.size():s(t)}})),Pa={end:!0},Ua=cn("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(t){return this.compile().evaluate(t)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var t=this._compile(e,{}),r={};return {evaluate:function(e){var n=e||{};return function(t){for(var e in t)if(wr(t,e)&&e in Pa)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}},r.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(t){if(!ir(t))throw new TypeError("Callback function must return a Node");return t},r.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r);}));}(this,t);},r.prototype.transform=function(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)},r.prototype.filter=function(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r);})),e},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},r.prototype.equals=function(t){return !!t&&yr(this,t)},r.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},r.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function ja(t){return t&&t.isIndexError?new Yr(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function qa(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ta(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw ja(n)}}}var Ha=cn("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:r}=t,n=qa({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError('Node expected for parameter "object"');if(!nr(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function s(t){return !(Ze(t)||Xe(t)||tr(t)||rr(t)||sr(t)||or(t)||hr(t))}return i.prototype=new r,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var r=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,n){return ta(r(t,e,n),s)}}return function(t,e,s){var a=r(t,e,s),o=i(t,e,a);return n(a,o)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this);},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return {mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),Va=cn("ArrayNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(ir))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(t,e){var r=sn(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n(sn(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return sn(r,(function(r){return r(t,e,n)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this);}},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(t){return "["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},r.prototype.toJSON=function(){return {mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(t){return '<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?e+=r.items.map((function(e){return e.toTex(t)})).join("&"):e+=r.toTex(t),e+="\\\\";})),e+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});var $a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Ga(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<$a.length;i++)if(n in $a[i])return i;return null}function Wa(t,e){var r=t;"keep"!==e&&(r=t.getContent());var n=r.getIdentifier(),i=Ga(r,e);if(null===i)return null;var s=$a[i][n];if(wr(s,"associativity")){if("left"===s.associativity)return "left";if("right"===s.associativity)return "right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function Ya(t,e,r){var n="keep"!==r?t.getContent():t,i="keep"!==r?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=Ga(n,r);if(null===o)return null;var u=$a[o][s];if(wr(u,"associativeWith")&&u.associativeWith instanceof Array){for(var h=0;h<u.associativeWith.length;h++)if(u.associativeWith[h]===a)return !0;return !1}return null}var Za=cn("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:r,Node:n}=t,i=qa({subset:e}),s=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ea(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw ja(s)}}}({subset:e,matrix:r});function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r||e,!hr(t)&&!Ze(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(hr(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!nr(this.index))throw new TypeError('IndexNode expected as "index"');if(!ir(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function o(t,e){e||(e="keep");var r=Ga(t,e),n=Ga(t.value,e);return "all"===e||null!==n&&n<=r}return a.prototype=new n,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,a=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),s=a(t,e,n);return ea(i,u,s)}}if(hr(this.object))return function(t,e,i){var u=r(t,e,i),h=a(t,e,i),c=n(t,e,u);return ea(t,o,s(u,c,h)),h};var h=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,r){var i=h(t,e,r),o=ta(i,c),u=n(t,e,o),l=a(t,e,r);return ea(i,c,s(o,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,r){var o=h(t,e,r),u=l(t,e,o),c=i(o,u),p=n(t,e,c),f=a(t,e,r);return s(o,u,s(c,p,f)),f}}if(!hr(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return ea(t,o,a(t,e,r))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this);},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return o(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},a.prototype.toJSON=function(){return {mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return o(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return o(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},a}),{isClass:!0,isNode:!0}),Xa=cn("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:r}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!ir(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return {node:e,visible:r}}));}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(t,r){var n=sn(this.blocks,(function(e){return {evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var s=[];return an(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&s.push(n);})),new e(s)}},n.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this);},n.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],s=this._ifNode(t(i.node,"blocks["+r+"].node",this));e[r]={node:s,visible:i.visible};}return new n(e)},n.prototype.clone=function(){return new n(this.blocks.map((function(t){return {node:t.node,visible:t.visible}})))},n.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return {mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(t){return new n(t.blocks)},n.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),Qa=cn("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError("Parameter condition must be a Node");if(!ir(e))throw new TypeError("Parameter trueExpr must be a Node");if(!ir(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n;}return r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return !!t;if(t){if(Oe(t))return !t.isZero();if(ze(t))return !(!t.re&&!t.im);if(Ce(t))return !!t.value}if(null==t)return !1;throw new TypeError('Unsupported type of condition "'+lr(t)+'"')}(r(t,e,s))?n(t,e,s):i(t,e,s)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.condition.toString(t),i=Ga(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=Ga(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var o=this.falseExpr.toString(t),u=Ga(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o="("+o+")"),n+" ? "+s+" : "+o},r.prototype.toJSON=function(){return {mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.condition.toHTML(t),i=Ga(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=Ga(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(t),u=Ga(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},r.prototype._toTex=function(t){return "\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),Ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},Ka={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},to={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},eo=function(t,e){return Ja({},t,e)},ro={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},no={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},io={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(no.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(no.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(no.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(no.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(no.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(no.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(no.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(no.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(no.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(no.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(no.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(no.bitAnd,"${args[1]}\\right)")},bitNot:{1:no.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(no.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(no.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(no.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(no.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(no.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(no.and,"${args[1]}\\right)")},not:{1:no.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(no.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(no.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(no.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(no.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(no.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(no.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(no.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(no.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(no.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(no.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(no.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(no.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(no.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(ro.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},so={deg:"^\\circ"};function ao(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,n=void 0!==r&&r,i=e.escapeMapFn,s=void 0===i?eo:i,a=String(t),o="",u=s(Ja({},Ka),n?Ja({},to):{}),h=Object.keys(u),c=function(){var t=!1;h.forEach((function(e,r){t||a.length>=e.length&&a.slice(0,e.length)===e&&(o+=u[h[r]],a=a.slice(e.length,a.length),t=!0);})),t||(o+=a.slice(0,1),a=a.slice(1,a.length));};a;)c();return o}(t,{preserveFormatting:!0})}function oo(t,e){return (e=void 0!==e&&e)?wr(so,t)?so[t]:"\\mathrm{"+ao(t)+"}":wr(ro,t)?ro[t]:ao(t)}var uo=cn("ConstantNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=t;}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(t,e){var r=this.value;return function(){return r}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(t){return Hr(this.value,t)},r.prototype.toHTML=function(t){var e=this._toString(t);switch(lr(this.value)){case"number":case"BigNumber":case"Fraction":return '<span class="math-number">'+e+"</span>";case"string":return '<span class="math-string">'+e+"</span>";case"boolean":return '<span class="math-boolean">'+e+"</span>";case"null":return '<span class="math-null-symbol">'+e+"</span>";case"undefined":return '<span class="math-undefined">'+e+"</span>";default:return '<span class="math-symbol">'+e+"</span>"}},r.prototype.toJSON=function(){return {mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.prototype._toTex=function(t){var e=this._toString(t);switch(lr(this.value)){case"string":return "\\mathtt{"+ao(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=e.toLowerCase().indexOf("e");return -1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},r}),{isClass:!0,isNode:!0}),ho=cn("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:r}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!ir(r))throw new TypeError('Node expected for parameter "expr"');if(t in Pa)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r;}function i(t,e){var r=Ga(t,e),n=Ga(t.expr,e);return "all"===e||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(t,r){var n=Object.create(r);an(this.params,(function(t){n[t]=!0;}));var i=this.expr._compile(t,n),s=this.name,a=this.params,o=on(this.types,","),u=s+"("+on(this.params,", ")+")";return function(t,r,n){var h={};h[o]=function(){for(var e=Object.create(r),s=0;s<a.length;s++)e[a[s]]=arguments[s];return i(t,e,n)};var c=e(s,h);return c.syntax=u,ea(t,s,c),c}},n.prototype.forEach=function(t){t(this.expr,"expr",this);},n.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new n(this.name,this.params.slice(0),e)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return i(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var t=this.types;return {mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,r){return {name:e,type:t[r]}})),expr:this.expr}},n.fromJSON=function(t){return new n(t.name,t.params,t.expr)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+$r(this.params[n])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+$r(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return i(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(oo).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0}),co=cn("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:r,size:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(ir))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,r,n){return new e(Oe(t)?t.toNumber():t,Oe(r)?r.toNumber():r,Oe(n)?n.toNumber():n)}return i.prototype=new r,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var r=sn(this.dimensions,(function(r,i){if(ur(r)){if(r.needsEnd()){var a=Object.create(e);a.end=!0;var o=r.start._compile(t,a),u=r.end._compile(t,a),h=r.step?r.step._compile(t,a):function(){return 1};return function(t,e,r){var a=n(r).valueOf(),c=Object.create(e);return c.end=a[i],s(o(t,c,r),u(t,c,r),h(t,c,r))}}var c=r.start._compile(t,e),l=r.end._compile(t,e),p=r.step?r.step._compile(t,e):function(){return 1};return function(t,e,r){return s(c(t,e,r),l(t,e,r),p(t,e,r))}}if(hr(r)&&"end"===r.name){var f=Object.create(e);f.end=!0;var d=r._compile(t,f);return function(t,e,r){var s=n(r).valueOf(),a=Object.create(e);return a.end=s[i],d(t,a,r)}}var m=r._compile(t,e);return function(t,e,r){return m(t,e,r)}})),i=ta(t,"index");return function(t,e,n){var s=sn(r,(function(r){return r(t,e,n)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this);},i.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&tr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return {mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+$r(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),lo=cn("ObjectNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return ir(t[e])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(wr(this.properties,n)){var i=Vr(n),s=JSON.parse(i);if(!ra(this.properties,s))throw new Error('No access to property "'+s+'"');r[s]=this.properties[n]._compile(t,e);}return function(t,e,n){var i={};for(var s in r)wr(r,s)&&(i[s]=r[s](t,e,n));return i}},r.prototype.forEach=function(t){for(var e in this.properties)wr(this.properties,e)&&t(this.properties[e],"properties["+Vr(e)+"]",this);},r.prototype.map=function(t){var e={};for(var n in this.properties)wr(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+Vr(n)+"]",this)));return new r(e)},r.prototype.clone=function(){var t={};for(var e in this.properties)wr(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)},r.prototype._toString=function(t){var e=[];for(var r in this.properties)wr(this.properties,r)&&e.push(Vr(r)+": "+this.properties[r].toString(t));return "{"+e.join(", ")+"}"},r.prototype.toJSON=function(){return {mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e=[];for(var r in this.properties)wr(this.properties,r)&&e.push('<span class="math-symbol math-property">'+$r(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return '<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e=[];for(var r in this.properties)wr(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return "\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),po=cn("OperatorNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[];}function n(t,e,r,n,i){var s,a=Ga(t,e),o=Wa(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return !1;default:return !0}}));switch(n.length){case 0:s=[];break;case 1:var u=Ga(n[0],e);if(i&&null!==u){var h,c;if("keep"===e?(h=n[0].getIdentifier(),c=t.getIdentifier()):(h=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===$a[a][c].latexLeftParens){s=[!1];break}if(!1===$a[u][h].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var l,p,f=Ga(n[0],e),d=Ya(t,n[0],e);l=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,y,g,v=Ga(n[1],e),x=Ya(t,n[1],e);if(p=null!==v&&(v===a&&"left"===o&&!x||v<a),i)"keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==f&&(!1===$a[a][m].latexLeftParens&&(l=!1),!1===$a[f][y].latexParens&&(l=!1)),null!==v&&(!1===$a[a][m].latexRightParens&&(p=!1),!1===$a[v][g].latexParens&&(p=!1));s=[l,p];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=n.map((function(r){var n=Ga(r,e),i=Ya(t,r,e),s=Wa(r,e);return null!==n&&(a===n&&o===s&&!i||n<a)})));}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(s=n.map((function(t,e){var r="ParenthesisNode"===t.getIdentifier();return !(!s[e]&&!r)}))),s}return r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(t,e){if("string"!=typeof this.fn||!na(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=ta(t,this.fn),n=sn(this.args,(function(r){return r._compile(t,e)}));if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var s=n[0],a=n[1];return function(t,e,n){return r(s(t,e,n),a(t,e,n))}}return function(t,e,i){return r.apply(null,sn(n,(function(r){return r(t,e,i)})))}},r.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},r.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,e,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Wa(this,e),o=i[0].toString(t);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return "right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var h=i[0].toString(t),c=i[1].toString(t);return s[0]&&(h="("+h+")"),s[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+c:h+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,r){return e=e.toString(t),s[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return {mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(t){return new r(t.op,t.fn,t.args,t.implicit)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Wa(this,e),o=i[0].toHTML(t);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+$r(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+$r(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),h=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(this.op)+"</span>"+h}var c=i.map((function(e,r){return e=e.toHTML(t),s[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(this.op)+"</span>"):'<span class="math-function">'+$r(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!0),a=no[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=Wa(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var h=i[0],c=h.toTex(t);s[0]&&(c="\\left(".concat(c,"\\right)"));var l,p=i[1].toTex(t);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),l="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return c+"~"+p}return c+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(e,r){return e=e.toTex(t),s[r]&&(e="\\left(".concat(e,"\\right)")),e}));return "OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return "\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),fo=cn("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError('Node expected for parameter "content"');this.content=t;}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this);},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return {mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}),{isClass:!0,isNode:!0}),mo=cn("RangeNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError("Node expected");if(!ir(e))throw new TypeError("Node expected");if(n&&!ir(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null;}function n(t,e){var r=Ga(t,e),n={},i=Ga(t.start,e);if(n.start=null!==i&&i<=r||"all"===e,t.step){var s=Ga(t.step,e);n.step=null!==s&&s<=r||"all"===e;}var a=Ga(t.end,e);return n.end=null!==a&&a<=r||"all"===e,n}return r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(t){return hr(t)&&"end"===t.name})).length>0},r.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),i(t,e,a),s(t,e,a))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);r.step&&(s="("+s+")"),e+=":"+s;}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},r.prototype.toJSON=function(){return {mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);r.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s;}var a=this.end.toHTML(t);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(t){var e=n(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),r+=":"+s},r}),{isClass:!0,isNode:!0}),yo=cn("RelationalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e;}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,o=n[0](e,i,s),u=0;u<r.conditionals.length;u++){if(a=o,o=n[u+1](e,i,s),!ta(t,r.conditionals[u])(a,o))return !1}return !0}},r.prototype.forEach=function(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this);},r.prototype.map=function(t){return new r(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.params.map((function(n,i){var s=Ga(n,e);return "all"===e||null!==s&&s<=r?"("+n.toString(t)+")":n.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+n[a+1];return s},r.prototype.toJSON=function(){return {mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.params.map((function(n,i){var s=Ga(n,e);return "all"===e||null!==s&&s<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(i[this.conditionals[a]])+"</span>"+n[a+1];return s},r.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.params.map((function(n,i){var s=Ga(n,e);return "all"===e||null!==s&&s<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),i=n[0],s=0;s<this.conditionals.length;s++)i+=no[this.conditionals[s]]+n[s+1];return i},r}),{isClass:!0,isNode:!0});function go(){return (go=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function vo(){return (vo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}var xo={createBigNumberClass:Yi},wo={createComplexClass:Qi},bo={createMatrixClass:rs},_o={MatrixDependencies:bo,createDenseMatrixClass:ns},Mo={createFractionClass:ts},Eo={BigNumberDependencies:xo,ComplexDependencies:wo,DenseMatrixDependencies:_o,FractionDependencies:Mo,createTyped:dn},No={typedDependencies:Eo,createEqualScalar:vs},So={MatrixDependencies:bo,equalScalarDependencies:No,typedDependencies:Eo,createSparseMatrixClass:xs},To={typedDependencies:Eo,createNumber:ws},Oo={FractionDependencies:Mo,typedDependencies:Eo,createFraction:_s},zo={DenseMatrixDependencies:_o,MatrixDependencies:bo,SparseMatrixDependencies:So,typedDependencies:Eo,createMatrix:Ms},Ao={typedDependencies:Eo,createUnaryMinus:Es},Co={typedDependencies:Eo,createAbs:Ns},Ro={typedDependencies:Eo,createAddScalar:Ss},Do={BigNumberDependencies:xo,DenseMatrixDependencies:_o,equalScalarDependencies:No,matrixDependencies:zo,typedDependencies:Eo,zerosDependencies:{BigNumberDependencies:xo,matrixDependencies:zo,typedDependencies:Eo,createZeros:pa},createRound:ba},Io={typedDependencies:Eo,createMultiplyScalar:js},Lo={matrixDependencies:zo,typedDependencies:Eo,createSize:Ks},Bo={addScalarDependencies:Ro,dotDependencies:{addScalarDependencies:Ro,conjDependencies:{typedDependencies:Eo,createConj:Gs},multiplyScalarDependencies:Io,sizeDependencies:Lo,typedDependencies:Eo,createDot:Fa},equalScalarDependencies:No,matrixDependencies:zo,multiplyScalarDependencies:Io,typedDependencies:Eo,createMultiply:qs},Fo={DenseMatrixDependencies:_o,addScalarDependencies:Ro,equalScalarDependencies:No,matrixDependencies:zo,typedDependencies:Eo,unaryMinusDependencies:Ao,createSubtract:Hs},Po={DenseMatrixDependencies:_o,matrixDependencies:zo,typedDependencies:Eo,createLarger:Na},Uo={BigNumberDependencies:xo,DenseMatrixDependencies:_o,SparseMatrixDependencies:So,matrixDependencies:zo,typedDependencies:Eo,createIdentity:Zs},qo={bignumberDependencies:{BigNumberDependencies:xo,typedDependencies:Eo,createBignumber:bs},fractionDependencies:Oo,numberDependencies:To,createNumeric:da},Ho={numericDependencies:qo,typedDependencies:Eo,createDivideScalar:ma},Vo={matrixDependencies:zo,typedDependencies:Eo,createSubset:oa},$o={BigNumberDependencies:xo,ComplexDependencies:wo,FractionDependencies:Mo,absDependencies:Co,addScalarDependencies:Ro,divideScalarDependencies:Ho,equalDependencies:{DenseMatrixDependencies:_o,equalScalarDependencies:No,matrixDependencies:zo,typedDependencies:Eo,createEqual:Ma},fixDependencies:{ComplexDependencies:wo,ceilDependencies:{equalScalarDependencies:No,matrixDependencies:zo,roundDependencies:Do,typedDependencies:Eo,createCeil:zs},floorDependencies:{equalScalarDependencies:No,matrixDependencies:zo,roundDependencies:Do,typedDependencies:Eo,createFloor:Cs},matrixDependencies:zo,typedDependencies:Eo,createFix:As},formatDependencies:{typedDependencies:Eo,createFormat:fa},isNumericDependencies:{typedDependencies:Eo,createIsNumeric:ms},multiplyScalarDependencies:Io,numberDependencies:To,powDependencies:{ComplexDependencies:wo,fractionDependencies:Oo,identityDependencies:Uo,matrixDependencies:zo,multiplyDependencies:Bo,numberDependencies:To,typedDependencies:Eo,createPow:ya},roundDependencies:Do,subtractDependencies:Fo,createUnitClass:ka},Yo={createNode:Ua},Zo={UnitDependencies:$o,NodeDependencies:Yo,createSymbolNode:cn("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:r,Node:n}=t;function i(t){return !!r&&r.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t;}return s.prototype=new n,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return e[n]};if(n in t)return function(e,r,i){return ta(n in e?e:t,n)};var s=i(n);return function(t,e,i){return n in t?ta(t,n):s?new r(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=$r(this.name);return "true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return {mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var r=!1;void 0===e[this.name]&&i(this.name)&&(r=!0);var n=oo(this.name,r);return "\\"===n[0]?n:" "+n},s}),{isClass:!0,isNode:!0})};({parseDependencies:{AccessorNodeDependencies:{NodeDependencies:Yo,subsetDependencies:Vo,createAccessorNode:Ha},ArrayNodeDependencies:{NodeDependencies:Yo,createArrayNode:Va},AssignmentNodeDependencies:{matrixDependencies:zo,NodeDependencies:Yo,subsetDependencies:Vo,createAssignmentNode:Za},BlockNodeDependencies:{NodeDependencies:Yo,ResultSetDependencies:{createResultSet:wn},createBlockNode:Xa},ConditionalNodeDependencies:{NodeDependencies:Yo,createConditionalNode:Qa},ConstantNodeDependencies:{NodeDependencies:Yo,createConstantNode:uo},FunctionAssignmentNodeDependencies:{NodeDependencies:Yo,typedDependencies:Eo,createFunctionAssignmentNode:ho},FunctionNodeDependencies:{NodeDependencies:Yo,SymbolNodeDependencies:Zo,createFunctionNode:cn("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:r,SymbolNode:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new n(t)),!ir(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}i.prototype=new r,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=sn(this.args,(function(r){return r._compile(t,e)}));if(hr(this.fn)){var n=this.fn.name,s=n in t?ta(t,n):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(e,r,i){return (n in e?ta(e,n):s)(a,t,go({},e,r))}}if(1===r.length){var o=r[0];return function(t,e,r){return (n in t?ta(t,n):s)(o(t,e,r))}}if(2===r.length){var u=r[0],h=r[1];return function(t,e,r){return (n in t?ta(t,n):s)(u(t,e,r),h(t,e,r))}}return function(t,e,i){return (n in t?ta(t,n):s).apply(null,sn(r,(function(r){return r(t,e,i)})))}}if(Ze(this.fn)&&nr(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),p=this.args;return function(e,n,i){var s=c(e,n,i);return function(t,e){if(!na(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](p,t,go({},e,n)):s[l].apply(s,sn(r,(function(t){return t(e,n,i)})))}}var f=this.fn._compile(t,e),d=this.args;return function(e,n,i){var s=f(e,n,i);return s&&s.rawArgs?s(d,t,go({},e,n)):s.apply(s,sn(r,(function(t){return t(e,n,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new i(e,r)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(t,e,r){for(var n,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=s.exec(t));)if(i+=t.substring(a,n.index),a=n.index,"$$"===n[0])i+="$",a++;else {a+=n[0].length;var o=e[n[1]];if(!o)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof o){case"string":i+=o;break;case"object":if(ir(o))i+=o.toTex(r);else {if(!Array.isArray(o))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(t,e){if(ir(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else {if(!ir(o[n[2]]&&o[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=o[n[2]].toTex(r);}}return i+=t.slice(a)}i.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&wr(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return (er(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return {mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return '<span class="math-function">'+$r(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&wr(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:o.call(this,t)},i.prototype._toTex=function(t){var r,n,i=this.args.map((function(e){return e.toTex(t)}));switch(io[this.name]&&(r=io[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(r=e[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=a(r,this,t);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,t);break;case"string":n=a(r[i.length],this,t);}}return void 0!==n?n:a("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:Yo,RangeDependencies:{createRangeClass:es},sizeDependencies:Lo,createIndexNode:co},ObjectNodeDependencies:{NodeDependencies:Yo,createObjectNode:lo},OperatorNodeDependencies:{NodeDependencies:Yo,createOperatorNode:po},ParenthesisNodeDependencies:{NodeDependencies:Yo,createParenthesisNode:fo},RangeNodeDependencies:{NodeDependencies:Yo,createRangeNode:mo},RelationalNodeDependencies:{NodeDependencies:Yo,createRelationalNode:yo},SymbolNodeDependencies:Zo,numericDependencies:qo,typedDependencies:Eo,createParse:cn("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:h,FunctionAssignmentNode:c,FunctionNode:l,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:v}=t,x=e("parse",{string:function(t){return P(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return P(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return is(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return P(t,r)}))}var b=0,_=1,M=2,E=3,N=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},z=["NaN","Infinity"];function A(t,e){return t.expression.substr(t.index,e)}function C(t){return A(t,1)}function R(t){t.index++;}function D(t){return t.expression.charAt(t.index-1)}function k(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=b,t.token="",t.comment="";x.isWhitespace(C(t),t.nestingLevel);)R(t);if("#"===C(t))for(;"\n"!==C(t)&&""!==C(t);)t.comment+=C(t),R(t);if(""!==C(t)){if("\n"===C(t)&&!t.nestingLevel)return t.tokenType=_,t.token=C(t),void R(t);var e=C(t),r=A(t,2),n=A(t,3);if(3===n.length&&S[n])return t.tokenType=_,t.token=n,R(t),R(t),void R(t);if(2===r.length&&S[r])return t.tokenType=_,t.token=r,R(t),void R(t);if(S[e])return t.tokenType=_,t.token=e,void R(t);if(x.isDigitDot(e)){t.tokenType=M;var i=A(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=C(t),R(t),t.token+=C(t),R(t);x.isHexDigit(C(t));)t.token+=C(t),R(t);return}if("."===C(t))t.token+=C(t),R(t),x.isDigit(C(t))||(t.tokenType=_);else {for(;x.isDigit(C(t));)t.token+=C(t),R(t);x.isDecimalMark(C(t),k(t))&&(t.token+=C(t),R(t));}for(;x.isDigit(C(t));)t.token+=C(t),R(t);if("E"===C(t)||"e"===C(t))if(x.isDigit(k(t))||"-"===k(t)||"+"===k(t)){if(t.token+=C(t),R(t),"+"!==C(t)&&"-"!==C(t)||(t.token+=C(t),R(t)),!x.isDigit(C(t)))throw at(t,'Digit expected, got "'+C(t)+'"');for(;x.isDigit(C(t));)t.token+=C(t),R(t);if(x.isDecimalMark(C(t),k(t)))throw at(t,'Digit expected, got "'+C(t)+'"')}else if("."===k(t))throw R(t),at(t,'Digit expected, got "'+C(t)+'"')}else {if(!x.isAlpha(C(t),D(t),k(t))){for(t.tokenType=N;""!==C(t);)t.token+=C(t),R(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(C(t),D(t),k(t))||x.isDigit(C(t));)t.token+=C(t),R(t);wr(T,t.token)?t.tokenType=_:t.tokenType=E;}}else t.tokenType=_;}function L(t){do{I(t);}while("\n"===t.token)}function B(t){t.nestingLevel++;}function F(t){t.nestingLevel--;}function P(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b,nestingLevel:0,conditionalLevel:null};vo(r,{expression:t,extraNodes:e}),I(r);var n=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=U(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=U(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new o(n):(e||((e=new h(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===_?ot(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return n}function U(t){var e,r,n,i,s=function(t){var e=function(t){var e=j(t);for(;"or"===t.token;)L(t),e=new d("or","or",[e,j(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,L(t);var n=e,i=U(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,L(t);var s=U(t);e=new u(n,i,s),t.conditionalLevel=r;}return e}(t);if("="===t.token){if(hr(s))return e=s.name,L(t),n=U(t),new a(new v(e),n);if(Ze(s))return L(t),n=U(t),new a(s.object,s.index,n);if(rr(s)&&hr(s.fn)&&(i=!0,r=[],e=s.name,s.args.forEach((function(t,e){hr(t)?r[e]=t.name:i=!1;})),i))return L(t),n=U(t),new c(e,r,n);throw at(t,"Invalid left hand side of assignment operator =")}return s}function j(t){for(var e=q(t);"xor"===t.token;)L(t),e=new d("xor","xor",[e,q(t)]);return e}function q(t){for(var e=H(t);"and"===t.token;)L(t),e=new d("and","and",[e,H(t)]);return e}function H(t){for(var e=V(t);"|"===t.token;)L(t),e=new d("|","bitOr",[e,V(t)]);return e}function V(t){for(var e=$(t);"^|"===t.token;)L(t),e=new d("^|","bitXor",[e,$(t)]);return e}function $(t){for(var e=G(t);"&"===t.token;)L(t),e=new d("&","bitAnd",[e,G(t)]);return e}function G(t){for(var e=[W(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};wr(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),L(t),e.push(W(t));}return 1===e.length?e[0]:2===e.length?new d(r[0].name,r[0].fn,e):new g(r.map((t=>t.fn)),e)}function W(t){var e,r,n,i;e=Y(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};wr(s,t.token);)n=s[r=t.token],L(t),i=[e,Y(t)],e=new d(r,n,i);return e}function Y(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};wr(s,t.token);)n=s[r=t.token],L(t),"in"===r&&""===t.token?e=new d("*","multiply",[e,new v("in")],!0):(i=[e,Z(t)],e=new d(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new h(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)L(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new v("end")):r.push(X(t));e=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return e}function X(t){var e,r,n,i;e=Q(t);for(var s={"+":"add","-":"subtract"};wr(s,t.token);)n=s[r=t.token],L(t),i=[e,Q(t)],e=new d(r,n,i);return e}function Q(t){var e,r,n,i;r=e=J(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};wr(s,t.token);)i=s[n=t.token],L(t),r=J(t),e=new d(n,i,[e,r]);return e}function J(t){var e,r;for(r=e=K(t);t.tokenType===E||"in"===t.token&&tr(e)||!(t.tokenType!==M||tr(r)||ar(r)&&"!"!==r.op)||"("===t.token;)r=K(t),e=new d("*","multiply",[e,r],!0);return e}function K(t){for(var e=tt(t),r=e,n=[];"/"===t.token&&tr(r);){if(n.push(vo({},t)),L(t),t.tokenType!==M){vo(t,n.pop());break}if(n.push(vo({},t)),L(t),t.tokenType!==E&&"("!==t.token){n.pop(),vo(t,n.pop());break}vo(t,n.pop()),n.pop(),r=tt(t),e=new d("/","divide",[e,r]);}return e}function tt(t){var e,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return wr(o,t.token)?(a=o[t.token],e=t.token,L(t),i=[tt(t)],new d(e,a,i)):function(t){var e,i,a,o;e=function(t){var e,i,a;e=function(t){var e=[];if(t.tokenType===E&&wr(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(I(t),"("===t.token){if(e=[],B(t),I(t),")"!==t.token)for(e.push(U(t));","===t.token;)I(t),e.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t);}return new i(e)}return function(t){var e;if(t.tokenType===E||t.tokenType===_&&t.token in T)return e=t.token,I(t),et(t,wr(O,e)?new h(O[e]):-1!==z.indexOf(e)?new h(r(e,"number")):new v(e));return function(t){var e;if('"'===t.token)return e=rt(t),et(t,new h(e));return function(t){var e;if("'"===t.token)return e=nt(t),et(t,new h(e));return function(t){var e,i,a,o;if("["===t.token){if(B(t),I(t),"]"!==t.token){var u=it(t);if(";"===t.token){for(a=1,i=[u];";"===t.token;)I(t),i[a]=it(t),a++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),o=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==o)throw ot(t,"Column dimensions mismatch ("+i[c].items.length+" !== "+o+")");e=new s(i);}else {if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),e=u;}}else F(t),I(t),e=new s([]);return et(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(I(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=nt(t);else {if(!(t.tokenType===E||t.tokenType===_&&t.token in T))throw at(t,"Symbol or string expected as object key");e=t.token,I(t);}if(":"!==t.token)throw at(t,"Colon : expected after object key");I(t),i[e]=U(t);}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),I(t);var s=new f(i);return s=et(t,s)}return function(t){var e;if(t.tokenType===M)return e=t.token,I(t),new h(r(e,n.number));return function(t){var e;if("("===t.token){if(B(t),I(t),e=U(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),I(t),e=et(t,e=new m(e))}return function(t){throw ""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;wr(o,t.token);)a=o[i=t.token],I(t),e=et(t,e=new d(i,a,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(a="^"===(i=t.token)?"pow":"dotPow",L(t),o=[e,tt(t)],e=new d(i,a,o));return e}(t)}function et(t,e,r){for(var n;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(n=[],"("===t.token){if(!hr(e)&&!Ze(e))return e;if(B(t),I(t),")"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t),e=new l(e,n);}else if("["===t.token){if(B(t),I(t),"]"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if("]"!==t.token)throw at(t,"Parenthesis ] expected");F(t),I(t),e=new i(e,new p(n));}else {if(I(t),t.tokenType!==E)throw at(t,"Property name expected after dot");n.push(new h(t.token)),I(t);e=new i(e,new p(n,!0));}return e}function rt(t){for(var e="";""!==C(t)&&'"'!==C(t);)"\\"===C(t)&&(e+=C(t),R(t)),e+=C(t),R(t);if(I(t),'"'!==t.token)throw at(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==C(t)&&"'"!==C(t);)"\\"===C(t)&&(e+=C(t),R(t)),e+=C(t),R(t);if(I(t),"'"!==t.token)throw at(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function it(t){for(var e=[U(t)],r=1;","===t.token;)I(t),e[r]=U(t),r++;return new s(e)}function st(t){return t.index-t.token.length+1}function at(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function ot(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(t,e,r){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,r)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return /^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return " "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return "."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x}))},typedDependencies:Eo,createEvaluate:cn("evaluate",["typed","parse"],(t=>{var{typed:e,parse:r}=t;return e("evaluate",{string:function(t){return r(t).compile().evaluate({})},"string, Object":function(t,e){return r(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return is(t,(function(t){return r(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return is(t,(function(t){return r(t).compile().evaluate(e)}))}})}))});({divideScalarDependencies:Ho,equalScalarDependencies:No,invDependencies:{absDependencies:Co,addScalarDependencies:Ro,detDependencies:{lupDependencies:{DenseMatrixDependencies:_o,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Po,smallerDependencies:{DenseMatrixDependencies:_o,matrixDependencies:zo,typedDependencies:Eo,createSmaller:Ea},createFibonacciHeapClass:Sa},addScalarDependencies:Ro,equalScalarDependencies:No,createSpaClass:Ta},SparseMatrixDependencies:So,absDependencies:Co,addScalarDependencies:Ro,divideScalarDependencies:Ho,equalScalarDependencies:No,largerDependencies:Po,matrixDependencies:zo,multiplyScalarDependencies:Io,subtractDependencies:Fo,typedDependencies:Eo,unaryMinusDependencies:Ao,createLup:cn("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:h,unaryMinus:c,DenseMatrix:l,SparseMatrix:p,Spa:f}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,r,i,o=t._size[0],l=t._size[1],d=Math.min(o,l),m=t._values,y=t._index,g=t._ptr,v=[],x=[],w=[],b=[o,d],_=[],M=[],E=[],N=[d,l],S=[],T=[];for(e=0;e<o;e++)S[e]=e,T[e]=e;var O=function(t,e){var r=T[t],n=T[e];S[r]=e,S[n]=t,T[t]=n,T[e]=r;},z=function(){var t=new f;r<o&&(w.push(v.length),v.push(1),x.push(r)),E.push(_.length);var l=g[r],d=g[r+1];for(i=l;i<d;i++)e=y[i],t.set(S[e],m[i]);r>0&&t.forEach(0,r-1,(function(e,r){p._forEachRow(e,v,x,w,(function(n,i){n>e&&t.accumulate(n,c(a(i,r)));}));}));var T=r,z=t.get(r),A=n(z);t.forEach(r+1,o-1,(function(t,e){var r=n(e);u(r,A)&&(T=t,A=r,z=e);})),r!==T&&(p._swapRows(r,T,b[1],v,x,w),p._swapRows(r,T,N[1],_,M,E),t.swap(r,T),O(r,T)),t.forEach(0,o-1,(function(t,e){t<=r?(_.push(e),M.push(t)):(e=s(e,z),h(e,0)||(v.push(e),x.push(t)));}));};for(r=0;r<l;r++)z();return E.push(_.length),w.push(v.length),{L:new p({values:v,index:x,ptr:w,size:b}),U:new p({values:_,index:M,ptr:E,size:N}),p:S,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(r(t));return {L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,r,c,p=t._size[0],f=t._size[1],d=Math.min(p,f),m=pr(t._data),y=[],g=[p,d],v=[],x=[d,f],w=[];for(e=0;e<p;e++)w[e]=e;for(r=0;r<f;r++){if(r>0)for(e=0;e<p;e++){var b=Math.min(e,r),_=0;for(c=0;c<b;c++)_=i(_,a(m[e][c],m[c][r]));m[e][r]=o(m[e][r],_);}var M=r,E=0,N=0;for(e=r;e<p;e++){var S=m[e][r],T=n(S);u(T,E)&&(M=e,E=T,N=S);}if(r!==M&&(w[r]=[w[M],w[M]=w[r]][0],l._swapRows(r,M,m)),r<p)for(e=r+1;e<p;e++){var O=m[e][r];h(O,0)||(m[e][r]=s(m[e][r],N));}}for(r=0;r<f;r++)for(e=0;e<p;e++)0===r&&(e<f&&(v[e]=[]),y[e]=[]),e<r?(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=0)):e!==r?(e<f&&(v[e][r]=0),r<p&&(y[e][r]=m[e][r])):(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=1));var z=new l({data:y,size:g}),A=new l({data:v,size:x}),C=[];for(e=0,d=w.length;e<d;e++)C[w[e]]=e;return {L:z,U:A,p:C,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:zo,multiplyDependencies:Bo,subtractDependencies:Fo,typedDependencies:Eo,unaryMinusDependencies:Ao,createDet:cn("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:r,subtract:n,multiply:i,unaryMinus:s,lup:a}=t;return e("det",{any:function(t){return pr(t)},"Array | Matrix":function(t){var e;switch((e=ke(t)?t.size():Array.isArray(t)?(t=r(t)).size():[]).length){case 0:return pr(t);case 1:if(1===e[0])return pr(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Hr(e)+")");case 2:var o=e[0];if(o===e[1])return function(t,e,r){if(1===e)return pr(t[0][0]);if(2===e)return n(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var o=a(t),u=o.U[0][0],h=1;h<e;h++)u=i(u,o.U[h][h]);for(var c=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var f=l,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&c++;}return c%2==0?u:s(u)}(t.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+Hr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Hr(e)+")")}}})}))},divideScalarDependencies:Ho,identityDependencies:Uo,matrixDependencies:zo,multiplyDependencies:Bo,typedDependencies:Eo,unaryMinusDependencies:Ao,createInv:cn("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:h}=t;return e("inv",{"Array | Matrix":function(t){var e=ke(t)?t.size():Zr(t);switch(e.length){case 1:if(1===e[0])return ke(t)?r([n(1,t.valueOf()[0])]):[n(1,t[0])];throw new RangeError("Matrix must be square (size: "+Hr(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return ke(t)?r(c(t.valueOf(),i,s),t.storage()):c(t,i,s);throw new RangeError("Matrix must be square (size: "+Hr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Hr(e)+")")}},any:function(t){return n(1,t)}});function c(t,e,r){var c,l,p,f,d;if(1===e){if(0===(f=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return [[n(1,f)]]}if(2===e){var m=o(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return [[n(t[1][1],m),n(a(t[0][1]),m)],[n(a(t[1][0]),m),n(t[0][0],m)]]}var y=t.concat();for(c=0;c<e;c++)y[c]=y[c].concat();for(var g=u(e).valueOf(),v=0;v<r;v++){var x=h(y[v][v]),w=v;for(c=v+1;c<e;)h(y[c][v])>x&&(x=h(y[c][v]),w=c),c++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==v&&(d=y[v],y[v]=y[c],y[c]=d,d=g[v],g[v]=g[c],g[c]=d);var b=y[v],_=g[v];for(c=0;c<e;c++){var M=y[c],E=g[c];if(c!==v){if(0!==M[v]){for(p=n(a(M[v]),b[v]),l=v;l<r;l++)M[l]=i(M[l],s(p,b[l]));for(l=0;l<r;l++)E[l]=i(E[l],s(p,_[l]));}}else {for(p=b[v],l=v;l<r;l++)M[l]=n(M[l],p);for(l=0;l<r;l++)E[l]=n(E[l],p);}}}return g}}))},matrixDependencies:zo,multiplyDependencies:Bo,typedDependencies:Eo,createDivide:cn("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=Ts({typed:e,equalScalar:i}),u=Os({typed:e});return e("divide",dr({"Array | Matrix, Array | Matrix":function(t,e){return n(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return o(t,e,s,!1)},"Array, any":function(t,e){return u(r(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return n(t,a(e))}},s.signatures))}))});var Jo={exports:{}};function Ko(){}Ko.prototype={on:function(t,e,r){var n=this.e||(this.e={});return (n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments);}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},Jo.exports=Ko,Jo.exports.TinyEmitter=Ko;new a;function ou(t,e,r,n=0){n++;for(let i=t.firstChild;i;i=i.nextSibling)if(i.nodeType===Node.ELEMENT_NODE){const t=i;e.call(r,t,n)&&ou(t,e,r,n);}}function uu(t,e,r,n){"insertRule"in t?t.insertRule(e+"{"+r+"}",n):"addRule"in t&&t.addRule(e,r,n);}!function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=e<t.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");t=t.subarray(e),s=e=0;}if(0==(128&(a=t[e++])))n[s++]=a;else if(192==(224&a)){var o=63&t[e++];n[s++]=(31&a)<<6|o;}else if(224==(240&a)){o=63&t[e++];var u=63&t[e++];n[s++]=(31&a)<<12|o<<6|u;}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a;}}}if(t.TextEncoder&&t.TextDecoder)return !1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);e<r;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<r){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,a=((1023&a)<<10)+(1023&o)+65536);}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else {if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else {if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128;}s[n++]=63&a|128;}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(i){return n(t)}finally{URL.revokeObjectURL(e);}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=r;}("undefined"!=typeof window?window:Sr);class hu{constructor(){this.left=0,this.top=0,this.width=0,this.height=0;}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class cu{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0;}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function lu(t,e=new hu,r){const n=t.ownerDocument,i=n.documentElement,s=n.body;if(t===i)return function(t,e){const r=t.documentElement,n=t.body,i=getComputedStyle(r),s=getComputedStyle(n);return e.top=n.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=n.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),e.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),e}(n,e);if(r===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const a=t.ownerDocument.defaultView;let o,u=t,h=u.offsetParent,c=a.getComputedStyle(u,null),l=u.offsetTop,p=u.offsetLeft;for(h&&r&&h.contains(r)&&h!==r&&(lu(r,e,h),p-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==r&&"fixed"!==c.position;)o=a.getComputedStyle(u,null),l-=u.scrollTop,p-=u.scrollLeft,u===h&&(l+=u.offsetTop,p+=u.offsetLeft,l+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,h=u.offsetParent),c=o;return "fixed"===c.position&&(l+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=p,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}const pu=document.createElement("div");function fu(t){const e=document.createElement("div");e.innerHTML=t;const r=e.firstElementChild;return e.removeChild(r),r}pu.id="VIEWPORT",pu.style.position="fixed",pu.style.width="100vw",pu.style.height="100vh",pu.style.visibility="hidden",pu.style.pointerEvents="none";var du={};!function(t){const e=Symbol("newer"),r=Symbol("older");function n(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size));}function i(t,n){this.key=t,this.value=n,this[e]=void 0,this[r]=void 0;}function s(t){this.entry=t;}function a(t){this.entry=t;}function o(t){this.entry=t;}t.LRUMap=n,n.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][r]=t[r]),t[r]&&(t[r][e]=t[e]),t[e]=void 0,t[r]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t);},n.prototype.assign=function(t){let n,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let o=a.next();!o.done;o=a.next()){let t=new i(o.value[0],o.value[1]);if(this._keymap.set(t.key,t),n?(n[e]=t,t[r]=n):this.oldest=t,n=t,0==s--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size;},n.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},n.prototype.set=function(t,n){var s=this._keymap.get(t);return s?(s.value=n,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,n)),this.newest?(this.newest[e]=s,s[r]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},n.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},n.prototype.has=function(t){return this._keymap.has(t)},n.prototype.delete=function(t){var n=this._keymap.get(t);if(n)return this._keymap.delete(n.key),n[e]&&n[r]?(n[r][e]=n[e],n[e][r]=n[r]):n[e]?(n[e][r]=void 0,this.oldest=n[e]):n[r]?(n[r][e]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear();},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new o(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(t,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)t.call(r,n.value,n.key,this),n=n[e];},n.prototype.toJSON=function(){for(var t=new Array(this.size),r=0,n=this.oldest;n;)t[r++]={key:n.key,value:n.value},n=n[e];return t},n.prototype.toString=function(){for(var t="",r=this.oldest;r;)t+=String(r.key)+":"+r.value,(r=r[e])&&(t+=" < ");return t};}(du);var mu={exports:{}};!function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,h,c,l,p,f,d,m,y,g,v;s>=64;){for(a=r[0],o=r[1],u=r[2],h=r[3],c=r[4],l=r[5],p=r[6],f=r[7],m=0;m<16;m++)y=i+4*m,t[m]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(m=16;m<64;m++)g=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(g+t[m-7]|0)+(v+t[m-16]|0);for(m=0;m<64;m++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(f+(e[m]+t[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=l,l=c,c=h+g|0,h=u,u=o,o=a,a=g+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=h,r[4]+=c,r[5]+=l,r[6]+=p,r[7]+=f,i+=64,s-=64;}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset();}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset();},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0);}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0;}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e];},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0;},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0;}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean();},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function o(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++;}t.HMAC=i,t.hash=s,t.default=s,t.hmac=a;var u=new Uint8Array(t.digestLength);function h(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),h=a(e,t),c=new i(h),l=new Uint8Array(c.digestLength),p=l.length,f=new Uint8Array(n),d=0;d<n;d++)p===l.length&&(o(l,c,r,s),p=0),f[d]=l[p++];return c.clean(),l.fill(0),s.fill(0),f}function c(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),h=new Uint8Array(a),c=new Uint8Array(n),l=0;l*a<n;l++){var p=l+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(h);for(var f=0;f<a;f++)u[f]=h[f];for(f=2;f<=r;f++){s.reset(),s.update(h).finish(h);for(var d=0;d<a;d++)u[d]^=h[d];}for(f=0;f<a&&l*a+f<n;f++)c[l*a+f]=u[f];}for(l=0;l<a;l++)u[l]=h[l]=0;for(l=0;l<4;l++)o[l]=0;return s.clean(),c}t.hkdf=h,t.pbkdf2=c;}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i;}();}(mu);const yu=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.psuedoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new hu,this.padding=new cu,this.margin=new cu,this.border=new cu,this.childLayers=[],this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgDocument="",this._rasterizingDocument="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),ch.layers.set(t,this),this.id=t.getAttribute(ch.ELEMENT_UID_ATTRIBUTE)||ch.generateElementUID(),t.setAttribute(ch.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(ch.LAYER_ATTRIBUTE,""),this.parentLayer=ch.getClosestLayer(this.element.parentElement),this.eventCallback("layercreated",{target:t}),yu.cachedCanvases.limit=ch.layers.size*yu.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20;}set canvas(t){this._canvas!==t&&(this._canvas=t,this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}));}get canvas(){return this._canvas}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e));}traverseLayers(t){t(this),this.traverseChildLayers(t);}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t);}refresh(){lu(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),this.needsRefresh=!1,this._updateParentAndChildLayers(),ch.addToSerializeQueue(this);}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,r=e.slice(),n=this.parentLayer;this.parentLayer=ch.getClosestLayer(this.element.parentElement),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,ou(t,this._tryConvertElementToWebLayer,this);for(const i of r){ch.getClosestLayer(i.element.parentElement)||(i.needsRemoval=!0,e.push(i));}}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return !1;const e=t,r=getComputedStyle(e);e.getAttribute(ch.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(ch.ELEMENT_UID_ATTRIBUTE,ch.generateElementUID());if(e.hasAttribute(ch.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==r.transform){let t=ch.layers.get(e);return t||(t=new yu(e,this.eventCallback)),this.childLayers.push(t),!1}return !0}async serialize(){if("VIDEO"===this.element.nodeName)return;let{width:t,height:e}=this.bounds;if(t*e>0){!function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.paddingLeft)||0,e.right=parseFloat(r.paddingRight)||0,e.top=parseFloat(r.paddingTop)||0,e.bottom=parseFloat(r.paddingBottom)||0;}(this.element,this.padding),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.marginLeft)||0,e.right=parseFloat(r.marginRight)||0,e.top=parseFloat(r.marginTop)||0,e.bottom=parseFloat(r.marginBottom)||0;}(this.element,this.margin),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.borderLeftWidth)||0,e.right=parseFloat(r.borderRightWidth)||0,e.top=parseFloat(r.borderTopWidth)||0,e.bottom=parseFloat(r.borderBottomWidth)||0;}(this.element,this.border),t+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),e+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0);const r=ch.attributeHTML(ch.ELEMENT_UID_ATTRIBUTE,""+this.id),n=this.element,i="inline"===getComputedStyle(n).display;ch.updateInputAttributes(n);const s=ch.serializer.serializeToString(n).replace(r,`${r} ${ch.RENDERING_ATTRIBUTE}="" ${i?`${ch.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+ch.getPsuedoAttributes(this.psuedoStates)),a=this._getParentsHTML(n);a[0]=a[0].replace("html","html "+ch.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');const[o]=await Promise.all([ch.getEmbeddedCSS(this.element),ch.embedExternalResources(this.element)]),u='<svg width="'+t+'" height="'+e+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[a[href]{color:#0000EE;text-decoration:underline;}'+o.join("")+']]></style></defs><foreignObject x="0" y="0" width="'+t+'" height="'+e+'">'+a[0]+s+a[1]+"</foreignObject></svg>",h=this._svgDocument=u,c=yu.canvasHashes.get(h);if(c&&yu.cachedCanvases.has(c))return void(this.canvas=yu.cachedCanvases.get(c));this.cachedBounds.set(h,(new hu).copy(this.bounds)),this.cachedMargin.set(h,(new cu).copy(this.margin)),ch.addToRasterizeQueue(this);}}async rasterize(){return new Promise((t=>{this.svgImage.onload=()=>{ch.addToRenderQueue(this),t();},this._rasterizingDocument=this._svgDocument,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument),this.svgImage.complete&&this.svgImage.currentSrc===this.svgImage.src&&(ch.addToRenderQueue(this),this.svgImage.onload=null,t());}))}render(){const t=this._rasterizingDocument;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);if(!this.svgImage.complete)return void ch.addToRenderQueue(this);let{width:e,height:r}=this.cachedBounds.get(t),{left:n,top:i}=this.cachedMargin.get(t);const s=this._hashingCanvas;let a=s.width,o=s.height;const u=s.getContext("2d");u.clearRect(0,0,a,o),u.imageSmoothingEnabled=!1,u.drawImage(this.svgImage,n,i,e,r,0,0,a,o);const h=u.getImageData(0,0,a,o).data,c=ch.arrayBufferToBase64(mu.exports.hash(new Uint8Array(h)))+"?w="+e+";h="+r;yu.canvasHashes.set(t,c);const l=yu.blankRetryCounts.get(t)||0;if(ch.isBlankImage(h)&&l<10)return yu.blankRetryCounts.set(t,l+1),void setTimeout((()=>ch.addToRenderQueue(this)),500);if(yu.cachedCanvases.has(c))return void(this.canvas=yu.cachedCanvases.get(c));const p=this.pixelRatio||parseFloat(this.element.getAttribute(ch.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,f=yu.cachedCanvases.size===yu.cachedCanvases.limit?yu.cachedCanvases.shift()[1]:document.createElement("canvas");let d=f.width=e*p,m=f.height=r*p;const y=f.getContext("2d");y.imageSmoothingEnabled=!1,y.clearRect(0,0,d,m),y.drawImage(this.svgImage,n,i,e,r,0,0,d,m),yu.cachedCanvases.set(c,f),this.canvas=f;}_getParentsHTML(t){const e=[],r=[];let n=t.parentElement;n||(n=document.documentElement);do{let t=n.tagName.toLowerCase(),i=" ";for(const e of n.attributes)"style"!==e.name&&(i+=`${e.name}="${e.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${ch.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const a="</"+t+">";if(r.push(a),"html"==t)break}while(n=n.parentElement);return [e.join(""),r.join("")]}};let gu=yu;gu.DEFAULT_CACHE_SIZE=4,gu.blankRetryCounts=new Map,gu.canvasHashes=new du.LRUMap(1e3),gu.cachedCanvases=new du.LRUMap(yu.DEFAULT_CACHE_SIZE);var vu,xu,wu=[],bu="ResizeObserver loop completed with undelivered notifications.";(xu=vu||(vu={})).BORDER_BOX="border-box",xu.CONTENT_BOX="content-box",xu.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var _u,Mu=function(t){return Object.freeze(t)},Eu=function(t,e){this.inlineSize=t,this.blockSize=e,Mu(this);},Nu=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Mu(this)}return t.prototype.toJSON=function(){var t=this;return {x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Su=function(t){return t instanceof SVGElement&&"getBBox"in t},Tu=function(t){if(Su(t)){var e=t.getBBox(),r=e.width,n=e.height;return !r&&!n}var i=t,s=i.offsetWidth,a=i.offsetHeight;return !(s||a||t.getClientRects().length)},Ou=function(t){var e,r;if(t instanceof Element)return !0;var n=null===(r=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView;return !!(n&&t instanceof n.Element)},zu="undefined"!=typeof window?window:{},Au=new WeakMap,Cu=/auto|scroll/,Ru=/^tb|vertical/,Du=/msie|trident/i.test(zu.navigator&&zu.navigator.userAgent),ku=function(t){return parseFloat(t||"0")},Iu=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new Eu((r?e:t)||0,(r?t:e)||0)},Lu=Mu({devicePixelContentBoxSize:Iu(),borderBoxSize:Iu(),contentBoxSize:Iu(),contentRect:new Nu(0,0,0,0)}),Bu=function(t,e){if(void 0===e&&(e=!1),Au.has(t)&&!e)return Au.get(t);if(Tu(t))return Au.set(t,Lu),Lu;var r=getComputedStyle(t),n=Su(t)&&t.ownerSVGElement&&t.getBBox(),i=!Du&&"border-box"===r.boxSizing,s=Ru.test(r.writingMode||""),a=!n&&Cu.test(r.overflowY||""),o=!n&&Cu.test(r.overflowX||""),u=n?0:ku(r.paddingTop),h=n?0:ku(r.paddingRight),c=n?0:ku(r.paddingBottom),l=n?0:ku(r.paddingLeft),p=n?0:ku(r.borderTopWidth),f=n?0:ku(r.borderRightWidth),d=n?0:ku(r.borderBottomWidth),m=l+h,y=u+c,g=(n?0:ku(r.borderLeftWidth))+f,v=p+d,x=o?t.offsetHeight-v-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,b=i?m+g:0,_=i?y+v:0,M=n?n.width:ku(r.width)-b-w,E=n?n.height:ku(r.height)-_-x,N=M+m+w+g,S=E+y+x+v,T=Mu({devicePixelContentBoxSize:Iu(Math.round(M*devicePixelRatio),Math.round(E*devicePixelRatio),s),borderBoxSize:Iu(N,S,s),contentBoxSize:Iu(M,E,s),contentRect:new Nu(l,u,M,E)});return Au.set(t,T),T},Fu=function(t,e,r){var n=Bu(t,r),i=n.borderBoxSize,s=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case vu.DEVICE_PIXEL_CONTENT_BOX:return a;case vu.BORDER_BOX:return i;default:return s}},Pu=function(t){var e=Bu(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Mu([e.borderBoxSize]),this.contentBoxSize=Mu([e.contentBoxSize]),this.devicePixelContentBoxSize=Mu([e.devicePixelContentBoxSize]);},Uu=function(t){if(Tu(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},ju=function(){var t=1/0,e=[];wu.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(e){var r=new Pu(e.target),i=Uu(e.target);n.push(r),e.lastReportedSize=Fu(e.target,e.observedBox),i<t&&(t=i);})),e.push((function(){r.callback.call(r.observer,n,r.observer);})),r.activeTargets.splice(0,r.activeTargets.length);}}));for(var r=0,n=e;r<n.length;r++){(0, n[r])();}return t},qu=function(t){wu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(r){r.isActive()&&(Uu(r.target)>t?e.activeTargets.push(r):e.skippedTargets.push(r));}));}));},Hu=function(){var t,e=0;for(qu(e);wu.some((function(t){return t.activeTargets.length>0}));)e=ju(),qu(e);return wu.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:bu}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=bu),window.dispatchEvent(t)),e>0},Vu=[],$u=function(t){if(!_u){var e=0,r=document.createTextNode("");new MutationObserver((function(){return Vu.splice(0).forEach((function(t){return t()}))})).observe(r,{characterData:!0}),_u=function(){r.textContent=""+(e?e--:e++);};}Vu.push(t),_u();},Gu=0,Wu={attributes:!0,characterData:!0,childList:!0,subtree:!0},Yu=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Zu=function(t){return void 0===t&&(t=0),Date.now()+t},Xu=!1,Qu=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()};}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!Xu){Xu=!0;var r,n=Zu(t);r=function(){var r=!1;try{r=Hu();}finally{if(Xu=!1,t=n-Zu(),!Gu)return;r?e.run(1e3):t>0?e.run(t):e.start();}},$u((function(){requestAnimationFrame(r);}));}},t.prototype.schedule=function(){this.stop(),this.run();},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,Wu)};document.body?e():zu.addEventListener("DOMContentLoaded",e);},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Yu.forEach((function(e){return zu.addEventListener(e,t.listener,!0)})));},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Yu.forEach((function(e){return zu.removeEventListener(e,t.listener,!0)})),this.stopped=!0);},t}()),Ju=function(t){!Gu&&t>0&&Qu.start(),!(Gu+=t)&&Qu.stop();},Ku=function(){function t(t,e){this.target=t,this.observedBox=e||vu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return t.prototype.isActive=function(){var t,e=Fu(this.target,this.observedBox,!0);return t=this.target,Su(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return !0}return !1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),th=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e;},eh=new WeakMap,rh=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return -1},nh=function(){function t(){}return t.connect=function(t,e){var r=new th(t,e);eh.set(t,r);},t.observe=function(t,e,r){var n=eh.get(t),i=0===n.observationTargets.length;rh(n.observationTargets,e)<0&&(i&&wu.push(n),n.observationTargets.push(new Ku(e,r&&r.box)),Ju(1),Qu.schedule());},t.unobserve=function(t,e){var r=eh.get(t),n=rh(r.observationTargets,e),i=1===r.observationTargets.length;n>=0&&(i&&wu.splice(wu.indexOf(r),1),r.observationTargets.splice(n,1),Ju(-1));},t.disconnect=function(t){var e=this,r=eh.get(t);r.observationTargets.slice().forEach((function(r){return e.unobserve(t,r.target)})),r.activeTargets.splice(0,r.activeTargets.length);},t}(),ih=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");nh.connect(this,t);}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ou(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");nh.observe(this,t,e);},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ou(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");nh.unobserve(this,t);},t.prototype.disconnect=function(){nh.disconnect(this);},t.toString=function(){return "function ResizeObserver () { [polyfill code] }"},t}();const sh=self.ResizeObserver||ih;const ah=new c,oh=new c,uh=new TextDecoder,hh=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return ""+this._nextUID++}static getPsuedoAttributes(t){return `${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,r=t.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;const i=e.createElement("style");n.append(i);const s=i.sheet;let a=0;if(uu(s,`[${hh.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",a++),uu(s,`[${hh.RENDERING_ATTRIBUTE}], [${hh.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",a++),uu(s,`[${hh.RENDERING_ATTRIBUTE}] [${hh.LAYER_ATTRIBUTE}], [${hh.RENDERING_ATTRIBUTE}] [${hh.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",a++),uu(s,`[${hh.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",a++),uu(s,`[${hh.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",a++),uu(s,`[${hh.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; height:100% !important; padding:0 !important; position:static !important; display:block !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",a++),uu(s,`[${hh.RENDERING_PARENT_ATTRIBUTE}]::before, [${hh.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",a++),r===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash);}catch{}t=window.location.hash;};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target;}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null;}),!1),window.addEventListener("load",(t=>{o();}));}const o=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0;},u=t=>{var e=t.nodeName.toUpperCase();-1!==h.indexOf(e)&&t.addEventListener("load",o);},h=["STYLE","LINK"],c=new MutationObserver((t=>{var r;for(const n of t){-1!==h.indexOf(n.target.nodeName.toUpperCase())&&(o(),null==(r=this.embeddedCSS.get(e))||r.delete(n.target));for(const t of n.addedNodes)u(t);}}));c.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,c);}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t);}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t);}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t);}static _runTasks(){hh.tasksPending=!1;const t=hh.serializeQueue,e=hh.rasterizeQueue,r=hh.renderQueue,n=hh.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;r.length&&performance.now()-i<n;)r.shift().render();for(i=performance.now();t.length&&performance.now()-i<n;)t.shift().serialize();e.length&&hh.rasterizeTaskCount<hh.TASK_ASYNC_MAX_COUNT&&(hh.rasterizeTaskCount++,e.shift().rasterize().then((()=>{hh.rasterizeTaskCount--;})));}static scheduleTasksIfNeeded(){this.tasksPending||0===hh.serializeQueue.length&&0===hh.renderQueue.length&&(0===hh.rasterizeQueue.length||hh.rasterizeTaskCount===hh.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,hh.scheduleIdle(hh._runTasks));}static scheduleIdle(t){setTimeout(t,1);}static setLayerNeedsRefresh(t){t.needsRefresh=!0;}static createLayerTree(t,e){if(hh.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t){const e=t.ownerDocument,r=t.getRootNode();if(e.contains(t)||e.contains(null==r?void 0:r.host))return t;const n=r.host||e.createElement("div");n.setAttribute(ch.RENDERING_CONTAINER_ATTRIBUTE,""),n.style.position="fixed",n.style.width="100%",n.style.height="100%",n.style.top="-100000px",n.style.contain="strict",r.host||n.appendChild(t),e.documentElement.appendChild(n);}(t),hh.initRootNodeObservation(t);const r=new MutationObserver(hh._handleMutations);this.mutationObservers.set(t,r),this.startMutationObserver(t);const n=new sh((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(hh.setLayerNeedsRefresh),t.traverseParentLayers(hh.setLayerNeedsRefresh);}}));n.observe(t),this.resizeObservers.set(t,n),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const i=new gu(t,e);return this.rootLayers.set(t,i),i}static disposeLayer(t){if(this.rootLayers.has(t.element)){this.rootLayers.delete(t.element);this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element);this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0});}}static getClosestLayer(t){const e=t&&t.closest(`[${hh.LAYER_ATTRIBUTE}]`);return this.layers.get(e)}static getCSSTransformForElement(t,e=new c){const r=getComputedStyle(t);var n=r.transform;if(0==n.indexOf("matrix(")){e.identity();var i=n.substring(7,n.length-1).split(", ").map(parseFloat);e.elements[0]=i[0],e.elements[1]=i[1],e.elements[4]=i[2],e.elements[5]=i[3],e.elements[12]=i[4],e.elements[13]=i[5];}else {if(0!=n.indexOf("matrix3d("))return e.identity();i=n.substring(9,n.length-1).split(", ").map(parseFloat);e.fromArray(i);}var s=r.transformOrigin.split(" ").map(parseFloat),a=s[0],o=s[1],u=s[2]||0,h=ah.identity().makeTranslation(-a,-o,-u),l=oh.identity().makeTranslation(a,o,u);return e.premultiply(l).multiply(h)}static async embedExternalResources(t){const e=[],r=t.querySelectorAll("*");for(const i of r){const t=i.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.push(hh.getDataURL(t).then((t=>{i.removeAttributeNS("http://www.w3.org/1999/xlink","href"),i.setAttribute("href",t);})));const r=i;if("IMG"==i.tagName&&"data"!=r.src.substr(0,4)&&e.push(hh.getDataURL(r.src).then((t=>{i.setAttribute("src",t);}))),"http://www.w3.org/1999/xhtml"==i.namespaceURI&&i.hasAttribute("style")){const t=i.getAttribute("style")||"";e.push(hh.generateEmbeddedCSS(window.location.href,t).then((e=>{t!=e&&i.setAttribute("style",e);})));}}const n=t.querySelectorAll("style");for(const i of n)e.push(hh.generateEmbeddedCSS(window.location.href,i.innerHTML).then((t=>{i.innerHTML!=t&&(i.innerHTML=t);})));return Promise.all(e)}static pauseMutationObservers(){const t=hh.mutationObservers.values();for(const e of t)hh._handleMutations(e.takeRecords()),e.disconnect();}static resumeMutationObservers(){for(const[t]of hh.mutationObservers)this.startMutationObserver(t);}static startMutationObserver(t){hh.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0});}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let s=0;s<e.length;s++)try{const t=e[s],i=t.cssRules;if(!i)continue;const a=[];for(var r=0;r<i.length;r++){i[r].cssText.indexOf(":hover")>-1&&a.push(i[r].cssText.replace(new RegExp(":hover","g"),`[${hh.HOVER_ATTRIBUTE}]`)),i[r].cssText.indexOf(":active")>-1&&a.push(i[r].cssText.replace(new RegExp(":active","g"),`[${hh.ACTIVE_ATTRIBUTE}]`)),i[r].cssText.indexOf(":focus")>-1&&a.push(i[r].cssText.replace(new RegExp(":focus","g"),`[${hh.FOCUS_ATTRIBUTE}]`)),i[r].cssText.indexOf(":target")>-1&&a.push(i[r].cssText.replace(new RegExp(":target","g"),`[${hh.TARGET_ATTRIBUTE}]`));var n=a.indexOf(i[r].cssText);n>-1&&a.splice(n,1);}for(r=0;r<a.length;r++)t.insertRule(a[r]);}catch(i){}}static arrayBufferToBase64(t){for(var e="",r=t.byteLength,n=0;n<r;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let r;const n=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;r=i.exec(e);){const i=r[1];n.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t);})));}return await Promise.all(n),e}static async getURL(t){return t=new URL(t,window.location.href).href,new Promise((e=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{e(r);},r.onerror=()=>{e(r);},r.send();}))}static async getEmbeddedCSS(t){const e=t.getRootNode(),r=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,r);const n=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));let i=!1;for(const s of n)if(!r.has(s))if(i=!0,"STYLE"==s.tagName){const t=s.sheet;let e="";for(const r of t.cssRules)e+=r.cssText+"\n";r.set(s,this.generateEmbeddedCSS(window.location.href,e));}else r.set(s,this.getURL(s.getAttribute("href")).then((t=>{if(!t.response)return "";this._addDynamicPseudoClassRules(e);var r=uh.decode(t.response);return this.generateEmbeddedCSS(window.location.href,r)})));return i&&this._addDynamicPseudoClassRules(e),Promise.all(r.values())}static async getDataURL(t){var e;const r=await this.getURL(t),n=new Uint8Array(r.response),i=null==(e=r.getResponseHeader("Content-Type"))?void 0:e.split(";")[0];if("text/css"==i){let e=uh.decode(n);e=await this.generateEmbeddedCSS(t,e);const r=window.btoa(e);return r.length>0?"data:"+i+";base64,"+r:""}return "data:"+i+";base64,"+this.arrayBufferToBase64(n)}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e);}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value);}static isBlankImage(t){return !new Uint32Array(t.buffer).some((t=>0!==t))}};let ch=hh;if(ch.ATTRIBUTE_PREFIX="xr",ch._nextUID=0,ch.serializer=new XMLSerializer,ch.rootLayers=new Map,ch.layers=new Map,ch.mutationObservers=new Map,ch.resizeObservers=new Map,ch.serializeQueue=[],ch.rasterizeQueue=[],ch.renderQueue=[],ch.focusElement=null,ch.activeElement=null,ch.targetElement=null,ch.rootNodeObservers=new Map,ch.TASK_ASYNC_MAX_COUNT=2,ch.TASK_SYNC_MAX_TIME=200,ch.rasterizeTaskCount=0,ch.tasksPending=!1,ch._handleMutations=t=>{for(const e of t){if("attributes"===e.type){if(e.target.getAttribute(e.attributeName)===e.oldValue)continue}if("characterData"===e.type){if(e.target.data===e.oldValue)continue}const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const r=hh.getClosestLayer(t);if(r){if("attributes"===e.type&&"class"===e.attributeName){if((e.oldValue?e.oldValue:"")===e.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(hh.setLayerNeedsRefresh):r.traverseLayers(hh.setLayerNeedsRefresh);}}},ch._triggerRefresh=async t=>{const e=hh.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(hh.setLayerNeedsRefresh):e.traverseLayers(hh.setLayerNeedsRefresh));},ch.embeddedCSS=new Map,self.THREE)var lh=self.THREE;else lh=t;const ph=new lh.Vector3,fh=new lh.Vector3,dh=new hu,mh=new hu;class yh extends lh.Group{constructor(t,e={}){super(),this.options=e,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new lh.Mesh(vh.GEOMETRY,new lh.MeshBasicMaterial({transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new lh.Mesh(vh.GEOMETRY,new lh.MeshBasicMaterial({visible:!1})),this.cursor=new lh.Object3D,this.depthMaterial=new lh.MeshDepthMaterial({depthPacking:lh.RGBADepthPacking,alphaTest:.01}),this.domLayout=new lh.Object3D,this.domSize=new lh.Vector3(1,1,1),this.childWebLayers=[],this.shouldApplyDOMLayout="auto";const r=this.element="string"==typeof t?fu(t):t;this.name=r.id,this._webLayer=ch.getClosestLayer(r),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.material.toneMapped=!1,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this._boundsMesh.matrixAutoUpdate=!0,vh.layersByElement.set(this.element,this),vh.layersByMesh.set(this.contentMesh,this);}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new lh.VideoTexture(t),e.wrapS=lh.ClampToEdgeWrapping,e.wrapT=lh.ClampToEdgeWrapping,e.minFilter=lh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.canvas;let e=this.textures.get(t);return e?this.textureNeedsUpdate&&(this.textureNeedsUpdate=!1,e.needsUpdate=!0):(e=new lh.Texture(t),e.needsUpdate=!0,e.wrapS=lh.ClampToEdgeWrapping,e.wrapT=lh.ClampToEdgeWrapping,e.minFilter=lh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.psuedoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(ch.setLayerNeedsRefresh);}get needsRemoval(){return this._webLayer.needsRemoval}get bounds(){return this._webLayer.bounds}get parentWebLayer(){return this._webLayer.parentLayer&&vh.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){this._webLayer.refresh(),this.childWebLayers.length=0;for(const e of this._webLayer.childLayers){const r=vh.getClosestLayerForElement(e.element);r&&(this.childWebLayers.push(r),t&&r.refresh(t));}this._refreshVideoBounds(),this._refreshDOMLayout();}updateLayout(){this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.scale.copy(this.domSize),this._boundsMesh.scale.copy(this.domSize);const t=this.contentMesh,e=t.material.opacity<.005;e?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&e&&(this.parent&&this.parent.remove(this),this.dispose());}updateContent(){const t=this.contentMesh,e=this.currentTexture,r=t.material;e.image&&r.map!==e&&(r.map=e,this.depthMaterial.map=e,this.depthMaterial.needsUpdate=!0,r.depthWrite=!1,this.renderOrder=this.depth+.001*this.index+(this.options.renderOrderOffset||0),r.needsUpdate=!0);}_doUpdate(){this.updateLayout(),this.updateContent(),this.needsRefresh&&this.options.autoRefresh&&this.refresh(),ch.scheduleTasksIfNeeded();}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate();}querySelector(t){const e=this.element.querySelector(t);if(e)return vh.layersByElement.get(e)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e));}traverseLayersPreOrder(t){if(!1===t.call(this,this))return !1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return !1;return !0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return !1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),ch.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose();}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,r=getComputedStyle(this.element),{objectFit:n}=r,{width:i,height:s}=this.bounds,{videoWidth:a,videoHeight:o}=t,u=a/o,h=i/s;switch(e.center.set(.5,.5),n){case"none":e.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),h>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;case"cover":if(e.repeat.set(i/a,s/o),h<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;default:case"fill":e.repeat.set(1,1);}}}_refreshDOMLayout(){if(this.needsRemoval)return;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const t=this.bounds,e=t.width,r=t.height,n=1/vh.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(n*e,1e-5),Math.max(n*r,1e-5),1),!vh.shouldApplyDOMLayout(this))return;const i=this.parentWebLayer instanceof yh?this.parentWebLayer.bounds:function(t){return pu.parentNode||document.documentElement.append(pu),t.left=pageXOffset,t.top=pageYOffset,t.width=pu.offsetWidth,t.height=pu.offsetHeight,t}(dh),s=-i.width/2+e/2,a=i.height/2-r/2;this.options.layerSeparation||vh.DEFAULT_LAYER_SEPARATION,this.domLayout.position.set(n*(s+t.left),n*(a-t.top),0);}}const gh=class extends yh{constructor(t,e={}){super(t,e),this.options=e,this._interactionRays=[],this._raycaster=new lh.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh);},this._webLayer=ch.createLayerTree(this.element,((t,{target:e})=>{var r,n;if("layercreated"===t){if(e===this.element)return;const t=new yh(e,this.options);null==(r=t.parentWebLayer)||r.add(t),this.options.onLayerCreate&&this.options.onLayerCreate(t);}else if("layerpainted"===t){const t=ch.layers.get(e);gh.layersByElement.get(t.element).textureNeedsUpdate=!0;}else if("layermoved"===t){const t=gh.layersByElement.get(e);null==(n=t.parentWebLayer)||n.add(t);}})),this.options.onLayerCreate&&this.options.onLayerCreate(this),this.refresh(!0),this.update();}static computeNaturalDistance(t,e){let r=t;t.isCamera&&(r=t.projectionMatrix);const n=e.getPixelRatio(),i=e.domElement.width/n,s=gh.DEFAULT_PIXELS_PER_UNIT*i,a=function(t){const e=xh,r=wh.getInverse(t),n=bh;return e.left=n.set(-1,0,-1).applyMatrix4(r).angleTo(_h),e.right=n.set(1,0,-1).applyMatrix4(r).angleTo(_h),e.top=n.set(0,1,-1).applyMatrix4(r).angleTo(_h),e.bottom=n.set(0,-1,-1).applyMatrix4(r).angleTo(_h),e.horizontal=e.right+e.left,e.vertical=e.top+e.bottom,e}(r).horizontal;return s/2/Math.tan(a/2)}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return "always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get parentWebLayer(){return super.parentWebLayer}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t;}update(t=!1){this._updateInteractions(),super.update(t);}_intersectionGetGroupOrder(t){let e=t.object;for(;e.parent&&!e.isGroup;)e=e.parent;t.groupOrder=e.renderOrder;}_intersectionSort(t,e){return t.groupOrder!==e.groupOrder?e.groupOrder-t.groupOrder:t.object.renderOrder!==e.object.renderOrder?e.object.renderOrder-t.object.renderOrder:t.distance-e.distance}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof lh.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(ph),e.getWorldDirection(fh)),this._hitIntersections.length=0;const r=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.forEach(this._intersectionGetGroupOrder),r.sort(this._intersectionSort);const n=r[0];if(n){const e=n.object.parent;e.cursor.position.copy(n.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh();}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh();}static getLayerForQuery(t){const e=document.querySelector(t);return gh.layersByElement.get(e)}static getClosestLayerForElement(t){const e=t&&t.closest(`[${ch.LAYER_ATTRIBUTE}]`);return gh.layersByElement.get(e)}hitTest(t){const e=this._raycaster,r=this._hitIntersections,n=gh.layersByMesh;e.ray.copy(t),r.length=0,e.intersectObject(this,!0,r),r.forEach(this._intersectionGetGroupOrder),r.sort(this._intersectionSort);for(const i of r){const t=n.get(i.object);if(!t)continue;const e=lu(t.element,dh);if(!e.width||!e.height)continue;let r=t.element;const s=i.uv.x*e.width,a=(1-i.uv.y)*e.height;return ou(t.element,(t=>{if(!r.contains(t))return !1;const n=lu(t,mh),i=n.left-e.left,o=n.top-e.top,{width:u,height:h}=n;return s>i&&s<i+u&&a>o&&a<o+h&&(r=t,!0)})),{layer:t,intersection:i,target:r}}}};let vh=gh;vh.layersByElement=new WeakMap,vh.layersByMesh=new WeakMap,vh.DEFAULT_LAYER_SEPARATION=.001,vh.DEFAULT_PIXELS_PER_UNIT=1e3,vh.GEOMETRY=new lh.PlaneGeometry(1,1,2,2);const xh=new class{constructor(){this.top=0,this.left=0,this.bottom=0,this.right=0,this.horizontal=0,this.vertical=0;}},wh=new lh.Matrix4,bh=new lh.Vector3,_h=new lh.Vector3(0,0,-1);

class HubsApp {
    constructor (width, height, App, createOptions={}) {
        this.isInteractive = false;
        this.isNetworked = false;

        this.takeOwnership = this.takeOwnershipProto.bind(this);
        this.setSharedData = this.setSharedDataProto.bind(this);

        this.headDiv = document.createElement("div");
        this.appDiv  = document.createElement("div");
    
        // this.headDiv.style.position = "absolute";
        // this.headDiv.style.left = -10000+'px';
        // this.headDiv.style.top = 0+'px';
        
        this.headDiv.appendChild(this.appDiv);
        // document.body.appendChild(this.headDiv)

        this.width = width;
        this.height = height;

        this.vueApp = createApp(App, createOptions);
    }

    mount() {
        this.vueRoot = this.vueApp.mount(this.appDiv);
        this.webLayer3D = new vh(this.vueRoot.$el, {
            autoRefresh: true,
            onLayerCreate: (layer) => {
                // nothing yet
            },
            onAfterRasterize(layer) {
                   // nothing yet
            },
            textureEncoding: THREE.sRGBEncoding,
            renderOrderOffset: -1000
        });
    }

    setNetworkMethods(takeOwnership, setSharedData) {
        this.takeOwnership = takeOwnership;
        this.setSharedData = setSharedData;
    }

    // dummy functions, just to avoid errors if they get called before
    // networking is initialized, or called when networked is false
    takeOwnershipProto() {
        return true;
    }
    setSharedDataProto(object) {
        return true;
    }

    // receive data updates.  should be overridden by subclasses
    updateSharedData(dataObject) {
        raise("updateData should be overridden by subclasses");
    }

    // receive data updates.  should be overridden by subclasses
    getSharedData(dataObject) {
        raise("getSharedData should be overridden by subclasses");
    }
    
    play() {
        // if we can figure out how to pause, then restart here
    }

    pause() {
        // perhaps figure out how to pause the Vue component?
    }
    
    destroy() {
        // TODO: destroy the vue component and any resources, etc., it has
    }
}

class HubsTest1 extends HubsApp {
    constructor (width, height) {
        super(width, height, script$2);
        this.isInteractive = true;
        this.isNetworked = true;
        
        let app = this; // so we can reference it in the methods below
        // Create a new store instance.
        this.store = createStore({
            state: { 
                count: 0
            },
            mutations: {
                setCount (state, count) {
                  state.count = count;  
                }
            },
            actions: {
                increment (context) {
                    if (app.takeOwnership()) {
                        console.log (JSON.stringify(context.state));
                        context.commit('setCount', context.state.count+1);
                        console.log (JSON.stringify(context.state));

                        app.setSharedData(context.state);
                    }
                }
            }
        });
        console.log (JSON.stringify(this.store.state));

        this.vueApp.use(this.store);
    }
    
    updateSharedData(dataObject) {
        // need to update the elements within the store, because otherwise
        // the data won't flow to the components
        this.store.commit("setCount", dataObject.count);
    }

    getSharedData() {
        return this.store.state;
    }
}

var init$1 = function () {
    let app = new HubsTest1(2, 2.25);
    app.mount();
    return app
};

pushScopeId("data-v-71c39a7e");
const _hoisted_1$1 = /*#__PURE__*/createVNode("p", null, [
  /*#__PURE__*/createVNode("a", {
    href: "https://vitejs.dev/guide/features.html",
    target: "_blank"
  }, " Vite Documentation and Then Some! "),
  /*#__PURE__*/createTextVNode(" | "),
  /*#__PURE__*/createVNode("a", {
    href: "https://v3.vuejs.org/",
    target: "_blank"
  }, "Vue 3 Documentation")
], -1 /* HOISTED */);
const _hoisted_2$1 = /*#__PURE__*/createVNode("p", null, [
  /*#__PURE__*/createTextVNode(" Edit "),
  /*#__PURE__*/createVNode("code", null, "components/HelloWorld.vue"),
  /*#__PURE__*/createTextVNode(" to test hot module replacement. ")
], -1 /* HOISTED */);
popScopeId();


var script$1 = {
  expose: [],
  props: {
  msg: String
},
  setup(__props) {



const state = reactive({ count: 0 });

return (_ctx, _cache) => {
  return (openBlock(), createBlock(Fragment, null, [
    createVNode("h1", null, toDisplayString(__props.msg), 1 /* TEXT */),
    _hoisted_1$1,
    createVNode("button", {
      onClick: _cache[1] || (_cache[1] = $event => (unref(state).count++))
    }, "count is: " + toDisplayString(unref(state).count), 1 /* TEXT */),
    _hoisted_2$1
  ], 64 /* STABLE_FRAGMENT */))
}
}

};

var css_248z$1 = "\na[data-v-71c39a7e] {\n  color: #42b983;\n}\n*[data-v-71c39a7e] {\n    box-sizing: content-box;\n}\np[data-v-71c39a7e] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-71c39a7e] {\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\n";
styleInject(css_248z$1);

script$1.__scopeId = "data-v-71c39a7e";

pushScopeId("data-v-4e9fe16f");
const _hoisted_1 = { id: "top" };
const _hoisted_2 = /*#__PURE__*/createVNode("img", {
  alt: "Vue logo",
  src: _imports_0
}, null, -1 /* HOISTED */);
popScopeId();

// This starter template is using Vue 3 experimental <script setup> SFCs
// Check out https://github.com/vuejs/rfcs/blob/script-setup-2/active-rfcs/0000-script-setup.md

var script = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1, [
    _hoisted_2,
    createVNode(script$1, { msg: "Hello From the HelloWorld Component" })
  ]))
}
}

};

var css_248z = "\n#top[data-v-4e9fe16f] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n\n  width: 400px; height: 500px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-4e9fe16f] {\n    box-sizing: content-box;\n}\nimg[data-v-4e9fe16f] {\n    max-width: none;\n        display: inline;\n}\n";
styleInject(css_248z);

script.__scopeId = "data-v-4e9fe16f";

class HubsTest2 extends HubsApp {
    constructor (width, height) {
        super(width, height, script);
    }
}

var init = function () {
    let app = new HubsTest2(2, 2.5);
    app.mount();
    return app
};

export { init$1 as hubsTest1, init as hubsTest2 };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHVicy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvcmVhY3Rpdml0eS9kaXN0L3JlYWN0aXZpdHkuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWNvcmUvZGlzdC9ydW50aW1lLWNvcmUuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWRvbS9kaXN0L3J1bnRpbWUtZG9tLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vc3JjL2Fzc2V0cy9sb2dvLnBuZyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2Vudi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2NvbnN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdnVleC9kaXN0L3Z1ZXguZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9Tb21lVGV4dC52dWUiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9Tb21lVGV4dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzQ2NjkzNDgmbGFuZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1pbmplY3QvZGlzdC9zdHlsZS1pbmplY3QuZXMuanMiLCIuLi8uLi9zcmMvYXBwcy9IdWJzVGVzdDEvQXBwVGV4dC52dWUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvVmVjdG9yMi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRoVXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9WZWN0b3IzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdHJpeDQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvRXVsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvQm94Mi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9Cb3gzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1JheS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9MaW5lMy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRyaXgzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1BsYW5lLmpzIiwiLi4vLi4vY29yZS9tYXRoLXV0aWxzLnRzIiwiLi4vLi4vY29yZS9TcGF0aWFsTWV0cmljcy50cyIsIi4uLy4uL2NvcmUvU3BhdGlhbExheW91dC50cyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcG9wbW90aW9uL2Vhc2luZy9kaXN0L2Vhc2luZy5lcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9pcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9vYmplY3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHlwZWQtZnVuY3Rpb24vdHlwZWQtZnVuY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbnVtYmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2JpZ251bWJlci9mb3JtYXR0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvc3RyaW5nLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Vycm9yL0luZGV4RXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYXJyYXkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvZmFjdG9yeS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9jb3JlL2Z1bmN0aW9uL3R5cGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvcmVzdWx0c2V0L1Jlc3VsdFNldC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZWNpbWFsLmpzL2RlY2ltYWwubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvYmlnbnVtYmVyL0JpZ051bWJlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jb21wbGV4LmpzL2NvbXBsZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9jb21wbGV4L0NvbXBsZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZnJhY3Rpb24uanMvZnJhY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9mcmFjdGlvbi9GcmFjdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9SYW5nZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9NYXRyaXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvRGVuc2VNYXRyaXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvY29sbGVjdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9wbGFpbi9udW1iZXIvYXJpdGhtZXRpYy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi91dGlscy9pc051bWVyaWMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvZXF1YWxTY2FsYXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvY29tcGxleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9TcGFyc2VNYXRyaXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9udW1iZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9iaWdudW1iZXIvZnVuY3Rpb24vYmlnbnVtYmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvZnJhY3Rpb24vZnVuY3Rpb24vZnJhY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvZnVuY3Rpb24vbWF0cml4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvdW5hcnlNaW51cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2Ficy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2FkZFNjYWxhci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2NlaWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9maXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9mbG9vci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL21vZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL211bHRpcGx5U2NhbGFyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbXVsdGlwbHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9zdWJ0cmFjdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9jb21wbGV4L2NvbmouanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbHJ1UXVldWUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvZnVuY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2lkZW50aXR5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL25vb3AuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvQXJndW1lbnRzRXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L3NpemUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvY3VzdG9tcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvc3Vic2V0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC96ZXJvcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9zdHJpbmcvZm9ybWF0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3V0aWxzL251bWVyaWMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9kaXZpZGVTY2FsYXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9wb3cuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9yb3VuZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9yZWxhdGlvbmFsL2VxdWFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvc21hbGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9yZWxhdGlvbmFsL2xhcmdlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9GaWJvbmFjY2lIZWFwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1NwYS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9iaWdudW1iZXIvY29uc3RhbnRzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvdW5pdC9Vbml0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvdW5pdC9mdW5jdGlvbi91bml0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvdW5pdC9mdW5jdGlvbi9jcmVhdGVVbml0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWRkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9kb3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9rZXl3b3Jkcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL3RyYW5zZm9ybS91dGlscy9lcnJvclRyYW5zZm9ybS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvdXRpbHMvYWNjZXNzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9BY2Nlc3Nvck5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0FycmF5Tm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL29wZXJhdG9ycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQXNzaWdubWVudE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL3V0aWxzL2Fzc2lnbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQmxvY2tOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Db25kaXRpb25hbE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZXNjYXBlLWxhdGV4L2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbGF0ZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0NvbnN0YW50Tm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvSW5kZXhOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9PYmplY3ROb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9PcGVyYXRvck5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1BhcmVudGhlc2lzTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvUmFuZ2VOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9SZWxhdGlvbmFsTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvRnVuY3Rpb25Ob2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vcGFyc2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZyYWN0aW9uLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzWmVyb3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NpemUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RvdC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbmouZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0xhcmdlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0lkZW50aXR5LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTnVtZXJpYy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0JpZ251bWJlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N1YnNldC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1VuaXRDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0VxdWFsLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRml4LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ2VpbC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Zsb29yLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRm9ybWF0LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSXNOdW1lcmljLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUG93LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N5bWJvbE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9TeW1ib2xOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNFdmFsdWF0ZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1BhcnNlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWNjZXNzb3JOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQXJyYXlOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNCbG9ja05vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSZXN1bHRTZXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb25kaXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb25zdGFudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnVuY3Rpb25Ob2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSW5kZXhOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUmFuZ2VDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc09iamVjdE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNPcGVyYXRvck5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNQYXJlbnRoZXNpc05vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSYW5nZU5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSZWxhdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9mdW5jdGlvbi9ldmFsdWF0ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGl2aWRlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSW52LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGV0LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTHVwLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3BhQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGaWJvbmFjY2lIZWFwQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTbWFsbGVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hbGdlYnJhL2RlY29tcG9zaXRpb24vbHVwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9kZXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2ludi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2RpdmlkZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanMiLCIuLi8uLi9jb3JlL1NwaGVyaWNhbENvb3JkaW5hdGUudHMiLCIuLi8uLi93ZWItbGF5ZXIvZG9tLXV0aWxzLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3QtdGV4dC1lbmNvZGluZy90ZXh0Lm1pbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9scnVfbWFwL2xydS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXNoYTI1Ni9zaGEyNTYuanMiLCIuLi8uLi93ZWItbGF5ZXIvV2ViTGF5ZXIudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzIiwiLi4vLi4vd2ViLWxheWVyL1dlYlJlbmRlcmVyLnRzIiwiLi4vLi4vd2ViLWxheWVyL3RocmVlL3RocmVlLXdlYi1sYXllci50cyIsIi4uLy4uL3NyYy9hcHBzL0h1YnNBcHAuanMiLCIuLi8uLi9zcmMvYXBwcy9IdWJzVGVzdDEvaHVicy5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlIiwiLi4vLi4vc3JjL2FwcHMvSHVic1Rlc3QyL0FwcEhlbGxvLnZ1ZSIsIi4uLy4uL3NyYy9hcHBzL0h1YnNUZXN0Mi9odWJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcclxuICogaXMgaW4gdGhhdCBtYXAuXHJcbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXHJcbiAqIFxcL1xcKiNcXF9cXF9QVVJFXFxfXFxfXFwqXFwvXHJcbiAqIFNvIHRoYXQgcm9sbHVwIGNhbiB0cmVlLXNoYWtlIHRoZW0gaWYgbmVjZXNzYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIsIGV4cGVjdHNMb3dlckNhc2UpIHtcclxuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyB2YWwgPT4gISFtYXBbdmFsLnRvTG93ZXJDYXNlKCldIDogdmFsID0+ICEhbWFwW3ZhbF07XHJcbn1cblxuLyoqXHJcbiAqIGRldiBvbmx5IGZsYWcgLT4gbmFtZSBtYXBwaW5nXHJcbiAqL1xyXG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcclxuICAgIFsxIC8qIFRFWFQgKi9dOiBgVEVYVGAsXHJcbiAgICBbMiAvKiBDTEFTUyAqL106IGBDTEFTU2AsXHJcbiAgICBbNCAvKiBTVFlMRSAqL106IGBTVFlMRWAsXHJcbiAgICBbOCAvKiBQUk9QUyAqL106IGBQUk9QU2AsXHJcbiAgICBbMTYgLyogRlVMTF9QUk9QUyAqL106IGBGVUxMX1BST1BTYCxcclxuICAgIFszMiAvKiBIWURSQVRFX0VWRU5UUyAqL106IGBIWURSQVRFX0VWRU5UU2AsXHJcbiAgICBbNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXTogYFNUQUJMRV9GUkFHTUVOVGAsXHJcbiAgICBbMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovXTogYEtFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFsyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqL106IGBVTktFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFs1MTIgLyogTkVFRF9QQVRDSCAqL106IGBORUVEX1BBVENIYCxcclxuICAgIFsxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi9dOiBgRFlOQU1JQ19TTE9UU2AsXHJcbiAgICBbMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqL106IGBERVZfUk9PVF9GUkFHTUVOVGAsXHJcbiAgICBbLTEgLyogSE9JU1RFRCAqL106IGBIT0lTVEVEYCxcclxuICAgIFstMiAvKiBCQUlMICovXTogYEJBSUxgXHJcbn07XG5cbi8qKlxyXG4gKiBEZXYgb25seVxyXG4gKi9cclxuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcclxuICAgIFsxIC8qIFNUQUJMRSAqL106ICdTVEFCTEUnLFxyXG4gICAgWzIgLyogRFlOQU1JQyAqL106ICdEWU5BTUlDJyxcclxuICAgIFszIC8qIEZPUldBUkRFRCAqL106ICdGT1JXQVJERUQnXHJcbn07XG5cbmNvbnN0IEdMT0JBTFNfV0hJVEVfTElTVEVEID0gJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksJyArXHJcbiAgICAnZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSwnICtcclxuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XHJcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChHTE9CQUxTX1dISVRFX0xJU1RFRCk7XG5cbmNvbnN0IHJhbmdlID0gMjtcclxuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcclxuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KC9cXHI/XFxuLyk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcclxuICAgICAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYCR7bGluZX0keycgJy5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgxLCBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnICcucmVwZWF0KHBhZCkgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA+IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xyXG59XG5cbi8qKlxyXG4gKiBPbiB0aGUgY2xpZW50IHdlIG9ubHkgbmVlZCB0byBvZmZlciBzcGVjaWFsIGNhc2VzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdFxyXG4gKiBoYXZlIGRpZmZlcmVudCBuYW1lcyBmcm9tIHRoZWlyIGNvcnJlc3BvbmRpbmcgZG9tIHByb3BlcnRpZXM6XHJcbiAqIC0gaXRlbXNjb3BlIC0+IE4vQVxyXG4gKiAtIGFsbG93ZnVsbHNjcmVlbiAtPiBhbGxvd0Z1bGxzY3JlZW5cclxuICogLSBmb3Jtbm92YWxpZGF0ZSAtPiBmb3JtTm9WYWxpZGF0ZVxyXG4gKiAtIGlzbWFwIC0+IGlzTWFwXHJcbiAqIC0gbm9tb2R1bGUgLT4gbm9Nb2R1bGVcclxuICogLSBub3ZhbGlkYXRlIC0+IG5vVmFsaWRhdGVcclxuICogLSByZWFkb25seSAtPiByZWFkT25seVxyXG4gKi9cclxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xyXG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcclxuLyoqXHJcbiAqIFRoZSBmdWxsIGxpc3QgaXMgbmVlZGVkIGR1cmluZyBTU1IgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBpbml0aWFsIG1hcmt1cC5cclxuICovXHJcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyArXHJcbiAgICBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixgICtcclxuICAgIGBsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGAgK1xyXG4gICAgYGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgKTtcclxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xyXG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XHJcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcclxuICAgIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcclxuICAgIGlmIChpc1Vuc2FmZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlKTtcclxufVxyXG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcclxuICAgIGFjY2VwdENoYXJzZXQ6ICdhY2NlcHQtY2hhcnNldCcsXHJcbiAgICBjbGFzc05hbWU6ICdjbGFzcycsXHJcbiAgICBodG1sRm9yOiAnZm9yJyxcclxuICAgIGh0dHBFcXVpdjogJ2h0dHAtZXF1aXYnXHJcbn07XHJcbi8qKlxyXG4gKiBDU1MgcHJvcGVydGllcyB0aGF0IGFjY2VwdCBwbGFpbiBudW1iZXJzXHJcbiAqL1xyXG5jb25zdCBpc05vVW5pdE51bWVyaWNTdHlsZVByb3AgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsYm9yZGVyLWltYWdlLW91dHNldCxib3JkZXItaW1hZ2Utc2xpY2UsYCArXHJcbiAgICBgYm9yZGVyLWltYWdlLXdpZHRoLGJveC1mbGV4LGJveC1mbGV4LWdyb3VwLGJveC1vcmRpbmFsLWdyb3VwLGNvbHVtbi1jb3VudCxgICtcclxuICAgIGBjb2x1bW5zLGZsZXgsZmxleC1ncm93LGZsZXgtcG9zaXRpdmUsZmxleC1zaHJpbmssZmxleC1uZWdhdGl2ZSxmbGV4LW9yZGVyLGAgK1xyXG4gICAgYGdyaWQtcm93LGdyaWQtcm93LWVuZCxncmlkLXJvdy1zcGFuLGdyaWQtcm93LXN0YXJ0LGdyaWQtY29sdW1uLGAgK1xyXG4gICAgYGdyaWQtY29sdW1uLWVuZCxncmlkLWNvbHVtbi1zcGFuLGdyaWQtY29sdW1uLXN0YXJ0LGZvbnQtd2VpZ2h0LGxpbmUtY2xhbXAsYCArXHJcbiAgICBgbGluZS1oZWlnaHQsb3BhY2l0eSxvcmRlcixvcnBoYW5zLHRhYi1zaXplLHdpZG93cyx6LWluZGV4LHpvb20sYCArXHJcbiAgICAvLyBTVkdcclxuICAgIGBmaWxsLW9wYWNpdHksZmxvb2Qtb3BhY2l0eSxzdG9wLW9wYWNpdHksc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxgICtcclxuICAgIGBzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGhgKTtcclxuLyoqXHJcbiAqIEtub3duIGF0dHJpYnV0ZXMsIHRoaXMgaXMgdXNlZCBmb3Igc3RyaW5naWZpY2F0aW9uIG9mIHJ1bnRpbWUgc3RhdGljIG5vZGVzXHJcbiAqIHNvIHRoYXQgd2UgZG9uJ3Qgc3RyaW5naWZ5IGJpbmRpbmdzIHRoYXQgY2Fubm90IGJlIHNldCBmcm9tIEhUTUwuXHJcbiAqIERvbid0IGFsc28gZm9yZ2V0IHRvIGFsbG93IGBkYXRhLSpgIGFuZCBgYXJpYS0qYCFcclxuICogR2VuZXJhdGVkIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9BdHRyaWJ1dGVzXHJcbiAqL1xyXG5jb25zdCBpc0tub3duQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGAgK1xyXG4gICAgYGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGAgK1xyXG4gICAgYGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGAgK1xyXG4gICAgYGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxgICtcclxuICAgIGBjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxgICtcclxuICAgIGBkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sYCArXHJcbiAgICBgZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxgICtcclxuICAgIGBoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbnRlZ3JpdHksYCArXHJcbiAgICBgaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LGAgK1xyXG4gICAgYG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsYCArXHJcbiAgICBgb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LGAgK1xyXG4gICAgYHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsYCArXHJcbiAgICBgc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LGAgK1xyXG4gICAgYHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLGAgK1xyXG4gICAgYHZhbHVlLHdpZHRoLHdyYXBgKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU3R5bGUoaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xyXG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooLispLztcclxuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGNzc1RleHQuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XHJcbiAgICAgICAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XHJcbiAgICBsZXQgcmV0ID0gJyc7XHJcbiAgICBpZiAoIXN0eWxlcykge1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xyXG4gICAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wKG5vcm1hbGl6ZWRLZXkpKSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciB2YWxpZCB2YWx1ZXNcclxuICAgICAgICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xyXG4gICAgbGV0IHJlcyA9ICcnO1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJlcyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSBuYW1lICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy50cmltKCk7XHJcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50XHJcbmNvbnN0IEhUTUxfVEFHUyA9ICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLCcgK1xyXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sJyArXHJcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXHJcbiAgICAnZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xyXG4gICAgJ3RpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsJyArXHJcbiAgICAnY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLCcgK1xyXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcclxuICAgICdvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LCcgK1xyXG4gICAgJ3N1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnO1xyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxyXG5jb25zdCBTVkdfVEFHUyA9ICdzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsJyArXHJcbiAgICAnZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlciwnICtcclxuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xyXG4gICAgJ2ZlRGlzdGFuY2VMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLCcgK1xyXG4gICAgJ2ZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsJyArXHJcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcclxuICAgICdmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssJyArXHJcbiAgICAnbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLCcgK1xyXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXHJcbiAgICAndGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3JztcclxuY29uc3QgVk9JRF9UQUdTID0gJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJztcclxuY29uc3QgaXNIVE1MVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEhUTUxfVEFHUyk7XHJcbmNvbnN0IGlzU1ZHVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFNWR19UQUdTKTtcclxuY29uc3QgaXNWb2lkVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcclxuICAgIGNvbnN0IHN0ciA9ICcnICsgc3RyaW5nO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBsZXQgZXNjYXBlZDtcclxuICAgIGxldCBpbmRleDtcclxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xyXG4gICAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xyXG4gICAgICAgICAgICBjYXNlIDM0OiAvLyBcIlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmcXVvdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzg6IC8vICZcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmFtcDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzk6IC8vICdcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJiMzOTsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjA6IC8vIDxcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmx0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2MjogLy8gPlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmZ3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xyXG4gICAgICAgIGh0bWwgKz0gZXNjYXBlZDtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xyXG59XHJcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTIvc3ludGF4Lmh0bWwjY29tbWVudHNcclxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XHJcbiAgICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsICcnKTtcclxufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xyXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVxdWFsO1xyXG59XHJcbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcclxuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdGhpcyBpZiB3aWxsIHByb2JhYmx5IG5ldmVyIGJlIGNhbGxlZCAqL1xyXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcclxuICAgICAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcclxuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKChhSGFzS2V5ICYmICFiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcclxufVxyXG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcclxuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcclxufVxuXG4vKipcclxuICogRm9yIGNvbnZlcnRpbmcge3sgaW50ZXJwb2xhdGlvbiB9fSB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGxcclxuICAgICAgICA/ICcnXHJcbiAgICAgICAgOiBpc09iamVjdCh2YWwpXHJcbiAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufTtcclxuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XHJcbiAgICBpZiAoaXNNYXAodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKChlbnRyaWVzLCBba2V5LCB2YWxdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzW2Ake2tleX0gPT5gXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xyXG4gICAgICAgICAgICB9LCB7fSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn07XG5cbi8qKlxyXG4gKiBMaXN0IG9mIEBiYWJlbC9wYXJzZXIgcGx1Z2lucyB0aGF0IGFyZSB1c2VkIGZvciB0ZW1wbGF0ZSBleHByZXNzaW9uXHJcbiAqIHRyYW5zZm9ybXMgYW5kIFNGQyBzY3JpcHQgdHJhbnNmb3Jtcy4gQnkgZGVmYXVsdCB3ZSBlbmFibGUgcHJvcG9zYWxzIHNsYXRlZFxyXG4gKiBmb3IgRVMyMDIwLiBUaGlzIHdpbGwgbmVlZCB0byBiZSB1cGRhdGVkIGFzIHRoZSBzcGVjIG1vdmVzIGZvcndhcmQuXHJcbiAqIEZ1bGwgbGlzdCBhdCBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9uZXh0L2JhYmVsLXBhcnNlciNwbHVnaW5zXHJcbiAqL1xyXG5jb25zdCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zID0gW1xyXG4gICAgJ2JpZ0ludCcsXHJcbiAgICAnb3B0aW9uYWxDaGFpbmluZycsXHJcbiAgICAnbnVsbGlzaENvYWxlc2NpbmdPcGVyYXRvcidcclxuXTtcclxuY29uc3QgRU1QVFlfT0JKID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXHJcbiAgICA6IHt9O1xyXG5jb25zdCBFTVBUWV9BUlIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xyXG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cclxuICovXHJcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XHJcbmNvbnN0IG9uUkUgPSAvXm9uW15hLXpdLztcclxuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xyXG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnb25VcGRhdGU6Jyk7XHJcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XHJcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XHJcbiAgICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xyXG4gICAgaWYgKGkgPiAtMSkge1xyXG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcclxuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xyXG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBTZXRdJztcclxuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdmFsIGluc3RhbmNlb2YgRGF0ZTtcclxuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XHJcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XHJcbn07XHJcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcclxuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAvLyBleHRyYWN0IFwiUmF3VHlwZVwiIGZyb20gc3RyaW5ncyBsaWtlIFwiW29iamVjdCBSYXdUeXBlXVwiXHJcbiAgICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn07XHJcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiZcclxuICAgIGtleSAhPT0gJ05hTicgJiZcclxuICAgIGtleVswXSAhPT0gJy0nICYmXHJcbiAgICAnJyArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XHJcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxyXG4vLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXHJcbicsa2V5LHJlZiwnICtcclxuICAgICdvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCwnICtcclxuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XHJcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAoKHN0cikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XHJcbiAgICAgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xyXG59KTtcclxuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSkpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gKHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYCkpO1xyXG4vLyBjb21wYXJlIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZCwgYWNjb3VudGluZyBmb3IgTmFOLlxyXG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gdmFsdWUgIT09IG9sZFZhbHVlICYmICh2YWx1ZSA9PT0gdmFsdWUgfHwgb2xkVmFsdWUgPT09IG9sZFZhbHVlKTtcclxuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm5zW2ldKGFyZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xyXG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn07XHJcbmxldCBfZ2xvYmFsVGhpcztcclxuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcclxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxyXG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xyXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XHJcbn07XG5cbmV4cG9ydCB7IEVNUFRZX0FSUiwgRU1QVFlfT0JKLCBOTywgTk9PUCwgUGF0Y2hGbGFnTmFtZXMsIGJhYmVsUGFyc2VyRGVmYXVsdFBsdWdpbnMsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkF0dHIsIGlzTWFwLCBpc01vZGVsTGlzdGVuZXIsIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCwgaXNPYmplY3QsIGlzT24sIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiaW1wb3J0IHsgRU1QVFlfT0JKLCBpc0FycmF5LCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgZXh0ZW5kLCBoYXNPd24sIGlzT2JqZWN0LCBoYXNDaGFuZ2VkLCBtYWtlTWFwLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgdGFyZ2V0TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgZWZmZWN0U3RhY2sgPSBbXTtcclxubGV0IGFjdGl2ZUVmZmVjdDtcclxuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ2l0ZXJhdGUnIDogJycpO1xyXG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xyXG5mdW5jdGlvbiBpc0VmZmVjdChmbikge1xyXG4gICAgcmV0dXJuIGZuICYmIGZuLl9pc0VmZmVjdCA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcclxuICAgIGlmIChpc0VmZmVjdChmbikpIHtcclxuICAgICAgICBmbiA9IGZuLnJhdztcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdCA9IGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKTtcclxuICAgIGlmICghb3B0aW9ucy5sYXp5KSB7XHJcbiAgICAgICAgZWZmZWN0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIHN0b3AoZWZmZWN0KSB7XHJcbiAgICBpZiAoZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMub25TdG9wKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uU3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZmZlY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBmdW5jdGlvbiByZWFjdGl2ZUVmZmVjdCgpIHtcclxuICAgICAgICBpZiAoIWVmZmVjdC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuc2NoZWR1bGVyID8gdW5kZWZpbmVkIDogZm4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFlZmZlY3RTdGFjay5pbmNsdWRlcyhlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3RTdGFjay5wdXNoKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSBlZmZlY3Q7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdFN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gZWZmZWN0U3RhY2tbZWZmZWN0U3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWZmZWN0LmlkID0gdWlkKys7XHJcbiAgICBlZmZlY3QuYWxsb3dSZWN1cnNlID0gISFvcHRpb25zLmFsbG93UmVjdXJzZTtcclxuICAgIGVmZmVjdC5faXNFZmZlY3QgPSB0cnVlO1xyXG4gICAgZWZmZWN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICBlZmZlY3QucmF3ID0gZm47XHJcbiAgICBlZmZlY3QuZGVwcyA9IFtdO1xyXG4gICAgZWZmZWN0Lm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgcmV0dXJuIGVmZmVjdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhbnVwKGVmZmVjdCkge1xyXG4gICAgY29uc3QgeyBkZXBzIH0gPSBlZmZlY3Q7XHJcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGVwc1tpXS5kZWxldGUoZWZmZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVwcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG59XHJcbmxldCBzaG91bGRUcmFjayA9IHRydWU7XHJcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcclxuICAgIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XHJcbiAgICBzaG91bGRUcmFjayA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xyXG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcclxuICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xyXG4gICAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XHJcbiAgICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBsYXN0O1xyXG59XHJcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XHJcbiAgICBpZiAoIXNob3VsZFRyYWNrIHx8IGFjdGl2ZUVmZmVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoIWRlcHNNYXApIHtcclxuICAgICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgKGRlcHNNYXAgPSBuZXcgTWFwKCkpKTtcclxuICAgIH1cclxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xyXG4gICAgaWYgKCFkZXApIHtcclxuICAgICAgICBkZXBzTWFwLnNldChrZXksIChkZXAgPSBuZXcgU2V0KCkpKTtcclxuICAgIH1cclxuICAgIGlmICghZGVwLmhhcyhhY3RpdmVFZmZlY3QpKSB7XHJcbiAgICAgICAgZGVwLmFkZChhY3RpdmVFZmZlY3QpO1xyXG4gICAgICAgIGFjdGl2ZUVmZmVjdC5kZXBzLnB1c2goZGVwKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGFjdGl2ZUVmZmVjdC5vcHRpb25zLm9uVHJhY2spIHtcclxuICAgICAgICAgICAgYWN0aXZlRWZmZWN0Lm9wdGlvbnMub25UcmFjayh7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3Q6IGFjdGl2ZUVmZmVjdCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBrZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIodGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0KSB7XHJcbiAgICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKCFkZXBzTWFwKSB7XHJcbiAgICAgICAgLy8gbmV2ZXIgYmVlbiB0cmFja2VkXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWZmZWN0cyA9IG5ldyBTZXQoKTtcclxuICAgIGNvbnN0IGFkZCA9IChlZmZlY3RzVG9BZGQpID0+IHtcclxuICAgICAgICBpZiAoZWZmZWN0c1RvQWRkKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdHNUb0FkZC5mb3JFYWNoKGVmZmVjdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0ICE9PSBhY3RpdmVFZmZlY3QgfHwgZWZmZWN0LmFsbG93UmVjdXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuYWRkKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAodHlwZSA9PT0gXCJjbGVhclwiIC8qIENMRUFSICovKSB7XHJcbiAgICAgICAgLy8gY29sbGVjdGlvbiBiZWluZyBjbGVhcmVkXHJcbiAgICAgICAgLy8gdHJpZ2dlciBhbGwgZWZmZWN0cyBmb3IgdGFyZ2V0XHJcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKGFkZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChrZXkgPT09ICdsZW5ndGgnICYmIGlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcgfHwga2V5ID49IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBhZGQoZGVwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gc2NoZWR1bGUgcnVucyBmb3IgU0VUIHwgQUREIHwgREVMRVRFXHJcbiAgICAgICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChrZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWxzbyBydW4gZm9yIGl0ZXJhdGlvbiBrZXkgb24gQUREIHwgREVMRVRFIHwgTWFwLlNFVFxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCIgLyogQUREICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGluZGV4IGFkZGVkIHRvIGFycmF5IC0+IGxlbmd0aCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KCdsZW5ndGgnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLzpcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNldFwiIC8qIFNFVCAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW4gPSAoZWZmZWN0KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBlZmZlY3Qub3B0aW9ucy5vblRyaWdnZXIpIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMub25UcmlnZ2VyKHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVGFyZ2V0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMuc2NoZWR1bGVyKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLnNjaGVkdWxlcihlZmZlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGVmZmVjdHMuZm9yRWFjaChydW4pO1xyXG59XG5cbmNvbnN0IGlzTm9uVHJhY2thYmxlS2V5cyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XHJcbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpXHJcbiAgICAubWFwKGtleSA9PiBTeW1ib2xba2V5XSlcclxuICAgIC5maWx0ZXIoaXNTeW1ib2wpKTtcclxuY29uc3QgZ2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoKTtcclxuY29uc3Qgc2hhbGxvd0dldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKGZhbHNlLCB0cnVlKTtcclxuY29uc3QgcmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlKTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSwgdHJ1ZSk7XHJcbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IHt9O1xyXG5bJ2luY2x1ZGVzJywgJ2luZGV4T2YnLCAnbGFzdEluZGV4T2YnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBBcnJheS5wcm90b3R5cGVba2V5XTtcclxuICAgIGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBhcnIgPSB0b1Jhdyh0aGlzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiAvKiBHRVQgKi8sIGkgKyAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdlIHJ1biB0aGUgbWV0aG9kIHVzaW5nIHRoZSBvcmlnaW5hbCBhcmdzIGZpcnN0ICh3aGljaCBtYXkgYmUgcmVhY3RpdmUpXHJcbiAgICAgICAgY29uc3QgcmVzID0gbWV0aG9kLmFwcGx5KGFyciwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGF0IGRpZG4ndCB3b3JrLCBydW4gaXQgYWdhaW4gdXNpbmcgcmF3IHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseShhcnIsIGFyZ3MubWFwKHRvUmF3KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG5bJ3B1c2gnLCAncG9wJywgJ3NoaWZ0JywgJ3Vuc2hpZnQnLCAnc3BsaWNlJ10uZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kID0gQXJyYXkucHJvdG90eXBlW2tleV07XHJcbiAgICBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn0pO1xyXG5mdW5jdGlvbiBjcmVhdGVHZXR0ZXIoaXNSZWFkb25seSA9IGZhbHNlLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUkFXICovICYmXHJcbiAgICAgICAgICAgIHJlY2VpdmVyID09PVxyXG4gICAgICAgICAgICAgICAgKGlzUmVhZG9ubHlcclxuICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhZG9ubHlNYXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWFkb25seU1hcFxyXG4gICAgICAgICAgICAgICAgICAgIDogc2hhbGxvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dSZWFjdGl2ZU1hcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xyXG4gICAgICAgIGlmICghaXNSZWFkb25seSAmJiB0YXJnZXRJc0FycmF5ICYmIGhhc093bihhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5LCByZWNlaXZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XHJcbiAgICAgICAgaWYgKGlzU3ltYm9sKGtleSlcclxuICAgICAgICAgICAgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KVxyXG4gICAgICAgICAgICA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNSZWFkb25seSkge1xyXG4gICAgICAgICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSZWYocmVzKSkge1xyXG4gICAgICAgICAgICAvLyByZWYgdW53cmFwcGluZyAtIGRvZXMgbm90IGFwcGx5IGZvciBBcnJheSArIGludGVnZXIga2V5LlxyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRVbndyYXAgPSAhdGFyZ2V0SXNBcnJheSB8fCAhaXNJbnRlZ2VyS2V5KGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVbndyYXAgPyByZXMudmFsdWUgOiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgcmV0dXJuZWQgdmFsdWUgaW50byBhIHByb3h5IGFzIHdlbGwuIHdlIGRvIHRoZSBpc09iamVjdCBjaGVja1xyXG4gICAgICAgICAgICAvLyBoZXJlIHRvIGF2b2lkIGludmFsaWQgdmFsdWUgd2FybmluZy4gQWxzbyBuZWVkIHRvIGxhenkgYWNjZXNzIHJlYWRvbmx5XHJcbiAgICAgICAgICAgIC8vIGFuZCByZWFjdGl2ZSBoZXJlIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5ID8gcmVhZG9ubHkocmVzKSA6IHJlYWN0aXZlKHJlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHNldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKCk7XHJcbmNvbnN0IHNoYWxsb3dTZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcih0cnVlKTtcclxuZnVuY3Rpb24gY3JlYXRlU2V0dGVyKHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XHJcbiAgICAgICAgaWYgKCFzaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgICAgICAgICBvbGRWYWx1ZSA9IHRvUmF3KG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSlcclxuICAgICAgICAgICAgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGhcclxuICAgICAgICAgICAgOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIC8vIGRvbid0IHRyaWdnZXIgaWYgdGFyZ2V0IGlzIHNvbWV0aGluZyB1cCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9mIG9yaWdpbmFsXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcclxuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIERFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWlzU3ltYm9sKGtleSkgfHwgIWJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcclxuICAgIHRyYWNrKHRhcmdldCwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgaXNBcnJheSh0YXJnZXQpID8gJ2xlbmd0aCcgOiBJVEVSQVRFX0tFWSk7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XHJcbn1cclxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0LFxyXG4gICAgc2V0LFxyXG4gICAgZGVsZXRlUHJvcGVydHksXHJcbiAgICBoYXMsXHJcbiAgICBvd25LZXlzXHJcbn07XHJcbmNvbnN0IHJlYWRvbmx5SGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IHJlYWRvbmx5R2V0LFxyXG4gICAgc2V0KHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBtdXRhYmxlSGFuZGxlcnMsIHtcclxuICAgIGdldDogc2hhbGxvd0dldCxcclxuICAgIHNldDogc2hhbGxvd1NldFxyXG59KTtcclxuLy8gUHJvcHMgaGFuZGxlcnMgYXJlIHNwZWNpYWwgaW4gdGhlIHNlbnNlIHRoYXQgaXQgc2hvdWxkIG5vdCB1bndyYXAgdG9wLWxldmVsXHJcbi8vIHJlZnMgKGluIG9yZGVyIHRvIGFsbG93IHJlZnMgdG8gYmUgZXhwbGljaXRseSBwYXNzZWQgZG93biksIGJ1dCBzaG91bGRcclxuLy8gcmV0YWluIHRoZSByZWFjdGl2aXR5IG9mIHRoZSBub3JtYWwgcmVhZG9ubHkgb2JqZWN0LlxyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IGV4dGVuZCh7fSwgcmVhZG9ubHlIYW5kbGVycywge1xyXG4gICAgZ2V0OiBzaGFsbG93UmVhZG9ubHlHZXRcclxufSk7XG5cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xyXG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcclxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcclxuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcclxuZnVuY3Rpb24gZ2V0JDEodGFyZ2V0LCBrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSwgaXNTaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIC8vICMxNzcyOiByZWFkb25seShyZWFjdGl2ZShNYXApKSBzaG91bGQgcmV0dXJuIHJlYWRvbmx5ICsgcmVhY3RpdmUgdmVyc2lvblxyXG4gICAgLy8gb2YgdGhlIHZhbHVlXHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIHJhd0tleSk7XHJcbiAgICBjb25zdCB7IGhhcyB9ID0gZ2V0UHJvdG8ocmF3VGFyZ2V0KTtcclxuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzJDEoa2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIHJhd0tleSk7XHJcbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcclxuICAgICAgICA/IHRhcmdldC5oYXMoa2V5KVxyXG4gICAgICAgIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcclxufVxyXG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsICdzaXplJywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCB2YWx1ZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuZnVuY3Rpb24gc2V0JDEoa2V5LCB2YWx1ZSkge1xyXG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XHJcbiAgICBpZiAoaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcclxuICAgIGNvbnN0IG9sZFRhcmdldCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgID8gaXNNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA6IG5ldyBTZXQodGFyZ2V0KVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xyXG4gICAgaWYgKGhhZEl0ZW1zKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBDTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXHJcbiAgICAgICAgICAgIC8vIDEuIGludm9rZWQgd2l0aCB0aGUgcmVhY3RpdmUgbWFwIGFzIGB0aGlzYCBhbmQgM3JkIGFyZ1xyXG4gICAgICAgICAgICAvLyAyLiB0aGUgdmFsdWUgcmVjZWl2ZWQgc2hvdWxkIGJlIGEgY29ycmVzcG9uZGluZyByZWFjdGl2ZS9yZWFkb25seS5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gJ2VudHJpZXMnIHx8IChtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcCk7XHJcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XHJcbiAgICAgICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcclxuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVkpO1xyXG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcclxuICAgICAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcclxuICAgICAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICA/IHsgdmFsdWUsIGRvbmUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXHJcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLyA/IGZhbHNlIDogdGhpcztcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XHJcbiAgICB9LFxyXG4gICAgaGFzOiBoYXMkMSxcclxuICAgIGFkZCxcclxuICAgIHNldDogc2V0JDEsXHJcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxyXG4gICAgY2xlYXIsXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBBREQgKi8pLFxyXG4gICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFNFVCAqLyksXHJcbiAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogREVMRVRFICovKSxcclxuICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogQ0xFQVIgKi8pLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogQUREICovKSxcclxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBTRVQgKi8pLFxyXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIERFTEVURSAqLyksXHJcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIENMRUFSICovKSxcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgaXRlcmF0b3JNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJywgU3ltYm9sLml0ZXJhdG9yXTtcclxuaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcclxuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xyXG4gICAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCB0cnVlKTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XHJcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvd1xyXG4gICAgICAgID8gaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgIDogaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IG11dGFibGVJbnN0cnVtZW50YXRpb25zO1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXRcclxuICAgICAgICAgICAgPyBpbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxyXG59O1xyXG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxyXG59O1xyXG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcclxuICAgICAgICAgICAgYHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCBgICtcclxuICAgICAgICAgICAgYHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gYCArXHJcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcclxuICAgICAgICAgICAgYG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYCk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCByZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xyXG4gICAgc3dpdGNoIChyYXdUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcclxuICAgICAgICBjYXNlICdBcnJheSc6XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcclxuICAgICAgICBjYXNlICdNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1NldCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha01hcCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha1NldCc6XHJcbiAgICAgICAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxyXG4gICAgICAgID8gMCAvKiBJTlZBTElEICovXHJcbiAgICAgICAgOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxyXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgbXV0YWJsZUhhbmRsZXJzLCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLCByZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiBhIHNoYWxsb3dseS1yZWFjdGl2ZSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3RcclxuICogbGV2ZWwgcHJvcGVydGllcyBhcmUgcmVhY3RpdmUuIEl0IGFsc28gZG9lcyBub3QgYXV0by11bndyYXAgcmVmcyAoZXZlbiBhdCB0aGVcclxuICogcm9vdCBsZXZlbCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSByZWFkb25seSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QuIE5vdGUgdGhlIHJldHVybmVkIGNvcHkgaXMgbm90XHJcbiAqIG1hZGUgcmVhY3RpdmUsIGJ1dCBgcmVhZG9ubHlgIGNhbiBiZSBjYWxsZWQgb24gYW4gYWxyZWFkeSByZWFjdGl2ZSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHJlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCByZWFkb25seU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcclxuICogcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxyXG4gKiByZXR1cm5lZCBwcm9wZXJ0aWVzLlxyXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGNyZWF0aW5nIHRoZSBwcm9wcyBwcm94eSBvYmplY3QgZm9yIHN0YXRlZnVsIGNvbXBvbmVudHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlNYXApO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seSwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgaXMgYWxyZWFkeSBhIFByb3h5LCByZXR1cm4gaXQuXHJcbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxyXG4gICAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dICYmXHJcbiAgICAgICAgIShpc1JlYWRvbmx5ICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxyXG4gICAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV4aXN0aW5nUHJveHkpIHtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcclxuICAgIH1cclxuICAgIC8vIG9ubHkgYSB3aGl0ZWxpc3Qgb2YgdmFsdWUgdHlwZXMgY2FuIGJlIG9ic2VydmVkLlxyXG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnMpO1xyXG4gICAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xyXG4gICAgcmV0dXJuIHByb3h5O1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcclxuICAgIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqL10pO1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dKTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcclxuICAgIHJldHVybiAoKG9ic2VydmVkICYmIHRvUmF3KG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pKSB8fCBvYnNlcnZlZCk7XHJcbn1cclxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xyXG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIgLyogU0tJUCAqLywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuY29uc3QgY29udmVydCA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgPyByZWFjdGl2ZSh2YWwpIDogdmFsO1xyXG5mdW5jdGlvbiBpc1JlZihyKSB7XHJcbiAgICByZXR1cm4gQm9vbGVhbihyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiByZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xyXG59XHJcbmNsYXNzIFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoX3Jhd1ZhbHVlLCBfc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBfcmF3VmFsdWU7XHJcbiAgICAgICAgdGhpcy5fc2hhbGxvdyA9IF9zaGFsbG93O1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IF9zaGFsbG93ID8gX3Jhd1ZhbHVlIDogY29udmVydChfcmF3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHRyYWNrKHRvUmF3KHRoaXMpLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHRvUmF3KG5ld1ZhbCksIHRoaXMuX3Jhd1ZhbHVlKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9zaGFsbG93ID8gbmV3VmFsIDogY29udmVydChuZXdWYWwpO1xyXG4gICAgICAgICAgICB0cmlnZ2VyKHRvUmF3KHRoaXMpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJywgbmV3VmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gcmF3VmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IFJlZkltcGwocmF3VmFsdWUsIHNoYWxsb3cpO1xyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmKSB7XHJcbiAgICB0cmlnZ2VyKHRvUmF3KHJlZiksIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyByZWYudmFsdWUgOiB2b2lkIDApO1xyXG59XHJcbmZ1bmN0aW9uIHVucmVmKHJlZikge1xyXG4gICAgcmV0dXJuIGlzUmVmKHJlZikgPyByZWYudmFsdWUgOiByZWY7XHJcbn1cclxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcclxuICAgIHNldDogKHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgICAgIGlmIChpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xyXG4gICAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpXHJcbiAgICAgICAgPyBvYmplY3RXaXRoUmVmc1xyXG4gICAgICAgIDogbmV3IFByb3h5KG9iamVjdFdpdGhSZWZzLCBzaGFsbG93VW53cmFwSGFuZGxlcnMpO1xyXG59XHJcbmNsYXNzIEN1c3RvbVJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBmYWN0b3J5KCgpID0+IHRyYWNrKHRoaXMsIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKSwgKCkgPT4gdHJpZ2dlcih0aGlzLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJykpO1xyXG4gICAgICAgIHRoaXMuX2dldCA9IGdldDtcclxuICAgICAgICB0aGlzLl9zZXQgPSBzZXQ7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldCgpO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgIHRoaXMuX3NldChuZXdWYWwpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgcmV0W2tleV0gPSB0b1JlZihvYmplY3QsIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmNsYXNzIE9iamVjdFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoX29iamVjdCwgX2tleSkge1xyXG4gICAgICAgIHRoaXMuX29iamVjdCA9IF9vYmplY3Q7XHJcbiAgICAgICAgdGhpcy5fa2V5ID0gX2tleTtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgIHRoaXMuX29iamVjdFt0aGlzLl9rZXldID0gbmV3VmFsO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRvUmVmKG9iamVjdCwga2V5KSB7XHJcbiAgICByZXR1cm4gaXNSZWYob2JqZWN0W2tleV0pXHJcbiAgICAgICAgPyBvYmplY3Rba2V5XVxyXG4gICAgICAgIDogbmV3IE9iamVjdFJlZkltcGwob2JqZWN0LCBrZXkpO1xyXG59XG5cbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihnZXR0ZXIsIF9zZXR0ZXIsIGlzUmVhZG9ubHkpIHtcclxuICAgICAgICB0aGlzLl9zZXR0ZXIgPSBfc2V0dGVyO1xyXG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lZmZlY3QgPSBlZmZlY3QoZ2V0dGVyLCB7XHJcbiAgICAgICAgICAgIGxhenk6IHRydWUsXHJcbiAgICAgICAgICAgIHNjaGVkdWxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyKHRvUmF3KHRoaXMpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10gPSBpc1JlYWRvbmx5O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIC8vIHRoZSBjb21wdXRlZCByZWYgbWF5IGdldCB3cmFwcGVkIGJ5IG90aGVyIHByb3hpZXMgZS5nLiByZWFkb25seSgpICMzMzc2XHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRvUmF3KHRoaXMpO1xyXG4gICAgICAgIGlmIChzZWxmLl9kaXJ0eSkge1xyXG4gICAgICAgICAgICBzZWxmLl92YWx1ZSA9IHRoaXMuZWZmZWN0KCk7XHJcbiAgICAgICAgICAgIHNlbGYuX2RpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyYWNrKHNlbGYsIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICByZXR1cm4gc2VsZi5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zZXR0ZXIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucykge1xyXG4gICAgbGV0IGdldHRlcjtcclxuICAgIGxldCBzZXR0ZXI7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xyXG4gICAgICAgIHNldHRlciA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICA/ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IE5PT1A7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xyXG4gICAgICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpIHx8ICFnZXR0ZXJPck9wdGlvbnMuc2V0KTtcclxufVxuXG5leHBvcnQgeyBJVEVSQVRFX0tFWSwgY29tcHV0ZWQsIGN1c3RvbVJlZiwgZWZmZWN0LCBlbmFibGVUcmFja2luZywgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIG1hcmtSYXcsIHBhdXNlVHJhY2tpbmcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdHJhY2ssIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmIH07XG4iLCJpbXBvcnQgeyBwYXVzZVRyYWNraW5nLCByZXNldFRyYWNraW5nLCBpc1JlZiwgdG9SYXcsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNSZWFjdGl2ZSwgZWZmZWN0LCBzdG9wLCByZWYsIGlzUHJveHksIHByb3h5UmVmcywgdG9SZWYsIHJlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHRyYWNrLCBjb21wdXRlZCBhcyBjb21wdXRlZCQxLCBpc1JlYWRvbmx5IH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmV4cG9ydCB7IGN1c3RvbVJlZiwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIG1hcmtSYXcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGlzUHJvbWlzZSwgaXNBcnJheSwgZXh0ZW5kLCBFTVBUWV9PQkosIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT24sIGhhc093biwgaXNNb2RlbExpc3RlbmVyLCBkZWYsIGlzUmVzZXJ2ZWRQcm9wLCBFTVBUWV9BUlIsIGlzT2JqZWN0LCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIHJlbW92ZSwgTk9PUCwgaGFzQ2hhbmdlZCwgaXNTZXQsIGlzTWFwLCBpbnZva2VBcnJheUZucywgTk8sIGdldEdsb2JhbFRoaXMsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVTdHlsZSwgaXNHbG9iYWxseVdoaXRlbGlzdGVkIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuZXhwb3J0IHsgY2FtZWxpemUsIGNhcGl0YWxpemUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5IH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdGFjayA9IFtdO1xyXG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcclxuICAgIHN0YWNrLnB1c2godm5vZGUpO1xyXG59XHJcbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xyXG4gICAgc3RhY2sucG9wKCk7XHJcbn1cclxuZnVuY3Rpb24gd2Fybihtc2csIC4uLmFyZ3MpIHtcclxuICAgIC8vIGF2b2lkIHByb3BzIGZvcm1hdHRpbmcgb3Igd2FybiBoYW5kbGVyIHRyYWNraW5nIGRlcHMgdGhhdCBtaWdodCBiZSBtdXRhdGVkXHJcbiAgICAvLyBkdXJpbmcgcGF0Y2gsIGxlYWRpbmcgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxyXG4gICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBzdGFjay5sZW5ndGggPyBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5jb21wb25lbnQgOiBudWxsO1xyXG4gICAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcclxuICAgIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcclxuICAgIGlmIChhcHBXYXJuSGFuZGxlcikge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhhcHBXYXJuSGFuZGxlciwgaW5zdGFuY2UsIDExIC8qIEFQUF9XQVJOX0hBTkRMRVIgKi8sIFtcclxuICAgICAgICAgICAgbXNnICsgYXJncy5qb2luKCcnKSxcclxuICAgICAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXHJcbiAgICAgICAgICAgIHRyYWNlXHJcbiAgICAgICAgICAgICAgICAubWFwKCh7IHZub2RlIH0pID0+IGBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCB2bm9kZS50eXBlKX0+YClcclxuICAgICAgICAgICAgICAgIC5qb2luKCdcXG4nKSxcclxuICAgICAgICAgICAgdHJhY2VcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAodHJhY2UubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXHJcbiAgICAgICAgICAgICFmYWxzZSkge1xyXG4gICAgICAgICAgICB3YXJuQXJncy5wdXNoKGBcXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xyXG4gICAgfVxyXG4gICAgcmVzZXRUcmFja2luZygpO1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xyXG4gICAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKCFjdXJyZW50Vk5vZGUpIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICAvLyB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgc3RhY2sgYmVjYXVzZSBpdCB3aWxsIGJlIGluY29tcGxldGUgZHVyaW5nIHVwZGF0ZXNcclxuICAgIC8vIHRoYXQgZGlkIG5vdCBzdGFydCBmcm9tIHRoZSByb290LiBSZS1jb25zdHJ1Y3QgdGhlIHBhcmVudCBjaGFpbiB1c2luZ1xyXG4gICAgLy8gaW5zdGFuY2UgcGFyZW50IHBvaW50ZXJzLlxyXG4gICAgY29uc3Qgbm9ybWFsaXplZFN0YWNrID0gW107XHJcbiAgICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcclxuICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcclxuICAgICAgICAgICAgbGFzdC5yZWN1cnNlQ291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXHJcbiAgICAgICAgICAgICAgICByZWN1cnNlQ291bnQ6IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcclxuICAgICAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVkU3RhY2s7XHJcbn1cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcclxuICAgIGNvbnN0IGxvZ3MgPSBbXTtcclxuICAgIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XHJcbiAgICAgICAgbG9ncy5wdXNoKC4uLihpID09PSAwID8gW10gOiBbYFxcbmBdKSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbG9ncztcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XHJcbiAgICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xyXG4gICAgY29uc3QgaXNSb290ID0gdm5vZGUuY29tcG9uZW50ID8gdm5vZGUuY29tcG9uZW50LnBhcmVudCA9PSBudWxsIDogZmFsc2U7XHJcbiAgICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKHZub2RlLmNvbXBvbmVudCwgdm5vZGUudHlwZSwgaXNSb290KX1gO1xyXG4gICAgY29uc3QgY2xvc2UgPSBgPmAgKyBwb3N0Zml4O1xyXG4gICAgcmV0dXJuIHZub2RlLnByb3BzXHJcbiAgICAgICAgPyBbb3BlbiwgLi4uZm9ybWF0UHJvcHModm5vZGUucHJvcHMpLCBjbG9zZV1cclxuICAgICAgICA6IFtvcGVuICsgY2xvc2VdO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFByb3BzKHByb3BzKSB7XHJcbiAgICBjb25zdCByZXMgPSBbXTtcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XHJcbiAgICBrZXlzLnNsaWNlKDAsIDMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAzKSB7XHJcbiAgICAgICAgcmVzLnB1c2goYCAuLi5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0UHJvcChrZXksIHZhbHVlLCByYXcpIHtcclxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8XHJcbiAgICAgICAgdmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PWAsIHZhbHVlXTtcclxuICAgIH1cclxufVxuXG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0ge1xyXG4gICAgW1wiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovXTogJ2JlZm9yZUNyZWF0ZSBob29rJyxcclxuICAgIFtcImNcIiAvKiBDUkVBVEVEICovXTogJ2NyZWF0ZWQgaG9vaycsXHJcbiAgICBbXCJibVwiIC8qIEJFRk9SRV9NT1VOVCAqL106ICdiZWZvcmVNb3VudCBob29rJyxcclxuICAgIFtcIm1cIiAvKiBNT1VOVEVEICovXTogJ21vdW50ZWQgaG9vaycsXHJcbiAgICBbXCJidVwiIC8qIEJFRk9SRV9VUERBVEUgKi9dOiAnYmVmb3JlVXBkYXRlIGhvb2snLFxyXG4gICAgW1widVwiIC8qIFVQREFURUQgKi9dOiAndXBkYXRlZCcsXHJcbiAgICBbXCJidW1cIiAvKiBCRUZPUkVfVU5NT1VOVCAqL106ICdiZWZvcmVVbm1vdW50IGhvb2snLFxyXG4gICAgW1widW1cIiAvKiBVTk1PVU5URUQgKi9dOiAndW5tb3VudGVkIGhvb2snLFxyXG4gICAgW1wiYVwiIC8qIEFDVElWQVRFRCAqL106ICdhY3RpdmF0ZWQgaG9vaycsXHJcbiAgICBbXCJkYVwiIC8qIERFQUNUSVZBVEVEICovXTogJ2RlYWN0aXZhdGVkIGhvb2snLFxyXG4gICAgW1wiZWNcIiAvKiBFUlJPUl9DQVBUVVJFRCAqL106ICdlcnJvckNhcHR1cmVkIGhvb2snLFxyXG4gICAgW1wicnRjXCIgLyogUkVOREVSX1RSQUNLRUQgKi9dOiAncmVuZGVyVHJhY2tlZCBob29rJyxcclxuICAgIFtcInJ0Z1wiIC8qIFJFTkRFUl9UUklHR0VSRUQgKi9dOiAncmVuZGVyVHJpZ2dlcmVkIGhvb2snLFxyXG4gICAgWzAgLyogU0VUVVBfRlVOQ1RJT04gKi9dOiAnc2V0dXAgZnVuY3Rpb24nLFxyXG4gICAgWzEgLyogUkVOREVSX0ZVTkNUSU9OICovXTogJ3JlbmRlciBmdW5jdGlvbicsXHJcbiAgICBbMiAvKiBXQVRDSF9HRVRURVIgKi9dOiAnd2F0Y2hlciBnZXR0ZXInLFxyXG4gICAgWzMgLyogV0FUQ0hfQ0FMTEJBQ0sgKi9dOiAnd2F0Y2hlciBjYWxsYmFjaycsXHJcbiAgICBbNCAvKiBXQVRDSF9DTEVBTlVQICovXTogJ3dhdGNoZXIgY2xlYW51cCBmdW5jdGlvbicsXHJcbiAgICBbNSAvKiBOQVRJVkVfRVZFTlRfSEFORExFUiAqL106ICduYXRpdmUgZXZlbnQgaGFuZGxlcicsXHJcbiAgICBbNiAvKiBDT01QT05FTlRfRVZFTlRfSEFORExFUiAqL106ICdjb21wb25lbnQgZXZlbnQgaGFuZGxlcicsXHJcbiAgICBbNyAvKiBWTk9ERV9IT09LICovXTogJ3Zub2RlIGhvb2snLFxyXG4gICAgWzggLyogRElSRUNUSVZFX0hPT0sgKi9dOiAnZGlyZWN0aXZlIGhvb2snLFxyXG4gICAgWzkgLyogVFJBTlNJVElPTl9IT09LICovXTogJ3RyYW5zaXRpb24gaG9vaycsXHJcbiAgICBbMTAgLyogQVBQX0VSUk9SX0hBTkRMRVIgKi9dOiAnYXBwIGVycm9ySGFuZGxlcicsXHJcbiAgICBbMTEgLyogQVBQX1dBUk5fSEFORExFUiAqL106ICdhcHAgd2FybkhhbmRsZXInLFxyXG4gICAgWzEyIC8qIEZVTkNUSU9OX1JFRiAqL106ICdyZWYgZnVuY3Rpb24nLFxyXG4gICAgWzEzIC8qIEFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi9dOiAnYXN5bmMgY29tcG9uZW50IGxvYWRlcicsXHJcbiAgICBbMTQgLyogU0NIRURVTEVSICovXTogJ3NjaGVkdWxlciBmbHVzaC4gVGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWxzIGJ1Zy4gJyArXHJcbiAgICAgICAgJ1BsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vbmV3LWlzc3VlLnZ1ZWpzLm9yZy8/cmVwbz12dWVqcy92dWUtbmV4dCdcclxufTtcclxuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xyXG4gICAgbGV0IHJlcztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmVzID0gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcclxuICAgICAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XHJcbiAgICAgICAgICAgIHJlcy5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdmFsdWVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XHJcbiAgICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XHJcbiAgICAgICAgLy8gdGhlIGV4cG9zZWQgaW5zdGFuY2UgaXMgdGhlIHJlbmRlciBwcm94eSB0byBrZWVwIGl0IGNvbnNpc3RlbnQgd2l0aCAyLnhcclxuICAgICAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcclxuICAgICAgICAvLyBpbiBwcm9kdWN0aW9uIHRoZSBob29rIHJlY2VpdmVzIG9ubHkgdGhlIGVycm9yIGNvZGVcclxuICAgICAgICBjb25zdCBlcnJvckluZm8gPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBFcnJvclR5cGVTdHJpbmdzW3R5cGVdIDogdHlwZTtcclxuICAgICAgICB3aGlsZSAoY3VyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FwdHVyZWRIb29rcyA9IGN1ci5lYztcclxuICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvckNhcHR1cmVkSG9va3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzW2ldKGVyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm8pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFwcC1sZXZlbCBoYW5kbGluZ1xyXG4gICAgICAgIGNvbnN0IGFwcEVycm9ySGFuZGxlciA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmVycm9ySGFuZGxlcjtcclxuICAgICAgICBpZiAoYXBwRXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhhcHBFcnJvckhhbmRsZXIsIG51bGwsIDEwIC8qIEFQUF9FUlJPUl9IQU5ETEVSICovLCBbZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mb10pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYpO1xyXG59XHJcbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzW3R5cGVdO1xyXG4gICAgICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcclxuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGNvbnRleHRWTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdhcm4oYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xyXG4gICAgICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY3Jhc2ggaW4gZGV2IGJ5IGRlZmF1bHQgc28gaXQncyBtb3JlIG5vdGljZWFibGVcclxuICAgICAgICBpZiAodGhyb3dJbkRldikge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gcmVjb3ZlciBpbiBwcm9kIHRvIHJlZHVjZSB0aGUgaW1wYWN0IG9uIGVuZC11c2VyXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG59XG5cbmxldCBpc0ZsdXNoaW5nID0gZmFsc2U7XHJcbmxldCBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xyXG5jb25zdCBxdWV1ZSA9IFtdO1xyXG5sZXQgZmx1c2hJbmRleCA9IDA7XHJcbmNvbnN0IHBlbmRpbmdQcmVGbHVzaENicyA9IFtdO1xyXG5sZXQgYWN0aXZlUHJlRmx1c2hDYnMgPSBudWxsO1xyXG5sZXQgcHJlRmx1c2hJbmRleCA9IDA7XHJcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcclxubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbmxldCBwb3N0Rmx1c2hJbmRleCA9IDA7XHJcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5sZXQgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XHJcbmxldCBjdXJyZW50UHJlRmx1c2hQYXJlbnRKb2IgPSBudWxsO1xyXG5jb25zdCBSRUNVUlNJT05fTElNSVQgPSAxMDA7XHJcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XHJcbiAgICBjb25zdCBwID0gY3VycmVudEZsdXNoUHJvbWlzZSB8fCByZXNvbHZlZFByb21pc2U7XHJcbiAgICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xyXG59XHJcbi8vICMyNzY4XHJcbi8vIFVzZSBiaW5hcnktc2VhcmNoIHRvIGZpbmQgYSBzdWl0YWJsZSBwb3NpdGlvbiBpbiB0aGUgcXVldWUsXHJcbi8vIHNvIHRoYXQgdGhlIHF1ZXVlIG1haW50YWlucyB0aGUgaW5jcmVhc2luZyBvcmRlciBvZiBqb2IncyBpZCxcclxuLy8gd2hpY2ggY2FuIHByZXZlbnQgdGhlIGpvYiBmcm9tIGJlaW5nIHNraXBwZWQgYW5kIGFsc28gY2FuIGF2b2lkIHJlcGVhdGVkIHBhdGNoaW5nLlxyXG5mdW5jdGlvbiBmaW5kSW5zZXJ0aW9uSW5kZXgoam9iKSB7XHJcbiAgICAvLyB0aGUgc3RhcnQgaW5kZXggc2hvdWxkIGJlIGBmbHVzaEluZGV4ICsgMWBcclxuICAgIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xyXG4gICAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcclxuICAgIGNvbnN0IGpvYklkID0gZ2V0SWQoam9iKTtcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IChzdGFydCArIGVuZCkgPj4+IDE7XHJcbiAgICAgICAgY29uc3QgbWlkZGxlSm9iSWQgPSBnZXRJZChxdWV1ZVttaWRkbGVdKTtcclxuICAgICAgICBtaWRkbGVKb2JJZCA8IGpvYklkID8gKHN0YXJ0ID0gbWlkZGxlICsgMSkgOiAoZW5kID0gbWlkZGxlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGFydDtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcclxuICAgIC8vIHRoZSBkZWR1cGUgc2VhcmNoIHVzZXMgdGhlIHN0YXJ0SW5kZXggYXJndW1lbnQgb2YgQXJyYXkuaW5jbHVkZXMoKVxyXG4gICAgLy8gYnkgZGVmYXVsdCB0aGUgc2VhcmNoIGluZGV4IGluY2x1ZGVzIHRoZSBjdXJyZW50IGpvYiB0aGF0IGlzIGJlaW5nIHJ1blxyXG4gICAgLy8gc28gaXQgY2Fubm90IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIGFnYWluLlxyXG4gICAgLy8gaWYgdGhlIGpvYiBpcyBhIHdhdGNoKCkgY2FsbGJhY2ssIHRoZSBzZWFyY2ggd2lsbCBzdGFydCB3aXRoIGEgKzEgaW5kZXggdG9cclxuICAgIC8vIGFsbG93IGl0IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIC0gaXQgaXMgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0b1xyXG4gICAgLy8gZW5zdXJlIGl0IGRvZXNuJ3QgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3AuXHJcbiAgICBpZiAoKCFxdWV1ZS5sZW5ndGggfHxcclxuICAgICAgICAhcXVldWUuaW5jbHVkZXMoam9iLCBpc0ZsdXNoaW5nICYmIGpvYi5hbGxvd1JlY3Vyc2UgPyBmbHVzaEluZGV4ICsgMSA6IGZsdXNoSW5kZXgpKSAmJlxyXG4gICAgICAgIGpvYiAhPT0gY3VycmVudFByZUZsdXNoUGFyZW50Sm9iKSB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gZmluZEluc2VydGlvbkluZGV4KGpvYik7XHJcbiAgICAgICAgaWYgKHBvcyA+IC0xKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShwb3MsIDAsIGpvYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGpvYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlRmx1c2goKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xyXG4gICAgaWYgKCFpc0ZsdXNoaW5nICYmICFpc0ZsdXNoUGVuZGluZykge1xyXG4gICAgICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcclxuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbnZhbGlkYXRlSm9iKGpvYikge1xyXG4gICAgY29uc3QgaSA9IHF1ZXVlLmluZGV4T2Yoam9iKTtcclxuICAgIGlmIChpID4gZmx1c2hJbmRleCkge1xyXG4gICAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBxdWV1ZUNiKGNiLCBhY3RpdmVRdWV1ZSwgcGVuZGluZ1F1ZXVlLCBpbmRleCkge1xyXG4gICAgaWYgKCFpc0FycmF5KGNiKSkge1xyXG4gICAgICAgIGlmICghYWN0aXZlUXVldWUgfHxcclxuICAgICAgICAgICAgIWFjdGl2ZVF1ZXVlLmluY2x1ZGVzKGNiLCBjYi5hbGxvd1JlY3Vyc2UgPyBpbmRleCArIDEgOiBpbmRleCkpIHtcclxuICAgICAgICAgICAgcGVuZGluZ1F1ZXVlLnB1c2goY2IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIGNiIGlzIGFuIGFycmF5LCBpdCBpcyBhIGNvbXBvbmVudCBsaWZlY3ljbGUgaG9vayB3aGljaCBjYW4gb25seSBiZVxyXG4gICAgICAgIC8vIHRyaWdnZXJlZCBieSBhIGpvYiwgd2hpY2ggaXMgYWxyZWFkeSBkZWR1cGVkIGluIHRoZSBtYWluIHF1ZXVlLCBzb1xyXG4gICAgICAgIC8vIHdlIGNhbiBza2lwIGR1cGxpY2F0ZSBjaGVjayBoZXJlIHRvIGltcHJvdmUgcGVyZlxyXG4gICAgICAgIHBlbmRpbmdRdWV1ZS5wdXNoKC4uLmNiKTtcclxuICAgIH1cclxuICAgIHF1ZXVlRmx1c2goKTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZVByZUZsdXNoQ2IoY2IpIHtcclxuICAgIHF1ZXVlQ2IoY2IsIGFjdGl2ZVByZUZsdXNoQ2JzLCBwZW5kaW5nUHJlRmx1c2hDYnMsIHByZUZsdXNoSW5kZXgpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlUG9zdEZsdXNoQ2IoY2IpIHtcclxuICAgIHF1ZXVlQ2IoY2IsIGFjdGl2ZVBvc3RGbHVzaENicywgcGVuZGluZ1Bvc3RGbHVzaENicywgcG9zdEZsdXNoSW5kZXgpO1xyXG59XHJcbmZ1bmN0aW9uIGZsdXNoUHJlRmx1c2hDYnMoc2VlbiwgcGFyZW50Sm9iID0gbnVsbCkge1xyXG4gICAgaWYgKHBlbmRpbmdQcmVGbHVzaENicy5sZW5ndGgpIHtcclxuICAgICAgICBjdXJyZW50UHJlRmx1c2hQYXJlbnRKb2IgPSBwYXJlbnRKb2I7XHJcbiAgICAgICAgYWN0aXZlUHJlRmx1c2hDYnMgPSBbLi4ubmV3IFNldChwZW5kaW5nUHJlRmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoID0gMDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcmVGbHVzaEluZGV4ID0gMDsgcHJlRmx1c2hJbmRleCA8IGFjdGl2ZVByZUZsdXNoQ2JzLmxlbmd0aDsgcHJlRmx1c2hJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWN0aXZlUHJlRmx1c2hDYnNbcHJlRmx1c2hJbmRleF0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUHJlRmx1c2hDYnMgPSBudWxsO1xyXG4gICAgICAgIHByZUZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYiA9IG51bGw7XHJcbiAgICAgICAgLy8gcmVjdXJzaXZlbHkgZmx1c2ggdW50aWwgaXQgZHJhaW5zXHJcbiAgICAgICAgZmx1c2hQcmVGbHVzaENicyhzZWVuLCBwYXJlbnRKb2IpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pIHtcclxuICAgIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV07XHJcbiAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xyXG4gICAgICAgIC8vICMxOTQ3IGFscmVhZHkgaGFzIGFjdGl2ZSBxdWV1ZSwgbmVzdGVkIGZsdXNoUG9zdEZsdXNoQ2JzIGNhbGxcclxuICAgICAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5zb3J0KChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpKTtcclxuICAgICAgICBmb3IgKHBvc3RGbHVzaEluZGV4ID0gMDsgcG9zdEZsdXNoSW5kZXggPCBhY3RpdmVQb3N0Rmx1c2hDYnMubGVuZ3RoOyBwb3N0Rmx1c2hJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcclxuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcclxuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbiAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4pO1xyXG4gICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcclxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcclxuICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCBzbyBpdHMgcmVuZGVyIGVmZmVjdCB3aWxsIGhhdmUgc21hbGxlclxyXG4gICAgLy8gICAgcHJpb3JpdHkgbnVtYmVyKVxyXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXHJcbiAgICAvLyAgICBpdHMgdXBkYXRlIGNhbiBiZSBza2lwcGVkLlxyXG4gICAgcXVldWUuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKGpvYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogU0NIRURVTEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XHJcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXHJcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmbHVzaEpvYnMoc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xyXG4gICAgaWYgKCFzZWVuLmhhcyhmbikpIHtcclxuICAgICAgICBzZWVuLnNldChmbiwgMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBjb3VudCA9IHNlZW4uZ2V0KGZuKTtcclxuICAgICAgICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkLiBgICtcclxuICAgICAgICAgICAgICAgIGBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBgICtcclxuICAgICAgICAgICAgICAgIGBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgYCArXHJcbiAgICAgICAgICAgICAgICBgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2Vlbi5zZXQoZm4sIGNvdW50ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xyXG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSBuZXcgU2V0KCk7XHJcbi8vIEV4cG9zZSB0aGUgSE1SIHJ1bnRpbWUgb24gdGhlIGdsb2JhbCBvYmplY3RcclxuLy8gVGhpcyBtYWtlcyBpdCBlbnRpcmVseSB0cmVlLXNoYWthYmxlIHdpdGhvdXQgcG9sbHV0aW5nIHRoZSBleHBvcnRzIGFuZCBtYWtlc1xyXG4vLyBpdCBlYXNpZXIgdG8gYmUgdXNlZCBpbiB0b29saW5ncyBsaWtlIHZ1ZS1sb2FkZXJcclxuLy8gTm90ZTogZm9yIGEgY29tcG9uZW50IHRvIGJlIGVsaWdpYmxlIGZvciBITVIgaXQgYWxzbyBuZWVkcyB0aGUgX19obXJJZCBvcHRpb25cclxuLy8gdG8gYmUgc2V0IHNvIHRoYXQgaXRzIGluc3RhbmNlcyBjYW4gYmUgcmVnaXN0ZXJlZCAvIHJlbW92ZWQuXHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgIGNvbnN0IGdsb2JhbE9iamVjdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgPyBnbG9iYWxcclxuICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgPyB3aW5kb3dcclxuICAgICAgICAgICAgICAgIDoge307XHJcbiAgICBnbG9iYWxPYmplY3QuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcclxuICAgICAgICBjcmVhdGVSZWNvcmQ6IHRyeVdyYXAoY3JlYXRlUmVjb3JkKSxcclxuICAgICAgICByZXJlbmRlcjogdHJ5V3JhcChyZXJlbmRlciksXHJcbiAgICAgICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcclxuICAgIH07XHJcbn1cclxuY29uc3QgbWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZWdpc3RlckhNUihpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XHJcbiAgICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICBpZiAoIXJlY29yZCkge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZChpZCwgaW5zdGFuY2UudHlwZSk7XHJcbiAgICAgICAgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICB9XHJcbiAgICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gdW5yZWdpc3RlckhNUihpbnN0YW5jZSkge1xyXG4gICAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgY29tcG9uZW50KSB7XHJcbiAgICBpZiAoIWNvbXBvbmVudCkge1xyXG4gICAgICAgIHdhcm4oYEhNUiBBUEkgdXNhZ2UgaXMgb3V0IG9mIGRhdGUuXFxuYCArXHJcbiAgICAgICAgICAgIGBQbGVhc2UgdXBncmFkZSB2dWUtbG9hZGVyL3ZpdGUvcm9sbHVwLXBsdWdpbi12dWUgb3Igb3RoZXIgcmVsZXZhbnQgYCArXHJcbiAgICAgICAgICAgIGBkZXBlbmRlbmN5IHRoYXQgaGFuZGxlcyBWdWUgU0ZDIGNvbXBpbGF0aW9uLmApO1xyXG4gICAgICAgIGNvbXBvbmVudCA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKG1hcC5oYXMoaWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbWFwLnNldChpZCwge1xyXG4gICAgICAgIGNvbXBvbmVudDogaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudCxcclxuICAgICAgICBpbnN0YW5jZXM6IG5ldyBTZXQoKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XHJcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmIChuZXdSZW5kZXIpXHJcbiAgICAgICAgcmVjb3JkLmNvbXBvbmVudC5yZW5kZXIgPSBuZXdSZW5kZXI7XHJcbiAgICAvLyBBcnJheS5mcm9tIGNyZWF0ZXMgYSBzbmFwc2hvdCB3aGljaCBhdm9pZHMgdGhlIHNldCBiZWluZyBtdXRhdGVkIGR1cmluZ1xyXG4gICAgLy8gdXBkYXRlc1xyXG4gICAgQXJyYXkuZnJvbShyZWNvcmQuaW5zdGFuY2VzKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcclxuICAgICAgICBpZiAobmV3UmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcclxuICAgICAgICAvLyB0aGlzIGZsYWcgZm9yY2VzIGNoaWxkIGNvbXBvbmVudHMgd2l0aCBzbG90IGNvbnRlbnQgdG8gdXBkYXRlXHJcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gcmVsb2FkKGlkLCBuZXdDb21wKSB7XHJcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBjb25zdCB7IGNvbXBvbmVudCwgaW5zdGFuY2VzIH0gPSByZWNvcmQ7XHJcbiAgICBpZiAoIWhtckRpcnR5Q29tcG9uZW50cy5oYXMoY29tcG9uZW50KSkge1xyXG4gICAgICAgIC8vIDEuIFVwZGF0ZSBleGlzdGluZyBjb21wIGRlZmluaXRpb24gdG8gbWF0Y2ggbmV3IG9uZVxyXG4gICAgICAgIG5ld0NvbXAgPSBpc0NsYXNzQ29tcG9uZW50KG5ld0NvbXApID8gbmV3Q29tcC5fX3ZjY09wdHMgOiBuZXdDb21wO1xyXG4gICAgICAgIGV4dGVuZChjb21wb25lbnQsIG5ld0NvbXApO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3Q29tcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjb21wb25lbnRba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAyLiBNYXJrIGNvbXBvbmVudCBkaXJ0eS4gVGhpcyBmb3JjZXMgdGhlIHJlbmRlcmVyIHRvIHJlcGxhY2UgdGhlIGNvbXBvbmVudFxyXG4gICAgICAgIC8vIG9uIHBhdGNoLlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5hZGQoY29tcG9uZW50KTtcclxuICAgICAgICAvLyAzLiBNYWtlIHN1cmUgdG8gdW5tYXJrIHRoZSBjb21wb25lbnQgYWZ0ZXIgdGhlIHJlbG9hZC5cclxuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKCgpID0+IHtcclxuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgQXJyYXkuZnJvbShpbnN0YW5jZXMpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgLy8gNC4gRm9yY2UgdGhlIHBhcmVudCBpbnN0YW5jZSB0byByZS1yZW5kZXIuIFRoaXMgd2lsbCBjYXVzZSBhbGwgdXBkYXRlZFxyXG4gICAgICAgICAgICAvLyBjb21wb25lbnRzIHRvIGJlIHVubW91bnRlZCBhbmQgcmUtbW91bnRlZC4gUXVldWUgdGhlIHVwZGF0ZSBzbyB0aGF0IHdlXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGVuZCB1cCBmb3JjaW5nIHRoZSBzYW1lIHBhcmVudCB0byByZS1yZW5kZXIgbXVsdGlwbGUgdGltZXMuXHJcbiAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCkge1xyXG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIG1vdW50ZWQgdmlhIGNyZWF0ZUFwcCgpIGhhcyBhIHJlbG9hZCBtZXRob2RcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBpbnNpZGUgdHJlZSBjcmVhdGVkIHZpYSByYXcgcmVuZGVyKCkuIEZvcmNlIHJlbG9hZC5cclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcclxuICAgIHJldHVybiAoaWQsIGFyZykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbSE1SXSBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgVnVlIGNvbXBvbmVudCBob3QtcmVsb2FkLiBgICtcclxuICAgICAgICAgICAgICAgIGBGdWxsIHJlbG9hZCByZXF1aXJlZC5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbmxldCBkZXZ0b29scztcclxuZnVuY3Rpb24gc2V0RGV2dG9vbHNIb29rKGhvb2spIHtcclxuICAgIGRldnRvb2xzID0gaG9vaztcclxufVxyXG5mdW5jdGlvbiBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKSB7XHJcbiAgICAvLyBUT0RPIHF1ZXVlIGlmIGRldnRvb2xzIGlzIHVuZGVmaW5lZFxyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XHJcbiAgICAgICAgRnJhZ21lbnQsXHJcbiAgICAgICAgVGV4dCxcclxuICAgICAgICBDb21tZW50LFxyXG4gICAgICAgIFN0YXRpY1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcclxufVxyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpO1xyXG59XG5cbmZ1bmN0aW9uIGVtaXQoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCB7IGVtaXRzT3B0aW9ucywgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKGVtaXRzT3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShldmVudCkgaW4gcHJvcHNPcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHRoZSBlbWl0cyBvcHRpb24gbm9yIGFzIGFuIFwiJHt0b0hhbmRsZXJLZXkoZXZlbnQpfVwiIHByb3AuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBhcmdzID0gcmF3QXJncztcclxuICAgIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoJ3VwZGF0ZTonKTtcclxuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhcHBseSBtb2RpZmllcnMgb24gYXJnc1xyXG4gICAgY29uc3QgbW9kZWxBcmcgPSBpc01vZGVsTGlzdGVuZXIgJiYgZXZlbnQuc2xpY2UoNyk7XHJcbiAgICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcclxuICAgICAgICBjb25zdCBtb2RpZmllcnNLZXkgPSBgJHttb2RlbEFyZyA9PT0gJ21vZGVsVmFsdWUnID8gJ21vZGVsJyA6IG1vZGVsQXJnfU1vZGlmaWVyc2A7XHJcbiAgICAgICAgY29uc3QgeyBudW1iZXIsIHRyaW0gfSA9IHByb3BzW21vZGlmaWVyc0tleV0gfHwgRU1QVFlfT0JKO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChhID0+IGEudHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCh0b051bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xyXG4gICAgICAgICAgICB3YXJuKGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgYCArXHJcbiAgICAgICAgICAgICAgICBgJHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICBgTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgYCArXHJcbiAgICAgICAgICAgICAgICBgdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgYFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoZXZlbnQpfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBoYW5kbGVyTmFtZTtcclxuICAgIGxldCBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGV2ZW50KSldIHx8XHJcbiAgICAgICAgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxyXG4gICAgICAgIHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpKV07XHJcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYWxzbyB0cmlnZ2VyIGtlYmFiLWNhc2UgZXF1aXZhbGVudFxyXG4gICAgLy8gZm9yIHByb3BzIHBhc3NlZCB2aWEga2ViYWItY2FzZVxyXG4gICAgaWYgKCFoYW5kbGVyICYmIGlzTW9kZWxMaXN0ZW5lcikge1xyXG4gICAgICAgIGhhbmRsZXIgPSBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSkpXTtcclxuICAgIH1cclxuICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaGFuZGxlciwgaW5zdGFuY2UsIDYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XHJcbiAgICBpZiAob25jZUhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcclxuICAgICAgICAgICAgKGluc3RhbmNlLmVtaXR0ZWQgPSB7fSlbaGFuZGxlck5hbWVdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhvbmNlSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGlmICghYXBwQ29udGV4dC5kZW9wdCAmJiBjb21wLl9fZW1pdHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBjb21wLl9fZW1pdHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xyXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcclxuICAgICAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICByZXR1cm4gKGNvbXAuX19lbWl0cyA9IG51bGwpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgIHJhdy5mb3JFYWNoKGtleSA9PiAobm9ybWFsaXplZFtrZXldID0gbnVsbCkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNvbXAuX19lbWl0cyA9IG5vcm1hbGl6ZWQpO1xyXG59XHJcbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cclxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXHJcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cclxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcclxuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHxcclxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5KSk7XHJcbn1cblxubGV0IGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90ID0gMDtcclxuY29uc3Qgc2V0Q29tcGlsZWRTbG90UmVuZGVyaW5nID0gKG4pID0+IChpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdCArPSBuKTtcclxuLyoqXHJcbiAqIENvbXBpbGVyIHJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgYDxzbG90Lz5gXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJTbG90KHNsb3RzLCBuYW1lLCBwcm9wcyA9IHt9LCBcclxuLy8gdGhpcyBpcyBub3QgYSB1c2VyLWZhY2luZyBmdW5jdGlvbiwgc28gdGhlIGZhbGxiYWNrIGlzIGFsd2F5cyBnZW5lcmF0ZWQgYnlcclxuLy8gdGhlIGNvbXBpbGVyIGFuZCBndWFyYW50ZWVkIHRvIGJlIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGFuIGFycmF5XHJcbmZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcclxuICAgIGxldCBzbG90ID0gc2xvdHNbbmFtZV07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNsb3QgJiYgc2xvdC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgd2FybihgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGAgK1xyXG4gICAgICAgICAgICBgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgYCArXHJcbiAgICAgICAgICAgIGBwYXJlbnQgdGVtcGxhdGUuYCk7XHJcbiAgICAgICAgc2xvdCA9ICgpID0+IFtdO1xyXG4gICAgfVxyXG4gICAgLy8gYSBjb21waWxlZCBzbG90IGRpc2FibGVzIGJsb2NrIHRyYWNraW5nIGJ5IGRlZmF1bHQgdG8gYXZvaWQgbWFudWFsXHJcbiAgICAvLyBpbnZvY2F0aW9uIGludGVyZmVyaW5nIHdpdGggdGVtcGxhdGUtYmFzZWQgYmxvY2sgdHJhY2tpbmcsIGJ1dCBpblxyXG4gICAgLy8gYHJlbmRlclNsb3RgIHdlIGNhbiBiZSBzdXJlIHRoYXQgaXQncyB0ZW1wbGF0ZS1iYXNlZCBzbyB3ZSBjYW4gZm9yY2VcclxuICAgIC8vIGVuYWJsZSBpdC5cclxuICAgIGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90Kys7XHJcbiAgICBvcGVuQmxvY2soKTtcclxuICAgIGNvbnN0IHZhbGlkU2xvdENvbnRlbnQgPSBzbG90ICYmIGVuc3VyZVZhbGlkVk5vZGUoc2xvdChwcm9wcykpO1xyXG4gICAgY29uc3QgcmVuZGVyZWQgPSBjcmVhdGVCbG9jayhGcmFnbWVudCwgeyBrZXk6IHByb3BzLmtleSB8fCBgXyR7bmFtZX1gIH0sIHZhbGlkU2xvdENvbnRlbnQgfHwgKGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IFtdKSwgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxIC8qIFNUQUJMRSAqL1xyXG4gICAgICAgID8gNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXHJcbiAgICAgICAgOiAtMiAvKiBCQUlMICovKTtcclxuICAgIGlmICghbm9TbG90dGVkICYmIHJlbmRlcmVkLnNjb3BlSWQpIHtcclxuICAgICAgICByZW5kZXJlZC5zbG90U2NvcGVJZHMgPSBbcmVuZGVyZWQuc2NvcGVJZCArICctcyddO1xyXG4gICAgfVxyXG4gICAgaXNSZW5kZXJpbmdDb21waWxlZFNsb3QtLTtcclxuICAgIHJldHVybiByZW5kZXJlZDtcclxufVxyXG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xyXG4gICAgcmV0dXJuIHZub2Rlcy5zb21lKGNoaWxkID0+IHtcclxuICAgICAgICBpZiAoIWlzVk5vZGUoY2hpbGQpKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICAgICAgPyB2bm9kZXNcclxuICAgICAgICA6IG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIG1hcmsgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlIGZvciBhc3NldCByZXNvbHV0aW9uIChlLmcuXHJcbiAqIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUpIGR1cmluZyByZW5kZXJcclxuICovXHJcbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG4vKipcclxuICogTm90ZTogcmVuZGVyaW5nIGNhbGxzIG1heWJlIG5lc3RlZC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBhcmVudCByZW5kZXJpbmdcclxuICogaW5zdGFuY2UgaWYgcHJlc2VudCwgd2hpY2ggc2hvdWxkIGJlIHJlc3RvcmVkIGFmdGVyIHRoZSByZW5kZXIgaXMgZG9uZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpKVxyXG4gKiAvLyAuLi5yZW5kZXJcclxuICogc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCkgfHwgbnVsbDtcclxuICAgIHJldHVybiBwcmV2O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NvcGUgaWQgd2hlbiBjcmVhdGluZyBob2lzdGVkIHZub2Rlcy5cclxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcclxufVxyXG4vKipcclxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXHJcbiAqIEFQSSBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBjb2RlIGdlbmVyYXRlZCBieSBjb21waWxlcnMuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XHJcbi8qKlxyXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXHJcbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XHJcbiAgICBpZiAoIWN0eClcclxuICAgICAgICByZXR1cm4gZm47XHJcbiAgICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAvLyBJZiBhIHVzZXIgY2FsbHMgYSBjb21waWxlZCBzbG90IGluc2lkZSBhIHRlbXBsYXRlIGV4cHJlc3Npb24gKCMxNzQ1KSwgaXRcclxuICAgICAgICAvLyBjYW4gbWVzcyB1cCBibG9jayB0cmFja2luZywgc28gYnkgZGVmYXVsdCB3ZSBuZWVkIHRvIHB1c2ggYSBudWxsIGJsb2NrIHRvXHJcbiAgICAgICAgLy8gYXZvaWQgdGhhdC4gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAuXHJcbiAgICAgICAgaWYgKCFpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdCkge1xyXG4gICAgICAgICAgICBvcGVuQmxvY2sodHJ1ZSAvKiBudWxsIGJsb2NrIHRoYXQgZGlzYWJsZXMgdHJhY2tpbmcgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcclxuICAgICAgICBjb25zdCByZXMgPSBmbiguLi5hcmdzKTtcclxuICAgICAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldkluc3RhbmNlKTtcclxuICAgICAgICBpZiAoIWlzUmVuZGVyaW5nQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIGNsb3NlQmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbiAgICAvLyBtYXJrIHRoaXMgYXMgYSBjb21waWxlZCBzbG90IGZ1bmN0aW9uLlxyXG4gICAgLy8gdGhpcyBpcyB1c2VkIGluIHZub2RlLnRzIC0+IG5vcm1hbGl6ZUNoaWxkcmVuKCkgdG8gc2V0IHRoZSBzbG90XHJcbiAgICAvLyByZW5kZXJpbmcgZmxhZy5cclxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xyXG4gICAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XHJcbn1cblxuLyoqXHJcbiAqIGRldiBvbmx5IGZsYWcgdG8gdHJhY2sgd2hldGhlciAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlci5cclxuICogSWYgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIgdGhlbiB0aGUgd2FybmluZyBmb3IgZmFpbGVkIGF0dHJzXHJcbiAqIGZhbGx0aHJvdWdoIGNhbiBiZSBzdXBwcmVzc2VkLlxyXG4gKi9cclxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcclxuZnVuY3Rpb24gbWFya0F0dHJzQWNjZXNzZWQoKSB7XHJcbiAgICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IHR5cGU6IENvbXBvbmVudCwgdm5vZGUsIHByb3h5LCB3aXRoUHJveHksIHByb3BzLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdLCBzbG90cywgYXR0cnMsIGVtaXQsIHJlbmRlciwgcmVuZGVyQ2FjaGUsIGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZmFsbHRocm91Z2hBdHRycztcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgLy8gd2l0aFByb3h5IGlzIGEgcHJveHkgd2l0aCBhIGRpZmZlcmVudCBgaGFzYCB0cmFwIG9ubHkgZm9yXHJcbiAgICAgICAgICAgIC8vIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2suXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5jYWxsKHByb3h5VG9Vc2UsIHByb3h5VG9Vc2UsIHJlbmRlckNhY2hlLCBwcm9wcywgc2V0dXBTdGF0ZSwgZGF0YSwgY3R4KSk7XHJcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxcclxuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAvLyBpbiBkZXYsIG1hcmsgYXR0cnMgYWNjZXNzZWQgaWYgb3B0aW9uYWwgcHJvcHMgKGF0dHJzID09PSBwcm9wcylcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmxlbmd0aCA+IDFcclxuICAgICAgICAgICAgICAgID8gcmVuZGVyKHByb3BzLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiB7IGF0dHJzLCBzbG90cywgZW1pdCB9KVxyXG4gICAgICAgICAgICAgICAgOiByZW5kZXIocHJvcHMsIG51bGwgLyogd2Uga25vdyBpdCBkb2Vzbid0IG5lZWQgaXQgKi8pKTtcclxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wc1xyXG4gICAgICAgICAgICAgICAgPyBhdHRyc1xyXG4gICAgICAgICAgICAgICAgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhdHRyIG1lcmdpbmdcclxuICAgICAgICAvLyBpbiBkZXYgbW9kZSwgY29tbWVudHMgYXJlIHByZXNlcnZlZCwgYW5kIGl0J3MgcG9zc2libGUgZm9yIGEgdGVtcGxhdGVcclxuICAgICAgICAvLyB0byBoYXZlIGNvbW1lbnRzIGFsb25nIHNpZGUgdGhlIHJvb3QgZWxlbWVudCB3aGljaCBtYWtlcyBpdCBhIGZyYWdtZW50XHJcbiAgICAgICAgbGV0IHJvb3QgPSByZXN1bHQ7XHJcbiAgICAgICAgbGV0IHNldFJvb3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICByZXN1bHQucGF0Y2hGbGFnID4gMCAmJlxyXG4gICAgICAgICAgICByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcG9uZW50LmluaGVyaXRBdHRycyAhPT0gZmFsc2UgJiYgZmFsbHRocm91Z2hBdHRycykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xyXG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGhhbmRsZXJzIHdoZW4gdGhleSBmYWlsIHRvIGZhbGx0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGBvbmAsIGxvd2VyY2FzZSBmaXJzdCBsZXR0ZXIgdG8gcmVmbGVjdCBldmVudCBjYXNpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzIChgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2V4dHJhQXR0cnMuam9pbignLCAnKX0pIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzIChgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2V2ZW50QXR0cnMuam9pbignLCAnKX0pIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluaGVyaXQgZGlyZWN0aXZlc1xyXG4gICAgICAgIGlmICh2bm9kZS5kaXJzKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluaGVyaXQgdHJhbnNpdGlvbiBkYXRhXHJcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QudHJhbnNpdGlvbiA9IHZub2RlLnRyYW5zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0Um9vdCkge1xyXG4gICAgICAgICAgICBzZXRSb290KHJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEgLyogUkVOREVSX0ZVTkNUSU9OICovKTtcclxuICAgICAgICByZXN1bHQgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcclxuICAgIH1cclxuICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqIEluIGRldiBtb2RlLCB0ZW1wbGF0ZSByb290IGxldmVsIGNvbW1lbnRzIGFyZSByZW5kZXJlZCwgd2hpY2ggdHVybnMgdGhlXHJcbiAqIHRlbXBsYXRlIGludG8gYSBmcmFnbWVudCByb290LCBidXQgd2UgbmVlZCB0byBsb2NhdGUgdGhlIHNpbmdsZSBlbGVtZW50XHJcbiAqIHJvb3QgZm9yIGF0dHJzIGFuZCBzY29wZSBpZCBwcm9jZXNzaW5nLlxyXG4gKi9cclxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XHJcbiAgICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbik7XHJcbiAgICBpZiAoIWNoaWxkUm9vdCkge1xyXG4gICAgICAgIHJldHVybiBbdm5vZGUsIHVuZGVmaW5lZF07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcclxuICAgIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcclxuICAgIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcclxuICAgICAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcclxufTtcclxuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbikge1xyXG4gICAgbGV0IHNpbmdsZVJvb3Q7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAoaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgLy8gaWdub3JlIHVzZXIgY29tbWVudFxyXG4gICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gJ3YtaWYnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzaW5nbGVSb290O1xyXG59XHJcbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xyXG4gICAgbGV0IHJlcztcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS50eXBlID09PSBDb21tZW50IC8vIHBvdGVudGlhbCB2LWlmIGJyYW5jaCBzd2l0Y2hcclxuICAgICk7XHJcbn07XHJcbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZUNvbXBvbmVudChwcmV2Vk5vZGUsIG5leHRWTm9kZSwgb3B0aW1pemVkKSB7XHJcbiAgICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xyXG4gICAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcclxuICAgIGNvbnN0IGVtaXRzID0gY29tcG9uZW50LmVtaXRzT3B0aW9ucztcclxuICAgIC8vIFBhcmVudCBjb21wb25lbnQncyByZW5kZXIgZnVuY3Rpb24gd2FzIGhvdC11cGRhdGVkLiBTaW5jZSB0aGlzIG1heSBoYXZlXHJcbiAgICAvLyBjYXVzZWQgdGhlIGNoaWxkIGNvbXBvbmVudCdzIHNsb3RzIGNvbnRlbnQgdG8gaGF2ZSBjaGFuZ2VkLCB3ZSBuZWVkIHRvXHJcbiAgICAvLyBmb3JjZSB0aGUgY2hpbGQgdG8gdXBkYXRlIGFzIHdlbGwuXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBmb3JjZSBjaGlsZCB1cGRhdGUgZm9yIHJ1bnRpbWUgZGlyZWN0aXZlIG9yIHRyYW5zaXRpb24gb24gY29tcG9uZW50IHZub2RlLlxyXG4gICAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLykge1xyXG4gICAgICAgICAgICAvLyBzbG90IGNvbnRlbnQgdGhhdCByZWZlcmVuY2VzIHZhbHVlcyB0aGF0IG1pZ2h0IGhhdmUgY2hhbmdlZCxcclxuICAgICAgICAgICAgLy8gZS5nLiBpbiBhIHYtZm9yXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykge1xyXG4gICAgICAgICAgICBpZiAoIXByZXZQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByZXNlbmNlIG9mIHRoaXMgZmxhZyBpbmRpY2F0ZXMgcHJvcHMgYXJlIGFsd2F5cyBub24tbnVsbFxyXG4gICAgICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBhdGNoRmxhZyAmIDggLyogUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHRoaXMgcGF0aCBpcyBvbmx5IHRha2VuIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uc1xyXG4gICAgICAgIC8vIHNvIHByZXNlbmNlIG9mIGFueSBjaGlsZHJlbiBsZWFkcyB0byBhIGZvcmNlZCB1cGRhdGVcclxuICAgICAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xyXG4gICAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xyXG4gICAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcclxuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmXHJcbiAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwgLy8gSG9zdE5vZGVcclxuKSB7XHJcbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xyXG4gICAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XHJcbi8vIFN1c3BlbnNlIGV4cG9zZXMgYSBjb21wb25lbnQtbGlrZSBBUEksIGFuZCBpcyB0cmVhdGVkIGxpa2UgYSBjb21wb25lbnRcclxuLy8gaW4gdGhlIGNvbXBpbGVyLCBidXQgaW50ZXJuYWxseSBpdCdzIGEgc3BlY2lhbCBidWlsdC1pbiB0eXBlIHRoYXQgaG9va3NcclxuLy8gZGlyZWN0bHkgaW50byB0aGUgcmVuZGVyZXIuXHJcbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcclxuICAgIG5hbWU6ICdTdXNwZW5zZScsXHJcbiAgICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XHJcbiAgICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xyXG4gICAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXHJcbiAgICAvLyBpbnRlcm5hbHMuXHJcbiAgICBfX2lzU3VzcGVuc2U6IHRydWUsXHJcbiAgICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgXHJcbiAgICAvLyBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsIHBhc3NlZCBmcm9tIHJlbmRlcmVyXHJcbiAgICByZW5kZXJlckludGVybmFscykge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50U3VzcGVuc2UobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxyXG4gICAgY3JlYXRlOiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5XHJcbn07XHJcbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXHJcbmNvbnN0IFN1c3BlbnNlID0gKFN1c3BlbnNlSW1wbFxyXG4gICAgKTtcclxuZnVuY3Rpb24gbW91bnRTdXNwZW5zZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAodm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSk7XHJcbiAgICAvLyBzdGFydCBtb3VudGluZyB0aGUgY29udGVudCBzdWJ0cmVlIGluIGFuIG9mZi1kb20gY29udGFpbmVyXHJcbiAgICBwYXRjaChudWxsLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIGhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAvLyBub3cgY2hlY2sgaWYgd2UgaGF2ZSBlbmNvdW50ZXJlZCBhbnkgYXN5bmMgZGVwc1xyXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPiAwKSB7XHJcbiAgICAgICAgLy8gaGFzIGFzeW5jXHJcbiAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZS5zc0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXNwZW5zZSBoYXMgbm8gYXN5bmMgZGVwcy4gSnVzdCByZXNvbHZlLlxyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAobjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZSk7XHJcbiAgICBzdXNwZW5zZS52bm9kZSA9IG4yO1xyXG4gICAgbjIuZWwgPSBuMS5lbDtcclxuICAgIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcclxuICAgIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcclxuICAgIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcclxuICAgIGlmIChwZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgcGVuZGluZ0JyYW5jaCkpIHtcclxuICAgICAgICAgICAgLy8gc2FtZSByb290IHR5cGUgYnV0IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cclxuICAgICAgICAgICAgcGF0Y2gocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcclxuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXHJcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgdmFsaWQuIHNldCBpdCBhcyB0aGUgYWN0aXZlIGJyYW5jaCBzbyBpdCB3aWxsIGJlIHVubW91bnRlZFxyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZXNvbHZlZFxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcclxuICAgICAgICAgICAgLy8gcmVzZXQgc3VzcGVuc2Ugc3RhdGVcclxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBwcmV2aW91cyBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZmFsbGJhY2sgc3RhdGVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlZCBcImJhY2tcIiB0byBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlc29sdmVcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byBhIDNyZCBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyByb290IGRpZCBub3QgY2hhbmdlLCBqdXN0IG5vcm1hbCBwYXRjaFxyXG4gICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3Qgbm9kZSB0b2dnbGVkXHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvblBlbmRpbmcgPSBuMi5wcm9wcyAmJiBuMi5wcm9wcy5vblBlbmRpbmc7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUGVuZGluZykpIHtcclxuICAgICAgICAgICAgICAgIG9uUGVuZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG1vdW50IHBlbmRpbmcgYnJhbmNoIGluIG9mZi1kb20gY29udGFpbmVyXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xyXG4gICAgICAgICAgICBwYXRjaChudWxsLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5jb21pbmcgYnJhbmNoIGhhcyBubyBhc3luYyBkZXBzLCByZXNvbHZlIG5vdy5cclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGltZW91dCwgcGVuZGluZ0lkIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0lkID09PSBwZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBpc0h5ZHJhdGluZyA9IGZhbHNlKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgYGNvbnNvbGUuaW5mb2AgY2Fubm90IGJlIG51bGwgZXJyb3JcclxuICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogdW5tb3VudCwgbjogbmV4dCwgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCB0aW1lb3V0ID0gdG9OdW1iZXIodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudGltZW91dCk7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9IHtcclxuICAgICAgICB2bm9kZSxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgIGlzU1ZHLFxyXG4gICAgICAgIGNvbnRhaW5lcixcclxuICAgICAgICBoaWRkZW5Db250YWluZXIsXHJcbiAgICAgICAgYW5jaG9yLFxyXG4gICAgICAgIGRlcHM6IDAsXHJcbiAgICAgICAgcGVuZGluZ0lkOiAwLFxyXG4gICAgICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiAtMSxcclxuICAgICAgICBhY3RpdmVCcmFuY2g6IG51bGwsXHJcbiAgICAgICAgcGVuZGluZ0JyYW5jaDogbnVsbCxcclxuICAgICAgICBpc0luRmFsbGJhY2s6IHRydWUsXHJcbiAgICAgICAgaXNIeWRyYXRpbmcsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGVmZmVjdHM6IFtdLFxyXG4gICAgICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgcGVuZGluZ0lkLCBlZmZlY3RzLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghcmVzdW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gYWN0aXZlQnJhbmNoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaW5pdGlhbCBhbmNob3Igb24gbW91bnRcclxuICAgICAgICAgICAgICAgIGxldCB7IGFuY2hvciB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIHRyZWVcclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmFsbGJhY2sgdHJlZSB3YXMgbW91bnRlZCwgaXQgbWF5IGhhdmUgYmVlbiBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHBhcnQgb2YgYSBwYXJlbnQgc3VzcGVuc2UuIGdldCB0aGUgbGF0ZXN0IGFuY2hvciBmb3IgaW5zZXJ0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgY29udGVudCBmcm9tIG9mZi1kb20gY29udGFpbmVyIHRvIGFjdHVhbCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGZsdXNoIGJ1ZmZlcmVkIGVmZmVjdHNcclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZVxyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gc3VzcGVuc2UucGFyZW50O1xyXG4gICAgICAgICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIG1lcmdlIGJ1ZmZlcmVkIHBvc3Qgam9ic1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGhhdCBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZWZmZWN0cy5wdXNoKC4uLmVmZmVjdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlLCBmbHVzaCBhbGwgam9ic1xyXG4gICAgICAgICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcmVzb2x2ZSBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvblJlc29sdmUgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblJlc29sdmU7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVzb2x2ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9uUmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XHJcbiAgICAgICAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGlzU1ZHIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEBmYWxsYmFjayBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvbkZhbGxiYWNrID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25GYWxsYmFjaztcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25GYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgICAgIG9uRmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXHJcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xyXG4gICAgICAgICAgICB0cnVlIC8vIHNob3VsZFJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50RmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZShjb250YWluZXIsIGFuY2hvciwgdHlwZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgdHlwZSk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5kZXBzKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xyXG4gICAgICAgICAgICBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLmFzeW5jRGVwLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jU2V0dXBSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2hlbiB0aGUgc2V0dXAoKSBwcm9taXNlIHJlc29sdmVzLlxyXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBtYXkgaGF2ZSBiZWVuIHJlcGxhY2VkIGlmIGFuIHVwZGF0ZSBoYXBwZW5lZCBiZWZvcmUgdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgZGVwIGlzIHJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmVsID0gaHlkcmF0ZWRFbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcclxuICAgICAgICAgICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCB2bm9kZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXHJcbiAgICAgICAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksIHN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShwbGFjZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlLmVsKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25seSBkZWNyZWFzZSBkZXBzIGNvdW50IGlmIHN1c3BlbnNlIGlzIG5vdCBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gc3VzcGVuc2U7XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVN1c3BlbnNlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XHJcbiAgICAvLyB0aGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNjZW5hcmlvcyBmb3Igc2VydmVyLXJlbmRlcmVkIHN1c3BlbnNlOlxyXG4gICAgLy8gLSBzdWNjZXNzOiBzc3IgY29udGVudCBzaG91bGQgYmUgZnVsbHkgcmVzb2x2ZWRcclxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXHJcbiAgICAvLyBob3dldmVyLCBvbiB0aGUgY2xpZW50IHdlIGRvbid0IHJlYWxseSBrbm93IGlmIGl0IGhhcyBmYWlsZWQgb3Igbm90XHJcbiAgICAvLyBhdHRlbXB0IHRvIGh5ZHJhdGUgdGhlIERPTSBhc3N1bWluZyBpdCBoYXMgc3VjY2VlZGVkLCBidXQgd2Ugc3RpbGxcclxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKG5vZGUsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xyXG4gICAgbGV0IGNvbnRlbnQ7XHJcbiAgICBsZXQgZmFsbGJhY2s7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb250ZW50ID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmRlZmF1bHQpO1xyXG4gICAgICAgIGZhbGxiYWNrID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4pO1xyXG4gICAgICAgIGZhbGxiYWNrID0gbm9ybWFsaXplVk5vZGUobnVsbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgZmFsbGJhY2tcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgcyA9IHMoKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHMpKSB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNpbmdsZUNoaWxkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcyA9IHNpbmdsZUNoaWxkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZVZOb2RlKHMpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xyXG4gICAgaWYgKHN1c3BlbnNlICYmIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaChmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcclxuICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcclxuICAgIGNvbnN0IHsgdm5vZGUsIHBhcmVudENvbXBvbmVudCB9ID0gc3VzcGVuc2U7XHJcbiAgICBjb25zdCBlbCA9ICh2bm9kZS5lbCA9IGJyYW5jaC5lbCk7XHJcbiAgICAvLyBpbiBjYXNlIHN1c3BlbnNlIGlzIHRoZSByb290IG5vZGUgb2YgYSBjb21wb25lbnQsXHJcbiAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdGhlIEhPQyBlbFxyXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcclxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgLy8gcmVzdWx0IG9mIGJpdHdpc2UgZmxhZyBjb21wYXJpc29uXHJcbmlzU1NSID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHByb3BzID0ge307XHJcbiAgICBjb25zdCBhdHRycyA9IHt9O1xyXG4gICAgZGVmKGF0dHJzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XHJcbiAgICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XHJcbiAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGlmIChpc1N0YXRlZnVsKSB7XHJcbiAgICAgICAgLy8gc3RhdGVmdWxcclxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGlzU1NSID8gcHJvcHMgOiBzaGFsbG93UmVhY3RpdmUocHJvcHMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gb3B0aW9uYWwgcHJvcHMsIHByb3BzID09PSBhdHRyc1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBkZWNsYXJlZCBwcm9wc1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xyXG4gICAgY29uc3QgeyBwcm9wcywgYXR0cnMsIHZub2RlOiB7IHBhdGNoRmxhZyB9IH0gPSBpbnN0YW5jZTtcclxuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgIGlmIChcclxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XHJcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxyXG4gICAgLy8gLSB2aXRlIzg3MiBub24tc2ZjIGNvbXBvbmVudCB1c2VkIGJ5IHNmYyBjb21wb25lbnRcclxuICAgICEoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgKGluc3RhbmNlLnR5cGUuX19obXJJZCB8fFxyXG4gICAgICAgICAgICAoaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC50eXBlLl9faG1ySWQpKSkgJiZcclxuICAgICAgICAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmXHJcbiAgICAgICAgIShwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSkge1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBST1BTICovKSB7XHJcbiAgICAgICAgICAgIC8vIENvbXBpbGVyLWdlbmVyYXRlZCBwcm9wcyAmIG5vIGtleXMgY2hhbmdlLCBqdXN0IHNldCB0aGUgdXBkYXRlZFxyXG4gICAgICAgICAgICAvLyB0aGUgcHJvcHMuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcclxuICAgICAgICAgICAgICAgIC8vIFBST1BTIGZsYWcgZ3VhcmFudGVlcyByYXdQcm9wcyB0byBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhdHRyIC8gcHJvcHMgc2VwYXJhdGlvbiB3YXMgZG9uZSBvbiBpbml0IGFuZCB3aWxsIGJlIGNvbnNpc3RlbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNvZGUgcGF0aCwgc28ganVzdCBjaGVjayBpZiBhdHRycyBoYXZlIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBjYW1lbGl6ZWRLZXksIHZhbHVlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZnVsbCBwcm9wcyB1cGRhdGUuXHJcbiAgICAgICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgICAgICAvLyBpbiBjYXNlIG9mIGR5bmFtaWMgcHJvcHMsIGNoZWNrIGlmIHdlIG5lZWQgdG8gZGVsZXRlIGtleXMgZnJvbVxyXG4gICAgICAgIC8vIHRoZSBwcm9wcyBvYmplY3RcclxuICAgICAgICBsZXQga2ViYWJLZXk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHxcclxuICAgICAgICAgICAgICAgIC8vIGZvciBjYW1lbENhc2VcclxuICAgICAgICAgICAgICAgICghaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXHJcbiAgICAgICAgICAgICAgICAgICAgKChrZWJhYktleSA9IGh5cGhlbmF0ZShrZXkpKSA9PT0ga2V5IHx8ICFoYXNPd24ocmF3UHJvcHMsIGtlYmFiS2V5KSkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd1ByZXZQcm9wc1trZWJhYktleV0gIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3UHJvcHMgfHwgRU1QVFlfT0JKLCBrZXksIHVuZGVmaW5lZCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIGZ1bmN0aW9uYWwgY29tcG9uZW50IHcvbyBwcm9wcyBkZWNsYXJhdGlvbiwgcHJvcHMgYW5kXHJcbiAgICAgICAgLy8gYXR0cnMgcG9pbnQgdG8gdGhlIHNhbWUgb2JqZWN0IHNvIGl0IHNob3VsZCBhbHJlYWR5IGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJhd1Byb3BzIHx8ICFoYXNPd24ocmF3UHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHRyaWdnZXIgdXBkYXRlcyBmb3IgJGF0dHJzIGluIGNhc2UgaXQncyB1c2VkIGluIGNvbXBvbmVudCBzbG90c1xyXG4gICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiAvKiBTRVQgKi8sICckYXR0cnMnKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xyXG4gICAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBpZiAocmF3UHJvcHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cclxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3Agb3B0aW9uIG5hbWVzIGFyZSBjYW1lbGl6ZWQgZHVyaW5nIG5vcm1hbGl6YXRpb24sIHNvIHRvIHN1cHBvcnRcclxuICAgICAgICAgICAgLy8ga2ViYWIgLT4gY2FtZWwgY29udmVyc2lvbiBoZXJlIHdlIG5lZWQgdG8gY2FtZWxpemUgdGhlIGtleS5cclxuICAgICAgICAgICAgbGV0IGNhbWVsS2V5O1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgKGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBbnkgbm9uLWRlY2xhcmVkIChlaXRoZXIgYXMgYSBwcm9wIG9yIGFuIGVtaXR0ZWQgZXZlbnQpIHByb3BzIGFyZSBwdXRcclxuICAgICAgICAgICAgICAgIC8vIGludG8gYSBzZXBhcmF0ZSBgYXR0cnNgIG9iamVjdCBmb3Igc3ByZWFkaW5nLiBNYWtlIHN1cmUgdG8gcHJlc2VydmVcclxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIGtleSBjYXNpbmdcclxuICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChuZWVkQ2FzdEtleXMpIHtcclxuICAgICAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xyXG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgcmF3Q3VycmVudFByb3BzW2tleV0sIGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcclxuICAgIGlmIChvcHQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzXHJcbiAgICAgICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHByb3BzRGVmYXVsdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUocHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJvb2xlYW4gY2FzdGluZ1xyXG4gICAgICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xyXG4gICAgICAgICAgICBpZiAoIWhhc093bihwcm9wcywga2V5KSAmJiAhaGFzRGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChvcHRbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gJiZcclxuICAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGlmICghYXBwQ29udGV4dC5kZW9wdCAmJiBjb21wLl9fcHJvcHMpIHtcclxuICAgICAgICByZXR1cm4gY29tcC5fX3Byb3BzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChrZXlzKVxyXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xyXG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xyXG4gICAgICAgIHJldHVybiAoY29tcC5fX3Byb3BzID0gRU1QVFlfQVJSKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguYCwgcmF3W2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChyYXcpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc09iamVjdChyYXcpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IHJhd1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IChub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID1cclxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IG9wdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBib29sZWFuSW5kZXggPiAtMTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwcm9wIG5lZWRzIGJvb2xlYW4gY2FzdGluZyBvciBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvb2xlYW5JbmRleCA+IC0xIHx8IGhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKG5vcm1hbGl6ZWRLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoY29tcC5fX3Byb3BzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c10pO1xyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XHJcbiAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuLy8gdXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIHR5cGUgY29uc3RydWN0b3JzXHJcbi8vIHNvIHRoYXQgaXQgd29ya3MgYWNyb3NzIHZtcyAvIGlmcmFtZXMuXHJcbmZ1bmN0aW9uIGdldFR5cGUoY3Rvcikge1xyXG4gICAgY29uc3QgbWF0Y2ggPSBjdG9yICYmIGN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXlxccypmdW5jdGlvbiAoXFx3KykvKTtcclxuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XHJcbn1cclxuZnVuY3Rpb24gaXNTYW1lVHlwZShhLCBiKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShhKSA9PT0gZ2V0VHlwZShiKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUeXBlSW5kZXgodHlwZSwgZXhwZWN0ZWRUeXBlcykge1xyXG4gICAgaWYgKGlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHtcclxuICAgICAgICByZXR1cm4gZXhwZWN0ZWRUeXBlcy5maW5kSW5kZXgodCA9PiBpc1NhbWVUeXBlKHQsIHR5cGUpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRUeXBlcykpIHtcclxuICAgICAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBvcHRpb25zID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICAgIGxldCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgaWYgKG9wdCA9PSBudWxsKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB2YWxpZGF0ZVByb3Aoa2V5LCByZXNvbHZlZFZhbHVlc1trZXldLCBvcHQsICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgIWhhc093bihyYXdQcm9wcywgaHlwaGVuYXRlKGtleSkpKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgaXNBYnNlbnQpIHtcclxuICAgIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciB9ID0gcHJvcDtcclxuICAgIC8vIHJlcXVpcmVkIVxyXG4gICAgaWYgKHJlcXVpcmVkICYmIGlzQWJzZW50KSB7XHJcbiAgICAgICAgd2FybignTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gbWlzc2luZyBidXQgb3B0aW9uYWxcclxuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gdHlwZSBjaGVja1xyXG4gICAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IGlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcclxuICAgICAgICAvLyB2YWx1ZSBpcyB2YWxpZCBhcyBsb25nIGFzIG9uZSBvZiB0aGUgc3BlY2lmaWVkIHR5cGVzIG1hdGNoXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcclxuICAgICAgICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCAnJyk7XHJcbiAgICAgICAgICAgIGlzVmFsaWQgPSB2YWxpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjdXN0b20gdmFsaWRhdG9yXHJcbiAgICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnQnKTtcclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XHJcbiAgICBsZXQgdmFsaWQ7XHJcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xyXG4gICAgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcclxuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXHJcbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcclxuICAgICAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkLFxyXG4gICAgICAgIGV4cGVjdGVkVHlwZVxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xyXG4gICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi5gICtcclxuICAgICAgICBgIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKX1gO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcclxuICAgIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XHJcbiAgICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcclxuICAgIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IGV4cGVjdGVkIHZhbHVlXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcclxuICAgICAgICBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJlxyXG4gICAgICAgICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XHJcbiAgICB9XHJcbiAgICBtZXNzYWdlICs9IGAsIGdvdCAke3JlY2VpdmVkVHlwZX0gYDtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxyXG4gICAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBgd2l0aCB2YWx1ZSAke3JlY2VpdmVkVmFsdWV9LmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWVzc2FnZTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcclxuICAgIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBgJHt2YWx1ZX1gO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcclxuICAgIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddO1xyXG4gICAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShlbGVtID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xyXG4gICAgcmV0dXJuIGFyZ3Muc29tZShlbGVtID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nKTtcclxufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcclxuICAgICAgICAvLyBjYWNoZSB0aGUgZXJyb3IgaGFuZGxpbmcgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWUgaG9va1xyXG4gICAgICAgIC8vIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZWhcIiBzdGFuZHMgZm9yIFwid2l0aCBlcnJvclxyXG4gICAgICAgIC8vIGhhbmRsaW5nXCIuXHJcbiAgICAgICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8XHJcbiAgICAgICAgICAgIChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudEluc3RhbmNlIGR1cmluZyBob29rIGludm9jYXRpb24uXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIGhvb2sgZG9lcyBub3Qgc3luY2hyb25vdXNseSB0cmlnZ2VyIG90aGVyIGhvb2tzLCB3aGljaFxyXG4gICAgICAgICAgICAgICAgLy8gY2FuIG9ubHkgYmUgZmFsc2Ugd2hlbiB0aGUgdXNlciBkb2VzIHNvbWV0aGluZyByZWFsbHkgZnVua3kuXHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBpZiAocHJlcGVuZCkge1xyXG4gICAgICAgICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd3JhcHBlZEhvb2s7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3NbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgJycpKTtcclxuICAgICAgICB3YXJuKGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYCArXHJcbiAgICAgICAgICAgIGBhc3NvY2lhdGVkIHdpdGguIGAgK1xyXG4gICAgICAgICAgICBgTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgK1xyXG4gICAgICAgICAgICAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmBcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiBcclxuLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1JcclxuIWlzSW5TU1JDb21wb25lbnRTZXR1cCAmJiBpbmplY3RIb29rKGxpZmVjeWNsZSwgaG9vaywgdGFyZ2V0KTtcclxuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiIC8qIEJFRk9SRV9NT1VOVCAqLyk7XHJcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIgLyogTU9VTlRFRCAqLyk7XHJcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcImJ1XCIgLyogQkVGT1JFX1VQREFURSAqLyk7XHJcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIgLyogVVBEQVRFRCAqLyk7XHJcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXCJidW1cIiAvKiBCRUZPUkVfVU5NT1VOVCAqLyk7XHJcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIgLyogVU5NT1VOVEVEICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIgLyogUkVOREVSX1RSSUdHRVJFRCAqLyk7XHJcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIiAvKiBSRU5ERVJfVFJBQ0tFRCAqLyk7XHJcbmNvbnN0IG9uRXJyb3JDYXB0dXJlZCA9IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IHtcclxuICAgIGluamVjdEhvb2soXCJlY1wiIC8qIEVSUk9SX0NBUFRVUkVEICovLCBob29rLCB0YXJnZXQpO1xyXG59O1xuXG4vLyBTaW1wbGUgZWZmZWN0LlxyXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XHJcbn1cclxuLy8gaW5pdGlhbCB2YWx1ZSBmb3Igd2F0Y2hlcnMgdG8gdHJpZ2dlciBvbiB1bmRlZmluZWQgaW5pdGlhbCB2YWx1ZXNcclxuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XHJcbiAgICAgICAgd2FybihgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIFxcYHdhdGNoRWZmZWN0KGZuLCBvcHRpb25zPylcXGAgaW5zdGVhZC4gXFxgd2F0Y2hcXGAgbm93IG9ubHkgYCArXHJcbiAgICAgICAgICAgIGBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCB7IGltbWVkaWF0ZSwgZGVlcCwgZmx1c2gsIG9uVHJhY2ssIG9uVHJpZ2dlciB9ID0gRU1QVFlfT0JKLCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2Fybihgd2F0Y2goKSBcImltbWVkaWF0ZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVlcCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggc291cmNlOiBgLCBzLCBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYCArXHJcbiAgICAgICAgICAgIGBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuYCk7XHJcbiAgICB9O1xyXG4gICAgbGV0IGdldHRlcjtcclxuICAgIGxldCBmb3JjZVRyaWdnZXIgPSBmYWxzZTtcclxuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xyXG4gICAgICAgIGZvcmNlVHJpZ2dlciA9ICEhc291cmNlLl9zaGFsbG93O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlO1xyXG4gICAgICAgIGRlZXAgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLm1hcChzID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8sIFtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8sIFtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbb25JbnZhbGlkYXRlXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gTk9PUDtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNsZWFudXA7XHJcbiAgICBsZXQgb25JbnZhbGlkYXRlID0gKGZuKSA9PiB7XHJcbiAgICAgICAgY2xlYW51cCA9IHJ1bm5lci5vcHRpb25zLm9uU3RvcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCAvKiBXQVRDSF9DTEVBTlVQICovKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIGxldCBvbGRWYWx1ZSA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xyXG4gICAgY29uc3Qgam9iID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghcnVubmVyLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyB3YXRjaChzb3VyY2UsIGNiKVxyXG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHJ1bm5lcigpO1xyXG4gICAgICAgICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBXQVRDSF9DQUxMQkFDSyAqLywgW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHVuZGVmaW5lZCA6IG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uSW52YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3YXRjaEVmZmVjdFxyXG4gICAgICAgICAgICBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gaW1wb3J0YW50OiBtYXJrIHRoZSBqb2IgYXMgYSB3YXRjaGVyIGNhbGxiYWNrIHNvIHRoYXQgc2NoZWR1bGVyIGtub3dzXHJcbiAgICAvLyBpdCBpcyBhbGxvd2VkIHRvIHNlbGYtdHJpZ2dlciAoIzE3MjcpXHJcbiAgICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcclxuICAgIGxldCBzY2hlZHVsZXI7XHJcbiAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9IGpvYjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcclxuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBkZWZhdWx0OiAncHJlJ1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCBpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlUHJlRmx1c2hDYihqb2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gd2l0aCAncHJlJyBvcHRpb24sIHRoZSBmaXJzdCBjYWxsIG11c3QgaGFwcGVuIGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIHNvIGl0IGlzIGNhbGxlZCBzeW5jaHJvbm91c2x5LlxyXG4gICAgICAgICAgICAgICAgam9iKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcnVubmVyID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgIGxhenk6IHRydWUsXHJcbiAgICAgICAgb25UcmFjayxcclxuICAgICAgICBvblRyaWdnZXIsXHJcbiAgICAgICAgc2NoZWR1bGVyXHJcbiAgICB9KTtcclxuICAgIHJlY29yZEluc3RhbmNlQm91bmRFZmZlY3QocnVubmVyLCBpbnN0YW5jZSk7XHJcbiAgICAvLyBpbml0aWFsIHJ1blxyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChydW5uZXIsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJ1bm5lcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBzdG9wKHJ1bm5lcik7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZShpbnN0YW5jZS5lZmZlY3RzLCBydW5uZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLy8gdGhpcy4kd2F0Y2hcclxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcclxuICAgIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSlcclxuICAgICAgICA/ICgpID0+IHB1YmxpY1RoaXNbc291cmNlXVxyXG4gICAgICAgIDogc291cmNlLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICByZXR1cm4gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMsIHRoaXMpO1xyXG59XHJcbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBzZWVuID0gbmV3IFNldCgpKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBzZWVuLmhhcyh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZWVuLmFkZCh2YWx1ZSk7XHJcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzTGVhdmluZzogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcclxuICAgICAgICBsZWF2aW5nVk5vZGVzOiBuZXcgTWFwKClcclxuICAgIH07XHJcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XHJcbmNvbnN0IEJhc2VUcmFuc2l0aW9uSW1wbCA9IHtcclxuICAgIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIG1vZGU6IFN0cmluZyxcclxuICAgICAgICBhcHBlYXI6IEJvb2xlYW4sXHJcbiAgICAgICAgcGVyc2lzdGVkOiBCb29sZWFuLFxyXG4gICAgICAgIC8vIGVudGVyXHJcbiAgICAgICAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBsZWF2ZVxyXG4gICAgICAgIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgLy8gYXBwZWFyXHJcbiAgICAgICAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3JcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xyXG4gICAgICAgIGxldCBwcmV2VHJhbnNpdGlvbktleTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHNcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB0cmFjayByZWFjdGl2aXR5IGZvciB0aGVzZSBwcm9wcyBzbyB1c2UgdGhlIHJhd1xyXG4gICAgICAgICAgICAvLyBwcm9wcyBmb3IgYSBiaXQgYmV0dGVyIHBlcmZcclxuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIG1vZGVcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RlICYmICFbJ2luLW91dCcsICdvdXQtaW4nLCAnZGVmYXVsdCddLmluY2x1ZGVzKG1vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBjaGlsZHJlbiBoYXMgYSBndWFyYW50ZWVkIGxlbmd0aCBvZiAxLlxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgPHRyYW5zaXRpb24+PGtlZXAtYWxpdmUvPjwvdHJhbnNpdGlvbj4sIHdlIG5lZWQgdG9cclxuICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZSBvZiB0aGUga2VwdC1hbGl2ZSBjaGlsZHJlbi5cclxuICAgICAgICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xyXG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbktleUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgeyBnZXRUcmFuc2l0aW9uS2V5IH0gPSBpbm5lckNoaWxkLnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChnZXRUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRUcmFuc2l0aW9uS2V5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyYW5zaXRpb25LZXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBwcmV2VHJhbnNpdGlvbktleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBoYW5kbGUgbW9kZVxyXG4gICAgICAgICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJlxyXG4gICAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmXHJcbiAgICAgICAgICAgICAgICAoIWlzU2FtZVZOb2RlVHlwZShpbm5lckNoaWxkLCBvbGRJbm5lckNoaWxkKSB8fCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgb2xkIHRyZWUncyBob29rcyBpbiBjYXNlIG9mIGR5bmFtaWMgdHJhbnNpdGlvblxyXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hpbmcgYmV0d2VlbiBkaWZmZXJlbnQgdmlld3NcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXHJcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIG9sZElubmVyQ2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XHJcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XHJcbiAgICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xyXG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xyXG4gICAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcclxuICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xyXG59XHJcbi8vIFRoZSB0cmFuc2l0aW9uIGhvb2tzIGFyZSBhdHRhY2hlZCB0byB0aGUgdm5vZGUgYXMgdm5vZGUudHJhbnNpdGlvblxyXG4vLyBhbmQgd2lsbCBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5nIGluIHRoZSByZW5kZXJlci5cclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBhcHBlYXIsIG1vZGUsIHBlcnNpc3RlZCA9IGZhbHNlLCBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkFmdGVyRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uQmVmb3JlTGVhdmUsIG9uTGVhdmUsIG9uQWZ0ZXJMZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIsIG9uQXBwZWFyLCBvbkFmdGVyQXBwZWFyLCBvbkFwcGVhckNhbmNlbGxlZCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcclxuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcclxuICAgIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcclxuICAgICAgICBob29rICYmXHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIFRSQU5TSVRJT05fSE9PSyAqLywgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaG9va3MgPSB7XHJcbiAgICAgICAgbW9kZSxcclxuICAgICAgICBwZXJzaXN0ZWQsXHJcbiAgICAgICAgYmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvciBzYW1lIGVsZW1lbnQgKHYtc2hvdylcclxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxyXG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIGVhcmx5IHJlbW92YWwgKG5vdCBjYW5jZWxsZWQpXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudGVyKGVsKSB7XHJcbiAgICAgICAgICAgIGxldCBob29rID0gb25FbnRlcjtcclxuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcclxuICAgICAgICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fZW50ZXJDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChob29rKSB7XHJcbiAgICAgICAgICAgICAgICBob29rKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID0gdm5vZGU7XHJcbiAgICAgICAgICAgIGlmIChvbkxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkxlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChvbkxlYXZlLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9uZSh2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBob29rcztcclxufVxyXG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcclxuLy8gaW4gdGhlIGNhc2Ugb2YgYSBLZWVwQWxpdmUgaW4gYSBsZWF2ZSBwaGFzZSB3ZSBuZWVkIHRvIHJldHVybiBhIEtlZXBBbGl2ZVxyXG4vLyBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IGNvbnRlbnQgdG8gYXZvaWQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBmcm9tIGJlaW5nXHJcbi8vIHVubW91bnRlZC5cclxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xyXG4gICAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xyXG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxyXG4gICAgICAgID8gdm5vZGUuY2hpbGRyZW5cclxuICAgICAgICAgICAgPyB2bm9kZS5jaGlsZHJlblswXVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgIDogdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSkge1xyXG4gICAgbGV0IHJldCA9IFtdO1xyXG4gICAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKVxyXG4gICAgICAgICAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XHJcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb21tZW50IHBsYWNlaG9sZGVycyBzaG91bGQgYmUgc2tpcHBlZCwgZS5nLiB2LWlmXHJcbiAgICAgICAgZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICByZXQucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gIzExMjYgaWYgYSB0cmFuc2l0aW9uIGNoaWxkcmVuIGxpc3QgY29udGFpbnMgbXVsdGlwbGUgc3ViIGZyYWdtZW50cywgdGhlc2VcclxuICAgIC8vIGZyYWdtZW50cyB3aWxsIGJlIG1lcmdlZCBpbnRvIGEgZmxhdCBjaGlsZHJlbiBhcnJheS4gU2luY2UgZWFjaCB2LWZvclxyXG4gICAgLy8gZnJhZ21lbnQgbWF5IGNvbnRhaW4gZGlmZmVyZW50IHN0YXRpYyBiaW5kaW5ncyBpbnNpZGUsIHdlIG5lZWQgdG8gZGUtb3BcclxuICAgIC8vIHRoZXNlIGNoaWxkcmVuIHRvIGZvcmNlIGZ1bGwgZGlmZnMgdG8gZW5zdXJlIGNvcnJlY3QgYmVoYXZpb3IuXHJcbiAgICBpZiAoa2V5ZWRGcmFnbWVudENvdW50ID4gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMiAvKiBCQUlMICovO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcclxuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcclxuICAgIG5hbWU6IGBLZWVwQWxpdmVgLFxyXG4gICAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cclxuICAgIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XHJcbiAgICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXHJcbiAgICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICAvLyBLZWVwQWxpdmUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGluc3RhbnRpYXRlZCByZW5kZXJlciB2aWEgdGhlXHJcbiAgICAgICAgLy8gY3R4IHdoZXJlIHRoZSByZW5kZXJlciBwYXNzZXMgaW4gaXRzIGludGVybmFscyxcclxuICAgICAgICAvLyBhbmQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBleHBvc2VzIGFjdGl2YXRlL2RlYWN0aXZhdGUgaW1wbGVtZW50YXRpb25zLlxyXG4gICAgICAgIC8vIFRoZSB3aG9sZSBwb2ludCBvZiB0aGlzIGlzIHRvIGF2b2lkIGltcG9ydGluZyBLZWVwQWxpdmUgZGlyZWN0bHkgaW4gdGhlXHJcbiAgICAgICAgLy8gcmVuZGVyZXIgdG8gZmFjaWxpdGF0ZSB0cmVlLXNoYWtpbmcuXHJcbiAgICAgICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcclxuICAgICAgICAvLyBpZiB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nLFxyXG4gICAgICAgIC8vIGZvciBLZWVwQWxpdmUsIHdlIGp1c3QgbmVlZCB0byByZW5kZXIgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzbG90cy5kZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xyXG4gICAgICAgIGNvbnN0IHsgcmVuZGVyZXI6IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiBfdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSB9ID0gc2hhcmVkQ29udGV4dDtcclxuICAgICAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIC8vIGluIGNhc2UgcHJvcHMgaGF2ZSBjaGFuZ2VkXHJcbiAgICAgICAgICAgIHBhdGNoKGluc3RhbmNlLnZub2RlLCB2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHZub2RlLnNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZS5wYXJlbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxIC8qIExFQVZFICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5kYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNoYXBlRmxhZyBzbyBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgaW5zdGFuY2Ugc2hvdWxkIG5vIGxvbmdlciBiZSBrZXB0LWFsaXZlLlxyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdW5tb3VudCBpdCBub3cgYnV0IGl0IG1pZ2h0IGJlIGxhdGVyLCBzbyByZXNldCBpdHMgZmxhZyBub3cuXHJcbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJ1bmUgY2FjaGUgb24gaW5jbHVkZS9leGNsdWRlIHByb3AgY2hhbmdlXHJcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XHJcbiAgICAgICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICB7IGZsdXNoOiAncG9zdCcsIGRlZXA6IHRydWUgfSk7XHJcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxyXG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKGNhY2hlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgaW52b2tlIGl0cyBkZWFjdGl2YXRlZCBob29rIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcclxuICAgICAgICAgICAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wKTtcclxuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xyXG4gICAgICAgICAgICBpZiAoKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcclxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxyXG4gICAgICAgICAgICBpZiAodm5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxyXG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaCBvciBzY29wZUlkLCBzbyB0aGUgdm5vZGUgaGVyZSBtYXkgbm90IGJlIHRoZSBmaW5hbCB2bm9kZVxyXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG1vdW50ZWQuIEluc3RlYWQgb2YgY2FjaGluZyBpdCBkaXJlY3RseSwgd2Ugc3RvcmUgdGhlIHBlbmRpbmdcclxuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxyXG4gICAgICAgICAgICAvLyBiZWZvcmVNb3VudC9iZWZvcmVVcGRhdGUgaG9va3MuXHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgbW91bnRlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcclxuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRyYW5zaXRpb24gaG9va3Mgb24gc3ViVHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyBtb3VudGVkIGFzIGZyZXNoXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcclxuICAgICAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcclxuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XHJcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBhdHRlcm4udGVzdCkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIEFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcclxuICAgIC8vIGhvb2sgY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dkY1wiIHN0YW5kcyBmb3IgXCJ3aXRoXHJcbiAgICAvLyBkZWFjdGl2YXRpb24gY2hlY2tcIi5cclxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxyXG4gICAgICAgIChob29rLl9fd2RjID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgdGhlIGhvb2sgaWYgdGhlIHRhcmdldCBpbnN0YW5jZSBpcyBOT1QgaW4gYSBkZWFjdGl2YXRlZCBicmFuY2guXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob29rKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xyXG4gICAgLy8gSW4gYWRkaXRpb24gdG8gcmVnaXN0ZXJpbmcgaXQgb24gdGhlIHRhcmdldCBpbnN0YW5jZSwgd2Ugd2FsayB1cCB0aGUgcGFyZW50XHJcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgLy8gVGhpcyBhdm9pZHMgdGhlIG5lZWQgdG8gd2FsayB0aGUgZW50aXJlIGNvbXBvbmVudCB0cmVlIHdoZW4gaW52b2tpbmcgdGhlc2VcclxuICAgIC8vIGhvb2tzLCBhbmQgbW9yZSBpbXBvcnRhbnRseSwgYXZvaWRzIHRoZSBuZWVkIHRvIHRyYWNrIGNoaWxkIGNvbXBvbmVudHMgaW5cclxuICAgIC8vIGFycmF5cy5cclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xyXG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXHJcbiAgICAvLyB0aGUgd3JhcHBlZCB2ZXJzaW9uLlxyXG4gICAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKHR5cGUsIGhvb2ssIGtlZXBBbGl2ZVJvb3QsIHRydWUgLyogcHJlcGVuZCAqLyk7XHJcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcclxuICAgIGxldCBzaGFwZUZsYWcgPSB2bm9kZS5zaGFwZUZsYWc7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XHJcbiAgICB9XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgPSBzaGFwZUZsYWc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLyA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xyXG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09ICdfJyB8fCBrZXkgPT09ICckc3RhYmxlJztcclxuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKVxyXG4gICAgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpXHJcbiAgICA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xyXG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB3aXRoQ3R4KChwcm9wcykgPT4ge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICB3YXJuKGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IGAgK1xyXG4gICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXHJcbiAgICAgICAgICAgIGBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdChwcm9wcykpO1xyXG59LCBjdHgpO1xyXG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMpID0+IHtcclxuICAgIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xyXG4gICAgICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkpIHtcclxuICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gYCArXHJcbiAgICAgICAgICAgIGBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xyXG4gICAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XHJcbn07XHJcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcclxuICAgIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLykge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNsb3RzID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIC8vIG1ha2UgY29tcGlsZXIgbWFya2VyIG5vbi1lbnVtZXJhYmxlXHJcbiAgICAgICAgICAgIGRlZihjaGlsZHJlbiwgJ18nLCB0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCAoaW5zdGFuY2Uuc2xvdHMgPSB7fSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLnNsb3RzID0ge307XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZWYoaW5zdGFuY2Uuc2xvdHMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxufTtcclxuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcclxuICAgIGxldCBuZWVkRGVsZXRpb25DaGVjayA9IHRydWU7XHJcbiAgICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gY29tcGlsZWQgc2xvdHMuXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyZW50IHdhcyBITVIgdXBkYXRlZCBzbyBzbG90IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHVwZGF0ZSBzbG90cyBhbmQgbWFyayBpbnN0YW5jZSBmb3IgaG1yIGFzIHdlbGxcclxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGltaXplZCAmJiB0eXBlID09PSAxIC8qIFNUQUJMRSAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgQU5EIHN0YWJsZS5cclxuICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlLCBhbmQgc2tpcCBzdGFsZSBzbG90cyByZW1vdmFsLlxyXG4gICAgICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIGJ1dCBkeW5hbWljICh2LWlmL3YtZm9yIG9uIHNsb3RzKSAtIHVwZGF0ZSBzbG90cywgYnV0IHNraXBcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIC8vICMyODkzXHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlbmRlcmluZyB0aGUgb3B0aW1pemVkIHNsb3RzIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBkZWxldGUgdGhlIGBzbG90cy5fYCBmbGFnIGlmIG5lY2Vzc2FyeSB0byBtYWtlIHN1YnNlcXVlbnQgdXBkYXRlcyByZWxpYWJsZSxcclxuICAgICAgICAgICAgICAgIC8vIGkuZS4gbGV0IHRoZSBgcmVuZGVyU2xvdGAgY3JlYXRlIHRoZSBiYWlsZWQgRnJhZ21lbnRcclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU1RBQkxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNsb3RzLl87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAvLyBub24gc2xvdCBvYmplY3QgY2hpbGRyZW4gKGRpcmVjdCB2YWx1ZSkgcGFzc2VkIHRvIGEgY29tcG9uZW50XHJcbiAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIHN0YWxlIHNsb3RzXHJcbiAgICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xyXG4gICAgICAgICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiAhKGtleSBpbiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcblxuLyoqXHJcblJ1bnRpbWUgaGVscGVyIGZvciBhcHBseWluZyBkaXJlY3RpdmVzIHRvIGEgdm5vZGUuIEV4YW1wbGUgdXNhZ2U6XHJcblxuY29uc3QgY29tcCA9IHJlc29sdmVDb21wb25lbnQoJ2NvbXAnKVxyXG5jb25zdCBmb28gPSByZXNvbHZlRGlyZWN0aXZlKCdmb28nKVxyXG5jb25zdCBiYXIgPSByZXNvbHZlRGlyZWN0aXZlKCdiYXInKVxyXG5cbnJldHVybiB3aXRoRGlyZWN0aXZlcyhoKGNvbXApLCBbXHJcbiAgW2ZvbywgdGhpcy54XSxcclxuICBbYmFyLCB0aGlzLnldXHJcbl0pXHJcbiovXHJcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQnKTtcclxuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcclxuICAgIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcclxuICAgICAgICB3YXJuKCdEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogJyArIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBZGRzIGRpcmVjdGl2ZXMgdG8gYSBWTm9kZS5cclxuICovXHJcbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XHJcbiAgICBjb25zdCBpbnRlcm5hbEluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgaWYgKGludGVybmFsSW5zdGFuY2UgPT09IG51bGwpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybihgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGludGVybmFsSW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xyXG4gICAgICAgICAgICBkaXIgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGVkOiBkaXIsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkOiBkaXJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmluZGluZ3MucHVzaCh7XHJcbiAgICAgICAgICAgIGRpcixcclxuICAgICAgICAgICAgaW5zdGFuY2UsXHJcbiAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxyXG4gICAgICAgICAgICBhcmcsXHJcbiAgICAgICAgICAgIG1vZGlmaWVyc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcclxuICAgIGNvbnN0IG9sZEJpbmRpbmdzID0gcHJldlZOb2RlICYmIHByZXZWTm9kZS5kaXJzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcclxuICAgICAgICBpZiAob2xkQmluZGluZ3MpIHtcclxuICAgICAgICAgICAgYmluZGluZy5vbGRWYWx1ZSA9IG9sZEJpbmRpbmdzW2ldLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XHJcbiAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRElSRUNUSVZFX0hPT0sgKi8sIFtcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZyxcclxuICAgICAgICAgICAgICAgIHZub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhcHA6IG51bGwsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgIGlzTmF0aXZlVGFnOiBOTyxcclxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBnbG9iYWxQcm9wZXJ0aWVzOiB7fSxcclxuICAgICAgICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcclxuICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50OiBOTyxcclxuICAgICAgICAgICAgZXJyb3JIYW5kbGVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHdhcm5IYW5kbGVyOiB1bmRlZmluZWRcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1peGluczogW10sXHJcbiAgICAgICAgY29tcG9uZW50czoge30sXHJcbiAgICAgICAgZGlyZWN0aXZlczoge30sXHJcbiAgICAgICAgcHJvdmlkZXM6IE9iamVjdC5jcmVhdGUobnVsbClcclxuICAgIH07XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybihgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XHJcbiAgICAgICAgICAgIHJvb3RQcm9wcyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgaW5zdGFsbGVkUGx1Z2lucyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgYXBwID0gKGNvbnRleHQuYXBwID0ge1xyXG4gICAgICAgICAgICBfdWlkOiB1aWQrKyxcclxuICAgICAgICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcclxuICAgICAgICAgICAgX3Byb3BzOiByb290UHJvcHMsXHJcbiAgICAgICAgICAgIF9jb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxyXG4gICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICBnZXQgY29uZmlnKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgY29uZmlnKHYpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGZ1bmN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdsb2JhbCBtaXhpbiB3aXRoIHByb3BzL2VtaXRzIGRlLW9wdGltaXplcyBwcm9wcy9lbWl0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uIGNhY2hpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpbi5wcm9wcyB8fCBtaXhpbi5lbWl0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kZW9wdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ01peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogJycpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbnRleHQuY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBpc1NWRykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgYXBwIGNvbnRleHQgb24gdGhlIHJvb3QgVk5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGJlIHNldCBvbiB0aGUgcm9vdCBpbnN0YW5jZSBvbiBpbml0aWFsIG1vdW50LlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhNUiByb290IHJlbG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIoY2xvbmVWTm9kZSh2bm9kZSksIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQucHJveHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bm1vdW50KCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGNvbnRleHQucHJvdmlkZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIHRoZSBuZXcgdmFsdWUuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGRvZXNuJ3QgYWxsb3cgc3ltYm9scyBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI0NTg3XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgfTtcclxufVxuXG5sZXQgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiAvc3ZnLy50ZXN0KGNvbnRhaW5lci5uYW1lc3BhY2VVUkkpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSAnZm9yZWlnbk9iamVjdCc7XHJcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4IC8qIENPTU1FTlQgKi87XHJcbi8vIE5vdGU6IGh5ZHJhdGlvbiBpcyBET00tc3BlY2lmaWNcclxuLy8gQnV0IHdlIGhhdmUgdG8gcGxhY2UgaXQgaW4gY29yZSBkdWUgdG8gdGlnaHQgY291cGxpbmcgd2l0aCBjb3JlIC0gc3BsaXR0aW5nXHJcbi8vIGl0IG91dCBjcmVhdGVzIGEgdG9uIG9mIHVubmVjZXNzYXJ5IGNvbXBsZXhpdHkuXHJcbi8vIEh5ZHJhdGlvbiBhbHNvIGRlcGVuZHMgb24gc29tZSByZW5kZXJlciBpbnRlcm5hbCBsb2dpYyB3aGljaCBuZWVkcyB0byBiZVxyXG4vLyBwYXNzZWQgaW4gdmlhIGFyZ3VtZW50cy5cclxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICBjb25zdCB7IG10OiBtb3VudENvbXBvbmVudCwgcDogcGF0Y2gsIG86IHsgcGF0Y2hQcm9wLCBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcmVtb3ZlLCBpbnNlcnQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCBoeWRyYXRlID0gKHZub2RlLCBjb250YWluZXIpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gYCArXHJcbiAgICAgICAgICAgICAgICBgUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYCk7XHJcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhhc01pc21hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcclxuICAgICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xyXG4gICAgICAgIGlmIChoYXNNaXNtYXRjaCAmJiAhZmFsc2UpIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBlcnJvciBzaG91bGQgc2hvdyB1cCBpbiBwcm9kdWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snO1xyXG4gICAgICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50U3RhcnQpO1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGNvbnN0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xyXG4gICAgICAgIHZub2RlLmVsID0gbm9kZTtcclxuICAgICAgICBsZXQgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMyAvKiBURVhUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhICE9PSB2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2g6YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gQ2xpZW50OiAke0pTT04uc3RyaW5naWZ5KG5vZGUuZGF0YSl9YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gU2VydmVyOiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLyB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgYW5jaG9yLCBhZG9wdCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzdGF0aWMgdm5vZGUgaGFzIGl0cyBjb250ZW50IHN0cmlwcGVkIGR1cmluZyBidWlsZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZG9wdCBpdCBmcm9tIHRoZSBzZXJ2ZXItcmVuZGVyZWQgSFRNTC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZFRvQWRvcHRDb250ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUudHlwZS50b0xvd2VyQ2FzZSgpICE9PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHNldHRpbmcgdXAgdGhlIHJlbmRlciBlZmZlY3QsIGlmIHRoZSBpbml0aWFsIHZub2RlIGFscmVhZHlcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgLmVsIHNldCwgdGhlIGNvbXBvbmVudCB3aWxsIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbiBpdHMgc3ViLXRyZWUuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHlkcmF0ZUNvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQodm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzeW5jIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRBc3luYyA9IHZub2RlLnR5cGUuX19hc3luY0xvYWRlcjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9hZEFzeW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRBc3luYygpLnRoZW4oaHlkcmF0ZUNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlQ29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgYmUgYXN5bmMsIHNvIGluIHRoZSBjYXNlIG9mIGZyYWdtZW50cyB3ZSBjYW5ub3QgcmVseVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGNvbXBvbmVudCdzIHJlbmRlcmVkIG91dHB1dCB0byBkZXRlcm1pbmUgdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkLCB3ZSBkbyBhIGxvb2thaGVhZCB0byBmaW5kIHRoZSBlbmQgYW5jaG9yIG5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBpc0ZyYWdtZW50U3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKHBhcmVudE5vZGUobm9kZSkpLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgSG9zdFZOb2RlIHR5cGU6JywgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0Tm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRWxlbWVudCA9IChlbCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHsgcHJvcHMsIHBhdGNoRmxhZywgc2hhcGVGbGFnLCBkaXJzIH0gPSB2bm9kZTtcclxuICAgICAgICAvLyBza2lwIHByb3BzICYgY2hpbGRyZW4gaWYgdGhpcyBpcyBob2lzdGVkIHN0YXRpYyBub2Rlc1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgIT09IC0xIC8qIEhPSVNURUQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW1pemVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmIGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgY2xpY2sgbGlzdGVuZXJzICh3aGljaCBpcyBtb3N0IG9mdGVuKSB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyB0aHJvdWdoIHByb3BzLlxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwgJ29uQ2xpY2snLCBudWxsLCBwcm9wcy5vbkNsaWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB2bm9kZSAvIGRpcmVjdGl2ZSBob29rc1xyXG4gICAgICAgICAgICBsZXQgdm5vZGVIb29rcztcclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2hpbGRyZW5cclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovICYmXHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIGVsZW1lbnQgaGFzIGlubmVySFRNTCAvIHRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICAhKHByb3BzICYmIChwcm9wcy5pbm5lckhUTUwgfHwgcHJvcHMudGV4dENvbnRlbnQpKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oZWwuZmlyc3RDaGlsZCwgdm5vZGUsIGVsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjogYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgc2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgbW9yZSBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgU1NSZWQgRE9NIGNvbnRhaW5zIG1vcmUgbm9kZXMgdGhhbiBpdCBzaG91bGQuIFJlbW92ZSB0aGVtLlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjpcXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIENsaWVudDogJHtlbC50ZXh0Q29udGVudH1cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIFNlcnZlcjogJHt2bm9kZS5jaGlsZHJlbn1gKTtcclxuICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbC5uZXh0U2libGluZztcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISFwYXJlbnRWTm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZHJlbltpXVxyXG4gICAgICAgICAgICAgICAgOiAoY2hpbGRyZW5baV0gPSBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xyXG4gICAgICAgICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzV2FybmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke2NvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgU1NSZWQgRE9NIGRpZG4ndCBjb250YWluIGVub3VnaCBub2Rlcy4gTW91bnQgdGhlIG1pc3Npbmcgb25lcy5cclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XHJcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xyXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxyXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICBjb25zdCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gJ10nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZygodm5vZGUuYW5jaG9yID0gbmV4dCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnJhZ21lbnQgZGlkbid0IGh5ZHJhdGUgc3VjY2Vzc2Z1bGx5LCBzaW5jZSB3ZSBkaWRuJ3QgZ2V0IGEgZW5kIGFuY2hvclxyXG4gICAgICAgICAgICAvLyBiYWNrLiBUaGlzIHNob3VsZCBoYXZlIGxlZCB0byBub2RlL2NoaWxkcmVuIG1pc21hdGNoIHdhcm5pbmdzLlxyXG4gICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBhbmNob3IgaXMgbWlzc2luZywgd2UgbmVlZCB0byBjcmVhdGUgb25lIGFuZCBpbnNlcnQgaXRcclxuICAgICAgICAgICAgaW5zZXJ0KCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCkpLCBjb250YWluZXIsIG5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xyXG4gICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XFxuLSBDbGllbnQgdm5vZGU6YCwgdm5vZGUudHlwZSwgYFxcbi0gU2VydmVyIHJlbmRlcmVkIERPTTpgLCBub2RlLCBub2RlLm5vZGVUeXBlID09PSAzIC8qIFRFWFQgKi9cclxuICAgICAgICAgICAgICAgID8gYCh0ZXh0KWBcclxuICAgICAgICAgICAgICAgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snXHJcbiAgICAgICAgICAgICAgICAgICAgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWBcclxuICAgICAgICAgICAgICAgICAgICA6IGBgKTtcclxuICAgICAgICB2bm9kZS5lbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4Y2Vzc2l2ZSBmcmFnbWVudCBub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0ICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUobmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICByZW1vdmUobm9kZSk7XHJcbiAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbmV4dCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgIH07XHJcbiAgICBjb25zdCBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3IgPSAobm9kZSkgPT4ge1xyXG4gICAgICAgIGxldCBtYXRjaCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09ICdbJylcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ10nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLS07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdO1xyXG59XG5cbmxldCBzdXBwb3J0ZWQ7XHJcbmxldCBwZXJmO1xyXG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XHJcbiAgICAgICAgY29uc3QgZW5kVGFnID0gc3RhcnRUYWcgKyBgOmVuZGA7XHJcbiAgICAgICAgcGVyZi5tYXJrKGVuZFRhZyk7XHJcbiAgICAgICAgcGVyZi5tZWFzdXJlKGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xyXG4gICAgaWYgKHN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxyXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcclxuICogaW1wb3J0aW5nIHJ1bnRpbWUtY29yZSBpcyBzaWRlLWVmZmVjdHMgZnJlZS5cclxuICpcclxuICogaXN0YW5idWwtaWdub3JlLW5leHRcclxuICovXHJcbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbmVlZFdhcm4gPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGAgK1xyXG4gICAgICAgICAgICBgY29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBleHBsaWNpdGx5IHJlcGxhY2UgZmVhdHVyZSBmbGFnIGdsb2JhbHMgYCArXHJcbiAgICAgICAgICAgIGB3aXRoIGJvb2xlYW4gbGl0ZXJhbHMgdG8gZ2V0IHByb3BlciB0cmVlLXNoYWtpbmcgaW4gdGhlIGZpbmFsIGJ1bmRsZS4gYCArXHJcbiAgICAgICAgICAgIGBTZWUgaHR0cDovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MgZm9yIG1vcmUgZGV0YWlscy5gKTtcclxuICAgIH1cclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiwgY2xvc2UgdG8gbm8tb3BcclxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8geyBzZXR1cDogb3B0aW9ucywgbmFtZTogb3B0aW9ucy5uYW1lIH0gOiBvcHRpb25zO1xyXG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XHJcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudCwgZGVsYXkgPSAyMDAsIHRpbWVvdXQsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxyXG4gICAgc3VzcGVuc2libGUgPSB0cnVlLCBvbkVycm9yOiB1c2VyT25FcnJvciB9ID0gc291cmNlO1xyXG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgIGxldCByZXNvbHZlZENvbXA7XHJcbiAgICBsZXQgcmV0cmllcyA9IDA7XHJcbiAgICBjb25zdCByZXRyeSA9ICgpID0+IHtcclxuICAgICAgICByZXRyaWVzKys7XHJcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBsb2FkKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgdGhpc1JlcXVlc3Q7XHJcbiAgICAgICAgcmV0dXJuIChwZW5kaW5nUmVxdWVzdCB8fFxyXG4gICAgICAgICAgICAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyT25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGNvbXApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb21wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgICAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxyXG4gICAgICAgIG5hbWU6ICdBc3luY0NvbXBvbmVudFdyYXBwZXInLFxyXG4gICAgICAgIHNldHVwKCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgICAgICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZFxyXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxMyAvKiBBU1lOQ19DT01QT05FTlRfTE9BREVSICovLCAhZXJyb3JDb21wb25lbnQgLyogZG8gbm90IHRocm93IGluIGRldiBpZiB1c2VyIHByb3ZpZGVkIGVycm9yIGNvbXBvbmVudCAqLyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHN1c3BlbnNlLWNvbnRyb2xsZWQgb3IgU1NSLlxyXG4gICAgICAgICAgICBpZiAoKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlKSB8fFxyXG4gICAgICAgICAgICAgICAgKGZhbHNlICkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb21wID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBlcnJvckNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZCA9IHJlZihmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCB7IHZub2RlOiB7IHJlZiwgcHJvcHMsIGNoaWxkcmVuIH0gfSkge1xyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgLy8gZW5zdXJlIGlubmVyIGNvbXBvbmVudCBpbmhlcml0cyB0aGUgYXN5bmMgd3JhcHBlcidzIHJlZiBvd25lclxyXG4gICAgdm5vZGUucmVmID0gcmVmO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XG5cbmNvbnN0IHByb2RFZmZlY3RPcHRpb25zID0ge1xyXG4gICAgc2NoZWR1bGVyOiBxdWV1ZUpvYixcclxuICAgIC8vICMxODAxLCAjMjA0MyBjb21wb25lbnQgcmVuZGVyIGVmZmVjdHMgc2hvdWxkIGFsbG93IHJlY3Vyc2l2ZSB1cGRhdGVzXHJcbiAgICBhbGxvd1JlY3Vyc2U6IHRydWVcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzY2hlZHVsZXI6IHF1ZXVlSm9iLFxyXG4gICAgICAgIGFsbG93UmVjdXJzZTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrOiBpbnN0YW5jZS5ydGMgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDAsXHJcbiAgICAgICAgb25UcmlnZ2VyOiBpbnN0YW5jZS5ydGcgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDBcclxuICAgIH07XHJcbn1cclxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2VcclxuICAgIDtcclxuY29uc3Qgc2V0UmVmID0gKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpID0+IHtcclxuICAgIGlmIChpc0FycmF5KHJhd1JlZikpIHtcclxuICAgICAgICByYXdSZWYuZm9yRWFjaCgociwgaSkgPT4gc2V0UmVmKHIsIG9sZFJhd1JlZiAmJiAoaXNBcnJheShvbGRSYXdSZWYpID8gb2xkUmF3UmVmW2ldIDogb2xkUmF3UmVmKSwgcGFyZW50U3VzcGVuc2UsIHZub2RlKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHZhbHVlO1xyXG4gICAgaWYgKCF2bm9kZSkge1xyXG4gICAgICAgIC8vIG1lYW5zIHVubW91bnRcclxuICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkpIHtcclxuICAgICAgICAvLyB3aGVuIG1vdW50aW5nIGFzeW5jIGNvbXBvbmVudHMsIG5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZSxcclxuICAgICAgICAvLyBiZWNhdXNlIHRoZSB0ZW1wbGF0ZSByZWYgaXMgZm9yd2FyZGVkIHRvIGlubmVyIGNvbXBvbmVudFxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2bm9kZS5jb21wb25lbnQuZXhwb3NlZCB8fCB2bm9kZS5jb21wb25lbnQucHJveHk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IHZub2RlLmVsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFvd25lcikge1xyXG4gICAgICAgIHdhcm4oYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gYCArXHJcbiAgICAgICAgICAgIGBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XHJcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xyXG4gICAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XHJcbiAgICAvLyB1bnNldCBvbGQgcmVmXHJcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xyXG4gICAgICAgICAgICByZWZzW29sZFJlZl0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xyXG4gICAgICAgICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyAjMTc4OTogZm9yIG5vbi1udWxsIHZhbHVlcywgc2V0IHRoZW0gYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgLy8gbnVsbCB2YWx1ZXMgbWVhbnMgdGhpcyBpcyB1bm1vdW50IGFuZCBpdCBzaG91bGQgbm90IG92ZXJ3cml0ZSBhbm90aGVyXHJcbiAgICAgICAgLy8gcmVmIHdpdGggdGhlIHNhbWUga2V5XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvU2V0LmlkID0gLTE7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkb1NldCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9TZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlZihyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvU2V0LmlkID0gLTE7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkb1NldCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9TZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcocmVmLCBvd25lciwgMTIgLyogRlVOQ1RJT05fUkVGICovLCBbdmFsdWUsIHJlZnNdKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6JywgdmFsdWUsIGAoJHt0eXBlb2YgdmFsdWV9KWApO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogVGhlIGNyZWF0ZVJlbmRlcmVyIGZ1bmN0aW9uIGFjY2VwdHMgdHdvIGdlbmVyaWMgYXJndW1lbnRzOlxyXG4gKiBIb3N0Tm9kZSBhbmQgSG9zdEVsZW1lbnQsIGNvcnJlc3BvbmRpbmcgdG8gTm9kZSBhbmQgRWxlbWVudCB0eXBlcyBpbiB0aGVcclxuICogaG9zdCBlbnZpcm9ubWVudC4gRm9yIGV4YW1wbGUsIGZvciBydW50aW1lLWRvbSwgSG9zdE5vZGUgd291bGQgYmUgdGhlIERPTVxyXG4gKiBgTm9kZWAgaW50ZXJmYWNlIGFuZCBIb3N0RWxlbWVudCB3b3VsZCBiZSB0aGUgRE9NIGBFbGVtZW50YCBpbnRlcmZhY2UuXHJcbiAqXHJcbiAqIEN1c3RvbSByZW5kZXJlcnMgY2FuIHBhc3MgaW4gdGhlIHBsYXRmb3JtIHNwZWNpZmljIHR5cGVzIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIGNvbnN0IHsgcmVuZGVyLCBjcmVhdGVBcHAgfSA9IGNyZWF0ZVJlbmRlcmVyPE5vZGUsIEVsZW1lbnQ+KHtcclxuICogICBwYXRjaFByb3AsXHJcbiAqICAgLi4ubm9kZU9wc1xyXG4gKiB9KVxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XHJcbn1cclxuLy8gU2VwYXJhdGUgQVBJIGZvciBjcmVhdGluZyBoeWRyYXRpb24tZW5hYmxlZCByZW5kZXJlci5cclxuLy8gSHlkcmF0aW9uIGxvZ2ljIGlzIG9ubHkgdXNlZCB3aGVuIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgbWFraW5nIGl0XHJcbi8vIHRyZWUtc2hha2FibGUuXHJcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XHJcbiAgICAvLyBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyBjaGVja1xyXG4gICAge1xyXG4gICAgICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xyXG4gICAgICAgIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcclxuICAgICAgICBzZXREZXZ0b29sc0hvb2sodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBpbnNlcnQ6IGhvc3RJbnNlcnQsIHJlbW92ZTogaG9zdFJlbW92ZSwgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLCBmb3JjZVBhdGNoUHJvcDogaG9zdEZvcmNlUGF0Y2hQcm9wLCBjcmVhdGVFbGVtZW50OiBob3N0Q3JlYXRlRWxlbWVudCwgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LCBzZXRUZXh0OiBob3N0U2V0VGV4dCwgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCwgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsIG5leHRTaWJsaW5nOiBob3N0TmV4dFNpYmxpbmcsIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCwgY2xvbmVOb2RlOiBob3N0Q2xvbmVOb2RlLCBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudCB9ID0gb3B0aW9ucztcclxuICAgIC8vIE5vdGU6IGZ1bmN0aW9ucyBpbnNpZGUgdGhpcyBjbG9zdXJlIHNob3VsZCB1c2UgYGNvbnN0IHh4eCA9ICgpID0+IHt9YFxyXG4gICAgLy8gc3R5bGUgaW4gb3JkZXIgdG8gcHJldmVudCBiZWluZyBpbmxpbmVkIGJ5IG1pbmlmaWVycy5cclxuICAgIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIGlzU1ZHID0gZmFsc2UsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgLy8gcGF0Y2hpbmcgJiBub3Qgc2FtZSB0eXBlLCB1bm1vdW50IG9sZCB0cmVlXHJcbiAgICAgICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xyXG4gICAgICAgICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgbjEgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMiAvKiBCQUlMICovKSB7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBUZXh0OlxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxyXG4gICAgICAgICAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRWxlbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBWTm9kZSB0eXBlOicsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCByZWZcclxuICAgICAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxyXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcclxuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaEVsZW1lbnQobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgZWw7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgdm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgaG9zdENsb25lTm9kZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZub2RlIGhhcyBub24tbnVsbCBlbCwgaXQgbWVhbnMgaXQncyBiZWluZyByZXVzZWQuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhdGljIHZub2RlcyBjYW4gYmUgcmV1c2VkLCBzbyBpdHMgbW91bnRlZCBET00gbm9kZXMgc2hvdWxkIGJlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0bHkgdGhlIHNhbWUsIGFuZCB3ZSBjYW4gc2ltcGx5IGRvIGEgY2xvbmUgaGVyZS5cclxuICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGluIHByb2R1Y3Rpb24gc2luY2UgY2xvbmVkIHRyZWVzIGNhbm5vdCBiZSBITVIgdXBkYXRlZC5cclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDbG9uZU5vZGUodm5vZGUuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcywgcHJvcHMpO1xyXG4gICAgICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29wZUlkXHJcbiAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdm5vZGUnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICMxNTgzIEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSBub3QgcmVzb2x2ZWQgY2FzZSwgZW50ZXIgaG9vayBzaG91bGQgY2FsbCB3aGVuIHN1c3BlbnNlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxyXG4gICAgICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gKCFwYXJlbnRTdXNwZW5zZSB8fCAocGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpKSAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcclxuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fFxyXG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxyXG4gICAgICAgICAgICBkaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzY29wZUlkKSB7XHJcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNsb3RTY29wZUlkcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XHJcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgc2xvdFNjb3BlSWRzLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XHJcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxyXG4gICAgICAgIC8vIGNvbXBpbGVyLWdlbmVyYXRlZCB2bm9kZSwgd2hpY2ggZGUtb3B0cyB0byBGVUxMX1BST1BTXHJcbiAgICAgICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi87XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcclxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogQ0xBU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFNUWUxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXHJcbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250YWluZXIgKHBhcmVudCBlbGVtZW50KSBmb3IgdGhlIHBhdGNoLlxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBcclxuICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIEZyYWdtZW50LCB3ZSBuZWVkIHRvIHByb3ZpZGUgdGhlIGFjdHVhbCBwYXJlbnRcclxuICAgICAgICAgICAgLy8gb2YgdGhlIEZyYWdtZW50IGl0c2VsZiBzbyBpdCBjYW4gbW92ZSBpdHMgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgIG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8XHJcbiAgICAgICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBub2RlcywgdGhlcmUgaXMgZ29pbmcgdG8gYmUgYSByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHxcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQsIGl0IGNvdWxkIGNvbnRhaW4gYW55dGhpbmcuXHJcbiAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi9cclxuICAgICAgICAgICAgICAgID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpXHJcbiAgICAgICAgICAgICAgICA6IC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cclxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lcjtcclxuICAgICAgICAgICAgcGF0Y2gob2xkVk5vZGUsIG5ld1ZOb2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaFByb3BzID0gKGVsLCB2bm9kZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgdmFsaWQgcHJvcFxyXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAoaG9zdEZvcmNlUGF0Y2hQcm9wICYmIGhvc3RGb3JjZVBhdGNoUHJvcChlbCwga2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkUHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgIShrZXkgaW4gbmV3UHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgb2xkUHJvcHNba2V5XSwgbnVsbCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IChuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gKG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIHNsb3QgZnJhZ21lbnQgd2l0aCA6c2xvdHRlZCBzY29wZSBpZHNcclxuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcclxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXHJcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXHJcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgLy8gYSBmcmFnbWVudCBjYW4gb25seSBoYXZlIGFycmF5IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgYXJlIGVpdGhlciBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyLCBvciBpbXBsaWNpdGx5IGNyZWF0ZWRcclxuICAgICAgICAgICAgLy8gZnJvbSBhcnJheXMuXHJcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4objIuY2hpbGRyZW4sIGNvbnRhaW5lciwgZnJhZ21lbnRFbmRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovICYmXHJcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gJiZcclxuICAgICAgICAgICAgICAgIC8vICMyNzE1IHRoZSBwcmV2aW91cyBmcmFnbWVudCBjb3VsZCd2ZSBiZWVuIGEgQkFJTGVkIG9uZSBhcyBhIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgLy8gb2YgcmVuZGVyU2xvdCgpIHdpdGggbm8gdmFsaWQgY2hpbGRyZW5cclxuICAgICAgICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgLy8gYSBzdGFibGUgZnJhZ21lbnQgKHRlbXBsYXRlIHJvb3Qgb3IgPHRlbXBsYXRlIHYtZm9yPikgZG9lc24ndCBuZWVkIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBjaGlsZHJlbiBvcmRlciwgYnV0IGl0IG1heSBjb250YWluIGR5bmFtaWNDaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgIC8vICMyMDgwIGlmIHRoZSBzdGFibGUgZnJhZ21lbnQgaGFzIGEga2V5LCBpdCdzIGEgPHRlbXBsYXRlIHYtZm9yPiB0aGF0IG1heVxyXG4gICAgICAgICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cclxuICAgICAgICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxyXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNvbXBvbmVudCBpcyBiZWluZyBtb3ZlZC5cclxuICAgICAgICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhcmVudENvbXBvbmVudCAmJiBuMiA9PT0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUgLyogc2hhbGxvdyAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBrZXllZCAvIHVua2V5ZWQsIG9yIG1hbnVhbCBmcmFnbWVudHMuXHJcbiAgICAgICAgICAgICAgICAvLyBmb3Iga2V5ZWQgJiB1bmtleWVkLCBzaW5jZSB0aGV5IGFyZSBjb21waWxlciBnZW5lcmF0ZWQgZnJvbSB2LWZvcixcclxuICAgICAgICAgICAgICAgIC8vIGVhY2ggY2hpbGQgaXMgZ3VhcmFudGVlZCB0byBiZSBhIGJsb2NrIHNvIHRoZSBmcmFnbWVudCB3aWxsIG5ldmVyXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGR5bmFtaWNDaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgbjIuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguYWN0aXZhdGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoaW5pdGlhbFZOb2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKSk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmplY3QgcmVuZGVyZXIgaW50ZXJuYWxzIGZvciBrZWVwQWxpdmVcclxuICAgICAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5jdHgucmVuZGVyZXIgPSBpbnRlcm5hbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJlc29sdmUgcHJvcHMgYW5kIHNsb3RzIGZvciBzZXR1cCBjb250ZXh0XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldHVwKCkgaXMgYXN5bmMuIFRoaXMgY29tcG9uZW50IHJlbGllcyBvbiBhc3luYyBsb2dpYyB0byBiZSByZXNvbHZlZFxyXG4gICAgICAgIC8vIGJlZm9yZSBwcm9jZWVkaW5nXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCk7XHJcbiAgICAgICAgICAgIC8vIEdpdmUgaXQgYSBwbGFjZWhvbGRlciBpZiB0aGlzIGlzIG5vdCBoeWRyYXRpb25cclxuICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgc2VsZi1kZWZpbmVkIGZhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCkpO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmXHJcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgJiBzdGlsbCBwZW5kaW5nIC0ganVzdCB1cGRhdGUgcHJvcHMgYW5kIHNsb3RzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY29tcG9uZW50J3MgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXIgaXNuJ3Qgc2V0LXVwIHlldFxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XHJcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlIHVwZGF0aW5nIHRoZSBzYW1lIGNoaWxkIGNvbXBvbmVudCBpbiB0aGUgc2FtZSBmbHVzaC5cclxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVKb2IoaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0IHJ1bm5lci5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkLiBqdXN0IGNvcHkgb3ZlciBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgLy8gY3JlYXRlIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyaW5nXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0KGZ1bmN0aW9uIGNvbXBvbmVudEVmZmVjdCgpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChibSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVNb3VudFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJUcmVlID0gKGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGhhcyBhZG9wdGVkIGhvc3Qgbm9kZSAtIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnQuXHJcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZU5vZGUoaW5pdGlhbFZOb2RlLmVsLCBzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlTW91bnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGFjdGl2YXRlZCBob29rIGZvciBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgICAgICAgICAgICAgLy8gIzE3NDIgYWN0aXZhdGVkIGhvb2sgbXVzdCBiZSBhY2Nlc3NlZCBhZnRlciBmaXJzdCByZW5kZXJcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBob29rIG1heSBiZSBpbmplY3RlZCBieSBhIGNoaWxkIGtlZXAtYWxpdmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGEsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gIzI0NTg6IGRlZmVyZW5jZSBtb3VudC1vbmx5IG9iamVjdCBwYXJhbWV0ZXJzIHRvIHByZXZlbnQgbWVtbGVha3NcclxuICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZSA9IGNvbnRhaW5lciA9IGFuY2hvciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVDb21wb25lbnRcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdHJpZ2dlcmVkIGJ5IG11dGF0aW9uIG9mIGNvbXBvbmVudCdzIG93biBzdGF0ZSAobmV4dDogbnVsbClcclxuICAgICAgICAgICAgICAgIC8vIE9SIHBhcmVudCBjYWxsaW5nIHByb2Nlc3NDb21wb25lbnQgKG5leHQ6IFZOb2RlKVxyXG4gICAgICAgICAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVVcGRhdGUgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZVVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlbmRlclxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoKHByZXZUcmVlLCBuZXh0VHJlZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcclxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSwgXHJcbiAgICAgICAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcclxuICAgICAgICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLXRyaWdnZXJlZCB1cGRhdGUuIEluIGNhc2Ugb2YgSE9DLCB1cGRhdGUgcGFyZW50IGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGVsLiBIT0MgaXMgaW5kaWNhdGVkIGJ5IHBhcmVudCBpbnN0YW5jZSdzIHN1YlRyZWUgcG9pbnRpbmdcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGlsZCBjb21wb25lbnQncyB2bm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAodSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlVXBkYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEZXZFZmZlY3RPcHRpb25zKGluc3RhbmNlKSA6IHByb2RFZmZlY3RPcHRpb25zKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xyXG4gICAgICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xyXG4gICAgICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcclxuICAgICAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAvLyBwcm9wcyB1cGRhdGUgbWF5IGhhdmUgdHJpZ2dlcmVkIHByZS1mbHVzaCB3YXRjaGVycy5cclxuICAgICAgICAvLyBmbHVzaCB0aGVtIGJlZm9yZSB0aGUgcmVuZGVyIHVwZGF0ZS5cclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHVuZGVmaW5lZCwgaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcclxuICAgICAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aFxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bGQgYmUgZWl0aGVyIGZ1bGx5LWtleWVkIG9yIG1peGVkIChzb21lIGtleWVkIHNvbWUgbm90KVxyXG4gICAgICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgcGF0Y2hGbGFnIG1lYW5zIGNoaWxkcmVuIGFyZSBndWFyYW50ZWVkIHRvIGJlIGFycmF5c1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIHVua2V5ZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoVW5rZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hpbGRyZW4gaGFzIDMgcG9zc2liaWxpdGllczogdGV4dCwgYXJyYXkgb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogVEVYVF9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAvLyB0ZXh0IGNoaWxkcmVuIGZhc3QgcGF0aFxyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjMiAhPT0gYzEpIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBhcnJheXMsIGNhbm5vdCBhc3N1bWUgYW55dGhpbmcsIGRvIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmV3IGNoaWxkcmVuLCBqdXN0IHVubW91bnQgb2xkXHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHByZXYgY2hpbGRyZW4gd2FzIHRleHQgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgLy8gbmV3IGNoaWxkcmVuIGlzIGFycmF5IE9SIG51bGxcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnQgbmV3IGlmIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaFVua2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcclxuICAgICAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcclxuICAgICAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xyXG4gICAgICAgICAgICBwYXRjaChjMVtpXSwgbmV4dENoaWxkLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZFxyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsIGZhbHNlLCBjb21tb25MZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbW91bnQgbmV3XHJcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGNvbW1vbkxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGNhbiBiZSBhbGwta2V5ZWQgb3IgbWl4ZWRcclxuICAgIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTsgLy8gcHJldiBlbmRpbmcgaW5kZXhcclxuICAgICAgICBsZXQgZTIgPSBsMiAtIDE7IC8vIG5leHQgZW5kaW5nIGluZGV4XHJcbiAgICAgICAgLy8gMS4gc3luYyBmcm9tIHN0YXJ0XHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIChhIGIpIGQgZVxyXG4gICAgICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtpXTtcclxuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDIuIHN5bmMgZnJvbSBlbmRcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gZCBlIChiIGMpXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2UxXTtcclxuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbZTJdID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlMS0tO1xyXG4gICAgICAgICAgICBlMi0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAzLiBjb21tb24gc2VxdWVuY2UgKyBtb3VudFxyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDEsIGUyID0gMlxyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gYyAoYSBiKVxyXG4gICAgICAgIC8vIGkgPSAwLCBlMSA9IC0xLCBlMiA9IDBcclxuICAgICAgICBpZiAoaSA+IGUxKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSksIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA0LiBjb21tb24gc2VxdWVuY2UgKyB1bm1vdW50XHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMiwgZTIgPSAxXHJcbiAgICAgICAgLy8gYSAoYiBjKVxyXG4gICAgICAgIC8vIChiIGMpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gMCwgZTIgPSAtMVxyXG4gICAgICAgIGVsc2UgaWYgKGkgPiBlMikge1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBlMSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gNS4gdW5rbm93biBzZXF1ZW5jZVxyXG4gICAgICAgIC8vIFtpIC4uLiBlMSArIDFdOiBhIGIgW2MgZCBlXSBmIGdcclxuICAgICAgICAvLyBbaSAuLi4gZTIgKyAxXTogYSBiIFtlIGQgYyBoXSBmIGdcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSA0LCBlMiA9IDVcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgczEgPSBpOyAvLyBwcmV2IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIGNvbnN0IHMyID0gaTsgLy8gbmV4dCBzdGFydGluZyBpbmRleFxyXG4gICAgICAgICAgICAvLyA1LjEgYnVpbGQga2V5OmluZGV4IG1hcCBmb3IgbmV3Q2hpbGRyZW5cclxuICAgICAgICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLCBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNS4yIGxvb3AgdGhyb3VnaCBvbGQgY2hpbGRyZW4gbGVmdCB0byBiZSBwYXRjaGVkIGFuZCB0cnkgdG8gcGF0Y2hcclxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgbm9kZXMgJiByZW1vdmUgbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnRcclxuICAgICAgICAgICAgbGV0IGo7XHJcbiAgICAgICAgICAgIGxldCBwYXRjaGVkID0gMDtcclxuICAgICAgICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcclxuICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHVzZWQgdG8gdHJhY2sgd2hldGhlciBhbnkgbm9kZSBoYXMgbW92ZWRcclxuICAgICAgICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xyXG4gICAgICAgICAgICAvLyB3b3JrcyBhcyBNYXA8bmV3SW5kZXgsIG9sZEluZGV4PlxyXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgb2xkSW5kZXggaXMgb2Zmc2V0IGJ5ICsxXHJcbiAgICAgICAgICAgIC8vIGFuZCBvbGRJbmRleCA9IDAgaXMgYSBzcGVjaWFsIHZhbHVlIGluZGljYXRpbmcgdGhlIG5ldyBub2RlIGhhc1xyXG4gICAgICAgICAgICAvLyBubyBjb3JyZXNwb25kaW5nIG9sZCBub2RlLlxyXG4gICAgICAgICAgICAvLyB1c2VkIGZvciBkZXRlcm1pbmluZyBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKylcclxuICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbmV3IGNoaWxkcmVuIGhhdmUgYmVlbiBwYXRjaGVkIHNvIHRoaXMgY2FuIG9ubHkgYmUgYSByZW1vdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZXktbGVzcyBub2RlLCB0cnkgdG8gbG9jYXRlIGEga2V5LWxlc3Mgbm9kZSBvZiB0aGUgc2FtZSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gocHJldkNoaWxkLCBjMltuZXdJbmRleF0sIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNS4zIG1vdmUgYW5kIG1vdW50XHJcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlIG9ubHkgd2hlbiBub2RlcyBoYXZlIG1vdmVkXHJcbiAgICAgICAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWRcclxuICAgICAgICAgICAgICAgID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKVxyXG4gICAgICAgICAgICAgICAgOiBFTVBUWV9BUlI7XHJcbiAgICAgICAgICAgIGogPSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAvLyBsb29waW5nIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiB1c2UgbGFzdCBwYXRjaGVkIG5vZGUgYXMgYW5jaG9yXHJcbiAgICAgICAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyBjMltuZXh0SW5kZXggKyAxXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXdcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGlmOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIHN0YWJsZSBzdWJzZXF1ZW5jZSAoZS5nLiBhIHJldmVyc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgY3VycmVudCBub2RlIGlzIG5vdCBhbW9uZyB0aGUgc3RhYmxlIHNlcXVlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMiAvKiBSRU9SREVSICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGotLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcclxuICAgICAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLm1vdmUoY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgdHlwZS5tb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xyXG4gICAgICAgICAgICBtb3ZlU3RhdGljTm9kZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNpbmdsZSBub2Rlc1xyXG4gICAgICAgIGNvbnN0IG5lZWRUcmFuc2l0aW9uID0gbW92ZVR5cGUgIT09IDIgLyogUkVPUkRFUiAqLyAmJlxyXG4gICAgICAgICAgICBzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiZcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjtcclxuICAgICAgICBpZiAobmVlZFRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKG1vdmVUeXBlID09PSAwIC8qIEVOVEVSICovKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB0cmFuc2l0aW9uLmVudGVyKGVsKSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSwgYWZ0ZXJMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9ICgpID0+IGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheUxlYXZlKGVsLCByZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHJlZiwgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHVuc2V0IHJlZlxyXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiBkaXJzO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgaW50ZXJuYWxzLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcclxuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggZm9yIGJsb2NrIG5vZGVzOiBvbmx5IG5lZWQgdG8gdW5tb3VudCBkeW5hbWljIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGR5bmFtaWNDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcclxuICAgICAgICAgICAgICAgICghb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGVyZm9ybVJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xyXG4gICAgICAgIC8vIEZvciBmcmFnbWVudHMsIGRpcmVjdGx5IHJlbW92ZSBhbGwgY29udGFpbmVkIERPTSBub2Rlcy5cclxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoZW5kKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBidW0sIGVmZmVjdHMsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xyXG4gICAgICAgIGlmIChidW0pIHtcclxuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wKGVmZmVjdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xyXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cclxuICAgICAgICBpZiAodXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHN0b3AodXBkYXRlKTtcclxuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcclxuICAgICAgICBpZiAodW0pIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXHJcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxyXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cclxuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiZcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJlxyXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcclxuICAgICAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2goY29udGFpbmVyLl92bm9kZSB8fCBudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBudWxsLCBudWxsLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGludGVybmFscyA9IHtcclxuICAgICAgICBwOiBwYXRjaCxcclxuICAgICAgICB1bTogdW5tb3VudCxcclxuICAgICAgICBtOiBtb3ZlLFxyXG4gICAgICAgIHI6IHJlbW92ZSxcclxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXHJcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXHJcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXHJcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXHJcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxyXG4gICAgICAgIG86IG9wdGlvbnNcclxuICAgIH07XHJcbiAgICBsZXQgaHlkcmF0ZTtcclxuICAgIGxldCBoeWRyYXRlTm9kZTtcclxuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcixcclxuICAgICAgICBoeWRyYXRlLFxyXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogVk5PREVfSE9PSyAqLywgW1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHByZXZWTm9kZVxyXG4gICAgXSk7XHJcbn1cclxuLyoqXHJcbiAqICMxMTU2XHJcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xyXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxyXG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cclxuICpcclxuICogIzIwODBcclxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxyXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgbW92ZWQgc28gdGhhdCBuZWVkIGluaGVyaXQgZWwgZm9ybSBwcmV2aW91cyBub2Rlc1xyXG4gKiB0byBlbnN1cmUgY29ycmVjdCBtb3ZlZCBwb3NpdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XHJcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcclxuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xyXG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxyXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcclxuICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXHJcbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xyXG4gICAgY29uc3QgcCA9IGFyci5zbGljZSgpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gWzBdO1xyXG4gICAgbGV0IGksIGosIHUsIHYsIGM7XHJcbiAgICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYXJySSA9IGFycltpXTtcclxuICAgICAgICBpZiAoYXJySSAhPT0gMCkge1xyXG4gICAgICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSBqO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1ID0gMDtcclxuICAgICAgICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAodSA8IHYpIHtcclxuICAgICAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1ID0gYyArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwW2ldID0gcmVzdWx0W3UgLSAxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcclxuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgd2hpbGUgKHUtLSA+IDApIHtcclxuICAgICAgICByZXN1bHRbdV0gPSB2O1xyXG4gICAgICAgIHYgPSBwW3ZdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxuXG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xyXG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gJycpO1xyXG5jb25zdCBpc1RhcmdldFNWRyA9ICh0YXJnZXQpID0+IHR5cGVvZiBTVkdFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xyXG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XHJcbiAgICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XHJcbiAgICAgICAgaWYgKCFzZWxlY3QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcclxuICAgIF9faXNUZWxlcG9ydDogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcclxuICAgICAgICBjb25zdCB7IG1jOiBtb3VudENoaWxkcmVuLCBwYzogcGF0Y2hDaGlsZHJlbiwgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH0gfSA9IGludGVybmFscztcclxuICAgICAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XHJcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSBuMjtcclxuICAgICAgICAvLyAjMzMwMlxyXG4gICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIGluc2VydCBhbmNob3JzIGluIHRoZSBtYWluIHZpZXdcclxuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAobjIuZWwgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgc3RhcnQnKVxyXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbW1lbnQoJ3RlbGVwb3J0IGVuZCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGluc2VydCh0YXJnZXRBbmNob3IsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAvLyAjMjY1MiB3ZSBjb3VsZCBiZSB0ZWxlcG9ydGluZyBmcm9tIGEgbm9uLVNWRyB0cmVlIGludG8gYW4gU1ZHIHRyZWVcclxuICAgICAgICAgICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgKmFsd2F5cyogaGFzIEFycmF5IGNoaWxkcmVuLiBUaGlzIGlzIGVuZm9yY2VkIGluIGJvdGggdGhlXHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlciBhbmQgdm5vZGUgY2hpbGRyZW4gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb250ZW50XHJcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gbjEuYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IG4xLnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBuMS50YXJnZXRBbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB3YXNEaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMS5wcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB3YXNEaXNhYmxlZCA/IGNvbnRhaW5lciA6IHRhcmdldDtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcclxuICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAobjIuZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggd2hlbiB0aGUgdGVsZXBvcnQgaGFwcGVucyB0byBiZSBhIGJsb2NrIHJvb3RcclxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIG4yLmR5bmFtaWNDaGlsZHJlbiwgY3VycmVudENvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBldmVuIGluIGJsb2NrIHRyZWUgbW9kZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBhbGwgcm9vdC1sZXZlbCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIHRlbGVwb3J0IGluaGVyaXQgcHJldmlvdXMgRE9NIHJlZmVyZW5jZXMgc28gdGhhdCB0aGV5IGNhblxyXG4gICAgICAgICAgICAgICAgLy8gYmUgbW92ZWQgaW4gZnV0dXJlIHBhdGNoZXMuXHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGN1cnJlbnRDb250YWluZXIsIGN1cnJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkIC0+IGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIG1haW4gY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBjb250YWluZXIsIG1haW5BbmNob3IsIGludGVybmFscywgMSAvKiBUT0dHTEUgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdGFyZ2V0IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBuZXh0VGFyZ2V0LCBudWxsLCBpbnRlcm5hbHMsIDAgLyogVEFSR0VUX0NIQU5HRSAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6JywgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2FzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlZCAtPiBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIHRlbGVwb3J0IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgdGFyZ2V0LCB0YXJnZXRBbmNob3IsIGludGVybmFscywgMSAvKiBUT0dHTEUgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XHJcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBhbmNob3IsIHRhcmdldEFuY2hvciwgdGFyZ2V0LCBwcm9wcyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKHRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFuIHVubW91bnRlZCB0ZWxlcG9ydCBzaG91bGQgYWx3YXlzIHJlbW92ZSBpdHMgY2hpbGRyZW4gaWYgbm90IGRpc2FibGVkXHJcbiAgICAgICAgaWYgKGRvUmVtb3ZlIHx8ICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcclxufTtcclxuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBSRU9SREVSICovKSB7XHJcbiAgICAvLyBtb3ZlIHRhcmdldCBhbmNob3IgaWYgdGhpcyBpcyBhIHRhcmdldCBjaGFuZ2UuXHJcbiAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogVEFSR0VUX0NIQU5HRSAqLykge1xyXG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogUkVPUkRFUiAqLztcclxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXHJcbiAgICBpZiAoaXNSZW9yZGVyKSB7XHJcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiB0aGlzIGlzIGEgcmUtb3JkZXIgYW5kIHRlbGVwb3J0IGlzIGVuYWJsZWQgKGNvbnRlbnQgaXMgaW4gdGFyZ2V0KVxyXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcclxuICAgIC8vIGlzIG5vdCBhIHJlb3JkZXIsIG9yIHRoZSB0ZWxlcG9ydCBpcyBkaXNhYmxlZFxyXG4gICAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xyXG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xyXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQuX2xwYSA9XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XHJcbn1cclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5cbmNvbnN0IENPTVBPTkVOVFMgPSAnY29tcG9uZW50cyc7XHJcbmNvbnN0IERJUkVDVElWRVMgPSAnZGlyZWN0aXZlcyc7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xyXG59XHJcbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcclxuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcclxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFxyXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IGZvciBjb21wb25lbnRzIHdpdGggbWl4aW4gb3IgZXh0ZW5kcy5cclxuICAgICAgICByZXNvbHZlKGluc3RhbmNlW3R5cGVdIHx8IENvbXBvbmVudFt0eXBlXSwgbmFtZSkgfHxcclxuICAgICAgICAgICAgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpO1xyXG4gICAgICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xyXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0byBpbXBsaWNpdCBzZWxmLXJlZmVyZW5jZVxyXG4gICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcclxuICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIHJlc29sdmUgJHt0eXBlLnNsaWNlKDAsIC0xKX06ICR7bmFtZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBgICtcclxuICAgICAgICAgICAgYGNhbiBvbmx5IGJlIHVzZWQgaW4gcmVuZGVyKCkgb3Igc2V0dXAoKS5gKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XHJcbiAgICByZXR1cm4gKHJlZ2lzdHJ5ICYmXHJcbiAgICAgICAgKHJlZ2lzdHJ5W25hbWVdIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhbWVsaXplKG5hbWUpXSB8fFxyXG4gICAgICAgICAgICByZWdpc3RyeVtjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKV0pKTtcclxufVxuXG5jb25zdCBGcmFnbWVudCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnRnJhZ21lbnQnIDogdW5kZWZpbmVkKTtcclxuY29uc3QgVGV4dCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnVGV4dCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBDb21tZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdDb21tZW50JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnU3RhdGljJyA6IHVuZGVmaW5lZCk7XHJcbi8vIFNpbmNlIHYtaWYgYW5kIHYtZm9yIGFyZSB0aGUgdHdvIHBvc3NpYmxlIHdheXMgbm9kZSBzdHJ1Y3R1cmUgY2FuIGR5bmFtaWNhbGx5XHJcbi8vIGNoYW5nZSwgb25jZSB3ZSBjb25zaWRlciB2LWlmIGJyYW5jaGVzIGFuZCBlYWNoIHYtZm9yIGZyYWdtZW50IGEgYmxvY2ssIHdlXHJcbi8vIGNhbiBkaXZpZGUgYSB0ZW1wbGF0ZSBpbnRvIG5lc3RlZCBibG9ja3MsIGFuZCB3aXRoaW4gZWFjaCBibG9jayB0aGUgbm9kZVxyXG4vLyBzdHJ1Y3R1cmUgd291bGQgYmUgc3RhYmxlLiBUaGlzIGFsbG93cyB1cyB0byBza2lwIG1vc3QgY2hpbGRyZW4gZGlmZmluZ1xyXG4vLyBhbmQgb25seSB3b3JyeSBhYm91dCB0aGUgZHluYW1pYyBub2RlcyAoaW5kaWNhdGVkIGJ5IHBhdGNoIGZsYWdzKS5cclxuY29uc3QgYmxvY2tTdGFjayA9IFtdO1xyXG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcclxuLyoqXHJcbiAqIE9wZW4gYSBibG9jay5cclxuICogVGhpcyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYC4gSXQgY2Fubm90IGJlIHBhcnQgb2YgYGNyZWF0ZUJsb2NrYFxyXG4gKiBiZWNhdXNlIHRoZSBjaGlsZHJlbiBvZiB0aGUgYmxvY2sgYXJlIGV2YWx1YXRlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYCBpdHNlbGZcclxuICogaXMgY2FsbGVkLiBUaGUgZ2VuZXJhdGVkIGNvZGUgdHlwaWNhbGx5IGxvb2tzIGxpa2UgdGhpczpcclxuICpcclxuICogYGBganNcclxuICogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gKiAgIHJldHVybiAob3BlbkJsb2NrKCksY3JlYXRlQmxvY2soJ2RpdicsIG51bGwsIFsuLi5dKSlcclxuICogfVxyXG4gKiBgYGBcclxuICogZGlzYWJsZVRyYWNraW5nIGlzIHRydWUgd2hlbiBjcmVhdGluZyBhIHYtZm9yIGZyYWdtZW50IGJsb2NrLCBzaW5jZSBhIHYtZm9yXHJcbiAqIGZyYWdtZW50IGFsd2F5cyBkaWZmcyBpdHMgY2hpbGRyZW4uXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBvcGVuQmxvY2soZGlzYWJsZVRyYWNraW5nID0gZmFsc2UpIHtcclxuICAgIGJsb2NrU3RhY2sucHVzaCgoY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKSk7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcclxuICAgIGJsb2NrU3RhY2sucG9wKCk7XHJcbiAgICBjdXJyZW50QmxvY2sgPSBibG9ja1N0YWNrW2Jsb2NrU3RhY2subGVuZ3RoIC0gMV0gfHwgbnVsbDtcclxufVxyXG4vLyBXaGV0aGVyIHdlIHNob3VsZCBiZSB0cmFja2luZyBkeW5hbWljIGNoaWxkIG5vZGVzIGluc2lkZSBhIGJsb2NrLlxyXG4vLyBPbmx5IHRyYWNrcyB3aGVuIHRoaXMgdmFsdWUgaXMgPiAwXHJcbi8vIFdlIGFyZSBub3QgdXNpbmcgYSBzaW1wbGUgYm9vbGVhbiBiZWNhdXNlIHRoaXMgdmFsdWUgbWF5IG5lZWQgdG8gYmVcclxuLy8gaW5jcmVtZW50ZWQvZGVjcmVtZW50ZWQgYnkgbmVzdGVkIHVzYWdlIG9mIHYtb25jZSAoc2VlIGJlbG93KVxyXG5sZXQgc2hvdWxkVHJhY2sgPSAxO1xyXG4vKipcclxuICogQmxvY2sgdHJhY2tpbmcgc29tZXRpbWVzIG5lZWRzIHRvIGJlIGRpc2FibGVkLCBmb3IgZXhhbXBsZSBkdXJpbmcgdGhlXHJcbiAqIGNyZWF0aW9uIG9mIGEgdHJlZSB0aGF0IG5lZWRzIHRvIGJlIGNhY2hlZCBieSB2LW9uY2UuIFRoZSBjb21waWxlciBnZW5lcmF0ZXNcclxuICogY29kZSBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYCBqc1xyXG4gKiBfY2FjaGVbMV0gfHwgKFxyXG4gKiAgIHNldEJsb2NrVHJhY2tpbmcoLTEpLFxyXG4gKiAgIF9jYWNoZVsxXSA9IGNyZWF0ZVZOb2RlKC4uLiksXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygxKSxcclxuICogICBfY2FjaGVbMV1cclxuICogKVxyXG4gKiBgYGBcclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUpIHtcclxuICAgIHNob3VsZFRyYWNrICs9IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBibG9jayByb290IHZub2RlLiBUYWtlcyB0aGUgc2FtZSBleGFjdCBhcmd1bWVudHMgYXMgYGNyZWF0ZVZOb2RlYC5cclxuICogQSBibG9jayByb290IGtlZXBzIHRyYWNrIG9mIGR5bmFtaWMgbm9kZXMgd2l0aGluIHRoZSBibG9jayBpbiB0aGVcclxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKTtcclxuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcclxuICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlI7XHJcbiAgICAvLyBjbG9zZSBibG9ja1xyXG4gICAgY2xvc2VCbG9jaygpO1xyXG4gICAgLy8gYSBibG9jayBpcyBhbHdheXMgZ29pbmcgdG8gYmUgcGF0Y2hlZCwgc28gdHJhY2sgaXQgYXMgYSBjaGlsZCBvZiBpdHNcclxuICAgIC8vIHBhcmVudCBibG9ja1xyXG4gICAgaWYgKHNob3VsZFRyYWNrID4gMCAmJiBjdXJyZW50QmxvY2spIHtcclxuICAgICAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlID8gdmFsdWUuX192X2lzVk5vZGUgPT09IHRydWUgOiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgbjIuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gJiZcclxuICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuaGFzKG4yLnR5cGUpKSB7XHJcbiAgICAgICAgLy8gSE1SIG9ubHk6IGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gaG90LXVwZGF0ZWQsIGZvcmNlIGEgcmVsb2FkLlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xyXG59XHJcbmxldCB2bm9kZUFyZ3NUcmFuc2Zvcm1lcjtcclxuLyoqXHJcbiAqIEludGVybmFsIEFQSSBmb3IgcmVnaXN0ZXJpbmcgYW4gYXJndW1lbnRzIHRyYW5zZm9ybSBmb3IgY3JlYXRlVk5vZGVcclxuICogdXNlZCBmb3IgY3JlYXRpbmcgc3R1YnMgaW4gdGhlIHRlc3QtdXRpbHNcclxuICogSXQgaXMgKmludGVybmFsKiBidXQgbmVlZHMgdG8gYmUgZXhwb3NlZCBmb3IgdGVzdC11dGlscyB0byBwaWNrIHVwIHByb3BlclxyXG4gKiB0eXBpbmdzXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcclxuICAgIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XHJcbn1cclxuY29uc3QgY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICByZXR1cm4gX2NyZWF0ZVZOb2RlKC4uLih2bm9kZUFyZ3NUcmFuc2Zvcm1lclxyXG4gICAgICAgID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKVxyXG4gICAgICAgIDogYXJncykpO1xyXG59O1xyXG5jb25zdCBJbnRlcm5hbE9iamVjdEtleSA9IGBfX3ZJbnRlcm5hbGA7XHJcbmNvbnN0IG5vcm1hbGl6ZUtleSA9ICh7IGtleSB9KSA9PiBrZXkgIT0gbnVsbCA/IGtleSA6IG51bGw7XHJcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7IHJlZiB9KSA9PiB7XHJcbiAgICByZXR1cm4gKHJlZiAhPSBudWxsXHJcbiAgICAgICAgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpXHJcbiAgICAgICAgICAgID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiB9XHJcbiAgICAgICAgICAgIDogcmVmXHJcbiAgICAgICAgOiBudWxsKTtcclxufTtcclxuY29uc3QgY3JlYXRlVk5vZGUgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm1cclxuICAgIDogX2NyZWF0ZVZOb2RlKTtcclxuZnVuY3Rpb24gX2NyZWF0ZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBpc0Jsb2NrTm9kZSA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXR5cGUpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCB2bm9kZSB0eXBlIHdoZW4gY3JlYXRpbmcgdm5vZGU6ICR7dHlwZX0uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHR5cGUgPSBDb21tZW50O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVk5vZGUodHlwZSkpIHtcclxuICAgICAgICAvLyBjcmVhdGVWTm9kZSByZWNlaXZpbmcgYW4gZXhpc3Rpbmcgdm5vZGUuIFRoaXMgaGFwcGVucyBpbiBjYXNlcyBsaWtlXHJcbiAgICAgICAgLy8gPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiLz5cclxuICAgICAgICAvLyAjMjA3OCBtYWtlIHN1cmUgdG8gbWVyZ2UgcmVmcyBkdXJpbmcgdGhlIGNsb25lIGluc3RlYWQgb2Ygb3ZlcndyaXRpbmcgaXRcclxuICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHR5cGUsIHByb3BzLCB0cnVlIC8qIG1lcmdlUmVmOiB0cnVlICovKTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBjbGFzcyBjb21wb25lbnQgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChpc0NsYXNzQ29tcG9uZW50KHR5cGUpKSB7XHJcbiAgICAgICAgdHlwZSA9IHR5cGUuX192Y2NPcHRzO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgJiBzdHlsZSBub3JtYWxpemF0aW9uLlxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgLy8gZm9yIHJlYWN0aXZlIG9yIHByb3h5IG9iamVjdHMsIHdlIG5lZWQgdG8gY2xvbmUgaXQgdG8gZW5hYmxlIG11dGF0aW9uLlxyXG4gICAgICAgIGlmIChpc1Byb3h5KHByb3BzKSB8fCBJbnRlcm5hbE9iamVjdEtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICBwcm9wcyA9IGV4dGVuZCh7fSwgcHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcclxuICAgICAgICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xyXG4gICAgICAgICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xyXG4gICAgICAgICAgICAvLyByZWFjdGl2ZSBzdGF0ZSBvYmplY3RzIG5lZWQgdG8gYmUgY2xvbmVkIHNpbmNlIHRoZXkgYXJlIGxpa2VseSB0byBiZVxyXG4gICAgICAgICAgICAvLyBtdXRhdGVkXHJcbiAgICAgICAgICAgIGlmIChpc1Byb3h5KHN0eWxlKSAmJiAhaXNBcnJheShzdHlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZW5jb2RlIHRoZSB2bm9kZSB0eXBlIGluZm9ybWF0aW9uIGludG8gYSBiaXRtYXBcclxuICAgIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpXHJcbiAgICAgICAgPyAxIC8qIEVMRU1FTlQgKi9cclxuICAgICAgICA6IGlzU3VzcGVuc2UodHlwZSlcclxuICAgICAgICAgICAgPyAxMjggLyogU1VTUEVOU0UgKi9cclxuICAgICAgICAgICAgOiBpc1RlbGVwb3J0KHR5cGUpXHJcbiAgICAgICAgICAgICAgICA/IDY0IC8qIFRFTEVQT1JUICovXHJcbiAgICAgICAgICAgICAgICA6IGlzT2JqZWN0KHR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbih0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDIgLyogRlVOQ1RJT05BTF9DT01QT05FTlQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJiBpc1Byb3h5KHR5cGUpKSB7XHJcbiAgICAgICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xyXG4gICAgICAgIHdhcm4oYFZ1ZSByZWNlaXZlZCBhIENvbXBvbmVudCB3aGljaCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gYCArXHJcbiAgICAgICAgICAgIGBsZWFkIHRvIHVubmVjZXNzYXJ5IHBlcmZvcm1hbmNlIG92ZXJoZWFkLCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgYCArXHJcbiAgICAgICAgICAgIGBtYXJraW5nIHRoZSBjb21wb25lbnQgd2l0aCBcXGBtYXJrUmF3XFxgIG9yIHVzaW5nIFxcYHNoYWxsb3dSZWZcXGAgYCArXHJcbiAgICAgICAgICAgIGBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLCBgXFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgdm5vZGUgPSB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgW1wiX192X3NraXBcIiAvKiBTS0lQICovXTogdHJ1ZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHByb3BzLFxyXG4gICAgICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcclxuICAgICAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXHJcbiAgICAgICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXHJcbiAgICAgICAgc2xvdFNjb3BlSWRzOiBudWxsLFxyXG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxyXG4gICAgICAgIGNvbXBvbmVudDogbnVsbCxcclxuICAgICAgICBzdXNwZW5zZTogbnVsbCxcclxuICAgICAgICBzc0NvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgc3NGYWxsYmFjazogbnVsbCxcclxuICAgICAgICBkaXJzOiBudWxsLFxyXG4gICAgICAgIHRyYW5zaXRpb246IG51bGwsXHJcbiAgICAgICAgZWw6IG51bGwsXHJcbiAgICAgICAgYW5jaG9yOiBudWxsLFxyXG4gICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IG51bGwsXHJcbiAgICAgICAgc3RhdGljQ291bnQ6IDAsXHJcbiAgICAgICAgc2hhcGVGbGFnLFxyXG4gICAgICAgIHBhdGNoRmxhZyxcclxuICAgICAgICBkeW5hbWljUHJvcHMsXHJcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IG51bGxcclxuICAgIH07XHJcbiAgICAvLyB2YWxpZGF0ZSBrZXlcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcclxuICAgICAgICB3YXJuKGBWTm9kZSBjcmVhdGVkIHdpdGggaW52YWxpZCBrZXkgKE5hTikuIFZOb2RlIHR5cGU6YCwgdm5vZGUudHlwZSk7XHJcbiAgICB9XHJcbiAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pO1xyXG4gICAgLy8gbm9ybWFsaXplIHN1c3BlbnNlIGNoaWxkcmVuXHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50LCBmYWxsYmFjayB9ID0gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50ID0gY29udGVudDtcclxuICAgICAgICB2bm9kZS5zc0ZhbGxiYWNrID0gZmFsbGJhY2s7XHJcbiAgICB9XHJcbiAgICBpZiAoc2hvdWxkVHJhY2sgPiAwICYmXHJcbiAgICAgICAgLy8gYXZvaWQgYSBibG9jayBub2RlIGZyb20gdHJhY2tpbmcgaXRzZWxmXHJcbiAgICAgICAgIWlzQmxvY2tOb2RlICYmXHJcbiAgICAgICAgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXHJcbiAgICAgICAgY3VycmVudEJsb2NrICYmXHJcbiAgICAgICAgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cclxuICAgICAgICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcclxuICAgICAgICAvLyBjb21wb25lbnQgZG9lc24ndCBuZWVkIHRvIHVwZGF0ZSwgaXQgbmVlZHMgdG8gcGVyc2lzdCB0aGUgaW5zdGFuY2Ugb24gdG9cclxuICAgICAgICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXHJcbiAgICAgICAgKHBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXHJcbiAgICAgICAgLy8gdm5vZGUgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGR5bmFtaWMgZHVlIHRvIGhhbmRsZXIgY2FjaGluZy5cclxuICAgICAgICBwYXRjaEZsYWcgIT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIGNsb25lVk5vZGUodm5vZGUsIGV4dHJhUHJvcHMsIG1lcmdlUmVmID0gZmFsc2UpIHtcclxuICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBOT1QgdXNpbmcgc3ByZWFkIG9yIGV4dGVuZCB0byBhdm9pZCB0aGUgcnVudGltZVxyXG4gICAgLy8ga2V5IGVudW1lcmF0aW9uIGNvc3QuXHJcbiAgICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xyXG4gICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgW1wiX192X3NraXBcIiAvKiBTS0lQICovXTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiB2bm9kZS50eXBlLFxyXG4gICAgICAgIHByb3BzOiBtZXJnZWRQcm9wcyxcclxuICAgICAgICBrZXk6IG1lcmdlZFByb3BzICYmIG5vcm1hbGl6ZUtleShtZXJnZWRQcm9wcyksXHJcbiAgICAgICAgcmVmOiBleHRyYVByb3BzICYmIGV4dHJhUHJvcHMucmVmXHJcbiAgICAgICAgICAgID8gLy8gIzIwNzggaW4gdGhlIGNhc2Ugb2YgPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiIHJlZj1cImV4dHJhXCIvPlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZub2RlIGl0c2VsZiBhbHJlYWR5IGhhcyBhIHJlZiwgY2xvbmVWTm9kZSB3aWxsIG5lZWQgdG8gbWVyZ2VcclxuICAgICAgICAgICAgICAgIC8vIHRoZSByZWZzIHNvIHRoZSBzaW5nbGUgdm5vZGUgY2FuIGJlIHNldCBvbiBtdWx0aXBsZSByZWZzXHJcbiAgICAgICAgICAgICAgICBtZXJnZVJlZiAmJiByZWZcclxuICAgICAgICAgICAgICAgICAgICA/IGlzQXJyYXkocmVmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV1cclxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxyXG4gICAgICAgICAgICA6IHJlZixcclxuICAgICAgICBzY29wZUlkOiB2bm9kZS5zY29wZUlkLFxyXG4gICAgICAgIHNsb3RTY29wZUlkczogdm5vZGUuc2xvdFNjb3BlSWRzLFxyXG4gICAgICAgIGNoaWxkcmVuOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGF0Y2hGbGFnID09PSAtMSAvKiBIT0lTVEVEICovICYmIGlzQXJyYXkoY2hpbGRyZW4pXHJcbiAgICAgICAgICAgID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKVxyXG4gICAgICAgICAgICA6IGNoaWxkcmVuLFxyXG4gICAgICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxyXG4gICAgICAgIHRhcmdldEFuY2hvcjogdm5vZGUudGFyZ2V0QW5jaG9yLFxyXG4gICAgICAgIHN0YXRpY0NvdW50OiB2bm9kZS5zdGF0aWNDb3VudCxcclxuICAgICAgICBzaGFwZUZsYWc6IHZub2RlLnNoYXBlRmxhZyxcclxuICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIHdpdGggZXh0cmEgcHJvcHMsIHdlIGNhbiBubyBsb25nZXIgYXNzdW1lIGl0c1xyXG4gICAgICAgIC8vIGV4aXN0aW5nIHBhdGNoIGZsYWcgdG8gYmUgcmVsaWFibGUgYW5kIG5lZWQgdG8gYWRkIHRoZSBGVUxMX1BST1BTIGZsYWcuXHJcbiAgICAgICAgLy8gbm90ZTogcGVyc2VydmUgZmxhZyBmb3IgZnJhZ21lbnRzIHNpbmNlIHRoZXkgdXNlIHRoZSBmbGFnIGZvciBjaGlsZHJlblxyXG4gICAgICAgIC8vIGZhc3QgcGF0aHMgb25seS5cclxuICAgICAgICBwYXRjaEZsYWc6IGV4dHJhUHJvcHMgJiYgdm5vZGUudHlwZSAhPT0gRnJhZ21lbnRcclxuICAgICAgICAgICAgPyBwYXRjaEZsYWcgPT09IC0xIC8vIGhvaXN0ZWQgbm9kZVxyXG4gICAgICAgICAgICAgICAgPyAxNiAvKiBGVUxMX1BST1BTICovXHJcbiAgICAgICAgICAgICAgICA6IHBhdGNoRmxhZyB8IDE2IC8qIEZVTExfUFJPUFMgKi9cclxuICAgICAgICAgICAgOiBwYXRjaEZsYWcsXHJcbiAgICAgICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXHJcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXHJcbiAgICAgICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcclxuICAgICAgICBkaXJzOiB2bm9kZS5kaXJzLFxyXG4gICAgICAgIHRyYW5zaXRpb246IHZub2RlLnRyYW5zaXRpb24sXHJcbiAgICAgICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXHJcbiAgICAgICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XHJcbiAgICAgICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xyXG4gICAgICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXHJcbiAgICAgICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXHJcbiAgICAgICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxyXG4gICAgICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcclxuICAgICAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXHJcbiAgICAgICAgZWw6IHZub2RlLmVsLFxyXG4gICAgICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBEZXYgb25seSwgZm9yIEhNUiBvZiBob2lzdGVkIHZub2RlcyByZXVzZWQgaW4gdi1mb3JcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlL2lzc3Vlcy8yMDIyXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwQ2xvbmVWTm9kZSh2bm9kZSkge1xyXG4gICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcclxuICAgICAgICBjbG9uZWQuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNsb25lZDtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gJyAnLCBmbGFnID0gMCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xyXG4gICAgLy8gQSBzdGF0aWMgdm5vZGUgY2FuIGNvbnRhaW4gbXVsdGlwbGUgc3RyaW5naWZpZWQgZWxlbWVudHMsIGFuZCB0aGUgbnVtYmVyXHJcbiAgICAvLyBvZiBlbGVtZW50cyBpcyBuZWNlc3NhcnkgZm9yIGh5ZHJhdGlvbi5cclxuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcclxuICAgIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gJycsIFxyXG4vLyB3aGVuIHVzZWQgYXMgdGhlIHYtZWxzZSBicmFuY2gsIHRoZSBjb21tZW50IG5vZGUgbXVzdCBiZSBjcmVhdGVkIGFzIGFcclxuLy8gYmxvY2sgdG8gZW5zdXJlIGNvcnJlY3QgdXBkYXRlcy5cclxuYXNCbG9jayA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gYXNCbG9ja1xyXG4gICAgICAgID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSlcclxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XHJcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcclxuICAgICAgICAvLyBmcmFnbWVudFxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShGcmFnbWVudCwgbnVsbCwgY2hpbGQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIC8vIGFscmVhZHkgdm5vZGUsIHRoaXMgc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiBzaW5jZSBjb21waWxlZCB0ZW1wbGF0ZXNcclxuICAgICAgICAvLyBhbHdheXMgcHJvZHVjZSBhbGwtdm5vZGUgY2hpbGRyZW4gYXJyYXlzXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHN0cmluZ3MgYW5kIG51bWJlcnNcclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XHJcbiAgICB9XHJcbn1cclxuLy8gb3B0aW1pemVkIG5vcm1hbGl6YXRpb24gZm9yIHRlbXBsYXRlLWNvbXBpbGVkIHJlbmRlciBmbnNcclxuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcclxuICAgIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XHJcbiAgICBsZXQgdHlwZSA9IDA7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xyXG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHwgc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHNsb3QgdG8gcGxhaW4gY2hpbGRyZW4gZm9yIHBsYWluIGVsZW1lbnQgYW5kIFRlbGVwb3J0XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xyXG4gICAgICAgICAgICBpZiAoc2xvdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gX2MgbWFya2VyIGlzIGFkZGVkIGJ5IHdpdGhDdHgoKSBpbmRpY2F0aW5nIHRoaXMgaXMgYSBjb21waWxlZCBzbG90XHJcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIHNldENvbXBpbGVkU2xvdFJlbmRlcmluZygxKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiBzZXRDb21waWxlZFNsb3RSZW5kZXJpbmcoLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIEZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uudm5vZGUucGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDIgLyogRFlOQU1JQyAqLztcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDEgLyogU1RBQkxFICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xyXG4gICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcclxuICAgICAgICAvLyBmb3JjZSB0ZWxlcG9ydCBjaGlsZHJlbiB0byBhcnJheSBzbyBpdCBjYW4gYmUgbW92ZWQgYXJvdW5kXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0eXBlID0gOCAvKiBURVhUX0NISUxEUkVOICovO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IHJldCA9IGV4dGVuZCh7fSwgYXJnc1swXSk7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0b01lcmdlID0gYXJnc1tpXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbcmV0LnN0eWxlLCB0b01lcmdlLnN0eWxlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHJldFtrZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcgIT09IGluY29taW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgdG9NZXJnZVtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY29taW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XHJcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhbiBpbnN0YW5jZSBpbmhlcml0cyBpdHMgcGFyZW50J3MgcHJvdmlkZXMgb2JqZWN0XHJcbiAgICAgICAgLy8gYnV0IHdoZW4gaXQgbmVlZHMgdG8gcHJvdmlkZSB2YWx1ZXMgb2YgaXRzIG93biwgaXQgY3JlYXRlcyBpdHNcclxuICAgICAgICAvLyBvd24gcHJvdmlkZXMgb2JqZWN0IHVzaW5nIHBhcmVudCBwcm92aWRlcyBvYmplY3QgYXMgcHJvdG90eXBlLlxyXG4gICAgICAgIC8vIHRoaXMgd2F5IGluIGBpbmplY3RgIHdlIGNhbiBzaW1wbHkgbG9vayB1cCBpbmplY3Rpb25zIGZyb20gZGlyZWN0XHJcbiAgICAgICAgLy8gcGFyZW50IGFuZCBsZXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkbyB0aGUgd29yay5cclxuICAgICAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xyXG4gICAgLy8gZmFsbGJhY2sgdG8gYGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZWAgc28gdGhhdCB0aGlzIGNhbiBiZSBjYWxsZWQgaW5cclxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcclxuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIC8vICMyNDAwXHJcbiAgICAgICAgLy8gdG8gc3VwcG9ydCBgYXBwLnVzZWAgcGx1Z2lucyxcclxuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHBDb250ZXh0J3MgYHByb3ZpZGVzYCBpZiB0aGUgaW50YW5jZSBpcyBhdCByb290XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbFxyXG4gICAgICAgICAgICA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlc1xyXG4gICAgICAgICAgICA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZSgpXHJcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xyXG4gICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcclxuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlLCBvcHRpb25zLCBkZWZlcnJlZERhdGEgPSBbXSwgZGVmZXJyZWRXYXRjaCA9IFtdLCBkZWZlcnJlZFByb3ZpZGUgPSBbXSwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCB7IFxyXG4gICAgLy8gY29tcG9zaXRpb25cclxuICAgIG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMsIFxyXG4gICAgLy8gc3RhdGVcclxuICAgIGRhdGE6IGRhdGFPcHRpb25zLCBjb21wdXRlZDogY29tcHV0ZWRPcHRpb25zLCBtZXRob2RzLCB3YXRjaDogd2F0Y2hPcHRpb25zLCBwcm92aWRlOiBwcm92aWRlT3B0aW9ucywgaW5qZWN0OiBpbmplY3RPcHRpb25zLCBcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50cywgZGlyZWN0aXZlcywgXHJcbiAgICAvLyBsaWZlY3ljbGVcclxuICAgIGJlZm9yZU1vdW50LCBtb3VudGVkLCBiZWZvcmVVcGRhdGUsIHVwZGF0ZWQsIGFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQsIGJlZm9yZURlc3Ryb3ksIGJlZm9yZVVubW91bnQsIGRlc3Ryb3llZCwgdW5tb3VudGVkLCByZW5kZXIsIHJlbmRlclRyYWNrZWQsIHJlbmRlclRyaWdnZXJlZCwgZXJyb3JDYXB0dXJlZCwgXHJcbiAgICAvLyBwdWJsaWMgQVBJXHJcbiAgICBleHBvc2UgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XHJcbiAgICBjb25zdCBnbG9iYWxNaXhpbnMgPSBpbnN0YW5jZS5hcHBDb250ZXh0Lm1peGlucztcclxuICAgIGlmIChhc01peGluICYmIHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseU9wdGlvbnMgaXMgY2FsbGVkIG5vbi1hcy1taXhpbiBvbmNlIHBlciBpbnN0YW5jZVxyXG4gICAgaWYgKCFhc01peGluKSB7XHJcbiAgICAgICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICBjYWxsU3luY0hvb2soJ2JlZm9yZUNyZWF0ZScsIFwiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKTtcclxuICAgICAgICBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgLy8gZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBmaXJzdFxyXG4gICAgICAgIGFwcGx5TWl4aW5zKGluc3RhbmNlLCBnbG9iYWxNaXhpbnMsIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlKTtcclxuICAgIH1cclxuICAgIC8vIGV4dGVuZGluZyBhIGJhc2UgY29tcG9uZW50Li4uXHJcbiAgICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIGV4dGVuZHNPcHRpb25zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvLyBsb2NhbCBtaXhpbnNcclxuICAgIGlmIChtaXhpbnMpIHtcclxuICAgICAgICBhcHBseU1peGlucyhpbnN0YW5jZSwgbWl4aW5zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gb3B0aW9ucyBpbml0aWFsaXphdGlvbiBvcmRlciAodG8gYmUgY29uc2lzdGVudCB3aXRoIFZ1ZSAyKTpcclxuICAgIC8vIC0gcHJvcHMgKGFscmVhZHkgZG9uZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24pXHJcbiAgICAvLyAtIGluamVjdFxyXG4gICAgLy8gLSBtZXRob2RzXHJcbiAgICAvLyAtIGRhdGEgKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxyXG4gICAgLy8gLSBjb21wdXRlZFxyXG4gICAgLy8gLSB3YXRjaCAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICBpZiAoaW5qZWN0T3B0aW9ucykge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5qZWN0T3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gaW5qZWN0T3B0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSwgb3B0LmRlZmF1bHQsIHRydWUgLyogdHJlYXQgZGVmYXVsdCBmdW5jdGlvbiBhcyBmYWN0b3J5ICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1ldGhvZHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiBkZXYgbW9kZSwgd2UgdXNlIHRoZSBgY3JlYXRlUmVuZGVyQ29udGV4dGAgZnVuY3Rpb24gdG8gZGVmaW5lIG1ldGhvZHMgdG8gdGhlIHByb3h5IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aG9zZSBhcmUgcmVhZC1vbmx5IGJ1dCByZWNvbmZpZ3VyYWJsZSwgc28gaXQgbmVlZHMgdG8gYmUgcmVkZWZpbmVkIGhlcmVcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghYXNNaXhpbikge1xyXG4gICAgICAgIGlmIChkZWZlcnJlZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkRGF0YS5mb3JFYWNoKGRhdGFGbiA9PiByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YUZuLCBwdWJsaWNUaGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhT3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIGRhdGFPcHRpb25zIGlzIG5vdCBmdWxseSB0eXBlIHNhZmVcclxuICAgICAgICAgICAgcmVzb2x2ZURhdGEoaW5zdGFuY2UsIGRhdGFPcHRpb25zLCBwdWJsaWNUaGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zdCByYXdEYXRhID0gdG9SYXcoaW5zdGFuY2UuZGF0YSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgLy8gZXhwb3NlIGRhdGEgb24gY3R4IGR1cmluZyBkZXZcclxuICAgICAgICAgICAgICAgIGlmIChrZXlbMF0gIT09ICckJyAmJiBrZXlbMF0gIT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcmF3RGF0YVtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRhdGFPcHRpb25zKSB7XHJcbiAgICAgICAgZGVmZXJyZWREYXRhLnB1c2goZGF0YU9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgY29uc3QgZ2V0ID0gaXNGdW5jdGlvbihvcHQpXHJcbiAgICAgICAgICAgICAgICA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24ob3B0LmdldClcclxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBnZXQgPT09IE5PT1ApIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYENvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaGFzIG5vIGdldHRlci5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldClcclxuICAgICAgICAgICAgICAgID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgID8gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6IE5PT1A7XHJcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wdXRlZCh7XHJcbiAgICAgICAgICAgICAgICBnZXQsXHJcbiAgICAgICAgICAgICAgICBzZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNldDogdiA9PiAoYy52YWx1ZSA9IHYpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHdhdGNoT3B0aW9ucykge1xyXG4gICAgICAgIGRlZmVycmVkV2F0Y2gucHVzaCh3YXRjaE9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhc01peGluICYmIGRlZmVycmVkV2F0Y2gubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVmZXJyZWRXYXRjaC5mb3JFYWNoKHdhdGNoT3B0aW9ucyA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHdhdGNoT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlV2F0Y2hlcih3YXRjaE9wdGlvbnNba2V5XSwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdmlkZU9wdGlvbnMpIHtcclxuICAgICAgICBkZWZlcnJlZFByb3ZpZGUucHVzaChwcm92aWRlT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFzTWl4aW4gJiYgZGVmZXJyZWRQcm92aWRlLmxlbmd0aCkge1xyXG4gICAgICAgIGRlZmVycmVkUHJvdmlkZS5mb3JFYWNoKHByb3ZpZGVPcHRpb25zID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IHByb3ZpZGVPcHRpb25zO1xyXG4gICAgICAgICAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBhc3NldCBvcHRpb25zLlxyXG4gICAgLy8gVG8gcmVkdWNlIG1lbW9yeSB1c2FnZSwgb25seSBjb21wb25lbnRzIHdpdGggbWl4aW5zIG9yIGV4dGVuZHMgd2lsbCBoYXZlXHJcbiAgICAvLyByZXNvbHZlZCBhc3NldCByZWdpc3RyeSBhdHRhY2hlZCB0byBpbnN0YW5jZS5cclxuICAgIGlmIChhc01peGluKSB7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIChpbnN0YW5jZS5jb21wb25lbnRzID0gZXh0ZW5kKHt9LCBpbnN0YW5jZS50eXBlLmNvbXBvbmVudHMpKSwgY29tcG9uZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChpbnN0YW5jZS5kaXJlY3RpdmVzIHx8XHJcbiAgICAgICAgICAgICAgICAoaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGV4dGVuZCh7fSwgaW5zdGFuY2UudHlwZS5kaXJlY3RpdmVzKSksIGRpcmVjdGl2ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGxpZmVjeWNsZSBvcHRpb25zXHJcbiAgICBpZiAoIWFzTWl4aW4pIHtcclxuICAgICAgICBjYWxsU3luY0hvb2soJ2NyZWF0ZWQnLCBcImNcIiAvKiBDUkVBVEVEICovLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKTtcclxuICAgIH1cclxuICAgIGlmIChiZWZvcmVNb3VudCkge1xyXG4gICAgICAgIG9uQmVmb3JlTW91bnQoYmVmb3JlTW91bnQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAobW91bnRlZCkge1xyXG4gICAgICAgIG9uTW91bnRlZChtb3VudGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZVVwZGF0ZSkge1xyXG4gICAgICAgIG9uQmVmb3JlVXBkYXRlKGJlZm9yZVVwZGF0ZS5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmICh1cGRhdGVkKSB7XHJcbiAgICAgICAgb25VcGRhdGVkKHVwZGF0ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aXZhdGVkKSB7XHJcbiAgICAgICAgb25BY3RpdmF0ZWQoYWN0aXZhdGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYWN0aXZhdGVkKSB7XHJcbiAgICAgICAgb25EZWFjdGl2YXRlZChkZWFjdGl2YXRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChlcnJvckNhcHR1cmVkKSB7XHJcbiAgICAgICAgb25FcnJvckNhcHR1cmVkKGVycm9yQ2FwdHVyZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmVuZGVyVHJhY2tlZCkge1xyXG4gICAgICAgIG9uUmVuZGVyVHJhY2tlZChyZW5kZXJUcmFja2VkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlbmRlclRyaWdnZXJlZCkge1xyXG4gICAgICAgIG9uUmVuZGVyVHJpZ2dlcmVkKHJlbmRlclRyaWdnZXJlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYmVmb3JlRGVzdHJveSkge1xyXG4gICAgICAgIHdhcm4oYFxcYGJlZm9yZURlc3Ryb3lcXGAgaGFzIGJlZW4gcmVuYW1lZCB0byBcXGBiZWZvcmVVbm1vdW50XFxgLmApO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZVVubW91bnQpIHtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoYmVmb3JlVW5tb3VudC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZGVzdHJveWVkKSB7XHJcbiAgICAgICAgd2FybihgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmApO1xyXG4gICAgfVxyXG4gICAgaWYgKHVubW91bnRlZCkge1xyXG4gICAgICAgIG9uVW5tb3VudGVkKHVubW91bnRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcclxuICAgICAgICBpZiAoIWFzTWl4aW4pIHtcclxuICAgICAgICAgICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKHt9KSk7XHJcbiAgICAgICAgICAgICAgICBleHBvc2UuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cG9zZWRba2V5XSA9IHRvUmVmKHB1YmxpY1RoaXMsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaW5zdGFuY2UuZXhwb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IEVNUFRZX09CSjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgVGhlIFxcYGV4cG9zZVxcYCBvcHRpb24gaXMgaWdub3JlZCB3aGVuIHVzZWQgaW4gbWl4aW5zLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsU3luY0hvb2sobmFtZSwgdHlwZSwgb3B0aW9ucywgaW5zdGFuY2UsIGdsb2JhbE1peGlucykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iYWxNaXhpbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjYWxsSG9va1dpdGhNaXhpbkFuZEV4dGVuZHMobmFtZSwgdHlwZSwgZ2xvYmFsTWl4aW5zW2ldLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBjYWxsSG9va1dpdGhNaXhpbkFuZEV4dGVuZHMobmFtZSwgdHlwZSwgb3B0aW9ucywgaW5zdGFuY2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxIb29rV2l0aE1peGluQW5kRXh0ZW5kcyhuYW1lLCB0eXBlLCBvcHRpb25zLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBleHRlbmRzOiBiYXNlLCBtaXhpbnMgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBzZWxmSG9vayA9IG9wdGlvbnNbbmFtZV07XHJcbiAgICBpZiAoYmFzZSkge1xyXG4gICAgICAgIGNhbGxIb29rV2l0aE1peGluQW5kRXh0ZW5kcyhuYW1lLCB0eXBlLCBiYXNlLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobWl4aW5zKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2FsbEhvb2tXaXRoTWl4aW5BbmRFeHRlbmRzKG5hbWUsIHR5cGUsIG1peGluc1tpXSwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWxmSG9vaykge1xyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHNlbGZIb29rLmJpbmQoaW5zdGFuY2UucHJveHkpLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlNaXhpbnMoaW5zdGFuY2UsIG1peGlucywgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBtaXhpbnNbaV0sIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlLCB0cnVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YUZuLCBwdWJsaWNUaGlzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGRhdGFGbikpIHtcclxuICAgICAgICB3YXJuKGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBgICtcclxuICAgICAgICAgICAgYFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmApO1xyXG4gICAgfVxyXG4gICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcclxuICAgIGNvbnN0IGRhdGEgPSBkYXRhRm4uY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcclxuICAgIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNQcm9taXNlKGRhdGEpKSB7XHJcbiAgICAgICAgd2FybihgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGAgK1xyXG4gICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcclxuICAgICAgICAgICAgYGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmApO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbnN0YW5jZS5kYXRhID09PSBFTVBUWV9PQkopIHtcclxuICAgICAgICBpbnN0YW5jZS5kYXRhID0gcmVhY3RpdmUoZGF0YSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBleGlzdGluZyBkYXRhOiB0aGlzIGlzIGEgbWl4aW4gb3IgZXh0ZW5kcy5cclxuICAgICAgICBleHRlbmQoaW5zdGFuY2UuZGF0YSwgZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XHJcbiAgICBjb25zdCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoJy4nKVxyXG4gICAgICAgID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBrZXkpXHJcbiAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XHJcbiAgICBpZiAoaXNTdHJpbmcocmF3KSkge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjdHhbcmF3XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhd31cImAsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xyXG4gICAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICAgICAgcmF3LmZvckVhY2gociA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcilcclxuICAgICAgICAgICAgICAgID8gcmF3LmhhbmRsZXIuYmluZChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgOiBjdHhbcmF3LmhhbmRsZXJdO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUGF0aEdldHRlcihjdHgsIHBhdGgpIHtcclxuICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBsZXQgY3VyID0gY3R4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdXI7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCByYXcgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgY29uc3QgeyBfX21lcmdlZCwgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gcmF3O1xyXG4gICAgaWYgKF9fbWVyZ2VkKVxyXG4gICAgICAgIHJldHVybiBfX21lcmdlZDtcclxuICAgIGNvbnN0IGdsb2JhbE1peGlucyA9IGluc3RhbmNlLmFwcENvbnRleHQubWl4aW5zO1xyXG4gICAgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKVxyXG4gICAgICAgIHJldHVybiByYXc7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge307XHJcbiAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChtID0+IG1lcmdlT3B0aW9ucyhvcHRpb25zLCBtLCBpbnN0YW5jZSkpO1xyXG4gICAgbWVyZ2VPcHRpb25zKG9wdGlvbnMsIHJhdywgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIChyYXcuX19tZXJnZWQgPSBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBzdHJhdHMgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XHJcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XHJcbiAgICBleHRlbmRzT3B0aW9ucyAmJiBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBpbnN0YW5jZSk7XHJcbiAgICBtaXhpbnMgJiZcclxuICAgICAgICBtaXhpbnMuZm9yRWFjaCgobSkgPT4gbWVyZ2VPcHRpb25zKHRvLCBtLCBpbnN0YW5jZSkpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIGlmIChzdHJhdHMgJiYgaGFzT3duKHN0cmF0cywga2V5KSkge1xyXG4gICAgICAgICAgICB0b1trZXldID0gc3RyYXRzW2tleV0odG9ba2V5XSwgZnJvbVtrZXldLCBpbnN0YW5jZS5wcm94eSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiAjMjQzNyBJbiBWdWUgMywgZnVuY3Rpb25hbCBjb21wb25lbnRzIGRvIG5vdCBoYXZlIGEgcHVibGljIGluc3RhbmNlIHByb3h5IGJ1dFxyXG4gKiB0aGV5IGV4aXN0IGluIHRoZSBpbnRlcm5hbCBwYXJlbnQgY2hhaW4uIEZvciBjb2RlIHRoYXQgcmVsaWVzIG9uIHRyYXZlcnNpbmdcclxuICogcHVibGljICRwYXJlbnQgY2hhaW5zLCBza2lwIGZ1bmN0aW9uYWwgb25lcyBhbmQgZ28gdG8gdGhlIHBhcmVudCBpbnN0ZWFkLlxyXG4gKi9cclxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xyXG4gICAgaWYgKCFpKVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgaWYgKGlzU3RhdGVmdWxDb21wb25lbnQoaSkpXHJcbiAgICAgICAgcmV0dXJuIGkuZXhwb3NlZCA/IGkuZXhwb3NlZCA6IGkucHJveHk7XHJcbiAgICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xyXG59O1xyXG5jb25zdCBwdWJsaWNQcm9wZXJ0aWVzTWFwID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHtcclxuICAgICQ6IGkgPT4gaSxcclxuICAgICRlbDogaSA9PiBpLnZub2RlLmVsLFxyXG4gICAgJGRhdGE6IGkgPT4gaS5kYXRhLFxyXG4gICAgJHByb3BzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5wcm9wcykgOiBpLnByb3BzKSxcclxuICAgICRhdHRyczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuYXR0cnMpIDogaS5hdHRycyksXHJcbiAgICAkc2xvdHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMpLFxyXG4gICAgJHJlZnM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnJlZnMpIDogaS5yZWZzKSxcclxuICAgICRwYXJlbnQ6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpLFxyXG4gICAgJHJvb3Q6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5yb290KSxcclxuICAgICRlbWl0OiBpID0+IGkuZW1pdCxcclxuICAgICRvcHRpb25zOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUpLFxyXG4gICAgJGZvcmNlVXBkYXRlOiBpID0+ICgpID0+IHF1ZXVlSm9iKGkudXBkYXRlKSxcclxuICAgICRuZXh0VGljazogaSA9PiBuZXh0VGljay5iaW5kKGkucHJveHkpLFxyXG4gICAgJHdhdGNoOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUClcclxufSk7XHJcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcclxuICAgIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xyXG4gICAgICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGxldCBAdnVlL3JlYWN0aXZpdHkga25vdyBpdCBzaG91bGQgbmV2ZXIgb2JzZXJ2ZSBWdWUgcHVibGljIGluc3RhbmNlcy5cclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9za2lwXCIgLyogU0tJUCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsIGZvcm1hdHRlcnMgdG8ga25vdyB0aGF0IHRoaXMgaXMgYSBWdWUgaW5zdGFuY2VcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSA9PT0gJ19faXNWdWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkYXRhIC8gcHJvcHMgLyBjdHhcclxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxyXG4gICAgICAgIC8vIGR1cmluZyByZW5kZXIgYW5kIGlzIGEgbWFqb3IgaG90c3BvdC4gVGhlIG1vc3QgZXhwZW5zaXZlIHBhcnQgb2YgdGhpc1xyXG4gICAgICAgIC8vIGlzIHRoZSBtdWx0aXBsZSBoYXNPd24oKSBjYWxscy4gSXQncyBtdWNoIGZhc3RlciB0byBkbyBhIHNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXHJcbiAgICAgICAgLy8gcHJvdG90eXBlKSB0byBtZW1vaXplIHdoYXQgYWNjZXNzIHR5cGUgYSBrZXkgY29ycmVzcG9uZHMgdG8uXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBTRVRVUCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogREFUQSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQ09OVEVYVCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBQUk9QUyAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogU0VUVVAgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogREFUQSAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBQUk9QUyAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIENPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIE9USEVSICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcclxuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xyXG4gICAgICAgIC8vIHB1YmxpYyAkeHh4IHByb3BlcnRpZXNcclxuICAgICAgICBpZiAocHVibGljR2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcclxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXHJcbiAgICAgICAgICAgIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc01vZHVsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAvLyB1c2VyIG1heSBzZXQgY3VzdG9tIHByb3BlcnRpZXMgdG8gYHRoaXNgIHRoYXQgc3RhcnQgd2l0aCBgJGBcclxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgICAgICgoZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpLFxyXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAoIWlzU3RyaW5nKGtleSkgfHxcclxuICAgICAgICAgICAgICAgIC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXHJcbiAgICAgICAgICAgICAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcclxuICAgICAgICAgICAgICAgIGtleS5pbmRleE9mKCdfX3YnKSAhPT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJlxyXG4gICAgICAgICAgICAgICAgKGtleVswXSA9PT0gJyQnIHx8IGtleVswXSA9PT0gJ18nKSAmJlxyXG4gICAgICAgICAgICAgICAgaGFzT3duKGRhdGEsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGluc3RhbmNlID09PSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGlmIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcclxuICAgICAgICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGFzT3duKGluc3RhbmNlLnByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGhhcyh7IF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH0gfSwga2V5KSB7XHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICByZXR1cm4gKGFjY2Vzc0NhY2hlW2tleV0gIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICAoc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICAoKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSkgfHxcclxuICAgICAgICAgICAgaGFzT3duKGN0eCwga2V5KSB8fFxyXG4gICAgICAgICAgICBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KSk7XHJcbiAgICB9XHJcbn07XHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlKSB7XHJcbiAgICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcclxuICAgICAgICB3YXJuKGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gYCArXHJcbiAgICAgICAgICAgIGBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gKTtcclxuICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XHJcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICAvLyBmYXN0IHBhdGggZm9yIHVuc2NvcGFibGVzIHdoZW4gdXNpbmcgYHdpdGhgIGJsb2NrXHJcbiAgICAgICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XHJcbiAgICB9LFxyXG4gICAgaGFzKF8sIGtleSkge1xyXG4gICAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gJ18nICYmICFpc0dsb2JhbGx5V2hpdGVsaXN0ZWQoa2V5KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIF8gd2hpY2ggaXMgYSByZXNlcnZlZCBwcmVmaXggZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXM7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyBJbiBkZXYgbW9kZSwgdGhlIHByb3h5IHRhcmdldCBleHBvc2VzIHRoZSBzYW1lIHByb3BlcnRpZXMgYXMgc2VlbiBvbiBgdGhpc2BcclxuLy8gZm9yIGVhc2llciBjb25zb2xlIGluc3BlY3Rpb24uIEluIHByb2QgbW9kZSBpdCB3aWxsIGJlIGFuIGVtcHR5IG9iamVjdCBzb1xyXG4vLyB0aGVzZSBwcm9wZXJ0aWVzIGRlZmluaXRpb25zIGNhbiBiZSBza2lwcGVkLlxyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcclxuICAgIC8vIGV4cG9zZSBpbnRlcm5hbCBpbnN0YW5jZSBmb3IgcHJveHkgaGFuZGxlcnNcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlXHJcbiAgICB9KTtcclxuICAgIC8vIGV4cG9zZSBwdWJsaWMgcHJvcGVydGllc1xyXG4gICAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllc01hcCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXHJcbiAgICAgICAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcclxuICAgICAgICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGV4cG9zZSBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgY29uc3QgeyBnbG9iYWxQcm9wZXJ0aWVzIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcclxuICAgIE9iamVjdC5rZXlzKGdsb2JhbFByb3BlcnRpZXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBnbG9iYWxQcm9wZXJ0aWVzW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcclxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XHJcbiAgICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyB8fCBrZXlbMF0gPT09ICdfJykge1xyXG4gICAgICAgICAgICB3YXJuKGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiBgICtcclxuICAgICAgICAgICAgICAgIGB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG5sZXQgdWlkJDEgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xyXG4gICAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XHJcbiAgICAvLyBpbmhlcml0IHBhcmVudCBhcHAgY29udGV4dCAtIG9yIC0gaWYgcm9vdCwgYWRvcHQgZnJvbSByb290IHZub2RlXHJcbiAgICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgdWlkOiB1aWQkMSsrLFxyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcGFyZW50LFxyXG4gICAgICAgIGFwcENvbnRleHQsXHJcbiAgICAgICAgcm9vdDogbnVsbCxcclxuICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgIHN1YlRyZWU6IG51bGwsXHJcbiAgICAgICAgdXBkYXRlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlcjogbnVsbCxcclxuICAgICAgICBwcm94eTogbnVsbCxcclxuICAgICAgICBleHBvc2VkOiBudWxsLFxyXG4gICAgICAgIHdpdGhQcm94eTogbnVsbCxcclxuICAgICAgICBlZmZlY3RzOiBudWxsLFxyXG4gICAgICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxyXG4gICAgICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlckNhY2hlOiBbXSxcclxuICAgICAgICAvLyBsb2NhbCByZXNvdmxlZCBhc3NldHNcclxuICAgICAgICBjb21wb25lbnRzOiBudWxsLFxyXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXHJcbiAgICAgICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcclxuICAgICAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICAvLyBlbWl0XHJcbiAgICAgICAgZW1pdDogbnVsbCxcclxuICAgICAgICBlbWl0dGVkOiBudWxsLFxyXG4gICAgICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcclxuICAgICAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgLy8gc3RhdGVcclxuICAgICAgICBjdHg6IEVNUFRZX09CSixcclxuICAgICAgICBkYXRhOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcHJvcHM6IEVNUFRZX09CSixcclxuICAgICAgICBhdHRyczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNsb3RzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcmVmczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcclxuICAgICAgICBzZXR1cENvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxyXG4gICAgICAgIHN1c3BlbnNlLFxyXG4gICAgICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcclxuICAgICAgICBhc3luY0RlcDogbnVsbCxcclxuICAgICAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcclxuICAgICAgICAvLyBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGJjOiBudWxsLFxyXG4gICAgICAgIGM6IG51bGwsXHJcbiAgICAgICAgYm06IG51bGwsXHJcbiAgICAgICAgbTogbnVsbCxcclxuICAgICAgICBidTogbnVsbCxcclxuICAgICAgICB1OiBudWxsLFxyXG4gICAgICAgIHVtOiBudWxsLFxyXG4gICAgICAgIGJ1bTogbnVsbCxcclxuICAgICAgICBkYTogbnVsbCxcclxuICAgICAgICBhOiBudWxsLFxyXG4gICAgICAgIHJ0ZzogbnVsbCxcclxuICAgICAgICBydGM6IG51bGwsXHJcbiAgICAgICAgZWM6IG51bGxcclxuICAgIH07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLmVtaXQgPSBlbWl0LmJpbmQobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcclxuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG59O1xyXG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50Jyk7XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcclxuICAgIGNvbnN0IGFwcElzTmF0aXZlVGFnID0gY29uZmlnLmlzTmF0aXZlVGFnIHx8IE5PO1xyXG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBhcHBJc05hdGl2ZVRhZyhuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6ICcgKyBuYW1lKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XHJcbiAgICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi87XHJcbn1cclxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gaXNTU1I7XHJcbiAgICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XHJcbiAgICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XHJcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XHJcbiAgICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bFxyXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcclxuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcclxuICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gMC4gY3JlYXRlIHJlbmRlciBwcm94eSBwcm9wZXJ0eSBhY2Nlc3MgY2FjaGVcclxuICAgIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIC8vIDEuIGNyZWF0ZSBwdWJsaWMgaW5zdGFuY2UgLyByZW5kZXIgcHJveHlcclxuICAgIC8vIGFsc28gbWFyayBpdCByYXcgc28gaXQncyBuZXZlciBvYnNlcnZlZFxyXG4gICAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIC8vIDIuIGNhbGwgc2V0dXAoKVxyXG4gICAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xyXG4gICAgaWYgKHNldHVwKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gKGluc3RhbmNlLnNldHVwQ29udGV4dCA9XHJcbiAgICAgICAgICAgIHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbCk7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNldHVwLCBpbnN0YW5jZSwgMCAvKiBTRVRVUF9GVU5DVElPTiAqLywgWyhwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcywgc2V0dXBDb250ZXh0XSk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzUHJvbWlzZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzU1NSKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHByb21pc2Ugc28gc2VydmVyLXJlbmRlcmVyIGNhbiB3YWl0IG9uIGl0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgc2V0dXAgcmV0dXJuZWQgUHJvbWlzZS5cclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgaGVyZSBhbmQgd2FpdCBmb3IgcmUtZW50cnkuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGFuIGlubGluZSByZW5kZXIgZnVuY3Rpb25cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSBgICtcclxuICAgICAgICAgICAgICAgIGByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYmluZGluZ3MuXHJcbiAgICAgICAgLy8gYXNzdW1pbmcgYSByZW5kZXIgZnVuY3Rpb24gY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBpcyBwcmVzZW50LlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXR1cFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YCk7XHJcbiAgICB9XHJcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xyXG59XHJcbmxldCBjb21waWxlO1xyXG4vLyBkZXYgb25seVxyXG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XHJcbi8qKlxyXG4gKiBGb3IgcnVudGltZS1kb20gdG8gcmVnaXN0ZXIgdGhlIGNvbXBpbGVyLlxyXG4gKiBOb3RlIHRoZSBleHBvcnRlZCBtZXRob2QgdXNlcyBhbnkgdG8gYXZvaWQgZC50cyByZWx5aW5nIG9uIHRoZSBjb21waWxlciB0eXBlcy5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XHJcbiAgICBjb21waWxlID0gX2NvbXBpbGU7XHJcbn1cclxuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKSB7XHJcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgLy8gdGVtcGxhdGUgLyByZW5kZXIgZnVuY3Rpb24gbm9ybWFsaXphdGlvblxyXG4gICAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcclxuICAgICAgICAvLyBjb3VsZCBiZSBzZXQgZnJvbSBzZXR1cCgpXHJcbiAgICAgICAgaWYgKGNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlICYmICFDb21wb25lbnQucmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZShDb21wb25lbnQudGVtcGxhdGUsIHtcclxuICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudDogaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuaXNDdXN0b21FbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyczogQ29tcG9uZW50LmRlbGltaXRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gKENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUCk7XHJcbiAgICAgICAgLy8gZm9yIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2tzLCB0aGUgcmVuZGVyXHJcbiAgICAgICAgLy8gcHJveHkgdXNlZCBuZWVkcyBhIGRpZmZlcmVudCBgaGFzYCBoYW5kbGVyIHdoaWNoIGlzIG1vcmUgcGVyZm9ybWFudCBhbmRcclxuICAgICAgICAvLyBhbHNvIG9ubHkgYWxsb3dzIGEgd2hpdGVsaXN0IG9mIGdsb2JhbHMgdG8gZmFsbHRocm91Z2guXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5fcmMpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uud2l0aFByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzdXBwb3J0IGZvciAyLnggb3B0aW9uc1xyXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBDb21wb25lbnQpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gd2FybiBtaXNzaW5nIHRlbXBsYXRlL3JlbmRlclxyXG4gICAgLy8gdGhlIHJ1bnRpbWUgY29tcGlsYXRpb24gb2YgdGVtcGxhdGUgaW4gU1NSIGlzIGRvbmUgYnkgc2VydmVyLXJlbmRlclxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBgICtcclxuICAgICAgICAgICAgICAgIGBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXHJcbiAgICAgICAgICAgICAgICAgICAgKSAvKiBzaG91bGQgbm90IGhhcHBlbiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGF0dHJIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eTogKCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgZXhwb3NlID0gZXhwb3NlZCA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS5leHBvc2VkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKGV4cG9zZWQpO1xyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAvLyBXZSB1c2UgZ2V0dGVycyBpbiBkZXYgaW4gY2FzZSBsaWJzIGxpa2UgdGVzdC11dGlscyBvdmVyd3JpdGUgaW5zdGFuY2VcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIChvdmVyd3JpdGVzIHNob3VsZCBub3QgYmUgZG9uZSBpbiBwcm9kKVxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0ckhhbmRsZXJzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IHNsb3RzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5zbG90cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBlbWl0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXR0cnM6IGluc3RhbmNlLmF0dHJzLFxyXG4gICAgICAgICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXHJcbiAgICAgICAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8gcmVjb3JkIGVmZmVjdHMgY3JlYXRlZCBkdXJpbmcgYSBjb21wb25lbnQncyBzZXR1cCgpIHNvIHRoYXQgdGhleSBjYW4gYmVcclxuLy8gc3RvcHBlZCB3aGVuIHRoZSBjb21wb25lbnQgdW5tb3VudHNcclxuZnVuY3Rpb24gcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChlZmZlY3QsIGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAoaW5zdGFuY2UuZWZmZWN0cyB8fCAoaW5zdGFuY2UuZWZmZWN0cyA9IFtdKSkucHVzaChlZmZlY3QpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XHJcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgYyA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgJycpO1xyXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KVxyXG4gICAgICAgID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lXHJcbiAgICAgICAgOiBDb21wb25lbnQubmFtZTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaFsxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbmFtZSA9XHJcbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHMpIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcclxufVxyXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMpO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChjLmVmZmVjdCk7XHJcbiAgICByZXR1cm4gYztcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBkZWZpbmVQcm9wcygpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGRlZmluZUVtaXQoKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgZGVmaW5lRW1pdCgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHVzZUNvbnRleHQoKSB7XHJcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpKSB7XHJcbiAgICAgICAgd2FybihgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xyXG59XG5cbi8vIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgaWYgKGwgPT09IDIpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXHJcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGwgPiAzKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBzc3JDb250ZXh0YCA6IGBgKTtcclxuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgd2FybihgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgfVxyXG59O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMzYmE3NzYnIH07XHJcbiAgICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojMGIxYmM5JyB9O1xyXG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcclxuICAgIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojOWQyODhjJyB9O1xyXG4gICAgLy8gY3VzdG9tIGZvcm1hdHRlciBmb3IgQ2hyb21lXHJcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcclxuICAgIGNvbnN0IGZvcm1hdHRlciA9IHtcclxuICAgICAgICBoZWFkZXIob2JqKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbJ2RpdicsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZihvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFjdGl2ZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFkb25seSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgICc+J1xyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc0JvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5KG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdjb21wdXRlZCcpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdjb21wdXRlZCcsIGNvbXB1dGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcclxuICAgICAgICBpZiAoaW5qZWN0ZWQpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnaW5qZWN0ZWQnLCBpbmplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBibG9ja3MucHVzaChbXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyAnO29wYWNpdHk6MC42NidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFsnb2JqZWN0JywgeyBvYmplY3Q6IGluc3RhbmNlIH1dXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgcmV0dXJuIGJsb2NrcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xyXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHsgc3R5bGU6ICdsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbScgfSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojNDc2NTgyJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHR5cGVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRyYWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcclxuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxyXG4gICAgICAgICAgICAoaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUobSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcclxuICAgICAgICBpZiAodi5fc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodi5lZmZlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgUmVmYDtcclxuICAgIH1cclxuICAgIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XHJcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0pIHtcclxuICAgIGxldCByZXQ7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCByZW5kZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogRm9yIHByZWZpeGluZyBrZXlzIGluIHYtb249XCJvYmpcIiB3aXRoIFwib25cIlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdG9IYW5kbGVycyhvYmopIHtcclxuICAgIGNvbnN0IHJldCA9IHt9O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIHdhcm4oYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgcmV0W3RvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XHJcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxuXG4vLyBDb3JlIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgdmVyc2lvbiA9IFwiMy4wLjExXCI7XHJcbi8qKlxyXG4gKiBTU1IgdXRpbHMgZm9yIFxcQHZ1ZS9zZXJ2ZXItcmVuZGVyZXIuIE9ubHkgZXhwb3NlZCBpbiBjanMgYnVpbGRzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IHNzclV0aWxzID0gKG51bGwpO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCwgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdCwgZGVmaW5lUHJvcHMsIGRldnRvb2xzLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgaCwgaGFuZGxlRXJyb3IsIGluaXRDdXN0b21Gb3JtYXR0ZXIsIGluamVjdCwgaXNSdW50aW1lT25seSwgaXNWTm9kZSwgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQ29udGV4dCwgdXNlU1NSQ29udGV4dCwgdXNlVHJhbnNpdGlvblN0YXRlLCB2ZXJzaW9uLCB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdpdGhDdHgsIHdpdGhEaXJlY3RpdmVzLCB3aXRoU2NvcGVJZCB9O1xuIiwiaW1wb3J0IHsgY2FtZWxpemUsIHdhcm4sIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uTW91bnRlZCwgd2F0Y2hFZmZlY3QsIG9uVXBkYXRlZCwgRnJhZ21lbnQsIGgsIEJhc2VUcmFuc2l0aW9uLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgY3JlYXRlVk5vZGUsIGNyZWF0ZVJlbmRlcmVyLCBpc1J1bnRpbWVPbmx5LCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciB9IGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0FycmF5LCBoeXBoZW5hdGUsIGNhcGl0YWxpemUsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc09uLCBpc01vZGVsTGlzdGVuZXIsIGlzRnVuY3Rpb24sIEVNUFRZX09CSiwgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGludm9rZUFycmF5Rm5zLCBsb29zZUluZGV4T2YsIGlzU2V0LCBsb29zZUVxdWFsLCBpc0hUTUxUYWcsIGlzU1ZHVGFnIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmNvbnN0IGRvYyA9ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiBudWxsKTtcclxubGV0IHRlbXBDb250YWluZXI7XHJcbmxldCB0ZW1wU1ZHQ29udGFpbmVyO1xyXG5jb25zdCBub2RlT3BzID0ge1xyXG4gICAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZTogY2hpbGQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVFbGVtZW50OiAodGFnLCBpc1NWRywgaXMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZylcclxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAodGFnID09PSAnc2VsZWN0JyAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCBwcm9wcy5tdWx0aXBsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcclxuICAgIGNyZWF0ZUNvbW1lbnQ6IHRleHQgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXHJcbiAgICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xyXG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfSxcclxuICAgIHBhcmVudE5vZGU6IG5vZGUgPT4gbm9kZS5wYXJlbnROb2RlLFxyXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcclxuICAgIHF1ZXJ5U2VsZWN0b3I6IHNlbGVjdG9yID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcclxuICAgIHNldFNjb3BlSWQoZWwsIGlkKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XHJcbiAgICB9LFxyXG4gICAgY2xvbmVOb2RlKGVsKSB7XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gZWwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIC8vICMzMDcyXHJcbiAgICAgICAgLy8gLSBpbiBgcGF0Y2hET01Qcm9wYCwgd2Ugc3RvcmUgdGhlIGFjdHVhbCB2YWx1ZSBpbiB0aGUgYGVsLl92YWx1ZWAgcHJvcGVydHkuXHJcbiAgICAgICAgLy8gLSBub3JtYWxseSwgZWxlbWVudHMgdXNpbmcgYDp2YWx1ZWAgYmluZGluZ3Mgd2lsbCBub3QgYmUgaG9pc3RlZCwgYnV0IGlmXHJcbiAgICAgICAgLy8gICB0aGUgYm91bmQgdmFsdWUgaXMgYSBjb25zdGFudCwgZS5nLiBgOnZhbHVlPVwidHJ1ZVwiYCAtIHRoZXkgZG8gZ2V0XHJcbiAgICAgICAgLy8gICBob2lzdGVkLlxyXG4gICAgICAgIC8vIC0gaW4gcHJvZHVjdGlvbiwgaG9pc3RlZCBub2RlcyBhcmUgY2xvbmVkIHdoZW4gc3Vic2VxdWVudCBpbnNlcnRzLCBidXRcclxuICAgICAgICAvLyAgIGNsb25lTm9kZSgpIGRvZXMgbm90IGNvcHkgdGhlIGN1c3RvbSBwcm9wZXJ0eSB3ZSBhdHRhY2hlZC5cclxuICAgICAgICAvLyAtIFRoaXMgbWF5IG5lZWQgdG8gYWNjb3VudCBmb3Igb3RoZXIgY3VzdG9tIERPTSBwcm9wZXJ0aWVzIHdlIGF0dGFjaCB0b1xyXG4gICAgICAgIC8vICAgZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gYF92YWx1ZWAgaW4gdGhlIGZ1dHVyZS5cclxuICAgICAgICBpZiAoYF92YWx1ZWAgaW4gZWwpIHtcclxuICAgICAgICAgICAgY2xvbmVkLl92YWx1ZSA9IGVsLl92YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcclxuICAgIH0sXHJcbiAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAvLyBSZWFzb246IGlubmVySFRNTC5cclxuICAgIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cclxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXHJcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBpc1NWRykge1xyXG4gICAgICAgIGNvbnN0IHRlbXAgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IHRlbXBTVkdDb250YWluZXIgfHxcclxuICAgICAgICAgICAgICAgICh0ZW1wU1ZHQ29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgJ3N2ZycpKVxyXG4gICAgICAgICAgICA6IHRlbXBDb250YWluZXIgfHwgKHRlbXBDb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgICAgIHRlbXAuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICBjb25zdCBmaXJzdCA9IHRlbXAuZmlyc3RDaGlsZDtcclxuICAgICAgICBsZXQgbm9kZSA9IGZpcnN0O1xyXG4gICAgICAgIGxldCBsYXN0ID0gbm9kZTtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBsYXN0ID0gbm9kZTtcclxuICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnQobm9kZSwgcGFyZW50LCBhbmNob3IpO1xyXG4gICAgICAgICAgICBub2RlID0gdGVtcC5maXJzdENoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2ZpcnN0LCBsYXN0XTtcclxuICAgIH1cclxufTtcblxuLy8gY29tcGlsZXIgc2hvdWxkIG5vcm1hbGl6ZSBjbGFzcyArIDpjbGFzcyBiaW5kaW5ncyBvbiB0aGUgc2FtZSBlbGVtZW50XHJcbi8vIGludG8gYSBzaW5nbGUgYmluZGluZyBbJ3N0YXRpY0NsYXNzJywgZHluYW1pY11cclxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZGlyZWN0bHkgc2V0dGluZyBjbGFzc05hbWUgc2hvdWxkIGJlIGZhc3RlciB0aGFuIHNldEF0dHJpYnV0ZSBpbiB0aGVvcnlcclxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGVsZW1lbnQgZHVyaW5nIGEgdHJhbnNpdGlvbiwgdGFrZSB0aGUgdGVtcG9yYXJ5IHRyYW5zaXRpb25cclxuICAgICAgICAvLyBjbGFzc2VzIGludG8gYWNjb3VudC5cclxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsLl92dGM7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlXHJcbiAgICAgICAgICAgICAgICA/IFt2YWx1ZSwgLi4udHJhbnNpdGlvbkNsYXNzZXNdXHJcbiAgICAgICAgICAgICAgICA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xyXG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcclxuICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKG5leHQpKSB7XHJcbiAgICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHN0eWxlLmRpc3BsYXk7XHJcbiAgICAgICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xyXG4gICAgICAgICAgICAvLyBpbmRpY2F0ZXMgdGhhdCB0aGUgYGRpc3BsYXlgIG9mIHRoZSBlbGVtZW50IGlzIGNvbnRyb2xsZWQgYnkgYHYtc2hvd2AsXHJcbiAgICAgICAgICAgIC8vIHNvIHdlIGFsd2F5cyBrZWVwIHRoZSBjdXJyZW50IGBkaXNwbGF5YCB2YWx1ZSByZWdhcmRsZXNzIG9mIHRoZSBgc3R5bGVgIHZhbHVlLFxyXG4gICAgICAgICAgICAvLyB0aHVzIGhhbmRpbmcgb3ZlciBjb250cm9sIHRvIGB2LXNob3dgLlxyXG4gICAgICAgICAgICBpZiAoJ192b2QnIGluIGVsKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gY3VycmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcclxuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXYgJiYgIWlzU3RyaW5nKHByZXYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xyXG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdmFsKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XHJcbiAgICAgICAgdmFsLmZvckVhY2godiA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnLS0nKSkge1xyXG4gICAgICAgICAgICAvLyBjdXN0b20gcHJvcGVydHkgZGVmaW5pdGlvblxyXG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcclxuICAgICAgICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gIWltcG9ydGFudFxyXG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoaHlwaGVuYXRlKHByZWZpeGVkKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XHJcbmNvbnN0IHByZWZpeENhY2hlID0ge307XHJcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xyXG4gICAgaWYgKG5hbWUgIT09ICdmaWx0ZXInICYmIG5hbWUgaW4gc3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZSk7XHJcbiAgICB9XHJcbiAgICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcclxuICAgICAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmF3TmFtZTtcclxufVxuXG5jb25zdCB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xyXG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIG5vdGUgd2UgYXJlIG9ubHkgY2hlY2tpbmcgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhXHJcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkb20gcHJvcCBvZiB0aGUgc2FtZSBuYW1lIGhlcmUuXHJcbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoaXNCb29sZWFuICYmIHZhbHVlID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0Jvb2xlYW4gPyAnJyA6IHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gX19VTlNBRkVfX1xyXG4vLyBmdW5jdGlvbnMuIFRoZSB1c2VyIGlzIHJlc3BvbnNpYmxlIGZvciB1c2luZyB0aGVtIHdpdGggb25seSB0cnVzdGVkIGNvbnRlbnQuXHJcbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgXHJcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcclxuLy8gb3ZlcnJpZGluZyBleGlzdGluZyBWTm9kZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9sZCB0cmVlIG11c3QgYmUgcHJvcGVybHlcclxuLy8gdW5tb3VudGVkLlxyXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xyXG4gICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScgJiYgZWwudGFnTmFtZSAhPT0gJ1BST0dSRVNTJykge1xyXG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cclxuICAgICAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4gY29tcGlsZXMgdG8geyBtdWx0aXBsZTogJycgfVxyXG4gICAgICAgICAgICBlbFtrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPGRpdiA6aWQ9XCJudWxsXCI+XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSAnJztcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgLy8gZS5nLiA8aW1nIDp3aWR0aD1cIm51bGxcIj5cclxuICAgICAgICAgICAgZWxba2V5XSA9IDA7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIHBlcmZvcm0gdmFsdWUgdmFsaWRhdGlvbiBhbmQgdGhyb3dcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXHJcbiAgICAgICAgICAgICAgICBgdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC5cclxubGV0IF9nZXROb3cgPSBEYXRlLm5vdztcclxubGV0IHNraXBUaW1lc3RhbXBDaGVjayA9IGZhbHNlO1xyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIERldGVybWluZSB3aGF0IGV2ZW50IHRpbWVzdGFtcCB0aGUgYnJvd3NlciBpcyB1c2luZy4gQW5ub3lpbmdseSwgdGhlXHJcbiAgICAvLyB0aW1lc3RhbXAgY2FuIGVpdGhlciBiZSBoaS1yZXMgKHJlbGF0aXZlIHRvIHBhZ2UgbG9hZCkgb3IgbG93LXJlc1xyXG4gICAgLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXHJcbiAgICAvLyBzYW1lIHRpbWVzdGFtcCB0eXBlIHdoZW4gc2F2aW5nIHRoZSBmbHVzaCB0aW1lc3RhbXAuXHJcbiAgICBpZiAoX2dldE5vdygpID4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JykudGltZVN0YW1wKSB7XHJcbiAgICAgICAgLy8gaWYgdGhlIGxvdy1yZXMgdGltZXN0YW1wIHdoaWNoIGlzIGJpZ2dlciB0aGFuIHRoZSBldmVudCB0aW1lc3RhbXBcclxuICAgICAgICAvLyAod2hpY2ggaXMgZXZhbHVhdGVkIEFGVEVSKSBpdCBtZWFucyB0aGUgZXZlbnQgaXMgdXNpbmcgYSBoaS1yZXMgdGltZXN0YW1wLFxyXG4gICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHVzZSB0aGUgaGktcmVzIHZlcnNpb24gZm9yIGV2ZW50IGxpc3RlbmVycyBhcyB3ZWxsLlxyXG4gICAgICAgIF9nZXROb3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIH1cclxuICAgIC8vICMzNDg1OiBGaXJlZm94IDw9IDUzIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wIGltcGxlbWVudGF0aW9uXHJcbiAgICAvLyBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvIHNhZmUgdG8gZXhjbHVkZS5cclxuICAgIGNvbnN0IGZmTWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpO1xyXG4gICAgc2tpcFRpbWVzdGFtcENoZWNrID0gISEoZmZNYXRjaCAmJiBOdW1iZXIoZmZNYXRjaFsxXSkgPD0gNTMpO1xyXG59XHJcbi8vIFRvIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiByZXBlYXRlZGx5IGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCksIHdlIGNhY2hlXHJcbi8vIGFuZCB1c2UgdGhlIHNhbWUgdGltZXN0YW1wIGZvciBhbGwgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkIGluIHRoZSBzYW1lIHRpY2suXHJcbmxldCBjYWNoZWROb3cgPSAwO1xyXG5jb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmNvbnN0IHJlc2V0ID0gKCkgPT4ge1xyXG4gICAgY2FjaGVkTm93ID0gMDtcclxufTtcclxuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4ocmVzZXQpLCAoY2FjaGVkTm93ID0gX2dldE5vdygpKSk7XHJcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xyXG4gICAgLy8gdmVpID0gdnVlIGV2ZW50IGludm9rZXJzXHJcbiAgICBjb25zdCBpbnZva2VycyA9IGVsLl92ZWkgfHwgKGVsLl92ZWkgPSB7fSk7XHJcbiAgICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcclxuICAgIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgLy8gcGF0Y2hcclxuICAgICAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XHJcbiAgICAgICAgaWYgKG5leHRWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBhZGRcclxuICAgICAgICAgICAgY29uc3QgaW52b2tlciA9IChpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZVxyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XHJcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIGxldCBtO1xyXG4gICAgICAgIHdoaWxlICgobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSkge1xyXG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2h5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKSwgb3B0aW9uc107XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcclxuICAgICAgICAvLyBhc3luYyBlZGdlIGNhc2UgIzY1NjY6IGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gb3V0ZXIgZWxlbWVudCBkdXJpbmcgcGF0Y2gsIGFuZCB0cmlnZ2VyZWQgYWdhaW4uIFRoaXNcclxuICAgICAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cclxuICAgICAgICAvLyB0aGUgc29sdXRpb24gaXMgc2ltcGxlOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsXHJcbiAgICAgICAgLy8gYW5kIHRoZSBoYW5kbGVyIHdvdWxkIG9ubHkgZmlyZSBpZiB0aGUgZXZlbnQgcGFzc2VkIHRvIGl0IHdhcyBmaXJlZFxyXG4gICAgICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cclxuICAgICAgICBjb25zdCB0aW1lU3RhbXAgPSBlLnRpbWVTdGFtcCB8fCBfZ2V0Tm93KCk7XHJcbiAgICAgICAgaWYgKHNraXBUaW1lc3RhbXBDaGVjayB8fCB0aW1lU3RhbXAgPj0gaW52b2tlci5hdHRhY2hlZCAtIDEpIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcocGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksIGluc3RhbmNlLCA1IC8qIE5BVElWRV9FVkVOVF9IQU5ETEVSICovLCBbZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xyXG4gICAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xyXG4gICAgcmV0dXJuIGludm9rZXI7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xyXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcclxuICAgICAgICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZuID0+IChlKSA9PiAhZS5fc3RvcHBlZCAmJiBmbihlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgbmF0aXZlT25SRSA9IC9eb25bYS16XS87XHJcbmNvbnN0IGZvcmNlUGF0Y2hQcm9wID0gKF8sIGtleSkgPT4ga2V5ID09PSAndmFsdWUnO1xyXG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGlzU1ZHID0gZmFsc2UsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgIC8vIHNwZWNpYWxcclxuICAgICAgICBjYXNlICdjbGFzcyc6XHJcbiAgICAgICAgICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdzdHlsZSc6XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPGlucHV0IHYtbW9kZWwgdHlwZT1cImNoZWNrYm94XCI+IHdpdGhcclxuICAgICAgICAgICAgICAgIC8vIDp0cnVlLXZhbHVlICYgOmZhbHNlLXZhbHVlXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBkb20gcHJvcGVydGllcyBzaW5jZSBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlXHJcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdpZmllZC5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICd0cnVlLXZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdmYWxzZS12YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xyXG4gICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgLy8gbW9zdCBrZXlzIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZSBvbiBzdmcgZWxlbWVudHMgdG8gd29ya1xyXG4gICAgICAgIC8vIC4uLmV4Y2VwdCBpbm5lckhUTUxcclxuICAgICAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gb3IgbmF0aXZlIG9uY2xpY2sgd2l0aCBmdW5jdGlvbiB2YWx1ZXNcclxuICAgICAgICBpZiAoa2V5IGluIGVsICYmIG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBzcGVsbGNoZWNrIGFuZCBkcmFnZ2FibGUgYXJlIG51bWVyYXRlZCBhdHRycywgaG93ZXZlciB0aGVpclxyXG4gICAgLy8gY29ycmVzcG9uZGluZyBET00gcHJvcGVydGllcyBhcmUgYWN0dWFsbHkgYm9vbGVhbnMgLSB0aGlzIGxlYWRzIHRvXHJcbiAgICAvLyBzZXR0aW5nIGl0IHdpdGggYSBzdHJpbmcgXCJmYWxzZVwiIHZhbHVlIGxlYWRpbmcgaXQgdG8gYmUgY29lcmNlZCB0b1xyXG4gICAgLy8gYHRydWVgLCBzbyB3ZSBuZWVkIHRvIGFsd2F5cyB0cmVhdCB0aGVtIGFzIGF0dHJpYnV0ZXMuXHJcbiAgICAvLyBOb3RlIHRoYXQgYGNvbnRlbnRFZGl0YWJsZWAgZG9lc24ndCBoYXZlIHRoaXMgcHJvYmxlbTogaXRzIERPTVxyXG4gICAgLy8gcHJvcGVydHkgaXMgYWxzbyBlbnVtZXJhdGVkIHN0cmluZyB2YWx1ZXMuXHJcbiAgICBpZiAoa2V5ID09PSAnc3BlbGxjaGVjaycgfHwga2V5ID09PSAnZHJhZ2dhYmxlJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMxNzg3LCAjMjg0MCBmb3JtIHByb3BlcnR5IG9uIGZvcm0gZWxlbWVudHMgaXMgcmVhZG9ubHkgYW5kIG11c3QgYmUgc2V0IGFzXHJcbiAgICAvLyBhdHRyaWJ1dGUuXHJcbiAgICBpZiAoa2V5ID09PSAnZm9ybScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMTUyNiA8aW5wdXQgbGlzdD4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAoa2V5ID09PSAnbGlzdCcgJiYgZWwudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMyNzY2IDx0ZXh0YXJlYSB0eXBlPiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChrZXkgPT09ICd0eXBlJyAmJiBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gbmF0aXZlIG9uY2xpY2sgd2l0aCBzdHJpbmcgdmFsdWUsIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBrZXkgaW4gZWw7XHJcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSAnJHN0eWxlJykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XHJcbiAgICAgICAgaWYgKCFtb2R1bGVzKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XHJcbiAgICAgICAgaWYgKCFtb2QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIFNGQydzIENTUyB2YXJpYWJsZSBpbmplY3Rpb24gZmVhdHVyZS5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIGdldHRlcihpbnN0YW5jZS5wcm94eSkpO1xyXG4gICAgb25Nb3VudGVkKCgpID0+IHdhdGNoRWZmZWN0KHNldFZhcnMsIHsgZmx1c2g6ICdwb3N0JyB9KSk7XHJcbiAgICBvblVwZGF0ZWQoc2V0VmFycyk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xyXG4gICAgICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xyXG4gICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZHJpbGwgZG93biBIT0NzIHVudGlsIGl0J3MgYSBub24tY29tcG9uZW50IHZub2RlXHJcbiAgICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XHJcbiAgICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcclxuICAgIH1cclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiYgdm5vZGUuZWwpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHZub2RlLmVsLnN0eWxlO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcclxuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFyc1trZXldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goYyA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcclxuY29uc3QgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XHJcbi8vIERPTSBUcmFuc2l0aW9uIGlzIGEgaGlnaGVyLW9yZGVyLWNvbXBvbmVudCBiYXNlZCBvbiB0aGUgcGxhdGZvcm0tYWdub3N0aWNcclxuLy8gYmFzZSBUcmFuc2l0aW9uIGNvbXBvbmVudCwgd2l0aCBET00tc3BlY2lmaWMgbG9naWMuXHJcbmNvbnN0IFRyYW5zaXRpb24gPSAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKTtcclxuVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uJztcclxuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcclxuICAgIG5hbWU6IFN0cmluZyxcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGNzczoge1xyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXHJcbiAgICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcclxufTtcclxuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IChUcmFuc2l0aW9uLnByb3BzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIEJhc2VUcmFuc2l0aW9uLnByb3BzLCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSk7XHJcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcclxuICAgIGxldCB7IG5hbWUgPSAndicsIHR5cGUsIGNzcyA9IHRydWUsIGR1cmF0aW9uLCBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLCBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCwgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLCBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcywgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLCBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLCBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLCBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCwgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gIH0gPSByYXdQcm9wcztcclxuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcclxuICAgICAgICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghY3NzKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VQcm9wcztcclxuICAgIH1cclxuICAgIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcclxuICAgIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xyXG4gICAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XHJcbiAgICBjb25zdCB7IG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlciwgb25BcHBlYXIgPSBvbkVudGVyLCBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWQgfSA9IGJhc2VQcm9wcztcclxuICAgIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcclxuICAgICAgICBkb25lICYmIGRvbmUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcclxuICAgICAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcclxuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XHJcbiAgICAgICAgICAgIGhvb2sgJiYgaG9vayhlbCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoaG9vayAmJiBob29rLmxlbmd0aCA+IDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xyXG4gICAgICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgb25CZWZvcmVFbnRlciAmJiBvbkJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xyXG4gICAgICAgICAgICBvbkJlZm9yZUFwcGVhciAmJiBvbkJlZm9yZUFwcGVhcihlbCk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcclxuICAgICAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcclxuICAgICAgICBvbkxlYXZlKGVsLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgc28gKi1sZWF2ZS1mcm9tIGNsYXNzZXMgaW1tZWRpYXRlbHkgdGFrZSBlZmZlY3QgKCMyNTkzKVxyXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShvbkxlYXZlICYmIG9uTGVhdmUubGVuZ3RoID4gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGxlYXZlRHVyYXRpb24sIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb25MZWF2ZSAmJiBvbkxlYXZlKGVsLCByZXNvbHZlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcclxuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIGZhbHNlKTtcclxuICAgICAgICAgICAgb25FbnRlckNhbmNlbGxlZCAmJiBvbkVudGVyQ2FuY2VsbGVkKGVsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcclxuICAgICAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQgJiYgb25BcHBlYXJDYW5jZWxsZWQoZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hMZWF2ZShlbCk7XHJcbiAgICAgICAgICAgIG9uTGVhdmVDYW5jZWxsZWQgJiYgb25MZWF2ZUNhbmNlbGxlZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pIHtcclxuICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChkdXJhdGlvbikpIHtcclxuICAgICAgICByZXR1cm4gW051bWJlck9mKGR1cmF0aW9uLmVudGVyKSwgTnVtYmVyT2YoZHVyYXRpb24ubGVhdmUpXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIFtuLCBuXTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcclxuICAgIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxyXG4gICAgICAgIHZhbGlkYXRlRHVyYXRpb24ocmVzKTtcclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVEdXJhdGlvbih2YWwpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHdhcm4oYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBgICtcclxuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNOYU4odmFsKSkge1xyXG4gICAgICAgIHdhcm4oYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBOYU4gLSBgICtcclxuICAgICAgICAgICAgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XHJcbiAgICAoZWwuX3Z0YyB8fFxyXG4gICAgICAgIChlbC5fdnRjID0gbmV3IFNldCgpKSkuYWRkKGNscyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcclxuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xyXG4gICAgY29uc3QgeyBfdnRjIH0gPSBlbDtcclxuICAgIGlmIChfdnRjKSB7XHJcbiAgICAgICAgX3Z0Yy5kZWxldGUoY2xzKTtcclxuICAgICAgICBpZiAoIV92dGMuc2l6ZSkge1xyXG4gICAgICAgICAgICBlbC5fdnRjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBuZXh0RnJhbWUoY2IpIHtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcclxuICAgIH0pO1xyXG59XHJcbmxldCBlbmRJZCA9IDA7XHJcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcclxuICAgIGNvbnN0IGlkID0gKGVsLl9lbmRJZCA9ICsrZW5kSWQpO1xyXG4gICAgY29uc3QgcmVzb2x2ZUlmTm90U3RhbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlkID09PSBlbC5fZW5kSWQpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoZXhwbGljaXRUaW1lb3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgJ2VuZCc7XHJcbiAgICBsZXQgZW5kZWQgPSAwO1xyXG4gICAgY29uc3QgZW5kID0gKCkgPT4ge1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxuICAgICAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsICYmICsrZW5kZWQgPj0gcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcclxuICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgdGltZW91dCArIDEpO1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcclxuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcclxuICAgIC8vIEpTRE9NIG1heSByZXR1cm4gdW5kZWZpbmVkIGZvciB0cmFuc2l0aW9uIHByb3BlcnRpZXNcclxuICAgIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKFRSQU5TSVRJT04gKyAnRGVsYXknKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoVFJBTlNJVElPTiArICdEdXJhdGlvbicpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKEFOSU1BVElPTiArICdEZWxheScpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKEFOSU1BVElPTiArICdEdXJhdGlvbicpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xyXG4gICAgbGV0IHR5cGUgPSBudWxsO1xyXG4gICAgbGV0IHRpbWVvdXQgPSAwO1xyXG4gICAgbGV0IHByb3BDb3VudCA9IDA7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBBTklNQVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XHJcbiAgICAgICAgdHlwZSA9XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPiAwXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgID8gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgICAgIDogQU5JTUFUSU9OXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgcHJvcENvdW50ID0gdHlwZVxyXG4gICAgICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmXHJcbiAgICAgICAgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KHN0eWxlc1tUUkFOU0lUSU9OICsgJ1Byb3BlcnR5J10pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgcHJvcENvdW50LFxyXG4gICAgICAgIGhhc1RyYW5zZm9ybVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XHJcbiAgICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xyXG59XHJcbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyXHJcbi8vIG51bWJlcnMgaW4gYSBsb2NhbGUtZGVwZW5kZW50IHdheSwgdXNpbmcgYSBjb21tYSBpbnN0ZWFkIG9mIGEgZG90LlxyXG4vLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duXHJcbi8vIChpLmUuIGFjdGluZyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXHJcbmZ1bmN0aW9uIHRvTXMocykge1xyXG4gICAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKCcsJywgJy4nKSkgKiAxMDAwO1xyXG59XHJcbi8vIHN5bmNocm9ub3VzbHkgZm9yY2UgbGF5b3V0IHRvIHB1dCBlbGVtZW50cyBpbnRvIGEgY2VydGFpbiBzdGF0ZVxyXG5mdW5jdGlvbiBmb3JjZVJlZmxvdygpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IHtcclxuICAgIG5hbWU6ICdUcmFuc2l0aW9uR3JvdXAnLFxyXG4gICAgcHJvcHM6IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XHJcbiAgICAgICAgdGFnOiBTdHJpbmcsXHJcbiAgICAgICAgbW92ZUNsYXNzOiBTdHJpbmdcclxuICAgIH0pLFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcclxuICAgICAgICBsZXQgcHJldkNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBjaGlsZHJlbjtcclxuICAgICAgICBvblVwZGF0ZWQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBpcyBndWFyYW50ZWVkIHRvIGV4aXN0IGFmdGVyIGluaXRpYWwgcmVuZGVyXHJcbiAgICAgICAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8ICd2J30tbW92ZWA7XHJcbiAgICAgICAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKHByZXZDaGlsZHJlblswXS5lbCwgaW5zdGFuY2Uudm5vZGUuZWwsIG1vdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcclxuICAgICAgICAgICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XHJcbiAgICAgICAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gKGVsLl9tb3ZlQ2IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCBjc3NUcmFuc2l0aW9uUHJvcHMgPSByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHByZXZDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25NYXAuc2V0KGNoaWxkLCBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XHJcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcclxuICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgIGlmIChlbC5fbW92ZUNiKSB7XHJcbiAgICAgICAgZWwuX21vdmVDYigpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLl9lbnRlckNiKSB7XHJcbiAgICAgICAgZWwuX2VudGVyQ2IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XHJcbiAgICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XHJcbiAgICBjb25zdCBvbGRQb3MgPSBwb3NpdGlvbk1hcC5nZXQoYyk7XHJcbiAgICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XHJcbiAgICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XHJcbiAgICBjb25zdCBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xyXG4gICAgaWYgKGR4IHx8IGR5KSB7XHJcbiAgICAgICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XHJcbiAgICAgICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XHJcbiAgICAgICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XHJcbiAgICAvLyBEZXRlY3Qgd2hldGhlciBhbiBlbGVtZW50IHdpdGggdGhlIG1vdmUgY2xhc3MgYXBwbGllZCBoYXNcclxuICAgIC8vIENTUyB0cmFuc2l0aW9ucy4gU2luY2UgdGhlIGVsZW1lbnQgbWF5IGJlIGluc2lkZSBhbiBlbnRlcmluZ1xyXG4gICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZVxyXG4gICAgLy8gYWxsIG90aGVyIHRyYW5zaXRpb24gY2xhc3NlcyBhcHBsaWVkIHRvIGVuc3VyZSBvbmx5IHRoZSBtb3ZlIGNsYXNzXHJcbiAgICAvLyBpcyBhcHBsaWVkLlxyXG4gICAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcclxuICAgIGlmIChlbC5fdnRjKSB7XHJcbiAgICAgICAgZWwuX3Z0Yy5mb3JFYWNoKGNscyA9PiB7XHJcbiAgICAgICAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbW92ZUNsYXNzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XHJcbiAgICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gKHJvb3Qubm9kZVR5cGUgPT09IDFcclxuICAgICAgICA/IHJvb3RcclxuICAgICAgICA6IHJvb3QucGFyZW50Tm9kZSk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xyXG4gICAgY29uc3QgeyBoYXNUcmFuc2Zvcm0gfSA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcclxuICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XHJcbiAgICByZXR1cm4gaGFzVHJhbnNmb3JtO1xyXG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcclxuICAgIGNvbnN0IGZuID0gdm5vZGUucHJvcHNbJ29uVXBkYXRlOm1vZGVsVmFsdWUnXTtcclxuICAgIHJldHVybiBpc0FycmF5KGZuKSA/IHZhbHVlID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcclxufTtcclxuZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0KGUpIHtcclxuICAgIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XHJcbn1cclxuZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZChlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XHJcbiAgICAgICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCAnaW5wdXQnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyKGVsLCB0eXBlKSB7XHJcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcclxuICAgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xyXG4gICAgZWwuZGlzcGF0Y2hFdmVudChlKTtcclxufVxyXG4vLyBXZSBhcmUgZXhwb3J0aW5nIHRoZSB2LW1vZGVsIHJ1bnRpbWUgZGlyZWN0bHkgYXMgdm5vZGUgaG9va3Mgc28gdGhhdCBpdCBjYW5cclxuLy8gYmUgdHJlZS1zaGFrZW4gaW4gY2FzZSB2LW1vZGVsIGlzIG5ldmVyIHVzZWQuXHJcbmNvbnN0IHZNb2RlbFRleHQgPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgZWwudHlwZSA9PT0gJ251bWJlcic7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/ICdjaGFuZ2UnIDogJ2lucHV0JywgZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jb21wb3NpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICAgICAgZG9tVmFsdWUgPSBkb21WYWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FzdFRvTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IHRvTnVtYmVyKGRvbVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGRvbVZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWwudmFsdWUgPSBlbC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxhenkpIHtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcclxuICAgICAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxyXG4gICAgICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXHJcbiAgICAgICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcclxuICAgICAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCBvbkNvbXBvc2l0aW9uRW5kKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IHZhbHVlIG9uIG1vdW50ZWQgc28gaXQncyBhZnRlciBtaW4vbWF4IGZvciB0eXBlPVwicmFuZ2VcIlxyXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgZWwudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICAvLyBhdm9pZCBjbGVhcmluZyB1bnJlc29sdmVkIHRleHQuICMyMzAyXHJcbiAgICAgICAgaWYgKGVsLmNvbXBvc2luZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbCkge1xyXG4gICAgICAgICAgICBpZiAodHJpbSAmJiBlbC52YWx1ZS50cmltKCkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChudW1iZXIgfHwgZWwudHlwZSA9PT0gJ251bWJlcicpICYmIHRvTnVtYmVyKGVsLnZhbHVlKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHZNb2RlbENoZWNrYm94ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgXywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9kZWxWYWx1ZSA9IGVsLl9tb2RlbFZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xyXG4gICAgICAgICAgICBjb25zdCBhc3NpZ24gPSBlbC5fYXNzaWduO1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsb29zZUluZGV4T2YobW9kZWxWYWx1ZSwgZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5hZGQoZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5kZWxldGUoZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFzc2lnbihjbG9uZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vIHNldCBpbml0aWFsIGNoZWNrZWQgb24gbW91bnQgdG8gd2FpdCBmb3IgdHJ1ZS12YWx1ZS9mYWxzZS12YWx1ZVxyXG4gICAgbW91bnRlZDogc2V0Q2hlY2tlZCxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXRDaGVja2VkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xyXG4gICAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZ2V0VmFsdWUoZWwpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAuY2FsbChlbC5vcHRpb25zLCAobykgPT4gby5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgIC5tYXAoKG8pID0+IG51bWJlciA/IHRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pKTtcclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihlbC5tdWx0aXBsZVxyXG4gICAgICAgICAgICAgICAgPyBpc1NldE1vZGVsXHJcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRWYWxcclxuICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRWYWxbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgIH0sXHJcbiAgICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXHJcbiAgICAvLyA8b3B0aW9uPnMuXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgX2JpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSkge1xyXG4gICAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xyXG4gICAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXkodmFsdWUpICYmICFpc1NldCh2YWx1ZSkpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPiBleHBlY3RzIGFuIEFycmF5IG9yIFNldCB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGAgK1xyXG4gICAgICAgICAgICAgICAgYGJ1dCBnb3QgJHtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKX0uYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBlbC5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBnZXRWYWx1ZShvcHRpb24pO1xyXG4gICAgICAgIGlmIChpc011bHRpcGxlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmhhcyhvcHRpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzTXVsdGlwbGUpIHtcclxuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICB9XHJcbn1cclxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIHNldCB2aWEgOnZhbHVlIGJpbmRpbmdzXHJcbmZ1bmN0aW9uIGdldFZhbHVlKGVsKSB7XHJcbiAgICByZXR1cm4gJ192YWx1ZScgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcclxufVxyXG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgZm9yIHRydWUtdmFsdWUgYW5kIGZhbHNlLXZhbHVlIHNldCB2aWEgOnRydWUtdmFsdWUgb3IgOmZhbHNlLXZhbHVlIGJpbmRpbmdzXHJcbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcclxuICAgIGNvbnN0IGtleSA9IGNoZWNrZWQgPyAnX3RydWVWYWx1ZScgOiAnX2ZhbHNlVmFsdWUnO1xyXG4gICAgcmV0dXJuIGtleSBpbiBlbCA/IGVsW2tleV0gOiBjaGVja2VkO1xyXG59XHJcbmNvbnN0IHZNb2RlbER5bmFtaWMgPSB7XHJcbiAgICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCAnY3JlYXRlZCcpO1xyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdtb3VudGVkJyk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAndXBkYXRlZCcpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBob29rKSB7XHJcbiAgICBsZXQgbW9kZWxUb1VzZTtcclxuICAgIHN3aXRjaCAoZWwudGFnTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ1NFTEVDVCc6XHJcbiAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxTZWxlY3Q7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1RFWFRBUkVBJzpcclxuICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFRleHQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHN3aXRjaCAodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxDaGVja2JveDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsUmFkaW87XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBmbiA9IG1vZGVsVG9Vc2VbaG9va107XHJcbiAgICBmbiAmJiBmbihlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSk7XHJcbn1cblxuY29uc3Qgc3lzdGVtTW9kaWZpZXJzID0gWydjdHJsJywgJ3NoaWZ0JywgJ2FsdCcsICdtZXRhJ107XHJcbmNvbnN0IG1vZGlmaWVyR3VhcmRzID0ge1xyXG4gICAgc3RvcDogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxyXG4gICAgcHJldmVudDogZSA9PiBlLnByZXZlbnREZWZhdWx0KCksXHJcbiAgICBzZWxmOiBlID0+IGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQsXHJcbiAgICBjdHJsOiBlID0+ICFlLmN0cmxLZXksXHJcbiAgICBzaGlmdDogZSA9PiAhZS5zaGlmdEtleSxcclxuICAgIGFsdDogZSA9PiAhZS5hbHRLZXksXHJcbiAgICBtZXRhOiBlID0+ICFlLm1ldGFLZXksXHJcbiAgICBsZWZ0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDAsXHJcbiAgICBtaWRkbGU6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMSxcclxuICAgIHJpZ2h0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDIsXHJcbiAgICBleGFjdDogKGUsIG1vZGlmaWVycykgPT4gc3lzdGVtTW9kaWZpZXJzLnNvbWUobSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcclxufTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcclxuICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XHJcbiAgICAgICAgICAgIGlmIChndWFyZCAmJiBndWFyZChldmVudCwgbW9kaWZpZXJzKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcclxuICAgIH07XHJcbn07XHJcbi8vIEtlcHQgZm9yIDIueCBjb21wYXQuXHJcbi8vIE5vdGU6IElFMTEgY29tcGF0IGZvciBgc3BhY2ViYXJgIGFuZCBgZGVsYCBpcyByZW1vdmVkIGZvciBub3cuXHJcbmNvbnN0IGtleU5hbWVzID0ge1xyXG4gICAgZXNjOiAnZXNjYXBlJyxcclxuICAgIHNwYWNlOiAnICcsXHJcbiAgICB1cDogJ2Fycm93LXVwJyxcclxuICAgIGxlZnQ6ICdhcnJvdy1sZWZ0JyxcclxuICAgIHJpZ2h0OiAnYXJyb3ctcmlnaHQnLFxyXG4gICAgZG93bjogJ2Fycm93LWRvd24nLFxyXG4gICAgZGVsZXRlOiAnYmFja3NwYWNlJ1xyXG59O1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcclxuICAgIHJldHVybiAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoISgna2V5JyBpbiBldmVudCkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCBldmVudEtleSA9IGh5cGhlbmF0ZShldmVudC5rZXkpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAvLyBOb25lIG9mIHRoZSBwcm92aWRlZCBrZXkgbW9kaWZpZXJzIG1hdGNoIHRoZSBjdXJyZW50IGV2ZW50IGtleVxyXG4gICAgICAgICFtb2RpZmllcnMuc29tZShrID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xyXG4gICAgfTtcclxufTtcblxuY29uc3QgdlNob3cgPSB7XHJcbiAgICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGVsLl92b2QgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbC5fdm9kIDogJ25vbmUnO1xyXG59XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IGV4dGVuZCh7IHBhdGNoUHJvcCwgZm9yY2VQYXRjaFByb3AgfSwgbm9kZU9wcyk7XHJcbi8vIGxhenkgY3JlYXRlIHRoZSByZW5kZXJlciAtIHRoaXMgbWFrZXMgY29yZSByZW5kZXJlciBsb2dpYyB0cmVlLXNoYWthYmxlXHJcbi8vIGluIGNhc2UgdGhlIHVzZXIgb25seSBpbXBvcnRzIHJlYWN0aXZpdHkgdXRpbGl0aWVzIGZyb20gVnVlLlxyXG5sZXQgcmVuZGVyZXI7XHJcbmxldCBlbmFibGVkSHlkcmF0aW9uID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xyXG4gICAgcmV0dXJuIHJlbmRlcmVyIHx8IChyZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucykpO1xyXG59XHJcbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xyXG4gICAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uXHJcbiAgICAgICAgPyByZW5kZXJlclxyXG4gICAgICAgIDogY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKTtcclxuICAgIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xyXG4gICAgcmV0dXJuIHJlbmRlcmVyO1xyXG59XHJcbi8vIHVzZSBleHBsaWNpdCB0eXBlIGNhc3RzIGhlcmUgdG8gYXZvaWQgaW1wb3J0KCkgY2FsbHMgaW4gcm9sbGVkLXVwIGQudHNcclxuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcclxufSk7XHJcbmNvbnN0IGh5ZHJhdGUgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZUFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgICAgICBpbmplY3RDdXN0b21FbGVtZW50Q2hlY2soYXBwKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcclxuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQudGVtcGxhdGUgPSBjb250YWluZXIuaW5uZXJIVE1MO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjbGVhciBjb250ZW50IGJlZm9yZSBtb3VudGluZ1xyXG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBjb25zdCBwcm94eSA9IG1vdW50KGNvbnRhaW5lciwgZmFsc2UsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3YtY2xvYWsnKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS12LWFwcCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBhcHA7XHJcbn0pO1xyXG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XHJcbiAgICAgICAgaW5qZWN0Q3VzdG9tRWxlbWVudENoZWNrKGFwcCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XHJcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb3VudChjb250YWluZXIsIHRydWUsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gYXBwO1xyXG59KTtcclxuZnVuY3Rpb24gaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKSB7XHJcbiAgICAvLyBJbmplY3QgYGlzTmF0aXZlVGFnYFxyXG4gICAgLy8gdGhpcyBpcyB1c2VkIGZvciBjb21wb25lbnQgbmFtZSB2YWxpZGF0aW9uIChkZXYgb25seSlcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnaXNOYXRpdmVUYWcnLCB7XHJcbiAgICAgICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZyksXHJcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXHJcbiAgICB9KTtcclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBpbmplY3RDdXN0b21FbGVtZW50Q2hlY2soYXBwKSB7XHJcbiAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzQ3VzdG9tRWxlbWVudCcsIHtcclxuICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgcnVudGltZSBjb21waWxlci5gICtcclxuICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkLCBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgbXVzdCBiZSBwYXNzZWQgdG8gXFxgQHZ1ZS9jb21waWxlci1kb21cXGAgaW4gdGhlIGJ1aWxkIHNldHVwIGluc3RlYWRgICtcclxuICAgICAgICAgICAgICAgICAgICBgLSBmb3IgZXhhbXBsZSwgdmlhIHRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgb3B0aW9uIGluIHZ1ZS1sb2FkZXI6IGh0dHBzOi8vdnVlLWxvYWRlci52dWVqcy5vcmcvb3B0aW9ucy5odG1sI2NvbXBpbGVyb3B0aW9ucy5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXIpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmXHJcbiAgICAgICAgY29udGFpbmVyLm1vZGUgPT09ICdjbG9zZWQnKSB7XHJcbiAgICAgICAgd2FybihgbW91bnRpbmcgb24gYSBTaGFkb3dSb290IHdpdGggXFxge21vZGU6IFwiY2xvc2VkXCJ9XFxgIG1heSBsZWFkIHRvIHVucHJlZGljdGFibGUgYnVnc2ApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxufVxuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBoeWRyYXRlLCByZW5kZXIsIHVzZUNzc01vZHVsZSwgdXNlQ3NzVmFycywgdk1vZGVsQ2hlY2tib3gsIHZNb2RlbER5bmFtaWMsIHZNb2RlbFJhZGlvLCB2TW9kZWxTZWxlY3QsIHZNb2RlbFRleHQsIHZTaG93LCB3aXRoS2V5cywgd2l0aE1vZGlmaWVycyB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgXCJodHRwczovL3Jlc291cmNlcy5yZWFsaXR5bWVkaWEuZGlnaXRhbC90ZXN0LXZ1ZS1hcHAvZGlzdC8xYTZhY2UzNzcxMzNmMTRhLnBuZ1wiIiwiZXhwb3J0IGZ1bmN0aW9uIGdldERldnRvb2xzR2xvYmFsSG9vaygpIHtcbiAgICByZXR1cm4gZ2V0VGFyZ2V0KCkuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHdpbmRvd1xuICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgOiB7fTtcbn1cbiIsImV4cG9ydCBjb25zdCBIT09LX1NFVFVQID0gJ2RldnRvb2xzLXBsdWdpbjpzZXR1cCc7XG4iLCJpbXBvcnQgeyBnZXRUYXJnZXQsIGdldERldnRvb2xzR2xvYmFsSG9vayB9IGZyb20gJy4vZW52JztcbmltcG9ydCB7IEhPT0tfU0VUVVAgfSBmcm9tICcuL2NvbnN0JztcbmV4cG9ydCAqIGZyb20gJy4vYXBpJztcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cERldnRvb2xzUGx1Z2luKHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pIHtcbiAgICBjb25zdCBob29rID0gZ2V0RGV2dG9vbHNHbG9iYWxIb29rKCk7XG4gICAgaWYgKGhvb2spIHtcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KCk7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyB8fCBbXTtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3IsXG4gICAgICAgICAgICBzZXR1cEZuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qIVxuICogdnVleCB2NC4wLjFcbiAqIChjKSAyMDIxIEV2YW4gWW91XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgaW5qZWN0LCByZWFjdGl2ZSwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxudmFyIHN0b3JlS2V5ID0gJ3N0b3JlJztcblxuZnVuY3Rpb24gdXNlU3RvcmUgKGtleSkge1xuICBpZiAoIGtleSA9PT0gdm9pZCAwICkga2V5ID0gbnVsbDtcblxuICByZXR1cm4gaW5qZWN0KGtleSAhPT0gbnVsbCA/IGtleSA6IHN0b3JlS2V5KVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmlyc3QgaXRlbSB0aGF0IHBhc3MgdGhlIHRlc3RcbiAqIGJ5IHNlY29uZCBhcmd1bWVudCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIGZpbmQgKGxpc3QsIGYpIHtcbiAgcmV0dXJuIGxpc3QuZmlsdGVyKGYpWzBdXG59XG5cbi8qKlxuICogRGVlcCBjb3B5IHRoZSBnaXZlbiBvYmplY3QgY29uc2lkZXJpbmcgY2lyY3VsYXIgc3RydWN0dXJlLlxuICogVGhpcyBmdW5jdGlvbiBjYWNoZXMgYWxsIG5lc3RlZCBvYmplY3RzIGFuZCBpdHMgY29waWVzLlxuICogSWYgaXQgZGV0ZWN0cyBjaXJjdWxhciBzdHJ1Y3R1cmUsIHVzZSBjYWNoZWQgY29weSB0byBhdm9pZCBpbmZpbml0ZSBsb29wLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGNhY2hlXG4gKiBAcmV0dXJuIHsqfVxuICovXG5mdW5jdGlvbiBkZWVwQ29weSAob2JqLCBjYWNoZSkge1xuICBpZiAoIGNhY2hlID09PSB2b2lkIDAgKSBjYWNoZSA9IFtdO1xuXG4gIC8vIGp1c3QgcmV0dXJuIGlmIG9iaiBpcyBpbW11dGFibGUgdmFsdWVcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmpcbiAgfVxuXG4gIC8vIGlmIG9iaiBpcyBoaXQsIGl0IGlzIGluIGNpcmN1bGFyIHN0cnVjdHVyZVxuICB2YXIgaGl0ID0gZmluZChjYWNoZSwgZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMub3JpZ2luYWwgPT09IG9iajsgfSk7XG4gIGlmIChoaXQpIHtcbiAgICByZXR1cm4gaGl0LmNvcHlcbiAgfVxuXG4gIHZhciBjb3B5ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiB7fTtcbiAgLy8gcHV0IHRoZSBjb3B5IGludG8gY2FjaGUgYXQgZmlyc3RcbiAgLy8gYmVjYXVzZSB3ZSB3YW50IHRvIHJlZmVyIGl0IGluIHJlY3Vyc2l2ZSBkZWVwQ29weVxuICBjYWNoZS5wdXNoKHtcbiAgICBvcmlnaW5hbDogb2JqLFxuICAgIGNvcHk6IGNvcHlcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSwgY2FjaGUpO1xuICB9KTtcblxuICByZXR1cm4gY29weVxufVxuXG4vKipcbiAqIGZvckVhY2ggZm9yIG9iamVjdFxuICovXG5mdW5jdGlvbiBmb3JFYWNoVmFsdWUgKG9iaiwgZm4pIHtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGZuKG9ialtrZXldLCBrZXkpOyB9KTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QgKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzZSAodmFsKSB7XG4gIHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbC50aGVuID09PSAnZnVuY3Rpb24nXG59XG5cbmZ1bmN0aW9uIGFzc2VydCAoY29uZGl0aW9uLCBtc2cpIHtcbiAgaWYgKCFjb25kaXRpb24pIHsgdGhyb3cgbmV3IEVycm9yKChcIlt2dWV4XSBcIiArIG1zZykpIH1cbn1cblxuZnVuY3Rpb24gcGFydGlhbCAoZm4sIGFyZykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmbihhcmcpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJpY1N1YnNjcmliZSAoZm4sIHN1YnMsIG9wdGlvbnMpIHtcbiAgaWYgKHN1YnMuaW5kZXhPZihmbikgPCAwKSB7XG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmRcbiAgICAgID8gc3Vicy51bnNoaWZ0KGZuKVxuICAgICAgOiBzdWJzLnB1c2goZm4pO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGkgPSBzdWJzLmluZGV4T2YoZm4pO1xuICAgIGlmIChpID4gLTEpIHtcbiAgICAgIHN1YnMuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNldFN0b3JlIChzdG9yZSwgaG90KSB7XG4gIHN0b3JlLl9hY3Rpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RvcmUuX211dGF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0b3JlLl93cmFwcGVkR2V0dGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHN0YXRlID0gc3RvcmUuc3RhdGU7XG4gIC8vIGluaXQgYWxsIG1vZHVsZXNcbiAgaW5zdGFsbE1vZHVsZShzdG9yZSwgc3RhdGUsIFtdLCBzdG9yZS5fbW9kdWxlcy5yb290LCB0cnVlKTtcbiAgLy8gcmVzZXQgc3RhdGVcbiAgcmVzZXRTdG9yZVN0YXRlKHN0b3JlLCBzdGF0ZSwgaG90KTtcbn1cblxuZnVuY3Rpb24gcmVzZXRTdG9yZVN0YXRlIChzdG9yZSwgc3RhdGUsIGhvdCkge1xuICB2YXIgb2xkU3RhdGUgPSBzdG9yZS5fc3RhdGU7XG5cbiAgLy8gYmluZCBzdG9yZSBwdWJsaWMgZ2V0dGVyc1xuICBzdG9yZS5nZXR0ZXJzID0ge307XG4gIC8vIHJlc2V0IGxvY2FsIGdldHRlcnMgY2FjaGVcbiAgc3RvcmUuX21ha2VMb2NhbEdldHRlcnNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciB3cmFwcGVkR2V0dGVycyA9IHN0b3JlLl93cmFwcGVkR2V0dGVycztcbiAgdmFyIGNvbXB1dGVkT2JqID0ge307XG4gIGZvckVhY2hWYWx1ZSh3cmFwcGVkR2V0dGVycywgZnVuY3Rpb24gKGZuLCBrZXkpIHtcbiAgICAvLyB1c2UgY29tcHV0ZWQgdG8gbGV2ZXJhZ2UgaXRzIGxhenktY2FjaGluZyBtZWNoYW5pc21cbiAgICAvLyBkaXJlY3QgaW5saW5lIGZ1bmN0aW9uIHVzZSB3aWxsIGxlYWQgdG8gY2xvc3VyZSBwcmVzZXJ2aW5nIG9sZFN0YXRlLlxuICAgIC8vIHVzaW5nIHBhcnRpYWwgdG8gcmV0dXJuIGZ1bmN0aW9uIHdpdGggb25seSBhcmd1bWVudHMgcHJlc2VydmVkIGluIGNsb3N1cmUgZW52aXJvbm1lbnQuXG4gICAgY29tcHV0ZWRPYmpba2V5XSA9IHBhcnRpYWwoZm4sIHN0b3JlKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUuZ2V0dGVycywga2V5LCB7XG4gICAgICAvLyBUT0RPOiB1c2UgYGNvbXB1dGVkYCB3aGVuIGl0J3MgcG9zc2libGUuIGF0IHRoZSBtb21lbnQgd2UgY2FuJ3QgZHVlIHRvXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVleC9wdWxsLzE4ODNcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcHV0ZWRPYmpba2V5XSgpOyB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSAvLyBmb3IgbG9jYWwgZ2V0dGVyc1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5fc3RhdGUgPSByZWFjdGl2ZSh7XG4gICAgZGF0YTogc3RhdGVcbiAgfSk7XG5cbiAgLy8gZW5hYmxlIHN0cmljdCBtb2RlIGZvciBuZXcgc3RhdGVcbiAgaWYgKHN0b3JlLnN0cmljdCkge1xuICAgIGVuYWJsZVN0cmljdE1vZGUoc3RvcmUpO1xuICB9XG5cbiAgaWYgKG9sZFN0YXRlKSB7XG4gICAgaWYgKGhvdCkge1xuICAgICAgLy8gZGlzcGF0Y2ggY2hhbmdlcyBpbiBhbGwgc3Vic2NyaWJlZCB3YXRjaGVyc1xuICAgICAgLy8gdG8gZm9yY2UgZ2V0dGVyIHJlLWV2YWx1YXRpb24gZm9yIGhvdCByZWxvYWRpbmcuXG4gICAgICBzdG9yZS5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9sZFN0YXRlLmRhdGEgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGxNb2R1bGUgKHN0b3JlLCByb290U3RhdGUsIHBhdGgsIG1vZHVsZSwgaG90KSB7XG4gIHZhciBpc1Jvb3QgPSAhcGF0aC5sZW5ndGg7XG4gIHZhciBuYW1lc3BhY2UgPSBzdG9yZS5fbW9kdWxlcy5nZXROYW1lc3BhY2UocGF0aCk7XG5cbiAgLy8gcmVnaXN0ZXIgaW4gbmFtZXNwYWNlIG1hcFxuICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcbiAgICBpZiAoc3RvcmUuX21vZHVsZXNOYW1lc3BhY2VNYXBbbmFtZXNwYWNlXSAmJiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIGR1cGxpY2F0ZSBuYW1lc3BhY2UgXCIgKyBuYW1lc3BhY2UgKyBcIiBmb3IgdGhlIG5hbWVzcGFjZWQgbW9kdWxlIFwiICsgKHBhdGguam9pbignLycpKSkpO1xuICAgIH1cbiAgICBzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcFtuYW1lc3BhY2VdID0gbW9kdWxlO1xuICB9XG5cbiAgLy8gc2V0IHN0YXRlXG4gIGlmICghaXNSb290ICYmICFob3QpIHtcbiAgICB2YXIgcGFyZW50U3RhdGUgPSBnZXROZXN0ZWRTdGF0ZShyb290U3RhdGUsIHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgICB2YXIgbW9kdWxlTmFtZSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICBzdG9yZS5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGlmIChtb2R1bGVOYW1lIGluIHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgKFwiW3Z1ZXhdIHN0YXRlIGZpZWxkIFxcXCJcIiArIG1vZHVsZU5hbWUgKyBcIlxcXCIgd2FzIG92ZXJyaWRkZW4gYnkgYSBtb2R1bGUgd2l0aCB0aGUgc2FtZSBuYW1lIGF0IFxcXCJcIiArIChwYXRoLmpvaW4oJy4nKSkgKyBcIlxcXCJcIilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXJlbnRTdGF0ZVttb2R1bGVOYW1lXSA9IG1vZHVsZS5zdGF0ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBsb2NhbCA9IG1vZHVsZS5jb250ZXh0ID0gbWFrZUxvY2FsQ29udGV4dChzdG9yZSwgbmFtZXNwYWNlLCBwYXRoKTtcblxuICBtb2R1bGUuZm9yRWFjaE11dGF0aW9uKGZ1bmN0aW9uIChtdXRhdGlvbiwga2V5KSB7XG4gICAgdmFyIG5hbWVzcGFjZWRUeXBlID0gbmFtZXNwYWNlICsga2V5O1xuICAgIHJlZ2lzdGVyTXV0YXRpb24oc3RvcmUsIG5hbWVzcGFjZWRUeXBlLCBtdXRhdGlvbiwgbG9jYWwpO1xuICB9KTtcblxuICBtb2R1bGUuZm9yRWFjaEFjdGlvbihmdW5jdGlvbiAoYWN0aW9uLCBrZXkpIHtcbiAgICB2YXIgdHlwZSA9IGFjdGlvbi5yb290ID8ga2V5IDogbmFtZXNwYWNlICsga2V5O1xuICAgIHZhciBoYW5kbGVyID0gYWN0aW9uLmhhbmRsZXIgfHwgYWN0aW9uO1xuICAgIHJlZ2lzdGVyQWN0aW9uKHN0b3JlLCB0eXBlLCBoYW5kbGVyLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoR2V0dGVyKGZ1bmN0aW9uIChnZXR0ZXIsIGtleSkge1xuICAgIHZhciBuYW1lc3BhY2VkVHlwZSA9IG5hbWVzcGFjZSArIGtleTtcbiAgICByZWdpc3RlckdldHRlcihzdG9yZSwgbmFtZXNwYWNlZFR5cGUsIGdldHRlciwgbG9jYWwpO1xuICB9KTtcblxuICBtb2R1bGUuZm9yRWFjaENoaWxkKGZ1bmN0aW9uIChjaGlsZCwga2V5KSB7XG4gICAgaW5zdGFsbE1vZHVsZShzdG9yZSwgcm9vdFN0YXRlLCBwYXRoLmNvbmNhdChrZXkpLCBjaGlsZCwgaG90KTtcbiAgfSk7XG59XG5cbi8qKlxuICogbWFrZSBsb2NhbGl6ZWQgZGlzcGF0Y2gsIGNvbW1pdCwgZ2V0dGVycyBhbmQgc3RhdGVcbiAqIGlmIHRoZXJlIGlzIG5vIG5hbWVzcGFjZSwganVzdCB1c2Ugcm9vdCBvbmVzXG4gKi9cbmZ1bmN0aW9uIG1ha2VMb2NhbENvbnRleHQgKHN0b3JlLCBuYW1lc3BhY2UsIHBhdGgpIHtcbiAgdmFyIG5vTmFtZXNwYWNlID0gbmFtZXNwYWNlID09PSAnJztcblxuICB2YXIgbG9jYWwgPSB7XG4gICAgZGlzcGF0Y2g6IG5vTmFtZXNwYWNlID8gc3RvcmUuZGlzcGF0Y2ggOiBmdW5jdGlvbiAoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucykge1xuICAgICAgdmFyIGFyZ3MgPSB1bmlmeU9iamVjdFN0eWxlKF90eXBlLCBfcGF5bG9hZCwgX29wdGlvbnMpO1xuICAgICAgdmFyIHBheWxvYWQgPSBhcmdzLnBheWxvYWQ7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3Mub3B0aW9ucztcbiAgICAgIHZhciB0eXBlID0gYXJncy50eXBlO1xuXG4gICAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucm9vdCkge1xuICAgICAgICB0eXBlID0gbmFtZXNwYWNlICsgdHlwZTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhc3RvcmUuX2FjdGlvbnNbdHlwZV0pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGxvY2FsIGFjdGlvbiB0eXBlOiBcIiArIChhcmdzLnR5cGUpICsgXCIsIGdsb2JhbCB0eXBlOiBcIiArIHR5cGUpKTtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2godHlwZSwgcGF5bG9hZClcbiAgICB9LFxuXG4gICAgY29tbWl0OiBub05hbWVzcGFjZSA/IHN0b3JlLmNvbW1pdCA6IGZ1bmN0aW9uIChfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKSB7XG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFyZ3MucGF5bG9hZDtcbiAgICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zO1xuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XG5cbiAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5yb290KSB7XG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFzdG9yZS5fbXV0YXRpb25zW3R5cGVdKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gdW5rbm93biBsb2NhbCBtdXRhdGlvbiB0eXBlOiBcIiArIChhcmdzLnR5cGUpICsgXCIsIGdsb2JhbCB0eXBlOiBcIiArIHR5cGUpKTtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdG9yZS5jb21taXQodHlwZSwgcGF5bG9hZCwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGdldHRlcnMgYW5kIHN0YXRlIG9iamVjdCBtdXN0IGJlIGdvdHRlbiBsYXppbHlcbiAgLy8gYmVjYXVzZSB0aGV5IHdpbGwgYmUgY2hhbmdlZCBieSBzdGF0ZSB1cGRhdGVcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobG9jYWwsIHtcbiAgICBnZXR0ZXJzOiB7XG4gICAgICBnZXQ6IG5vTmFtZXNwYWNlXG4gICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcmUuZ2V0dGVyczsgfVxuICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VMb2NhbEdldHRlcnMoc3RvcmUsIG5hbWVzcGFjZSk7IH1cbiAgICB9LFxuICAgIHN0YXRlOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldE5lc3RlZFN0YXRlKHN0b3JlLnN0YXRlLCBwYXRoKTsgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGxvY2FsXG59XG5cbmZ1bmN0aW9uIG1ha2VMb2NhbEdldHRlcnMgKHN0b3JlLCBuYW1lc3BhY2UpIHtcbiAgaWYgKCFzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlW25hbWVzcGFjZV0pIHtcbiAgICB2YXIgZ2V0dGVyc1Byb3h5ID0ge307XG4gICAgdmFyIHNwbGl0UG9zID0gbmFtZXNwYWNlLmxlbmd0aDtcbiAgICBPYmplY3Qua2V5cyhzdG9yZS5nZXR0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAvLyBza2lwIGlmIHRoZSB0YXJnZXQgZ2V0dGVyIGlzIG5vdCBtYXRjaCB0aGlzIG5hbWVzcGFjZVxuICAgICAgaWYgKHR5cGUuc2xpY2UoMCwgc3BsaXRQb3MpICE9PSBuYW1lc3BhY2UpIHsgcmV0dXJuIH1cblxuICAgICAgLy8gZXh0cmFjdCBsb2NhbCBnZXR0ZXIgdHlwZVxuICAgICAgdmFyIGxvY2FsVHlwZSA9IHR5cGUuc2xpY2Uoc3BsaXRQb3MpO1xuXG4gICAgICAvLyBBZGQgYSBwb3J0IHRvIHRoZSBnZXR0ZXJzIHByb3h5LlxuICAgICAgLy8gRGVmaW5lIGFzIGdldHRlciBwcm9wZXJ0eSBiZWNhdXNlXG4gICAgICAvLyB3ZSBkbyBub3Qgd2FudCB0byBldmFsdWF0ZSB0aGUgZ2V0dGVycyBpbiB0aGlzIHRpbWUuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2V0dGVyc1Byb3h5LCBsb2NhbFR5cGUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXR0ZXJzW3R5cGVdOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlW25hbWVzcGFjZV0gPSBnZXR0ZXJzUHJveHk7XG4gIH1cblxuICByZXR1cm4gc3RvcmUuX21ha2VMb2NhbEdldHRlcnNDYWNoZVtuYW1lc3BhY2VdXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyTXV0YXRpb24gKHN0b3JlLCB0eXBlLCBoYW5kbGVyLCBsb2NhbCkge1xuICB2YXIgZW50cnkgPSBzdG9yZS5fbXV0YXRpb25zW3R5cGVdIHx8IChzdG9yZS5fbXV0YXRpb25zW3R5cGVdID0gW10pO1xuICBlbnRyeS5wdXNoKGZ1bmN0aW9uIHdyYXBwZWRNdXRhdGlvbkhhbmRsZXIgKHBheWxvYWQpIHtcbiAgICBoYW5kbGVyLmNhbGwoc3RvcmUsIGxvY2FsLnN0YXRlLCBwYXlsb2FkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyQWN0aW9uIChzdG9yZSwgdHlwZSwgaGFuZGxlciwgbG9jYWwpIHtcbiAgdmFyIGVudHJ5ID0gc3RvcmUuX2FjdGlvbnNbdHlwZV0gfHwgKHN0b3JlLl9hY3Rpb25zW3R5cGVdID0gW10pO1xuICBlbnRyeS5wdXNoKGZ1bmN0aW9uIHdyYXBwZWRBY3Rpb25IYW5kbGVyIChwYXlsb2FkKSB7XG4gICAgdmFyIHJlcyA9IGhhbmRsZXIuY2FsbChzdG9yZSwge1xuICAgICAgZGlzcGF0Y2g6IGxvY2FsLmRpc3BhdGNoLFxuICAgICAgY29tbWl0OiBsb2NhbC5jb21taXQsXG4gICAgICBnZXR0ZXJzOiBsb2NhbC5nZXR0ZXJzLFxuICAgICAgc3RhdGU6IGxvY2FsLnN0YXRlLFxuICAgICAgcm9vdEdldHRlcnM6IHN0b3JlLmdldHRlcnMsXG4gICAgICByb290U3RhdGU6IHN0b3JlLnN0YXRlXG4gICAgfSwgcGF5bG9hZCk7XG4gICAgaWYgKCFpc1Byb21pc2UocmVzKSkge1xuICAgICAgcmVzID0gUHJvbWlzZS5yZXNvbHZlKHJlcyk7XG4gICAgfVxuICAgIGlmIChzdG9yZS5fZGV2dG9vbEhvb2spIHtcbiAgICAgIHJldHVybiByZXMuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBzdG9yZS5fZGV2dG9vbEhvb2suZW1pdCgndnVleDplcnJvcicsIGVycik7XG4gICAgICAgIHRocm93IGVyclxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyR2V0dGVyIChzdG9yZSwgdHlwZSwgcmF3R2V0dGVyLCBsb2NhbCkge1xuICBpZiAoc3RvcmUuX3dyYXBwZWRHZXR0ZXJzW3R5cGVdKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gZHVwbGljYXRlIGdldHRlciBrZXk6IFwiICsgdHlwZSkpO1xuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuICBzdG9yZS5fd3JhcHBlZEdldHRlcnNbdHlwZV0gPSBmdW5jdGlvbiB3cmFwcGVkR2V0dGVyIChzdG9yZSkge1xuICAgIHJldHVybiByYXdHZXR0ZXIoXG4gICAgICBsb2NhbC5zdGF0ZSwgLy8gbG9jYWwgc3RhdGVcbiAgICAgIGxvY2FsLmdldHRlcnMsIC8vIGxvY2FsIGdldHRlcnNcbiAgICAgIHN0b3JlLnN0YXRlLCAvLyByb290IHN0YXRlXG4gICAgICBzdG9yZS5nZXR0ZXJzIC8vIHJvb3QgZ2V0dGVyc1xuICAgIClcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW5hYmxlU3RyaWN0TW9kZSAoc3RvcmUpIHtcbiAgd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcmUuX3N0YXRlLmRhdGE7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICBhc3NlcnQoc3RvcmUuX2NvbW1pdHRpbmcsIFwiZG8gbm90IG11dGF0ZSB2dWV4IHN0b3JlIHN0YXRlIG91dHNpZGUgbXV0YXRpb24gaGFuZGxlcnMuXCIpO1xuICAgIH1cbiAgfSwgeyBkZWVwOiB0cnVlLCBmbHVzaDogJ3N5bmMnIH0pO1xufVxuXG5mdW5jdGlvbiBnZXROZXN0ZWRTdGF0ZSAoc3RhdGUsIHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKGZ1bmN0aW9uIChzdGF0ZSwga2V5KSB7IHJldHVybiBzdGF0ZVtrZXldOyB9LCBzdGF0ZSlcbn1cblxuZnVuY3Rpb24gdW5pZnlPYmplY3RTdHlsZSAodHlwZSwgcGF5bG9hZCwgb3B0aW9ucykge1xuICBpZiAoaXNPYmplY3QodHlwZSkgJiYgdHlwZS50eXBlKSB7XG4gICAgb3B0aW9ucyA9IHBheWxvYWQ7XG4gICAgcGF5bG9hZCA9IHR5cGU7XG4gICAgdHlwZSA9IHR5cGUudHlwZTtcbiAgfVxuXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnQodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnLCAoXCJleHBlY3RzIHN0cmluZyBhcyB0aGUgdHlwZSwgYnV0IGZvdW5kIFwiICsgKHR5cGVvZiB0eXBlKSArIFwiLlwiKSk7XG4gIH1cblxuICByZXR1cm4geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkLCBvcHRpb25zOiBvcHRpb25zIH1cbn1cblxudmFyIExBQkVMX1ZVRVhfQklORElOR1MgPSAndnVleCBiaW5kaW5ncyc7XG52YXIgTVVUQVRJT05TX0xBWUVSX0lEID0gJ3Z1ZXg6bXV0YXRpb25zJztcbnZhciBBQ1RJT05TX0xBWUVSX0lEID0gJ3Z1ZXg6YWN0aW9ucyc7XG52YXIgSU5TUEVDVE9SX0lEID0gJ3Z1ZXgnO1xuXG52YXIgYWN0aW9uSWQgPSAwO1xuXG5mdW5jdGlvbiBhZGREZXZ0b29scyAoYXBwLCBzdG9yZSkge1xuICBzZXR1cERldnRvb2xzUGx1Z2luKFxuICAgIHtcbiAgICAgIGlkOiAnb3JnLnZ1ZWpzLnZ1ZXgnLFxuICAgICAgYXBwOiBhcHAsXG4gICAgICBsYWJlbDogJ1Z1ZXgnLFxuICAgICAgaG9tZXBhZ2U6ICdodHRwczovL25leHQudnVleC52dWVqcy5vcmcvJyxcbiAgICAgIGxvZ286ICdodHRwczovL3Z1ZWpzLm9yZy9pbWFnZXMvaWNvbnMvZmF2aWNvbi05Nng5Ni5wbmcnLFxuICAgICAgcGFja2FnZU5hbWU6ICd2dWV4JyxcbiAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXM6IFtMQUJFTF9WVUVYX0JJTkRJTkdTXVxuICAgIH0sXG4gICAgZnVuY3Rpb24gKGFwaSkge1xuICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICBpZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICBsYWJlbDogJ1Z1ZXggTXV0YXRpb25zJyxcbiAgICAgICAgY29sb3I6IENPTE9SX0xJTUVfNTAwXG4gICAgICB9KTtcblxuICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICBpZDogQUNUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgbGFiZWw6ICdWdWV4IEFjdGlvbnMnLFxuICAgICAgICBjb2xvcjogQ09MT1JfTElNRV81MDBcbiAgICAgIH0pO1xuXG4gICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcbiAgICAgICAgaWQ6IElOU1BFQ1RPUl9JRCxcbiAgICAgICAgbGFiZWw6ICdWdWV4JyxcbiAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxuICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdGaWx0ZXIgc3RvcmVzLi4uJ1xuICAgICAgfSk7XG5cbiAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgIGlmIChwYXlsb2FkLmZpbHRlcikge1xuICAgICAgICAgICAgdmFyIG5vZGVzID0gW107XG4gICAgICAgICAgICBmbGF0dGVuU3RvcmVGb3JJbnNwZWN0b3JUcmVlKG5vZGVzLCBzdG9yZS5fbW9kdWxlcy5yb290LCBwYXlsb2FkLmZpbHRlciwgJycpO1xuICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSBub2RlcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSBbXG4gICAgICAgICAgICAgIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShzdG9yZS5fbW9kdWxlcy5yb290LCAnJylcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgIHZhciBtb2R1bGVQYXRoID0gcGF5bG9hZC5ub2RlSWQ7XG4gICAgICAgICAgbWFrZUxvY2FsR2V0dGVycyhzdG9yZSwgbW9kdWxlUGF0aCk7XG4gICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoXG4gICAgICAgICAgICBnZXRTdG9yZU1vZHVsZShzdG9yZS5fbW9kdWxlcywgbW9kdWxlUGF0aCksXG4gICAgICAgICAgICBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlLFxuICAgICAgICAgICAgbW9kdWxlUGF0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhcGkub24uZWRpdEluc3BlY3RvclN0YXRlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgIHZhciBtb2R1bGVQYXRoID0gcGF5bG9hZC5ub2RlSWQ7XG4gICAgICAgICAgdmFyIHBhdGggPSBwYXlsb2FkLnBhdGg7XG4gICAgICAgICAgaWYgKG1vZHVsZVBhdGggIT09ICdyb290Jykge1xuICAgICAgICAgICAgcGF0aCA9IG1vZHVsZVBhdGguc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbikuY29uY2F0KCBwYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RvcmUuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUuX3N0YXRlLmRhdGEsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uIChtdXRhdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZCkge1xuICAgICAgICAgIGRhdGEucGF5bG9hZCA9IG11dGF0aW9uLnBheWxvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnN0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuXG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICB0aXRsZTogbXV0YXRpb24udHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHN0b3JlLnN1YnNjcmliZUFjdGlvbih7XG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCkge1xuICAgICAgICAgICAgZGF0YS5wYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjdGlvbi5faWQgPSBhY3Rpb25JZCsrO1xuICAgICAgICAgIGFjdGlvbi5fdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgZGF0YS5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgbGF5ZXJJZDogQUNUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgIHRpbWU6IGFjdGlvbi5fdGltZSxcbiAgICAgICAgICAgICAgdGl0bGU6IGFjdGlvbi50eXBlLFxuICAgICAgICAgICAgICBncm91cElkOiBhY3Rpb24uX2lkLFxuICAgICAgICAgICAgICBzdWJ0aXRsZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhZnRlcjogZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgIHZhciBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBhY3Rpb24uX3RpbWU7XG4gICAgICAgICAgZGF0YS5kdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgdHlwZTogJ2R1cmF0aW9uJyxcbiAgICAgICAgICAgICAgZGlzcGxheTogKGR1cmF0aW9uICsgXCJtc1wiKSxcbiAgICAgICAgICAgICAgdG9vbHRpcDogJ0FjdGlvbiBkdXJhdGlvbicsXG4gICAgICAgICAgICAgIHZhbHVlOiBkdXJhdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkKSB7XG4gICAgICAgICAgICBkYXRhLnBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YS5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgbGF5ZXJJZDogQUNUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgIHRpdGxlOiBhY3Rpb24udHlwZSxcbiAgICAgICAgICAgICAgZ3JvdXBJZDogYWN0aW9uLl9pZCxcbiAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuLy8gZXh0cmFjdGVkIGZyb20gdGFpbHdpbmQgcGFsZXR0ZVxudmFyIENPTE9SX0xJTUVfNTAwID0gMHg4NGNjMTY7XG52YXIgQ09MT1JfREFSSyA9IDB4NjY2NjY2O1xudmFyIENPTE9SX1dISVRFID0gMHhmZmZmZmY7XG5cbnZhciBUQUdfTkFNRVNQQUNFRCA9IHtcbiAgbGFiZWw6ICduYW1lc3BhY2VkJyxcbiAgdGV4dENvbG9yOiBDT0xPUl9XSElURSxcbiAgYmFja2dyb3VuZENvbG9yOiBDT0xPUl9EQVJLXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3ROYW1lRnJvbVBhdGggKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGggJiYgcGF0aCAhPT0gJ3Jvb3QnID8gcGF0aC5zcGxpdCgnLycpLnNsaWNlKC0yLCAtMSlbMF0gOiAnUm9vdCdcbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IG1vZHVsZVxuICogQHJldHVybiB7aW1wb3J0KCdAdnVlL2RldnRvb2xzLWFwaScpLkN1c3RvbUluc3BlY3Rvck5vZGV9XG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSAobW9kdWxlLCBwYXRoKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHBhdGggfHwgJ3Jvb3QnLFxuICAgIC8vIGFsbCBtb2R1bGVzIGVuZCB3aXRoIGEgYC9gLCB3ZSB3YW50IHRoZSBsYXN0IHNlZ21lbnQgb25seVxuICAgIC8vIGNhcnQvIC0+IGNhcnRcbiAgICAvLyBuZXN0ZWQvY2FydC8gLT4gY2FydFxuICAgIGxhYmVsOiBleHRyYWN0TmFtZUZyb21QYXRoKHBhdGgpLFxuICAgIHRhZ3M6IG1vZHVsZS5uYW1lc3BhY2VkID8gW1RBR19OQU1FU1BBQ0VEXSA6IFtdLFxuICAgIGNoaWxkcmVuOiBPYmplY3Qua2V5cyhtb2R1bGUuX2NoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHsgcmV0dXJuIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShcbiAgICAgICAgbW9kdWxlLl9jaGlsZHJlblttb2R1bGVOYW1lXSxcbiAgICAgICAgcGF0aCArIG1vZHVsZU5hbWUgKyAnLydcbiAgICAgICk7IH1cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnQHZ1ZS9kZXZ0b29scy1hcGknKS5DdXN0b21JbnNwZWN0b3JOb2RlW119IHJlc3VsdFxuICogQHBhcmFtIHsqfSBtb2R1bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUgKHJlc3VsdCwgbW9kdWxlLCBmaWx0ZXIsIHBhdGgpIHtcbiAgaWYgKHBhdGguaW5jbHVkZXMoZmlsdGVyKSkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIGlkOiBwYXRoIHx8ICdyb290JyxcbiAgICAgIGxhYmVsOiBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDAsIHBhdGgubGVuZ3RoIC0gMSkgOiBwYXRoIHx8ICdSb290JyxcbiAgICAgIHRhZ3M6IG1vZHVsZS5uYW1lc3BhY2VkID8gW1RBR19OQU1FU1BBQ0VEXSA6IFtdXG4gICAgfSk7XG4gIH1cbiAgT2JqZWN0LmtleXMobW9kdWxlLl9jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlTmFtZSkge1xuICAgIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUocmVzdWx0LCBtb2R1bGUuX2NoaWxkcmVuW21vZHVsZU5hbWVdLCBmaWx0ZXIsIHBhdGggKyBtb2R1bGVOYW1lICsgJy8nKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSBtb2R1bGVcbiAqIEByZXR1cm4ge2ltcG9ydCgnQHZ1ZS9kZXZ0b29scy1hcGknKS5DdXN0b21JbnNwZWN0b3JTdGF0ZX1cbiAqL1xuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZSAobW9kdWxlLCBnZXR0ZXJzLCBwYXRoKSB7XG4gIGdldHRlcnMgPSBwYXRoID09PSAncm9vdCcgPyBnZXR0ZXJzIDogZ2V0dGVyc1twYXRoXTtcbiAgdmFyIGdldHRlcnNLZXlzID0gT2JqZWN0LmtleXMoZ2V0dGVycyk7XG4gIHZhciBzdG9yZVN0YXRlID0ge1xuICAgIHN0YXRlOiBPYmplY3Qua2V5cyhtb2R1bGUuc3RhdGUpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoe1xuICAgICAga2V5OiBrZXksXG4gICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBtb2R1bGUuc3RhdGVba2V5XVxuICAgIH0pOyB9KVxuICB9O1xuXG4gIGlmIChnZXR0ZXJzS2V5cy5sZW5ndGgpIHtcbiAgICBzdG9yZVN0YXRlLmdldHRlcnMgPSBnZXR0ZXJzS2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHtcbiAgICAgIGtleToga2V5LmVuZHNXaXRoKCcvJykgPyBleHRyYWN0TmFtZUZyb21QYXRoKGtleSkgOiBrZXksXG4gICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogZ2V0dGVyc1trZXldXG4gICAgfSk7IH0pO1xuICB9XG5cbiAgcmV0dXJuIHN0b3JlU3RhdGVcbn1cblxuZnVuY3Rpb24gZ2V0U3RvcmVNb2R1bGUgKG1vZHVsZU1hcCwgcGF0aCkge1xuICB2YXIgbmFtZXMgPSBwYXRoLnNwbGl0KCcvJykuZmlsdGVyKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuOyB9KTtcbiAgcmV0dXJuIG5hbWVzLnJlZHVjZShcbiAgICBmdW5jdGlvbiAobW9kdWxlLCBtb2R1bGVOYW1lLCBpKSB7XG4gICAgICB2YXIgY2hpbGQgPSBtb2R1bGVbbW9kdWxlTmFtZV07XG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJNaXNzaW5nIG1vZHVsZSBcXFwiXCIgKyBtb2R1bGVOYW1lICsgXCJcXFwiIGZvciBwYXRoIFxcXCJcIiArIHBhdGggKyBcIlxcXCIuXCIpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGkgPT09IG5hbWVzLmxlbmd0aCAtIDEgPyBjaGlsZCA6IGNoaWxkLl9jaGlsZHJlblxuICAgIH0sXG4gICAgcGF0aCA9PT0gJ3Jvb3QnID8gbW9kdWxlTWFwIDogbW9kdWxlTWFwLnJvb3QuX2NoaWxkcmVuXG4gIClcbn1cblxuLy8gQmFzZSBkYXRhIHN0cnVjdCBmb3Igc3RvcmUncyBtb2R1bGUsIHBhY2thZ2Ugd2l0aCBzb21lIGF0dHJpYnV0ZSBhbmQgbWV0aG9kXG52YXIgTW9kdWxlID0gZnVuY3Rpb24gTW9kdWxlIChyYXdNb2R1bGUsIHJ1bnRpbWUpIHtcbiAgdGhpcy5ydW50aW1lID0gcnVudGltZTtcbiAgLy8gU3RvcmUgc29tZSBjaGlsZHJlbiBpdGVtXG4gIHRoaXMuX2NoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgLy8gU3RvcmUgdGhlIG9yaWdpbiBtb2R1bGUgb2JqZWN0IHdoaWNoIHBhc3NlZCBieSBwcm9ncmFtbWVyXG4gIHRoaXMuX3Jhd01vZHVsZSA9IHJhd01vZHVsZTtcbiAgdmFyIHJhd1N0YXRlID0gcmF3TW9kdWxlLnN0YXRlO1xuXG4gIC8vIFN0b3JlIHRoZSBvcmlnaW4gbW9kdWxlJ3Mgc3RhdGVcbiAgdGhpcy5zdGF0ZSA9ICh0eXBlb2YgcmF3U3RhdGUgPT09ICdmdW5jdGlvbicgPyByYXdTdGF0ZSgpIDogcmF3U3RhdGUpIHx8IHt9O1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBuYW1lc3BhY2VkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm5hbWVzcGFjZWQuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISF0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZFxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChrZXksIG1vZHVsZSkge1xuICB0aGlzLl9jaGlsZHJlbltrZXldID0gbW9kdWxlO1xufTtcblxuTW9kdWxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChrZXkpIHtcbiAgZGVsZXRlIHRoaXMuX2NoaWxkcmVuW2tleV07XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmdldENoaWxkID0gZnVuY3Rpb24gZ2V0Q2hpbGQgKGtleSkge1xuICByZXR1cm4gdGhpcy5fY2hpbGRyZW5ba2V5XVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5oYXNDaGlsZCA9IGZ1bmN0aW9uIGhhc0NoaWxkIChrZXkpIHtcbiAgcmV0dXJuIGtleSBpbiB0aGlzLl9jaGlsZHJlblxufTtcblxuTW9kdWxlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKHJhd01vZHVsZSkge1xuICB0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZCA9IHJhd01vZHVsZS5uYW1lc3BhY2VkO1xuICBpZiAocmF3TW9kdWxlLmFjdGlvbnMpIHtcbiAgICB0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucyA9IHJhd01vZHVsZS5hY3Rpb25zO1xuICB9XG4gIGlmIChyYXdNb2R1bGUubXV0YXRpb25zKSB7XG4gICAgdGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucyA9IHJhd01vZHVsZS5tdXRhdGlvbnM7XG4gIH1cbiAgaWYgKHJhd01vZHVsZS5nZXR0ZXJzKSB7XG4gICAgdGhpcy5fcmF3TW9kdWxlLmdldHRlcnMgPSByYXdNb2R1bGUuZ2V0dGVycztcbiAgfVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoQ2hpbGQgPSBmdW5jdGlvbiBmb3JFYWNoQ2hpbGQgKGZuKSB7XG4gIGZvckVhY2hWYWx1ZSh0aGlzLl9jaGlsZHJlbiwgZm4pO1xufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoR2V0dGVyID0gZnVuY3Rpb24gZm9yRWFjaEdldHRlciAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5nZXR0ZXJzKSB7XG4gICAgZm9yRWFjaFZhbHVlKHRoaXMuX3Jhd01vZHVsZS5nZXR0ZXJzLCBmbik7XG4gIH1cbn07XG5cbk1vZHVsZS5wcm90b3R5cGUuZm9yRWFjaEFjdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hBY3Rpb24gKGZuKSB7XG4gIGlmICh0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucykge1xuICAgIGZvckVhY2hWYWx1ZSh0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucywgZm4pO1xuICB9XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmZvckVhY2hNdXRhdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hNdXRhdGlvbiAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5tdXRhdGlvbnMpIHtcbiAgICBmb3JFYWNoVmFsdWUodGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucywgZm4pO1xuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggTW9kdWxlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxudmFyIE1vZHVsZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiBNb2R1bGVDb2xsZWN0aW9uIChyYXdSb290TW9kdWxlKSB7XG4gIC8vIHJlZ2lzdGVyIHJvb3QgbW9kdWxlIChWdWV4LlN0b3JlIG9wdGlvbnMpXG4gIHRoaXMucmVnaXN0ZXIoW10sIHJhd1Jvb3RNb2R1bGUsIGZhbHNlKTtcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKG1vZHVsZSwga2V5KSB7XG4gICAgcmV0dXJuIG1vZHVsZS5nZXRDaGlsZChrZXkpXG4gIH0sIHRoaXMucm9vdClcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE5hbWVzcGFjZSA9IGZ1bmN0aW9uIGdldE5hbWVzcGFjZSAocGF0aCkge1xuICB2YXIgbW9kdWxlID0gdGhpcy5yb290O1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwga2V5KSB7XG4gICAgbW9kdWxlID0gbW9kdWxlLmdldENoaWxkKGtleSk7XG4gICAgcmV0dXJuIG5hbWVzcGFjZSArIChtb2R1bGUubmFtZXNwYWNlZCA/IGtleSArICcvJyA6ICcnKVxuICB9LCAnJylcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSQxIChyYXdSb290TW9kdWxlKSB7XG4gIHVwZGF0ZShbXSwgdGhpcy5yb290LCByYXdSb290TW9kdWxlKTtcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIgKHBhdGgsIHJhd01vZHVsZSwgcnVudGltZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG4gICAgaWYgKCBydW50aW1lID09PSB2b2lkIDAgKSBydW50aW1lID0gdHJ1ZTtcblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0UmF3TW9kdWxlKHBhdGgsIHJhd01vZHVsZSk7XG4gIH1cblxuICB2YXIgbmV3TW9kdWxlID0gbmV3IE1vZHVsZShyYXdNb2R1bGUsIHJ1bnRpbWUpO1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLnJvb3QgPSBuZXdNb2R1bGU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0KHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgICBwYXJlbnQuYWRkQ2hpbGQocGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBuZXdNb2R1bGUpO1xuICB9XG5cbiAgLy8gcmVnaXN0ZXIgbmVzdGVkIG1vZHVsZXNcbiAgaWYgKHJhd01vZHVsZS5tb2R1bGVzKSB7XG4gICAgZm9yRWFjaFZhbHVlKHJhd01vZHVsZS5tb2R1bGVzLCBmdW5jdGlvbiAocmF3Q2hpbGRNb2R1bGUsIGtleSkge1xuICAgICAgdGhpcyQxJDEucmVnaXN0ZXIocGF0aC5jb25jYXQoa2V5KSwgcmF3Q2hpbGRNb2R1bGUsIHJ1bnRpbWUpO1xuICAgIH0pO1xuICB9XG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gdW5yZWdpc3RlciAocGF0aCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5nZXQocGF0aC5zbGljZSgwLCAtMSkpO1xuICB2YXIga2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICB2YXIgY2hpbGQgPSBwYXJlbnQuZ2V0Q2hpbGQoa2V5KTtcblxuICBpZiAoIWNoaWxkKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlt2dWV4XSB0cnlpbmcgdG8gdW5yZWdpc3RlciBtb2R1bGUgJ1wiICsga2V5ICsgXCInLCB3aGljaCBpcyBcIiArXG4gICAgICAgIFwibm90IHJlZ2lzdGVyZWRcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoIWNoaWxkLnJ1bnRpbWUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHBhcmVudC5yZW1vdmVDaGlsZChrZXkpO1xufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuaXNSZWdpc3RlcmVkID0gZnVuY3Rpb24gaXNSZWdpc3RlcmVkIChwYXRoKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLmdldChwYXRoLnNsaWNlKDAsIC0xKSk7XG4gIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQuaGFzQ2hpbGQoa2V5KVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59O1xuXG5mdW5jdGlvbiB1cGRhdGUgKHBhdGgsIHRhcmdldE1vZHVsZSwgbmV3TW9kdWxlKSB7XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnRSYXdNb2R1bGUocGF0aCwgbmV3TW9kdWxlKTtcbiAgfVxuXG4gIC8vIHVwZGF0ZSB0YXJnZXQgbW9kdWxlXG4gIHRhcmdldE1vZHVsZS51cGRhdGUobmV3TW9kdWxlKTtcblxuICAvLyB1cGRhdGUgbmVzdGVkIG1vZHVsZXNcbiAgaWYgKG5ld01vZHVsZS5tb2R1bGVzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG5ld01vZHVsZS5tb2R1bGVzKSB7XG4gICAgICBpZiAoIXRhcmdldE1vZHVsZS5nZXRDaGlsZChrZXkpKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlt2dWV4XSB0cnlpbmcgdG8gYWRkIGEgbmV3IG1vZHVsZSAnXCIgKyBrZXkgKyBcIicgb24gaG90IHJlbG9hZGluZywgXCIgK1xuICAgICAgICAgICAgJ21hbnVhbCByZWxvYWQgaXMgbmVlZGVkJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB1cGRhdGUoXG4gICAgICAgIHBhdGguY29uY2F0KGtleSksXG4gICAgICAgIHRhcmdldE1vZHVsZS5nZXRDaGlsZChrZXkpLFxuICAgICAgICBuZXdNb2R1bGUubW9kdWxlc1trZXldXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG52YXIgZnVuY3Rpb25Bc3NlcnQgPSB7XG4gIGFzc2VydDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7IH0sXG4gIGV4cGVjdGVkOiAnZnVuY3Rpb24nXG59O1xuXG52YXIgb2JqZWN0QXNzZXJ0ID0ge1xuICBhc3NlcnQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nIHx8XG4gICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmhhbmRsZXIgPT09ICdmdW5jdGlvbicpOyB9LFxuICBleHBlY3RlZDogJ2Z1bmN0aW9uIG9yIG9iamVjdCB3aXRoIFwiaGFuZGxlclwiIGZ1bmN0aW9uJ1xufTtcblxudmFyIGFzc2VydFR5cGVzID0ge1xuICBnZXR0ZXJzOiBmdW5jdGlvbkFzc2VydCxcbiAgbXV0YXRpb25zOiBmdW5jdGlvbkFzc2VydCxcbiAgYWN0aW9uczogb2JqZWN0QXNzZXJ0XG59O1xuXG5mdW5jdGlvbiBhc3NlcnRSYXdNb2R1bGUgKHBhdGgsIHJhd01vZHVsZSkge1xuICBPYmplY3Qua2V5cyhhc3NlcnRUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFyYXdNb2R1bGVba2V5XSkgeyByZXR1cm4gfVxuXG4gICAgdmFyIGFzc2VydE9wdGlvbnMgPSBhc3NlcnRUeXBlc1trZXldO1xuXG4gICAgZm9yRWFjaFZhbHVlKHJhd01vZHVsZVtrZXldLCBmdW5jdGlvbiAodmFsdWUsIHR5cGUpIHtcbiAgICAgIGFzc2VydChcbiAgICAgICAgYXNzZXJ0T3B0aW9ucy5hc3NlcnQodmFsdWUpLFxuICAgICAgICBtYWtlQXNzZXJ0aW9uTWVzc2FnZShwYXRoLCBrZXksIHR5cGUsIHZhbHVlLCBhc3NlcnRPcHRpb25zLmV4cGVjdGVkKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBc3NlcnRpb25NZXNzYWdlIChwYXRoLCBrZXksIHR5cGUsIHZhbHVlLCBleHBlY3RlZCkge1xuICB2YXIgYnVmID0ga2V5ICsgXCIgc2hvdWxkIGJlIFwiICsgZXhwZWN0ZWQgKyBcIiBidXQgXFxcIlwiICsga2V5ICsgXCIuXCIgKyB0eXBlICsgXCJcXFwiXCI7XG4gIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICBidWYgKz0gXCIgaW4gbW9kdWxlIFxcXCJcIiArIChwYXRoLmpvaW4oJy4nKSkgKyBcIlxcXCJcIjtcbiAgfVxuICBidWYgKz0gXCIgaXMgXCIgKyAoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSArIFwiLlwiO1xuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlIChvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgU3RvcmUob3B0aW9ucylcbn1cblxudmFyIFN0b3JlID0gZnVuY3Rpb24gU3RvcmUgKG9wdGlvbnMpIHtcbiAgdmFyIHRoaXMkMSQxID0gdGhpcztcbiAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydCh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcsIFwidnVleCByZXF1aXJlcyBhIFByb21pc2UgcG9seWZpbGwgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICBhc3NlcnQodGhpcyBpbnN0YW5jZW9mIFN0b3JlLCBcInN0b3JlIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvci5cIik7XG4gIH1cblxuICB2YXIgcGx1Z2lucyA9IG9wdGlvbnMucGx1Z2luczsgaWYgKCBwbHVnaW5zID09PSB2b2lkIDAgKSBwbHVnaW5zID0gW107XG4gIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdDsgaWYgKCBzdHJpY3QgPT09IHZvaWQgMCApIHN0cmljdCA9IGZhbHNlO1xuICB2YXIgZGV2dG9vbHMgPSBvcHRpb25zLmRldnRvb2xzO1xuXG4gIC8vIHN0b3JlIGludGVybmFsIHN0YXRlXG4gIHRoaXMuX2NvbW1pdHRpbmcgPSBmYWxzZTtcbiAgdGhpcy5fYWN0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzID0gW107XG4gIHRoaXMuX211dGF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuX3dyYXBwZWRHZXR0ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fbW9kdWxlcyA9IG5ldyBNb2R1bGVDb2xsZWN0aW9uKG9wdGlvbnMpO1xuICB0aGlzLl9tb2R1bGVzTmFtZXNwYWNlTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcbiAgdGhpcy5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fZGV2dG9vbHMgPSBkZXZ0b29scztcblxuICAvLyBiaW5kIGNvbW1pdCBhbmQgZGlzcGF0Y2ggdG8gc2VsZlxuICB2YXIgc3RvcmUgPSB0aGlzO1xuICB2YXIgcmVmID0gdGhpcztcbiAgdmFyIGRpc3BhdGNoID0gcmVmLmRpc3BhdGNoO1xuICB2YXIgY29tbWl0ID0gcmVmLmNvbW1pdDtcbiAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIGJvdW5kRGlzcGF0Y2ggKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2guY2FsbChzdG9yZSwgdHlwZSwgcGF5bG9hZClcbiAgfTtcbiAgdGhpcy5jb21taXQgPSBmdW5jdGlvbiBib3VuZENvbW1pdCAodHlwZSwgcGF5bG9hZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBjb21taXQuY2FsbChzdG9yZSwgdHlwZSwgcGF5bG9hZCwgb3B0aW9ucylcbiAgfTtcblxuICAvLyBzdHJpY3QgbW9kZVxuICB0aGlzLnN0cmljdCA9IHN0cmljdDtcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9tb2R1bGVzLnJvb3Quc3RhdGU7XG5cbiAgLy8gaW5pdCByb290IG1vZHVsZS5cbiAgLy8gdGhpcyBhbHNvIHJlY3Vyc2l2ZWx5IHJlZ2lzdGVycyBhbGwgc3ViLW1vZHVsZXNcbiAgLy8gYW5kIGNvbGxlY3RzIGFsbCBtb2R1bGUgZ2V0dGVycyBpbnNpZGUgdGhpcy5fd3JhcHBlZEdldHRlcnNcbiAgaW5zdGFsbE1vZHVsZSh0aGlzLCBzdGF0ZSwgW10sIHRoaXMuX21vZHVsZXMucm9vdCk7XG5cbiAgLy8gaW5pdGlhbGl6ZSB0aGUgc3RvcmUgc3RhdGUsIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcmVhY3Rpdml0eVxuICAvLyAoYWxzbyByZWdpc3RlcnMgX3dyYXBwZWRHZXR0ZXJzIGFzIGNvbXB1dGVkIHByb3BlcnRpZXMpXG4gIHJlc2V0U3RvcmVTdGF0ZSh0aGlzLCBzdGF0ZSk7XG5cbiAgLy8gYXBwbHkgcGx1Z2luc1xuICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luKHRoaXMkMSQxKTsgfSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBzdGF0ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG5TdG9yZS5wcm90b3R5cGUuaW5zdGFsbCA9IGZ1bmN0aW9uIGluc3RhbGwgKGFwcCwgaW5qZWN0S2V5KSB7XG4gIGFwcC5wcm92aWRlKGluamVjdEtleSB8fCBzdG9yZUtleSwgdGhpcyk7XG4gIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kc3RvcmUgPSB0aGlzO1xuXG4gIHZhciB1c2VEZXZ0b29scyA9IHRoaXMuX2RldnRvb2xzICE9PSB1bmRlZmluZWRcbiAgICA/IHRoaXMuX2RldnRvb2xzXG4gICAgOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fO1xuXG4gIGlmICh1c2VEZXZ0b29scykge1xuICAgIGFkZERldnRvb2xzKGFwcCwgdGhpcyk7XG4gIH1cbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5zdGF0ZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9zdGF0ZS5kYXRhXG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMuc3RhdGUuc2V0ID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydChmYWxzZSwgXCJ1c2Ugc3RvcmUucmVwbGFjZVN0YXRlKCkgdG8gZXhwbGljaXQgcmVwbGFjZSBzdG9yZSBzdGF0ZS5cIik7XG4gIH1cbn07XG5cblN0b3JlLnByb3RvdHlwZS5jb21taXQgPSBmdW5jdGlvbiBjb21taXQgKF90eXBlLCBfcGF5bG9hZCwgX29wdGlvbnMpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIC8vIGNoZWNrIG9iamVjdC1zdHlsZSBjb21taXRcbiAgdmFyIHJlZiA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgdmFyIHR5cGUgPSByZWYudHlwZTtcbiAgICB2YXIgcGF5bG9hZCA9IHJlZi5wYXlsb2FkO1xuICAgIHZhciBvcHRpb25zID0gcmVmLm9wdGlvbnM7XG5cbiAgdmFyIG11dGF0aW9uID0geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH07XG4gIHZhciBlbnRyeSA9IHRoaXMuX211dGF0aW9uc1t0eXBlXTtcbiAgaWYgKCFlbnRyeSkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbXV0YXRpb24gdHlwZTogXCIgKyB0eXBlKSk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIGVudHJ5LmZvckVhY2goZnVuY3Rpb24gY29tbWl0SXRlcmF0b3IgKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIocGF5bG9hZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRoaXMuX3N1YnNjcmliZXJzXG4gICAgLnNsaWNlKCkgLy8gc2hhbGxvdyBjb3B5IHRvIHByZXZlbnQgaXRlcmF0b3IgaW52YWxpZGF0aW9uIGlmIHN1YnNjcmliZXIgc3luY2hyb25vdXNseSBjYWxscyB1bnN1YnNjcmliZVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1YihtdXRhdGlvbiwgdGhpcyQxJDEuc3RhdGUpOyB9KTtcblxuICBpZiAoXG4gICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnNpbGVudFxuICApIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIlt2dWV4XSBtdXRhdGlvbiB0eXBlOiBcIiArIHR5cGUgKyBcIi4gU2lsZW50IG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBcIiArXG4gICAgICAnVXNlIHRoZSBmaWx0ZXIgZnVuY3Rpb25hbGl0eSBpbiB0aGUgdnVlLWRldnRvb2xzJ1xuICAgICk7XG4gIH1cbn07XG5cblN0b3JlLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoIChfdHlwZSwgX3BheWxvYWQpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIC8vIGNoZWNrIG9iamVjdC1zdHlsZSBkaXNwYXRjaFxuICB2YXIgcmVmID0gdW5pZnlPYmplY3RTdHlsZShfdHlwZSwgX3BheWxvYWQpO1xuICAgIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gICAgdmFyIHBheWxvYWQgPSByZWYucGF5bG9hZDtcblxuICB2YXIgYWN0aW9uID0geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH07XG4gIHZhciBlbnRyeSA9IHRoaXMuX2FjdGlvbnNbdHlwZV07XG4gIGlmICghZW50cnkpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGFjdGlvbiB0eXBlOiBcIiArIHR5cGUpKTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICB0cnkge1xuICAgIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzXG4gICAgICAuc2xpY2UoKSAvLyBzaGFsbG93IGNvcHkgdG8gcHJldmVudCBpdGVyYXRvciBpbnZhbGlkYXRpb24gaWYgc3Vic2NyaWJlciBzeW5jaHJvbm91c2x5IGNhbGxzIHVuc3Vic2NyaWJlXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5iZWZvcmU7IH0pXG4gICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYmVmb3JlKGFjdGlvbiwgdGhpcyQxJDEuc3RhdGUpOyB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlt2dWV4XSBlcnJvciBpbiBiZWZvcmUgYWN0aW9uIHN1YnNjcmliZXJzOiBcIik7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZXN1bHQgPSBlbnRyeS5sZW5ndGggPiAxXG4gICAgPyBQcm9taXNlLmFsbChlbnRyeS5tYXAoZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIocGF5bG9hZCk7IH0pKVxuICAgIDogZW50cnlbMF0ocGF5bG9hZCk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzJDEkMS5fYWN0aW9uU3Vic2NyaWJlcnNcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5hZnRlcjsgfSlcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYWZ0ZXIoYWN0aW9uLCB0aGlzJDEkMS5zdGF0ZSk7IH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGFmdGVyIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc29sdmUocmVzKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMkMSQxLl9hY3Rpb25TdWJzY3JpYmVyc1xuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViLmVycm9yOyB9KVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5lcnJvcihhY3Rpb24sIHRoaXMkMSQxLnN0YXRlLCBlcnJvcik7IH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGVycm9yIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH0pXG59O1xuXG5TdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlIChmbiwgb3B0aW9ucykge1xuICByZXR1cm4gZ2VuZXJpY1N1YnNjcmliZShmbiwgdGhpcy5fc3Vic2NyaWJlcnMsIG9wdGlvbnMpXG59O1xuXG5TdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlQWN0aW9uID0gZnVuY3Rpb24gc3Vic2NyaWJlQWN0aW9uIChmbiwgb3B0aW9ucykge1xuICB2YXIgc3VicyA9IHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyA/IHsgYmVmb3JlOiBmbiB9IDogZm47XG4gIHJldHVybiBnZW5lcmljU3Vic2NyaWJlKHN1YnMsIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzLCBvcHRpb25zKVxufTtcblxuU3RvcmUucHJvdG90eXBlLndhdGNoID0gZnVuY3Rpb24gd2F0Y2gkMSAoZ2V0dGVyLCBjYiwgb3B0aW9ucykge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydCh0eXBlb2YgZ2V0dGVyID09PSAnZnVuY3Rpb24nLCBcInN0b3JlLndhdGNoIG9ubHkgYWNjZXB0cyBhIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICByZXR1cm4gd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0dGVyKHRoaXMkMSQxLnN0YXRlLCB0aGlzJDEkMS5nZXR0ZXJzKTsgfSwgY2IsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKVxufTtcblxuU3RvcmUucHJvdG90eXBlLnJlcGxhY2VTdGF0ZSA9IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSAoc3RhdGUpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIHRoaXMkMSQxLl9zdGF0ZS5kYXRhID0gc3RhdGU7XG4gIH0pO1xufTtcblxuU3RvcmUucHJvdG90eXBlLnJlZ2lzdGVyTW9kdWxlID0gZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGUgKHBhdGgsIHJhd01vZHVsZSwgb3B0aW9ucykge1xuICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHsgcGF0aCA9IFtwYXRoXTsgfVxuXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShwYXRoKSwgXCJtb2R1bGUgcGF0aCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIEFycmF5LlwiKTtcbiAgICBhc3NlcnQocGF0aC5sZW5ndGggPiAwLCAnY2Fubm90IHJlZ2lzdGVyIHRoZSByb290IG1vZHVsZSBieSB1c2luZyByZWdpc3Rlck1vZHVsZS4nKTtcbiAgfVxuXG4gIHRoaXMuX21vZHVsZXMucmVnaXN0ZXIocGF0aCwgcmF3TW9kdWxlKTtcbiAgaW5zdGFsbE1vZHVsZSh0aGlzLCB0aGlzLnN0YXRlLCBwYXRoLCB0aGlzLl9tb2R1bGVzLmdldChwYXRoKSwgb3B0aW9ucy5wcmVzZXJ2ZVN0YXRlKTtcbiAgLy8gcmVzZXQgc3RvcmUgdG8gdXBkYXRlIGdldHRlcnMuLi5cbiAgcmVzZXRTdG9yZVN0YXRlKHRoaXMsIHRoaXMuc3RhdGUpO1xufTtcblxuU3RvcmUucHJvdG90eXBlLnVucmVnaXN0ZXJNb2R1bGUgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyTW9kdWxlIChwYXRoKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XG4gIH1cblxuICB0aGlzLl9tb2R1bGVzLnVucmVnaXN0ZXIocGF0aCk7XG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnRTdGF0ZSA9IGdldE5lc3RlZFN0YXRlKHRoaXMkMSQxLnN0YXRlLCBwYXRoLnNsaWNlKDAsIC0xKSk7XG4gICAgZGVsZXRlIHBhcmVudFN0YXRlW3BhdGhbcGF0aC5sZW5ndGggLSAxXV07XG4gIH0pO1xuICByZXNldFN0b3JlKHRoaXMpO1xufTtcblxuU3RvcmUucHJvdG90eXBlLmhhc01vZHVsZSA9IGZ1bmN0aW9uIGhhc01vZHVsZSAocGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fbW9kdWxlcy5pc1JlZ2lzdGVyZWQocGF0aClcbn07XG5cblN0b3JlLnByb3RvdHlwZS5ob3RVcGRhdGUgPSBmdW5jdGlvbiBob3RVcGRhdGUgKG5ld09wdGlvbnMpIHtcbiAgdGhpcy5fbW9kdWxlcy51cGRhdGUobmV3T3B0aW9ucyk7XG4gIHJlc2V0U3RvcmUodGhpcywgdHJ1ZSk7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUuX3dpdGhDb21taXQgPSBmdW5jdGlvbiBfd2l0aENvbW1pdCAoZm4pIHtcbiAgdmFyIGNvbW1pdHRpbmcgPSB0aGlzLl9jb21taXR0aW5nO1xuICB0aGlzLl9jb21taXR0aW5nID0gdHJ1ZTtcbiAgZm4oKTtcbiAgdGhpcy5fY29tbWl0dGluZyA9IGNvbW1pdHRpbmc7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3RvcmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBSZWR1Y2UgdGhlIGNvZGUgd2hpY2ggd3JpdHRlbiBpbiBWdWUuanMgZm9yIGdldHRpbmcgdGhlIHN0YXRlLlxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gc3RhdGVzICMgT2JqZWN0J3MgaXRlbSBjYW4gYmUgYSBmdW5jdGlvbiB3aGljaCBhY2NlcHQgc3RhdGUgYW5kIGdldHRlcnMgZm9yIHBhcmFtLCB5b3UgY2FuIGRvIHNvbWV0aGluZyBmb3Igc3RhdGUgYW5kIGdldHRlcnMgaW4gaXQuXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqL1xudmFyIG1hcFN0YXRlID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIHN0YXRlcykge1xuICB2YXIgcmVzID0ge307XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVmFsaWRNYXAoc3RhdGVzKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBTdGF0ZTogbWFwcGVyIHBhcmFtZXRlciBtdXN0IGJlIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QnKTtcbiAgfVxuICBub3JtYWxpemVNYXAoc3RhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcblxuICAgIHJlc1trZXldID0gZnVuY3Rpb24gbWFwcGVkU3RhdGUgKCkge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy4kc3RvcmUuc3RhdGU7XG4gICAgICB2YXIgZ2V0dGVycyA9IHRoaXMuJHN0b3JlLmdldHRlcnM7XG4gICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIHZhciBtb2R1bGUgPSBnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcFN0YXRlJywgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZSA9IG1vZHVsZS5jb250ZXh0LnN0YXRlO1xuICAgICAgICBnZXR0ZXJzID0gbW9kdWxlLmNvbnRleHQuZ2V0dGVycztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gdmFsLmNhbGwodGhpcywgc3RhdGUsIGdldHRlcnMpXG4gICAgICAgIDogc3RhdGVbdmFsXVxuICAgIH07XG4gICAgLy8gbWFyayB2dWV4IGdldHRlciBmb3IgZGV2dG9vbHNcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgY29tbWl0dGluZyB0aGUgbXV0YXRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZXNwYWNlXSAtIE1vZHVsZSdzIG5hbWVzcGFjZVxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG11dGF0aW9ucyAjIE9iamVjdCdzIGl0ZW0gY2FuIGJlIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0IGBjb21taXRgIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbSwgaXQgY2FuIGFjY2VwdCBhbm90aGVyIHBhcmFtcy4gWW91IGNhbiBjb21taXQgbXV0YXRpb24gYW5kIGRvIGFueSBvdGhlciB0aGluZ3MgaW4gdGhpcyBmdW5jdGlvbi4gc3BlY2lhbGx5LCBZb3UgbmVlZCB0byBwYXNzIGFudGhvciBwYXJhbXMgZnJvbSB0aGUgbWFwcGVkIGZ1bmN0aW9uLlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgbWFwTXV0YXRpb25zID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIG11dGF0aW9ucykge1xuICB2YXIgcmVzID0ge307XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVmFsaWRNYXAobXV0YXRpb25zKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBNdXRhdGlvbnM6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XG4gIH1cbiAgbm9ybWFsaXplTWFwKG11dGF0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XG5cbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZE11dGF0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAvLyBHZXQgdGhlIGNvbW1pdCBtZXRob2QgZnJvbSBzdG9yZVxuICAgICAgdmFyIGNvbW1pdCA9IHRoaXMuJHN0b3JlLmNvbW1pdDtcbiAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIG1vZHVsZSA9IGdldE1vZHVsZUJ5TmFtZXNwYWNlKHRoaXMuJHN0b3JlLCAnbWFwTXV0YXRpb25zJywgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb21taXQgPSBtb2R1bGUuY29udGV4dC5jb21taXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHZhbC5hcHBseSh0aGlzLCBbY29tbWl0XS5jb25jYXQoYXJncykpXG4gICAgICAgIDogY29tbWl0LmFwcGx5KHRoaXMuJHN0b3JlLCBbdmFsXS5jb25jYXQoYXJncykpXG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZ2V0dGluZyB0aGUgZ2V0dGVyc1xuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gZ2V0dGVyc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgbWFwR2V0dGVycyA9IG5vcm1hbGl6ZU5hbWVzcGFjZShmdW5jdGlvbiAobmFtZXNwYWNlLCBnZXR0ZXJzKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChnZXR0ZXJzKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBHZXR0ZXJzOiBtYXBwZXIgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCcpO1xuICB9XG4gIG5vcm1hbGl6ZU1hcChnZXR0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcblxuICAgIC8vIFRoZSBuYW1lc3BhY2UgaGFzIGJlZW4gbXV0YXRlZCBieSBub3JtYWxpemVOYW1lc3BhY2VcbiAgICB2YWwgPSBuYW1lc3BhY2UgKyB2YWw7XG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRHZXR0ZXIgKCkge1xuICAgICAgaWYgKG5hbWVzcGFjZSAmJiAhZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBHZXR0ZXJzJywgbmFtZXNwYWNlKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgISh2YWwgaW4gdGhpcy4kc3RvcmUuZ2V0dGVycykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gdW5rbm93biBnZXR0ZXI6IFwiICsgdmFsKSk7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbdmFsXVxuICAgIH07XG4gICAgLy8gbWFyayB2dWV4IGdldHRlciBmb3IgZGV2dG9vbHNcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZGlzcGF0Y2ggdGhlIGFjdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gYWN0aW9ucyAjIE9iamVjdCdzIGl0ZW0gY2FuIGJlIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0IGBkaXNwYXRjaGAgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IHBhcmFtLCBpdCBjYW4gYWNjZXB0IGFudGhvciBwYXJhbXMuIFlvdSBjYW4gZGlzcGF0Y2ggYWN0aW9uIGFuZCBkbyBhbnkgb3RoZXIgdGhpbmdzIGluIHRoaXMgZnVuY3Rpb24uIHNwZWNpYWxseSwgWW91IG5lZWQgdG8gcGFzcyBhbnRob3IgcGFyYW1zIGZyb20gdGhlIG1hcHBlZCBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xudmFyIG1hcEFjdGlvbnMgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgYWN0aW9ucykge1xuICB2YXIgcmVzID0ge307XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVmFsaWRNYXAoYWN0aW9ucykpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwQWN0aW9uczogbWFwcGVyIHBhcmFtZXRlciBtdXN0IGJlIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QnKTtcbiAgfVxuICBub3JtYWxpemVNYXAoYWN0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XG5cbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZEFjdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgLy8gZ2V0IGRpc3BhdGNoIGZ1bmN0aW9uIGZyb20gc3RvcmVcbiAgICAgIHZhciBkaXNwYXRjaCA9IHRoaXMuJHN0b3JlLmRpc3BhdGNoO1xuICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICB2YXIgbW9kdWxlID0gZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBBY3Rpb25zJywgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBkaXNwYXRjaCA9IG1vZHVsZS5jb250ZXh0LmRpc3BhdGNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB2YWwuYXBwbHkodGhpcywgW2Rpc3BhdGNoXS5jb25jYXQoYXJncykpXG4gICAgICAgIDogZGlzcGF0Y2guYXBwbHkodGhpcy4kc3RvcmUsIFt2YWxdLmNvbmNhdChhcmdzKSlcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJlc1xufSk7XG5cbi8qKlxuICogUmViaW5kaW5nIG5hbWVzcGFjZSBwYXJhbSBmb3IgbWFwWFhYIGZ1bmN0aW9uIGluIHNwZWNpYWwgc2NvcGVkLCBhbmQgcmV0dXJuIHRoZW0gYnkgc2ltcGxlIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgPSBmdW5jdGlvbiAobmFtZXNwYWNlKSB7IHJldHVybiAoe1xuICBtYXBTdGF0ZTogbWFwU3RhdGUuYmluZChudWxsLCBuYW1lc3BhY2UpLFxuICBtYXBHZXR0ZXJzOiBtYXBHZXR0ZXJzLmJpbmQobnVsbCwgbmFtZXNwYWNlKSxcbiAgbWFwTXV0YXRpb25zOiBtYXBNdXRhdGlvbnMuYmluZChudWxsLCBuYW1lc3BhY2UpLFxuICBtYXBBY3Rpb25zOiBtYXBBY3Rpb25zLmJpbmQobnVsbCwgbmFtZXNwYWNlKVxufSk7IH07XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBtYXBcbiAqIG5vcm1hbGl6ZU1hcChbMSwgMiwgM10pID0+IFsgeyBrZXk6IDEsIHZhbDogMSB9LCB7IGtleTogMiwgdmFsOiAyIH0sIHsga2V5OiAzLCB2YWw6IDMgfSBdXG4gKiBub3JtYWxpemVNYXAoe2E6IDEsIGI6IDIsIGM6IDN9KSA9PiBbIHsga2V5OiAnYScsIHZhbDogMSB9LCB7IGtleTogJ2InLCB2YWw6IDIgfSwgeyBrZXk6ICdjJywgdmFsOiAzIH0gXVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IG1hcFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVNYXAgKG1hcCkge1xuICBpZiAoIWlzVmFsaWRNYXAobWFwKSkge1xuICAgIHJldHVybiBbXVxuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG1hcClcbiAgICA/IG1hcC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHsga2V5OiBrZXksIHZhbDoga2V5IH0pOyB9KVxuICAgIDogT2JqZWN0LmtleXMobWFwKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHsga2V5OiBrZXksIHZhbDogbWFwW2tleV0gfSk7IH0pXG59XG5cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciBnaXZlbiBtYXAgaXMgdmFsaWQgb3Igbm90XG4gKiBAcGFyYW0geyp9IG1hcFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZE1hcCAobWFwKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG1hcCkgfHwgaXNPYmplY3QobWFwKVxufVxuXG4vKipcbiAqIFJldHVybiBhIGZ1bmN0aW9uIGV4cGVjdCB0d28gcGFyYW0gY29udGFpbnMgbmFtZXNwYWNlIGFuZCBtYXAuIGl0IHdpbGwgbm9ybWFsaXplIHRoZSBuYW1lc3BhY2UgYW5kIHRoZW4gdGhlIHBhcmFtJ3MgZnVuY3Rpb24gd2lsbCBoYW5kbGUgdGhlIG5ldyBuYW1lc3BhY2UgYW5kIHRoZSBtYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWVzcGFjZSAoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1hcCkge1xuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlICE9PSAnc3RyaW5nJykge1xuICAgICAgbWFwID0gbmFtZXNwYWNlO1xuICAgICAgbmFtZXNwYWNlID0gJyc7XG4gICAgfSBlbHNlIGlmIChuYW1lc3BhY2UuY2hhckF0KG5hbWVzcGFjZS5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICBuYW1lc3BhY2UgKz0gJy8nO1xuICAgIH1cbiAgICByZXR1cm4gZm4obmFtZXNwYWNlLCBtYXApXG4gIH1cbn1cblxuLyoqXG4gKiBTZWFyY2ggYSBzcGVjaWFsIG1vZHVsZSBmcm9tIHN0b3JlIGJ5IG5hbWVzcGFjZS4gaWYgbW9kdWxlIG5vdCBleGlzdCwgcHJpbnQgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdG9yZVxuICogQHBhcmFtIHtTdHJpbmd9IGhlbHBlclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRNb2R1bGVCeU5hbWVzcGFjZSAoc3RvcmUsIGhlbHBlciwgbmFtZXNwYWNlKSB7XG4gIHZhciBtb2R1bGUgPSBzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcFtuYW1lc3BhY2VdO1xuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFtb2R1bGUpIHtcbiAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBtb2R1bGUgbmFtZXNwYWNlIG5vdCBmb3VuZCBpbiBcIiArIGhlbHBlciArIFwiKCk6IFwiICsgbmFtZXNwYWNlKSk7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZVxufVxuXG4vLyBDcmVkaXRzOiBib3Jyb3dlZCBjb2RlIGZyb20gZmNvbWIvcmVkdXgtbG9nZ2VyXG5cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlciAocmVmKSB7XG4gIGlmICggcmVmID09PSB2b2lkIDAgKSByZWYgPSB7fTtcbiAgdmFyIGNvbGxhcHNlZCA9IHJlZi5jb2xsYXBzZWQ7IGlmICggY29sbGFwc2VkID09PSB2b2lkIDAgKSBjb2xsYXBzZWQgPSB0cnVlO1xuICB2YXIgZmlsdGVyID0gcmVmLmZpbHRlcjsgaWYgKCBmaWx0ZXIgPT09IHZvaWQgMCApIGZpbHRlciA9IGZ1bmN0aW9uIChtdXRhdGlvbiwgc3RhdGVCZWZvcmUsIHN0YXRlQWZ0ZXIpIHsgcmV0dXJuIHRydWU7IH07XG4gIHZhciB0cmFuc2Zvcm1lciA9IHJlZi50cmFuc2Zvcm1lcjsgaWYgKCB0cmFuc2Zvcm1lciA9PT0gdm9pZCAwICkgdHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIHN0YXRlOyB9O1xuICB2YXIgbXV0YXRpb25UcmFuc2Zvcm1lciA9IHJlZi5tdXRhdGlvblRyYW5zZm9ybWVyOyBpZiAoIG11dGF0aW9uVHJhbnNmb3JtZXIgPT09IHZvaWQgMCApIG11dGF0aW9uVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAobXV0KSB7IHJldHVybiBtdXQ7IH07XG4gIHZhciBhY3Rpb25GaWx0ZXIgPSByZWYuYWN0aW9uRmlsdGVyOyBpZiAoIGFjdGlvbkZpbHRlciA9PT0gdm9pZCAwICkgYWN0aW9uRmlsdGVyID0gZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHsgcmV0dXJuIHRydWU7IH07XG4gIHZhciBhY3Rpb25UcmFuc2Zvcm1lciA9IHJlZi5hY3Rpb25UcmFuc2Zvcm1lcjsgaWYgKCBhY3Rpb25UcmFuc2Zvcm1lciA9PT0gdm9pZCAwICkgYWN0aW9uVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAoYWN0KSB7IHJldHVybiBhY3Q7IH07XG4gIHZhciBsb2dNdXRhdGlvbnMgPSByZWYubG9nTXV0YXRpb25zOyBpZiAoIGxvZ011dGF0aW9ucyA9PT0gdm9pZCAwICkgbG9nTXV0YXRpb25zID0gdHJ1ZTtcbiAgdmFyIGxvZ0FjdGlvbnMgPSByZWYubG9nQWN0aW9uczsgaWYgKCBsb2dBY3Rpb25zID09PSB2b2lkIDAgKSBsb2dBY3Rpb25zID0gdHJ1ZTtcbiAgdmFyIGxvZ2dlciA9IHJlZi5sb2dnZXI7IGlmICggbG9nZ2VyID09PSB2b2lkIDAgKSBsb2dnZXIgPSBjb25zb2xlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgcHJldlN0YXRlID0gZGVlcENvcHkoc3RvcmUuc3RhdGUpO1xuXG4gICAgaWYgKHR5cGVvZiBsb2dnZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAobG9nTXV0YXRpb25zKSB7XG4gICAgICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZSkge1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0gZGVlcENvcHkoc3RhdGUpO1xuXG4gICAgICAgIGlmIChmaWx0ZXIobXV0YXRpb24sIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSkge1xuICAgICAgICAgIHZhciBmb3JtYXR0ZWRUaW1lID0gZ2V0Rm9ybWF0dGVkVGltZSgpO1xuICAgICAgICAgIHZhciBmb3JtYXR0ZWRNdXRhdGlvbiA9IG11dGF0aW9uVHJhbnNmb3JtZXIobXV0YXRpb24pO1xuICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJtdXRhdGlvbiBcIiArIChtdXRhdGlvbi50eXBlKSArIGZvcm1hdHRlZFRpbWU7XG5cbiAgICAgICAgICBzdGFydE1lc3NhZ2UobG9nZ2VyLCBtZXNzYWdlLCBjb2xsYXBzZWQpO1xuICAgICAgICAgIGxvZ2dlci5sb2coJyVjIHByZXYgc3RhdGUnLCAnY29sb3I6ICM5RTlFOUU7IGZvbnQtd2VpZ2h0OiBib2xkJywgdHJhbnNmb3JtZXIocHJldlN0YXRlKSk7XG4gICAgICAgICAgbG9nZ2VyLmxvZygnJWMgbXV0YXRpb24nLCAnY29sb3I6ICMwM0E5RjQ7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkTXV0YXRpb24pO1xuICAgICAgICAgIGxvZ2dlci5sb2coJyVjIG5leHQgc3RhdGUnLCAnY29sb3I6ICM0Q0FGNTA7IGZvbnQtd2VpZ2h0OiBib2xkJywgdHJhbnNmb3JtZXIobmV4dFN0YXRlKSk7XG4gICAgICAgICAgZW5kTWVzc2FnZShsb2dnZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldlN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxvZ0FjdGlvbnMpIHtcbiAgICAgIHN0b3JlLnN1YnNjcmliZUFjdGlvbihmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkge1xuICAgICAgICBpZiAoYWN0aW9uRmlsdGVyKGFjdGlvbiwgc3RhdGUpKSB7XG4gICAgICAgICAgdmFyIGZvcm1hdHRlZFRpbWUgPSBnZXRGb3JtYXR0ZWRUaW1lKCk7XG4gICAgICAgICAgdmFyIGZvcm1hdHRlZEFjdGlvbiA9IGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcImFjdGlvbiBcIiArIChhY3Rpb24udHlwZSkgKyBmb3JtYXR0ZWRUaW1lO1xuXG4gICAgICAgICAgc3RhcnRNZXNzYWdlKGxvZ2dlciwgbWVzc2FnZSwgY29sbGFwc2VkKTtcbiAgICAgICAgICBsb2dnZXIubG9nKCclYyBhY3Rpb24nLCAnY29sb3I6ICMwM0E5RjQ7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkQWN0aW9uKTtcbiAgICAgICAgICBlbmRNZXNzYWdlKGxvZ2dlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydE1lc3NhZ2UgKGxvZ2dlciwgbWVzc2FnZSwgY29sbGFwc2VkKSB7XG4gIHZhciBzdGFydE1lc3NhZ2UgPSBjb2xsYXBzZWRcbiAgICA/IGxvZ2dlci5ncm91cENvbGxhcHNlZFxuICAgIDogbG9nZ2VyLmdyb3VwO1xuXG4gIC8vIHJlbmRlclxuICB0cnkge1xuICAgIHN0YXJ0TWVzc2FnZS5jYWxsKGxvZ2dlciwgbWVzc2FnZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKG1lc3NhZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZE1lc3NhZ2UgKGxvZ2dlcikge1xuICB0cnkge1xuICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygn4oCU4oCUIGxvZyBlbmQg4oCU4oCUJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVGltZSAoKSB7XG4gIHZhciB0aW1lID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIChcIiBAIFwiICsgKHBhZCh0aW1lLmdldEhvdXJzKCksIDIpKSArIFwiOlwiICsgKHBhZCh0aW1lLmdldE1pbnV0ZXMoKSwgMikpICsgXCI6XCIgKyAocGFkKHRpbWUuZ2V0U2Vjb25kcygpLCAyKSkgKyBcIi5cIiArIChwYWQodGltZS5nZXRNaWxsaXNlY29uZHMoKSwgMykpKVxufVxuXG5mdW5jdGlvbiByZXBlYXQgKHN0ciwgdGltZXMpIHtcbiAgcmV0dXJuIChuZXcgQXJyYXkodGltZXMgKyAxKSkuam9pbihzdHIpXG59XG5cbmZ1bmN0aW9uIHBhZCAobnVtLCBtYXhMZW5ndGgpIHtcbiAgcmV0dXJuIHJlcGVhdCgnMCcsIG1heExlbmd0aCAtIG51bS50b1N0cmluZygpLmxlbmd0aCkgKyBudW1cbn1cblxudmFyIGluZGV4ID0ge1xuICB2ZXJzaW9uOiAnNC4wLjEnLFxuICBTdG9yZTogU3RvcmUsXG4gIHN0b3JlS2V5OiBzdG9yZUtleSxcbiAgY3JlYXRlU3RvcmU6IGNyZWF0ZVN0b3JlLFxuICB1c2VTdG9yZTogdXNlU3RvcmUsXG4gIG1hcFN0YXRlOiBtYXBTdGF0ZSxcbiAgbWFwTXV0YXRpb25zOiBtYXBNdXRhdGlvbnMsXG4gIG1hcEdldHRlcnM6IG1hcEdldHRlcnMsXG4gIG1hcEFjdGlvbnM6IG1hcEFjdGlvbnMsXG4gIGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzOiBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyxcbiAgY3JlYXRlTG9nZ2VyOiBjcmVhdGVMb2dnZXJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuZXhwb3J0IHsgU3RvcmUsIGNyZWF0ZUxvZ2dlciwgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMsIGNyZWF0ZVN0b3JlLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlLCBzdG9yZUtleSwgdXNlU3RvcmUgfTtcbiIsIjx0ZW1wbGF0ZT5cbiAgPGgxIHhyLWxheWVyIGNsYXNzPVwiZmFkZVwiPnt7IG1zZyB9fTwvaDE+XG4gIDxwPlxuICAgIEhlcmUncyBzb21lIG1vcmUgdGV4dCBqdXN0IHRvIG1ha2UgdGhpbmdzIG5vdCBibGFuay5cbiAgPC9wPlxuXG4gIDxidXR0b24geHItbGF5ZXIgQGNsaWNrPVwiaW5jXCI+Y291bnQgaXM6IHt7IGNvdW50IH19PC9idXR0b24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHsgZGVmaW5lUHJvcHMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnXG5pbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCdcblxuLy8gZGVmaW5lUHJvcHMoe1xuLy8gICBtc2c6IFN0cmluZ1xuLy8gfSlcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHByb3BzOiB7XG4gICAgICAgIG1zZzoge1xuICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvbXB1dGVkOiBtYXBTdGF0ZSh7XG4gICAgICAgIGNvdW50OiBzdGF0ZSA9PiBzdGF0ZS5jb3VudCxcbiAgICAgICAgICAgIC8vIHBhc3NpbmcgdGhlIHN0cmluZyB2YWx1ZSAnY291bnQnIGlzIHNhbWUgYXMgYHN0YXRlID0+IHN0YXRlLmNvdW50YFxuICAgICAgICBjb3VudEFsaWFzOiAnY291bnQnLFxuXG4gICAgfSksXG5cbiAgICBtZXRob2RzOiB7XG4gICAgICAgIC4uLm1hcEFjdGlvbnMoW1xuICAgICAgICAgICAgJ2luY3JlbWVudCcsIC8vIG1hcCBgdGhpcy5pbmNyZW1lbnQoKWAgdG8gYHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdpbmNyZW1lbnQnKWBcbiAgICAgICAgXSksXG5cbiAgICAgICAgaW5jKCkge1xuICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnQoKVxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb3VudClcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gc2V0dXAgKHByb3BzKSB7XG5cbiAgICAvLyB9XG59XG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbmEge1xuICBjb2xvcjogI2I1NDJiOTtcbn1cblxuKiB7XG4gICAgbGluZS1oZWlnaHQgOiBub3JtYWw7XG59XG5cbi5mYWRlIHtcbiAgY29sb3I6ICM5ODAzYTU7XG4gIC8qIHRyYW5zaXRpb246IGNvbG9yIDFzOyAqL1xufVxuXG4uZmFkZTpob3ZlciB7XG4gIGNvbG9yOiAjYTc4ZTA2O1xufVxuICBcbnAge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMWVtO1xuICAgIG1hcmdpbi1ibG9jay1lbmQ6IDFlbTtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiAwcHg7XG4gICAgbWFyZ2luLWlubGluZS1lbmQ6IDBweDtcbn1cbmgxIHtcbiAgICAgIC8qIHRleHQtYWxpZ246IGNlbnRlcjsgKi9cblxuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGZvbnQtc2l6ZTogMmVtO1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMC42N2VtO1xuICAgIG1hcmdpbi1ibG9jay1lbmQ6IDAuNjdlbTtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiAwcHg7XG4gICAgbWFyZ2luLWlubGluZS1lbmQ6IDBweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbmJ1dHRvbiB7XG4gICAgLyogd2lkdGg6IDEwMHB4O1xuICAgIGhlaWdodDogMzBweDsgKi9cbiAgICBhcHBlYXJhbmNlOiBhdXRvO1xuICAgIC13ZWJraXQtd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiICFpbXBvcnRhbnQ7XG4gICAgdGV4dC1yZW5kZXJpbmc6IGF1dG87XG4gICAgY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKGJsYWNrLCB3aGl0ZSk7XG4gICAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgICB3b3JkLXNwYWNpbmc6IG5vcm1hbDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICB0ZXh0LWluZGVudDogMHB4O1xuICAgIHRleHQtc2hhZG93OiBub25lO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIGJhY2tncm91bmQtY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigyMzksIDIzOSwgMjM5KSwgcmdiKDU5LCA1OSwgNTkpKTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIG1hcmdpbjogMGVtO1xuICAgIGZvbnQ6IDQwMCAxMy4zMzMzcHggQXJpYWw7XG4gICAgcGFkZGluZzogMXB4IDZweDtcbiAgICBib3JkZXItd2lkdGg6IDJweDtcbiAgICBib3JkZXItc3R5bGU6IG91dHNldDtcbiAgICBib3JkZXItY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigxMTgsIDExOCwgMTE4KSwgcmdiKDEzMywgMTMzLCAxMzMpKTtcbiAgICBib3JkZXItaW1hZ2U6IGluaXRpYWw7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xufVxuXG4vKiBidXR0b24gOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMTUwLCAxNTAsIDE1MCksIHJnYigxMjEsIDEyMSwgMTIxKSk7XG59ICovXG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8aDEgeHItbGF5ZXIgY2xhc3M9XCJmYWRlXCI+e3sgbXNnIH19PC9oMT5cbiAgPHA+XG4gICAgSGVyZSdzIHNvbWUgbW9yZSB0ZXh0IGp1c3QgdG8gbWFrZSB0aGluZ3Mgbm90IGJsYW5rLlxuICA8L3A+XG5cbiAgPGJ1dHRvbiB4ci1sYXllciBAY2xpY2s9XCJpbmNcIj5jb3VudCBpczoge3sgY291bnQgfX08L2J1dHRvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgeyBkZWZpbmVQcm9wcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCdcbmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4J1xuXG4vLyBkZWZpbmVQcm9wcyh7XG4vLyAgIG1zZzogU3RyaW5nXG4vLyB9KVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcHJvcHM6IHtcbiAgICAgICAgbXNnOiB7XG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcHV0ZWQ6IG1hcFN0YXRlKHtcbiAgICAgICAgY291bnQ6IHN0YXRlID0+IHN0YXRlLmNvdW50LFxuICAgICAgICAgICAgLy8gcGFzc2luZyB0aGUgc3RyaW5nIHZhbHVlICdjb3VudCcgaXMgc2FtZSBhcyBgc3RhdGUgPT4gc3RhdGUuY291bnRgXG4gICAgICAgIGNvdW50QWxpYXM6ICdjb3VudCcsXG5cbiAgICB9KSxcblxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgLi4ubWFwQWN0aW9ucyhbXG4gICAgICAgICAgICAnaW5jcmVtZW50JywgLy8gbWFwIGB0aGlzLmluY3JlbWVudCgpYCB0byBgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2luY3JlbWVudCcpYFxuICAgICAgICBdKSxcblxuICAgICAgICBpbmMoKSB7XG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudCgpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvdW50KVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBzZXR1cCAocHJvcHMpIHtcblxuICAgIC8vIH1cbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuYSB7XG4gIGNvbG9yOiAjYjU0MmI5O1xufVxuXG4qIHtcbiAgICBsaW5lLWhlaWdodCA6IG5vcm1hbDtcbn1cblxuLmZhZGUge1xuICBjb2xvcjogIzk4MDNhNTtcbiAgLyogdHJhbnNpdGlvbjogY29sb3IgMXM7ICovXG59XG5cbi5mYWRlOmhvdmVyIHtcbiAgY29sb3I6ICNhNzhlMDY7XG59XG4gIFxucCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAxZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xufVxuaDEge1xuICAgICAgLyogdGV4dC1hbGlnbjogY2VudGVyOyAqL1xuXG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwLjY3ZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMC42N2VtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuYnV0dG9uIHtcbiAgICAvKiB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiAzMHB4OyAqL1xuICAgIGFwcGVhcmFuY2U6IGF1dG87XG4gICAgLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGIgIWltcG9ydGFudDtcbiAgICB0ZXh0LXJlbmRlcmluZzogYXV0bztcbiAgICBjb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsoYmxhY2ssIHdoaXRlKTtcbiAgICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICAgIHdvcmQtc3BhY2luZzogbm9ybWFsO1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIHRleHQtaW5kZW50OiAwcHg7XG4gICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDIzOSwgMjM5LCAyMzkpLCByZ2IoNTksIDU5LCA1OSkpO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgbWFyZ2luOiAwZW07XG4gICAgZm9udDogNDAwIDEzLjMzMzNweCBBcmlhbDtcbiAgICBwYWRkaW5nOiAxcHggNnB4O1xuICAgIGJvcmRlci13aWR0aDogMnB4O1xuICAgIGJvcmRlci1zdHlsZTogb3V0c2V0O1xuICAgIGJvcmRlci1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDExOCwgMTE4LCAxMTgpLCByZ2IoMTMzLCAxMzMsIDEzMykpO1xuICAgIGJvcmRlci1pbWFnZTogaW5pdGlhbDtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG59XG5cbi8qIGJ1dHRvbiA6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigxNTAsIDE1MCwgMTUwKSwgcmdiKDEyMSwgMTIxLCAxMjEpKTtcbn0gKi9cbjwvc3R5bGU+XG4iLCJmdW5jdGlvbiBzdHlsZUluamVjdChjc3MsIHJlZikge1xuICBpZiAoIHJlZiA9PT0gdm9pZCAwICkgcmVmID0ge307XG4gIHZhciBpbnNlcnRBdCA9IHJlZi5pbnNlcnRBdDtcblxuICBpZiAoIWNzcyB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybjsgfVxuXG4gIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblxuICBpZiAoaW5zZXJ0QXQgPT09ICd0b3AnKSB7XG4gICAgaWYgKGhlYWQuZmlyc3RDaGlsZCkge1xuICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGUsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlSW5qZWN0O1xuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwidG9wXCI+XG4gICAgICA8aW1nIGFsdD1cIlZ1ZSBsb2dvXCIgc3JjPVwiLi4vLi4vYXNzZXRzL2xvZ28ucG5nXCIgLz5cbiAgICAgIDxTb21lVGV4dCBtc2c9XCJTb21lIFRleHQgV2UgcGFzc2VkIHRvIHRoZSBTb21lVGV4dCBDb21wb25lbnRcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgU29tZVRleHQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Tb21lVGV4dC52dWUnXG5cbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuI3RvcCB7XG4gIGZvbnQtZmFtaWx5OiBBdmVuaXIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjNTAzMTJjO1xuICBtYXJnaW4tdG9wOiAzMHB4O1xuICBib3JkZXI6IDU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlci1jb2xvcjogcmVkO1xuICB3aWR0aDogNDAwcHg7IGhlaWdodDogNDUwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBkaXNwbGF5OiBibG9jaztcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cblxuKiB7XG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5pbWcge1xuICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xufVxuPC9zdHlsZT5cbiIsImNsYXNzIFZlY3RvcjIge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAgKSB7XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsICdpc1ZlY3RvcjInLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblxuXHR9XG5cblx0Z2V0IHdpZHRoKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMueDtcblxuXHR9XG5cblx0c2V0IHdpZHRoKCB2YWx1ZSApIHtcblxuXHRcdHRoaXMueCA9IHZhbHVlO1xuXG5cdH1cblxuXHRnZXQgaGVpZ2h0KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMueTtcblxuXHR9XG5cblx0c2V0IGhlaWdodCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLnkgPSB2YWx1ZTtcblxuXHR9XG5cblx0c2V0KCB4LCB5ICkge1xuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy54ID0gc2NhbGFyO1xuXHRcdHRoaXMueSA9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRYKCB4ICkge1xuXG5cdFx0dGhpcy54ID0geDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRZKCB5ICkge1xuXG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb21wb25lbnQoIGluZGV4LCB2YWx1ZSApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHRoaXMueCA9IHZhbHVlOyBicmVhaztcblx0XHRcdGNhc2UgMTogdGhpcy55ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRDb21wb25lbnQoIGluZGV4ICkge1xuXG5cdFx0c3dpdGNoICggaW5kZXggKSB7XG5cblx0XHRcdGNhc2UgMDogcmV0dXJuIHRoaXMueDtcblx0XHRcdGNhc2UgMTogcmV0dXJuIHRoaXMueTtcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLngsIHRoaXMueSApO1xuXG5cdH1cblxuXHRjb3B5KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gdi54O1xuXHRcdHRoaXMueSA9IHYueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGQoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLmFkZFZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCArPSB2Lng7XG5cdFx0dGhpcy55ICs9IHYueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRTY2FsYXIoIHMgKSB7XG5cblx0XHR0aGlzLnggKz0gcztcblx0XHR0aGlzLnkgKz0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54ICsgYi54O1xuXHRcdHRoaXMueSA9IGEueSArIGIueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRTY2FsZWRWZWN0b3IoIHYsIHMgKSB7XG5cblx0XHR0aGlzLnggKz0gdi54ICogcztcblx0XHR0aGlzLnkgKz0gdi55ICogcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWIoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLnN1YlZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCAtPSB2Lng7XG5cdFx0dGhpcy55IC09IHYueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWJTY2FsYXIoIHMgKSB7XG5cblx0XHR0aGlzLnggLT0gcztcblx0XHR0aGlzLnkgLT0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWJWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54IC0gYi54O1xuXHRcdHRoaXMueSA9IGEueSAtIGIueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggdiApIHtcblxuXHRcdHRoaXMueCAqPSB2Lng7XG5cdFx0dGhpcy55ICo9IHYueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy54ICo9IHNjYWxhcjtcblx0XHR0aGlzLnkgKj0gc2NhbGFyO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpdmlkZSggdiApIHtcblxuXHRcdHRoaXMueCAvPSB2Lng7XG5cdFx0dGhpcy55IC89IHYueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGVTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKCAxIC8gc2NhbGFyICk7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4MyggbSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnk7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAwIF0gKiB4ICsgZVsgMyBdICogeSArIGVbIDYgXTtcblx0XHR0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDcgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtaW4oIHYgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1pbiggdGhpcy54LCB2LnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1pbiggdGhpcy55LCB2LnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYXgoIHYgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggdGhpcy54LCB2LnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggdGhpcy55LCB2LnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcCggbWluLCBtYXggKSB7XG5cblx0XHQvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZVxuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIG1pbi54LCBNYXRoLm1pbiggbWF4LngsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pbi55LCBNYXRoLm1pbiggbWF4LnksIHRoaXMueSApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXBTY2FsYXIoIG1pblZhbCwgbWF4VmFsICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnkgKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wTGVuZ3RoKCBtaW4sIG1heCApIHtcblxuXHRcdGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIGxlbmd0aCB8fCAxICkubXVsdGlwbHlTY2FsYXIoIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIGxlbmd0aCApICkgKTtcblxuXHR9XG5cblx0Zmxvb3IoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjZWlsKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5jZWlsKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLmNlaWwoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmRUb1plcm8oKSB7XG5cblx0XHR0aGlzLnggPSAoIHRoaXMueCA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy54ICkgOiBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSAoIHRoaXMueSA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy55ICkgOiBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRuZWdhdGUoKSB7XG5cblx0XHR0aGlzLnggPSAtIHRoaXMueDtcblx0XHR0aGlzLnkgPSAtIHRoaXMueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xuXG5cdH1cblxuXHRjcm9zcyggdiApIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2Lng7XG5cblx0fVxuXG5cdGxlbmd0aFNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcblxuXHR9XG5cblx0bGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICk7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54ICkgKyBNYXRoLmFicyggdGhpcy55ICk7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggdGhpcy5sZW5ndGgoKSB8fCAxICk7XG5cblx0fVxuXG5cdGFuZ2xlKCkge1xuXG5cdFx0Ly8gY29tcHV0ZXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMgd2l0aCByZXNwZWN0IHRvIHRoZSBwb3NpdGl2ZSB4LWF4aXNcblxuXHRcdGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMiggLSB0aGlzLnksIC0gdGhpcy54ICkgKyBNYXRoLlBJO1xuXG5cdFx0cmV0dXJuIGFuZ2xlO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVRvU3F1YXJlZCggdiApICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9TcXVhcmVkKCB2ICkge1xuXG5cdFx0Y29uc3QgZHggPSB0aGlzLnggLSB2LngsIGR5ID0gdGhpcy55IC0gdi55O1xuXHRcdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcblxuXHR9XG5cblx0bWFuaGF0dGFuRGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54IC0gdi54ICkgKyBNYXRoLmFicyggdGhpcy55IC0gdi55ICk7XG5cblx0fVxuXG5cdHNldExlbmd0aCggbGVuZ3RoICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoIGxlbmd0aCApO1xuXG5cdH1cblxuXHRsZXJwKCB2LCBhbHBoYSApIHtcblxuXHRcdHRoaXMueCArPSAoIHYueCAtIHRoaXMueCApICogYWxwaGE7XG5cdFx0dGhpcy55ICs9ICggdi55IC0gdGhpcy55ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRsZXJwVmVjdG9ycyggdjEsIHYyLCBhbHBoYSApIHtcblxuXHRcdHRoaXMueCA9IHYxLnggKyAoIHYyLnggLSB2MS54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgPSB2MS55ICsgKCB2Mi55IC0gdjEueSApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCB2ICkge1xuXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0dGhpcy54ID0gYXJyYXlbIG9mZnNldCBdO1xuXHRcdHRoaXMueSA9IGFycmF5WyBvZmZzZXQgKyAxIF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMueDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy55O1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHRmcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUsIGluZGV4LCBvZmZzZXQgKSB7XG5cblx0XHRpZiAoIG9mZnNldCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IyOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuJyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy55ID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm90YXRlQXJvdW5kKCBjZW50ZXIsIGFuZ2xlICkge1xuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCBhbmdsZSApLCBzID0gTWF0aC5zaW4oIGFuZ2xlICk7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54IC0gY2VudGVyLng7XG5cdFx0Y29uc3QgeSA9IHRoaXMueSAtIGNlbnRlci55O1xuXG5cdFx0dGhpcy54ID0geCAqIGMgLSB5ICogcyArIGNlbnRlci54O1xuXHRcdHRoaXMueSA9IHggKiBzICsgeSAqIGMgKyBjZW50ZXIueTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyYW5kb20oKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJhbmRvbSgpO1xuXHRcdHRoaXMueSA9IE1hdGgucmFuZG9tKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cbn1cblxuXG5leHBvcnQgeyBWZWN0b3IyIH07XG4iLCJjb25zdCBfbHV0ID0gW107XG5cbmZvciAoIGxldCBpID0gMDsgaSA8IDI1NjsgaSArKyApIHtcblxuXHRfbHV0WyBpIF0gPSAoIGkgPCAxNiA/ICcwJyA6ICcnICkgKyAoIGkgKS50b1N0cmluZyggMTYgKTtcblxufVxuXG5sZXQgX3NlZWQgPSAxMjM0NTY3O1xuXG5jb25zdCBNYXRoVXRpbHMgPSB7XG5cblx0REVHMlJBRDogTWF0aC5QSSAvIDE4MCxcblx0UkFEMkRFRzogMTgwIC8gTWF0aC5QSSxcblxuXHRnZW5lcmF0ZVVVSUQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTk2MzEzNiMyMTk2MzEzNlxuXG5cdFx0Y29uc3QgZDAgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdFx0Y29uc3QgZDEgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdFx0Y29uc3QgZDIgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdFx0Y29uc3QgZDMgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdFx0Y29uc3QgdXVpZCA9IF9sdXRbIGQwICYgMHhmZiBdICsgX2x1dFsgZDAgPj4gOCAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDAgPj4gMjQgJiAweGZmIF0gKyAnLScgK1xuXHRcdFx0X2x1dFsgZDEgJiAweGZmIF0gKyBfbHV0WyBkMSA+PiA4ICYgMHhmZiBdICsgJy0nICsgX2x1dFsgZDEgPj4gMTYgJiAweDBmIHwgMHg0MCBdICsgX2x1dFsgZDEgPj4gMjQgJiAweGZmIF0gKyAnLScgK1xuXHRcdFx0X2x1dFsgZDIgJiAweDNmIHwgMHg4MCBdICsgX2x1dFsgZDIgPj4gOCAmIDB4ZmYgXSArICctJyArIF9sdXRbIGQyID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDIgPj4gMjQgJiAweGZmIF0gK1xuXHRcdFx0X2x1dFsgZDMgJiAweGZmIF0gKyBfbHV0WyBkMyA+PiA4ICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gMTYgJiAweGZmIF0gKyBfbHV0WyBkMyA+PiAyNCAmIDB4ZmYgXTtcblxuXHRcdC8vIC50b1VwcGVyQ2FzZSgpIGhlcmUgZmxhdHRlbnMgY29uY2F0ZW5hdGVkIHN0cmluZ3MgdG8gc2F2ZSBoZWFwIG1lbW9yeSBzcGFjZS5cblx0XHRyZXR1cm4gdXVpZC50b1VwcGVyQ2FzZSgpO1xuXG5cdH0sXG5cblx0Y2xhbXA6IGZ1bmN0aW9uICggdmFsdWUsIG1pbiwgbWF4ICkge1xuXG5cdFx0cmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIHZhbHVlICkgKTtcblxuXHR9LFxuXG5cdC8vIGNvbXB1dGUgZXVjbGlkaWFuIG1vZHVsbyBvZiBtICUgblxuXHQvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXG5cblx0ZXVjbGlkZWFuTW9kdWxvOiBmdW5jdGlvbiAoIG4sIG0gKSB7XG5cblx0XHRyZXR1cm4gKCAoIG4gJSBtICkgKyBtICkgJSBtO1xuXG5cdH0sXG5cblx0Ly8gTGluZWFyIG1hcHBpbmcgZnJvbSByYW5nZSA8YTEsIGEyPiB0byByYW5nZSA8YjEsIGIyPlxuXG5cdG1hcExpbmVhcjogZnVuY3Rpb24gKCB4LCBhMSwgYTIsIGIxLCBiMiApIHtcblxuXHRcdHJldHVybiBiMSArICggeCAtIGExICkgKiAoIGIyIC0gYjEgKSAvICggYTIgLSBhMSApO1xuXG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGluZWFyX2ludGVycG9sYXRpb25cblxuXHRsZXJwOiBmdW5jdGlvbiAoIHgsIHksIHQgKSB7XG5cblx0XHRyZXR1cm4gKCAxIC0gdCApICogeCArIHQgKiB5O1xuXG5cdH0sXG5cblx0Ly8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbW9vdGhzdGVwXG5cblx0c21vb3Roc3RlcDogZnVuY3Rpb24gKCB4LCBtaW4sIG1heCApIHtcblxuXHRcdGlmICggeCA8PSBtaW4gKSByZXR1cm4gMDtcblx0XHRpZiAoIHggPj0gbWF4ICkgcmV0dXJuIDE7XG5cblx0XHR4ID0gKCB4IC0gbWluICkgLyAoIG1heCAtIG1pbiApO1xuXG5cdFx0cmV0dXJuIHggKiB4ICogKCAzIC0gMiAqIHggKTtcblxuXHR9LFxuXG5cdHNtb290aGVyc3RlcDogZnVuY3Rpb24gKCB4LCBtaW4sIG1heCApIHtcblxuXHRcdGlmICggeCA8PSBtaW4gKSByZXR1cm4gMDtcblx0XHRpZiAoIHggPj0gbWF4ICkgcmV0dXJuIDE7XG5cblx0XHR4ID0gKCB4IC0gbWluICkgLyAoIG1heCAtIG1pbiApO1xuXG5cdFx0cmV0dXJuIHggKiB4ICogeCAqICggeCAqICggeCAqIDYgLSAxNSApICsgMTAgKTtcblxuXHR9LFxuXG5cdC8vIFJhbmRvbSBpbnRlZ2VyIGZyb20gPGxvdywgaGlnaD4gaW50ZXJ2YWxcblxuXHRyYW5kSW50OiBmdW5jdGlvbiAoIGxvdywgaGlnaCApIHtcblxuXHRcdHJldHVybiBsb3cgKyBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBoaWdoIC0gbG93ICsgMSApICk7XG5cblx0fSxcblxuXHQvLyBSYW5kb20gZmxvYXQgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbFxuXG5cdHJhbmRGbG9hdDogZnVuY3Rpb24gKCBsb3csIGhpZ2ggKSB7XG5cblx0XHRyZXR1cm4gbG93ICsgTWF0aC5yYW5kb20oKSAqICggaGlnaCAtIGxvdyApO1xuXG5cdH0sXG5cblx0Ly8gUmFuZG9tIGZsb2F0IGZyb20gPC1yYW5nZS8yLCByYW5nZS8yPiBpbnRlcnZhbFxuXG5cdHJhbmRGbG9hdFNwcmVhZDogZnVuY3Rpb24gKCByYW5nZSApIHtcblxuXHRcdHJldHVybiByYW5nZSAqICggMC41IC0gTWF0aC5yYW5kb20oKSApO1xuXG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5pc3RpYyBwc2V1ZG8tcmFuZG9tIGZsb2F0IGluIHRoZSBpbnRlcnZhbCBbIDAsIDEgXVxuXG5cdHNlZWRlZFJhbmRvbTogZnVuY3Rpb24gKCBzICkge1xuXG5cdFx0aWYgKCBzICE9PSB1bmRlZmluZWQgKSBfc2VlZCA9IHMgJSAyMTQ3NDgzNjQ3O1xuXG5cdFx0Ly8gUGFyay1NaWxsZXIgYWxnb3JpdGhtXG5cblx0XHRfc2VlZCA9IF9zZWVkICogMTY4MDcgJSAyMTQ3NDgzNjQ3O1xuXG5cdFx0cmV0dXJuICggX3NlZWQgLSAxICkgLyAyMTQ3NDgzNjQ2O1xuXG5cdH0sXG5cblx0ZGVnVG9SYWQ6IGZ1bmN0aW9uICggZGVncmVlcyApIHtcblxuXHRcdHJldHVybiBkZWdyZWVzICogTWF0aFV0aWxzLkRFRzJSQUQ7XG5cblx0fSxcblxuXHRyYWRUb0RlZzogZnVuY3Rpb24gKCByYWRpYW5zICkge1xuXG5cdFx0cmV0dXJuIHJhZGlhbnMgKiBNYXRoVXRpbHMuUkFEMkRFRztcblxuXHR9LFxuXG5cdGlzUG93ZXJPZlR3bzogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHJldHVybiAoIHZhbHVlICYgKCB2YWx1ZSAtIDEgKSApID09PSAwICYmIHZhbHVlICE9PSAwO1xuXG5cdH0sXG5cblx0Y2VpbFBvd2VyT2ZUd286IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5wb3coIDIsIE1hdGguY2VpbCggTWF0aC5sb2coIHZhbHVlICkgLyBNYXRoLkxOMiApICk7XG5cblx0fSxcblxuXHRmbG9vclBvd2VyT2ZUd286IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5wb3coIDIsIE1hdGguZmxvb3IoIE1hdGgubG9nKCB2YWx1ZSApIC8gTWF0aC5MTjIgKSApO1xuXG5cdH0sXG5cblx0c2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlcjogZnVuY3Rpb24gKCBxLCBhLCBiLCBjLCBvcmRlciApIHtcblxuXHRcdC8vIEludHJpbnNpYyBQcm9wZXIgRXVsZXIgQW5nbGVzIC0gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V1bGVyX2FuZ2xlc1xuXG5cdFx0Ly8gcm90YXRpb25zIGFyZSBhcHBsaWVkIHRvIHRoZSBheGVzIGluIHRoZSBvcmRlciBzcGVjaWZpZWQgYnkgJ29yZGVyJ1xuXHRcdC8vIHJvdGF0aW9uIGJ5IGFuZ2xlICdhJyBpcyBhcHBsaWVkIGZpcnN0LCB0aGVuIGJ5IGFuZ2xlICdiJywgdGhlbiBieSBhbmdsZSAnYydcblx0XHQvLyBhbmdsZXMgYXJlIGluIHJhZGlhbnNcblxuXHRcdGNvbnN0IGNvcyA9IE1hdGguY29zO1xuXHRcdGNvbnN0IHNpbiA9IE1hdGguc2luO1xuXG5cdFx0Y29uc3QgYzIgPSBjb3MoIGIgLyAyICk7XG5cdFx0Y29uc3QgczIgPSBzaW4oIGIgLyAyICk7XG5cblx0XHRjb25zdCBjMTMgPSBjb3MoICggYSArIGMgKSAvIDIgKTtcblx0XHRjb25zdCBzMTMgPSBzaW4oICggYSArIGMgKSAvIDIgKTtcblxuXHRcdGNvbnN0IGMxXzMgPSBjb3MoICggYSAtIGMgKSAvIDIgKTtcblx0XHRjb25zdCBzMV8zID0gc2luKCAoIGEgLSBjICkgLyAyICk7XG5cblx0XHRjb25zdCBjM18xID0gY29zKCAoIGMgLSBhICkgLyAyICk7XG5cdFx0Y29uc3QgczNfMSA9IHNpbiggKCBjIC0gYSApIC8gMiApO1xuXG5cdFx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRcdGNhc2UgJ1hZWCc6XG5cdFx0XHRcdHEuc2V0KCBjMiAqIHMxMywgczIgKiBjMV8zLCBzMiAqIHMxXzMsIGMyICogYzEzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWlknOlxuXHRcdFx0XHRxLnNldCggczIgKiBzMV8zLCBjMiAqIHMxMywgczIgKiBjMV8zLCBjMiAqIGMxMyApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWlhaJzpcblx0XHRcdFx0cS5zZXQoIHMyICogYzFfMywgczIgKiBzMV8zLCBjMiAqIHMxMywgYzIgKiBjMTMgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1haWCc6XG5cdFx0XHRcdHEuc2V0KCBjMiAqIHMxMywgczIgKiBzM18xLCBzMiAqIGMzXzEsIGMyICogYzEzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWFknOlxuXHRcdFx0XHRxLnNldCggczIgKiBjM18xLCBjMiAqIHMxMywgczIgKiBzM18xLCBjMiAqIGMxMyApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWllaJzpcblx0XHRcdFx0cS5zZXQoIHMyICogczNfMSwgczIgKiBjM18xLCBjMiAqIHMxMywgYzIgKiBjMTMgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk1hdGhVdGlsczogLnNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHRcdH1cblxuXHR9XG5cbn07XG5cblxuZXhwb3J0IHsgTWF0aFV0aWxzIH07XG4iLCJpbXBvcnQgeyBNYXRoVXRpbHMgfSBmcm9tICcuL01hdGhVdGlscy5qcyc7XG5cbmNsYXNzIFF1YXRlcm5pb24ge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSApIHtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgJ2lzUXVhdGVybmlvbicsIHsgdmFsdWU6IHRydWUgfSApO1xuXG5cdFx0dGhpcy5feCA9IHg7XG5cdFx0dGhpcy5feSA9IHk7XG5cdFx0dGhpcy5feiA9IHo7XG5cdFx0dGhpcy5fdyA9IHc7XG5cblx0fVxuXG5cdHN0YXRpYyBzbGVycCggcWEsIHFiLCBxbSwgdCApIHtcblxuXHRcdHJldHVybiBxbS5jb3B5KCBxYSApLnNsZXJwKCBxYiwgdCApO1xuXG5cdH1cblxuXHRzdGF0aWMgc2xlcnBGbGF0KCBkc3QsIGRzdE9mZnNldCwgc3JjMCwgc3JjT2Zmc2V0MCwgc3JjMSwgc3JjT2Zmc2V0MSwgdCApIHtcblxuXHRcdC8vIGZ1enotZnJlZSwgYXJyYXktYmFzZWQgUXVhdGVybmlvbiBTTEVSUCBvcGVyYXRpb25cblxuXHRcdGxldCB4MCA9IHNyYzBbIHNyY09mZnNldDAgKyAwIF0sXG5cdFx0XHR5MCA9IHNyYzBbIHNyY09mZnNldDAgKyAxIF0sXG5cdFx0XHR6MCA9IHNyYzBbIHNyY09mZnNldDAgKyAyIF0sXG5cdFx0XHR3MCA9IHNyYzBbIHNyY09mZnNldDAgKyAzIF07XG5cblx0XHRjb25zdCB4MSA9IHNyYzFbIHNyY09mZnNldDEgKyAwIF0sXG5cdFx0XHR5MSA9IHNyYzFbIHNyY09mZnNldDEgKyAxIF0sXG5cdFx0XHR6MSA9IHNyYzFbIHNyY09mZnNldDEgKyAyIF0sXG5cdFx0XHR3MSA9IHNyYzFbIHNyY09mZnNldDEgKyAzIF07XG5cblx0XHRpZiAoIHcwICE9PSB3MSB8fCB4MCAhPT0geDEgfHwgeTAgIT09IHkxIHx8IHowICE9PSB6MSApIHtcblxuXHRcdFx0bGV0IHMgPSAxIC0gdDtcblx0XHRcdGNvbnN0IGNvcyA9IHgwICogeDEgKyB5MCAqIHkxICsgejAgKiB6MSArIHcwICogdzEsXG5cdFx0XHRcdGRpciA9ICggY29zID49IDAgPyAxIDogLSAxICksXG5cdFx0XHRcdHNxclNpbiA9IDEgLSBjb3MgKiBjb3M7XG5cblx0XHRcdC8vIFNraXAgdGhlIFNsZXJwIGZvciB0aW55IHN0ZXBzIHRvIGF2b2lkIG51bWVyaWMgcHJvYmxlbXM6XG5cdFx0XHRpZiAoIHNxclNpbiA+IE51bWJlci5FUFNJTE9OICkge1xuXG5cdFx0XHRcdGNvbnN0IHNpbiA9IE1hdGguc3FydCggc3FyU2luICksXG5cdFx0XHRcdFx0bGVuID0gTWF0aC5hdGFuMiggc2luLCBjb3MgKiBkaXIgKTtcblxuXHRcdFx0XHRzID0gTWF0aC5zaW4oIHMgKiBsZW4gKSAvIHNpbjtcblx0XHRcdFx0dCA9IE1hdGguc2luKCB0ICogbGVuICkgLyBzaW47XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdERpciA9IHQgKiBkaXI7XG5cblx0XHRcdHgwID0geDAgKiBzICsgeDEgKiB0RGlyO1xuXHRcdFx0eTAgPSB5MCAqIHMgKyB5MSAqIHREaXI7XG5cdFx0XHR6MCA9IHowICogcyArIHoxICogdERpcjtcblx0XHRcdHcwID0gdzAgKiBzICsgdzEgKiB0RGlyO1xuXG5cdFx0XHQvLyBOb3JtYWxpemUgaW4gY2FzZSB3ZSBqdXN0IGRpZCBhIGxlcnA6XG5cdFx0XHRpZiAoIHMgPT09IDEgLSB0ICkge1xuXG5cdFx0XHRcdGNvbnN0IGYgPSAxIC8gTWF0aC5zcXJ0KCB4MCAqIHgwICsgeTAgKiB5MCArIHowICogejAgKyB3MCAqIHcwICk7XG5cblx0XHRcdFx0eDAgKj0gZjtcblx0XHRcdFx0eTAgKj0gZjtcblx0XHRcdFx0ejAgKj0gZjtcblx0XHRcdFx0dzAgKj0gZjtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0ZHN0WyBkc3RPZmZzZXQgXSA9IHgwO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMSBdID0geTA7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAyIF0gPSB6MDtcblx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcwO1xuXG5cdH1cblxuXHRzdGF0aWMgbXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQoIGRzdCwgZHN0T2Zmc2V0LCBzcmMwLCBzcmNPZmZzZXQwLCBzcmMxLCBzcmNPZmZzZXQxICkge1xuXG5cdFx0Y29uc3QgeDAgPSBzcmMwWyBzcmNPZmZzZXQwIF07XG5cdFx0Y29uc3QgeTAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMSBdO1xuXHRcdGNvbnN0IHowID0gc3JjMFsgc3JjT2Zmc2V0MCArIDIgXTtcblx0XHRjb25zdCB3MCA9IHNyYzBbIHNyY09mZnNldDAgKyAzIF07XG5cblx0XHRjb25zdCB4MSA9IHNyYzFbIHNyY09mZnNldDEgXTtcblx0XHRjb25zdCB5MSA9IHNyYzFbIHNyY09mZnNldDEgKyAxIF07XG5cdFx0Y29uc3QgejEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMiBdO1xuXHRcdGNvbnN0IHcxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDMgXTtcblxuXHRcdGRzdFsgZHN0T2Zmc2V0IF0gPSB4MCAqIHcxICsgdzAgKiB4MSArIHkwICogejEgLSB6MCAqIHkxO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMSBdID0geTAgKiB3MSArIHcwICogeTEgKyB6MCAqIHgxIC0geDAgKiB6MTtcblx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHowICogdzEgKyB3MCAqIHoxICsgeDAgKiB5MSAtIHkwICogeDE7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MCAqIHcxIC0geDAgKiB4MSAtIHkwICogeTEgLSB6MCAqIHoxO1xuXG5cdFx0cmV0dXJuIGRzdDtcblxuXHR9XG5cblx0Z2V0IHgoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feDtcblxuXHR9XG5cblx0c2V0IHgoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feCA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHkoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feTtcblxuXHR9XG5cblx0c2V0IHkoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feSA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHooKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fejtcblxuXHR9XG5cblx0c2V0IHooIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feiA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHcoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fdztcblxuXHR9XG5cblx0c2V0IHcoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5fdyA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0c2V0KCB4LCB5LCB6LCB3ICkge1xuXG5cdFx0dGhpcy5feCA9IHg7XG5cdFx0dGhpcy5feSA9IHk7XG5cdFx0dGhpcy5feiA9IHo7XG5cdFx0dGhpcy5fdyA9IHc7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3osIHRoaXMuX3cgKTtcblxuXHR9XG5cblx0Y29weSggcXVhdGVybmlvbiApIHtcblxuXHRcdHRoaXMuX3ggPSBxdWF0ZXJuaW9uLng7XG5cdFx0dGhpcy5feSA9IHF1YXRlcm5pb24ueTtcblx0XHR0aGlzLl96ID0gcXVhdGVybmlvbi56O1xuXHRcdHRoaXMuX3cgPSBxdWF0ZXJuaW9uLnc7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUV1bGVyKCBldWxlciwgdXBkYXRlICkge1xuXG5cdFx0aWYgKCAhICggZXVsZXIgJiYgZXVsZXIuaXNFdWxlciApICkge1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB4ID0gZXVsZXIuX3gsIHkgPSBldWxlci5feSwgeiA9IGV1bGVyLl96LCBvcmRlciA9IGV1bGVyLl9vcmRlcjtcblxuXHRcdC8vIGh0dHA6Ly93d3cubWF0aHdvcmtzLmNvbS9tYXRsYWJjZW50cmFsL2ZpbGVleGNoYW5nZS9cblx0XHQvLyBcdDIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL1xuXHRcdC8vXHRjb250ZW50L1NwaW5DYWxjLm1cblxuXHRcdGNvbnN0IGNvcyA9IE1hdGguY29zO1xuXHRcdGNvbnN0IHNpbiA9IE1hdGguc2luO1xuXG5cdFx0Y29uc3QgYzEgPSBjb3MoIHggLyAyICk7XG5cdFx0Y29uc3QgYzIgPSBjb3MoIHkgLyAyICk7XG5cdFx0Y29uc3QgYzMgPSBjb3MoIHogLyAyICk7XG5cblx0XHRjb25zdCBzMSA9IHNpbiggeCAvIDIgKTtcblx0XHRjb25zdCBzMiA9IHNpbiggeSAvIDIgKTtcblx0XHRjb25zdCBzMyA9IHNpbiggeiAvIDIgKTtcblxuXHRcdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0XHRjYXNlICdYWVonOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVhaJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pYWSc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWVgnOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVpYJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1haWSc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJyArIG9yZGVyICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIHVwZGF0ZSAhPT0gZmFsc2UgKSB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUF4aXNBbmdsZSggYXhpcywgYW5nbGUgKSB7XG5cblx0XHQvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvYW5nbGVUb1F1YXRlcm5pb24vaW5kZXguaHRtXG5cblx0XHQvLyBhc3N1bWVzIGF4aXMgaXMgbm9ybWFsaXplZFxuXG5cdFx0Y29uc3QgaGFsZkFuZ2xlID0gYW5nbGUgLyAyLCBzID0gTWF0aC5zaW4oIGhhbGZBbmdsZSApO1xuXG5cdFx0dGhpcy5feCA9IGF4aXMueCAqIHM7XG5cdFx0dGhpcy5feSA9IGF4aXMueSAqIHM7XG5cdFx0dGhpcy5feiA9IGF4aXMueiAqIHM7XG5cdFx0dGhpcy5fdyA9IE1hdGguY29zKCBoYWxmQW5nbGUgKTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUm90YXRpb25NYXRyaXgoIG0gKSB7XG5cblx0XHQvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9RdWF0ZXJuaW9uL2luZGV4Lmh0bVxuXG5cdFx0Ly8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZClcblxuXHRcdGNvbnN0IHRlID0gbS5lbGVtZW50cyxcblxuXHRcdFx0bTExID0gdGVbIDAgXSwgbTEyID0gdGVbIDQgXSwgbTEzID0gdGVbIDggXSxcblx0XHRcdG0yMSA9IHRlWyAxIF0sIG0yMiA9IHRlWyA1IF0sIG0yMyA9IHRlWyA5IF0sXG5cdFx0XHRtMzEgPSB0ZVsgMiBdLCBtMzIgPSB0ZVsgNiBdLCBtMzMgPSB0ZVsgMTAgXSxcblxuXHRcdFx0dHJhY2UgPSBtMTEgKyBtMjIgKyBtMzM7XG5cblx0XHRpZiAoIHRyYWNlID4gMCApIHtcblxuXHRcdFx0Y29uc3QgcyA9IDAuNSAvIE1hdGguc3FydCggdHJhY2UgKyAxLjAgKTtcblxuXHRcdFx0dGhpcy5fdyA9IDAuMjUgLyBzO1xuXHRcdFx0dGhpcy5feCA9ICggbTMyIC0gbTIzICkgKiBzO1xuXHRcdFx0dGhpcy5feSA9ICggbTEzIC0gbTMxICkgKiBzO1xuXHRcdFx0dGhpcy5feiA9ICggbTIxIC0gbTEyICkgKiBzO1xuXG5cdFx0fSBlbHNlIGlmICggbTExID4gbTIyICYmIG0xMSA+IG0zMyApIHtcblxuXHRcdFx0Y29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTExIC0gbTIyIC0gbTMzICk7XG5cblx0XHRcdHRoaXMuX3cgPSAoIG0zMiAtIG0yMyApIC8gcztcblx0XHRcdHRoaXMuX3ggPSAwLjI1ICogcztcblx0XHRcdHRoaXMuX3kgPSAoIG0xMiArIG0yMSApIC8gcztcblx0XHRcdHRoaXMuX3ogPSAoIG0xMyArIG0zMSApIC8gcztcblxuXHRcdH0gZWxzZSBpZiAoIG0yMiA+IG0zMyApIHtcblxuXHRcdFx0Y29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTIyIC0gbTExIC0gbTMzICk7XG5cblx0XHRcdHRoaXMuX3cgPSAoIG0xMyAtIG0zMSApIC8gcztcblx0XHRcdHRoaXMuX3ggPSAoIG0xMiArIG0yMSApIC8gcztcblx0XHRcdHRoaXMuX3kgPSAwLjI1ICogcztcblx0XHRcdHRoaXMuX3ogPSAoIG0yMyArIG0zMiApIC8gcztcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0zMyAtIG0xMSAtIG0yMiApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMjEgLSBtMTIgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gKCBtMTMgKyBtMzEgKSAvIHM7XG5cdFx0XHR0aGlzLl95ID0gKCBtMjMgKyBtMzIgKSAvIHM7XG5cdFx0XHR0aGlzLl96ID0gMC4yNSAqIHM7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVVuaXRWZWN0b3JzKCB2RnJvbSwgdlRvICkge1xuXG5cdFx0Ly8gYXNzdW1lcyBkaXJlY3Rpb24gdmVjdG9ycyB2RnJvbSBhbmQgdlRvIGFyZSBub3JtYWxpemVkXG5cblx0XHRjb25zdCBFUFMgPSAwLjAwMDAwMTtcblxuXHRcdGxldCByID0gdkZyb20uZG90KCB2VG8gKSArIDE7XG5cblx0XHRpZiAoIHIgPCBFUFMgKSB7XG5cblx0XHRcdHIgPSAwO1xuXG5cdFx0XHRpZiAoIE1hdGguYWJzKCB2RnJvbS54ICkgPiBNYXRoLmFicyggdkZyb20ueiApICkge1xuXG5cdFx0XHRcdHRoaXMuX3ggPSAtIHZGcm9tLnk7XG5cdFx0XHRcdHRoaXMuX3kgPSB2RnJvbS54O1xuXHRcdFx0XHR0aGlzLl96ID0gMDtcblx0XHRcdFx0dGhpcy5fdyA9IHI7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0dGhpcy5feCA9IDA7XG5cdFx0XHRcdHRoaXMuX3kgPSAtIHZGcm9tLno7XG5cdFx0XHRcdHRoaXMuX3ogPSB2RnJvbS55O1xuXHRcdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gY3Jvc3NWZWN0b3JzKCB2RnJvbSwgdlRvICk7IC8vIGlubGluZWQgdG8gYXZvaWQgY3ljbGljIGRlcGVuZGVuY3kgb24gVmVjdG9yM1xuXG5cdFx0XHR0aGlzLl94ID0gdkZyb20ueSAqIHZUby56IC0gdkZyb20ueiAqIHZUby55O1xuXHRcdFx0dGhpcy5feSA9IHZGcm9tLnogKiB2VG8ueCAtIHZGcm9tLnggKiB2VG8uejtcblx0XHRcdHRoaXMuX3ogPSB2RnJvbS54ICogdlRvLnkgLSB2RnJvbS55ICogdlRvLng7XG5cdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRhbmdsZVRvKCBxICkge1xuXG5cdFx0cmV0dXJuIDIgKiBNYXRoLmFjb3MoIE1hdGguYWJzKCBNYXRoVXRpbHMuY2xhbXAoIHRoaXMuZG90KCBxICksIC0gMSwgMSApICkgKTtcblxuXHR9XG5cblx0cm90YXRlVG93YXJkcyggcSwgc3RlcCApIHtcblxuXHRcdGNvbnN0IGFuZ2xlID0gdGhpcy5hbmdsZVRvKCBxICk7XG5cblx0XHRpZiAoIGFuZ2xlID09PSAwICkgcmV0dXJuIHRoaXM7XG5cblx0XHRjb25zdCB0ID0gTWF0aC5taW4oIDEsIHN0ZXAgLyBhbmdsZSApO1xuXG5cdFx0dGhpcy5zbGVycCggcSwgdCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwLCAxICk7XG5cblx0fVxuXG5cdGludmVyc2UoKSB7XG5cblx0XHQvLyBxdWF0ZXJuaW9uIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aFxuXG5cdFx0cmV0dXJuIHRoaXMuY29uanVnYXRlKCk7XG5cblx0fVxuXG5cdGNvbmp1Z2F0ZSgpIHtcblxuXHRcdHRoaXMuX3ggKj0gLSAxO1xuXHRcdHRoaXMuX3kgKj0gLSAxO1xuXHRcdHRoaXMuX3ogKj0gLSAxO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRvdCggdiApIHtcblxuXHRcdHJldHVybiB0aGlzLl94ICogdi5feCArIHRoaXMuX3kgKiB2Ll95ICsgdGhpcy5feiAqIHYuX3ogKyB0aGlzLl93ICogdi5fdztcblxuXHR9XG5cblx0bGVuZ3RoU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feCAqIHRoaXMuX3ggKyB0aGlzLl95ICogdGhpcy5feSArIHRoaXMuX3ogKiB0aGlzLl96ICsgdGhpcy5fdyAqIHRoaXMuX3c7XG5cblx0fVxuXG5cdGxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuX3ggKiB0aGlzLl94ICsgdGhpcy5feSAqIHRoaXMuX3kgKyB0aGlzLl96ICogdGhpcy5feiArIHRoaXMuX3cgKiB0aGlzLl93ICk7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdGxldCBsID0gdGhpcy5sZW5ndGgoKTtcblxuXHRcdGlmICggbCA9PT0gMCApIHtcblxuXHRcdFx0dGhpcy5feCA9IDA7XG5cdFx0XHR0aGlzLl95ID0gMDtcblx0XHRcdHRoaXMuX3ogPSAwO1xuXHRcdFx0dGhpcy5fdyA9IDE7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRsID0gMSAvIGw7XG5cblx0XHRcdHRoaXMuX3ggPSB0aGlzLl94ICogbDtcblx0XHRcdHRoaXMuX3kgPSB0aGlzLl95ICogbDtcblx0XHRcdHRoaXMuX3ogPSB0aGlzLl96ICogbDtcblx0XHRcdHRoaXMuX3cgPSB0aGlzLl93ICogbDtcblxuXHRcdH1cblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggcSwgcCApIHtcblxuXHRcdGlmICggcCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKCBxLCBwICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKCB0aGlzLCBxICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBxICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggcSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkge1xuXG5cdFx0Ly8gZnJvbSBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL2NvZGUvaW5kZXguaHRtXG5cblx0XHRjb25zdCBxYXggPSBhLl94LCBxYXkgPSBhLl95LCBxYXogPSBhLl96LCBxYXcgPSBhLl93O1xuXHRcdGNvbnN0IHFieCA9IGIuX3gsIHFieSA9IGIuX3ksIHFieiA9IGIuX3osIHFidyA9IGIuX3c7XG5cblx0XHR0aGlzLl94ID0gcWF4ICogcWJ3ICsgcWF3ICogcWJ4ICsgcWF5ICogcWJ6IC0gcWF6ICogcWJ5O1xuXHRcdHRoaXMuX3kgPSBxYXkgKiBxYncgKyBxYXcgKiBxYnkgKyBxYXogKiBxYnggLSBxYXggKiBxYno7XG5cdFx0dGhpcy5feiA9IHFheiAqIHFidyArIHFhdyAqIHFieiArIHFheCAqIHFieSAtIHFheSAqIHFieDtcblx0XHR0aGlzLl93ID0gcWF3ICogcWJ3IC0gcWF4ICogcWJ4IC0gcWF5ICogcWJ5IC0gcWF6ICogcWJ6O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNsZXJwKCBxYiwgdCApIHtcblxuXHRcdGlmICggdCA9PT0gMCApIHJldHVybiB0aGlzO1xuXHRcdGlmICggdCA9PT0gMSApIHJldHVybiB0aGlzLmNvcHkoIHFiICk7XG5cblx0XHRjb25zdCB4ID0gdGhpcy5feCwgeSA9IHRoaXMuX3ksIHogPSB0aGlzLl96LCB3ID0gdGhpcy5fdztcblxuXHRcdC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvcmVhbE5vcm1lZEFsZ2VicmEvcXVhdGVybmlvbnMvc2xlcnAvXG5cblx0XHRsZXQgY29zSGFsZlRoZXRhID0gdyAqIHFiLl93ICsgeCAqIHFiLl94ICsgeSAqIHFiLl95ICsgeiAqIHFiLl96O1xuXG5cdFx0aWYgKCBjb3NIYWxmVGhldGEgPCAwICkge1xuXG5cdFx0XHR0aGlzLl93ID0gLSBxYi5fdztcblx0XHRcdHRoaXMuX3ggPSAtIHFiLl94O1xuXHRcdFx0dGhpcy5feSA9IC0gcWIuX3k7XG5cdFx0XHR0aGlzLl96ID0gLSBxYi5fejtcblxuXHRcdFx0Y29zSGFsZlRoZXRhID0gLSBjb3NIYWxmVGhldGE7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLmNvcHkoIHFiICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGNvc0hhbGZUaGV0YSA+PSAxLjAgKSB7XG5cblx0XHRcdHRoaXMuX3cgPSB3O1xuXHRcdFx0dGhpcy5feCA9IHg7XG5cdFx0XHR0aGlzLl95ID0geTtcblx0XHRcdHRoaXMuX3ogPSB6O1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdH1cblxuXHRcdGNvbnN0IHNxclNpbkhhbGZUaGV0YSA9IDEuMCAtIGNvc0hhbGZUaGV0YSAqIGNvc0hhbGZUaGV0YTtcblxuXHRcdGlmICggc3FyU2luSGFsZlRoZXRhIDw9IE51bWJlci5FUFNJTE9OICkge1xuXG5cdFx0XHRjb25zdCBzID0gMSAtIHQ7XG5cdFx0XHR0aGlzLl93ID0gcyAqIHcgKyB0ICogdGhpcy5fdztcblx0XHRcdHRoaXMuX3ggPSBzICogeCArIHQgKiB0aGlzLl94O1xuXHRcdFx0dGhpcy5feSA9IHMgKiB5ICsgdCAqIHRoaXMuX3k7XG5cdFx0XHR0aGlzLl96ID0gcyAqIHogKyB0ICogdGhpcy5fejtcblxuXHRcdFx0dGhpcy5ub3JtYWxpemUoKTtcblx0XHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHR9XG5cblx0XHRjb25zdCBzaW5IYWxmVGhldGEgPSBNYXRoLnNxcnQoIHNxclNpbkhhbGZUaGV0YSApO1xuXHRcdGNvbnN0IGhhbGZUaGV0YSA9IE1hdGguYXRhbjIoIHNpbkhhbGZUaGV0YSwgY29zSGFsZlRoZXRhICk7XG5cdFx0Y29uc3QgcmF0aW9BID0gTWF0aC5zaW4oICggMSAtIHQgKSAqIGhhbGZUaGV0YSApIC8gc2luSGFsZlRoZXRhLFxuXHRcdFx0cmF0aW9CID0gTWF0aC5zaW4oIHQgKiBoYWxmVGhldGEgKSAvIHNpbkhhbGZUaGV0YTtcblxuXHRcdHRoaXMuX3cgPSAoIHcgKiByYXRpb0EgKyB0aGlzLl93ICogcmF0aW9CICk7XG5cdFx0dGhpcy5feCA9ICggeCAqIHJhdGlvQSArIHRoaXMuX3ggKiByYXRpb0IgKTtcblx0XHR0aGlzLl95ID0gKCB5ICogcmF0aW9BICsgdGhpcy5feSAqIHJhdGlvQiApO1xuXHRcdHRoaXMuX3ogPSAoIHogKiByYXRpb0EgKyB0aGlzLl96ICogcmF0aW9CICk7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBxdWF0ZXJuaW9uICkge1xuXG5cdFx0cmV0dXJuICggcXVhdGVybmlvbi5feCA9PT0gdGhpcy5feCApICYmICggcXVhdGVybmlvbi5feSA9PT0gdGhpcy5feSApICYmICggcXVhdGVybmlvbi5feiA9PT0gdGhpcy5feiApICYmICggcXVhdGVybmlvbi5fdyA9PT0gdGhpcy5fdyApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0dGhpcy5feCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLl95ID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblx0XHR0aGlzLl96ID0gYXJyYXlbIG9mZnNldCArIDIgXTtcblx0XHR0aGlzLl93ID0gYXJyYXlbIG9mZnNldCArIDMgXTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy5feDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy5feTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGhpcy5fejtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMyBdID0gdGhpcy5fdztcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCApIHtcblxuXHRcdHRoaXMuX3ggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLl95ID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cdFx0dGhpcy5feiA9IGF0dHJpYnV0ZS5nZXRaKCBpbmRleCApO1xuXHRcdHRoaXMuX3cgPSBhdHRyaWJ1dGUuZ2V0VyggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRfb25DaGFuZ2UoIGNhbGxiYWNrICkge1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdF9vbkNoYW5nZUNhbGxiYWNrKCkge31cblxufVxuXG5leHBvcnQgeyBRdWF0ZXJuaW9uIH07XG4iLCJpbXBvcnQgeyBNYXRoVXRpbHMgfSBmcm9tICcuL01hdGhVdGlscy5qcyc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uLmpzJztcblxuY2xhc3MgVmVjdG9yMyB7XG5cblx0Y29uc3RydWN0b3IoIHggPSAwLCB5ID0gMCwgeiA9IDAgKSB7XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsICdpc1ZlY3RvcjMnLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSB6O1xuXG5cdH1cblxuXHRzZXQoIHgsIHksIHogKSB7XG5cblx0XHRpZiAoIHogPT09IHVuZGVmaW5lZCApIHogPSB0aGlzLno7IC8vIHNwcml0ZS5zY2FsZS5zZXQoeCx5KVxuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMueiA9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggPSBzY2FsYXI7XG5cdFx0dGhpcy55ID0gc2NhbGFyO1xuXHRcdHRoaXMueiA9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRYKCB4ICkge1xuXG5cdFx0dGhpcy54ID0geDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRZKCB5ICkge1xuXG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRaKCB6ICkge1xuXG5cdFx0dGhpcy56ID0gejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb21wb25lbnQoIGluZGV4LCB2YWx1ZSApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHRoaXMueCA9IHZhbHVlOyBicmVhaztcblx0XHRcdGNhc2UgMTogdGhpcy55ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOiB0aGlzLnogPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldENvbXBvbmVudCggaW5kZXggKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiByZXR1cm4gdGhpcy54O1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gdGhpcy55O1xuXHRcdFx0Y2FzZSAyOiByZXR1cm4gdGhpcy56O1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMueCwgdGhpcy55LCB0aGlzLnogKTtcblxuXHR9XG5cblx0Y29weSggdiApIHtcblxuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cdFx0dGhpcy56ID0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZCggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ICs9IHYueDtcblx0XHR0aGlzLnkgKz0gdi55O1xuXHRcdHRoaXMueiArPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHM7XG5cdFx0dGhpcy55ICs9IHM7XG5cdFx0dGhpcy56ICs9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCArIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKyBiLnk7XG5cdFx0dGhpcy56ID0gYS56ICsgYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxlZFZlY3RvciggdiwgcyApIHtcblxuXHRcdHRoaXMueCArPSB2LnggKiBzO1xuXHRcdHRoaXMueSArPSB2LnkgKiBzO1xuXHRcdHRoaXMueiArPSB2LnogKiBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54IC09IHYueDtcblx0XHR0aGlzLnkgLT0gdi55O1xuXHRcdHRoaXMueiAtPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54IC09IHM7XG5cdFx0dGhpcy55IC09IHM7XG5cdFx0dGhpcy56IC09IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAtIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgLSBiLnk7XG5cdFx0dGhpcy56ID0gYS56IC0gYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKj0gdi54O1xuXHRcdHRoaXMueSAqPSB2Lnk7XG5cdFx0dGhpcy56ICo9IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy54ICo9IHNjYWxhcjtcblx0XHR0aGlzLnkgKj0gc2NhbGFyO1xuXHRcdHRoaXMueiAqPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54ICogYi54O1xuXHRcdHRoaXMueSA9IGEueSAqIGIueTtcblx0XHR0aGlzLnogPSBhLnogKiBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlFdWxlciggZXVsZXIgKSB7XG5cblx0XHRpZiAoICEgKCBldWxlciAmJiBldWxlci5pc0V1bGVyICkgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKCBfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIGV1bGVyICkgKTtcblxuXHR9XG5cblx0YXBwbHlBeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKCBfcXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApICk7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4MyggbSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAwIF0gKiB4ICsgZVsgMyBdICogeSArIGVbIDYgXSAqIHo7XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA3IF0gKiB6O1xuXHRcdHRoaXMueiA9IGVbIDIgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOCBdICogejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseU5vcm1hbE1hdHJpeCggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4MyggbSApLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDQoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgdyA9IDEgLyAoIGVbIDMgXSAqIHggKyBlWyA3IF0gKiB5ICsgZVsgMTEgXSAqIHogKyBlWyAxNSBdICk7XG5cblx0XHR0aGlzLnggPSAoIGVbIDAgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgOCBdICogeiArIGVbIDEyIF0gKSAqIHc7XG5cdFx0dGhpcy55ID0gKCBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAqIHogKyBlWyAxMyBdICkgKiB3O1xuXHRcdHRoaXMueiA9ICggZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogeiArIGVbIDE0IF0gKSAqIHc7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlRdWF0ZXJuaW9uKCBxICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBxeCA9IHEueCwgcXkgPSBxLnksIHF6ID0gcS56LCBxdyA9IHEudztcblxuXHRcdC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjdG9yXG5cblx0XHRjb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcblx0XHRjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcblx0XHRjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcblx0XHRjb25zdCBpdyA9IC0gcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6O1xuXG5cdFx0Ly8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG5cdFx0dGhpcy54ID0gaXggKiBxdyArIGl3ICogLSBxeCArIGl5ICogLSBxeiAtIGl6ICogLSBxeTtcblx0XHR0aGlzLnkgPSBpeSAqIHF3ICsgaXcgKiAtIHF5ICsgaXogKiAtIHF4IC0gaXggKiAtIHF6O1xuXHRcdHRoaXMueiA9IGl6ICogcXcgKyBpdyAqIC0gcXogKyBpeCAqIC0gcXkgLSBpeSAqIC0gcXg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cHJvamVjdCggY2FtZXJhICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KCBjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlICkuYXBwbHlNYXRyaXg0KCBjYW1lcmEucHJvamVjdGlvbk1hdHJpeCApO1xuXG5cdH1cblxuXHR1bnByb2plY3QoIGNhbWVyYSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4NCggY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlICkuYXBwbHlNYXRyaXg0KCBjYW1lcmEubWF0cml4V29ybGQgKTtcblxuXHR9XG5cblx0dHJhbnNmb3JtRGlyZWN0aW9uKCBtICkge1xuXG5cdFx0Ly8gaW5wdXQ6IFRIUkVFLk1hdHJpeDQgYWZmaW5lIG1hdHJpeFxuXHRcdC8vIHZlY3RvciBpbnRlcnByZXRlZCBhcyBhIGRpcmVjdGlvblxuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgOCBdICogejtcblx0XHR0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAqIHo7XG5cdFx0dGhpcy56ID0gZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogejtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRkaXZpZGUoIHYgKSB7XG5cblx0XHR0aGlzLnggLz0gdi54O1xuXHRcdHRoaXMueSAvPSB2Lnk7XG5cdFx0dGhpcy56IC89IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGVTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKCAxIC8gc2NhbGFyICk7XG5cblx0fVxuXG5cdG1pbiggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWluKCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWluKCB0aGlzLnksIHYueSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWluKCB0aGlzLnosIHYueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1heCggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIHYueSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWF4KCB0aGlzLnosIHYueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wKCBtaW4sIG1heCApIHtcblxuXHRcdC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluLngsIE1hdGgubWluKCBtYXgueCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluLnksIE1hdGgubWluKCBtYXgueSwgdGhpcy55ICkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1heCggbWluLnosIE1hdGgubWluKCBtYXgueiwgdGhpcy56ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcFNjYWxhciggbWluVmFsLCBtYXhWYWwgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueSApICk7XG5cdFx0dGhpcy56ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy56ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcExlbmd0aCggbWluLCBtYXggKSB7XG5cblx0XHRjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cblx0fVxuXG5cdGZsb29yKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5mbG9vciggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2VpbCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLmNlaWwoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5yb3VuZCggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmRUb1plcm8oKSB7XG5cblx0XHR0aGlzLnggPSAoIHRoaXMueCA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy54ICkgOiBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSAoIHRoaXMueSA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy55ICkgOiBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSAoIHRoaXMueiA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy56ICkgOiBNYXRoLmZsb29yKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRuZWdhdGUoKSB7XG5cblx0XHR0aGlzLnggPSAtIHRoaXMueDtcblx0XHR0aGlzLnkgPSAtIHRoaXMueTtcblx0XHR0aGlzLnogPSAtIHRoaXMuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55ICsgdGhpcy56ICogdi56O1xuXG5cdH1cblxuXHQvLyBUT0RPIGxlbmd0aFNxdWFyZWQ/XG5cblx0bGVuZ3RoU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKTtcblxuXHR9XG5cblx0bWFuaGF0dGFuTGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggKSArIE1hdGguYWJzKCB0aGlzLnkgKSArIE1hdGguYWJzKCB0aGlzLnogKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCB0aGlzLmxlbmd0aCgpIHx8IDEgKTtcblxuXHR9XG5cblx0c2V0TGVuZ3RoKCBsZW5ndGggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhciggbGVuZ3RoICk7XG5cblx0fVxuXG5cdGxlcnAoIHYsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ICs9ICggdi54IC0gdGhpcy54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgKz0gKCB2LnkgLSB0aGlzLnkgKSAqIGFscGhhO1xuXHRcdHRoaXMueiArPSAoIHYueiAtIHRoaXMueiApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bGVycFZlY3RvcnMoIHYxLCB2MiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggPSB2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGE7XG5cdFx0dGhpcy55ID0gdjEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhO1xuXHRcdHRoaXMueiA9IHYxLnogKyAoIHYyLnogLSB2MS56ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjcm9zcyggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLmNyb3NzVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKCB0aGlzLCB2ICk7XG5cblx0fVxuXG5cdGNyb3NzVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdGNvbnN0IGF4ID0gYS54LCBheSA9IGEueSwgYXogPSBhLno7XG5cdFx0Y29uc3QgYnggPSBiLngsIGJ5ID0gYi55LCBieiA9IGIuejtcblxuXHRcdHRoaXMueCA9IGF5ICogYnogLSBheiAqIGJ5O1xuXHRcdHRoaXMueSA9IGF6ICogYnggLSBheCAqIGJ6O1xuXHRcdHRoaXMueiA9IGF4ICogYnkgLSBheSAqIGJ4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHByb2plY3RPblZlY3RvciggdiApIHtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gdi5sZW5ndGhTcSgpO1xuXG5cdFx0aWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCApO1xuXG5cdFx0Y29uc3Qgc2NhbGFyID0gdi5kb3QoIHRoaXMgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0cmV0dXJuIHRoaXMuY29weSggdiApLm11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKTtcblxuXHR9XG5cblx0cHJvamVjdE9uUGxhbmUoIHBsYW5lTm9ybWFsICkge1xuXG5cdFx0X3ZlY3Rvci5jb3B5KCB0aGlzICkucHJvamVjdE9uVmVjdG9yKCBwbGFuZU5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc3ViKCBfdmVjdG9yICk7XG5cblx0fVxuXG5cdHJlZmxlY3QoIG5vcm1hbCApIHtcblxuXHRcdC8vIHJlZmxlY3QgaW5jaWRlbnQgdmVjdG9yIG9mZiBwbGFuZSBvcnRob2dvbmFsIHRvIG5vcm1hbFxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGhcblxuXHRcdHJldHVybiB0aGlzLnN1YiggX3ZlY3Rvci5jb3B5KCBub3JtYWwgKS5tdWx0aXBseVNjYWxhciggMiAqIHRoaXMuZG90KCBub3JtYWwgKSApICk7XG5cblx0fVxuXG5cdGFuZ2xlVG8oIHYgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IE1hdGguc3FydCggdGhpcy5sZW5ndGhTcSgpICogdi5sZW5ndGhTcSgpICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkgcmV0dXJuIE1hdGguUEkgLyAyO1xuXG5cdFx0Y29uc3QgdGhldGEgPSB0aGlzLmRvdCggdiApIC8gZGVub21pbmF0b3I7XG5cblx0XHQvLyBjbGFtcCwgdG8gaGFuZGxlIG51bWVyaWNhbCBwcm9ibGVtc1xuXG5cdFx0cmV0dXJuIE1hdGguYWNvcyggTWF0aFV0aWxzLmNsYW1wKCB0aGV0YSwgLSAxLCAxICkgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3F1YXJlZCggdiApIHtcblxuXHRcdGNvbnN0IGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueSwgZHogPSB0aGlzLnogLSB2Lno7XG5cblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xuXG5cdH1cblxuXHRtYW5oYXR0YW5EaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggLSB2LnggKSArIE1hdGguYWJzKCB0aGlzLnkgLSB2LnkgKSArIE1hdGguYWJzKCB0aGlzLnogLSB2LnogKTtcblxuXHR9XG5cblx0c2V0RnJvbVNwaGVyaWNhbCggcyApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHMoIHMucmFkaXVzLCBzLnBoaSwgcy50aGV0YSApO1xuXG5cdH1cblxuXHRzZXRGcm9tU3BoZXJpY2FsQ29vcmRzKCByYWRpdXMsIHBoaSwgdGhldGEgKSB7XG5cblx0XHRjb25zdCBzaW5QaGlSYWRpdXMgPSBNYXRoLnNpbiggcGhpICkgKiByYWRpdXM7XG5cblx0XHR0aGlzLnggPSBzaW5QaGlSYWRpdXMgKiBNYXRoLnNpbiggdGhldGEgKTtcblx0XHR0aGlzLnkgPSBNYXRoLmNvcyggcGhpICkgKiByYWRpdXM7XG5cdFx0dGhpcy56ID0gc2luUGhpUmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUN5bGluZHJpY2FsKCBjICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKCBjLnJhZGl1cywgYy50aGV0YSwgYy55ICk7XG5cblx0fVxuXG5cdHNldEZyb21DeWxpbmRyaWNhbENvb3JkcyggcmFkaXVzLCB0aGV0YSwgeSApIHtcblxuXHRcdHRoaXMueCA9IHJhZGl1cyAqIE1hdGguc2luKCB0aGV0YSApO1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gcmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtICkge1xuXG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAxMiBdO1xuXHRcdHRoaXMueSA9IGVbIDEzIF07XG5cdFx0dGhpcy56ID0gZVsgMTQgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4U2NhbGUoIG0gKSB7XG5cblx0XHRjb25zdCBzeCA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbiggbSwgMCApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN5ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAxICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3ogPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDIgKS5sZW5ndGgoKTtcblxuXHRcdHRoaXMueCA9IHN4O1xuXHRcdHRoaXMueSA9IHN5O1xuXHRcdHRoaXMueiA9IHN6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXhDb2x1bW4oIG0sIGluZGV4ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZnJvbUFycmF5KCBtLmVsZW1lbnRzLCBpbmRleCAqIDQgKTtcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeDNDb2x1bW4oIG0sIGluZGV4ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZnJvbUFycmF5KCBtLmVsZW1lbnRzLCBpbmRleCAqIDMgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCB2ICkge1xuXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSAmJiAoIHYueiA9PT0gdGhpcy56ICkgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXHRcdHRoaXMueiA9IGFycmF5WyBvZmZzZXQgKyAyIF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMueDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy55O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0aGlzLno7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXgsIG9mZnNldCApIHtcblxuXHRcdGlmICggb2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WSggaW5kZXggKTtcblx0XHR0aGlzLnogPSBhdHRyaWJ1dGUuZ2V0WiggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyYW5kb20oKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJhbmRvbSgpO1xuXHRcdHRoaXMueSA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy56ID0gTWF0aC5yYW5kb20oKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufVxuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3F1YXRlcm5pb24gPSAvKkBfX1BVUkVfXyovIG5ldyBRdWF0ZXJuaW9uKCk7XG5cblxuZXhwb3J0IHsgVmVjdG9yMyB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIE1hdHJpeDQge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNNYXRyaXg0JywgeyB2YWx1ZTogdHJ1ZSB9ICk7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0gW1xuXG5cdFx0XHQxLCAwLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCwgMCxcblx0XHRcdDAsIDAsIDEsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHRdO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID4gMCApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLk1hdHJpeDQ6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuJyApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRzZXQoIG4xMSwgbjEyLCBuMTMsIG4xNCwgbjIxLCBuMjIsIG4yMywgbjI0LCBuMzEsIG4zMiwgbjMzLCBuMzQsIG40MSwgbjQyLCBuNDMsIG40NCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBuMTE7IHRlWyA0IF0gPSBuMTI7IHRlWyA4IF0gPSBuMTM7IHRlWyAxMiBdID0gbjE0O1xuXHRcdHRlWyAxIF0gPSBuMjE7IHRlWyA1IF0gPSBuMjI7IHRlWyA5IF0gPSBuMjM7IHRlWyAxMyBdID0gbjI0O1xuXHRcdHRlWyAyIF0gPSBuMzE7IHRlWyA2IF0gPSBuMzI7IHRlWyAxMCBdID0gbjMzOyB0ZVsgMTQgXSA9IG4zNDtcblx0XHR0ZVsgMyBdID0gbjQxOyB0ZVsgNyBdID0gbjQyOyB0ZVsgMTEgXSA9IG40MzsgdGVbIDE1IF0gPSBuNDQ7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aWRlbnRpdHkoKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgMCwgMCwgMCxcblx0XHRcdDAsIDEsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgTWF0cml4NCgpLmZyb21BcnJheSggdGhpcy5lbGVtZW50cyApO1xuXG5cdH1cblxuXHRjb3B5KCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdOyB0ZVsgMSBdID0gbWVbIDEgXTsgdGVbIDIgXSA9IG1lWyAyIF07IHRlWyAzIF0gPSBtZVsgMyBdO1xuXHRcdHRlWyA0IF0gPSBtZVsgNCBdOyB0ZVsgNSBdID0gbWVbIDUgXTsgdGVbIDYgXSA9IG1lWyA2IF07IHRlWyA3IF0gPSBtZVsgNyBdO1xuXHRcdHRlWyA4IF0gPSBtZVsgOCBdOyB0ZVsgOSBdID0gbWVbIDkgXTsgdGVbIDEwIF0gPSBtZVsgMTAgXTsgdGVbIDExIF0gPSBtZVsgMTEgXTtcblx0XHR0ZVsgMTIgXSA9IG1lWyAxMiBdOyB0ZVsgMTMgXSA9IG1lWyAxMyBdOyB0ZVsgMTQgXSA9IG1lWyAxNCBdOyB0ZVsgMTUgXSA9IG1lWyAxNSBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHlQb3NpdGlvbiggbSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cywgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDEyIF0gPSBtZVsgMTIgXTtcblx0XHR0ZVsgMTMgXSA9IG1lWyAxMyBdO1xuXHRcdHRlWyAxNCBdID0gbWVbIDE0IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdEJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0eEF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbiggdGhpcywgMCApO1xuXHRcdHlBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCB0aGlzLCAyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHR4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLFxuXHRcdFx0eEF4aXMueSwgeUF4aXMueSwgekF4aXMueSwgMCxcblx0XHRcdHhBeGlzLnosIHlBeGlzLnosIHpBeGlzLnosIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHRyYWN0Um90YXRpb24oIG0gKSB7XG5cblx0XHQvLyB0aGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IHJlZmxlY3Rpb24gbWF0cmljZXNcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHRjb25zdCBzY2FsZVggPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDAgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzY2FsZVkgPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDEgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzY2FsZVogPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDIgKS5sZW5ndGgoKTtcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdICogc2NhbGVYO1xuXHRcdHRlWyAxIF0gPSBtZVsgMSBdICogc2NhbGVYO1xuXHRcdHRlWyAyIF0gPSBtZVsgMiBdICogc2NhbGVYO1xuXHRcdHRlWyAzIF0gPSAwO1xuXG5cdFx0dGVbIDQgXSA9IG1lWyA0IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDUgXSA9IG1lWyA1IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDYgXSA9IG1lWyA2IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDcgXSA9IDA7XG5cblx0XHR0ZVsgOCBdID0gbWVbIDggXSAqIHNjYWxlWjtcblx0XHR0ZVsgOSBdID0gbWVbIDkgXSAqIHNjYWxlWjtcblx0XHR0ZVsgMTAgXSA9IG1lWyAxMCBdICogc2NhbGVaO1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdHRlWyAxMiBdID0gMDtcblx0XHR0ZVsgMTMgXSA9IDA7XG5cdFx0dGVbIDE0IF0gPSAwO1xuXHRcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25Gcm9tRXVsZXIoIGV1bGVyICkge1xuXG5cdFx0aWYgKCAhICggZXVsZXIgJiYgZXVsZXIuaXNFdWxlciApICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4NDogLm1ha2VSb3RhdGlvbkZyb21FdWxlcigpIG5vdyBleHBlY3RzIGEgRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCB4ID0gZXVsZXIueCwgeSA9IGV1bGVyLnksIHogPSBldWxlci56O1xuXHRcdGNvbnN0IGEgPSBNYXRoLmNvcyggeCApLCBiID0gTWF0aC5zaW4oIHggKTtcblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHkgKSwgZCA9IE1hdGguc2luKCB5ICk7XG5cdFx0Y29uc3QgZSA9IE1hdGguY29zKCB6ICksIGYgPSBNYXRoLnNpbiggeiApO1xuXG5cdFx0aWYgKCBldWxlci5vcmRlciA9PT0gJ1hZWicgKSB7XG5cblx0XHRcdGNvbnN0IGFlID0gYSAqIGUsIGFmID0gYSAqIGYsIGJlID0gYiAqIGUsIGJmID0gYiAqIGY7XG5cblx0XHRcdHRlWyAwIF0gPSBjICogZTtcblx0XHRcdHRlWyA0IF0gPSAtIGMgKiBmO1xuXHRcdFx0dGVbIDggXSA9IGQ7XG5cblx0XHRcdHRlWyAxIF0gPSBhZiArIGJlICogZDtcblx0XHRcdHRlWyA1IF0gPSBhZSAtIGJmICogZDtcblx0XHRcdHRlWyA5IF0gPSAtIGIgKiBjO1xuXG5cdFx0XHR0ZVsgMiBdID0gYmYgLSBhZSAqIGQ7XG5cdFx0XHR0ZVsgNiBdID0gYmUgKyBhZiAqIGQ7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdZWFonICkge1xuXG5cdFx0XHRjb25zdCBjZSA9IGMgKiBlLCBjZiA9IGMgKiBmLCBkZSA9IGQgKiBlLCBkZiA9IGQgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gY2UgKyBkZiAqIGI7XG5cdFx0XHR0ZVsgNCBdID0gZGUgKiBiIC0gY2Y7XG5cdFx0XHR0ZVsgOCBdID0gYSAqIGQ7XG5cblx0XHRcdHRlWyAxIF0gPSBhICogZjtcblx0XHRcdHRlWyA1IF0gPSBhICogZTtcblx0XHRcdHRlWyA5IF0gPSAtIGI7XG5cblx0XHRcdHRlWyAyIF0gPSBjZiAqIGIgLSBkZTtcblx0XHRcdHRlWyA2IF0gPSBkZiArIGNlICogYjtcblx0XHRcdHRlWyAxMCBdID0gYSAqIGM7XG5cblx0XHR9IGVsc2UgaWYgKCBldWxlci5vcmRlciA9PT0gJ1pYWScgKSB7XG5cblx0XHRcdGNvbnN0IGNlID0gYyAqIGUsIGNmID0gYyAqIGYsIGRlID0gZCAqIGUsIGRmID0gZCAqIGY7XG5cblx0XHRcdHRlWyAwIF0gPSBjZSAtIGRmICogYjtcblx0XHRcdHRlWyA0IF0gPSAtIGEgKiBmO1xuXHRcdFx0dGVbIDggXSA9IGRlICsgY2YgKiBiO1xuXG5cdFx0XHR0ZVsgMSBdID0gY2YgKyBkZSAqIGI7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gZGYgLSBjZSAqIGI7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGEgKiBkO1xuXHRcdFx0dGVbIDYgXSA9IGI7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdaWVgnICkge1xuXG5cdFx0XHRjb25zdCBhZSA9IGEgKiBlLCBhZiA9IGEgKiBmLCBiZSA9IGIgKiBlLCBiZiA9IGIgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gYmUgKiBkIC0gYWY7XG5cdFx0XHR0ZVsgOCBdID0gYWUgKiBkICsgYmY7XG5cblx0XHRcdHRlWyAxIF0gPSBjICogZjtcblx0XHRcdHRlWyA1IF0gPSBiZiAqIGQgKyBhZTtcblx0XHRcdHRlWyA5IF0gPSBhZiAqIGQgLSBiZTtcblxuXHRcdFx0dGVbIDIgXSA9IC0gZDtcblx0XHRcdHRlWyA2IF0gPSBiICogYztcblx0XHRcdHRlWyAxMCBdID0gYSAqIGM7XG5cblx0XHR9IGVsc2UgaWYgKCBldWxlci5vcmRlciA9PT0gJ1laWCcgKSB7XG5cblx0XHRcdGNvbnN0IGFjID0gYSAqIGMsIGFkID0gYSAqIGQsIGJjID0gYiAqIGMsIGJkID0gYiAqIGQ7XG5cblx0XHRcdHRlWyAwIF0gPSBjICogZTtcblx0XHRcdHRlWyA0IF0gPSBiZCAtIGFjICogZjtcblx0XHRcdHRlWyA4IF0gPSBiYyAqIGYgKyBhZDtcblxuXHRcdFx0dGVbIDEgXSA9IGY7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gLSBiICogZTtcblxuXHRcdFx0dGVbIDIgXSA9IC0gZCAqIGU7XG5cdFx0XHR0ZVsgNiBdID0gYWQgKiBmICsgYmM7XG5cdFx0XHR0ZVsgMTAgXSA9IGFjIC0gYmQgKiBmO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdYWlknICkge1xuXG5cdFx0XHRjb25zdCBhYyA9IGEgKiBjLCBhZCA9IGEgKiBkLCBiYyA9IGIgKiBjLCBiZCA9IGIgKiBkO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gLSBmO1xuXHRcdFx0dGVbIDggXSA9IGQgKiBlO1xuXG5cdFx0XHR0ZVsgMSBdID0gYWMgKiBmICsgYmQ7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gYWQgKiBmIC0gYmM7XG5cblx0XHRcdHRlWyAyIF0gPSBiYyAqIGYgLSBhZDtcblx0XHRcdHRlWyA2IF0gPSBiICogZTtcblx0XHRcdHRlWyAxMCBdID0gYmQgKiBmICsgYWM7XG5cblx0XHR9XG5cblx0XHQvLyBib3R0b20gcm93XG5cdFx0dGVbIDMgXSA9IDA7XG5cdFx0dGVbIDcgXSA9IDA7XG5cdFx0dGVbIDExIF0gPSAwO1xuXG5cdFx0Ly8gbGFzdCBjb2x1bW5cblx0XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAxNCBdID0gMDtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oIHEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5jb21wb3NlKCBfemVybywgcSwgX29uZSApO1xuXG5cdH1cblxuXHRsb29rQXQoIGV5ZSwgdGFyZ2V0LCB1cCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdF96LnN1YlZlY3RvcnMoIGV5ZSwgdGFyZ2V0ICk7XG5cblx0XHRpZiAoIF96Lmxlbmd0aFNxKCkgPT09IDAgKSB7XG5cblx0XHRcdC8vIGV5ZSBhbmQgdGFyZ2V0IGFyZSBpbiB0aGUgc2FtZSBwb3NpdGlvblxuXG5cdFx0XHRfei56ID0gMTtcblxuXHRcdH1cblxuXHRcdF96Lm5vcm1hbGl6ZSgpO1xuXHRcdF94LmNyb3NzVmVjdG9ycyggdXAsIF96ICk7XG5cblx0XHRpZiAoIF94Lmxlbmd0aFNxKCkgPT09IDAgKSB7XG5cblx0XHRcdC8vIHVwIGFuZCB6IGFyZSBwYXJhbGxlbFxuXG5cdFx0XHRpZiAoIE1hdGguYWJzKCB1cC56ICkgPT09IDEgKSB7XG5cblx0XHRcdFx0X3oueCArPSAwLjAwMDE7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0X3oueiArPSAwLjAwMDE7XG5cblx0XHRcdH1cblxuXHRcdFx0X3oubm9ybWFsaXplKCk7XG5cdFx0XHRfeC5jcm9zc1ZlY3RvcnMoIHVwLCBfeiApO1xuXG5cdFx0fVxuXG5cdFx0X3gubm9ybWFsaXplKCk7XG5cdFx0X3kuY3Jvc3NWZWN0b3JzKCBfeiwgX3ggKTtcblxuXHRcdHRlWyAwIF0gPSBfeC54OyB0ZVsgNCBdID0gX3kueDsgdGVbIDggXSA9IF96Lng7XG5cdFx0dGVbIDEgXSA9IF94Lnk7IHRlWyA1IF0gPSBfeS55OyB0ZVsgOSBdID0gX3oueTtcblx0XHR0ZVsgMiBdID0gX3guejsgdGVbIDYgXSA9IF95Lno7IHRlWyAxMCBdID0gX3ouejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggbSwgbiApIHtcblxuXHRcdGlmICggbiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCBtLCBuICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgNCBdLCBhMTMgPSBhZVsgOCBdLCBhMTQgPSBhZVsgMTIgXTtcblx0XHRjb25zdCBhMjEgPSBhZVsgMSBdLCBhMjIgPSBhZVsgNSBdLCBhMjMgPSBhZVsgOSBdLCBhMjQgPSBhZVsgMTMgXTtcblx0XHRjb25zdCBhMzEgPSBhZVsgMiBdLCBhMzIgPSBhZVsgNiBdLCBhMzMgPSBhZVsgMTAgXSwgYTM0ID0gYWVbIDE0IF07XG5cdFx0Y29uc3QgYTQxID0gYWVbIDMgXSwgYTQyID0gYWVbIDcgXSwgYTQzID0gYWVbIDExIF0sIGE0NCA9IGFlWyAxNSBdO1xuXG5cdFx0Y29uc3QgYjExID0gYmVbIDAgXSwgYjEyID0gYmVbIDQgXSwgYjEzID0gYmVbIDggXSwgYjE0ID0gYmVbIDEyIF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDUgXSwgYjIzID0gYmVbIDkgXSwgYjI0ID0gYmVbIDEzIF07XG5cdFx0Y29uc3QgYjMxID0gYmVbIDIgXSwgYjMyID0gYmVbIDYgXSwgYjMzID0gYmVbIDEwIF0sIGIzNCA9IGJlWyAxNCBdO1xuXHRcdGNvbnN0IGI0MSA9IGJlWyAzIF0sIGI0MiA9IGJlWyA3IF0sIGI0MyA9IGJlWyAxMSBdLCBiNDQgPSBiZVsgMTUgXTtcblxuXHRcdHRlWyAwIF0gPSBhMTEgKiBiMTEgKyBhMTIgKiBiMjEgKyBhMTMgKiBiMzEgKyBhMTQgKiBiNDE7XG5cdFx0dGVbIDQgXSA9IGExMSAqIGIxMiArIGExMiAqIGIyMiArIGExMyAqIGIzMiArIGExNCAqIGI0Mjtcblx0XHR0ZVsgOCBdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzICsgYTE0ICogYjQzO1xuXHRcdHRlWyAxMiBdID0gYTExICogYjE0ICsgYTEyICogYjI0ICsgYTEzICogYjM0ICsgYTE0ICogYjQ0O1xuXG5cdFx0dGVbIDEgXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MTtcblx0XHR0ZVsgNSBdID0gYTIxICogYjEyICsgYTIyICogYjIyICsgYTIzICogYjMyICsgYTI0ICogYjQyO1xuXHRcdHRlWyA5IF0gPSBhMjEgKiBiMTMgKyBhMjIgKiBiMjMgKyBhMjMgKiBiMzMgKyBhMjQgKiBiNDM7XG5cdFx0dGVbIDEzIF0gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDQ7XG5cblx0XHR0ZVsgMiBdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxICsgYTM0ICogYjQxO1xuXHRcdHRlWyA2IF0gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzIgKyBhMzQgKiBiNDI7XG5cdFx0dGVbIDEwIF0gPSBhMzEgKiBiMTMgKyBhMzIgKiBiMjMgKyBhMzMgKiBiMzMgKyBhMzQgKiBiNDM7XG5cdFx0dGVbIDE0IF0gPSBhMzEgKiBiMTQgKyBhMzIgKiBiMjQgKyBhMzMgKiBiMzQgKyBhMzQgKiBiNDQ7XG5cblx0XHR0ZVsgMyBdID0gYTQxICogYjExICsgYTQyICogYjIxICsgYTQzICogYjMxICsgYTQ0ICogYjQxO1xuXHRcdHRlWyA3IF0gPSBhNDEgKiBiMTIgKyBhNDIgKiBiMjIgKyBhNDMgKiBiMzIgKyBhNDQgKiBiNDI7XG5cdFx0dGVbIDExIF0gPSBhNDEgKiBiMTMgKyBhNDIgKiBiMjMgKyBhNDMgKiBiMzMgKyBhNDQgKiBiNDM7XG5cdFx0dGVbIDE1IF0gPSBhNDEgKiBiMTQgKyBhNDIgKiBiMjQgKyBhNDMgKiBiMzQgKyBhNDQgKiBiNDQ7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHMgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDggXSAqPSBzOyB0ZVsgMTIgXSAqPSBzO1xuXHRcdHRlWyAxIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOSBdICo9IHM7IHRlWyAxMyBdICo9IHM7XG5cdFx0dGVbIDIgXSAqPSBzOyB0ZVsgNiBdICo9IHM7IHRlWyAxMCBdICo9IHM7IHRlWyAxNCBdICo9IHM7XG5cdFx0dGVbIDMgXSAqPSBzOyB0ZVsgNyBdICo9IHM7IHRlWyAxMSBdICo9IHM7IHRlWyAxNSBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBuMTEgPSB0ZVsgMCBdLCBuMTIgPSB0ZVsgNCBdLCBuMTMgPSB0ZVsgOCBdLCBuMTQgPSB0ZVsgMTIgXTtcblx0XHRjb25zdCBuMjEgPSB0ZVsgMSBdLCBuMjIgPSB0ZVsgNSBdLCBuMjMgPSB0ZVsgOSBdLCBuMjQgPSB0ZVsgMTMgXTtcblx0XHRjb25zdCBuMzEgPSB0ZVsgMiBdLCBuMzIgPSB0ZVsgNiBdLCBuMzMgPSB0ZVsgMTAgXSwgbjM0ID0gdGVbIDE0IF07XG5cdFx0Y29uc3QgbjQxID0gdGVbIDMgXSwgbjQyID0gdGVbIDcgXSwgbjQzID0gdGVbIDExIF0sIG40NCA9IHRlWyAxNSBdO1xuXG5cdFx0Ly9UT0RPOiBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnRcblx0XHQvLyggYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtIClcblxuXHRcdHJldHVybiAoXG5cdFx0XHRuNDEgKiAoXG5cdFx0XHRcdCsgbjE0ICogbjIzICogbjMyXG5cdFx0XHRcdCAtIG4xMyAqIG4yNCAqIG4zMlxuXHRcdFx0XHQgLSBuMTQgKiBuMjIgKiBuMzNcblx0XHRcdFx0ICsgbjEyICogbjI0ICogbjMzXG5cdFx0XHRcdCArIG4xMyAqIG4yMiAqIG4zNFxuXHRcdFx0XHQgLSBuMTIgKiBuMjMgKiBuMzRcblx0XHRcdCkgK1xuXHRcdFx0bjQyICogKFxuXHRcdFx0XHQrIG4xMSAqIG4yMyAqIG4zNFxuXHRcdFx0XHQgLSBuMTEgKiBuMjQgKiBuMzNcblx0XHRcdFx0ICsgbjE0ICogbjIxICogbjMzXG5cdFx0XHRcdCAtIG4xMyAqIG4yMSAqIG4zNFxuXHRcdFx0XHQgKyBuMTMgKiBuMjQgKiBuMzFcblx0XHRcdFx0IC0gbjE0ICogbjIzICogbjMxXG5cdFx0XHQpICtcblx0XHRcdG40MyAqIChcblx0XHRcdFx0KyBuMTEgKiBuMjQgKiBuMzJcblx0XHRcdFx0IC0gbjExICogbjIyICogbjM0XG5cdFx0XHRcdCAtIG4xNCAqIG4yMSAqIG4zMlxuXHRcdFx0XHQgKyBuMTIgKiBuMjEgKiBuMzRcblx0XHRcdFx0ICsgbjE0ICogbjIyICogbjMxXG5cdFx0XHRcdCAtIG4xMiAqIG4yNCAqIG4zMVxuXHRcdFx0KSArXG5cdFx0XHRuNDQgKiAoXG5cdFx0XHRcdC0gbjEzICogbjIyICogbjMxXG5cdFx0XHRcdCAtIG4xMSAqIG4yMyAqIG4zMlxuXHRcdFx0XHQgKyBuMTEgKiBuMjIgKiBuMzNcblx0XHRcdFx0ICsgbjEzICogbjIxICogbjMyXG5cdFx0XHRcdCAtIG4xMiAqIG4yMSAqIG4zM1xuXHRcdFx0XHQgKyBuMTIgKiBuMjMgKiBuMzFcblx0XHRcdClcblxuXHRcdCk7XG5cblx0fVxuXG5cdHRyYW5zcG9zZSgpIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRsZXQgdG1wO1xuXG5cdFx0dG1wID0gdGVbIDEgXTsgdGVbIDEgXSA9IHRlWyA0IF07IHRlWyA0IF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDIgXTsgdGVbIDIgXSA9IHRlWyA4IF07IHRlWyA4IF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDYgXTsgdGVbIDYgXSA9IHRlWyA5IF07IHRlWyA5IF0gPSB0bXA7XG5cblx0XHR0bXAgPSB0ZVsgMyBdOyB0ZVsgMyBdID0gdGVbIDEyIF07IHRlWyAxMiBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyA3IF07IHRlWyA3IF0gPSB0ZVsgMTMgXTsgdGVbIDEzIF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDExIF07IHRlWyAxMSBdID0gdGVbIDE0IF07IHRlWyAxNCBdID0gdG1wO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFBvc2l0aW9uKCB4LCB5LCB6ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0aWYgKCB4LmlzVmVjdG9yMyApIHtcblxuXHRcdFx0dGVbIDEyIF0gPSB4Lng7XG5cdFx0XHR0ZVsgMTMgXSA9IHgueTtcblx0XHRcdHRlWyAxNCBdID0geC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGVbIDEyIF0gPSB4O1xuXHRcdFx0dGVbIDEzIF0gPSB5O1xuXHRcdFx0dGVbIDE0IF0gPSB6O1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldEludmVyc2UoIG0sIHRocm93T25EZWdlbmVyYXRlICkge1xuXG5cdFx0aWYgKCB0aHJvd09uRGVnZW5lcmF0ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oIFwiVEhSRUUuTWF0cml4NDogLmdldEludmVyc2UoKSBjYW4gbm8gbG9uZ2VyIGJlIGNvbmZpZ3VyZWQgdG8gdGhyb3cgb24gZGVnZW5lcmF0ZS5cIiApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzLFxuXHRcdFx0bWUgPSBtLmVsZW1lbnRzLFxuXG5cdFx0XHRuMTEgPSBtZVsgMCBdLCBuMjEgPSBtZVsgMSBdLCBuMzEgPSBtZVsgMiBdLCBuNDEgPSBtZVsgMyBdLFxuXHRcdFx0bjEyID0gbWVbIDQgXSwgbjIyID0gbWVbIDUgXSwgbjMyID0gbWVbIDYgXSwgbjQyID0gbWVbIDcgXSxcblx0XHRcdG4xMyA9IG1lWyA4IF0sIG4yMyA9IG1lWyA5IF0sIG4zMyA9IG1lWyAxMCBdLCBuNDMgPSBtZVsgMTEgXSxcblx0XHRcdG4xNCA9IG1lWyAxMiBdLCBuMjQgPSBtZVsgMTMgXSwgbjM0ID0gbWVbIDE0IF0sIG40NCA9IG1lWyAxNSBdLFxuXG5cdFx0XHR0MTEgPSBuMjMgKiBuMzQgKiBuNDIgLSBuMjQgKiBuMzMgKiBuNDIgKyBuMjQgKiBuMzIgKiBuNDMgLSBuMjIgKiBuMzQgKiBuNDMgLSBuMjMgKiBuMzIgKiBuNDQgKyBuMjIgKiBuMzMgKiBuNDQsXG5cdFx0XHR0MTIgPSBuMTQgKiBuMzMgKiBuNDIgLSBuMTMgKiBuMzQgKiBuNDIgLSBuMTQgKiBuMzIgKiBuNDMgKyBuMTIgKiBuMzQgKiBuNDMgKyBuMTMgKiBuMzIgKiBuNDQgLSBuMTIgKiBuMzMgKiBuNDQsXG5cdFx0XHR0MTMgPSBuMTMgKiBuMjQgKiBuNDIgLSBuMTQgKiBuMjMgKiBuNDIgKyBuMTQgKiBuMjIgKiBuNDMgLSBuMTIgKiBuMjQgKiBuNDMgLSBuMTMgKiBuMjIgKiBuNDQgKyBuMTIgKiBuMjMgKiBuNDQsXG5cdFx0XHR0MTQgPSBuMTQgKiBuMjMgKiBuMzIgLSBuMTMgKiBuMjQgKiBuMzIgLSBuMTQgKiBuMjIgKiBuMzMgKyBuMTIgKiBuMjQgKiBuMzMgKyBuMTMgKiBuMjIgKiBuMzQgLSBuMTIgKiBuMjMgKiBuMzQ7XG5cblx0XHRjb25zdCBkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTMgKyBuNDEgKiB0MTQ7XG5cblx0XHRpZiAoIGRldCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCApO1xuXG5cdFx0Y29uc3QgZGV0SW52ID0gMSAvIGRldDtcblxuXHRcdHRlWyAwIF0gPSB0MTEgKiBkZXRJbnY7XG5cdFx0dGVbIDEgXSA9ICggbjI0ICogbjMzICogbjQxIC0gbjIzICogbjM0ICogbjQxIC0gbjI0ICogbjMxICogbjQzICsgbjIxICogbjM0ICogbjQzICsgbjIzICogbjMxICogbjQ0IC0gbjIxICogbjMzICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDIgXSA9ICggbjIyICogbjM0ICogbjQxIC0gbjI0ICogbjMyICogbjQxICsgbjI0ICogbjMxICogbjQyIC0gbjIxICogbjM0ICogbjQyIC0gbjIyICogbjMxICogbjQ0ICsgbjIxICogbjMyICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDMgXSA9ICggbjIzICogbjMyICogbjQxIC0gbjIyICogbjMzICogbjQxIC0gbjIzICogbjMxICogbjQyICsgbjIxICogbjMzICogbjQyICsgbjIyICogbjMxICogbjQzIC0gbjIxICogbjMyICogbjQzICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgNCBdID0gdDEyICogZGV0SW52O1xuXHRcdHRlWyA1IF0gPSAoIG4xMyAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMyAqIG40MSArIG4xNCAqIG4zMSAqIG40MyAtIG4xMSAqIG4zNCAqIG40MyAtIG4xMyAqIG4zMSAqIG40NCArIG4xMSAqIG4zMyAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyA2IF0gPSAoIG4xNCAqIG4zMiAqIG40MSAtIG4xMiAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMSAqIG40MiArIG4xMSAqIG4zNCAqIG40MiArIG4xMiAqIG4zMSAqIG40NCAtIG4xMSAqIG4zMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyA3IF0gPSAoIG4xMiAqIG4zMyAqIG40MSAtIG4xMyAqIG4zMiAqIG40MSArIG4xMyAqIG4zMSAqIG40MiAtIG4xMSAqIG4zMyAqIG40MiAtIG4xMiAqIG4zMSAqIG40MyArIG4xMSAqIG4zMiAqIG40MyApICogZGV0SW52O1xuXG5cdFx0dGVbIDggXSA9IHQxMyAqIGRldEludjtcblx0XHR0ZVsgOSBdID0gKCBuMTQgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjEgKiBuNDMgKyBuMTEgKiBuMjQgKiBuNDMgKyBuMTMgKiBuMjEgKiBuNDQgLSBuMTEgKiBuMjMgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMTAgXSA9ICggbjEyICogbjI0ICogbjQxIC0gbjE0ICogbjIyICogbjQxICsgbjE0ICogbjIxICogbjQyIC0gbjExICogbjI0ICogbjQyIC0gbjEyICogbjIxICogbjQ0ICsgbjExICogbjIyICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDExIF0gPSAoIG4xMyAqIG4yMiAqIG40MSAtIG4xMiAqIG4yMyAqIG40MSAtIG4xMyAqIG4yMSAqIG40MiArIG4xMSAqIG4yMyAqIG40MiArIG4xMiAqIG4yMSAqIG40MyAtIG4xMSAqIG4yMiAqIG40MyApICogZGV0SW52O1xuXG5cdFx0dGVbIDEyIF0gPSB0MTQgKiBkZXRJbnY7XG5cdFx0dGVbIDEzIF0gPSAoIG4xMyAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMyAqIG4zMSArIG4xNCAqIG4yMSAqIG4zMyAtIG4xMSAqIG4yNCAqIG4zMyAtIG4xMyAqIG4yMSAqIG4zNCArIG4xMSAqIG4yMyAqIG4zNCApICogZGV0SW52O1xuXHRcdHRlWyAxNCBdID0gKCBuMTQgKiBuMjIgKiBuMzEgLSBuMTIgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjEgKiBuMzIgKyBuMTEgKiBuMjQgKiBuMzIgKyBuMTIgKiBuMjEgKiBuMzQgLSBuMTEgKiBuMjIgKiBuMzQgKSAqIGRldEludjtcblx0XHR0ZVsgMTUgXSA9ICggbjEyICogbjIzICogbjMxIC0gbjEzICogbjIyICogbjMxICsgbjEzICogbjIxICogbjMyIC0gbjExICogbjIzICogbjMyIC0gbjEyICogbjIxICogbjMzICsgbjExICogbjIyICogbjMzICkgKiBkZXRJbnY7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2NhbGUoIHYgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgeCA9IHYueCwgeSA9IHYueSwgeiA9IHYuejtcblxuXHRcdHRlWyAwIF0gKj0geDsgdGVbIDQgXSAqPSB5OyB0ZVsgOCBdICo9IHo7XG5cdFx0dGVbIDEgXSAqPSB4OyB0ZVsgNSBdICo9IHk7IHRlWyA5IF0gKj0gejtcblx0XHR0ZVsgMiBdICo9IHg7IHRlWyA2IF0gKj0geTsgdGVbIDEwIF0gKj0gejtcblx0XHR0ZVsgMyBdICo9IHg7IHRlWyA3IF0gKj0geTsgdGVbIDExIF0gKj0gejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRNYXhTY2FsZU9uQXhpcygpIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGNvbnN0IHNjYWxlWFNxID0gdGVbIDAgXSAqIHRlWyAwIF0gKyB0ZVsgMSBdICogdGVbIDEgXSArIHRlWyAyIF0gKiB0ZVsgMiBdO1xuXHRcdGNvbnN0IHNjYWxlWVNxID0gdGVbIDQgXSAqIHRlWyA0IF0gKyB0ZVsgNSBdICogdGVbIDUgXSArIHRlWyA2IF0gKiB0ZVsgNiBdO1xuXHRcdGNvbnN0IHNjYWxlWlNxID0gdGVbIDggXSAqIHRlWyA4IF0gKyB0ZVsgOSBdICogdGVbIDkgXSArIHRlWyAxMCBdICogdGVbIDEwIF07XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCBNYXRoLm1heCggc2NhbGVYU3EsIHNjYWxlWVNxLCBzY2FsZVpTcSApICk7XG5cblx0fVxuXG5cdG1ha2VUcmFuc2xhdGlvbiggeCwgeSwgeiApIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCAwLCAwLCB4LFxuXHRcdFx0MCwgMSwgMCwgeSxcblx0XHRcdDAsIDAsIDEsIHosXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvblgoIHRoZXRhICkge1xuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB0aGV0YSApLCBzID0gTWF0aC5zaW4oIHRoZXRhICk7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgMCwgMCwgMCxcblx0XHRcdDAsIGMsIC0gcywgMCxcblx0XHRcdDAsIHMsIGMsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvblkoIHRoZXRhICkge1xuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB0aGV0YSApLCBzID0gTWF0aC5zaW4oIHRoZXRhICk7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0IGMsIDAsIHMsIDAsXG5cdFx0XHQgMCwgMSwgMCwgMCxcblx0XHRcdC0gcywgMCwgYywgMCxcblx0XHRcdCAwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvblooIHRoZXRhICkge1xuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB0aGV0YSApLCBzID0gTWF0aC5zaW4oIHRoZXRhICk7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0YywgLSBzLCAwLCAwLFxuXHRcdFx0cywgYywgMCwgMCxcblx0XHRcdDAsIDAsIDEsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvbkF4aXMoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0Ly8gQmFzZWQgb24gaHR0cDovL3d3dy5nYW1lZGV2Lm5ldC9yZWZlcmVuY2UvYXJ0aWNsZXMvYXJ0aWNsZTExOTkuYXNwXG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIGFuZ2xlICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCBhbmdsZSApO1xuXHRcdGNvbnN0IHQgPSAxIC0gYztcblx0XHRjb25zdCB4ID0gYXhpcy54LCB5ID0gYXhpcy55LCB6ID0gYXhpcy56O1xuXHRcdGNvbnN0IHR4ID0gdCAqIHgsIHR5ID0gdCAqIHk7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0dHggKiB4ICsgYywgdHggKiB5IC0gcyAqIHosIHR4ICogeiArIHMgKiB5LCAwLFxuXHRcdFx0dHggKiB5ICsgcyAqIHosIHR5ICogeSArIGMsIHR5ICogeiAtIHMgKiB4LCAwLFxuXHRcdFx0dHggKiB6IC0gcyAqIHksIHR5ICogeiArIHMgKiB4LCB0ICogeiAqIHogKyBjLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlU2NhbGUoIHgsIHksIHogKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0eCwgMCwgMCwgMCxcblx0XHRcdDAsIHksIDAsIDAsXG5cdFx0XHQwLCAwLCB6LCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlU2hlYXIoIHgsIHksIHogKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgeSwgeiwgMCxcblx0XHRcdHgsIDEsIHosIDAsXG5cdFx0XHR4LCB5LCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb21wb3NlKCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2NhbGUgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCB4ID0gcXVhdGVybmlvbi5feCwgeSA9IHF1YXRlcm5pb24uX3ksIHogPSBxdWF0ZXJuaW9uLl96LCB3ID0gcXVhdGVybmlvbi5fdztcblx0XHRjb25zdCB4MiA9IHggKyB4LFx0eTIgPSB5ICsgeSwgejIgPSB6ICsgejtcblx0XHRjb25zdCB4eCA9IHggKiB4MiwgeHkgPSB4ICogeTIsIHh6ID0geCAqIHoyO1xuXHRcdGNvbnN0IHl5ID0geSAqIHkyLCB5eiA9IHkgKiB6MiwgenogPSB6ICogejI7XG5cdFx0Y29uc3Qgd3ggPSB3ICogeDIsIHd5ID0gdyAqIHkyLCB3eiA9IHcgKiB6MjtcblxuXHRcdGNvbnN0IHN4ID0gc2NhbGUueCwgc3kgPSBzY2FsZS55LCBzeiA9IHNjYWxlLno7XG5cblx0XHR0ZVsgMCBdID0gKCAxIC0gKCB5eSArIHp6ICkgKSAqIHN4O1xuXHRcdHRlWyAxIF0gPSAoIHh5ICsgd3ogKSAqIHN4O1xuXHRcdHRlWyAyIF0gPSAoIHh6IC0gd3kgKSAqIHN4O1xuXHRcdHRlWyAzIF0gPSAwO1xuXG5cdFx0dGVbIDQgXSA9ICggeHkgLSB3eiApICogc3k7XG5cdFx0dGVbIDUgXSA9ICggMSAtICggeHggKyB6eiApICkgKiBzeTtcblx0XHR0ZVsgNiBdID0gKCB5eiArIHd4ICkgKiBzeTtcblx0XHR0ZVsgNyBdID0gMDtcblxuXHRcdHRlWyA4IF0gPSAoIHh6ICsgd3kgKSAqIHN6O1xuXHRcdHRlWyA5IF0gPSAoIHl6IC0gd3ggKSAqIHN6O1xuXHRcdHRlWyAxMCBdID0gKCAxIC0gKCB4eCArIHl5ICkgKSAqIHN6O1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdHRlWyAxMiBdID0gcG9zaXRpb24ueDtcblx0XHR0ZVsgMTMgXSA9IHBvc2l0aW9uLnk7XG5cdFx0dGVbIDE0IF0gPSBwb3NpdGlvbi56O1xuXHRcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkZWNvbXBvc2UoIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGxldCBzeCA9IF92MS5zZXQoIHRlWyAwIF0sIHRlWyAxIF0sIHRlWyAyIF0gKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzeSA9IF92MS5zZXQoIHRlWyA0IF0sIHRlWyA1IF0sIHRlWyA2IF0gKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzeiA9IF92MS5zZXQoIHRlWyA4IF0sIHRlWyA5IF0sIHRlWyAxMCBdICkubGVuZ3RoKCk7XG5cblx0XHQvLyBpZiBkZXRlcm1pbmUgaXMgbmVnYXRpdmUsIHdlIG5lZWQgdG8gaW52ZXJ0IG9uZSBzY2FsZVxuXHRcdGNvbnN0IGRldCA9IHRoaXMuZGV0ZXJtaW5hbnQoKTtcblx0XHRpZiAoIGRldCA8IDAgKSBzeCA9IC0gc3g7XG5cblx0XHRwb3NpdGlvbi54ID0gdGVbIDEyIF07XG5cdFx0cG9zaXRpb24ueSA9IHRlWyAxMyBdO1xuXHRcdHBvc2l0aW9uLnogPSB0ZVsgMTQgXTtcblxuXHRcdC8vIHNjYWxlIHRoZSByb3RhdGlvbiBwYXJ0XG5cdFx0X20xLmNvcHkoIHRoaXMgKTtcblxuXHRcdGNvbnN0IGludlNYID0gMSAvIHN4O1xuXHRcdGNvbnN0IGludlNZID0gMSAvIHN5O1xuXHRcdGNvbnN0IGludlNaID0gMSAvIHN6O1xuXG5cdFx0X20xLmVsZW1lbnRzWyAwIF0gKj0gaW52U1g7XG5cdFx0X20xLmVsZW1lbnRzWyAxIF0gKj0gaW52U1g7XG5cdFx0X20xLmVsZW1lbnRzWyAyIF0gKj0gaW52U1g7XG5cblx0XHRfbTEuZWxlbWVudHNbIDQgXSAqPSBpbnZTWTtcblx0XHRfbTEuZWxlbWVudHNbIDUgXSAqPSBpbnZTWTtcblx0XHRfbTEuZWxlbWVudHNbIDYgXSAqPSBpbnZTWTtcblxuXHRcdF9tMS5lbGVtZW50c1sgOCBdICo9IGludlNaO1xuXHRcdF9tMS5lbGVtZW50c1sgOSBdICo9IGludlNaO1xuXHRcdF9tMS5lbGVtZW50c1sgMTAgXSAqPSBpbnZTWjtcblxuXHRcdHF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBfbTEgKTtcblxuXHRcdHNjYWxlLnggPSBzeDtcblx0XHRzY2FsZS55ID0gc3k7XG5cdFx0c2NhbGUueiA9IHN6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VQZXJzcGVjdGl2ZSggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSB7XG5cblx0XHRpZiAoIGZhciA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5NYXRyaXg0OiAubWFrZVBlcnNwZWN0aXZlKCkgaGFzIGJlZW4gcmVkZWZpbmVkIGFuZCBoYXMgYSBuZXcgc2lnbmF0dXJlLiBQbGVhc2UgY2hlY2sgdGhlIGRvY3MuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHggPSAyICogbmVhciAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgeSA9IDIgKiBuZWFyIC8gKCB0b3AgLSBib3R0b20gKTtcblxuXHRcdGNvbnN0IGEgPSAoIHJpZ2h0ICsgbGVmdCApIC8gKCByaWdodCAtIGxlZnQgKTtcblx0XHRjb25zdCBiID0gKCB0b3AgKyBib3R0b20gKSAvICggdG9wIC0gYm90dG9tICk7XG5cdFx0Y29uc3QgYyA9IC0gKCBmYXIgKyBuZWFyICkgLyAoIGZhciAtIG5lYXIgKTtcblx0XHRjb25zdCBkID0gLSAyICogZmFyICogbmVhciAvICggZmFyIC0gbmVhciApO1xuXG5cdFx0dGVbIDAgXSA9IHg7XHR0ZVsgNCBdID0gMDtcdHRlWyA4IF0gPSBhO1x0dGVbIDEyIF0gPSAwO1xuXHRcdHRlWyAxIF0gPSAwO1x0dGVbIDUgXSA9IHk7XHR0ZVsgOSBdID0gYjtcdHRlWyAxMyBdID0gMDtcblx0XHR0ZVsgMiBdID0gMDtcdHRlWyA2IF0gPSAwO1x0dGVbIDEwIF0gPSBjO1x0dGVbIDE0IF0gPSBkO1xuXHRcdHRlWyAzIF0gPSAwO1x0dGVbIDcgXSA9IDA7XHR0ZVsgMTEgXSA9IC0gMTtcdHRlWyAxNSBdID0gMDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlT3J0aG9ncmFwaGljKCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20sIG5lYXIsIGZhciApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCB3ID0gMS4wIC8gKCByaWdodCAtIGxlZnQgKTtcblx0XHRjb25zdCBoID0gMS4wIC8gKCB0b3AgLSBib3R0b20gKTtcblx0XHRjb25zdCBwID0gMS4wIC8gKCBmYXIgLSBuZWFyICk7XG5cblx0XHRjb25zdCB4ID0gKCByaWdodCArIGxlZnQgKSAqIHc7XG5cdFx0Y29uc3QgeSA9ICggdG9wICsgYm90dG9tICkgKiBoO1xuXHRcdGNvbnN0IHogPSAoIGZhciArIG5lYXIgKSAqIHA7XG5cblx0XHR0ZVsgMCBdID0gMiAqIHc7XHR0ZVsgNCBdID0gMDtcdHRlWyA4IF0gPSAwO1x0dGVbIDEyIF0gPSAtIHg7XG5cdFx0dGVbIDEgXSA9IDA7XHR0ZVsgNSBdID0gMiAqIGg7XHR0ZVsgOSBdID0gMDtcdHRlWyAxMyBdID0gLSB5O1xuXHRcdHRlWyAyIF0gPSAwO1x0dGVbIDYgXSA9IDA7XHR0ZVsgMTAgXSA9IC0gMiAqIHA7XHR0ZVsgMTQgXSA9IC0gejtcblx0XHR0ZVsgMyBdID0gMDtcdHRlWyA3IF0gPSAwO1x0dGVbIDExIF0gPSAwO1x0dGVbIDE1IF0gPSAxO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggbWF0cml4ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbWF0cml4LmVsZW1lbnRzO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMTY7IGkgKysgKSB7XG5cblx0XHRcdGlmICggdGVbIGkgXSAhPT0gbWVbIGkgXSApIHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMTY7IGkgKysgKSB7XG5cblx0XHRcdHRoaXMuZWxlbWVudHNbIGkgXSA9IGFycmF5WyBpICsgb2Zmc2V0IF07XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRlWyAwIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRlWyAxIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRlWyAyIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRlWyAzIF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgNCBdID0gdGVbIDQgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgNSBdID0gdGVbIDUgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgNiBdID0gdGVbIDYgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgNyBdID0gdGVbIDcgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyA4IF0gPSB0ZVsgOCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA5IF0gPSB0ZVsgOSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMCBdID0gdGVbIDEwIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDExIF0gPSB0ZVsgMTEgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyAxMiBdID0gdGVbIDEyIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDEzIF0gPSB0ZVsgMTMgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTQgXSA9IHRlWyAxNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxNSBdID0gdGVbIDE1IF07XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG59XG5cbmNvbnN0IF92MSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9tMSA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hdHJpeDQoKTtcbmNvbnN0IF96ZXJvID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMyggMCwgMCwgMCApO1xuY29uc3QgX29uZSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoIDEsIDEsIDEgKTtcbmNvbnN0IF94ID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3kgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfeiA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuZXhwb3J0IHsgTWF0cml4NCB9O1xuIiwiaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gJy4vUXVhdGVybmlvbi5qcyc7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzLmpzJztcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tICcuL01hdHJpeDQuanMnO1xuaW1wb3J0IHsgTWF0aFV0aWxzIH0gZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jbGFzcyBFdWxlciB7XG5cblx0Y29uc3RydWN0b3IoIHggPSAwLCB5ID0gMCwgeiA9IDAsIG9yZGVyID0gRXVsZXIuRGVmYXVsdE9yZGVyICkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNFdWxlcicsIHsgdmFsdWU6IHRydWUgfSApO1xuXG5cdFx0dGhpcy5feCA9IHg7XG5cdFx0dGhpcy5feSA9IHk7XG5cdFx0dGhpcy5feiA9IHo7XG5cdFx0dGhpcy5fb3JkZXIgPSBvcmRlcjtcblxuXHR9XG5cblx0Z2V0IHgoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feDtcblxuXHR9XG5cblx0c2V0IHgoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feCA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHkoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feTtcblxuXHR9XG5cblx0c2V0IHkoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feSA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHooKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fejtcblxuXHR9XG5cblx0c2V0IHooIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feiA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IG9yZGVyKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyO1xuXG5cdH1cblxuXHRzZXQgb3JkZXIoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5fb3JkZXIgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiwgb3JkZXIgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyIHx8IHRoaXMuX29yZGVyO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRjb3B5KCBldWxlciApIHtcblxuXHRcdHRoaXMuX3ggPSBldWxlci5feDtcblx0XHR0aGlzLl95ID0gZXVsZXIuX3k7XG5cdFx0dGhpcy5feiA9IGV1bGVyLl96O1xuXHRcdHRoaXMuX29yZGVyID0gZXVsZXIuX29yZGVyO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Sb3RhdGlvbk1hdHJpeCggbSwgb3JkZXIsIHVwZGF0ZSApIHtcblxuXHRcdGNvbnN0IGNsYW1wID0gTWF0aFV0aWxzLmNsYW1wO1xuXG5cdFx0Ly8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZClcblxuXHRcdGNvbnN0IHRlID0gbS5lbGVtZW50cztcblx0XHRjb25zdCBtMTEgPSB0ZVsgMCBdLCBtMTIgPSB0ZVsgNCBdLCBtMTMgPSB0ZVsgOCBdO1xuXHRcdGNvbnN0IG0yMSA9IHRlWyAxIF0sIG0yMiA9IHRlWyA1IF0sIG0yMyA9IHRlWyA5IF07XG5cdFx0Y29uc3QgbTMxID0gdGVbIDIgXSwgbTMyID0gdGVbIDYgXSwgbTMzID0gdGVbIDEwIF07XG5cblx0XHRvcmRlciA9IG9yZGVyIHx8IHRoaXMuX29yZGVyO1xuXG5cdFx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRcdGNhc2UgJ1hZWic6XG5cblx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXNpbiggY2xhbXAoIG0xMywgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMTMgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCAtIG0yMywgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIC0gbTEyLCBtMTEgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTIyICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWFonOlxuXG5cdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmFzaW4oIC0gY2xhbXAoIG0yMywgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMjMgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCBtMTMsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCBtMjEsIG0yMiApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggLSBtMzEsIG0xMSApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSAwO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWlhZJzpcblxuXHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hc2luKCBjbGFtcCggbTMyLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0zMiApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIC0gbTMxLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggLSBtMTIsIG0yMiApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gMDtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggbTIxLCBtMTEgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pZWCc6XG5cblx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXNpbiggLSBjbGFtcCggbTMxLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0zMSApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIG0yMSwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCAtIG0xMiwgbTIyICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWlgnOlxuXG5cdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmFzaW4oIGNsYW1wKCBtMjEsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTIxICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggLSBtMjMsIG0yMiApO1xuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCAtIG0zMSwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCBtMTMsIG0zMyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWFpZJzpcblxuXHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hc2luKCAtIGNsYW1wKCBtMTIsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTEyICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggbTMyLCBtMjIgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMTEgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIC0gbTIzLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuX29yZGVyID0gb3JkZXI7XG5cblx0XHRpZiAoIHVwZGF0ZSAhPT0gZmFsc2UgKSB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVF1YXRlcm5pb24oIHEsIG9yZGVyLCB1cGRhdGUgKSB7XG5cblx0XHRfbWF0cml4Lm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCBxICk7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgoIF9tYXRyaXgsIG9yZGVyLCB1cGRhdGUgKTtcblxuXHR9XG5cblx0c2V0RnJvbVZlY3RvcjMoIHYsIG9yZGVyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0KCB2LngsIHYueSwgdi56LCBvcmRlciB8fCB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRyZW9yZGVyKCBuZXdPcmRlciApIHtcblxuXHRcdC8vIFdBUk5JTkc6IHRoaXMgZGlzY2FyZHMgcmV2b2x1dGlvbiBpbmZvcm1hdGlvbiAtYmhvdXN0b25cblxuXHRcdF9xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggdGhpcyApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLCBuZXdPcmRlciApO1xuXG5cdH1cblxuXHRlcXVhbHMoIGV1bGVyICkge1xuXG5cdFx0cmV0dXJuICggZXVsZXIuX3ggPT09IHRoaXMuX3ggKSAmJiAoIGV1bGVyLl95ID09PSB0aGlzLl95ICkgJiYgKCBldWxlci5feiA9PT0gdGhpcy5feiApICYmICggZXVsZXIuX29yZGVyID09PSB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0dGhpcy5feCA9IGFycmF5WyAwIF07XG5cdFx0dGhpcy5feSA9IGFycmF5WyAxIF07XG5cdFx0dGhpcy5feiA9IGFycmF5WyAyIF07XG5cdFx0aWYgKCBhcnJheVsgMyBdICE9PSB1bmRlZmluZWQgKSB0aGlzLl9vcmRlciA9IGFycmF5WyAzIF07XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMuX3g7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuX3k7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuX3o7XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRoaXMuX29yZGVyO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHR0b1ZlY3RvcjMoIG9wdGlvbmFsUmVzdWx0ICkge1xuXG5cdFx0aWYgKCBvcHRpb25hbFJlc3VsdCApIHtcblxuXHRcdFx0cmV0dXJuIG9wdGlvbmFsUmVzdWx0LnNldCggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IzKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdF9vbkNoYW5nZSggY2FsbGJhY2sgKSB7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrID0gY2FsbGJhY2s7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0X29uQ2hhbmdlQ2FsbGJhY2soKSB7fVxuXG59XG5cbkV1bGVyLkRlZmF1bHRPcmRlciA9ICdYWVonO1xuRXVsZXIuUm90YXRpb25PcmRlcnMgPSBbICdYWVonLCAnWVpYJywgJ1pYWScsICdYWlknLCAnWVhaJywgJ1pZWCcgXTtcblxuY29uc3QgX21hdHJpeCA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hdHJpeDQoKTtcbmNvbnN0IF9xdWF0ZXJuaW9uID0gLypAX19QVVJFX18qLyBuZXcgUXVhdGVybmlvbigpO1xuXG5cbmV4cG9ydCB7IEV1bGVyIH07XG4iLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi9WZWN0b3IyLmpzJztcblxuY29uc3QgX3ZlY3RvciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjIoKTtcblxuY2xhc3MgQm94MiB7XG5cblx0Y29uc3RydWN0b3IoIG1pbiwgbWF4ICkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNCb3gyJywgeyB2YWx1ZTogdHJ1ZSB9ICk7XG5cblx0XHR0aGlzLm1pbiA9ICggbWluICE9PSB1bmRlZmluZWQgKSA/IG1pbiA6IG5ldyBWZWN0b3IyKCArIEluZmluaXR5LCArIEluZmluaXR5ICk7XG5cdFx0dGhpcy5tYXggPSAoIG1heCAhPT0gdW5kZWZpbmVkICkgPyBtYXggOiBuZXcgVmVjdG9yMiggLSBJbmZpbml0eSwgLSBJbmZpbml0eSApO1xuXG5cdH1cblxuXHRzZXQoIG1pbiwgbWF4ICkge1xuXG5cdFx0dGhpcy5taW4uY29weSggbWluICk7XG5cdFx0dGhpcy5tYXguY29weSggbWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVBvaW50cyggcG9pbnRzICkge1xuXG5cdFx0dGhpcy5tYWtlRW1wdHkoKTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdHRoaXMuZXhwYW5kQnlQb2ludCggcG9pbnRzWyBpIF0gKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ2VudGVyQW5kU2l6ZSggY2VudGVyLCBzaXplICkge1xuXG5cdFx0Y29uc3QgaGFsZlNpemUgPSBfdmVjdG9yLmNvcHkoIHNpemUgKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cdFx0dGhpcy5taW4uY29weSggY2VudGVyICkuc3ViKCBoYWxmU2l6ZSApO1xuXHRcdHRoaXMubWF4LmNvcHkoIGNlbnRlciApLmFkZCggaGFsZlNpemUgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkoIHRoaXMgKTtcblxuXHR9XG5cblx0Y29weSggYm94ICkge1xuXG5cdFx0dGhpcy5taW4uY29weSggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4LmNvcHkoIGJveC5tYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlRW1wdHkoKSB7XG5cblx0XHR0aGlzLm1pbi54ID0gdGhpcy5taW4ueSA9ICsgSW5maW5pdHk7XG5cdFx0dGhpcy5tYXgueCA9IHRoaXMubWF4LnkgPSAtIEluZmluaXR5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlzRW1wdHkoKSB7XG5cblx0XHQvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlc1xuXG5cdFx0cmV0dXJuICggdGhpcy5tYXgueCA8IHRoaXMubWluLnggKSB8fCAoIHRoaXMubWF4LnkgPCB0aGlzLm1pbi55ICk7XG5cblx0fVxuXG5cdGdldENlbnRlciggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCggMCwgMCApIDogdGFyZ2V0LmFkZFZlY3RvcnMoIHRoaXMubWluLCB0aGlzLm1heCApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblxuXHR9XG5cblx0Z2V0U2l6ZSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmdldFNpemUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAgKSA6IHRhcmdldC5zdWJWZWN0b3JzKCB0aGlzLm1heCwgdGhpcy5taW4gKTtcblxuXHR9XG5cblx0ZXhwYW5kQnlQb2ludCggcG9pbnQgKSB7XG5cblx0XHR0aGlzLm1pbi5taW4oIHBvaW50ICk7XG5cdFx0dGhpcy5tYXgubWF4KCBwb2ludCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5VmVjdG9yKCB2ZWN0b3IgKSB7XG5cblx0XHR0aGlzLm1pbi5zdWIoIHZlY3RvciApO1xuXHRcdHRoaXMubWF4LmFkZCggdmVjdG9yICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXhwYW5kQnlTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMubWluLmFkZFNjYWxhciggLSBzY2FsYXIgKTtcblx0XHR0aGlzLm1heC5hZGRTY2FsYXIoIHNjYWxhciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbnRhaW5zUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIHBvaW50LnggPCB0aGlzLm1pbi54IHx8IHBvaW50LnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRwb2ludC55IDwgdGhpcy5taW4ueSB8fCBwb2ludC55ID4gdGhpcy5tYXgueSA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0Y29udGFpbnNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiB0aGlzLm1pbi54IDw9IGJveC5taW4ueCAmJiBib3gubWF4LnggPD0gdGhpcy5tYXgueCAmJlxuXHRcdFx0dGhpcy5taW4ueSA8PSBib3gubWluLnkgJiYgYm94Lm1heC55IDw9IHRoaXMubWF4Lnk7XG5cblx0fVxuXG5cdGdldFBhcmFtZXRlciggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdC8vIFRoaXMgY2FuIHBvdGVudGlhbGx5IGhhdmUgYSBkaXZpZGUgYnkgemVybyBpZiB0aGUgYm94XG5cdFx0Ly8gaGFzIGEgc2l6ZSBkaW1lbnNpb24gb2YgMC5cblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDI6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuc2V0KFxuXHRcdFx0KCBwb2ludC54IC0gdGhpcy5taW4ueCApIC8gKCB0aGlzLm1heC54IC0gdGhpcy5taW4ueCApLFxuXHRcdFx0KCBwb2ludC55IC0gdGhpcy5taW4ueSApIC8gKCB0aGlzLm1heC55IC0gdGhpcy5taW4ueSApXG5cdFx0KTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c0JveCggYm94ICkge1xuXG5cdFx0Ly8gdXNpbmcgNCBzcGxpdHRpbmcgcGxhbmVzIHRvIHJ1bGUgb3V0IGludGVyc2VjdGlvbnNcblxuXHRcdHJldHVybiBib3gubWF4LnggPCB0aGlzLm1pbi54IHx8IGJveC5taW4ueCA+IHRoaXMubWF4LnggfHxcblx0XHRcdGJveC5tYXgueSA8IHRoaXMubWluLnkgfHwgYm94Lm1pbi55ID4gdGhpcy5tYXgueSA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0Y2xhbXBQb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDI6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0Y29uc3QgY2xhbXBlZFBvaW50ID0gX3ZlY3Rvci5jb3B5KCBwb2ludCApLmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKTtcblx0XHRyZXR1cm4gY2xhbXBlZFBvaW50LnN1YiggcG9pbnQgKS5sZW5ndGgoKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0KCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5tYXgoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5taW4oIGJveC5tYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR1bmlvbiggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWF4KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCBvZmZzZXQgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGQoIG9mZnNldCApO1xuXHRcdHRoaXMubWF4LmFkZCggb2Zmc2V0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBib3ggKSB7XG5cblx0XHRyZXR1cm4gYm94Lm1pbi5lcXVhbHMoIHRoaXMubWluICkgJiYgYm94Lm1heC5lcXVhbHMoIHRoaXMubWF4ICk7XG5cblx0fVxuXG59XG5cblxuZXhwb3J0IHsgQm94MiB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIEJveDMge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4sIG1heCApIHtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgJ2lzQm94MycsIHsgdmFsdWU6IHRydWUgfSApO1xuXG5cdFx0dGhpcy5taW4gPSAoIG1pbiAhPT0gdW5kZWZpbmVkICkgPyBtaW4gOiBuZXcgVmVjdG9yMyggKyBJbmZpbml0eSwgKyBJbmZpbml0eSwgKyBJbmZpbml0eSApO1xuXHRcdHRoaXMubWF4ID0gKCBtYXggIT09IHVuZGVmaW5lZCApID8gbWF4IDogbmV3IFZlY3RvcjMoIC0gSW5maW5pdHksIC0gSW5maW5pdHksIC0gSW5maW5pdHkgKTtcblxuXHR9XG5cblx0c2V0KCBtaW4sIG1heCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIG1pbiApO1xuXHRcdHRoaXMubWF4LmNvcHkoIG1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21BcnJheSggYXJyYXkgKSB7XG5cblx0XHRsZXQgbWluWCA9ICsgSW5maW5pdHk7XG5cdFx0bGV0IG1pblkgPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5aID0gKyBJbmZpbml0eTtcblxuXHRcdGxldCBtYXhYID0gLSBJbmZpbml0eTtcblx0XHRsZXQgbWF4WSA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFogPSAtIEluZmluaXR5O1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSArPSAzICkge1xuXG5cdFx0XHRjb25zdCB4ID0gYXJyYXlbIGkgXTtcblx0XHRcdGNvbnN0IHkgPSBhcnJheVsgaSArIDEgXTtcblx0XHRcdGNvbnN0IHogPSBhcnJheVsgaSArIDIgXTtcblxuXHRcdFx0aWYgKCB4IDwgbWluWCApIG1pblggPSB4O1xuXHRcdFx0aWYgKCB5IDwgbWluWSApIG1pblkgPSB5O1xuXHRcdFx0aWYgKCB6IDwgbWluWiApIG1pblogPSB6O1xuXG5cdFx0XHRpZiAoIHggPiBtYXhYICkgbWF4WCA9IHg7XG5cdFx0XHRpZiAoIHkgPiBtYXhZICkgbWF4WSA9IHk7XG5cdFx0XHRpZiAoIHogPiBtYXhaICkgbWF4WiA9IHo7XG5cblx0XHR9XG5cblx0XHR0aGlzLm1pbi5zZXQoIG1pblgsIG1pblksIG1pblogKTtcblx0XHR0aGlzLm1heC5zZXQoIG1heFgsIG1heFksIG1heFogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUgKSB7XG5cblx0XHRsZXQgbWluWCA9ICsgSW5maW5pdHk7XG5cdFx0bGV0IG1pblkgPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5aID0gKyBJbmZpbml0eTtcblxuXHRcdGxldCBtYXhYID0gLSBJbmZpbml0eTtcblx0XHRsZXQgbWF4WSA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFogPSAtIEluZmluaXR5O1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gYXR0cmlidXRlLmNvdW50OyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgeCA9IGF0dHJpYnV0ZS5nZXRYKCBpICk7XG5cdFx0XHRjb25zdCB5ID0gYXR0cmlidXRlLmdldFkoIGkgKTtcblx0XHRcdGNvbnN0IHogPSBhdHRyaWJ1dGUuZ2V0WiggaSApO1xuXG5cdFx0XHRpZiAoIHggPCBtaW5YICkgbWluWCA9IHg7XG5cdFx0XHRpZiAoIHkgPCBtaW5ZICkgbWluWSA9IHk7XG5cdFx0XHRpZiAoIHogPCBtaW5aICkgbWluWiA9IHo7XG5cblx0XHRcdGlmICggeCA+IG1heFggKSBtYXhYID0geDtcblx0XHRcdGlmICggeSA+IG1heFkgKSBtYXhZID0geTtcblx0XHRcdGlmICggeiA+IG1heFogKSBtYXhaID0gejtcblxuXHRcdH1cblxuXHRcdHRoaXMubWluLnNldCggbWluWCwgbWluWSwgbWluWiApO1xuXHRcdHRoaXMubWF4LnNldCggbWF4WCwgbWF4WSwgbWF4WiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Qb2ludHMoIHBvaW50cyApIHtcblxuXHRcdHRoaXMubWFrZUVtcHR5KCk7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmV4cGFuZEJ5UG9pbnQoIHBvaW50c1sgaSBdICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUNlbnRlckFuZFNpemUoIGNlbnRlciwgc2l6ZSApIHtcblxuXHRcdGNvbnN0IGhhbGZTaXplID0gX3ZlY3Rvci5jb3B5KCBzaXplICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdFx0dGhpcy5taW4uY29weSggY2VudGVyICkuc3ViKCBoYWxmU2l6ZSApO1xuXHRcdHRoaXMubWF4LmNvcHkoIGNlbnRlciApLmFkZCggaGFsZlNpemUgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tT2JqZWN0KCBvYmplY3QgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZXhwYW5kQnlPYmplY3QoIG9iamVjdCApO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkoIHRoaXMgKTtcblxuXHR9XG5cblx0Y29weSggYm94ICkge1xuXG5cdFx0dGhpcy5taW4uY29weSggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4LmNvcHkoIGJveC5tYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlRW1wdHkoKSB7XG5cblx0XHR0aGlzLm1pbi54ID0gdGhpcy5taW4ueSA9IHRoaXMubWluLnogPSArIEluZmluaXR5O1xuXHRcdHRoaXMubWF4LnggPSB0aGlzLm1heC55ID0gdGhpcy5tYXgueiA9IC0gSW5maW5pdHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aXNFbXB0eSgpIHtcblxuXHRcdC8vIHRoaXMgaXMgYSBtb3JlIHJvYnVzdCBjaGVjayBmb3IgZW1wdHkgdGhhbiAoIHZvbHVtZSA8PSAwICkgYmVjYXVzZSB2b2x1bWUgY2FuIGdldCBwb3NpdGl2ZSB3aXRoIHR3byBuZWdhdGl2ZSBheGVzXG5cblx0XHRyZXR1cm4gKCB0aGlzLm1heC54IDwgdGhpcy5taW4ueCApIHx8ICggdGhpcy5tYXgueSA8IHRoaXMubWluLnkgKSB8fCAoIHRoaXMubWF4LnogPCB0aGlzLm1pbi56ICk7XG5cblx0fVxuXG5cdGdldENlbnRlciggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCggMCwgMCwgMCApIDogdGFyZ2V0LmFkZFZlY3RvcnMoIHRoaXMubWluLCB0aGlzLm1heCApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblxuXHR9XG5cblx0Z2V0U2l6ZSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmdldFNpemUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAsIDAgKSA6IHRhcmdldC5zdWJWZWN0b3JzKCB0aGlzLm1heCwgdGhpcy5taW4gKTtcblxuXHR9XG5cblx0ZXhwYW5kQnlQb2ludCggcG9pbnQgKSB7XG5cblx0XHR0aGlzLm1pbi5taW4oIHBvaW50ICk7XG5cdFx0dGhpcy5tYXgubWF4KCBwb2ludCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5VmVjdG9yKCB2ZWN0b3IgKSB7XG5cblx0XHR0aGlzLm1pbi5zdWIoIHZlY3RvciApO1xuXHRcdHRoaXMubWF4LmFkZCggdmVjdG9yICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXhwYW5kQnlTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMubWluLmFkZFNjYWxhciggLSBzY2FsYXIgKTtcblx0XHR0aGlzLm1heC5hZGRTY2FsYXIoIHNjYWxhciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5T2JqZWN0KCBvYmplY3QgKSB7XG5cblx0XHQvLyBDb21wdXRlcyB0aGUgd29ybGQtYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveCBvZiBhbiBvYmplY3QgKGluY2x1ZGluZyBpdHMgY2hpbGRyZW4pLFxuXHRcdC8vIGFjY291bnRpbmcgZm9yIGJvdGggdGhlIG9iamVjdCdzLCBhbmQgY2hpbGRyZW4ncywgd29ybGQgdHJhbnNmb3Jtc1xuXG5cdFx0b2JqZWN0LnVwZGF0ZVdvcmxkTWF0cml4KCBmYWxzZSwgZmFsc2UgKTtcblxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gb2JqZWN0Lmdlb21ldHJ5O1xuXG5cdFx0aWYgKCBnZW9tZXRyeSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRpZiAoIGdlb21ldHJ5LmJvdW5kaW5nQm94ID09PSBudWxsICkge1xuXG5cdFx0XHRcdGdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpO1xuXG5cdFx0XHR9XG5cblx0XHRcdF9ib3guY29weSggZ2VvbWV0cnkuYm91bmRpbmdCb3ggKTtcblx0XHRcdF9ib3guYXBwbHlNYXRyaXg0KCBvYmplY3QubWF0cml4V29ybGQgKTtcblxuXHRcdFx0dGhpcy51bmlvbiggX2JveCApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgY2hpbGRyZW4gPSBvYmplY3QuY2hpbGRyZW47XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmV4cGFuZEJ5T2JqZWN0KCBjaGlsZHJlblsgaSBdICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udGFpbnNQb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gcG9pbnQueCA8IHRoaXMubWluLnggfHwgcG9pbnQueCA+IHRoaXMubWF4LnggfHxcblx0XHRcdHBvaW50LnkgPCB0aGlzLm1pbi55IHx8IHBvaW50LnkgPiB0aGlzLm1heC55IHx8XG5cdFx0XHRwb2ludC56IDwgdGhpcy5taW4ueiB8fCBwb2ludC56ID4gdGhpcy5tYXgueiA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0Y29udGFpbnNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiB0aGlzLm1pbi54IDw9IGJveC5taW4ueCAmJiBib3gubWF4LnggPD0gdGhpcy5tYXgueCAmJlxuXHRcdFx0dGhpcy5taW4ueSA8PSBib3gubWluLnkgJiYgYm94Lm1heC55IDw9IHRoaXMubWF4LnkgJiZcblx0XHRcdHRoaXMubWluLnogPD0gYm94Lm1pbi56ICYmIGJveC5tYXgueiA8PSB0aGlzLm1heC56O1xuXG5cdH1cblxuXHRnZXRQYXJhbWV0ZXIoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHQvLyBUaGlzIGNhbiBwb3RlbnRpYWxseSBoYXZlIGEgZGl2aWRlIGJ5IHplcm8gaWYgdGhlIGJveFxuXHRcdC8vIGhhcyBhIHNpemUgZGltZW5zaW9uIG9mIDAuXG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gzOiAuZ2V0UGFyYW1ldGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LnNldChcblx0XHRcdCggcG9pbnQueCAtIHRoaXMubWluLnggKSAvICggdGhpcy5tYXgueCAtIHRoaXMubWluLnggKSxcblx0XHRcdCggcG9pbnQueSAtIHRoaXMubWluLnkgKSAvICggdGhpcy5tYXgueSAtIHRoaXMubWluLnkgKSxcblx0XHRcdCggcG9pbnQueiAtIHRoaXMubWluLnogKSAvICggdGhpcy5tYXgueiAtIHRoaXMubWluLnogKVxuXHRcdCk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdC8vIHVzaW5nIDYgc3BsaXR0aW5nIHBsYW5lcyB0byBydWxlIG91dCBpbnRlcnNlY3Rpb25zLlxuXHRcdHJldHVybiBib3gubWF4LnggPCB0aGlzLm1pbi54IHx8IGJveC5taW4ueCA+IHRoaXMubWF4LnggfHxcblx0XHRcdGJveC5tYXgueSA8IHRoaXMubWluLnkgfHwgYm94Lm1pbi55ID4gdGhpcy5tYXgueSB8fFxuXHRcdFx0Ym94Lm1heC56IDwgdGhpcy5taW4ueiB8fCBib3gubWluLnogPiB0aGlzLm1heC56ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzU3BoZXJlKCBzcGhlcmUgKSB7XG5cblx0XHQvLyBGaW5kIHRoZSBwb2ludCBvbiB0aGUgQUFCQiBjbG9zZXN0IHRvIHRoZSBzcGhlcmUgY2VudGVyLlxuXHRcdHRoaXMuY2xhbXBQb2ludCggc3BoZXJlLmNlbnRlciwgX3ZlY3RvciApO1xuXG5cdFx0Ly8gSWYgdGhhdCBwb2ludCBpcyBpbnNpZGUgdGhlIHNwaGVyZSwgdGhlIEFBQkIgYW5kIHNwaGVyZSBpbnRlcnNlY3QuXG5cdFx0cmV0dXJuIF92ZWN0b3IuZGlzdGFuY2VUb1NxdWFyZWQoIHNwaGVyZS5jZW50ZXIgKSA8PSAoIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNQbGFuZSggcGxhbmUgKSB7XG5cblx0XHQvLyBXZSBjb21wdXRlIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGRvdCBwcm9kdWN0IHZhbHVlcy4gSWYgdGhvc2UgdmFsdWVzXG5cdFx0Ly8gYXJlIG9uIHRoZSBzYW1lIHNpZGUgKGJhY2sgb3IgZnJvbnQpIG9mIHRoZSBwbGFuZSwgdGhlbiB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb24uXG5cblx0XHRsZXQgbWluLCBtYXg7XG5cblx0XHRpZiAoIHBsYW5lLm5vcm1hbC54ID4gMCApIHtcblxuXHRcdFx0bWluID0gcGxhbmUubm9ybWFsLnggKiB0aGlzLm1pbi54O1xuXHRcdFx0bWF4ID0gcGxhbmUubm9ybWFsLnggKiB0aGlzLm1heC54O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWluID0gcGxhbmUubm9ybWFsLnggKiB0aGlzLm1heC54O1xuXHRcdFx0bWF4ID0gcGxhbmUubm9ybWFsLnggKiB0aGlzLm1pbi54O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueSA+IDAgKSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueSAqIHRoaXMubWluLnk7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1heC55O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWluICs9IHBsYW5lLm5vcm1hbC55ICogdGhpcy5tYXgueTtcblx0XHRcdG1heCArPSBwbGFuZS5ub3JtYWwueSAqIHRoaXMubWluLnk7XG5cblx0XHR9XG5cblx0XHRpZiAoIHBsYW5lLm5vcm1hbC56ID4gMCApIHtcblxuXHRcdFx0bWluICs9IHBsYW5lLm5vcm1hbC56ICogdGhpcy5taW4uejtcblx0XHRcdG1heCArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWF4Lno7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRtaW4gKz0gcGxhbmUubm9ybWFsLnogKiB0aGlzLm1heC56O1xuXHRcdFx0bWF4ICs9IHBsYW5lLm5vcm1hbC56ICogdGhpcy5taW4uejtcblxuXHRcdH1cblxuXHRcdHJldHVybiAoIG1pbiA8PSAtIHBsYW5lLmNvbnN0YW50ICYmIG1heCA+PSAtIHBsYW5lLmNvbnN0YW50ICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNUcmlhbmdsZSggdHJpYW5nbGUgKSB7XG5cblx0XHRpZiAoIHRoaXMuaXNFbXB0eSgpICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHQvLyBjb21wdXRlIGJveCBjZW50ZXIgYW5kIGV4dGVudHNcblx0XHR0aGlzLmdldENlbnRlciggX2NlbnRlciApO1xuXHRcdF9leHRlbnRzLnN1YlZlY3RvcnMoIHRoaXMubWF4LCBfY2VudGVyICk7XG5cblx0XHQvLyB0cmFuc2xhdGUgdHJpYW5nbGUgdG8gYWFiYiBvcmlnaW5cblx0XHRfdjAuc3ViVmVjdG9ycyggdHJpYW5nbGUuYSwgX2NlbnRlciApO1xuXHRcdF92MS5zdWJWZWN0b3JzKCB0cmlhbmdsZS5iLCBfY2VudGVyICk7XG5cdFx0X3YyLnN1YlZlY3RvcnMoIHRyaWFuZ2xlLmMsIF9jZW50ZXIgKTtcblxuXHRcdC8vIGNvbXB1dGUgZWRnZSB2ZWN0b3JzIGZvciB0cmlhbmdsZVxuXHRcdF9mMC5zdWJWZWN0b3JzKCBfdjEsIF92MCApO1xuXHRcdF9mMS5zdWJWZWN0b3JzKCBfdjIsIF92MSApO1xuXHRcdF9mMi5zdWJWZWN0b3JzKCBfdjAsIF92MiApO1xuXG5cdFx0Ly8gdGVzdCBhZ2FpbnN0IGF4ZXMgdGhhdCBhcmUgZ2l2ZW4gYnkgY3Jvc3MgcHJvZHVjdCBjb21iaW5hdGlvbnMgb2YgdGhlIGVkZ2VzIG9mIHRoZSB0cmlhbmdsZSBhbmQgdGhlIGVkZ2VzIG9mIHRoZSBhYWJiXG5cdFx0Ly8gbWFrZSBhbiBheGlzIHRlc3Rpbmcgb2YgZWFjaCBvZiB0aGUgMyBzaWRlcyBvZiB0aGUgYWFiYiBhZ2FpbnN0IGVhY2ggb2YgdGhlIDMgc2lkZXMgb2YgdGhlIHRyaWFuZ2xlID0gOSBheGlzIG9mIHNlcGFyYXRpb25cblx0XHQvLyBheGlzX2lqID0gdV9pIHggZl9qICh1MCwgdTEsIHUyID0gZmFjZSBub3JtYWxzIG9mIGFhYmIgPSB4LHkseiBheGVzIHZlY3RvcnMgc2luY2UgYWFiYiBpcyBheGlzIGFsaWduZWQpXG5cdFx0bGV0IGF4ZXMgPSBbXG5cdFx0XHQwLCAtIF9mMC56LCBfZjAueSwgMCwgLSBfZjEueiwgX2YxLnksIDAsIC0gX2YyLnosIF9mMi55LFxuXHRcdFx0X2YwLnosIDAsIC0gX2YwLngsIF9mMS56LCAwLCAtIF9mMS54LCBfZjIueiwgMCwgLSBfZjIueCxcblx0XHRcdC0gX2YwLnksIF9mMC54LCAwLCAtIF9mMS55LCBfZjEueCwgMCwgLSBfZjIueSwgX2YyLngsIDBcblx0XHRdO1xuXHRcdGlmICggISBzYXRGb3JBeGVzKCBheGVzLCBfdjAsIF92MSwgX3YyLCBfZXh0ZW50cyApICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHQvLyB0ZXN0IDMgZmFjZSBub3JtYWxzIGZyb20gdGhlIGFhYmJcblx0XHRheGVzID0gWyAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAxIF07XG5cdFx0aWYgKCAhIHNhdEZvckF4ZXMoIGF4ZXMsIF92MCwgX3YxLCBfdjIsIF9leHRlbnRzICkgKSB7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHRcdC8vIGZpbmFsbHkgdGVzdGluZyB0aGUgZmFjZSBub3JtYWwgb2YgdGhlIHRyaWFuZ2xlXG5cdFx0Ly8gdXNlIGFscmVhZHkgZXhpc3RpbmcgdHJpYW5nbGUgZWRnZSB2ZWN0b3JzIGhlcmVcblx0XHRfdHJpYW5nbGVOb3JtYWwuY3Jvc3NWZWN0b3JzKCBfZjAsIF9mMSApO1xuXHRcdGF4ZXMgPSBbIF90cmlhbmdsZU5vcm1hbC54LCBfdHJpYW5nbGVOb3JtYWwueSwgX3RyaWFuZ2xlTm9ybWFsLnogXTtcblxuXHRcdHJldHVybiBzYXRGb3JBeGVzKCBheGVzLCBfdjAsIF92MSwgX3YyLCBfZXh0ZW50cyApO1xuXG5cdH1cblxuXHRjbGFtcFBvaW50KCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggcG9pbnQgKS5jbGFtcCggdGhpcy5taW4sIHRoaXMubWF4ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBjbGFtcGVkUG9pbnQgPSBfdmVjdG9yLmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXG5cdFx0cmV0dXJuIGNsYW1wZWRQb2ludC5zdWIoIHBvaW50ICkubGVuZ3RoKCk7XG5cblx0fVxuXG5cdGdldEJvdW5kaW5nU3BoZXJlKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQm94MzogLmdldEJvdW5kaW5nU3BoZXJlKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdC8vdGFyZ2V0ID0gbmV3IFNwaGVyZSgpOyAvLyByZW1vdmVkIHRvIGF2b2lkIGN5Y2xpYyBkZXBlbmRlbmN5XG5cblx0XHR9XG5cblx0XHR0aGlzLmdldENlbnRlciggdGFyZ2V0LmNlbnRlciApO1xuXG5cdFx0dGFyZ2V0LnJhZGl1cyA9IHRoaXMuZ2V0U2l6ZSggX3ZlY3RvciApLmxlbmd0aCgpICogMC41O1xuXG5cdFx0cmV0dXJuIHRhcmdldDtcblxuXHR9XG5cblx0aW50ZXJzZWN0KCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5tYXgoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5taW4oIGJveC5tYXggKTtcblxuXHRcdC8vIGVuc3VyZSB0aGF0IGlmIHRoZXJlIGlzIG5vIG92ZXJsYXAsIHRoZSByZXN1bHQgaXMgZnVsbHkgZW1wdHksIG5vdCBzbGlnaHRseSBlbXB0eSB3aXRoIG5vbi1pbmYvK2luZiB2YWx1ZXMgdGhhdCB3aWxsIGNhdXNlIHN1YnNlcXVlbmNlIGludGVyc2VjdHMgdG8gZXJyb25lb3VzbHkgcmV0dXJuIHZhbGlkIHZhbHVlcy5cblx0XHRpZiAoIHRoaXMuaXNFbXB0eSgpICkgdGhpcy5tYWtlRW1wdHkoKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR1bmlvbiggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWF4KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXggKSB7XG5cblx0XHQvLyB0cmFuc2Zvcm0gb2YgZW1wdHkgYm94IGlzIGFuIGVtcHR5IGJveC5cblx0XHRpZiAoIHRoaXMuaXNFbXB0eSgpICkgcmV0dXJuIHRoaXM7XG5cblx0XHQvLyBOT1RFOiBJIGFtIHVzaW5nIGEgYmluYXJ5IHBhdHRlcm4gdG8gc3BlY2lmeSBhbGwgMl4zIGNvbWJpbmF0aW9ucyBiZWxvd1xuXHRcdF9wb2ludHNbIDAgXS5zZXQoIHRoaXMubWluLngsIHRoaXMubWluLnksIHRoaXMubWluLnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAwMDBcblx0XHRfcG9pbnRzWyAxIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1heC56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDAxXG5cdFx0X3BvaW50c1sgMiBdLnNldCggdGhpcy5taW4ueCwgdGhpcy5tYXgueSwgdGhpcy5taW4ueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDAxMFxuXHRcdF9wb2ludHNbIDMgXS5zZXQoIHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWF4LnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAwMTFcblx0XHRfcG9pbnRzWyA0IF0uc2V0KCB0aGlzLm1heC54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMTAwXG5cdFx0X3BvaW50c1sgNSBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5taW4ueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDEwMVxuXHRcdF9wb2ludHNbIDYgXS5zZXQoIHRoaXMubWF4LngsIHRoaXMubWF4LnksIHRoaXMubWluLnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAxMTBcblx0XHRfcG9pbnRzWyA3IF0uc2V0KCB0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1heC56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMTExXG5cblx0XHR0aGlzLnNldEZyb21Qb2ludHMoIF9wb2ludHMgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIG9mZnNldCApIHtcblxuXHRcdHRoaXMubWluLmFkZCggb2Zmc2V0ICk7XG5cdFx0dGhpcy5tYXguYWRkKCBvZmZzZXQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGJveCApIHtcblxuXHRcdHJldHVybiBib3gubWluLmVxdWFscyggdGhpcy5taW4gKSAmJiBib3gubWF4LmVxdWFscyggdGhpcy5tYXggKTtcblxuXHR9XG5cbn1cblxuZnVuY3Rpb24gc2F0Rm9yQXhlcyggYXhlcywgdjAsIHYxLCB2MiwgZXh0ZW50cyApIHtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGogPSBheGVzLmxlbmd0aCAtIDM7IGkgPD0gajsgaSArPSAzICkge1xuXG5cdFx0X3Rlc3RBeGlzLmZyb21BcnJheSggYXhlcywgaSApO1xuXHRcdC8vIHByb2plY3QgdGhlIGFhYmIgb250byB0aGUgc2VwZXJhdGluZyBheGlzXG5cdFx0Y29uc3QgciA9IGV4dGVudHMueCAqIE1hdGguYWJzKCBfdGVzdEF4aXMueCApICsgZXh0ZW50cy55ICogTWF0aC5hYnMoIF90ZXN0QXhpcy55ICkgKyBleHRlbnRzLnogKiBNYXRoLmFicyggX3Rlc3RBeGlzLnogKTtcblx0XHQvLyBwcm9qZWN0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBvbnRvIHRoZSBzZXBlcmF0aW5nIGF4aXNcblx0XHRjb25zdCBwMCA9IHYwLmRvdCggX3Rlc3RBeGlzICk7XG5cdFx0Y29uc3QgcDEgPSB2MS5kb3QoIF90ZXN0QXhpcyApO1xuXHRcdGNvbnN0IHAyID0gdjIuZG90KCBfdGVzdEF4aXMgKTtcblx0XHQvLyBhY3R1YWwgdGVzdCwgYmFzaWNhbGx5IHNlZSBpZiBlaXRoZXIgb2YgdGhlIG1vc3QgZXh0cmVtZSBvZiB0aGUgdHJpYW5nbGUgcG9pbnRzIGludGVyc2VjdHMgclxuXHRcdGlmICggTWF0aC5tYXgoIC0gTWF0aC5tYXgoIHAwLCBwMSwgcDIgKSwgTWF0aC5taW4oIHAwLCBwMSwgcDIgKSApID4gciApIHtcblxuXHRcdFx0Ly8gcG9pbnRzIG9mIHRoZSBwcm9qZWN0ZWQgdHJpYW5nbGUgYXJlIG91dHNpZGUgdGhlIHByb2plY3RlZCBoYWxmLWxlbmd0aCBvZiB0aGUgYWFiYlxuXHRcdFx0Ly8gdGhlIGF4aXMgaXMgc2VwZXJhdGluZyBhbmQgd2UgY2FuIGV4aXRcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG5cbn1cblxuY29uc3QgX3BvaW50cyA9IFtcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKClcbl07XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF9ib3ggPSAvKkBfX1BVUkVfXyovIG5ldyBCb3gzKCk7XG5cbi8vIHRyaWFuZ2xlIGNlbnRlcmVkIHZlcnRpY2VzXG5cbmNvbnN0IF92MCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF92MSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF92MiA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuLy8gdHJpYW5nbGUgZWRnZSB2ZWN0b3JzXG5cbmNvbnN0IF9mMCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9mMSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9mMiA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY29uc3QgX2NlbnRlciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9leHRlbnRzID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3RyaWFuZ2xlTm9ybWFsID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3Rlc3RBeGlzID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5cbmV4cG9ydCB7IEJveDMgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3NlZ0NlbnRlciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9zZWdEaXIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZGlmZiA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY29uc3QgX2VkZ2UxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX2VkZ2UyID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX25vcm1hbCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY2xhc3MgUmF5IHtcblxuXHRjb25zdHJ1Y3Rvciggb3JpZ2luLCBkaXJlY3Rpb24gKSB7XG5cblx0XHR0aGlzLm9yaWdpbiA9ICggb3JpZ2luICE9PSB1bmRlZmluZWQgKSA/IG9yaWdpbiA6IG5ldyBWZWN0b3IzKCk7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSAoIGRpcmVjdGlvbiAhPT0gdW5kZWZpbmVkICkgPyBkaXJlY3Rpb24gOiBuZXcgVmVjdG9yMyggMCwgMCwgLSAxICk7XG5cblx0fVxuXG5cdHNldCggb3JpZ2luLCBkaXJlY3Rpb24gKSB7XG5cblx0XHR0aGlzLm9yaWdpbi5jb3B5KCBvcmlnaW4gKTtcblx0XHR0aGlzLmRpcmVjdGlvbi5jb3B5KCBkaXJlY3Rpb24gKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkoIHRoaXMgKTtcblxuXHR9XG5cblx0Y29weSggcmF5ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uY29weSggcmF5Lm9yaWdpbiApO1xuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIHJheS5kaXJlY3Rpb24gKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhdCggdCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUmF5OiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggdGhpcy5kaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggdGhpcy5vcmlnaW4gKTtcblxuXHR9XG5cblx0bG9va0F0KCB2ICkge1xuXG5cdFx0dGhpcy5kaXJlY3Rpb24uY29weSggdiApLnN1YiggdGhpcy5vcmlnaW4gKS5ub3JtYWxpemUoKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyZWNhc3QoIHQgKSB7XG5cblx0XHR0aGlzLm9yaWdpbi5jb3B5KCB0aGlzLmF0KCB0LCBfdmVjdG9yICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50KCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUmF5OiAuY2xvc2VzdFBvaW50VG9Qb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0dGFyZ2V0LnN1YlZlY3RvcnMoIHBvaW50LCB0aGlzLm9yaWdpbiApO1xuXG5cdFx0Y29uc3QgZGlyZWN0aW9uRGlzdGFuY2UgPSB0YXJnZXQuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXG5cdFx0aWYgKCBkaXJlY3Rpb25EaXN0YW5jZSA8IDAgKSB7XG5cblx0XHRcdHJldHVybiB0YXJnZXQuY29weSggdGhpcy5vcmlnaW4gKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggdGhpcy5kaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggZGlyZWN0aW9uRGlzdGFuY2UgKS5hZGQoIHRoaXMub3JpZ2luICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLmRpc3RhbmNlU3FUb1BvaW50KCBwb2ludCApICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlU3FUb1BvaW50KCBwb2ludCApIHtcblxuXHRcdGNvbnN0IGRpcmVjdGlvbkRpc3RhbmNlID0gX3ZlY3Rvci5zdWJWZWN0b3JzKCBwb2ludCwgdGhpcy5vcmlnaW4gKS5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0XHQvLyBwb2ludCBiZWhpbmQgdGhlIHJheVxuXG5cdFx0aWYgKCBkaXJlY3Rpb25EaXN0YW5jZSA8IDAgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLm9yaWdpbi5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQgKTtcblxuXHRcdH1cblxuXHRcdF92ZWN0b3IuY29weSggdGhpcy5kaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggZGlyZWN0aW9uRGlzdGFuY2UgKS5hZGQoIHRoaXMub3JpZ2luICk7XG5cblx0XHRyZXR1cm4gX3ZlY3Rvci5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VTcVRvU2VnbWVudCggdjAsIHYxLCBvcHRpb25hbFBvaW50T25SYXksIG9wdGlvbmFsUG9pbnRPblNlZ21lbnQgKSB7XG5cblx0XHQvLyBmcm9tIGh0dHA6Ly93d3cuZ2VvbWV0cmljdG9vbHMuY29tL0dURW5naW5lL0luY2x1ZGUvTWF0aGVtYXRpY3MvR3RlRGlzdFJheVNlZ21lbnQuaFxuXHRcdC8vIEl0IHJldHVybnMgdGhlIG1pbiBkaXN0YW5jZSBiZXR3ZWVuIHRoZSByYXkgYW5kIHRoZSBzZWdtZW50XG5cdFx0Ly8gZGVmaW5lZCBieSB2MCBhbmQgdjFcblx0XHQvLyBJdCBjYW4gYWxzbyBzZXQgdHdvIG9wdGlvbmFsIHRhcmdldHMgOlxuXHRcdC8vIC0gVGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHJheVxuXHRcdC8vIC0gVGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHNlZ21lbnRcblxuXHRcdF9zZWdDZW50ZXIuY29weSggdjAgKS5hZGQoIHYxICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXHRcdF9zZWdEaXIuY29weSggdjEgKS5zdWIoIHYwICkubm9ybWFsaXplKCk7XG5cdFx0X2RpZmYuY29weSggdGhpcy5vcmlnaW4gKS5zdWIoIF9zZWdDZW50ZXIgKTtcblxuXHRcdGNvbnN0IHNlZ0V4dGVudCA9IHYwLmRpc3RhbmNlVG8oIHYxICkgKiAwLjU7XG5cdFx0Y29uc3QgYTAxID0gLSB0aGlzLmRpcmVjdGlvbi5kb3QoIF9zZWdEaXIgKTtcblx0XHRjb25zdCBiMCA9IF9kaWZmLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblx0XHRjb25zdCBiMSA9IC0gX2RpZmYuZG90KCBfc2VnRGlyICk7XG5cdFx0Y29uc3QgYyA9IF9kaWZmLmxlbmd0aFNxKCk7XG5cdFx0Y29uc3QgZGV0ID0gTWF0aC5hYnMoIDEgLSBhMDEgKiBhMDEgKTtcblx0XHRsZXQgczAsIHMxLCBzcXJEaXN0LCBleHREZXQ7XG5cblx0XHRpZiAoIGRldCA+IDAgKSB7XG5cblx0XHRcdC8vIFRoZSByYXkgYW5kIHNlZ21lbnQgYXJlIG5vdCBwYXJhbGxlbC5cblxuXHRcdFx0czAgPSBhMDEgKiBiMSAtIGIwO1xuXHRcdFx0czEgPSBhMDEgKiBiMCAtIGIxO1xuXHRcdFx0ZXh0RGV0ID0gc2VnRXh0ZW50ICogZGV0O1xuXG5cdFx0XHRpZiAoIHMwID49IDAgKSB7XG5cblx0XHRcdFx0aWYgKCBzMSA+PSAtIGV4dERldCApIHtcblxuXHRcdFx0XHRcdGlmICggczEgPD0gZXh0RGV0ICkge1xuXG5cdFx0XHRcdFx0XHQvLyByZWdpb24gMFxuXHRcdFx0XHRcdFx0Ly8gTWluaW11bSBhdCBpbnRlcmlvciBwb2ludHMgb2YgcmF5IGFuZCBzZWdtZW50LlxuXG5cdFx0XHRcdFx0XHRjb25zdCBpbnZEZXQgPSAxIC8gZGV0O1xuXHRcdFx0XHRcdFx0czAgKj0gaW52RGV0O1xuXHRcdFx0XHRcdFx0czEgKj0gaW52RGV0O1xuXHRcdFx0XHRcdFx0c3FyRGlzdCA9IHMwICogKCBzMCArIGEwMSAqIHMxICsgMiAqIGIwICkgKyBzMSAqICggYTAxICogczAgKyBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIHJlZ2lvbiAxXG5cblx0XHRcdFx0XHRcdHMxID0gc2VnRXh0ZW50O1xuXHRcdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIGEwMSAqIHMxICsgYjAgKSApO1xuXHRcdFx0XHRcdFx0c3FyRGlzdCA9IC0gczAgKiBzMCArIHMxICogKCBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gcmVnaW9uIDVcblxuXHRcdFx0XHRcdHMxID0gLSBzZWdFeHRlbnQ7XG5cdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIGEwMSAqIHMxICsgYjAgKSApO1xuXHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmICggczEgPD0gLSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gNFxuXG5cdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIC0gYTAxICogc2VnRXh0ZW50ICsgYjAgKSApO1xuXHRcdFx0XHRcdHMxID0gKCBzMCA+IDAgKSA/IC0gc2VnRXh0ZW50IDogTWF0aC5taW4oIE1hdGgubWF4KCAtIHNlZ0V4dGVudCwgLSBiMSApLCBzZWdFeHRlbnQgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHMxIDw9IGV4dERldCApIHtcblxuXHRcdFx0XHRcdC8vIHJlZ2lvbiAzXG5cblx0XHRcdFx0XHRzMCA9IDA7XG5cdFx0XHRcdFx0czEgPSBNYXRoLm1pbiggTWF0aC5tYXgoIC0gc2VnRXh0ZW50LCAtIGIxICksIHNlZ0V4dGVudCApO1xuXHRcdFx0XHRcdHNxckRpc3QgPSBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIHJlZ2lvbiAyXG5cblx0XHRcdFx0XHRzMCA9IE1hdGgubWF4KCAwLCAtICggYTAxICogc2VnRXh0ZW50ICsgYjAgKSApO1xuXHRcdFx0XHRcdHMxID0gKCBzMCA+IDAgKSA/IHNlZ0V4dGVudCA6IE1hdGgubWluKCBNYXRoLm1heCggLSBzZWdFeHRlbnQsIC0gYjEgKSwgc2VnRXh0ZW50ICk7XG5cdFx0XHRcdFx0c3FyRGlzdCA9IC0gczAgKiBzMCArIHMxICogKCBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFJheSBhbmQgc2VnbWVudCBhcmUgcGFyYWxsZWwuXG5cblx0XHRcdHMxID0gKCBhMDEgPiAwICkgPyAtIHNlZ0V4dGVudCA6IHNlZ0V4dGVudDtcblx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbmFsUG9pbnRPblJheSApIHtcblxuXHRcdFx0b3B0aW9uYWxQb2ludE9uUmF5LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIHMwICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25hbFBvaW50T25TZWdtZW50ICkge1xuXG5cdFx0XHRvcHRpb25hbFBvaW50T25TZWdtZW50LmNvcHkoIF9zZWdEaXIgKS5tdWx0aXBseVNjYWxhciggczEgKS5hZGQoIF9zZWdDZW50ZXIgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBzcXJEaXN0O1xuXG5cdH1cblxuXHRpbnRlcnNlY3RTcGhlcmUoIHNwaGVyZSwgdGFyZ2V0ICkge1xuXG5cdFx0X3ZlY3Rvci5zdWJWZWN0b3JzKCBzcGhlcmUuY2VudGVyLCB0aGlzLm9yaWdpbiApO1xuXHRcdGNvbnN0IHRjYSA9IF92ZWN0b3IuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXHRcdGNvbnN0IGQyID0gX3ZlY3Rvci5kb3QoIF92ZWN0b3IgKSAtIHRjYSAqIHRjYTtcblx0XHRjb25zdCByYWRpdXMyID0gc3BoZXJlLnJhZGl1cyAqIHNwaGVyZS5yYWRpdXM7XG5cblx0XHRpZiAoIGQyID4gcmFkaXVzMiApIHJldHVybiBudWxsO1xuXG5cdFx0Y29uc3QgdGhjID0gTWF0aC5zcXJ0KCByYWRpdXMyIC0gZDIgKTtcblxuXHRcdC8vIHQwID0gZmlyc3QgaW50ZXJzZWN0IHBvaW50IC0gZW50cmFuY2Ugb24gZnJvbnQgb2Ygc3BoZXJlXG5cdFx0Y29uc3QgdDAgPSB0Y2EgLSB0aGM7XG5cblx0XHQvLyB0MSA9IHNlY29uZCBpbnRlcnNlY3QgcG9pbnQgLSBleGl0IHBvaW50IG9uIGJhY2sgb2Ygc3BoZXJlXG5cdFx0Y29uc3QgdDEgPSB0Y2EgKyB0aGM7XG5cblx0XHQvLyB0ZXN0IHRvIHNlZSBpZiBib3RoIHQwIGFuZCB0MSBhcmUgYmVoaW5kIHRoZSByYXkgLSBpZiBzbywgcmV0dXJuIG51bGxcblx0XHRpZiAoIHQwIDwgMCAmJiB0MSA8IDAgKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIHRlc3QgdG8gc2VlIGlmIHQwIGlzIGJlaGluZCB0aGUgcmF5OlxuXHRcdC8vIGlmIGl0IGlzLCB0aGUgcmF5IGlzIGluc2lkZSB0aGUgc3BoZXJlLCBzbyByZXR1cm4gdGhlIHNlY29uZCBleGl0IHBvaW50IHNjYWxlZCBieSB0MSxcblx0XHQvLyBpbiBvcmRlciB0byBhbHdheXMgcmV0dXJuIGFuIGludGVyc2VjdCBwb2ludCB0aGF0IGlzIGluIGZyb250IG9mIHRoZSByYXkuXG5cdFx0aWYgKCB0MCA8IDAgKSByZXR1cm4gdGhpcy5hdCggdDEsIHRhcmdldCApO1xuXG5cdFx0Ly8gZWxzZSB0MCBpcyBpbiBmcm9udCBvZiB0aGUgcmF5LCBzbyByZXR1cm4gdGhlIGZpcnN0IGNvbGxpc2lvbiBwb2ludCBzY2FsZWQgYnkgdDBcblx0XHRyZXR1cm4gdGhpcy5hdCggdDAsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzU3BoZXJlKCBzcGhlcmUgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXN0YW5jZVNxVG9Qb2ludCggc3BoZXJlLmNlbnRlciApIDw9ICggc3BoZXJlLnJhZGl1cyAqIHNwaGVyZS5yYWRpdXMgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1BsYW5lKCBwbGFuZSApIHtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gcGxhbmUubm9ybWFsLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgPT09IDAgKSB7XG5cblx0XHRcdC8vIGxpbmUgaXMgY29wbGFuYXIsIHJldHVybiBvcmlnaW5cblx0XHRcdGlmICggcGxhbmUuZGlzdGFuY2VUb1BvaW50KCB0aGlzLm9yaWdpbiApID09PSAwICkge1xuXG5cdFx0XHRcdHJldHVybiAwO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIE51bGwgaXMgcHJlZmVyYWJsZSB0byB1bmRlZmluZWQgc2luY2UgdW5kZWZpbmVkIG1lYW5zLi4uLiBpdCBpcyB1bmRlZmluZWRcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ID0gLSAoIHRoaXMub3JpZ2luLmRvdCggcGxhbmUubm9ybWFsICkgKyBwbGFuZS5jb25zdGFudCApIC8gZGVub21pbmF0b3I7XG5cblx0XHQvLyBSZXR1cm4gaWYgdGhlIHJheSBuZXZlciBpbnRlcnNlY3RzIHRoZSBwbGFuZVxuXG5cdFx0cmV0dXJuIHQgPj0gMCA/IHQgOiBudWxsO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RQbGFuZSggcGxhbmUsIHRhcmdldCApIHtcblxuXHRcdGNvbnN0IHQgPSB0aGlzLmRpc3RhbmNlVG9QbGFuZSggcGxhbmUgKTtcblxuXHRcdGlmICggdCA9PT0gbnVsbCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5hdCggdCwgdGFyZ2V0ICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNQbGFuZSggcGxhbmUgKSB7XG5cblx0XHQvLyBjaGVjayBpZiB0aGUgcmF5IGxpZXMgb24gdGhlIHBsYW5lIGZpcnN0XG5cblx0XHRjb25zdCBkaXN0VG9Qb2ludCA9IHBsYW5lLmRpc3RhbmNlVG9Qb2ludCggdGhpcy5vcmlnaW4gKTtcblxuXHRcdGlmICggZGlzdFRvUG9pbnQgPT09IDAgKSB7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZGVub21pbmF0b3IgPSBwbGFuZS5ub3JtYWwuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXG5cdFx0aWYgKCBkZW5vbWluYXRvciAqIGRpc3RUb1BvaW50IDwgMCApIHtcblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHR9XG5cblx0XHQvLyByYXkgb3JpZ2luIGlzIGJlaGluZCB0aGUgcGxhbmUgKGFuZCBpcyBwb2ludGluZyBiZWhpbmQgaXQpXG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fVxuXG5cdGludGVyc2VjdEJveCggYm94LCB0YXJnZXQgKSB7XG5cblx0XHRsZXQgdG1pbiwgdG1heCwgdHltaW4sIHR5bWF4LCB0em1pbiwgdHptYXg7XG5cblx0XHRjb25zdCBpbnZkaXJ4ID0gMSAvIHRoaXMuZGlyZWN0aW9uLngsXG5cdFx0XHRpbnZkaXJ5ID0gMSAvIHRoaXMuZGlyZWN0aW9uLnksXG5cdFx0XHRpbnZkaXJ6ID0gMSAvIHRoaXMuZGlyZWN0aW9uLno7XG5cblx0XHRjb25zdCBvcmlnaW4gPSB0aGlzLm9yaWdpbjtcblxuXHRcdGlmICggaW52ZGlyeCA+PSAwICkge1xuXG5cdFx0XHR0bWluID0gKCBib3gubWluLnggLSBvcmlnaW4ueCApICogaW52ZGlyeDtcblx0XHRcdHRtYXggPSAoIGJveC5tYXgueCAtIG9yaWdpbi54ICkgKiBpbnZkaXJ4O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dG1pbiA9ICggYm94Lm1heC54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cdFx0XHR0bWF4ID0gKCBib3gubWluLnggLSBvcmlnaW4ueCApICogaW52ZGlyeDtcblxuXHRcdH1cblxuXHRcdGlmICggaW52ZGlyeSA+PSAwICkge1xuXG5cdFx0XHR0eW1pbiA9ICggYm94Lm1pbi55IC0gb3JpZ2luLnkgKSAqIGludmRpcnk7XG5cdFx0XHR0eW1heCA9ICggYm94Lm1heC55IC0gb3JpZ2luLnkgKSAqIGludmRpcnk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0eW1pbiA9ICggYm94Lm1heC55IC0gb3JpZ2luLnkgKSAqIGludmRpcnk7XG5cdFx0XHR0eW1heCA9ICggYm94Lm1pbi55IC0gb3JpZ2luLnkgKSAqIGludmRpcnk7XG5cblx0XHR9XG5cblx0XHRpZiAoICggdG1pbiA+IHR5bWF4ICkgfHwgKCB0eW1pbiA+IHRtYXggKSApIHJldHVybiBudWxsO1xuXG5cdFx0Ly8gVGhlc2UgbGluZXMgYWxzbyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdG1pbiBvciB0bWF4IGlzIE5hTlxuXHRcdC8vIChyZXN1bHQgb2YgMCAqIEluZmluaXR5KS4geCAhPT0geCByZXR1cm5zIHRydWUgaWYgeCBpcyBOYU5cblxuXHRcdGlmICggdHltaW4gPiB0bWluIHx8IHRtaW4gIT09IHRtaW4gKSB0bWluID0gdHltaW47XG5cblx0XHRpZiAoIHR5bWF4IDwgdG1heCB8fCB0bWF4ICE9PSB0bWF4ICkgdG1heCA9IHR5bWF4O1xuXG5cdFx0aWYgKCBpbnZkaXJ6ID49IDAgKSB7XG5cblx0XHRcdHR6bWluID0gKCBib3gubWluLnogLSBvcmlnaW4ueiApICogaW52ZGlyejtcblx0XHRcdHR6bWF4ID0gKCBib3gubWF4LnogLSBvcmlnaW4ueiApICogaW52ZGlyejtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHR6bWluID0gKCBib3gubWF4LnogLSBvcmlnaW4ueiApICogaW52ZGlyejtcblx0XHRcdHR6bWF4ID0gKCBib3gubWluLnogLSBvcmlnaW4ueiApICogaW52ZGlyejtcblxuXHRcdH1cblxuXHRcdGlmICggKCB0bWluID4gdHptYXggKSB8fCAoIHR6bWluID4gdG1heCApICkgcmV0dXJuIG51bGw7XG5cblx0XHRpZiAoIHR6bWluID4gdG1pbiB8fCB0bWluICE9PSB0bWluICkgdG1pbiA9IHR6bWluO1xuXG5cdFx0aWYgKCB0em1heCA8IHRtYXggfHwgdG1heCAhPT0gdG1heCApIHRtYXggPSB0em1heDtcblxuXHRcdC8vcmV0dXJuIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHJheSAocG9zaXRpdmUgc2lkZSlcblxuXHRcdGlmICggdG1heCA8IDAgKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiB0aGlzLmF0KCB0bWluID49IDAgPyB0bWluIDogdG1heCwgdGFyZ2V0ICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiB0aGlzLmludGVyc2VjdEJveCggYm94LCBfdmVjdG9yICkgIT09IG51bGw7XG5cblx0fVxuXG5cdGludGVyc2VjdFRyaWFuZ2xlKCBhLCBiLCBjLCBiYWNrZmFjZUN1bGxpbmcsIHRhcmdldCApIHtcblxuXHRcdC8vIENvbXB1dGUgdGhlIG9mZnNldCBvcmlnaW4sIGVkZ2VzLCBhbmQgbm9ybWFsLlxuXG5cdFx0Ly8gZnJvbSBodHRwOi8vd3d3Lmdlb21ldHJpY3Rvb2xzLmNvbS9HVEVuZ2luZS9JbmNsdWRlL01hdGhlbWF0aWNzL0d0ZUludHJSYXkzVHJpYW5nbGUzLmhcblxuXHRcdF9lZGdlMS5zdWJWZWN0b3JzKCBiLCBhICk7XG5cdFx0X2VkZ2UyLnN1YlZlY3RvcnMoIGMsIGEgKTtcblx0XHRfbm9ybWFsLmNyb3NzVmVjdG9ycyggX2VkZ2UxLCBfZWRnZTIgKTtcblxuXHRcdC8vIFNvbHZlIFEgKyB0KkQgPSBiMSpFMSArIGIyKkUyIChRID0ga0RpZmYsIEQgPSByYXkgZGlyZWN0aW9uLFxuXHRcdC8vIEUxID0ga0VkZ2UxLCBFMiA9IGtFZGdlMiwgTiA9IENyb3NzKEUxLEUyKSkgYnlcblx0XHQvLyAgIHxEb3QoRCxOKXwqYjEgPSBzaWduKERvdChELE4pKSpEb3QoRCxDcm9zcyhRLEUyKSlcblx0XHQvLyAgIHxEb3QoRCxOKXwqYjIgPSBzaWduKERvdChELE4pKSpEb3QoRCxDcm9zcyhFMSxRKSlcblx0XHQvLyAgIHxEb3QoRCxOKXwqdCA9IC1zaWduKERvdChELE4pKSpEb3QoUSxOKVxuXHRcdGxldCBEZE4gPSB0aGlzLmRpcmVjdGlvbi5kb3QoIF9ub3JtYWwgKTtcblx0XHRsZXQgc2lnbjtcblxuXHRcdGlmICggRGROID4gMCApIHtcblxuXHRcdFx0aWYgKCBiYWNrZmFjZUN1bGxpbmcgKSByZXR1cm4gbnVsbDtcblx0XHRcdHNpZ24gPSAxO1xuXG5cdFx0fSBlbHNlIGlmICggRGROIDwgMCApIHtcblxuXHRcdFx0c2lnbiA9IC0gMTtcblx0XHRcdERkTiA9IC0gRGROO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRfZGlmZi5zdWJWZWN0b3JzKCB0aGlzLm9yaWdpbiwgYSApO1xuXHRcdGNvbnN0IERkUXhFMiA9IHNpZ24gKiB0aGlzLmRpcmVjdGlvbi5kb3QoIF9lZGdlMi5jcm9zc1ZlY3RvcnMoIF9kaWZmLCBfZWRnZTIgKSApO1xuXG5cdFx0Ly8gYjEgPCAwLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkUXhFMiA8IDAgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgRGRFMXhRID0gc2lnbiAqIHRoaXMuZGlyZWN0aW9uLmRvdCggX2VkZ2UxLmNyb3NzKCBfZGlmZiApICk7XG5cblx0XHQvLyBiMiA8IDAsIG5vIGludGVyc2VjdGlvblxuXHRcdGlmICggRGRFMXhRIDwgMCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBiMStiMiA+IDEsIG5vIGludGVyc2VjdGlvblxuXHRcdGlmICggRGRReEUyICsgRGRFMXhRID4gRGROICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdC8vIExpbmUgaW50ZXJzZWN0cyB0cmlhbmdsZSwgY2hlY2sgaWYgcmF5IGRvZXMuXG5cdFx0Y29uc3QgUWROID0gLSBzaWduICogX2RpZmYuZG90KCBfbm9ybWFsICk7XG5cblx0XHQvLyB0IDwgMCwgbm8gaW50ZXJzZWN0aW9uXG5cdFx0aWYgKCBRZE4gPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdC8vIFJheSBpbnRlcnNlY3RzIHRyaWFuZ2xlLlxuXHRcdHJldHVybiB0aGlzLmF0KCBRZE4gLyBEZE4sIHRhcmdldCApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDQoIG1hdHJpeDQgKSB7XG5cblx0XHR0aGlzLm9yaWdpbi5hcHBseU1hdHJpeDQoIG1hdHJpeDQgKTtcblx0XHR0aGlzLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24oIG1hdHJpeDQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIHJheSApIHtcblxuXHRcdHJldHVybiByYXkub3JpZ2luLmVxdWFscyggdGhpcy5vcmlnaW4gKSAmJiByYXkuZGlyZWN0aW9uLmVxdWFscyggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHR9XG5cbn1cblxuXG5leHBvcnQgeyBSYXkgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuaW1wb3J0IHsgTWF0aFV0aWxzIH0gZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jb25zdCBfc3RhcnRQID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3N0YXJ0RW5kID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jbGFzcyBMaW5lMyB7XG5cblx0Y29uc3RydWN0b3IoIHN0YXJ0LCBlbmQgKSB7XG5cblx0XHR0aGlzLnN0YXJ0ID0gKCBzdGFydCAhPT0gdW5kZWZpbmVkICkgPyBzdGFydCA6IG5ldyBWZWN0b3IzKCk7XG5cdFx0dGhpcy5lbmQgPSAoIGVuZCAhPT0gdW5kZWZpbmVkICkgPyBlbmQgOiBuZXcgVmVjdG9yMygpO1xuXG5cdH1cblxuXHRzZXQoIHN0YXJ0LCBlbmQgKSB7XG5cblx0XHR0aGlzLnN0YXJ0LmNvcHkoIHN0YXJ0ICk7XG5cdFx0dGhpcy5lbmQuY29weSggZW5kICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIGxpbmUgKSB7XG5cblx0XHR0aGlzLnN0YXJ0LmNvcHkoIGxpbmUuc3RhcnQgKTtcblx0XHR0aGlzLmVuZC5jb3B5KCBsaW5lLmVuZCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldENlbnRlciggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuYWRkVmVjdG9ycyggdGhpcy5zdGFydCwgdGhpcy5lbmQgKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cblx0fVxuXG5cdGRlbHRhKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5MaW5lMzogLmRlbHRhKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LnN1YlZlY3RvcnMoIHRoaXMuZW5kLCB0aGlzLnN0YXJ0ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvU3F1YXJlZCggdGhpcy5lbmQgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2UoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvKCB0aGlzLmVuZCApO1xuXG5cdH1cblxuXHRhdCggdCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5hdCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZGVsdGEoIHRhcmdldCApLm11bHRpcGx5U2NhbGFyKCB0ICkuYWRkKCB0aGlzLnN0YXJ0ICk7XG5cblx0fVxuXG5cdGNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoIHBvaW50LCBjbGFtcFRvTGluZSApIHtcblxuXHRcdF9zdGFydFAuc3ViVmVjdG9ycyggcG9pbnQsIHRoaXMuc3RhcnQgKTtcblx0XHRfc3RhcnRFbmQuc3ViVmVjdG9ycyggdGhpcy5lbmQsIHRoaXMuc3RhcnQgKTtcblxuXHRcdGNvbnN0IHN0YXJ0RW5kMiA9IF9zdGFydEVuZC5kb3QoIF9zdGFydEVuZCApO1xuXHRcdGNvbnN0IHN0YXJ0RW5kX3N0YXJ0UCA9IF9zdGFydEVuZC5kb3QoIF9zdGFydFAgKTtcblxuXHRcdGxldCB0ID0gc3RhcnRFbmRfc3RhcnRQIC8gc3RhcnRFbmQyO1xuXG5cdFx0aWYgKCBjbGFtcFRvTGluZSApIHtcblxuXHRcdFx0dCA9IE1hdGhVdGlscy5jbGFtcCggdCwgMCwgMSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHQ7XG5cblx0fVxuXG5cdGNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50LCBjbGFtcFRvTGluZSwgdGFyZ2V0ICkge1xuXG5cdFx0Y29uc3QgdCA9IHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludFBhcmFtZXRlciggcG9pbnQsIGNsYW1wVG9MaW5lICk7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5MaW5lMzogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmRlbHRhKCB0YXJnZXQgKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDQoIG1hdHJpeCApIHtcblxuXHRcdHRoaXMuc3RhcnQuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblx0XHR0aGlzLmVuZC5hcHBseU1hdHJpeDQoIG1hdHJpeCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggbGluZSApIHtcblxuXHRcdHJldHVybiBsaW5lLnN0YXJ0LmVxdWFscyggdGhpcy5zdGFydCApICYmIGxpbmUuZW5kLmVxdWFscyggdGhpcy5lbmQgKTtcblxuXHR9XG5cbn1cblxuXG5leHBvcnQgeyBMaW5lMyB9O1xuIiwiY2xhc3MgTWF0cml4MyB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsICdpc01hdHJpeDMnLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdHRoaXMuZWxlbWVudHMgPSBbXG5cblx0XHRcdDEsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMVxuXG5cdFx0XTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5NYXRyaXgzOiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLicgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0c2V0KCBuMTEsIG4xMiwgbjEzLCBuMjEsIG4yMiwgbjIzLCBuMzEsIG4zMiwgbjMzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSA9IG4xMTsgdGVbIDEgXSA9IG4yMTsgdGVbIDIgXSA9IG4zMTtcblx0XHR0ZVsgMyBdID0gbjEyOyB0ZVsgNCBdID0gbjIyOyB0ZVsgNSBdID0gbjMyO1xuXHRcdHRlWyA2IF0gPSBuMTM7IHRlWyA3IF0gPSBuMjM7IHRlWyA4IF0gPSBuMzM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aWRlbnRpdHkoKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgMCwgMCxcblx0XHRcdDAsIDEsIDAsXG5cdFx0XHQwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG5cdGNvcHkoIG0gKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSA9IG1lWyAwIF07IHRlWyAxIF0gPSBtZVsgMSBdOyB0ZVsgMiBdID0gbWVbIDIgXTtcblx0XHR0ZVsgMyBdID0gbWVbIDMgXTsgdGVbIDQgXSA9IG1lWyA0IF07IHRlWyA1IF0gPSBtZVsgNSBdO1xuXHRcdHRlWyA2IF0gPSBtZVsgNiBdOyB0ZVsgNyBdID0gbWVbIDcgXTsgdGVbIDggXSA9IG1lWyA4IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdEJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0eEF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4oIHRoaXMsIDAgKTtcblx0XHR5QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbiggdGhpcywgMSApO1xuXHRcdHpBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKCB0aGlzLCAyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeDQoIG0gKSB7XG5cblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0bWVbIDAgXSwgbWVbIDQgXSwgbWVbIDggXSxcblx0XHRcdG1lWyAxIF0sIG1lWyA1IF0sIG1lWyA5IF0sXG5cdFx0XHRtZVsgMiBdLCBtZVsgNiBdLCBtZVsgMTAgXVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoIHRoaXMsIG0gKTtcblxuXHR9XG5cblx0cHJlbXVsdGlwbHkoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCBtLCB0aGlzICk7XG5cblx0fVxuXG5cdG11bHRpcGx5TWF0cmljZXMoIGEsIGIgKSB7XG5cblx0XHRjb25zdCBhZSA9IGEuZWxlbWVudHM7XG5cdFx0Y29uc3QgYmUgPSBiLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGNvbnN0IGExMSA9IGFlWyAwIF0sIGExMiA9IGFlWyAzIF0sIGExMyA9IGFlWyA2IF07XG5cdFx0Y29uc3QgYTIxID0gYWVbIDEgXSwgYTIyID0gYWVbIDQgXSwgYTIzID0gYWVbIDcgXTtcblx0XHRjb25zdCBhMzEgPSBhZVsgMiBdLCBhMzIgPSBhZVsgNSBdLCBhMzMgPSBhZVsgOCBdO1xuXG5cdFx0Y29uc3QgYjExID0gYmVbIDAgXSwgYjEyID0gYmVbIDMgXSwgYjEzID0gYmVbIDYgXTtcblx0XHRjb25zdCBiMjEgPSBiZVsgMSBdLCBiMjIgPSBiZVsgNCBdLCBiMjMgPSBiZVsgNyBdO1xuXHRcdGNvbnN0IGIzMSA9IGJlWyAyIF0sIGIzMiA9IGJlWyA1IF0sIGIzMyA9IGJlWyA4IF07XG5cblx0XHR0ZVsgMCBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxO1xuXHRcdHRlWyAzIF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzI7XG5cdFx0dGVbIDYgXSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMztcblxuXHRcdHRlWyAxIF0gPSBhMjEgKiBiMTEgKyBhMjIgKiBiMjEgKyBhMjMgKiBiMzE7XG5cdFx0dGVbIDQgXSA9IGEyMSAqIGIxMiArIGEyMiAqIGIyMiArIGEyMyAqIGIzMjtcblx0XHR0ZVsgNyBdID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzO1xuXG5cdFx0dGVbIDIgXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMTtcblx0XHR0ZVsgNSBdID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyO1xuXHRcdHRlWyA4IF0gPSBhMzEgKiBiMTMgKyBhMzIgKiBiMjMgKyBhMzMgKiBiMzM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHMgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdICo9IHM7IHRlWyAzIF0gKj0gczsgdGVbIDYgXSAqPSBzO1xuXHRcdHRlWyAxIF0gKj0gczsgdGVbIDQgXSAqPSBzOyB0ZVsgNyBdICo9IHM7XG5cdFx0dGVbIDIgXSAqPSBzOyB0ZVsgNSBdICo9IHM7IHRlWyA4IF0gKj0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkZXRlcm1pbmFudCgpIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGNvbnN0IGEgPSB0ZVsgMCBdLCBiID0gdGVbIDEgXSwgYyA9IHRlWyAyIF0sXG5cdFx0XHRkID0gdGVbIDMgXSwgZSA9IHRlWyA0IF0sIGYgPSB0ZVsgNSBdLFxuXHRcdFx0ZyA9IHRlWyA2IF0sIGggPSB0ZVsgNyBdLCBpID0gdGVbIDggXTtcblxuXHRcdHJldHVybiBhICogZSAqIGkgLSBhICogZiAqIGggLSBiICogZCAqIGkgKyBiICogZiAqIGcgKyBjICogZCAqIGggLSBjICogZSAqIGc7XG5cblx0fVxuXG5cdGdldEludmVyc2UoIG1hdHJpeCwgdGhyb3dPbkRlZ2VuZXJhdGUgKSB7XG5cblx0XHRpZiAoIHRocm93T25EZWdlbmVyYXRlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggXCJUSFJFRS5NYXRyaXgzOiAuZ2V0SW52ZXJzZSgpIGNhbiBubyBsb25nZXIgYmUgY29uZmlndXJlZCB0byB0aHJvdyBvbiBkZWdlbmVyYXRlLlwiICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cyxcblx0XHRcdHRlID0gdGhpcy5lbGVtZW50cyxcblxuXHRcdFx0bjExID0gbWVbIDAgXSwgbjIxID0gbWVbIDEgXSwgbjMxID0gbWVbIDIgXSxcblx0XHRcdG4xMiA9IG1lWyAzIF0sIG4yMiA9IG1lWyA0IF0sIG4zMiA9IG1lWyA1IF0sXG5cdFx0XHRuMTMgPSBtZVsgNiBdLCBuMjMgPSBtZVsgNyBdLCBuMzMgPSBtZVsgOCBdLFxuXG5cdFx0XHR0MTEgPSBuMzMgKiBuMjIgLSBuMzIgKiBuMjMsXG5cdFx0XHR0MTIgPSBuMzIgKiBuMTMgLSBuMzMgKiBuMTIsXG5cdFx0XHR0MTMgPSBuMjMgKiBuMTIgLSBuMjIgKiBuMTMsXG5cblx0XHRcdGRldCA9IG4xMSAqIHQxMSArIG4yMSAqIHQxMiArIG4zMSAqIHQxMztcblxuXHRcdGlmICggZGV0ID09PSAwICkgcmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwICk7XG5cblx0XHRjb25zdCBkZXRJbnYgPSAxIC8gZGV0O1xuXG5cdFx0dGVbIDAgXSA9IHQxMSAqIGRldEludjtcblx0XHR0ZVsgMSBdID0gKCBuMzEgKiBuMjMgLSBuMzMgKiBuMjEgKSAqIGRldEludjtcblx0XHR0ZVsgMiBdID0gKCBuMzIgKiBuMjEgLSBuMzEgKiBuMjIgKSAqIGRldEludjtcblxuXHRcdHRlWyAzIF0gPSB0MTIgKiBkZXRJbnY7XG5cdFx0dGVbIDQgXSA9ICggbjMzICogbjExIC0gbjMxICogbjEzICkgKiBkZXRJbnY7XG5cdFx0dGVbIDUgXSA9ICggbjMxICogbjEyIC0gbjMyICogbjExICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgNiBdID0gdDEzICogZGV0SW52O1xuXHRcdHRlWyA3IF0gPSAoIG4yMSAqIG4xMyAtIG4yMyAqIG4xMSApICogZGV0SW52O1xuXHRcdHRlWyA4IF0gPSAoIG4yMiAqIG4xMSAtIG4yMSAqIG4xMiApICogZGV0SW52O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zcG9zZSgpIHtcblxuXHRcdGxldCB0bXA7XG5cdFx0Y29uc3QgbSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0bXAgPSBtWyAxIF07IG1bIDEgXSA9IG1bIDMgXTsgbVsgMyBdID0gdG1wO1xuXHRcdHRtcCA9IG1bIDIgXTsgbVsgMiBdID0gbVsgNiBdOyBtWyA2IF0gPSB0bXA7XG5cdFx0dG1wID0gbVsgNSBdOyBtWyA1IF0gPSBtWyA3IF07IG1bIDcgXSA9IHRtcDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXROb3JtYWxNYXRyaXgoIG1hdHJpeDQgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tTWF0cml4NCggbWF0cml4NCApLmdldEludmVyc2UoIHRoaXMgKS50cmFuc3Bvc2UoKTtcblxuXHR9XG5cblx0dHJhbnNwb3NlSW50b0FycmF5KCByICkge1xuXG5cdFx0Y29uc3QgbSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRyWyAwIF0gPSBtWyAwIF07XG5cdFx0clsgMSBdID0gbVsgMyBdO1xuXHRcdHJbIDIgXSA9IG1bIDYgXTtcblx0XHRyWyAzIF0gPSBtWyAxIF07XG5cdFx0clsgNCBdID0gbVsgNCBdO1xuXHRcdHJbIDUgXSA9IG1bIDcgXTtcblx0XHRyWyA2IF0gPSBtWyAyIF07XG5cdFx0clsgNyBdID0gbVsgNSBdO1xuXHRcdHJbIDggXSA9IG1bIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRVdlRyYW5zZm9ybSggdHgsIHR5LCBzeCwgc3ksIHJvdGF0aW9uLCBjeCwgY3kgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHJvdGF0aW9uICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCByb3RhdGlvbiApO1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHRzeCAqIGMsIHN4ICogcywgLSBzeCAqICggYyAqIGN4ICsgcyAqIGN5ICkgKyBjeCArIHR4LFxuXHRcdFx0LSBzeSAqIHMsIHN5ICogYywgLSBzeSAqICggLSBzICogY3ggKyBjICogY3kgKSArIGN5ICsgdHksXG5cdFx0XHQwLCAwLCAxXG5cdFx0KTtcblxuXHR9XG5cblx0c2NhbGUoIHN4LCBzeSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gKj0gc3g7IHRlWyAzIF0gKj0gc3g7IHRlWyA2IF0gKj0gc3g7XG5cdFx0dGVbIDEgXSAqPSBzeTsgdGVbIDQgXSAqPSBzeTsgdGVbIDcgXSAqPSBzeTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3RhdGUoIHRoZXRhICkge1xuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB0aGV0YSApO1xuXHRcdGNvbnN0IHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGNvbnN0IGExMSA9IHRlWyAwIF0sIGExMiA9IHRlWyAzIF0sIGExMyA9IHRlWyA2IF07XG5cdFx0Y29uc3QgYTIxID0gdGVbIDEgXSwgYTIyID0gdGVbIDQgXSwgYTIzID0gdGVbIDcgXTtcblxuXHRcdHRlWyAwIF0gPSBjICogYTExICsgcyAqIGEyMTtcblx0XHR0ZVsgMyBdID0gYyAqIGExMiArIHMgKiBhMjI7XG5cdFx0dGVbIDYgXSA9IGMgKiBhMTMgKyBzICogYTIzO1xuXG5cdFx0dGVbIDEgXSA9IC0gcyAqIGExMSArIGMgKiBhMjE7XG5cdFx0dGVbIDQgXSA9IC0gcyAqIGExMiArIGMgKiBhMjI7XG5cdFx0dGVbIDcgXSA9IC0gcyAqIGExMyArIGMgKiBhMjM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCB0eCwgdHkgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdICs9IHR4ICogdGVbIDIgXTsgdGVbIDMgXSArPSB0eCAqIHRlWyA1IF07IHRlWyA2IF0gKz0gdHggKiB0ZVsgOCBdO1xuXHRcdHRlWyAxIF0gKz0gdHkgKiB0ZVsgMiBdOyB0ZVsgNCBdICs9IHR5ICogdGVbIDUgXTsgdGVbIDcgXSArPSB0eSAqIHRlWyA4IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBtYXRyaXggKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtYXRyaXguZWxlbWVudHM7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA5OyBpICsrICkge1xuXG5cdFx0XHRpZiAoIHRlWyBpIF0gIT09IG1lWyBpIF0gKSByZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDk7IGkgKysgKSB7XG5cblx0XHRcdHRoaXMuZWxlbWVudHNbIGkgXSA9IGFycmF5WyBpICsgb2Zmc2V0IF07XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRlWyAwIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRlWyAxIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRlWyAyIF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgMyBdID0gdGVbIDMgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgNCBdID0gdGVbIDQgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgNSBdID0gdGVbIDUgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyA2IF0gPSB0ZVsgNiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA3IF0gPSB0ZVsgNyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA4IF0gPSB0ZVsgOCBdO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBNYXRyaXgzIH07XG4iLCJpbXBvcnQgeyBNYXRyaXgzIH0gZnJvbSAnLi9NYXRyaXgzLmpzJztcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuXG5jb25zdCBfdmVjdG9yMSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF92ZWN0b3IyID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX25vcm1hbE1hdHJpeCA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hdHJpeDMoKTtcblxuY2xhc3MgUGxhbmUge1xuXG5cdGNvbnN0cnVjdG9yKCBub3JtYWwsIGNvbnN0YW50ICkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNQbGFuZScsIHsgdmFsdWU6IHRydWUgfSApO1xuXG5cdFx0Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZFxuXG5cdFx0dGhpcy5ub3JtYWwgPSAoIG5vcm1hbCAhPT0gdW5kZWZpbmVkICkgPyBub3JtYWwgOiBuZXcgVmVjdG9yMyggMSwgMCwgMCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSAoIGNvbnN0YW50ICE9PSB1bmRlZmluZWQgKSA/IGNvbnN0YW50IDogMDtcblxuXHR9XG5cblx0c2V0KCBub3JtYWwsIGNvbnN0YW50ICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggbm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IGNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudHMoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5zZXQoIHgsIHksIHogKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggbm9ybWFsLCBwb2ludCApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIG5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSAtIHBvaW50LmRvdCggdGhpcy5ub3JtYWwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ29wbGFuYXJQb2ludHMoIGEsIGIsIGMgKSB7XG5cblx0XHRjb25zdCBub3JtYWwgPSBfdmVjdG9yMS5zdWJWZWN0b3JzKCBjLCBiICkuY3Jvc3MoIF92ZWN0b3IyLnN1YlZlY3RvcnMoIGEsIGIgKSApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gUTogc2hvdWxkIGFuIGVycm9yIGJlIHRocm93biBpZiBub3JtYWwgaXMgemVybyAoZS5nLiBkZWdlbmVyYXRlIHBsYW5lKT9cblxuXHRcdHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoIG5vcm1hbCwgYSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxuXHRjb3B5KCBwbGFuZSApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIHBsYW5lLm5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSBwbGFuZS5jb25zdGFudDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHQvLyBOb3RlOiB3aWxsIGxlYWQgdG8gYSBkaXZpZGUgYnkgemVybyBpZiB0aGUgcGxhbmUgaXMgaW52YWxpZC5cblxuXHRcdGNvbnN0IGludmVyc2VOb3JtYWxMZW5ndGggPSAxLjAgLyB0aGlzLm5vcm1hbC5sZW5ndGgoKTtcblx0XHR0aGlzLm5vcm1hbC5tdWx0aXBseVNjYWxhciggaW52ZXJzZU5vcm1hbExlbmd0aCApO1xuXHRcdHRoaXMuY29uc3RhbnQgKj0gaW52ZXJzZU5vcm1hbExlbmd0aDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRuZWdhdGUoKSB7XG5cblx0XHR0aGlzLmNvbnN0YW50ICo9IC0gMTtcblx0XHR0aGlzLm5vcm1hbC5uZWdhdGUoKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsLmRvdCggcG9pbnQgKSArIHRoaXMuY29uc3RhbnQ7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9TcGhlcmUoIHNwaGVyZSApIHtcblxuXHRcdHJldHVybiB0aGlzLmRpc3RhbmNlVG9Qb2ludCggc3BoZXJlLmNlbnRlciApIC0gc3BoZXJlLnJhZGl1cztcblxuXHR9XG5cblx0cHJvamVjdFBvaW50KCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUGxhbmU6IC5wcm9qZWN0UG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggdGhpcy5ub3JtYWwgKS5tdWx0aXBseVNjYWxhciggLSB0aGlzLmRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSApLmFkZCggcG9pbnQgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0TGluZSggbGluZSwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUGxhbmU6IC5pbnRlcnNlY3RMaW5lKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBkaXJlY3Rpb24gPSBsaW5lLmRlbHRhKCBfdmVjdG9yMSApO1xuXG5cdFx0Y29uc3QgZGVub21pbmF0b3IgPSB0aGlzLm5vcm1hbC5kb3QoIGRpcmVjdGlvbiApO1xuXG5cdFx0aWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHtcblxuXHRcdFx0Ly8gbGluZSBpcyBjb3BsYW5hciwgcmV0dXJuIG9yaWdpblxuXHRcdFx0aWYgKCB0aGlzLmRpc3RhbmNlVG9Qb2ludCggbGluZS5zdGFydCApID09PSAwICkge1xuXG5cdFx0XHRcdHJldHVybiB0YXJnZXQuY29weSggbGluZS5zdGFydCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIFVuc3VyZSBpZiB0aGlzIGlzIHRoZSBjb3JyZWN0IG1ldGhvZCB0byBoYW5kbGUgdGhpcyBjYXNlLlxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHQgPSAtICggbGluZS5zdGFydC5kb3QoIHRoaXMubm9ybWFsICkgKyB0aGlzLmNvbnN0YW50ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdGlmICggdCA8IDAgfHwgdCA+IDEgKSB7XG5cblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIGRpcmVjdGlvbiApLm11bHRpcGx5U2NhbGFyKCB0ICkuYWRkKCBsaW5lLnN0YXJ0ICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNMaW5lKCBsaW5lICkge1xuXG5cdFx0Ly8gTm90ZTogdGhpcyB0ZXN0cyBpZiBhIGxpbmUgaW50ZXJzZWN0cyB0aGUgcGxhbmUsIG5vdCB3aGV0aGVyIGl0IChvciBpdHMgZW5kLXBvaW50cykgYXJlIGNvcGxhbmFyIHdpdGggaXQuXG5cblx0XHRjb25zdCBzdGFydFNpZ24gPSB0aGlzLmRpc3RhbmNlVG9Qb2ludCggbGluZS5zdGFydCApO1xuXHRcdGNvbnN0IGVuZFNpZ24gPSB0aGlzLmRpc3RhbmNlVG9Qb2ludCggbGluZS5lbmQgKTtcblxuXHRcdHJldHVybiAoIHN0YXJ0U2lnbiA8IDAgJiYgZW5kU2lnbiA+IDAgKSB8fCAoIGVuZFNpZ24gPCAwICYmIHN0YXJ0U2lnbiA+IDAgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c0JveCggYm94ICkge1xuXG5cdFx0cmV0dXJuIGJveC5pbnRlcnNlY3RzUGxhbmUoIHRoaXMgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHNwaGVyZS5pbnRlcnNlY3RzUGxhbmUoIHRoaXMgKTtcblxuXHR9XG5cblx0Y29wbGFuYXJQb2ludCggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUGxhbmU6IC5jb3BsYW5hclBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMubm9ybWFsICkubXVsdGlwbHlTY2FsYXIoIC0gdGhpcy5jb25zdGFudCApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDQoIG1hdHJpeCwgb3B0aW9uYWxOb3JtYWxNYXRyaXggKSB7XG5cblx0XHRjb25zdCBub3JtYWxNYXRyaXggPSBvcHRpb25hbE5vcm1hbE1hdHJpeCB8fCBfbm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeCggbWF0cml4ICk7XG5cblx0XHRjb25zdCByZWZlcmVuY2VQb2ludCA9IHRoaXMuY29wbGFuYXJQb2ludCggX3ZlY3RvcjEgKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApO1xuXG5cdFx0Y29uc3Qgbm9ybWFsID0gdGhpcy5ub3JtYWwuYXBwbHlNYXRyaXgzKCBub3JtYWxNYXRyaXggKS5ub3JtYWxpemUoKTtcblxuXHRcdHRoaXMuY29uc3RhbnQgPSAtIHJlZmVyZW5jZVBvaW50LmRvdCggbm9ybWFsICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCBvZmZzZXQgKSB7XG5cblx0XHR0aGlzLmNvbnN0YW50IC09IG9mZnNldC5kb3QoIHRoaXMubm9ybWFsICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBwbGFuZSApIHtcblxuXHRcdHJldHVybiBwbGFuZS5ub3JtYWwuZXF1YWxzKCB0aGlzLm5vcm1hbCApICYmICggcGxhbmUuY29uc3RhbnQgPT09IHRoaXMuY29uc3RhbnQgKTtcblxuXHR9XG5cbn1cblxuXG5leHBvcnQgeyBQbGFuZSB9O1xuIiwiaW1wb3J0IHtWZWN0b3IyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9WZWN0b3IyJ1xuaW1wb3J0IHtWZWN0b3IzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9WZWN0b3IzJ1xuaW1wb3J0IHtWZWN0b3I0fSBmcm9tICd0aHJlZS9zcmMvbWF0aC9WZWN0b3I0J1xuaW1wb3J0IHtRdWF0ZXJuaW9ufSBmcm9tICd0aHJlZS9zcmMvbWF0aC9RdWF0ZXJuaW9uJ1xuaW1wb3J0IHtFdWxlcn0gZnJvbSAndGhyZWUvc3JjL21hdGgvRXVsZXInXG5pbXBvcnQge0NvbG9yfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Db2xvcidcbmltcG9ydCB7Qm94Mn0gZnJvbSAndGhyZWUvc3JjL21hdGgvQm94MidcbmltcG9ydCB7Qm94M30gZnJvbSAndGhyZWUvc3JjL21hdGgvQm94MydcbmltcG9ydCB7UmF5fSBmcm9tICd0aHJlZS9zcmMvbWF0aC9SYXknXG5pbXBvcnQge0xpbmUzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9MaW5lMydcbmltcG9ydCB7UGxhbmV9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1BsYW5lJ1xuLy8gaW1wb3J0IHtNYXRyaXgzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9NYXRyaXgzJ1xuLy8gaW1wb3J0IHtNYXRyaXg0fSBmcm9tICd0aHJlZS9zcmMvbWF0aC9NYXRyaXg0J1xuXG5cbi8vIGV4cG9ydCBjbGFzcyBQcm9wZXJ0eUl0ZXJhdG9yPFQgPSBhbnk+IGltcGxlbWVudHMgSXRlcmF0b3I8bnVtYmVyPiB7XG4vLyAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBfb2JqOlQsIHByaXZhdGUgX2tleXM6UmVhZG9ubHlBcnJheTxrZXlvZiBUPikge31cbi8vICAgICBwcml2YXRlIF9pZHggPSAwXG4vLyAgICAgbmV4dCgpIDogSXRlcmF0b3JSZXN1bHQ8bnVtYmVyLCBudW1iZXI+IHtcbi8vICAgICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgICAgIGRvbmU6IHRoaXMuX2lkeCA9PT0gKFZlY3RvcjJLZXlzLmxlbmd0aCAtIDEpLFxuLy8gICAgICAgICAgICAgdmFsdWU6IHRoaXMuX29ialt0aGlzLl9rZXlzW3RoaXMuX2lkeCsrXV0gYXMgYW55XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9XG5cbi8vIGRlY2xhcmUgbW9kdWxlICd0aHJlZS9zcmMvbWF0aC9WZWN0b3IyJyB7XG4vLyAgICAgaW50ZXJmYWNlIFZlY3RvcjIge1xuLy8gICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBQcm9wZXJ0eUl0ZXJhdG9yXG4vLyAgICAgfVxuLy8gfVxuLy8gY29uc3QgVmVjdG9yMktleXMgPSBbJ3gnLCd5J10gYXMgY29uc3Rcbi8vIFZlY3RvcjIucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUl0ZXJhdG9yKHRoaXMsIFZlY3RvcjJLZXlzKVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMycge1xuLy8gICAgIGludGVyZmFjZSBWZWN0b3IzIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFZlY3RvcjNLZXlzID0gWyd4JywneScsJ3onXSBhcyBjb25zdFxuLy8gVmVjdG9yMy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gbmV3IFByb3BlcnR5SXRlcmF0b3IodGhpcywgVmVjdG9yM0tleXMpXG4vLyB9XG5cbi8vIGRlY2xhcmUgbW9kdWxlICd0aHJlZS9zcmMvbWF0aC9RdWF0ZXJuaW9uJyB7XG4vLyAgICAgaW50ZXJmYWNlIFF1YXRlcm5pb24ge1xuLy8gICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBQcm9wZXJ0eUl0ZXJhdG9yXG4vLyAgICAgfVxuLy8gfVxuLy8gY29uc3QgUXVhdGVybmlvbktleXMgPSBbJ3gnLCd5JywneiddIGFzIGNvbnN0XG4vLyBRdWF0ZXJuaW9uLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHJldHVybiBuZXcgUHJvcGVydHlJdGVyYXRvcih0aGlzLCBRdWF0ZXJuaW9uS2V5cylcbi8vIH1cblxuLy8gaW1wb3J0IHt0cmFja2VkfSBmcm9tICcuL3RyYWNraW5nJ1xuLy8gdHJhY2tlZChWZWN0b3IyLnByb3RvdHlwZSwgJ3gnKVxuLy8gdHJhY2tlZChWZWN0b3IyLnByb3RvdHlwZSwgJ3knKVxuLy8gdHJhY2tlZChWZWN0b3IzLnByb3RvdHlwZSwgJ3gnKVxuLy8gdHJhY2tlZChWZWN0b3IzLnByb3RvdHlwZSwgJ3knKVxuLy8gdHJhY2tlZChWZWN0b3IzLnByb3RvdHlwZSwgJ3onKVxuLy8gdHJhY2tlZChWZWN0b3I0LnByb3RvdHlwZSwgJ3gnKVxuLy8gdHJhY2tlZChWZWN0b3I0LnByb3RvdHlwZSwgJ3knKVxuLy8gdHJhY2tlZChWZWN0b3I0LnByb3RvdHlwZSwgJ3onKVxuLy8gdHJhY2tlZChWZWN0b3I0LnByb3RvdHlwZSwgJ3cnKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ194Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfeScpXG4vLyB0cmFja2VkKFF1YXRlcm5pb24ucHJvdG90eXBlLCAnX3onKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ193Jylcbi8vIHRyYWNrZWQoQ29sb3IucHJvdG90eXBlLCAncicpXG4vLyB0cmFja2VkKENvbG9yLnByb3RvdHlwZSwgJ2cnKVxuLy8gdHJhY2tlZChDb2xvci5wcm90b3R5cGUsICdiJylcblxuZXhwb3J0IGNvbnN0IFZfMDAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IyKDAsMCkpXG5leHBvcnQgY29uc3QgVl8xMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjIoMSwxKSlcbmV4cG9ydCBjb25zdCBWXzAwMCA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwwLDApKVxuZXhwb3J0IGNvbnN0IFZfMTAwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygxLDAsMCkpXG5leHBvcnQgY29uc3QgVl8wMTAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMSwwKSlcbmV4cG9ydCBjb25zdCBWXzAwMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwwLDEpKVxuZXhwb3J0IGNvbnN0IFZfMTExID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygxLDEsMSkpXG5leHBvcnQgY29uc3QgUV9JREVOVElUWSA9IE9iamVjdC5mcmVlemUobmV3IFF1YXRlcm5pb24pXG5cbmV4cG9ydCBjb25zdCBESVJFQ1RJT04gPSB7XG4gICAgUklHSFQ6IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwgMCwgMCkpLFxuICAgIFVQOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsIDEsIDApKSxcbiAgICBORUFSOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsIDAsIDEpKSxcbiAgICBMRUZUOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKC0xLCAwLCAwKSksXG4gICAgRE9XTjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAtMSwgMCkpLFxuICAgIEZBUjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAwLCAtMSkpXG59XG5cbi8vIGRlY2xhcmUgbW9kdWxlICd0aHJlZS9zcmMvbWF0aC9Cb3gzJyB7XG4vLyAgICAgaW50ZXJmYWNlIEJveDMge1xuLy8gICAgICAgICBsZWZ0Om51bWJlclxuLy8gICAgICAgICByaWdodDpudW1iZXJcbi8vICAgICAgICAgYm90dG9tOm51bWJlclxuLy8gICAgICAgICB0b3A6bnVtYmVyXG4vLyAgICAgICAgIGNlbnRlcjpWZWN0b3IzXG4vLyAgICAgfVxuLy8gfVxuXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdsZWZ0Jywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWluLnhcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdyaWdodCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1heC54XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAndG9wJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWluLnlcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdib3R0b20nLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5tYXgueVxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIGNvbnN0IGNlbnRlck1hcCA9IG5ldyBXZWFrTWFwPEJveDM+KClcbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ2NlbnRlcicsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIGlmICghY2VudGVyTWFwLmhhcyh0aGlzKSkgY2VudGVyTWFwLnNldCh0aGlzLCBuZXcgVmVjdG9yMylcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2VudGVyKGNlbnRlck1hcC5nZXQodGhpcykpXG4vLyAgICAgfVxuLy8gfSlcblxuLy8gY29uc3Qgc2l6ZU1hcCA9IG5ldyBXZWFrTWFwPEJveDM+KClcbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICBpZiAoIXNpemVNYXAuaGFzKHRoaXMpKSBzaXplTWFwLnNldCh0aGlzLCBuZXcgVmVjdG9yMylcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2l6ZShzaXplTWFwLmdldCh0aGlzKSlcbi8vICAgICB9XG4vLyB9KVxuXG5leHBvcnQge1xuICAgIFZlY3RvcjIsXG4gICAgVmVjdG9yMyxcbiAgICBWZWN0b3I0LFxuICAgIFF1YXRlcm5pb24sXG4gICAgRXVsZXIsXG4gICAgQ29sb3IsXG4gICAgQm94MixcbiAgICBCb3gzLFxuICAgIFJheSxcbiAgICBMaW5lMyxcbiAgICBQbGFuZSxcbn1cblxuXG4vLyBleHBvcnQgaW50ZXJmYWNlIFZlY3RvcjJMaWtlIHt4Om51bWJlciwgeTpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIFZlY3RvcjNMaWtlIHt4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3I0TGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIFF1YXRlcm5pb25MaWtlIHt4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyLCB3Om51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQ29sb3JMaWtlIHtyOm51bWJlciwgZzpudW1iZXIsIGI6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBCb3gzTGlrZSB7bWluOlZlY3RvcjNMaWtlLCBtYXg6VmVjdG9yM0xpa2V9XG4vLyBleHBvcnQgaW50ZXJmYWNlIFJheUxpa2Uge29yaWdpbjpWZWN0b3IzTGlrZSwgZGlyZWN0aW9uOlZlY3RvcjNMaWtlfVxuXG5leHBvcnQgKiBmcm9tICd0aHJlZS9zcmMvbWF0aC9NYXRyaXgzJ1xuZXhwb3J0ICogZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcbmV4cG9ydCAqIGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdGhVdGlscydcblxuLypcbiogVGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgYSB1bml0bGVzcyBzY2FsYXIgbWVhc3VyZSBvZiB0aGUgZGlmZmVyZW5jZVxuKiBiZXR3ZWVuIHRoZSBgdGFyZ2V0YCB2YWx1ZSBhbmQgdGhlIHByZXZpb3VzIHRhcmdldCB2YWx1ZSAoc3RhZ2VkIG9yIGNvbW1pdHRlZClcbiogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SZWxhdGl2ZV9jaGFuZ2VfYW5kX2RpZmZlcmVuY2VcbiogXG4qIEV4YWN0bHkgaG93IHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgY2FsY3VsYXRlZCBpcyBiYXNlZCBvbiB0aGUgdmFsdWUgdHlwZTpcblxuKiBudW1iZXIgLSBsaW5lYXIgZGlzdGFuY2UgYmV0d2VlbiAvIGF2ZyBhYnNvbHV0ZSB2YWx1ZVxuKiB2ZWN0b3IgLSBsaW5lYXIgZGlzdGFuY2UgYmV0d2VlbiAvIGF2ZyBtYWduaXR1ZGVcbiogYm94IC0gYXZnIGNvcnJlc3BvbmRpbmcgY29ybmVyIGRpc3RhbmNlcyAvIGF2ZyBzaXplIG1hZ25pdHVkZVxuKiBxdWF0ZXJuaW9uIC0gYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIC8gbWF4IGFuZ3VsYXIgZGlzdGFuY2UgKDE4MCBkZWcpXG4qIGNvbG9yIC0gYXZnIHJnYiBkaXN0YW5jZSAvIG1heCByZ2IgZGlzdGFuY2UgKHdoaXRlID0gc3FydCgzKSlcbiogXG4qIElmIHRoZXJlIGlzIG5vIGNoYW5nZSwgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgMFxuKiBPdGhlcndpc2UsIHRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGlzIHBvc2l0aXZlLiBcbiovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVJlbGF0aXZlRGlmZmVyZW5jZTxUIGV4dGVuZHMgTWF0aFR5cGUgPSBNYXRoVHlwZT4oc3RhcnQ6VCwgZW5kOlQpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJykgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlTnVtYmVyKHN0YXJ0LCBlbmQgYXMgbnVtYmVyKSAgICBcbiAgICBpZiAoJ2lzVmVjdG9yMycgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjMoc3RhcnQgYXMgVmVjdG9yMywgZW5kIGFzIFZlY3RvcjMpICAgIFxuICAgIGlmICgnaXNWZWN0b3IyJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMihzdGFydCBhcyBWZWN0b3IyLCBlbmQgYXMgVmVjdG9yMikgICAgXG4gICAgaWYgKCdpc0JveDMnIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VCb3gzKHN0YXJ0IGFzIEJveDMsIGVuZCBhcyBCb3gzKVxuICAgIC8vIHRoZSBmb2xsb3dpbmcgdHlwZXMgYXJlIG5hdHVyYWxseSBib3VuZGVkLFxuICAgIC8vIHNvIGluc3RlYWQgb2YgZGl2aWRpbmcgYnkgYXZlcmFnZSBtYWduaXR1ZGVzLFxuICAgIC8vIHdlIGNhbiBzaW1wbHkgZGl2aWRlIGJ5IHRoZSBtYXhpbXVtIGRpc3RhbmNlIFxuICAgIC8vIGJldHdlZW4gYW55IHR3byBwb3NzaWJsZSB2YWx1ZXNcbiAgICBpZiAoJ2lzUXVhdGVybmlvbicgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVF1YXRlcm5pb24oc3RhcnQgYXMgUXVhdGVybmlvbiwgZW5kIGFzIFF1YXRlcm5pb24pXG4gICAgaWYgKCdpc0NvbG9yJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQ29sb3Ioc3RhcnQgYXMgQ29sb3IsIGVuZCBhcyBDb2xvcilcbiAgICByZXR1cm4gSW5maW5pdHlcbn1cbmV4cG9ydCB0eXBlIE1hdGhUeXBlID0gbnVtYmVyfFZlY3RvcjJ8VmVjdG9yM3xDb2xvcnxRdWF0ZXJuaW9ufEJveDNcblxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZU51bWJlcihzOm51bWJlciwgZTpudW1iZXIpIHtcbiAgICBpZiAoZSA9PT0gcykgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguYWJzKGUtcylcbiAgICBjb25zdCBhdmdBYnNvbHV0ZVZhbHVlID0gKChNYXRoLmFicyhlKSArIE1hdGguYWJzKHMpKS8yKVxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z0Fic29sdXRlVmFsdWVcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IzKHM6VEhSRUUuVmVjdG9yMyxlOlRIUkVFLlZlY3RvcjMpIHtcbiAgICBpZiAoZS5lcXVhbHMocykpIHJldHVybiAwXG4gICAgY29uc3QgZGlzdGFuY2UgPSBlLmRpc3RhbmNlVG8ocylcbiAgICBjb25zdCBhdmdNYWduaXR1ZGUgPSAoZS5sZW5ndGgoKSArIHMubGVuZ3RoKCkpLzJcbiAgICByZXR1cm4gZGlzdGFuY2UgLyBhdmdNYWduaXR1ZGVcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IyKHM6VEhSRUUuVmVjdG9yMixlOlRIUkVFLlZlY3RvcjIpIHtcbiAgICBpZiAoZS5lcXVhbHMocykpIHJldHVybiAwXG4gICAgY29uc3QgZGlzdGFuY2UgPSBlLmRpc3RhbmNlVG8ocylcbiAgICBjb25zdCBhdmdNYWduaXR1ZGUgPSAoZS5sZW5ndGgoKSArIHMubGVuZ3RoKCkpLzJcbiAgICByZXR1cm4gZGlzdGFuY2UgLyBhdmdNYWduaXR1ZGVcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VCb3gzKHM6Qm94MywgZTpCb3gzKSB7XG4gICAgaWYgKHMuZXF1YWxzKGUpKSByZXR1cm4gMFxuICAgIGNvbnN0IHYgPSBzY3JhdGNoVjNcbiAgICBjb25zdCBtaW5EaXN0ID0gZS5taW4uZGlzdGFuY2VUbyhzLm1pbilcbiAgICBjb25zdCBtYXhEaXN0ID0gZS5tYXguZGlzdGFuY2VUbyhzLm1heClcbiAgICBjb25zdCBhdmdEaXN0YW5jZSA9IChtaW5EaXN0ICsgbWF4RGlzdCkgLyAyXG4gICAgY29uc3QgYXZnU2l6ZU1hZ25pdHVkZSA9IChlLmdldFNpemUodikubGVuZ3RoKCkgKyBzLmdldFNpemUodikubGVuZ3RoKCkpIC8gMlxuICAgIHJldHVybiBhdmdEaXN0YW5jZSAvIGF2Z1NpemVNYWduaXR1ZGVcbn1cbmNvbnN0IHNjcmF0Y2hWMyA9IG5ldyBWZWN0b3IzXG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlUXVhdGVybmlvbihzOlF1YXRlcm5pb24sIGU6UXVhdGVybmlvbikge1xuICAgIGlmIChzLmVxdWFscyhlKSkgcmV0dXJuIDBcbiAgICByZXR1cm4gcy5hbmdsZVRvKGUpIC8gTWF0aC5QSVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUNvbG9yKHM6Q29sb3IsIGU6Q29sb3IpIHtcbiAgICBpZiAocy5lcXVhbHMoZSkpIHJldHVybiAwXG4gICAgY29uc3QgdiA9IHNjcmF0Y2hWM1xuICAgIGNvbnN0IGRpc3RhbmNlID0gdi5zZXQoXG4gICAgICAgIE1hdGguYWJzKGUuciAtIHMuciksXG4gICAgICAgIE1hdGguYWJzKGUuZyAtIHMuZyksIFxuICAgICAgICBNYXRoLmFicyhlLmIgLSBzLmIpXG4gICAgKS5sZW5ndGgoKVxuICAgIHJldHVybiBkaXN0YW5jZSAvIHNxcnQzXG59XG5jb25zdCBzcXJ0MyA9IE1hdGguc3FydCgzKVxuXG5cblxuLyoqIFxuICogUmV0dXJuIHJhbmRvbSBudW1iZXIgd2l0aCBnYXVzc2lhbiBkaXN0cmlidXRpb25cbiAqIEBwYXJhbSBbc3RhbmRhcmREZXZpYXRpb249MV1cbiAqL1xuZXhwb3J0IGNvbnN0IGdhdXNzaWFuID0gKHN0YW5kYXJkRGV2aWF0aW9uPTEpID0+IHtcbiAgdmFyIHUgPSBNYXRoLnJhbmRvbSgpXG4gIHJldHVybiAodSUxZS04PjVlLTk/MTotMSkqTWF0aC5zcXJ0KC1NYXRoLmxvZyhNYXRoLm1heCgxZS05LHUpKSkqc3RhbmRhcmREZXZpYXRpb247XG59XG4vLyBleHBvcnQgY29uc3QgZ2F1c3NpYW4gPSAoKCkgPT4ge1xuLy8gICAgIGNvbnN0IF8yUEkgPSBNYXRoLlBJXG4vLyAgICAgbGV0IHowOm51bWJlciwgejE6bnVtYmVyXG4vLyAgICAgbGV0IGdlbmVyYXRlID0gZmFsc2Vcbi8vICAgICByZXR1cm4gKHN0YW5kYXJkRGV2aWF0aW9uPTEpID0+IHtcbi8vICAgICAgICAgZ2VuZXJhdGUgPSAhZ2VuZXJhdGVcbi8vICAgICAgICAgaWYgKCFnZW5lcmF0ZSkgcmV0dXJuIHoxICogc3RhbmRhcmREZXZpYXRpb25cbi8vICAgICAgICAgbGV0IHUxOm51bWJlciwgdTI6bnVtYmVyXG4vLyAgICAgICAgIGRvIHsgdTEgPSBNYXRoLnJhbmRvbSgpIH0gd2hpbGUgKHUxIDwgTnVtYmVyLkVQU0lMT04pXG4vLyAgICAgICAgIHUyID0gTWF0aC5yYW5kb20oKVxuLy8gICAgICAgICB6MCA9IE1hdGguc3FydCgtMi4wICogTWF0aC5sb2codTEpKSAqIE1hdGguY29zKF8yUEkgKiB1Milcbi8vICAgICAgICAgejEgPSBNYXRoLnNxcnQoLTIuMCAqIE1hdGgubG9nKHUxKSkgKiBNYXRoLnNpbihfMlBJICogdTIpXG4vLyAgICAgICAgIHJldHVybiB6MCAqIHN0YW5kYXJkRGV2aWF0aW9uXG4vLyAgICAgfVxuLy8gfSkoKVxuXG4vKipcbiAqIFJldHVybiByYW5kb20gbnVtYmVyIHdpdGggbGV2eSBkaXN0cmlidXRpb25cbiAqIEBwYXJhbSBbc2NhbGU9MV1cbiAqIFxuICogQmFzZWQgb246XG4gKiBodHRwOi8vYW5kcmV3ZWNrZm9yZC5ibG9nc3BvdC5jb20vMjAxMS8wNS9nZW5lcmF0aW5nLWxldnktcmFuZG9tLXZhcmlhYmxlcy1mcm9tLmh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IGxldnkgPSAoc2NhbGU9MSkgPT4gIHtcbiAgICBjb25zdCBzdGREZXZpYXRpb24gPSBNYXRoLnNxcnQoIE1hdGguc3FydCgxIC8gKDIgKiBzY2FsZSkpIClcbiAgICByZXR1cm4gMSAvIChnYXVzc2lhbihzdGREZXZpYXRpb24pICoqIDIpXG59XG5cbi8qKlxuICogUmV0dXJuIGEgcmFuZG9tIHF1YXRlcm5pb25cbiAqIEBwYXJhbSBvdXQgXG4gKiBAcGFyYW0gdHdpc3RTY2FsZSBcbiAqIEBwYXJhbSBzd2luZ1NjYWxlIFxuICovXG5leHBvcnQgY29uc3QgcmFuZG9tUXVhdGVybmlvbiA9ICgoKSA9PiB7XG4gICAgY29uc3QgXzJQSSA9IE1hdGguUEkgKiAyXG4gICAgY29uc3QgVl8wMDEgPSBuZXcgVmVjdG9yMygwLDAsMSlcbiAgICBjb25zdCB0d2lzdCA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgY29uc3Qgc3dpbmcgPSBuZXcgUXVhdGVybmlvblxuICAgIGNvbnN0IHN3aW5nQXhpcyA9IG5ldyBWZWN0b3IzXG4gICAgY29uc3Qgb3V0ID0gbmV3IFF1YXRlcm5pb25cbiAgICByZXR1cm4gZnVuY3Rpb24gcmFuZG9tUXVhdGVybmlvbih0d2lzdFNjYWxlPTEsIHN3aW5nU2NhbGU9MSkge1xuICAgICAgICB2YXIgdHdpc3RNYWduaXR1ZGUgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBfMlBJICogdHdpc3RTY2FsZSBcbiAgICAgICAgdmFyIHN3aW5nRGlyZWN0aW9uID0gTWF0aC5yYW5kb20oKSAqIF8yUElcbiAgICAgICAgdmFyIHN3aW5nTWFnbml0dWRlID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiBzd2luZ1NjYWxlXG4gICAgICAgIHN3aW5nQXhpcy5zZXQoMSwwLDApLmFwcGx5QXhpc0FuZ2xlKFZfMDAxLCBzd2luZ0RpcmVjdGlvbilcbiAgICAgICAgdHdpc3Quc2V0RnJvbUF4aXNBbmdsZShWXzAwMSwgdHdpc3RNYWduaXR1ZGUpXG4gICAgICAgIHN3aW5nLnNldEZyb21BeGlzQW5nbGUoc3dpbmdBeGlzLCBzd2luZ01hZ25pdHVkZSlcbiAgICAgICAgcmV0dXJuIG91dC5tdWx0aXBseVF1YXRlcm5pb25zKHN3aW5nLCB0d2lzdClcbiAgICB9XG59KSgpXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TZWxlY3Q8VD4oYXJyOlRbXSwgd2VpZ2h0cz86bnVtYmVyW10pIDogVCB7XG4gICAgbGV0IHRvdGFsID0gMFxuICAgIGZvciAobGV0IGk9MDsgaTwgYXJyLmxlbmd0aDsgaSsrKSB7IHRvdGFsICs9IHdlaWdodHM/LltpXXx8MSB9XG4gICAgY29uc3QgdGhyZXNob2xkID0gTWF0aC5yYW5kb20oKSAqIHRvdGFsXG4gICAgdG90YWwgPSAwXG4gICAgZm9yIChsZXQgaT0wOyBpPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG90YWwgKz0gd2VpZ2h0cz8uW2ldfHwxXG4gICAgICAgIGlmICh0b3RhbCA+IHRocmVzaG9sZCkgcmV0dXJuIGFycltpXVxuICAgIH1cbiAgICByZXR1cm4gYXJyWzBdIC8vIG1ha2UgdHNjIGhhcHB5XG59XG5cbi8qKlxuICogVXNlIHRoZSBzd2luZy10d2lzdCBkZWNvbXBvc2l0aW9uIHRvIGdldCB0aGUgY29tcG9uZW50IG9mIGEgcm90YXRpb25cbiAqIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpcy5cbiAqIFxuICogQHBhcmFtIHJvdGF0aW9uICBUaGUgcm90YXRpb24uXG4gKiBAcGFyYW0gZGlyZWN0aW9uIFRoZSBheGlzIChzaG91bGQgYmUgbm9ybWFsaXplZCkuXG4gKiBAcmV0dXJuIFRoZSBjb21wb25lbnQgb2Ygcm90YXRpb24gYWJvdXQgdGhlIGF4aXMuXG4gKi9cbmV4cG9ydCBjb25zdCBleHRyYWN0Um90YXRpb25BYm91dEF4aXMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHZlYyA9IG5ldyBWZWN0b3IzXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV4dHJhY3RSb3RhdGlvbkFib3V0QXhpcyhyb3Q6UXVhdGVybmlvbiwgZGlyZWN0aW9uOlZlY3RvcjMsIG91dDpRdWF0ZXJuaW9uKSB7XG4gICAgICAgIGNvbnN0IHJvdEF4aXMgPSB2ZWMuc2V0KHJvdC54LCByb3QueSwgcm90LnopXG4gICAgICAgIGNvbnN0IGRvdFByb2QgPSBkaXJlY3Rpb24uZG90KHJvdEF4aXMpICAgICAgXG4gICAgICAgIC8vIFNob3J0Y3V0IGNhbGN1bGF0aW9uIG9mIGBwcm9qZWN0aW9uYCByZXF1aXJlcyBgZGlyZWN0aW9uYCB0byBiZSBub3JtYWxpemVkXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSB2ZWMuY29weShkaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGRvdFByb2QpXG4gICAgICAgIGNvbnN0IHR3aXN0ID0gb3V0LnNldChwcm9qZWN0aW9uLngsIHByb2plY3Rpb24ueSwgcHJvamVjdGlvbi56LCByb3Qudykubm9ybWFsaXplKClcbiAgICAgICAgaWYgKGRvdFByb2QgPCAwLjApIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBgdHdpc3RgIHBvaW50cyB0b3dhcmRzIGBkaXJlY3Rpb25gXG4gICAgICAgICAgICB0d2lzdC54ID0gLXR3aXN0LnhcbiAgICAgICAgICAgIHR3aXN0LnkgPSAtdHdpc3QueVxuICAgICAgICAgICAgdHdpc3QueiA9IC10d2lzdC56XG4gICAgICAgICAgICB0d2lzdC53ID0gLXR3aXN0LndcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHdpc3RcbiAgICB9XG59KSgpIiwiXG5pbXBvcnQgeyBCb3gzLCBWZWN0b3IzLCBRdWF0ZXJuaW9uLCBNYXRyaXg0LCBWXzAwMCwgRElSRUNUSU9OLCBWXzExMSwgQm94MiwgVmVjdG9yMiwgUV9JREVOVElUWSB9IGZyb20gJy4vbWF0aC11dGlscydcbmltcG9ydCB7IEV0aGVyZWFsTGF5b3V0U3lzdGVtLCBOb2RlM0QgfSBmcm9tICcuL0V0aGVyZWFsTGF5b3V0U3lzdGVtJ1xuaW1wb3J0IHsgTWVtb2l6YXRpb25DYWNoZSB9IGZyb20gJy4vTWVtb2l6YXRpb25DYWNoZSdcblxuY29uc3QgSW50ZXJuYWxSYXdTdGF0ZSA9IFN5bWJvbChcInJhd1wiKVxuY29uc3QgSW50ZXJuYWxDdXJyZW50U3RhdGUgPSBTeW1ib2woXCJjdXJyZW50XCIpXG5jb25zdCBJbnRlcm5hbFRhcmdldFN0YXRlID0gU3ltYm9sKFwidGFyZ2V0XCIpXG5jb25zdCBJbnRlcm5hbFByZXZpb3VzVGFyZ2V0U3RhdGUgPSBTeW1ib2woXCJwcmV2aW91c1RhcmdldFwiKVxuXG5leHBvcnQgY2xhc3MgTm9kZVN0YXRlPE4gZXh0ZW5kcyBOb2RlM0Q9Tm9kZTNEPiB7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbW9kZTonY3VycmVudCd8J3RhcmdldCcsIHB1YmxpYyBtZXRyaWNzOlNwYXRpYWxNZXRyaWNzPE4+KSB7fVxuICAgIFxuICAgIHByaXZhdGUgX2NhY2hlID0gbmV3IE1lbW9pemF0aW9uQ2FjaGVcblxuICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlLmludmFsaWRhdGVBbGwoKVxuICAgIH1cblxuICAgIG9wYWNpdHkgPSAxXG4gXG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudFxuICAgIH1cbiAgICBzZXQgcGFyZW50KHZhbDpOfG51bGwpIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuX3BhcmVudFxuICAgICAgICBpZiAoY3VycmVudCAhPT0gdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSB2YWxcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfcGFyZW50IDogTnxudWxsID0gbnVsbFxuXG4gICAgZ2V0IHBhcmVudFN0YXRlKCkge1xuICAgICAgICBjb25zdCBwYXJlbnRNZXRyaWNzID0gdGhpcy5wYXJlbnQgJiYgdGhpcy5tZXRyaWNzLnN5c3RlbS5nZXRNZXRyaWNzKHRoaXMucGFyZW50KVxuICAgICAgICByZXR1cm4gcGFyZW50TWV0cmljcz8uW3RoaXMubW9kZV1cbiAgICB9XG4gICAgXG4gICAgZ2V0IHJlZmVyZW5jZVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRyaWNzLnJlZmVyZW5jZU1ldHJpY3M/Llt0aGlzLm1vZGVdXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkTG9jYWxNYXRyaXggPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fbG9jYWxNYXRyaXguZGVjb21wb3NlKHRoaXMuX2xvY2FsUG9zaXRpb24sIHRoaXMuX2xvY2FsT3JpZW50YXRpb24sIHRoaXMuX2xvY2FsU2NhbGUpXG4gICAgICAgIHRoaXMuX2xvY2FsT3JpZW50YXRpb24ubm9ybWFsaXplKClcbiAgICAgICAgdGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2UuY29weSh0aGlzLl9sb2NhbE9yaWVudGF0aW9uKS5pbnZlcnNlKClcbiAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbi5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLl9sb2NhbE9yaWVudGF0aW9uKVxuICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uSW52ZXJzZS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLl9sb2NhbE9yaWVudGF0aW9uSW52ZXJzZSlcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsTWF0cml4XG4gICAgfSlcbiAgICBnZXQgbG9jYWxNYXRyaXgoKSB7IHJldHVybiB0aGlzLl9sb2NhbE1hdHJpeCB9XG4gICAgc2V0IGxvY2FsTWF0cml4KHZhbDpNYXRyaXg0KSB7XG4gICAgICAgIGlmIChpc05hTih2YWwuZWxlbWVudHNbMF0pKSB0aHJvdyBuZXcgRXJyb3IoKVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsTWF0cml4LmVxdWFscyh2YWwpKSB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKVxuICAgICAgICAgICAgdGhpcy5fbG9jYWxNYXRyaXguY29weSh2YWwpXG4gICAgICAgICAgICB0aGlzLl9sb2NhbE1hdHJpeEludmVyc2UuZ2V0SW52ZXJzZSh0aGlzLl9sb2NhbE1hdHJpeClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2xvY2FsTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9sb2NhbE1hdHJpeEludmVyc2UgPSBuZXcgTWF0cml4NFxuICAgIFxuICAgIHByaXZhdGUgX2xvY2FsUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX2xvY2FsT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX2xvY2FsT3JpZW50YXRpb25JbnZlcnNlID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF9sb2NhbFNjYWxlID0gbmV3IFZlY3RvcjMoMSwxLDEpXG4gICAgcHJpdmF0ZSBfbG9jYWxSb3RhdGlvbiA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbG9jYWxSb3RhdGlvbkludmVyc2UgPSBuZXcgTWF0cml4NFxuXG4gICAgZ2V0IGxvY2FsTWF0cml4SW52ZXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsTWF0cml4SW52ZXJzZVxuICAgIH1cblxuICAgIGdldCBsb2NhbFBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFBvc2l0aW9uXG4gICAgfVxuXG4gICAgZ2V0IGxvY2FsT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsT3JpZW50YXRpb25cbiAgICB9XG5cbiAgICBnZXQgbG9jYWxPcmllbnRhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsT3JpZW50YXRpb25JbnZlcnNlXG4gICAgfVxuXG4gICAgZ2V0IGxvY2FsU2NhbGUoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsU2NhbGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCByb3RhdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBnZXQgbG9jYWxSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxSb3RhdGlvblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvY2FsIE9yaWVudGF0aW9uIG1hdHJpeCBpbnZlcnNlXG4gICAgICovXG4gICAgZ2V0IGxvY2FsUm90YXRpb25JbnZlcnNlKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFJvdGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhY2hlZFdvcmxkTWF0cml4ID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuX3dvcmxkTWF0cml4LmNvcHkodGhpcy5sb2NhbE1hdHJpeClcbiAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSB0aGlzLnBhcmVudFN0YXRlXG4gICAgICAgIGlmIChwYXJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgbWF0cml4LnByZW11bHRpcGx5KHBhcmVudFN0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICB9XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcy5fd29ybGRQb3NpdGlvbiwgdGhpcy5fd29ybGRPcmllbnRhdGlvbiwgdGhpcy5fd29ybGRTY2FsZSlcbiAgICAgICAgdGhpcy5fd29ybGRNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5fd29ybGRNYXRyaXgpXG4gICAgICAgIHRoaXMuX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlLmNvcHkodGhpcy5fd29ybGRPcmllbnRhdGlvbikuaW52ZXJzZSgpXG4gICAgICAgIHRoaXMuX3dvcmxkUm90YXRpb24ubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5fd29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgdGhpcy5fd29ybGRSb3RhdGlvbkludmVyc2UubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2UpXG4gICAgICAgIHJldHVybiBtYXRyaXhcbiAgICB9KVxuICAgIGdldCB3b3JsZE1hdHJpeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFdvcmxkTWF0cml4KClcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfd29ybGRQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfd29ybGRPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgcHJpdmF0ZSBfd29ybGRPcmllbnRhdGlvbkludmVyc2UgPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3dvcmxkU2NhbGUgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3dvcmxkTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZE1hdHJpeEludmVyc2UgPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX3dvcmxkUm90YXRpb24gPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX3dvcmxkUm90YXRpb25JbnZlcnNlID0gbmV3IE1hdHJpeDRcblxuICAgIGdldCB3b3JsZE1hdHJpeEludmVyc2UoKSB7XG4gICAgICAgIHRoaXMud29ybGRNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4SW52ZXJzZVxuICAgIH1cblxuICAgIGdldCB3b3JsZFBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZFBvc2l0aW9uXG4gICAgfVxuXG4gICAgZ2V0IHdvcmxkT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHRoaXMud29ybGRNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkT3JpZW50YXRpb25cbiAgICB9XG5cbiAgICBnZXQgd29ybGRTY2FsZSgpIHtcbiAgICAgICAgdGhpcy53b3JsZE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRTY2FsZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludmVyc2Ugd29ybGQgb3JpZW50YXRpb25cbiAgICAgKi9cbiAgICBnZXQgd29ybGRPcmllbnRhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE9yaWVudGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdvcmxkIHJvdGF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIGdldCB3b3JsZFJvdGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRSb3RhdGlvblxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBXb3JsZCByb3RhdGlvbiBtYXRyaXggaW52ZXJzZVxuICAgICAqL1xuICAgIGdldCB3b3JsZFJvdGF0aW9uSW52ZXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkUm90YXRpb25JbnZlcnNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGlubmVyIGJvdW5kcyBjZW50ZXIgaW4gd29ybGQgY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jYWNoZWRXb3JsZENlbnRlciA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRDZW50ZXIuY29weSh0aGlzLm1ldHJpY3MuaW5uZXJDZW50ZXIpLmFwcGx5TWF0cml4NCh0aGlzLndvcmxkTWF0cml4KVxuICAgIH0pXG4gICAgZ2V0IHdvcmxkQ2VudGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkV29ybGRDZW50ZXIoKVxuICAgIH1cbiAgICBwcml2YXRlIF93b3JsZENlbnRlciA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHdvcmxkIGZyYW1lIGZyb20gc3BhdGlhbCBmcmFtZVxuICAgICAqIFxuICAgICAqIFNwYXRpYWwgRnJhbWUgPSBSZWZlcmVuY2UgT3JpZ2luICsgTXkgV29ybGQgT3JpZW50YXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIF9jYWNoZWRTcGF0aWFsTWF0cml4ID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwYXRpYWxNYXRyaXggPSB0aGlzLl9zcGF0aWFsTWF0cml4LmNvbXBvc2UodGhpcy5vdXRlck9yaWdpbiwgdGhpcy53b3JsZE9yaWVudGF0aW9uLCBWXzExMSkgXG4gICAgICAgIHRoaXMuX3NwYXRpYWxNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5fc3BhdGlhbE1hdHJpeClcbiAgICAgICAgdGhpcy5fbG9jYWxGcm9tU3BhdGlhbC5tdWx0aXBseU1hdHJpY2VzKHRoaXMud29ybGRNYXRyaXhJbnZlcnNlLCBzcGF0aWFsTWF0cml4KVxuICAgICAgICB0aGlzLl9zcGF0aWFsRnJvbUxvY2FsLmdldEludmVyc2UodGhpcy5fbG9jYWxGcm9tU3BhdGlhbClcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2VTdGF0ZVxuICAgICAgICBpZiAocmVmZXJlbmNlKSB7XG4gICAgICAgICAgICB0aGlzLl9zcGF0aWFsRnJvbVJlZmVyZW5jZS5tdWx0aXBseU1hdHJpY2VzKHRoaXMuX3NwYXRpYWxNYXRyaXhJbnZlcnNlLCByZWZlcmVuY2Uud29ybGRNYXRyaXgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zcGF0aWFsRnJvbVJlZmVyZW5jZS5jb3B5KHRoaXMuX3NwYXRpYWxNYXRyaXhJbnZlcnNlKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcGF0aWFsTWF0cml4XG4gICAgfSlcbiAgICBnZXQgc3BhdGlhbE1hdHJpeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFNwYXRpYWxNYXRyaXgoKVxuICAgIH1cblxuICAgIHByaXZhdGUgX3NwYXRpYWxNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX3NwYXRpYWxNYXRyaXhJbnZlcnNlID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9sb2NhbEZyb21TcGF0aWFsID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbUxvY2FsID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbVJlZmVyZW5jZSA9IG5ldyBNYXRyaXg0XG5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gc3BhdGlhbCBmcmFtZSBmcm9tIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxNYXRyaXhJbnZlcnNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBsb2NhbCBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgbG9jYWxGcm9tU3BhdGlhbCgpIHsgXG4gICAgICAgIHRoaXMuc3BhdGlhbE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxGcm9tU3BhdGlhbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gc3BhdGlhbCBmcmFtZSBmcm9tIGxvY2FsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxGcm9tTG9jYWwoKSB7IFxuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxGcm9tTG9jYWwgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBzcGF0aWFsIGZyYW1lIGZyb20gcmVmZXJlbmNlIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxGcm9tUmVmZXJlbmNlKCkgeyBcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsRnJvbVJlZmVyZW5jZSBcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIHNwYXRpYWwgYm91bmRzIFxuICAgICAqL1xuICAgIHByaXZhdGUgX2NhY2hlZFNwYXRpYWxCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fc3BhdGlhbEJvdW5kcy5jb3B5KHRoaXMubWV0cmljcy5pbm5lckJvdW5kcylcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fc3BhdGlhbEJvdW5kcy5hcHBseU1hdHJpeDQodGhpcy5zcGF0aWFsRnJvbUxvY2FsKVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX3NwYXRpYWxDZW50ZXIpXG4gICAgICAgIGJvdW5kcy5nZXRTaXplKHRoaXMuX3NwYXRpYWxTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICBnZXQgc3BhdGlhbEJvdW5kcygpIHsgcmV0dXJuIHRoaXMuX2NhY2hlZFNwYXRpYWxCb3VuZHMoKSB9XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfc3BhdGlhbFNpemUgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3NwYXRpYWxDZW50ZXIgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNwYXRpYWwgc2l6ZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIGNlbnRlclxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsQ2VudGVyKCkge1xuICAgICAgICB0aGlzLnNwYXRpYWxCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxDZW50ZXJcbiAgICB9XG5cblxuICAgIHByaXZhdGUgX2NhY2hlZE91dGVyQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX291dGVyQm91bmRzXG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5tZXRyaWNzLm5vZGUpXG4gICAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgICAgICBib3VuZHMuY29weShhZGFwdGVyLm91dGVyQm91bmRzW3RoaXMubW9kZV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZWZlcmVuY2VTdGF0ZSA9IHRoaXMucmVmZXJlbmNlU3RhdGVcbiAgICAgICAgICAgIGlmICghcmVmZXJlbmNlU3RhdGUpIGJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShWXzAwMCxWXzAwMClcbiAgICAgICAgICAgIGVsc2UgYm91bmRzLmNvcHkocmVmZXJlbmNlU3RhdGUubWV0cmljcy5pbm5lckJvdW5kcylcbiAgICAgICAgICAgIGJvdW5kcy5hcHBseU1hdHJpeDQodGhpcy5zcGF0aWFsRnJvbVJlZmVyZW5jZSlcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX291dGVyQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9vdXRlclNpemUpXG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9KVxuICAgIC8qKlxuICAgICogVGhlIHJlZmVyZW5jZSBib3VuZHMgaW4gdGhlIHNwYXRpYWwgZnJhbWVcbiAgICAqL1xuICAgIGdldCBvdXRlckJvdW5kcygpIHsgcmV0dXJuIHRoaXMuX2NhY2hlZE91dGVyQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX291dGVyQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9vdXRlckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfb3V0ZXJTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBvdXRlckNlbnRlcigpIHtcbiAgICAgICAgdGhpcy5vdXRlckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJDZW50ZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXIgYm91bmRzIHNpemUgaW4gdGhlIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJTaXplKCkge1xuICAgICAgICB0aGlzLm91dGVyQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlclNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXIgYm91bmRzIG9yaWdpbiBpbiB0aGUgd29ybGQgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJPcmlnaW4oKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5tZXRyaWNzLm5vZGUpXG4gICAgICAgIGlmIChhZGFwdGVyKSByZXR1cm4gYWRhcHRlci5vdXRlck9yaWdpblt0aGlzLm1vZGVdXG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZVN0YXRlPy53b3JsZENlbnRlciA/PyBWXzAwMFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRlciBib3VuZHMgb3JpZW50YXRpb24gaW4gdGhlIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyT3JpZW50YXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5tZXRyaWNzLm5vZGUpXG4gICAgICAgIGlmIChhZGFwdGVyKSByZXR1cm4gYWRhcHRlci5vdXRlck9yaWVudGF0aW9uW3RoaXMubW9kZV1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlU3RhdGU/LndvcmxkT3JpZW50YXRpb24gPz8gUV9JREVOVElUWVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhY2hlZE91dGVyVmlzdWFsQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX291dGVyVmlzdWFsQm91bmRzXG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5tZXRyaWNzLm5vZGUpXG4gICAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgICAgICBib3VuZHMuY29weShhZGFwdGVyLm91dGVyVmlzdWFsQm91bmRzW3RoaXMubW9kZV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZWZlcmVuY2VTdGF0ZSA9IHRoaXMucmVmZXJlbmNlU3RhdGVcbiAgICAgICAgICAgIGlmICghcmVmZXJlbmNlU3RhdGUpIGJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShWXzAwMCwgVl8wMDApXG4gICAgICAgICAgICBlbHNlIGJvdW5kcy5jb3B5KHJlZmVyZW5jZVN0YXRlLnZpc3VhbEJvdW5kcylcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX291dGVyVmlzdWFsQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9vdXRlclZpc3VhbFNpemUpXG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9KVxuICAgIC8qKlxuICAgICogVGhlIHJlZmVyZW5jZSBib3VuZHMgaW4gdGhlIHZpc3VhbCBmcmFtZVxuICAgICovXG4gICAgZ2V0IG91dGVyVmlzdWFsQm91bmRzKCkgeyByZXR1cm4gdGhpcy5fY2FjaGVkT3V0ZXJWaXN1YWxCb3VuZHMoKSB9XG4gICAgcHJpdmF0ZSBfb3V0ZXJWaXN1YWxCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX291dGVyVmlzdWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9vdXRlclZpc3VhbFNpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IG91dGVyVmlzdWFsQ2VudGVyKCkge1xuICAgICAgICB0aGlzLm91dGVyVmlzdWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlclZpc3VhbENlbnRlclxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRlclZpc3VhbCBib3VuZHMgc2l6ZSBpbiB0aGUgc3BhdGlhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbFNpemUoKSB7XG4gICAgICAgIHRoaXMub3V0ZXJWaXN1YWxCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyVmlzdWFsU2l6ZVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBnZXQgX3ZpZXdTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0cmljcy5zeXN0ZW0udmlld05vZGUgPT09IHRoaXMubWV0cmljcy5ub2RlKSByZXR1cm4gdGhpc1xuICAgICAgICBjb25zdCB2aWV3TWV0cmljcyA9IHRoaXMubWV0cmljcy5zeXN0ZW0udmlld01ldHJpY3NcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2N1cnJlbnQnKSByZXR1cm4gdmlld01ldHJpY3NbSW50ZXJuYWxDdXJyZW50U3RhdGVdXG4gICAgICAgIHJldHVybiB2aWV3TWV0cmljc1tJbnRlcm5hbFRhcmdldFN0YXRlXVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhlIHZpZXcgZnJhbWUgZnJvbSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCB2aWV3RnJvbVdvcmxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlld0Zyb21Xb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMuX3ZpZXdTdGF0ZS53b3JsZE1hdHJpeEludmVyc2UsIHRoaXMud29ybGRNYXRyaXgpXG4gICAgfVxuICAgIHByaXZhdGUgX3ZpZXdGcm9tV29ybGQgPSBuZXcgTWF0cml4NFxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IGZyYW1lIGZyb20gc3BhdGlhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCB2aWV3RnJvbVNwYXRpYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3RnJvbVNwYXRpYWwubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl92aWV3U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB0aGlzLnNwYXRpYWxNYXRyaXgpXG4gICAgfVxuICAgIHByaXZhdGUgX3ZpZXdGcm9tU3BhdGlhbCA9IG5ldyBNYXRyaXg0XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHBhcmVudCBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbEZyb21WaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbEZyb21WaWV3LmdldEludmVyc2UodGhpcy52aWV3RnJvbVNwYXRpYWwpXG4gICAgfVxuICAgIHByaXZhdGUgX3NwYXRpYWxGcm9tVmlldyA9IG5ldyBNYXRyaXg0XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVkIERldmljZSBDb29yZGluYXRlc1xuICAgICAqL1xuICAgIGdldCBuZGNCb3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRORENCb3VuZHMoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRORENCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMubWV0cmljcy5zeXN0ZW0udmlld05vZGUgPT09IHRoaXMubWV0cmljcy5ub2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9uZGNCb3VuZHMubWluLnNldFNjYWxhcigtMSlcbiAgICAgICAgICAgIHRoaXMuX25kY0JvdW5kcy5tYXguc2V0U2NhbGFyKDEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmRjQm91bmRzXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdmlld0ZydXN0dW0gPSB0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdGcnVzdHVtXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSB2aWV3RnJ1c3R1bS5wZXJzcGVjdGl2ZVByb2plY3Rpb25NYXRyaXhcbiAgICAgICAgY29uc3Qgdmlld0Zyb21Xb3JsZCA9IHRoaXMudmlld0Zyb21Xb3JsZFxuICAgICAgICBjb25zdCB2aWV3UHJvamVjdGlvbkZyb21Xb3JsZCA9IHRoaXMuX3ZpZXdQcm9qZWN0aW9uRnJvbVdvcmxkLm11bHRpcGx5TWF0cmljZXMocHJvamVjdGlvbiwgdmlld0Zyb21Xb3JsZClcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fbmRjQm91bmRzLmNvcHkodGhpcy5tZXRyaWNzLmlubmVyQm91bmRzKS5hcHBseU1hdHJpeDQodmlld1Byb2plY3Rpb25Gcm9tV29ybGQpXG4gICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fbmRjQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9uZGNTaXplKVxuICAgICAgICBpZiAoIWlzRmluaXRlKGJvdW5kcy5taW4ueCkgfHwgIWlzRmluaXRlKGJvdW5kcy5taW4ueSkgfHwgIWlzRmluaXRlKGJvdW5kcy5taW4ueikgfHwgXG4gICAgICAgICAgICAhaXNGaW5pdGUoYm91bmRzLm1heC54KSB8fCAhaXNGaW5pdGUoYm91bmRzLm1heC55KSB8fCAhaXNGaW5pdGUoYm91bmRzLm1heC56KSkge1xuICAgICAgICAgICAgYm91bmRzLm1pbi5zZXRTY2FsYXIoLTEpXG4gICAgICAgICAgICBib3VuZHMubWF4LnNldFNjYWxhcigxKVxuICAgICAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9uZGNDZW50ZXIpXG4gICAgICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9uZGNTaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9LCB0aGlzLl92aWV3U3RhdGUuX2NhY2hlKVxuICAgIHByaXZhdGUgX3ZpZXdQcm9qZWN0aW9uRnJvbVdvcmxkID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9uZGNCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX25kY0NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfbmRjU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICBnZXQgbmRjQ2VudGVyKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRORENCb3VuZHMoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbmRjQ2VudGVyXG4gICAgfVxuICAgIGdldCBuZGNTaXplKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRORENCb3VuZHMoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbmRjU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB2aXN1YWwgYm91bmRzIG9mIHRoaXMgbm9kZS5cbiAgICAgKiBcbiAgICAgKiBIb3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCB1bml0cyBhcmUgaW4gcGl4ZWxzLCB3aXRoIHNjcmVlbiBjZW50ZXIgYXQgKDAsMClcbiAgICAgKiBaIGRpbWVuc2lvbiBpcyBpbiBtZXRlcnNcbiAgICAgKi9cbiAgICBnZXQgdmlzdWFsQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVmlzdWFsQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN5c3RlbSA9IHRoaXMubWV0cmljcy5zeXN0ZW1cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHN5c3RlbS52aWV3RnJ1c3R1bS5wZXJzcGVjdGl2ZVByb2plY3Rpb25NYXRyaXhcbiAgICAgICAgY29uc3QgaW52ZXJzZVByb2plY3Rpb24gPSB0aGlzLl9pbnZlcnNlUHJvamVjdGlvbi5nZXRJbnZlcnNlKHByb2plY3Rpb24pXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX3Zpc3VhbEJvdW5kcy5jb3B5KHRoaXMubmRjQm91bmRzKVxuICAgICAgICBjb25zdCB2ID0gdGhpcy5fdjFcbiAgICAgICAgY29uc3QgbmVhck1ldGVycyA9IHYuc2V0KDAsMCxib3VuZHMubWluLnopLmFwcGx5TWF0cml4NChpbnZlcnNlUHJvamVjdGlvbikuelxuICAgICAgICBjb25zdCBmYXJNZXRlcnMgPSB2LnNldCgwLDAsYm91bmRzLm1heC56KS5hcHBseU1hdHJpeDQoaW52ZXJzZVByb2plY3Rpb24pLnpcbiAgICAgICAgYm91bmRzLm1pbi56ID0gZmFyTWV0ZXJzXG4gICAgICAgIGJvdW5kcy5tYXgueiA9IG5lYXJNZXRlcnNcbiAgICAgICAgYm91bmRzLm1pbi54ICo9IDAuNSAqIHN5c3RlbS52aWV3UmVzb2x1dGlvbi54XG4gICAgICAgIGJvdW5kcy5tYXgueCAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueFxuICAgICAgICBib3VuZHMubWluLnkgKj0gMC41ICogc3lzdGVtLnZpZXdSZXNvbHV0aW9uLnlcbiAgICAgICAgYm91bmRzLm1heC55ICo9IDAuNSAqIHN5c3RlbS52aWV3UmVzb2x1dGlvbi55XG4gICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fdmlzdWFsQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl92aXN1YWxTaXplKSBcbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0sIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBfdmlzdWFsQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF92aXN1YWxDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3Zpc3VhbFNpemUgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3YxID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9pbnZlcnNlUHJvamVjdGlvbiA9IG5ldyBNYXRyaXg0XG5cbiAgICBnZXQgdmlzdWFsQ2VudGVyKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRWaXN1YWxCb3VuZHMoKVxuICAgICAgICByZXR1cm4gdGhpcy5fdmlzdWFsQ2VudGVyXG4gICAgfVxuICAgIGdldCB2aXN1YWxTaXplKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRWaXN1YWxCb3VuZHMoKVxuICAgICAgICByZXR1cm4gdGhpcy5fdmlzdWFsU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoaXMgbm9kZSBzdGF0ZVxuICAgICAqL1xuICAgIGdldCByZWxhdGl2ZVZpZXdQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdQb3NpdGlvbi5jb3B5KHRoaXMuX3ZpZXdTdGF0ZS53b3JsZFBvc2l0aW9uKS5hcHBseU1hdHJpeDQodGhpcy53b3JsZE1hdHJpeEludmVyc2UpXG4gICAgfVxuICAgIHByaXZhdGUgX3ZpZXdQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBvcnRob2dvbmFsIChyaWdodC1hbmdsZWQpIG9yaWVudGF0aW9uIHdpdGggdGhlIGNsb3Nlc3QgdmlldyBvcmllbnRhdGlvbiBhbGlnbm1lbnRcbiAgICAgKi9cbiAgICBnZXQgdmlld0FsaWduZWRPcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZpZXdBbGlnbmVkT3JpZW50YXRpb24oKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRWaWV3QWxpZ25lZE9yaWVudGF0aW9uID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVmlld01hdHJpeCA9IHRoaXMuX3JlbGF0aXZlVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHRoaXMud29ybGRNYXRyaXhJbnZlcnNlLCB0aGlzLl92aWV3U3RhdGUud29ybGRNYXRyaXgpXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVmlld1JvdGF0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3Um90YXRpb24uZXh0cmFjdFJvdGF0aW9uKHJlbGF0aXZlVmlld01hdHJpeClcbiAgICAgICAgY29uc3QgcmVsYXRpdmVWaWV3T3JpZW50YXRpb24gPSB0aGlzLl9yZWxhdGl2ZVZpZXdPcmllbnRhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgocmVsYXRpdmVWaWV3Um90YXRpb24pXG4gICAgICAgIGNvbnN0IGZvcndhcmREaXJlY3Rpb24gPSB0aGlzLl9yZWxhdGl2ZVZpZXdGb3J3YXJkLnNldCgwLCAwLCAxKS5hcHBseVF1YXRlcm5pb24ocmVsYXRpdmVWaWV3T3JpZW50YXRpb24pXG4gICAgICAgIGNvbnN0IHVwRGlyZWN0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3VXAuc2V0KDAsIDEsIDApLmFwcGx5UXVhdGVybmlvbihyZWxhdGl2ZVZpZXdPcmllbnRhdGlvbilcbiAgICAgICAgXG4gICAgICAgIGxldCBkaXN0Rm9yd2FyZCA9IEluZmluaXR5XG4gICAgICAgIGxldCBkaXN0VXAgPSBJbmZpbml0eVxuICAgICAgICBsZXQgY2xvc2VzdEZvcndhcmREaXJlY3Rpb24gOiBWZWN0b3IzXG4gICAgICAgIGxldCBjbG9zZXN0VXBEaXJlY3Rpb24gOiBWZWN0b3IzXG4gICAgICAgIGxldCBkIDoga2V5b2YgdHlwZW9mIERJUkVDVElPTlxuXG4gICAgICAgIGZvciAoZCBpbiBESVJFQ1RJT04pIHtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IERJUkVDVElPTltkXVxuICAgICAgICAgICAgdmFyIGRpc3QgPSB1cERpcmVjdGlvbi5kaXN0YW5jZVRvU3F1YXJlZChkaXIpXG4gICAgICAgICAgICBpZiAoZGlzdCA8IGRpc3RVcCkge1xuICAgICAgICAgICAgICAgIGRpc3RVcCA9IGRpc3RcbiAgICAgICAgICAgICAgICBjbG9zZXN0VXBEaXJlY3Rpb24gPSBkaXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBmb3IgKGQgaW4gRElSRUNUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBESVJFQ1RJT05bZF0gICAgXG4gICAgICAgICAgICAvLyBhdm9pZCBoYXZpbmcgZm9yd2FyZCAmIHVwIGRlZmluZWQgb24gdGhlIHNhbWUgYXhpc1xuICAgICAgICAgICAgaWYgKGRpci54ICYmIGNsb3Nlc3RVcERpcmVjdGlvbiEueCkgY29udGludWVcbiAgICAgICAgICAgIGlmIChkaXIueSAmJiBjbG9zZXN0VXBEaXJlY3Rpb24hLnkpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAoZGlyLnogJiYgY2xvc2VzdFVwRGlyZWN0aW9uIS56KSBjb250aW51ZVxuICAgICAgICAgICAgY29uc3QgZGlzdCA9IGZvcndhcmREaXJlY3Rpb24uZGlzdGFuY2VUb1NxdWFyZWQoZGlyKVxuICAgICAgICAgICAgaWYgKGRpc3QgPCBkaXN0Rm9yd2FyZCkge1xuICAgICAgICAgICAgICAgIGRpc3RGb3J3YXJkID0gZGlzdFxuICAgICAgICAgICAgICAgIGNsb3Nlc3RGb3J3YXJkRGlyZWN0aW9uID0gZGlyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgY29uc3Qgcm90ID0gdGhpcy5fb3J0aG9nb25hbFJvdGF0aW9uLmlkZW50aXR5KClcbiAgICAgICAgcm90Lmxvb2tBdChjbG9zZXN0Rm9yd2FyZERpcmVjdGlvbiEsIFZfMDAwLCBjbG9zZXN0VXBEaXJlY3Rpb24hKVxuICAgICAgICByZXR1cm4gdGhpcy5fb3J0aG9nb25hbE9yaWVudGF0aW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChyb3QpXG4gICAgfSwgdGhpcy5fdmlld1N0YXRlLl9jYWNoZSlcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld1JvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3VXAgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld0ZvcndhcmQgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX29ydGhvZ29uYWxSb3RhdGlvbiA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfb3J0aG9nb25hbE9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cblxuXG4gICAgcHJpdmF0ZSBfY29tcHV0ZU9jY2x1c2lvbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICB0aGlzLl9vY2NsdWRpbmdQZXJjZW50ID0gMFxuICAgICAgICB0aGlzLl9vY2NsdWRlZFBlcmNlbnQgPSAwXG4gICAgICAgIFxuICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5tZXRyaWNzXG4gICAgICAgIGlmIChtZXRyaWNzLmlubmVyQm91bmRzLmlzRW1wdHkoKSkgcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBzeXN0ZW0gPSBtZXRyaWNzLnN5c3RlbVxuICAgICAgICBjb25zdCBhZGFwdGVycyA9IHN5c3RlbS5ub2RlQWRhcHRlcnMudmFsdWVzKClcblxuICAgICAgICBjb25zdCBteUJvdW5kcyA9IHRoaXMudmlzdWFsQm91bmRzXG4gICAgICAgIGNvbnN0IG15TmVhciA9IG15Qm91bmRzLm1pbi56XG4gICAgICAgIGNvbnN0IGEgPSBOb2RlU3RhdGUuX2JveEFcbiAgICAgICAgY29uc3QgYiA9IE5vZGVTdGF0ZS5fYm94QlxuICAgICAgICBhLm1pbi5zZXQobXlCb3VuZHMubWluLngsIG15Qm91bmRzLm1pbi55KVxuICAgICAgICBhLm1pbi5zZXQobXlCb3VuZHMubWF4LngsIG15Qm91bmRzLm1heC55KVxuICAgICAgICBjb25zdCBteUxlbmd0aCA9IGEuZ2V0U2l6ZShOb2RlU3RhdGUuX3NpemVBKS5sZW5ndGgoKVxuXG4gICAgICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiBhZGFwdGVycykge1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJNZXRyaWNzID0gYWRhcHRlci5tZXRyaWNzXG4gICAgICAgICAgICBpZiAob3RoZXJNZXRyaWNzID09PSBtZXRyaWNzKSBjb250aW51ZVxuICAgICAgICAgICAgaWYgKCFvdGhlck1ldHJpY3MuaXNBZGFwdGl2ZSB8fCBvdGhlck1ldHJpY3MuaW5uZXJCb3VuZHMuaXNFbXB0eSgpKSBjb250aW51ZVxuICAgICAgICAgICAgaWYgKG90aGVyTWV0cmljcy5jb250YWluZWRCeU5vZGUoYWRhcHRlci5ub2RlKSkgY29udGludWVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgb3RoZXJTdGF0ZSA9IHRoaXMubW9kZSA9PT0gJ2N1cnJlbnQnID8gb3RoZXJNZXRyaWNzLmN1cnJlbnQgOiBvdGhlck1ldHJpY3MudGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBvdGhlckJvdW5kcyA9IG90aGVyU3RhdGUudmlzdWFsQm91bmRzXG4gICAgICAgICAgICBhLm1pbi5zZXQobXlCb3VuZHMubWluLngsIG15Qm91bmRzLm1pbi55KVxuICAgICAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1heC54LCBteUJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgIGIubWluLnNldChvdGhlckJvdW5kcy5taW4ueCwgb3RoZXJCb3VuZHMubWluLnkpXG4gICAgICAgICAgICBiLm1pbi5zZXQob3RoZXJCb3VuZHMubWF4LngsIG90aGVyQm91bmRzLm1heC55KVxuICAgICAgICAgICAgY29uc3Qgb3ZlcmxhcFBlcmNlbnQgPSBhLmludGVyc2VjdChiKS5nZXRTaXplKE5vZGVTdGF0ZS5fc2l6ZUIpLmxlbmd0aCgpIC8gbXlMZW5ndGhcbiAgICAgICAgICAgIGlmIChvdmVybGFwUGVyY2VudCA+IDApICB7XG4gICAgICAgICAgICAgICAgaWYgIChteU5lYXIgPCBvdGhlckJvdW5kcy5taW4ueikgdGhpcy5fb2NjbHVkaW5nUGVyY2VudCArPSBvdmVybGFwUGVyY2VudFxuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5fb2NjbHVkZWRQZXJjZW50ICs9IG92ZXJsYXBQZXJjZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCAgdGhpcy5fdmlld1N0YXRlLl9jYWNoZSlcbiAgICBwcml2YXRlIHN0YXRpYyBfYm94QSA9IG5ldyBCb3gyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2JveEIgPSBuZXcgQm94MlxuICAgIHByaXZhdGUgc3RhdGljIF9zaXplQSA9IG5ldyBWZWN0b3IyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NpemVCID0gbmV3IFZlY3RvcjJcblxuICAgIC8qKiBcbiAgICAgKiBUaGUgcGVyY2VudCBvZiB0aGlzIG5vZGUgb2NjbHVkaW5nIGFub3RoZXIgbm9kZVxuICAgICAqL1xuICAgIGdldCBvY2NsdWRpbmdQZXJjZW50KCkge1xuICAgICAgICB0aGlzLl9jb21wdXRlT2NjbHVzaW9uKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX29jY2x1ZGluZ1BlcmNlbnRcbiAgICB9XG4gICAgcHJpdmF0ZSBfb2NjbHVkaW5nUGVyY2VudCA9IDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50IG9mIHRoaXMgbm9kZSBvY2NsdWRlZCBieSBhbm90aGVyIG5vZGVcbiAgICAgKi9cbiAgICBnZXQgb2NjbHVkZWRQZXJjZW50KCkge1xuICAgICAgICB0aGlzLl9jb21wdXRlT2NjbHVzaW9uKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX29jY2x1ZGVkUGVyY2VudFxuICAgIH1cbiAgICBwcml2YXRlIF9vY2NsdWRlZFBlcmNlbnQgPSAwXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgaGV1cmlzdGljIGZvciB2aWV3LXNpemUgbWF4aW1pemF0aW9uXG4gICAgICogKGF2ZXJhZ2UgZWRnZSBsZW5ndGggY29ycmVzcG9uZHMgYmV0dGVyIHdpdGggaW5uY3JlYXNpZyB2aXN1YWwgYXJlYVxuICAgICAqIGNvbXBhcmVkIHRvIGFyZWEgb2YgdGhlIHByb2plY3RlZCBib3VuZGluZy1ib3ggaW4gXG4gICAgICogY2FzZXMgd2hlcmUgdGhlIHVuZGVybHlpbmcgYXNwZWN0IHJhdGlvcyBhcmUgbm90IGZpeGVkKVxuICAgICAqL1xuICAgIHZpc3VhbEF2ZXJhZ2VFZGdlTGVuZ3RoKCkge1xuXG4gICAgfVxuXG59XG5cblxuLyoqXG4gKiBNYWludGFpbnMgY3VycmVudCAmIHRhcmdldCBzY2VuZWdyYXBoIHN0YXRlLFxuICogYW5kIGVmZmljaWVudGx5L3JlYWN0aXZlbHkgY29tcHV0ZSBzcGF0aWFsIG1ldHJpY3MgXG4gKiBiYXNlZCBvbiAqdGFyZ2V0KiAobm90IGN1cnJlbnQpIHNjZW5lZ3JhcGggc3RhdGUuIFxuICogXG4gKiBBbGwgbWV0cmljIHZhbHVlcyBzaG91bGQgYmUgdHJlYXRlZCBhcyByZWFkLW9ubHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTcGF0aWFsTWV0cmljczxOIGV4dGVuZHMgTm9kZTNEPU5vZGUzRD4ge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzeXN0ZW06RXRoZXJlYWxMYXlvdXRTeXN0ZW08Tj4sIHB1YmxpYyBub2RlOk4pIHt9XG5cbiAgICBwcml2YXRlIF9jYWNoZSA9IG5ldyBNZW1vaXphdGlvbkNhY2hlKClcbiAgICBcbiAgICBuZWVkc1VwZGF0ZSA9IHRydWVcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtZXRyaWNzLCBpZiBuZWNlc3NhcnlcbiAgICAgKi9cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2VcblxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1RhcmdldC5wYXJlbnQgPSB0aGlzLnRhcmdldC5wYXJlbnRcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNUYXJnZXQubG9jYWxNYXRyaXggPSB0aGlzLnRhcmdldC5sb2NhbE1hdHJpeFxuXG4gICAgICAgICAgICB0aGlzLnBhcmVudE1ldHJpY3M/LnVwZGF0ZSgpXG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZU1ldHJpY3M/LnVwZGF0ZSgpXG5cbiAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubm9kZSlcblxuICAgICAgICAgICAgaWYgKGFkYXB0ZXIpIHtcblxuICAgICAgICAgICAgICAgIGFkYXB0ZXIuX3VwZGF0ZSgpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlSW5uZXJCb3VuZHMoKVxuICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZVN0YXRlcygpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIF9jYWNoZWRJbm5lckJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2lubmVyQm91bmRzXG5cbiAgICAgICAgaWYgKHRoaXMubm9kZSAhPT0gdGhpcy5zeXN0ZW0udmlld05vZGUpIHtcbiAgICAgICAgICAgIGlubmVyLmNvcHkodGhpcy5pbnRyaW5zaWNCb3VuZHMpXG4gICAgICAgICAgICBjb25zdCBjaGlsZEJvdW5kcyA9IHRoaXMuX2NoaWxkQm91bmRzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5ib3VuZHNDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTWV0cmljcyA9IHRoaXMuc3lzdGVtLmdldE1ldHJpY3MoYylcbiAgICAgICAgICAgICAgICBjaGlsZE1ldHJpY3MuaW52YWxpZGF0ZVN0YXRlcygpXG4gICAgICAgICAgICAgICAgY2hpbGRCb3VuZHMuY29weShjaGlsZE1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgICAgICAgICAgY2hpbGRCb3VuZHMuYXBwbHlNYXRyaXg0KGNoaWxkTWV0cmljcy5yYXcubG9jYWxNYXRyaXgpXG4gICAgICAgICAgICAgICAgaW5uZXIudW5pb24oY2hpbGRCb3VuZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBpbm5lci5nZXRDZW50ZXIodGhpcy5faW5uZXJDZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSBpbm5lci5nZXRTaXplKHRoaXMuX2lubmVyU2l6ZSlcbiAgICAgICAgaWYgKHNpemUubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY29udGVudCBpcyBmbGF0LCBnaXZlIHNvbWUgdGhpY2tuZXNzIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIGJvdW5kcy1zaXplIG1lYW5pbmdmdWxseSBhZmZlY3RzIHNjYWxlXG4gICAgICAgICAgICBjb25zdCBzaXplRXBzaWxsb24gPSB0aGlzLnN5c3RlbS5lcHNpbGxvbk1ldGVyc1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNpemUueCkgPD0gc2l6ZUVwc2lsbG9uKSBzaXplLnggPSAoTWF0aC5zaWduKHNpemUueCkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2l6ZS55KSA8PSBzaXplRXBzaWxsb24pIHNpemUueSA9IChNYXRoLnNpZ24oc2l6ZS55KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwMDBcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzaXplLnopIDw9IHNpemVFcHNpbGxvbikge1xuICAgICAgICAgICAgICAgIC8vIGZvciB6IHNpemUsIG1ha2Ugc3VyZSBib3VuZHMgYXJlIG9ubHkgZXh0ZW5kIGJhY2t3YXJkcyBcbiAgICAgICAgICAgICAgICAvLyAodGhpcyB3YXksIHZpc3VhbC1ib3VuZHMgcmVtYWluIGFjY3VyYXRlKVxuICAgICAgICAgICAgICAgIHNpemUueiA9IChNYXRoLnNpZ24oc2l6ZS56KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwMDBcbiAgICAgICAgICAgICAgICBjZW50ZXIueiAtPSBzaXplRXBzaWxsb24gKiAxMDAwIC8gMlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5uZXIuc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbm5lclxuICAgIH0pXG4gICAgcHJpdmF0ZSBfY2hpbGRCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX2lubmVyQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbm5lckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW5uZXJTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFRoZSBib3VuZHMgb2YgdGhpcyBub2RlIGFuZCBub24tYWRhcHRpdmUgY2hpbGQgbm9kZXMgaW4gdGhlIGxvY2FsIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICovXG4gICAgZ2V0IGlubmVyQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMoKVxuICAgIH1cbiAgICBcbiAgICBnZXQgaW5uZXJDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyQ2VudGVyXG4gICAgfVxuXG4gICAgZ2V0IGlubmVyU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5pbm5lckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXJTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludHJpbnNpYyBib3VuZHMgb2YgdGhlIGdlb21ldHJ5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoaXMgbm9kZSAoZXhjbHVkaW5nIGNoaWxkIG5vZGVzKVxuICAgICAqL1xuICAgIGdldCBpbnRyaW5zaWNCb3VuZHMoKSA6IFJlYWRvbmx5PEJveDM+IHtcbiAgICAgICAgaWYgKHRoaXMuX2ludHJpbnNpY0JvdW5kc05lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5iaW5kaW5ncy5nZXRJbnRyaW5zaWNCb3VuZHModGhpcywgdGhpcy5faW50cmluc2ljQm91bmRzKVxuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzLmdldENlbnRlcih0aGlzLl9pbnRyaW5zaWNDZW50ZXIpXG4gICAgICAgICAgICB0aGlzLl9pbnRyaW5zaWNCb3VuZHMuZ2V0U2l6ZSh0aGlzLl9pbnRyaW5zaWNTaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRyaW5zaWNCb3VuZHNcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSA9IHRydWVcbiAgICBwcml2YXRlIF9pbnRyaW5zaWNCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX2ludHJpbnNpY0NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgXG4gICAgZ2V0IGludHJpbnNpY0NlbnRlcigpIHtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludHJpbnNpY0NlbnRlclxuICAgIH1cblxuICAgIGdldCBpbnRyaW5zaWNTaXplKCkge1xuICAgICAgICB0aGlzLmludHJpbnNpY0JvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5faW50cmluc2ljU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGUgaW50cmluc2ljIGJvdW5kcyBpbiBvcmRlciB0byBhbGxvdyBpdCB0byBiZSByZWNvbXB1dGVkXG4gICAgICovXG4gICAgaW52YWxpZGF0ZUludHJpbnNpY0JvdW5kcygpIHtcbiAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmJvdW5kc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZE1ldHJpY3MgPSB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKGMpXG4gICAgICAgICAgICBjaGlsZE1ldHJpY3MuaW52YWxpZGF0ZUludHJpbnNpY0JvdW5kcygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnZhbGlkYXRlSW5uZXJCb3VuZHMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWRJbm5lckJvdW5kcy5uZWVkc1VwZGF0ZSkgcmV0dXJuXG4gICAgICAgIHRoaXMuX2NhY2hlZE5vZGVDaGlsZHJlbi5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpcy5fY2FjaGVkQm91bmRzQ2hpbGRyZW4ubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX2NhY2hlZElubmVyQm91bmRzLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5ib3VuZHNDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRNZXRyaWNzID0gdGhpcy5zeXN0ZW0uZ2V0TWV0cmljcyhjKVxuICAgICAgICAgICAgY2hpbGRNZXRyaWNzLmludmFsaWRhdGVJbm5lckJvdW5kcygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGZhbHNlIGlmIHRoaXMgbm9kZSBkb2VzIG5vdCBjb250YWluIHRoZSBwYXNzZWQgbm9kZS5cbiAgICAgKiBJZiB0aGUgZ2l2ZW4gbm9kZSBpcyBhIGRlc2NlbmRlbnQgb2YgdGhpcyBub2RlLCByZXR1cm5zXG4gICAgICogdGhlIGNsb3Nlc3QgY2hpbGQgbm9kZS5cbiAgICAgKi9cbiAgICBjb250YWluc05vZGUobm9kZTpOKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgbGV0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKG5vZGUpIGFzIFNwYXRpYWxNZXRyaWNzPE4+fG51bGxcbiAgICAgICAgd2hpbGUgKHBhcmVudE1ldHJpY3MpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnRNZXRyaWNzLnBhcmVudE1ldHJpY3MgPT09IHRoaXMpIHJldHVybiBwYXJlbnRNZXRyaWNzLm5vZGVcbiAgICAgICAgICAgIHBhcmVudE1ldHJpY3MgPSBwYXJlbnRNZXRyaWNzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb250YWluZWRCeU5vZGUobm9kZTpOKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgbGV0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgd2hpbGUgKHBhcmVudE1ldHJpY3MpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnRNZXRyaWNzLm5vZGUgPT09IG5vZGUpIHJldHVybiBwYXJlbnRNZXRyaWNzLm5vZGVcbiAgICAgICAgICAgIHBhcmVudE1ldHJpY3MgPSBwYXJlbnRNZXRyaWNzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgbm9kZUNoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkTm9kZUNoaWxkcmVuKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkTm9kZUNoaWxkcmVuID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc3lzdGVtLmJpbmRpbmdzLmdldENoaWxkcmVuKHRoaXMsIHRoaXMuX25vZGVDaGlsZHJlbilcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vZGVDaGlsZHJlblxuICAgIH0pXG4gICAgcHJpdmF0ZSBfbm9kZUNoaWxkcmVuID0gbmV3IEFycmF5PE4+KClcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgc3BhdGlhbCBzdGF0ZSBmcm9tIHNwYXRpYWwgb3JpZW50YXRpb24gJiBib3VuZHNcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jb21wdXRlU3RhdGUgPSAoKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGxvY2FsTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICAgICAgY29uc3QgbG9jYWxPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgICAgIGNvbnN0IGxvY2FsUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBsb2NhbFNjYWxlID0gbmV3IFZlY3RvcjNcblxuICAgICAgICBjb25zdCB3b3JsZE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgICAgIGNvbnN0IHdvcmxkUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCB3b3JsZE9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cbiAgICAgICAgY29uc3Qgd29ybGRTY2FsZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAgICAgY29uc3Qgc3BhdGlhbENlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IHNwYXRpYWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3Qgc3BhdGlhbE9mZnNldCA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IGlubmVyT2Zmc2V0ID0gbmV3IFZlY3RvcjNcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZVN0YXRlKHRoaXM6U3BhdGlhbE1ldHJpY3M8Tj4sIHN0YXRlOk5vZGVTdGF0ZTxOPikge1xuXG4gICAgICAgICAgICBjb25zdCB1c2VDdXJyZW50ID0gc3RhdGUubW9kZSA9PT0gJ2N1cnJlbnQnXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm5vZGUpXG5cbiAgICAgICAgICAgIGxvY2FsT3JpZW50YXRpb24uY29weSggXG4gICAgICAgICAgICAgICAgKCB1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmVuYWJsZWQgJiYgYWRhcHRlcj8ub3JpZW50YXRpb24uY3VycmVudCA6XG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmVuYWJsZWQgJiYgYWRhcHRlcj8ub3JpZW50YXRpb24udGFyZ2V0XG4gICAgICAgICAgICAgICAgKSB8fCB0aGlzLnJhdy5sb2NhbE9yaWVudGF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzcGF0aWFsQm91bmRzID0gKHVzZUN1cnJlbnQgPyBcbiAgICAgICAgICAgICAgICBhZGFwdGVyPy5ib3VuZHMuZW5hYmxlZCAmJiBhZGFwdGVyPy5ib3VuZHMuY3VycmVudCA6XG4gICAgICAgICAgICAgICAgYWRhcHRlcj8uYm91bmRzLmVuYWJsZWQgJiYgYWRhcHRlcj8uYm91bmRzLnRhcmdldCkgLy98fCB0aGlzLnJhdy5zcGF0aWFsQm91bmRzXG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgICAgIHN0YXRlLnBhcmVudCA9IHBhcmVudE1ldHJpY3M/Lm5vZGUgPz8gbnVsbFxuXG4gICAgICAgICAgICBpZiAoc3BhdGlhbEJvdW5kcykge1xuICAgICAgICAgICAgICAgIHNwYXRpYWxCb3VuZHMuZ2V0Q2VudGVyKHNwYXRpYWxDZW50ZXIpXG4gICAgICAgICAgICAgICAgc3BhdGlhbEJvdW5kcy5nZXRTaXplKHNwYXRpYWxTaXplKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSB1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE1ldHJpY3M/LmN1cnJlbnQgOiBcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50TWV0cmljcz8udGFyZ2V0XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lckNlbnRlciA9IHRoaXMuaW5uZXJDZW50ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lclNpemUgPSB0aGlzLmlubmVyU2l6ZVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVwc2lsbG9uID0gdGhpcy5zeXN0ZW0uZXBzaWxsb25NZXRlcnNcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3BhdGlhbFNpemUueCkgPD0gc2l6ZUVwc2lsbG9uKSBzcGF0aWFsU2l6ZS54ID0gKE1hdGguc2lnbihzcGF0aWFsU2l6ZS54KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNwYXRpYWxTaXplLnkpIDw9IHNpemVFcHNpbGxvbikgc3BhdGlhbFNpemUueSA9IChNYXRoLnNpZ24oc3BhdGlhbFNpemUueSkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMFxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzcGF0aWFsU2l6ZS56KSA8PSBzaXplRXBzaWxsb24pIHNwYXRpYWxTaXplLnogPSAoTWF0aC5zaWduKHNwYXRpYWxTaXplLnopIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTBcblxuICAgICAgICAgICAgICAgIHdvcmxkU2NhbGUuY29weShzcGF0aWFsU2l6ZSlcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5uZXJTaXplLngpID49IHNpemVFcHNpbGxvbikgd29ybGRTY2FsZS54IC89IGlubmVyU2l6ZS54XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGlubmVyU2l6ZS55KSA+PSBzaXplRXBzaWxsb24pIHdvcmxkU2NhbGUueSAvPSBpbm5lclNpemUueVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbm5lclNpemUueikgPj0gc2l6ZUVwc2lsbG9uKSB3b3JsZFNjYWxlLnogLz0gaW5uZXJTaXplLnpcblxuICAgICAgICAgICAgICAgIHdvcmxkT3JpZW50YXRpb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyhzdGF0ZS5vdXRlck9yaWVudGF0aW9uLCBsb2NhbE9yaWVudGF0aW9uKS5ub3JtYWxpemUoKVxuICAgICAgICAgICAgICAgIHNwYXRpYWxPZmZzZXQuY29weShzcGF0aWFsQ2VudGVyKS5hcHBseVF1YXRlcm5pb24od29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICBpbm5lck9mZnNldC5jb3B5KGlubmVyQ2VudGVyKS5tdWx0aXBseSh3b3JsZFNjYWxlKS5hcHBseVF1YXRlcm5pb24od29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICB3b3JsZFBvc2l0aW9uLmNvcHkoc3RhdGUub3V0ZXJPcmlnaW4pLmFkZChzcGF0aWFsT2Zmc2V0KS5zdWIoaW5uZXJPZmZzZXQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd29ybGRNYXRyaXguY29tcG9zZSh3b3JsZFBvc2l0aW9uLHdvcmxkT3JpZW50YXRpb24sd29ybGRTY2FsZSlcblxuICAgICAgICAgICAgICAgIHBhcmVudFN0YXRlID8gICAgXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsTWF0cml4Lm11bHRpcGx5TWF0cmljZXMocGFyZW50U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB3b3JsZE1hdHJpeCkgOlxuICAgICAgICAgICAgICAgICAgICBsb2NhbE1hdHJpeC5jb3B5KHdvcmxkTWF0cml4KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgbG9jYWxQb3NpdGlvbi5jb3B5KHRoaXMucmF3LmxvY2FsUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgbG9jYWxTY2FsZS5jb3B5KHRoaXMucmF3LmxvY2FsU2NhbGUpXG4gICAgICAgICAgICAgICAgbG9jYWxNYXRyaXguY29tcG9zZShsb2NhbFBvc2l0aW9uLCBsb2NhbE9yaWVudGF0aW9uLCBsb2NhbFNjYWxlKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSBjaGFuZ2VzXG4gICAgICAgICAgICBzdGF0ZS5sb2NhbE1hdHJpeCA9IGxvY2FsTWF0cml4XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgfVxuICAgIH0pKClcblxuICAgIGludmFsaWRhdGVTdGF0ZXMoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFJhd1N0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRDdXJyZW50U3RhdGUubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX2NhY2hlZFRhcmdldFN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzW0ludGVybmFsUmF3U3RhdGVdLmludmFsaWRhdGUoKVxuICAgICAgICB0aGlzW0ludGVybmFsQ3VycmVudFN0YXRlXS5pbnZhbGlkYXRlKClcbiAgICAgICAgdGhpc1tJbnRlcm5hbFRhcmdldFN0YXRlXS5pbnZhbGlkYXRlKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmF3IG5vZGUgc3RhdGUsIGJlZm9yZSBhbnkgdXBkYXRlLCB3aXRoIGFuY2VzdG9yIHRhcmdldCBzdGF0ZXNcbiAgICAgKi9cbiAgICBnZXQgcmF3KCkgOiBSZWFkb25seTxOb2RlU3RhdGU8Tj4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFJhd1N0YXRlKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkUmF3U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uYmluZGluZ3MuZ2V0U3RhdGUodGhpcywgdGhpc1tJbnRlcm5hbFJhd1N0YXRlXSlcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxSYXdTdGF0ZV1cbiAgICB9KTtcbiAgICBbSW50ZXJuYWxSYXdTdGF0ZV06Tm9kZVN0YXRlPE4+ID0gbmV3IE5vZGVTdGF0ZSgndGFyZ2V0JywgdGhpcylcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXRlXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZEN1cnJlbnRTdGF0ZSgpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZEN1cnJlbnRTdGF0ZSA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcHV0ZVN0YXRlKHRoaXNbSW50ZXJuYWxDdXJyZW50U3RhdGVdKVxuICAgIH0pO1xuICAgIFtJbnRlcm5hbEN1cnJlbnRTdGF0ZV06Tm9kZVN0YXRlPE4+ID0gbmV3IE5vZGVTdGF0ZSgnY3VycmVudCcsIHRoaXMpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IHN0YXRlXG4gICAgICovXG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVGFyZ2V0U3RhdGUoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRUYXJnZXRTdGF0ZSA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcHV0ZVN0YXRlKHRoaXNbSW50ZXJuYWxUYXJnZXRTdGF0ZV0pXG4gICAgfSk7XG4gICAgW0ludGVybmFsVGFyZ2V0U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ3RhcmdldCcsIHRoaXMpXG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmV2aW91cyB0YXJnZXQgc3RhdGVcbiAgICAgKi9cbiAgICBnZXQgcHJldmlvdXNUYXJnZXQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgcmV0dXJuIHRoaXNbSW50ZXJuYWxQcmV2aW91c1RhcmdldFN0YXRlXVxuICAgIH1cbiAgICBbSW50ZXJuYWxQcmV2aW91c1RhcmdldFN0YXRlXTpOb2RlU3RhdGU8Tj4gPSBuZXcgTm9kZVN0YXRlKCd0YXJnZXQnLCB0aGlzKVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJlZmVyZW5jZSBub2RlIFxuICAgICAqL1xuICAgIGdldCByZWZlcmVuY2VOb2RlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubm9kZSlcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXI/LnJlZmVyZW5jZU5vZGUgPT09IHVuZGVmaW5lZCA/IFxuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlIDogYWRhcHRlci5yZWZlcmVuY2VOb2RlXG4gICAgfVxuICAgIFxuICAgIGdldCByZWZlcmVuY2VNZXRyaWNzKCkgOiBTcGF0aWFsTWV0cmljczxOPiB8IG51bGwgeyAgICBcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcj8ucmVmZXJlbmNlTm9kZSkgcmV0dXJuIHRoaXMuc3lzdGVtLmdldE1ldHJpY3MoYWRhcHRlci5yZWZlcmVuY2VOb2RlKVxuICAgICAgICBsZXQgbWV0cmljcyA9IHRoaXMucGFyZW50Tm9kZSA/IHRoaXMuc3lzdGVtLmdldE1ldHJpY3ModGhpcy5wYXJlbnROb2RlKSA6IG51bGxcbiAgICAgICAgcmV0dXJuIG1ldHJpY3NcbiAgICB9XG5cbiAgICAvKiogXG4gICAgICogVGhlIHBhcmVudCBub2RlXG4gICAgICovXG4gICAgZ2V0IHBhcmVudE5vZGUoKSA6IE58bnVsbCB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnBhcmVudCBcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIHBhcmVudCBtZXRyaWNzXG4gICAgICovXG4gICAgZ2V0IHBhcmVudE1ldHJpY3MoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZVxuICAgICAgICBpZiAoIXBhcmVudCkgcmV0dXJuIG51bGxcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtLmdldE1ldHJpY3MocGFyZW50KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCBub2RlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGlzIGJvdW5kaW5nIGNvbnRleHRcbiAgICAgKi9cbiAgICBnZXQgYm91bmRzQ2hpbGRyZW4oKSA6IFJlYWRvbmx5QXJyYXk8Tj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkQm91bmRzQ2hpbGRyZW4oKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRCb3VuZHNDaGlsZHJlbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlQ2hpbGRyZW4gPSB0aGlzLm5vZGVDaGlsZHJlblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuX2NoaWxkcmVuXG4gICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKGNoaWxkKVxuICAgICAgICAgICAgaWYgKG1ldHJpY3MuaXNBZGFwdGl2ZSkgY29udGludWVcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuXG4gICAgfSlcbiAgICBwcml2YXRlIF9jaGlsZHJlbiA9IFtdIGFzIE5bXVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IGlzQWRhcHRpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbS5ub2RlQWRhcHRlcnMuaGFzKHRoaXMubm9kZSlcbiAgICB9XG4gICAgXG59XG5cbiIsImltcG9ydCB7IE5vZGUzRCB9IGZyb20gJy4vRXRoZXJlYWxMYXlvdXRTeXN0ZW0nXG5pbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uLCBCb3gzLCBNYXRoVXRpbHMsIHJhbmRvbVNlbGVjdCwgcmFuZG9tUXVhdGVybmlvbiwgZ2F1c3NpYW4sIGxldnl9IGZyb20gJy4vbWF0aC11dGlscydcbmltcG9ydCB7IFNwYXRpYWxBZGFwdGVyIH0gZnJvbSAnLi9TcGF0aWFsQWRhcHRlcidcbmltcG9ydCB7IE9wdGltaXplckNvbmZpZyB9IGZyb20gJy4vU3BhdGlhbE9wdGltaXplcidcbmltcG9ydCB7IFxuICAgIE9iamVjdGl2ZU9wdGlvbnMsIFxuICAgIFZlY3RvcjNTcGVjLCAvL1JlbGF0aXZlUG9zaXRpb25Db25zdHJhaW50IGFzIFJlbGF0aXZlUG9zaXRpb25Db25zdHJhaW50LCBcbiAgICBRdWF0ZXJuaW9uU3BlYywgUmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnQgYXMgUmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnQsXG4gICAgV29ybGRTY2FsZUNvbnN0cmFpbnQgYXMgV29ybGRTY2FsZUNvbnN0cmFpbnQsIEFzcGVjdENvbnN0cmFpbnQsXG4gICAgU3BhdGlhbEJvdW5kc1NwZWMsIFNwYXRpYWxCb3VuZHNDb25zdHJhaW50LFxuICAgIFZpc3VhbEJvdW5kc1NwZWMsIFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQsIFxuICAgIFZpc3VhbE1heGltaXplT2JqZWN0aXZlIGFzIE1heGltaXplT2JqZWN0aXZlLFxuICAgIFNwYXRpYWxPYmplY3RpdmUsIE1hZ25ldGl6ZU9iamVjdGl2ZSwgTWluaW1pemVPY2NsdXNpb25PYmplY3RpdmVcbn0gZnJvbSAnLi9TcGF0aWFsT2JqZWN0aXZlJ1xuXG5cbi8qKlxuICogRGVmaW5lcyBzcGF0aWFsIGxheW91dCBjb25zdHJhaW50cy9nb2Fsc1xuICovXG5leHBvcnQgY2xhc3MgU3BhdGlhbExheW91dCBleHRlbmRzIE9wdGltaXplckNvbmZpZyB7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYWRhcHRlcjpTcGF0aWFsQWRhcHRlcjxhbnk+KSB7XG4gICAgICAgIHN1cGVyKClcbiAgICB9XG4gICAgXG4gICAgcmVsYXRpdmVUb2xlcmFuY2U/Om51bWJlclxuICAgIGFic29sdXRlVG9sZXJhbmNlID0ge1xuICAgICAgICBtZXRlcjogJzRtbScsXG4gICAgICAgIHBpeGVsOiAnNHB4JyxcbiAgICAgICAgZGVncmVlOiAnMC4wMDJkZWcnLFxuICAgICAgICByYXRpbzogMC4wMDVcbiAgICB9XG5cbiAgICBnZXRDb21wdXRlZEFic29sdXRlVG9sZXJhbmNlKHR5cGU6IGtleW9mIHR5cGVvZiBTcGF0aWFsTGF5b3V0LnByb3RvdHlwZS5hYnNvbHV0ZVRvbGVyYW5jZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLnN5c3RlbS5tZWFzdXJlTnVtYmVyKHRoaXMuYWJzb2x1dGVUb2xlcmFuY2VbdHlwZV0sIHR5cGUpXG4gICAgfVxuXG4gICAgc3VjY2Vzc1JhdGUgPSAwXG5cbiAgICByZXN0YXJ0UmF0ZSA9IDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3RpdmVzIGFwcGxpZWQgdG8gdGhpcyBsYXlvdXRcbiAgICAgKi9cbiAgICBvYmplY3RpdmVzID0gbmV3IEFycmF5PFNwYXRpYWxPYmplY3RpdmU+KCkgYXMgUmVhZG9ubHlBcnJheTxTcGF0aWFsT2JqZWN0aXZlPlxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSByZWZlcmVuY2UgZnJhbWUgZm9yIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBjb25zdHJhaW50cy4gXG4gICAgICogaWYgbm90IGRlZmluZWQsIHRoZSBwYXJlbnQgbm9kZSBiZWNvbWVzIHRoZSByZWZlcmVuY2UgZnJhbWUuIFxuICAgICAqL1xuICAgIHJlZmVyZW5jZU5vZGU/Ok5vZGUzRHxudWxsID0gbnVsbFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIGEgcmVmZXJlbmNlIGZyYW1lIGZvciBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHJlZmVyZW5jZSBcbiAgICAgKi9cbiAgICBwb3NlUmVsYXRpdmVUbyhyZWZlcmVuY2U/Ok5vZGUzRHxudWxsKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlTm9kZSA9IHJlZmVyZW5jZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIG1heGltaXplKG9wdHM/OlBhcnRpYWw8TWF4aW1pemVPYmplY3RpdmU+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWF4aW1pemVPYmplY3RpdmUgPSBcbiAgICAgICAgICAgIHRoaXMubWF4aW1pemVPYmplY3RpdmUgPz8gbmV3IE1heGltaXplT2JqZWN0aXZlKHRoaXMpXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC0xMDAwXG4gICAgICAgIG9iai5yZWxhdGl2ZVRvbGVyYW5jZSA9IDAuOTlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaixvcHRzKVxuICAgIH1cbiAgICBtYXhpbWl6ZU9iamVjdGl2ZT86TWF4aW1pemVPYmplY3RpdmVcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHJlbGF0aXZlIG9yaWVudGF0aW9uIGNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBvcmllbnRhdGlvbihzcGVjOlF1YXRlcm5pb25TcGVjLCBvcHRzPzpQYXJ0aWFsPFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm9yaWVudGF0aW9uQ29uc3RyYWludCA9IHRoaXMub3JpZW50YXRpb25Db25zdHJhaW50ID8/IG5ldyBSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gLTk5OVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cbiAgICBvcmllbnRhdGlvbkNvbnN0cmFpbnQ/OlJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50XG5cbiAgICAvKipcbiAgICAqIEFkZCBhbiBhc3BlY3QtcmF0aW8gY29uc3RyYWludFxuICAgICogQ29uc3RyYWluIG5vcm1hbGl6ZWQgd29ybGQgc2NhbGUgdG8gcHJlc2VydmVcbiAgICAqIHh5eiBvciB4eSBhc3BlY3QgcmF0aW9zXG4gICAgKi9cbiAgICBrZWVwQXNwZWN0KG1vZGU6J3h5eid8J3h5Jz0gJ3h5eicsIG9wdHM/OlBhcnRpYWw8QXNwZWN0Q29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5rZWVwQXNwZWN0Q29uc3RyYWludCA9IHRoaXMua2VlcEFzcGVjdENvbnN0cmFpbnQgPz8gbmV3IEFzcGVjdENvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLm1vZGUgPSBtb2RlXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC05OThcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAga2VlcEFzcGVjdENvbnN0cmFpbnQ/OkFzcGVjdENvbnN0cmFpbnRcblxuICAgIC8vIC8qKlxuICAgIC8vICAqIEFkZCBhIHJlbGF0aXZlIHBvc2l0aW9uIGNvbnN0cmFpbnRcbiAgICAvLyAgKi9cbiAgICAvLyBwb3NpdGlvbihzcGVjOlZlY3RvcjNTcGVjLCBvcHRzPzpQYXJ0aWFsPFJlbGF0aXZlUG9zaXRpb25Db25zdHJhaW50Pikge1xuICAgIC8vICAgICBjb25zdCBvYmogPSB0aGlzLnBvc2l0aW9uQ29uc3RyYWludCA9IHRoaXMucG9zaXRpb25Db25zdHJhaW50ID8/IG5ldyBSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCh0aGlzKVxuICAgIC8vICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAvLyAgICAgb2JqLnByaW9yaXR5ID0gLTJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICAvLyB9XG4gICAgLy8gcG9zaXRpb25Db25zdHJhaW50PzpSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgd29ybGQgc2NhbGUgY29uc3RyYWludFxuICAgICAqL1xuICAgIHNjYWxlKHNwZWM6VmVjdG9yM1NwZWMsIG9wdHM/OlBhcnRpYWw8V29ybGRTY2FsZUNvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuc2NhbGVDb25zdHJhaW50ID0gdGhpcy5zY2FsZUNvbnN0cmFpbnQgPz8gbmV3IFdvcmxkU2NhbGVDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIG9iai5zcGVjID0gc3BlY1xuICAgICAgICBvYmoucHJpb3JpdHkgPSAtMlxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cbiAgICBzY2FsZUNvbnN0cmFpbnQ/OldvcmxkU2NhbGVDb25zdHJhaW50XG5cblxuICAgIGJvdW5kcyhzcGVjOlNwYXRpYWxCb3VuZHNTcGVjLCBvcHRzPzpQYXJ0aWFsPFNwYXRpYWxCb3VuZHNDb25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmJvdW5kc0NvbnN0cmFpbnQgPSAgdGhpcy5ib3VuZHNDb25zdHJhaW50ID8/IG5ldyBTcGF0aWFsQm91bmRzQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgYm91bmRzQ29uc3RyYWludD86U3BhdGlhbEJvdW5kc0NvbnN0cmFpbnRcblxuICAgIHZpc3VhbE9yaWVudGF0aW9uKHNwZWM6UXVhdGVybmlvblNwZWMsIG9wdHM/Ok9iamVjdGl2ZU9wdGlvbnMpIHtcblxuICAgIH1cblxuICAgIHZpc3VhbEJvdW5kcyhzcGVjOlZpc3VhbEJvdW5kc1NwZWMsIG9wdHM/OlBhcnRpYWw8VmlzdWFsQm91bmRzQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3QgbWV0ZXJDb25zdHJhaW50ID0gdGhpcy52aXN1YWxCb3VuZHNNZXRlckNvbnN0cmFpbnQgPSBcbiAgICAgICAgICAgIHRoaXMudmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50ID8/IG5ldyBWaXN1YWxCb3VuZHNDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIGNvbnN0IHBpeGVsQ29uc3RyYWludCA9IHRoaXMudmlzdWFsQm91bmRzUGl4ZWxDb25zdHJhaW50ID0gXG4gICAgICAgICAgICB0aGlzLnZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludCA/PyBuZXcgVmlzdWFsQm91bmRzQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBtZXRlckNvbnN0cmFpbnQuc3BlYyA9IHNwZWNcbiAgICAgICAgbWV0ZXJDb25zdHJhaW50LnR5cGUgPSAnbWV0ZXInXG4gICAgICAgIHBpeGVsQ29uc3RyYWludC5zcGVjID0gc3BlY1xuICAgICAgICBwaXhlbENvbnN0cmFpbnQudHlwZSA9ICdwaXhlbCdcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG1ldGVyQ29uc3RyYWludCwgb3B0cykuYWRkT2JqZWN0aXZlKHBpeGVsQ29uc3RyYWludCwgb3B0cylcbiAgICB9XG4gICAgdmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50PzpWaXN1YWxCb3VuZHNDb25zdHJhaW50XG4gICAgdmlzdWFsQm91bmRzUGl4ZWxDb25zdHJhaW50PzpWaXN1YWxCb3VuZHNDb25zdHJhaW50XG5cbiAgICBtYWduZXRpemUob3B0cz86UGFydGlhbDxNYWduZXRpemVPYmplY3RpdmU+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWFnbmV0aXplT2JqZWN0aXZlID0gdGhpcy5tYWduZXRpemVPYmplY3RpdmUgPz8gbmV3IE1hZ25ldGl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAxMDAwXG4gICAgICAgIG9iai5yZWxhdGl2ZVRvbGVyYW5jZSA9IDAuOTlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgbWFnbmV0aXplT2JqZWN0aXZlPzpNYWduZXRpemVPYmplY3RpdmVcblxuICAgIGF2b2lkT2NjbHVzaW9uKG9wdHM/OlBhcnRpYWw8TWluaW1pemVPY2NsdXNpb25PYmplY3RpdmU+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWluaW1pemVPY2NsdXNpb25PYmplY3RpdmUgPSBcbiAgICAgICAgICAgIHRoaXMubWluaW1pemVPY2NsdXNpb25PYmplY3RpdmUgPz8gbmV3IE1hZ25ldGl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAxMVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cbiAgICBtaW5pbWl6ZU9jY2x1c2lvbk9iamVjdGl2ZT86TWFnbmV0aXplT2JqZWN0aXZlXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gb2JqZWN0aXZlIHdpdGggaXQncyBvcHRpb25zLlxuICAgICAqIElmIHRoZSBvYmplY3RpdmUgaW5zdGFuY2UgaXMgYWxyZWFkeSBwcmVzZW50LCBpdCdzIG5vdCBhZGRlZCBhZ2Fpbi5cbiAgICAgKiBcbiAgICAgKiBBZnRlciBhbiBvYmplY3RpdmUgaXMgYWRkZWQsIHRoZSBvYmplY3RpdmUgbGlzdCBpcyBzdGFibHkgc29ydGVkLCBcbiAgICAgKiBhY2NvcmRpbmcgdG8gdGhlIHByaW9yaXR5IG9mIGVhY2ggb2JqZWN0aXZlLlxuICAgICAqL1xuICAgIGFkZE9iamVjdGl2ZTxUIGV4dGVuZHMgU3BhdGlhbE9iamVjdGl2ZT4ob2JqOlQsIG9wdHM/OlBhcnRpYWw8VD4pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvYmosIG9wdHMpXG4gICAgICAgIGlmICh0aGlzLm9iamVjdGl2ZXMuaW5kZXhPZihvYmopID09PSAtMSkgXG4gICAgICAgICAgICAodGhpcy5vYmplY3RpdmVzIGFzIEFycmF5PFNwYXRpYWxPYmplY3RpdmU+KS5wdXNoKG9iailcbiAgICAgICAgdGhpcy5zb3J0T2JqZWN0aXZlcygpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuXG4gICAgLyoqXG4gICAgICogVGhlIHNvbHV0aW9ucyBiZWluZyBleHBsb3JlZCBmb3IgdGhpcyBsYXlvdXRcbiAgICAgKi9cbiAgICBzb2x1dGlvbnMgPSBuZXcgQXJyYXk8TGF5b3V0U29sdXRpb24+KClcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IG9wdGltaXphdGlvbiBpdGVyYXRpb25cbiAgICAgKi9cbiAgICBpdGVyYXRpb24gPSAwXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGlzIGxheW91dCBoYXMgYSB2YWxpZCBzb2x1dGlvblxuICAgICAqL1xuICAgIGdldCBoYXNWYWxpZFNvbHV0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb2x1dGlvbnNbMF0/LmlzRmVhc2libGUgPT09IHRydWVcbiAgICB9XG5cbiAgICBwcml2YXRlIF9wcmlvcml0eVNvcnQoYTpTcGF0aWFsT2JqZWN0aXZlLGI6U3BhdGlhbE9iamVjdGl2ZSkge1xuICAgICAgICBpZiAoYS5wcmlvcml0eSA9PT0gYi5wcmlvcml0eSkgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4XG4gICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eVxuICAgIH1cblxuICAgIC8qKiBzdGFibGUtc29ydCBvYmplY3RpdmVzIGJ5IHByaW9yaXR5ICovXG4gICAgc29ydE9iamVjdGl2ZXMoKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdGl2ZXMgPSB0aGlzLm9iamVjdGl2ZXMgYXMgQXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb2JqZWN0aXZlcykgby5pbmRleCA9IGluZGV4KytcbiAgICAgICAgb2JqZWN0aXZlcy5zb3J0KHRoaXMuX3ByaW9yaXR5U29ydClcbiAgICB9XG5cbiAgICBiZXN0U29sdXRpb24hIDogTGF5b3V0U29sdXRpb25cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBiZXN0IHNjb3JlcyBhbmQgc29ydCBzb2x1dGlvbnNcbiAgICAgKi9cbiAgICBzb3J0U29sdXRpb25zKCkge1xuICAgICAgICB0aGlzLnNvbHV0aW9ucy5zb3J0KHRoaXMuY29tcGFyZVNvbHV0aW9ucylcbiAgICAgICAgdGhpcy5iZXN0U29sdXRpb24gPSB0aGlzLnNvbHV0aW9uc1swXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVhY2ggb2JqZWN0aXZlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBzY2FsYXIgdmFsdWUgXG4gICAgICogdGhhdCBpbmNyZWFzZXMgaW4gY29ycmVsYXRpb24gd2l0aCBpbXByb3ZlZCBmaXRuZXNzLiBcbiAgICAgKiBcbiAgICAgKiBUaGUgZml0bmVzcyB2YWx1ZSBkb2VzIG5vdCBuZWVkIHRvIGJlIG5vcm1hbGl6ZWQsIGFzIFxuICAgICAqIGluZGl2aWR1YWwgb2JqZWN0aXZlcyBhcmUgbm90IHdlaWdodGVkIGRpcmVjdGx5IGFnYWluc3RcbiAgICAgKiBvbmUgYW5vdGhlci4gUmF0aGVyLCBzb2x1dGlvbnMgYXJlIHJhbmtlZCBieSBwcmVmZXJyaW5nIFxuICAgICAqIHRoZSBzb2x1dGlvbiB0aGF0IGhhcyB0aGUgaGlnaGVzdCBzY29yZSAod2l0aGluIHRvbGVyYW5jZSlcbiAgICAgKiBvZiBlYWNoIG9iamVjdGl2ZSwgaW4gb3JkZXIgb2Ygb2JqZWN0aXZlIHByaW9yaXR5LiBcbiAgICAgKiBcbiAgICAgKiBJZiBvbmUgc29sdXRpb24gaXMgZmVhc2libGUgKG5vIG5lZ2F0aXZlIHNjb3JlcykgYW5kIHRoZSBcbiAgICAgKiBvdGhlciBzb2x0aW9uIGlzbid0LCB0aGUgZmVhc2libGUgb25lIGlzIGFsd2F5cyByYW5rZWQgaGlnaGVyLiBcbiAgICAgKiBcbiAgICAgKiBJbiBhbGwgb3RoZXIgY2FzZXMsIHNvbHV0aW9ucyBhcmUgY29tcGFyZWQgYnkgZXhhbWluaW5nXG4gICAgICogdGhlaXIgb2JqZWN0aXZlIHNjb3JlcyBzZXF1ZW50aWFsbHk6XG4gICAgICogXG4gICAgICogSWYgYXQgYW55IHBvaW50IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gc2NvcmVzIGlzIGxhcmdlciBcbiAgICAgKiB0aGFuIHRoZSB0b2xlcmFuY2UgZm9yIGEgZ2l2ZW4gb2JqZWN0aXZlLCB0aGUgdHdvIHNvbHV0aW9ucyBcbiAgICAgKiB3aWxsIGJlIHJhbmtlZCBieSB0aGF0IG9iamVjdGl2ZS4gXG4gICAgICogXG4gICAgICogSWYgYW55IHR3byBzb2x1dGlvbnMgYXJlIHdpdGhpbiByZWxhdGl2ZSB0b2xlcmFuY2UgXG4gICAgICogb2Ygb25lIGFub3RoZXIgZm9yIGFsbCBvYmplY3RpdmVzLCB0aG9zZSB0d28gd2lsbCBiZVxuICAgICAqIGNvbXBhcmVkIHRvIG9uZSBhbm90aGVyIGJ5IHRoZSBsb3dlc3QgcHJpb3JpdHkgb2JqZWN0aXZlXG4gICAgICogXG4gICAgICogSWYgZWl0aGVyIHNvbHV0aW9uIGJyZWFrcyBjb25zdHJhaW50cywgdGhlblxuICAgICAqIHRoZSBvbmUgd2l0aCB0aGUgbG93ZXN0IHBlbmFsdHkgaXMgcmFua2VkIGhpZ2hlclxuICAgICAqL1xuICAgIGNvbXBhcmVTb2x1dGlvbnMgPSAoYTpMYXlvdXRTb2x1dGlvbiwgYjpMYXlvdXRTb2x1dGlvbikgPT4ge1xuXG4gICAgICAgIGNvbnN0IGFNaW4gPSBhLmJvdW5kcy5taW5cbiAgICAgICAgY29uc3QgYU1heCA9IGEuYm91bmRzLm1heFxuICAgICAgICBpZiAoaXNOYU4oYU1pbi54KXx8aXNOYU4oYU1pbi55KXx8aXNOYU4oYU1pbi56KXx8aXNOYU4oYU1heC54KXx8aXNOYU4oYU1heC55KXx8aXNOYU4oYU1heC56KSlcbiAgICAgICAgICAgIHJldHVybiAxXG5cbiAgICAgICAgY29uc3Qgb2JqZWN0aXZlcyA9IHRoaXMub2JqZWN0aXZlc1xuICAgICAgICBpZiAoYS5zY29yZXMubGVuZ3RoIDwgb2JqZWN0aXZlcy5sZW5ndGgpIHJldHVybiAxXG4gICAgICAgIGlmIChiLnNjb3Jlcy5sZW5ndGggPCBvYmplY3RpdmVzLmxlbmd0aCkgcmV0dXJuIC0xXG5cbiAgICAgICAgY29uc3QgYUZlYXNpYmxlID0gYS5pc0ZlYXNpYmxlXG4gICAgICAgIGNvbnN0IGJGZWFzaWJsZSA9IGIuaXNGZWFzaWJsZVxuICAgICAgICBpZiAoYUZlYXNpYmxlICYmICFiRmVhc2libGUpIHJldHVybiAtMVxuICAgICAgICBpZiAoYkZlYXNpYmxlICYmICFhRmVhc2libGUpIHJldHVybiAxXG5cbiAgICAgICAgbGV0IHJhbmsgPSAwXG4gICAgICAgIFxuICAgICAgICBjb25zdCBiZXN0U2NvcmVzID0gdGhpcy5zb2x1dGlvbnNbMF0uc2NvcmVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2NvcmVBID0gYS5zY29yZXNbaV0gXG4gICAgICAgICAgICBjb25zdCBzY29yZUIgPSBiLnNjb3Jlc1tpXSBcbiAgICAgICAgICAgIGlmIChpc05hTihzY29yZUEpKSByZXR1cm4gMVxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjb3JlQikpIHJldHVybiAtMVxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0aXZlID0gb2JqZWN0aXZlc1tpXVxuICAgICAgICAgICAgY29uc3Qgb1JlbFRvbCA9IG9iamVjdGl2ZS5jb21wdXRlZFJlbGF0aXZlVG9sZXJhbmNlXG4gICAgICAgICAgICBjb25zdCBvQWJzVG9sID0gb2JqZWN0aXZlLmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2VcbiAgICAgICAgICAgIGNvbnN0IGJlc3QgPSBNYXRoLm1heChiZXN0U2NvcmVzW2ldLCBzY29yZUEsIHNjb3JlQilcbiAgICAgICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IE1hdGgubWluKGJlc3QgLSBNYXRoLmFicyhiZXN0KSAqIG9SZWxUb2wsIC1vQWJzVG9sKVxuICAgICAgICAgICAgaWYgKHNjb3JlQSA8IHRvbGVyYW5jZSB8fCBzY29yZUIgPCB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RpdmUuc29ydEJsYW1lKytcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcmVCIC0gc2NvcmVBIC8vIHJhbmsgYnkgaGlnaGVzdCBzY29yZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjb3JlQiAtIHNjb3JlQSAhPT0gMCkgcmFuayA9IHNjb3JlQiAtIHNjb3JlQVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYWxsIHNjb3JlcyBhcmUgd2l0aGluIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBvbmUgYW5vdGhlcixcbiAgICAgICAgLy8gc29ydCBieSBsb3dlc3QgcHJpb3JpdHkgc2NvcmVcbiAgICAgICAgcmV0dXJuIHJhbmtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YXRpb25TdHJhdGVneSB7dHlwZTpzdHJpbmcsIHN0ZXBTaXplOiBudW1iZXJ9XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRTb2x1dGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXlvdXQ/OlNwYXRpYWxMYXlvdXQpIHsgXG4gICAgICAgIGlmIChsYXlvdXQpIHRoaXMubGF5b3V0ID0gbGF5b3V0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxheW91dCBhc3NvY2lhdGVkIHdpdGggdGhpcyBzb2x1dGlvblxuICAgICAqL1xuICAgIGxheW91dDogU3BhdGlhbExheW91dCA9IHVuZGVmaW5lZCBhcyBhbnlcblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXlvdXQgb3JpZW50YXRpb24gKHJlbGF0aXZlIHRvIHBhcmVudCBvcmllbnRhdGlvbilcbiAgICAgKi9cbiAgICBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGF5b3V0IGJvdW5kcyAod29ybGQgdW5pdHMpXG4gICAgICovXG4gICAgYm91bmRzID0gbmV3IEJveDNcblxuXG4gICAgZ2V0IGFzcGVjdFBlbmFsdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3Jlc1t0aGlzLmxheW91dC5vYmplY3RpdmVzLmluZGV4T2YodGhpcy5sYXlvdXQua2VlcEFzcGVjdENvbnN0cmFpbnQhKV18fDBcbiAgICB9XG5cbiAgICBnZXQgb3JpZW50YXRpb25QZW5hbHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29yZXNbdGhpcy5sYXlvdXQub2JqZWN0aXZlcy5pbmRleE9mKHRoaXMubGF5b3V0Lm9yaWVudGF0aW9uQ29uc3RyYWludCEpXXx8MFxuICAgIH1cblxuICAgIGdldCBzcGF0aWFsQm91bmRzUGVuYWx0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzW3RoaXMubGF5b3V0Lm9iamVjdGl2ZXMuaW5kZXhPZih0aGlzLmxheW91dC5ib3VuZHNDb25zdHJhaW50ISldfHwwXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdGl2ZXMgZml0bmVzcyBzY29yZXMgZm9yIHRoaXMgc29sdXRpb25cbiAgICAgKiAob25lIGZvciBlYWNoIG9iamVjdGl2ZSwgaGlnaGVyIGlzIGJldHRlcilcbiAgICAgKi9cbiAgICBzY29yZXMgPSBbXSBhcyBudW1iZXJbXVxuXG4gICAgLyoqXG4gICAgICogQWxsIGNvbnN0cmFpbnRzIGFyZSBzYXRpc2ZpZWRcbiAgICAgKi9cbiAgICBpc0ZlYXNpYmxlID0gZmFsc2VcbiAgICBcblxuICAgIG11dGF0aW9uU3RyYXRlZ2llcyA9IFtcbiAgICAgICAge3R5cGU6J3JvdGF0ZScsIHN0ZXBTaXplOiAwLjF9LFxuICAgICAgICB7dHlwZTonY2VudGVyJywgc3RlcFNpemU6IDAuMX0sXG4gICAgICAgIHt0eXBlOidzaXplJywgc3RlcFNpemU6IDAuMX0sXG4gICAgICAgIHt0eXBlOidtaW5tYXgnLCBzdGVwU2l6ZTogMC4xfSxcbiAgICBdXG5cbiAgICBwcml2YXRlIF9zZWxlY3RTdHJhdGVneSgpIHtcbiAgICAgICAgY29uc3Qgc3RyYXRlZ2llcyA9IHRoaXMubXV0YXRpb25TdHJhdGVnaWVzXG4gICAgICAgIGNvbnN0IHdlaWdodHMgPSB0aGlzLl9tdXRhdGlvbldlaWdodHNcblxuICAgICAgICBjb25zdCBvcmllbnRhdGlvbkNvbnN0cmFpbnQgPSB0aGlzLmxheW91dC5vcmllbnRhdGlvbkNvbnN0cmFpbnRcbiAgICAgICAgY29uc3QgYXNwZWN0Q29uc3RyYWludCA9IHRoaXMubGF5b3V0LmtlZXBBc3BlY3RDb25zdHJhaW50XG5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgc3RyYXRlZ2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgd2VpZ2h0c1tpXSA9IHN0cmF0ZWdpZXNbaV0uc3RlcFNpemVcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNvbnN0cmFpbnQgJiYgc3RyYXRlZ2llc1tpXS50eXBlID09ICdyb3RhdGUnIFxuICAgICAgICAgICAgICAgICYmIHRoaXMub3JpZW50YXRpb25QZW5hbHR5ID4gLW9yaWVudGF0aW9uQ29uc3RyYWludC5jb21wdXRlZEFic29sdXRlVG9sZXJhbmNlKVxuICAgICAgICAgICAgICAgIHdlaWdodHNbaV0gKj0gMC4wMVxuICAgICAgICAgICAgaWYgKGFzcGVjdENvbnN0cmFpbnQgJiYgc3RyYXRlZ2llc1tpXS50eXBlID09ICdzaXplJyBcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmFzcGVjdFBlbmFsdHkgPCAtYXNwZWN0Q29uc3RyYWludC5jb21wdXRlZEFic29sdXRlVG9sZXJhbmNlKVxuICAgICAgICAgICAgICAgIHdlaWdodHNbaV0gKj0gMTAwXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFuZG9tU2VsZWN0KHN0cmF0ZWdpZXMsIHdlaWdodHMpXG4gICAgfVxuICAgIHByaXZhdGUgX211dGF0aW9uV2VpZ2h0cyA9IFtdIGFzIG51bWJlcltdXG5cbiAgICBjb3B5KHNvbHV0aW9uOkxheW91dFNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gc29sdXRpb24ubGF5b3V0XG4gICAgICAgIHRoaXMub3JpZW50YXRpb24uY29weSggc29sdXRpb24ub3JpZW50YXRpb24gKVxuICAgICAgICB0aGlzLmJvdW5kcy5jb3B5KCBzb2x1dGlvbi5ib3VuZHMgKVxuICAgICAgICB0aGlzLnNjb3Jlcy5sZW5ndGggPSAwXG4gICAgICAgIC8vIHRoaXMuYmVzdFNjb3Jlcy5sZW5ndGggPSAwXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29sdXRpb24uc2NvcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3Jlc1tpXSA9IHNvbHV0aW9uLnNjb3Jlc1tpXVxuICAgICAgICAgICAgLy8gdGhpcy5iZXN0U2NvcmVzW2ldID0gc29sdXRpb24uYmVzdFNjb3Jlc1tpXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNGZWFzaWJsZSA9IHNvbHV0aW9uLmlzRmVhc2libGVcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfc2NyYXRjaFYxID0gbmV3IFZlY3RvcjMgXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NjcmF0Y2hWMiA9IG5ldyBWZWN0b3IzXG5cbiAgICByYW5kb21pemUoc2l6ZUhpbnQ6bnVtYmVyKSB7XG4gICAgICAgIC8vIHRoaXMub3JpZW50YXRpb24uY29weShyYW5kb21RdWF0ZXJuaW9uKCkpXG4gICAgICAgIGNvbnN0IGZhciA9IGxldnkoc2l6ZUhpbnQpXG4gICAgICAgIC8vIGNvbnN0IGNlbnRlciA9IExheW91dFNvbHV0aW9uLl9zY3JhdGNoVjEuc2V0KFxuICAgICAgICAvLyAgICAgKChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGdhdXNzaWFuKHNpemVIaW50ICogMC4xKSkgKiBmYXIsXG4gICAgICAgIC8vICAgICAoKE1hdGgucmFuZG9tKCkgLSAwLjUpICogZ2F1c3NpYW4oc2l6ZUhpbnQgKiAwLjEpKSAqIGZhcixcbiAgICAgICAgLy8gICAgIC0gZmFyXG4gICAgICAgIC8vIClcbiAgICAgICAgY29uc3QgY2VudGVyID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMS5zZXQoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIC0gZmFyXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCB2aWV3U3RhdGUgPSB0aGlzLmxheW91dC5hZGFwdGVyLnN5c3RlbS52aWV3TWV0cmljcy50YXJnZXRcblxuICAgICAgICBcblxuICAgICAgICBjZW50ZXIuYXBwbHlNYXRyaXg0KHZpZXdTdGF0ZS53b3JsZE1hdHJpeClcbiAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSB0aGlzLmxheW91dC5hZGFwdGVyLm1ldHJpY3MudGFyZ2V0LnBhcmVudFN0YXRlXG4gICAgICAgIHBhcmVudFN0YXRlICYmIGNlbnRlci5hcHBseU1hdHJpeDQocGFyZW50U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlKVxuXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24uY29weSh2aWV3U3RhdGUud29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgcGFyZW50U3RhdGUgJiYgdGhpcy5vcmllbnRhdGlvbi5tdWx0aXBseShwYXJlbnRTdGF0ZS53b3JsZE9yaWVudGF0aW9uSW52ZXJzZSlcblxuICAgICAgICAvLyBjb25zdCBoYWxmU2l6ZSA9IExheW91dFNvbHV0aW9uLl9zY3JhdGNoVjIuc2V0KFxuICAgICAgICAvLyAgICAgTWF0aC5yYW5kb20oKSAqIHNpemVIaW50ICogMiArIHNpemVIaW50ICogMC4xLFxuICAgICAgICAvLyAgICAgTWF0aC5yYW5kb20oKSAqIHNpemVIaW50ICogMiArIHNpemVIaW50ICogMC4xLFxuICAgICAgICAvLyAgICAgTWF0aC5yYW5kb20oKSAqIHNpemVIaW50ICogMiArIHNpemVIaW50ICogMC4xXG4gICAgICAgIC8vIClcbiAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLmxheW91dC5hZGFwdGVyLm1ldHJpY3MuaW5uZXJCb3VuZHNcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGlubmVyLmlzRW1wdHkoKSA/IFxuICAgICAgICAgICAgTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMi5zZXQoMSwxLDEpIDogXG4gICAgICAgICAgICBpbm5lci5nZXRTaXplKExheW91dFNvbHV0aW9uLl9zY3JhdGNoVjIpXG4gICAgICAgIHNpemUubm9ybWFsaXplKClcbiAgICAgICAgc2l6ZS5tdWx0aXBseVNjYWxhcihmYXIgKiAyICogTWF0aC50YW4oNSAqIE1hdGhVdGlscy5ERUcyUkFEKSlcbiAgICAgICAgLy8gc2l6ZS5tdWx0aXBseVNjYWxhcihNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyKVxuICAgICAgICB0aGlzLmJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG4gICAgICAgIC8vIHRoaXMuYm91bmRzLm1pbi5jb3B5KGNlbnRlcikuc3ViKGhhbGZTaXplKVxuICAgICAgICAvLyB0aGlzLmJvdW5kcy5tYXguY29weShjZW50ZXIpLmFkZChoYWxmU2l6ZSlcbiAgICAgICAgLy8gdGhpcy5ib3VuZHMgPSB0aGlzLmJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgc3RhdGljIF9jZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgc3RhdGljIF9zaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIHN0YXRpYyBfb3RoZXJDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgc3RhdGljIF9vdGhlclNpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgbW92ZVRvd2FyZHMoc29sdXRpb246TGF5b3V0U29sdXRpb24sIG1pbkZyZXE6bnVtYmVyLCBtYXhGcmVxOm51bWJlcikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmJvdW5kcy5nZXRDZW50ZXIoTGF5b3V0U29sdXRpb24uX2NlbnRlcilcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuYm91bmRzLmdldFNpemUoTGF5b3V0U29sdXRpb24uX3NpemUpXG4gICAgICAgIGNvbnN0IG90aGVyQm91bmRzID0gc29sdXRpb24uYm91bmRzXG4gICAgICAgIGNvbnN0IG90aGVyQ2VudGVyID0gb3RoZXJCb3VuZHMuZ2V0Q2VudGVyKExheW91dFNvbHV0aW9uLl9vdGhlckNlbnRlcilcbiAgICAgICAgY29uc3Qgb3RoZXJTaXplID0gb3RoZXJCb3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fb3RoZXJTaXplKVxuICAgICAgICB0aGlzLm9yaWVudGF0aW9uLnNsZXJwKHNvbHV0aW9uLm9yaWVudGF0aW9uLCBMYXlvdXRTb2x1dGlvbi5nZW5lcmF0ZVB1bHNlRnJlcXVlbmN5KG1pbkZyZXEsIG1heEZyZXEpKS5ub3JtYWxpemUoKVxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgICAgICAgICAgY2VudGVyLmxlcnAob3RoZXJDZW50ZXIsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICBzaXplLmxlcnAob3RoZXJTaXplLCBMYXlvdXRTb2x1dGlvbi5nZW5lcmF0ZVB1bHNlRnJlcXVlbmN5KG1pbkZyZXEsIG1heEZyZXEpKVxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHMubWluLmxlcnAob3RoZXJCb3VuZHMubWluLCBMYXlvdXRTb2x1dGlvbi5nZW5lcmF0ZVB1bHNlRnJlcXVlbmN5KG1pbkZyZXEsIG1heEZyZXEpKVxuICAgICAgICAgICAgdGhpcy5ib3VuZHMubWF4LmxlcnAob3RoZXJCb3VuZHMubWF4LCBMYXlvdXRTb2x1dGlvbi5nZW5lcmF0ZVB1bHNlRnJlcXVlbmN5KG1pbkZyZXEsIG1heEZyZXEpKVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqICBcbiAgICAgKiBAcGFyYW0gc3RlcFNpemUgXG4gICAgICogXG4gICAgICovXG4gICAgcGVydHVyYigpIDogdHlwZW9mIExheW91dFNvbHV0aW9uLnByb3RvdHlwZS5tdXRhdGlvblN0cmF0ZWdpZXNbMF0ge1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSB0aGlzLl9zZWxlY3RTdHJhdGVneSgpXG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5VHlwZSA9IHN0cmF0ZWd5LnR5cGVcbiAgICAgICAgbGV0IHN0ZXBTaXplID0gc3RyYXRlZ3kuc3RlcFNpemVcblxuICAgICAgICAvLyBvcmllbnRhdGlvbiBtdXRhdGlvbiBzdHJhdGVneVxuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAncm90YXRlJyB8fCBNYXRoLnJhbmRvbSgpIDwgMC4wMDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uU3BlYyA9IHRoaXMubGF5b3V0Lm9yaWVudGF0aW9uQ29uc3RyYWludD8uc3BlYyBhcyBhbnlcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvblNwZWM/LmlzUXVhdGVybmlvbiAmJiBcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uUGVuYWx0eSA8IG9yaWVudGF0aW9uU3BlYy5jb21wdXRlZEFic29sdXRlVG9sZXJhbmNlICYmIFxuICAgICAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KG9yaWVudGF0aW9uU3BlYylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihsZXZ5KE1hdGgubWluKHN0ZXBTaXplLCAxKSowLjAwMDEpLCAxKVxuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24ubXVsdGlwbHkocmFuZG9tUXVhdGVybmlvbihzY2FsZSwgc2NhbGUpKS5ub3JtYWxpemUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5ib3VuZHNcbiAgICAgICAgY29uc3QgY2VudGVyID0gYm91bmRzLmdldENlbnRlcihMYXlvdXRTb2x1dGlvbi5fY2VudGVyKVxuICAgICAgICBjb25zdCBzaXplID0gYm91bmRzLmdldFNpemUoTGF5b3V0U29sdXRpb24uX3NpemUpXG5cbiAgICAgICAgLy8gY2VudGVyIG11dGF0aW9uIHN0cmF0ZWdpZXNcbiAgICAgICAgaWYgKHN0cmF0ZWd5VHlwZSA9PT0gJ2NlbnRlcicpICB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBMYXlvdXRTb2x1dGlvbi5fZGlyZWN0aW9uLnNldCgwLDAsMSkuYXBwbHlRdWF0ZXJuaW9uKHJhbmRvbVF1YXRlcm5pb24oMSwxKSlcbiAgICAgICAgICAgIG9mZnNldC5zZXRMZW5ndGgoZ2F1c3NpYW4oc3RlcFNpemUpKS5tdWx0aXBseVNjYWxhcihzaXplLmxlbmd0aCgpKVxuICAgICAgICAgICAgY2VudGVyLmFkZChvZmZzZXQpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaXplIG11dGF0aW9uIHN0cmF0ZWdpZXNcbiAgICAgICAgaWYgKHN0cmF0ZWd5VHlwZSA9PT0gJ3NpemUnKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IDIgKiogZ2F1c3NpYW4oc3RlcFNpemUpXG4gICAgICAgICAgICBzaXplLm11bHRpcGx5U2NhbGFyKHNjYWxlKVxuICAgICAgICB9XG5cbiAgICAgICAgc2l6ZS5jbGFtcFNjYWxhcih0aGlzLmxheW91dC5hZGFwdGVyLnN5c3RlbS5lcHNpbGxvbk1ldGVycy8xMCwxZTIwKVxuICAgICAgICBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKVxuXG5cbiAgICAgICAgaWYgKHN0cmF0ZWd5VHlwZSA9PT0gJ21pbm1heCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IExheW91dFNvbHV0aW9uLl9kaXJlY3Rpb24uc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24ocmFuZG9tUXVhdGVybmlvbigxLDEpKVxuICAgICAgICAgICAgb2Zmc2V0LnNldExlbmd0aChnYXVzc2lhbihzdGVwU2l6ZSkpLm11bHRpcGx5KHNpemUpXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5taW4uYWRkKG9mZnNldClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi5hZGQob2Zmc2V0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvLyBtYWtlIHN1cmUgc2l6ZSBoYXMgbm8gbmVnYXRpdmUgY29tcG9uZW50cywgb3IgZWxzZSBcbiAgICAgICAgLy8gQm94MyBpcyB1bmFibGUgdG8gdHJhbnNpdGlvbiBwcm9wZXJseVxuICAgICAgICAvLyBhbHRlcm5hdGl2ZSBmaXg6IHVwZGF0ZSBCb3gzIHRvIHN1cHBvcnQgbmVnYXRpdmUgc2l6ZSBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IG1pbiA9IGJvdW5kcy5taW5cbiAgICAgICAgY29uc3QgbWF4ID0gYm91bmRzLm1heFxuICAgICAgICBpZiAobWluLnggPiBtYXgueCkgdGhpcy5fc3dhcChtaW4sbWF4LCd4JylcbiAgICAgICAgaWYgKG1pbi55ID4gbWF4LnkpIHRoaXMuX3N3YXAobWluLG1heCwneScpXG4gICAgICAgIGlmIChtaW4ueiA+IG1heC56KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3onKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHN0cmF0ZWd5XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc3dhcChhOlZlY3RvcjMsIGI6VmVjdG9yMywga2V5Oid4J3wneSd8J3onKSB7XG4gICAgICAgIGNvbnN0IGFWYWx1ZSA9IGFba2V5XVxuICAgICAgICBjb25zdCBiVmFsdWUgPSBiW2tleV1cbiAgICAgICAgYVtrZXldID0gYlZhbHVlXG4gICAgICAgIGJba2V5XSA9IGFWYWx1ZVxuICAgIH1cblxuICAgIHN0YXRpYyBnZW5lcmF0ZVB1bHNlRnJlcXVlbmN5KG1pbjpudW1iZXIsbWF4Om51bWJlcikge1xuICAgICAgICByZXR1cm4gbWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pXG4gICAgfVxuXG4gICAgYXBwbHkoZXZhbHVhdGU9dHJ1ZSkge1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmxheW91dFxuICAgICAgICBjb25zdCBhZGFwdGVyID0gbGF5b3V0LmFkYXB0ZXIgICBcbiAgICAgICAgYWRhcHRlci5yZWZlcmVuY2VOb2RlID0gbGF5b3V0LnJlZmVyZW5jZU5vZGVcbiAgICAgICAgYWRhcHRlci5vcmllbnRhdGlvbi50YXJnZXQgPSB0aGlzLm9yaWVudGF0aW9uXG4gICAgICAgIGFkYXB0ZXIuYm91bmRzLnRhcmdldCA9IHRoaXMuYm91bmRzXG4gICAgICAgIGFkYXB0ZXIubWV0cmljcy5pbnZhbGlkYXRlU3RhdGVzKClcbiAgICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgICAgICB0aGlzLmlzRmVhc2libGUgPSB0cnVlXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsYXlvdXQub2JqZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBsYXlvdXQub2JqZWN0aXZlc1tpXVxuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5zY29yZXNbaV0gPSBvLmV2YWx1YXRlKClcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPCAtby5jb21wdXRlZEFic29sdXRlVG9sZXJhbmNlIHx8ICFpc0Zpbml0ZShzY29yZSkpIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRmVhc2libGUgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsInZhciBERUZBVUxUX09WRVJTSE9PVF9TVFJFTkdUSCA9IDEuNTI1O1xudmFyIHJldmVyc2VkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gMSAtIGVhc2luZygxIC0gcCk7XG4gICAgfTtcbn07XG52YXIgbWlycm9yZWQgPSBmdW5jdGlvbiAoZWFzaW5nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiBwIDw9IDAuNSA/IGVhc2luZygyICogcCkgLyAyIDogKDIgLSBlYXNpbmcoMiAqICgxIC0gcCkpKSAvIDI7XG4gICAgfTtcbn07XG52YXIgY3JlYXRlUmV2ZXJzZWRFYXNpbmcgPSByZXZlcnNlZDtcbnZhciBjcmVhdGVNaXJyb3JlZEVhc2luZyA9IG1pcnJvcmVkO1xudmFyIGNyZWF0ZUV4cG9JbiA9IGZ1bmN0aW9uIChwb3dlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3cocCwgcG93ZXIpO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZUJhY2tJbiA9IGZ1bmN0aW9uIChwb3dlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCAqIHAgKiAoKHBvd2VyICsgMSkgKiBwIC0gcG93ZXIpO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZUFudGljaXBhdGVFYXNpbmcgPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICB2YXIgYmFja0Vhc2luZyA9IGNyZWF0ZUJhY2tJbihwb3dlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocCAqPSAyKSA8IDEgPyAwLjUgKiBiYWNrRWFzaW5nKHApIDogMC41ICogKDIgLSBNYXRoLnBvdygyLCAtMTAgKiAocCAtIDEpKSk7XG4gICAgfTtcbn07XG52YXIgbGluZWFyID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcDtcbn07XG52YXIgZWFzZUluID0gLyojX19QVVJFX18qL2NyZWF0ZUV4cG9JbigyKTtcbnZhciBlYXNlT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGVhc2VJbik7XG52YXIgZWFzZUluT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGVhc2VJbik7XG52YXIgY2lyY0luID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gMSAtIE1hdGguc2luKE1hdGguYWNvcyhwKSk7XG59O1xudmFyIGNpcmNPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoY2lyY0luKTtcbnZhciBjaXJjSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoY2lyY091dCk7XG52YXIgYmFja0luID0gLyojX19QVVJFX18qL2NyZWF0ZUJhY2tJbihERUZBVUxUX09WRVJTSE9PVF9TVFJFTkdUSCk7XG52YXIgYmFja091dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChiYWNrSW4pO1xudmFyIGJhY2tJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChiYWNrSW4pO1xudmFyIGFudGljaXBhdGUgPSAvKiNfX1BVUkVfXyovY3JlYXRlQW50aWNpcGF0ZUVhc2luZyhERUZBVUxUX09WRVJTSE9PVF9TVFJFTkdUSCk7XG52YXIgQk9VTkNFX0ZJUlNUX1RIUkVTSE9MRCA9IDQuMCAvIDExLjA7XG52YXIgQk9VTkNFX1NFQ09ORF9USFJFU0hPTEQgPSA4LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9USElSRF9USFJFU0hPTEQgPSA5LjAgLyAxMC4wO1xudmFyIGNhID0gNDM1Ni4wIC8gMzYxLjA7XG52YXIgY2IgPSAzNTQ0Mi4wIC8gMTgwNS4wO1xudmFyIGNjID0gMTYwNjEuMCAvIDE4MDUuMDtcbnZhciBib3VuY2VPdXQgPSBmdW5jdGlvbiAocCkge1xuICAgIHZhciBwMiA9IHAgKiBwO1xuICAgIHJldHVybiBwIDwgQk9VTkNFX0ZJUlNUX1RIUkVTSE9MRCA/IDcuNTYyNSAqIHAyIDogcCA8IEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID8gOS4wNzUgKiBwMiAtIDkuOSAqIHAgKyAzLjQgOiBwIDwgQk9VTkNFX1RISVJEX1RIUkVTSE9MRCA/IGNhICogcDIgLSBjYiAqIHAgKyBjYyA6IDEwLjggKiBwICogcCAtIDIwLjUyICogcCArIDEwLjcyO1xufTtcbnZhciBib3VuY2VJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEuMCAtIGJvdW5jZU91dCgxLjAgLSBwKTtcbn07XG52YXIgYm91bmNlSW5PdXQgPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBwIDwgMC41ID8gMC41ICogKDEuMCAtIGJvdW5jZU91dCgxLjAgLSBwICogMi4wKSkgOiAwLjUgKiBib3VuY2VPdXQocCAqIDIuMCAtIDEuMCkgKyAwLjU7XG59O1xudmFyIE5FV1RPTl9JVEVSQVRJT05TID0gODtcbnZhciBORVdUT05fTUlOX1NMT1BFID0gMC4wMDE7XG52YXIgU1VCRElWSVNJT05fUFJFQ0lTSU9OID0gMC4wMDAwMDAxO1xudmFyIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTA7XG52YXIgS19TUExJTkVfVEFCTEVfU0laRSA9IDExO1xudmFyIEtfU0FNUExFX1NURVBfU0laRSA9IDEuMCAvIChLX1NQTElORV9UQUJMRV9TSVpFIC0gMS4wKTtcbnZhciBGTE9BVF8zMl9TVVBQT1JURUQgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJztcbnZhciBhID0gZnVuY3Rpb24gKGExLCBhMikge1xuICAgIHJldHVybiAxLjAgLSAzLjAgKiBhMiArIDMuMCAqIGExO1xufTtcbnZhciBiID0gZnVuY3Rpb24gKGExLCBhMikge1xuICAgIHJldHVybiAzLjAgKiBhMiAtIDYuMCAqIGExO1xufTtcbnZhciBjID0gZnVuY3Rpb24gKGExKSB7XG4gICAgcmV0dXJuIDMuMCAqIGExO1xufTtcbnZhciBnZXRTbG9wZSA9IGZ1bmN0aW9uICh0LCBhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYShhMSwgYTIpICogdCAqIHQgKyAyLjAgKiBiKGExLCBhMikgKiB0ICsgYyhhMSk7XG59O1xudmFyIGNhbGNCZXppZXIgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuICgoYShhMSwgYTIpICogdCArIGIoYTEsIGEyKSkgKiB0ICsgYyhhMSkpICogdDtcbn07XG5mdW5jdGlvbiBjdWJpY0JlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gRkxPQVRfMzJfU1VQUE9SVEVEID8gbmV3IEZsb2F0MzJBcnJheShLX1NQTElORV9UQUJMRV9TSVpFKSA6IG5ldyBBcnJheShLX1NQTElORV9UQUJMRV9TSVpFKTtcbiAgICB2YXIgYmluYXJ5U3ViZGl2aWRlID0gZnVuY3Rpb24gKGFYLCBhQSwgYUIpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFg7XG4gICAgICAgIHZhciBjdXJyZW50VDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICAgICAgICBhQiA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhQSA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiBTVUJESVZJU0lPTl9QUkVDSVNJT04gJiYgKytpIDwgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMpO1xuICAgICAgICByZXR1cm4gY3VycmVudFQ7XG4gICAgfTtcbiAgICB2YXIgbmV3dG9uUmFwaHNvbkl0ZXJhdGUgPSBmdW5jdGlvbiAoYVgsIGFHdWVzc1QpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFNsb3BlID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICBmb3IgKDsgaSA8IE5FV1RPTl9JVEVSQVRJT05TOyArK2kpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICB9O1xuICAgIHZhciBjYWxjU2FtcGxlVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEtfU1BMSU5FX1RBQkxFX1NJWkU7ICsraSkge1xuICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICogS19TQU1QTEVfU1RFUF9TSVpFLCBtWDEsIG1YMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBnZXRURm9yWCA9IGZ1bmN0aW9uIChhWCkge1xuICAgICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDAuMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgICB2YXIgbGFzdFNhbXBsZSA9IEtfU1BMSU5FX1RBQkxFX1NJWkUgLSAxO1xuICAgICAgICB2YXIgZGlzdCA9IDAuMDtcbiAgICAgICAgdmFyIGd1ZXNzRm9yVCA9IDAuMDtcbiAgICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IDAuMDtcbiAgICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgICAgIGludGVydmFsU3RhcnQgKz0gS19TQU1QTEVfU1RFUF9TSVpFO1xuICAgICAgICB9XG4gICAgICAgIC0tY3VycmVudFNhbXBsZTtcbiAgICAgICAgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAoc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICAgIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICogS19TQU1QTEVfU1RFUF9TSVpFO1xuICAgICAgICBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSBORVdUT05fTUlOX1NMT1BFKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsgS19TQU1QTEVfU1RFUF9TSVpFKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY2FsY1NhbXBsZVZhbHVlcygpO1xuICAgIHZhciByZXNvbHZlciA9IGZ1bmN0aW9uIChhWCkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBhWDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGFYID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGNhbGNCZXppZXIoZ2V0VEZvclgoYVgpLCBtWTEsIG1ZMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIHJlc29sdmVyO1xufVxuXG5leHBvcnQgeyByZXZlcnNlZCwgbWlycm9yZWQsIGNyZWF0ZVJldmVyc2VkRWFzaW5nLCBjcmVhdGVNaXJyb3JlZEVhc2luZywgY3JlYXRlRXhwb0luLCBjcmVhdGVCYWNrSW4sIGNyZWF0ZUFudGljaXBhdGVFYXNpbmcsIGxpbmVhciwgZWFzZUluLCBlYXNlT3V0LCBlYXNlSW5PdXQsIGNpcmNJbiwgY2lyY091dCwgY2lyY0luT3V0LCBiYWNrSW4sIGJhY2tPdXQsIGJhY2tJbk91dCwgYW50aWNpcGF0ZSwgYm91bmNlT3V0LCBib3VuY2VJbiwgYm91bmNlSW5PdXQsIGN1YmljQmV6aWVyIH07XG4iLCIvLyB0eXBlIGNoZWNrcyBmb3IgYWxsIGtub3duIHR5cGVzXG4vL1xuLy8gbm90ZSB0aGF0OlxuLy9cbi8vIC0gY2hlY2sgYnkgZHVjay10eXBpbmcgb24gYSBwcm9wZXJ0eSBsaWtlIGBpc1VuaXRgLCBpbnN0ZWFkIG9mIGNoZWNraW5nIGluc3RhbmNlb2YuXG4vLyAgIGluc3RhbmNlb2YgY2Fubm90IGJlIHVzZWQgYmVjYXVzZSB0aGF0IHdvdWxkIG5vdCBhbGxvdyB0byBwYXNzIGRhdGEgZnJvbVxuLy8gICBvbmUgaW5zdGFuY2Ugb2YgbWF0aC5qcyB0byBhbm90aGVyIHNpbmNlIGVhY2ggaGFzIGl0J3Mgb3duIGluc3RhbmNlIG9mIFVuaXQuXG4vLyAtIGNoZWNrIHRoZSBgaXNVbml0YCBwcm9wZXJ0eSB2aWEgdGhlIGNvbnN0cnVjdG9yLCBzbyB0aGVyZSB3aWxsIGJlIG5vXG4vLyAgIG1hdGNoZXMgZm9yIFwiZmFrZVwiIGluc3RhbmNlcyBsaWtlIHBsYWluIG9iamVjdHMgd2l0aCBhIHByb3BlcnR5IGBpc1VuaXRgLlxuLy8gICBUaGF0IGlzIGltcG9ydGFudCBmb3Igc2VjdXJpdHkgcmVhc29ucy5cbi8vIC0gSXQgbXVzdCBub3QgYmUgcG9zc2libGUgdG8gb3ZlcnJpZGUgdGhlIHR5cGUgY2hlY2tzIHVzZWQgaW50ZXJuYWxseSxcbi8vICAgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIHNvIHRoZXNlIGZ1bmN0aW9ucyBhcmUgbm90IGV4cG9zZWQgaW4gdGhlIGV4cHJlc3Npb25cbi8vICAgcGFyc2VyLlxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0JpZ051bWJlcih4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzQmlnTnVtYmVyID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcGxleCh4KSB7XG4gIHJldHVybiB4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoeCkuaXNDb21wbGV4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnJhY3Rpb24oeCkge1xuICByZXR1cm4geCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpLmlzRnJhY3Rpb24gPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNVbml0KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNVbml0ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydCB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgZnVuY3Rpb24gaXNNYXRyaXgoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgYSBjb2xsZWN0aW9uOiBhbiBBcnJheSBvciBNYXRyaXhcbiAqIEBwYXJhbSB7Kn0geFxuICogQHJldHVybnMge2Jvb2xlYW59IGlzQ29sbGVjdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbGxlY3Rpb24oeCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh4KSB8fCBpc01hdHJpeCh4KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RlbnNlTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0RlbnNlTWF0cml4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTWF0cml4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BhcnNlTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1NwYXJzZU1hdHJpeCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JhbmdlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNSYW5nZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luZGV4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNJbmRleCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdib29sZWFuJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc3VsdFNldCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzUmVzdWx0U2V0ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSGVscCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzSGVscCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh4KSB7XG4gIHJldHVybiB4IGluc3RhbmNlb2YgRGF0ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ0V4cCh4KSB7XG4gIHJldHVybiB4IGluc3RhbmNlb2YgUmVnRXhwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgcmV0dXJuICEhKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHguY29uc3RydWN0b3IgPT09IE9iamVjdCAmJiAhaXNDb21wbGV4KHgpICYmICFpc0ZyYWN0aW9uKHgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc051bGwoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZCh4KSB7XG4gIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBY2Nlc3Nvck5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQWNjZXNzb3JOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNBcnJheU5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXNzaWdubWVudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQXNzaWdubWVudE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmxvY2tOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Jsb2NrTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kaXRpb25hbE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQ29uZGl0aW9uYWxOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnN0YW50Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNDb25zdGFudE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNGdW5jdGlvbk5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSW5kZXhOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0luZGV4Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNPYmplY3ROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09wZXJhdG9yTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNPcGVyYXRvck5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyZW50aGVzaXNOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1BhcmVudGhlc2lzTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSYW5nZU5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzUmFuZ2VOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzU3ltYm9sTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDaGFpbih4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzQ2hhaW4gPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdHlwZU9mKHgpIHtcbiAgdmFyIHQgPSB0eXBlb2YgeDtcblxuICBpZiAodCA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBKYXZhU2NyaXB0IHR5cGVzXG4gICAgaWYgKHggPT09IG51bGwpIHJldHVybiAnbnVsbCc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHJldHVybiAnQXJyYXknO1xuICAgIGlmICh4IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuICdEYXRlJztcbiAgICBpZiAoeCBpbnN0YW5jZW9mIFJlZ0V4cCkgcmV0dXJuICdSZWdFeHAnOyAvLyBtYXRoLmpzIHR5cGVzXG5cbiAgICBpZiAoaXNCaWdOdW1iZXIoeCkpIHJldHVybiAnQmlnTnVtYmVyJztcbiAgICBpZiAoaXNDb21wbGV4KHgpKSByZXR1cm4gJ0NvbXBsZXgnO1xuICAgIGlmIChpc0ZyYWN0aW9uKHgpKSByZXR1cm4gJ0ZyYWN0aW9uJztcbiAgICBpZiAoaXNNYXRyaXgoeCkpIHJldHVybiAnTWF0cml4JztcbiAgICBpZiAoaXNVbml0KHgpKSByZXR1cm4gJ1VuaXQnO1xuICAgIGlmIChpc0luZGV4KHgpKSByZXR1cm4gJ0luZGV4JztcbiAgICBpZiAoaXNSYW5nZSh4KSkgcmV0dXJuICdSYW5nZSc7XG4gICAgaWYgKGlzUmVzdWx0U2V0KHgpKSByZXR1cm4gJ1Jlc3VsdFNldCc7XG4gICAgaWYgKGlzTm9kZSh4KSkgcmV0dXJuIHgudHlwZTtcbiAgICBpZiAoaXNDaGFpbih4KSkgcmV0dXJuICdDaGFpbic7XG4gICAgaWYgKGlzSGVscCh4KSkgcmV0dXJuICdIZWxwJztcbiAgICByZXR1cm4gJ09iamVjdCc7XG4gIH1cblxuICBpZiAodCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuICdGdW5jdGlvbic7XG4gIHJldHVybiB0OyAvLyBjYW4gYmUgJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbicsIC4uLlxufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi9pcy5qcyc7XG4vKipcbiAqIENsb25lIGFuIG9iamVjdFxuICpcbiAqICAgICBjbG9uZSh4KVxuICpcbiAqIENhbiBjbG9uZSBhbnkgcHJpbWl0aXZlIHR5cGUsIGFycmF5LCBhbmQgb2JqZWN0LlxuICogSWYgeCBoYXMgYSBmdW5jdGlvbiBjbG9uZSwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgdG8gY2xvbmUgdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm4geyp9IGNsb25lXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDsgLy8gaW1tdXRhYmxlIHByaW1pdGl2ZSB0eXBlc1xuXG4gIGlmICh0eXBlID09PSAnbnVtYmVyJyB8fCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnYm9vbGVhbicgfHwgeCA9PT0gbnVsbCB8fCB4ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geDtcbiAgfSAvLyB1c2UgY2xvbmUgZnVuY3Rpb24gb2YgdGhlIG9iamVjdCB3aGVuIGF2YWlsYWJsZVxuXG5cbiAgaWYgKHR5cGVvZiB4LmNsb25lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHguY2xvbmUoKTtcbiAgfSAvLyBhcnJheVxuXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4geC5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY2xvbmUodmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHggaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gbmV3IERhdGUoeC52YWx1ZU9mKCkpO1xuICBpZiAoaXNCaWdOdW1iZXIoeCkpIHJldHVybiB4OyAvLyBiaWdudW1iZXJzIGFyZSBpbW11dGFibGVcblxuICBpZiAoeCBpbnN0YW5jZW9mIFJlZ0V4cCkgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNsb25lICcgKyB4KTsgLy8gVE9ETzogY2xvbmUgYSBSZWdFeHBcbiAgLy8gb2JqZWN0XG5cbiAgcmV0dXJuIG1hcE9iamVjdCh4LCBjbG9uZSk7XG59XG4vKipcbiAqIEFwcGx5IG1hcCB0byBhbGwgcHJvcGVydGllcyBvZiBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aCBtYXBwZWQgcHJvcGVydGllc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmplY3Qob2JqZWN0LCBjYWxsYmFjaykge1xuICB2YXIgY2xvbmUgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KG9iamVjdCwga2V5KSkge1xuICAgICAgY2xvbmVba2V5XSA9IGNhbGxiYWNrKG9iamVjdFtrZXldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xvbmU7XG59XG4vKipcbiAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm4ge09iamVjdH0gYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICBmb3IgKHZhciBwcm9wIGluIGIpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoYiwgcHJvcCkpIHtcbiAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufVxuLyoqXG4gKiBEZWVwIGV4dGVuZCBhbiBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFeHRlbmQoYSwgYikge1xuICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgQXJyYXlzIHRvIGRlZXBFeHRlbmRcbiAgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZCcpO1xuICB9XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBiKSB7XG4gICAgLy8gV2UgY2hlY2sgYWdhaW5zdCBwcm9wIG5vdCBiZWluZyBpbiBPYmplY3QucHJvdG90eXBlIG9yIEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIC8vIHRvIHByZXZlbnQgcG9sbHV0aW5nIGZvciBleGFtcGxlIE9iamVjdC5fX3Byb3RvX18uXG4gICAgaWYgKGhhc093blByb3BlcnR5KGIsIHByb3ApICYmICEocHJvcCBpbiBPYmplY3QucHJvdG90eXBlKSAmJiAhKHByb3AgaW4gRnVuY3Rpb24ucHJvdG90eXBlKSkge1xuICAgICAgaWYgKGJbcHJvcF0gJiYgYltwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgIGlmIChhW3Byb3BdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBhW3Byb3BdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYVtwcm9wXSAmJiBhW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICBkZWVwRXh0ZW5kKGFbcHJvcF0sIGJbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYltwcm9wXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZXBFeHRlbmQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufVxuLyoqXG4gKiBEZWVwIHRlc3QgZXF1YWxpdHkgb2YgYWxsIGZpZWxkcyBpbiB0d28gcGFpcnMgb2YgYXJyYXlzIG9yIG9iamVjdHMuXG4gKiBDb21wYXJlcyB2YWx1ZXMgYW5kIGZ1bmN0aW9ucyBzdHJpY3RseSAoaWUuIDIgaXMgbm90IHRoZSBzYW1lIGFzICcyJykuXG4gKiBAcGFyYW0ge0FycmF5IHwgT2JqZWN0fSBhXG4gKiBAcGFyYW0ge0FycmF5IHwgT2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcFN0cmljdEVxdWFsKGEsIGIpIHtcbiAgdmFyIHByb3AsIGksIGxlbjtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoIWRlZXBTdHJpY3RFcXVhbChhW2ldLCBiW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYikgfHwgIShiIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAocHJvcCBpbiBhKSB7XG4gICAgICAvLyBub2luc3BlY3Rpb24gSlNVbmZpbHRlcmVkRm9ySW5Mb29wXG4gICAgICBpZiAoIShwcm9wIGluIGIpIHx8ICFkZWVwU3RyaWN0RXF1YWwoYVtwcm9wXSwgYltwcm9wXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAocHJvcCBpbiBiKSB7XG4gICAgICAvLyBub2luc3BlY3Rpb24gSlNVbmZpbHRlcmVkRm9ySW5Mb29wXG4gICAgICBpZiAoIShwcm9wIGluIGEpIHx8ICFkZWVwU3RyaWN0RXF1YWwoYVtwcm9wXSwgYltwcm9wXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYSBuZXN0ZWQgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG5lc3RlZE9iamVjdFxuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIHRoZSBmbGF0dGVuZWQgb2JqZWN0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCkge1xuICB2YXIgZmxhdHRlbmVkT2JqZWN0ID0ge307XG5cbiAgX2RlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCwgZmxhdHRlbmVkT2JqZWN0KTtcblxuICByZXR1cm4gZmxhdHRlbmVkT2JqZWN0O1xufSAvLyBoZWxwZXIgZnVuY3Rpb24gdXNlZCBieSBkZWVwRmxhdHRlblxuXG5mdW5jdGlvbiBfZGVlcEZsYXR0ZW4obmVzdGVkT2JqZWN0LCBmbGF0dGVuZWRPYmplY3QpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBuZXN0ZWRPYmplY3QpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkobmVzdGVkT2JqZWN0LCBwcm9wKSkge1xuICAgICAgdmFyIHZhbHVlID0gbmVzdGVkT2JqZWN0W3Byb3BdO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBfZGVlcEZsYXR0ZW4odmFsdWUsIGZsYXR0ZW5lZE9iamVjdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbGF0dGVuZWRPYmplY3RbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIHN1cHBvcnRzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiBzdXBwb3J0ZWRcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5EZWZpbmVQcm9wZXJ0eSgpIHtcbiAgLy8gdGVzdCBuZWVkZWQgZm9yIGJyb2tlbiBJRTggaW1wbGVtZW50YXRpb25cbiAgdHJ5IHtcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHt9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEF0dGFjaCBhIGxhenkgbG9hZGluZyBwcm9wZXJ0eSB0byBhIGNvbnN0YW50LlxuICogVGhlIGdpdmVuIGZ1bmN0aW9uIGBmbmAgaXMgY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcHJvcGVydHkgaXMgZmlyc3QgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgICAgICAgICBPYmplY3Qgd2hlcmUgdG8gYWRkIHRoZSBwcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgICAgICAgICAgIFByb3BlcnR5IG5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHZhbHVlUmVzb2x2ZXIgRnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBwcm9wZXJ0eSB2YWx1ZS4gQ2FsbGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aG91dCBhcmd1bWVudHMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxhenkob2JqZWN0LCBwcm9wLCB2YWx1ZVJlc29sdmVyKSB7XG4gIHZhciBfdW5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgdmFyIF92YWx1ZTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoX3VuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgX3ZhbHVlID0gdmFsdWVSZXNvbHZlcigpO1xuICAgICAgICBfdW5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3ZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF92YWx1ZSA9IHZhbHVlO1xuICAgICAgX3VuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuLyoqXG4gKiBUcmF2ZXJzZSBhIHBhdGggaW50byBhbiBvYmplY3QuXG4gKiBXaGVuIGEgbmFtZXNwYWNlIGlzIG1pc3NpbmcsIGl0IHdpbGwgYmUgY3JlYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aCAgIEEgZG90IHNlcGFyYXRlZCBzdHJpbmcgbGlrZSAnbmFtZS5zcGFjZSdcbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgb2JqZWN0IGF0IHRoZSBlbmQgb2YgdGhlIHBhdGhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2Uob2JqZWN0LCBwYXRoKSB7XG4gIGlmIChwYXRoICYmIHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0cmF2ZXJzZShvYmplY3QsIHBhdGguc3BsaXQoJy4nKSk7XG4gIH1cblxuICB2YXIgb2JqID0gb2JqZWN0O1xuXG4gIGlmIChwYXRoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gcGF0aFtpXTtcblxuICAgICAgaWYgKCEoa2V5IGluIG9iaikpIHtcbiAgICAgICAgb2JqW2tleV0gPSB7fTtcbiAgICAgIH1cblxuICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogQSBzYWZlIGhhc093blByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSkge1xuICByZXR1cm4gb2JqZWN0ICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gb2JqZWN0IGlzIGEgZmFjdG9yeS4gYSBmYWN0b3J5IGhhcyBmaWVsZHM6XG4gKlxuICogLSBmYWN0b3J5OiBmdW5jdGlvbiAodHlwZTogT2JqZWN0LCBjb25maWc6IE9iamVjdCwgbG9hZDogZnVuY3Rpb24sIHR5cGVkOiBmdW5jdGlvbiBbLCBtYXRoOiBPYmplY3RdKSAgIChyZXF1aXJlZClcbiAqIC0gbmFtZTogc3RyaW5nIChvcHRpb25hbClcbiAqIC0gcGF0aDogc3RyaW5nICAgIEEgZG90IHNlcGFyYXRlZCBwYXRoIChvcHRpb25hbClcbiAqIC0gbWF0aDogYm9vbGVhbiAgIElmIHRydWUgKGZhbHNlIGJ5IGRlZmF1bHQpLCB0aGUgbWF0aCBuYW1lc3BhY2UgaXMgcGFzc2VkXG4gKiAgICAgICAgICAgICAgICAgICBhcyBmaWZ0aCBhcmd1bWVudCBvZiB0aGUgZmFjdG9yeSBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNMZWdhY3lGYWN0b3J5KG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ICYmIHR5cGVvZiBvYmplY3QuZmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogR2V0IGEgbmVzdGVkIHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBwYXRoXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoaXNQYXRoKHBhdGgpKSB7XG4gICAgICByZXR1cm4gZ2V0KG9iamVjdCwgcGF0aC5zcGxpdCgnLicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9iamVjdFtwYXRoXTtcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGQgPSBvYmplY3Q7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgY2hpbGQgPSBjaGlsZCA/IGNoaWxkW2tleV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG4vKipcbiAqIFNldCBhIG5lc3RlZCBwcm9wZXJ0eSBpbiBhbiBvYmplY3RcbiAqIE11dGF0ZXMgdGhlIG9iamVjdCBpdHNlbGZcbiAqIElmIHRoZSBwYXRoIGRvZXNuJ3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIGlmIChpc1BhdGgocGF0aCkpIHtcbiAgICAgIHJldHVybiBzZXQob2JqZWN0LCBwYXRoLnNwbGl0KCcuJyksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0W3BhdGhdID0gdmFsdWU7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cbiAgfVxuXG4gIHZhciBjaGlsZCA9IG9iamVjdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhdGhbaV07XG5cbiAgICBpZiAoY2hpbGRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjaGlsZFtrZXldID0ge307XG4gICAgfVxuXG4gICAgY2hpbGQgPSBjaGlsZFtrZXldO1xuICB9XG5cbiAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgIHZhciBsYXN0S2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNoaWxkW2xhc3RLZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgb2JqZWN0IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHZhbHVlIHRvIHRyYW5zZm9ybSBhIHZhbHVlIHdoZW4gcGlja2luZyBpdFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iamVjdCwgcHJvcGVydGllcywgdHJhbnNmb3JtKSB7XG4gIHZhciBjb3B5ID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHByb3BlcnRpZXNbaV07XG4gICAgdmFyIHZhbHVlID0gZ2V0KG9iamVjdCwga2V5KTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXQoY29weSwga2V5LCB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0odmFsdWUsIGtleSkgOiB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59XG4vKipcbiAqIFNoYWxsb3cgdmVyc2lvbiBvZiBwaWNrLCBjcmVhdGluZyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBvYmplY3QgcHJvcGVydGllc1xuICogYnV0IG5vdCBmb3IgbmVzdGVkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BlcnRpZXNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGlja1NoYWxsb3cob2JqZWN0LCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBjb3B5ID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHByb3BlcnRpZXNbaV07XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29weVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5tYXAoa2V5ID0+IG9iamVjdFtrZXldKTtcbn0gLy8gaGVscGVyIGZ1bmN0aW9uIHRvIHRlc3Qgd2hldGhlciBhIHN0cmluZyBjb250YWlucyBhIHBhdGggbGlrZSAndXNlci5uYW1lJ1xuXG5mdW5jdGlvbiBpc1BhdGgoc3RyKSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZignLicpICE9PSAtMTtcbn0iLCIvKipcbiAqIHR5cGVkLWZ1bmN0aW9uXG4gKlxuICogVHlwZSBjaGVja2luZyBmb3IgSmF2YVNjcmlwdCBmdW5jdGlvbnNcbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL3R5cGVkLWZ1bmN0aW9uXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBPbGROb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE9sZE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICByb290LnR5cGVkID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuICBmdW5jdGlvbiBvayAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBub3RPayAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5kZWYgKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGVkZWYge3tcbiAgICogICBwYXJhbXM6IFBhcmFtW10sXG4gICAqICAgZm46IGZ1bmN0aW9uXG4gICAqIH19IFNpZ25hdHVyZVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIHR5cGVzOiBUeXBlW10sXG4gICAqICAgcmVzdFBhcmFtOiBib29sZWFuXG4gICAqIH19IFBhcmFtXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgbmFtZTogc3RyaW5nLFxuICAgKiAgIHR5cGVJbmRleDogbnVtYmVyLFxuICAgKiAgIHRlc3Q6IGZ1bmN0aW9uLFxuICAgKiAgIGNvbnZlcnNpb24/OiBDb252ZXJzaW9uRGVmLFxuICAgKiAgIGNvbnZlcnNpb25JbmRleDogbnVtYmVyLFxuICAgKiB9fSBUeXBlXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgZnJvbTogc3RyaW5nLFxuICAgKiAgIHRvOiBzdHJpbmcsXG4gICAqICAgY29udmVydDogZnVuY3Rpb24gKCopIDogKlxuICAgKiB9fSBDb252ZXJzaW9uRGVmXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgbmFtZTogc3RyaW5nLFxuICAgKiAgIHRlc3Q6IGZ1bmN0aW9uKCopIDogYm9vbGVhblxuICAgKiB9fSBUeXBlRGVmXG4gICAqL1xuXG4gIC8vIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuICBmdW5jdGlvbiBjcmVhdGUgKCkge1xuICAgIC8vIGRhdGEgdHlwZSB0ZXN0c1xuICAgIHZhciBfdHlwZXMgPSBbXG4gICAgICB7IG5hbWU6ICdudW1iZXInLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdudW1iZXInIH0gfSxcbiAgICAgIHsgbmFtZTogJ3N0cmluZycsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZycgfSB9LFxuICAgICAgeyBuYW1lOiAnYm9vbGVhbicsICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnYm9vbGVhbicgfSB9LFxuICAgICAgeyBuYW1lOiAnRnVuY3Rpb24nLCAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nfSB9LFxuICAgICAgeyBuYW1lOiAnQXJyYXknLCAgICAgdGVzdDogQXJyYXkuaXNBcnJheSB9LFxuICAgICAgeyBuYW1lOiAnRGF0ZScsICAgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggaW5zdGFuY2VvZiBEYXRlIH0gfSxcbiAgICAgIHsgbmFtZTogJ1JlZ0V4cCcsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IGluc3RhbmNlb2YgUmVnRXhwIH0gfSxcbiAgICAgIHsgbmFtZTogJ09iamVjdCcsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCAmJiB4LmNvbnN0cnVjdG9yID09PSBPYmplY3RcbiAgICAgIH19LFxuICAgICAgeyBuYW1lOiAnbnVsbCcsICAgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IG51bGwgfSB9LFxuICAgICAgeyBuYW1lOiAndW5kZWZpbmVkJywgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IHVuZGVmaW5lZCB9IH1cbiAgICBdO1xuXG4gICAgdmFyIGFueVR5cGUgPSB7XG4gICAgICBuYW1lOiAnYW55JyxcbiAgICAgIHRlc3Q6IG9rXG4gICAgfVxuXG4gICAgLy8gdHlwZXMgd2hpY2ggbmVlZCB0byBiZSBpZ25vcmVkXG4gICAgdmFyIF9pZ25vcmUgPSBbXTtcblxuICAgIC8vIHR5cGUgY29udmVyc2lvbnNcbiAgICB2YXIgX2NvbnZlcnNpb25zID0gW107XG5cbiAgICAvLyBUaGlzIGlzIGEgdGVtcG9yYXJ5IG9iamVjdCwgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGEgdHlwZWQgZnVuY3Rpb24gYXQgdGhlIGVuZFxuICAgIHZhciB0eXBlZCA9IHtcbiAgICAgIHR5cGVzOiBfdHlwZXMsXG4gICAgICBjb252ZXJzaW9uczogX2NvbnZlcnNpb25zLFxuICAgICAgaWdub3JlOiBfaWdub3JlXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHRlc3QgZnVuY3Rpb24gZm9yIGEgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZVxuICAgICAqIEByZXR1cm4ge1R5cGVEZWZ9IFJldHVybnMgdGhlIHR5cGUgZGVmaW5pdGlvbiB3aGVuIGZvdW5kLFxuICAgICAqICAgICAgICAgICAgICAgICAgICBUaHJvd3MgYSBUeXBlRXJyb3Igb3RoZXJ3aXNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFR5cGVCeU5hbWUgKHR5cGVOYW1lKSB7XG4gICAgICB2YXIgZW50cnkgPSBmaW5kSW5BcnJheSh0eXBlZC50eXBlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSB0eXBlTmFtZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZU5hbWUgPT09ICdhbnknKSB7IC8vIHNwZWNpYWwgYmFrZWQtaW4gY2FzZSAnYW55J1xuICAgICAgICByZXR1cm4gYW55VHlwZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpbnQgPSBmaW5kSW5BcnJheSh0eXBlZC50eXBlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHR5cGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biB0eXBlIFwiJyArIHR5cGVOYW1lICsgJ1wiJyArXG4gICAgICAgICAgKGhpbnQgPyAoJy4gRGlkIHlvdSBtZWFuIFwiJyArIGhpbnQubmFtZSArICdcIj8nKSA6ICcnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgaW5kZXggb2YgYSB0eXBlIGRlZmluaXRpb24uIEhhbmRsZXMgc3BlY2lhbCBjYXNlICdhbnknXG4gICAgICogQHBhcmFtIHtUeXBlRGVmfSB0eXBlXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlSW5kZXgodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IGFueVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIDk5OTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGVkLnR5cGVzLmluZGV4T2YodHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHR5cGUgdGhhdCBtYXRjaGVzIGEgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgZmlyc3QgdHlwZSBmb3Igd2hpY2hcbiAgICAgKiAgICAgICAgICAgICAgICAgIHRoZSB0eXBlIHRlc3QgbWF0Y2hlcyB0aGUgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFR5cGVOYW1lKHZhbHVlKSB7XG4gICAgICB2YXIgZW50cnkgPSBmaW5kSW5BcnJheSh0eXBlZC50eXBlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS50ZXN0KHZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5Lm5hbWU7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIGhhcyB1bmtub3duIHR5cGUuIFZhbHVlOiAnICsgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBzcGVjaWZpYyBzaWduYXR1cmUgZnJvbSBhIChjb21wb3NlZCkgdHlwZWQgZnVuY3Rpb24sIGZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICB0eXBlZC5maW5kKGZuLCBbJ251bWJlcicsICdzdHJpbmcnXSlcbiAgICAgKiAgIHR5cGVkLmZpbmQoZm4sICdudW1iZXIsIHN0cmluZycpXG4gICAgICpcbiAgICAgKiBGdW5jdGlvbiBmaW5kIG9ubHkgb25seSB3b3JrcyBmb3IgZXhhY3QgbWF0Y2hlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuICAgICAgICAgICAgICAgICAgIEEgdHlwZWQtZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBzaWduYXR1cmUgICBTaWduYXR1cmUgdG8gYmUgZm91bmQsIGNhbiBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuIGFycmF5IG9yIGEgY29tbWEgc2VwYXJhdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gICAgICAgICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBtYXRjaGluZyBzaWduYXR1cmUsIG9yXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dzIGFuIGVycm9yIHdoZW4gbm8gc2lnbmF0dXJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgZm91bmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZCAoZm4sIHNpZ25hdHVyZSkge1xuICAgICAgaWYgKCFmbi5zaWduYXR1cmVzKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIGlzIG5vIHR5cGVkLWZ1bmN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIG5vcm1hbGl6ZSBpbnB1dFxuICAgICAgdmFyIGFycjtcbiAgICAgIGlmICh0eXBlb2Ygc2lnbmF0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICBhcnIgPSBzaWduYXR1cmUuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnJbaV0gPSBhcnJbaV0udHJpbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgYXJyID0gc2lnbmF0dXJlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBhcnJheSBvciBhIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0ciA9IGFyci5qb2luKCcsJyk7XG5cbiAgICAgIC8vIGZpbmQgYW4gZXhhY3QgbWF0Y2hcbiAgICAgIHZhciBtYXRjaCA9IGZuLnNpZ25hdHVyZXNbc3RyXTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IGV4dGVuZCBmaW5kIHRvIG1hdGNoIG5vbi1leGFjdCBzaWduYXR1cmVzXG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NpZ25hdHVyZSBub3QgZm91bmQgKHNpZ25hdHVyZTogJyArIChmbi5uYW1lIHx8ICd1bm5hbWVkJykgKyAnKCcgKyBhcnIuam9pbignLCAnKSArICcpKScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBnaXZlbiB2YWx1ZSB0byBhbm90aGVyIGRhdGEgdHlwZS5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb252ZXJ0ICh2YWx1ZSwgdHlwZSkge1xuICAgICAgdmFyIGZyb20gPSBmaW5kVHlwZU5hbWUodmFsdWUpO1xuXG4gICAgICAvLyBjaGVjayBjb252ZXJzaW9uIGlzIG5lZWRlZFxuICAgICAgaWYgKHR5cGUgPT09IGZyb20pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVkLmNvbnZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjb252ZXJzaW9uID0gdHlwZWQuY29udmVyc2lvbnNbaV07XG4gICAgICAgIGlmIChjb252ZXJzaW9uLmZyb20gPT09IGZyb20gJiYgY29udmVyc2lvbi50byA9PT0gdHlwZSkge1xuICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uLmNvbnZlcnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgZnJvbSAnICsgZnJvbSArICcgdG8gJyArIHR5cGUpO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTdHJpbmdpZnkgcGFyYW1ldGVycyBpbiBhIG5vcm1hbGl6ZWQgd2F5XG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5UGFyYW1zIChwYXJhbXMpIHtcbiAgICAgIHJldHVybiBwYXJhbXNcbiAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgdmFyIHR5cGVOYW1lcyA9IHBhcmFtLnR5cGVzLm1hcChnZXRUeXBlTmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiAocGFyYW0ucmVzdFBhcmFtID8gJy4uLicgOiAnJykgKyB0eXBlTmFtZXMuam9pbignfCcpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHBhcmFtZXRlciwgbGlrZSBcIi4uLm51bWJlciB8IGJvb2xlYW5cIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVxuICAgICAqIEBwYXJhbSB7Q29udmVyc2lvbkRlZltdfSBjb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge1BhcmFtfSBwYXJhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlUGFyYW0gKHBhcmFtLCBjb252ZXJzaW9ucykge1xuICAgICAgdmFyIHJlc3RQYXJhbSA9IHBhcmFtLmluZGV4T2YoJy4uLicpID09PSAwO1xuICAgICAgdmFyIHR5cGVzID0gKCFyZXN0UGFyYW0pXG4gICAgICAgICAgPyBwYXJhbVxuICAgICAgICAgIDogKHBhcmFtLmxlbmd0aCA+IDMpXG4gICAgICAgICAgICAgID8gcGFyYW0uc2xpY2UoMylcbiAgICAgICAgICAgICAgOiAnYW55JztcblxuICAgICAgdmFyIHR5cGVOYW1lcyA9IHR5cGVzLnNwbGl0KCd8JykubWFwKHRyaW0pXG4gICAgICAgICAgLmZpbHRlcihub3RFbXB0eSlcbiAgICAgICAgICAuZmlsdGVyKG5vdElnbm9yZSk7XG5cbiAgICAgIHZhciBtYXRjaGluZ0NvbnZlcnNpb25zID0gZmlsdGVyQ29udmVyc2lvbnMoY29udmVyc2lvbnMsIHR5cGVOYW1lcyk7XG5cbiAgICAgIHZhciBleGFjdFR5cGVzID0gdHlwZU5hbWVzLm1hcChmdW5jdGlvbiAodHlwZU5hbWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBmaW5kVHlwZUJ5TmFtZSh0eXBlTmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB0eXBlTmFtZSxcbiAgICAgICAgICB0eXBlSW5kZXg6IGZpbmRUeXBlSW5kZXgodHlwZSksXG4gICAgICAgICAgdGVzdDogdHlwZS50ZXN0LFxuICAgICAgICAgIGNvbnZlcnNpb246IG51bGwsXG4gICAgICAgICAgY29udmVyc2lvbkluZGV4OiAtMVxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjb252ZXJ0aWJsZVR5cGVzID0gbWF0Y2hpbmdDb252ZXJzaW9ucy5tYXAoZnVuY3Rpb24gKGNvbnZlcnNpb24pIHtcbiAgICAgICAgdmFyIHR5cGUgPSBmaW5kVHlwZUJ5TmFtZShjb252ZXJzaW9uLmZyb20pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogY29udmVyc2lvbi5mcm9tLFxuICAgICAgICAgIHR5cGVJbmRleDogZmluZFR5cGVJbmRleCh0eXBlKSxcbiAgICAgICAgICB0ZXN0OiB0eXBlLnRlc3QsXG4gICAgICAgICAgY29udmVyc2lvbjogY29udmVyc2lvbixcbiAgICAgICAgICBjb252ZXJzaW9uSW5kZXg6IGNvbnZlcnNpb25zLmluZGV4T2YoY29udmVyc2lvbilcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlczogZXhhY3RUeXBlcy5jb25jYXQoY29udmVydGlibGVUeXBlcyksXG4gICAgICAgIHJlc3RQYXJhbTogcmVzdFBhcmFtXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGEgc2lnbmF0dXJlIHdpdGggY29tbWEgc2VwYXJhdGVkIHBhcmFtZXRlcnMsXG4gICAgICogbGlrZSBcIm51bWJlciB8IGJvb2xlYW4sIC4uLnN0cmluZ1wiXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gICAgICogQHBhcmFtIHtDb252ZXJzaW9uRGVmW119IGNvbnZlcnNpb25zXG4gICAgICogQHJldHVybiB7U2lnbmF0dXJlIHwgbnVsbH0gc2lnbmF0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VTaWduYXR1cmUgKHNpZ25hdHVyZSwgZm4sIGNvbnZlcnNpb25zKSB7XG4gICAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICAgIGlmIChzaWduYXR1cmUudHJpbSgpICE9PSAnJykge1xuICAgICAgICBwYXJhbXMgPSBzaWduYXR1cmVcbiAgICAgICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgICAgICAubWFwKHRyaW0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwYXJhbSwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgICAgIHZhciBwYXJzZWRQYXJhbSA9IHBhcnNlUGFyYW0ocGFyYW0sIGNvbnZlcnNpb25zKTtcblxuICAgICAgICAgICAgICBpZiAocGFyc2VkUGFyYW0ucmVzdFBhcmFtICYmIChpbmRleCAhPT0gYXJyYXkubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuZXhwZWN0ZWQgcmVzdCBwYXJhbWV0ZXIgXCInICsgcGFyYW0gKyAnXCI6ICcgK1xuICAgICAgICAgICAgICAgICAgICAnb25seSBhbGxvd2VkIGZvciB0aGUgbGFzdCBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZWRQYXJhbTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5zb21lKGlzSW52YWxpZFBhcmFtKSkge1xuICAgICAgICAvLyBpbnZhbGlkIHNpZ25hdHVyZTogYXQgbGVhc3Qgb25lIHBhcmFtZXRlciBoYXMgbm8gdHlwZXNcbiAgICAgICAgLy8gKHRoZXkgbWF5IGhhdmUgYmVlbiBmaWx0ZXJlZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICBmbjogZm5cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgc2V0IG9mIHBhcmFtcyBjb250YWlucyBhIHJlc3RQYXJhbVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIGxhc3QgcGFyYW1ldGVyIGlzIGEgcmVzdFBhcmFtXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUmVzdFBhcmFtKHBhcmFtcykge1xuICAgICAgdmFyIHBhcmFtID0gbGFzdChwYXJhbXMpXG4gICAgICByZXR1cm4gcGFyYW0gPyBwYXJhbS5yZXN0UGFyYW0gOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBwYXJhbWV0ZXIgY29udGFpbnMgY29udmVyc2lvbnNcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGF0IGxlYXN0IG9uZSBvZiB0aGUgcGFyYW1ldGVyc1xuICAgICAqICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zIGEgY29udmVyc2lvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNDb252ZXJzaW9ucyhwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLnR5cGVzLnNvbWUoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUuY29udmVyc2lvbiAhPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHlwZSB0ZXN0IGZvciBhIHNpbmdsZSBwYXJhbWV0ZXIsIHdoaWNoIGNhbiBoYXZlIG9uZSBvciBtdWx0aXBsZVxuICAgICAqIHR5cGVzLlxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oeDogKikgOiBib29sZWFufSBSZXR1cm5zIGEgdGVzdCBmdW5jdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZXN0KHBhcmFtKSB7XG4gICAgICBpZiAoIXBhcmFtIHx8IHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIHJldHVybiBvaztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMF0ubmFtZSkudGVzdDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB2YXIgdGVzdDAgPSBmaW5kVHlwZUJ5TmFtZShwYXJhbS50eXBlc1swXS5uYW1lKS50ZXN0O1xuICAgICAgICB2YXIgdGVzdDEgPSBmaW5kVHlwZUJ5TmFtZShwYXJhbS50eXBlc1sxXS5uYW1lKS50ZXN0O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb3IoeCkge1xuICAgICAgICAgIHJldHVybiB0ZXN0MCh4KSB8fCB0ZXN0MSh4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7IC8vIHBhcmFtLnR5cGVzLmxlbmd0aCA+IDJcbiAgICAgICAgdmFyIHRlc3RzID0gcGFyYW0udHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbmRUeXBlQnlOYW1lKHR5cGUubmFtZSkudGVzdDtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9yKHgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGVzdHNbaV0oeCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRlc3QgZm9yIGFsbCBwYXJhbWV0ZXJzIG9mIGEgc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihhcmdzOiBBcnJheTwqPikgOiBib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZXN0cyhwYXJhbXMpIHtcbiAgICAgIHZhciB0ZXN0cywgdGVzdDAsIHRlc3QxO1xuXG4gICAgICBpZiAoaGFzUmVzdFBhcmFtKHBhcmFtcykpIHtcbiAgICAgICAgLy8gdmFyaWFibGUgYXJndW1lbnRzIGxpa2UgJy4uLm51bWJlcidcbiAgICAgICAgdGVzdHMgPSBpbml0aWFsKHBhcmFtcykubWFwKGNvbXBpbGVUZXN0KTtcbiAgICAgICAgdmFyIHZhckluZGV4ID0gdGVzdHMubGVuZ3RoO1xuICAgICAgICB2YXIgbGFzdFRlc3QgPSBjb21waWxlVGVzdChsYXN0KHBhcmFtcykpO1xuICAgICAgICB2YXIgdGVzdFJlc3RQYXJhbSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IHZhckluZGV4OyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFsYXN0VGVzdChhcmdzW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRlc3RzW2ldKGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRlc3RSZXN0UGFyYW0oYXJncykgJiYgKGFyZ3MubGVuZ3RoID49IHZhckluZGV4ICsgMSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gbm8gdmFyaWFibGUgYXJndW1lbnRzXG4gICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB0ZXN0MCA9IGNvbXBpbGVUZXN0KHBhcmFtc1swXSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0MChhcmdzWzBdKSAmJiBhcmdzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICB0ZXN0MCA9IGNvbXBpbGVUZXN0KHBhcmFtc1swXSk7XG4gICAgICAgICAgdGVzdDEgPSBjb21waWxlVGVzdChwYXJhbXNbMV0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdDAoYXJnc1swXSkgJiYgdGVzdDEoYXJnc1sxXSkgJiYgYXJncy5sZW5ndGggPT09IDI7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gYXJndW1lbnRzLmxlbmd0aCA+IDJcbiAgICAgICAgICB0ZXN0cyA9IHBhcmFtcy5tYXAoY29tcGlsZVRlc3QpO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICghdGVzdHNbaV0oYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gdGVzdHMubGVuZ3RoO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBwYXJhbWV0ZXIgYXQgYSBzcGVjaWZpYyBpbmRleCBvZiBhIHNpZ25hdHVyZS5cbiAgICAgKiBIYW5kbGVzIHJlc3QgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybiB7UGFyYW0gfCBudWxsfSBSZXR1cm5zIHRoZSBtYXRjaGluZyBwYXJhbWV0ZXIgd2hlbiBmb3VuZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5kZXggPCBzaWduYXR1cmUucGFyYW1zLmxlbmd0aFxuICAgICAgICAgID8gc2lnbmF0dXJlLnBhcmFtc1tpbmRleF1cbiAgICAgICAgICA6IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUucGFyYW1zKVxuICAgICAgICAgICAgICA/IGxhc3Qoc2lnbmF0dXJlLnBhcmFtcylcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCB0eXBlIG5hbWVzIG9mIGEgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZXhjbHVkZUNvbnZlcnNpb25zXG4gICAgICogQHJldHVybiB7c3RyaW5nW119IFJldHVybnMgYW4gYXJyYXkgd2l0aCB0eXBlIG5hbWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMgKHNpZ25hdHVyZSwgaW5kZXgsIGV4Y2x1ZGVDb252ZXJzaW9ucykge1xuICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1BdEluZGV4KHNpZ25hdHVyZSwgaW5kZXgpO1xuICAgICAgdmFyIHR5cGVzID0gcGFyYW1cbiAgICAgICAgICA/IGV4Y2x1ZGVDb252ZXJzaW9uc1xuICAgICAgICAgICAgICAgICAgPyBwYXJhbS50eXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICAgICAgICA6IHBhcmFtLnR5cGVzXG4gICAgICAgICAgOiBbXTtcblxuICAgICAgcmV0dXJuIHR5cGVzLm1hcChnZXRUeXBlTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge1R5cGV9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIHR5cGUgbmFtZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlLm5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgdHlwZSBpcyBhbiBleGFjdCB0eXBlIG9yIGNvbnZlcnNpb25cbiAgICAgKiBAcGFyYW0ge1R5cGV9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXhhY3RUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlLmNvbnZlcnNpb24gPT09IG51bGwgfHwgdHlwZS5jb252ZXJzaW9uID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBlcnJvciBtZXNzYWdlczogY3JlYXRlIGFuIGFycmF5IHdpdGhcbiAgICAgKiBhbGwgYXZhaWxhYmxlIHR5cGVzIG9uIGEgc3BlY2lmaWMgYXJndW1lbnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBSZXR1cm5zIGFuIGFycmF5IHdpdGggYXZhaWxhYmxlIHR5cGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VFeHBlY3RlZFBhcmFtcyhzaWduYXR1cmVzLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGVOYW1lcyA9IHVuaXEoZmxhdE1hcChzaWduYXR1cmVzLCBmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBnZXRFeHBlY3RlZFR5cGVOYW1lcyhzaWduYXR1cmUsIGluZGV4LCBmYWxzZSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiAodHlwZU5hbWVzLmluZGV4T2YoJ2FueScpICE9PSAtMSkgPyBbJ2FueSddIDogdHlwZU5hbWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7YXJyYXkuPCo+fSBhcmdzICAgICAgICAgIFRoZSBhY3R1YWwgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZVtdfSBzaWduYXR1cmVzICBBIGxpc3Qgd2l0aCBhdmFpbGFibGUgc2lnbmF0dXJlc1xuICAgICAqIEByZXR1cm4ge1R5cGVFcnJvcn0gUmV0dXJucyBhIHR5cGUgZXJyb3Igd2l0aCBhZGRpdGlvbmFsIGRhdGFcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkIHRvIGl0IGluIHRoZSBwcm9wZXJ0eSBgZGF0YWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVFcnJvcihuYW1lLCBhcmdzLCBzaWduYXR1cmVzKSB7XG4gICAgICB2YXIgZXJyLCBleHBlY3RlZDtcbiAgICAgIHZhciBfbmFtZSA9IG5hbWUgfHwgJ3VubmFtZWQnO1xuXG4gICAgICAvLyB0ZXN0IGZvciB3cm9uZyB0eXBlIGF0IHNvbWUgaW5kZXhcbiAgICAgIHZhciBtYXRjaGluZ1NpZ25hdHVyZXMgPSBzaWduYXR1cmVzO1xuICAgICAgdmFyIGluZGV4O1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgYXJncy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIG5leHRNYXRjaGluZ0RlZnMgPSBtYXRjaGluZ1NpZ25hdHVyZXMuZmlsdGVyKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgICB2YXIgdGVzdCA9IGNvbXBpbGVUZXN0KGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KSk7XG4gICAgICAgICAgcmV0dXJuIChpbmRleCA8IHNpZ25hdHVyZS5wYXJhbXMubGVuZ3RoIHx8IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUucGFyYW1zKSkgJiZcbiAgICAgICAgICAgICAgdGVzdChhcmdzW2luZGV4XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChuZXh0TWF0Y2hpbmdEZWZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIG5vIG1hdGNoaW5nIHNpZ25hdHVyZXMgYW55bW9yZSwgdGhyb3cgZXJyb3IgXCJ3cm9uZyB0eXBlXCJcbiAgICAgICAgICBleHBlY3RlZCA9IG1lcmdlRXhwZWN0ZWRQYXJhbXMobWF0Y2hpbmdTaWduYXR1cmVzLCBpbmRleCk7XG4gICAgICAgICAgaWYgKGV4cGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhY3R1YWxUeXBlID0gZmluZFR5cGVOYW1lKGFyZ3NbaW5kZXhdKTtcblxuICAgICAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCB0eXBlIG9mIGFyZ3VtZW50IGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAgICAgJyAoZXhwZWN0ZWQ6ICcgKyBleHBlY3RlZC5qb2luKCcgb3IgJykgK1xuICAgICAgICAgICAgICAgICcsIGFjdHVhbDogJyArIGFjdHVhbFR5cGUgKyAnLCBpbmRleDogJyArIGluZGV4ICsgJyknKTtcbiAgICAgICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgICAgICBjYXRlZ29yeTogJ3dyb25nVHlwZScsXG4gICAgICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbFR5cGUsXG4gICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbWF0Y2hpbmdTaWduYXR1cmVzID0gbmV4dE1hdGNoaW5nRGVmcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB0ZXN0IGZvciB0b28gZmV3IGFyZ3VtZW50c1xuICAgICAgdmFyIGxlbmd0aHMgPSBtYXRjaGluZ1NpZ25hdHVyZXMubWFwKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGhhc1Jlc3RQYXJhbShzaWduYXR1cmUucGFyYW1zKSA/IEluZmluaXR5IDogc2lnbmF0dXJlLnBhcmFtcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IE1hdGgubWluLmFwcGx5KG51bGwsIGxlbmd0aHMpKSB7XG4gICAgICAgIGV4cGVjdGVkID0gbWVyZ2VFeHBlY3RlZFBhcmFtcyhtYXRjaGluZ1NpZ25hdHVyZXMsIGluZGV4KTtcbiAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignVG9vIGZldyBhcmd1bWVudHMgaW4gZnVuY3Rpb24gJyArIF9uYW1lICtcbiAgICAgICAgICAgICcgKGV4cGVjdGVkOiAnICsgZXhwZWN0ZWQuam9pbignIG9yICcpICtcbiAgICAgICAgICAgICcsIGluZGV4OiAnICsgYXJncy5sZW5ndGggKyAnKScpO1xuICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICBjYXRlZ29yeTogJ3Rvb0Zld0FyZ3MnLFxuICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICBpbmRleDogYXJncy5sZW5ndGgsXG4gICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgIH1cblxuICAgICAgLy8gdGVzdCBmb3IgdG9vIG1hbnkgYXJndW1lbnRzXG4gICAgICB2YXIgbWF4TGVuZ3RoID0gTWF0aC5tYXguYXBwbHkobnVsbCwgbGVuZ3Rocyk7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignVG9vIG1hbnkgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAnIChleHBlY3RlZDogJyArIG1heExlbmd0aCArICcsIGFjdHVhbDogJyArIGFyZ3MubGVuZ3RoICsgJyknKTtcbiAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgY2F0ZWdvcnk6ICd0b29NYW55QXJncycsXG4gICAgICAgICAgZm46IF9uYW1lLFxuICAgICAgICAgIGluZGV4OiBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBleHBlY3RlZExlbmd0aDogbWF4TGVuZ3RoXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgIH1cblxuICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG9mIHR5cGUgXCInICsgYXJncy5qb2luKCcsICcpICtcbiAgICAgICAgICAnXCIgZG8gbm90IG1hdGNoIGFueSBvZiB0aGUgZGVmaW5lZCBzaWduYXR1cmVzIG9mIGZ1bmN0aW9uICcgKyBfbmFtZSArICcuJyk7XG4gICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgY2F0ZWdvcnk6ICdtaXNtYXRjaCcsXG4gICAgICAgIGFjdHVhbDogYXJncy5tYXAoZmluZFR5cGVOYW1lKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBsb3dlc3QgaW5kZXggb2YgYWxsIGV4YWN0IHR5cGVzIG9mIGEgcGFyYW1ldGVyIChubyBjb252ZXJzaW9ucylcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxvd2VzdCB0eXBlIGluIHR5cGVkLnR5cGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TG93ZXN0VHlwZUluZGV4IChwYXJhbSkge1xuICAgICAgdmFyIG1pbiA9IDk5OTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbS50eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNFeGFjdFR5cGUocGFyYW0udHlwZXNbaV0pKSB7XG4gICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBwYXJhbS50eXBlc1tpXS50eXBlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbG93ZXN0IGluZGV4IG9mIHRoZSBjb252ZXJzaW9uIG9mIGFsbCB0eXBlcyBvZiB0aGUgcGFyYW1ldGVyXG4gICAgICogaGF2aW5nIGEgY29udmVyc2lvblxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSBsb3dlc3QgaW5kZXggb2YgdGhlIGNvbnZlcnNpb25zIG9mIHRoaXMgdHlwZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExvd2VzdENvbnZlcnNpb25JbmRleCAocGFyYW0pIHtcbiAgICAgIHZhciBtaW4gPSA5OTk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW0udHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpc0V4YWN0VHlwZShwYXJhbS50eXBlc1tpXSkpIHtcbiAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHBhcmFtLnR5cGVzW2ldLmNvbnZlcnNpb25JbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbTFcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbTJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHJldHVybnMgYSBuZWdhdGl2ZSBudW1iZXIgd2hlbiBwYXJhbTEgbXVzdCBnZXQgYSBsb3dlclxuICAgICAqICAgICAgICAgICAgICAgICAgaW5kZXggdGhhbiBwYXJhbTIsIGEgcG9zaXRpdmUgbnVtYmVyIHdoZW4gdGhlIG9wcG9zaXRlLFxuICAgICAqICAgICAgICAgICAgICAgICAgb3IgemVybyB3aGVuIGJvdGggYXJlIGVxdWFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZVBhcmFtcyAocGFyYW0xLCBwYXJhbTIpIHtcbiAgICAgIHZhciBjO1xuXG4gICAgICAvLyBjb21wYXJlIGhhdmluZyBhIHJlc3QgcGFyYW1ldGVyIG9yIG5vdFxuICAgICAgYyA9IHBhcmFtMS5yZXN0UGFyYW0gLSBwYXJhbTIucmVzdFBhcmFtO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgaGF2aW5nIGNvbnZlcnNpb25zIG9yIG5vdFxuICAgICAgYyA9IGhhc0NvbnZlcnNpb25zKHBhcmFtMSkgLSBoYXNDb252ZXJzaW9ucyhwYXJhbTIpO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIGluZGV4IG9mIHRoZSB0eXBlc1xuICAgICAgYyA9IGdldExvd2VzdFR5cGVJbmRleChwYXJhbTEpIC0gZ2V0TG93ZXN0VHlwZUluZGV4KHBhcmFtMik7XG4gICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gYztcbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgaW5kZXggb2YgYW55IGNvbnZlcnNpb25cbiAgICAgIHJldHVybiBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXgocGFyYW0xKSAtIGdldExvd2VzdENvbnZlcnNpb25JbmRleChwYXJhbTIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmUgdHdvIHNpZ25hdHVyZXNcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMVxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmUyXG4gICAgICogQHJldHVybiB7bnVtYmVyfSByZXR1cm5zIGEgbmVnYXRpdmUgbnVtYmVyIHdoZW4gcGFyYW0xIG11c3QgZ2V0IGEgbG93ZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgIGluZGV4IHRoYW4gcGFyYW0yLCBhIHBvc2l0aXZlIG51bWJlciB3aGVuIHRoZSBvcHBvc2l0ZSxcbiAgICAgKiAgICAgICAgICAgICAgICAgIG9yIHplcm8gd2hlbiBib3RoIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVTaWduYXR1cmVzIChzaWduYXR1cmUxLCBzaWduYXR1cmUyKSB7XG4gICAgICB2YXIgbGVuID0gTWF0aC5taW4oc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoLCBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGgpO1xuICAgICAgdmFyIGk7XG4gICAgICB2YXIgYztcblxuICAgICAgLy8gY29tcGFyZSB3aGV0aGVyIHRoZSBwYXJhbXMgaGF2ZSBjb252ZXJzaW9ucyBhdCBhbGwgb3Igbm90XG4gICAgICBjID0gc2lnbmF0dXJlMS5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucykgLSBzaWduYXR1cmUyLnBhcmFtcy5zb21lKGhhc0NvbnZlcnNpb25zKVxuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIG5leHQgY29tcGFyZSB3aGV0aGVyIHRoZSBwYXJhbXMgaGF2ZSBjb252ZXJzaW9ucyBvbmUgYnkgb25lXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYyA9IGhhc0NvbnZlcnNpb25zKHNpZ25hdHVyZTEucGFyYW1zW2ldKSAtIGhhc0NvbnZlcnNpb25zKHNpZ25hdHVyZTIucGFyYW1zW2ldKTtcbiAgICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSB0eXBlcyBvZiB0aGUgcGFyYW1zIG9uZSBieSBvbmVcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjID0gY29tcGFyZVBhcmFtcyhzaWduYXR1cmUxLnBhcmFtc1tpXSwgc2lnbmF0dXJlMi5wYXJhbXNbaV0pO1xuICAgICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIG51bWJlciBvZiBwYXJhbXNcbiAgICAgIHJldHVybiBzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGggLSBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBhcmFtcyBjb250YWluaW5nIGFsbCB0eXBlcyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gdGhlIGRlZmluZWQgdHlwZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbnZlcnNpb25EZWZbXX0gY29udmVyc2lvbnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB0eXBlTmFtZXNcbiAgICAgKiBAcmV0dXJuIHtDb252ZXJzaW9uRGVmW119IFJldHVybnMgdGhlIGNvbnZlcnNpb25zIHRoYXQgYXJlIGF2YWlsYWJsZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGV2ZXJ5IHR5cGUgKGlmIGFueSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXJDb252ZXJzaW9ucyhjb252ZXJzaW9ucywgdHlwZU5hbWVzKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9IHt9O1xuXG4gICAgICBjb252ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICAgIGlmICh0eXBlTmFtZXMuaW5kZXhPZihjb252ZXJzaW9uLmZyb20pID09PSAtMSAmJlxuICAgICAgICAgICAgdHlwZU5hbWVzLmluZGV4T2YoY29udmVyc2lvbi50bykgIT09IC0xICYmXG4gICAgICAgICAgICAhbWF0Y2hlc1tjb252ZXJzaW9uLmZyb21dKSB7XG4gICAgICAgICAgbWF0Y2hlc1tjb252ZXJzaW9uLmZyb21dID0gY29udmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXRjaGVzKS5tYXAoZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNbZnJvbV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwcm9jZXNzIGFyZ3VtZW50cyBiZWZvcmUgY2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb246XG4gICAgICogLSBpZiBuZWVkZWQgY29udmVydCB0aGUgcGFyYW1ldGVyc1xuICAgICAqIC0gaW4gY2FzZSBvZiByZXN0IHBhcmFtZXRlcnMsIG1vdmUgdGhlIHJlc3QgcGFyYW1ldGVycyBpbnRvIGFuIEFycmF5XG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgd3JhcHBlZCBmdW5jdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVBcmdzUHJlcHJvY2Vzc2luZyhwYXJhbXMsIGZuKSB7XG4gICAgICB2YXIgZm5Db252ZXJ0ID0gZm47XG5cbiAgICAgIC8vIFRPRE86IGNhbiB3ZSBtYWtlIHRoaXMgd3JhcHBlciBmdW5jdGlvbiBzbWFydGVyL3NpbXBsZXI/XG5cbiAgICAgIGlmIChwYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucykpIHtcbiAgICAgICAgdmFyIHJlc3RQYXJhbSA9IGhhc1Jlc3RQYXJhbShwYXJhbXMpO1xuICAgICAgICB2YXIgY29tcGlsZWRDb252ZXJzaW9ucyA9IHBhcmFtcy5tYXAoY29tcGlsZUFyZ0NvbnZlcnNpb24pXG5cbiAgICAgICAgZm5Db252ZXJ0ID0gZnVuY3Rpb24gY29udmVydEFyZ3MoKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICB2YXIgbGFzdCA9IHJlc3RQYXJhbSA/IGFyZ3VtZW50cy5sZW5ndGggLSAxIDogYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3Q7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpXSA9IGNvbXBpbGVkQ29udmVyc2lvbnNbaV0oYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3RQYXJhbSkge1xuICAgICAgICAgICAgYXJnc1tsYXN0XSA9IGFyZ3VtZW50c1tsYXN0XS5tYXAoY29tcGlsZWRDb252ZXJzaW9uc1tsYXN0XSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBmblByZXByb2Nlc3MgPSBmbkNvbnZlcnQ7XG4gICAgICBpZiAoaGFzUmVzdFBhcmFtKHBhcmFtcykpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHBhcmFtcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZuUHJlcHJvY2VzcyA9IGZ1bmN0aW9uIHByZXByb2Nlc3NSZXN0UGFyYW1zICgpIHtcbiAgICAgICAgICByZXR1cm4gZm5Db252ZXJ0LmFwcGx5KHRoaXMsXG4gICAgICAgICAgICAgIHNsaWNlKGFyZ3VtZW50cywgMCwgb2Zmc2V0KS5jb25jYXQoW3NsaWNlKGFyZ3VtZW50cywgb2Zmc2V0KV0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm5QcmVwcm9jZXNzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgY29udmVyc2lvbiBmb3IgYSBwYXJhbWV0ZXIgdG8gdGhlIHJpZ2h0IHR5cGVcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHRoYXQgd2lsbCBjb252ZXJ0IGFyZ3VtZW50c1xuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZUFyZ0NvbnZlcnNpb24ocGFyYW0pIHtcbiAgICAgIHZhciB0ZXN0MCwgdGVzdDEsIGNvbnZlcnNpb24wLCBjb252ZXJzaW9uMTtcbiAgICAgIHZhciB0ZXN0cyA9IFtdO1xuICAgICAgdmFyIGNvbnZlcnNpb25zID0gW107XG5cbiAgICAgIHBhcmFtLnR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUuY29udmVyc2lvbikge1xuICAgICAgICAgIHRlc3RzLnB1c2goZmluZFR5cGVCeU5hbWUodHlwZS5jb252ZXJzaW9uLmZyb20pLnRlc3QpO1xuICAgICAgICAgIGNvbnZlcnNpb25zLnB1c2godHlwZS5jb252ZXJzaW9uLmNvbnZlcnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gY3JlYXRlIG9wdGltaXplZCBjb252ZXJzaW9uIGZ1bmN0aW9ucyBkZXBlbmRpbmcgb24gdGhlIG51bWJlciBvZiBjb252ZXJzaW9uc1xuICAgICAgc3dpdGNoIChjb252ZXJzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjb252ZXJ0QXJnKGFyZykge1xuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRlc3QwID0gdGVzdHNbMF1cbiAgICAgICAgICBjb252ZXJzaW9uMCA9IGNvbnZlcnNpb25zWzBdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjb252ZXJ0QXJnKGFyZykge1xuICAgICAgICAgICAgaWYgKHRlc3QwKGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24wKGFyZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB0ZXN0MCA9IHRlc3RzWzBdXG4gICAgICAgICAgdGVzdDEgPSB0ZXN0c1sxXVxuICAgICAgICAgIGNvbnZlcnNpb24wID0gY29udmVyc2lvbnNbMF07XG4gICAgICAgICAgY29udmVyc2lvbjEgPSBjb252ZXJzaW9uc1sxXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGlmICh0ZXN0MChhcmcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uMChhcmcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGVzdDEoYXJnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbjEoYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udmVyc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRlc3RzW2ldKGFyZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbnNbaV0oYXJnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbiBhcnJheSB3aXRoIHNpZ25hdHVyZXMgaW50byBhIG1hcCB3aXRoIHNpZ25hdHVyZXMsXG4gICAgICogd2hlcmUgc2lnbmF0dXJlcyB3aXRoIHVuaW9uIHR5cGVzIGFyZSBzcGxpdCBpbnRvIHNlcGFyYXRlIHNpZ25hdHVyZXNcbiAgICAgKlxuICAgICAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoZXJlIGFyZSBjb25mbGljdGluZyB0eXBlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlc1xuICAgICAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICBSZXR1cm5zIGEgbWFwIHdpdGggc2lnbmF0dXJlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBrZXkgYW5kIHRoZSBvcmlnaW5hbCBmdW5jdGlvblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGlzIHNpZ25hdHVyZSBhcyB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVTaWduYXR1cmVzTWFwKHNpZ25hdHVyZXMpIHtcbiAgICAgIHZhciBzaWduYXR1cmVzTWFwID0ge307XG4gICAgICBzaWduYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICBpZiAoIXNpZ25hdHVyZS5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucykpIHtcbiAgICAgICAgICBzcGxpdFBhcmFtcyhzaWduYXR1cmUucGFyYW1zLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZXNNYXBbc3RyaW5naWZ5UGFyYW1zKHBhcmFtcyldID0gc2lnbmF0dXJlLmZuO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNpZ25hdHVyZXNNYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BsaXQgcGFyYW1zIHdpdGggdW5pb24gdHlwZXMgaW4gdG8gc2VwYXJhdGUgcGFyYW1zLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgICAgc3BsaXRQYXJhbXMoW1snQXJyYXknLCAnT2JqZWN0J10sIFsnc3RyaW5nJywgJ1JlZ0V4cCddKVxuICAgICAqICAgICAvLyByZXR1cm5zOlxuICAgICAqICAgICAvLyBbXG4gICAgICogICAgIC8vICAgWydBcnJheScsICdzdHJpbmcnXSxcbiAgICAgKiAgICAgLy8gICBbJ0FycmF5JywgJ1JlZ0V4cCddLFxuICAgICAqICAgICAvLyAgIFsnT2JqZWN0JywgJ3N0cmluZyddLFxuICAgICAqICAgICAvLyAgIFsnT2JqZWN0JywgJ1JlZ0V4cCddXG4gICAgICogICAgIC8vIF1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpZ25vcmVDb252ZXJzaW9uVHlwZXNcbiAgICAgKiBAcmV0dXJuIHtQYXJhbVtdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0UGFyYW1zKHBhcmFtcywgaWdub3JlQ29udmVyc2lvblR5cGVzKSB7XG4gICAgICBmdW5jdGlvbiBfc3BsaXRQYXJhbXMocGFyYW1zLCBpbmRleCwgdHlwZXMpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgcGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1tpbmRleF1cbiAgICAgICAgICB2YXIgZmlsdGVyZWRUeXBlcyA9IGlnbm9yZUNvbnZlcnNpb25UeXBlc1xuICAgICAgICAgICAgICA/IHBhcmFtLnR5cGVzLmZpbHRlcihpc0V4YWN0VHlwZSlcbiAgICAgICAgICAgICAgOiBwYXJhbS50eXBlcztcbiAgICAgICAgICB2YXIgdHlwZUdyb3Vwc1xuXG4gICAgICAgICAgaWYgKHBhcmFtLnJlc3RQYXJhbSkge1xuICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHR5cGVzIG9mIGEgcmVzdCBwYXJhbWV0ZXIgaW4gdHdvOlxuICAgICAgICAgICAgLy8gb25lIHdpdGggb25seSBleGFjdCB0eXBlcywgYW5kIG9uZSB3aXRoIGV4YWN0IHR5cGVzIGFuZCBjb252ZXJzaW9uc1xuICAgICAgICAgICAgdmFyIGV4YWN0VHlwZXMgPSBmaWx0ZXJlZFR5cGVzLmZpbHRlcihpc0V4YWN0VHlwZSlcbiAgICAgICAgICAgIHR5cGVHcm91cHMgPSBleGFjdFR5cGVzLmxlbmd0aCA8IGZpbHRlcmVkVHlwZXMubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBbZXhhY3RUeXBlcywgZmlsdGVyZWRUeXBlc11cbiAgICAgICAgICAgICAgICA6IFtmaWx0ZXJlZFR5cGVzXVxuXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3BsaXQgYWxsIHRoZSB0eXBlcyBvZiBhIHJlZ3VsYXIgcGFyYW1ldGVyIGludG8gb25lIHR5cGUgcGVyIGdyb3VwXG4gICAgICAgICAgICB0eXBlR3JvdXBzID0gZmlsdGVyZWRUeXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFt0eXBlXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZWN1cnNlIG92ZXIgdGhlIGdyb3VwcyB3aXRoIHR5cGVzXG4gICAgICAgICAgcmV0dXJuIGZsYXRNYXAodHlwZUdyb3VwcywgZnVuY3Rpb24gKHR5cGVHcm91cCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zcGxpdFBhcmFtcyhwYXJhbXMsIGluZGV4ICsgMSwgdHlwZXMuY29uY2F0KFt0eXBlR3JvdXBdKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyB3ZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHBhcmFtZXRlcnMuIE5vdyBidWlsZCBhIG5ldyBQYXJhbVxuICAgICAgICAgIHZhciBzcGxpdHRlZFBhcmFtcyA9IHR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSwgdHlwZUluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlczogdHlwZSxcbiAgICAgICAgICAgICAgcmVzdFBhcmFtOiAodHlwZUluZGV4ID09PSBwYXJhbXMubGVuZ3RoIC0gMSkgJiYgaGFzUmVzdFBhcmFtKHBhcmFtcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBbc3BsaXR0ZWRQYXJhbXNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfc3BsaXRQYXJhbXMocGFyYW1zLCAwLCBbXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBzaWduYXR1cmVzIGhhdmUgYSBjb25mbGljdGluZyBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMVxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmUyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHNpZ25hdHVyZXMgY29uZmxpY3QsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNDb25mbGljdGluZ1BhcmFtcyhzaWduYXR1cmUxLCBzaWduYXR1cmUyKSB7XG4gICAgICB2YXIgaWkgPSBNYXRoLm1heChzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGgsIHNpZ25hdHVyZTIucGFyYW1zLmxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgdHlwZXNOYW1lczEgPSBnZXRFeHBlY3RlZFR5cGVOYW1lcyhzaWduYXR1cmUxLCBpLCB0cnVlKTtcbiAgICAgICAgdmFyIHR5cGVzTmFtZXMyID0gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlMiwgaSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKCFoYXNPdmVybGFwKHR5cGVzTmFtZXMxLCB0eXBlc05hbWVzMikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGxlbjEgPSBzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGg7XG4gICAgICB2YXIgbGVuMiA9IHNpZ25hdHVyZTIucGFyYW1zLmxlbmd0aDtcbiAgICAgIHZhciByZXN0UGFyYW0xID0gaGFzUmVzdFBhcmFtKHNpZ25hdHVyZTEucGFyYW1zKTtcbiAgICAgIHZhciByZXN0UGFyYW0yID0gaGFzUmVzdFBhcmFtKHNpZ25hdHVyZTIucGFyYW1zKTtcblxuICAgICAgcmV0dXJuIHJlc3RQYXJhbTFcbiAgICAgICAgICA/IHJlc3RQYXJhbTIgPyAobGVuMSA9PT0gbGVuMikgOiAobGVuMiA+PSBsZW4xKVxuICAgICAgICAgIDogcmVzdFBhcmFtMiA/IChsZW4xID49IGxlbjIpICA6IChsZW4xID09PSBsZW4yKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgICAgICAgICAgICAgICBUaGUgbmFtZSBmb3IgdGhlIHR5cGVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSBzaWduYXR1cmVzTWFwXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbiBvYmplY3Qgd2l0aCBvbmUgb3JcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlIHNpZ25hdHVyZXMgYXMga2V5LCBhbmQgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlIGFzIHZhbHVlLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSAgUmV0dXJucyB0aGUgY3JlYXRlZCB0eXBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIHNpZ25hdHVyZXNNYXApIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzaWduYXR1cmVzTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdObyBzaWduYXR1cmVzIHByb3ZpZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBhcnNlIHRoZSBzaWduYXR1cmVzLCBhbmQgY2hlY2sgZm9yIGNvbmZsaWN0c1xuICAgICAgdmFyIHBhcnNlZFNpZ25hdHVyZXMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKHNpZ25hdHVyZXNNYXApXG4gICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VTaWduYXR1cmUoc2lnbmF0dXJlLCBzaWduYXR1cmVzTWFwW3NpZ25hdHVyZV0sIHR5cGVkLmNvbnZlcnNpb25zKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIobm90TnVsbClcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAocGFyc2VkU2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoaXMgcGFyYW1ldGVyIGNvbmZsaWN0cyB3aXRoIGFscmVhZHkgcGFyc2VkIHNpZ25hdHVyZXNcbiAgICAgICAgICAgIHZhciBjb25mbGljdGluZ1NpZ25hdHVyZSA9IGZpbmRJbkFycmF5KHBhcnNlZFNpZ25hdHVyZXMsIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYXNDb25mbGljdGluZ1BhcmFtcyhzLCBwYXJzZWRTaWduYXR1cmUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjb25mbGljdGluZ1NpZ25hdHVyZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb25mbGljdGluZyBzaWduYXR1cmVzIFwiJyArXG4gICAgICAgICAgICAgICAgICBzdHJpbmdpZnlQYXJhbXMoY29uZmxpY3RpbmdTaWduYXR1cmUucGFyYW1zKSArICdcIiBhbmQgXCInICtcbiAgICAgICAgICAgICAgICAgIHN0cmluZ2lmeVBhcmFtcyhwYXJzZWRTaWduYXR1cmUucGFyYW1zKSArICdcIi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyc2VkU2lnbmF0dXJlcy5wdXNoKHBhcnNlZFNpZ25hdHVyZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgIC8vIHNwbGl0IGFuZCBmaWx0ZXIgdGhlIHR5cGVzIG9mIHRoZSBzaWduYXR1cmVzLCBhbmQgdGhlbiBvcmRlciB0aGVtXG4gICAgICB2YXIgc2lnbmF0dXJlcyA9IGZsYXRNYXAocGFyc2VkU2lnbmF0dXJlcywgZnVuY3Rpb24gKHBhcnNlZFNpZ25hdHVyZSkge1xuICAgICAgICB2YXIgcGFyYW1zID0gcGFyc2VkU2lnbmF0dXJlID8gc3BsaXRQYXJhbXMocGFyc2VkU2lnbmF0dXJlLnBhcmFtcywgZmFsc2UpIDogW11cblxuICAgICAgICByZXR1cm4gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgICAgZm46IHBhcnNlZFNpZ25hdHVyZS5mblxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSkuZmlsdGVyKG5vdE51bGwpO1xuXG4gICAgICBzaWduYXR1cmVzLnNvcnQoY29tcGFyZVNpZ25hdHVyZXMpO1xuXG4gICAgICAvLyB3ZSBjcmVhdGUgYSBoaWdobHkgb3B0aW1pemVkIGNoZWNrcyBmb3IgdGhlIGZpcnN0IGNvdXBsZSBvZiBzaWduYXR1cmVzIHdpdGggbWF4IDIgYXJndW1lbnRzXG4gICAgICB2YXIgb2swID0gc2lnbmF0dXJlc1swXSAmJiBzaWduYXR1cmVzWzBdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbMF0ucGFyYW1zKTtcbiAgICAgIHZhciBvazEgPSBzaWduYXR1cmVzWzFdICYmIHNpZ25hdHVyZXNbMV0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1sxXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rMiA9IHNpZ25hdHVyZXNbMl0gJiYgc2lnbmF0dXJlc1syXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzJdLnBhcmFtcyk7XG4gICAgICB2YXIgb2szID0gc2lnbmF0dXJlc1szXSAmJiBzaWduYXR1cmVzWzNdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbM10ucGFyYW1zKTtcbiAgICAgIHZhciBvazQgPSBzaWduYXR1cmVzWzRdICYmIHNpZ25hdHVyZXNbNF0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1s0XS5wYXJhbXMpO1xuICAgICAgdmFyIG9rNSA9IHNpZ25hdHVyZXNbNV0gJiYgc2lnbmF0dXJlc1s1XS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzVdLnBhcmFtcyk7XG4gICAgICB2YXIgYWxsT2sgPSBvazAgJiYgb2sxICYmIG9rMiAmJiBvazMgJiYgb2s0ICYmIG9rNTtcblxuICAgICAgLy8gY29tcGlsZSB0aGUgdGVzdHNcbiAgICAgIHZhciB0ZXN0cyA9IHNpZ25hdHVyZXMubWFwKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVUZXN0cyhzaWduYXR1cmUucGFyYW1zKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdGVzdDAwID0gb2swID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1swXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDEwID0gb2sxID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1sxXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDIwID0gb2syID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1syXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDMwID0gb2szID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1szXS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDQwID0gb2s0ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s0XS5wYXJhbXNbMF0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDUwID0gb2s1ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s1XS5wYXJhbXNbMF0pIDogbm90T2s7XG5cbiAgICAgIHZhciB0ZXN0MDEgPSBvazAgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzBdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MTEgPSBvazEgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzFdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MjEgPSBvazIgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzJdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MzEgPSBvazMgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzNdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0NDEgPSBvazQgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzRdLnBhcmFtc1sxXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0NTEgPSBvazUgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzVdLnBhcmFtc1sxXSkgOiBub3RPaztcblxuICAgICAgLy8gY29tcGlsZSB0aGUgZnVuY3Rpb25zXG4gICAgICB2YXIgZm5zID0gc2lnbmF0dXJlcy5tYXAoZnVuY3Rpb24oc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlQXJnc1ByZXByb2Nlc3Npbmcoc2lnbmF0dXJlLnBhcmFtcywgc2lnbmF0dXJlLmZuKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZm4wID0gb2swID8gZm5zWzBdIDogdW5kZWY7XG4gICAgICB2YXIgZm4xID0gb2sxID8gZm5zWzFdIDogdW5kZWY7XG4gICAgICB2YXIgZm4yID0gb2syID8gZm5zWzJdIDogdW5kZWY7XG4gICAgICB2YXIgZm4zID0gb2szID8gZm5zWzNdIDogdW5kZWY7XG4gICAgICB2YXIgZm40ID0gb2s0ID8gZm5zWzRdIDogdW5kZWY7XG4gICAgICB2YXIgZm41ID0gb2s1ID8gZm5zWzVdIDogdW5kZWY7XG5cbiAgICAgIHZhciBsZW4wID0gb2swID8gc2lnbmF0dXJlc1swXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuMSA9IG9rMSA/IHNpZ25hdHVyZXNbMV0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjIgPSBvazIgPyBzaWduYXR1cmVzWzJdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW4zID0gb2szID8gc2lnbmF0dXJlc1szXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuNCA9IG9rNCA/IHNpZ25hdHVyZXNbNF0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjUgPSBvazUgPyBzaWduYXR1cmVzWzVdLnBhcmFtcy5sZW5ndGggOiAtMTtcblxuICAgICAgLy8gc2ltcGxlIGFuZCBnZW5lcmljLCBidXQgYWxzbyBzbG93XG4gICAgICB2YXIgaVN0YXJ0ID0gYWxsT2sgPyA2IDogMDtcbiAgICAgIHZhciBpRW5kID0gc2lnbmF0dXJlcy5sZW5ndGg7XG4gICAgICB2YXIgZ2VuZXJpYyA9IGZ1bmN0aW9uIGdlbmVyaWMoKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICBmb3IgKHZhciBpID0gaVN0YXJ0OyBpIDwgaUVuZDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRlc3RzW2ldKGFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmbnNbaV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihuYW1lLCBhcmd1bWVudHMsIHNpZ25hdHVyZXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBjcmVhdGUgdGhlIHR5cGVkIGZ1bmN0aW9uXG4gICAgICAvLyBmYXN0LCBzcGVjaWFsaXplZCB2ZXJzaW9uLiBGYWxscyBiYWNrIHRvIHRoZSBzbG93ZXIsIGdlbmVyaWMgb25lIGlmIG5lZWRlZFxuICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oYXJnMCwgYXJnMSkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjAgJiYgdGVzdDAwKGFyZzApICYmIHRlc3QwMShhcmcxKSkgeyByZXR1cm4gZm4wLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4xICYmIHRlc3QxMChhcmcwKSAmJiB0ZXN0MTEoYXJnMSkpIHsgcmV0dXJuIGZuMS5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMiAmJiB0ZXN0MjAoYXJnMCkgJiYgdGVzdDIxKGFyZzEpKSB7IHJldHVybiBmbjIuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjMgJiYgdGVzdDMwKGFyZzApICYmIHRlc3QzMShhcmcxKSkgeyByZXR1cm4gZm4zLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW40ICYmIHRlc3Q0MChhcmcwKSAmJiB0ZXN0NDEoYXJnMSkpIHsgcmV0dXJuIGZuNC5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuNSAmJiB0ZXN0NTAoYXJnMCkgJiYgdGVzdDUxKGFyZzEpKSB7IHJldHVybiBmbjUuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cblxuICAgICAgICByZXR1cm4gZ2VuZXJpYy5hcHBseShmbiwgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIG5hbWUgdGhlIHR5cGVkIGZ1bmN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlOiBuYW1lfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIG9sZCBicm93c2VycyBkbyBub3Qgc3VwcG9ydCBPYmplY3QuZGVmaW5lUHJvcGVydHkgYW5kIHNvbWUgZG9uJ3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBuYW1lIHByb3BlcnR5XG4gICAgICAgIC8vIHRoZSBmdW5jdGlvbiBuYW1lIGlzIG5vdCBlc3NlbnRpYWwgZm9yIHRoZSBmdW5jdGlvbmluZywgaXQncyBtb3N0bHkgdXNlZnVsIGZvciBkZWJ1Z2dpbmcsXG4gICAgICAgIC8vIHNvIGl0J3MgZmluZSB0byBoYXZlIHVubmFtZWQgZnVuY3Rpb25zLlxuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggc2lnbmF0dXJlcyB0byB0aGUgZnVuY3Rpb25cbiAgICAgIGZuLnNpZ25hdHVyZXMgPSBjcmVhdGVTaWduYXR1cmVzTWFwKHNpZ25hdHVyZXMpO1xuXG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgdHlwZSBzaG91bGQgYmUgTk9UIGJlIGlnbm9yZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZU5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vdElnbm9yZSh0eXBlTmFtZSkge1xuICAgICAgcmV0dXJuIHR5cGVkLmlnbm9yZS5pbmRleE9mKHR5cGVOYW1lKSA9PT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdHJpbSBhIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICAgIHJldHVybiBzdHIudHJpbSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHN0cmluZyBpcyBub3QgZW1wdHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3RFbXB0eShzdHIpIHtcbiAgICAgIHJldHVybiAhIXN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBub3Qgc3RyaWN0IGVxdWFsIHRvIG51bGxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3ROdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgcGFyYW1ldGVyIGhhcyBubyB0eXBlcyBkZWZpbmVkXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW52YWxpZFBhcmFtIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLnR5cGVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIGJ1dCB0aGUgbGFzdCBpdGVtcyBvZiBhbiBhcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyKSB7XG4gICAgICByZXR1cm4gYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIGxhc3QgaXRlbSBvZiBhbiBhcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNsaWNlIGFuIGFycmF5IG9yIGZ1bmN0aW9uIEFyZ3VtZW50c1xuICAgICAqIEBwYXJhbSB7QXJyYXkgfCBBcmd1bWVudHMgfCBJQXJndW1lbnRzfSBhcnJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF1cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBjb250YWlucyBzb21lIGl0ZW1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhcnJheSBjb250YWlucyBpdGVtLCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0pIHtcbiAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdHdvIGFycmF5cyBoYXZlIG92ZXJsYXBwaW5nIGl0ZW1zXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkxXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYXQgbGVhc3Qgb25lIGl0ZW0gZXhpc3RzIGluIGJvdGggYXJyYXlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzT3ZlcmxhcChhcnJheTEsIGFycmF5Mikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbnRhaW5zKGFycmF5MiwgYXJyYXkxW2ldKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGZpcnN0IGl0ZW0gZnJvbSBhbiBhcnJheSBmb3Igd2hpY2ggdGVzdChhcnJbaV0pIHJldHVybnMgdHJ1ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHRlc3RcbiAgICAgKiBAcmV0dXJuIHsqIHwgdW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZyBpdGVtXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb3IgdW5kZWZpbmVkIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5BcnJheShhcnIsIHRlc3QpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0ZXN0KGFycltpXSkpIHtcbiAgICAgICAgICByZXR1cm4gYXJyW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB1bmlxdWUgaXRlbXMgb2YgYW4gYXJyYXkgd2l0aCBzdHJpbmdzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gYXJyXG4gICAgICogQHJldHVybiB7c3RyaW5nW119XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnIpIHtcbiAgICAgIHZhciBlbnRyaWVzID0ge31cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVudHJpZXNbYXJyW2ldXSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoZW50cmllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdCBtYXAgdGhlIHJlc3VsdCBpbnZva2luZyBhIGNhbGxiYWNrIGZvciBldmVyeSBpdGVtIGluIGFuIGFycmF5LlxuICAgICAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3NhbWdpbGVzLzc2MmVlMzM3ZGZmNDg2MjNlNzI5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGFyciwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcnIubWFwKGNhbGxiYWNrKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGZ1bmN0aW9uIG5hbWUgZnJvbSBhIHNldCBvZiB0eXBlZCBmdW5jdGlvbnMsXG4gICAgICogYW5kIGNoZWNrIHdoZXRoZXIgdGhlIG5hbWUgb2YgYWxsIGZ1bmN0aW9ucyBtYXRjaCAoaWYgZ2l2ZW4pXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbltdfSBmbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYW1lIChmbnMpIHtcbiAgICAgIHZhciBuYW1lID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmbiA9IGZuc1tpXTtcblxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBuYW1lcyBhcmUgdGhlIHNhbWUgd2hlbiBkZWZpbmVkXG4gICAgICAgIGlmICgodHlwZW9mIGZuLnNpZ25hdHVyZXMgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBmbi5zaWduYXR1cmUgPT09ICdzdHJpbmcnKSAmJiBmbi5uYW1lICE9PSAnJykge1xuICAgICAgICAgIGlmIChuYW1lID09PSAnJykge1xuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG5hbWUgIT09IGZuLm5hbWUpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0Z1bmN0aW9uIG5hbWVzIGRvIG5vdCBtYXRjaCAoZXhwZWN0ZWQ6ICcgKyBuYW1lICsgJywgYWN0dWFsOiAnICsgZm4ubmFtZSArICcpJyk7XG4gICAgICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICAgICAgYWN0dWFsOiBmbi5uYW1lLFxuICAgICAgICAgICAgICBleHBlY3RlZDogbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgLy8gZXh0cmFjdCBhbmQgbWVyZ2UgYWxsIHNpZ25hdHVyZXMgb2YgYSBsaXN0IHdpdGggdHlwZWQgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSB7XG4gICAgICB2YXIgZXJyO1xuICAgICAgdmFyIHNpZ25hdHVyZXNNYXAgPSB7fTtcblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGVVbmlxdWUoX3NpZ25hdHVyZSwgX2ZuKSB7XG4gICAgICAgIGlmIChzaWduYXR1cmVzTWFwLmhhc093blByb3BlcnR5KF9zaWduYXR1cmUpICYmIF9mbiAhPT0gc2lnbmF0dXJlc01hcFtfc2lnbmF0dXJlXSkge1xuICAgICAgICAgIGVyciA9IG5ldyBFcnJvcignU2lnbmF0dXJlIFwiJyArIF9zaWduYXR1cmUgKyAnXCIgaXMgZGVmaW5lZCB0d2ljZScpO1xuICAgICAgICAgIGVyci5kYXRhID0ge3NpZ25hdHVyZTogX3NpZ25hdHVyZX07XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIC8vIGVsc2U6IGJvdGggc2lnbmF0dXJlcyBwb2ludCB0byB0aGUgc2FtZSBmdW5jdGlvbiwgdGhhdCdzIGZpbmVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm4gPSBmbnNbaV07XG5cbiAgICAgICAgLy8gdGVzdCB3aGV0aGVyIHRoaXMgaXMgYSB0eXBlZC1mdW5jdGlvblxuICAgICAgICBpZiAodHlwZW9mIGZuLnNpZ25hdHVyZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gbWVyZ2UgdGhlIHNpZ25hdHVyZXNcbiAgICAgICAgICBmb3IgKHZhciBzaWduYXR1cmUgaW4gZm4uc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgaWYgKGZuLnNpZ25hdHVyZXMuaGFzT3duUHJvcGVydHkoc2lnbmF0dXJlKSkge1xuICAgICAgICAgICAgICB2YWxpZGF0ZVVuaXF1ZShzaWduYXR1cmUsIGZuLnNpZ25hdHVyZXNbc2lnbmF0dXJlXSk7XG4gICAgICAgICAgICAgIHNpZ25hdHVyZXNNYXBbc2lnbmF0dXJlXSA9IGZuLnNpZ25hdHVyZXNbc2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZuLnNpZ25hdHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YWxpZGF0ZVVuaXF1ZShmbi5zaWduYXR1cmUsIGZuKTtcbiAgICAgICAgICBzaWduYXR1cmVzTWFwW2ZuLnNpZ25hdHVyZV0gPSBmbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBlcnIgPSBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiBpcyBubyB0eXBlZC1mdW5jdGlvbiAoaW5kZXg6ICcgKyBpICsgJyknKTtcbiAgICAgICAgICBlcnIuZGF0YSA9IHtpbmRleDogaX07XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaWduYXR1cmVzTWFwO1xuICAgIH1cblxuICAgIHR5cGVkID0gY3JlYXRlVHlwZWRGdW5jdGlvbigndHlwZWQnLCB7XG4gICAgICAnc3RyaW5nLCBPYmplY3QnOiBjcmVhdGVUeXBlZEZ1bmN0aW9uLFxuICAgICAgJ09iamVjdCc6IGZ1bmN0aW9uIChzaWduYXR1cmVzTWFwKSB7XG4gICAgICAgIC8vIGZpbmQgZXhpc3RpbmcgbmFtZVxuICAgICAgICB2YXIgZm5zID0gW107XG4gICAgICAgIGZvciAodmFyIHNpZ25hdHVyZSBpbiBzaWduYXR1cmVzTWFwKSB7XG4gICAgICAgICAgaWYgKHNpZ25hdHVyZXNNYXAuaGFzT3duUHJvcGVydHkoc2lnbmF0dXJlKSkge1xuICAgICAgICAgICAgZm5zLnB1c2goc2lnbmF0dXJlc01hcFtzaWduYXR1cmVdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWUgPSBnZXROYW1lKGZucyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIHNpZ25hdHVyZXNNYXApO1xuICAgICAgfSxcbiAgICAgICcuLi5GdW5jdGlvbic6IGZ1bmN0aW9uIChmbnMpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVR5cGVkRnVuY3Rpb24oZ2V0TmFtZShmbnMpLCBleHRyYWN0U2lnbmF0dXJlcyhmbnMpKTtcbiAgICAgIH0sXG4gICAgICAnc3RyaW5nLCAuLi5GdW5jdGlvbic6IGZ1bmN0aW9uIChuYW1lLCBmbnMpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVR5cGVkRnVuY3Rpb24obmFtZSwgZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0eXBlZC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgdHlwZWQudHlwZXMgPSBfdHlwZXM7XG4gICAgdHlwZWQuY29udmVyc2lvbnMgPSBfY29udmVyc2lvbnM7XG4gICAgdHlwZWQuaWdub3JlID0gX2lnbm9yZTtcbiAgICB0eXBlZC5jb252ZXJ0ID0gY29udmVydDtcbiAgICB0eXBlZC5maW5kID0gZmluZDtcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge3tuYW1lOiBzdHJpbmcsIHRlc3Q6IGZ1bmN0aW9ufX0gdHlwZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JlZm9yZU9iamVjdFRlc3Q9dHJ1ZV1cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgdGhlIG5ldyB0ZXN0IHdpbGwgYmUgaW5zZXJ0ZWQgYmVmb3JlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSB0ZXN0IHdpdGggbmFtZSAnT2JqZWN0JyAoaWYgYW55KSwgc2luY2VcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdHMgZm9yIE9iamVjdCBtYXRjaCBBcnJheSBhbmQgY2xhc3NlcyB0b28uXG4gICAgICovXG4gICAgdHlwZWQuYWRkVHlwZSA9IGZ1bmN0aW9uICh0eXBlLCBiZWZvcmVPYmplY3RUZXN0KSB7XG4gICAgICBpZiAoIXR5cGUgfHwgdHlwZW9mIHR5cGUubmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUudGVzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHtuYW1lOiBzdHJpbmcsIHRlc3Q6IGZ1bmN0aW9ufSBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYmVmb3JlT2JqZWN0VGVzdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZC50eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0eXBlZC50eXBlc1tpXS5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgdHlwZWQudHlwZXMuc3BsaWNlKGksIDAsIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHR5cGVkLnR5cGVzLnB1c2godHlwZSk7XG4gICAgfTtcblxuICAgIC8vIGFkZCBhIGNvbnZlcnNpb25cbiAgICB0eXBlZC5hZGRDb252ZXJzaW9uID0gZnVuY3Rpb24gKGNvbnZlcnNpb24pIHtcbiAgICAgIGlmICghY29udmVyc2lvblxuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLmZyb20gIT09ICdzdHJpbmcnXG4gICAgICAgICAgfHwgdHlwZW9mIGNvbnZlcnNpb24udG8gIT09ICdzdHJpbmcnXG4gICAgICAgICAgfHwgdHlwZW9mIGNvbnZlcnNpb24uY29udmVydCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHtmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcsIGNvbnZlcnQ6IGZ1bmN0aW9ufSBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICB0eXBlZC5jb252ZXJzaW9ucy5wdXNoKGNvbnZlcnNpb24pO1xuICAgIH07XG5cbiAgICByZXR1cm4gdHlwZWQ7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlKCk7XG59KSk7XG4iLCJpbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7e3NpZ246ICcrJyB8ICctJyB8ICcnLCBjb2VmZmljaWVudHM6IG51bWJlcltdLCBleHBvbmVudDogbnVtYmVyfX0gU3BsaXRWYWx1ZVxuICovXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBudW1iZXIgaXMgaW50ZWdlclxuICogQHBhcmFtIHtudW1iZXIgfCBib29sZWFufSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gaXNJbnRlZ2VyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA9PT0gTWF0aC5yb3VuZCh2YWx1ZSkgOiBmYWxzZTsgLy8gTm90ZTogd2UgdXNlID09LCBub3QgPT09LCBhcyB3ZSBjYW4gaGF2ZSBCb29sZWFucyBhcyB3ZWxsXG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2lnbiBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBzaWduID0gLyogI19fUFVSRV9fICovTWF0aC5zaWduIHx8IGZ1bmN0aW9uICh4KSB7XG4gIGlmICh4ID4gMCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKHggPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGJhc2UtMiBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgbG9nMiA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMiB8fCBmdW5jdGlvbiBsb2cyKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGJhc2UtMTAgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzEwID0gLyogI19fUFVSRV9fICovTWF0aC5sb2cxMCB8fCBmdW5jdGlvbiBsb2cxMCh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4xMDtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSBudW1iZXIgKyAxXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzFwID0gLyogI19fUFVSRV9fICovTWF0aC5sb2cxcCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCArIDEpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIGN1YmljIHJvb3QgZm9yIGEgbnVtYmVyXG4gKlxuICogQ29kZSBmcm9tIGVzNi1zaGltLmpzOlxuICogICBodHRwczovL2dpdGh1Yi5jb20vcGF1bG1pbGxyL2VzNi1zaGltL2Jsb2IvbWFzdGVyL2VzNi1zaGltLmpzI0wxNTY0LUwxNTc3XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGN1YmljIHJvb3Qgb2YgeFxuICovXG5cbmV4cG9ydCB2YXIgY2JydCA9IC8qICNfX1BVUkVfXyAqL01hdGguY2JydCB8fCBmdW5jdGlvbiBjYnJ0KHgpIHtcbiAgaWYgKHggPT09IDApIHtcbiAgICByZXR1cm4geDtcbiAgfVxuXG4gIHZhciBuZWdhdGUgPSB4IDwgMDtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAobmVnYXRlKSB7XG4gICAgeCA9IC14O1xuICB9XG5cbiAgaWYgKGlzRmluaXRlKHgpKSB7XG4gICAgcmVzdWx0ID0gTWF0aC5leHAoTWF0aC5sb2coeCkgLyAzKTsgLy8gZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdWJlX3Jvb3QjTnVtZXJpY2FsX21ldGhvZHNcblxuICAgIHJlc3VsdCA9ICh4IC8gKHJlc3VsdCAqIHJlc3VsdCkgKyAyICogcmVzdWx0KSAvIDM7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0geDtcbiAgfVxuXG4gIHJldHVybiBuZWdhdGUgPyAtcmVzdWx0IDogcmVzdWx0O1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyBleHBvbmVudGlhdGlvbiBtaW51cyAxXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfSByZXNcbiAqL1xuXG5leHBvcnQgdmFyIGV4cG0xID0gLyogI19fUFVSRV9fICovTWF0aC5leHBtMSB8fCBmdW5jdGlvbiBleHBtMSh4KSB7XG4gIHJldHVybiB4ID49IDJlLTQgfHwgeCA8PSAtMmUtNCA/IE1hdGguZXhwKHgpIC0gMSA6IHggKyB4ICogeCAvIDIgKyB4ICogeCAqIHggLyA2O1xufTtcbi8qKlxuICogQ29udmVydCBhIG51bWJlciB0byBhIGZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgIGZvcm1hdCh2YWx1ZSlcbiAqICAgIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAqICAgIGZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICogICAgZm9ybWF0KHZhbHVlLCBmbilcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICB7bnVtYmVyfSB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAqICAgIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAqICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gbm90YXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZml4ZWQnICAgICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZXhwb25lbnRpYWwnICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZW5naW5lZXJpbmcnICAgIEFsd2F5cyB1c2UgZW5naW5lZXJpbmcgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNGUrMCcgYW5kICcxNC4wZSs2J1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG8nIChkZWZhdWx0KSBSZWd1bGFyIG51bWJlciBub3RhdGlvbiBmb3IgbnVtYmVyc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXZpbmcgYW4gYWJzb2x1dGUgdmFsdWUgYmV0d2VlblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgbG93ZXJFeHBgIGFuZCBgdXBwZXJFeHBgIGJvdW5kcywgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXMgZXhwb25lbnRpYWwgbm90YXRpb24gZWxzZXdoZXJlLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb3dlciBib3VuZCBpcyBpbmNsdWRlZCwgdXBwZXIgYm91bmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgZXhjbHVkZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNCcgYW5kICcxLjRlNycuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHByZWNpc2lvbiAgIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYgdG8gcm91bmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGRpZ2l0cyBvZiB0aGUgbnVtYmVyLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIG5vdGF0aW9ucyAnZXhwb25lbnRpYWwnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5naW5lZXJpbmcnLCBhbmQgJ2F1dG8nLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSB0b3RhbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIHJldHVybmVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIG5vdGF0aW9uICdmaXhlZCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIG51bWJlciBvZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduaWZpY2FudCBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3Qgcm91bmRpbmcgYW55IGRpZ2l0cy5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gbG93ZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIGxvd2VyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYC0zYC5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gdXBwZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIHVwcGVyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYDVgLlxuICogICAge0Z1bmN0aW9ufSBmbiAgICBBIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9uLiBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgYnVpbHQtaW4gbm90YXRpb25zLiBGdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCB3aXRoIGB2YWx1ZWAgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGFuZCBtdXN0IHJldHVybiBhIHN0cmluZy4gSXMgdXNlZnVsIGZvciBleGFtcGxlIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgIGZvcm1hdCBhbGwgdmFsdWVzIGluc2lkZSBhIG1hdHJpeCBpbiBhIHBhcnRpY3VsYXIgd2F5LlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGZvcm1hdCg2LjQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICc2LjQnXG4gKiAgICBmb3JtYXQoMTI0MDAwMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMS4yNGU2J1xuICogICAgZm9ybWF0KDEvMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzAuMzMzMzMzMzMzMzMzMzMzMydcbiAqICAgIGZvcm1hdCgxLzMsIDMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMydcbiAqICAgIGZvcm1hdCgyMTM4NSwgMikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcyMTAwMCdcbiAqICAgIGZvcm1hdCgxMi4wNzEsIHtub3RhdGlvbjogJ2ZpeGVkJ30pICAgICAgICAgICAgICAgIC8vICcxMidcbiAqICAgIGZvcm1hdCgyLjMsICAgIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiAyfSkgIC8vICcyLjMwJ1xuICogICAgZm9ybWF0KDUyLjgsICAge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgLy8gJzUuMjhlKzEnXG4gKiAgICBmb3JtYXQoMTIzNDU2NzgsIHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAvLyAnMTIuMzQ1Njc4ZSs2J1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IG51bWJlcn0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0ciBUaGUgZm9ybWF0dGVkIHZhbHVlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBoYW5kbGUgZm9ybWF0KHZhbHVlLCBmbilcbiAgICByZXR1cm4gb3B0aW9ucyh2YWx1ZSk7XG4gIH0gLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXNcblxuXG4gIGlmICh2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gJ0luZmluaXR5JztcbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gLUluZmluaXR5KSB7XG4gICAgcmV0dXJuICctSW5maW5pdHknO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgIHJldHVybiAnTmFOJztcbiAgfSAvLyBkZWZhdWx0IHZhbHVlcyBmb3Igb3B0aW9uc1xuXG5cbiAgdmFyIG5vdGF0aW9uID0gJ2F1dG8nO1xuICB2YXIgcHJlY2lzaW9uO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgLy8gZGV0ZXJtaW5lIG5vdGF0aW9uIGZyb20gb3B0aW9uc1xuICAgIGlmIChvcHRpb25zLm5vdGF0aW9uKSB7XG4gICAgICBub3RhdGlvbiA9IG9wdGlvbnMubm90YXRpb247XG4gICAgfSAvLyBkZXRlcm1pbmUgcHJlY2lzaW9uIGZyb20gb3B0aW9uc1xuXG5cbiAgICBpZiAoaXNOdW1iZXIob3B0aW9ucykpIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihvcHRpb25zLnByZWNpc2lvbikpIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMucHJlY2lzaW9uO1xuICAgIH1cbiAgfSAvLyBoYW5kbGUgdGhlIHZhcmlvdXMgbm90YXRpb25zXG5cblxuICBzd2l0Y2ggKG5vdGF0aW9uKSB7XG4gICAgY2FzZSAnZml4ZWQnOlxuICAgICAgcmV0dXJuIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdleHBvbmVudGlhbCc6XG4gICAgICByZXR1cm4gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2VuZ2luZWVyaW5nJzpcbiAgICAgIHJldHVybiB0b0VuZ2luZWVyaW5nKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnYXV0byc6XG4gICAgICAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnRcbiAgICAgIHJldHVybiB0b1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uLCBvcHRpb25zICYmIG9wdGlvbnMpLnJlcGxhY2UoLygoXFwuXFxkKj8pKDArKSkoJHxlKS8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpZ2l0cyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgdmFyIGUgPSBhcmd1bWVudHNbNF07XG4gICAgICAgIHJldHVybiBkaWdpdHMgIT09ICcuJyA/IGRpZ2l0cyArIGUgOiBlO1xuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5vdGF0aW9uIFwiJyArIG5vdGF0aW9uICsgJ1wiLiAnICsgJ0Nob29zZSBcImF1dG9cIiwgXCJleHBvbmVudGlhbFwiLCBvciBcImZpeGVkXCIuJyk7XG4gIH1cbn1cbi8qKlxuICogU3BsaXQgYSBudW1iZXIgaW50byBzaWduLCBjb2VmZmljaWVudHMsIGFuZCBleHBvbmVudFxuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtTcGxpdFZhbHVlfVxuICogICAgICAgICAgICAgIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgc2lnbiwgY29lZmZpY2llbnRzLCBhbmQgZXhwb25lbnRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXROdW1iZXIodmFsdWUpIHtcbiAgLy8gcGFyc2UgdGhlIGlucHV0IHZhbHVlXG4gIHZhciBtYXRjaCA9IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKS5tYXRjaCgvXjAqPygtPykoXFxkK1xcLj9cXGQqKShlKFsrLV0/XFxkKykpPyQvKTtcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdJbnZhbGlkIG51bWJlciAnICsgdmFsdWUpO1xuICB9XG5cbiAgdmFyIHNpZ24gPSBtYXRjaFsxXTtcbiAgdmFyIGRpZ2l0cyA9IG1hdGNoWzJdO1xuICB2YXIgZXhwb25lbnQgPSBwYXJzZUZsb2F0KG1hdGNoWzRdIHx8ICcwJyk7XG4gIHZhciBkb3QgPSBkaWdpdHMuaW5kZXhPZignLicpO1xuICBleHBvbmVudCArPSBkb3QgIT09IC0xID8gZG90IC0gMSA6IGRpZ2l0cy5sZW5ndGggLSAxO1xuICB2YXIgY29lZmZpY2llbnRzID0gZGlnaXRzLnJlcGxhY2UoJy4nLCAnJykgLy8gcmVtb3ZlIHRoZSBkb3QgKG11c3QgYmUgcmVtb3ZlZCBiZWZvcmUgcmVtb3ZpbmcgbGVhZGluZyB6ZXJvcylcbiAgLnJlcGxhY2UoL14wKi8sIGZ1bmN0aW9uICh6ZXJvcykge1xuICAgIC8vIHJlbW92ZSBsZWFkaW5nIHplcm9zLCBhZGQgdGhlaXIgY291bnQgdG8gdGhlIGV4cG9uZW50XG4gICAgZXhwb25lbnQgLT0gemVyb3MubGVuZ3RoO1xuICAgIHJldHVybiAnJztcbiAgfSkucmVwbGFjZSgvMCokLywgJycpIC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvc1xuICAuc3BsaXQoJycpLm1hcChmdW5jdGlvbiAoZCkge1xuICAgIHJldHVybiBwYXJzZUludChkKTtcbiAgfSk7XG5cbiAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBjb2VmZmljaWVudHMucHVzaCgwKTtcbiAgICBleHBvbmVudCsrO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzaWduOiBzaWduLFxuICAgIGNvZWZmaWNpZW50czogY29lZmZpY2llbnRzLFxuICAgIGV4cG9uZW50OiBleHBvbmVudFxuICB9O1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgaW4gZW5naW5lZXJpbmcgbm90YXRpb24uIExpa2UgJzEuMjNlKzYnLCAnMi4zZSswJywgJzMuNTAwZS0zJ1xuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbl0gICAgICAgIE9wdGlvbmFsIG51bWJlciBvZiBzaWduaWZpY2FudCBmaWd1cmVzIHRvIHJldHVybi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgdmFyIHNwbGl0ID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pO1xuICB2YXIgZSA9IHJvdW5kZWQuZXhwb25lbnQ7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7IC8vIGZpbmQgbmVhcmVzdCBsb3dlciBtdWx0aXBsZSBvZiAzIGZvciBleHBvbmVudFxuXG4gIHZhciBuZXdFeHAgPSBlICUgMyA9PT0gMCA/IGUgOiBlIDwgMCA/IGUgLSAzIC0gZSAlIDMgOiBlIC0gZSAlIDM7XG5cbiAgaWYgKGlzTnVtYmVyKHByZWNpc2lvbikpIHtcbiAgICAvLyBhZGQgemVyb2VzIHRvIGdpdmUgY29ycmVjdCBzaWcgZmlnc1xuICAgIHdoaWxlIChwcmVjaXNpb24gPiBjLmxlbmd0aCB8fCBlIC0gbmV3RXhwICsgMSA+IGMubGVuZ3RoKSB7XG4gICAgICBjLnB1c2goMCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGNvbmNhdGVuYXRlIGNvZWZmaWNpZW50cyB3aXRoIG5lY2Vzc2FyeSB6ZXJvc1xuICAgIC8vIGFkZCB6ZXJvcyBpZiBuZWNlc3NhcnkgKGZvciBleGFtcGxlOiAxZSs4IC0+IDEwMGUrNilcbiAgICB2YXIgbWlzc2luZ1plcm9zID0gTWF0aC5hYnMoZSAtIG5ld0V4cCkgLSAoYy5sZW5ndGggLSAxKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWlzc2luZ1plcm9zOyBpKyspIHtcbiAgICAgIGMucHVzaCgwKTtcbiAgICB9XG4gIH0gLy8gZmluZCBkaWZmZXJlbmNlIGluIGV4cG9uZW50c1xuXG5cbiAgdmFyIGV4cERpZmYgPSBNYXRoLmFicyhlIC0gbmV3RXhwKTtcbiAgdmFyIGRlY2ltYWxJZHggPSAxOyAvLyBwdXNoIGRlY2ltYWwgaW5kZXggb3ZlciBieSBleHBEaWZmIHRpbWVzXG5cbiAgd2hpbGUgKGV4cERpZmYgPiAwKSB7XG4gICAgZGVjaW1hbElkeCsrO1xuICAgIGV4cERpZmYtLTtcbiAgfSAvLyBpZiBhbGwgY29lZmZpY2llbnQgdmFsdWVzIGFyZSB6ZXJvIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50IGFuZCBwcmVjaXNpb24gaXMgdW5zZXQsIGRvbid0IGFkZCBhIGRlY2ltYWwgdmFsdWUuXG4gIC8vIG90aGVyd2lzZSBjb25jYXQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgY29lZmZpY2llbnRzXG5cblxuICB2YXIgZGVjaW1hbHMgPSBjLnNsaWNlKGRlY2ltYWxJZHgpLmpvaW4oJycpO1xuICB2YXIgZGVjaW1hbFZhbCA9IGlzTnVtYmVyKHByZWNpc2lvbikgJiYgZGVjaW1hbHMubGVuZ3RoIHx8IGRlY2ltYWxzLm1hdGNoKC9bMS05XS8pID8gJy4nICsgZGVjaW1hbHMgOiAnJztcbiAgdmFyIHN0ciA9IGMuc2xpY2UoMCwgZGVjaW1hbElkeCkuam9pbignJykgKyBkZWNpbWFsVmFsICsgJ2UnICsgKGUgPj0gMCA/ICcrJyA6ICcnKSArIG5ld0V4cC50b1N0cmluZygpO1xuICByZXR1cm4gcm91bmRlZC5zaWduICsgc3RyO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgd2l0aCBmaXhlZCBub3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249dW5kZWZpbmVkXSAgT3B0aW9uYWwgbnVtYmVyIG9mIGRlY2ltYWxzIGFmdGVyIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCBwb2ludC4gbnVsbCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH1cblxuICB2YXIgc3BsaXRWYWx1ZSA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSB0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyA/IHJvdW5kRGlnaXRzKHNwbGl0VmFsdWUsIHNwbGl0VmFsdWUuZXhwb25lbnQgKyAxICsgcHJlY2lzaW9uKSA6IHNwbGl0VmFsdWU7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gIHZhciBwID0gcm91bmRlZC5leHBvbmVudCArIDE7IC8vIGV4cG9uZW50IG1heSBoYXZlIGNoYW5nZWRcbiAgLy8gYXBwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIHZhciBwcCA9IHAgKyAocHJlY2lzaW9uIHx8IDApO1xuXG4gIGlmIChjLmxlbmd0aCA8IHBwKSB7XG4gICAgYyA9IGMuY29uY2F0KHplcm9zKHBwIC0gYy5sZW5ndGgpKTtcbiAgfSAvLyBwcmVwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG5cbiAgaWYgKHAgPCAwKSB7XG4gICAgYyA9IHplcm9zKC1wICsgMSkuY29uY2F0KGMpO1xuICAgIHAgPSAxO1xuICB9IC8vIGluc2VydCBhIGRvdCBpZiBuZWVkZWRcblxuXG4gIGlmIChwIDwgYy5sZW5ndGgpIHtcbiAgICBjLnNwbGljZShwLCAwLCBwID09PSAwID8gJzAuJyA6ICcuJyk7XG4gIH1cblxuICByZXR1cm4gcm91bmRlZC5zaWduICsgYy5qb2luKCcnKTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs1JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICBOdW1iZXIgb2YgZGlnaXRzIGluIGZvcm1hdHRlZCBvdXRwdXQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1heGltdW0gYXZhaWxhYmxlIGRpZ2l0c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB1c2VkLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH0gLy8gcm91bmQgaWYgbmVlZGVkLCBlbHNlIGNyZWF0ZSBhIGNsb25lXG5cblxuICB2YXIgc3BsaXQgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gcHJlY2lzaW9uID8gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikgOiBzcGxpdDtcbiAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50cztcbiAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50OyAvLyBhcHBlbmQgemVyb3MgaWYgbmVlZGVkXG5cbiAgaWYgKGMubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XG4gICAgYyA9IGMuY29uY2F0KHplcm9zKHByZWNpc2lvbiAtIGMubGVuZ3RoKSk7XG4gIH0gLy8gZm9ybWF0IGFzIGBDLkNDQ2UrRUVFYCBvciBgQy5DQ0NlLUVFRWBcblxuXG4gIHZhciBmaXJzdCA9IGMuc2hpZnQoKTtcbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIGZpcnN0ICsgKGMubGVuZ3RoID4gMCA/ICcuJyArIGMuam9pbignJykgOiAnJykgKyAnZScgKyAoZSA+PSAwID8gJysnIDogJycpICsgZTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggYSBjZXJ0YWluIHByZWNpc2lvblxuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj11bmRlZmluZWRdIE9wdGlvbmFsIG51bWJlciBvZiBkaWdpdHMuXG4gKiBAcGFyYW0ge3tsb3dlckV4cDogbnVtYmVyIHwgdW5kZWZpbmVkLCB1cHBlckV4cDogbnVtYmVyIHwgdW5kZWZpbmVkfX0gW29wdGlvbnNdXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ5IGRlZmF1bHQ6XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJFeHAgPSAtMyAoaW5jbClcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlciA9ICs1IChleGNsKVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uLCBvcHRpb25zKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IC8vIGRldGVybWluZSBsb3dlciBhbmQgdXBwZXIgYm91bmQgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuXG5cbiAgdmFyIGxvd2VyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLmxvd2VyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxvd2VyRXhwIDogLTM7XG4gIHZhciB1cHBlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy51cHBlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51cHBlckV4cCA6IDU7XG4gIHZhciBzcGxpdCA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSBwcmVjaXNpb24gPyByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKSA6IHNwbGl0O1xuXG4gIGlmIChyb3VuZGVkLmV4cG9uZW50IDwgbG93ZXJFeHAgfHwgcm91bmRlZC5leHBvbmVudCA+PSB1cHBlckV4cCkge1xuICAgIC8vIGV4cG9uZW50aWFsIG5vdGF0aW9uXG4gICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50cztcbiAgICB2YXIgZSA9IHJvdW5kZWQuZXhwb25lbnQ7IC8vIGFwcGVuZCB0cmFpbGluZyB6ZXJvc1xuXG4gICAgaWYgKGMubGVuZ3RoIDwgcHJlY2lzaW9uKSB7XG4gICAgICBjID0gYy5jb25jYXQoemVyb3MocHJlY2lzaW9uIC0gYy5sZW5ndGgpKTtcbiAgICB9IC8vIGFwcGVuZCB0cmFpbGluZyB6ZXJvc1xuICAgIC8vIFRPRE86IHNpbXBsaWZ5IHRoZSBuZXh0IHN0YXRlbWVudFxuXG5cbiAgICBjID0gYy5jb25jYXQoemVyb3MoZSAtIGMubGVuZ3RoICsgMSArIChjLmxlbmd0aCA8IHByZWNpc2lvbiA/IHByZWNpc2lvbiAtIGMubGVuZ3RoIDogMCkpKTsgLy8gcHJlcGVuZCB6ZXJvc1xuXG4gICAgYyA9IHplcm9zKC1lKS5jb25jYXQoYyk7XG4gICAgdmFyIGRvdCA9IGUgPiAwID8gZSA6IDA7XG5cbiAgICBpZiAoZG90IDwgYy5sZW5ndGggLSAxKSB7XG4gICAgICBjLnNwbGljZShkb3QgKyAxLCAwLCAnLicpO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZGVkLnNpZ24gKyBjLmpvaW4oJycpO1xuICB9XG59XG4vKipcbiAqIFJvdW5kIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGEgbnVtYmVyICpcbiAqIEBwYXJhbSB7U3BsaXRWYWx1ZX0gc3BsaXQgICAgICAgQSB2YWx1ZSBzcGxpdCB3aXRoIC5zcGxpdE51bWJlcih2YWx1ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmVjaXNpb24gIEEgcG9zaXRpdmUgaW50ZWdlclxuICogQHJldHVybiB7U3BsaXRWYWx1ZX1cbiAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHNpZ24sIGNvZWZmaWNpZW50cywgYW5kIGV4cG9uZW50XG4gKiAgICAgICAgICAgICAgd2l0aCByb3VuZGVkIGRpZ2l0c1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKSB7XG4gIC8vIGNyZWF0ZSBhIGNsb25lXG4gIHZhciByb3VuZGVkID0ge1xuICAgIHNpZ246IHNwbGl0LnNpZ24sXG4gICAgY29lZmZpY2llbnRzOiBzcGxpdC5jb2VmZmljaWVudHMsXG4gICAgZXhwb25lbnQ6IHNwbGl0LmV4cG9uZW50XG4gIH07XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7IC8vIHByZXBlbmQgemVyb3MgaWYgbmVlZGVkXG5cbiAgd2hpbGUgKHByZWNpc2lvbiA8PSAwKSB7XG4gICAgYy51bnNoaWZ0KDApO1xuICAgIHJvdW5kZWQuZXhwb25lbnQrKztcbiAgICBwcmVjaXNpb24rKztcbiAgfVxuXG4gIGlmIChjLmxlbmd0aCA+IHByZWNpc2lvbikge1xuICAgIHZhciByZW1vdmVkID0gYy5zcGxpY2UocHJlY2lzaW9uLCBjLmxlbmd0aCAtIHByZWNpc2lvbik7XG5cbiAgICBpZiAocmVtb3ZlZFswXSA+PSA1KSB7XG4gICAgICB2YXIgaSA9IHByZWNpc2lvbiAtIDE7XG4gICAgICBjW2ldKys7XG5cbiAgICAgIHdoaWxlIChjW2ldID09PSAxMCkge1xuICAgICAgICBjLnBvcCgpO1xuXG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgYy51bnNoaWZ0KDApO1xuICAgICAgICAgIHJvdW5kZWQuZXhwb25lbnQrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBpLS07XG4gICAgICAgIGNbaV0rKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcm91bmRlZDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGFycmF5IGZpbGxlZCB3aXRoIHplcm9zLlxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuZnVuY3Rpb24gemVyb3MobGVuZ3RoKSB7XG4gIHZhciBhcnIgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyLnB1c2goMCk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufVxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiBhIG51bWJlci5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqICAgMi4zNCByZXR1cm5zIDNcbiAqICAgMC4wMDM0IHJldHVybnMgMlxuICogICAxMjAuNWUrMzAgcmV0dXJucyA0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGRpZ2l0cyAgIE51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHNcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBkaWdpdHModmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnRvRXhwb25lbnRpYWwoKS5yZXBsYWNlKC9lLiokLywgJycpIC8vIHJlbW92ZSBleHBvbmVudGlhbCBub3RhdGlvblxuICAucmVwbGFjZSgvXjBcXC4/MCp8XFwuLywgJycpIC8vIHJlbW92ZSBkZWNpbWFsIHBvaW50IGFuZCBsZWFkaW5nIHplcm9zXG4gIC5sZW5ndGg7XG59XG4vKipcbiAqIE1pbmltdW0gbnVtYmVyIGFkZGVkIHRvIG9uZSB0aGF0IG1ha2VzIHRoZSByZXN1bHQgZGlmZmVyZW50IHRoYW4gb25lXG4gKi9cblxuZXhwb3J0IHZhciBEQkxfRVBTSUxPTiA9IE51bWJlci5FUFNJTE9OIHx8IDIuMjIwNDQ2MDQ5MjUwMzEzMDgwODQ3MjYzMzM2MTgxNkUtMTY7XG4vKipcbiAqIENvbXBhcmVzIHR3byBmbG9hdGluZyBwb2ludCBudW1iZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IHggICAgICAgICAgRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzaWxvbl0gIFRoZSBtYXhpbXVtIHJlbGF0aXZlIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBlcHNpbG9uIGlzIHVuZGVmaW5lZCBvciBudWxsLCB0aGUgZnVuY3Rpb24gd2lsbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWwuXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSB0d28gbnVtYmVycyBhcmUgbmVhcmx5IGVxdWFsXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVhcmx5RXF1YWwoeCwgeSwgZXBzaWxvbikge1xuICAvLyBpZiBlcHNpbG9uIGlzIG51bGwgb3IgdW5kZWZpbmVkLCB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbFxuICBpZiAoZXBzaWxvbiA9PT0gbnVsbCB8fCBlcHNpbG9uID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geCA9PT0geTtcbiAgfVxuXG4gIGlmICh4ID09PSB5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gTmFOXG5cblxuICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gYXQgdGhpcyBwb2ludCB4IGFuZCB5IHNob3VsZCBiZSBmaW5pdGVcblxuXG4gIGlmIChpc0Zpbml0ZSh4KSAmJiBpc0Zpbml0ZSh5KSkge1xuICAgIC8vIGNoZWNrIG51bWJlcnMgYXJlIHZlcnkgY2xvc2UsIG5lZWRlZCB3aGVuIGNvbXBhcmluZyBudW1iZXJzIG5lYXIgemVyb1xuICAgIHZhciBkaWZmID0gTWF0aC5hYnMoeCAtIHkpO1xuXG4gICAgaWYgKGRpZmYgPCBEQkxfRVBTSUxPTikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZSByZWxhdGl2ZSBlcnJvclxuICAgICAgcmV0dXJuIGRpZmYgPD0gTWF0aC5tYXgoTWF0aC5hYnMoeCksIE1hdGguYWJzKHkpKSAqIGVwc2lsb247XG4gICAgfVxuICB9IC8vIEluZmluaXRlIGFuZCBOdW1iZXIgb3IgbmVnYXRpdmUgSW5maW5pdGUgYW5kIHBvc2l0aXZlIEluZmluaXRlIGNhc2VzXG5cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyBhcmNjb3Mgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBhY29zaCA9IE1hdGguYWNvc2ggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh4ICogeCAtIDEpICsgeCk7XG59O1xuZXhwb3J0IHZhciBhc2luaCA9IE1hdGguYXNpbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh4ICogeCArIDEpICsgeCk7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgYXJjdGFuZ2VudCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGF0YW5oID0gTWF0aC5hdGFuaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coKDEgKyB4KSAvICgxIC0geCkpIC8gMjtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgY29zaCA9IE1hdGguY29zaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBzaW5oID0gTWF0aC5zaW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiAoTWF0aC5leHAoeCkgLSBNYXRoLmV4cCgteCkpIC8gMjtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIHRhbmggPSBNYXRoLnRhbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgdmFyIGUgPSBNYXRoLmV4cCgyICogeCk7XG4gIHJldHVybiAoZSAtIDEpIC8gKGUgKyAxKTtcbn07IiwiLyoqXG4gKiBDb252ZXJ0IGEgQmlnTnVtYmVyIHRvIGEgZm9ybWF0dGVkIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBTeW50YXg6XG4gKlxuICogICAgZm9ybWF0KHZhbHVlKVxuICogICAgZm9ybWF0KHZhbHVlLCBvcHRpb25zKVxuICogICAgZm9ybWF0KHZhbHVlLCBwcmVjaXNpb24pXG4gKiAgICBmb3JtYXQodmFsdWUsIGZuKVxuICpcbiAqIFdoZXJlOlxuICpcbiAqICAgIHtudW1iZXJ9IHZhbHVlICAgVGhlIHZhbHVlIHRvIGJlIGZvcm1hdHRlZFxuICogICAge09iamVjdH0gb3B0aW9ucyBBbiBvYmplY3Qgd2l0aCBmb3JtYXR0aW5nIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOlxuICogICAgICAgICAgICAgICAgICAgICB7c3RyaW5nfSBub3RhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG5vdGF0aW9uLiBDaG9vc2UgZnJvbTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdmaXhlZCcgICAgICAgICAgQWx3YXlzIHVzZSByZWd1bGFyIG51bWJlciBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40MCcgYW5kICcxNDAwMDAwMCdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdleHBvbmVudGlhbCcgICAgQWx3YXlzIHVzZSBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEuMjM0ZSsyJyBhbmQgJzEuNGUrNydcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvJyAoZGVmYXVsdCkgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMsIGFuZCB1c2VzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGV4Y2x1ZGVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBwcmVjaXNpb24gICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgdG90YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdC5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gbG93ZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIGxvd2VyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYC0zYC5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gdXBwZXJFeHAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIHVwcGVyIGJvdW5kYXJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aCBhbiBleHBvbmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGBub3RhdGlvbj0nYXV0b2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgYDVgLlxuICogICAge0Z1bmN0aW9ufSBmbiAgICBBIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9uLiBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgYnVpbHQtaW4gbm90YXRpb25zLiBGdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCB3aXRoIGB2YWx1ZWAgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGFuZCBtdXN0IHJldHVybiBhIHN0cmluZy4gSXMgdXNlZnVsIGZvciBleGFtcGxlIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgIGZvcm1hdCBhbGwgdmFsdWVzIGluc2lkZSBhIG1hdHJpeCBpbiBhIHBhcnRpY3VsYXIgd2F5LlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGZvcm1hdCg2LjQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICc2LjQnXG4gKiAgICBmb3JtYXQoMTI0MDAwMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMS4yNGU2J1xuICogICAgZm9ybWF0KDEvMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzAuMzMzMzMzMzMzMzMzMzMzMydcbiAqICAgIGZvcm1hdCgxLzMsIDMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMydcbiAqICAgIGZvcm1hdCgyMTM4NSwgMikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcyMTAwMCdcbiAqICAgIGZvcm1hdCgxMmU4LCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzEyMDAwMDAwMDAnXG4gKiAgICBmb3JtYXQoMi4zLCAgICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogNH0pICAvLyByZXR1cm5zICcyLjMwMDAnXG4gKiAgICBmb3JtYXQoNTIuOCwgICB7bm90YXRpb246ICdleHBvbmVudGlhbCd9KSAgICAgICAgICAvLyByZXR1cm5zICc1LjI4ZSsxJ1xuICogICAgZm9ybWF0KDEyNDAwLCAge25vdGF0aW9uOiAnZW5naW5lZXJpbmcnfSkgICAgICAgICAgLy8gcmV0dXJucyAnMTIuNDAwZSszJ1xuICpcbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IG51bWJlcn0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0ciBUaGUgZm9ybWF0dGVkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gaGFuZGxlIGZvcm1hdCh2YWx1ZSwgZm4pXG4gICAgcmV0dXJuIG9wdGlvbnModmFsdWUpO1xuICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzXG5cblxuICBpZiAoIXZhbHVlLmlzRmluaXRlKCkpIHtcbiAgICByZXR1cm4gdmFsdWUuaXNOYU4oKSA/ICdOYU4nIDogdmFsdWUuZ3QoMCkgPyAnSW5maW5pdHknIDogJy1JbmZpbml0eSc7XG4gIH0gLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIG9wdGlvbnNcblxuXG4gIHZhciBub3RhdGlvbiA9ICdhdXRvJztcbiAgdmFyIHByZWNpc2lvbjtcblxuICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gZGV0ZXJtaW5lIG5vdGF0aW9uIGZyb20gb3B0aW9uc1xuICAgIGlmIChvcHRpb25zLm5vdGF0aW9uKSB7XG4gICAgICBub3RhdGlvbiA9IG9wdGlvbnMubm90YXRpb247XG4gICAgfSAvLyBkZXRlcm1pbmUgcHJlY2lzaW9uIGZyb20gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wcmVjaXNpb24pIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMucHJlY2lzaW9uO1xuICAgIH1cbiAgfSAvLyBoYW5kbGUgdGhlIHZhcmlvdXMgbm90YXRpb25zXG5cblxuICBzd2l0Y2ggKG5vdGF0aW9uKSB7XG4gICAgY2FzZSAnZml4ZWQnOlxuICAgICAgcmV0dXJuIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdleHBvbmVudGlhbCc6XG4gICAgICByZXR1cm4gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2VuZ2luZWVyaW5nJzpcbiAgICAgIHJldHVybiB0b0VuZ2luZWVyaW5nKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnYXV0byc6XG4gICAgICB7XG4gICAgICAgIC8vIGRldGVybWluZSBsb3dlciBhbmQgdXBwZXIgYm91bmQgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgc3VwcG9ydCBmb3IgdXBwZXIgYW5kIGxvd2VyIHRvIGJlIEJpZ051bWJlcnMgdGhlbXNlbHZlc1xuICAgICAgICB2YXIgbG93ZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMubG93ZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubG93ZXJFeHAgOiAtMztcbiAgICAgICAgdmFyIHVwcGVyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLnVwcGVyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVwcGVyRXhwIDogNTsgLy8gaGFuZGxlIHNwZWNpYWwgY2FzZSB6ZXJvXG5cbiAgICAgICAgaWYgKHZhbHVlLmlzWmVybygpKSByZXR1cm4gJzAnOyAvLyBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gb3V0cHV0IGV4cG9uZW50aWFsIG5vdGF0aW9uXG5cbiAgICAgICAgdmFyIHN0cjtcbiAgICAgICAgdmFyIHJvdW5kZWQgPSB2YWx1ZS50b1NpZ25pZmljYW50RGlnaXRzKHByZWNpc2lvbik7XG4gICAgICAgIHZhciBleHAgPSByb3VuZGVkLmU7XG5cbiAgICAgICAgaWYgKGV4cCA+PSBsb3dlckV4cCAmJiBleHAgPCB1cHBlckV4cCkge1xuICAgICAgICAgIC8vIG5vcm1hbCBudW1iZXIgbm90YXRpb25cbiAgICAgICAgICBzdHIgPSByb3VuZGVkLnRvRml4ZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBleHBvbmVudGlhbCBub3RhdGlvblxuICAgICAgICAgIHN0ciA9IHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG4gICAgICAgIH0gLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50XG5cblxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLygoXFwuXFxkKj8pKDArKSkoJHxlKS8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZGlnaXRzID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgIHZhciBlID0gYXJndW1lbnRzWzRdO1xuICAgICAgICAgIHJldHVybiBkaWdpdHMgIT09ICcuJyA/IGRpZ2l0cyArIGUgOiBlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbm90YXRpb24gXCInICsgbm90YXRpb24gKyAnXCIuICcgKyAnQ2hvb3NlIFwiYXV0b1wiLCBcImV4cG9uZW50aWFsXCIsIG9yIFwiZml4ZWRcIi4nKTtcbiAgfVxufVxuLyoqXG4gKiBGb3JtYXQgYSBCaWdOdW1iZXIgaW4gZW5naW5lZXJpbmcgbm90YXRpb24uIExpa2UgJzEuMjNlKzYnLCAnMi4zZSswJywgJzMuNTAwZS0zJ1xuICogQHBhcmFtIHtCaWdOdW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbl0gICAgICAgIE9wdGlvbmFsIG51bWJlciBvZiBzaWduaWZpY2FudCBmaWd1cmVzIHRvIHJldHVybi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIC8vIGZpbmQgbmVhcmVzdCBsb3dlciBtdWx0aXBsZSBvZiAzIGZvciBleHBvbmVudFxuICB2YXIgZSA9IHZhbHVlLmU7XG4gIHZhciBuZXdFeHAgPSBlICUgMyA9PT0gMCA/IGUgOiBlIDwgMCA/IGUgLSAzIC0gZSAlIDMgOiBlIC0gZSAlIDM7IC8vIGZpbmQgZGlmZmVyZW5jZSBpbiBleHBvbmVudHMsIGFuZCBjYWxjdWxhdGUgdGhlIHZhbHVlIHdpdGhvdXQgZXhwb25lbnRcblxuICB2YXIgdmFsdWVXaXRob3V0RXhwID0gdmFsdWUubXVsKE1hdGgucG93KDEwLCAtbmV3RXhwKSk7XG4gIHZhciB2YWx1ZVN0ciA9IHZhbHVlV2l0aG91dEV4cC50b1ByZWNpc2lvbihwcmVjaXNpb24pO1xuXG4gIGlmICh2YWx1ZVN0ci5pbmRleE9mKCdlJykgIT09IC0xKSB7XG4gICAgdmFsdWVTdHIgPSB2YWx1ZVdpdGhvdXRFeHAudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZVN0ciArICdlJyArIChlID49IDAgPyAnKycgOiAnJykgKyBuZXdFeHAudG9TdHJpbmcoKTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs1JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICBOdW1iZXIgb2YgZGlnaXRzIGluIGZvcm1hdHRlZCBvdXRwdXQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1heGltdW0gYXZhaWxhYmxlIGRpZ2l0c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB1c2VkLlxuICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAocHJlY2lzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsdWUudG9FeHBvbmVudGlhbChwcmVjaXNpb24gLSAxKTsgLy8gTm90ZSB0aGUgb2Zmc2V0IG9mIG9uZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKCk7XG4gIH1cbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggZml4ZWQgbm90YXRpb24uXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPXVuZGVmaW5lZF0gT3B0aW9uYWwgbnVtYmVyIG9mIGRlY2ltYWxzIGFmdGVyIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpbWFsIHBvaW50LiBVbmRlZmluZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIHJldHVybiB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIsIGlzU3RyaW5nLCB0eXBlT2YgfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXROdW1iZXIgfSBmcm9tICcuL251bWJlci5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0QmlnTnVtYmVyIH0gZnJvbSAnLi9iaWdudW1iZXIvZm9ybWF0dGVyLmpzJztcbi8qKlxuICogQ2hlY2sgaWYgYSB0ZXh0IGVuZHMgd2l0aCBhIGNlcnRhaW4gc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kc1dpdGgodGV4dCwgc2VhcmNoKSB7XG4gIHZhciBzdGFydCA9IHRleHQubGVuZ3RoIC0gc2VhcmNoLmxlbmd0aDtcbiAgdmFyIGVuZCA9IHRleHQubGVuZ3RoO1xuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgPT09IHNlYXJjaDtcbn1cbi8qKlxuICogRm9ybWF0IGEgdmFsdWUgb2YgYW55IHR5cGUgaW50byBhIHN0cmluZy5cbiAqXG4gKiBVc2FnZTpcbiAqICAgICBtYXRoLmZvcm1hdCh2YWx1ZSlcbiAqICAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICpcbiAqIFdoZW4gdmFsdWUgaXMgYSBmdW5jdGlvbjpcbiAqXG4gKiAtIFdoZW4gdGhlIGZ1bmN0aW9uIGhhcyBhIHByb3BlcnR5IGBzeW50YXhgLCBpdCByZXR1cm5zIHRoaXNcbiAqICAgc3ludGF4IGRlc2NyaXB0aW9uLlxuICogLSBJbiBvdGhlciBjYXNlcywgYSBzdHJpbmcgYCdmdW5jdGlvbidgIGlzIHJldHVybmVkLlxuICpcbiAqIFdoZW4gYHZhbHVlYCBpcyBhbiBPYmplY3Q6XG4gKlxuICogLSBXaGVuIHRoZSBvYmplY3QgY29udGFpbnMgYSBwcm9wZXJ0eSBgZm9ybWF0YCBiZWluZyBhIGZ1bmN0aW9uLCB0aGlzXG4gKiAgIGZ1bmN0aW9uIGlzIGludm9rZWQgYXMgYHZhbHVlLmZvcm1hdChvcHRpb25zKWAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gKiAtIFdoZW4gdGhlIG9iamVjdCBoYXMgaXRzIG93biBgdG9TdHJpbmdgIG1ldGhvZCwgdGhpcyBtZXRob2QgaXMgaW52b2tlZFxuICogICBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAqIC0gSW4gb3RoZXIgY2FzZXMgdGhlIGZ1bmN0aW9uIHdpbGwgbG9vcCBvdmVyIGFsbCBvYmplY3QgcHJvcGVydGllcyBhbmRcbiAqICAgcmV0dXJuIEpTT04gb2JqZWN0IG5vdGF0aW9uIGxpa2UgJ3tcImFcIjogMiwgXCJiXCI6IDN9Jy5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogICAgIG1hdGguZm9ybWF0KDIvNykgICAgICAgICAgICAgICAgLy8gJzAuMjg1NzE0Mjg1NzE0Mjg1NydcbiAqICAgICBtYXRoLmZvcm1hdChtYXRoLnBpLCAzKSAgICAgICAgIC8vICczLjE0J1xuICogICAgIG1hdGguZm9ybWF0KG5ldyBDb21wbGV4KDIsIDMpKSAgLy8gJzIgKyAzaSdcbiAqICAgICBtYXRoLmZvcm1hdCgnaGVsbG8nKSAgICAgICAgICAgIC8vICdcImhlbGxvXCInXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSAgICAgICAgICAgICBWYWx1ZSB0byBiZSBzdHJpbmdpZmllZFxuICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChpc0JpZ051bWJlcih2YWx1ZSkpIHtcbiAgICByZXR1cm4gZm9ybWF0QmlnTnVtYmVyKHZhbHVlLCBvcHRpb25zKTtcbiAgfSAvLyBub3RlOiB3ZSB1c2UgdW5zYWZlIGR1Y2stdHlwaW5nIGhlcmUgdG8gY2hlY2sgZm9yIEZyYWN0aW9ucywgdGhpcyBpc1xuICAvLyBvayBoZXJlIHNpbmNlIHdlJ3JlIG9ubHkgaW52b2tpbmcgdG9TdHJpbmcgb3IgY29uY2F0ZW5hdGluZyBpdHMgdmFsdWVzXG5cblxuICBpZiAobG9va3NMaWtlRnJhY3Rpb24odmFsdWUpKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZnJhY3Rpb24gIT09ICdkZWNpbWFsJykge1xuICAgICAgLy8gb3V0cHV0IGFzIHJhdGlvLCBsaWtlICcxLzMnXG4gICAgICByZXR1cm4gdmFsdWUucyAqIHZhbHVlLm4gKyAnLycgKyB2YWx1ZS5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdXRwdXQgYXMgZGVjaW1hbCwgbGlrZSAnMC4oMyknXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZm9ybWF0QXJyYXkodmFsdWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiAnXCInICsgdmFsdWUgKyAnXCInO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWx1ZS5zeW50YXggPyBTdHJpbmcodmFsdWUuc3ludGF4KSA6ICdmdW5jdGlvbic7XG4gIH1cblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh0eXBlb2YgdmFsdWUuZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdmFsdWUuZm9ybWF0KG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdmFsdWUudG9TdHJpbmcob3B0aW9ucykgIT09IHt9LnRvU3RyaW5nKCkpIHtcbiAgICAgIC8vIHRoaXMgb2JqZWN0IGhhcyBhIG5vbi1uYXRpdmUgdG9TdHJpbmcgbWV0aG9kLCB1c2UgdGhhdCBvbmVcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGVudHJpZXMgPSBPYmplY3Qua2V5cyh2YWx1ZSkubWFwKGtleSA9PiB7XG4gICAgICAgIHJldHVybiAnXCInICsga2V5ICsgJ1wiOiAnICsgZm9ybWF0KHZhbHVlW2tleV0sIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gJ3snICsgZW50cmllcy5qb2luKCcsICcpICsgJ30nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuLyoqXG4gKiBTdHJpbmdpZnkgYSB2YWx1ZSBpbnRvIGEgc3RyaW5nIGVuY2xvc2VkIGluIGRvdWJsZSBxdW90ZXMuXG4gKiBVbmVzY2FwZWQgZG91YmxlIHF1b3RlcyBhbmQgYmFja3NsYXNoZXMgaW5zaWRlIHRoZSB2YWx1ZSBhcmUgZXNjYXBlZC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlKSB7XG4gIHZhciB0ZXh0ID0gU3RyaW5nKHZhbHVlKTtcbiAgdmFyIGVzY2FwZWQgPSAnJztcbiAgdmFyIGkgPSAwO1xuXG4gIHdoaWxlIChpIDwgdGV4dC5sZW5ndGgpIHtcbiAgICB2YXIgYyA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgZXNjYXBlZCArPSBjO1xuICAgICAgaSsrO1xuICAgICAgYyA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICBpZiAoYyA9PT0gJycgfHwgJ1wiXFxcXC9iZm5ydHUnLmluZGV4T2YoYykgPT09IC0xKSB7XG4gICAgICAgIGVzY2FwZWQgKz0gJ1xcXFwnOyAvLyBubyB2YWxpZCBlc2NhcGUgY2hhcmFjdGVyIC0+IGVzY2FwZSBpdFxuICAgICAgfVxuXG4gICAgICBlc2NhcGVkICs9IGM7XG4gICAgfSBlbHNlIGlmIChjID09PSAnXCInKSB7XG4gICAgICBlc2NhcGVkICs9ICdcXFxcXCInO1xuICAgIH0gZWxzZSB7XG4gICAgICBlc2NhcGVkICs9IGM7XG4gICAgfVxuXG4gICAgaSsrO1xuICB9XG5cbiAgcmV0dXJuICdcIicgKyBlc2NhcGVkICsgJ1wiJztcbn1cbi8qKlxuICogRXNjYXBlIHNwZWNpYWwgSFRNTCBjaGFyYWN0ZXJzXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSkge1xuICB2YXIgdGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLnJlcGxhY2UoLycvZywgJyYjMzk7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgcmV0dXJuIHRleHQ7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGZvcm1hdCBhbiBuLWRpbWVuc2lvbmFsIG1hdHJpeFxuICogRXhhbXBsZSBvdXRwdXQ6IFwiW1sxLCAyXSwgWzMsIDRdXVwiXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShhcnJheSwgb3B0aW9ucykge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICB2YXIgc3RyID0gJ1snO1xuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICBzdHIgKz0gJywgJztcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGZvcm1hdEFycmF5KGFycmF5W2ldLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJ10nO1xuICAgIHJldHVybiBzdHI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1hdChhcnJheSwgb3B0aW9ucyk7XG4gIH1cbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhIHZhbHVlIGxvb2tzIGxpa2UgYSBGcmFjdGlvbiAodW5zYWZlIGR1Y2stdHlwZSBjaGVjaylcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuXG5mdW5jdGlvbiBsb29rc0xpa2VGcmFjdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUucyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLm4gPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5kID09PSAnbnVtYmVyJyB8fCBmYWxzZTtcbn1cbi8qKlxuICogQ29tcGFyZSB0d28gc3RyaW5nc1xuICogQHBhcmFtIHtzdHJpbmd9IHhcbiAqIEBwYXJhbSB7c3RyaW5nfSB5XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVUZXh0KHgsIHkpIHtcbiAgLy8gd2UgZG9uJ3Qgd2FudCB0byBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nLCBvbmx5IGFjY2VwdCBzdHJpbmcgaW5wdXRcbiAgaWYgKCFpc1N0cmluZyh4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiBjb21wYXJlVGV4dCAnICsgJyhleHBlY3RlZDogc3RyaW5nIG9yIEFycmF5IG9yIE1hdHJpeCwgYWN0dWFsOiAnICsgdHlwZU9mKHgpICsgJywgaW5kZXg6IDApJyk7XG4gIH1cblxuICBpZiAoIWlzU3RyaW5nKHkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCB0eXBlIG9mIGFyZ3VtZW50IGluIGZ1bmN0aW9uIGNvbXBhcmVUZXh0ICcgKyAnKGV4cGVjdGVkOiBzdHJpbmcgb3IgQXJyYXkgb3IgTWF0cml4LCBhY3R1YWw6ICcgKyB0eXBlT2YoeSkgKyAnLCBpbmRleDogMSknKTtcbiAgfVxuXG4gIHJldHVybiB4ID09PSB5ID8gMCA6IHggPiB5ID8gMSA6IC0xO1xufSIsIi8qKlxuICogQ3JlYXRlIGEgcmFuZ2UgZXJyb3Igd2l0aCB0aGUgbWVzc2FnZTpcbiAqICAgICAnRGltZW5zaW9uIG1pc21hdGNoICg8YWN0dWFsIHNpemU+ICE9IDxleHBlY3RlZCBzaXplPiknXG4gKiBAcGFyYW0ge251bWJlciB8IG51bWJlcltdfSBhY3R1YWwgICAgICAgIFRoZSBhY3R1YWwgc2l6ZVxuICogQHBhcmFtIHtudW1iZXIgfCBudW1iZXJbXX0gZXhwZWN0ZWQgICAgICBUaGUgZXhwZWN0ZWQgc2l6ZVxuICogQHBhcmFtIHtzdHJpbmd9IFtyZWxhdGlvbj0nIT0nXSAgICAgICAgICBPcHRpb25hbCByZWxhdGlvbiBiZXR3ZWVuIGFjdHVhbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgZXhwZWN0ZWQgc2l6ZTogJyE9JywgJzwnLCBldGMuXG4gKiBAZXh0ZW5kcyBSYW5nZUVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEaW1lbnNpb25FcnJvcihhY3R1YWwsIGV4cGVjdGVkLCByZWxhdGlvbikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGltZW5zaW9uRXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuYWN0dWFsID0gYWN0dWFsO1xuICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gIHRoaXMucmVsYXRpb24gPSByZWxhdGlvbjtcbiAgdGhpcy5tZXNzYWdlID0gJ0RpbWVuc2lvbiBtaXNtYXRjaCAoJyArIChBcnJheS5pc0FycmF5KGFjdHVhbCkgPyAnWycgKyBhY3R1YWwuam9pbignLCAnKSArICddJyA6IGFjdHVhbCkgKyAnICcgKyAodGhpcy5yZWxhdGlvbiB8fCAnIT0nKSArICcgJyArIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSA/ICdbJyArIGV4cGVjdGVkLmpvaW4oJywgJykgKyAnXScgOiBleHBlY3RlZCkgKyAnKSc7XG4gIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbn1cbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZSA9IG5ldyBSYW5nZUVycm9yKCk7XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSYW5nZUVycm9yO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnRGltZW5zaW9uRXJyb3InO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLmlzRGltZW5zaW9uRXJyb3IgPSB0cnVlOyIsIi8qKlxuICogQ3JlYXRlIGEgcmFuZ2UgZXJyb3Igd2l0aCB0aGUgbWVzc2FnZTpcbiAqICAgICAnSW5kZXggb3V0IG9mIHJhbmdlIChpbmRleCA8IG1pbiknXG4gKiAgICAgJ0luZGV4IG91dCBvZiByYW5nZSAoaW5kZXggPCBtYXgpJ1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAgICAgVGhlIGFjdHVhbCBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFttaW49MF0gICBNaW5pbXVtIGluZGV4IChpbmNsdWRlZClcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4XSAgICAgTWF4aW11bSBpbmRleCAoZXhjbHVkZWQpXG4gKiBAZXh0ZW5kcyBSYW5nZUVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJbmRleEVycm9yKGluZGV4LCBtaW4sIG1heCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5kZXhFcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICB9XG5cbiAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgIHRoaXMubWluID0gMDtcbiAgICB0aGlzLm1heCA9IG1pbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICB0aGlzLm1heCA9IG1heDtcbiAgfVxuXG4gIGlmICh0aGlzLm1pbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW5kZXggPCB0aGlzLm1pbikge1xuICAgIHRoaXMubWVzc2FnZSA9ICdJbmRleCBvdXQgb2YgcmFuZ2UgKCcgKyB0aGlzLmluZGV4ICsgJyA8ICcgKyB0aGlzLm1pbiArICcpJztcbiAgfSBlbHNlIGlmICh0aGlzLm1heCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW5kZXggPj0gdGhpcy5tYXgpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSAnSW5kZXggb3V0IG9mIHJhbmdlICgnICsgdGhpcy5pbmRleCArICcgPiAnICsgKHRoaXMubWF4IC0gMSkgKyAnKSc7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tZXNzYWdlID0gJ0luZGV4IG91dCBvZiByYW5nZSAoJyArIHRoaXMuaW5kZXggKyAnKSc7XG4gIH1cblxuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5JbmRleEVycm9yLnByb3RvdHlwZSA9IG5ldyBSYW5nZUVycm9yKCk7XG5JbmRleEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlRXJyb3I7XG5JbmRleEVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0luZGV4RXJyb3InO1xuSW5kZXhFcnJvci5wcm90b3R5cGUuaXNJbmRleEVycm9yID0gdHJ1ZTsiLCJpbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuL251bWJlci5qcyc7XG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi9zdHJpbmcuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBJbmRleEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvSW5kZXhFcnJvci5qcyc7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5LlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdGhlIHNpemUgb2YgdGhlIGZpcnN0IGVudHJ5LCBpdCBkb2VzIG5vdCB2YWxpZGF0ZVxuICogd2hldGhlciBhbGwgZGltZW5zaW9ucyBtYXRjaC4gKHVzZSBmdW5jdGlvbiBgdmFsaWRhdGVgIGZvciB0aGF0KVxuICogQHBhcmFtIHtBcnJheX0geFxuICogQFJldHVybiB7TnVtYmVyW119IHNpemVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlTaXplKHgpIHtcbiAgdmFyIHMgPSBbXTtcblxuICB3aGlsZSAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHMucHVzaCh4Lmxlbmd0aCk7XG4gICAgeCA9IHhbMF07XG4gIH1cblxuICByZXR1cm4gcztcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgdmFsaWRhdGUgd2hldGhlciBlYWNoIGVsZW1lbnQgaW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogaGFzIGEgc2l6ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBzaXplIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgQXJyYXkgdG8gYmUgdmFsaWRhdGVkXG4gKiBAcGFyYW0ge251bWJlcltdfSBzaXplICBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEB0aHJvd3MgRGltZW5zaW9uRXJyb3JcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3ZhbGlkYXRlKGFycmF5LCBzaXplLCBkaW0pIHtcbiAgdmFyIGk7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgaWYgKGxlbiAhPT0gc2l6ZVtkaW1dKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGxlbiwgc2l6ZVtkaW1dKTtcbiAgfVxuXG4gIGlmIChkaW0gPCBzaXplLmxlbmd0aCAtIDEpIHtcbiAgICAvLyByZWN1cnNpdmVseSB2YWxpZGF0ZSBlYWNoIGNoaWxkIGFycmF5XG4gICAgdmFyIGRpbU5leHQgPSBkaW0gKyAxO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNoaWxkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGggLSAxLCBzaXplLmxlbmd0aCwgJzwnKTtcbiAgICAgIH1cblxuICAgICAgX3ZhbGlkYXRlKGFycmF5W2ldLCBzaXplLCBkaW1OZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbGFzdCBkaW1lbnNpb24uIG5vbmUgb2YgdGhlIGNoaWxkcyBtYXkgYmUgYW4gYXJyYXlcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5W2ldKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGggKyAxLCBzaXplLmxlbmd0aCwgJz4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciBlYWNoIGVsZW1lbnQgaW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSBoYXNcbiAqIGEgc2l6ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBzaXplIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgQXJyYXkgdG8gYmUgdmFsaWRhdGVkXG4gKiBAcGFyYW0ge251bWJlcltdfSBzaXplICBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAdGhyb3dzIERpbWVuc2lvbkVycm9yXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoYXJyYXksIHNpemUpIHtcbiAgdmFyIGlzU2NhbGFyID0gc2l6ZS5sZW5ndGggPT09IDA7XG5cbiAgaWYgKGlzU2NhbGFyKSB7XG4gICAgLy8gc2NhbGFyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXJyYXkubGVuZ3RoLCAwKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXlcbiAgICBfdmFsaWRhdGUoYXJyYXksIHNpemUsIDApO1xuICB9XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBpbmRleCBpcyBhbiBpbnRlZ2VyIG51bWJlciB3aXRoIGluZGV4ID49IDAgYW5kIGluZGV4IDwgbGVuZ3RoXG4gKiB3aGVuIGxlbmd0aCBpcyBwcm92aWRlZFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4ICAgIFplcm8tYmFzZWQgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBMZW5ndGggb2YgdGhlIGFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5kZXgoaW5kZXgsIGxlbmd0aCkge1xuICBpZiAoIWlzTnVtYmVyKGluZGV4KSB8fCAhaXNJbnRlZ2VyKGluZGV4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4IG11c3QgYmUgYW4gaW50ZWdlciAodmFsdWU6ICcgKyBpbmRleCArICcpJyk7XG4gIH1cblxuICBpZiAoaW5kZXggPCAwIHx8IHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGluZGV4ID49IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBJbmRleEVycm9yKGluZGV4LCBsZW5ndGgpO1xuICB9XG59XG4vKipcbiAqIFJlc2l6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5LiBUaGUgcmVzaXplZCBhcnJheSBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaXplZFxuICogQHBhcmFtIHtBcnJheS48bnVtYmVyPn0gc2l6ZSBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gIFZhbHVlIHRvIGJlIGZpbGxlZCBpbiBpbiBuZXcgZW50cmllcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemVybyBieSBkZWZhdWx0LiBTcGVjaWZ5IGZvciBleGFtcGxlIGBudWxsYCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gY2xlYXJseSBzZWUgZW50cmllcyB0aGF0IGFyZSBub3QgZXhwbGljaXRseVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQuXG4gKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgICAgICAgICBUaGUgcmVzaXplZCBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemUoYXJyYXksIHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3Igc2NhbGFycywgaGF2aW5nIHNpemU9W10gP1xuICAvLyBjaGVjayB0aGUgdHlwZSBvZiB0aGUgYXJndW1lbnRzXG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKHNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXNpemluZyB0byBzY2FsYXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICB9IC8vIGNoZWNrIHdoZXRoZXIgc2l6ZSBjb250YWlucyBwb3NpdGl2ZSBpbnRlZ2Vyc1xuXG5cbiAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzaXplLCBtdXN0IGNvbnRhaW4gcG9zaXRpdmUgaW50ZWdlcnMgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgfVxuICB9KTsgLy8gcmVjdXJzaXZlbHkgcmVzaXplIHRoZSBhcnJheVxuXG4gIHZhciBfZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAwO1xuXG4gIF9yZXNpemUoYXJyYXksIHNpemUsIDAsIF9kZWZhdWx0VmFsdWUpO1xuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgcmVzaXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaXplZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICBBcnJheSB3aXRoIHRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICAgICAgICAgIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgIFZhbHVlIHRvIGJlIGZpbGxlZCBpbiBpbiBuZXcgZW50cmllcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9yZXNpemUoYXJyYXksIHNpemUsIGRpbSwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBpO1xuICB2YXIgZWxlbTtcbiAgdmFyIG9sZExlbiA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIG5ld0xlbiA9IHNpemVbZGltXTtcbiAgdmFyIG1pbkxlbiA9IE1hdGgubWluKG9sZExlbiwgbmV3TGVuKTsgLy8gYXBwbHkgbmV3IGxlbmd0aFxuXG4gIGFycmF5Lmxlbmd0aCA9IG5ld0xlbjtcblxuICBpZiAoZGltIDwgc2l6ZS5sZW5ndGggLSAxKSB7XG4gICAgLy8gbm9uLWxhc3QgZGltZW5zaW9uXG4gICAgdmFyIGRpbU5leHQgPSBkaW0gKyAxOyAvLyByZXNpemUgZXhpc3RpbmcgY2hpbGQgYXJyYXlzXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcbiAgICAgIC8vIHJlc2l6ZSBjaGlsZCBhcnJheVxuICAgICAgZWxlbSA9IGFycmF5W2ldO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZWxlbSkpIHtcbiAgICAgICAgZWxlbSA9IFtlbGVtXTsgLy8gYWRkIGEgZGltZW5zaW9uXG5cbiAgICAgICAgYXJyYXlbaV0gPSBlbGVtO1xuICAgICAgfVxuXG4gICAgICBfcmVzaXplKGVsZW0sIHNpemUsIGRpbU5leHQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSAvLyBjcmVhdGUgbmV3IGNoaWxkIGFycmF5c1xuXG5cbiAgICBmb3IgKGkgPSBtaW5MZW47IGkgPCBuZXdMZW47IGkrKykge1xuICAgICAgLy8gZ2V0IGNoaWxkIGFycmF5XG4gICAgICBlbGVtID0gW107XG4gICAgICBhcnJheVtpXSA9IGVsZW07IC8vIHJlc2l6ZSBuZXcgY2hpbGQgYXJyYXlcblxuICAgICAgX3Jlc2l6ZShlbGVtLCBzaXplLCBkaW1OZXh0LCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBsYXN0IGRpbWVuc2lvblxuICAgIC8vIHJlbW92ZSBkaW1lbnNpb25zIG9mIGV4aXN0aW5nIHZhbHVlc1xuICAgIGZvciAoaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgICAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXlbaV0pKSB7XG4gICAgICAgIGFycmF5W2ldID0gYXJyYXlbaV1bMF07XG4gICAgICB9XG4gICAgfSAvLyBmaWxsIG5ldyBlbGVtZW50cyB3aXRoIHRoZSBkZWZhdWx0IHZhbHVlXG5cblxuICAgIGZvciAoaSA9IG1pbkxlbjsgaSA8IG5ld0xlbjsgaSsrKSB7XG4gICAgICBhcnJheVtpXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUmUtc2hhcGUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSB0byBmaXQgdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaGFwZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemVzICBMaXN0IG9mIHNpemVzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5fSAgICAgICAgICAgICAgIEFycmF5IHdob3NlIGRhdGEgaGFzIGJlZW4gZm9ybWF0dGVkIHRvIGZpdCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICpcbiAqIEB0aHJvd3Mge0RpbWVuc2lvbkVycm9yfSAgICAgICBJZiB0aGUgcHJvZHVjdCBvZiB0aGUgbmV3IGRpbWVuc2lvbiBzaXplcyBkb2VzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGVxdWFsIHRoYXQgb2YgdGhlIG9sZCBvbmVzXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaGFwZShhcnJheSwgc2l6ZXMpIHtcbiAgdmFyIGZsYXRBcnJheSA9IGZsYXR0ZW4oYXJyYXkpO1xuICB2YXIgbmV3QXJyYXk7XG5cbiAgZnVuY3Rpb24gcHJvZHVjdChhcnIpIHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgocHJldiwgY3VycikgPT4gcHJldiAqIGN1cnIpO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSB8fCAhQXJyYXkuaXNBcnJheShzaXplcykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKHNpemVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcigwLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgfVxuXG4gIHZhciB0b3RhbFNpemUgPSAxO1xuXG4gIGZvciAodmFyIHNpemVJbmRleCA9IDA7IHNpemVJbmRleCA8IHNpemVzLmxlbmd0aDsgc2l6ZUluZGV4KyspIHtcbiAgICB0b3RhbFNpemUgKj0gc2l6ZXNbc2l6ZUluZGV4XTtcbiAgfVxuXG4gIGlmIChmbGF0QXJyYXkubGVuZ3RoICE9PSB0b3RhbFNpemUpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IocHJvZHVjdChzaXplcyksIHByb2R1Y3QoYXJyYXlTaXplKGFycmF5KSksICchPScpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBuZXdBcnJheSA9IF9yZXNoYXBlKGZsYXRBcnJheSwgc2l6ZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBEaW1lbnNpb25FcnJvcikge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHByb2R1Y3Qoc2l6ZXMpLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuLyoqXG4gKiBJdGVyYXRpdmVseSByZS1zaGFwZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5IHRvIGZpdCB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgICBBcnJheSB0byBiZSByZXNoYXBlZFxuICogQHBhcmFtIHtBcnJheS48bnVtYmVyPn0gc2l6ZXMgIExpc3Qgb2Ygc2l6ZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7QXJyYXl9ICAgICAgICAgICAgICAgQXJyYXkgd2hvc2UgZGF0YSBoYXMgYmVlbiBmb3JtYXR0ZWQgdG8gZml0IHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKi9cblxuZnVuY3Rpb24gX3Jlc2hhcGUoYXJyYXksIHNpemVzKSB7XG4gIC8vIHRlc3RpbmcgaWYgdGhlcmUgYXJlIGVub3VnaCBlbGVtZW50cyBmb3IgdGhlIHJlcXVlc3RlZCBzaGFwZVxuICB2YXIgdG1wQXJyYXkgPSBhcnJheTtcbiAgdmFyIHRtcEFycmF5MjsgLy8gZm9yIGVhY2ggZGltZW5zaW9ucyBzdGFydGluZyBieSB0aGUgbGFzdCBvbmUgYW5kIGlnbm9yaW5nIHRoZSBmaXJzdCBvbmVcblxuICBmb3IgKHZhciBzaXplSW5kZXggPSBzaXplcy5sZW5ndGggLSAxOyBzaXplSW5kZXggPiAwOyBzaXplSW5kZXgtLSkge1xuICAgIHZhciBzaXplID0gc2l6ZXNbc2l6ZUluZGV4XTtcbiAgICB0bXBBcnJheTIgPSBbXTsgLy8gYWdncmVnYXRlIHRoZSBlbGVtZW50cyBvZiB0aGUgY3VycmVudCB0bXBBcnJheSBpbiBlbGVtZW50cyBvZiB0aGUgcmVxdWVzdGVkIHNpemVcblxuICAgIHZhciBsZW5ndGggPSB0bXBBcnJheS5sZW5ndGggLyBzaXplO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdG1wQXJyYXkyLnB1c2godG1wQXJyYXkuc2xpY2UoaSAqIHNpemUsIChpICsgMSkgKiBzaXplKSk7XG4gICAgfSAvLyBzZXQgaXQgYXMgdGhlIG5ldyB0bXBBcnJheSBmb3IgdGhlIG5leHQgbG9vcCB0dXJuIG9yIGZvciByZXR1cm5cblxuXG4gICAgdG1wQXJyYXkgPSB0bXBBcnJheTI7XG4gIH1cblxuICByZXR1cm4gdG1wQXJyYXk7XG59XG4vKipcbiAqIFNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IFtzaXplXVxuICogQHJldHVybnMge0FycmF5fSByZXR1cm5zIHRoZSBhcnJheSBpdHNlbGZcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVlZXplKGFycmF5LCBzaXplKSB7XG4gIHZhciBzID0gc2l6ZSB8fCBhcnJheVNpemUoYXJyYXkpOyAvLyBzcXVlZXplIG91dGVyIGRpbWVuc2lvbnNcblxuICB3aGlsZSAoQXJyYXkuaXNBcnJheShhcnJheSkgJiYgYXJyYXkubGVuZ3RoID09PSAxKSB7XG4gICAgYXJyYXkgPSBhcnJheVswXTtcbiAgICBzLnNoaWZ0KCk7XG4gIH0gLy8gZmluZCB0aGUgZmlyc3QgZGltZW5zaW9uIHRvIGJlIHNxdWVlemVkXG5cblxuICB2YXIgZGltcyA9IHMubGVuZ3RoO1xuXG4gIHdoaWxlIChzW2RpbXMgLSAxXSA9PT0gMSkge1xuICAgIGRpbXMtLTtcbiAgfSAvLyBzcXVlZXplIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gIGlmIChkaW1zIDwgcy5sZW5ndGgpIHtcbiAgICBhcnJheSA9IF9zcXVlZXplKGFycmF5LCBkaW1zLCAwKTtcbiAgICBzLmxlbmd0aCA9IGRpbXM7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zIFJlcXVpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICBDdXJyZW50IGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5IHwgKn0gUmV0dXJucyB0aGUgc3F1ZWV6ZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3NxdWVlemUoYXJyYXksIGRpbXMsIGRpbSkge1xuICB2YXIgaSwgaWk7XG5cbiAgaWYgKGRpbSA8IGRpbXMpIHtcbiAgICB2YXIgbmV4dCA9IGRpbSArIDE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGFycmF5W2ldID0gX3NxdWVlemUoYXJyYXlbaV0sIGRpbXMsIG5leHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAgIGFycmF5ID0gYXJyYXlbMF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBVbnNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheTogYWRkIGRpbWVuc2lvbnMgd2hlbiBtaXNzaW5nXG4gKlxuICogUGFyYW10ZXIgYHNpemVgIHdpbGwgYmUgbXV0YXRlZCB0byBtYXRjaCB0aGUgbmV3LCB1bnF1ZWV6ZWQgbWF0cml4IHNpemUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zICAgICAgIERlc2lyZWQgbnVtYmVyIG9mIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gW291dGVyXSAgICBOdW1iZXIgb2Ygb3V0ZXIgZGltZW5zaW9ucyB0byBiZSBhZGRlZFxuICogQHBhcmFtIHtBcnJheX0gW3NpemVdIEN1cnJlbnQgc2l6ZSBvZiBhcnJheS5cbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0dXJucyB0aGUgYXJyYXkgaXRzZWxmXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc3F1ZWV6ZShhcnJheSwgZGltcywgb3V0ZXIsIHNpemUpIHtcbiAgdmFyIHMgPSBzaXplIHx8IGFycmF5U2l6ZShhcnJheSk7IC8vIHVuc3F1ZWV6ZSBvdXRlciBkaW1lbnNpb25zXG5cbiAgaWYgKG91dGVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRlcjsgaSsrKSB7XG4gICAgICBhcnJheSA9IFthcnJheV07XG4gICAgICBzLnVuc2hpZnQoMSk7XG4gICAgfVxuICB9IC8vIHVuc3F1ZWV6ZSBpbm5lciBkaW1lbnNpb25zXG5cblxuICBhcnJheSA9IF91bnNxdWVlemUoYXJyYXksIGRpbXMsIDApO1xuXG4gIHdoaWxlIChzLmxlbmd0aCA8IGRpbXMpIHtcbiAgICBzLnB1c2goMSk7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHVuc3F1ZWV6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgUmVxdWlyZWQgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7QXJyYXkgfCAqfSBSZXR1cm5zIHRoZSBzcXVlZXplZCBhcnJheVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfdW5zcXVlZXplKGFycmF5LCBkaW1zLCBkaW0pIHtcbiAgdmFyIGksIGlpO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIHZhciBuZXh0ID0gZGltICsgMTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBfdW5zcXVlZXplKGFycmF5W2ldLCBkaW1zLCBuZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgZCA9IGRpbTsgZCA8IGRpbXM7IGQrKykge1xuICAgICAgYXJyYXkgPSBbYXJyYXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogRmxhdHRlbiBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5LCBwdXQgYWxsIGVsZW1lbnRzIGluIGEgb25lIGRpbWVuc2lvbmFsXG4gKiBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICBBIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gICAgICAgIFRoZSBmbGF0dGVuZWQgYXJyYXkgKDEgZGltZW5zaW9uYWwpXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgLy8gaWYgbm90IGFuIGFycmF5LCByZXR1cm4gYXMgaXNcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICB2YXIgZmxhdCA9IFtdO1xuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIGNhbGxiYWNrKHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKGNhbGxiYWNrKTsgLy8gdHJhdmVyc2UgdGhyb3VnaCBzdWItYXJyYXlzIHJlY3Vyc2l2ZWx5XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsYXQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZsYXQ7XG59XG4vKipcbiAqIEEgc2FmZSBtYXBcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXAoYXJyYXksIGNhbGxiYWNrKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGNhbGxiYWNrKTtcbn1cbi8qKlxuICogQSBzYWZlIGZvckVhY2hcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGFycmF5LCBjYWxsYmFjaykge1xuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEEgc2FmZSBmaWx0ZXJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIoYXJyYXksIGNhbGxiYWNrKSB7XG4gIGlmIChhcnJheVNpemUoYXJyYXkpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgZGltZW5zaW9uYWwgbWF0cmljZXMgc3VwcG9ydGVkJyk7XG4gIH1cblxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEZpbHRlciB2YWx1ZXMgaW4gYSBjYWxsYmFjayBnaXZlbiBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHBcbiAqIEByZXR1cm4ge0FycmF5fSBSZXR1cm5zIHRoZSBmaWx0ZXJlZCBhcnJheVxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyUmVnRXhwKGFycmF5LCByZWdleHApIHtcbiAgaWYgKGFycmF5U2l6ZShhcnJheSkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBkaW1lbnNpb25hbCBtYXRyaWNlcyBzdXBwb3J0ZWQnKTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyYXksIGVudHJ5ID0+IHJlZ2V4cC50ZXN0KGVudHJ5KSk7XG59XG4vKipcbiAqIEEgc2FmZSBqb2luXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG59XG4vKipcbiAqIEFzc2lnbiBhIG51bWVyaWMgaWRlbnRpZmllciB0byBldmVyeSBlbGVtZW50IG9mIGEgc29ydGVkIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhICBBbiBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyB0aGUgb3JpZ2luYWwgdmFsdWUgYW5kIGl0cyBpZGVudGlmaWVyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZ5KGEpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgaW5wdXQgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgdmFyIGIgPSBbXTtcbiAgdmFyIGNvdW50ID0gMDtcbiAgYlswXSA9IHtcbiAgICB2YWx1ZTogYVswXSxcbiAgICBpZGVudGlmaWVyOiAwXG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFbaV0gPT09IGFbaSAtIDFdKSB7XG4gICAgICBjb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuXG4gICAgYi5wdXNoKHtcbiAgICAgIHZhbHVlOiBhW2ldLFxuICAgICAgaWRlbnRpZmllcjogY291bnRcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBiO1xufVxuLyoqXG4gKiBSZW1vdmUgdGhlIG51bWVyaWMgaWRlbnRpZmllciBmcm9tIHRoZSBlbGVtZW50c1xuICogQHBhcmFtIHthcnJheX0gYSAgQW4gYXJyYXlcbiAqIEByZXR1cm4ge2FycmF5fSBBbiBhcnJheSBvZiB2YWx1ZXMgd2l0aG91dCBpZGVudGlmaWVyc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmFsaXplKGEpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgaW5wdXQgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgdmFyIGIgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBiLnB1c2goYVtpXS52YWx1ZSk7XG4gIH1cblxuICByZXR1cm4gYjtcbn1cbi8qKlxuICogQ2hlY2sgdGhlIGRhdGF0eXBlIG9mIGEgZ2l2ZW4gb2JqZWN0XG4gKiBUaGlzIGlzIGEgbG93IGxldmVsIGltcGxlbWVudGF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBieVxuICogcGFyZW50IE1hdHJpeCBjbGFzc2VzIHN1Y2ggYXMgU3BhcnNlTWF0cml4IG9yIERlbnNlTWF0cml4XG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB2YWxpZGF0ZSBBcnJheSBNYXRyaXggc2hhcGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB0eXBlT2YgICBDYWxsYmFjayBmdW5jdGlvbiB0byB1c2UgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgdmFsdWVcbiAqIEByZXR1cm4gc3RyaW5nXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5RGF0YVR5cGUoYXJyYXksIHR5cGVPZikge1xuICB2YXIgdHlwZTsgLy8gdG8gaG9sZCB0eXBlIGluZm9cblxuICB2YXIgbGVuZ3RoID0gMDsgLy8gdG8gaG9sZCBsZW5ndGggdmFsdWUgdG8gZW5zdXJlIGl0IGhhcyBjb25zaXN0ZW50IHNpemVzXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGl0ZW0pOyAvLyBTYXZpbmcgdGhlIHRhcmdldCBtYXRyaXggcm93IHNpemVcblxuICAgIGlmIChpID09PSAwICYmIGlzQXJyYXkpIHtcbiAgICAgIGxlbmd0aCA9IGl0ZW0ubGVuZ3RoO1xuICAgIH0gLy8gSWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhbiBhcnJheSBidXQgdGhlIGxlbmd0aCBkb2VzIG5vdCBlcXVhbCB0aGUgdGFyZ2V0VmVjdG9yU2l6ZVxuXG5cbiAgICBpZiAoaXNBcnJheSAmJiBpdGVtLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBpdGVtVHlwZSA9IGlzQXJyYXkgPyBnZXRBcnJheURhdGFUeXBlKGl0ZW0sIHR5cGVPZikgLy8gcmVjdXJzZSBpbnRvIGEgbmVzdGVkIGFycmF5XG4gICAgOiB0eXBlT2YoaXRlbSk7XG5cbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0eXBlID0gaXRlbVR5cGU7IC8vIGZpcnN0IGl0ZW1cbiAgICB9IGVsc2UgaWYgKHR5cGUgIT09IGl0ZW1UeXBlKSB7XG4gICAgICByZXR1cm4gJ21peGVkJztcbiAgICB9IGVsc2Ugey8vIHdlJ3JlIGdvb2QsIGV2ZXJ5dGhpbmcgaGFzIHRoZSBzYW1lIHR5cGUgc28gZmFyXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHR5cGU7XG59XG4vKipcbiAqIFJldHVybiB0aGUgbGFzdCBpdGVtIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSBhcnJheVxuICogQHJldHVybnMgeyp9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xufVxuLyoqXG4gKiBHZXQgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGFycmF5LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5zbGljZSgwLCBhcnJheS5sZW5ndGggLSAxKTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGFycmF5IG9yIHN0cmluZyBjb250YWlucyBhbiBpdGVtXG4gKiBAcGFyYW0ge0FycmF5IHwgc3RyaW5nfSBhcnJheVxuICogQHBhcmFtIHsqfSBpdGVtXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59IiwiaW1wb3J0IHsgY29udGFpbnMgfSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7IHBpY2tTaGFsbG93IH0gZnJvbSAnLi9vYmplY3QuanMnO1xuLyoqXG4gKiBDcmVhdGUgYSBmYWN0b3J5IGZ1bmN0aW9uLCB3aGljaCBjYW4gYmUgdXNlZCB0byBpbmplY3QgZGVwZW5kZW5jaWVzLlxuICpcbiAqIFRoZSBjcmVhdGVkIGZ1bmN0aW9ucyBhcmUgbWVtb2l6ZWQsIGEgY29uc2VjdXRpdmUgY2FsbCBvZiB0aGUgZmFjdG9yeVxuICogd2l0aCB0aGUgZXhhY3Qgc2FtZSBpbnB1dHMgd2lsbCByZXR1cm4gdGhlIHNhbWUgZnVuY3Rpb24gaW5zdGFuY2UuXG4gKiBUaGUgbWVtb2l6ZWQgY2FjaGUgaXMgZXhwb3NlZCBvbiBgZmFjdG9yeS5jYWNoZWAgYW5kIGNhbiBiZSBjbGVhcmVkXG4gKiBpZiBuZWVkZWQuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgY29uc3QgbmFtZSA9ICdsb2cnXG4gKiAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gWydjb25maWcnLCAndHlwZWQnLCAnZGl2aWRlU2NhbGFyJywgJ0NvbXBsZXgnXVxuICpcbiAqICAgICBleHBvcnQgY29uc3QgY3JlYXRlTG9nID0gZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICh7IHR5cGVkLCBjb25maWcsIGRpdmlkZVNjYWxhciwgQ29tcGxleCB9KSA9PiB7XG4gKiAgICAgICAvLyAuLi4gY3JlYXRlIHRoZSBmdW5jdGlvbiBsb2cgaGVyZSBhbmQgcmV0dXJuIGl0XG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgICAgICBOYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBiZSBjcmVhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZXBlbmRlbmNpZXMgVGhlIG5hbWVzIG9mIGFsbCByZXF1aXJlZCBkZXBlbmRlbmNpZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNyZWF0ZSAgICAgICBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCBhbGwgZGVwZW5kZW5jaWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW21ldGFdICAgICAgICAgT3B0aW9uYWwgb2JqZWN0IHdpdGggbWV0YSBpbmZvcm1hdGlvbiB0aGF0IHdpbGwgYmUgYXR0YWNoZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byB0aGUgY3JlYXRlZCBmYWN0b3J5IGZ1bmN0aW9uIGFzIHByb3BlcnR5IGBtZXRhYC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIGNyZWF0ZSwgbWV0YSkge1xuICBmdW5jdGlvbiBhc3NlcnRBbmRDcmVhdGUoc2NvcGUpIHtcbiAgICAvLyB3ZSBvbmx5IHBhc3MgdGhlIHJlcXVlc3RlZCBkZXBlbmRlbmNpZXMgdG8gdGhlIGZhY3RvcnkgZnVuY3Rpb25cbiAgICAvLyB0byBwcmV2ZW50IGZ1bmN0aW9ucyB0byByZWx5IG9uIGRlcGVuZGVuY2llcyB0aGF0IGFyZSBub3QgZXhwbGljaXRseVxuICAgIC8vIHJlcXVlc3RlZC5cbiAgICB2YXIgZGVwcyA9IHBpY2tTaGFsbG93KHNjb3BlLCBkZXBlbmRlbmNpZXMubWFwKHN0cmlwT3B0aW9uYWxOb3RhdGlvbikpO1xuICAgIGFzc2VydERlcGVuZGVuY2llcyhuYW1lLCBkZXBlbmRlbmNpZXMsIHNjb3BlKTtcbiAgICByZXR1cm4gY3JlYXRlKGRlcHMpO1xuICB9XG5cbiAgYXNzZXJ0QW5kQ3JlYXRlLmlzRmFjdG9yeSA9IHRydWU7XG4gIGFzc2VydEFuZENyZWF0ZS5mbiA9IG5hbWU7XG4gIGFzc2VydEFuZENyZWF0ZS5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuc2xpY2UoKS5zb3J0KCk7XG5cbiAgaWYgKG1ldGEpIHtcbiAgICBhc3NlcnRBbmRDcmVhdGUubWV0YSA9IG1ldGE7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0QW5kQ3JlYXRlO1xufVxuLyoqXG4gKiBTb3J0IGFsbCBmYWN0b3JpZXMgc3VjaCB0aGF0IHdoZW4gbG9hZGluZyBpbiBvcmRlciwgdGhlIGRlcGVuZGVuY2llcyBhcmUgcmVzb2x2ZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZmFjdG9yaWVzXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgd2l0aCB0aGUgc29ydGVkIGZhY3Rvcmllcy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc29ydEZhY3RvcmllcyhmYWN0b3JpZXMpIHtcbiAgdmFyIGZhY3Rvcmllc0J5TmFtZSA9IHt9O1xuICBmYWN0b3JpZXMuZm9yRWFjaChmYWN0b3J5ID0+IHtcbiAgICBmYWN0b3JpZXNCeU5hbWVbZmFjdG9yeS5mbl0gPSBmYWN0b3J5O1xuICB9KTtcblxuICBmdW5jdGlvbiBjb250YWluc0RlcGVuZGVuY3koZmFjdG9yeSwgZGVwZW5kZW5jeSkge1xuICAgIC8vIFRPRE86IGRldGVjdCBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgaWYgKGlzRmFjdG9yeShmYWN0b3J5KSkge1xuICAgICAgaWYgKGNvbnRhaW5zKGZhY3RvcnkuZGVwZW5kZW5jaWVzLCBkZXBlbmRlbmN5LmZuIHx8IGRlcGVuZGVuY3kubmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWN0b3J5LmRlcGVuZGVuY2llcy5zb21lKGQgPT4gY29udGFpbnNEZXBlbmRlbmN5KGZhY3Rvcmllc0J5TmFtZVtkXSwgZGVwZW5kZW5jeSkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBzb3J0ZWQgPSBbXTtcblxuICBmdW5jdGlvbiBhZGRGYWN0b3J5KGZhY3RvcnkpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGluZGV4IDwgc29ydGVkLmxlbmd0aCAmJiAhY29udGFpbnNEZXBlbmRlbmN5KHNvcnRlZFtpbmRleF0sIGZhY3RvcnkpKSB7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIHNvcnRlZC5zcGxpY2UoaW5kZXgsIDAsIGZhY3RvcnkpO1xuICB9IC8vIHNvcnQgcmVndWxhciBmYWN0b3J5IGZ1bmN0aW9uc1xuXG5cbiAgZmFjdG9yaWVzLmZpbHRlcihpc0ZhY3RvcnkpLmZvckVhY2goYWRkRmFjdG9yeSk7IC8vIHNvcnQgbGVnYWN5IGZhY3RvcnkgZnVuY3Rpb25zIEFGVEVSIHRoZSByZWd1bGFyIGZhY3RvcnkgZnVuY3Rpb25zXG5cbiAgZmFjdG9yaWVzLmZpbHRlcihmYWN0b3J5ID0+ICFpc0ZhY3RvcnkoZmFjdG9yeSkpLmZvckVhY2goYWRkRmFjdG9yeSk7XG4gIHJldHVybiBzb3J0ZWQ7XG59IC8vIFRPRE86IGNvbW1lbnQgb3IgY2xlYW51cCBpZiB1bnVzZWQgaW4gdGhlIGVuZFxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGZhY3Rvcmllcykge1xuICB2YXIgc2NvcGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBzb3J0RmFjdG9yaWVzKGZhY3RvcmllcykuZm9yRWFjaChmYWN0b3J5ID0+IGZhY3Rvcnkoc2NvcGUpKTtcbiAgcmV0dXJuIHNjb3BlO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gb2JqZWN0IGlzIGEgZmFjdG9yeS4gVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGl0IGhhc1xuICogcHJvcGVydGllcyBuYW1lLCBkZXBlbmRlbmNpZXMsIGFuZCBhIGZ1bmN0aW9uIGNyZWF0ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGYWN0b3J5KG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLmZuID09PSAnc3RyaW5nJyAmJiBBcnJheS5pc0FycmF5KG9iai5kZXBlbmRlbmNpZXMpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBhbGwgZGVwZW5kZW5jaWVzIG9mIGEgbGlzdCB3aXRoIGRlcGVuZGVuY2llcyBhcmUgYXZhaWxhYmxlIGluIHRoZSBwcm92aWRlZCBzY29wZS5cbiAqXG4gKiBXaWxsIHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIHRoZXJlIGFyZSBkZXBlbmRlbmNpZXMgbWlzc2luZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgIE5hbWUgZm9yIHRoZSBmdW5jdGlvbiB0byBiZSBjcmVhdGVkLiBVc2VkIHRvIGdlbmVyYXRlIGEgdXNlZnVsIGVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nW119IGRlcGVuZGVuY2llc1xuICogQHBhcmFtIHtPYmplY3R9IHNjb3BlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlcGVuZGVuY2llcyhuYW1lLCBkZXBlbmRlbmNpZXMsIHNjb3BlKSB7XG4gIHZhciBhbGxEZWZpbmVkID0gZGVwZW5kZW5jaWVzLmZpbHRlcihkZXBlbmRlbmN5ID0+ICFpc09wdGlvbmFsRGVwZW5kZW5jeShkZXBlbmRlbmN5KSkgLy8gZmlsdGVyIG9wdGlvbmFsc1xuICAuZXZlcnkoZGVwZW5kZW5jeSA9PiBzY29wZVtkZXBlbmRlbmN5XSAhPT0gdW5kZWZpbmVkKTtcblxuICBpZiAoIWFsbERlZmluZWQpIHtcbiAgICB2YXIgbWlzc2luZ0RlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5maWx0ZXIoZGVwZW5kZW5jeSA9PiBzY29wZVtkZXBlbmRlbmN5XSA9PT0gdW5kZWZpbmVkKTsgLy8gVE9ETzogY3JlYXRlIGEgY3VzdG9tIGVycm9yIGNsYXNzIGZvciB0aGlzLCBhIE1hdGhqc0Vycm9yIG9yIHNvbWV0aGluZyBsaWtlIHRoYXRcblxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgZnVuY3Rpb24gXFxcIlwiLmNvbmNhdChuYW1lLCBcIlxcXCIsIFwiKSArIFwic29tZSBkZXBlbmRlbmNpZXMgYXJlIG1pc3Npbmc6IFwiLmNvbmNhdChtaXNzaW5nRGVwZW5kZW5jaWVzLm1hcChkID0+IFwiXFxcIlwiLmNvbmNhdChkLCBcIlxcXCJcIikpLmpvaW4oJywgJyksIFwiLlwiKSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGlvbmFsRGVwZW5kZW5jeShkZXBlbmRlbmN5KSB7XG4gIHJldHVybiBkZXBlbmRlbmN5ICYmIGRlcGVuZGVuY3lbMF0gPT09ICc/Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcE9wdGlvbmFsTm90YXRpb24oZGVwZW5kZW5jeSkge1xuICByZXR1cm4gZGVwZW5kZW5jeSAmJiBkZXBlbmRlbmN5WzBdID09PSAnPycgPyBkZXBlbmRlbmN5LnNsaWNlKDEpIDogZGVwZW5kZW5jeTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHR5cGVkLWZ1bmN0aW9uIHdoaWNoIGNoZWNrcyB0aGUgdHlwZXMgb2YgdGhlIGFyZ3VtZW50cyBhbmRcbiAqIGNhbiBtYXRjaCB0aGVtIGFnYWluc3QgbXVsdGlwbGUgcHJvdmlkZWQgc2lnbmF0dXJlcy4gVGhlIHR5cGVkLWZ1bmN0aW9uXG4gKiBhdXRvbWF0aWNhbGx5IGNvbnZlcnRzIGlucHV0cyBpbiBvcmRlciB0byBmaW5kIGEgbWF0Y2hpbmcgc2lnbmF0dXJlLlxuICogVHlwZWQgZnVuY3Rpb25zIHRocm93IGluZm9ybWF0aXZlIGVycm9ycyBpbiBjYXNlIG9mIHdyb25nIGlucHV0IGFyZ3VtZW50cy5cbiAqXG4gKiBTZWUgdGhlIGxpYnJhcnkgW3R5cGVkLWZ1bmN0aW9uXShodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL3R5cGVkLWZ1bmN0aW9uKVxuICogZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgICBtYXRoLnR5cGVkKG5hbWUsIHNpZ25hdHVyZXMpIDogZnVuY3Rpb25cbiAqICAgICBtYXRoLnR5cGVkKHNpZ25hdHVyZXMpIDogZnVuY3Rpb25cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgLy8gY3JlYXRlIGEgdHlwZWQgZnVuY3Rpb24gd2l0aCBtdWx0aXBsZSB0eXBlcyBwZXIgYXJndW1lbnQgKHR5cGUgdW5pb24pXG4gKiAgICAgY29uc3QgZm4yID0gdHlwZWQoe1xuICogICAgICAgJ251bWJlciB8IGJvb2xlYW4nOiBmdW5jdGlvbiAoYikge1xuICogICAgICAgICByZXR1cm4gJ2IgaXMgYSBudW1iZXIgb3IgYm9vbGVhbidcbiAqICAgICAgIH0sXG4gKiAgICAgICAnc3RyaW5nLCBudW1iZXIgfCBib29sZWFuJzogZnVuY3Rpb24gKGEsIGIpIHtcbiAqICAgICAgICAgcmV0dXJuICdhIGlzIGEgc3RyaW5nLCBiIGlzIGEgbnVtYmVyIG9yIGJvb2xlYW4nXG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqXG4gKiAgICAgLy8gY3JlYXRlIGEgdHlwZWQgZnVuY3Rpb24gd2l0aCBhbiBhbnkgdHlwZSBhcmd1bWVudFxuICogICAgIGNvbnN0IGxvZyA9IHR5cGVkKHtcbiAqICAgICAgICdzdHJpbmcsIGFueSc6IGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICogICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQ6ICcgKyBldmVudCArICcsIGRhdGE6ICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gICAgICAgICAgICAgICAgICAgICAgICAgIE9wdGlvbmFsIG5hbWUgZm9yIHRoZSB0eXBlZC1mdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBmdW5jdGlvbj59IHNpZ25hdHVyZXMgICBPYmplY3Qgd2l0aCBvbmUgb3IgbXVsdGlwbGUgZnVuY3Rpb24gc2lnbmF0dXJlc1xuICogQHJldHVybnMge2Z1bmN0aW9ufSBUaGUgY3JlYXRlZCB0eXBlZC1mdW5jdGlvbi5cbiAqL1xuaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzQXJyYXksIGlzQXJyYXlOb2RlLCBpc0Fzc2lnbm1lbnROb2RlLCBpc0JpZ051bWJlciwgaXNCbG9ja05vZGUsIGlzQm9vbGVhbiwgaXNDaGFpbiwgaXNDb21wbGV4LCBpc0NvbmRpdGlvbmFsTm9kZSwgaXNDb25zdGFudE5vZGUsIGlzRGF0ZSwgaXNEZW5zZU1hdHJpeCwgaXNGcmFjdGlvbiwgaXNGdW5jdGlvbiwgaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLCBpc0Z1bmN0aW9uTm9kZSwgaXNIZWxwLCBpc0luZGV4LCBpc0luZGV4Tm9kZSwgaXNNYXRyaXgsIGlzTm9kZSwgaXNOdWxsLCBpc051bWJlciwgaXNPYmplY3QsIGlzT2JqZWN0Tm9kZSwgaXNPcGVyYXRvck5vZGUsIGlzUGFyZW50aGVzaXNOb2RlLCBpc1JhbmdlLCBpc1JhbmdlTm9kZSwgaXNSZWdFeHAsIGlzUmVzdWx0U2V0LCBpc1NwYXJzZU1hdHJpeCwgaXNTdHJpbmcsIGlzU3ltYm9sTm9kZSwgaXNVbmRlZmluZWQsIGlzVW5pdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB0eXBlZEZ1bmN0aW9uIGZyb20gJ3R5cGVkLWZ1bmN0aW9uJztcbmltcG9ydCB7IGRpZ2l0cyB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7IC8vIHJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cblxudmFyIF9jcmVhdGVUeXBlZDIgPSBmdW5jdGlvbiBfY3JlYXRlVHlwZWQoKSB7XG4gIC8vIGluaXRpYWxseSwgcmV0dXJuIHRoZSBvcmlnaW5hbCBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuICAvLyBjb25zZWN1dGl2ZWx5LCByZXR1cm4gYSBuZXcgaW5zdGFuY2UgZnJvbSB0eXBlZC5jcmVhdGUuXG4gIF9jcmVhdGVUeXBlZDIgPSB0eXBlZEZ1bmN0aW9uLmNyZWF0ZTtcbiAgcmV0dXJuIHR5cGVkRnVuY3Rpb247XG59O1xuXG52YXIgZGVwZW5kZW5jaWVzID0gWyc/QmlnTnVtYmVyJywgJz9Db21wbGV4JywgJz9EZW5zZU1hdHJpeCcsICc/RnJhY3Rpb24nXTtcbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgdHlwZWQgaW5zdGFuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXBlbmRlbmNpZXMgICBPYmplY3Qgd2l0aCBkYXRhIHR5cGVzIGxpa2UgQ29tcGxleCBhbmQgQmlnTnVtYmVyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVUeXBlZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkoJ3R5cGVkJywgZGVwZW5kZW5jaWVzLCBmdW5jdGlvbiBjcmVhdGVUeXBlZChfcmVmKSB7XG4gIHZhciB7XG4gICAgQmlnTnVtYmVyLFxuICAgIENvbXBsZXgsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgRnJhY3Rpb25cbiAgfSA9IF9yZWY7XG5cbiAgLy8gVE9ETzogdHlwZWQtZnVuY3Rpb24gbXVzdCBiZSBhYmxlIHRvIHNpbGVudGx5IGlnbm9yZSBzaWduYXR1cmVzIHdpdGggdW5rbm93biBkYXRhIHR5cGVzXG4gIC8vIGdldCBhIG5ldyBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuICB2YXIgdHlwZWQgPSBfY3JlYXRlVHlwZWQyKCk7IC8vIGRlZmluZSBhbGwgdHlwZXMuIFRoZSBvcmRlciBvZiB0aGUgdHlwZXMgZGV0ZXJtaW5lcyBpbiB3aGljaCBvcmRlciBmdW5jdGlvblxuICAvLyBhcmd1bWVudHMgYXJlIHR5cGUtY2hlY2tlZCAoc28gZm9yIHBlcmZvcm1hbmNlIGl0J3MgaW1wb3J0YW50IHRvIHB1dCB0aGVcbiAgLy8gbW9zdCB1c2VkIHR5cGVzIGZpcnN0KS5cblxuXG4gIHR5cGVkLnR5cGVzID0gW3tcbiAgICBuYW1lOiAnbnVtYmVyJyxcbiAgICB0ZXN0OiBpc051bWJlclxuICB9LCB7XG4gICAgbmFtZTogJ0NvbXBsZXgnLFxuICAgIHRlc3Q6IGlzQ29tcGxleFxuICB9LCB7XG4gICAgbmFtZTogJ0JpZ051bWJlcicsXG4gICAgdGVzdDogaXNCaWdOdW1iZXJcbiAgfSwge1xuICAgIG5hbWU6ICdGcmFjdGlvbicsXG4gICAgdGVzdDogaXNGcmFjdGlvblxuICB9LCB7XG4gICAgbmFtZTogJ1VuaXQnLFxuICAgIHRlc3Q6IGlzVW5pdFxuICB9LCB7XG4gICAgbmFtZTogJ3N0cmluZycsXG4gICAgdGVzdDogaXNTdHJpbmdcbiAgfSwge1xuICAgIG5hbWU6ICdDaGFpbicsXG4gICAgdGVzdDogaXNDaGFpblxuICB9LCB7XG4gICAgbmFtZTogJ0FycmF5JyxcbiAgICB0ZXN0OiBpc0FycmF5XG4gIH0sIHtcbiAgICBuYW1lOiAnTWF0cml4JyxcbiAgICB0ZXN0OiBpc01hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ0RlbnNlTWF0cml4JyxcbiAgICB0ZXN0OiBpc0RlbnNlTWF0cml4XG4gIH0sIHtcbiAgICBuYW1lOiAnU3BhcnNlTWF0cml4JyxcbiAgICB0ZXN0OiBpc1NwYXJzZU1hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ1JhbmdlJyxcbiAgICB0ZXN0OiBpc1JhbmdlXG4gIH0sIHtcbiAgICBuYW1lOiAnSW5kZXgnLFxuICAgIHRlc3Q6IGlzSW5kZXhcbiAgfSwge1xuICAgIG5hbWU6ICdib29sZWFuJyxcbiAgICB0ZXN0OiBpc0Jvb2xlYW5cbiAgfSwge1xuICAgIG5hbWU6ICdSZXN1bHRTZXQnLFxuICAgIHRlc3Q6IGlzUmVzdWx0U2V0XG4gIH0sIHtcbiAgICBuYW1lOiAnSGVscCcsXG4gICAgdGVzdDogaXNIZWxwXG4gIH0sIHtcbiAgICBuYW1lOiAnZnVuY3Rpb24nLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25cbiAgfSwge1xuICAgIG5hbWU6ICdEYXRlJyxcbiAgICB0ZXN0OiBpc0RhdGVcbiAgfSwge1xuICAgIG5hbWU6ICdSZWdFeHAnLFxuICAgIHRlc3Q6IGlzUmVnRXhwXG4gIH0sIHtcbiAgICBuYW1lOiAnbnVsbCcsXG4gICAgdGVzdDogaXNOdWxsXG4gIH0sIHtcbiAgICBuYW1lOiAndW5kZWZpbmVkJyxcbiAgICB0ZXN0OiBpc1VuZGVmaW5lZFxuICB9LCB7XG4gICAgbmFtZTogJ0FjY2Vzc29yTm9kZScsXG4gICAgdGVzdDogaXNBY2Nlc3Nvck5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdBcnJheU5vZGUnLFxuICAgIHRlc3Q6IGlzQXJyYXlOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQXNzaWdubWVudE5vZGUnLFxuICAgIHRlc3Q6IGlzQXNzaWdubWVudE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdCbG9ja05vZGUnLFxuICAgIHRlc3Q6IGlzQmxvY2tOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQ29uZGl0aW9uYWxOb2RlJyxcbiAgICB0ZXN0OiBpc0NvbmRpdGlvbmFsTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0NvbnN0YW50Tm9kZScsXG4gICAgdGVzdDogaXNDb25zdGFudE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdGdW5jdGlvbk5vZGUnLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25Ob2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZScsXG4gICAgdGVzdDogaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnSW5kZXhOb2RlJyxcbiAgICB0ZXN0OiBpc0luZGV4Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ05vZGUnLFxuICAgIHRlc3Q6IGlzTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ09iamVjdE5vZGUnLFxuICAgIHRlc3Q6IGlzT2JqZWN0Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ09wZXJhdG9yTm9kZScsXG4gICAgdGVzdDogaXNPcGVyYXRvck5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdQYXJlbnRoZXNpc05vZGUnLFxuICAgIHRlc3Q6IGlzUGFyZW50aGVzaXNOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnUmFuZ2VOb2RlJyxcbiAgICB0ZXN0OiBpc1JhbmdlTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ1N5bWJvbE5vZGUnLFxuICAgIHRlc3Q6IGlzU3ltYm9sTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ09iamVjdCcsXG4gICAgdGVzdDogaXNPYmplY3RcbiAgfSAvLyBvcmRlciAnT2JqZWN0JyBsYXN0LCBpdCBtYXRjaGVzIG9uIG90aGVyIGNsYXNzZXMgdG9vXG4gIF07XG4gIHR5cGVkLmNvbnZlcnNpb25zID0gW3tcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfSAvLyBub3RlOiBjb252ZXJzaW9uIGZyb20gbnVtYmVyIHRvIEJpZ051bWJlciBjYW4gZmFpbCBpZiB4IGhhcyA+MTUgZGlnaXRzXG5cblxuICAgICAgaWYgKGRpZ2l0cyh4KSA+IDE1KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBudW1iZXIgd2l0aCA+MTUgc2lnbmlmaWNhbnQgZGlnaXRzIHRvIEJpZ051bWJlciAnICsgJyh2YWx1ZTogJyArIHggKyAnKS4gJyArICdVc2UgZnVuY3Rpb24gYmlnbnVtYmVyKHgpIHRvIGNvbnZlcnQgdG8gQmlnTnVtYmVyLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdzdHJpbmcnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgcmV0dXJuIHggKyAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnQmlnTnVtYmVyJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeC50b051bWJlcigpLCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnRnJhY3Rpb24nLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBGcmFjdGlvbiB0byBCaWdOdW1iZXIgb3IgdmljZSB2ZXJzYS4gJyArICdVc2UgZnVuY3Rpb24gYmlnbnVtYmVyKHgpIHRvIGNvbnZlcnQgdG8gQmlnTnVtYmVyIG9yIGZyYWN0aW9uKHgpIHRvIGNvbnZlcnQgdG8gRnJhY3Rpb24uJyk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeC52YWx1ZU9mKCksIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnRnJhY3Rpb24nLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFGcmFjdGlvbikge1xuICAgICAgICB0aHJvd05vRnJhY3Rpb24oeCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmID0gbmV3IEZyYWN0aW9uKHgpO1xuXG4gICAgICBpZiAoZi52YWx1ZU9mKCkgIT09IHgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGltcGxpY2l0bHkgY29udmVydCBhIG51bWJlciB0byBhIEZyYWN0aW9uIHdoZW4gdGhlcmUgd2lsbCBiZSBhIGxvc3Mgb2YgcHJlY2lzaW9uICcgKyAnKHZhbHVlOiAnICsgeCArICcpLiAnICsgJ1VzZSBmdW5jdGlvbiBmcmFjdGlvbih4KSB0byBjb252ZXJ0IHRvIEZyYWN0aW9uLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZjtcbiAgICB9XG4gIH0sIHtcbiAgICAvLyBGSVhNRTogYWRkIGNvbnZlcnNpb24gZnJvbSBGcmFjdGlvbiB0byBudW1iZXIsIGZvciBleGFtcGxlIGZvciBgc3FydChmcmFjdGlvbigxLDMpKWBcbiAgICAvLyAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICAvLyAgdG86ICdudW1iZXInLFxuICAgIC8vICBjb252ZXJ0OiBmdW5jdGlvbiAoeCkge1xuICAgIC8vICAgIHJldHVybiB4LnZhbHVlT2YoKVxuICAgIC8vICB9XG4gICAgLy8gfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnbnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHZhciBuID0gTnVtYmVyKHgpO1xuXG4gICAgICBpZiAoaXNOYU4obikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIGEgbnVtYmVyJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQmlnTnVtYmVyKSB7XG4gICAgICAgIHRocm93Tm9CaWdudW1iZXIoeCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBCaWdOdW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0ZyYWN0aW9uJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghRnJhY3Rpb24pIHtcbiAgICAgICAgdGhyb3dOb0ZyYWN0aW9uKHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBGcmFjdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnQ29tcGxleCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUNvbXBsZXgpIHtcbiAgICAgICAgdGhyb3dOb0NvbXBsZXgoeCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gQ29tcGxleCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ251bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICByZXR1cm4gK3g7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQmlnTnVtYmVyKSB7XG4gICAgICAgIHRocm93Tm9CaWdudW1iZXIoeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKCt4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdGcmFjdGlvbicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUZyYWN0aW9uKSB7XG4gICAgICAgIHRocm93Tm9GcmFjdGlvbih4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigreCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnc3RyaW5nJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoeCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0FycmF5JyxcbiAgICB0bzogJ01hdHJpeCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydChhcnJheSkge1xuICAgICAgaWYgKCFEZW5zZU1hdHJpeCkge1xuICAgICAgICB0aHJvd05vTWF0cml4KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoYXJyYXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdNYXRyaXgnLFxuICAgIHRvOiAnQXJyYXknLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQobWF0cml4KSB7XG4gICAgICByZXR1cm4gbWF0cml4LnZhbHVlT2YoKTtcbiAgICB9XG4gIH1dO1xuICByZXR1cm4gdHlwZWQ7XG59KTtcblxuZnVuY3Rpb24gdGhyb3dOb0JpZ251bWJlcih4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHZhbHVlIFwiLmNvbmNhdCh4LCBcIiBpbnRvIGEgQmlnTnVtYmVyOiBubyBjbGFzcyAnQmlnTnVtYmVyJyBwcm92aWRlZFwiKSk7XG59XG5cbmZ1bmN0aW9uIHRocm93Tm9Db21wbGV4KHgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdmFsdWUgXCIuY29uY2F0KHgsIFwiIGludG8gYSBDb21wbGV4IG51bWJlcjogbm8gY2xhc3MgJ0NvbXBsZXgnIHByb3ZpZGVkXCIpKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dOb01hdHJpeCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBhcnJheSBpbnRvIGEgTWF0cml4OiBubyBjbGFzcyBcXCdEZW5zZU1hdHJpeFxcJyBwcm92aWRlZCcpO1xufVxuXG5mdW5jdGlvbiB0aHJvd05vRnJhY3Rpb24oeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCB2YWx1ZSBcIi5jb25jYXQoeCwgXCIgaW50byBhIEZyYWN0aW9uLCBubyBjbGFzcyAnRnJhY3Rpb24nIHByb3ZpZGVkLlwiKSk7XG59IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUmVzdWx0U2V0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmVzdWx0U2V0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEEgUmVzdWx0U2V0IGNvbnRhaW5zIGEgbGlzdCBvciByZXN1bHRzXG4gICAqIEBjbGFzcyBSZXN1bHRTZXRcbiAgICogQHBhcmFtIHtBcnJheX0gZW50cmllc1xuICAgKiBAY29uc3RydWN0b3IgUmVzdWx0U2V0XG4gICAqL1xuICBmdW5jdGlvbiBSZXN1bHRTZXQoZW50cmllcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXN1bHRTZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMuZW50cmllcyA9IGVudHJpZXMgfHwgW107XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50eXBlID0gJ1Jlc3VsdFNldCc7XG4gIFJlc3VsdFNldC5wcm90b3R5cGUuaXNSZXN1bHRTZXQgPSB0cnVlO1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXJyYXkgd2l0aCByZXN1bHRzIGhvbGQgYnkgdGhpcyBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGVudHJpZXNcbiAgICovXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVudHJpZXM7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmdpZmllZCByZXN1bHRzIG9mIHRoZSBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmdcbiAgICovXG5cblxuICBSZXN1bHRTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnWycgKyB0aGlzLmVudHJpZXMuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIFJlc3VsdFNldFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVzdWx0U2V0XCIsIFwiZW50cmllc1wiOiBbLi4uXX1gXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1Jlc3VsdFNldCcsXG4gICAgICBlbnRyaWVzOiB0aGlzLmVudHJpZXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBSZXN1bHRTZXQgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSZXN1bHRTZXRcIiwgXCJlbnRyaWVzXCI6IFsuLi5dfWBcbiAgICogQHJldHVybiB7UmVzdWx0U2V0fVxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSZXN1bHRTZXQoanNvbi5lbnRyaWVzKTtcbiAgfTtcblxuICByZXR1cm4gUmVzdWx0U2V0O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCIvKlxyXG4gKiAgZGVjaW1hbC5qcyB2MTAuMi4xXHJcbiAqICBBbiBhcmJpdHJhcnktcHJlY2lzaW9uIERlY2ltYWwgdHlwZSBmb3IgSmF2YVNjcmlwdC5cclxuICogIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2RlY2ltYWwuanNcclxuICogIENvcHlyaWdodCAoYykgMjAyMCBNaWNoYWVsIE1jbGF1Z2hsaW4gPE04Y2g4OGxAZ21haWwuY29tPlxyXG4gKiAgTUlUIExpY2VuY2VcclxuICovXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIEVESVRBQkxFIERFRkFVTFRTICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4gIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IG1hZ25pdHVkZS5cclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIGB0b0V4cE5lZ2AsIGB0b0V4cFBvc2AsIGBtaW5FYCBhbmQgYG1heEVgLlxyXG52YXIgRVhQX0xJTUlUID0gOWUxNSwgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5ZTE1XHJcblxyXG4gIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgYHByZWNpc2lvbmAsIGFuZCBvbiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50IHRvXHJcbiAgLy8gYHRvRGVjaW1hbFBsYWNlc2AsIGB0b0V4cG9uZW50aWFsYCwgYHRvRml4ZWRgLCBgdG9QcmVjaXNpb25gIGFuZCBgdG9TaWduaWZpY2FudERpZ2l0c2AuXHJcbiAgTUFYX0RJR0lUUyA9IDFlOSwgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDFlOVxyXG5cclxuICAvLyBCYXNlIGNvbnZlcnNpb24gYWxwaGFiZXQuXHJcbiAgTlVNRVJBTFMgPSAnMDEyMzQ1Njc4OWFiY2RlZicsXHJcblxyXG4gIC8vIFRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiAxMCAoMTAyNSBkaWdpdHMpLlxyXG4gIExOMTAgPSAnMi4zMDI1ODUwOTI5OTQwNDU2ODQwMTc5OTE0NTQ2ODQzNjQyMDc2MDExMDE0ODg2Mjg3NzI5NzYwMzMzMjc5MDA5Njc1NzI2MDk2NzczNTI0ODAyMzU5OTcyMDUwODk1OTgyOTgzNDE5Njc3ODQwNDIyODYyNDg2MzM0MDk1MjU0NjUwODI4MDY3NTY2NjYyODczNjkwOTg3ODE2ODk0ODI5MDcyMDgzMjU1NTQ2ODA4NDM3OTk4OTQ4MjYyMzMxOTg1MjgzOTM1MDUzMDg5NjUzNzc3MzI2Mjg4NDYxNjMzNjYyMjIyODc2OTgyMTk4ODY3NDY1NDM2Njc0NzQ0MDQyNDMyNzQzNjUxNTUwNDg5MzQzMTQ5MzkzOTE0Nzk2MTk0MDQ0MDAyMjIxMDUxMDE3MTQxNzQ4MDAzNjg4MDg0MDEyNjQ3MDgwNjg1NTY3NzQzMjE2MjI4MzU1MjIwMTE0ODA0NjYzNzE1NjU5MTIxMzczNDUwNzQ3ODU2OTQ3NjgzNDYzNjE2NzkyMTAxODA2NDQ1MDcwNjQ4MDAwMjc3NTAyNjg0OTE2NzQ2NTUwNTg2ODU2OTM1NjczNDIwNjcwNTgxMTM2NDI5MjI0NTU0NDA1NzU4OTI1NzI0MjA4MjQxMzE0Njk1Njg5MDE2NzU4OTQwMjU2Nzc2MzExMzU2OTE5MjkyMDMzMzc2NTg3MTQxNjYwMjMwMTA1NzAzMDg5NjM0NTcyMDc1NDQwMzcwODQ3NDY5OTQwMTY4MjY5MjgyODA4NDgxMTg0Mjg5MzE0ODQ4NTI0OTQ4NjQ0ODcxOTI3ODA5Njc2MjcxMjc1Nzc1Mzk3MDI3NjY4NjA1OTUyNDk2NzE2Njc0MTgzNDg1NzA0NDIyNTA3MTk3OTY1MDA0NzE0OTUxMDUwNDkyMjE0Nzc2NTY3NjM2OTM4NjYyOTc2OTc5NTIyMTEwNzE4MjY0NTQ5NzM0NzcyNjYyNDI1NzA5NDI5MzIyNTgyNzk4NTAyNTg1NTA5Nzg1MjY1MzgzMjA3NjA2NzI2MzE3MTY0MzA5NTA1OTk1MDg3ODA3NTIzNzEwMzMzMTAxMTk3ODU3NTQ3MzMxNTQxNDIxODA4NDI3NTQzODYzNTkxNzc4MTE3MDU0MzA5ODI3NDgyMzg1MDQ1NjQ4MDE5MDk1NjEwMjk5MjkxODI0MzE4MjM3NTI1MzU3NzA5NzUwNTM5NTY1MTg3Njk3NTEwMzc0OTcwODg4NjkyMTgwMjA1MTg5MzM5NTA3MjM4NTM5MjA1MTQ0NjM0MTk3MjY1Mjg3Mjg2OTY1MTEwODYyNTcxNDkyMTk4ODQ5OTc4NzQ4ODczNzcxMzQ1Njg2MjA5MTY3MDU4JyxcclxuXHJcbiAgLy8gUGkgKDEwMjUgZGlnaXRzKS5cclxuICBQSSA9ICczLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTUwMjg4NDE5NzE2OTM5OTM3NTEwNTgyMDk3NDk0NDU5MjMwNzgxNjQwNjI4NjIwODk5ODYyODAzNDgyNTM0MjExNzA2Nzk4MjE0ODA4NjUxMzI4MjMwNjY0NzA5Mzg0NDYwOTU1MDU4MjIzMTcyNTM1OTQwODEyODQ4MTExNzQ1MDI4NDEwMjcwMTkzODUyMTEwNTU1OTY0NDYyMjk0ODk1NDkzMDM4MTk2NDQyODgxMDk3NTY2NTkzMzQ0NjEyODQ3NTY0ODIzMzc4Njc4MzE2NTI3MTIwMTkwOTE0NTY0ODU2NjkyMzQ2MDM0ODYxMDQ1NDMyNjY0ODIxMzM5MzYwNzI2MDI0OTE0MTI3MzcyNDU4NzAwNjYwNjMxNTU4ODE3NDg4MTUyMDkyMDk2MjgyOTI1NDA5MTcxNTM2NDM2Nzg5MjU5MDM2MDAxMTMzMDUzMDU0ODgyMDQ2NjUyMTM4NDE0Njk1MTk0MTUxMTYwOTQzMzA1NzI3MDM2NTc1OTU5MTk1MzA5MjE4NjExNzM4MTkzMjYxMTc5MzEwNTExODU0ODA3NDQ2MjM3OTk2Mjc0OTU2NzM1MTg4NTc1MjcyNDg5MTIyNzkzODE4MzAxMTk0OTEyOTgzMzY3MzM2MjQ0MDY1NjY0MzA4NjAyMTM5NDk0NjM5NTIyNDczNzE5MDcwMjE3OTg2MDk0MzcwMjc3MDUzOTIxNzE3NjI5MzE3Njc1MjM4NDY3NDgxODQ2NzY2OTQwNTEzMjAwMDU2ODEyNzE0NTI2MzU2MDgyNzc4NTc3MTM0Mjc1Nzc4OTYwOTE3MzYzNzE3ODcyMTQ2ODQ0MDkwMTIyNDk1MzQzMDE0NjU0OTU4NTM3MTA1MDc5MjI3OTY4OTI1ODkyMzU0MjAxOTk1NjExMjEyOTAyMTk2MDg2NDAzNDQxODE1OTgxMzYyOTc3NDc3MTMwOTk2MDUxODcwNzIxMTM0OTk5OTk5ODM3Mjk3ODA0OTk1MTA1OTczMTczMjgxNjA5NjMxODU5NTAyNDQ1OTQ1NTM0NjkwODMwMjY0MjUyMjMwODI1MzM0NDY4NTAzNTI2MTkzMTE4ODE3MTAxMDAwMzEzNzgzODc1Mjg4NjU4NzUzMzIwODM4MTQyMDYxNzE3NzY2OTE0NzMwMzU5ODI1MzQ5MDQyODc1NTQ2ODczMTE1OTU2Mjg2Mzg4MjM1Mzc4NzU5Mzc1MTk1Nzc4MTg1Nzc4MDUzMjE3MTIyNjgwNjYxMzAwMTkyNzg3NjYxMTE5NTkwOTIxNjQyMDE5ODkzODA5NTI1NzIwMTA2NTQ4NTg2MzI3ODknLFxyXG5cclxuXHJcbiAgLy8gVGhlIGluaXRpYWwgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIG9mIHRoZSBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gIERFRkFVTFRTID0ge1xyXG5cclxuICAgIC8vIFRoZXNlIHZhbHVlcyBtdXN0IGJlIGludGVnZXJzIHdpdGhpbiB0aGUgc3RhdGVkIHJhbmdlcyAoaW5jbHVzaXZlKS5cclxuICAgIC8vIE1vc3Qgb2YgdGhlc2UgdmFsdWVzIGNhbiBiZSBjaGFuZ2VkIGF0IHJ1bi10aW1lIHVzaW5nIHRoZSBgRGVjaW1hbC5jb25maWdgIG1ldGhvZC5cclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSByZXN1bHQgb2YgYSBjYWxjdWxhdGlvbiBvciBiYXNlIGNvbnZlcnNpb24uXHJcbiAgICAvLyBFLmcuIGBEZWNpbWFsLmNvbmZpZyh7IHByZWNpc2lvbjogMjAgfSk7YFxyXG4gICAgcHJlY2lzaW9uOiAyMCwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBNQVhfRElHSVRTXHJcblxyXG4gICAgLy8gVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIHJvdW5kaW5nIHRvIGBwcmVjaXNpb25gLlxyXG4gICAgLy9cclxuICAgIC8vIFJPVU5EX1VQICAgICAgICAgMCBBd2F5IGZyb20gemVyby5cclxuICAgIC8vIFJPVU5EX0RPV04gICAgICAgMSBUb3dhcmRzIHplcm8uXHJcbiAgICAvLyBST1VORF9DRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9GTE9PUiAgICAgIDMgVG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9IQUxGX1VQICAgIDQgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHVwLlxyXG4gICAgLy8gUk9VTkRfSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgLy8gUk9VTkRfSEFMRl9FVkVOICA2IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIGV2ZW4gbmVpZ2hib3VyLlxyXG4gICAgLy8gUk9VTkRfSEFMRl9DRUlMICA3IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIFJPVU5EX0hBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAvL1xyXG4gICAgLy8gRS5nLlxyXG4gICAgLy8gYERlY2ltYWwucm91bmRpbmcgPSA0O2BcclxuICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gRGVjaW1hbC5ST1VORF9IQUxGX1VQO2BcclxuICAgIHJvdW5kaW5nOiA0LCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOFxyXG5cclxuICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAvLyBUaGUgcXVvdGllbnQgKHEgPSBhIC8gbikgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm91bmRpbmcgbW9kZS5cclxuICAgIC8vIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXHJcbiAgICAvL1xyXG4gICAgLy8gVVAgICAgICAgICAwIFRoZSByZW1haW5kZXIgaXMgcG9zaXRpdmUgaWYgdGhlIGRpdmlkZW5kIGlzIG5lZ2F0aXZlLCBlbHNlIGlzIG5lZ2F0aXZlLlxyXG4gICAgLy8gRE9XTiAgICAgICAxIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlkZW5kIChKYXZhU2NyaXB0ICUpLlxyXG4gICAgLy8gRkxPT1IgICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cclxuICAgIC8vIEhBTEZfRVZFTiAgNiBUaGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgLy8gRVVDTElEICAgICA5IEV1Y2xpZGlhbiBkaXZpc2lvbi4gcSA9IHNpZ24obikgKiBmbG9vcihhIC8gYWJzKG4pKS4gQWx3YXlzIHBvc2l0aXZlLlxyXG4gICAgLy9cclxuICAgIC8vIFRydW5jYXRlZCBkaXZpc2lvbiAoMSksIGZsb29yZWQgZGl2aXNpb24gKDMpLCB0aGUgSUVFRSA3NTQgcmVtYWluZGVyICg2KSwgYW5kIEV1Y2xpZGlhblxyXG4gICAgLy8gZGl2aXNpb24gKDkpIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uIFRoZSBvdGhlciByb3VuZGluZyBtb2RlcyBjYW4gYWxzb1xyXG4gICAgLy8gYmUgdXNlZCwgYnV0IHRoZXkgbWF5IG5vdCBnaXZlIHVzZWZ1bCByZXN1bHRzLlxyXG4gICAgbW9kdWxvOiAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBiZW5lYXRoIHdoaWNoIGB0b1N0cmluZ2AgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogLTdcclxuICAgIHRvRXhwTmVnOiAtNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLUVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYWJvdmUgd2hpY2ggYHRvU3RyaW5nYCByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAyMVxyXG4gICAgdG9FeHBQb3M6ICAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBFWFBfTElNSVRcclxuXHJcbiAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC0zMjQgICg1ZS0zMjQpXHJcbiAgICBtaW5FOiAtRVhQX0xJTUlULCAgICAgICAgICAgICAgICAgICAgICAvLyAtMSB0byAtRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgdmFsdWUsIGFib3ZlIHdoaWNoIG92ZXJmbG93IHRvIEluZmluaXR5IG9jY3Vycy5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXHJcbiAgICBtYXhFOiBFWFBfTElNSVQsICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIEVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFdoZXRoZXIgdG8gdXNlIGNyeXB0b2dyYXBoaWNhbGx5LXNlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRpb24sIGlmIGF2YWlsYWJsZS5cclxuICAgIGNyeXB0bzogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUvZmFsc2VcclxuICB9LFxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCBPRiBFRElUQUJMRSBERUZBVUxUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5cclxuICBpbmV4YWN0LCBxdWFkcmFudCxcclxuICBleHRlcm5hbCA9IHRydWUsXHJcblxyXG4gIGRlY2ltYWxFcnJvciA9ICdbRGVjaW1hbEVycm9yXSAnLFxyXG4gIGludmFsaWRBcmd1bWVudCA9IGRlY2ltYWxFcnJvciArICdJbnZhbGlkIGFyZ3VtZW50OiAnLFxyXG4gIHByZWNpc2lvbkxpbWl0RXhjZWVkZWQgPSBkZWNpbWFsRXJyb3IgKyAnUHJlY2lzaW9uIGxpbWl0IGV4Y2VlZGVkJyxcclxuICBjcnlwdG9VbmF2YWlsYWJsZSA9IGRlY2ltYWxFcnJvciArICdjcnlwdG8gdW5hdmFpbGFibGUnLFxyXG5cclxuICBtYXRoZmxvb3IgPSBNYXRoLmZsb29yLFxyXG4gIG1hdGhwb3cgPSBNYXRoLnBvdyxcclxuXHJcbiAgaXNCaW5hcnkgPSAvXjBiKFswMV0rKFxcLlswMV0qKT98XFwuWzAxXSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc0hleCA9IC9eMHgoWzAtOWEtZl0rKFxcLlswLTlhLWZdKik/fFxcLlswLTlhLWZdKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gIGlzT2N0YWwgPSAvXjBvKFswLTddKyhcXC5bMC03XSopP3xcXC5bMC03XSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc0RlY2ltYWwgPSAvXihcXGQrKFxcLlxcZCopP3xcXC5cXGQrKShlWystXT9cXGQrKT8kL2ksXHJcblxyXG4gIEJBU0UgPSAxZTcsXHJcbiAgTE9HX0JBU0UgPSA3LFxyXG4gIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxyXG5cclxuICBMTjEwX1BSRUNJU0lPTiA9IExOMTAubGVuZ3RoIC0gMSxcclxuICBQSV9QUkVDSVNJT04gPSBQSS5sZW5ndGggLSAxLFxyXG5cclxuICAvLyBEZWNpbWFsLnByb3RvdHlwZSBvYmplY3RcclxuICBQID0geyBuYW1lOiAnW29iamVjdCBEZWNpbWFsXScgfTtcclxuXHJcblxyXG4vLyBEZWNpbWFsIHByb3RvdHlwZSBtZXRob2RzXHJcblxyXG5cclxuLypcclxuICogIGFic29sdXRlVmFsdWUgICAgICAgICAgICAgYWJzXHJcbiAqICBjZWlsXHJcbiAqICBjb21wYXJlZFRvICAgICAgICAgICAgICAgIGNtcFxyXG4gKiAgY29zaW5lICAgICAgICAgICAgICAgICAgICBjb3NcclxuICogIGN1YmVSb290ICAgICAgICAgICAgICAgICAgY2JydFxyXG4gKiAgZGVjaW1hbFBsYWNlcyAgICAgICAgICAgICBkcFxyXG4gKiAgZGl2aWRlZEJ5ICAgICAgICAgICAgICAgICBkaXZcclxuICogIGRpdmlkZWRUb0ludGVnZXJCeSAgICAgICAgZGl2VG9JbnRcclxuICogIGVxdWFscyAgICAgICAgICAgICAgICAgICAgZXFcclxuICogIGZsb29yXHJcbiAqICBncmVhdGVyVGhhbiAgICAgICAgICAgICAgIGd0XHJcbiAqICBncmVhdGVyVGhhbk9yRXF1YWxUbyAgICAgIGd0ZVxyXG4gKiAgaHlwZXJib2xpY0Nvc2luZSAgICAgICAgICBjb3NoXHJcbiAqICBoeXBlcmJvbGljU2luZSAgICAgICAgICAgIHNpbmhcclxuICogIGh5cGVyYm9saWNUYW5nZW50ICAgICAgICAgdGFuaFxyXG4gKiAgaW52ZXJzZUNvc2luZSAgICAgICAgICAgICBhY29zXHJcbiAqICBpbnZlcnNlSHlwZXJib2xpY0Nvc2luZSAgIGFjb3NoXHJcbiAqICBpbnZlcnNlSHlwZXJib2xpY1NpbmUgICAgIGFzaW5oXHJcbiAqICBpbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQgIGF0YW5oXHJcbiAqICBpbnZlcnNlU2luZSAgICAgICAgICAgICAgIGFzaW5cclxuICogIGludmVyc2VUYW5nZW50ICAgICAgICAgICAgYXRhblxyXG4gKiAgaXNGaW5pdGVcclxuICogIGlzSW50ZWdlciAgICAgICAgICAgICAgICAgaXNJbnRcclxuICogIGlzTmFOXHJcbiAqICBpc05lZ2F0aXZlICAgICAgICAgICAgICAgIGlzTmVnXHJcbiAqICBpc1Bvc2l0aXZlICAgICAgICAgICAgICAgIGlzUG9zXHJcbiAqICBpc1plcm9cclxuICogIGxlc3NUaGFuICAgICAgICAgICAgICAgICAgbHRcclxuICogIGxlc3NUaGFuT3JFcXVhbFRvICAgICAgICAgbHRlXHJcbiAqICBsb2dhcml0aG0gICAgICAgICAgICAgICAgIGxvZ1xyXG4gKiAgW21heGltdW1dICAgICAgICAgICAgICAgICBbbWF4XVxyXG4gKiAgW21pbmltdW1dICAgICAgICAgICAgICAgICBbbWluXVxyXG4gKiAgbWludXMgICAgICAgICAgICAgICAgICAgICBzdWJcclxuICogIG1vZHVsbyAgICAgICAgICAgICAgICAgICAgbW9kXHJcbiAqICBuYXR1cmFsRXhwb25lbnRpYWwgICAgICAgIGV4cFxyXG4gKiAgbmF0dXJhbExvZ2FyaXRobSAgICAgICAgICBsblxyXG4gKiAgbmVnYXRlZCAgICAgICAgICAgICAgICAgICBuZWdcclxuICogIHBsdXMgICAgICAgICAgICAgICAgICAgICAgYWRkXHJcbiAqICBwcmVjaXNpb24gICAgICAgICAgICAgICAgIHNkXHJcbiAqICByb3VuZFxyXG4gKiAgc2luZSAgICAgICAgICAgICAgICAgICAgICBzaW5cclxuICogIHNxdWFyZVJvb3QgICAgICAgICAgICAgICAgc3FydFxyXG4gKiAgdGFuZ2VudCAgICAgICAgICAgICAgICAgICB0YW5cclxuICogIHRpbWVzICAgICAgICAgICAgICAgICAgICAgbXVsXHJcbiAqICB0b0JpbmFyeVxyXG4gKiAgdG9EZWNpbWFsUGxhY2VzICAgICAgICAgICB0b0RQXHJcbiAqICB0b0V4cG9uZW50aWFsXHJcbiAqICB0b0ZpeGVkXHJcbiAqICB0b0ZyYWN0aW9uXHJcbiAqICB0b0hleGFkZWNpbWFsICAgICAgICAgICAgIHRvSGV4XHJcbiAqICB0b05lYXJlc3RcclxuICogIHRvTnVtYmVyXHJcbiAqICB0b09jdGFsXHJcbiAqICB0b1Bvd2VyICAgICAgICAgICAgICAgICAgIHBvd1xyXG4gKiAgdG9QcmVjaXNpb25cclxuICogIHRvU2lnbmlmaWNhbnREaWdpdHMgICAgICAgdG9TRFxyXG4gKiAgdG9TdHJpbmdcclxuICogIHRydW5jYXRlZCAgICAgICAgICAgICAgICAgdHJ1bmNcclxuICogIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgdG9KU09OXHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqL1xyXG5QLmFic29sdXRlVmFsdWUgPSBQLmFicyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpO1xyXG4gIGlmICh4LnMgPCAwKSB4LnMgPSAxO1xyXG4gIHJldHVybiBmaW5hbGlzZSh4KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgaW4gdGhlXHJcbiAqIGRpcmVjdGlvbiBvZiBwb3NpdGl2ZSBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAuY2VpbCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHRoaXMuZSArIDEsIDIpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVyblxyXG4gKiAgIDEgICAgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCxcclxuICogIC0xICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqICAgMCAgICBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAqICAgTmFOICBpZiB0aGUgdmFsdWUgb2YgZWl0aGVyIERlY2ltYWwgaXMgTmFOLlxyXG4gKlxyXG4gKi9cclxuUC5jb21wYXJlZFRvID0gUC5jbXAgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBpLCBqLCB4ZEwsIHlkTCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICB5ZCA9ICh5ID0gbmV3IHguY29uc3RydWN0b3IoeSkpLmQsXHJcbiAgICB4cyA9IHgucyxcclxuICAgIHlzID0geS5zO1xyXG5cclxuICAvLyBFaXRoZXIgTmFOIG9yIMKxSW5maW5pdHk/XHJcbiAgaWYgKCF4ZCB8fCAheWQpIHtcclxuICAgIHJldHVybiAheHMgfHwgIXlzID8gTmFOIDogeHMgIT09IHlzID8geHMgOiB4ZCA9PT0geWQgPyAwIDogIXhkIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLy8gRWl0aGVyIHplcm8/XHJcbiAgaWYgKCF4ZFswXSB8fCAheWRbMF0pIHJldHVybiB4ZFswXSA/IHhzIDogeWRbMF0gPyAteXMgOiAwO1xyXG5cclxuICAvLyBTaWducyBkaWZmZXI/XHJcbiAgaWYgKHhzICE9PSB5cykgcmV0dXJuIHhzO1xyXG5cclxuICAvLyBDb21wYXJlIGV4cG9uZW50cy5cclxuICBpZiAoeC5lICE9PSB5LmUpIHJldHVybiB4LmUgPiB5LmUgXiB4cyA8IDAgPyAxIDogLTE7XHJcblxyXG4gIHhkTCA9IHhkLmxlbmd0aDtcclxuICB5ZEwgPSB5ZC5sZW5ndGg7XHJcblxyXG4gIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgZm9yIChpID0gMCwgaiA9IHhkTCA8IHlkTCA/IHhkTCA6IHlkTDsgaSA8IGo7ICsraSkge1xyXG4gICAgaWYgKHhkW2ldICE9PSB5ZFtpXSkgcmV0dXJuIHhkW2ldID4geWRbaV0gXiB4cyA8IDAgPyAxIDogLTE7XHJcbiAgfVxyXG5cclxuICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgcmV0dXJuIHhkTCA9PT0geWRMID8gMCA6IHhkTCA+IHlkTCBeIHhzIDwgMCA/IDEgOiAtMTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY29zaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogY29zKDApICAgICAgICAgPSAxXHJcbiAqIGNvcygtMCkgICAgICAgID0gMVxyXG4gKiBjb3MoSW5maW5pdHkpICA9IE5hTlxyXG4gKiBjb3MoLUluZmluaXR5KSA9IE5hTlxyXG4gKiBjb3MoTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5jb3NpbmUgPSBQLmNvcyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmQpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAvLyBjb3MoMCkgPSBjb3MoLTApID0gMVxyXG4gIGlmICgheC5kWzBdKSByZXR1cm4gbmV3IEN0b3IoMSk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyBMT0dfQkFTRTtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IGNvc2luZShDdG9yLCB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA9PSAyIHx8IHF1YWRyYW50ID09IDMgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY3ViZSByb290IG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogIGNicnQoMCkgID0gIDBcclxuICogIGNicnQoLTApID0gLTBcclxuICogIGNicnQoMSkgID0gIDFcclxuICogIGNicnQoLTEpID0gLTFcclxuICogIGNicnQoTikgID0gIE5cclxuICogIGNicnQoLUkpID0gLUlcclxuICogIGNicnQoSSkgID0gIElcclxuICpcclxuICogTWF0aC5jYnJ0KHgpID0gKHggPCAwID8gLU1hdGgucG93KC14LCAxLzMpIDogTWF0aC5wb3coeCwgMS8zKSlcclxuICpcclxuICovXHJcblAuY3ViZVJvb3QgPSBQLmNicnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGUsIG0sIG4sIHIsIHJlcCwgcywgc2QsIHQsIHQzLCB0M3BsdXN4LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgcyA9IHgucyAqIG1hdGhwb3coeC5zICogeCwgMSAvIDMpO1xyXG5cclxuICAgLy8gTWF0aC5jYnJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgLy8gUGFzcyB4IHRvIE1hdGgucG93IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gIGlmICghcyB8fCBNYXRoLmFicyhzKSA9PSAxIC8gMCkge1xyXG4gICAgbiA9IGRpZ2l0c1RvU3RyaW5nKHguZCk7XHJcbiAgICBlID0geC5lO1xyXG5cclxuICAgIC8vIEFkanVzdCBuIGV4cG9uZW50IHNvIGl0IGlzIGEgbXVsdGlwbGUgb2YgMyBhd2F5IGZyb20geCBleHBvbmVudC5cclxuICAgIGlmIChzID0gKGUgLSBuLmxlbmd0aCArIDEpICUgMykgbiArPSAocyA9PSAxIHx8IHMgPT0gLTIgPyAnMCcgOiAnMDAnKTtcclxuICAgIHMgPSBtYXRocG93KG4sIDEgLyAzKTtcclxuXHJcbiAgICAvLyBSYXJlbHksIGUgbWF5IGJlIG9uZSBsZXNzIHRoYW4gdGhlIHJlc3VsdCBleHBvbmVudCB2YWx1ZS5cclxuICAgIGUgPSBtYXRoZmxvb3IoKGUgKyAxKSAvIDMpIC0gKGUgJSAzID09IChlIDwgMCA/IC0xIDogMikpO1xyXG5cclxuICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSAnNWUnICsgZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICB9XHJcblxyXG4gICAgciA9IG5ldyBDdG9yKG4pO1xyXG4gICAgci5zID0geC5zO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gbmV3IEN0b3Iocy50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHNkID0gKGUgPSBDdG9yLnByZWNpc2lvbikgKyAzO1xyXG5cclxuICAvLyBIYWxsZXkncyBtZXRob2QuXHJcbiAgLy8gVE9ETz8gQ29tcGFyZSBOZXd0b24ncyBtZXRob2QuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgdCA9IHI7XHJcbiAgICB0MyA9IHQudGltZXModCkudGltZXModCk7XHJcbiAgICB0M3BsdXN4ID0gdDMucGx1cyh4KTtcclxuICAgIHIgPSBkaXZpZGUodDNwbHVzeC5wbHVzKHgpLnRpbWVzKHQpLCB0M3BsdXN4LnBsdXModDMpLCBzZCArIDIsIDEpO1xyXG5cclxuICAgIC8vIFRPRE8/IFJlcGxhY2Ugd2l0aCBmb3ItbG9vcCBhbmQgY2hlY2tSb3VuZGluZ0RpZ2l0cy5cclxuICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHNkKSA9PT0gKG4gPSBkaWdpdHNUb1N0cmluZyhyLmQpKS5zbGljZSgwLCBzZCkpIHtcclxuICAgICAgbiA9IG4uc2xpY2Uoc2QgLSAzLCBzZCArIDEpO1xyXG5cclxuICAgICAgLy8gVGhlIDR0aCByb3VuZGluZyBkaWdpdCBtYXkgYmUgaW4gZXJyb3IgYnkgLTEgc28gaWYgdGhlIDQgcm91bmRpbmcgZGlnaXRzIGFyZSA5OTk5IG9yIDQ5OTlcclxuICAgICAgLy8gLCBpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnksIGNvbnRpbnVlIHRoZSBpdGVyYXRpb24uXHJcbiAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZSBleGFjdCByZXN1bHQgYXMgdGhlXHJcbiAgICAgICAgLy8gbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICBmaW5hbGlzZSh0LCBlICsgMSwgMCk7XHJcblxyXG4gICAgICAgICAgaWYgKHQudGltZXModCkudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgciA9IHQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2QgKz0gNDtcclxuICAgICAgICByZXAgPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGFuIGV4YWN0IHJlc3VsdC5cclxuICAgICAgICAvLyBJZiBub3QsIHRoZW4gdGhlcmUgYXJlIGZ1cnRoZXIgZGlnaXRzIGFuZCBtIHdpbGwgYmUgdHJ1dGh5LlxyXG4gICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgIGZpbmFsaXNlKHIsIGUgKyAxLCAxKTtcclxuICAgICAgICAgIG0gPSAhci50aW1lcyhyKS50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBlLCBDdG9yLnJvdW5kaW5nLCBtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC5kZWNpbWFsUGxhY2VzID0gUC5kcCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdyxcclxuICAgIGQgPSB0aGlzLmQsXHJcbiAgICBuID0gTmFOO1xyXG5cclxuICBpZiAoZCkge1xyXG4gICAgdyA9IGQubGVuZ3RoIC0gMTtcclxuICAgIG4gPSAodyAtIG1hdGhmbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkpICogTE9HX0JBU0U7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgdyA9IGRbd107XHJcbiAgICBpZiAodykgZm9yICg7IHcgJSAxMCA9PSAwOyB3IC89IDEwKSBuLS07XHJcbiAgICBpZiAobiA8IDApIG4gPSAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG47XHJcbn07XHJcblxyXG5cclxuLypcclxuICogIG4gLyAwID0gSVxyXG4gKiAgbiAvIE4gPSBOXHJcbiAqICBuIC8gSSA9IDBcclxuICogIDAgLyBuID0gMFxyXG4gKiAgMCAvIDAgPSBOXHJcbiAqICAwIC8gTiA9IE5cclxuICogIDAgLyBJID0gMFxyXG4gKiAgTiAvIG4gPSBOXHJcbiAqICBOIC8gMCA9IE5cclxuICogIE4gLyBOID0gTlxyXG4gKiAgTiAvIEkgPSBOXHJcbiAqICBJIC8gbiA9IElcclxuICogIEkgLyAwID0gSVxyXG4gKiAgSSAvIE4gPSBOXHJcbiAqICBJIC8gSSA9IE5cclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBkaXZpZGVkIGJ5IGB5YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5kaXZpZGVkQnkgPSBQLmRpdiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIGRpdmlkZSh0aGlzLCBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih5KSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludGVnZXIgcGFydCBvZiBkaXZpZGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsXHJcbiAqIGJ5IHRoZSB2YWx1ZSBvZiBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5kaXZUb0ludCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKGRpdmlkZSh4LCBuZXcgQ3Rvcih5KSwgMCwgMSwgMSksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmVxdWFscyA9IFAuZXEgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA9PT0gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgaW4gdGhlXHJcbiAqIGRpcmVjdGlvbiBvZiBuZWdhdGl2ZSBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAuZmxvb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAzKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuXHJcbiAqIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5ncmVhdGVyVGhhbiA9IFAuZ3QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA+IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIGB5YCxcclxuICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuZ3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGsgPSB0aGlzLmNtcCh5KTtcclxuICByZXR1cm4gayA9PSAxIHx8IGsgPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFsxLCBJbmZpbml0eV1cclxuICpcclxuICogY29zaCh4KSA9IDEgKyB4XjIvMiEgKyB4XjQvNCEgKyB4XjYvNiEgKyAuLi5cclxuICpcclxuICogY29zaCgwKSAgICAgICAgID0gMVxyXG4gKiBjb3NoKC0wKSAgICAgICAgPSAxXHJcbiAqIGNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIGNvc2goLUluZmluaXR5KSA9IEluZmluaXR5XHJcbiAqIGNvc2goTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKiAgeCAgICAgICAgdGltZSB0YWtlbiAobXMpICAgcmVzdWx0XHJcbiAqIDEwMDAgICAgICA5ICAgICAgICAgICAgICAgICA5Ljg1MDM1NTU3MDA4NTIzNDk2OTRlKzQzM1xyXG4gKiAxMDAwMCAgICAgMjUgICAgICAgICAgICAgICAgNC40MDM0MDkxMTI4MzE0NjA3OTM2ZSs0MzQyXHJcbiAqIDEwMDAwMCAgICAxNzEgICAgICAgICAgICAgICAxLjQwMzMzMTY4MDIxMzA2MTU4OTdlKzQzNDI5XHJcbiAqIDEwMDAwMDAgICAzODE3ICAgICAgICAgICAgICAxLjUxNjYwNzY5ODQwMTA0Mzc3MjVlKzQzNDI5NFxyXG4gKiAxMDAwMDAwMCAgYWJhbmRvbmVkIGFmdGVyIDIgbWludXRlIHdhaXRcclxuICpcclxuICogVE9ETz8gQ29tcGFyZSBwZXJmb3JtYW5jZSBvZiBjb3NoKHgpID0gMC41ICogKGV4cCh4KSArIGV4cCgteCkpXHJcbiAqXHJcbiAqL1xyXG5QLmh5cGVyYm9saWNDb3NpbmUgPSBQLmNvc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGssIG4sIHByLCBybSwgbGVuLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIG9uZSA9IG5ldyBDdG9yKDEpO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgucyA/IDEgLyAwIDogTmFOKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG9uZTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIDQ7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBjb3MoNHgpID0gMSAtIDhjb3NeMih4KSArIDhjb3NeNCh4KSArIDFcclxuICAvLyBpLmUuIGNvcyh4KSA9IDEgLSBjb3NeMih4LzQpKDggLSA4Y29zXjIoeC80KSlcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gIC8vIFRPRE8/IEVzdGltYXRpb24gcmV1c2VkIGZyb20gY29zaW5lKCkgYW5kIG1heSBub3QgYmUgb3B0aW1hbCBoZXJlLlxyXG4gIGlmIChsZW4gPCAzMikge1xyXG4gICAgayA9IE1hdGguY2VpbChsZW4gLyAzKTtcclxuICAgIG4gPSAoMSAvIHRpbnlQb3coNCwgaykpLnRvU3RyaW5nKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGsgPSAxNjtcclxuICAgIG4gPSAnMi4zMjgzMDY0MzY1Mzg2OTYyODkwNjI1ZS0xMCc7XHJcbiAgfVxyXG5cclxuICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDEsIHgudGltZXMobiksIG5ldyBDdG9yKDEpLCB0cnVlKTtcclxuXHJcbiAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICB2YXIgY29zaDJfeCxcclxuICAgIGkgPSBrLFxyXG4gICAgZDggPSBuZXcgQ3Rvcig4KTtcclxuICBmb3IgKDsgaS0tOykge1xyXG4gICAgY29zaDJfeCA9IHgudGltZXMoeCk7XHJcbiAgICB4ID0gb25lLm1pbnVzKGNvc2gyX3gudGltZXMoZDgubWludXMoY29zaDJfeC50aW1lcyhkOCkpKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiBzaW5oKHgpID0geCArIHheMy8zISArIHheNS81ISArIHheNy83ISArIC4uLlxyXG4gKlxyXG4gKiBzaW5oKDApICAgICAgICAgPSAwXHJcbiAqIHNpbmgoLTApICAgICAgICA9IC0wXHJcbiAqIHNpbmgoSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIHNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gKiBzaW5oKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogeCAgICAgICAgdGltZSB0YWtlbiAobXMpXHJcbiAqIDEwICAgICAgIDIgbXNcclxuICogMTAwICAgICAgNSBtc1xyXG4gKiAxMDAwICAgICAxNCBtc1xyXG4gKiAxMDAwMCAgICA4MiBtc1xyXG4gKiAxMDAwMDAgICA4ODYgbXMgICAgICAgICAgICAxLjQwMzMzMTY4MDIxMzA2MTU4OTdlKzQzNDI5XHJcbiAqIDIwMDAwMCAgIDI2MTMgbXNcclxuICogMzAwMDAwICAgNTQwNyBtc1xyXG4gKiA0MDAwMDAgICA4ODI0IG1zXHJcbiAqIDUwMDAwMCAgIDEzMDI2IG1zICAgICAgICAgIDguNzA4MDY0MzYxMjcxODA4NDEyOWUrMjE3MTQ2XHJcbiAqIDEwMDAwMDAgIDQ4NTQzIG1zXHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2Ygc2luaCh4KSA9IDAuNSAqIChleHAoeCkgLSBleHAoLXgpKVxyXG4gKlxyXG4gKi9cclxuUC5oeXBlcmJvbGljU2luZSA9IFAuc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaywgcHIsIHJtLCBsZW4sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIGlmIChsZW4gPCAzKSB7XHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgsIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gQWx0ZXJuYXRpdmUgYXJndW1lbnQgcmVkdWN0aW9uOiBzaW5oKDN4KSA9IHNpbmgoeCkoMyArIDRzaW5oXjIoeCkpXHJcbiAgICAvLyBpLmUuIHNpbmgoeCkgPSBzaW5oKHgvMykoMyArIDRzaW5oXjIoeC8zKSlcclxuICAgIC8vIDMgbXVsdGlwbGljYXRpb25zIGFuZCAxIGFkZGl0aW9uXHJcblxyXG4gICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBzaW5oKDV4KSA9IHNpbmgoeCkoNSArIHNpbmheMih4KSgyMCArIDE2c2luaF4yKHgpKSlcclxuICAgIC8vIGkuZS4gc2luaCh4KSA9IHNpbmgoeC81KSg1ICsgc2luaF4yKHgvNSkoMjAgKyAxNnNpbmheMih4LzUpKSlcclxuICAgIC8vIDQgbXVsdGlwbGljYXRpb25zIGFuZCAyIGFkZGl0aW9uc1xyXG5cclxuICAgIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAgIGsgPSAxLjQgKiBNYXRoLnNxcnQobGVuKTtcclxuICAgIGsgPSBrID4gMTYgPyAxNiA6IGsgfCAwO1xyXG5cclxuICAgIHggPSB4LnRpbWVzKDEgLyB0aW55UG93KDUsIGspKTtcclxuICAgIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICAgIHZhciBzaW5oMl94LFxyXG4gICAgICBkNSA9IG5ldyBDdG9yKDUpLFxyXG4gICAgICBkMTYgPSBuZXcgQ3RvcigxNiksXHJcbiAgICAgIGQyMCA9IG5ldyBDdG9yKDIwKTtcclxuICAgIGZvciAoOyBrLS07KSB7XHJcbiAgICAgIHNpbmgyX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgICB4ID0geC50aW1lcyhkNS5wbHVzKHNpbmgyX3gudGltZXMoZDE2LnRpbWVzKHNpbmgyX3gpLnBsdXMoZDIwKSkpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogdGFuaCh4KSA9IHNpbmgoeCkgLyBjb3NoKHgpXHJcbiAqXHJcbiAqIHRhbmgoMCkgICAgICAgICA9IDBcclxuICogdGFuaCgtMCkgICAgICAgID0gLTBcclxuICogdGFuaChJbmZpbml0eSkgID0gMVxyXG4gKiB0YW5oKC1JbmZpbml0eSkgPSAtMVxyXG4gKiB0YW5oKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaHlwZXJib2xpY1RhbmdlbnQgPSBQLnRhbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeC5zKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNztcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgcmV0dXJuIGRpdmlkZSh4LnNpbmgoKSwgeC5jb3NoKCksIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY2Nvc2luZSAoaW52ZXJzZSBjb3NpbmUpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlIG9mXHJcbiAqIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLTEsIDFdXHJcbiAqIFJhbmdlOiBbMCwgcGldXHJcbiAqXHJcbiAqIGFjb3MoeCkgPSBwaS8yIC0gYXNpbih4KVxyXG4gKlxyXG4gKiBhY29zKDApICAgICAgID0gcGkvMlxyXG4gKiBhY29zKC0wKSAgICAgID0gcGkvMlxyXG4gKiBhY29zKDEpICAgICAgID0gMFxyXG4gKiBhY29zKC0xKSAgICAgID0gcGlcclxuICogYWNvcygxLzIpICAgICA9IHBpLzNcclxuICogYWNvcygtMS8yKSAgICA9IDIqcGkvM1xyXG4gKiBhY29zKHx4fCA+IDEpID0gTmFOXHJcbiAqIGFjb3MoTmFOKSAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaW52ZXJzZUNvc2luZSA9IFAuYWNvcyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaGFsZlBpLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIGsgPSB4LmFicygpLmNtcCgxKSxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIGlmIChrICE9PSAtMSkge1xyXG4gICAgcmV0dXJuIGsgPT09IDBcclxuICAgICAgLy8gfHh8IGlzIDFcclxuICAgICAgPyB4LmlzTmVnKCkgPyBnZXRQaShDdG9yLCBwciwgcm0pIDogbmV3IEN0b3IoMClcclxuICAgICAgLy8gfHh8ID4gMSBvciB4IGlzIE5hTlxyXG4gICAgICA6IG5ldyBDdG9yKE5hTik7XHJcbiAgfVxyXG5cclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gIC8vIFRPRE8/IFNwZWNpYWwgY2FzZSBhY29zKDAuNSkgPSBwaS8zIGFuZCBhY29zKC0wLjUpID0gMipwaS8zXHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5hc2luKCk7XHJcbiAgaGFsZlBpID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBoYWxmUGkubWludXMoeCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgY29zaW5lIGluIHJhZGlhbnMgb2YgdGhlXHJcbiAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbMSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbMCwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGFjb3NoKHgpID0gbG4oeCArIHNxcnQoeF4yIC0gMSkpXHJcbiAqXHJcbiAqIGFjb3NoKHggPCAxKSAgICAgPSBOYU5cclxuICogYWNvc2goTmFOKSAgICAgICA9IE5hTlxyXG4gKiBhY29zaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogYWNvc2goLUluZmluaXR5KSA9IE5hTlxyXG4gKiBhY29zaCgwKSAgICAgICAgID0gTmFOXHJcbiAqIGFjb3NoKC0wKSAgICAgICAgPSBOYU5cclxuICogYWNvc2goMSkgICAgICAgICA9IDBcclxuICogYWNvc2goLTEpICAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlSHlwZXJib2xpY0Nvc2luZSA9IFAuYWNvc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICh4Lmx0ZSgxKSkgcmV0dXJuIG5ldyBDdG9yKHguZXEoMSkgPyAwIDogTmFOKTtcclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoTWF0aC5hYnMoeC5lKSwgeC5zZCgpKSArIDQ7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgeCA9IHgudGltZXMoeCkubWludXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgubG4oKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBzaW5lIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlXHJcbiAqIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhc2luaCh4KSA9IGxuKHggKyBzcXJ0KHheMiArIDEpKVxyXG4gKlxyXG4gKiBhc2luaChOYU4pICAgICAgID0gTmFOXHJcbiAqIGFzaW5oKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBhc2luaCgtSW5maW5pdHkpID0gLUluZmluaXR5XHJcbiAqIGFzaW5oKDApICAgICAgICAgPSAwXHJcbiAqIGFzaW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlSHlwZXJib2xpY1NpbmUgPSBQLmFzaW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyAyICogTWF0aC5tYXgoTWF0aC5hYnMoeC5lKSwgeC5zZCgpKSArIDY7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgeCA9IHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cyh4KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC5sbigpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgaW4gcmFkaWFucyBvZiB0aGVcclxuICogdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstMSwgMV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhdGFuaCh4KSA9IDAuNSAqIGxuKCgxICsgeCkgLyAoMSAtIHgpKVxyXG4gKlxyXG4gKiBhdGFuaCh8eHwgPiAxKSAgID0gTmFOXHJcbiAqIGF0YW5oKE5hTikgICAgICAgPSBOYU5cclxuICogYXRhbmgoSW5maW5pdHkpICA9IE5hTlxyXG4gKiBhdGFuaCgtSW5maW5pdHkpID0gTmFOXHJcbiAqIGF0YW5oKDApICAgICAgICAgPSAwXHJcbiAqIGF0YW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKiBhdGFuaCgxKSAgICAgICAgID0gSW5maW5pdHlcclxuICogYXRhbmgoLTEpICAgICAgICA9IC1JbmZpbml0eVxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQgPSBQLmF0YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sIHdwciwgeHNkLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmUgPj0gMCkgcmV0dXJuIG5ldyBDdG9yKHguYWJzKCkuZXEoMSkgPyB4LnMgLyAwIDogeC5pc1plcm8oKSA/IHggOiBOYU4pO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB4c2QgPSB4LnNkKCk7XHJcblxyXG4gIGlmIChNYXRoLm1heCh4c2QsIHByKSA8IDIgKiAteC5lIC0gMSkgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBwciwgcm0sIHRydWUpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHdwciA9IHhzZCAtIHguZTtcclxuXHJcbiAgeCA9IGRpdmlkZSh4LnBsdXMoMSksIG5ldyBDdG9yKDEpLm1pbnVzKHgpLCB3cHIgKyBwciwgMSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5sbigpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgudGltZXMoMC41KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSAoaW52ZXJzZSBzaW5lKSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLXBpLzIsIHBpLzJdXHJcbiAqXHJcbiAqIGFzaW4oeCkgPSAyKmF0YW4oeC8oMSArIHNxcnQoMSAtIHheMikpKVxyXG4gKlxyXG4gKiBhc2luKDApICAgICAgID0gMFxyXG4gKiBhc2luKC0wKSAgICAgID0gLTBcclxuICogYXNpbigxLzIpICAgICA9IHBpLzZcclxuICogYXNpbigtMS8yKSAgICA9IC1waS82XHJcbiAqIGFzaW4oMSkgICAgICAgPSBwaS8yXHJcbiAqIGFzaW4oLTEpICAgICAgPSAtcGkvMlxyXG4gKiBhc2luKHx4fCA+IDEpID0gTmFOXHJcbiAqIGFzaW4oTmFOKSAgICAgPSBOYU5cclxuICpcclxuICogVE9ETz8gQ29tcGFyZSBwZXJmb3JtYW5jZSBvZiBUYXlsb3Igc2VyaWVzLlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlU2luZSA9IFAuYXNpbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaGFsZlBpLCBrLFxyXG4gICAgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgayA9IHguYWJzKCkuY21wKDEpO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoayAhPT0gLTEpIHtcclxuXHJcbiAgICAvLyB8eHwgaXMgMVxyXG4gICAgaWYgKGsgPT09IDApIHtcclxuICAgICAgaGFsZlBpID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuICAgICAgaGFsZlBpLnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiBoYWxmUGk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gfHh8ID4gMSBvciB4IGlzIE5hTlxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPPyBTcGVjaWFsIGNhc2UgYXNpbigxLzIpID0gcGkvNiBhbmQgYXNpbigtMS8yKSA9IC1waS82XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5kaXYobmV3IEN0b3IoMSkubWludXMoeC50aW1lcyh4KSkuc3FydCgpLnBsdXMoMSkpLmF0YW4oKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LnRpbWVzKDIpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IChpbnZlcnNlIHRhbmdlbnQpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlXHJcbiAqIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstcGkvMiwgcGkvMl1cclxuICpcclxuICogYXRhbih4KSA9IHggLSB4XjMvMyArIHheNS81IC0geF43LzcgKyAuLi5cclxuICpcclxuICogYXRhbigwKSAgICAgICAgID0gMFxyXG4gKiBhdGFuKC0wKSAgICAgICAgPSAtMFxyXG4gKiBhdGFuKDEpICAgICAgICAgPSBwaS80XHJcbiAqIGF0YW4oLTEpICAgICAgICA9IC1waS80XHJcbiAqIGF0YW4oSW5maW5pdHkpICA9IHBpLzJcclxuICogYXRhbigtSW5maW5pdHkpID0gLXBpLzJcclxuICogYXRhbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VUYW5nZW50ID0gUC5hdGFuID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBpLCBqLCBrLCBuLCBweCwgdCwgciwgd3ByLCB4MixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkge1xyXG4gICAgaWYgKCF4LnMpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gICAgaWYgKHByICsgNCA8PSBQSV9QUkVDSVNJT04pIHtcclxuICAgICAgciA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcbiAgICAgIHIucyA9IHgucztcclxuICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmICh4LmlzWmVybygpKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeCk7XHJcbiAgfSBlbHNlIGlmICh4LmFicygpLmVxKDEpICYmIHByICsgNCA8PSBQSV9QUkVDSVNJT04pIHtcclxuICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjI1KTtcclxuICAgIHIucyA9IHgucztcclxuICAgIHJldHVybiByO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSBwciArIDEwO1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICAvLyBUT0RPPyBpZiAoeCA+PSAxICYmIHByIDw9IFBJX1BSRUNJU0lPTikgYXRhbih4KSA9IGhhbGZQaSAqIHgucyAtIGF0YW4oMSAvIHgpO1xyXG5cclxuICAvLyBBcmd1bWVudCByZWR1Y3Rpb25cclxuICAvLyBFbnN1cmUgfHh8IDwgMC40MlxyXG4gIC8vIGF0YW4oeCkgPSAyICogYXRhbih4IC8gKDEgKyBzcXJ0KDEgKyB4XjIpKSlcclxuXHJcbiAgayA9IE1hdGgubWluKDI4LCB3cHIgLyBMT0dfQkFTRSArIDIgfCAwKTtcclxuXHJcbiAgZm9yIChpID0gazsgaTsgLS1pKSB4ID0geC5kaXYoeC50aW1lcyh4KS5wbHVzKDEpLnNxcnQoKS5wbHVzKDEpKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgaiA9IE1hdGguY2VpbCh3cHIgLyBMT0dfQkFTRSk7XHJcbiAgbiA9IDE7XHJcbiAgeDIgPSB4LnRpbWVzKHgpO1xyXG4gIHIgPSBuZXcgQ3Rvcih4KTtcclxuICBweCA9IHg7XHJcblxyXG4gIC8vIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAgZm9yICg7IGkgIT09IC0xOykge1xyXG4gICAgcHggPSBweC50aW1lcyh4Mik7XHJcbiAgICB0ID0gci5taW51cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgcHggPSBweC50aW1lcyh4Mik7XHJcbiAgICByID0gdC5wbHVzKHB4LmRpdihuICs9IDIpKTtcclxuXHJcbiAgICBpZiAoci5kW2pdICE9PSB2b2lkIDApIGZvciAoaSA9IGo7IHIuZFtpXSA9PT0gdC5kW2ldICYmIGktLTspO1xyXG4gIH1cclxuXHJcbiAgaWYgKGspIHIgPSByLnRpbWVzKDIgPDwgKGsgLSAxKSk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzRmluaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGFuIGludGVnZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzSW50ZWdlciA9IFAuaXNJbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICEhdGhpcy5kICYmIG1hdGhmbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmQubGVuZ3RoIC0gMjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIE5hTiwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICF0aGlzLnM7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNOZWdhdGl2ZSA9IFAuaXNOZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucyA8IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBwb3NpdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNQb3NpdGl2ZSA9IFAuaXNQb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucyA+IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc1plcm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICEhdGhpcy5kICYmIHRoaXMuZFswXSA9PT0gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmxlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpIDwgMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmxlc3NUaGFuT3JFcXVhbFRvID0gUC5sdGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA8IDE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSBsb2dhcml0aG0gb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCB0byB0aGUgc3BlY2lmaWVkIGJhc2UsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogSWYgbm8gYmFzZSBpcyBzcGVjaWZpZWQsIHJldHVybiBsb2dbMTBdKGFyZykuXHJcbiAqXHJcbiAqIGxvZ1tiYXNlXShhcmcpID0gbG4oYXJnKSAvIGxuKGJhc2UpXHJcbiAqXHJcbiAqIFRoZSByZXN1bHQgd2lsbCBhbHdheXMgYmUgY29ycmVjdGx5IHJvdW5kZWQgaWYgdGhlIGJhc2Ugb2YgdGhlIGxvZyBpcyAxMCwgYW5kICdhbG1vc3QgYWx3YXlzJ1xyXG4gKiBvdGhlcndpc2U6XHJcbiAqXHJcbiAqIERlcGVuZGluZyBvbiB0aGUgcm91bmRpbmcgbW9kZSwgdGhlIHJlc3VsdCBtYXkgYmUgaW5jb3JyZWN0bHkgcm91bmRlZCBpZiB0aGUgZmlyc3QgZmlmdGVlblxyXG4gKiByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5OTk5OTk5OTk5OSBvciBbNTBdMDAwMDAwMDAwMDAwMDAuIEluIHRoYXQgY2FzZSwgdGhlIG1heGltdW0gZXJyb3JcclxuICogYmV0d2VlbiB0aGUgcmVzdWx0IGFuZCB0aGUgY29ycmVjdGx5IHJvdW5kZWQgcmVzdWx0IHdpbGwgYmUgb25lIHVscCAodW5pdCBpbiB0aGUgbGFzdCBwbGFjZSkuXHJcbiAqXHJcbiAqIGxvZ1stYl0oYSkgICAgICAgPSBOYU5cclxuICogbG9nWzBdKGEpICAgICAgICA9IE5hTlxyXG4gKiBsb2dbMV0oYSkgICAgICAgID0gTmFOXHJcbiAqIGxvZ1tOYU5dKGEpICAgICAgPSBOYU5cclxuICogbG9nW0luZmluaXR5XShhKSA9IE5hTlxyXG4gKiBsb2dbYl0oMCkgICAgICAgID0gLUluZmluaXR5XHJcbiAqIGxvZ1tiXSgtMCkgICAgICAgPSAtSW5maW5pdHlcclxuICogbG9nW2JdKC1hKSAgICAgICA9IE5hTlxyXG4gKiBsb2dbYl0oMSkgICAgICAgID0gMFxyXG4gKiBsb2dbYl0oSW5maW5pdHkpID0gSW5maW5pdHlcclxuICogbG9nW2JdKE5hTikgICAgICA9IE5hTlxyXG4gKlxyXG4gKiBbYmFzZV0ge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGJhc2Ugb2YgdGhlIGxvZ2FyaXRobS5cclxuICpcclxuICovXHJcblAubG9nYXJpdGhtID0gUC5sb2cgPSBmdW5jdGlvbiAoYmFzZSkge1xyXG4gIHZhciBpc0Jhc2UxMCwgZCwgZGVub21pbmF0b3IsIGssIGluZiwgbnVtLCBzZCwgcixcclxuICAgIGFyZyA9IHRoaXMsXHJcbiAgICBDdG9yID0gYXJnLmNvbnN0cnVjdG9yLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIGd1YXJkID0gNTtcclxuXHJcbiAgLy8gRGVmYXVsdCBiYXNlIGlzIDEwLlxyXG4gIGlmIChiYXNlID09IG51bGwpIHtcclxuICAgIGJhc2UgPSBuZXcgQ3RvcigxMCk7XHJcbiAgICBpc0Jhc2UxMCA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJhc2UgPSBuZXcgQ3RvcihiYXNlKTtcclxuICAgIGQgPSBiYXNlLmQ7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBiYXNlIGlzIG5lZ2F0aXZlLCBvciBub24tZmluaXRlLCBvciBpcyAwIG9yIDEuXHJcbiAgICBpZiAoYmFzZS5zIDwgMCB8fCAhZCB8fCAhZFswXSB8fCBiYXNlLmVxKDEpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICBpc0Jhc2UxMCA9IGJhc2UuZXEoMTApO1xyXG4gIH1cclxuXHJcbiAgZCA9IGFyZy5kO1xyXG5cclxuICAvLyBJcyBhcmcgbmVnYXRpdmUsIG5vbi1maW5pdGUsIDAgb3IgMT9cclxuICBpZiAoYXJnLnMgPCAwIHx8ICFkIHx8ICFkWzBdIHx8IGFyZy5lcSgxKSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKGQgJiYgIWRbMF0gPyAtMSAvIDAgOiBhcmcucyAhPSAxID8gTmFOIDogZCA/IDAgOiAxIC8gMCk7XHJcbiAgfVxyXG5cclxuICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSBhIG5vbi10ZXJtaW5hdGluZyBkZWNpbWFsIGV4cGFuc2lvbiBpZiBiYXNlIGlzIDEwIGFuZCBhcmcgaXMgbm90IGFuXHJcbiAgLy8gaW50ZWdlciBwb3dlciBvZiAxMC5cclxuICBpZiAoaXNCYXNlMTApIHtcclxuICAgIGlmIChkLmxlbmd0aCA+IDEpIHtcclxuICAgICAgaW5mID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAoayA9IGRbMF07IGsgJSAxMCA9PT0gMDspIGsgLz0gMTA7XHJcbiAgICAgIGluZiA9IGsgIT09IDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIHNkID0gcHIgKyBndWFyZDtcclxuICBudW0gPSBuYXR1cmFsTG9nYXJpdGhtKGFyZywgc2QpO1xyXG4gIGRlbm9taW5hdG9yID0gaXNCYXNlMTAgPyBnZXRMbjEwKEN0b3IsIHNkICsgMTApIDogbmF0dXJhbExvZ2FyaXRobShiYXNlLCBzZCk7XHJcblxyXG4gIC8vIFRoZSByZXN1bHQgd2lsbCBoYXZlIDUgcm91bmRpbmcgZGlnaXRzLlxyXG4gIHIgPSBkaXZpZGUobnVtLCBkZW5vbWluYXRvciwgc2QsIDEpO1xyXG5cclxuICAvLyBJZiBhdCBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBpLmUuIHRoZSByZXN1bHQncyByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5IG9yIFs1MF0wMDAwLFxyXG4gIC8vIGNhbGN1bGF0ZSAxMCBmdXJ0aGVyIGRpZ2l0cy5cclxuICAvL1xyXG4gIC8vIElmIHRoZSByZXN1bHQgaXMga25vd24gdG8gaGF2ZSBhbiBpbmZpbml0ZSBkZWNpbWFsIGV4cGFuc2lvbiwgcmVwZWF0IHRoaXMgdW50aWwgaXQgaXMgY2xlYXJcclxuICAvLyB0aGF0IHRoZSByZXN1bHQgaXMgYWJvdmUgb3IgYmVsb3cgdGhlIGJvdW5kYXJ5LiBPdGhlcndpc2UsIGlmIGFmdGVyIGNhbGN1bGF0aW5nIHRoZSAxMFxyXG4gIC8vIGZ1cnRoZXIgZGlnaXRzLCB0aGUgbGFzdCAxNCBhcmUgbmluZXMsIHJvdW5kIHVwIGFuZCBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdC5cclxuICAvLyBBbHNvIGFzc3VtZSB0aGUgcmVzdWx0IGlzIGV4YWN0IGlmIHRoZSBsYXN0IDE0IGFyZSB6ZXJvLlxyXG4gIC8vXHJcbiAgLy8gRXhhbXBsZSBvZiBhIHJlc3VsdCB0aGF0IHdpbGwgYmUgaW5jb3JyZWN0bHkgcm91bmRlZDpcclxuICAvLyBsb2dbMTA0ODU3Nl0oNDUwMzU5OTYyNzM3MDUwMikgPSAyLjYwMDAwMDAwMDAwMDAwMDA5NjEwMjc5NTExNDQ0NzQ2Li4uXHJcbiAgLy8gVGhlIGFib3ZlIHJlc3VsdCBjb3JyZWN0bHkgcm91bmRlZCB1c2luZyBST1VORF9DRUlMIHRvIDEgZGVjaW1hbCBwbGFjZSBzaG91bGQgYmUgMi43LCBidXQgaXRcclxuICAvLyB3aWxsIGJlIGdpdmVuIGFzIDIuNiBhcyB0aGVyZSBhcmUgMTUgemVyb3MgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIHJlcXVlc3RlZCBkZWNpbWFsIHBsYWNlLCBzb1xyXG4gIC8vIHRoZSBleGFjdCByZXN1bHQgd291bGQgYmUgYXNzdW1lZCB0byBiZSAyLjYsIHdoaWNoIHJvdW5kZWQgdXNpbmcgUk9VTkRfQ0VJTCB0byAxIGRlY2ltYWxcclxuICAvLyBwbGFjZSBpcyBzdGlsbCAyLjYuXHJcbiAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrID0gcHIsIHJtKSkge1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgc2QgKz0gMTA7XHJcbiAgICAgIG51bSA9IG5hdHVyYWxMb2dhcml0aG0oYXJnLCBzZCk7XHJcbiAgICAgIGRlbm9taW5hdG9yID0gaXNCYXNlMTAgPyBnZXRMbjEwKEN0b3IsIHNkICsgMTApIDogbmF0dXJhbExvZ2FyaXRobShiYXNlLCBzZCk7XHJcbiAgICAgIHIgPSBkaXZpZGUobnVtLCBkZW5vbWluYXRvciwgc2QsIDEpO1xyXG5cclxuICAgICAgaWYgKCFpbmYpIHtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIDE0IG5pbmVzIGZyb20gdGhlIDJuZCByb3VuZGluZyBkaWdpdCwgYXMgdGhlIGZpcnN0IG1heSBiZSA0LlxyXG4gICAgICAgIGlmICgrZGlnaXRzVG9TdHJpbmcoci5kKS5zbGljZShrICsgMSwgayArIDE1KSArIDEgPT0gMWUxNCkge1xyXG4gICAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSB3aGlsZSAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhyLmQsIGsgKz0gMTAsIHJtKSk7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBwciwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMgYW5kIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG5QLm1heCA9IGZ1bmN0aW9uICgpIHtcclxuICBBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cywgdGhpcyk7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMuY29uc3RydWN0b3IsIGFyZ3VtZW50cywgJ2x0Jyk7XHJcbn07XHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtaW5pbXVtIG9mIHRoZSBhcmd1bWVudHMgYW5kIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG5QLm1pbiA9IGZ1bmN0aW9uICgpIHtcclxuICBBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cywgdGhpcyk7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMuY29uc3RydWN0b3IsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbn07XHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqICBuIC0gMCA9IG5cclxuICogIG4gLSBOID0gTlxyXG4gKiAgbiAtIEkgPSAtSVxyXG4gKiAgMCAtIG4gPSAtblxyXG4gKiAgMCAtIDAgPSAwXHJcbiAqICAwIC0gTiA9IE5cclxuICogIDAgLSBJID0gLUlcclxuICogIE4gLSBuID0gTlxyXG4gKiAgTiAtIDAgPSBOXHJcbiAqICBOIC0gTiA9IE5cclxuICogIE4gLSBJID0gTlxyXG4gKiAgSSAtIG4gPSBJXHJcbiAqICBJIC0gMCA9IElcclxuICogIEkgLSBOID0gTlxyXG4gKiAgSSAtIEkgPSBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbWludXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm1pbnVzID0gUC5zdWIgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBkLCBlLCBpLCBqLCBrLCBsZW4sIHByLCBybSwgeGQsIHhlLCB4TFR5LCB5ZCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIG5vdCBmaW5pdGUuLi5cclxuICBpZiAoIXguZCB8fCAheS5kKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgaWYgKCF4LnMgfHwgIXkucykgeSA9IG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHkgbmVnYXRlZCBpZiB4IGlzIGZpbml0ZSBhbmQgeSBpcyDCsUluZmluaXR5LlxyXG4gICAgZWxzZSBpZiAoeC5kKSB5LnMgPSAteS5zO1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgZmluaXRlIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAvLyBSZXR1cm4geCBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggZGlmZmVyZW50IHNpZ25zLlxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggdGhlIHNhbWUgc2lnbi5cclxuICAgIGVsc2UgeSA9IG5ldyBDdG9yKHkuZCB8fCB4LnMgIT09IHkucyA/IHggOiBOYU4pO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgc2lnbnMgZGlmZmVyLi4uXHJcbiAgaWYgKHgucyAhPSB5LnMpIHtcclxuICAgIHkucyA9IC15LnM7XHJcbiAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gIH1cclxuXHJcbiAgeGQgPSB4LmQ7XHJcbiAgeWQgPSB5LmQ7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyB6ZXJvLi4uXHJcbiAgaWYgKCF4ZFswXSB8fCAheWRbMF0pIHtcclxuXHJcbiAgICAvLyBSZXR1cm4geSBuZWdhdGVkIGlmIHggaXMgemVybyBhbmQgeSBpcyBub24temVyby5cclxuICAgIGlmICh5ZFswXSkgeS5zID0gLXkucztcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIHplcm8gYW5kIHggaXMgbm9uLXplcm8uXHJcbiAgICBlbHNlIGlmICh4ZFswXSkgeSA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIC8vIFJldHVybiB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAvLyBGcm9tIElFRUUgNzU0ICgyMDA4KSA2LjM6IDAgLSAwID0gLTAgLSAtMCA9IC0wIHdoZW4gcm91bmRpbmcgdG8gLUluZmluaXR5LlxyXG4gICAgZWxzZSByZXR1cm4gbmV3IEN0b3Iocm0gPT09IDMgPyAtMCA6IDApO1xyXG5cclxuICAgIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG4gIH1cclxuXHJcbiAgLy8geCBhbmQgeSBhcmUgZmluaXRlLCBub24temVybyBudW1iZXJzIHdpdGggdGhlIHNhbWUgc2lnbi5cclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGJhc2UgMWU3IGV4cG9uZW50cy5cclxuICBlID0gbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICB4ZSA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIHhkID0geGQuc2xpY2UoKTtcclxuICBrID0geGUgLSBlO1xyXG5cclxuICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgaWYgKGspIHtcclxuICAgIHhMVHkgPSBrIDwgMDtcclxuXHJcbiAgICBpZiAoeExUeSkge1xyXG4gICAgICBkID0geGQ7XHJcbiAgICAgIGsgPSAtaztcclxuICAgICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZCA9IHlkO1xyXG4gICAgICBlID0geGU7XHJcbiAgICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBOdW1iZXJzIHdpdGggbWFzc2l2ZWx5IGRpZmZlcmVudCBleHBvbmVudHMgd291bGQgcmVzdWx0IGluIGEgdmVyeSBoaWdoIG51bWJlciBvZlxyXG4gICAgLy8gemVyb3MgbmVlZGluZyB0byBiZSBwcmVwZW5kZWQsIGJ1dCB0aGlzIGNhbiBiZSBhdm9pZGVkIHdoaWxlIHN0aWxsIGVuc3VyaW5nIGNvcnJlY3RcclxuICAgIC8vIHJvdW5kaW5nIGJ5IGxpbWl0aW5nIHRoZSBudW1iZXIgb2YgemVyb3MgdG8gYE1hdGguY2VpbChwciAvIExPR19CQVNFKSArIDJgLlxyXG4gICAgaSA9IE1hdGgubWF4KE1hdGguY2VpbChwciAvIExPR19CQVNFKSwgbGVuKSArIDI7XHJcblxyXG4gICAgaWYgKGsgPiBpKSB7XHJcbiAgICAgIGsgPSBpO1xyXG4gICAgICBkLmxlbmd0aCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgICBkLnJldmVyc2UoKTtcclxuICAgIGZvciAoaSA9IGs7IGktLTspIGQucHVzaCgwKTtcclxuICAgIGQucmV2ZXJzZSgpO1xyXG5cclxuICAvLyBCYXNlIDFlNyBleHBvbmVudHMgZXF1YWwuXHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBDaGVjayBkaWdpdHMgdG8gZGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG5cclxuICAgIGkgPSB4ZC5sZW5ndGg7XHJcbiAgICBsZW4gPSB5ZC5sZW5ndGg7XHJcbiAgICB4TFR5ID0gaSA8IGxlbjtcclxuICAgIGlmICh4TFR5KSBsZW4gPSBpO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBpZiAoeGRbaV0gIT0geWRbaV0pIHtcclxuICAgICAgICB4TFR5ID0geGRbaV0gPCB5ZFtpXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGsgPSAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKHhMVHkpIHtcclxuICAgIGQgPSB4ZDtcclxuICAgIHhkID0geWQ7XHJcbiAgICB5ZCA9IGQ7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gIH1cclxuXHJcbiAgbGVuID0geGQubGVuZ3RoO1xyXG5cclxuICAvLyBBcHBlbmQgemVyb3MgdG8gYHhkYCBpZiBzaG9ydGVyLlxyXG4gIC8vIERvbid0IGFkZCB6ZXJvcyB0byBgeWRgIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Rpb24gb25seSBuZWVkcyB0byBzdGFydCBhdCBgeWRgIGxlbmd0aC5cclxuICBmb3IgKGkgPSB5ZC5sZW5ndGggLSBsZW47IGkgPiAwOyAtLWkpIHhkW2xlbisrXSA9IDA7XHJcblxyXG4gIC8vIFN1YnRyYWN0IHlkIGZyb20geGQuXHJcbiAgZm9yIChpID0geWQubGVuZ3RoOyBpID4gazspIHtcclxuXHJcbiAgICBpZiAoeGRbLS1pXSA8IHlkW2ldKSB7XHJcbiAgICAgIGZvciAoaiA9IGk7IGogJiYgeGRbLS1qXSA9PT0gMDspIHhkW2pdID0gQkFTRSAtIDE7XHJcbiAgICAgIC0teGRbal07XHJcbiAgICAgIHhkW2ldICs9IEJBU0U7XHJcbiAgICB9XHJcblxyXG4gICAgeGRbaV0gLT0geWRbaV07XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yICg7IHhkWy0tbGVuXSA9PT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gIGZvciAoOyB4ZFswXSA9PT0gMDsgeGQuc2hpZnQoKSkgLS1lO1xyXG5cclxuICAvLyBaZXJvP1xyXG4gIGlmICgheGRbMF0pIHJldHVybiBuZXcgQ3RvcihybSA9PT0gMyA/IC0wIDogMCk7XHJcblxyXG4gIHkuZCA9IHhkO1xyXG4gIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHhkLCBlKTtcclxuXHJcbiAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogICBuICUgMCA9ICBOXHJcbiAqICAgbiAlIE4gPSAgTlxyXG4gKiAgIG4gJSBJID0gIG5cclxuICogICAwICUgbiA9ICAwXHJcbiAqICAtMCAlIG4gPSAtMFxyXG4gKiAgIDAgJSAwID0gIE5cclxuICogICAwICUgTiA9ICBOXHJcbiAqICAgMCAlIEkgPSAgMFxyXG4gKiAgIE4gJSBuID0gIE5cclxuICogICBOICUgMCA9ICBOXHJcbiAqICAgTiAlIE4gPSAgTlxyXG4gKiAgIE4gJSBJID0gIE5cclxuICogICBJICUgbiA9ICBOXHJcbiAqICAgSSAlIDAgPSAgTlxyXG4gKiAgIEkgJSBOID0gIE5cclxuICogICBJICUgSSA9ICBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbW9kdWxvIGB5YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIG1vZHVsbyBtb2RlLlxyXG4gKlxyXG4gKi9cclxuUC5tb2R1bG8gPSBQLm1vZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIHEsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIFJldHVybiBOYU4gaWYgeCBpcyDCsUluZmluaXR5IG9yIE5hTiwgb3IgeSBpcyBOYU4gb3IgwrEwLlxyXG4gIGlmICgheC5kIHx8ICF5LnMgfHwgeS5kICYmICF5LmRbMF0pIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAvLyBSZXR1cm4geCBpZiB5IGlzIMKxSW5maW5pdHkgb3IgeCBpcyDCsTAuXHJcbiAgaWYgKCF5LmQgfHwgeC5kICYmICF4LmRbMF0pIHtcclxuICAgIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJldmVudCByb3VuZGluZyBvZiBpbnRlcm1lZGlhdGUgY2FsY3VsYXRpb25zLlxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGlmIChDdG9yLm1vZHVsbyA9PSA5KSB7XHJcblxyXG4gICAgLy8gRXVjbGlkaWFuIGRpdmlzaW9uOiBxID0gc2lnbih5KSAqIGZsb29yKHggLyBhYnMoeSkpXHJcbiAgICAvLyByZXN1bHQgPSB4IC0gcSAqIHkgICAgd2hlcmUgIDAgPD0gcmVzdWx0IDwgYWJzKHkpXHJcbiAgICBxID0gZGl2aWRlKHgsIHkuYWJzKCksIDAsIDMsIDEpO1xyXG4gICAgcS5zICo9IHkucztcclxuICB9IGVsc2Uge1xyXG4gICAgcSA9IGRpdmlkZSh4LCB5LCAwLCBDdG9yLm1vZHVsbywgMSk7XHJcbiAgfVxyXG5cclxuICBxID0gcS50aW1lcyh5KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4geC5taW51cyhxKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBleHBvbmVudGlhbCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLFxyXG4gKiBpLmUuIHRoZSBiYXNlIGUgcmFpc2VkIHRvIHRoZSBwb3dlciB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm5hdHVyYWxFeHBvbmVudGlhbCA9IFAuZXhwID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBuYXR1cmFsRXhwb25lbnRpYWwodGhpcyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsXHJcbiAqIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAubmF0dXJhbExvZ2FyaXRobSA9IFAubG4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIG5hdHVyYWxMb2dhcml0aG0odGhpcyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBuZWdhdGVkLCBpLmUuIGFzIGlmIG11bHRpcGxpZWQgYnlcclxuICogLTEuXHJcbiAqXHJcbiAqL1xyXG5QLm5lZ2F0ZWQgPSBQLm5lZyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpO1xyXG4gIHgucyA9IC14LnM7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICBuICsgMCA9IG5cclxuICogIG4gKyBOID0gTlxyXG4gKiAgbiArIEkgPSBJXHJcbiAqICAwICsgbiA9IG5cclxuICogIDAgKyAwID0gMFxyXG4gKiAgMCArIE4gPSBOXHJcbiAqICAwICsgSSA9IElcclxuICogIE4gKyBuID0gTlxyXG4gKiAgTiArIDAgPSBOXHJcbiAqICBOICsgTiA9IE5cclxuICogIE4gKyBJID0gTlxyXG4gKiAgSSArIG4gPSBJXHJcbiAqICBJICsgMCA9IElcclxuICogIEkgKyBOID0gTlxyXG4gKiAgSSArIEkgPSBJXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcGx1cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAucGx1cyA9IFAuYWRkID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgY2FycnksIGQsIGUsIGksIGssIGxlbiwgcHIsIHJtLCB4ZCwgeWQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgZmluaXRlIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAvLyBSZXR1cm4geCBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggdGhlIHNhbWUgc2lnbi5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgIC8vIFJldHVybiB5IGlmIHggaXMgZmluaXRlIGFuZCB5IGlzIMKxSW5maW5pdHkuXHJcbiAgICBlbHNlIGlmICgheC5kKSB5ID0gbmV3IEN0b3IoeS5kIHx8IHgucyA9PT0geS5zID8geCA6IE5hTik7XHJcblxyXG4gICAgcmV0dXJuIHk7XHJcbiAgfVxyXG5cclxuICAgLy8gSWYgc2lnbnMgZGlmZmVyLi4uXHJcbiAgaWYgKHgucyAhPSB5LnMpIHtcclxuICAgIHkucyA9IC15LnM7XHJcbiAgICByZXR1cm4geC5taW51cyh5KTtcclxuICB9XHJcblxyXG4gIHhkID0geC5kO1xyXG4gIHlkID0geS5kO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgemVyby4uLlxyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvLlxyXG4gICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVyby5cclxuICAgIGlmICgheWRbMF0pIHkgPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICB9XHJcblxyXG4gIC8vIHggYW5kIHkgYXJlIGZpbml0ZSwgbm9uLXplcm8gbnVtYmVycyB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgayA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSk7XHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIHhkID0geGQuc2xpY2UoKTtcclxuICBpID0gayAtIGU7XHJcblxyXG4gIC8vIElmIGJhc2UgMWU3IGV4cG9uZW50cyBkaWZmZXIuLi5cclxuICBpZiAoaSkge1xyXG5cclxuICAgIGlmIChpIDwgMCkge1xyXG4gICAgICBkID0geGQ7XHJcbiAgICAgIGkgPSAtaTtcclxuICAgICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZCA9IHlkO1xyXG4gICAgICBlID0gaztcclxuICAgICAgbGVuID0geGQubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExpbWl0IG51bWJlciBvZiB6ZXJvcyBwcmVwZW5kZWQgdG8gbWF4KGNlaWwocHIgLyBMT0dfQkFTRSksIGxlbikgKyAxLlxyXG4gICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFKTtcclxuICAgIGxlbiA9IGsgPiBsZW4gPyBrICsgMSA6IGxlbiArIDE7XHJcblxyXG4gICAgaWYgKGkgPiBsZW4pIHtcclxuICAgICAgaSA9IGxlbjtcclxuICAgICAgZC5sZW5ndGggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBOb3RlOiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgIGQucmV2ZXJzZSgpO1xyXG4gICAgZm9yICg7IGktLTspIGQucHVzaCgwKTtcclxuICAgIGQucmV2ZXJzZSgpO1xyXG4gIH1cclxuXHJcbiAgbGVuID0geGQubGVuZ3RoO1xyXG4gIGkgPSB5ZC5sZW5ndGg7XHJcblxyXG4gIC8vIElmIHlkIGlzIGxvbmdlciB0aGFuIHhkLCBzd2FwIHhkIGFuZCB5ZCBzbyB4ZCBwb2ludHMgdG8gdGhlIGxvbmdlciBhcnJheS5cclxuICBpZiAobGVuIC0gaSA8IDApIHtcclxuICAgIGkgPSBsZW47XHJcbiAgICBkID0geWQ7XHJcbiAgICB5ZCA9IHhkO1xyXG4gICAgeGQgPSBkO1xyXG4gIH1cclxuXHJcbiAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWQubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGQgY2FuIGJlIGxlZnQgYXMgdGhleSBhcmUuXHJcbiAgZm9yIChjYXJyeSA9IDA7IGk7KSB7XHJcbiAgICBjYXJyeSA9ICh4ZFstLWldID0geGRbaV0gKyB5ZFtpXSArIGNhcnJ5KSAvIEJBU0UgfCAwO1xyXG4gICAgeGRbaV0gJT0gQkFTRTtcclxuICB9XHJcblxyXG4gIGlmIChjYXJyeSkge1xyXG4gICAgeGQudW5zaGlmdChjYXJyeSk7XHJcbiAgICArK2U7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gIGZvciAobGVuID0geGQubGVuZ3RoOyB4ZFstLWxlbl0gPT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICB5LmQgPSB4ZDtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBbel0ge2Jvb2xlYW58bnVtYmVyfSBXaGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSwgZmFsc2UsIDEgb3IgMC5cclxuICpcclxuICovXHJcblAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uICh6KSB7XHJcbiAgdmFyIGssXHJcbiAgICB4ID0gdGhpcztcclxuXHJcbiAgaWYgKHogIT09IHZvaWQgMCAmJiB6ICE9PSAhIXogJiYgeiAhPT0gMSAmJiB6ICE9PSAwKSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyB6KTtcclxuXHJcbiAgaWYgKHguZCkge1xyXG4gICAgayA9IGdldFByZWNpc2lvbih4LmQpO1xyXG4gICAgaWYgKHogJiYgeC5lICsgMSA+IGspIGsgPSB4LmUgKyAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gTmFOO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGs7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIHVzaW5nXHJcbiAqIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAucm91bmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgeC5lICsgMSwgQ3Rvci5yb3VuZGluZyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy0xLCAxXVxyXG4gKlxyXG4gKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAqXHJcbiAqIHNpbigwKSAgICAgICAgID0gMFxyXG4gKiBzaW4oLTApICAgICAgICA9IC0wXHJcbiAqIHNpbihJbmZpbml0eSkgID0gTmFOXHJcbiAqIHNpbigtSW5maW5pdHkpID0gTmFOXHJcbiAqIHNpbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLnNpbmUgPSBQLnNpbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyBMT0dfQkFTRTtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHNpbmUoQ3RvciwgdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPiAyID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiAgc3FydCgtbikgPSAgTlxyXG4gKiAgc3FydChOKSAgPSAgTlxyXG4gKiAgc3FydCgtSSkgPSAgTlxyXG4gKiAgc3FydChJKSAgPSAgSVxyXG4gKiAgc3FydCgwKSAgPSAgMFxyXG4gKiAgc3FydCgtMCkgPSAtMFxyXG4gKlxyXG4gKi9cclxuUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBtLCBuLCBzZCwgciwgcmVwLCB0LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBkID0geC5kLFxyXG4gICAgZSA9IHguZSxcclxuICAgIHMgPSB4LnMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgLy8gTmVnYXRpdmUvTmFOL0luZmluaXR5L3plcm8/XHJcbiAgaWYgKHMgIT09IDEgfHwgIWQgfHwgIWRbMF0pIHtcclxuICAgIHJldHVybiBuZXcgQ3RvcighcyB8fCBzIDwgMCAmJiAoIWQgfHwgZFswXSkgPyBOYU4gOiBkID8geCA6IDEgLyAwKTtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgcyA9IE1hdGguc3FydCgreCk7XHJcblxyXG4gIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgLy8gUGFzcyB4IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICBpZiAocyA9PSAwIHx8IHMgPT0gMSAvIDApIHtcclxuICAgIG4gPSBkaWdpdHNUb1N0cmluZyhkKTtcclxuXHJcbiAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xyXG4gICAgcyA9IE1hdGguc3FydChuKTtcclxuICAgIGUgPSBtYXRoZmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICBuID0gJzVlJyArIGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgIG4gPSBuLnNsaWNlKDAsIG4uaW5kZXhPZignZScpICsgMSkgKyBlO1xyXG4gICAgfVxyXG5cclxuICAgIHIgPSBuZXcgQ3RvcihuKTtcclxuICB9IGVsc2Uge1xyXG4gICAgciA9IG5ldyBDdG9yKHMudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBzZCA9IChlID0gQ3Rvci5wcmVjaXNpb24pICsgMztcclxuXHJcbiAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSByO1xyXG4gICAgciA9IHQucGx1cyhkaXZpZGUoeCwgdCwgc2QgKyAyLCAxKSkudGltZXMoMC41KTtcclxuXHJcbiAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCBzZCkgPT09IChuID0gZGlnaXRzVG9TdHJpbmcoci5kKSkuc2xpY2UoMCwgc2QpKSB7XHJcbiAgICAgIG4gPSBuLnNsaWNlKHNkIC0gMywgc2QgKyAxKTtcclxuXHJcbiAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvclxyXG4gICAgICAvLyA0OTk5LCBpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnksIGNvbnRpbnVlIHRoZSBpdGVyYXRpb24uXHJcbiAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZSBleGFjdCByZXN1bHQgYXMgdGhlXHJcbiAgICAgICAgLy8gbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICBmaW5hbGlzZSh0LCBlICsgMSwgMCk7XHJcblxyXG4gICAgICAgICAgaWYgKHQudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgciA9IHQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2QgKz0gNDtcclxuICAgICAgICByZXAgPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGFuIGV4YWN0IHJlc3VsdC5cclxuICAgICAgICAvLyBJZiBub3QsIHRoZW4gdGhlcmUgYXJlIGZ1cnRoZXIgZGlnaXRzIGFuZCBtIHdpbGwgYmUgdHJ1dGh5LlxyXG4gICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgIGZpbmFsaXNlKHIsIGUgKyAxLCAxKTtcclxuICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBlLCBDdG9yLnJvdW5kaW5nLCBtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogdGFuKDApICAgICAgICAgPSAwXHJcbiAqIHRhbigtMCkgICAgICAgID0gLTBcclxuICogdGFuKEluZmluaXR5KSAgPSBOYU5cclxuICogdGFuKC1JbmZpbml0eSkgPSBOYU5cclxuICogdGFuKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAudGFuZ2VudCA9IFAudGFuID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDEwO1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0geC5zaW4oKTtcclxuICB4LnMgPSAxO1xyXG4gIHggPSBkaXZpZGUoeCwgbmV3IEN0b3IoMSkubWludXMoeC50aW1lcyh4KSkuc3FydCgpLCBwciArIDEwLCAwKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA9PSAyIHx8IHF1YWRyYW50ID09IDQgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgbiAqIDAgPSAwXHJcbiAqICBuICogTiA9IE5cclxuICogIG4gKiBJID0gSVxyXG4gKiAgMCAqIG4gPSAwXHJcbiAqICAwICogMCA9IDBcclxuICogIDAgKiBOID0gTlxyXG4gKiAgMCAqIEkgPSBOXHJcbiAqICBOICogbiA9IE5cclxuICogIE4gKiAwID0gTlxyXG4gKiAgTiAqIE4gPSBOXHJcbiAqICBOICogSSA9IE5cclxuICogIEkgKiBuID0gSVxyXG4gKiAgSSAqIDAgPSBOXHJcbiAqICBJICogTiA9IE5cclxuICogIEkgKiBJID0gSVxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGlzIERlY2ltYWwgdGltZXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnRpbWVzID0gUC5tdWwgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBjYXJyeSwgZSwgaSwgaywgciwgckwsIHQsIHhkTCwgeWRMLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHhkID0geC5kLFxyXG4gICAgeWQgPSAoeSA9IG5ldyBDdG9yKHkpKS5kO1xyXG5cclxuICB5LnMgKj0geC5zO1xyXG5cclxuICAgLy8gSWYgZWl0aGVyIGlzIE5hTiwgwrFJbmZpbml0eSBvciDCsTAuLi5cclxuICBpZiAoIXhkIHx8ICF4ZFswXSB8fCAheWQgfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKCF5LnMgfHwgeGQgJiYgIXhkWzBdICYmICF5ZCB8fCB5ZCAmJiAheWRbMF0gJiYgIXhkXHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyDCsTAgYW5kIHkgaXMgwrFJbmZpbml0eSwgb3IgeSBpcyDCsTAgYW5kIHggaXMgwrFJbmZpbml0eS5cclxuICAgICAgPyBOYU5cclxuXHJcbiAgICAgIC8vIFJldHVybiDCsUluZmluaXR5IGlmIGVpdGhlciBpcyDCsUluZmluaXR5LlxyXG4gICAgICAvLyBSZXR1cm4gwrEwIGlmIGVpdGhlciBpcyDCsTAuXHJcbiAgICAgIDogIXhkIHx8ICF5ZCA/IHkucyAvIDAgOiB5LnMgKiAwKTtcclxuICB9XHJcblxyXG4gIGUgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpICsgbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICB4ZEwgPSB4ZC5sZW5ndGg7XHJcbiAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBFbnN1cmUgeGQgcG9pbnRzIHRvIHRoZSBsb25nZXIgYXJyYXkuXHJcbiAgaWYgKHhkTCA8IHlkTCkge1xyXG4gICAgciA9IHhkO1xyXG4gICAgeGQgPSB5ZDtcclxuICAgIHlkID0gcjtcclxuICAgIHJMID0geGRMO1xyXG4gICAgeGRMID0geWRMO1xyXG4gICAgeWRMID0gckw7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0aWFsaXNlIHRoZSByZXN1bHQgYXJyYXkgd2l0aCB6ZXJvcy5cclxuICByID0gW107XHJcbiAgckwgPSB4ZEwgKyB5ZEw7XHJcbiAgZm9yIChpID0gckw7IGktLTspIHIucHVzaCgwKTtcclxuXHJcbiAgLy8gTXVsdGlwbHkhXHJcbiAgZm9yIChpID0geWRMOyAtLWkgPj0gMDspIHtcclxuICAgIGNhcnJ5ID0gMDtcclxuICAgIGZvciAoayA9IHhkTCArIGk7IGsgPiBpOykge1xyXG4gICAgICB0ID0gcltrXSArIHlkW2ldICogeGRbayAtIGkgLSAxXSArIGNhcnJ5O1xyXG4gICAgICByW2stLV0gPSB0ICUgQkFTRSB8IDA7XHJcbiAgICAgIGNhcnJ5ID0gdCAvIEJBU0UgfCAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJba10gPSAocltrXSArIGNhcnJ5KSAlIEJBU0UgfCAwO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoOyAhclstLXJMXTspIHIucG9wKCk7XHJcblxyXG4gIGlmIChjYXJyeSkgKytlO1xyXG4gIGVsc2Ugci5zaGlmdCgpO1xyXG5cclxuICB5LmQgPSByO1xyXG4gIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHIsIGUpO1xyXG5cclxuICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZykgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDIsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvQmluYXJ5ID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCAyLCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIG1heGltdW0gb2YgYGRwYFxyXG4gKiBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAgb3IgYHJvdW5kaW5nYCBpZiBgcm1gIGlzIG9taXR0ZWQuXHJcbiAqXHJcbiAqIElmIGBkcGAgaXMgb21pdHRlZCwgcmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0RlY2ltYWxQbGFjZXMgPSBQLnRvRFAgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHggPSBuZXcgQ3Rvcih4KTtcclxuICBpZiAoZHAgPT09IHZvaWQgMCkgcmV0dXJuIHg7XHJcblxyXG4gIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZSh4LCBkcCArIHguZSArIDEsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gcm91bmRlZCB0b1xyXG4gKiBgZHBgIGZpeGVkIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0V4cG9uZW50aWFsID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciBzdHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoZHAgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgdHJ1ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHggPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgZHAgKyAxLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB0cnVlLCBkcCArIDEpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gbm9ybWFsIChmaXhlZC1wb2ludCkgbm90YXRpb24gdG9cclxuICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyBhbmQgcm91bmRlZCB1c2luZyByb3VuZGluZyBtb2RlIGBybWAgb3IgYHJvdW5kaW5nYCBpZiBgcm1gIGlzXHJcbiAqIG9taXR0ZWQuXHJcbiAqXHJcbiAqIEFzIHdpdGggSmF2YVNjcmlwdCBudW1iZXJzLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLCBidXQgZS5nLiAoLTAuMDAwMDEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICpcclxuICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLCBidXQgKC0wLjEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICogKC0wKS50b0ZpeGVkKDEpIGlzICcwLjAnLCBidXQgKC0wLjAxKS50b0ZpeGVkKDEpIGlzICctMC4wJy5cclxuICogKC0wKS50b0ZpeGVkKDMpIGlzICcwLjAwMCcuXHJcbiAqICgtMC41KS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqXHJcbiAqL1xyXG5QLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgdmFyIHN0ciwgeSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChkcCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hlY2tJbnQzMihkcCwgMCwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgeSA9IGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHksIGZhbHNlLCBkcCArIHkuZSArIDEpO1xyXG4gIH1cclxuXHJcbiAgLy8gVG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gYWRkIHRoZSBtaW51cyBzaWduIGxvb2sgYXQgdGhlIHZhbHVlIGJlZm9yZSBpdCB3YXMgcm91bmRlZCxcclxuICAvLyBpLmUuIGxvb2sgYXQgYHhgIHJhdGhlciB0aGFuIGB5YC5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBhcyBhIHNpbXBsZSBmcmFjdGlvbiB3aXRoIGFuIGludGVnZXJcclxuICogbnVtZXJhdG9yIGFuZCBhbiBpbnRlZ2VyIGRlbm9taW5hdG9yLlxyXG4gKlxyXG4gKiBUaGUgZGVub21pbmF0b3Igd2lsbCBiZSBhIHBvc2l0aXZlIG5vbi16ZXJvIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgc3BlY2lmaWVkIG1heGltdW1cclxuICogZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZSB0aGUgbG93ZXN0XHJcbiAqIHZhbHVlIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIG51bWJlciBleGFjdGx5LlxyXG4gKlxyXG4gKiBbbWF4RF0ge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gTWF4aW11bSBkZW5vbWluYXRvci4gSW50ZWdlciA+PSAxIGFuZCA8IEluZmluaXR5LlxyXG4gKlxyXG4gKi9cclxuUC50b0ZyYWN0aW9uID0gZnVuY3Rpb24gKG1heEQpIHtcclxuICB2YXIgZCwgZDAsIGQxLCBkMiwgZSwgaywgbiwgbjAsIG4xLCBwciwgcSwgcixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4ZCkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBuMSA9IGQwID0gbmV3IEN0b3IoMSk7XHJcbiAgZDEgPSBuMCA9IG5ldyBDdG9yKDApO1xyXG5cclxuICBkID0gbmV3IEN0b3IoZDEpO1xyXG4gIGUgPSBkLmUgPSBnZXRQcmVjaXNpb24oeGQpIC0geC5lIC0gMTtcclxuICBrID0gZSAlIExPR19CQVNFO1xyXG4gIGQuZFswXSA9IG1hdGhwb3coMTAsIGsgPCAwID8gTE9HX0JBU0UgKyBrIDogayk7XHJcblxyXG4gIGlmIChtYXhEID09IG51bGwpIHtcclxuXHJcbiAgICAvLyBkIGlzIDEwKiplLCB0aGUgbWluaW11bSBtYXgtZGVub21pbmF0b3IgbmVlZGVkLlxyXG4gICAgbWF4RCA9IGUgPiAwID8gZCA6IG4xO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBuID0gbmV3IEN0b3IobWF4RCk7XHJcbiAgICBpZiAoIW4uaXNJbnQoKSB8fCBuLmx0KG4xKSkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgbik7XHJcbiAgICBtYXhEID0gbi5ndChkKSA/IChlID4gMCA/IGQgOiBuMSkgOiBuO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBuID0gbmV3IEN0b3IoZGlnaXRzVG9TdHJpbmcoeGQpKTtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gZSA9IHhkLmxlbmd0aCAqIExPR19CQVNFICogMjtcclxuXHJcbiAgZm9yICg7OykgIHtcclxuICAgIHEgPSBkaXZpZGUobiwgZCwgMCwgMSwgMSk7XHJcbiAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgaWYgKGQyLmNtcChtYXhEKSA9PSAxKSBicmVhaztcclxuICAgIGQwID0gZDE7XHJcbiAgICBkMSA9IGQyO1xyXG4gICAgZDIgPSBuMTtcclxuICAgIG4xID0gbjAucGx1cyhxLnRpbWVzKGQyKSk7XHJcbiAgICBuMCA9IGQyO1xyXG4gICAgZDIgPSBkO1xyXG4gICAgZCA9IG4ubWludXMocS50aW1lcyhkMikpO1xyXG4gICAgbiA9IGQyO1xyXG4gIH1cclxuXHJcbiAgZDIgPSBkaXZpZGUobWF4RC5taW51cyhkMCksIGQxLCAwLCAxLCAxKTtcclxuICBuMCA9IG4wLnBsdXMoZDIudGltZXMobjEpKTtcclxuICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICBuMC5zID0gbjEucyA9IHgucztcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIGZyYWN0aW9uIGlzIGNsb3NlciB0byB4LCBuMC9kMCBvciBuMS9kMT9cclxuICByID0gZGl2aWRlKG4xLCBkMSwgZSwgMSkubWludXMoeCkuYWJzKCkuY21wKGRpdmlkZShuMCwgZDAsIGUsIDEpLm1pbnVzKHgpLmFicygpKSA8IDFcclxuICAgICAgPyBbbjEsIGQxXSA6IFtuMCwgZDBdO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGJhc2UgMTYsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvSGV4YWRlY2ltYWwgPSBQLnRvSGV4ID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCAxNiwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5lYXJlc3QgbXVsdGlwbGUgb2YgYHlgIGluIHRoZSBkaXJlY3Rpb24gb2Ygcm91bmRpbmdcclxuICogbW9kZSBgcm1gLCBvciBgRGVjaW1hbC5yb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLCB0byB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYWx3YXlzIGhhdmUgdGhlIHNhbWUgc2lnbiBhcyB0aGlzIERlY2ltYWwsIHVubGVzcyBlaXRoZXIgdGhpcyBEZWNpbWFsXHJcbiAqIG9yIGB5YCBpcyBOYU4sIGluIHdoaWNoIGNhc2UgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIGFsc28gYmUgTmFOLlxyXG4gKlxyXG4gKiBUaGUgcmV0dXJuIHZhbHVlIGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgdmFsdWUgb2YgYHByZWNpc2lvbmAuXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIG1hZ25pdHVkZSB0byByb3VuZCB0byBhIG11bHRpcGxlIG9mLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqICd0b05lYXJlc3QoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xyXG4gKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAqXHJcbiAqL1xyXG5QLnRvTmVhcmVzdCA9IGZ1bmN0aW9uICh5LCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB4ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gIGlmICh5ID09IG51bGwpIHtcclxuXHJcbiAgICAvLyBJZiB4IGlzIG5vdCBmaW5pdGUsIHJldHVybiB4LlxyXG4gICAgaWYgKCF4LmQpIHJldHVybiB4O1xyXG5cclxuICAgIHkgPSBuZXcgQ3RvcigxKTtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB9IGVsc2Uge1xyXG4gICAgeSA9IG5ldyBDdG9yKHkpO1xyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geCBpZiB5IGlzIG5vdCBOYU4sIGVsc2UgTmFOLlxyXG4gICAgaWYgKCF4LmQpIHJldHVybiB5LnMgPyB4IDogeTtcclxuXHJcbiAgICAvLyBJZiB5IGlzIG5vdCBmaW5pdGUsIHJldHVybiBJbmZpbml0eSB3aXRoIHRoZSBzaWduIG9mIHggaWYgeSBpcyBJbmZpbml0eSwgZWxzZSBOYU4uXHJcbiAgICBpZiAoIXkuZCkge1xyXG4gICAgICBpZiAoeS5zKSB5LnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSWYgeSBpcyBub3QgemVybywgY2FsY3VsYXRlIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIHkgdG8geC5cclxuICBpZiAoeS5kWzBdKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgeCA9IGRpdmlkZSh4LCB5LCAwLCBybSwgMSkudGltZXMoeSk7XHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBmaW5hbGlzZSh4KTtcclxuXHJcbiAgLy8gSWYgeSBpcyB6ZXJvLCByZXR1cm4gemVybyB3aXRoIHRoZSBzaWduIG9mIHguXHJcbiAgfSBlbHNlIHtcclxuICAgIHkucyA9IHgucztcclxuICAgIHggPSB5O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgY29udmVydGVkIHRvIGEgbnVtYmVyIHByaW1pdGl2ZS5cclxuICogWmVybyBrZWVwcyBpdHMgc2lnbi5cclxuICpcclxuICovXHJcblAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICt0aGlzO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDgsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvT2N0YWwgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nQmluYXJ5KHRoaXMsIDgsIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByYWlzZWQgdG8gdGhlIHBvd2VyIGB5YCwgcm91bmRlZFxyXG4gKiB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBFQ01BU2NyaXB0IGNvbXBsaWFudC5cclxuICpcclxuICogICBwb3coeCwgTmFOKSAgICAgICAgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KHgsIMKxMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAxXHJcblxyXG4gKiAgIHBvdyhOYU4sIG5vbi16ZXJvKSAgICAgICAgICAgICAgICAgICAgPSBOYU5cclxuICogICBwb3coYWJzKHgpID4gMSwgK0luZmluaXR5KSAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KGFicyh4KSA+IDEsIC1JbmZpbml0eSkgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KGFicyh4KSA9PSAxLCDCsUluZmluaXR5KSAgICAgICAgICAgPSBOYU5cclxuICogICBwb3coYWJzKHgpIDwgMSwgK0luZmluaXR5KSAgICAgICAgICAgID0gKzBcclxuICogICBwb3coYWJzKHgpIDwgMSwgLUluZmluaXR5KSAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KCtJbmZpbml0eSwgeSA+IDApICAgICAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygrSW5maW5pdHksIHkgPCAwKSAgICAgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygtSW5maW5pdHksIG9kZCBpbnRlZ2VyID4gMCkgICAgICAgPSAtSW5maW5pdHlcclxuICogICBwb3coLUluZmluaXR5LCBldmVuIGludGVnZXIgPiAwKSAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KC1JbmZpbml0eSwgb2RkIGludGVnZXIgPCAwKSAgICAgICA9IC0wXHJcbiAqICAgcG93KC1JbmZpbml0eSwgZXZlbiBpbnRlZ2VyIDwgMCkgICAgICA9ICswXHJcbiAqICAgcG93KCswLCB5ID4gMCkgICAgICAgICAgICAgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KCswLCB5IDwgMCkgICAgICAgICAgICAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygtMCwgb2RkIGludGVnZXIgPiAwKSAgICAgICAgICAgICAgPSAtMFxyXG4gKiAgIHBvdygtMCwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygtMCwgb2RkIGludGVnZXIgPCAwKSAgICAgICAgICAgICAgPSAtSW5maW5pdHlcclxuICogICBwb3coLTAsIGV2ZW4gaW50ZWdlciA8IDApICAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KGZpbml0ZSB4IDwgMCwgZmluaXRlIG5vbi1pbnRlZ2VyKSA9IE5hTlxyXG4gKlxyXG4gKiBGb3Igbm9uLWludGVnZXIgb3IgdmVyeSBsYXJnZSBleHBvbmVudHMgcG93KHgsIHkpIGlzIGNhbGN1bGF0ZWQgdXNpbmdcclxuICpcclxuICogICB4XnkgPSBleHAoeSpsbih4KSlcclxuICpcclxuICogQXNzdW1pbmcgdGhlIGZpcnN0IDE1IHJvdW5kaW5nIGRpZ2l0cyBhcmUgZWFjaCBlcXVhbGx5IGxpa2VseSB0byBiZSBhbnkgZGlnaXQgMC05LCB0aGVcclxuICogcHJvYmFiaWxpdHkgb2YgYW4gaW5jb3JyZWN0bHkgcm91bmRlZCByZXN1bHRcclxuICogUChbNDldOXsxNH0gfCBbNTBdMHsxNH0pID0gMiAqIDAuMiAqIDEwXi0xNCA9IDRlLTE1ID0gMS8yLjVlKzE0XHJcbiAqIGkuZS4gMSBpbiAyNTAsMDAwLDAwMCwwMDAsMDAwXHJcbiAqXHJcbiAqIElmIGEgcmVzdWx0IGlzIGluY29ycmVjdGx5IHJvdW5kZWQgdGhlIG1heGltdW0gZXJyb3Igd2lsbCBiZSAxIHVscCAodW5pdCBpbiBsYXN0IHBsYWNlKS5cclxuICpcclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgcG93ZXIgdG8gd2hpY2ggdG8gcmFpc2UgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC50b1Bvd2VyID0gUC5wb3cgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBlLCBrLCBwciwgciwgcm0sIHMsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgeW4gPSArKHkgPSBuZXcgQ3Rvcih5KSk7XHJcblxyXG4gIC8vIEVpdGhlciDCsUluZmluaXR5LCBOYU4gb3IgwrEwP1xyXG4gIGlmICgheC5kIHx8ICF5LmQgfHwgIXguZFswXSB8fCAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IobWF0aHBvdygreCwgeW4pKTtcclxuXHJcbiAgeCA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICBpZiAoeC5lcSgxKSkgcmV0dXJuIHg7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoeS5lcSgxKSkgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSk7XHJcblxyXG4gIC8vIHkgZXhwb25lbnRcclxuICBlID0gbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuXHJcbiAgLy8gSWYgeSBpcyBhIHNtYWxsIGludGVnZXIgdXNlIHRoZSAnZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcnIGFsZ29yaXRobS5cclxuICBpZiAoZSA+PSB5LmQubGVuZ3RoIC0gMSAmJiAoayA9IHluIDwgMCA/IC15biA6IHluKSA8PSBNQVhfU0FGRV9JTlRFR0VSKSB7XHJcbiAgICByID0gaW50UG93KEN0b3IsIHgsIGssIHByKTtcclxuICAgIHJldHVybiB5LnMgPCAwID8gbmV3IEN0b3IoMSkuZGl2KHIpIDogZmluYWxpc2UociwgcHIsIHJtKTtcclxuICB9XHJcblxyXG4gIHMgPSB4LnM7XHJcblxyXG4gIC8vIGlmIHggaXMgbmVnYXRpdmVcclxuICBpZiAocyA8IDApIHtcclxuXHJcbiAgICAvLyBpZiB5IGlzIG5vdCBhbiBpbnRlZ2VyXHJcbiAgICBpZiAoZSA8IHkuZC5sZW5ndGggLSAxKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXN1bHQgaXMgcG9zaXRpdmUgaWYgeCBpcyBuZWdhdGl2ZSBhbmQgdGhlIGxhc3QgZGlnaXQgb2YgaW50ZWdlciB5IGlzIGV2ZW4uXHJcbiAgICBpZiAoKHkuZFtlXSAmIDEpID09IDApIHMgPSAxO1xyXG5cclxuICAgIC8vIGlmIHguZXEoLTEpXHJcbiAgICBpZiAoeC5lID09IDAgJiYgeC5kWzBdID09IDEgJiYgeC5kLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgIHgucyA9IHM7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRXN0aW1hdGUgcmVzdWx0IGV4cG9uZW50LlxyXG4gIC8vIHheeSA9IDEwXmUsICB3aGVyZSBlID0geSAqIGxvZzEwKHgpXHJcbiAgLy8gbG9nMTAoeCkgPSBsb2cxMCh4X3NpZ25pZmljYW5kKSArIHhfZXhwb25lbnRcclxuICAvLyBsb2cxMCh4X3NpZ25pZmljYW5kKSA9IGxuKHhfc2lnbmlmaWNhbmQpIC8gbG4oMTApXHJcbiAgayA9IG1hdGhwb3coK3gsIHluKTtcclxuICBlID0gayA9PSAwIHx8ICFpc0Zpbml0ZShrKVxyXG4gICAgPyBtYXRoZmxvb3IoeW4gKiAoTWF0aC5sb2coJzAuJyArIGRpZ2l0c1RvU3RyaW5nKHguZCkpIC8gTWF0aC5MTjEwICsgeC5lICsgMSkpXHJcbiAgICA6IG5ldyBDdG9yKGsgKyAnJykuZTtcclxuXHJcbiAgLy8gRXhwb25lbnQgZXN0aW1hdGUgbWF5IGJlIGluY29ycmVjdCBlLmcuIHg6IDAuOTk5OTk5OTk5OTk5OTk5OTk5LCB5OiAyLjI5LCBlOiAwLCByLmU6IC0xLlxyXG5cclxuICAvLyBPdmVyZmxvdy91bmRlcmZsb3c/XHJcbiAgaWYgKGUgPiBDdG9yLm1heEUgKyAxIHx8IGUgPCBDdG9yLm1pbkUgLSAxKSByZXR1cm4gbmV3IEN0b3IoZSA+IDAgPyBzIC8gMCA6IDApO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIEN0b3Iucm91bmRpbmcgPSB4LnMgPSAxO1xyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgZXh0cmEgZ3VhcmQgZGlnaXRzIG5lZWRlZCB0byBlbnN1cmUgZml2ZSBjb3JyZWN0IHJvdW5kaW5nIGRpZ2l0cyBmcm9tXHJcbiAgLy8gbmF0dXJhbExvZ2FyaXRobSh4KS4gRXhhbXBsZSBvZiBmYWlsdXJlIHdpdGhvdXQgdGhlc2UgZXh0cmEgZGlnaXRzIChwcmVjaXNpb246IDEwKTpcclxuICAvLyBuZXcgRGVjaW1hbCgyLjMyNDU2KS5wb3coJzIwODc5ODc0MzY1MzQ1NjYuNDY0MTEnKVxyXG4gIC8vIHNob3VsZCBiZSAxLjE2MjM3NzgyM2UrNzY0OTE0OTA1MTczODE1LCBidXQgaXMgMS4xNjIzNTU4MjNlKzc2NDkxNDkwNTE3MzgxNVxyXG4gIGsgPSBNYXRoLm1pbigxMiwgKGUgKyAnJykubGVuZ3RoKTtcclxuXHJcbiAgLy8gciA9IHheeSA9IGV4cCh5KmxuKHgpKVxyXG4gIHIgPSBuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIHByICsgaykpLCBwcik7XHJcblxyXG4gIC8vIHIgbWF5IGJlIEluZmluaXR5LCBlLmcuICgwLjk5OTk5OTk5OTk5OTk5OTkpLnBvdygtMWUrNDApXHJcbiAgaWYgKHIuZCkge1xyXG5cclxuICAgIC8vIFRydW5jYXRlIHRvIHRoZSByZXF1aXJlZCBwcmVjaXNpb24gcGx1cyBmaXZlIHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDUsIDEpO1xyXG5cclxuICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5IG9yIFs1MF0wMDAwIGluY3JlYXNlIHRoZSBwcmVjaXNpb24gYnkgMTAgYW5kIHJlY2FsY3VsYXRlXHJcbiAgICAvLyB0aGUgcmVzdWx0LlxyXG4gICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBwciwgcm0pKSB7XHJcbiAgICAgIGUgPSBwciArIDEwO1xyXG5cclxuICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGluY3JlYXNlZCBwcmVjaXNpb24gcGx1cyBmaXZlIHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgICAgciA9IGZpbmFsaXNlKG5hdHVyYWxFeHBvbmVudGlhbCh5LnRpbWVzKG5hdHVyYWxMb2dhcml0aG0oeCwgZSArIGspKSwgZSksIGUgKyA1LCAxKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQgKHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBtYXkgYmUgNCBvciA5KS5cclxuICAgICAgaWYgKCtkaWdpdHNUb1N0cmluZyhyLmQpLnNsaWNlKHByICsgMSwgcHIgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICByID0gZmluYWxpc2UociwgcHIgKyAxLCAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgci5zID0gcztcclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiBgc2RgIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50XHJcbiAqIHRoZSBpbnRlZ2VyIHBhcnQgb2YgdGhlIHZhbHVlIGluIG5vcm1hbCBub3RhdGlvbi5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgdmFyIHN0cixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChzZCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHggPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgc2QsIHJtKTtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHNkIDw9IHguZSB8fCB4LmUgPD0gQ3Rvci50b0V4cE5lZywgc2QpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGBzZGBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYCwgb3IgdG8gYHByZWNpc2lvbmAgYW5kIGByb3VuZGluZ2AgcmVzcGVjdGl2ZWx5IGlmXHJcbiAqIG9taXR0ZWQuXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqICd0b1NEKCkgZGlnaXRzIG91dCBvZiByYW5nZToge3NkfSdcclxuICogJ3RvU0QoKSBkaWdpdHMgbm90IGFuIGludGVnZXI6IHtzZH0nXHJcbiAqICd0b1NEKCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcclxuICogJ3RvU0QoKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcclxuICpcclxuICovXHJcblAudG9TaWduaWZpY2FudERpZ2l0cyA9IFAudG9TRCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKHNkID09PSB2b2lkIDApIHtcclxuICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgRGVjaW1hbCBoYXMgYSBwb3NpdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW5cclxuICogYHRvRXhwUG9zYCwgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW4gYHRvRXhwTmVnYC5cclxuICpcclxuICovXHJcblAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCB0cnVuY2F0ZWQgdG8gYSB3aG9sZSBudW1iZXIuXHJcbiAqXHJcbiAqL1xyXG5QLnRydW5jYXRlZCA9IFAudHJ1bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAxKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqIFVubGlrZSBgdG9TdHJpbmdgLCBuZWdhdGl2ZSB6ZXJvIHdpbGwgaW5jbHVkZSB0aGUgbWludXMgc2lnbi5cclxuICpcclxuICovXHJcblAudmFsdWVPZiA9IFAudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG5cclxuICByZXR1cm4geC5pc05lZygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbi8vIEFkZCBhbGlhc2VzIHRvIG1hdGNoIEJpZ0RlY2ltYWwgbWV0aG9kIG5hbWVzLlxyXG4vLyBQLmFkZCA9IFAucGx1cztcclxuUC5zdWJ0cmFjdCA9IFAubWludXM7XHJcblAubXVsdGlwbHkgPSBQLnRpbWVzO1xyXG5QLmRpdmlkZSA9IFAuZGl2O1xyXG5QLnJlbWFpbmRlciA9IFAubW9kO1xyXG5QLmNvbXBhcmVUbyA9IFAuY21wO1xyXG5QLm5lZ2F0ZSA9IFAubmVnO1xyXG4gKi9cclxuXHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBEZWNpbWFsLnByb3RvdHlwZSAoUCkgYW5kL29yIERlY2ltYWwgbWV0aG9kcywgYW5kIHRoZWlyIGNhbGxlcnMuXHJcblxyXG5cclxuLypcclxuICogIGRpZ2l0c1RvU3RyaW5nICAgICAgICAgICBQLmN1YmVSb290LCBQLmxvZ2FyaXRobSwgUC5zcXVhcmVSb290LCBQLnRvRnJhY3Rpb24sIFAudG9Qb3dlcixcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pdGVUb1N0cmluZywgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAqICBjaGVja0ludDMyICAgICAgICAgICAgICAgUC50b0RlY2ltYWxQbGFjZXMsIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvTmVhcmVzdCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvUHJlY2lzaW9uLCBQLnRvU2lnbmlmaWNhbnREaWdpdHMsIHRvU3RyaW5nQmluYXJ5LCByYW5kb21cclxuICogIGNoZWNrUm91bmRpbmdEaWdpdHMgICAgICBQLmxvZ2FyaXRobSwgUC50b1Bvd2VyLCBuYXR1cmFsRXhwb25lbnRpYWwsIG5hdHVyYWxMb2dhcml0aG1cclxuICogIGNvbnZlcnRCYXNlICAgICAgICAgICAgICB0b1N0cmluZ0JpbmFyeSwgcGFyc2VPdGhlclxyXG4gKiAgY29zICAgICAgICAgICAgICAgICAgICAgIFAuY29zXHJcbiAqICBkaXZpZGUgICAgICAgICAgICAgICAgICAgUC5hdGFuaCwgUC5jdWJlUm9vdCwgUC5kaXZpZGVkQnksIFAuZGl2aWRlZFRvSW50ZWdlckJ5LFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLm1vZHVsbywgUC5zcXVhcmVSb290LCBQLnRhbiwgUC50YW5oLCBQLnRvRnJhY3Rpb24sXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b05lYXJlc3QsIHRvU3RyaW5nQmluYXJ5LCBuYXR1cmFsRXhwb25lbnRpYWwsIG5hdHVyYWxMb2dhcml0aG0sXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdGF5bG9yU2VyaWVzLCBhdGFuMiwgcGFyc2VPdGhlclxyXG4gKiAgZmluYWxpc2UgICAgICAgICAgICAgICAgIFAuYWJzb2x1dGVWYWx1ZSwgUC5hdGFuLCBQLmF0YW5oLCBQLmNlaWwsIFAuY29zLCBQLmNvc2gsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jdWJlUm9vdCwgUC5kaXZpZGVkVG9JbnRlZ2VyQnksIFAuZmxvb3IsIFAubG9nYXJpdGhtLCBQLm1pbnVzLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAubW9kdWxvLCBQLm5lZ2F0ZWQsIFAucGx1cywgUC5yb3VuZCwgUC5zaW4sIFAuc2luaCwgUC5zcXVhcmVSb290LFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudGFuLCBQLnRpbWVzLCBQLnRvRGVjaW1hbFBsYWNlcywgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b05lYXJlc3QsIFAudG9Qb3dlciwgUC50b1ByZWNpc2lvbiwgUC50b1NpZ25pZmljYW50RGlnaXRzLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudHJ1bmNhdGVkLCBkaXZpZGUsIGdldExuMTAsIGdldFBpLCBuYXR1cmFsRXhwb25lbnRpYWwsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJhbExvZ2FyaXRobSwgY2VpbCwgZmxvb3IsIHJvdW5kLCB0cnVuY1xyXG4gKiAgZmluaXRlVG9TdHJpbmcgICAgICAgICAgIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvUHJlY2lzaW9uLCBQLnRvU3RyaW5nLCBQLnZhbHVlT2YsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdCaW5hcnlcclxuICogIGdldEJhc2UxMEV4cG9uZW50ICAgICAgICBQLm1pbnVzLCBQLnBsdXMsIFAudGltZXMsIHBhcnNlT3RoZXJcclxuICogIGdldExuMTAgICAgICAgICAgICAgICAgICBQLmxvZ2FyaXRobSwgbmF0dXJhbExvZ2FyaXRobVxyXG4gKiAgZ2V0UGkgICAgICAgICAgICAgICAgICAgIFAuYWNvcywgUC5hc2luLCBQLmF0YW4sIHRvTGVzc1RoYW5IYWxmUGksIGF0YW4yXHJcbiAqICBnZXRQcmVjaXNpb24gICAgICAgICAgICAgUC5wcmVjaXNpb24sIFAudG9GcmFjdGlvblxyXG4gKiAgZ2V0WmVyb1N0cmluZyAgICAgICAgICAgIGRpZ2l0c1RvU3RyaW5nLCBmaW5pdGVUb1N0cmluZ1xyXG4gKiAgaW50UG93ICAgICAgICAgICAgICAgICAgIFAudG9Qb3dlciwgcGFyc2VPdGhlclxyXG4gKiAgaXNPZGQgICAgICAgICAgICAgICAgICAgIHRvTGVzc1RoYW5IYWxmUGlcclxuICogIG1heE9yTWluICAgICAgICAgICAgICAgICBtYXgsIG1pblxyXG4gKiAgbmF0dXJhbEV4cG9uZW50aWFsICAgICAgIFAubmF0dXJhbEV4cG9uZW50aWFsLCBQLnRvUG93ZXJcclxuICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICBQLmFjb3NoLCBQLmFzaW5oLCBQLmF0YW5oLCBQLmxvZ2FyaXRobSwgUC5uYXR1cmFsTG9nYXJpdGhtLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9Qb3dlciwgbmF0dXJhbEV4cG9uZW50aWFsXHJcbiAqICBub25GaW5pdGVUb1N0cmluZyAgICAgICAgZmluaXRlVG9TdHJpbmcsIHRvU3RyaW5nQmluYXJ5XHJcbiAqICBwYXJzZURlY2ltYWwgICAgICAgICAgICAgRGVjaW1hbFxyXG4gKiAgcGFyc2VPdGhlciAgICAgICAgICAgICAgIERlY2ltYWxcclxuICogIHNpbiAgICAgICAgICAgICAgICAgICAgICBQLnNpblxyXG4gKiAgdGF5bG9yU2VyaWVzICAgICAgICAgICAgIFAuY29zaCwgUC5zaW5oLCBjb3MsIHNpblxyXG4gKiAgdG9MZXNzVGhhbkhhbGZQaSAgICAgICAgIFAuY29zLCBQLnNpblxyXG4gKiAgdG9TdHJpbmdCaW5hcnkgICAgICAgICAgIFAudG9CaW5hcnksIFAudG9IZXhhZGVjaW1hbCwgUC50b09jdGFsXHJcbiAqICB0cnVuY2F0ZSAgICAgICAgICAgICAgICAgaW50UG93XHJcbiAqXHJcbiAqICBUaHJvd3M6ICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIFAucHJlY2lzaW9uLCBQLnRvRnJhY3Rpb24sIGNoZWNrSW50MzIsIGdldExuMTAsIGdldFBpLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyYWxMb2dhcml0aG0sIGNvbmZpZywgcGFyc2VPdGhlciwgcmFuZG9tLCBEZWNpbWFsXHJcbiAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIGRpZ2l0c1RvU3RyaW5nKGQpIHtcclxuICB2YXIgaSwgaywgd3MsXHJcbiAgICBpbmRleE9mTGFzdFdvcmQgPSBkLmxlbmd0aCAtIDEsXHJcbiAgICBzdHIgPSAnJyxcclxuICAgIHcgPSBkWzBdO1xyXG5cclxuICBpZiAoaW5kZXhPZkxhc3RXb3JkID4gMCkge1xyXG4gICAgc3RyICs9IHc7XHJcbiAgICBmb3IgKGkgPSAxOyBpIDwgaW5kZXhPZkxhc3RXb3JkOyBpKyspIHtcclxuICAgICAgd3MgPSBkW2ldICsgJyc7XHJcbiAgICAgIGsgPSBMT0dfQkFTRSAtIHdzLmxlbmd0aDtcclxuICAgICAgaWYgKGspIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgICBzdHIgKz0gd3M7XHJcbiAgICB9XHJcblxyXG4gICAgdyA9IGRbaV07XHJcbiAgICB3cyA9IHcgKyAnJztcclxuICAgIGsgPSBMT0dfQkFTRSAtIHdzLmxlbmd0aDtcclxuICAgIGlmIChrKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2UgaWYgKHcgPT09IDApIHtcclxuICAgIHJldHVybiAnMCc7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3Mgb2YgbGFzdCB3LlxyXG4gIGZvciAoOyB3ICUgMTAgPT09IDA7KSB3IC89IDEwO1xyXG5cclxuICByZXR1cm4gc3RyICsgdztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSW50MzIoaSwgbWluLCBtYXgpIHtcclxuICBpZiAoaSAhPT0gfn5pIHx8IGkgPCBtaW4gfHwgaSA+IG1heCkge1xyXG4gICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgaSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLypcclxuICogQ2hlY2sgNSByb3VuZGluZyBkaWdpdHMgaWYgYHJlcGVhdGluZ2AgaXMgbnVsbCwgNCBvdGhlcndpc2UuXHJcbiAqIGByZXBlYXRpbmcgPT0gbnVsbGAgaWYgY2FsbGVyIGlzIGBsb2dgIG9yIGBwb3dgLFxyXG4gKiBgcmVwZWF0aW5nICE9IG51bGxgIGlmIGNhbGxlciBpcyBgbmF0dXJhbExvZ2FyaXRobWAgb3IgYG5hdHVyYWxFeHBvbmVudGlhbGAuXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja1JvdW5kaW5nRGlnaXRzKGQsIGksIHJtLCByZXBlYXRpbmcpIHtcclxuICB2YXIgZGksIGssIHIsIHJkO1xyXG5cclxuICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgYXJyYXkgZC5cclxuICBmb3IgKGsgPSBkWzBdOyBrID49IDEwOyBrIC89IDEwKSAtLWk7XHJcblxyXG4gIC8vIElzIHRoZSByb3VuZGluZyBkaWdpdCBpbiB0aGUgZmlyc3Qgd29yZCBvZiBkP1xyXG4gIGlmICgtLWkgPCAwKSB7XHJcbiAgICBpICs9IExPR19CQVNFO1xyXG4gICAgZGkgPSAwO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgaSAlPSBMT0dfQkFTRTtcclxuICB9XHJcblxyXG4gIC8vIGkgaXMgdGhlIGluZGV4ICgwIC0gNikgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gIC8vIEUuZy4gaWYgd2l0aGluIHRoZSB3b3JkIDM0ODc1NjMgdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0IGlzIDUsXHJcbiAgLy8gdGhlbiBpID0gNCwgayA9IDEwMDAsIHJkID0gMzQ4NzU2MyAlIDEwMDAgPSA1NjNcclxuICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuICByZCA9IGRbZGldICUgayB8IDA7XHJcblxyXG4gIGlmIChyZXBlYXRpbmcgPT0gbnVsbCkge1xyXG4gICAgaWYgKGkgPCAzKSB7XHJcbiAgICAgIGlmIChpID09IDApIHJkID0gcmQgLyAxMDAgfCAwO1xyXG4gICAgICBlbHNlIGlmIChpID09IDEpIHJkID0gcmQgLyAxMCB8IDA7XHJcbiAgICAgIHIgPSBybSA8IDQgJiYgcmQgPT0gOTk5OTkgfHwgcm0gPiAzICYmIHJkID09IDQ5OTk5IHx8IHJkID09IDUwMDAwIHx8IHJkID09IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gKHJtIDwgNCAmJiByZCArIDEgPT0gayB8fCBybSA+IDMgJiYgcmQgKyAxID09IGsgLyAyKSAmJlxyXG4gICAgICAgIChkW2RpICsgMV0gLyBrIC8gMTAwIHwgMCkgPT0gbWF0aHBvdygxMCwgaSAtIDIpIC0gMSB8fFxyXG4gICAgICAgICAgKHJkID09IGsgLyAyIHx8IHJkID09IDApICYmIChkW2RpICsgMV0gLyBrIC8gMTAwIHwgMCkgPT0gMDtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKGkgPCA0KSB7XHJcbiAgICAgIGlmIChpID09IDApIHJkID0gcmQgLyAxMDAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAyKSByZCA9IHJkIC8gMTAgfCAwO1xyXG4gICAgICByID0gKHJlcGVhdGluZyB8fCBybSA8IDQpICYmIHJkID09IDk5OTkgfHwgIXJlcGVhdGluZyAmJiBybSA+IDMgJiYgcmQgPT0gNDk5OTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHIgPSAoKHJlcGVhdGluZyB8fCBybSA8IDQpICYmIHJkICsgMSA9PSBrIHx8XHJcbiAgICAgICghcmVwZWF0aW5nICYmIHJtID4gMykgJiYgcmQgKyAxID09IGsgLyAyKSAmJlxyXG4gICAgICAgIChkW2RpICsgMV0gLyBrIC8gMTAwMCB8IDApID09IG1hdGhwb3coMTAsIGkgLSAzKSAtIDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbi8vIENvbnZlcnQgc3RyaW5nIG9mIGBiYXNlSW5gIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYGJhc2VPdXRgLlxyXG4vLyBFZy4gY29udmVydEJhc2UoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuLy8gRWcuIGNvbnZlcnRCYXNlKCdmZicsIDE2LCAxMCkgcmV0dXJucyBbMiwgNSwgNV0uXHJcbmZ1bmN0aW9uIGNvbnZlcnRCYXNlKHN0ciwgYmFzZUluLCBiYXNlT3V0KSB7XHJcbiAgdmFyIGosXHJcbiAgICBhcnIgPSBbMF0sXHJcbiAgICBhcnJMLFxyXG4gICAgaSA9IDAsXHJcbiAgICBzdHJMID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgZm9yICg7IGkgPCBzdHJMOykge1xyXG4gICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOykgYXJyW2FyckxdICo9IGJhc2VJbjtcclxuICAgIGFyclswXSArPSBOVU1FUkFMUy5pbmRleE9mKHN0ci5jaGFyQXQoaSsrKSk7XHJcbiAgICBmb3IgKGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgIGlmIChhcnJbaiArIDFdID09PSB2b2lkIDApIGFycltqICsgMV0gPSAwO1xyXG4gICAgICAgIGFycltqICsgMV0gKz0gYXJyW2pdIC8gYmFzZU91dCB8IDA7XHJcbiAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBhcnIucmV2ZXJzZSgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogY29zKHgpID0gMSAtIHheMi8yISArIHheNC80ISAtIC4uLlxyXG4gKiB8eHwgPCBwaS8yXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3NpbmUoQ3RvciwgeCkge1xyXG4gIHZhciBrLCB5LFxyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBjb3MoNHgpID0gOCooY29zXjQoeCkgLSBjb3NeMih4KSkgKyAxXHJcbiAgLy8gaS5lLiBjb3MoeCkgPSA4Kihjb3NeNCh4LzQpIC0gY29zXjIoeC80KSkgKyAxXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICBpZiAobGVuIDwgMzIpIHtcclxuICAgIGsgPSBNYXRoLmNlaWwobGVuIC8gMyk7XHJcbiAgICB5ID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gMTY7XHJcbiAgICB5ID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gKz0gaztcclxuXHJcbiAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAxLCB4LnRpbWVzKHkpLCBuZXcgQ3RvcigxKSk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgZm9yICh2YXIgaSA9IGs7IGktLTspIHtcclxuICAgIHZhciBjb3MyeCA9IHgudGltZXMoeCk7XHJcbiAgICB4ID0gY29zMngudGltZXMoY29zMngpLm1pbnVzKGNvczJ4KS50aW1lcyg4KS5wbHVzKDEpO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gLT0gaztcclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS5cclxuICovXHJcbnZhciBkaXZpZGUgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAvLyBBc3N1bWVzIG5vbi16ZXJvIHggYW5kIGssIGFuZCBoZW5jZSBub24temVybyByZXN1bHQuXHJcbiAgZnVuY3Rpb24gbXVsdGlwbHlJbnRlZ2VyKHgsIGssIGJhc2UpIHtcclxuICAgIHZhciB0ZW1wLFxyXG4gICAgICBjYXJyeSA9IDAsXHJcbiAgICAgIGkgPSB4Lmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKHggPSB4LnNsaWNlKCk7IGktLTspIHtcclxuICAgICAgdGVtcCA9IHhbaV0gKiBrICsgY2Fycnk7XHJcbiAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZSB8IDA7XHJcbiAgICAgIGNhcnJ5ID0gdGVtcCAvIGJhc2UgfCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYXJyeSkgeC51bnNoaWZ0KGNhcnJ5KTtcclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYiwgYUwsIGJMKSB7XHJcbiAgICB2YXIgaSwgcjtcclxuXHJcbiAgICBpZiAoYUwgIT0gYkwpIHtcclxuICAgICAgciA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGkgPSByID0gMDsgaSA8IGFMOyBpKyspIHtcclxuICAgICAgICBpZiAoYVtpXSAhPSBiW2ldKSB7XHJcbiAgICAgICAgICByID0gYVtpXSA+IGJbaV0gPyAxIDogLTE7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXHJcbiAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgYVthTF0gLT0gaTtcclxuICAgICAgaSA9IGFbYUxdIDwgYlthTF0gPyAxIDogMDtcclxuICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOykgYS5zaGlmdCgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uICh4LCB5LCBwciwgcm0sIGRwLCBiYXNlKSB7XHJcbiAgICB2YXIgY21wLCBlLCBpLCBrLCBsb2dCYXNlLCBtb3JlLCBwcm9kLCBwcm9kTCwgcSwgcWQsIHJlbSwgcmVtTCwgcmVtMCwgc2QsIHQsIHhpLCB4TCwgeWQwLFxyXG4gICAgICB5TCwgeXosXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBzaWduID0geC5zID09IHkucyA/IDEgOiAtMSxcclxuICAgICAgeGQgPSB4LmQsXHJcbiAgICAgIHlkID0geS5kO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4sIEluZmluaXR5IG9yIDA/XHJcbiAgICBpZiAoIXhkIHx8ICF4ZFswXSB8fCAheWQgfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IEN0b3IoLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgTmFOLCBvciBib3RoIEluZmluaXR5IG9yIDAuXHJcbiAgICAgICAgIXgucyB8fCAheS5zIHx8ICh4ZCA/IHlkICYmIHhkWzBdID09IHlkWzBdIDogIXlkKSA/IE5hTiA6XHJcblxyXG4gICAgICAgIC8vIFJldHVybiDCsTAgaWYgeCBpcyAwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyAwLlxyXG4gICAgICAgIHhkICYmIHhkWzBdID09IDAgfHwgIXlkID8gc2lnbiAqIDAgOiBzaWduIC8gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGJhc2UpIHtcclxuICAgICAgbG9nQmFzZSA9IDE7XHJcbiAgICAgIGUgPSB4LmUgLSB5LmU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgbG9nQmFzZSA9IExPR19CQVNFO1xyXG4gICAgICBlID0gbWF0aGZsb29yKHguZSAvIGxvZ0Jhc2UpIC0gbWF0aGZsb29yKHkuZSAvIGxvZ0Jhc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHlMID0geWQubGVuZ3RoO1xyXG4gICAgeEwgPSB4ZC5sZW5ndGg7XHJcbiAgICBxID0gbmV3IEN0b3Ioc2lnbik7XHJcbiAgICBxZCA9IHEuZCA9IFtdO1xyXG5cclxuICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhhbiBlLlxyXG4gICAgLy8gVGhlIGRpZ2l0IGFycmF5IG9mIGEgRGVjaW1hbCBmcm9tIHRvU3RyaW5nQmluYXJ5IG1heSBoYXZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0gMDsgeWRbaV0gPT0gKHhkW2ldIHx8IDApOyBpKyspO1xyXG5cclxuICAgIGlmICh5ZFtpXSA+ICh4ZFtpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgIGlmIChwciA9PSBudWxsKSB7XHJcbiAgICAgIHNkID0gcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfSBlbHNlIGlmIChkcCkge1xyXG4gICAgICBzZCA9IHByICsgKHguZSAtIHkuZSkgKyAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2QgPSBwcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2QgPCAwKSB7XHJcbiAgICAgIHFkLnB1c2goMSk7XHJcbiAgICAgIG1vcmUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIENvbnZlcnQgcHJlY2lzaW9uIGluIG51bWJlciBvZiBiYXNlIDEwIGRpZ2l0cyB0byBiYXNlIDFlNyBkaWdpdHMuXHJcbiAgICAgIHNkID0gc2QgLyBsb2dCYXNlICsgMiB8IDA7XHJcbiAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgLy8gZGl2aXNvciA8IDFlN1xyXG4gICAgICBpZiAoeUwgPT0gMSkge1xyXG4gICAgICAgIGsgPSAwO1xyXG4gICAgICAgIHlkID0geWRbMF07XHJcbiAgICAgICAgc2QrKztcclxuXHJcbiAgICAgICAgLy8gayBpcyB0aGUgY2FycnkuXHJcbiAgICAgICAgZm9yICg7IChpIDwgeEwgfHwgaykgJiYgc2QtLTsgaSsrKSB7XHJcbiAgICAgICAgICB0ID0gayAqIGJhc2UgKyAoeGRbaV0gfHwgMCk7XHJcbiAgICAgICAgICBxZFtpXSA9IHQgLyB5ZCB8IDA7XHJcbiAgICAgICAgICBrID0gdCAlIHlkIHwgMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1vcmUgPSBrIHx8IGkgPCB4TDtcclxuXHJcbiAgICAgIC8vIGRpdmlzb3IgPj0gMWU3XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGlzZSB4ZCBhbmQgeWQgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5ZCBpcyA+PSBiYXNlLzJcclxuICAgICAgICBrID0gYmFzZSAvICh5ZFswXSArIDEpIHwgMDtcclxuXHJcbiAgICAgICAgaWYgKGsgPiAxKSB7XHJcbiAgICAgICAgICB5ZCA9IG11bHRpcGx5SW50ZWdlcih5ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICB4ZCA9IG11bHRpcGx5SW50ZWdlcih4ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICB5TCA9IHlkLmxlbmd0aDtcclxuICAgICAgICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGkgPSB5TDtcclxuICAgICAgICByZW0gPSB4ZC5zbGljZSgwLCB5TCk7XHJcbiAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIEFkZCB6ZXJvcyB0byBtYWtlIHJlbWFpbmRlciBhcyBsb25nIGFzIGRpdmlzb3IuXHJcbiAgICAgICAgZm9yICg7IHJlbUwgPCB5TDspIHJlbVtyZW1MKytdID0gMDtcclxuXHJcbiAgICAgICAgeXogPSB5ZC5zbGljZSgpO1xyXG4gICAgICAgIHl6LnVuc2hpZnQoMCk7XHJcbiAgICAgICAgeWQwID0geWRbMF07XHJcblxyXG4gICAgICAgIGlmICh5ZFsxXSA+PSBiYXNlIC8gMikgKyt5ZDA7XHJcblxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIGsgPSAwO1xyXG5cclxuICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgY21wID0gY29tcGFyZSh5ZCwgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChjbXAgPCAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdHJpYWwgZGlnaXQsIGsuXHJcbiAgICAgICAgICAgIHJlbTAgPSByZW1bMF07XHJcbiAgICAgICAgICAgIGlmICh5TCAhPSByZW1MKSByZW0wID0gcmVtMCAqIGJhc2UgKyAocmVtWzFdIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgLy8gayB3aWxsIGJlIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGsgPSByZW0wIC8geWQwIHwgMDtcclxuXHJcbiAgICAgICAgICAgIC8vICBBbGdvcml0aG06XHJcbiAgICAgICAgICAgIC8vICAxLiBwcm9kdWN0ID0gZGl2aXNvciAqIHRyaWFsIGRpZ2l0IChrKVxyXG4gICAgICAgICAgICAvLyAgMi4gaWYgcHJvZHVjdCA+IHJlbWFpbmRlcjogcHJvZHVjdCAtPSBkaXZpc29yLCBrLS1cclxuICAgICAgICAgICAgLy8gIDMuIHJlbWFpbmRlciAtPSBwcm9kdWN0XHJcbiAgICAgICAgICAgIC8vICA0LiBpZiBwcm9kdWN0IHdhcyA8IHJlbWFpbmRlciBhdCAyOlxyXG4gICAgICAgICAgICAvLyAgICA1LiBjb21wYXJlIG5ldyByZW1haW5kZXIgYW5kIGRpdmlzb3JcclxuICAgICAgICAgICAgLy8gICAgNi4gSWYgcmVtYWluZGVyID4gZGl2aXNvcjogcmVtYWluZGVyIC09IGRpdmlzb3IsIGsrK1xyXG5cclxuICAgICAgICAgICAgaWYgKGsgPiAxKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGsgPj0gYmFzZSkgayA9IGJhc2UgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvciAqIHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAgIHByb2QgPSBtdWx0aXBseUludGVnZXIoeWQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPiByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgaWYgKGNtcCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBrLS07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChwcm9kLCB5TCA8IHByb2RMID8geXogOiB5ZCwgcHJvZEwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gY21wIGlzIC0xLlxyXG4gICAgICAgICAgICAgIC8vIElmIGsgaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHlkIGFuZCByZW0gYWdhaW4gYmVsb3csIHNvIGNoYW5nZSBjbXAgdG8gMVxyXG4gICAgICAgICAgICAgIC8vIHRvIGF2b2lkIGl0LiBJZiBrIGlzIDEgdGhlcmUgaXMgYSBuZWVkIHRvIGNvbXBhcmUgeWQgYW5kIHJlbSBhZ2FpbiBiZWxvdy5cclxuICAgICAgICAgICAgICBpZiAoayA9PSAwKSBjbXAgPSBrID0gMTtcclxuICAgICAgICAgICAgICBwcm9kID0geWQuc2xpY2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKHByb2RMIDwgcmVtTCkgcHJvZC51bnNoaWZ0KDApO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgc3VidHJhY3QocmVtLCBwcm9kLCByZW1MLCBiYXNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHByb2R1Y3Qgd2FzIDwgcHJldmlvdXMgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHlkLCByZW0sIHlMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IG5ldyByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgaWYgKGNtcCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIGsrKztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocmVtLCB5TCA8IHJlbUwgPyB5eiA6IHlkLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgaysrO1xyXG4gICAgICAgICAgICByZW0gPSBbMF07XHJcbiAgICAgICAgICB9ICAgIC8vIGlmIGNtcCA9PT0gMSwgayB3aWxsIGJlIDBcclxuXHJcbiAgICAgICAgICAvLyBBZGQgdGhlIG5leHQgZGlnaXQsIGssIHRvIHRoZSByZXN1bHQgYXJyYXkuXHJcbiAgICAgICAgICBxZFtpKytdID0gaztcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChjbXAgJiYgcmVtWzBdKSB7XHJcbiAgICAgICAgICAgIHJlbVtyZW1MKytdID0geGRbeGldIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZW0gPSBbeGRbeGldXTtcclxuICAgICAgICAgICAgcmVtTCA9IDE7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gd2hpbGUgKCh4aSsrIDwgeEwgfHwgcmVtWzBdICE9PSB2b2lkIDApICYmIHNkLS0pO1xyXG5cclxuICAgICAgICBtb3JlID0gcmVtWzBdICE9PSB2b2lkIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExlYWRpbmcgemVybz9cclxuICAgICAgaWYgKCFxZFswXSkgcWQuc2hpZnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb2dCYXNlIGlzIDEgd2hlbiBkaXZpZGUgaXMgYmVpbmcgdXNlZCBmb3IgYmFzZSBjb252ZXJzaW9uLlxyXG4gICAgaWYgKGxvZ0Jhc2UgPT0gMSkge1xyXG4gICAgICBxLmUgPSBlO1xyXG4gICAgICBpbmV4YWN0ID0gbW9yZTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBUbyBjYWxjdWxhdGUgcS5lLCBmaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgcWRbMF0uXHJcbiAgICAgIGZvciAoaSA9IDEsIGsgPSBxZFswXTsgayA+PSAxMDsgayAvPSAxMCkgaSsrO1xyXG4gICAgICBxLmUgPSBpICsgZSAqIGxvZ0Jhc2UgLSAxO1xyXG5cclxuICAgICAgZmluYWxpc2UocSwgZHAgPyBwciArIHEuZSArIDEgOiBwciwgcm0sIG1vcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBxO1xyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5cclxuLypcclxuICogUm91bmQgYHhgIHRvIGBzZGAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICogQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cclxuICovXHJcbiBmdW5jdGlvbiBmaW5hbGlzZSh4LCBzZCwgcm0sIGlzVHJ1bmNhdGVkKSB7XHJcbiAgdmFyIGRpZ2l0cywgaSwgaiwgaywgcmQsIHJvdW5kVXAsIHcsIHhkLCB4ZGksXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgLy8gRG9uJ3Qgcm91bmQgaWYgc2QgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAgb3V0OiBpZiAoc2QgIT0gbnVsbCkge1xyXG4gICAgeGQgPSB4LmQ7XHJcblxyXG4gICAgLy8gSW5maW5pdHkvTmFOLlxyXG4gICAgaWYgKCF4ZCkgcmV0dXJuIHg7XHJcblxyXG4gICAgLy8gcmQ6IHRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAvLyB3OiB0aGUgd29yZCBvZiB4ZCBjb250YWluaW5nIHJkLCBhIGJhc2UgMWU3IG51bWJlci5cclxuICAgIC8vIHhkaTogdGhlIGluZGV4IG9mIHcgd2l0aGluIHhkLlxyXG4gICAgLy8gZGlnaXRzOiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB3LlxyXG4gICAgLy8gaTogd2hhdCB3b3VsZCBiZSB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcgaWYgYWxsIHRoZSBudW1iZXJzIHdlcmUgNyBkaWdpdHMgbG9uZyAoaS5lLiBpZlxyXG4gICAgLy8gdGhleSBoYWQgbGVhZGluZyB6ZXJvcylcclxuICAgIC8vIGo6IGlmID4gMCwgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gdyAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXHJcblxyXG4gICAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheSB4ZC5cclxuICAgIGZvciAoZGlnaXRzID0gMSwgayA9IHhkWzBdOyBrID49IDEwOyBrIC89IDEwKSBkaWdpdHMrKztcclxuICAgIGkgPSBzZCAtIGRpZ2l0cztcclxuXHJcbiAgICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgeGQ/XHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgaSArPSBMT0dfQkFTRTtcclxuICAgICAgaiA9IHNkO1xyXG4gICAgICB3ID0geGRbeGRpID0gMF07XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygdy5cclxuICAgICAgcmQgPSB3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpICUgMTAgfCAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeGRpID0gTWF0aC5jZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcbiAgICAgIGsgPSB4ZC5sZW5ndGg7XHJcbiAgICAgIGlmICh4ZGkgPj0gaykge1xyXG4gICAgICAgIGlmIChpc1RydW5jYXRlZCkge1xyXG5cclxuICAgICAgICAgIC8vIE5lZWRlZCBieSBgbmF0dXJhbEV4cG9uZW50aWFsYCwgYG5hdHVyYWxMb2dhcml0aG1gIGFuZCBgc3F1YXJlUm9vdGAuXHJcbiAgICAgICAgICBmb3IgKDsgaysrIDw9IHhkaTspIHhkLnB1c2goMCk7XHJcbiAgICAgICAgICB3ID0gcmQgPSAwO1xyXG4gICAgICAgICAgZGlnaXRzID0gMTtcclxuICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3ID0gayA9IHhkW3hkaV07XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB3LlxyXG4gICAgICAgIGZvciAoZGlnaXRzID0gMTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcuXHJcbiAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdywgYWRqdXN0ZWQgZm9yIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIHcgaXMgZ2l2ZW4gYnkgTE9HX0JBU0UgLSBkaWdpdHMuXHJcbiAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIGRpZ2l0cztcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgICAgcmQgPSBqIDwgMCA/IDAgOiB3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpICUgMTAgfCAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xyXG4gICAgaXNUcnVuY2F0ZWQgPSBpc1RydW5jYXRlZCB8fCBzZCA8IDAgfHxcclxuICAgICAgeGRbeGRpICsgMV0gIT09IHZvaWQgMCB8fCAoaiA8IDAgPyB3IDogdyAlIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSk7XHJcblxyXG4gICAgLy8gVGhlIGV4cHJlc3Npb24gYHcgJSBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSlgIHJldHVybnMgYWxsIHRoZSBkaWdpdHMgb2YgdyB0byB0aGUgcmlnaHRcclxuICAgIC8vIG9mIHRoZSBkaWdpdCBhdCAobGVmdC10by1yaWdodCkgaW5kZXggaiwgZS5nLiBpZiB3IGlzIDkwODcxNCBhbmQgaiBpcyAyLCB0aGUgZXhwcmVzc2lvblxyXG4gICAgLy8gd2lsbCBnaXZlIDcxNC5cclxuXHJcbiAgICByb3VuZFVwID0gcm0gPCA0XHJcbiAgICAgID8gKHJkIHx8IGlzVHJ1bmNhdGVkKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgOiByZCA+IDUgfHwgcmQgPT0gNSAmJiAocm0gPT0gNCB8fCBpc1RydW5jYXRlZCB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGRpZ2l0IHRvIHRoZSBsZWZ0IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBvZGQuXHJcbiAgICAgICAgKChpID4gMCA/IGogPiAwID8gdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGopIDogMCA6IHhkW3hkaSAtIDFdKSAlIDEwKSAmIDEgfHxcclxuICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICBpZiAoc2QgPCAxIHx8ICF4ZFswXSkge1xyXG4gICAgICB4ZC5sZW5ndGggPSAwO1xyXG4gICAgICBpZiAocm91bmRVcCkge1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHNkIHRvIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgIHNkIC09IHguZSArIDE7XHJcblxyXG4gICAgICAgIC8vIDEsIDAuMSwgMC4wMSwgMC4wMDEsIDAuMDAwMSBldGMuXHJcbiAgICAgICAgeGRbMF0gPSBtYXRocG93KDEwLCAoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFKTtcclxuICAgICAgICB4LmUgPSAtc2QgfHwgMDtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4ZFswXSA9IHguZSA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICB4ZC5sZW5ndGggPSB4ZGk7XHJcbiAgICAgIGsgPSAxO1xyXG4gICAgICB4ZGktLTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHhkLmxlbmd0aCA9IHhkaSArIDE7XHJcbiAgICAgIGsgPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIGkpO1xyXG5cclxuICAgICAgLy8gRS5nLiA1NjcwMCBiZWNvbWVzIDU2MDAwIGlmIDcgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygdy5cclxuICAgICAgeGRbeGRpXSA9IGogPiAwID8gKHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqKSAlIG1hdGhwb3coMTAsIGopIHwgMCkgKiBrIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRVcCkge1xyXG4gICAgICBmb3IgKDs7KSB7XHJcblxyXG4gICAgICAgIC8vIElzIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGluIHRoZSBmaXJzdCB3b3JkIG9mIHhkP1xyXG4gICAgICAgIGlmICh4ZGkgPT0gMCkge1xyXG5cclxuICAgICAgICAgIC8vIGkgd2lsbCBiZSB0aGUgbGVuZ3RoIG9mIHhkWzBdIGJlZm9yZSBrIGlzIGFkZGVkLlxyXG4gICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhkWzBdOyBqID49IDEwOyBqIC89IDEwKSBpKys7XHJcbiAgICAgICAgICBqID0geGRbMF0gKz0gaztcclxuICAgICAgICAgIGZvciAoayA9IDE7IGogPj0gMTA7IGogLz0gMTApIGsrKztcclxuXHJcbiAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICB4LmUrKztcclxuICAgICAgICAgICAgaWYgKHhkWzBdID09IEJBU0UpIHhkWzBdID0gMTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeGRbeGRpXSArPSBrO1xyXG4gICAgICAgICAgaWYgKHhkW3hkaV0gIT0gQkFTRSkgYnJlYWs7XHJcbiAgICAgICAgICB4ZFt4ZGktLV0gPSAwO1xyXG4gICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0geGQubGVuZ3RoOyB4ZFstLWldID09PSAwOykgeGQucG9wKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoZXh0ZXJuYWwpIHtcclxuXHJcbiAgICAvLyBPdmVyZmxvdz9cclxuICAgIGlmICh4LmUgPiBDdG9yLm1heEUpIHtcclxuXHJcbiAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICB4LmQgPSBudWxsO1xyXG4gICAgICB4LmUgPSBOYU47XHJcblxyXG4gICAgLy8gVW5kZXJmbG93P1xyXG4gICAgfSBlbHNlIGlmICh4LmUgPCBDdG9yLm1pbkUpIHtcclxuXHJcbiAgICAgIC8vIFplcm8uXHJcbiAgICAgIHguZSA9IDA7XHJcbiAgICAgIHguZCA9IFswXTtcclxuICAgICAgLy8gQ3Rvci51bmRlcmZsb3cgPSB0cnVlO1xyXG4gICAgfSAvLyBlbHNlIEN0b3IudW5kZXJmbG93ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZpbml0ZVRvU3RyaW5nKHgsIGlzRXhwLCBzZCkge1xyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbm9uRmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgdmFyIGssXHJcbiAgICBlID0geC5lLFxyXG4gICAgc3RyID0gZGlnaXRzVG9TdHJpbmcoeC5kKSxcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gIGlmIChpc0V4cCkge1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpICsgZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH0gZWxzZSBpZiAobGVuID4gMSkge1xyXG4gICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IHN0ciArICh4LmUgPCAwID8gJ2UnIDogJ2UrJykgKyB4LmU7XHJcbiAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG4gICAgc3RyID0gJzAuJyArIGdldFplcm9TdHJpbmcoLWUgLSAxKSArIHN0cjtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gIH0gZWxzZSBpZiAoZSA+PSBsZW4pIHtcclxuICAgIHN0ciArPSBnZXRaZXJvU3RyaW5nKGUgKyAxIC0gbGVuKTtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gZSAtIDEpID4gMCkgc3RyID0gc3RyICsgJy4nICsgZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKChrID0gZSArIDEpIDwgbGVuKSBzdHIgPSBzdHIuc2xpY2UoMCwgaykgKyAnLicgKyBzdHIuc2xpY2Uoayk7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSB7XHJcbiAgICAgIGlmIChlICsgMSA9PT0gbGVuKSBzdHIgKz0gJy4nO1xyXG4gICAgICBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBDYWxjdWxhdGUgdGhlIGJhc2UgMTAgZXhwb25lbnQgZnJvbSB0aGUgYmFzZSAxZTcgZXhwb25lbnQuXHJcbmZ1bmN0aW9uIGdldEJhc2UxMEV4cG9uZW50KGRpZ2l0cywgZSkge1xyXG4gIHZhciB3ID0gZGlnaXRzWzBdO1xyXG5cclxuICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheS5cclxuICBmb3IgKCBlICo9IExPR19CQVNFOyB3ID49IDEwOyB3IC89IDEwKSBlKys7XHJcbiAgcmV0dXJuIGU7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRMbjEwKEN0b3IsIHNkLCBwcikge1xyXG4gIGlmIChzZCA+IExOMTBfUFJFQ0lTSU9OKSB7XHJcblxyXG4gICAgLy8gUmVzZXQgZ2xvYmFsIHN0YXRlIGluIGNhc2UgdGhlIGV4Y2VwdGlvbiBpcyBjYXVnaHQuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBpZiAocHIpIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICB9XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKExOMTApLCBzZCwgMSwgdHJ1ZSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRQaShDdG9yLCBzZCwgcm0pIHtcclxuICBpZiAoc2QgPiBQSV9QUkVDSVNJT04pIHRocm93IEVycm9yKHByZWNpc2lvbkxpbWl0RXhjZWVkZWQpO1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihQSSksIHNkLCBybSwgdHJ1ZSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRQcmVjaXNpb24oZGlnaXRzKSB7XHJcbiAgdmFyIHcgPSBkaWdpdHMubGVuZ3RoIC0gMSxcclxuICAgIGxlbiA9IHcgKiBMT0dfQkFTRSArIDE7XHJcblxyXG4gIHcgPSBkaWdpdHNbd107XHJcblxyXG4gIC8vIElmIG5vbi16ZXJvLi4uXHJcbiAgaWYgKHcpIHtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IHdvcmQuXHJcbiAgICBmb3IgKDsgdyAlIDEwID09IDA7IHcgLz0gMTApIGxlbi0tO1xyXG5cclxuICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZC5cclxuICAgIGZvciAodyA9IGRpZ2l0c1swXTsgdyA+PSAxMDsgdyAvPSAxMCkgbGVuKys7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbGVuO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0WmVyb1N0cmluZyhrKSB7XHJcbiAgdmFyIHpzID0gJyc7XHJcbiAgZm9yICg7IGstLTspIHpzICs9ICcwJztcclxuICByZXR1cm4genM7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgRGVjaW1hbCBgeGAgdG8gdGhlIHBvd2VyIGBuYCwgd2hlcmUgYG5gIGlzIGFuXHJcbiAqIGludGVnZXIgb2YgdHlwZSBudW1iZXIuXHJcbiAqXHJcbiAqIEltcGxlbWVudHMgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJy4gQ2FsbGVkIGJ5IGBwb3dgIGFuZCBgcGFyc2VPdGhlcmAuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBpbnRQb3coQ3RvciwgeCwgbiwgcHIpIHtcclxuICB2YXIgaXNUcnVuY2F0ZWQsXHJcbiAgICByID0gbmV3IEN0b3IoMSksXHJcblxyXG4gICAgLy8gTWF4IG4gb2YgOTAwNzE5OTI1NDc0MDk5MSB0YWtlcyA1MyBsb29wIGl0ZXJhdGlvbnMuXHJcbiAgICAvLyBNYXhpbXVtIGRpZ2l0cyBhcnJheSBsZW5ndGg7IGxlYXZlcyBbMjgsIDM0XSBndWFyZCBkaWdpdHMuXHJcbiAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UgKyA0KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgaWYgKG4gJSAyKSB7XHJcbiAgICAgIHIgPSByLnRpbWVzKHgpO1xyXG4gICAgICBpZiAodHJ1bmNhdGUoci5kLCBrKSkgaXNUcnVuY2F0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG4gPSBtYXRoZmxvb3IobiAvIDIpO1xyXG4gICAgaWYgKG4gPT09IDApIHtcclxuXHJcbiAgICAgIC8vIFRvIGVuc3VyZSBjb3JyZWN0IHJvdW5kaW5nIHdoZW4gci5kIGlzIHRydW5jYXRlZCwgaW5jcmVtZW50IHRoZSBsYXN0IHdvcmQgaWYgaXQgaXMgemVyby5cclxuICAgICAgbiA9IHIuZC5sZW5ndGggLSAxO1xyXG4gICAgICBpZiAoaXNUcnVuY2F0ZWQgJiYgci5kW25dID09PSAwKSArK3IuZFtuXTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgeCA9IHgudGltZXMoeCk7XHJcbiAgICB0cnVuY2F0ZSh4LmQsIGspO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzT2RkKG4pIHtcclxuICByZXR1cm4gbi5kW24uZC5sZW5ndGggLSAxXSAmIDE7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBIYW5kbGUgYG1heGAgYW5kIGBtaW5gLiBgbHRndGAgaXMgJ2x0JyBvciAnZ3QnLlxyXG4gKi9cclxuZnVuY3Rpb24gbWF4T3JNaW4oQ3RvciwgYXJncywgbHRndCkge1xyXG4gIHZhciB5LFxyXG4gICAgeCA9IG5ldyBDdG9yKGFyZ3NbMF0pLFxyXG4gICAgaSA9IDA7XHJcblxyXG4gIGZvciAoOyArK2kgPCBhcmdzLmxlbmd0aDspIHtcclxuICAgIHkgPSBuZXcgQ3RvcihhcmdzW2ldKTtcclxuICAgIGlmICgheS5zKSB7XHJcbiAgICAgIHggPSB5O1xyXG4gICAgICBicmVhaztcclxuICAgIH0gZWxzZSBpZiAoeFtsdGd0XSh5KSkge1xyXG4gICAgICB4ID0geTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMuXHJcbiAqXHJcbiAqIFRheWxvci9NYWNsYXVyaW4gc2VyaWVzLlxyXG4gKlxyXG4gKiBleHAoeCkgPSB4XjAvMCEgKyB4XjEvMSEgKyB4XjIvMiEgKyB4XjMvMyEgKyAuLi5cclxuICpcclxuICogQXJndW1lbnQgcmVkdWN0aW9uOlxyXG4gKiAgIFJlcGVhdCB4ID0geCAvIDMyLCBrICs9IDUsIHVudGlsIHx4fCA8IDAuMVxyXG4gKiAgIGV4cCh4KSA9IGV4cCh4IC8gMl5rKV4oMl5rKVxyXG4gKlxyXG4gKiBQcmV2aW91c2x5LCB0aGUgYXJndW1lbnQgd2FzIGluaXRpYWxseSByZWR1Y2VkIGJ5XHJcbiAqIGV4cCh4KSA9IGV4cChyKSAqIDEwXmsgIHdoZXJlIHIgPSB4IC0gayAqIGxuMTAsIGsgPSBmbG9vcih4IC8gbG4xMClcclxuICogdG8gZmlyc3QgcHV0IHIgaW4gdGhlIHJhbmdlIFswLCBsbjEwXSwgYmVmb3JlIGRpdmlkaW5nIGJ5IDMyIHVudGlsIHx4fCA8IDAuMSwgYnV0IHRoaXMgd2FzXHJcbiAqIGZvdW5kIHRvIGJlIHNsb3dlciB0aGFuIGp1c3QgZGl2aWRpbmcgcmVwZWF0ZWRseSBieSAzMiBhcyBhYm92ZS5cclxuICpcclxuICogTWF4IGludGVnZXIgYXJndW1lbnQ6IGV4cCgnMjA3MjMyNjU4MzY5NDY0MTMnKSA9IDYuM2UrOTAwMDAwMDAwMDAwMDAwMFxyXG4gKiBNaW4gaW50ZWdlciBhcmd1bWVudDogZXhwKCctMjA3MjMyNjU4MzY5NDY0MTEnKSA9IDEuMmUtOTAwMDAwMDAwMDAwMDAwMFxyXG4gKiAoTWF0aCBvYmplY3QgaW50ZWdlciBtaW4vbWF4OiBNYXRoLmV4cCg3MDkpID0gOC4yZSszMDcsIE1hdGguZXhwKC03NDUpID0gNWUtMzI0KVxyXG4gKlxyXG4gKiAgZXhwKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiAgZXhwKC1JbmZpbml0eSkgPSAwXHJcbiAqICBleHAoTmFOKSAgICAgICA9IE5hTlxyXG4gKiAgZXhwKMKxMCkgICAgICAgID0gMVxyXG4gKlxyXG4gKiAgZXhwKHgpIGlzIG5vbi10ZXJtaW5hdGluZyBmb3IgYW55IGZpbml0ZSwgbm9uLXplcm8geC5cclxuICpcclxuICogIFRoZSByZXN1bHQgd2lsbCBhbHdheXMgYmUgY29ycmVjdGx5IHJvdW5kZWQuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBuYXR1cmFsRXhwb25lbnRpYWwoeCwgc2QpIHtcclxuICB2YXIgZGVub21pbmF0b3IsIGd1YXJkLCBqLCBwb3csIHN1bSwgdCwgd3ByLFxyXG4gICAgcmVwID0gMCxcclxuICAgIGkgPSAwLFxyXG4gICAgayA9IDAsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcblxyXG4gIC8vIDAvTmFOL0luZmluaXR5P1xyXG4gIGlmICgheC5kIHx8ICF4LmRbMF0gfHwgeC5lID4gMTcpIHtcclxuXHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeC5kXHJcbiAgICAgID8gIXguZFswXSA/IDEgOiB4LnMgPCAwID8gMCA6IDEgLyAwXHJcbiAgICAgIDogeC5zID8geC5zIDwgMCA/IDAgOiB4IDogMCAvIDApO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNkID09IG51bGwpIHtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICB3cHIgPSBwcjtcclxuICB9IGVsc2Uge1xyXG4gICAgd3ByID0gc2Q7XHJcbiAgfVxyXG5cclxuICB0ID0gbmV3IEN0b3IoMC4wMzEyNSk7XHJcblxyXG4gIC8vIHdoaWxlIGFicyh4KSA+PSAwLjFcclxuICB3aGlsZSAoeC5lID4gLTIpIHtcclxuXHJcbiAgICAvLyB4ID0geCAvIDJeNVxyXG4gICAgeCA9IHgudGltZXModCk7XHJcbiAgICBrICs9IDU7XHJcbiAgfVxyXG5cclxuICAvLyBVc2UgMiAqIGxvZzEwKDJeaykgKyA1IChlbXBpcmljYWxseSBkZXJpdmVkKSB0byBlc3RpbWF0ZSB0aGUgaW5jcmVhc2UgaW4gcHJlY2lzaW9uXHJcbiAgLy8gbmVjZXNzYXJ5IHRvIGVuc3VyZSB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgYXJlIGNvcnJlY3QuXHJcbiAgZ3VhcmQgPSBNYXRoLmxvZyhtYXRocG93KDIsIGspKSAvIE1hdGguTE4xMCAqIDIgKyA1IHwgMDtcclxuICB3cHIgKz0gZ3VhcmQ7XHJcbiAgZGVub21pbmF0b3IgPSBwb3cgPSBzdW0gPSBuZXcgQ3RvcigxKTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHdwcjtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgcG93ID0gZmluYWxpc2UocG93LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gICAgZGVub21pbmF0b3IgPSBkZW5vbWluYXRvci50aW1lcygrK2kpO1xyXG4gICAgdCA9IHN1bS5wbHVzKGRpdmlkZShwb3csIGRlbm9taW5hdG9yLCB3cHIsIDEpKTtcclxuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCB3cHIpID09PSBkaWdpdHNUb1N0cmluZyhzdW0uZCkuc2xpY2UoMCwgd3ByKSkge1xyXG4gICAgICBqID0gaztcclxuICAgICAgd2hpbGUgKGotLSkgc3VtID0gZmluYWxpc2Uoc3VtLnRpbWVzKHN1bSksIHdwciwgMSk7XHJcblxyXG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5LlxyXG4gICAgICAvLyBJZiBzbywgcmVwZWF0IHRoZSBzdW1tYXRpb24gd2l0aCBhIGhpZ2hlciBwcmVjaXNpb24sIG90aGVyd2lzZVxyXG4gICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxOCwgcm91bmRpbmc6IDFcclxuICAgICAgLy8gZXhwKDE4LjQwNDI3MjQ2MjU5NTAzNDA4MzU2Nzc5MzkxOTg0Mzc2MSkgPSA5ODM3MjU2MC4xMjI5OTk5OTk5IChzaG91bGQgYmUgOTgzNzI1NjAuMTIzKVxyXG4gICAgICAvLyBgd3ByIC0gZ3VhcmRgIGlzIHRoZSBpbmRleCBvZiBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgaWYgKHNkID09IG51bGwpIHtcclxuXHJcbiAgICAgICAgaWYgKHJlcCA8IDMgJiYgY2hlY2tSb3VuZGluZ0RpZ2l0cyhzdW0uZCwgd3ByIC0gZ3VhcmQsIHJtLCByZXApKSB7XHJcbiAgICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSAxMDtcclxuICAgICAgICAgIGRlbm9taW5hdG9yID0gcG93ID0gdCA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICByZXArKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1bSA9IHQ7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzLlxyXG4gKlxyXG4gKiAgbG4oLW4pICAgICAgICA9IE5hTlxyXG4gKiAgbG4oMCkgICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiAgbG4oLTApICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiAgbG4oMSkgICAgICAgICA9IDBcclxuICogIGxuKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiAgbG4oLUluZmluaXR5KSA9IE5hTlxyXG4gKiAgbG4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKiAgbG4obikgKG4gIT0gMSkgaXMgbm9uLXRlcm1pbmF0aW5nLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbmF0dXJhbExvZ2FyaXRobSh5LCBzZCkge1xyXG4gIHZhciBjLCBjMCwgZGVub21pbmF0b3IsIGUsIG51bWVyYXRvciwgcmVwLCBzdW0sIHQsIHdwciwgeDEsIHgyLFxyXG4gICAgbiA9IDEsXHJcbiAgICBndWFyZCA9IDEwLFxyXG4gICAgeCA9IHksXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuXHJcbiAgLy8gSXMgeCBuZWdhdGl2ZSBvciBJbmZpbml0eSwgTmFOLCAwIG9yIDE/XHJcbiAgaWYgKHgucyA8IDAgfHwgIXhkIHx8ICF4ZFswXSB8fCAheC5lICYmIHhkWzBdID09IDEgJiYgeGQubGVuZ3RoID09IDEpIHtcclxuICAgIHJldHVybiBuZXcgQ3Rvcih4ZCAmJiAheGRbMF0gPyAtMSAvIDAgOiB4LnMgIT0gMSA/IE5hTiA6IHhkID8gMCA6IHgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNkID09IG51bGwpIHtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICB3cHIgPSBwcjtcclxuICB9IGVsc2Uge1xyXG4gICAgd3ByID0gc2Q7XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSBndWFyZDtcclxuICBjID0gZGlnaXRzVG9TdHJpbmcoeGQpO1xyXG4gIGMwID0gYy5jaGFyQXQoMCk7XHJcblxyXG4gIGlmIChNYXRoLmFicyhlID0geC5lKSA8IDEuNWUxNSkge1xyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAgIC8vIFRoZSBzZXJpZXMgY29udmVyZ2VzIGZhc3RlciB0aGUgY2xvc2VyIHRoZSBhcmd1bWVudCBpcyB0byAxLCBzbyB1c2luZ1xyXG4gICAgLy8gbG4oYV5iKSA9IGIgKiBsbihhKSwgICBsbihhKSA9IGxuKGFeYikgLyBiXHJcbiAgICAvLyBtdWx0aXBseSB0aGUgYXJndW1lbnQgYnkgaXRzZWxmIHVudGlsIHRoZSBsZWFkaW5nIGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmQgYXJlIDcsIDgsIDksXHJcbiAgICAvLyAxMCwgMTEsIDEyIG9yIDEzLCByZWNvcmRpbmcgdGhlIG51bWJlciBvZiBtdWx0aXBsaWNhdGlvbnMgc28gdGhlIHN1bSBvZiB0aGUgc2VyaWVzIGNhblxyXG4gICAgLy8gbGF0ZXIgYmUgZGl2aWRlZCBieSB0aGlzIG51bWJlciwgdGhlbiBzZXBhcmF0ZSBvdXQgdGhlIHBvd2VyIG9mIDEwIHVzaW5nXHJcbiAgICAvLyBsbihhKjEwXmIpID0gbG4oYSkgKyBiKmxuKDEwKS5cclxuXHJcbiAgICAvLyBtYXggbiBpcyAyMSAoZ2l2ZXMgMC45LCAxLjAgb3IgMS4xKSAoOWUxNSAvIDIxID0gNC4yZTE0KS5cclxuICAgIC8vd2hpbGUgKGMwIDwgOSAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAxKSB7XHJcbiAgICAvLyBtYXggbiBpcyA2IChnaXZlcyAwLjcgLSAxLjMpXHJcbiAgICB3aGlsZSAoYzAgPCA3ICYmIGMwICE9IDEgfHwgYzAgPT0gMSAmJiBjLmNoYXJBdCgxKSA+IDMpIHtcclxuICAgICAgeCA9IHgudGltZXMoeSk7XHJcbiAgICAgIGMgPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgICBjMCA9IGMuY2hhckF0KDApO1xyXG4gICAgICBuKys7XHJcbiAgICB9XHJcblxyXG4gICAgZSA9IHguZTtcclxuXHJcbiAgICBpZiAoYzAgPiAxKSB7XHJcbiAgICAgIHggPSBuZXcgQ3RvcignMC4nICsgYyk7XHJcbiAgICAgIGUrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHggPSBuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gVGhlIGFyZ3VtZW50IHJlZHVjdGlvbiBtZXRob2QgYWJvdmUgbWF5IHJlc3VsdCBpbiBvdmVyZmxvdyBpZiB0aGUgYXJndW1lbnQgeSBpcyBhIG1hc3NpdmVcclxuICAgIC8vIG51bWJlciB3aXRoIGV4cG9uZW50ID49IDE1MDAwMDAwMDAwMDAwMDAgKDllMTUgLyA2ID0gMS41ZTE1KSwgc28gaW5zdGVhZCByZWNhbGwgdGhpc1xyXG4gICAgLy8gZnVuY3Rpb24gdXNpbmcgbG4oeCoxMF5lKSA9IGxuKHgpICsgZSpsbigxMCkuXHJcbiAgICB0ID0gZ2V0TG4xMChDdG9yLCB3cHIgKyAyLCBwcikudGltZXMoZSArICcnKTtcclxuICAgIHggPSBuYXR1cmFsTG9nYXJpdGhtKG5ldyBDdG9yKGMwICsgJy4nICsgYy5zbGljZSgxKSksIHdwciAtIGd1YXJkKS5wbHVzKHQpO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuXHJcbiAgICByZXR1cm4gc2QgPT0gbnVsbCA/IGZpbmFsaXNlKHgsIHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKSA6IHg7XHJcbiAgfVxyXG5cclxuICAvLyB4MSBpcyB4IHJlZHVjZWQgdG8gYSB2YWx1ZSBuZWFyIDEuXHJcbiAgeDEgPSB4O1xyXG5cclxuICAvLyBUYXlsb3Igc2VyaWVzLlxyXG4gIC8vIGxuKHkpID0gbG4oKDEgKyB4KS8oMSAtIHgpKSA9IDIoeCArIHheMy8zICsgeF41LzUgKyB4XjcvNyArIC4uLilcclxuICAvLyB3aGVyZSB4ID0gKHkgLSAxKS8oeSArIDEpICAgICh8eHwgPCAxKVxyXG4gIHN1bSA9IG51bWVyYXRvciA9IHggPSBkaXZpZGUoeC5taW51cygxKSwgeC5wbHVzKDEpLCB3cHIsIDEpO1xyXG4gIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICBkZW5vbWluYXRvciA9IDM7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIG51bWVyYXRvciA9IGZpbmFsaXNlKG51bWVyYXRvci50aW1lcyh4MiksIHdwciwgMSk7XHJcbiAgICB0ID0gc3VtLnBsdXMoZGl2aWRlKG51bWVyYXRvciwgbmV3IEN0b3IoZGVub21pbmF0b3IpLCB3cHIsIDEpKTtcclxuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCB3cHIpID09PSBkaWdpdHNUb1N0cmluZyhzdW0uZCkuc2xpY2UoMCwgd3ByKSkge1xyXG4gICAgICBzdW0gPSBzdW0udGltZXMoMik7XHJcblxyXG4gICAgICAvLyBSZXZlcnNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uIENoZWNrIHRoYXQgZSBpcyBub3QgMCBiZWNhdXNlLCBiZXNpZGVzIHByZXZlbnRpbmcgYW5cclxuICAgICAgLy8gdW5uZWNlc3NhcnkgY2FsY3VsYXRpb24sIC0wICsgMCA9ICswIGFuZCB0byBlbnN1cmUgY29ycmVjdCByb3VuZGluZyAtMCBuZWVkcyB0byBzdGF5IC0wLlxyXG4gICAgICBpZiAoZSAhPT0gMCkgc3VtID0gc3VtLnBsdXMoZ2V0TG4xMChDdG9yLCB3cHIgKyAyLCBwcikudGltZXMoZSArICcnKSk7XHJcbiAgICAgIHN1bSA9IGRpdmlkZShzdW0sIG5ldyBDdG9yKG4pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgLy8gSXMgcm0gPiAzIGFuZCB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgNDk5OSwgb3Igcm0gPCA0IChvciB0aGUgc3VtbWF0aW9uIGhhc1xyXG4gICAgICAvLyBiZWVuIHJlcGVhdGVkIHByZXZpb3VzbHkpIGFuZCB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgOTk5OT9cclxuICAgICAgLy8gSWYgc28sIHJlc3RhcnQgdGhlIHN1bW1hdGlvbiB3aXRoIGEgaGlnaGVyIHByZWNpc2lvbiwgb3RoZXJ3aXNlXHJcbiAgICAgIC8vIGUuZy4gd2l0aCBwcmVjaXNpb246IDEyLCByb3VuZGluZzogMVxyXG4gICAgICAvLyBsbigxMzU1MjAwMjguNjEyNjA5MTcxNDI2NTM4MTUzMykgPSAxOC43MjQ2Mjk5OTk5IHdoZW4gaXQgc2hvdWxkIGJlIDE4LjcyNDYzLlxyXG4gICAgICAvLyBgd3ByIC0gZ3VhcmRgIGlzIHRoZSBpbmRleCBvZiBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgaWYgKHNkID09IG51bGwpIHtcclxuICAgICAgICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhzdW0uZCwgd3ByIC0gZ3VhcmQsIHJtLCByZXApKSB7XHJcbiAgICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSBndWFyZDtcclxuICAgICAgICAgIHQgPSBudW1lcmF0b3IgPSB4ID0gZGl2aWRlKHgxLm1pbnVzKDEpLCB4MS5wbHVzKDEpLCB3cHIsIDEpO1xyXG4gICAgICAgICAgeDIgPSBmaW5hbGlzZSh4LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gICAgICAgICAgZGVub21pbmF0b3IgPSByZXAgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmluYWxpc2Uoc3VtLCBDdG9yLnByZWNpc2lvbiA9IHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3VtID0gdDtcclxuICAgIGRlbm9taW5hdG9yICs9IDI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gwrFJbmZpbml0eSwgTmFOLlxyXG5mdW5jdGlvbiBub25GaW5pdGVUb1N0cmluZyh4KSB7XHJcbiAgLy8gVW5zaWduZWQuXHJcbiAgcmV0dXJuIFN0cmluZyh4LnMgKiB4LnMgLyAwKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFBhcnNlIHRoZSB2YWx1ZSBvZiBhIG5ldyBEZWNpbWFsIGB4YCBmcm9tIHN0cmluZyBgc3RyYC5cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlRGVjaW1hbCh4LCBzdHIpIHtcclxuICB2YXIgZSwgaSwgbGVuO1xyXG5cclxuICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG5cclxuICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gIGlmICgoaSA9IHN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgIC8vIERldGVybWluZSBleHBvbmVudC5cclxuICAgIGlmIChlIDwgMCkgZSA9IGk7XHJcbiAgICBlICs9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBpKTtcclxuICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgLy8gSW50ZWdlci5cclxuICAgIGUgPSBzdHIubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgZm9yIChpID0gMDsgc3RyLmNoYXJDb2RlQXQoaSkgPT09IDQ4OyBpKyspO1xyXG5cclxuICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdChsZW4gLSAxKSA9PT0gNDg7IC0tbGVuKTtcclxuICBzdHIgPSBzdHIuc2xpY2UoaSwgbGVuKTtcclxuXHJcbiAgaWYgKHN0cikge1xyXG4gICAgbGVuIC09IGk7XHJcbiAgICB4LmUgPSBlID0gZSAtIGkgLSAxO1xyXG4gICAgeC5kID0gW107XHJcblxyXG4gICAgLy8gVHJhbnNmb3JtIGJhc2VcclxuXHJcbiAgICAvLyBlIGlzIHRoZSBiYXNlIDEwIGV4cG9uZW50LlxyXG4gICAgLy8gaSBpcyB3aGVyZSB0byBzbGljZSBzdHIgdG8gZ2V0IHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkuXHJcbiAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgaWYgKGUgPCAwKSBpICs9IExPR19CQVNFO1xyXG5cclxuICAgIGlmIChpIDwgbGVuKSB7XHJcbiAgICAgIGlmIChpKSB4LmQucHVzaCgrc3RyLnNsaWNlKDAsIGkpKTtcclxuICAgICAgZm9yIChsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47KSB4LmQucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgc3RyID0gc3RyLnNsaWNlKGkpO1xyXG4gICAgICBpID0gTE9HX0JBU0UgLSBzdHIubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaSAtPSBsZW47XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICg7IGktLTspIHN0ciArPSAnMCc7XHJcbiAgICB4LmQucHVzaCgrc3RyKTtcclxuXHJcbiAgICBpZiAoZXh0ZXJuYWwpIHtcclxuXHJcbiAgICAgIC8vIE92ZXJmbG93P1xyXG4gICAgICBpZiAoeC5lID4geC5jb25zdHJ1Y3Rvci5tYXhFKSB7XHJcblxyXG4gICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgeC5lID0gTmFOO1xyXG5cclxuICAgICAgLy8gVW5kZXJmbG93P1xyXG4gICAgICB9IGVsc2UgaWYgKHguZSA8IHguY29uc3RydWN0b3IubWluRSkge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgIC8vIHguY29uc3RydWN0b3IudW5kZXJmbG93ID0gdHJ1ZTtcclxuICAgICAgfSAvLyBlbHNlIHguY29uc3RydWN0b3IudW5kZXJmbG93ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBaZXJvLlxyXG4gICAgeC5lID0gMDtcclxuICAgIHguZCA9IFswXTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGFyc2UgdGhlIHZhbHVlIG9mIGEgbmV3IERlY2ltYWwgYHhgIGZyb20gYSBzdHJpbmcgYHN0cmAsIHdoaWNoIGlzIG5vdCBhIGRlY2ltYWwgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZU90aGVyKHgsIHN0cikge1xyXG4gIHZhciBiYXNlLCBDdG9yLCBkaXZpc29yLCBpLCBpc0Zsb2F0LCBsZW4sIHAsIHhkLCB4ZTtcclxuXHJcbiAgaWYgKHN0ciA9PT0gJ0luZmluaXR5JyB8fCBzdHIgPT09ICdOYU4nKSB7XHJcbiAgICBpZiAoIStzdHIpIHgucyA9IE5hTjtcclxuICAgIHguZSA9IE5hTjtcclxuICAgIHguZCA9IG51bGw7XHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG4gIGlmIChpc0hleC50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gMTY7XHJcbiAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcclxuICB9IGVsc2UgaWYgKGlzQmluYXJ5LnRlc3Qoc3RyKSkgIHtcclxuICAgIGJhc2UgPSAyO1xyXG4gIH0gZWxzZSBpZiAoaXNPY3RhbC50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gODtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgc3RyKTtcclxuICB9XHJcblxyXG4gIC8vIElzIHRoZXJlIGEgYmluYXJ5IGV4cG9uZW50IHBhcnQ/XHJcbiAgaSA9IHN0ci5zZWFyY2goL3AvaSk7XHJcblxyXG4gIGlmIChpID4gMCkge1xyXG4gICAgcCA9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygyLCBpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyID0gc3RyLnNsaWNlKDIpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29udmVydCBgc3RyYCBhcyBhbiBpbnRlZ2VyIHRoZW4gZGl2aWRlIHRoZSByZXN1bHQgYnkgYGJhc2VgIHJhaXNlZCB0byBhIHBvd2VyIHN1Y2ggdGhhdCB0aGVcclxuICAvLyBmcmFjdGlvbiBwYXJ0IHdpbGwgYmUgcmVzdG9yZWQuXHJcbiAgaSA9IHN0ci5pbmRleE9mKCcuJyk7XHJcbiAgaXNGbG9hdCA9IGkgPj0gMDtcclxuICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKGlzRmxvYXQpIHtcclxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgbGVuID0gc3RyLmxlbmd0aDtcclxuICAgIGkgPSBsZW4gLSBpO1xyXG5cclxuICAgIC8vIGxvZ1sxMF0oMTYpID0gMS4yMDQxLi4uICwgbG9nWzEwXSg4OCkgPSAxLjk0NDQuLi4uXHJcbiAgICBkaXZpc29yID0gaW50UG93KEN0b3IsIG5ldyBDdG9yKGJhc2UpLCBpLCBpICogMik7XHJcbiAgfVxyXG5cclxuICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgYmFzZSwgQkFTRSk7XHJcbiAgeGUgPSB4ZC5sZW5ndGggLSAxO1xyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChpID0geGU7IHhkW2ldID09PSAwOyAtLWkpIHhkLnBvcCgpO1xyXG4gIGlmIChpIDwgMCkgcmV0dXJuIG5ldyBDdG9yKHgucyAqIDApO1xyXG4gIHguZSA9IGdldEJhc2UxMEV4cG9uZW50KHhkLCB4ZSk7XHJcbiAgeC5kID0geGQ7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgLy8gQXQgd2hhdCBwcmVjaXNpb24gdG8gcGVyZm9ybSB0aGUgZGl2aXNpb24gdG8gZW5zdXJlIGV4YWN0IGNvbnZlcnNpb24/XHJcbiAgLy8gbWF4RGVjaW1hbEludGVnZXJQYXJ0RGlnaXRDb3VudCA9IGNlaWwobG9nWzEwXShiKSAqIG90aGVyQmFzZUludGVnZXJQYXJ0RGlnaXRDb3VudClcclxuICAvLyBsb2dbMTBdKDIpID0gMC4zMDEwMywgbG9nWzEwXSg4KSA9IDAuOTAzMDksIGxvZ1sxMF0oMTYpID0gMS4yMDQxMlxyXG4gIC8vIEUuZy4gY2VpbCgxLjIgKiAzKSA9IDQsIHNvIHVwIHRvIDQgZGVjaW1hbCBkaWdpdHMgYXJlIG5lZWRlZCB0byByZXByZXNlbnQgMyBoZXggaW50IGRpZ2l0cy5cclxuICAvLyBtYXhEZWNpbWFsRnJhY3Rpb25QYXJ0RGlnaXRDb3VudCA9IHtIZXg6NHxPY3Q6M3xCaW46MX0gKiBvdGhlckJhc2VGcmFjdGlvblBhcnREaWdpdENvdW50XHJcbiAgLy8gVGhlcmVmb3JlIHVzaW5nIDQgKiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBzdHIgd2lsbCBhbHdheXMgYmUgZW5vdWdoLlxyXG4gIGlmIChpc0Zsb2F0KSB4ID0gZGl2aWRlKHgsIGRpdmlzb3IsIGxlbiAqIDQpO1xyXG5cclxuICAvLyBNdWx0aXBseSBieSB0aGUgYmluYXJ5IGV4cG9uZW50IHBhcnQgaWYgcHJlc2VudC5cclxuICBpZiAocCkgeCA9IHgudGltZXMoTWF0aC5hYnMocCkgPCA1NCA/IG1hdGhwb3coMiwgcCkgOiBEZWNpbWFsLnBvdygyLCBwKSk7XHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIHNpbih4KSA9IHggLSB4XjMvMyEgKyB4XjUvNSEgLSAuLi5cclxuICogfHh8IDwgcGkvMlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luZShDdG9yLCB4KSB7XHJcbiAgdmFyIGssXHJcbiAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICBpZiAobGVuIDwgMykgcmV0dXJuIHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4KTtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBzaW4oNXgpID0gMTYqc2luXjUoeCkgLSAyMCpzaW5eMyh4KSArIDUqc2luKHgpXHJcbiAgLy8gaS5lLiBzaW4oeCkgPSAxNipzaW5eNSh4LzUpIC0gMjAqc2luXjMoeC81KSArIDUqc2luKHgvNSlcclxuICAvLyBhbmQgIHNpbih4KSA9IHNpbih4LzUpKDUgKyBzaW5eMih4LzUpKDE2c2luXjIoeC81KSAtIDIwKSlcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gIGsgPSAxLjQgKiBNYXRoLnNxcnQobGVuKTtcclxuICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgeCA9IHgudGltZXMoMSAvIHRpbnlQb3coNSwgaykpO1xyXG4gIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgdmFyIHNpbjJfeCxcclxuICAgIGQ1ID0gbmV3IEN0b3IoNSksXHJcbiAgICBkMTYgPSBuZXcgQ3RvcigxNiksXHJcbiAgICBkMjAgPSBuZXcgQ3RvcigyMCk7XHJcbiAgZm9yICg7IGstLTspIHtcclxuICAgIHNpbjJfeCA9IHgudGltZXMoeCk7XHJcbiAgICB4ID0geC50aW1lcyhkNS5wbHVzKHNpbjJfeC50aW1lcyhkMTYudGltZXMoc2luMl94KS5taW51cyhkMjApKSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vLyBDYWxjdWxhdGUgVGF5bG9yIHNlcmllcyBmb3IgYGNvc2AsIGBjb3NoYCwgYHNpbmAgYW5kIGBzaW5oYC5cclxuZnVuY3Rpb24gdGF5bG9yU2VyaWVzKEN0b3IsIG4sIHgsIHksIGlzSHlwZXJib2xpYykge1xyXG4gIHZhciBqLCB0LCB1LCB4MixcclxuICAgIGkgPSAxLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgeDIgPSB4LnRpbWVzKHgpO1xyXG4gIHUgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgdCA9IGRpdmlkZSh1LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgdSA9IGlzSHlwZXJib2xpYyA/IHkucGx1cyh0KSA6IHkubWludXModCk7XHJcbiAgICB5ID0gZGl2aWRlKHQudGltZXMoeDIpLCBuZXcgQ3RvcihuKysgKiBuKyspLCBwciwgMSk7XHJcbiAgICB0ID0gdS5wbHVzKHkpO1xyXG5cclxuICAgIGlmICh0LmRba10gIT09IHZvaWQgMCkge1xyXG4gICAgICBmb3IgKGogPSBrOyB0LmRbal0gPT09IHUuZFtqXSAmJiBqLS07KTtcclxuICAgICAgaWYgKGogPT0gLTEpIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGogPSB1O1xyXG4gICAgdSA9IHk7XHJcbiAgICB5ID0gdDtcclxuICAgIHQgPSBqO1xyXG4gICAgaSsrO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIHQuZC5sZW5ndGggPSBrICsgMTtcclxuXHJcbiAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcblxyXG4vLyBFeHBvbmVudCBlIG11c3QgYmUgcG9zaXRpdmUgYW5kIG5vbi16ZXJvLlxyXG5mdW5jdGlvbiB0aW55UG93KGIsIGUpIHtcclxuICB2YXIgbiA9IGI7XHJcbiAgd2hpbGUgKC0tZSkgbiAqPSBiO1xyXG4gIHJldHVybiBuO1xyXG59XHJcblxyXG5cclxuLy8gUmV0dXJuIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBgeGAgcmVkdWNlZCB0byBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gaGFsZiBwaS5cclxuZnVuY3Rpb24gdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSB7XHJcbiAgdmFyIHQsXHJcbiAgICBpc05lZyA9IHgucyA8IDAsXHJcbiAgICBwaSA9IGdldFBpKEN0b3IsIEN0b3IucHJlY2lzaW9uLCAxKSxcclxuICAgIGhhbGZQaSA9IHBpLnRpbWVzKDAuNSk7XHJcblxyXG4gIHggPSB4LmFicygpO1xyXG5cclxuICBpZiAoeC5sdGUoaGFsZlBpKSkge1xyXG4gICAgcXVhZHJhbnQgPSBpc05lZyA/IDQgOiAxO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICB0ID0geC5kaXZUb0ludChwaSk7XHJcblxyXG4gIGlmICh0LmlzWmVybygpKSB7XHJcbiAgICBxdWFkcmFudCA9IGlzTmVnID8gMyA6IDI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHggPSB4Lm1pbnVzKHQudGltZXMocGkpKTtcclxuXHJcbiAgICAvLyAwIDw9IHggPCBwaVxyXG4gICAgaWYgKHgubHRlKGhhbGZQaSkpIHtcclxuICAgICAgcXVhZHJhbnQgPSBpc09kZCh0KSA/IChpc05lZyA/IDIgOiAzKSA6IChpc05lZyA/IDQgOiAxKTtcclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgcXVhZHJhbnQgPSBpc09kZCh0KSA/IChpc05lZyA/IDEgOiA0KSA6IChpc05lZyA/IDMgOiAyKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4Lm1pbnVzKHBpKS5hYnMoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgRGVjaW1hbCBgeGAgYXMgYSBzdHJpbmcgaW4gYmFzZSBgYmFzZU91dGAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgaW5jbHVkZSBhIGJpbmFyeSBleHBvbmVudCBzdWZmaXguXHJcbiAqL1xyXG5mdW5jdGlvbiB0b1N0cmluZ0JpbmFyeSh4LCBiYXNlT3V0LCBzZCwgcm0pIHtcclxuICB2YXIgYmFzZSwgZSwgaSwgaywgbGVuLCByb3VuZFVwLCBzdHIsIHhkLCB5LFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBpc0V4cCA9IHNkICE9PSB2b2lkIDA7XHJcblxyXG4gIGlmIChpc0V4cCkge1xyXG4gICAgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2QgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB9XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSB7XHJcbiAgICBzdHIgPSBub25GaW5pdGVUb1N0cmluZyh4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgICBpID0gc3RyLmluZGV4T2YoJy4nKTtcclxuXHJcbiAgICAvLyBVc2UgZXhwb25lbnRpYWwgbm90YXRpb24gYWNjb3JkaW5nIHRvIGB0b0V4cFBvc2AgYW5kIGB0b0V4cE5lZ2A/IE5vLCBidXQgaWYgcmVxdWlyZWQ6XHJcbiAgICAvLyBtYXhCaW5hcnlFeHBvbmVudCA9IGZsb29yKChkZWNpbWFsRXhwb25lbnQgKyAxKSAqIGxvZ1syXSgxMCkpXHJcbiAgICAvLyBtaW5CaW5hcnlFeHBvbmVudCA9IGZsb29yKGRlY2ltYWxFeHBvbmVudCAqIGxvZ1syXSgxMCkpXHJcbiAgICAvLyBsb2dbMl0oMTApID0gMy4zMjE5MjgwOTQ4ODczNjIzNDc4NzAzMTk0Mjk0ODkzOTAxNzU4NjRcclxuXHJcbiAgICBpZiAoaXNFeHApIHtcclxuICAgICAgYmFzZSA9IDI7XHJcbiAgICAgIGlmIChiYXNlT3V0ID09IDE2KSB7XHJcbiAgICAgICAgc2QgPSBzZCAqIDQgLSAzO1xyXG4gICAgICB9IGVsc2UgaWYgKGJhc2VPdXQgPT0gOCkge1xyXG4gICAgICAgIHNkID0gc2QgKiAzIC0gMjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZSA9IGJhc2VPdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGFuIGludGVnZXIgdGhlbiBkaXZpZGUgdGhlIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlciBzdWNoXHJcbiAgICAvLyB0aGF0IHRoZSBmcmFjdGlvbiBwYXJ0IHdpbGwgYmUgcmVzdG9yZWQuXHJcblxyXG4gICAgLy8gTm9uLWludGVnZXIuXHJcbiAgICBpZiAoaSA+PSAwKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICB5ID0gbmV3IEN0b3IoMSk7XHJcbiAgICAgIHkuZSA9IHN0ci5sZW5ndGggLSBpO1xyXG4gICAgICB5LmQgPSBjb252ZXJ0QmFzZShmaW5pdGVUb1N0cmluZyh5KSwgMTAsIGJhc2UpO1xyXG4gICAgICB5LmUgPSB5LmQubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHhkID0gY29udmVydEJhc2Uoc3RyLCAxMCwgYmFzZSk7XHJcbiAgICBlID0gbGVuID0geGQubGVuZ3RoO1xyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyB4ZFstLWxlbl0gPT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICAgIGlmICgheGRbMF0pIHtcclxuICAgICAgc3RyID0gaXNFeHAgPyAnMHArMCcgOiAnMCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBlLS07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeCA9IG5ldyBDdG9yKHgpO1xyXG4gICAgICAgIHguZCA9IHhkO1xyXG4gICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgeCA9IGRpdmlkZSh4LCB5LCBzZCwgcm0sIDAsIGJhc2UpO1xyXG4gICAgICAgIHhkID0geC5kO1xyXG4gICAgICAgIGUgPSB4LmU7XHJcbiAgICAgICAgcm91bmRVcCA9IGluZXhhY3Q7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIGkgPSB4ZFtzZF07XHJcbiAgICAgIGsgPSBiYXNlIC8gMjtcclxuICAgICAgcm91bmRVcCA9IHJvdW5kVXAgfHwgeGRbc2QgKyAxXSAhPT0gdm9pZCAwO1xyXG5cclxuICAgICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICAgID8gKGkgIT09IHZvaWQgMCB8fCByb3VuZFVwKSAmJiAocm0gPT09IDAgfHwgcm0gPT09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgIDogaSA+IGsgfHwgaSA9PT0gayAmJiAocm0gPT09IDQgfHwgcm91bmRVcCB8fCBybSA9PT0gNiAmJiB4ZFtzZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgcm0gPT09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgIHhkLmxlbmd0aCA9IHNkO1xyXG5cclxuICAgICAgaWYgKHJvdW5kVXApIHtcclxuXHJcbiAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICBmb3IgKDsgKyt4ZFstLXNkXSA+IGJhc2UgLSAxOykge1xyXG4gICAgICAgICAgeGRbc2RdID0gMDtcclxuICAgICAgICAgIGlmICghc2QpIHtcclxuICAgICAgICAgICAgKytlO1xyXG4gICAgICAgICAgICB4ZC51bnNoaWZ0KDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAvLyBFLmcuIFs0LCAxMSwgMTVdIGJlY29tZXMgNGJmLlxyXG4gICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8IGxlbjsgaSsrKSBzdHIgKz0gTlVNRVJBTFMuY2hhckF0KHhkW2ldKTtcclxuXHJcbiAgICAgIC8vIEFkZCBiaW5hcnkgZXhwb25lbnQgc3VmZml4P1xyXG4gICAgICBpZiAoaXNFeHApIHtcclxuICAgICAgICBpZiAobGVuID4gMSkge1xyXG4gICAgICAgICAgaWYgKGJhc2VPdXQgPT0gMTYgfHwgYmFzZU91dCA9PSA4KSB7XHJcbiAgICAgICAgICAgIGkgPSBiYXNlT3V0ID09IDE2ID8gNCA6IDM7XHJcbiAgICAgICAgICAgIGZvciAoLS1sZW47IGxlbiAlIGk7IGxlbisrKSBzdHIgKz0gJzAnO1xyXG4gICAgICAgICAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgYmFzZSwgYmFzZU91dCk7XHJcbiAgICAgICAgICAgIGZvciAobGVuID0geGQubGVuZ3RoOyAheGRbbGVuIC0gMV07IC0tbGVuKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHhkWzBdIHdpbGwgYWx3YXlzIGJlIGJlIDFcclxuICAgICAgICAgICAgZm9yIChpID0gMSwgc3RyID0gJzEuJzsgaSA8IGxlbjsgaSsrKSBzdHIgKz0gTlVNRVJBTFMuY2hhckF0KHhkW2ldKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHIgPSAgc3RyICsgKGUgPCAwID8gJ3AnIDogJ3ArJykgKyBlO1xyXG4gICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICAgICAgZm9yICg7ICsrZTspIHN0ciA9ICcwJyArIHN0cjtcclxuICAgICAgICBzdHIgPSAnMC4nICsgc3RyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICgrK2UgPiBsZW4pIGZvciAoZSAtPSBsZW47IGUtLSA7KSBzdHIgKz0gJzAnO1xyXG4gICAgICAgIGVsc2UgaWYgKGUgPCBsZW4pIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IChiYXNlT3V0ID09IDE2ID8gJzB4JyA6IGJhc2VPdXQgPT0gMiA/ICcwYicgOiBiYXNlT3V0ID09IDggPyAnMG8nIDogJycpICsgc3RyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHgucyA8IDAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBEb2VzIG5vdCBzdHJpcCB0cmFpbGluZyB6ZXJvcy5cclxuZnVuY3Rpb24gdHJ1bmNhdGUoYXJyLCBsZW4pIHtcclxuICBpZiAoYXJyLmxlbmd0aCA+IGxlbikge1xyXG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIERlY2ltYWwgbWV0aG9kc1xyXG5cclxuXHJcbi8qXHJcbiAqICBhYnNcclxuICogIGFjb3NcclxuICogIGFjb3NoXHJcbiAqICBhZGRcclxuICogIGFzaW5cclxuICogIGFzaW5oXHJcbiAqICBhdGFuXHJcbiAqICBhdGFuaFxyXG4gKiAgYXRhbjJcclxuICogIGNicnRcclxuICogIGNlaWxcclxuICogIGNsb25lXHJcbiAqICBjb25maWdcclxuICogIGNvc1xyXG4gKiAgY29zaFxyXG4gKiAgZGl2XHJcbiAqICBleHBcclxuICogIGZsb29yXHJcbiAqICBoeXBvdFxyXG4gKiAgbG5cclxuICogIGxvZ1xyXG4gKiAgbG9nMlxyXG4gKiAgbG9nMTBcclxuICogIG1heFxyXG4gKiAgbWluXHJcbiAqICBtb2RcclxuICogIG11bFxyXG4gKiAgcG93XHJcbiAqICByYW5kb21cclxuICogIHJvdW5kXHJcbiAqICBzZXRcclxuICogIHNpZ25cclxuICogIHNpblxyXG4gKiAgc2luaFxyXG4gKiAgc3FydFxyXG4gKiAgc3ViXHJcbiAqICB0YW5cclxuICogIHRhbmhcclxuICogIHRydW5jXHJcbiAqL1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBgeGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFicyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFicygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY2Nvc2luZSBpbiByYWRpYW5zIG9mIGB4YC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWNvcyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFjb3MoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhY29zaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFjb3NoKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3VtIG9mIGB4YCBhbmQgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWRkKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkucGx1cyh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNzaW5lIGluIHJhZGlhbnMgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFzaW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hc2luKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFzaW5oKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IGluIHJhZGlhbnMgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGF0YW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hdGFuKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGF0YW5oKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IGluIHJhZGlhbnMgb2YgYHkveGAgaW4gdGhlIHJhbmdlIC1waSB0byBwaVxyXG4gKiAoaW5jbHVzaXZlKSwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1waSwgcGldXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHktY29vcmRpbmF0ZS5cclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgeC1jb29yZGluYXRlLlxyXG4gKlxyXG4gKiBhdGFuMijCsTAsIC0wKSAgICAgICAgICAgICAgID0gwrFwaVxyXG4gKiBhdGFuMijCsTAsICswKSAgICAgICAgICAgICAgID0gwrEwXHJcbiAqIGF0YW4yKMKxMCwgLXgpICAgICAgICAgICAgICAgPSDCsXBpIGZvciB4ID4gMFxyXG4gKiBhdGFuMijCsTAsIHgpICAgICAgICAgICAgICAgID0gwrEwIGZvciB4ID4gMFxyXG4gKiBhdGFuMigteSwgwrEwKSAgICAgICAgICAgICAgID0gLXBpLzIgZm9yIHkgPiAwXHJcbiAqIGF0YW4yKHksIMKxMCkgICAgICAgICAgICAgICAgPSBwaS8yIGZvciB5ID4gMFxyXG4gKiBhdGFuMijCsXksIC1JbmZpbml0eSkgICAgICAgID0gwrFwaSBmb3IgZmluaXRlIHkgPiAwXHJcbiAqIGF0YW4yKMKxeSwgK0luZmluaXR5KSAgICAgICAgPSDCsTAgZm9yIGZpbml0ZSB5ID4gMFxyXG4gKiBhdGFuMijCsUluZmluaXR5LCB4KSAgICAgICAgID0gwrFwaS8yIGZvciBmaW5pdGUgeFxyXG4gKiBhdGFuMijCsUluZmluaXR5LCAtSW5maW5pdHkpID0gwrEzKnBpLzRcclxuICogYXRhbjIowrFJbmZpbml0eSwgK0luZmluaXR5KSA9IMKxcGkvNFxyXG4gKiBhdGFuMihOYU4sIHgpID0gTmFOXHJcbiAqIGF0YW4yKHksIE5hTikgPSBOYU5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGF0YW4yKHksIHgpIHtcclxuICB5ID0gbmV3IHRoaXMoeSk7XHJcbiAgeCA9IG5ldyB0aGlzKHgpO1xyXG4gIHZhciByLFxyXG4gICAgcHIgPSB0aGlzLnByZWNpc2lvbixcclxuICAgIHJtID0gdGhpcy5yb3VuZGluZyxcclxuICAgIHdwciA9IHByICsgNDtcclxuXHJcbiAgLy8gRWl0aGVyIE5hTlxyXG4gIGlmICgheS5zIHx8ICF4LnMpIHtcclxuICAgIHIgPSBuZXcgdGhpcyhOYU4pO1xyXG5cclxuICAvLyBCb3RoIMKxSW5maW5pdHlcclxuICB9IGVsc2UgaWYgKCF5LmQgJiYgIXguZCkge1xyXG4gICAgciA9IGdldFBpKHRoaXMsIHdwciwgMSkudGltZXMoeC5zID4gMCA/IDAuMjUgOiAwLjc1KTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8geCBpcyDCsUluZmluaXR5IG9yIHkgaXMgwrEwXHJcbiAgfSBlbHNlIGlmICgheC5kIHx8IHkuaXNaZXJvKCkpIHtcclxuICAgIHIgPSB4LnMgPCAwID8gZ2V0UGkodGhpcywgcHIsIHJtKSA6IG5ldyB0aGlzKDApO1xyXG4gICAgci5zID0geS5zO1xyXG5cclxuICAvLyB5IGlzIMKxSW5maW5pdHkgb3IgeCBpcyDCsTBcclxuICB9IGVsc2UgaWYgKCF5LmQgfHwgeC5pc1plcm8oKSkge1xyXG4gICAgciA9IGdldFBpKHRoaXMsIHdwciwgMSkudGltZXMoMC41KTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8gQm90aCBub24temVybyBhbmQgZmluaXRlXHJcbiAgfSBlbHNlIGlmICh4LnMgPCAwKSB7XHJcbiAgICB0aGlzLnByZWNpc2lvbiA9IHdwcjtcclxuICAgIHRoaXMucm91bmRpbmcgPSAxO1xyXG4gICAgciA9IHRoaXMuYXRhbihkaXZpZGUoeSwgeCwgd3ByLCAxKSk7XHJcbiAgICB4ID0gZ2V0UGkodGhpcywgd3ByLCAxKTtcclxuICAgIHRoaXMucHJlY2lzaW9uID0gcHI7XHJcbiAgICB0aGlzLnJvdW5kaW5nID0gcm07XHJcbiAgICByID0geS5zIDwgMCA/IHIubWludXMoeCkgOiByLnBsdXMoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSB0aGlzLmF0YW4oZGl2aWRlKHksIHgsIHdwciwgMSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY3ViZSByb290IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjYnJ0KHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY2JydCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kZWQgdG8gYW4gaW50ZWdlciB1c2luZyBgUk9VTkRfQ0VJTGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNlaWwoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDIpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogQ29uZmlndXJlIGdsb2JhbCBzZXR0aW5ncyBmb3IgYSBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiBgb2JqYCBpcyBhbiBvYmplY3Qgd2l0aCBvbmUgb3IgbW9yZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMsXHJcbiAqXHJcbiAqICAgcHJlY2lzaW9uICB7bnVtYmVyfVxyXG4gKiAgIHJvdW5kaW5nICAge251bWJlcn1cclxuICogICB0b0V4cE5lZyAgIHtudW1iZXJ9XHJcbiAqICAgdG9FeHBQb3MgICB7bnVtYmVyfVxyXG4gKiAgIG1heEUgICAgICAge251bWJlcn1cclxuICogICBtaW5FICAgICAgIHtudW1iZXJ9XHJcbiAqICAgbW9kdWxvICAgICB7bnVtYmVyfVxyXG4gKiAgIGNyeXB0byAgICAge2Jvb2xlYW58bnVtYmVyfVxyXG4gKiAgIGRlZmF1bHRzICAge3RydWV9XHJcbiAqXHJcbiAqIEUuZy4gRGVjaW1hbC5jb25maWcoeyBwcmVjaXNpb246IDIwLCByb3VuZGluZzogNCB9KVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29uZmlnKG9iaikge1xyXG4gIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB0aHJvdyBFcnJvcihkZWNpbWFsRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkJyk7XHJcbiAgdmFyIGksIHAsIHYsXHJcbiAgICB1c2VEZWZhdWx0cyA9IG9iai5kZWZhdWx0cyA9PT0gdHJ1ZSxcclxuICAgIHBzID0gW1xyXG4gICAgICAncHJlY2lzaW9uJywgMSwgTUFYX0RJR0lUUyxcclxuICAgICAgJ3JvdW5kaW5nJywgMCwgOCxcclxuICAgICAgJ3RvRXhwTmVnJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgJ3RvRXhwUG9zJywgMCwgRVhQX0xJTUlULFxyXG4gICAgICAnbWF4RScsIDAsIEVYUF9MSU1JVCxcclxuICAgICAgJ21pbkUnLCAtRVhQX0xJTUlULCAwLFxyXG4gICAgICAnbW9kdWxvJywgMCwgOVxyXG4gICAgXTtcclxuXHJcbiAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICBpZiAocCA9IHBzW2ldLCB1c2VEZWZhdWx0cykgdGhpc1twXSA9IERFRkFVTFRTW3BdO1xyXG4gICAgaWYgKCh2ID0gb2JqW3BdKSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgIGlmIChtYXRoZmxvb3IodikgPT09IHYgJiYgdiA+PSBwc1tpICsgMV0gJiYgdiA8PSBwc1tpICsgMl0pIHRoaXNbcF0gPSB2O1xyXG4gICAgICBlbHNlIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHAgKyAnOiAnICsgdik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAocCA9ICdjcnlwdG8nLCB1c2VEZWZhdWx0cykgdGhpc1twXSA9IERFRkFVTFRTW3BdO1xyXG4gIGlmICgodiA9IG9ialtwXSkgIT09IHZvaWQgMCkge1xyXG4gICAgaWYgKHYgPT09IHRydWUgfHwgdiA9PT0gZmFsc2UgfHwgdiA9PT0gMCB8fCB2ID09PSAxKSB7XHJcbiAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvICYmXHJcbiAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB8fCBjcnlwdG8ucmFuZG9tQnl0ZXMpKSB7XHJcbiAgICAgICAgICB0aGlzW3BdID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3IoY3J5cHRvVW5hdmFpbGFibGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzW3BdID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHAgKyAnOiAnICsgdik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29zKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY29zKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvIHByZWNpc2lvblxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvc2goeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5jb3NoKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIERlY2ltYWwgY29uc3RydWN0b3Igd2l0aCB0aGUgc2FtZSBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgYXMgdGhpcyBEZWNpbWFsXHJcbiAqIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2xvbmUob2JqKSB7XHJcbiAgdmFyIGksIHAsIHBzO1xyXG5cclxuICAvKlxyXG4gICAqIFRoZSBEZWNpbWFsIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCBpbnN0YW5jZS5cclxuICAgKlxyXG4gICAqIHYge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSBudW1lcmljIHZhbHVlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gRGVjaW1hbCh2KSB7XHJcbiAgICB2YXIgZSwgaSwgdCxcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgLy8gRGVjaW1hbCBjYWxsZWQgd2l0aG91dCBuZXcuXHJcbiAgICBpZiAoISh4IGluc3RhbmNlb2YgRGVjaW1hbCkpIHJldHVybiBuZXcgRGVjaW1hbCh2KTtcclxuXHJcbiAgICAvLyBSZXRhaW4gYSByZWZlcmVuY2UgdG8gdGhpcyBEZWNpbWFsIGNvbnN0cnVjdG9yLCBhbmQgc2hhZG93IERlY2ltYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yXHJcbiAgICAvLyB3aGljaCBwb2ludHMgdG8gT2JqZWN0LlxyXG4gICAgeC5jb25zdHJ1Y3RvciA9IERlY2ltYWw7XHJcblxyXG4gICAgLy8gRHVwbGljYXRlLlxyXG4gICAgaWYgKHYgaW5zdGFuY2VvZiBEZWNpbWFsKSB7XHJcbiAgICAgIHgucyA9IHYucztcclxuXHJcbiAgICAgIGlmIChleHRlcm5hbCkge1xyXG4gICAgICAgIGlmICghdi5kIHx8IHYuZSA+IERlY2ltYWwubWF4RSkge1xyXG5cclxuICAgICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHYuZSA8IERlY2ltYWwubWluRSkge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgICB4LmQgPSB2LmQuc2xpY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgIHguZCA9IHYuZCA/IHYuZC5zbGljZSgpIDogdi5kO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdCA9IHR5cGVvZiB2O1xyXG5cclxuICAgIGlmICh0ID09PSAnbnVtYmVyJykge1xyXG4gICAgICBpZiAodiA9PT0gMCkge1xyXG4gICAgICAgIHgucyA9IDEgLyB2IDwgMCA/IC0xIDogMTtcclxuICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2IDwgMCkge1xyXG4gICAgICAgIHYgPSAtdjtcclxuICAgICAgICB4LnMgPSAtMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LnMgPSAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGYXN0IHBhdGggZm9yIHNtYWxsIGludGVnZXJzLlxyXG4gICAgICBpZiAodiA9PT0gfn52ICYmIHYgPCAxZTcpIHtcclxuICAgICAgICBmb3IgKGUgPSAwLCBpID0gdjsgaSA+PSAxMDsgaSAvPSAxMCkgZSsrO1xyXG5cclxuICAgICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuICAgICAgICAgIGlmIChlID4gRGVjaW1hbC5tYXhFKSB7XHJcbiAgICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZSA8IERlY2ltYWwubWluRSkge1xyXG4gICAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgICB4LmQgPSBbdl07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICB4LmQgPSBbdl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAvLyBJbmZpbml0eSwgTmFOLlxyXG4gICAgICB9IGVsc2UgaWYgKHYgKiAwICE9PSAwKSB7XHJcbiAgICAgICAgaWYgKCF2KSB4LnMgPSBOYU47XHJcbiAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcGFyc2VEZWNpbWFsKHgsIHYudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgfSBlbHNlIGlmICh0ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyB2KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNaW51cyBzaWduP1xyXG4gICAgaWYgKChpID0gdi5jaGFyQ29kZUF0KDApKSA9PT0gNDUpIHtcclxuICAgICAgdiA9IHYuc2xpY2UoMSk7XHJcbiAgICAgIHgucyA9IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUGx1cyBzaWduP1xyXG4gICAgICBpZiAoaSA9PT0gNDMpIHYgPSB2LnNsaWNlKDEpO1xyXG4gICAgICB4LnMgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0RlY2ltYWwudGVzdCh2KSA/IHBhcnNlRGVjaW1hbCh4LCB2KSA6IHBhcnNlT3RoZXIoeCwgdik7XHJcbiAgfVxyXG5cclxuICBEZWNpbWFsLnByb3RvdHlwZSA9IFA7XHJcblxyXG4gIERlY2ltYWwuUk9VTkRfVVAgPSAwO1xyXG4gIERlY2ltYWwuUk9VTkRfRE9XTiA9IDE7XHJcbiAgRGVjaW1hbC5ST1VORF9DRUlMID0gMjtcclxuICBEZWNpbWFsLlJPVU5EX0ZMT09SID0gMztcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfVVAgPSA0O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRVZFTiA9IDY7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0NFSUwgPSA3O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgRGVjaW1hbC5FVUNMSUQgPSA5O1xyXG5cclxuICBEZWNpbWFsLmNvbmZpZyA9IERlY2ltYWwuc2V0ID0gY29uZmlnO1xyXG4gIERlY2ltYWwuY2xvbmUgPSBjbG9uZTtcclxuICBEZWNpbWFsLmlzRGVjaW1hbCA9IGlzRGVjaW1hbEluc3RhbmNlO1xyXG5cclxuICBEZWNpbWFsLmFicyA9IGFicztcclxuICBEZWNpbWFsLmFjb3MgPSBhY29zO1xyXG4gIERlY2ltYWwuYWNvc2ggPSBhY29zaDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuYWRkID0gYWRkO1xyXG4gIERlY2ltYWwuYXNpbiA9IGFzaW47XHJcbiAgRGVjaW1hbC5hc2luaCA9IGFzaW5oOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5hdGFuID0gYXRhbjtcclxuICBEZWNpbWFsLmF0YW5oID0gYXRhbmg7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmF0YW4yID0gYXRhbjI7XHJcbiAgRGVjaW1hbC5jYnJ0ID0gY2JydDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5jZWlsID0gY2VpbDtcclxuICBEZWNpbWFsLmNvcyA9IGNvcztcclxuICBEZWNpbWFsLmNvc2ggPSBjb3NoOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmRpdiA9IGRpdjtcclxuICBEZWNpbWFsLmV4cCA9IGV4cDtcclxuICBEZWNpbWFsLmZsb29yID0gZmxvb3I7XHJcbiAgRGVjaW1hbC5oeXBvdCA9IGh5cG90OyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5sbiA9IGxuO1xyXG4gIERlY2ltYWwubG9nID0gbG9nO1xyXG4gIERlY2ltYWwubG9nMTAgPSBsb2cxMDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubG9nMiA9IGxvZzI7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubWF4ID0gbWF4O1xyXG4gIERlY2ltYWwubWluID0gbWluO1xyXG4gIERlY2ltYWwubW9kID0gbW9kO1xyXG4gIERlY2ltYWwubXVsID0gbXVsO1xyXG4gIERlY2ltYWwucG93ID0gcG93O1xyXG4gIERlY2ltYWwucmFuZG9tID0gcmFuZG9tO1xyXG4gIERlY2ltYWwucm91bmQgPSByb3VuZDtcclxuICBEZWNpbWFsLnNpZ24gPSBzaWduOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnNpbiA9IHNpbjtcclxuICBEZWNpbWFsLnNpbmggPSBzaW5oOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnNxcnQgPSBzcXJ0O1xyXG4gIERlY2ltYWwuc3ViID0gc3ViO1xyXG4gIERlY2ltYWwudGFuID0gdGFuO1xyXG4gIERlY2ltYWwudGFuaCA9IHRhbmg7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwudHJ1bmMgPSB0cnVuYzsgICAgICAgIC8vIEVTNlxyXG5cclxuICBpZiAob2JqID09PSB2b2lkIDApIG9iaiA9IHt9O1xyXG4gIGlmIChvYmopIHtcclxuICAgIGlmIChvYmouZGVmYXVsdHMgIT09IHRydWUpIHtcclxuICAgICAgcHMgPSBbJ3ByZWNpc2lvbicsICdyb3VuZGluZycsICd0b0V4cE5lZycsICd0b0V4cFBvcycsICdtYXhFJywgJ21pbkUnLCAnbW9kdWxvJywgJ2NyeXB0byddO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcHMubGVuZ3RoOykgaWYgKCFvYmouaGFzT3duUHJvcGVydHkocCA9IHBzW2krK10pKSBvYmpbcF0gPSB0aGlzW3BdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgRGVjaW1hbC5jb25maWcob2JqKTtcclxuXHJcbiAgcmV0dXJuIERlY2ltYWw7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkaXYoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5kaXYoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBleHBvbmVudGlhbCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgcG93ZXIgdG8gd2hpY2ggdG8gcmFpc2UgdGhlIGJhc2Ugb2YgdGhlIG5hdHVyYWwgbG9nLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZXhwKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuZXhwKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmQgdG8gYW4gaW50ZWdlciB1c2luZyBgUk9VTkRfRkxPT1JgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBmbG9vcih4KSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHN1bSBvZiB0aGUgc3F1YXJlcyBvZiB0aGUgYXJndW1lbnRzLFxyXG4gKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIGh5cG90KGEsIGIsIC4uLikgPSBzcXJ0KGFeMiArIGJeMiArIC4uLilcclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBoeXBvdCgpIHtcclxuICB2YXIgaSwgbixcclxuICAgIHQgPSBuZXcgdGhpcygwKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7KSB7XHJcbiAgICBuID0gbmV3IHRoaXMoYXJndW1lbnRzW2krK10pO1xyXG4gICAgaWYgKCFuLmQpIHtcclxuICAgICAgaWYgKG4ucykge1xyXG4gICAgICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoMSAvIDApO1xyXG4gICAgICB9XHJcbiAgICAgIHQgPSBuO1xyXG4gICAgfSBlbHNlIGlmICh0LmQpIHtcclxuICAgICAgdCA9IHQucGx1cyhuLnRpbWVzKG4pKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHQuc3FydCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgb2JqZWN0IGlzIGEgRGVjaW1hbCBpbnN0YW5jZSAod2hlcmUgRGVjaW1hbCBpcyBhbnkgRGVjaW1hbCBjb25zdHJ1Y3RvciksXHJcbiAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RlY2ltYWxJbnN0YW5jZShvYmopIHtcclxuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRGVjaW1hbCB8fCBvYmogJiYgb2JqLm5hbWUgPT09ICdbb2JqZWN0IERlY2ltYWxdJyB8fCBmYWxzZTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGxvZyBvZiBgeGAgdG8gdGhlIGJhc2UgYHlgLCBvciB0byBiYXNlIDEwIGlmIG5vIGJhc2VcclxuICogaXMgc3BlY2lmaWVkLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIGxvZ1t5XSh4KVxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBhcmd1bWVudCBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2coeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAyIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nMih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmxvZygyKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBiYXNlIDEwIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nMTAoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMTApO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXgoKSB7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2x0Jyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG1pbigpIHtcclxuICByZXR1cm4gbWF4T3JNaW4odGhpcywgYXJndW1lbnRzLCAnZ3QnKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtb2R1bG8gYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbW9kKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubW9kKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIG11bHRpcGxpZWQgYnkgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbXVsKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubXVsKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJhaXNlZCB0byB0aGUgcG93ZXIgYHlgLCByb3VuZGVkIHRvIHByZWNpc2lvblxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlLlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBleHBvbmVudC5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHBvdyh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnBvdyh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybnMgYSBuZXcgRGVjaW1hbCB3aXRoIGEgcmFuZG9tIHZhbHVlIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMSwgYW5kIHdpdGhcclxuICogYHNkYCwgb3IgYERlY2ltYWwucHJlY2lzaW9uYCBpZiBgc2RgIGlzIG9taXR0ZWQsIHNpZ25pZmljYW50IGRpZ2l0cyAob3IgbGVzcyBpZiB0cmFpbGluZyB6ZXJvc1xyXG4gKiBhcmUgcHJvZHVjZWQpLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbShzZCkge1xyXG4gIHZhciBkLCBlLCBrLCBuLFxyXG4gICAgaSA9IDAsXHJcbiAgICByID0gbmV3IHRoaXMoMSksXHJcbiAgICByZCA9IFtdO1xyXG5cclxuICBpZiAoc2QgPT09IHZvaWQgMCkgc2QgPSB0aGlzLnByZWNpc2lvbjtcclxuICBlbHNlIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICBrID0gTWF0aC5jZWlsKHNkIC8gTE9HX0JBU0UpO1xyXG5cclxuICBpZiAoIXRoaXMuY3J5cHRvKSB7XHJcbiAgICBmb3IgKDsgaSA8IGs7KSByZFtpKytdID0gTWF0aC5yYW5kb20oKSAqIDFlNyB8IDA7XHJcblxyXG4gIC8vIEJyb3dzZXJzIHN1cHBvcnRpbmcgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5cclxuICB9IGVsc2UgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuICAgIGQgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheShrKSk7XHJcblxyXG4gICAgZm9yICg7IGkgPCBrOykge1xyXG4gICAgICBuID0gZFtpXTtcclxuXHJcbiAgICAgIC8vIDAgPD0gbiA8IDQyOTQ5NjcyOTZcclxuICAgICAgLy8gUHJvYmFiaWxpdHkgbiA+PSA0LjI5ZTksIGlzIDQ5NjcyOTYgLyA0Mjk0OTY3Mjk2ID0gMC4wMDExNiAoMSBpbiA4NjUpLlxyXG4gICAgICBpZiAobiA+PSA0LjI5ZTkpIHtcclxuICAgICAgICBkW2ldID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyAwIDw9IG4gPD0gNDI4OTk5OTk5OVxyXG4gICAgICAgIC8vIDAgPD0gKG4gJSAxZTcpIDw9IDk5OTk5OTlcclxuICAgICAgICByZFtpKytdID0gbiAlIDFlNztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAvLyBOb2RlLmpzIHN1cHBvcnRpbmcgY3J5cHRvLnJhbmRvbUJ5dGVzLlxyXG4gIH0gZWxzZSBpZiAoY3J5cHRvLnJhbmRvbUJ5dGVzKSB7XHJcblxyXG4gICAgLy8gYnVmZmVyXHJcbiAgICBkID0gY3J5cHRvLnJhbmRvbUJ5dGVzKGsgKj0gNCk7XHJcblxyXG4gICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgLy8gMCA8PSBuIDwgMjE0NzQ4MzY0OFxyXG4gICAgICBuID0gZFtpXSArIChkW2kgKyAxXSA8PCA4KSArIChkW2kgKyAyXSA8PCAxNikgKyAoKGRbaSArIDNdICYgMHg3ZikgPDwgMjQpO1xyXG5cclxuICAgICAgLy8gUHJvYmFiaWxpdHkgbiA+PSAyLjE0ZTksIGlzIDc0ODM2NDggLyAyMTQ3NDgzNjQ4ID0gMC4wMDM1ICgxIGluIDI4NikuXHJcbiAgICAgIGlmIChuID49IDIuMTRlOSkge1xyXG4gICAgICAgIGNyeXB0by5yYW5kb21CeXRlcyg0KS5jb3B5KGQsIGkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyAwIDw9IG4gPD0gMjEzOTk5OTk5OVxyXG4gICAgICAgIC8vIDAgPD0gKG4gJSAxZTcpIDw9IDk5OTk5OTlcclxuICAgICAgICByZC5wdXNoKG4gJSAxZTcpO1xyXG4gICAgICAgIGkgKz0gNDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGkgPSBrIC8gNDtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgRXJyb3IoY3J5cHRvVW5hdmFpbGFibGUpO1xyXG4gIH1cclxuXHJcbiAgayA9IHJkWy0taV07XHJcbiAgc2QgJT0gTE9HX0JBU0U7XHJcblxyXG4gIC8vIENvbnZlcnQgdHJhaWxpbmcgZGlnaXRzIHRvIHplcm9zIGFjY29yZGluZyB0byBzZC5cclxuICBpZiAoayAmJiBzZCkge1xyXG4gICAgbiA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gc2QpO1xyXG4gICAgcmRbaV0gPSAoayAvIG4gfCAwKSAqIG47XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgd29yZHMgd2hpY2ggYXJlIHplcm8uXHJcbiAgZm9yICg7IHJkW2ldID09PSAwOyBpLS0pIHJkLnBvcCgpO1xyXG5cclxuICAvLyBaZXJvP1xyXG4gIGlmIChpIDwgMCkge1xyXG4gICAgZSA9IDA7XHJcbiAgICByZCA9IFswXTtcclxuICB9IGVsc2Uge1xyXG4gICAgZSA9IC0xO1xyXG5cclxuICAgIC8vIFJlbW92ZSBsZWFkaW5nIHdvcmRzIHdoaWNoIGFyZSB6ZXJvIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgICBmb3IgKDsgcmRbMF0gPT09IDA7IGUgLT0gTE9HX0JBU0UpIHJkLnNoaWZ0KCk7XHJcblxyXG4gICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZCBvZiByZCB0byBkZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cclxuICAgIGZvciAoayA9IDEsIG4gPSByZFswXTsgbiA+PSAxMDsgbiAvPSAxMCkgaysrO1xyXG5cclxuICAgIC8vIEFkanVzdCB0aGUgZXhwb25lbnQgZm9yIGxlYWRpbmcgemVyb3Mgb2YgdGhlIGZpcnN0IHdvcmQgb2YgcmQuXHJcbiAgICBpZiAoayA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaztcclxuICB9XHJcblxyXG4gIHIuZSA9IGU7XHJcbiAgci5kID0gcmQ7XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kZWQgdG8gYW4gaW50ZWdlciB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFRvIGVtdWxhdGUgYE1hdGgucm91bmRgLCBzZXQgcm91bmRpbmcgdG8gNyAoUk9VTkRfSEFMRl9DRUlMKS5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gcm91bmQoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIHRoaXMucm91bmRpbmcpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuXHJcbiAqICAgMSAgICBpZiB4ID4gMCxcclxuICogIC0xICAgIGlmIHggPCAwLFxyXG4gKiAgIDAgICAgaWYgeCBpcyAwLFxyXG4gKiAgLTAgICAgaWYgeCBpcyAtMCxcclxuICogICBOYU4gIG90aGVyd2lzZVxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzaWduKHgpIHtcclxuICB4ID0gbmV3IHRoaXMoeCk7XHJcbiAgcmV0dXJuIHguZCA/ICh4LmRbMF0gPyB4LnMgOiAwICogeC5zKSA6IHgucyB8fCBOYU47XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzaW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zaW4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnNpbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc3FydCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnNxcnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtaW51cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzdWIoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zdWIoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiB0YW4oeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS50YW4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFuaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnRhbmgoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCB0cnVuY2F0ZWQgdG8gYW4gaW50ZWdlci5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdHJ1bmMoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDEpO1xyXG59XHJcblxyXG5cclxuUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudG9TdHJpbmc7XHJcblBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEZWNpbWFsJztcclxuXHJcbi8vIENyZWF0ZSBhbmQgY29uZmlndXJlIGluaXRpYWwgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuZXhwb3J0IHZhciBEZWNpbWFsID0gY2xvbmUoREVGQVVMVFMpO1xyXG5cclxuLy8gQ3JlYXRlIHRoZSBpbnRlcm5hbCBjb25zdGFudHMgZnJvbSB0aGVpciBzdHJpbmcgdmFsdWVzLlxyXG5MTjEwID0gbmV3IERlY2ltYWwoTE4xMCk7XHJcblBJID0gbmV3IERlY2ltYWwoUEkpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVjaW1hbDtcclxuIiwiaW1wb3J0IERlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdCaWdOdW1iZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnP29uJywgJ2NvbmZpZyddO1xuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG9uLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjtcbiAgdmFyIEVVQ0xJRCA9IDk7IC8vIFVzZSBldWNsaWRpYW4gZGl2aXNpb24gZm9yIG1vZCBjYWxjdWxhdGlvblxuXG4gIHZhciBCaWdOdW1iZXIgPSBEZWNpbWFsLmNsb25lKHtcbiAgICBwcmVjaXNpb246IGNvbmZpZy5wcmVjaXNpb24sXG4gICAgbW9kdWxvOiBFVUNMSURcbiAgfSk7XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuICBCaWdOdW1iZXIucHJvdG90eXBlLnR5cGUgPSAnQmlnTnVtYmVyJztcbiAgQmlnTnVtYmVyLnByb3RvdHlwZS5pc0JpZ051bWJlciA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgQmlnTnVtYmVyIGNvbnRhaW5pbmdcbiAgICogdHlwZSBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJpZ051bWJlclwiLCBcInZhbHVlXCI6IFwiMC4yXCJ9YFxuICAgKi9cblxuICBCaWdOdW1iZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQmlnTnVtYmVyJyxcbiAgICAgIHZhbHVlOiB0aGlzLnRvU3RyaW5nKClcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBCaWdOdW1iZXIgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQmlnTnVtYmVyXCIsIFwidmFsdWVcIjogXCIwLjJcIn1gXG4gICAqIEByZXR1cm4ge0JpZ051bWJlcn1cbiAgICovXG5cblxuICBCaWdOdW1iZXIuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKGpzb24udmFsdWUpO1xuICB9O1xuXG4gIGlmIChvbikge1xuICAgIC8vIGxpc3RlbiBmb3IgY2hhbmdlZCBpbiB0aGUgY29uZmlndXJhdGlvbiwgYXV0b21hdGljYWxseSBhcHBseSBjaGFuZ2VkIHByZWNpc2lvblxuICAgIG9uKCdjb25maWcnLCBmdW5jdGlvbiAoY3VyciwgcHJldikge1xuICAgICAgaWYgKGN1cnIucHJlY2lzaW9uICE9PSBwcmV2LnByZWNpc2lvbikge1xuICAgICAgICBCaWdOdW1iZXIuY29uZmlnKHtcbiAgICAgICAgICBwcmVjaXNpb246IGN1cnIucHJlY2lzaW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIEJpZ051bWJlcjtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiLyoqXG4gKiBAbGljZW5zZSBDb21wbGV4LmpzIHYyLjAuMTMgMTIvMDUvMjAyMFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3MgYWxsb3dzIHRoZSBtYW5pcHVsYXRpb24gb2YgY29tcGxleCBudW1iZXJzLlxuICogWW91IGNhbiBwYXNzIGEgY29tcGxleCBudW1iZXIgaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBvYmplY3QsIGRvdWJsZSwgc3RyaW5nIG9yIHR3byBpbnRlZ2VyIHBhcmFtZXRlcnMuXG4gKlxuICogT2JqZWN0IGZvcm1cbiAqIHsgcmU6IDxyZWFsPiwgaW06IDxpbWFnaW5hcnk+IH1cbiAqIHsgYXJnOiA8YW5nbGU+LCBhYnM6IDxyYWRpdXM+IH1cbiAqIHsgcGhpOiA8YW5nbGU+LCByOiA8cmFkaXVzPiB9XG4gKlxuICogQXJyYXkgLyBWZWN0b3IgZm9ybVxuICogWyByZWFsLCBpbWFnaW5hcnkgXVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiA5OS4zIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAnMjMuMTMzNycgLSBTaW1wbGUgcmVhbCBudW1iZXJcbiAqICcxNSszaScgLSBhIHNpbXBsZSBjb21wbGV4IG51bWJlclxuICogJzMtaScgLSBhIHNpbXBsZSBjb21wbGV4IG51bWJlclxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGMgPSBuZXcgQ29tcGxleCgnOTkuMys4aScpO1xuICogYy5tdWwoe3I6IDMsIGk6IDl9KS5kaXYoNC45KS5zdWIoMywgMik7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb3NoID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoTWF0aC5leHAoeCkgKyBNYXRoLmV4cCgteCkpICogMC41O1xuICB9O1xuXG4gIHZhciBzaW5oID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoTWF0aC5leHAoeCkgLSBNYXRoLmV4cCgteCkpICogMC41O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGNvcyh4KSAtIDEgdXNpbmcgVGF5bG9yIHNlcmllcyBpZiB4IGlzIHNtYWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBjb3MoeCkgLSAxXG4gICAqL1xuXG4gIHZhciBjb3NtMSA9IGZ1bmN0aW9uKHgpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLlBJLzQ7XG4gICAgaWYgKHggPCAtbGltaXQgfHwgeCA+IGxpbWl0KSB7XG4gICAgICByZXR1cm4gKE1hdGguY29zKHgpIC0gMS4wKTtcbiAgICB9XG5cbiAgICB2YXIgeHggPSB4ICogeDtcbiAgICByZXR1cm4geHggKlxuICAgICAgKC0wLjUgKyB4eCAqXG4gICAgICAgICgxLzI0ICsgeHggKlxuICAgICAgICAgICgtMS83MjAgKyB4eCAqXG4gICAgICAgICAgICAoMS80MDMyMCArIHh4ICpcbiAgICAgICAgICAgICAgKC0xLzM2Mjg4MDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgKDEvNDc5MDAxNDYwMCArIHh4ICpcbiAgICAgICAgICAgICAgICAgICgtMS84NzE3ODI5MTIwMCArIHh4ICpcbiAgICAgICAgICAgICAgICAgICAgKDEvMjA5MjI3ODk4ODgwMDApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gIH07XG5cbiAgdmFyIGh5cG90ID0gZnVuY3Rpb24oeCwgeSkge1xuXG4gICAgdmFyIGEgPSBNYXRoLmFicyh4KTtcbiAgICB2YXIgYiA9IE1hdGguYWJzKHkpO1xuXG4gICAgaWYgKGEgPCAzMDAwICYmIGIgPCAzMDAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIH1cblxuICAgIGlmIChhIDwgYikge1xuICAgICAgYSA9IGI7XG4gICAgICBiID0geCAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGIgPSB5IC8geDtcbiAgICB9XG4gICAgcmV0dXJuIGEgKiBNYXRoLnNxcnQoMSArIGIgKiBiKTtcbiAgfTtcblxuICB2YXIgcGFyc2VyX2V4aXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBTeW50YXhFcnJvcignSW52YWxpZCBQYXJhbScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGxvZyhzcXJ0KGFeMitiXjIpKSBpbiBhIHdheSB0byBhdm9pZCBvdmVyZmxvd3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGxvZ0h5cG90KGEsIGIpIHtcblxuICAgIHZhciBfYSA9IE1hdGguYWJzKGEpO1xuICAgIHZhciBfYiA9IE1hdGguYWJzKGIpO1xuXG4gICAgaWYgKGEgPT09IDApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhfYik7XG4gICAgfVxuXG4gICAgaWYgKGIgPT09IDApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhfYSk7XG4gICAgfVxuXG4gICAgaWYgKF9hIDwgMzAwMCAmJiBfYiA8IDMwMDApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhhICogYSArIGIgKiBiKSAqIDAuNTtcbiAgICB9XG5cbiAgICAvKiBJIGdvdCA0IGlkZWFzIHRvIGNvbXB1dGUgdGhpcyBwcm9wZXJ0eSB3aXRob3V0IG92ZXJmbG93OlxuICAgICAqXG4gICAgICogVGVzdGluZyAxMDAwMDAwIHRpbWVzIHdpdGggcmFuZG9tIHNhbXBsZXMgZm9yIGEsYiDiiIggWzEsIDEwMDAwMDAwMDBdIGFnYWluc3QgYSBiaWcgZGVjaW1hbCBsaWJyYXJ5IHRvIGdldCBhbiBlcnJvciBlc3RpbWF0ZVxuICAgICAqXG4gICAgICogMS4gT25seSBlbGltaW5hdGUgdGhlIHNxdWFyZSByb290OiAoT1ZFUkFMTCBFUlJPUjogMy45MTIyNDgzMDMwOTUxMTE2ZS0xMSlcblxuICAgICBNYXRoLmxvZyhhICogYSArIGIgKiBiKSAvIDJcblxuICAgICAqXG4gICAgICpcbiAgICAgKiAyLiBUcnkgdG8gdXNlIHRoZSBub24tb3ZlcmZsb3dpbmcgcHl0aGFnb3JhczogKE9WRVJBTEwgRVJST1I6IDguODg5NzYwMDM5MjEwMTU5ZS0xMClcblxuICAgICB2YXIgZm4gPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgIGEgPSBNYXRoLmFicyhhKTtcbiAgICAgYiA9IE1hdGguYWJzKGIpO1xuICAgICB2YXIgdCA9IE1hdGgubWluKGEsIGIpO1xuICAgICBhID0gTWF0aC5tYXgoYSwgYik7XG4gICAgIHQgPSB0IC8gYTtcblxuICAgICByZXR1cm4gTWF0aC5sb2coYSkgKyBNYXRoLmxvZygxICsgdCAqIHQpIC8gMjtcbiAgICAgfTtcblxuICAgICAqIDMuIEFidXNlIHRoZSBpZGVudGl0eSBjb3MoYXRhbih5L3gpID0geCAvIHNxcnQoeF4yK3leMik6IChPVkVSQUxMIEVSUk9SOiAzLjQ3ODAxNzg3MzcwMzcyMDRlLTEwKVxuXG4gICAgIE1hdGgubG9nKGEgLyBNYXRoLmNvcyhNYXRoLmF0YW4yKGIsIGEpKSlcblxuICAgICAqIDQuIFVzZSAzLiBhbmQgYXBwbHkgbG9nIHJ1bGVzOiAoT1ZFUkFMTCBFUlJPUjogMS4yMDE0MDg3NTAyNjIwODk2ZS05KVxuXG4gICAgIE1hdGgubG9nKGEpIC0gTWF0aC5sb2coTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpXG5cbiAgICAgKi9cblxuICAgIHJldHVybiBNYXRoLmxvZyhhIC8gTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpO1xuICB9XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24oYSwgYikge1xuXG4gICAgdmFyIHogPSB7J3JlJzogMCwgJ2ltJzogMH07XG5cbiAgICBpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGEgPT09IG51bGwpIHtcbiAgICAgIHpbJ3JlJ10gPVxuICAgICAgICAgICAgICB6WydpbSddID0gMDtcbiAgICB9IGVsc2UgaWYgKGIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgelsncmUnXSA9IGE7XG4gICAgICB6WydpbSddID0gYjtcbiAgICB9IGVsc2VcbiAgICAgIHN3aXRjaCAodHlwZW9mIGEpIHtcblxuICAgICAgICBjYXNlICdvYmplY3QnOlxuXG4gICAgICAgICAgaWYgKCdpbScgaW4gYSAmJiAncmUnIGluIGEpIHtcbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydyZSddO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbJ2ltJ107XG4gICAgICAgICAgfSBlbHNlIGlmICgnYWJzJyBpbiBhICYmICdhcmcnIGluIGEpIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGFbJ2FicyddKSAmJiBOdW1iZXIuaXNGaW5pdGUoYVsnYXJnJ10pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgelsncmUnXSA9IGFbJ2FicyddICogTWF0aC5jb3MoYVsnYXJnJ10pO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbJ2FicyddICogTWF0aC5zaW4oYVsnYXJnJ10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJ3InIGluIGEgJiYgJ3BoaScgaW4gYSkge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYVsnciddKSAmJiBOdW1iZXIuaXNGaW5pdGUoYVsncGhpJ10pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgelsncmUnXSA9IGFbJ3InXSAqIE1hdGguY29zKGFbJ3BoaSddKTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydyJ10gKiBNYXRoLnNpbihhWydwaGknXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhLmxlbmd0aCA9PT0gMikgeyAvLyBRdWljayBhcnJheSBjaGVja1xuICAgICAgICAgICAgelsncmUnXSA9IGFbMF07XG4gICAgICAgICAgICB6WydpbSddID0gYVsxXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcblxuICAgICAgICAgIHpbJ2ltJ10gPSAvKiB2b2lkICovXG4gICAgICAgICAgICAgICAgICB6WydyZSddID0gMDtcblxuICAgICAgICAgIHZhciB0b2tlbnMgPSBhLm1hdGNoKC9cXGQrXFwuP1xcZCplWystXT9cXGQrfFxcZCtcXC4/XFxkKnxcXC5cXGQrfC4vZyk7XG4gICAgICAgICAgdmFyIHBsdXMgPSAxO1xuICAgICAgICAgIHZhciBtaW51cyA9IDA7XG5cbiAgICAgICAgICBpZiAodG9rZW5zID09PSBudWxsKSB7XG4gICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIHZhciBjID0gdG9rZW5zW2ldO1xuXG4gICAgICAgICAgICBpZiAoYyA9PT0gJyAnIHx8IGMgPT09ICdcXHQnIHx8IGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgIC8qIHZvaWQgKi9cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJysnKSB7XG4gICAgICAgICAgICAgIHBsdXMrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgIG1pbnVzKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICdpJyB8fCBjID09PSAnSScpIHtcblxuICAgICAgICAgICAgICBpZiAocGx1cyArIG1pbnVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0b2tlbnNbaSArIDFdICE9PSAnICcgJiYgIWlzTmFOKHRva2Vuc1tpICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgelsnaW0nXSArPSBwYXJzZUZsb2F0KChtaW51cyAlIDIgPyAnLScgOiAnJykgKyB0b2tlbnNbaSArIDFdKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgelsnaW0nXSArPSBwYXJzZUZsb2F0KChtaW51cyAlIDIgPyAnLScgOiAnJykgKyAnMScpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBsdXMgPSBtaW51cyA9IDA7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA9PT0gMCB8fCBpc05hTihjKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodG9rZW5zW2kgKyAxXSA9PT0gJ2knIHx8IHRva2Vuc1tpICsgMV0gPT09ICdJJykge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgYyk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHpbJ3JlJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGx1cyA9IG1pbnVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdGlsbCBzb21ldGhpbmcgb24gdGhlIHN0YWNrXG4gICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA+IDApIHtcbiAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgelsnaW0nXSA9IDA7XG4gICAgICAgICAgelsncmUnXSA9IGE7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgfVxuXG4gICAgaWYgKGlzTmFOKHpbJ3JlJ10pIHx8IGlzTmFOKHpbJ2ltJ10pKSB7XG4gICAgICAvLyBJZiBhIGNhbGN1bGF0aW9uIGlzIE5hTiwgd2UgdHJlYXQgaXQgYXMgTmFOIGFuZCBkb24ndCB0aHJvd1xuICAgICAgLy9wYXJzZXJfZXhpdCgpO1xuICAgIH1cblxuICAgIHJldHVybiB6O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAqL1xuICBmdW5jdGlvbiBDb21wbGV4KGEsIGIpIHtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb21wbGV4KSkge1xuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KGEsIGIpO1xuICAgIH1cblxuICAgIHZhciB6ID0gcGFyc2UoYSwgYik7XG5cbiAgICB0aGlzWydyZSddID0gelsncmUnXTtcbiAgICB0aGlzWydpbSddID0gelsnaW0nXTtcbiAgfVxuXG4gIENvbXBsZXgucHJvdG90eXBlID0ge1xuXG4gICAgJ3JlJzogMCxcbiAgICAnaW0nOiAwLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc2lnbiBvZiBhIGNvbXBsZXggbnVtYmVyLCB3aGljaCBpcyBhIG5vcm1hbGl6ZWQgY29tcGxleFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NpZ24nOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGFicyA9IHRoaXNbJ2FicyddKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAvIGFicyxcbiAgICAgICAgICAgICAgdGhpc1snaW0nXSAvIGFicyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FkZCc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gSW5maW5pdHkgKyBJbmZpbml0eSA9IE5hTlxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgKyB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IEluZmluaXR5IH1cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0aGlzWydyZSddICsgelsncmUnXSxcbiAgICAgICAgICAgICAgdGhpc1snaW0nXSArIHpbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3N1Yic6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gSW5maW5pdHkgLSBJbmZpbml0eSA9IE5hTlxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgLSB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IEluZmluaXR5IH1cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0aGlzWydyZSddIC0gelsncmUnXSxcbiAgICAgICAgICAgICAgdGhpc1snaW0nXSAtIHpbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdtdWwnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5ICogMCA9IE5hTlxuICAgICAgaWYgKCh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc1plcm8nXSgpKSB8fCAodGhpc1snaXNaZXJvJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ05BTiddO1xuICAgICAgfVxuXG4gICAgICAvLyBJbmZpbml0eSAqIHogPSBJbmZpbml0eSB7IHdoZXJlIHogIT0gMCB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3J0IGNpcmN1aXQgZm9yIHJlYWwgdmFsdWVzXG4gICAgICBpZiAoelsnaW0nXSA9PT0gMCAmJiB0aGlzWydpbSddID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzWydyZSddICogelsncmUnXSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAqIHpbJ3JlJ10gLSB0aGlzWydpbSddICogelsnaW0nXSxcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAqIHpbJ2ltJ10gKyB0aGlzWydpbSddICogelsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Rpdic6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gMCAvIDAgPSBOYU4gYW5kIEluZmluaXR5IC8gSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICgodGhpc1snaXNaZXJvJ10oKSAmJiB6Wydpc1plcm8nXSgpKSB8fCAodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgLyAwID0gSW5maW5pdHlcbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICAvLyAwIC8gSW5maW5pdHkgPSAwXG4gICAgICBpZiAodGhpc1snaXNaZXJvJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnWkVSTyddO1xuICAgICAgfVxuXG4gICAgICBhID0gdGhpc1sncmUnXTtcbiAgICAgIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgYyA9IHpbJ3JlJ107XG4gICAgICB2YXIgZCA9IHpbJ2ltJ107XG4gICAgICB2YXIgdCwgeDtcblxuICAgICAgaWYgKDAgPT09IGQpIHtcbiAgICAgICAgLy8gRGl2aXNvciBpcyByZWFsXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChhIC8gYywgYiAvIGMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYykgPCBNYXRoLmFicyhkKSkge1xuXG4gICAgICAgIHggPSBjIC8gZDtcbiAgICAgICAgdCA9IGMgKiB4ICsgZDtcblxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgKGEgKiB4ICsgYikgLyB0LFxuICAgICAgICAgICAgICAgIChiICogeCAtIGEpIC8gdCk7XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgeCA9IGQgLyBjO1xuICAgICAgICB0ID0gZCAqIHggKyBjO1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAoYSArIGIgKiB4KSAvIHQsXG4gICAgICAgICAgICAgICAgKGIgLSBhICogeCkgLyB0KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAncG93JzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICBhID0gdGhpc1sncmUnXTtcbiAgICAgIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoelsnaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnT05FJ107XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBleHBvbmVudCBpcyByZWFsXG4gICAgICBpZiAoelsnaW0nXSA9PT0gMCkge1xuXG4gICAgICAgIGlmIChiID09PSAwICYmIGEgPiAwKSB7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5wb3coYSwgelsncmUnXSksIDApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoYSA9PT0gMCkgeyAvLyBJZiBiYXNlIGlzIGZ1bGx5IGltYWdpbmFyeVxuXG4gICAgICAgICAgc3dpdGNoICgoelsncmUnXSAlIDQgKyA0KSAlIDQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGgucG93KGIsIHpbJ3JlJ10pLCAwKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIE1hdGgucG93KGIsIHpbJ3JlJ10pKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KC1NYXRoLnBvdyhiLCB6WydyZSddKSwgMCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCAtTWF0aC5wb3coYiwgelsncmUnXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBJIGNvdWxkbid0IGZpbmQgYSBnb29kIGZvcm11bGEsIHNvIGhlcmUgaXMgYSBkZXJpdmF0aW9uIGFuZCBvcHRpbWl6YXRpb25cbiAgICAgICAqXG4gICAgICAgKiB6XzFeel8yID0gKGEgKyBiaSleKGMgKyBkaSlcbiAgICAgICAqICAgICAgICAgPSBleHAoKGMgKyBkaSkgKiBsb2coYSArIGJpKVxuICAgICAgICogICAgICAgICA9IHBvdyhhXjIgKyBiXjIsIChjICsgZGkpIC8gMikgKiBleHAoaShjICsgZGkpYXRhbjIoYiwgYSkpXG4gICAgICAgKiA9Pi4uLlxuICAgICAgICogUmUgPSAocG93KGFeMiArIGJeMiwgYyAvIDIpICogZXhwKC1kICogYXRhbjIoYiwgYSkpKSAqIGNvcyhkICogbG9nKGFeMiArIGJeMikgLyAyICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICogSW0gPSAocG93KGFeMiArIGJeMiwgYyAvIDIpICogZXhwKC1kICogYXRhbjIoYiwgYSkpKSAqIHNpbihkICogbG9nKGFeMiArIGJeMikgLyAyICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICpcbiAgICAgICAqID0+Li4uXG4gICAgICAgKiBSZSA9IGV4cChjICogbG9nKHNxcnQoYV4yICsgYl4yKSkgLSBkICogYXRhbjIoYiwgYSkpICogY29zKGQgKiBsb2coc3FydChhXjIgKyBiXjIpKSArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqIEltID0gZXhwKGMgKiBsb2coc3FydChhXjIgKyBiXjIpKSAtIGQgKiBhdGFuMihiLCBhKSkgKiBzaW4oZCAqIGxvZyhzcXJ0KGFeMiArIGJeMikpICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICpcbiAgICAgICAqID0+XG4gICAgICAgKiBSZSA9IGV4cChjICogbG9nc3EyIC0gZCAqIGFyZyh6XzEpKSAqIGNvcyhkICogbG9nc3EyICsgYyAqIGFyZyh6XzEpKVxuICAgICAgICogSW0gPSBleHAoYyAqIGxvZ3NxMiAtIGQgKiBhcmcoel8xKSkgKiBzaW4oZCAqIGxvZ3NxMiArIGMgKiBhcmcoel8xKSlcbiAgICAgICAqXG4gICAgICAgKi9cblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCAmJiB6WydyZSddID4gMCAmJiB6WydpbSddID49IDApIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZyA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICB2YXIgbG9oID0gbG9nSHlwb3QoYSwgYik7XG5cbiAgICAgIGEgPSBNYXRoLmV4cCh6WydyZSddICogbG9oIC0gelsnaW0nXSAqIGFyZyk7XG4gICAgICBiID0gelsnaW0nXSAqIGxvaCArIHpbJ3JlJ10gKiBhcmc7XG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGEgKiBNYXRoLmNvcyhiKSxcbiAgICAgICAgICAgICAgYSAqIE1hdGguc2luKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNxdWFyZSByb290XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc3FydCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgciA9IHRoaXNbJ2FicyddKCk7XG5cbiAgICAgIHZhciByZSwgaW07XG5cbiAgICAgIGlmIChhID49IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLnNxcnQoYSksIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmUgPSAwLjUgKiBNYXRoLnNxcnQoMi4wICogKHIgKyBhKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZSA9IE1hdGguYWJzKGIpIC8gTWF0aC5zcXJ0KDIgKiAociAtIGEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgPD0gMCkge1xuICAgICAgICBpbSA9IDAuNSAqIE1hdGguc3FydCgyLjAgKiAociAtIGEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltID0gTWF0aC5hYnMoYikgLyBNYXRoLnNxcnQoMiAqIChyICsgYSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgocmUsIGIgPCAwID8gLWltIDogaW0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggZXhwb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdleHAnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHRtcCA9IE1hdGguZXhwKHRoaXNbJ3JlJ10pO1xuXG4gICAgICBpZiAodGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICAvL3JldHVybiBuZXcgQ29tcGxleCh0bXAsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0bXAgKiBNYXRoLmNvcyh0aGlzWydpbSddKSxcbiAgICAgICAgICAgICAgdG1wICogTWF0aC5zaW4odGhpc1snaW0nXSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggZXhwb25lbnQgYW5kIHN1YnRyYWN0cyBvbmUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1heSBiZSBtb3JlIGFjY3VyYXRlIHRoYW4gYENvbXBsZXgoeCkuZXhwKCkuc3ViKDEpYCBpZlxuICAgICAqIGB4YCBpcyBzbWFsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdleHBtMSc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvKipcbiAgICAgICAqIGV4cChhICsgaSpiKSAtIDFcbiAgICAgICA9IGV4cChhKSAqIChjb3MoYikgKyBqKnNpbihiKSkgLSAxXG4gICAgICAgPSBleHBtMShhKSpjb3MoYikgKyBjb3NtMShiKSArIGoqZXhwKGEpKnNpbihiKVxuICAgICAgICovXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmV4cG0xKGEpICogTWF0aC5jb3MoYikgKyBjb3NtMShiKSxcbiAgICAgICAgICAgICAgTWF0aC5leHAoYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdsb2cnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCAmJiBhID4gMCkge1xuICAgICAgICAvL3JldHVybiBuZXcgQ29tcGxleChNYXRoLmxvZyhhKSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgbG9nSHlwb3QoYSwgYiksXG4gICAgICAgICAgICAgIE1hdGguYXRhbjIoYiwgYSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIG1hZ25pdHVkZSBvZiB0aGUgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgJ2Ficyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gaHlwb3QodGhpc1sncmUnXSwgdGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgYW5nbGUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgICdhcmcnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpc1snaW0nXSwgdGhpc1sncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgc2luZSBvZiB0aGUgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2luKGMpID0gKGVeYiAtIGVeKC1iKSkgLyAoMmkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAqIGNvc2goYiksXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogc2luaChiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29zaW5lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY29zJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNvcyh6KSA9IChlXmIgKyBlXigtYikpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5jb3MoYSkgKiBjb3NoKGIpLFxuICAgICAgICAgICAgICAtTWF0aC5zaW4oYSkgKiBzaW5oKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSB0YW5nZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAndGFuJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHRhbihjKSA9IChlXihjaSkgLSBlXigtY2kpKSAvIChpKGVeKGNpKSArIGVeKC1jaSkpKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoYSkgKyBjb3NoKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpIC8gZCxcbiAgICAgICAgICAgICAgc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NvdCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3QoYykgPSBpKGVeKGNpKSArIGVeKC1jaSkpIC8gKGVeKGNpKSAtIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBNYXRoLmNvcyhhKSAtIGNvc2goYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgLU1hdGguc2luKGEpIC8gZCxcbiAgICAgICAgICAgICAgc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHNlY2FudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NlYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzZWMoYykgPSAyIC8gKGVeKGNpKSArIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gMC41ICogY29zaCgyICogYikgKyAwLjUgKiBNYXRoLmNvcygyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5jb3MoYSkgKiBjb3NoKGIpIC8gZCxcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBzaW5oKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29zZWNhbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjc2MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY3NjKGMpID0gMmkgLyAoZV4oY2kpIC0gZV4oLWNpKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSAwLjUgKiBjb3NoKDIgKiBiKSAtIDAuNSAqIE1hdGguY29zKDIgKiBhKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAqIGNvc2goYikgLyBkLFxuICAgICAgICAgICAgICAtTWF0aC5jb3MoYSkgKiBzaW5oKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBzaW51c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzaW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXNpbihjKSA9IC1pICogbG9nKGNpICsgc3FydCgxIC0gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgYiAqIGIgLSBhICogYSArIDEsXG4gICAgICAgICAgICAgIC0yICogYSAqIGIpWydzcXJ0J10oKTtcblxuICAgICAgdmFyIHQyID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHQxWydyZSddIC0gYixcbiAgICAgICAgICAgICAgdDFbJ2ltJ10gKyBhKVsnbG9nJ10oKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHQyWydpbSddLCAtdDJbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgY29zaW51c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvcyhjKSA9IGkgKiBsb2coYyAtIGkgKiBzcXJ0KDEgLSBjXjIpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciB0MSA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBiICogYiAtIGEgKiBhICsgMSxcbiAgICAgICAgICAgICAgLTIgKiBhICogYilbJ3NxcnQnXSgpO1xuXG4gICAgICB2YXIgdDIgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdDFbJ3JlJ10gLSBiLFxuICAgICAgICAgICAgICB0MVsnaW0nXSArIGEpWydsb2cnXSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5QSSAvIDIgLSB0MlsnaW0nXSwgdDJbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2F0YW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXRhbihjKSA9IGkgLyAyIGxvZygoaSArIHgpIC8gKGkgLSB4KSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCkge1xuXG4gICAgICAgIGlmIChiID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIEluZmluaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCAtSW5maW5pdHkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyAoMS4wIC0gYikgKiAoMS4wIC0gYik7XG5cbiAgICAgIHZhciB0MSA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAoMSAtIGIgKiBiIC0gYSAqIGEpIC8gZCxcbiAgICAgICAgICAgICAgLTIgKiBhIC8gZCkubG9nKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtMC41ICogdDFbJ2ltJ10sIDAuNSAqIHQxWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3QnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvdChjKSA9IGkgLyAyIGxvZygoYyAtIGkpIC8gKGMgKyBpKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5hdGFuMigxLCBhKSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmF0YW4oKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hdGFuKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBzZWNhbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2VjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzZWMoYykgPSAtaSAqIGxvZygxIC8gYyArIHNxcnQoMSAtIGkgLyBjXjIpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYWNvcygpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFjb3MoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvc2VjYW5zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNzYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY3NjKGMpID0gLWkgKiBsb2coaSAvIGMgKyBzcXJ0KDEgLSAxIC8gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLlBJIC8gMiwgSW5maW5pdHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hc2luKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXNpbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggc2luaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NpbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2luaChjKSA9IChlXmMgLSBlXi1jKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgKiBNYXRoLmNvcyhiKSxcbiAgICAgICAgICAgICAgY29zaChhKSAqIE1hdGguc2luKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGNvc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNvc2goYykgPSAoZV5jICsgZV4tYykgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBjb3NoKGEpICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIHNpbmgoYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCB0YW5oXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAndGFuaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyB0YW5oKGMpID0gKGVeYyAtIGVeLWMpIC8gKGVeYyArIGVeLWMpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBjb3NoKGEpICsgTWF0aC5jb3MoYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgc2luaChhKSAvIGQsXG4gICAgICAgICAgICAgIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBjb3RoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY290aCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3RoKGMpID0gKGVeYyArIGVeLWMpIC8gKGVeYyAtIGVeLWMpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBjb3NoKGEpIC0gTWF0aC5jb3MoYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgc2luaChhKSAvIGQsXG4gICAgICAgICAgICAgIC1NYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NzY2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY3NjaChjKSA9IDIgLyAoZV5jIC0gZV4tYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBNYXRoLmNvcygyICogYikgLSBjb3NoKDIgKiBhKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAtMiAqIHNpbmgoYSkgKiBNYXRoLmNvcyhiKSAvIGQsXG4gICAgICAgICAgICAgIDIgKiBjb3NoKGEpICogTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNlY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzZWNoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNlY2goYykgPSAyIC8gKGVeYyArIGVeLWMpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoMiAqIGIpICsgY29zaCgyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgMiAqIGNvc2goYSkgKiBNYXRoLmNvcyhiKSAvIGQsXG4gICAgICAgICAgICAgIC0yICogc2luaChhKSAqIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhc2luaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzaW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzaW5oKGMpID0gbG9nKGMgKyBzcXJ0KGNeMiArIDEpKVxuXG4gICAgICB2YXIgdG1wID0gdGhpc1snaW0nXTtcbiAgICAgIHRoaXNbJ2ltJ10gPSAtdGhpc1sncmUnXTtcbiAgICAgIHRoaXNbJ3JlJ10gPSB0bXA7XG4gICAgICB2YXIgcmVzID0gdGhpc1snYXNpbiddKCk7XG5cbiAgICAgIHRoaXNbJ3JlJ10gPSAtdGhpc1snaW0nXTtcbiAgICAgIHRoaXNbJ2ltJ10gPSB0bXA7XG4gICAgICB0bXAgPSByZXNbJ3JlJ107XG5cbiAgICAgIHJlc1sncmUnXSA9IC1yZXNbJ2ltJ107XG4gICAgICByZXNbJ2ltJ10gPSB0bXA7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYWNvc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY29zaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY29zaChjKSA9IGxvZyhjICsgc3FydChjXjIgLSAxKSlcblxuICAgICAgdmFyIHJlcyA9IHRoaXNbJ2Fjb3MnXSgpO1xuICAgICAgaWYgKHJlc1snaW0nXSA8PSAwKSB7XG4gICAgICAgIHZhciB0bXAgPSByZXNbJ3JlJ107XG4gICAgICAgIHJlc1sncmUnXSA9IC1yZXNbJ2ltJ107XG4gICAgICAgIHJlc1snaW0nXSA9IHRtcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0bXAgPSByZXNbJ2ltJ107XG4gICAgICAgIHJlc1snaW0nXSA9IC1yZXNbJ3JlJ107XG4gICAgICAgIHJlc1sncmUnXSA9IHRtcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhdGFuaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2F0YW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGF0YW5oKGMpID0gbG9nKCgxK2MpIC8gKDEtYykpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciBub0lNID0gYSA+IDEgJiYgYiA9PT0gMDtcbiAgICAgIHZhciBvbmVNaW51cyA9IDEgLSBhO1xuICAgICAgdmFyIG9uZVBsdXMgPSAxICsgYTtcbiAgICAgIHZhciBkID0gb25lTWludXMgKiBvbmVNaW51cyArIGIgKiBiO1xuXG4gICAgICB2YXIgeCA9IChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChvbmVQbHVzICogb25lTWludXMgLSBiICogYikgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIChiICogb25lTWludXMgKyBvbmVQbHVzICogYikgLyBkKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAtMSkgPyAoYSAvIDApIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAoYiAvIDApIDogMCk7XG5cbiAgICAgIHZhciB0ZW1wID0geFsncmUnXTtcbiAgICAgIHhbJ3JlJ10gPSBsb2dIeXBvdCh4WydyZSddLCB4WydpbSddKSAvIDI7XG4gICAgICB4WydpbSddID0gTWF0aC5hdGFuMih4WydpbSddLCB0ZW1wKSAvIDI7XG4gICAgICBpZiAobm9JTSkge1xuICAgICAgICB4WydpbSddID0gLXhbJ2ltJ107XG4gICAgICB9XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFjb3RoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvdGgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvdGgoYykgPSBsb2coKGMrMSkgLyAoYy0xKSkgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgTWF0aC5QSSAvIDIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hdGFuaCgpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmF0YW5oKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhY3NjaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjc2NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjc2NoKGMpID0gbG9nKCgxK3NxcnQoMStjXjIpKS9jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChiID09PSAwKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgIChhICE9PSAwKVxuICAgICAgICAgICAgICAgID8gTWF0aC5sb2coYSArIE1hdGguc3FydChhICogYSArIDEpKVxuICAgICAgICAgICAgICAgIDogSW5maW5pdHksIDApO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hc2luaCgpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFzaW5oKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhc2VjaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzZWNoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzZWNoKGMpID0gbG9nKCgxK3NxcnQoMS1jXjIpKS9jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmICh0aGlzWydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hY29zaCgpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFjb3NoKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBpbnZlcnNlIDEvelxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2ludmVyc2UnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gMSAvIDAgPSBJbmZpbml0eSBhbmQgMSAvIEluZmluaXR5ID0gMFxuICAgICAgaWYgKHRoaXNbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnWkVSTyddO1xuICAgICAgfVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KGEgLyBkLCAtYiAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb21wbGV4IGNvbmp1Z2F0ZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nvbmp1Z2F0ZSc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpc1sncmUnXSwgLXRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZWdhdGVkIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbmVnJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtdGhpc1sncmUnXSwgLXRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZWlscyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY2VpbCc6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzWydyZSddICogcGxhY2VzKSAvIHBsYWNlcyxcbiAgICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmxvb3JzIHRoZSBhY3R1YWwgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdmbG9vcic6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpc1sncmUnXSAqIHBsYWNlcykgLyBwbGFjZXMsXG4gICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpc1snaW0nXSAqIHBsYWNlcykgLyBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZWlscyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAncm91bmQnOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnJvdW5kKHRoaXNbJ3JlJ10gKiBwbGFjZXMpIC8gcGxhY2VzLFxuICAgICAgICAgICAgICBNYXRoLnJvdW5kKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogKipOb3RlOioqIG5ldyBDb21wbGV4KEluZmluaXR5KS5lcXVhbHMoSW5maW5pdHkpID09PSBmYWxzZVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2VxdWFscyc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgcmV0dXJuIE1hdGguYWJzKHpbJ3JlJ10gLSB0aGlzWydyZSddKSA8PSBDb21wbGV4WydFUFNJTE9OJ10gJiZcbiAgICAgICAgICAgICAgTWF0aC5hYnMoelsnaW0nXSAtIHRoaXNbJ2ltJ10pIDw9IENvbXBsZXhbJ0VQU0lMT04nXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBhY3R1YWwgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY2xvbmUnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXNbJ3JlJ10sIHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgc3RyaW5nIG9mIHRoZSBhY3R1YWwgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciByZXQgPSBcIlwiO1xuXG4gICAgICBpZiAodGhpc1snaXNOYU4nXSgpKSB7XG4gICAgICAgIHJldHVybiAnTmFOJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiAnSW5maW5pdHknO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYSkgPCBDb21wbGV4WydFUFNJTE9OJ10pIHtcbiAgICAgICAgYSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhiKSA8IENvbXBsZXhbJ0VQU0lMT04nXSkge1xuICAgICAgICBiID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXMgcmVhbCBudW1iZXJcbiAgICAgIGlmIChiID09PSAwKSB7XG4gICAgICAgIHJldHVybiByZXQgKyBhO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSAhPT0gMCkge1xuICAgICAgICByZXQrPSBhO1xuICAgICAgICByZXQrPSBcIiBcIjtcbiAgICAgICAgaWYgKGIgPCAwKSB7XG4gICAgICAgICAgYiA9IC1iO1xuICAgICAgICAgIHJldCs9IFwiLVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldCs9IFwiK1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldCs9IFwiIFwiO1xuICAgICAgfSBlbHNlIGlmIChiIDwgMCkge1xuICAgICAgICBiID0gLWI7XG4gICAgICAgIHJldCs9IFwiLVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoMSAhPT0gYikgeyAvLyBiIGlzIHRoZSBhYnNvbHV0ZSBpbWFnaW5hcnkgcGFydFxuICAgICAgICByZXQrPSBiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldCArIFwiaVwiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgbnVtYmVyIGFzIGEgdmVjdG9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgJ3RvVmVjdG9yJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBbdGhpc1sncmUnXSwgdGhpc1snaW0nXV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFjdHVhbCByZWFsIHZhbHVlIG9mIHRoZSBjdXJyZW50IG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcnxudWxsfVxuICAgICAqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIGlmICh0aGlzWydpbSddID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzWydyZSddO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBhIGNvbXBsZXggbnVtYmVyIGlzIG5vdCBvbiB0aGUgUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNOYU4nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc05hTih0aGlzWydyZSddKSB8fCBpc05hTih0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhIGNvbXBsZXggbnVtYmVyIGlzIGF0IHRoZSB6ZXJvIHBvbGUgb2YgdGhlXG4gICAgICogUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNaZXJvJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpc1snaW0nXSA9PT0gMCAmJiB0aGlzWydyZSddID09PSAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBjb21wbGV4IG51bWJlciBpcyBub3QgYXQgdGhlIGluZmluaXR5IHBvbGUgb2YgdGhlXG4gICAgICogUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNGaW5pdGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh0aGlzWydyZSddKSAmJiBpc0Zpbml0ZSh0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhIGNvbXBsZXggbnVtYmVyIGlzIGF0IHRoZSBpbmZpbml0eSBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzSW5maW5pdGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhKHRoaXNbJ2lzTmFOJ10oKSB8fCB0aGlzWydpc0Zpbml0ZSddKCkpO1xuICAgIH1cbiAgfTtcblxuICBDb21wbGV4WydaRVJPJ10gPSBuZXcgQ29tcGxleCgwLCAwKTtcbiAgQ29tcGxleFsnT05FJ10gPSBuZXcgQ29tcGxleCgxLCAwKTtcbiAgQ29tcGxleFsnSSddID0gbmV3IENvbXBsZXgoMCwgMSk7XG4gIENvbXBsZXhbJ1BJJ10gPSBuZXcgQ29tcGxleChNYXRoLlBJLCAwKTtcbiAgQ29tcGxleFsnRSddID0gbmV3IENvbXBsZXgoTWF0aC5FLCAwKTtcbiAgQ29tcGxleFsnSU5GSU5JVFknXSA9IG5ldyBDb21wbGV4KEluZmluaXR5LCBJbmZpbml0eSk7XG4gIENvbXBsZXhbJ05BTiddID0gbmV3IENvbXBsZXgoTmFOLCBOYU4pO1xuICBDb21wbGV4WydFUFNJTE9OJ10gPSAxZS0xNTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBDb21wbGV4O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wbGV4LCBcIl9fZXNNb2R1bGVcIiwgeyd2YWx1ZSc6IHRydWV9KTtcbiAgICBDb21wbGV4WydkZWZhdWx0J10gPSBDb21wbGV4O1xuICAgIENvbXBsZXhbJ0NvbXBsZXgnXSA9IENvbXBsZXg7XG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBDb21wbGV4O1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0NvbXBsZXgnXSA9IENvbXBsZXg7XG4gIH1cblxufSkodGhpcyk7XG4iLCJpbXBvcnQgQ29tcGxleCBmcm9tICdjb21wbGV4LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBpc051bWJlciwgaXNVbml0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQ29tcGxleCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbXBsZXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cbiAgQ29tcGxleC5wcm90b3R5cGUudHlwZSA9ICdDb21wbGV4JztcbiAgQ29tcGxleC5wcm90b3R5cGUuaXNDb21wbGV4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQ29tcGxleFwiLCBcInJlXCI6IDIsIFwiaW1cIjogM31gXG4gICAqL1xuXG4gIENvbXBsZXgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQ29tcGxleCcsXG4gICAgICByZTogdGhpcy5yZSxcbiAgICAgIGltOiB0aGlzLmltXG4gICAgfTtcbiAgfTtcbiAgLypcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgY29tcGxleCBudW1iZXIgaW4gcG9sYXIgbm90YXRpb25cbiAgICogVGhlIGFuZ2xlIHBoaSB3aWxsIGJlIHNldCBpbiB0aGUgaW50ZXJ2YWwgb2YgWy1waSwgcGldLlxuICAgKiBAcmV0dXJuIHt7cjogbnVtYmVyLCBwaGk6IG51bWJlcn19IFJldHVybnMgYW5kIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgciBhbmQgcGhpLlxuICAgKi9cblxuXG4gIENvbXBsZXgucHJvdG90eXBlLnRvUG9sYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHI6IHRoaXMuYWJzKCksXG4gICAgICBwaGk6IHRoaXMuYXJnKClcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wbGV4IG51bWJlcixcbiAgICogd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbXBsZXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpbSA9IHRoaXMuaW07XG4gICAgdmFyIHJlID0gdGhpcy5yZTtcbiAgICB2YXIgc3RyUmUgPSBmb3JtYXQodGhpcy5yZSwgb3B0aW9ucyk7XG4gICAgdmFyIHN0ckltID0gZm9ybWF0KHRoaXMuaW0sIG9wdGlvbnMpOyAvLyByb3VuZCBlaXRoZXIgcmUgb3IgaW0gd2hlbiBzbWFsbGVyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgcHJlY2lzaW9uXG5cbiAgICB2YXIgcHJlY2lzaW9uID0gaXNOdW1iZXIob3B0aW9ucykgPyBvcHRpb25zIDogb3B0aW9ucyA/IG9wdGlvbnMucHJlY2lzaW9uIDogbnVsbDtcblxuICAgIGlmIChwcmVjaXNpb24gIT09IG51bGwpIHtcbiAgICAgIHZhciBlcHNpbG9uID0gTWF0aC5wb3coMTAsIC1wcmVjaXNpb24pO1xuXG4gICAgICBpZiAoTWF0aC5hYnMocmUgLyBpbSkgPCBlcHNpbG9uKSB7XG4gICAgICAgIHJlID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGltIC8gcmUpIDwgZXBzaWxvbikge1xuICAgICAgICBpbSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGltID09PSAwKSB7XG4gICAgICAvLyByZWFsIHZhbHVlXG4gICAgICBzdHIgPSBzdHJSZTtcbiAgICB9IGVsc2UgaWYgKHJlID09PSAwKSB7XG4gICAgICAvLyBwdXJlbHkgY29tcGxleCB2YWx1ZVxuICAgICAgaWYgKGltID09PSAxKSB7XG4gICAgICAgIHN0ciA9ICdpJztcbiAgICAgIH0gZWxzZSBpZiAoaW0gPT09IC0xKSB7XG4gICAgICAgIHN0ciA9ICctaSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBzdHJJbSArICdpJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29tcGxleCB2YWx1ZVxuICAgICAgaWYgKGltIDwgMCkge1xuICAgICAgICBpZiAoaW0gPT09IC0xKSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnIC0gaSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnIC0gJyArIHN0ckltLnN1YnN0cmluZygxKSArICdpJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGltID09PSAxKSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnICsgaSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gc3RyUmUgKyAnICsgJyArIHN0ckltICsgJ2knO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNvbXBsZXggbnVtYmVyIGZyb20gcG9sYXIgY29vcmRpbmF0ZXNcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqXG4gICAqICAgICBDb21wbGV4LmZyb21Qb2xhcihyOiBudW1iZXIsIHBoaTogbnVtYmVyKSA6IENvbXBsZXhcbiAgICogICAgIENvbXBsZXguZnJvbVBvbGFyKHtyOiBudW1iZXIsIHBoaTogbnVtYmVyfSkgOiBDb21wbGV4XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYXJncy4uLlxuICAgKiBAcmV0dXJuIHtDb21wbGV4fVxuICAgKi9cblxuXG4gIENvbXBsZXguZnJvbVBvbGFyID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBDb21wbGV4KGFyZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lucHV0IGhhcyB0byBiZSBhbiBvYmplY3Qgd2l0aCByIGFuZCBwaGkga2V5cy4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAyOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgdmFyIHBoaSA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICAgIGlmIChpc051bWJlcihyKSkge1xuICAgICAgICAgICAgaWYgKGlzVW5pdChwaGkpICYmIHBoaS5oYXNCYXNlKCdBTkdMRScpKSB7XG4gICAgICAgICAgICAgIC8vIGNvbnZlcnQgdW5pdCB0byBhIG51bWJlciBpbiByYWRpYW5zXG4gICAgICAgICAgICAgIHBoaSA9IHBoaS50b051bWJlcigncmFkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc051bWJlcihwaGkpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh7XG4gICAgICAgICAgICAgICAgcjogcixcbiAgICAgICAgICAgICAgICBwaGk6IHBoaVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGhpIGlzIG5vdCBhIG51bWJlciBub3IgYW4gYW5nbGUgdW5pdC4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmFkaXVzIHIgaXMgbm90IGEgbnVtYmVyLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMgaW4gZnVuY3Rpb24gZnJvbVBvbGFyJyk7XG4gICAgfVxuICB9O1xuXG4gIENvbXBsZXgucHJvdG90eXBlLnZhbHVlT2YgPSBDb21wbGV4LnByb3RvdHlwZS50b1N0cmluZztcbiAgLyoqXG4gICAqIENyZWF0ZSBhIENvbXBsZXggbnVtYmVyIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQSBKU09OIE9iamVjdCBzdHJ1Y3R1cmVkIGFzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB7XCJtYXRoanNcIjogXCJDb21wbGV4XCIsIFwicmVcIjogMiwgXCJpbVwiOiAzfVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgQWxsIHByb3BlcnRpZXMgYXJlIG9wdGlvbmFsLCBkZWZhdWx0IHZhbHVlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgZm9yIGByZWAgYW5kIGBpbWAgYXJlIDAuXG4gICAqIEByZXR1cm4ge0NvbXBsZXh9IFJldHVybnMgYSBuZXcgQ29tcGxleCBudW1iZXJcbiAgICovXG5cbiAgQ29tcGxleC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wbGV4KGpzb24pO1xuICB9O1xuICAvKipcbiAgICogQ29tcGFyZSB0d28gY29tcGxleCBudW1iZXJzLCBgYWAgYW5kIGBiYDpcbiAgICpcbiAgICogLSBSZXR1cm5zIDEgd2hlbiB0aGUgcmVhbCBwYXJ0IG9mIGBhYCBpcyBsYXJnZXIgdGhhbiB0aGUgcmVhbCBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgLTEgd2hlbiB0aGUgcmVhbCBwYXJ0IG9mIGBhYCBpcyBzbWFsbGVyIHRoYW4gdGhlIHJlYWwgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIDEgd2hlbiB0aGUgcmVhbCBwYXJ0cyBhcmUgZXF1YWxcbiAgICogICBhbmQgdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBhYCBpcyBsYXJnZXIgdGhhbiB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAtMSB3aGVuIHRoZSByZWFsIHBhcnRzIGFyZSBlcXVhbFxuICAgKiAgIGFuZCB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGFgIGlzIHNtYWxsZXIgdGhhbiB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAwIHdoZW4gYm90aCByZWFsIGFuZCBpbWFnaW5hcnkgcGFydHMgYXJlIGVxdWFsLlxuICAgKlxuICAgKiBAcGFyYW1zIHtDb21wbGV4fSBhXG4gICAqIEBwYXJhbXMge0NvbXBsZXh9IGJcbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29tcGFyaXNvbiByZXN1bHQ6IC0xLCAwLCBvciAxXG4gICAqL1xuXG5cbiAgQ29tcGxleC5jb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5yZSA+IGIucmUpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGlmIChhLnJlIDwgYi5yZSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGlmIChhLmltID4gYi5pbSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgaWYgKGEuaW0gPCBiLmltKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgcmV0dXJuIENvbXBsZXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsIi8qKlxuICogQGxpY2Vuc2UgRnJhY3Rpb24uanMgdjQuMS4wIDEzLzA1LzIwMjFcbiAqIGh0dHBzOi8vd3d3Lnhhcmcub3JnLzIwMTQvMDMvcmF0aW9uYWwtbnVtYmVycy1pbi1qYXZhc2NyaXB0L1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSwgUm9iZXJ0IEVpc2VsZSAocm9iZXJ0QHhhcmcub3JnKVxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiovXG5cblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBvZmZlcnMgdGhlIHBvc3NpYmlsaXR5IHRvIGNhbGN1bGF0ZSBmcmFjdGlvbnMuXG4gKiBZb3UgY2FuIHBhc3MgYSBmcmFjdGlvbiBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWl0aGVyIGFzIGFycmF5LCBhcyBkb3VibGUsIGFzIHN0cmluZyBvciBhcyBhbiBpbnRlZ2VyLlxuICpcbiAqIEFycmF5L09iamVjdCBmb3JtXG4gKiBbIDAgPT4gPG5vbWluYXRvcj4sIDEgPT4gPGRlbm9taW5hdG9yPiBdXG4gKiBbIG4gPT4gPG5vbWluYXRvcj4sIGQgPT4gPGRlbm9taW5hdG9yPiBdXG4gKlxuICogSW50ZWdlciBmb3JtXG4gKiAtIFNpbmdsZSBpbnRlZ2VyIHZhbHVlXG4gKlxuICogRG91YmxlIGZvcm1cbiAqIC0gU2luZ2xlIGRvdWJsZSB2YWx1ZVxuICpcbiAqIFN0cmluZyBmb3JtXG4gKiAxMjMuNDU2IC0gYSBzaW1wbGUgZG91YmxlXG4gKiAxMjMvNDU2IC0gYSBzdHJpbmcgZnJhY3Rpb25cbiAqIDEyMy4nNDU2JyAtIGEgZG91YmxlIHdpdGggcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzXG4gKiAxMjMuKDQ1NikgLSBzeW5vbnltXG4gKiAxMjMuNDUnNicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBsYXN0IHBsYWNlXG4gKiAxMjMuNDUoNikgLSBzeW5vbnltXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiB2YXIgZiA9IG5ldyBGcmFjdGlvbihcIjkuNCczMSdcIik7XG4gKiBmLm11bChbLTQsIDNdKS5kaXYoNC45KTtcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBNYXhpbXVtIHNlYXJjaCBkZXB0aCBmb3IgY3ljbGljIHJhdGlvbmFsIG51bWJlcnMuIDIwMDAgc2hvdWxkIGJlIG1vcmUgdGhhbiBlbm91Z2guXG4gIC8vIEV4YW1wbGU6IDEvNyA9IDAuKDE0Mjg1NykgaGFzIDYgcmVwZWF0aW5nIGRlY2ltYWwgcGxhY2VzLlxuICAvLyBJZiBNQVhfQ1lDTEVfTEVOIGdldHMgcmVkdWNlZCwgbG9uZyBjeWNsZXMgd2lsbCBub3QgYmUgZGV0ZWN0ZWQgYW5kIHRvU3RyaW5nKCkgb25seSBnZXRzIHRoZSBmaXJzdCAxMCBkaWdpdHNcbiAgdmFyIE1BWF9DWUNMRV9MRU4gPSAyMDAwO1xuXG4gIC8vIFBhcnNlZCBkYXRhIHRvIGF2b2lkIGNhbGxpbmcgXCJuZXdcIiBhbGwgdGhlIHRpbWVcbiAgdmFyIFAgPSB7XG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDFcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBlcnJvckNvbnN0cnVjdG9yKCkge1xuICAgICAgdmFyIHRlbXAgPSBFcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGVtcFsnbmFtZSddID0gdGhpc1snbmFtZSddID0gbmFtZTtcbiAgICAgIHRoaXNbJ3N0YWNrJ10gPSB0ZW1wWydzdGFjayddO1xuICAgICAgdGhpc1snbWVzc2FnZSddID0gdGVtcFsnbWVzc2FnZSddO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKSB7IH1cbiAgICBJbnRlcm1lZGlhdGVJbmhlcml0b3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuICAgIGVycm9yQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IEludGVybWVkaWF0ZUluaGVyaXRvcigpO1xuXG4gICAgcmV0dXJuIGVycm9yQ29uc3RydWN0b3I7XG4gIH1cblxuICB2YXIgRGl2aXNpb25CeVplcm8gPSBGcmFjdGlvblsnRGl2aXNpb25CeVplcm8nXSA9IGNyZWF0ZUVycm9yKCdEaXZpc2lvbkJ5WmVybycpO1xuICB2YXIgSW52YWxpZFBhcmFtZXRlciA9IEZyYWN0aW9uWydJbnZhbGlkUGFyYW1ldGVyJ10gPSBjcmVhdGVFcnJvcignSW52YWxpZFBhcmFtZXRlcicpO1xuXG4gIGZ1bmN0aW9uIGFzc2lnbihuLCBzKSB7XG5cbiAgICBpZiAoaXNOYU4obiA9IHBhcnNlSW50KG4sIDEwKSkpIHtcbiAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgfVxuICAgIHJldHVybiBuICogcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRocm93SW52YWxpZFBhcmFtKCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUGFyYW1ldGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmYWN0b3JpemUobnVtKSB7XG5cbiAgICB2YXIgZmFjdG9ycyA9IHt9O1xuXG4gICAgdmFyIG4gPSBudW07XG4gICAgdmFyIGkgPSAyO1xuICAgIHZhciBzID0gNDtcblxuICAgIHdoaWxlIChzIDw9IG4pIHtcblxuICAgICAgd2hpbGUgKG4gJSBpID09PSAwKSB7XG4gICAgICAgIG4gLz0gaTtcbiAgICAgICAgZmFjdG9yc1tpXSA9IChmYWN0b3JzW2ldIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICAgIHMgKz0gMSArIDIgKiBpKys7XG4gICAgfVxuXG4gICAgaWYgKG4gIT09IG51bSkge1xuICAgICAgaWYgKG4gPiAxKVxuICAgICAgZmFjdG9yc1tuXSA9IChmYWN0b3JzW25dIHx8IDApICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmFjdG9yc1tudW1dID0gKGZhY3RvcnNbbnVtXSB8fCAwKSArIDE7XG4gICAgfVxuICAgIHJldHVybiBmYWN0b3JzO1xuICB9XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24ocDEsIHAyKSB7XG5cbiAgICB2YXIgbiA9IDAsIGQgPSAxLCBzID0gMTtcbiAgICB2YXIgdiA9IDAsIHcgPSAwLCB4ID0gMCwgeSA9IDEsIHogPSAxO1xuXG4gICAgdmFyIEEgPSAwLCBCID0gMTtcbiAgICB2YXIgQyA9IDEsIEQgPSAxO1xuXG4gICAgdmFyIE4gPSAxMDAwMDAwMDtcbiAgICB2YXIgTTtcblxuICAgIGlmIChwMSA9PT0gdW5kZWZpbmVkIHx8IHAxID09PSBudWxsKSB7XG4gICAgICAvKiB2b2lkICovXG4gICAgfSBlbHNlIGlmIChwMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuID0gcDE7XG4gICAgICBkID0gcDI7XG4gICAgICBzID0gbiAqIGQ7XG4gICAgfSBlbHNlXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBwMSkge1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXCJkXCIgaW4gcDEgJiYgXCJuXCIgaW4gcDEpIHtcbiAgICAgICAgICAgICAgbiA9IHAxW1wiblwiXTtcbiAgICAgICAgICAgICAgZCA9IHAxW1wiZFwiXTtcbiAgICAgICAgICAgICAgaWYgKFwic1wiIGluIHAxKVxuICAgICAgICAgICAgICAgIG4gKj0gcDFbXCJzXCJdO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgwIGluIHAxKSB7XG4gICAgICAgICAgICAgIG4gPSBwMVswXTtcbiAgICAgICAgICAgICAgaWYgKDEgaW4gcDEpXG4gICAgICAgICAgICAgICAgZCA9IHAxWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBuICogZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwMSA8IDApIHtcbiAgICAgICAgICAgICAgcyA9IHAxO1xuICAgICAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHAxICUgMSA9PT0gMCkge1xuICAgICAgICAgICAgICBuID0gcDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHAxID4gMCkgeyAvLyBjaGVjayBmb3IgIT0gMCwgc2NhbGUgd291bGQgYmVjb21lIE5hTiAobG9nKDApKSwgd2hpY2ggY29udmVyZ2VzIHJlYWxseSBzbG93XG5cbiAgICAgICAgICAgICAgaWYgKHAxID49IDEpIHtcbiAgICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoMSArIE1hdGgubG9nKHAxKSAvIE1hdGguTE4xMCkpO1xuICAgICAgICAgICAgICAgIHAxIC89IHo7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBVc2luZyBGYXJleSBTZXF1ZW5jZXNcbiAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5qb2huZGNvb2suY29tL2Jsb2cvMjAxMC8xMC8yMC9iZXN0LXJhdGlvbmFsLWFwcHJveGltYXRpb24vXG5cbiAgICAgICAgICAgICAgd2hpbGUgKEIgPD0gTiAmJiBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgICBNID0gKEEgKyBDKSAvIChCICsgRCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocDEgPT09IE0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChCICsgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBICsgQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEIgKyBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChEID4gQikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IEI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwMSA+IE0pIHtcbiAgICAgICAgICAgICAgICAgICAgQSArPSBDO1xuICAgICAgICAgICAgICAgICAgICBCICs9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBDICs9IEE7XG4gICAgICAgICAgICAgICAgICAgIEQgKz0gQjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKEIgPiBOKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBDO1xuICAgICAgICAgICAgICAgICAgICBkID0gRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBO1xuICAgICAgICAgICAgICAgICAgICBkID0gQjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbiAqPSB6O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihwMSkgfHwgaXNOYU4ocDIpKSB7XG4gICAgICAgICAgICAgIGQgPSBuID0gTmFOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgQiA9IHAxLm1hdGNoKC9cXGQrfC4vZyk7XG5cbiAgICAgICAgICAgIGlmIChCID09PSBudWxsKVxuICAgICAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuXG4gICAgICAgICAgICBpZiAoQltBXSA9PT0gJy0nKSB7Ly8gQ2hlY2sgZm9yIG1pbnVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgICBzID0gLTE7XG4gICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBXSA9PT0gJysnKSB7Ly8gQ2hlY2sgZm9yIHBsdXMgc2lnbiBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEIubGVuZ3RoID09PSBBICsgMSkgeyAvLyBDaGVjayBpZiBpdCdzIGp1c3QgYSBzaW1wbGUgbnVtYmVyIFwiMTIzNFwiXG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBKytdLCBzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcuJyB8fCBCW0FdID09PSAnLicpIHsgLy8gQ2hlY2sgaWYgaXQncyBhIGRlY2ltYWwgbnVtYmVyXG5cbiAgICAgICAgICAgICAgaWYgKEJbQV0gIT09ICcuJykgeyAvLyBIYW5kbGUgMC41IGFuZCAuNVxuICAgICAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBKytdLCBzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBBKys7XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAgICAgIGlmIChBICsgMSA9PT0gQi5sZW5ndGggfHwgQltBICsgMV0gPT09ICcoJyAmJiBCW0EgKyAzXSA9PT0gJyknIHx8IEJbQSArIDFdID09PSBcIidcIiAmJiBCW0EgKyAzXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQV0sIHMpO1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLnBvdygxMCwgQltBXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIEErKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZXBlYXRpbmcgcGxhY2VzXG4gICAgICAgICAgICAgIGlmIChCW0FdID09PSAnKCcgJiYgQltBICsgMl0gPT09ICcpJyB8fCBCW0FdID09PSBcIidcIiAmJiBCW0EgKyAyXSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgICB4ID0gYXNzaWduKEJbQSArIDFdLCBzKTtcbiAgICAgICAgICAgICAgICB6ID0gTWF0aC5wb3coMTAsIEJbQSArIDFdLmxlbmd0aCkgLSAxO1xuICAgICAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLycgfHwgQltBICsgMV0gPT09ICc6JykgeyAvLyBDaGVjayBmb3IgYSBzaW1wbGUgZnJhY3Rpb24gXCIxMjMvNDU2XCIgb3IgXCIxMjM6NDU2XCJcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IGFzc2lnbihCW0EgKyAyXSwgMSk7XG4gICAgICAgICAgICAgIEEgKz0gMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgM10gPT09ICcvJyAmJiBCW0EgKyAxXSA9PT0gJyAnKSB7IC8vIENoZWNrIGZvciBhIGNvbXBsZXggZnJhY3Rpb24gXCIxMjMgMS8yXCJcbiAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0EgKyAyXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgNF0sIDEpO1xuICAgICAgICAgICAgICBBICs9IDU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCLmxlbmd0aCA8PSBBKSB7IC8vIENoZWNrIGZvciBtb3JlIHRva2VucyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgZCA9IHkgKiB6O1xuICAgICAgICAgICAgICBzID0gLyogdm9pZCAqL1xuICAgICAgICAgICAgICBuID0geCArIGQgKiB2ICsgeiAqIHc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBGYWxsIHRocm91Z2ggb24gZXJyb3IgKi9cbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICAgIH1cblxuICAgIGlmIChkID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRGl2aXNpb25CeVplcm8oKTtcbiAgICB9XG5cbiAgICBQW1wic1wiXSA9IHMgPCAwID8gLTEgOiAxO1xuICAgIFBbXCJuXCJdID0gTWF0aC5hYnMobik7XG4gICAgUFtcImRcIl0gPSBNYXRoLmFicyhkKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtb2Rwb3coYiwgZSwgbSkge1xuXG4gICAgdmFyIHIgPSAxO1xuICAgIGZvciAoOyBlID4gMDsgYiA9IChiICogYikgJSBtLCBlID4+PSAxKSB7XG5cbiAgICAgIGlmIChlICYgMSkge1xuICAgICAgICByID0gKHIgKiBiKSAlIG07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cblxuICBmdW5jdGlvbiBjeWNsZUxlbihuLCBkKSB7XG5cbiAgICBmb3IgKDsgZCAlIDIgPT09IDA7XG4gICAgICBkIC89IDIpIHtcbiAgICB9XG5cbiAgICBmb3IgKDsgZCAlIDUgPT09IDA7XG4gICAgICBkIC89IDUpIHtcbiAgICB9XG5cbiAgICBpZiAoZCA9PT0gMSkgLy8gQ2F0Y2ggbm9uLWN5Y2xpYyBudW1iZXJzXG4gICAgICByZXR1cm4gMDtcblxuICAgIC8vIElmIHdlIHdvdWxkIGxpa2UgdG8gY29tcHV0ZSByZWFsbHkgbGFyZ2UgbnVtYmVycyBxdWlja2VyLCB3ZSBjb3VsZCBtYWtlIHVzZSBvZiBGZXJtYXQncyBsaXR0bGUgdGhlb3JlbTpcbiAgICAvLyAxMF4oZC0xKSAlIGQgPT0gMVxuICAgIC8vIEhvd2V2ZXIsIHdlIGRvbid0IG5lZWQgc3VjaCBsYXJnZSBudW1iZXJzIGFuZCBNQVhfQ1lDTEVfTEVOIHNob3VsZCBiZSB0aGUgY2Fwc3RvbmUsXG4gICAgLy8gYXMgd2Ugd2FudCB0byB0cmFuc2xhdGUgdGhlIG51bWJlcnMgdG8gc3RyaW5ncy5cblxuICAgIHZhciByZW0gPSAxMCAlIGQ7XG4gICAgdmFyIHQgPSAxO1xuXG4gICAgZm9yICg7IHJlbSAhPT0gMTsgdCsrKSB7XG4gICAgICByZW0gPSByZW0gKiAxMCAlIGQ7XG5cbiAgICAgIGlmICh0ID4gTUFYX0NZQ0xFX0xFTilcbiAgICAgICAgcmV0dXJuIDA7IC8vIFJldHVybmluZyAwIGhlcmUgbWVhbnMgdGhhdCB3ZSBkb24ndCBwcmludCBpdCBhcyBhIGN5Y2xpYyBudW1iZXIuIEl0J3MgbGlrZWx5IHRoYXQgdGhlIGFuc3dlciBpcyBgZC0xYFxuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVTdGFydChuLCBkLCBsZW4pIHtcblxuICAgIHZhciByZW0xID0gMTtcbiAgICB2YXIgcmVtMiA9IG1vZHBvdygxMCwgbGVuLCBkKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMzAwOyB0KyspIHsgLy8gcyA8IH5sb2cxMChOdW1iZXIuTUFYX1ZBTFVFKVxuICAgICAgLy8gU29sdmUgMTBecyA9PSAxMF4ocyt0KSAobW9kIGQpXG5cbiAgICAgIGlmIChyZW0xID09PSByZW0yKVxuICAgICAgICByZXR1cm4gdDtcblxuICAgICAgcmVtMSA9IHJlbTEgKiAxMCAlIGQ7XG4gICAgICByZW0yID0gcmVtMiAqIDEwICUgZDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnY2QoYSwgYikge1xuXG4gICAgaWYgKCFhKVxuICAgICAgcmV0dXJuIGI7XG4gICAgaWYgKCFiKVxuICAgICAgcmV0dXJuIGE7XG5cbiAgICB3aGlsZSAoMSkge1xuICAgICAgYSAlPSBiO1xuICAgICAgaWYgKCFhKVxuICAgICAgICByZXR1cm4gYjtcbiAgICAgIGIgJT0gYTtcbiAgICAgIGlmICghYilcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNb2R1bGUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7bnVtYmVyfEZyYWN0aW9uPX0gYVxuICAgKiBAcGFyYW0ge251bWJlcj19IGJcbiAgICovXG4gIGZ1bmN0aW9uIEZyYWN0aW9uKGEsIGIpIHtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGcmFjdGlvbikpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oYSwgYik7XG4gICAgfVxuXG4gICAgcGFyc2UoYSwgYik7XG5cbiAgICBpZiAoRnJhY3Rpb25bJ1JFRFVDRSddKSB7XG4gICAgICBhID0gZ2NkKFBbXCJkXCJdLCBQW1wiblwiXSk7IC8vIEFidXNlIGFcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IDE7XG4gICAgfVxuXG4gICAgdGhpc1tcInNcIl0gPSBQW1wic1wiXTtcbiAgICB0aGlzW1wiblwiXSA9IFBbXCJuXCJdIC8gYTtcbiAgICB0aGlzW1wiZFwiXSA9IFBbXCJkXCJdIC8gYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCb29sZWFuIGdsb2JhbCB2YXJpYWJsZSB0byBiZSBhYmxlIHRvIGRpc2FibGUgYXV0b21hdGljIHJlZHVjdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICpcbiAgICovXG4gIEZyYWN0aW9uWydSRURVQ0UnXSA9IDE7XG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlID0ge1xuXG4gICAgXCJzXCI6IDEsXG4gICAgXCJuXCI6IDAsXG4gICAgXCJkXCI6IDEsXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkuYWJzKCkgPT4gNFxuICAgICAqKi9cbiAgICBcImFic1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoZSBzaWduIG9mIHRoZSBjdXJyZW50IGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC00KS5uZWcoKSA9PiA0XG4gICAgICoqL1xuICAgIFwibmVnXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKC10aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdLCB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IDQ2NyAvIDMwXG4gICAgICoqL1xuICAgIFwiYWRkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gKyBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbih7bjogMiwgZDogM30pLmFkZChcIjE0LjlcIikgPT4gLTQyNyAvIDMwXG4gICAgICoqL1xuICAgIFwic3ViXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gLSBQW1wic1wiXSAqIHRoaXNbXCJkXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikubXVsKDMpID0+IDU3NzYgLyAxMTFcbiAgICAgKiovXG4gICAgXCJtdWxcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmludmVyc2UoKS5kaXYoMylcbiAgICAgKiovXG4gICAgXCJkaXZcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogUFtcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIGFjdHVhbCBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikuY2xvbmUoKVxuICAgICAqKi9cbiAgICBcImNsb25lXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbW9kdWxvIG9mIHR3byByYXRpb25hbCBudW1iZXJzIC0gYSBtb3JlIHByZWNpc2UgZm1vZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5tb2QoWzcsIDhdKSA9PiAoMTMvMykgJSAoNy84KSA9ICg1LzYpXG4gICAgICoqL1xuICAgIFwibW9kXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICUgdGhpc1tcImRcIl0sIDEpO1xuICAgICAgfVxuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIGlmICgwID09PSBQW1wiblwiXSAmJiAwID09PSB0aGlzW1wiZFwiXSkge1xuICAgICAgICBGcmFjdGlvbigwLCAwKTsgLy8gVGhyb3cgRGl2aXNpb25CeVplcm9cbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIEZpcnN0IHNpbGx5IGF0dGVtcHQsIGtpbmRhIHNsb3dcbiAgICAgICAqXG4gICAgICAgcmV0dXJuIHRoYXRbXCJzdWJcIl0oe1xuICAgICAgIFwiblwiOiBudW1bXCJuXCJdICogTWF0aC5mbG9vcigodGhpcy5uIC8gdGhpcy5kKSAvIChudW0ubiAvIG51bS5kKSksXG4gICAgICAgXCJkXCI6IG51bVtcImRcIl0sXG4gICAgICAgXCJzXCI6IHRoaXNbXCJzXCJdXG4gICAgICAgfSk7Ki9cblxuICAgICAgLypcbiAgICAgICAqIE5ldyBhdHRlbXB0OiBhMSAvIGIxID0gYTIgLyBiMiAqIHEgKyByXG4gICAgICAgKiA9PiBiMiAqIGExID0gYTIgKiBiMSAqIHEgKyBiMSAqIGIyICogclxuICAgICAgICogPT4gKGIyICogYTEgJSBhMiAqIGIxKSAvIChiMSAqIGIyKVxuICAgICAgICovXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIChQW1wiZFwiXSAqIHRoaXNbXCJuXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSxcbiAgICAgICAgUFtcImRcIl0gKiB0aGlzW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb25hbCBnY2Qgb2YgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oNSw4KS5nY2QoMyw3KSA9PiAxLzU2XG4gICAgICovXG4gICAgXCJnY2RcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gZ2NkKGEgLyBiLCBjIC8gZCkgPSBnY2QoYSwgYykgLyBsY20oYiwgZClcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihnY2QoUFtcIm5cIl0sIHRoaXNbXCJuXCJdKSAqIGdjZChQW1wiZFwiXSwgdGhpc1tcImRcIl0pLCBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb25hbCBsY20gb2YgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oNSw4KS5sY20oMyw3KSA9PiAxNVxuICAgICAqL1xuICAgIFwibGNtXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGxjbShhIC8gYiwgYyAvIGQpID0gbGNtKGEsIGMpIC8gZ2NkKGIsIGQpXG5cbiAgICAgIGlmIChQW1wiblwiXSA9PT0gMCAmJiB0aGlzW1wiblwiXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihQW1wiblwiXSAqIHRoaXNbXCJuXCJdLCBnY2QoUFtcIm5cIl0sIHRoaXNbXCJuXCJdKSAqIGdjZChQW1wiZFwiXSwgdGhpc1tcImRcIl0pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgY2VpbCBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5jZWlsKCkgPT4gKDUgLyAxKVxuICAgICAqKi9cbiAgICBcImNlaWxcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5jZWlsKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZsb29yIG9mIGEgcmF0aW9uYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLmZsb29yKCkgPT4gKDQgLyAxKVxuICAgICAqKi9cbiAgICBcImZsb29yXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguZmxvb3IocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm91bmRzIGEgcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5yb3VuZCgpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJyb3VuZFwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnJvdW5kKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludmVyc2Ugb2YgdGhlIGZyYWN0aW9uLCBtZWFucyBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yIGFyZSBleGNoYW5nZWRcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oWy0zLCA0XSkuaW52ZXJzZSgpID0+IC00IC8gM1xuICAgICAqKi9cbiAgICBcImludmVyc2VcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcInNcIl0gKiB0aGlzW1wiZFwiXSwgdGhpc1tcIm5cIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbiB0byBzb21lIHJhdGlvbmFsIGV4cG9uZW50LCBpZiBwb3NzaWJsZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtMSwyKS5wb3coLTMpID0+IC04XG4gICAgICovXG4gICAgXCJwb3dcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gVHJpdmlhbCBjYXNlIHdoZW4gZXhwIGlzIGFuIGludGVnZXJcblxuICAgICAgaWYgKFBbJ2QnXSA9PT0gMSkge1xuXG4gICAgICAgIGlmIChQWydzJ10gPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiZFwiXSwgUFsnbiddKSwgTWF0aC5wb3codGhpc1tcIm5cIl0sIFBbJ24nXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5wb3codGhpc1sncyddICogdGhpc1tcIm5cIl0sIFBbJ24nXSksIE1hdGgucG93KHRoaXNbXCJkXCJdLCBQWyduJ10pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBOZWdhdGl2ZSByb290cyBiZWNvbWUgY29tcGxleFxuICAgICAgaWYgKHRoaXNbJ3MnXSA8IDApIHJldHVybiBudWxsO1xuXG4gICAgICAvLyBOb3cgcHJpbWUgZmFjdG9yIG4gYW5kIGRcbiAgICAgIHZhciBOID0gZmFjdG9yaXplKHRoaXNbJ24nXSk7XG4gICAgICB2YXIgRCA9IGZhY3Rvcml6ZSh0aGlzWydkJ10pO1xuXG4gICAgICAvLyBFeHBvbmVudGlhdGUgYW5kIHRha2Ugcm9vdCBmb3IgbiBhbmQgZCBpbmRpdmlkdWFsbHlcbiAgICAgIHZhciBuID0gdGhpc1sncyddO1xuICAgICAgdmFyIGQgPSAxO1xuICAgICAgZm9yICh2YXIgayBpbiBOKSB7XG4gICAgICAgIGlmIChrID09PSAnMScpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoayA9PT0gJzAnKSB7XG4gICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgTltrXSo9IFBbJ24nXTtcblxuICAgICAgICBpZiAoTltrXSAlIFBbJ2QnXSA9PT0gMCkge1xuICAgICAgICAgIE5ba10vPSBQWydkJ107XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgbio9IE1hdGgucG93KGssIE5ba10pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrIGluIEQpIHtcbiAgICAgICAgaWYgKGsgPT09ICcxJykgY29udGludWU7XG4gICAgICAgIERba10qPSBQWyduJ107XG5cbiAgICAgICAgaWYgKERba10gJSBQWydkJ10gPT09IDApIHtcbiAgICAgICAgICBEW2tdLz0gUFsnZCddO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIGQqPSBNYXRoLnBvdyhrLCBEW2tdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFBbJ3MnXSA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihkLCBuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24obiwgZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiZXF1YWxzXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdID09PSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl07IC8vIFNhbWUgYXMgY29tcGFyZSgpID09PSAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiY29tcGFyZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgdmFyIHQgPSAodGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICAgIHJldHVybiAoMCA8IHQpIC0gKHQgPCAwKTtcbiAgICB9LFxuXG4gICAgXCJzaW1wbGlmeVwiOiBmdW5jdGlvbihlcHMpIHtcblxuICAgICAgLy8gRmlyc3QgbmFpdmUgaW1wbGVtZW50YXRpb24sIG5lZWRzIGltcHJvdmVtZW50XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ID0gdGhpc1snYWJzJ10oKVsndG9Db250aW51ZWQnXSgpO1xuXG4gICAgICBlcHMgPSBlcHMgfHwgMC4wMDE7XG5cbiAgICAgIGZ1bmN0aW9uIHJlYyhhKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGFbMF0pO1xuICAgICAgICByZXR1cm4gcmVjKGEuc2xpY2UoMSkpWydpbnZlcnNlJ10oKVsnYWRkJ10oYVswXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG1wID0gcmVjKGNvbnQuc2xpY2UoMCwgaSArIDEpKTtcbiAgICAgICAgaWYgKHRtcFsnc3ViJ10odGhpc1snYWJzJ10oKSlbJ2FicyddKCkudmFsdWVPZigpIDwgZXBzKSB7XG4gICAgICAgICAgcmV0dXJuIHRtcFsnbXVsJ10odGhpc1sncyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSBkaXZpc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZGl2aXNpYmxlKDEuNSk7XG4gICAgICovXG4gICAgXCJkaXZpc2libGVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiAhKCEoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkgfHwgKCh0aGlzW1wiblwiXSAqIFBbXCJkXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS52YWx1ZU9mKCkgPT4gMTAwLjkxODIzOTE4MjM5MTgzXG4gICAgICoqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmctZnJhY3Rpb24gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0ZyYWN0aW9uKCkgPT4gXCI0IDEvM1wiXG4gICAgICoqL1xuICAgICd0b0ZyYWN0aW9uJzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIgKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyICs9IHdob2xlO1xuICAgICAgICAgIHN0ciArPSBcIiBcIjtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gbjtcbiAgICAgICAgc3RyICs9ICcvJztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGF0ZXggcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0xhdGV4KCkgPT4gXCJcXGZyYWN7NH17M31cIlxuICAgICAqKi9cbiAgICAndG9MYXRleCc6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gXCJcXFxcZnJhY3tcIjtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnfXsnO1xuICAgICAgICBzdHIgKz0gZDtcbiAgICAgICAgc3RyICs9ICd9JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgY29udGludWVkIGZyYWN0aW9uIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiNy84XCIpLnRvQ29udGludWVkKCkgPT4gWzAsMSw3XVxuICAgICAqL1xuICAgICd0b0NvbnRpbnVlZCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdDtcbiAgICAgIHZhciBhID0gdGhpc1snbiddO1xuICAgICAgdmFyIGIgPSB0aGlzWydkJ107XG4gICAgICB2YXIgcmVzID0gW107XG5cbiAgICAgIGlmIChpc05hTihhKSB8fCBpc05hTihiKSkge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuXG4gICAgICBkbyB7XG4gICAgICAgIHJlcy5wdXNoKE1hdGguZmxvb3IoYSAvIGIpKTtcbiAgICAgICAgdCA9IGEgJSBiO1xuICAgICAgICBhID0gYjtcbiAgICAgICAgYiA9IHQ7XG4gICAgICB9IHdoaWxlIChhICE9PSAxKTtcblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGZyYWN0aW9uIHdpdGggYWxsIGRpZ2l0c1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEwMC4nOTE4MjMnXCIpLnRvU3RyaW5nKCkgPT4gXCIxMDAuKDkxODIzKVwiXG4gICAgICoqL1xuICAgICd0b1N0cmluZyc6IGZ1bmN0aW9uKGRlYykge1xuXG4gICAgICB2YXIgZztcbiAgICAgIHZhciBOID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgRCA9IHRoaXNbXCJkXCJdO1xuXG4gICAgICBpZiAoaXNOYU4oTikgfHwgaXNOYU4oRCkpIHtcbiAgICAgICAgcmV0dXJuIFwiTmFOXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghRnJhY3Rpb25bJ1JFRFVDRSddKSB7XG4gICAgICAgIGcgPSBnY2QoTiwgRCk7XG4gICAgICAgIE4gLz0gZztcbiAgICAgICAgRCAvPSBnO1xuICAgICAgfVxuXG4gICAgICBkZWMgPSBkZWMgfHwgMTU7IC8vIDE1ID0gZGVjaW1hbCBwbGFjZXMgd2hlbiBubyByZXBldGF0aW9uXG5cbiAgICAgIHZhciBjeWNMZW4gPSBjeWNsZUxlbihOLCBEKTsgLy8gQ3ljbGUgbGVuZ3RoXG4gICAgICB2YXIgY3ljT2ZmID0gY3ljbGVTdGFydChOLCBELCBjeWNMZW4pOyAvLyBDeWNsZSBzdGFydFxuXG4gICAgICB2YXIgc3RyID0gdGhpc1sncyddID09PSAtMSA/IFwiLVwiIDogXCJcIjtcblxuICAgICAgc3RyICs9IE4gLyBEIHwgMDtcblxuICAgICAgTiAlPSBEO1xuICAgICAgTiAqPSAxMDtcblxuICAgICAgaWYgKE4pXG4gICAgICAgIHN0ciArPSBcIi5cIjtcblxuICAgICAgaWYgKGN5Y0xlbikge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBjeWNPZmY7IGktLTspIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIihcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y0xlbjsgaS0tOykge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGRlYzsgTiAmJiBpLS07KSB7XG4gICAgICAgICAgc3RyICs9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOICU9IEQ7XG4gICAgICAgICAgTiAqPSAxMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmVbXCJhbWRcIl0pIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEZyYWN0aW9uO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZyYWN0aW9uLCBcIl9fZXNNb2R1bGVcIiwgeyAndmFsdWUnOiB0cnVlIH0pO1xuICAgIEZyYWN0aW9uWydkZWZhdWx0J10gPSBGcmFjdGlvbjtcbiAgICBGcmFjdGlvblsnRnJhY3Rpb24nXSA9IEZyYWN0aW9uO1xuICAgIG1vZHVsZVsnZXhwb3J0cyddID0gRnJhY3Rpb247XG4gIH0gZWxzZSB7XG4gICAgcm9vdFsnRnJhY3Rpb24nXSA9IEZyYWN0aW9uO1xuICB9XG5cbn0pKHRoaXMpO1xuIiwiaW1wb3J0IEZyYWN0aW9uIGZyb20gJ2ZyYWN0aW9uLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0ZyYWN0aW9uJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnJhY3Rpb25DbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cbiAgRnJhY3Rpb24ucHJvdG90eXBlLnR5cGUgPSAnRnJhY3Rpb24nO1xuICBGcmFjdGlvbi5wcm90b3R5cGUuaXNGcmFjdGlvbiA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gY29udGFpbmluZyB0eXBlIGluZm9ybWF0aW9uXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnJhY3Rpb25cIiwgXCJuXCI6IDMsIFwiZFwiOiA4fWBcbiAgICovXG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRnJhY3Rpb24nLFxuICAgICAgbjogdGhpcy5zICogdGhpcy5uLFxuICAgICAgZDogdGhpcy5kXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgRnJhY3Rpb24gZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnJhY3Rpb25cIiwgXCJuXCI6IDMsIFwiZFwiOiA4fWBcbiAgICogQHJldHVybiB7QmlnTnVtYmVyfVxuICAgKi9cblxuXG4gIEZyYWN0aW9uLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGpzb24pO1xuICB9O1xuXG4gIHJldHVybiBGcmFjdGlvbjtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQsIHNpZ24gfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUmFuZ2UnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVSYW5nZUNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJhbmdlLiBBIHJhbmdlIGhhcyBhIHN0YXJ0LCBzdGVwLCBhbmQgZW5kLCBhbmQgY29udGFpbnMgZnVuY3Rpb25zXG4gICAqIHRvIGl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2UuXG4gICAqXG4gICAqIEEgcmFuZ2UgY2FuIGJlIGNvbnN0cnVjdGVkIGFzOlxuICAgKlxuICAgKiAgICAgY29uc3QgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIGVuZClcbiAgICogICAgIGNvbnN0IHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApXG4gICAqXG4gICAqIFRvIGdldCB0aGUgcmVzdWx0IG9mIHRoZSByYW5nZTpcbiAgICogICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICogICAgICAgICBjb25zb2xlLmxvZyh4KVxuICAgKiAgICAgfSlcbiAgICogICAgIHJhbmdlLm1hcChmdW5jdGlvbiAoeCkge1xuICAgKiAgICAgICAgIHJldHVybiBtYXRoLnNpbih4KVxuICAgKiAgICAgfSlcbiAgICogICAgIHJhbmdlLnRvQXJyYXkoKVxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgICAgY29uc3QgYyA9IG5ldyBSYW5nZSgyLCA2KSAgICAgICAvLyAyOjE6NVxuICAgKiAgICAgYy50b0FycmF5KCkgICAgICAgICAgICAgICAgICAgICAvLyBbMiwgMywgNCwgNV1cbiAgICogICAgIGNvbnN0IGQgPSBuZXcgUmFuZ2UoMiwgLTMsIC0xKSAgLy8gMjotMTotMlxuICAgKiAgICAgZC50b0FycmF5KCkgICAgICAgICAgICAgICAgICAgICAvLyBbMiwgMSwgMCwgLTEsIC0yXVxuICAgKlxuICAgKiBAY2xhc3MgUmFuZ2VcbiAgICogQGNvbnN0cnVjdG9yIFJhbmdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAgaW5jbHVkZWQgbG93ZXIgYm91bmRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCAgICBleGNsdWRlZCB1cHBlciBib3VuZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXBdIHN0ZXAgc2l6ZSwgZGVmYXVsdCB2YWx1ZSBpcyAxXG4gICAqL1xuICBmdW5jdGlvbiBSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB2YXIgaGFzU3RhcnQgPSBzdGFydCAhPT0gbnVsbCAmJiBzdGFydCAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBoYXNFbmQgPSBlbmQgIT09IG51bGwgJiYgZW5kICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGhhc1N0ZXAgPSBzdGVwICE9PSBudWxsICYmIHN0ZXAgIT09IHVuZGVmaW5lZDtcblxuICAgIGlmIChoYXNTdGFydCkge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IHN0YXJ0LnRvTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHN0YXJ0IG11c3QgYmUgYSBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoZW5kKSkge1xuICAgICAgICBlbmQgPSBlbmQudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGVuZCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc1N0ZXApIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihzdGVwKSkge1xuICAgICAgICBzdGVwID0gc3RlcC50b051bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RlcCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHN0ZXAgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnQgPSBoYXNTdGFydCA/IHBhcnNlRmxvYXQoc3RhcnQpIDogMDtcbiAgICB0aGlzLmVuZCA9IGhhc0VuZCA/IHBhcnNlRmxvYXQoZW5kKSA6IDA7XG4gICAgdGhpcy5zdGVwID0gaGFzU3RlcCA/IHBhcnNlRmxvYXQoc3RlcCkgOiAxO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50eXBlID0gJ1JhbmdlJztcbiAgUmFuZ2UucHJvdG90eXBlLmlzUmFuZ2UgPSB0cnVlO1xuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgaW50byBhIHJhbmdlLFxuICAgKiBUaGUgc3RyaW5nIGNvbnRhaW5zIHRoZSBzdGFydCwgb3B0aW9uYWwgc3RlcCwgYW5kIGVuZCwgc2VwYXJhdGVkIGJ5IGEgY29sb24uXG4gICAqIElmIHRoZSBzdHJpbmcgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIHJhbmdlLCBudWxsIGlzIHJldHVybmVkLlxuICAgKiBGb3IgZXhhbXBsZSBzdHI9JzA6MjoxMScuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAqIEByZXR1cm4ge1JhbmdlIHwgbnVsbH0gcmFuZ2VcbiAgICovXG5cbiAgUmFuZ2UucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IHN0ci5zcGxpdCgnOicpO1xuICAgIHZhciBudW1zID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYXJnKTtcbiAgICB9KTtcbiAgICB2YXIgaW52YWxpZCA9IG51bXMuc29tZShmdW5jdGlvbiAobnVtKSB7XG4gICAgICByZXR1cm4gaXNOYU4obnVtKTtcbiAgICB9KTtcblxuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG51bXMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UobnVtc1swXSwgbnVtc1sxXSk7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShudW1zWzBdLCBudW1zWzJdLCBudW1zWzFdKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIHJhbmdlXG4gICAqIEByZXR1cm4ge1JhbmdlfSBjbG9uZVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQsIHRoaXMuZW5kLCB0aGlzLnN0ZXApO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIHJhbmdlLlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgb25lIG51bWJlciwgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgcmFuZ2UuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGVuID0gMDtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0O1xuICAgIHZhciBzdGVwID0gdGhpcy5zdGVwO1xuICAgIHZhciBlbmQgPSB0aGlzLmVuZDtcbiAgICB2YXIgZGlmZiA9IGVuZCAtIHN0YXJ0O1xuXG4gICAgaWYgKHNpZ24oc3RlcCkgPT09IHNpZ24oZGlmZikpIHtcbiAgICAgIGxlbiA9IE1hdGguY2VpbChkaWZmIC8gc3RlcCk7XG4gICAgfSBlbHNlIGlmIChkaWZmID09PSAwKSB7XG4gICAgICBsZW4gPSAwO1xuICAgIH1cblxuICAgIGlmIChpc05hTihsZW4pKSB7XG4gICAgICBsZW4gPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBbbGVuXTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2VcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm4ge251bWJlciB8IHVuZGVmaW5lZH0gbWluXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSgpWzBdO1xuXG4gICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICBpZiAodGhpcy5zdGVwID4gMCkge1xuICAgICAgICAvLyBwb3NpdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbmVnYXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydCArIChzaXplIC0gMSkgKiB0aGlzLnN0ZXA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBtYXhpbXVtIHZhbHVlIGluIHRoZSByYW5nZVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybiB7bnVtYmVyIHwgdW5kZWZpbmVkfSBtYXhcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUubWF4ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplKClbMF07XG5cbiAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgIGlmICh0aGlzLnN0ZXAgPiAwKSB7XG4gICAgICAgIC8vIHBvc2l0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgKyAoc2l6ZSAtIDEpICogdGhpcy5zdGVwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbmVnYXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggdmFsdWUgaW4gdGhlIHJhbmdlLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgbWV0aG9kIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgUmFuZ2UgYmVpbmcgdHJhdmVyc2VkLlxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHggPSB0aGlzLnN0YXJ0O1xuICAgIHZhciBzdGVwID0gdGhpcy5zdGVwO1xuICAgIHZhciBlbmQgPSB0aGlzLmVuZDtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICBpZiAoc3RlcCA+IDApIHtcbiAgICAgIHdoaWxlICh4IDwgZW5kKSB7XG4gICAgICAgIGNhbGxiYWNrKHgsIFtpXSwgdGhpcyk7XG4gICAgICAgIHggKz0gc3RlcDtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RlcCA8IDApIHtcbiAgICAgIHdoaWxlICh4ID4gZW5kKSB7XG4gICAgICAgIGNhbGxiYWNrKHgsIFtpXSwgdGhpcyk7XG4gICAgICAgIHggKz0gc3RlcDtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgUmFuZ2UsIGFuZCByZXR1cm4gdGhlXG4gICAqIHJlc3VsdHMgYXMgYW4gYXJyYXlcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIG1ldGhvZCBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIG9iaikge1xuICAgICAgYXJyYXlbaW5kZXhbMF1dID0gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgUmFuZ2VzIGRhdGFcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgYXJyYXlbaW5kZXhbMF1dID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIFJhbmdlLCBhIG9uZSBkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRPRE86IGltcGxlbWVudCBhIGNhY2hpbmcgbWVjaGFuaXNtIGZvciByYW5nZS52YWx1ZU9mKClcbiAgICByZXR1cm4gdGhpcy50b0FycmF5KCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhbmdlLCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogT3V0cHV0IGlzIGZvcm1hdHRlZCBhcyAnc3RhcnQ6c3RlcDplbmQnLCBmb3IgZXhhbXBsZSAnMjo2JyBvciAnMDowLjI6MTEnXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IGZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHN0ciA9IGZvcm1hdCh0aGlzLnN0YXJ0LCBvcHRpb25zKTtcblxuICAgIGlmICh0aGlzLnN0ZXAgIT09IDEpIHtcbiAgICAgIHN0ciArPSAnOicgKyBmb3JtYXQodGhpcy5zdGVwLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzonICsgZm9ybWF0KHRoaXMuZW5kLCBvcHRpb25zKTtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZS5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdCgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2VcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmFuZ2VcIiwgXCJzdGFydFwiOiAyLCBcImVuZFwiOiA0LCBcInN0ZXBcIjogMX1gXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmFuZ2UnLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuZW5kLFxuICAgICAgc3RlcDogdGhpcy5zdGVwXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmFuZ2UgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSYW5nZVwiLCBcInN0YXJ0XCI6IDIsIFwiZW5kXCI6IDQsIFwic3RlcFwiOiAxfWBcbiAgICogQHJldHVybiB7UmFuZ2V9XG4gICAqL1xuXG5cbiAgUmFuZ2UuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmFuZ2UoanNvbi5zdGFydCwganNvbi5lbmQsIGpzb24uc3RlcCk7XG4gIH07XG5cbiAgcmV0dXJuIFJhbmdlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdNYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVNYXRyaXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgTWF0cml4XG4gICAqXG4gICAqIEEgTWF0cml4IGlzIGEgd3JhcHBlciBhcm91bmQgYW4gQXJyYXkuIEEgbWF0cml4IGNhbiBob2xkIGEgbXVsdGkgZGltZW5zaW9uYWxcbiAgICogYXJyYXkuIEEgbWF0cml4IGNhbiBiZSBjb25zdHJ1Y3RlZCBhczpcbiAgICpcbiAgICogICAgIGxldCBtYXRyaXggPSBtYXRoLm1hdHJpeChkYXRhKVxuICAgKlxuICAgKiBNYXRyaXggY29udGFpbnMgdGhlIGZ1bmN0aW9ucyB0byByZXNpemUsIGdldCBhbmQgc2V0IHZhbHVlcywgZ2V0IHRoZSBzaXplLFxuICAgKiBjbG9uZSB0aGUgbWF0cml4IGFuZCB0byBjb252ZXJ0IHRoZSBtYXRyaXggdG8gYSB2ZWN0b3IsIGFycmF5LCBvciBzY2FsYXIuXG4gICAqIEZ1cnRoZXJtb3JlLCBvbmUgY2FuIGl0ZXJhdGUgb3ZlciB0aGUgbWF0cml4IHVzaW5nIG1hcCBhbmQgZm9yRWFjaC5cbiAgICogVGhlIGludGVybmFsIEFycmF5IG9mIHRoZSBNYXRyaXggY2FuIGJlIGFjY2Vzc2VkIHVzaW5nIHRoZSBmdW5jdGlvbiB2YWx1ZU9mLlxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgICAgbGV0IG1hdHJpeCA9IG1hdGgubWF0cml4KFtbMSwgMl0sIFszLCA0XV0pXG4gICAqICAgICBtYXRpeC5zaXplKCkgICAgICAgICAgICAgIC8vIFsyLCAyXVxuICAgKiAgICAgbWF0cml4LnJlc2l6ZShbMywgMl0sIDUpXG4gICAqICAgICBtYXRyaXgudmFsdWVPZigpICAgICAgICAgIC8vIFtbMSwgMl0sIFszLCA0XSwgWzUsIDVdXVxuICAgKiAgICAgbWF0cml4LnN1YnNldChbMSwyXSkgICAgICAgLy8gMyAoaW5kZXhlcyBhcmUgemVyby1iYXNlZClcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIE1hdHJpeCgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWF0cml4KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS50eXBlID0gJ01hdHJpeCc7XG4gIE1hdHJpeC5wcm90b3R5cGUuaXNNYXRyaXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IHRoZSBzdG9yYWdlIGZvcm1hdCB1c2VkIGJ5IHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LnN0b3JhZ2UoKSAgIC8vIHJldHJpZXZlIHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBzdG9yYWdlIGZvcm1hdC5cbiAgICovXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzdG9yYWdlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBkYXRhdHlwZSBvZiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguZGF0YXR5cGUoKSAgICAvLyByZXRyaWV2ZSBtYXRyaXggZGF0YXR5cGVcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIGRhdGF0eXBlLlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZGF0YXR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGRhdGF0eXBlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1hdHJpeCBXaXRoIHRoZSB0eXBlIG9mIHRoZSBjdXJyZW50IG1hdHJpeCBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge0FycmF5IHwgT2JqZWN0fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgY3JlYXRlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBtYXRyaXgsIG9yIHJlcGxhY2UgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBzdWJzZXQgPSBtYXRyaXguc3Vic2V0KGluZGV4KSAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHN1YnNldFxuICAgKiAgICAgY29uc3QgdmFsdWUgPSBtYXRyaXguc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCkgICAvLyByZXBsYWNlIHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgKn0gW3JlcGxhY2VtZW50XVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuc3Vic2V0ID0gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHN1YnNldCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBlbGVtZW50IGZyb20gdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEByZXR1cm4geyp9IHZhbHVlXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZ2V0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmVwbGFjZSBhIHNpbmdsZSBlbGVtZW50IGluIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgbGVmdCB1bmRlZmluZWQuXG4gICAqIEByZXR1cm4ge01hdHJpeH0gc2VsZlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHNldCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2l6ZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50cyB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNpemVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaXplZCBtYXRyaXhcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgcmVzaXplIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmVzaGFwZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2hhcGUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaGFwZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNoYXBlZCBtYXRyaXhcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnJlc2hhcGUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHJlc2hhcGUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbWF0cml4XG4gICAqIEByZXR1cm4ge01hdHJpeH0gY2xvbmVcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBjbG9uZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBtYXRyaXguXG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc2l6ZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25cbiAgICogZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSBtYXRyaXhcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIG1hcCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZm9yRWFjaCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgZGF0YSBvZiB0aGUgTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHRvQXJyYXkgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgTWF0cml4OiBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgdmFsdWVPZiBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZm9ybWF0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgdG9TdHJpbmcgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG5cbiAgcmV0dXJuIE1hdHJpeDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNBcnJheSwgaXNCaWdOdW1iZXIsIGlzQ29sbGVjdGlvbiwgaXNJbmRleCwgaXNNYXRyaXgsIGlzTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplLCBnZXRBcnJheURhdGFUeXBlLCByZXNoYXBlLCByZXNpemUsIHVuc3F1ZWV6ZSwgdmFsaWRhdGUsIHZhbGlkYXRlSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGNsb25lLCBkZWVwU3RyaWN0RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdEZW5zZU1hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRGVuc2UgTWF0cml4IGltcGxlbWVudGF0aW9uLiBBIHJlZ3VsYXIsIGRlbnNlIG1hdHJpeCwgc3VwcG9ydGluZyBtdWx0aS1kaW1lbnNpb25hbCBtYXRyaWNlcy4gVGhpcyBpcyB0aGUgZGVmYXVsdCBtYXRyaXggdHlwZS5cbiAgICogQGNsYXNzIERlbnNlTWF0cml4XG4gICAqL1xuICBmdW5jdGlvbiBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZW5zZU1hdHJpeCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGF0eXBlICYmICFpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhdHlwZTogJyArIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXRyaXgoZGF0YSkpIHtcbiAgICAgIC8vIGNoZWNrIGRhdGEgaXMgYSBEZW5zZU1hdHJpeFxuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ0RlbnNlTWF0cml4Jykge1xuICAgICAgICAvLyBjbG9uZSBkYXRhICYgc2l6ZVxuICAgICAgICB0aGlzLl9kYXRhID0gY2xvbmUoZGF0YS5fZGF0YSk7XG4gICAgICAgIHRoaXMuX3NpemUgPSBjbG9uZShkYXRhLl9zaXplKTtcbiAgICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLl9kYXRhdHlwZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGJ1aWxkIGRhdGEgZnJvbSBleGlzdGluZyBtYXRyaXhcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGEudG9BcnJheSgpO1xuICAgICAgICB0aGlzLl9zaXplID0gZGF0YS5zaXplKCk7XG4gICAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5fZGF0YXR5cGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhICYmIGlzQXJyYXkoZGF0YS5kYXRhKSAmJiBpc0FycmF5KGRhdGEuc2l6ZSkpIHtcbiAgICAgIC8vIGluaXRpYWxpemUgZmllbGRzIGZyb20gSlNPTiByZXByZXNlbnRhdGlvblxuICAgICAgdGhpcy5fZGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgIHRoaXMuX3NpemUgPSBkYXRhLnNpemU7IC8vIHZlcmlmeSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXlcblxuICAgICAgdmFsaWRhdGUodGhpcy5fZGF0YSwgdGhpcy5fc2l6ZSk7XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuZGF0YXR5cGU7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgICAvLyByZXBsYWNlIG5lc3RlZCBNYXRyaWNlcyB3aXRoIEFycmF5c1xuICAgICAgdGhpcy5fZGF0YSA9IHByZXByb2Nlc3MoZGF0YSk7IC8vIGdldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXlcblxuICAgICAgdGhpcy5fc2l6ZSA9IGFycmF5U2l6ZSh0aGlzLl9kYXRhKTsgLy8gdmVyaWZ5IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhcnJheSwgVE9ETzogY29tcHV0ZSBzaXplIHdoaWxlIHByb2Nlc3NpbmcgYXJyYXlcblxuICAgICAgdmFsaWRhdGUodGhpcy5fZGF0YSwgdGhpcy5fc2l6ZSk7IC8vIGRhdGEgdHlwZSB1bmtub3duXG5cbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGU7XG4gICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAvLyB1bnN1cHBvcnRlZCB0eXBlXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIG9mIGRhdGEgKCcgKyB0eXBlT2YoZGF0YSkgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub3RoaW5nIHByb3ZpZGVkXG4gICAgICB0aGlzLl9kYXRhID0gW107XG4gICAgICB0aGlzLl9zaXplID0gWzBdO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZTtcbiAgICB9XG4gIH1cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUgPSBuZXcgTWF0cml4KCk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRGVuc2VNYXRyaXhcbiAgICovXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZURlbnNlTWF0cml4ID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50eXBlID0gJ0RlbnNlTWF0cml4JztcbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmlzRGVuc2VNYXRyaXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgY29uc3QgbWF0cml4VHlwZSA9IG1hdHJpeC5nZXREYXRhVHlwZSgpICAvLyByZXRyaWV2ZXMgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJPZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgdHlwZSBpbmZvcm1hdGlvbjsgaWYgbXVsdGlwbGUgdHlwZXMgYXJlIGZvdW5kIGZyb20gdGhlIE1hdHJpeCwgaXQgd2lsbCByZXR1cm4gXCJtaXhlZFwiXG4gICAqL1xuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5nZXREYXRhVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0QXJyYXlEYXRhVHlwZSh0aGlzLl9kYXRhLCB0eXBlT2YpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBzdG9yYWdlIGZvcm1hdCB1c2VkIGJ5IHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LnN0b3JhZ2UoKSAgLy8gcmV0cmlldmUgc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBzdG9yYWdlIGZvcm1hdC5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2RlbnNlJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgZGF0YXR5cGUgb2YgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LmRhdGF0eXBlKCkgICAvLyByZXRyaWV2ZSBtYXRyaXggZGF0YXR5cGVcbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBkYXRhdHlwZS5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZGF0YXR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGF0eXBlO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IERlbnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBtYXRyaXgsIG9yIHJlcGxhY2UgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBzdWJzZXQgPSBtYXRyaXguc3Vic2V0KGluZGV4KSAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHN1YnNldFxuICAgKiAgICAgY29uc3QgdmFsdWUgPSBtYXRyaXguc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCkgICAvLyByZXBsYWNlIHN1YnNldFxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8ICp9IFtyZXBsYWNlbWVudF1cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc3Vic2V0ID0gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfZ2V0KHRoaXMsIGluZGV4KTtcbiAgICAgIC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaFxuXG4gICAgICBjYXNlIDI6XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBfc2V0KHRoaXMsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIGVsZW1lbnQgZnJvbSB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEByZXR1cm4geyp9IHZhbHVlXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCAhPT0gdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIGluZGV4XG5cblxuICAgIGZvciAodmFyIHggPSAwOyB4IDwgaW5kZXgubGVuZ3RoOyB4KyspIHtcbiAgICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhbeF0sIHRoaXMuX3NpemVbeF0pO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGluZGV4Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBpbmRleEkgPSBpbmRleFtpXTtcbiAgICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhJLCBkYXRhLmxlbmd0aCk7XG4gICAgICBkYXRhID0gZGF0YVtpbmRleEldO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICAvKipcbiAgICogUmVwbGFjZSBhIHNpbmdsZSBlbGVtZW50IGluIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGxlZnQgdW5kZWZpbmVkLlxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gc2VsZlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggPCB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgfVxuXG4gICAgdmFyIGksIGlpLCBpbmRleEk7IC8vIGVubGFyZ2UgbWF0cml4IHdoZW4gbmVlZGVkXG5cbiAgICB2YXIgc2l6ZSA9IGluZGV4Lm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkgKyAxO1xuICAgIH0pO1xuXG4gICAgX2ZpdCh0aGlzLCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyB0cmF2ZXJzZSBvdmVyIHRoZSBkaW1lbnNpb25zXG5cblxuICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gaW5kZXgubGVuZ3RoIC0gMTsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGluZGV4SSA9IGluZGV4W2ldO1xuICAgICAgdmFsaWRhdGVJbmRleChpbmRleEksIGRhdGEubGVuZ3RoKTtcbiAgICAgIGRhdGEgPSBkYXRhW2luZGV4SV07XG4gICAgfSAvLyBzZXQgbmV3IHZhbHVlXG5cblxuICAgIGluZGV4SSA9IGluZGV4W2luZGV4Lmxlbmd0aCAtIDFdO1xuICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhJLCBkYXRhLmxlbmd0aCk7XG4gICAgZGF0YVtpbmRleEldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJtYXRyaXggb2YgdGhpcyBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZ2V0KG1hdHJpeCwgaW5kZXgpIHtcbiAgICBpZiAoIWlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU2NhbGFyID0gaW5kZXguaXNTY2FsYXIoKTtcblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gcmV0dXJuIGEgc2NhbGFyXG4gICAgICByZXR1cm4gbWF0cml4LmdldChpbmRleC5taW4oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcbiAgICAgIHZhciBzaXplID0gaW5kZXguc2l6ZSgpO1xuXG4gICAgICBpZiAoc2l6ZS5sZW5ndGggIT09IG1hdHJpeC5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoKTtcbiAgICAgIH0gLy8gdmFsaWRhdGUgaWYgYW55IG9mIHRoZSByYW5nZXMgaW4gdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZVxuXG5cbiAgICAgIHZhciBtaW4gPSBpbmRleC5taW4oKTtcbiAgICAgIHZhciBtYXggPSBpbmRleC5tYXgoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbWF0cml4Ll9zaXplLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChtaW5baV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgobWF4W2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgICAgfSAvLyByZXRyaWV2ZSBzdWJtYXRyaXhcbiAgICAgIC8vIFRPRE86IG1vcmUgZWZmaWNpZW50IHdoZW4gY3JlYXRpbmcgYW4gZW1wdHkgbWF0cml4IGFuZCBzZXR0aW5nIF9kYXRhIGFuZCBfc2l6ZSBtYW51YWxseVxuXG5cbiAgICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoX2dldFN1Ym1hdHJpeChtYXRyaXguX2RhdGEsIGluZGV4LCBzaXplLmxlbmd0aCwgMCksIG1hdHJpeC5fZGF0YXR5cGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgZ2V0IGEgc3VibWF0cml4IG9mIGEgbXVsdGkgZGltZW5zaW9uYWwgbWF0cml4LlxuICAgKiBJbmRleCBpcyBub3QgY2hlY2tlZCBmb3IgY29ycmVjdCBudW1iZXIgb3IgbGVuZ3RoIG9mIGRpbWVuc2lvbnMuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zICAgVG90YWwgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgICBDdXJyZW50IGRpbWVuc2lvblxuICAgKiBAcmV0dXJuIHtBcnJheX0gc3VibWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2dldFN1Ym1hdHJpeChkYXRhLCBpbmRleCwgZGltcywgZGltKSB7XG4gICAgdmFyIGxhc3QgPSBkaW0gPT09IGRpbXMgLSAxO1xuICAgIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbihkaW0pO1xuXG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChpLCBkYXRhLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBkYXRhW2ldO1xuICAgICAgfSkudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmFuZ2UubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoaSwgZGF0YS5sZW5ndGgpO1xuICAgICAgICB2YXIgY2hpbGQgPSBkYXRhW2ldO1xuICAgICAgICByZXR1cm4gX2dldFN1Ym1hdHJpeChjaGlsZCwgaW5kZXgsIGRpbXMsIGRpbSArIDEpO1xuICAgICAgfSkudmFsdWVPZigpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBhIHN1Ym1hdHJpeCBpbiB0aGlzIG1hdHJpeFxuICAgKiBJbmRleGVzIGFyZSB6ZXJvLWJhc2VkLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXggfCBBcnJheSB8ICp9IHN1Ym1hdHJpeFxuICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSAgICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuXG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfc2V0KG1hdHJpeCwgaW5kZXgsIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpbmRleCB8fCBpbmRleC5pc0luZGV4ICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfSAvLyBnZXQgaW5kZXggc2l6ZSBhbmQgY2hlY2sgd2hldGhlciB0aGUgaW5kZXggY29udGFpbnMgYSBzaW5nbGUgdmFsdWVcblxuXG4gICAgdmFyIGlTaXplID0gaW5kZXguc2l6ZSgpO1xuICAgIHZhciBpc1NjYWxhciA9IGluZGV4LmlzU2NhbGFyKCk7IC8vIGNhbGN1bGF0ZSB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4LCBhbmQgY29udmVydCBpdCBpbnRvIGFuIEFycmF5IGlmIG5lZWRlZFxuXG4gICAgdmFyIHNTaXplO1xuXG4gICAgaWYgKGlzTWF0cml4KHN1Ym1hdHJpeCkpIHtcbiAgICAgIHNTaXplID0gc3VibWF0cml4LnNpemUoKTtcbiAgICAgIHN1Ym1hdHJpeCA9IHN1Ym1hdHJpeC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNTaXplID0gYXJyYXlTaXplKHN1Ym1hdHJpeCk7XG4gICAgfVxuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyBzZXQgYSBzY2FsYXJcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgc3VibWF0cml4IGlzIGEgc2NhbGFyXG4gICAgICBpZiAoc1NpemUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NjYWxhciBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBtYXRyaXguc2V0KGluZGV4Lm1pbigpLCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldCBhIHN1Ym1hdHJpeFxuICAgICAgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuICAgICAgaWYgKGlTaXplLmxlbmd0aCA8IG1hdHJpeC5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCwgJzwnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNTaXplLmxlbmd0aCA8IGlTaXplLmxlbmd0aCkge1xuICAgICAgICAvLyBjYWxjdWxhdGUgbnVtYmVyIG9mIG1pc3Npbmcgb3V0ZXIgZGltZW5zaW9uc1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBvdXRlciA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxICYmIHNTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgb3V0ZXIrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgIH0gLy8gdW5zcXVlZXplIGJvdGggb3V0ZXIgYW5kIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gICAgICAgIHN1Ym1hdHJpeCA9IHVuc3F1ZWV6ZShzdWJtYXRyaXgsIGlTaXplLmxlbmd0aCwgb3V0ZXIsIHNTaXplKTtcbiAgICAgIH0gLy8gY2hlY2sgd2hldGhlciB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4IG1hdGNoZXMgdGhlIGluZGV4IHNpemVcblxuXG4gICAgICBpZiAoIWRlZXBTdHJpY3RFcXVhbChpU2l6ZSwgc1NpemUpKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZSwgc1NpemUsICc+Jyk7XG4gICAgICB9IC8vIGVubGFyZ2UgbWF0cml4IHdoZW4gbmVlZGVkXG5cblxuICAgICAgdmFyIHNpemUgPSBpbmRleC5tYXgoKS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgfSk7XG5cbiAgICAgIF9maXQobWF0cml4LCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyBpbnNlcnQgdGhlIHN1YiBtYXRyaXhcblxuXG4gICAgICB2YXIgZGltcyA9IGlTaXplLmxlbmd0aDtcbiAgICAgIHZhciBkaW0gPSAwO1xuXG4gICAgICBfc2V0U3VibWF0cml4KG1hdHJpeC5fZGF0YSwgaW5kZXgsIHN1Ym1hdHJpeCwgZGltcywgZGltKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc3VibWF0cml4IG9mIGEgbXVsdGkgZGltZW5zaW9uYWwgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgICBUb3RhbCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gZGltXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3NldFN1Ym1hdHJpeChkYXRhLCBpbmRleCwgc3VibWF0cml4LCBkaW1zLCBkaW0pIHtcbiAgICB2YXIgbGFzdCA9IGRpbSA9PT0gZGltcyAtIDE7XG4gICAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKGRpbSk7XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUluZGV4LCBzdWJJbmRleCkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGRhdGFJbmRleCk7XG4gICAgICAgIGRhdGFbZGF0YUluZGV4XSA9IHN1Ym1hdHJpeFtzdWJJbmRleFswXV07XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUluZGV4LCBzdWJJbmRleCkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGRhdGFJbmRleCk7XG5cbiAgICAgICAgX3NldFN1Ym1hdHJpeChkYXRhW2RhdGFJbmRleF0sIGluZGV4LCBzdWJtYXRyaXhbc3ViSW5kZXhbMF1dLCBkaW1zLCBkaW0gKyAxKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVzaXplIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaXplIGluIHBsYWNlKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW10gfHwgTWF0cml4fSBzaXplIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50cyB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNpemVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaXplZCBtYXRyaXhcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSwgY29weSkge1xuICAgIC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuICAgIGlmICghaXNDb2xsZWN0aW9uKHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBvciBNYXRyaXggZXhwZWN0ZWQnKTtcbiAgICB9IC8vIFNwYXJzZU1hdHJpeCBpbnB1dCBpcyBhbHdheXMgMmQsIGZsYXR0ZW4gdGhpcyBpbnRvIDFkIGlmIGl0J3MgaW5kZWVkIGEgdmVjdG9yXG5cblxuICAgIHZhciBzaXplQXJyYXkgPSBzaXplLnZhbHVlT2YoKS5tYXAodmFsdWUgPT4ge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgfSk7IC8vIG1hdHJpeCB0byByZXNpemVcblxuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7IC8vIHJlc2l6ZSBtYXRyaXhcblxuICAgIHJldHVybiBfcmVzaXplKG0sIHNpemVBcnJheSwgZGVmYXVsdFZhbHVlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfcmVzaXplKG1hdHJpeCwgc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gY2hlY2sgc2l6ZVxuICAgIGlmIChzaXplLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gZmlyc3QgdmFsdWUgaW4gbWF0cml4XG4gICAgICB2YXIgdiA9IG1hdHJpeC5fZGF0YTsgLy8gZ28gZGVlcFxuXG4gICAgICB3aGlsZSAoaXNBcnJheSh2KSkge1xuICAgICAgICB2ID0gdlswXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHY7XG4gICAgfSAvLyByZXNpemUgbWF0cml4XG5cblxuICAgIG1hdHJpeC5fc2l6ZSA9IHNpemUuc2xpY2UoMCk7IC8vIGNvcHkgdGhlIGFycmF5XG5cbiAgICBtYXRyaXguX2RhdGEgPSByZXNpemUobWF0cml4Ll9kYXRhLCBtYXRyaXguX3NpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2hhcGUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNoYXBlIGluIHBsYWNlKS5cbiAgICpcbiAgICogTk9URTogVGhpcyBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIHRvIGNvcHkgYnkgZGVmYXVsdCwgaW5zdGVhZCBvZiBtb2RpZnlpbmdcbiAgICogICAgICAgaW4gcGxhY2UuIEZvciBub3csIGl0IG9wZXJhdGVzIGluIHBsYWNlIHRvIHJlbWFpbiBjb25zaXN0ZW50IHdpdGhcbiAgICogICAgICAgcmVzaXplKCkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaGFwZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNoYXBlZCBtYXRyaXhcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUucmVzaGFwZSA9IGZ1bmN0aW9uIChzaXplLCBjb3B5KSB7XG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpcztcbiAgICBtLl9kYXRhID0gcmVzaGFwZShtLl9kYXRhLCBzaXplKTtcbiAgICBtLl9zaXplID0gc2l6ZS5zbGljZSgwKTtcbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIEVubGFyZ2UgdGhlIG1hdHJpeCB3aGVuIGl0IGlzIHNtYWxsZXIgdGhhbiBnaXZlbiBzaXplLlxuICAgKiBJZiB0aGUgbWF0cml4IGlzIGxhcmdlciBvciBlcXVhbCBzaXplZCwgbm90aGluZyBpcyBkb25lLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gbWF0cml4ICAgICAgICAgICBUaGUgbWF0cml4IHRvIGJlIHJlc2l6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZVxuICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSAgICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2ZpdChtYXRyaXgsIHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciAvLyBjb3B5IHRoZSBhcnJheVxuICAgIG5ld1NpemUgPSBtYXRyaXguX3NpemUuc2xpY2UoMCk7XG5cbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlOyAvLyBhZGQgZGltZW5zaW9ucyB3aGVuIG5lZWRlZFxuXG4gICAgd2hpbGUgKG5ld1NpemUubGVuZ3RoIDwgc2l6ZS5sZW5ndGgpIHtcbiAgICAgIG5ld1NpemUucHVzaCgwKTtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH0gLy8gZW5sYXJnZSBzaXplIHdoZW4gbmVlZGVkXG5cblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHNpemUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKHNpemVbaV0gPiBuZXdTaXplW2ldKSB7XG4gICAgICAgIG5ld1NpemVbaV0gPSBzaXplW2ldO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgLy8gcmVzaXplIG9ubHkgd2hlbiBzaXplIGlzIGNoYW5nZWRcbiAgICAgIF9yZXNpemUobWF0cml4LCBuZXdTaXplLCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IGNsb25lXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtID0gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNsb25lKHRoaXMuX2RhdGEpLFxuICAgICAgc2l6ZTogY2xvbmUodGhpcy5fc2l6ZSksXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZS5zbGljZSgwKTsgLy8gcmV0dXJuIGEgY2xvbmUgb2YgX3NpemVcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25cbiAgICogZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG1hdHJpeCBpbnN0YW5jZVxuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICB2YXIgcmVjdXJzZSA9IGZ1bmN0aW9uIHJlY3Vyc2UodmFsdWUsIGluZGV4KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgICAgICByZXR1cm4gcmVjdXJzZShjaGlsZCwgaW5kZXguY29uY2F0KGkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBtZSk7XG4gICAgICB9XG4gICAgfTsgLy8gZGV0ZXJtaW5lIHRoZSBuZXcgZGF0YXR5cGUgd2hlbiB0aGUgb3JpZ2luYWwgbWF0cml4IGhhcyBkYXRhdHlwZSBkZWZpbmVkXG4gICAgLy8gVE9ETzogc2hvdWxkIGJlIGRvbmUgaW4gbWF0cml4IGNvbnN0cnVjdG9yIGluc3RlYWRcblxuXG4gICAgdmFyIGRhdGEgPSByZWN1cnNlKHRoaXMuX2RhdGEsIFtdKTtcbiAgICB2YXIgZGF0YXR5cGUgPSB0aGlzLl9kYXRhdHlwZSAhPT0gdW5kZWZpbmVkID8gZ2V0QXJyYXlEYXRhVHlwZShkYXRhLCB0eXBlT2YpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG1hdHJpeCBpbnN0YW5jZVxuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICB2YXIgcmVjdXJzZSA9IGZ1bmN0aW9uIHJlY3Vyc2UodmFsdWUsIGluZGV4KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgICAgICByZWN1cnNlKGNoaWxkLCBpbmRleC5jb25jYXQoaSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZWN1cnNlKHRoaXMuX2RhdGEsIFtdKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgZGF0YSBvZiB0aGUgRGVuc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2xvbmUodGhpcy5fZGF0YSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgRGVuc2VNYXRyaXg6IGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXgsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy5fZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy5fZGF0YSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRGVuc2VNYXRyaXgnLFxuICAgICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgIHNpemU6IHRoaXMuX3NpemUsXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBrdGggTWF0cml4IGRpYWdvbmFsLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCByZXRyaWV2ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCB3aXRoIHRoZSBkaWFnb25hbCB2YWx1ZXMuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmRpYWdvbmFsID0gZnVuY3Rpb24gKGspIHtcbiAgICAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gbnVtYmVyIGRpYWdvbmFsIHZhbHVlc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIHggaXMgYSBtYXRyaXggZ2V0IGRpYWdvbmFsIGZyb20gbWF0cml4XG5cbiAgICB2YXIgZGF0YSA9IFtdOyAvLyBsb29wIHJvd3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICBkYXRhW2ldID0gdGhpcy5fZGF0YVtpICsga1N1Yl1baSArIGtTdXBlcl07XG4gICAgfSAvLyBjcmVhdGUgRGVuc2VNYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgc2l6ZTogW25dLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkaWFnb25hbCBtYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBzaXplICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCBzaXplLlxuICAgKiBAcGFyYW0ge251bWJlciB8IE1hdHJpeCB8IEFycmF5IH0gdmFsdWUgVGhlIHZhbHVlcyBmb3IgdGhlIGRpYWdvbmFsLlxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgICAgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIG5vbi1kaWFnb25hbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXSAgICAgICAgICAgICAgVGhlIGRhdGF0eXBlIGZvciB0aGUgZGlhZ29uYWxcbiAgICpcbiAgICogQHJldHVybnMge0RlbnNlTWF0cml4fVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LmRpYWdvbmFsID0gZnVuY3Rpb24gKHNpemUsIHZhbHVlLCBrLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkLCBzaXplIHBhcmFtZXRlcicpO1xuICAgIH1cblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25zIG1hdHJpeCBhcmUgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyBtYXAgc2l6ZSAmIHZhbGlkYXRlXG5cblxuICAgIHNpemUgPSBzaXplLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgLy8gY2hlY2sgaXQgaXMgYSBiaWcgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIocykpIHtcbiAgICAgICAgLy8gY29udmVydCBpdFxuICAgICAgICBzID0gcy50b051bWJlcigpO1xuICAgICAgfSAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKHMpIHx8ICFpc0ludGVnZXIocykgfHwgcyA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXplIHZhbHVlcyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzO1xuICAgIH0pOyAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuXG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHNpemVbMV07IC8vIG51bWJlciBvZiBub24temVybyBpdGVtc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIHZhbHVlIGV4dHJhY3Rpb24gZnVuY3Rpb25cblxuICAgIHZhciBfdmFsdWU7IC8vIGNoZWNrIHZhbHVlXG5cblxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgLy8gdmFsaWRhdGUgYXJyYXlcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGFycmF5IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZVtpXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc01hdHJpeCh2YWx1ZSkpIHtcbiAgICAgIC8vIG1hdHJpeCBzaXplXG4gICAgICB2YXIgbXMgPSB2YWx1ZS5zaXplKCk7IC8vIHZhbGlkYXRlIG1hdHJpeFxuXG4gICAgICBpZiAobXMubGVuZ3RoICE9PSAxIHx8IG1zWzBdICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtYXRyaXggbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlLmdldChbaV0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmaW5lIGZ1bmN0aW9uXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gLy8gZGlzY292ZXIgZGVmYXVsdCB2YWx1ZSBpZiBuZWVkZWRcblxuXG4gICAgaWYgKCFkZWZhdWx0VmFsdWUpIHtcbiAgICAgIC8vIGNoZWNrIGZpcnN0IHZhbHVlIGluIGFycmF5XG4gICAgICBkZWZhdWx0VmFsdWUgPSBpc0JpZ051bWJlcihfdmFsdWUoMCkpID8gX3ZhbHVlKDApLm11bCgwKSAvLyB0cmljayB0byBjcmVhdGUgYSBCaWdOdW1iZXIgd2l0aCB2YWx1ZSB6ZXJvXG4gICAgICA6IDA7XG4gICAgfSAvLyBlbXB0eSBhcnJheVxuXG5cbiAgICB2YXIgZGF0YSA9IFtdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHJlc2l6ZSBhcnJheVxuXG4gICAgaWYgKHNpemUubGVuZ3RoID4gMCkge1xuICAgICAgLy8gcmVzaXplIGFycmF5XG4gICAgICBkYXRhID0gcmVzaXplKGRhdGEsIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIGZpbGwgZGlhZ29uYWxcblxuICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBuOyBkKyspIHtcbiAgICAgICAgZGF0YVtkICsga1N1Yl1bZCArIGtTdXBlcl0gPSBfdmFsdWUoZCk7XG4gICAgICB9XG4gICAgfSAvLyBjcmVhdGUgRGVuc2VNYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG1hdHJpeCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRGVuc2VNYXRyaXhcIiwgZGF0YTogW10sIHNpemU6IFtdfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0RlbnNlTWF0cml4fVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGpzb24pO1xuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIGkgYW5kIGogaW4gTWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICBUaGUgbWF0cml4IHJlZmVyZW5jZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zd2FwUm93cyA9IGZ1bmN0aW9uIChpLCBqKSB7XG4gICAgLy8gY2hlY2sgaW5kZXhcbiAgICBpZiAoIWlzTnVtYmVyKGkpIHx8ICFpc0ludGVnZXIoaSkgfHwgIWlzTnVtYmVyKGopIHx8ICFpc0ludGVnZXIoaikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUm93IGluZGV4IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9IC8vIGNoZWNrIGRpbWVuc2lvbnNcblxuXG4gICAgaWYgKHRoaXMuX3NpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeCBpcyBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIHZhbGlkYXRlIGluZGV4XG5cblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgdGhpcy5fc2l6ZVswXSk7XG4gICAgdmFsaWRhdGVJbmRleChqLCB0aGlzLl9zaXplWzBdKTsgLy8gc3dhcCByb3dzXG5cbiAgICBEZW5zZU1hdHJpeC5fc3dhcFJvd3MoaSwgaiwgdGhpcy5fZGF0YSk7IC8vIHJldHVybiBjdXJyZW50IGluc3RhbmNlXG5cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIGkgYW5kIGogaW4gRGVuc2UgTWF0cml4IGRhdGEgc3RydWN0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgICAgIE1hdHJpeCBkYXRhXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXguX3N3YXBSb3dzID0gZnVuY3Rpb24gKGksIGosIGRhdGEpIHtcbiAgICAvLyBzd2FwIHZhbHVlcyBpIDwtPiBqXG4gICAgdmFyIHZpID0gZGF0YVtpXTtcbiAgICBkYXRhW2ldID0gZGF0YVtqXTtcbiAgICBkYXRhW2pdID0gdmk7XG4gIH07XG4gIC8qKlxuICAgKiBQcmVwcm9jZXNzIGRhdGEsIHdoaWNoIGNhbiBiZSBhbiBBcnJheSBvciBEZW5zZU1hdHJpeCB3aXRoIG5lc3RlZCBBcnJheXMgYW5kXG4gICAqIE1hdHJpY2VzLiBSZXBsYWNlcyBhbGwgbmVzdGVkIE1hdHJpY2VzIHdpdGggQXJyYXlzXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEByZXR1cm4ge0FycmF5fSBkYXRhXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcHJlcHJvY2VzcyhkYXRhKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGF0YS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgZWxlbSA9IGRhdGFbaV07XG5cbiAgICAgIGlmIChpc0FycmF5KGVsZW0pKSB7XG4gICAgICAgIGRhdGFbaV0gPSBwcmVwcm9jZXNzKGVsZW0pO1xuICAgICAgfSBlbHNlIGlmIChlbGVtICYmIGVsZW0uaXNNYXRyaXggPT09IHRydWUpIHtcbiAgICAgICAgZGF0YVtpXSA9IHByZXByb2Nlc3MoZWxlbS52YWx1ZU9mKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcmV0dXJuIERlbnNlTWF0cml4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0NvbGxlY3Rpb24sIGlzTWF0cml4IH0gZnJvbSAnLi9pcy5qcyc7XG5pbXBvcnQgeyBJbmRleEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvSW5kZXhFcnJvci5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuL2FycmF5LmpzJztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGFycmF5IGNvbnRhaW5zIGNvbGxlY3Rpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBhcnJheSBjb250YWlucyBvbmUgb3IgbXVsdGlwbGVcbiAqICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9ucyAoQXJyYXlzIG9yIE1hdHJpY2VzKS4gUmV0dXJucyBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQ29sbGVjdGlvbnMoYXJyYXkpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpc0NvbGxlY3Rpb24oYXJyYXlbaV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGxvb3Agb3ZlciBhbGwgZWxlbWVudHMgaW4gYSBnaXZlbiBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogYW5kIGludm9rZSB0aGUgY2FsbGJhY2sgb24gZWFjaCBvZiB0aGUgZWxlbWVudHMuXG4gKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgIFRoZSBjYWxsYmFjayBtZXRob2QgaXMgaW52b2tlZCB3aXRoIG9uZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcjogdGhlIGN1cnJlbnQgZWxlbWVudCBpbiB0aGUgYXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcEZvckVhY2goYXJyYXksIGNhbGxiYWNrKSB7XG4gIGlmIChpc01hdHJpeChhcnJheSkpIHtcbiAgICBhcnJheSA9IGFycmF5LnZhbHVlT2YoKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgZGVlcEZvckVhY2godmFsdWUsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodmFsdWUpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBFeGVjdXRlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBlbGVtZW50IHdpc2UgZm9yIGVhY2ggZWxlbWVudCBpbiBhcnJheSBhbmQgYW55XG4gKiBuZXN0ZWQgYXJyYXlcbiAqIFJldHVybnMgYW4gYXJyYXkgd2l0aCB0aGUgcmVzdWx0c1xuICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIHR3byBwYXJhbWV0ZXJzOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTEgYW5kIHZhbHVlMiwgd2hpY2ggY29udGFpbiB0aGUgY3VycmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50IG9mIGJvdGggYXJyYXlzLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICpcbiAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSByZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcE1hcChhcnJheSwgY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICBpZiAoYXJyYXkgJiYgdHlwZW9mIGFycmF5Lm1hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFRPRE86IHJlcGxhY2UgYXJyYXkubWFwIHdpdGggYSBmb3IgbG9vcCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlXG4gICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgY2FsbGJhY2ssIHNraXBaZXJvcyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFycmF5KTtcbiAgfVxufVxuLyoqXG4gKiBSZWR1Y2UgYSBnaXZlbiBtYXRyaXggb3IgYXJyYXkgdG8gYSBuZXcgbWF0cml4IG9yXG4gKiBhcnJheSB3aXRoIG9uZSBsZXNzIGRpbWVuc2lvbiwgYXBwbHlpbmcgdGhlIGdpdmVuXG4gKiBjYWxsYmFjayBpbiB0aGUgc2VsZWN0ZWQgZGltZW5zaW9uLlxuICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gbWF0XG4gKiBAcGFyYW0ge251bWJlcn0gZGltXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9IHJlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2UobWF0LCBkaW0sIGNhbGxiYWNrKSB7XG4gIHZhciBzaXplID0gQXJyYXkuaXNBcnJheShtYXQpID8gYXJyYXlTaXplKG1hdCkgOiBtYXQuc2l6ZSgpO1xuXG4gIGlmIChkaW0gPCAwIHx8IGRpbSA+PSBzaXplLmxlbmd0aCkge1xuICAgIC8vIFRPRE86IHdvdWxkIGJlIG1vcmUgY2xlYXIgd2hlbiB0aHJvd2luZyBhIERpbWVuc2lvbkVycm9yIGhlcmVcbiAgICB0aHJvdyBuZXcgSW5kZXhFcnJvcihkaW0sIHNpemUubGVuZ3RoKTtcbiAgfVxuXG4gIGlmIChpc01hdHJpeChtYXQpKSB7XG4gICAgcmV0dXJuIG1hdC5jcmVhdGUoX3JlZHVjZShtYXQudmFsdWVPZigpLCBkaW0sIGNhbGxiYWNrKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9yZWR1Y2UobWF0LCBkaW0sIGNhbGxiYWNrKTtcbiAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSByZWR1Y2UgYSBtYXRyaXhcbiAqIEBwYXJhbSB7QXJyYXl9IG1hdFxuICogQHBhcmFtIHtudW1iZXJ9IGRpbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9yZWR1Y2UobWF0LCBkaW0sIGNhbGxiYWNrKSB7XG4gIHZhciBpLCByZXQsIHZhbCwgdHJhbjtcblxuICBpZiAoZGltIDw9IDApIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWF0WzBdKSkge1xuICAgICAgdmFsID0gbWF0WzBdO1xuXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbCA9IGNhbGxiYWNrKHZhbCwgbWF0W2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbiA9IF9zd2l0Y2gobWF0KTtcbiAgICAgIHJldCA9IFtdO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdHJhbi5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXRbaV0gPSBfcmVkdWNlKHRyYW5baV0sIGRpbSAtIDEsIGNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSBfcmVkdWNlKG1hdFtpXSwgZGltIC0gMSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cbn1cbi8qKlxuICogVHJhbnNwb3NlIGEgbWF0cml4XG4gKiBAcGFyYW0ge0FycmF5fSBtYXRcbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX3N3aXRjaChtYXQpIHtcbiAgdmFyIEkgPSBtYXQubGVuZ3RoO1xuICB2YXIgSiA9IG1hdFswXS5sZW5ndGg7XG4gIHZhciBpLCBqO1xuICB2YXIgcmV0ID0gW107XG5cbiAgZm9yIChqID0gMDsgaiA8IEo7IGorKykge1xuICAgIHZhciB0bXAgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBJOyBpKyspIHtcbiAgICAgIHRtcC5wdXNoKG1hdFtpXVtqXSk7XG4gICAgfVxuXG4gICAgcmV0LnB1c2godG1wKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59IC8vIFRPRE86IGRvY3VtZW50IGZ1bmN0aW9uIHNjYXR0ZXJcblxuXG5leHBvcnQgZnVuY3Rpb24gc2NhdHRlcihhLCBqLCB3LCB4LCB1LCBtYXJrLCBjaW5kZXgsIGYsIGludmVyc2UsIHVwZGF0ZSwgdmFsdWUpIHtcbiAgLy8gYSBhcnJheXNcbiAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgdmFyIGFwdHIgPSBhLl9wdHI7IC8vIHZhcnNcblxuICB2YXIgaywgazAsIGsxLCBpOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzIChwYXR0ZXJuIG1hdHJpeClcblxuICBpZiAoeCkge1xuICAgIC8vIHZhbHVlcyBpbiBqXG4gICAgZm9yIChrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgaSA9IGFpbmRleFtrXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICBpZiAod1tpXSAhPT0gbWFyaykge1xuICAgICAgICAvLyBpIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgIHdbaV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8geChpKSA9IEEsIGNoZWNrIHdlIG5lZWQgdG8gY2FsbCBmdW5jdGlvbiB0aGlzIHRpbWVcblxuICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgLy8gY29weSB2YWx1ZSB0byB3b3Jrc3BhY2UgY2FsbGluZyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgIHhbaV0gPSBpbnZlcnNlID8gZihhdmFsdWVzW2tdLCB2YWx1ZSkgOiBmKHZhbHVlLCBhdmFsdWVzW2tdKTsgLy8gZnVuY3Rpb24gd2FzIGNhbGxlZCBvbiBjdXJyZW50IHJvd1xuXG4gICAgICAgICAgdVtpXSA9IG1hcms7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29weSB2YWx1ZSB0byB3b3Jrc3BhY2VcbiAgICAgICAgICB4W2ldID0gYXZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgIHhbaV0gPSBpbnZlcnNlID8gZihhdmFsdWVzW2tdLCB4W2ldKSA6IGYoeFtpXSwgYXZhbHVlc1trXSk7IC8vIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb24gY3VycmVudCByb3dcblxuICAgICAgICB1W2ldID0gbWFyaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gdmFsdWVzIGluIGpcbiAgICBmb3IgKGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gcm93XG4gICAgICBpID0gYWluZGV4W2tdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgIGlmICh3W2ldICE9PSBtYXJrKSB7XG4gICAgICAgIC8vIGkgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgd1tpXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5kaWNhdGUgZnVuY3Rpb24gd2FzIGNhbGxlZCBvbiBjdXJyZW50IHJvd1xuICAgICAgICB1W2ldID0gbWFyaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBpc0ludGVnZXIsIGxvZzIsIGxvZzEwLCBjYnJ0LCBleHBtMSwgc2lnbiwgdG9GaXhlZCwgbG9nMXAgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xudmFyIG4xID0gJ251bWJlcic7XG52YXIgbjIgPSAnbnVtYmVyLCBudW1iZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGFic051bWJlcihhKSB7XG4gIHJldHVybiBNYXRoLmFicyhhKTtcbn1cbmFic051bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBhZGROdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSArIGI7XG59XG5hZGROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3ROdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5zdWJ0cmFjdE51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseU51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhICogYjtcbn1cbm11bHRpcGx5TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZU51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhIC8gYjtcbn1cbmRpdmlkZU51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiB1bmFyeU1pbnVzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIC14O1xufVxudW5hcnlNaW51c051bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiB1bmFyeVBsdXNOdW1iZXIoeCkge1xuICByZXR1cm4geDtcbn1cbnVuYXJ5UGx1c051bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBjYnJ0TnVtYmVyKHgpIHtcbiAgcmV0dXJuIGNicnQoeCk7XG59XG5jYnJ0TnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWxOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5jZWlsKHgpO1xufVxuY2VpbE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBjdWJlTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggKiB4ICogeDtcbn1cbmN1YmVOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZXhwTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguZXhwKHgpO1xufVxuZXhwTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG0xTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGV4cG0xKHgpO1xufVxuZXhwbTFOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZml4TnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggPiAwID8gTWF0aC5mbG9vcih4KSA6IE1hdGguY2VpbCh4KTtcbn1cbmZpeE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBmbG9vck51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKHgpO1xufVxuZmxvb3JOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSBnY2QgZm9yIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgZ3JlYXRlc3QgY29tbW9uIGRlbm9taW5hdG9yIG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2NkTnVtYmVyKGEsIGIpIHtcbiAgaWYgKCFpc0ludGVnZXIoYSkgfHwgIWlzSW50ZWdlcihiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBnY2QgbXVzdCBiZSBpbnRlZ2VyIG51bWJlcnMnKTtcbiAgfSAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWNsaWRlYW5fYWxnb3JpdGhtXG5cblxuICB2YXIgcjtcblxuICB3aGlsZSAoYiAhPT0gMCkge1xuICAgIHIgPSBhICUgYjtcbiAgICBhID0gYjtcbiAgICBiID0gcjtcbiAgfVxuXG4gIHJldHVybiBhIDwgMCA/IC1hIDogYTtcbn1cbmdjZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIGxjbSBmb3IgdHdvIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbGVhc3QgY29tbW9uIG11bHRpcGxlIG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGNtTnVtYmVyKGEsIGIpIHtcbiAgaWYgKCFpc0ludGVnZXIoYSkgfHwgIWlzSW50ZWdlcihiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBsY20gbXVzdCBiZSBpbnRlZ2VyIG51bWJlcnMnKTtcbiAgfVxuXG4gIGlmIChhID09PSAwIHx8IGIgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfSAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWNsaWRlYW5fYWxnb3JpdGhtXG4gIC8vIGV2YWx1YXRlIGxjbSBoZXJlIGlubGluZSB0byByZWR1Y2Ugb3ZlcmhlYWRcblxuXG4gIHZhciB0O1xuICB2YXIgcHJvZCA9IGEgKiBiO1xuXG4gIHdoaWxlIChiICE9PSAwKSB7XG4gICAgdCA9IGI7XG4gICAgYiA9IGEgJSB0O1xuICAgIGEgPSB0O1xuICB9XG5cbiAgcmV0dXJuIE1hdGguYWJzKHByb2QgLyBhKTtcbn1cbmxjbU51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBsb2dhcml0aG0gb2YgYSB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ051bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KTtcbn1cbmxvZ051bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSAxMC1iYXNlIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nMTBOdW1iZXIoeCkge1xuICByZXR1cm4gbG9nMTAoeCk7XG59XG5sb2cxME51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSAyLWJhc2UgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cyTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGxvZzIoeCk7XG59XG5sb2cyTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgYG51bWJlcisxYFxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZzFwTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGxvZzFwKHgpO1xufVxubG9nMXBOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbW9kdWx1cyBvZiB0d28gbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcmV0dXJucyB7bnVtYmVyfSByZXNcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZE51bWJlcih4LCB5KSB7XG4gIGlmICh5ID4gMCkge1xuICAgIC8vIFdlIGRvbid0IHVzZSBKYXZhU2NyaXB0J3MgJSBvcGVyYXRvciBoZXJlIGFzIHRoaXMgZG9lc24ndCB3b3JrXG4gICAgLy8gY29ycmVjdGx5IGZvciB4IDwgMCBhbmQgeCA9PT0gMFxuICAgIC8vIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXG4gICAgcmV0dXJuIHggLSB5ICogTWF0aC5mbG9vcih4IC8geSk7XG4gIH0gZWxzZSBpZiAoeSA9PT0gMCkge1xuICAgIHJldHVybiB4O1xuICB9IGVsc2Uge1xuICAgIC8vIHkgPCAwXG4gICAgLy8gVE9ETzogaW1wbGVtZW50IG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yJyk7XG4gIH1cbn1cbm1vZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBudGggcm9vdCBvZiBhLCBzb2x2ZSB4XnJvb3QgPT0gYVxuICogaHR0cDovL3Jvc2V0dGFjb2RlLm9yZy93aWtpL050aF9yb290I0phdmFTY3JpcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gcm9vdFxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbnRoUm9vdE51bWJlcihhLCByb290KSB7XG4gIHZhciBpbnYgPSByb290IDwgMDtcblxuICBpZiAoaW52KSB7XG4gICAgcm9vdCA9IC1yb290O1xuICB9XG5cbiAgaWYgKHJvb3QgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jvb3QgbXVzdCBiZSBub24temVybycpO1xuICB9XG5cbiAgaWYgKGEgPCAwICYmIE1hdGguYWJzKHJvb3QpICUgMiAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUm9vdCBtdXN0IGJlIG9kZCB3aGVuIGEgaXMgbmVnYXRpdmUuJyk7XG4gIH0gLy8gZWRnZSBjYXNlcyB6ZXJvIGFuZCBpbmZpbml0eVxuXG5cbiAgaWYgKGEgPT09IDApIHtcbiAgICByZXR1cm4gaW52ID8gSW5maW5pdHkgOiAwO1xuICB9XG5cbiAgaWYgKCFpc0Zpbml0ZShhKSkge1xuICAgIHJldHVybiBpbnYgPyAwIDogYTtcbiAgfVxuXG4gIHZhciB4ID0gTWF0aC5wb3coTWF0aC5hYnMoYSksIDEgLyByb290KTsgLy8gSWYgYSA8IDAsIHdlIHJlcXVpcmUgdGhhdCByb290IGlzIGFuIG9kZCBpbnRlZ2VyLFxuICAvLyBzbyAoLTEpIF4gKDEvcm9vdCkgPSAtMVxuXG4gIHggPSBhIDwgMCA/IC14IDogeDtcbiAgcmV0dXJuIGludiA/IDEgLyB4IDogeDsgLy8gVmVyeSBuaWNlIGFsZ29yaXRobSwgYnV0IGZhaWxzIHdpdGggbnRoUm9vdCgtMiwgMykuXG4gIC8vIE5ld3RvbidzIG1ldGhvZCBoYXMgc29tZSB3ZWxsLWtub3duIHByb2JsZW1zIGF0IHRpbWVzOlxuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OZXd0b24lMjdzX21ldGhvZCNGYWlsdXJlX2FuYWx5c2lzXG5cbiAgLypcbiAgbGV0IHggPSAxIC8vIEluaXRpYWwgZ3Vlc3NcbiAgbGV0IHhQcmV2ID0gMVxuICBsZXQgaSA9IDBcbiAgY29uc3QgaU1heCA9IDEwMDAwXG4gIGRvIHtcbiAgICBjb25zdCBkZWx0YSA9IChhIC8gTWF0aC5wb3coeCwgcm9vdCAtIDEpIC0geCkgLyByb290XG4gICAgeFByZXYgPSB4XG4gICAgeCA9IHggKyBkZWx0YVxuICAgIGkrK1xuICB9XG4gIHdoaWxlICh4UHJldiAhPT0geCAmJiBpIDwgaU1heClcbiAgIGlmICh4UHJldiAhPT0geCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gbnRoUm9vdCBmYWlsZWQgdG8gY29udmVyZ2UnKVxuICB9XG4gICByZXR1cm4gaW52ID8gMSAvIHggOiB4XG4gICovXG59XG5udGhSb290TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25OdW1iZXIoeCkge1xuICByZXR1cm4gc2lnbih4KTtcbn1cbnNpZ25OdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gc3FydE51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLnNxcnQoeCk7XG59XG5zcXJ0TnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZU51bWJlcih4KSB7XG4gIHJldHVybiB4ICogeDtcbn1cbnNxdWFyZU51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHhnY2QgZm9yIHR3byBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzdWx0XG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB4Z2NkTnVtYmVyKGEsIGIpIHtcbiAgLy8gc291cmNlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHRlbmRlZF9FdWNsaWRlYW5fYWxnb3JpdGhtXG4gIHZhciB0OyAvLyB1c2VkIHRvIHN3YXAgdHdvIHZhcmlhYmxlc1xuXG4gIHZhciBxOyAvLyBxdW90aWVudFxuXG4gIHZhciByOyAvLyByZW1haW5kZXJcblxuICB2YXIgeCA9IDA7XG4gIHZhciBsYXN0eCA9IDE7XG4gIHZhciB5ID0gMTtcbiAgdmFyIGxhc3R5ID0gMDtcblxuICBpZiAoIWlzSW50ZWdlcihhKSB8fCAhaXNJbnRlZ2VyKGIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIHhnY2QgbXVzdCBiZSBpbnRlZ2VyIG51bWJlcnMnKTtcbiAgfVxuXG4gIHdoaWxlIChiKSB7XG4gICAgcSA9IE1hdGguZmxvb3IoYSAvIGIpO1xuICAgIHIgPSBhIC0gcSAqIGI7XG4gICAgdCA9IHg7XG4gICAgeCA9IGxhc3R4IC0gcSAqIHg7XG4gICAgbGFzdHggPSB0O1xuICAgIHQgPSB5O1xuICAgIHkgPSBsYXN0eSAtIHEgKiB5O1xuICAgIGxhc3R5ID0gdDtcbiAgICBhID0gYjtcbiAgICBiID0gcjtcbiAgfVxuXG4gIHZhciByZXM7XG5cbiAgaWYgKGEgPCAwKSB7XG4gICAgcmVzID0gWy1hLCAtbGFzdHgsIC1sYXN0eV07XG4gIH0gZWxzZSB7XG4gICAgcmVzID0gW2EsIGEgPyBsYXN0eCA6IDAsIGxhc3R5XTtcbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG54Z2NkTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb3dlciBvZiB4IHRvIHksIHheeSwgZm9yIHR3byBudW1iZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwb3dOdW1iZXIoeCwgeSkge1xuICAvLyB4XkluZmluaXR5ID09PSAwIGlmIC0xIDwgeCA8IDFcbiAgLy8gQSByZWFsIG51bWJlciAwIGlzIHJldHVybmVkIGluc3RlYWQgb2YgY29tcGxleCgwKVxuICBpZiAoeCAqIHggPCAxICYmIHkgPT09IEluZmluaXR5IHx8IHggKiB4ID4gMSAmJiB5ID09PSAtSW5maW5pdHkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnBvdyh4LCB5KTtcbn1cbnBvd051bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogcm91bmQgYSBudW1iZXIgdG8gdGhlIGdpdmVuIG51bWJlciBvZiBkZWNpbWFscywgb3IgdG8gemVybyBpZiBkZWNpbWFscyBpc1xuICogbm90IHByb3ZpZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyAgICAgICBudW1iZXIgb2YgZGVjaW1hbHMsIGJldHdlZW4gMCBhbmQgMTUgKDAgYnkgZGVmYXVsdClcbiAqIEByZXR1cm4ge251bWJlcn0gcm91bmRlZFZhbHVlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kTnVtYmVyKHZhbHVlKSB7XG4gIHZhciBkZWNpbWFscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgcmV0dXJuIHBhcnNlRmxvYXQodG9GaXhlZCh2YWx1ZSwgZGVjaW1hbHMpKTtcbn1cbnJvdW5kTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5vcm0gb2YgYSBudW1iZXIsIHRoZSBhYnNvbHV0ZSB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1OdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5hYnMoeCk7XG59XG5ub3JtTnVtYmVyLnNpZ25hdHVyZSA9IG4xOyIsImltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2lzTnVtZXJpYyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVJc051bWVyaWMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgYW4gbnVtZXJpYyB2YWx1ZS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50LXdpc2UgaW4gY2FzZSBvZiBBcnJheSBvciBNYXRyaXggaW5wdXQuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguaXNOdW1lcmljKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmlzTnVtZXJpYygyKSAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYygnMicpICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5oYXNOdW1lcmljVmFsdWUoJzInKSAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMoMCkgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMobWF0aC5iaWdudW1iZXIoNTAwKSkgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMobWF0aC5mcmFjdGlvbig0KSkgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMobWF0aC5jb21wbGV4KCcyLTRpJykgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKFsyLjMsICdmb28nLCBmYWxzZV0pICAgLy8gcmV0dXJucyBbdHJ1ZSwgZmFsc2UsIHRydWVdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBpc1plcm8sIGlzUG9zaXRpdmUsIGlzTmVnYXRpdmUsIGlzSW50ZWdlciwgaGFzTnVtZXJpY1ZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0geCAgICAgICBWYWx1ZSB0byBiZSB0ZXN0ZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gIFJldHVybnMgdHJ1ZSB3aGVuIGB4YCBpcyBhIGBudW1iZXJgLCBgQmlnTnVtYmVyYCxcbiAgICogICAgICAgICAgICAgICAgICAgIGBGcmFjdGlvbmAsIG9yIGBib29sZWFuYC4gUmV0dXJucyBmYWxzZSBmb3Igb3RoZXIgdHlwZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICBUaHJvd3MgYW4gZXJyb3IgaW4gY2FzZSBvZiB1bmtub3duIHR5cGVzLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyRnJhY3Rpb25Cb29sZWFuKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICAnQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkIHwgTm9kZSc6IGZ1bmN0aW9uIENvbXBsZXhVbml0U3RyaW5nTnVsbFVuZGVmaW5lZE5vZGUoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiLyoqXG4gKiBDb21wYXJlcyB0d28gQmlnTnVtYmVycy5cbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB4ICAgICAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB5ICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW2Vwc2lsb25dICBUaGUgbWF4aW11bSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZXBzaWxvbiBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsLlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgdHdvIG51bWJlcnMgYXJlIG5lYXJseSBlcXVhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVhcmx5RXF1YWwoeCwgeSwgZXBzaWxvbikge1xuICAvLyBpZiBlcHNpbG9uIGlzIG51bGwgb3IgdW5kZWZpbmVkLCB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbFxuICBpZiAoZXBzaWxvbiA9PT0gbnVsbCB8fCBlcHNpbG9uID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geC5lcSh5KTtcbiAgfSAvLyB1c2UgXCI9PVwiIG9wZXJhdG9yLCBoYW5kbGVzIGluZmluaXRpZXNcblxuXG4gIGlmICh4LmVxKHkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gTmFOXG5cblxuICBpZiAoeC5pc05hTigpIHx8IHkuaXNOYU4oKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBhdCB0aGlzIHBvaW50IHggYW5kIHkgc2hvdWxkIGJlIGZpbml0ZVxuXG5cbiAgaWYgKHguaXNGaW5pdGUoKSAmJiB5LmlzRmluaXRlKCkpIHtcbiAgICAvLyBjaGVjayBudW1iZXJzIGFyZSB2ZXJ5IGNsb3NlLCBuZWVkZWQgd2hlbiBjb21wYXJpbmcgbnVtYmVycyBuZWFyIHplcm9cbiAgICB2YXIgZGlmZiA9IHgubWludXMoeSkuYWJzKCk7XG5cbiAgICBpZiAoZGlmZi5pc1plcm8oKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZSByZWxhdGl2ZSBlcnJvclxuICAgICAgdmFyIG1heCA9IHguY29uc3RydWN0b3IubWF4KHguYWJzKCksIHkuYWJzKCkpO1xuICAgICAgcmV0dXJuIGRpZmYubHRlKG1heC50aW1lcyhlcHNpbG9uKSk7XG4gICAgfVxuICB9IC8vIEluZmluaXRlIGFuZCBOdW1iZXIgb3IgbmVnYXRpdmUgSW5maW5pdGUgYW5kIHBvc2l0aXZlIEluZmluaXRlIGNhc2VzXG5cblxuICByZXR1cm4gZmFsc2U7XG59IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY29tcGxleEVxdWFscyB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbXBsZXguanMnO1xudmFyIG5hbWUgPSAnZXF1YWxTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJ107XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsU2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdHdvIHNjYWxhciB2YWx1ZXMgYXJlIG5lYXJseSBlcXVhbC5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgQ29tcGxleCB8IFVuaXR9IHggICBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IENvbXBsZXh9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIGVxdWFsLCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2Jvb2xlYW4sIGJvb2xlYW4nOiBmdW5jdGlvbiBib29sZWFuQm9vbGVhbih4LCB5KSB7XG4gICAgICByZXR1cm4geCA9PT0geTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmVxKHkpIHx8IGJpZ05lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmVxdWFscyh5KTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGNvbXBsZXhFcXVhbHMoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBhcmUgdW5pdHMgd2l0aCBkaWZmZXJlbnQgYmFzZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcyh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsU2NhbGFyTnVtYmVyID0gZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2NvbmZpZyddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4vbnVtYmVyLmpzJztcbi8qKlxuICogVGVzdCB3aGV0aGVyIHR3byBjb21wbGV4IHZhbHVlcyBhcmUgZXF1YWwgcHJvdmlkZWQgYSBnaXZlbiBlcHNpbG9uLlxuICogRG9lcyBub3QgdXNlIG9yIGNoYW5nZSB0aGUgZ2xvYmFsIENvbXBsZXguRVBTSUxPTiBzZXR0aW5nXG4gKiBAcGFyYW0ge0NvbXBsZXh9IHhcbiAqIEBwYXJhbSB7Q29tcGxleH0geVxuICogQHBhcmFtIHtudW1iZXJ9IGVwc2lsb25cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wbGV4RXF1YWxzKHgsIHksIGVwc2lsb24pIHtcbiAgcmV0dXJuIG5lYXJseUVxdWFsKHgucmUsIHkucmUsIGVwc2lsb24pICYmIG5lYXJseUVxdWFsKHguaW0sIHkuaW0sIGVwc2lsb24pO1xufSIsImltcG9ydCB7IGlzQXJyYXksIGlzQmlnTnVtYmVyLCBpc0NvbGxlY3Rpb24sIGlzSW5kZXgsIGlzTWF0cml4LCBpc051bWJlciwgaXNTdHJpbmcsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgY2xvbmUsIGRlZXBTdHJpY3RFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUsIGdldEFycmF5RGF0YVR5cGUsIHVuc3F1ZWV6ZSwgdmFsaWRhdGVJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnU3BhcnNlTWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJywgJ01hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTcGFyc2VNYXRyaXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIE1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogU3BhcnNlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbi4gVGhpcyB0eXBlIGltcGxlbWVudHMgYSBDb21wcmVzc2VkIENvbHVtbiBTdG9yYWdlIGZvcm1hdFxuICAgKiBmb3Igc3BhcnNlIG1hdHJpY2VzLlxuICAgKiBAY2xhc3MgU3BhcnNlTWF0cml4XG4gICAqL1xuICBmdW5jdGlvbiBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BhcnNlTWF0cml4KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YXR5cGUgJiYgIWlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGF0eXBlOiAnICsgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIGlmIChpc01hdHJpeChkYXRhKSkge1xuICAgICAgLy8gY3JlYXRlIGZyb20gbWF0cml4XG4gICAgICBfY3JlYXRlRnJvbU1hdHJpeCh0aGlzLCBkYXRhLCBkYXRhdHlwZSk7XG4gICAgfSBlbHNlIGlmIChkYXRhICYmIGlzQXJyYXkoZGF0YS5pbmRleCkgJiYgaXNBcnJheShkYXRhLnB0cikgJiYgaXNBcnJheShkYXRhLnNpemUpKSB7XG4gICAgICAvLyBpbml0aWFsaXplIGZpZWxkc1xuICAgICAgdGhpcy5fdmFsdWVzID0gZGF0YS52YWx1ZXM7XG4gICAgICB0aGlzLl9pbmRleCA9IGRhdGEuaW5kZXg7XG4gICAgICB0aGlzLl9wdHIgPSBkYXRhLnB0cjtcbiAgICAgIHRoaXMuX3NpemUgPSBkYXRhLnNpemU7XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuZGF0YXR5cGU7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgICAvLyBjcmVhdGUgZnJvbSBhcnJheVxuICAgICAgX2NyZWF0ZUZyb21BcnJheSh0aGlzLCBkYXRhLCBkYXRhdHlwZSk7XG4gICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAvLyB1bnN1cHBvcnRlZCB0eXBlXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIG9mIGRhdGEgKCcgKyB0eXBlT2YoZGF0YSkgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub3RoaW5nIHByb3ZpZGVkXG4gICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICAgIHRoaXMuX2luZGV4ID0gW107XG4gICAgICB0aGlzLl9wdHIgPSBbMF07XG4gICAgICB0aGlzLl9zaXplID0gWzAsIDBdO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRnJvbU1hdHJpeChtYXRyaXgsIHNvdXJjZSwgZGF0YXR5cGUpIHtcbiAgICAvLyBjaGVjayBtYXRyaXggdHlwZVxuICAgIGlmIChzb3VyY2UudHlwZSA9PT0gJ1NwYXJzZU1hdHJpeCcpIHtcbiAgICAgIC8vIGNsb25lIGFycmF5c1xuICAgICAgbWF0cml4Ll92YWx1ZXMgPSBzb3VyY2UuX3ZhbHVlcyA/IGNsb25lKHNvdXJjZS5fdmFsdWVzKSA6IHVuZGVmaW5lZDtcbiAgICAgIG1hdHJpeC5faW5kZXggPSBjbG9uZShzb3VyY2UuX2luZGV4KTtcbiAgICAgIG1hdHJpeC5fcHRyID0gY2xvbmUoc291cmNlLl9wdHIpO1xuICAgICAgbWF0cml4Ll9zaXplID0gY2xvbmUoc291cmNlLl9zaXplKTtcbiAgICAgIG1hdHJpeC5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBzb3VyY2UuX2RhdGF0eXBlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBidWlsZCBmcm9tIG1hdHJpeCBkYXRhXG4gICAgICBfY3JlYXRlRnJvbUFycmF5KG1hdHJpeCwgc291cmNlLnZhbHVlT2YoKSwgZGF0YXR5cGUgfHwgc291cmNlLl9kYXRhdHlwZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZyb21BcnJheShtYXRyaXgsIGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBmaWVsZHNcbiAgICBtYXRyaXguX3ZhbHVlcyA9IFtdO1xuICAgIG1hdHJpeC5faW5kZXggPSBbXTtcbiAgICBtYXRyaXguX3B0ciA9IFtdO1xuICAgIG1hdHJpeC5fZGF0YXR5cGUgPSBkYXRhdHlwZTsgLy8gZGlzY292ZXIgcm93cyAmIGNvbHVtbnMsIGRvIG5vdCB1c2UgbWF0aC5zaXplKCkgdG8gYXZvaWQgbG9vcGluZyBhcnJheSB0d2ljZVxuXG4gICAgdmFyIHJvd3MgPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgY29sdW1ucyA9IDA7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2RhdGF0eXBlLCBkYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZGF0YXR5cGUpO1xuICAgIH0gLy8gY2hlY2sgd2UgaGF2ZSByb3dzIChlbXB0eSBhcnJheSlcblxuXG4gICAgaWYgKHJvd3MgPiAwKSB7XG4gICAgICAvLyBjb2x1bW4gaW5kZXhcbiAgICAgIHZhciBqID0gMDtcblxuICAgICAgZG8ge1xuICAgICAgICAvLyBzdG9yZSBwb2ludGVyIHRvIHZhbHVlcyBpbmRleFxuICAgICAgICBtYXRyaXguX3B0ci5wdXNoKG1hdHJpeC5faW5kZXgubGVuZ3RoKTsgLy8gbG9vcCByb3dzXG5cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIGN1cnJlbnQgcm93XG4gICAgICAgICAgdmFyIHJvdyA9IGRhdGFbaV07IC8vIGNoZWNrIHJvdyBpcyBhbiBhcnJheVxuXG4gICAgICAgICAgaWYgKGlzQXJyYXkocm93KSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbHVtbnMgaWYgbmVlZGVkIChvbmx5IG9uIGZpcnN0IGNvbHVtbilcbiAgICAgICAgICAgIGlmIChqID09PSAwICYmIGNvbHVtbnMgPCByb3cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMgPSByb3cubGVuZ3RoO1xuICAgICAgICAgICAgfSAvLyBjaGVjayByb3cgaGFzIGNvbHVtblxuXG5cbiAgICAgICAgICAgIGlmIChqIDwgcm93Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyB2YWx1ZVxuICAgICAgICAgICAgICB2YXIgdiA9IHJvd1tqXTsgLy8gY2hlY2sgdmFsdWUgIT0gMFxuXG4gICAgICAgICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZVxuICAgICAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnB1c2godik7IC8vIGluZGV4XG5cblxuICAgICAgICAgICAgICAgIG1hdHJpeC5faW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29sdW1ucyBpZiBuZWVkZWQgKG9ubHkgb24gZmlyc3QgY29sdW1uKVxuICAgICAgICAgICAgaWYgKGogPT09IDAgJiYgY29sdW1ucyA8IDEpIHtcbiAgICAgICAgICAgICAgY29sdW1ucyA9IDE7XG4gICAgICAgICAgICB9IC8vIGNoZWNrIHZhbHVlICE9IDAgKHJvdyBpcyBhIHNjYWxhcilcblxuXG4gICAgICAgICAgICBpZiAoIWVxKHJvdywgemVybykpIHtcbiAgICAgICAgICAgICAgLy8gc3RvcmUgdmFsdWVcbiAgICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMucHVzaChyb3cpOyAvLyBpbmRleFxuXG5cbiAgICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpbmNyZW1lbnQgaW5kZXhcblxuXG4gICAgICAgIGorKztcbiAgICAgIH0gd2hpbGUgKGogPCBjb2x1bW5zKTtcbiAgICB9IC8vIHN0b3JlIG51bWJlciBvZiB2YWx1ZXMgaW4gcHRyXG5cblxuICAgIG1hdHJpeC5fcHRyLnB1c2gobWF0cml4Ll9pbmRleC5sZW5ndGgpOyAvLyBzaXplXG5cblxuICAgIG1hdHJpeC5fc2l6ZSA9IFtyb3dzLCBjb2x1bW5zXTtcbiAgfVxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUgPSBuZXcgTWF0cml4KCk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU3BhcnNlTWF0cml4XG4gICAqL1xuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlU3BhcnNlTWF0cml4ID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnR5cGUgPSAnU3BhcnNlTWF0cml4JztcbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5pc1NwYXJzZU1hdHJpeCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICBjb25zdCBtYXRyaXhUeXBlID0gbWF0cml4LmdldERhdGFUeXBlKCkgIC8vIHJldHJpZXZlcyB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogQG1lbWJlck9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgdHlwZSBpbmZvcm1hdGlvbjsgaWYgbXVsdGlwbGUgdHlwZXMgYXJlIGZvdW5kIGZyb20gdGhlIE1hdHJpeCwgaXQgd2lsbCByZXR1cm4gXCJtaXhlZFwiXG4gICAqL1xuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZ2V0RGF0YVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEFycmF5RGF0YVR5cGUodGhpcy5fdmFsdWVzLCB0eXBlT2YpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBzdG9yYWdlIGZvcm1hdCB1c2VkIGJ5IHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LnN0b3JhZ2UoKSAgIC8vIHJldHJpZXZlIHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIHN0b3JhZ2UgZm9ybWF0LlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ3NwYXJzZSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGF0eXBlIG9mIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5kYXRhdHlwZSgpICAgIC8vIHJldHJpZXZlIG1hdHJpeCBkYXRhdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBkYXRhdHlwZS5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmRhdGF0eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhdHlwZTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBTcGFyc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hdHJpeCBkZW5zaXR5LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGRlbnNpdHkgPSBtYXRyaXguZGVuc2l0eSgpICAgICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIG1hdHJpeCBkZW5zaXR5XG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgVGhlIG1hdHJpeCBkZW5zaXR5LlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZGVuc2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyByb3dzICYgY29sdW1uc1xuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGNhbGN1bGF0ZSBkZW5zaXR5XG5cbiAgICByZXR1cm4gcm93cyAhPT0gMCAmJiBjb2x1bW5zICE9PSAwID8gdGhpcy5faW5kZXgubGVuZ3RoIC8gKHJvd3MgKiBjb2x1bW5zKSA6IDA7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeCwgb3IgcmVwbGFjZSBhIHN1YnNldCBvZiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IHN1YnNldCA9IG1hdHJpeC5zdWJzZXQoaW5kZXgpICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc3Vic2V0XG4gICAqICAgICBjb25zdCB2YWx1ZSA9IG1hdHJpeC5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KSAgIC8vIHJlcGxhY2Ugc3Vic2V0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8ICp9IFtyZXBsYWNlbWVudF1cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnN1YnNldCA9IGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHN1YnNldCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIGNoZWNrIGFyZ3VtZW50c1xuXG5cbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9nZXRzdWJzZXQodGhpcywgaW5kZXgpO1xuICAgICAgLy8gaW50ZW50aW9uYWwgZmFsbCB0aHJvdWdoXG5cbiAgICAgIGNhc2UgMjpcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIF9zZXRzdWJzZXQodGhpcywgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMnKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2dldHN1YnNldChtYXRyaXgsIGlkeCkge1xuICAgIC8vIGNoZWNrIGlkeFxuICAgIGlmICghaXNJbmRleChpZHgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU2NhbGFyID0gaWR4LmlzU2NhbGFyKCk7XG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHJldHVybiBhIHNjYWxhclxuICAgICAgcmV0dXJuIG1hdHJpeC5nZXQoaWR4Lm1pbigpKTtcbiAgICB9IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIHNpemUgPSBpZHguc2l6ZSgpO1xuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSBtYXRyaXguX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gdmFyc1xuXG5cbiAgICB2YXIgaSwgaWksIGssIGtrOyAvLyB2YWxpZGF0ZSBpZiBhbnkgb2YgdGhlIHJhbmdlcyBpbiB0aGUgaW5kZXggaXMgb3V0IG9mIHJhbmdlXG5cbiAgICB2YXIgbWluID0gaWR4Lm1pbigpO1xuICAgIHZhciBtYXggPSBpZHgubWF4KCk7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IG1hdHJpeC5fc2l6ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YWxpZGF0ZUluZGV4KG1pbltpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICAgIHZhbGlkYXRlSW5kZXgobWF4W2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgIH0gLy8gbWF0cml4IGFycmF5c1xuXG5cbiAgICB2YXIgbXZhbHVlcyA9IG1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBtaW5kZXggPSBtYXRyaXguX2luZGV4O1xuICAgIHZhciBtcHRyID0gbWF0cml4Ll9wdHI7IC8vIHJvd3MgJiBjb2x1bW5zIGRpbWVuc2lvbnMgZm9yIHJlc3VsdCBtYXRyaXhcblxuICAgIHZhciByb3dzID0gaWR4LmRpbWVuc2lvbigwKTtcbiAgICB2YXIgY29sdW1ucyA9IGlkeC5kaW1lbnNpb24oMSk7IC8vIHdvcmtzcGFjZSAmIHBlcm11dGF0aW9uIHZlY3RvclxuXG4gICAgdmFyIHcgPSBbXTtcbiAgICB2YXIgcHYgPSBbXTsgLy8gbG9vcCByb3dzIGluIHJlc3VsdGluZyBtYXRyaXhcblxuICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAoaSwgcikge1xuICAgICAgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvclxuICAgICAgcHZbaV0gPSByWzBdOyAvLyBtYXJrIGkgaW4gd29ya3NwYWNlXG5cbiAgICAgIHdbaV0gPSB0cnVlO1xuICAgIH0pOyAvLyByZXN1bHQgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIHZhbHVlcyA9IG12YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiByZXN1bHQgbWF0cml4XG5cbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGopIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIHB0ci5wdXNoKGluZGV4Lmxlbmd0aCk7IC8vIGxvb3AgdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAoayA9IG1wdHJbal0sIGtrID0gbXB0cltqICsgMV07IGsgPCBrazsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gbWluZGV4W2tdOyAvLyBjaGVjayByb3cgaXMgaW4gcmVzdWx0IG1hdHJpeFxuXG4gICAgICAgIGlmICh3W2ldID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gcHVzaCBpbmRleFxuICAgICAgICAgIGluZGV4LnB1c2gocHZbaV0pOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChtdmFsdWVzW2tdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTsgLy8gdXBkYXRlIHB0clxuXG4gICAgcHRyLnB1c2goaW5kZXgubGVuZ3RoKTsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBkYXRhdHlwZTogbWF0cml4Ll9kYXRhdHlwZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldHN1YnNldChtYXRyaXgsIGluZGV4LCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIGNoZWNrIGluZGV4XG4gICAgaWYgKCFpbmRleCB8fCBpbmRleC5pc0luZGV4ICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfSAvLyBnZXQgaW5kZXggc2l6ZSBhbmQgY2hlY2sgd2hldGhlciB0aGUgaW5kZXggY29udGFpbnMgYSBzaW5nbGUgdmFsdWVcblxuXG4gICAgdmFyIGlTaXplID0gaW5kZXguc2l6ZSgpO1xuICAgIHZhciBpc1NjYWxhciA9IGluZGV4LmlzU2NhbGFyKCk7IC8vIGNhbGN1bGF0ZSB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4LCBhbmQgY29udmVydCBpdCBpbnRvIGFuIEFycmF5IGlmIG5lZWRlZFxuXG4gICAgdmFyIHNTaXplO1xuXG4gICAgaWYgKGlzTWF0cml4KHN1Ym1hdHJpeCkpIHtcbiAgICAgIC8vIHN1Ym1hdHJpeCBzaXplXG4gICAgICBzU2l6ZSA9IHN1Ym1hdHJpeC5zaXplKCk7IC8vIHVzZSBhcnJheSByZXByZXNlbnRhdGlvblxuXG4gICAgICBzdWJtYXRyaXggPSBzdWJtYXRyaXgudG9BcnJheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBnZXQgc3VibWF0cml4IHNpemUgKGFycmF5LCBzY2FsYXIpXG4gICAgICBzU2l6ZSA9IGFycmF5U2l6ZShzdWJtYXRyaXgpO1xuICAgIH0gLy8gY2hlY2sgaW5kZXggaXMgYSBzY2FsYXJcblxuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyB2ZXJpZnkgc3VibWF0cml4IGlzIGEgc2NhbGFyXG4gICAgICBpZiAoc1NpemUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NjYWxhciBleHBlY3RlZCcpO1xuICAgICAgfSAvLyBzZXQgdmFsdWVcblxuXG4gICAgICBtYXRyaXguc2V0KGluZGV4Lm1pbigpLCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHZhbGlkYXRlIGRpbWVuc2lvbnMsIGluZGV4IHNpemUgbXVzdCBiZSBvbmUgb3IgdHdvIGRpbWVuc2lvbnNcbiAgICAgIGlmIChpU2l6ZS5sZW5ndGggIT09IDEgJiYgaVNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9IC8vIGNoZWNrIHN1Ym1hdHJpeCBhbmQgaW5kZXggaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zXG5cblxuICAgICAgaWYgKHNTaXplLmxlbmd0aCA8IGlTaXplLmxlbmd0aCkge1xuICAgICAgICAvLyBjYWxjdWxhdGUgbnVtYmVyIG9mIG1pc3Npbmcgb3V0ZXIgZGltZW5zaW9uc1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBvdXRlciA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxICYmIHNTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgb3V0ZXIrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgIH0gLy8gdW5zcXVlZXplIGJvdGggb3V0ZXIgYW5kIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gICAgICAgIHN1Ym1hdHJpeCA9IHVuc3F1ZWV6ZShzdWJtYXRyaXgsIGlTaXplLmxlbmd0aCwgb3V0ZXIsIHNTaXplKTtcbiAgICAgIH0gLy8gY2hlY2sgd2hldGhlciB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4IG1hdGNoZXMgdGhlIGluZGV4IHNpemVcblxuXG4gICAgICBpZiAoIWRlZXBTdHJpY3RFcXVhbChpU2l6ZSwgc1NpemUpKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZSwgc1NpemUsICc+Jyk7XG4gICAgICB9IC8vIG9mZnNldHNcblxuXG4gICAgICB2YXIgeDAgPSBpbmRleC5taW4oKVswXTtcbiAgICAgIHZhciB5MCA9IGluZGV4Lm1pbigpWzFdOyAvLyBzdWJtYXRyaXggcm93cyBhbmQgY29sdW1uc1xuXG4gICAgICB2YXIgbSA9IHNTaXplWzBdO1xuICAgICAgdmFyIG4gPSBzU2l6ZVsxXTsgLy8gbG9vcCBzdWJtYXRyaXhcblxuICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtOyB4KyspIHtcbiAgICAgICAgLy8gbG9vcCBjb2x1bW5zXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbjsgeSsrKSB7XG4gICAgICAgICAgLy8gdmFsdWUgYXQgaSwgalxuICAgICAgICAgIHZhciB2ID0gc3VibWF0cml4W3hdW3ldOyAvLyBpbnZva2Ugc2V0ICh6ZXJvIHZhbHVlIHdpbGwgcmVtb3ZlIGVudHJ5IGZyb20gbWF0cml4KVxuXG4gICAgICAgICAgbWF0cml4LnNldChbeCArIHgwLCB5ICsgeTBdLCB2LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIGVsZW1lbnQgZnJvbSB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoICE9PSB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGdldCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIHJvdyBhbmQgY29sdW1uXG5cblxuICAgIHZhciBpID0gaW5kZXhbMF07XG4gICAgdmFyIGogPSBpbmRleFsxXTsgLy8gY2hlY2sgaSwgaiBhcmUgdmFsaWRcblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgdGhpcy5fc2l6ZVswXSk7XG4gICAgdmFsaWRhdGVJbmRleChqLCB0aGlzLl9zaXplWzFdKTsgLy8gZmluZCB2YWx1ZSBpbmRleFxuXG4gICAgdmFyIGsgPSBfZ2V0VmFsdWVJbmRleChpLCB0aGlzLl9wdHJbal0sIHRoaXMuX3B0cltqICsgMV0sIHRoaXMuX2luZGV4KTsgLy8gY2hlY2sgayBpcyBwcmlvciB0byBuZXh0IGNvbHVtbiBrIGFuZCBpdCBpcyBpbiB0aGUgY29ycmVjdCByb3dcblxuXG4gICAgaWYgKGsgPCB0aGlzLl9wdHJbaiArIDFdICYmIHRoaXMuX2luZGV4W2tdID09PSBpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWVzW2tdO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuICAvKipcbiAgICogUmVwbGFjZSBhIHNpbmdsZSBlbGVtZW50IGluIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIHNldCB0byB6ZXJvLlxuICAgKiBAcmV0dXJuIHtTcGFyc2VNYXRyaXh9IHNlbGZcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdiwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoICE9PSB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHNldCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIHJvdyBhbmQgY29sdW1uXG5cblxuICAgIHZhciBpID0gaW5kZXhbMF07XG4gICAgdmFyIGogPSBpbmRleFsxXTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcodGhpcy5fZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW3RoaXMuX2RhdGF0eXBlLCB0aGlzLl9kYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgdGhpcy5fZGF0YXR5cGUpO1xuICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byByZXNpemUgbWF0cml4XG5cblxuICAgIGlmIChpID4gcm93cyAtIDEgfHwgaiA+IGNvbHVtbnMgLSAxKSB7XG4gICAgICAvLyByZXNpemUgbWF0cml4XG4gICAgICBfcmVzaXplKHRoaXMsIE1hdGgubWF4KGkgKyAxLCByb3dzKSwgTWF0aC5tYXgoaiArIDEsIGNvbHVtbnMpLCBkZWZhdWx0VmFsdWUpOyAvLyB1cGRhdGUgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgICByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICAgIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdO1xuICAgIH0gLy8gY2hlY2sgaSwgaiBhcmUgdmFsaWRcblxuXG4gICAgdmFsaWRhdGVJbmRleChpLCByb3dzKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIGNvbHVtbnMpOyAvLyBmaW5kIHZhbHVlIGluZGV4XG5cbiAgICB2YXIgayA9IF9nZXRWYWx1ZUluZGV4KGksIHRoaXMuX3B0cltqXSwgdGhpcy5fcHRyW2ogKyAxXSwgdGhpcy5faW5kZXgpOyAvLyBjaGVjayBrIGlzIHByaW9yIHRvIG5leHQgY29sdW1uIGsgYW5kIGl0IGlzIGluIHRoZSBjb3JyZWN0IHJvd1xuXG5cbiAgICBpZiAoayA8IHRoaXMuX3B0cltqICsgMV0gJiYgdGhpcy5faW5kZXhba10gPT09IGkpIHtcbiAgICAgIC8vIGNoZWNrIHZhbHVlICE9IDBcbiAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICAgIHRoaXMuX3ZhbHVlc1trXSA9IHY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZW1vdmUgdmFsdWUgZnJvbSBtYXRyaXhcbiAgICAgICAgX3JlbW92ZShrLCBqLCB0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnNlcnQgdmFsdWUgQCAoaSwgailcbiAgICAgIF9pbnNlcnQoaywgaSwgaiwgdiwgdGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBmdW5jdGlvbiBfZ2V0VmFsdWVJbmRleChpLCB0b3AsIGJvdHRvbSwgaW5kZXgpIHtcbiAgICAvLyBjaGVjayByb3cgaXMgb24gdGhlIGJvdHRvbSBzaWRlXG4gICAgaWYgKGJvdHRvbSAtIHRvcCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJvdHRvbTtcbiAgICB9IC8vIGxvb3Agcm93cyBbdG9wLCBib3R0b21bXG5cblxuICAgIGZvciAodmFyIHIgPSB0b3A7IHIgPCBib3R0b207IHIrKykge1xuICAgICAgLy8gY2hlY2sgd2UgZm91bmQgdmFsdWUgaW5kZXhcbiAgICAgIGlmIChpbmRleFtyXSA9PT0gaSkge1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9IC8vIHdlIGRpZCBub3QgZmluZCByb3dcblxuXG4gICAgcmV0dXJuIHRvcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZW1vdmUoaywgaiwgdmFsdWVzLCBpbmRleCwgcHRyKSB7XG4gICAgLy8gcmVtb3ZlIHZhbHVlIEAga1xuICAgIHZhbHVlcy5zcGxpY2UoaywgMSk7XG4gICAgaW5kZXguc3BsaWNlKGssIDEpOyAvLyB1cGRhdGUgcG9pbnRlcnNcblxuICAgIGZvciAodmFyIHggPSBqICsgMTsgeCA8IHB0ci5sZW5ndGg7IHgrKykge1xuICAgICAgcHRyW3hdLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2luc2VydChrLCBpLCBqLCB2LCB2YWx1ZXMsIGluZGV4LCBwdHIpIHtcbiAgICAvLyBpbnNlcnQgdmFsdWVcbiAgICB2YWx1ZXMuc3BsaWNlKGssIDAsIHYpOyAvLyB1cGRhdGUgcm93IGZvciBrXG5cbiAgICBpbmRleC5zcGxpY2UoaywgMCwgaSk7IC8vIHVwZGF0ZSBjb2x1bW4gcG9pbnRlcnNcblxuICAgIGZvciAodmFyIHggPSBqICsgMTsgeCA8IHB0ci5sZW5ndGg7IHgrKykge1xuICAgICAgcHRyW3hdKys7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNpemUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW10gfCBNYXRyaXh9IHNpemUgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50cyB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNpemVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaXplZCBtYXRyaXhcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUsIGNvcHkpIHtcbiAgICAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoIWlzQ29sbGVjdGlvbihzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgb3IgTWF0cml4IGV4cGVjdGVkJyk7XG4gICAgfSAvLyBTcGFyc2VNYXRyaXggaW5wdXQgaXMgYWx3YXlzIDJkLCBmbGF0dGVuIHRoaXMgaW50byAxZCBpZiBpdCdzIGluZGVlZCBhIHZlY3RvclxuXG5cbiAgICB2YXIgc2l6ZUFycmF5ID0gc2l6ZS52YWx1ZU9mKCkubWFwKHZhbHVlID0+IHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgaWYgKHNpemVBcnJheS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9ucyBtYXRyaXggYXJlIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gY2hlY2sgc2l6ZXNcblxuXG4gICAgc2l6ZUFycmF5LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzaXplLCBtdXN0IGNvbnRhaW4gcG9zaXRpdmUgaW50ZWdlcnMgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplQXJyYXkpICsgJyknKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gbWF0cml4IHRvIHJlc2l6ZVxuXG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpczsgLy8gcmVzaXplIG1hdHJpeFxuXG4gICAgcmV0dXJuIF9yZXNpemUobSwgc2l6ZUFycmF5WzBdLCBzaXplQXJyYXlbMV0sIGRlZmF1bHRWYWx1ZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3Jlc2l6ZShtYXRyaXgsIHJvd3MsIGNvbHVtbnMsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIHZhbHVlIHRvIGluc2VydCBhdCB0aGUgdGltZSBvZiBncm93aW5nIG1hdHJpeFxuICAgIHZhciB2YWx1ZSA9IGRlZmF1bHRWYWx1ZSB8fCAwOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKG1hdHJpeC5fZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW21hdHJpeC5fZGF0YXR5cGUsIG1hdHJpeC5fZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIG1hdHJpeC5fZGF0YXR5cGUpOyAvLyBjb252ZXJ0IHZhbHVlIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHZhbHVlID0gdHlwZWQuY29udmVydCh2YWx1ZSwgbWF0cml4Ll9kYXRhdHlwZSk7XG4gICAgfSAvLyBzaG91bGQgd2UgaW5zZXJ0IHRoZSB2YWx1ZT9cblxuXG4gICAgdmFyIGlucyA9ICFlcSh2YWx1ZSwgemVybyk7IC8vIG9sZCBjb2x1bW5zIGFuZCByb3dzXG5cbiAgICB2YXIgciA9IG1hdHJpeC5fc2l6ZVswXTtcbiAgICB2YXIgYyA9IG1hdHJpeC5fc2l6ZVsxXTtcbiAgICB2YXIgaSwgaiwgazsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbmNyZWFzZSBjb2x1bW5zXG5cbiAgICBpZiAoY29sdW1ucyA+IGMpIHtcbiAgICAgIC8vIGxvb3AgbmV3IGNvbHVtbnNcbiAgICAgIGZvciAoaiA9IGM7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbnNlcnQgbWF0cml4Ll92YWx1ZXNcblxuICAgICAgICBpZiAoaW5zKSB7XG4gICAgICAgICAgLy8gbG9vcCByb3dzXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IHI7IGkrKykge1xuICAgICAgICAgICAgLy8gYWRkIG5ldyBtYXRyaXguX3ZhbHVlc1xuICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMucHVzaCh2YWx1ZSk7IC8vIHVwZGF0ZSBtYXRyaXguX2luZGV4XG5cblxuICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5wdXNoKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgbWF0cml4Ll92YWx1ZXMgaW4gbWF0cml4Ll9wdHJcblxuXG4gICAgICBtYXRyaXguX3B0cltjb2x1bW5zXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKGNvbHVtbnMgPCBjKSB7XG4gICAgICAvLyB0cnVuY2F0ZSBtYXRyaXguX3B0clxuICAgICAgbWF0cml4Ll9wdHIuc3BsaWNlKGNvbHVtbnMgKyAxLCBjIC0gY29sdW1ucyk7IC8vIHRydW5jYXRlIG1hdHJpeC5fdmFsdWVzIGFuZCBtYXRyaXguX2luZGV4XG5cblxuICAgICAgbWF0cml4Ll92YWx1ZXMuc3BsaWNlKG1hdHJpeC5fcHRyW2NvbHVtbnNdLCBtYXRyaXguX3ZhbHVlcy5sZW5ndGgpO1xuXG4gICAgICBtYXRyaXguX2luZGV4LnNwbGljZShtYXRyaXguX3B0cltjb2x1bW5zXSwgbWF0cml4Ll9pbmRleC5sZW5ndGgpO1xuICAgIH0gLy8gdXBkYXRlIGNvbHVtbnNcblxuXG4gICAgYyA9IGNvbHVtbnM7IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5jcmVhc2Ugcm93c1xuXG4gICAgaWYgKHJvd3MgPiByKSB7XG4gICAgICAvLyBjaGVjayB3ZSBoYXZlIHRvIGluc2VydCB2YWx1ZXNcbiAgICAgIGlmIChpbnMpIHtcbiAgICAgICAgLy8gaW5zZXJ0c1xuICAgICAgICB2YXIgbiA9IDA7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjOyBqKyspIHtcbiAgICAgICAgICAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG4gICAgICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3B0cltqXSArIG47IC8vIHdoZXJlIHRvIGluc2VydCBtYXRyaXguX3ZhbHVlc1xuXG4gICAgICAgICAgayA9IG1hdHJpeC5fcHRyW2ogKyAxXSArIG47IC8vIHBvaW50ZXJcblxuICAgICAgICAgIHZhciBwID0gMDsgLy8gbG9vcCBuZXcgcm93cywgaW5pdGlhbGl6ZSBwb2ludGVyXG5cbiAgICAgICAgICBmb3IgKGkgPSByOyBpIDwgcm93czsgaSsrLCBwKyspIHtcbiAgICAgICAgICAgIC8vIGFkZCB2YWx1ZVxuICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMuc3BsaWNlKGsgKyBwLCAwLCB2YWx1ZSk7IC8vIHVwZGF0ZSBtYXRyaXguX2luZGV4XG5cblxuICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5zcGxpY2UoayArIHAsIDAsIGkpOyAvLyBpbmNyZW1lbnQgaW5zZXJ0c1xuXG5cbiAgICAgICAgICAgIG4rKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIG1hdHJpeC5fdmFsdWVzIGluIG1hdHJpeC5fcHRyXG5cblxuICAgICAgICBtYXRyaXguX3B0cltjXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJvd3MgPCByKSB7XG4gICAgICAvLyBkZWxldGVzXG4gICAgICB2YXIgZCA9IDA7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgICBmb3IgKGogPSAwOyBqIDwgYzsgaisrKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cbiAgICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3B0cltqXSAtIGQ7IC8vIHdoZXJlIG1hdHJpeC5fdmFsdWVzIHN0YXJ0IGZvciBuZXh0IGNvbHVtblxuXG4gICAgICAgIHZhciBrMCA9IG1hdHJpeC5fcHRyW2pdO1xuICAgICAgICB2YXIgazEgPSBtYXRyaXguX3B0cltqICsgMV0gLSBkOyAvLyBsb29wIG1hdHJpeC5faW5kZXhcblxuICAgICAgICBmb3IgKGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICBpID0gbWF0cml4Ll9pbmRleFtrXTsgLy8gY2hlY2sgd2UgbmVlZCB0byBkZWxldGUgdmFsdWUgYW5kIG1hdHJpeC5faW5kZXhcblxuICAgICAgICAgIGlmIChpID4gcm93cyAtIDEpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB2YWx1ZVxuICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMuc3BsaWNlKGssIDEpOyAvLyByZW1vdmUgaXRlbSBmcm9tIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICAgICAgICBtYXRyaXguX2luZGV4LnNwbGljZShrLCAxKTsgLy8gaW5jcmVhc2UgZGVsZXRlc1xuXG5cbiAgICAgICAgICAgIGQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuXG5cbiAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoO1xuICAgIH0gLy8gdXBkYXRlIG1hdHJpeC5fc2l6ZVxuXG5cbiAgICBtYXRyaXguX3NpemVbMF0gPSByb3dzO1xuICAgIG1hdHJpeC5fc2l6ZVsxXSA9IGNvbHVtbnM7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2hhcGUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNoYXBlIGluIHBsYWNlKS5cbiAgICpcbiAgICogTk9URTogVGhpcyBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIHRvIGNvcHkgYnkgZGVmYXVsdCwgaW5zdGVhZCBvZiBtb2RpZnlpbmdcbiAgICogICAgICAgaW4gcGxhY2UuIEZvciBub3csIGl0IG9wZXJhdGVzIGluIHBsYWNlIHRvIHJlbWFpbiBjb25zaXN0ZW50IHdpdGhcbiAgICogICAgICAgcmVzaXplKCkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2hhcGVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaGFwZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb24gKHNpemUsIGNvcHkpIHtcbiAgICAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoIWlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NwYXJzZSBtYXRyaWNlcyBjYW4gb25seSBiZSByZXNoYXBlZCBpbiB0d28gZGltZW5zaW9ucycpO1xuICAgIH0gLy8gY2hlY2sgc2l6ZXNcblxuXG4gICAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgfVxuICAgIH0pOyAvLyBtICogbiBtdXN0IG5vdCBjaGFuZ2VcblxuICAgIGlmICh0aGlzLl9zaXplWzBdICogdGhpcy5fc2l6ZVsxXSAhPT0gc2l6ZVswXSAqIHNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVzaGFwaW5nIHNwYXJzZSBtYXRyaXggd2lsbCByZXN1bHQgaW4gdGhlIHdyb25nIG51bWJlciBvZiBlbGVtZW50cycpO1xuICAgIH0gLy8gbWF0cml4IHRvIHJlc2hhcGVcblxuXG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpczsgLy8gcmV0dXJuIHVuY2hhbmdlZCBpZiB0aGUgc2FtZSBzaGFwZVxuXG4gICAgaWYgKHRoaXMuX3NpemVbMF0gPT09IHNpemVbMF0gJiYgdGhpcy5fc2l6ZVsxXSA9PT0gc2l6ZVsxXSkge1xuICAgICAgcmV0dXJuIG07XG4gICAgfSAvLyBDb252ZXJ0IHRvIENPTyBmb3JtYXQgKGdlbmVyYXRlIGEgY29sdW1uIGluZGV4KVxuXG5cbiAgICB2YXIgY29sSW5kZXggPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5fcHRyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG0uX3B0cltpICsgMV0gLSBtLl9wdHJbaV07IGorKykge1xuICAgICAgICBjb2xJbmRleC5wdXNoKGkpO1xuICAgICAgfVxuICAgIH0gLy8gQ2xvbmUgdGhlIHZhbHVlcyBhcnJheVxuXG5cbiAgICB2YXIgdmFsdWVzID0gbS5fdmFsdWVzLnNsaWNlKCk7IC8vIENsb25lIHRoZSByb3cgaW5kZXggYXJyYXlcblxuXG4gICAgdmFyIHJvd0luZGV4ID0gbS5faW5kZXguc2xpY2UoKTsgLy8gVHJhbnNmb3JtIHRoZSAocm93LCBjb2x1bW4pIGluZGljZXNcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG0uX2luZGV4Lmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIHIxID0gcm93SW5kZXhbX2ldO1xuICAgICAgdmFyIGMxID0gY29sSW5kZXhbX2ldO1xuICAgICAgdmFyIGZsYXQgPSByMSAqIG0uX3NpemVbMV0gKyBjMTtcbiAgICAgIGNvbEluZGV4W19pXSA9IGZsYXQgJSBzaXplWzFdO1xuICAgICAgcm93SW5kZXhbX2ldID0gTWF0aC5mbG9vcihmbGF0IC8gc2l6ZVsxXSk7XG4gICAgfSAvLyBOb3cgcmVzaGFwaW5nIGlzIHN1cHBvc2VkIHRvIHByZXNlcnZlIHRoZSByb3ctbWFqb3Igb3JkZXIsIEJVVCB0aGVzZSBzcGFyc2UgbWF0cmljZXMgYXJlIHN0b3JlZFxuICAgIC8vIGluIGNvbHVtbi1tYWpvciBvcmRlciwgc28gd2UgaGF2ZSB0byByZW9yZGVyIHRoZSB2YWx1ZSBhcnJheSBub3cuIE9uZSBvcHRpb24gaXMgdG8gdXNlIGEgbXVsdGlzb3J0LFxuICAgIC8vIHNvcnRpbmcgc2V2ZXJhbCBhcnJheXMgYmFzZWQgb24gc29tZSBvdGhlciBhcnJheS5cbiAgICAvLyBPUiwgd2UgY291bGQgZWFzaWx5IGp1c3Q6XG4gICAgLy8gMS4gUmVtb3ZlIGFsbCB2YWx1ZXMgZnJvbSB0aGUgbWF0cml4XG5cblxuICAgIG0uX3ZhbHVlcy5sZW5ndGggPSAwO1xuICAgIG0uX2luZGV4Lmxlbmd0aCA9IDA7XG4gICAgbS5fcHRyLmxlbmd0aCA9IHNpemVbMV0gKyAxO1xuICAgIG0uX3NpemUgPSBzaXplLnNsaWNlKCk7XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBtLl9wdHIubGVuZ3RoOyBfaTIrKykge1xuICAgICAgbS5fcHRyW19pMl0gPSAwO1xuICAgIH0gLy8gMi4gUmUtaW5zZXJ0IGFsbCBlbGVtZW50cyBpbiB0aGUgcHJvcGVyIG9yZGVyIChzaW1wbGlmaWVkIGNvZGUgZnJvbSBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnNldClcbiAgICAvLyBUaGlzIHN0ZXAgaXMgcHJvYmFibHkgdGhlIG1vc3QgdGltZS1jb25zdW1pbmdcblxuXG4gICAgZm9yICh2YXIgaCA9IDA7IGggPCB2YWx1ZXMubGVuZ3RoOyBoKyspIHtcbiAgICAgIHZhciBfaTMgPSByb3dJbmRleFtoXTtcbiAgICAgIHZhciBfaiA9IGNvbEluZGV4W2hdO1xuICAgICAgdmFyIHYgPSB2YWx1ZXNbaF07XG5cbiAgICAgIHZhciBrID0gX2dldFZhbHVlSW5kZXgoX2kzLCBtLl9wdHJbX2pdLCBtLl9wdHJbX2ogKyAxXSwgbS5faW5kZXgpO1xuXG4gICAgICBfaW5zZXJ0KGssIF9pMywgX2osIHYsIG0uX3ZhbHVlcywgbS5faW5kZXgsIG0uX3B0cik7XG4gICAgfSAvLyBUaGUgdmFsdWUgaW5kaWNlcyBhcmUgaW5zZXJ0ZWQgb3V0IG9mIG9yZGVyLCBidXQgYXBwYXJlbnRseSB0aGF0J3MuLi4gc3RpbGwgT0s/XG5cblxuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge1NwYXJzZU1hdHJpeH0gY2xvbmVcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtID0gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyA/IGNsb25lKHRoaXMuX3ZhbHVlcykgOiB1bmRlZmluZWQsXG4gICAgICBpbmRleDogY2xvbmUodGhpcy5faW5kZXgpLFxuICAgICAgcHRyOiBjbG9uZSh0aGlzLl9wdHIpLFxuICAgICAgc2l6ZTogY2xvbmUodGhpcy5fc2l6ZSksXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplLnNsaWNlKDApOyAvLyBjb3B5IHRoZSBBcnJheVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvblxuICAgKiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gICAqXG4gICAqIEByZXR1cm4ge1NwYXJzZU1hdHJpeH0gbWF0cml4XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIG1hcCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIG1hdHJpeCBpbnN0YW5jZVxuXG5cbiAgICB2YXIgbWUgPSB0aGlzOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBpbnZva2UgY2FsbGJhY2tcblxuICAgIHZhciBpbnZva2UgPSBmdW5jdGlvbiBpbnZva2UodiwgaSwgaikge1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICByZXR1cm4gY2FsbGJhY2sodiwgW2ksIGpdLCBtZSk7XG4gICAgfTsgLy8gaW52b2tlIF9tYXBcblxuXG4gICAgcmV0dXJuIF9tYXAodGhpcywgMCwgcm93cyAtIDEsIDAsIGNvbHVtbnMgLSAxLCBpbnZva2UsIHNraXBaZXJvcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uIHRoZSBpbnRlcnZhbFxuICAgKiBbbWluUm93Li5tYXhSb3csIG1pbkNvbHVtbi4ubWF4Q29sdW1uXS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBfbWFwKG1hdHJpeCwgbWluUm93LCBtYXhSb3csIG1pbkNvbHVtbiwgbWF4Q29sdW1uLCBjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gcmVzdWx0IGFycmF5c1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcobWF0cml4Ll9kYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbbWF0cml4Ll9kYXRhdHlwZSwgbWF0cml4Ll9kYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgbWF0cml4Ll9kYXRhdHlwZSk7XG4gICAgfSAvLyBpbnZva2UgY2FsbGJhY2tcblxuXG4gICAgdmFyIGludm9rZSA9IGZ1bmN0aW9uIGludm9rZSh2LCB4LCB5KSB7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgIHYgPSBjYWxsYmFjayh2LCB4LCB5KTsgLy8gY2hlY2sgdmFsdWUgIT0gMFxuXG4gICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgIC8vIHN0b3JlIHZhbHVlXG4gICAgICAgIHZhbHVlcy5wdXNoKHYpOyAvLyBpbmRleFxuXG4gICAgICAgIGluZGV4LnB1c2goeCk7XG4gICAgICB9XG4gICAgfTsgLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAodmFyIGogPSBtaW5Db2x1bW47IGogPD0gbWF4Q29sdW1uOyBqKyspIHtcbiAgICAgIC8vIHN0b3JlIHBvaW50ZXIgdG8gdmFsdWVzIGluZGV4XG4gICAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuXG4gICAgICB2YXIgazAgPSBtYXRyaXguX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IG1hdHJpeC5fcHRyW2ogKyAxXTtcblxuICAgICAgaWYgKHNraXBaZXJvcykge1xuICAgICAgICAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG4gICAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgICB2YXIgaSA9IG1hdHJpeC5faW5kZXhba107IC8vIGNoZWNrIGkgaXMgaW4gcmFuZ2VcblxuICAgICAgICAgIGlmIChpID49IG1pblJvdyAmJiBpIDw9IG1heFJvdykge1xuICAgICAgICAgICAgLy8gdmFsdWUgQCBrXG4gICAgICAgICAgICBpbnZva2UobWF0cml4Ll92YWx1ZXNba10sIGkgLSBtaW5Sb3csIGogLSBtaW5Db2x1bW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FjaGUgaG9sZGluZyBhbGwgZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgdmFyIF92YWx1ZXMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBfayA9IGswOyBfayA8IGsxOyBfaysrKSB7XG4gICAgICAgICAgdmFyIF9pNCA9IG1hdHJpeC5faW5kZXhbX2tdO1xuICAgICAgICAgIF92YWx1ZXNbX2k0XSA9IG1hdHJpeC5fdmFsdWVzW19rXTtcbiAgICAgICAgfSAvLyBsb29wIG92ZXIgYWxsIHJvd3MgKGluZGV4ZXMgY2FuIGJlIHVub3JkZXJlZCBzbyB3ZSBjYW4ndCB1c2UgdGhhdCksXG4gICAgICAgIC8vIGFuZCBlaXRoZXIgcmVhZCB0aGUgdmFsdWUgb3IgemVyb1xuXG5cbiAgICAgICAgZm9yICh2YXIgX2k1ID0gbWluUm93OyBfaTUgPD0gbWF4Um93OyBfaTUrKykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IF9pNSBpbiBfdmFsdWVzID8gX3ZhbHVlc1tfaTVdIDogMDtcbiAgICAgICAgICBpbnZva2UodmFsdWUsIF9pNSAtIG1pblJvdywgaiAtIG1pbkNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHN0b3JlIG51bWJlciBvZiB2YWx1ZXMgaW4gcHRyXG5cblxuICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IFttYXhSb3cgLSBtaW5Sb3cgKyAxLCBtYXhDb2x1bW4gLSBtaW5Db2x1bW4gKyAxXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZm9yRWFjaCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIG1hdHJpeCBpbnN0YW5jZVxuXG5cbiAgICB2YXIgbWUgPSB0aGlzOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSB0aGlzLl9wdHJbal07XG4gICAgICB2YXIgazEgPSB0aGlzLl9wdHJbaiArIDFdO1xuXG4gICAgICBpZiAoc2tpcFplcm9zKSB7XG4gICAgICAgIC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcbiAgICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhba107IC8vIHZhbHVlIEAga1xuXG4gICAgICAgICAgY2FsbGJhY2sodGhpcy5fdmFsdWVzW2tdLCBbaSwgal0sIG1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FjaGUgaG9sZGluZyBhbGwgZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgdmFyIHZhbHVlcyA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIF9rMiA9IGswOyBfazIgPCBrMTsgX2syKyspIHtcbiAgICAgICAgICB2YXIgX2k2ID0gdGhpcy5faW5kZXhbX2syXTtcbiAgICAgICAgICB2YWx1ZXNbX2k2XSA9IHRoaXMuX3ZhbHVlc1tfazJdO1xuICAgICAgICB9IC8vIGxvb3Agb3ZlciBhbGwgcm93cyAoaW5kZXhlcyBjYW4gYmUgdW5vcmRlcmVkIHNvIHdlIGNhbid0IHVzZSB0aGF0KSxcbiAgICAgICAgLy8gYW5kIGVpdGhlciByZWFkIHRoZSB2YWx1ZSBvciB6ZXJvXG5cblxuICAgICAgICBmb3IgKHZhciBfaTcgPSAwOyBfaTcgPCByb3dzOyBfaTcrKykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IF9pNyBpbiB2YWx1ZXMgPyB2YWx1ZXNbX2k3XSA6IDA7XG4gICAgICAgICAgY2FsbGJhY2sodmFsdWUsIFtfaTcsIGpdLCBtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIGRhdGEgb2YgdGhlIFNwYXJzZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90b0FycmF5KHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0ciwgdGhpcy5fc2l6ZSwgdHJ1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgU3BhcnNlTWF0cml4OiBhIHR3byBkaW1lbnNpb25zIGFycmF5XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RvQXJyYXkodGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyLCB0aGlzLl9zaXplLCBmYWxzZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3RvQXJyYXkodmFsdWVzLCBpbmRleCwgcHRyLCBzaXplLCBjb3B5KSB7XG4gICAgLy8gcm93cyBhbmQgY29sdW1uc1xuICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHNpemVbMV07IC8vIHJlc3VsdFxuXG4gICAgdmFyIGEgPSBbXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGo7IC8vIGluaXRpYWxpemUgYXJyYXlcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIGFbaV0gPSBbXTtcblxuICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgICBhW2ldW2pdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSBwdHJbal07XG4gICAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG5cbiAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgIGkgPSBpbmRleFtrXTsgLy8gc2V0IHZhbHVlICh1c2Ugb25lIGZvciBwYXR0ZXJuIG1hdHJpeClcblxuICAgICAgICBhW2ldW2pdID0gdmFsdWVzID8gY29weSA/IGNsb25lKHZhbHVlc1trXSkgOiB2YWx1ZXNba10gOiAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyByb3dzIGFuZCBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gZGVuc2l0eVxuXG4gICAgdmFyIGRlbnNpdHkgPSB0aGlzLmRlbnNpdHkoKTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBzdHIgPSAnU3BhcnNlIE1hdHJpeCBbJyArIGZvcm1hdChyb3dzLCBvcHRpb25zKSArICcgeCAnICsgZm9ybWF0KGNvbHVtbnMsIG9wdGlvbnMpICsgJ10gZGVuc2l0eTogJyArIGZvcm1hdChkZW5zaXR5LCBvcHRpb25zKSArICdcXG4nOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSB0aGlzLl9wdHJbal07XG4gICAgICB2YXIgazEgPSB0aGlzLl9wdHJbaiArIDFdOyAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG5cbiAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhba107IC8vIGFwcGVuZCB2YWx1ZVxuXG4gICAgICAgIHN0ciArPSAnXFxuICAgICgnICsgZm9ybWF0KGksIG9wdGlvbnMpICsgJywgJyArIGZvcm1hdChqLCBvcHRpb25zKSArICcpID09PiAnICsgKHRoaXMuX3ZhbHVlcyA/IGZvcm1hdCh0aGlzLl92YWx1ZXNba10sIG9wdGlvbnMpIDogJ1gnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy50b0FycmF5KCkpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnU3BhcnNlTWF0cml4JyxcbiAgICAgIHZhbHVlczogdGhpcy5fdmFsdWVzLFxuICAgICAgaW5kZXg6IHRoaXMuX2luZGV4LFxuICAgICAgcHRyOiB0aGlzLl9wdHIsXG4gICAgICBzaXplOiB0aGlzLl9zaXplLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUga3RoIE1hdHJpeCBkaWFnb25hbC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIHJldHJpZXZlZC5cbiAgICpcbiAgICogQHJldHVybnMge01hdHJpeH0gICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHZlY3RvciB3aXRoIHRoZSBkaWFnb25hbCB2YWx1ZXMuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5kaWFnb25hbCA9IGZ1bmN0aW9uIChrKSB7XG4gICAgLy8gdmFsaWRhdGUgayBpZiBhbnlcbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIG51bWJlciBkaWFnb25hbCB2YWx1ZXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyBkaWFnb25hbCBhcnJheXNcblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGluaXRpYWwgcHRyIHZhbHVlXG5cbiAgICBwdHJbMF0gPSAwOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSBrU3VwZXI7IGogPCBjb2x1bW5zICYmIHZhbHVlcy5sZW5ndGggPCBuOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHRoaXMuX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IHRoaXMuX3B0cltqICsgMV07IC8vIGxvb3AgeCB3aXRoaW4gW2swLCBrMVtcblxuICAgICAgZm9yICh2YXIgeCA9IGswOyB4IDwgazE7IHgrKykge1xuICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleFt4XTsgLy8gY2hlY2sgcm93XG5cbiAgICAgICAgaWYgKGkgPT09IGogLSBrU3VwZXIgKyBrU3ViKSB7XG4gICAgICAgICAgLy8gdmFsdWUgb24gdGhpcyBjb2x1bW5cbiAgICAgICAgICB2YWx1ZXMucHVzaCh0aGlzLl92YWx1ZXNbeF0pOyAvLyBzdG9yZSByb3dcblxuICAgICAgICAgIGluZGV4W3ZhbHVlcy5sZW5ndGggLSAxXSA9IGkgLSBrU3ViOyAvLyBleGl0IGxvb3BcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBjbG9zZSBwdHJcblxuXG4gICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBbbiwgMV1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbWF0cml4IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiU3BhcnNlTWF0cml4XCIsIFwidmFsdWVzXCI6IFtdLCBcImluZGV4XCI6IFtdLCBcInB0clwiOiBbXSwgXCJzaXplXCI6IFtdfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1NwYXJzZU1hdHJpeH1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGpzb24pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgZGlhZ29uYWwgbWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHNpemUgICAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggc2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBBcnJheSB8IE1hdHJpeCB9IHZhbHVlICAgVGhlIHZhbHVlcyBmb3IgdGhlIGRpYWdvbmFsLlxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCBiZSBmaWxsZWQgaW4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlIGZvciBub24tZGlhZ29uYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV0gICAgICAgICAgICAgICAgVGhlIE1hdHJpeCBkYXRhdHlwZSwgdmFsdWVzIG11c3QgYmUgb2YgdGhpcyBkYXRhdHlwZS5cbiAgICpcbiAgICogQHJldHVybnMge1NwYXJzZU1hdHJpeH1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguZGlhZ29uYWwgPSBmdW5jdGlvbiAoc2l6ZSwgdmFsdWUsIGssIGRlZmF1bHRWYWx1ZSwgZGF0YXR5cGUpIHtcbiAgICBpZiAoIWlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkLCBzaXplIHBhcmFtZXRlcicpO1xuICAgIH1cblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25zIG1hdHJpeCBhcmUgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyBtYXAgc2l6ZSAmIHZhbGlkYXRlXG5cblxuICAgIHNpemUgPSBzaXplLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgLy8gY2hlY2sgaXQgaXMgYSBiaWcgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIocykpIHtcbiAgICAgICAgLy8gY29udmVydCBpdFxuICAgICAgICBzID0gcy50b051bWJlcigpO1xuICAgICAgfSAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKHMpIHx8ICFpc0ludGVnZXIocykgfHwgcyA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXplIHZhbHVlcyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzO1xuICAgIH0pOyAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuXG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH0gLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkYXRhdHlwZSwgZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBzaXplWzFdOyAvLyBudW1iZXIgb2Ygbm9uLXplcm8gaXRlbXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyB2YWx1ZSBleHRyYWN0aW9uIGZ1bmN0aW9uXG5cbiAgICB2YXIgX3ZhbHVlOyAvLyBjaGVjayB2YWx1ZVxuXG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIC8vIHZhbGlkYXRlIGFycmF5XG4gICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBhcnJheSBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWVbaV07XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNNYXRyaXgodmFsdWUpKSB7XG4gICAgICAvLyBtYXRyaXggc2l6ZVxuICAgICAgdmFyIG1zID0gdmFsdWUuc2l6ZSgpOyAvLyB2YWxpZGF0ZSBtYXRyaXhcblxuICAgICAgaWYgKG1zLmxlbmd0aCAhPT0gMSB8fCBtc1swXSAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWF0cml4IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZS5nZXQoW2ldKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmluZSBmdW5jdGlvblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKCkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWVcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9IC8vIGNyZWF0ZSBhcnJheXNcblxuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gbG9vcCBpdGVtc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIG51bWJlciBvZiByb3dzIHdpdGggdmFsdWVcbiAgICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyBkaWFnb25hbCBpbmRleFxuXG4gICAgICB2YXIgaSA9IGogLSBrU3VwZXI7IC8vIGNoZWNrIHdlIG5lZWQgdG8gc2V0IGRpYWdvbmFsIHZhbHVlXG5cbiAgICAgIGlmIChpID49IDAgJiYgaSA8IG4pIHtcbiAgICAgICAgLy8gZ2V0IHZhbHVlIEAgaVxuICAgICAgICB2YXIgdiA9IF92YWx1ZShpKTsgLy8gY2hlY2sgZm9yIHplcm9cblxuXG4gICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAvLyBjb2x1bW5cbiAgICAgICAgICBpbmRleC5wdXNoKGkgKyBrU3ViKTsgLy8gYWRkIHZhbHVlXG5cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gbGFzdCB2YWx1ZSBzaG91bGQgYmUgbnVtYmVyIG9mIHZhbHVlc1xuXG5cbiAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gY3JlYXRlIFNwYXJzZU1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIGkgYW5kIGogaW4gTWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgVGhlIG1hdHJpeCByZWZlcmVuY2VcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnN3YXBSb3dzID0gZnVuY3Rpb24gKGksIGopIHtcbiAgICAvLyBjaGVjayBpbmRleFxuICAgIGlmICghaXNOdW1iZXIoaSkgfHwgIWlzSW50ZWdlcihpKSB8fCAhaXNOdW1iZXIoaikgfHwgIWlzSW50ZWdlcihqKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3cgaW5kZXggbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH0gLy8gY2hlY2sgZGltZW5zaW9uc1xuXG5cbiAgICBpZiAodGhpcy5fc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9uYWwgbWF0cml4IGlzIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5kZXhcblxuXG4gICAgdmFsaWRhdGVJbmRleChpLCB0aGlzLl9zaXplWzBdKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIHRoaXMuX3NpemVbMF0pOyAvLyBzd2FwIHJvd3NcblxuICAgIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MoaSwgaiwgdGhpcy5fc2l6ZVsxXSwgdGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyKTsgLy8gcmV0dXJuIGN1cnJlbnQgaW5zdGFuY2VcblxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBMb29wIHJvd3Mgd2l0aCBkYXRhIGluIGNvbHVtbiBqLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICAgICAgIENvbHVtblxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgICAgICAgIE1hdHJpeCB2YWx1ZXNcbiAgICogQHBhcmFtIHtBcnJheX0gaW5kZXggICAgICAgICBNYXRyaXggcm93IGluZGVjZXNcbiAgICogQHBhcmFtIHtBcnJheX0gcHRyICAgICAgICAgICBNYXRyaXggY29sdW1uIHBvaW50ZXJzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBmb3IgZXZlcnkgcm93IGluIGNvbHVtbiBqXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4Ll9mb3JFYWNoUm93ID0gZnVuY3Rpb24gKGosIHZhbHVlcywgaW5kZXgsIHB0ciwgY2FsbGJhY2spIHtcbiAgICAvLyBpbmRlY2VzIGZvciBjb2x1bW4galxuICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBsb29wXG5cbiAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgIGNhbGxiYWNrKGluZGV4W2tdLCB2YWx1ZXNba10pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyB4IGFuZCB5IGluIFNwYXJzZSBNYXRyaXggZGF0YSBzdHJ1Y3R1cmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCAgICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0geSAgICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1ucyAgIE51bWJlciBvZiBjb2x1bW5zIGluIG1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgICAgIE1hdHJpeCB2YWx1ZXNcbiAgICogQHBhcmFtIHtBcnJheX0gaW5kZXggICAgICBNYXRyaXggcm93IGluZGVjZXNcbiAgICogQHBhcmFtIHtBcnJheX0gcHRyICAgICAgICBNYXRyaXggY29sdW1uIHBvaW50ZXJzXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyA9IGZ1bmN0aW9uICh4LCB5LCBjb2x1bW5zLCB2YWx1ZXMsIGluZGV4LCBwdHIpIHtcbiAgICAvLyBsb29wIGNvbHVtbnNcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gcHRyW2pdO1xuICAgICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gZmluZCB2YWx1ZSBpbmRleCBAIHhcblxuICAgICAgdmFyIGt4ID0gX2dldFZhbHVlSW5kZXgoeCwgazAsIGsxLCBpbmRleCk7IC8vIGZpbmQgdmFsdWUgaW5kZXggQCB4XG5cblxuICAgICAgdmFyIGt5ID0gX2dldFZhbHVlSW5kZXgoeSwgazAsIGsxLCBpbmRleCk7IC8vIGNoZWNrIGJvdGggcm93cyBleGlzdCBpbiBtYXRyaXhcblxuXG4gICAgICBpZiAoa3ggPCBrMSAmJiBreSA8IGsxICYmIGluZGV4W2t4XSA9PT0geCAmJiBpbmRleFtreV0gPT09IHkpIHtcbiAgICAgICAgLy8gc3dhcCB2YWx1ZXMgKGNoZWNrIGZvciBwYXR0ZXJuIG1hdHJpeClcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhciB2ID0gdmFsdWVzW2t4XTtcbiAgICAgICAgICB2YWx1ZXNba3hdID0gdmFsdWVzW2t5XTtcbiAgICAgICAgICB2YWx1ZXNba3ldID0gdjtcbiAgICAgICAgfSAvLyBuZXh0IGNvbHVtblxuXG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNoZWNrIHggcm93IGV4aXN0ICYgbm8geSByb3dcblxuXG4gICAgICBpZiAoa3ggPCBrMSAmJiBpbmRleFtreF0gPT09IHggJiYgKGt5ID49IGsxIHx8IGluZGV4W2t5XSAhPT0geSkpIHtcbiAgICAgICAgLy8gdmFsdWUgQCB4IChjaGVjayBmb3IgcGF0dGVybiBtYXRyaXgpXG4gICAgICAgIHZhciB2eCA9IHZhbHVlcyA/IHZhbHVlc1treF0gOiB1bmRlZmluZWQ7IC8vIGluc2VydCB2YWx1ZSBAIHlcblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3ksIDAsIHkpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt5LCAwLCB2eCk7XG4gICAgICAgIH0gLy8gcmVtb3ZlIHZhbHVlIEAgeCAoYWRqdXN0IGFycmF5IGluZGV4IGlmIG5lZWRlZClcblxuXG4gICAgICAgIGluZGV4LnNwbGljZShreSA8PSBreCA/IGt4ICsgMSA6IGt4LCAxKTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreSA8PSBreCA/IGt4ICsgMSA6IGt4LCAxKTtcbiAgICAgICAgfSAvLyBuZXh0IGNvbHVtblxuXG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNoZWNrIHkgcm93IGV4aXN0ICYgbm8geCByb3dcblxuXG4gICAgICBpZiAoa3kgPCBrMSAmJiBpbmRleFtreV0gPT09IHkgJiYgKGt4ID49IGsxIHx8IGluZGV4W2t4XSAhPT0geCkpIHtcbiAgICAgICAgLy8gdmFsdWUgQCB5IChjaGVjayBmb3IgcGF0dGVybiBtYXRyaXgpXG4gICAgICAgIHZhciB2eSA9IHZhbHVlcyA/IHZhbHVlc1treV0gOiB1bmRlZmluZWQ7IC8vIGluc2VydCB2YWx1ZSBAIHhcblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3gsIDAsIHgpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt4LCAwLCB2eSk7XG4gICAgICAgIH0gLy8gcmVtb3ZlIHZhbHVlIEAgeSAoYWRqdXN0IGFycmF5IGluZGV4IGlmIG5lZWRlZClcblxuXG4gICAgICAgIGluZGV4LnNwbGljZShreCA8PSBreSA/IGt5ICsgMSA6IGt5LCAxKTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreCA8PSBreSA/IGt5ICsgMSA6IGt5LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3BhcnNlTWF0cml4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdudW1iZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG51bWJlciBvciBjb252ZXJ0IGEgc3RyaW5nLCBib29sZWFuLCBvciB1bml0IHRvIGEgbnVtYmVyLlxuICAgKiBXaGVuIHZhbHVlIGlzIGEgbWF0cml4LCBhbGwgZWxlbWVudHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gbnVtYmVyLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubnVtYmVyKHZhbHVlKVxuICAgKiAgICBtYXRoLm51bWJlcih1bml0LCB2YWx1ZWxlc3NVbml0KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5udW1iZXIoMikgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMlxuICAgKiAgICBtYXRoLm51bWJlcignNy4yJykgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA3LjJcbiAgICogICAgbWF0aC5udW1iZXIodHJ1ZSkgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMVxuICAgKiAgICBtYXRoLm51bWJlcihbdHJ1ZSwgZmFsc2UsIHRydWUsIHRydWVdKSAvLyByZXR1cm5zIFsxLCAwLCAxLCAxXVxuICAgKiAgICBtYXRoLm51bWJlcihtYXRoLnVuaXQoJzUyY20nKSwgJ20nKSAgICAvLyByZXR1cm5zIDAuNTJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG1hdHJpeCwgc3RyaW5nLCB1bml0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgQXJyYXkgfCBNYXRyaXggfCBVbml0IHwgbnVsbH0gW3ZhbHVlXSAgVmFsdWUgdG8gYmUgY29udmVydGVkXG4gICAqIEBwYXJhbSB7VW5pdCB8IHN0cmluZ30gW3ZhbHVlbGVzc1VuaXRdIEEgdmFsdWVsZXNzIHVuaXQsIHVzZWQgdG8gY29udmVydCBhIHVuaXQgdG8gYSBudW1iZXJcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQXJyYXkgfCBNYXRyaXh9IFRoZSBjcmVhdGVkIG51bWJlclxuICAgKi9cbiAgdmFyIG51bWJlciA9IHR5cGVkKCdudW1iZXInLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgaWYgKHggPT09ICdOYU4nKSByZXR1cm4gTmFOO1xuICAgICAgdmFyIG51bSA9IE51bWJlcih4KTtcblxuICAgICAgaWYgKGlzTmFOKG51bSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdTdHJpbmcgXCInICsgeCArICdcIiBpcyBubyB2YWxpZCBudW1iZXInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFsnMGInLCAnMG8nLCAnMHgnXS5pbmNsdWRlcyh4LnN1YnN0cmluZygwLCAyKSkpIHtcbiAgICAgICAgaWYgKG51bSA+IDIgKiogMzIgLSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiU3RyaW5nIFxcXCJcIi5jb25jYXQoeCwgXCJcXFwiIGlzIG91dCBvZiByYW5nZVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobnVtICYgMHg4MDAwMDAwMCkge1xuICAgICAgICAgIG51bSA9IC0xICogfihudW0gLSAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVtO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHgudG9OdW1iZXIoKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2Vjb25kIGFyZ3VtZW50IHdpdGggdmFsdWVsZXNzIHVuaXQgZXhwZWN0ZWQnKTtcbiAgICB9LFxuICAgIG51bGw6IGZ1bmN0aW9uIF9udWxsKHgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAgJ1VuaXQsIHN0cmluZyB8IFVuaXQnOiBmdW5jdGlvbiBVbml0U3RyaW5nVW5pdCh1bml0LCB2YWx1ZWxlc3NVbml0KSB7XG4gICAgICByZXR1cm4gdW5pdC50b051bWJlcih2YWx1ZWxlc3NVbml0KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7IC8vIHJldml2ZXIgZnVuY3Rpb24gdG8gcGFyc2UgYSBKU09OIG9iamVjdCBsaWtlOlxuICAvL1xuICAvLyAgICAge1wibWF0aGpzXCI6XCJudW1iZXJcIixcInZhbHVlXCI6XCIyLjNcIn1cbiAgLy9cbiAgLy8gaW50byBhIG51bWJlciAyLjNcblxuICBudW1iZXIuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KGpzb24udmFsdWUpO1xuICB9O1xuXG4gIHJldHVybiBudW1iZXI7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdiaWdudW1iZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnQmlnTnVtYmVyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUJpZ251bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIEJpZ051bWJlclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgQmlnTnVtYmVyLCB3aGljaCBjYW4gc3RvcmUgbnVtYmVycyB3aXRoIGFyYml0cmFyeSBwcmVjaXNpb24uXG4gICAqIFdoZW4gYSBtYXRyaXggaXMgcHJvdmlkZWQsIGFsbCBlbGVtZW50cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBCaWdOdW1iZXIuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5iaWdudW1iZXIoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIDAuMSArIDAuMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAwLjMwMDAwMDAwMDAwMDAwMDA0XG4gICAqICAgIG1hdGguYmlnbnVtYmVyKDAuMSkgKyBtYXRoLmJpZ251bWJlcigwLjIpICAvLyByZXR1cm5zIEJpZ051bWJlciAwLjNcbiAgICpcbiAgICpcbiAgICogICAgNy4yZTUwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIEluZmluaXR5XG4gICAqICAgIG1hdGguYmlnbnVtYmVyKCc3LjJlNTAwJykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIEJpZ051bWJlciA3LjJlNTAwXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbWF0cml4LCBzdHJpbmcsIHVuaXRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmcgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IEFycmF5IHwgTWF0cml4IHwgYm9vbGVhbiB8IG51bGx9IFt2YWx1ZV0gIFZhbHVlIGZvciB0aGUgYmlnIG51bWJlcixcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCBieSBkZWZhdWx0LlxuICAgKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBUaGUgY3JlYXRlZCBiaWdudW1iZXJcbiAgICovXG4gIHJldHVybiB0eXBlZCgnYmlnbnVtYmVyJywge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMCk7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICAvLyBjb252ZXJ0IHRvIHN0cmluZyB0byBwcmV2ZW50IGVycm9ycyBpbiBjYXNlIG9mID4xNSBkaWdpdHNcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHggKyAnJyk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIC8vIHdlIGFzc3VtZSBhIEJpZ051bWJlciBpcyBpbW11dGFibGVcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgubikuZGl2KHguZCkudGltZXMoeC5zKTtcbiAgICB9LFxuICAgIG51bGw6IGZ1bmN0aW9uIF9udWxsKHgpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ2ZyYWN0aW9uJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0ZyYWN0aW9uJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZyYWN0aW9uID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRnJhY3Rpb25cbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGZyYWN0aW9uIGNvbnZlcnQgYSB2YWx1ZSB0byBhIGZyYWN0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqICAgICBtYXRoLmZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKHtuOiBudW1lcmF0b3IsIGQ6IGRlbm9taW5hdG9yfSlcbiAgICogICAgIG1hdGguZnJhY3Rpb24obWF0cml4OiBBcnJheSB8IE1hdHJpeCkgICAgICAgICBUdXJuIGFsbCBtYXRyaXggZW50cmllc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludG8gZnJhY3Rpb25zXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5mcmFjdGlvbigxLCAzKVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbignMi8zJylcbiAgICogICAgIG1hdGguZnJhY3Rpb24oe246IDIsIGQ6IDN9KVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbihbMC4yLCAwLjI1LCAxLjI1XSlcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgbnVtYmVyLCBzdHJpbmcsIHVuaXRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmcgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IEFycmF5IHwgTWF0cml4fSBbYXJnc11cbiAgICogICAgICAgICAgICBBcmd1bWVudHMgc3BlY2lmeWluZyB0aGUgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciBvZlxuICAgKiAgICAgICAgICAgIHRoZSBmcmFjdGlvblxuICAgKiBAcmV0dXJuIHtGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIGEgZnJhY3Rpb25cbiAgICovXG4gIHJldHVybiB0eXBlZCgnZnJhY3Rpb24nLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgaWYgKCFpc0Zpbml0ZSh4KSB8fCBpc05hTih4KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoeCArICcgY2Fubm90IGJlIHJlcHJlc2VudGVkIGFzIGEgZnJhY3Rpb24nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIobnVtZXJhdG9yLCBkZW5vbWluYXRvcikge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKTtcbiAgICB9LFxuICAgIG51bGw6IGZ1bmN0aW9uIF9udWxsKHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oMCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHg7IC8vIGZyYWN0aW9ucyBhcmUgaW1tdXRhYmxlXG4gICAgfSxcbiAgICBPYmplY3Q6IGZ1bmN0aW9uIE9iamVjdCh4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ21hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdNYXRyaXgnLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZU1hdHJpeCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIE1hdHJpeCxcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIE1hdHJpeC4gVGhlIGZ1bmN0aW9uIGNyZWF0ZXMgYSBuZXcgYG1hdGguTWF0cml4YCBvYmplY3QgZnJvbVxuICAgKiBhbiBgQXJyYXlgLiBBIE1hdHJpeCBoYXMgdXRpbGl0eSBmdW5jdGlvbnMgdG8gbWFuaXB1bGF0ZSB0aGUgZGF0YSBpbiB0aGVcbiAgICogbWF0cml4LCBsaWtlIGdldHRpbmcgdGhlIHNpemUgYW5kIGdldHRpbmcgb3Igc2V0dGluZyB2YWx1ZXMgaW4gdGhlIG1hdHJpeC5cbiAgICogU3VwcG9ydGVkIHN0b3JhZ2UgZm9ybWF0cyBhcmUgJ2RlbnNlJyBhbmQgJ3NwYXJzZScuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5tYXRyaXgoKSAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGFuIGVtcHR5IG1hdHJpeCB1c2luZyBkZWZhdWx0IHN0b3JhZ2UgZm9ybWF0IChkZW5zZSkuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEpICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlcyBhIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YSB1c2luZyBkZWZhdWx0IHN0b3JhZ2UgZm9ybWF0IChkZW5zZSkuXG4gICAqICAgIG1hdGgubWF0cml4KCdkZW5zZScpICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggdXNpbmcgdGhlIGdpdmVuIHN0b3JhZ2UgZm9ybWF0LlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhLCAnZGVuc2UnKSAgICAgICAgICAgIC8vIGNyZWF0ZXMgYSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEgdXNpbmcgdGhlIGdpdmVuIHN0b3JhZ2UgZm9ybWF0LlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhLCAnc3BhcnNlJykgICAgICAgICAgIC8vIGNyZWF0ZXMgYSBzcGFyc2UgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhLlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhLCAnc3BhcnNlJywgJ251bWJlcicpIC8vIGNyZWF0ZXMgYSBzcGFyc2UgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhLCBudW1iZXIgZGF0YSB0eXBlLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbGV0IG0gPSBtYXRoLm1hdHJpeChbWzEsIDJdLCBbMywgNF1dKVxuICAgKiAgICBtLnNpemUoKSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFycmF5IFsyLCAyXVxuICAgKiAgICBtLnJlc2l6ZShbMywgMl0sIDUpXG4gICAqICAgIG0udmFsdWVPZigpICAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgW1sxLCAyXSwgWzMsIDRdLCBbNSwgNV1dXG4gICAqICAgIG0uZ2V0KFsxLCAwXSkgICAgICAgICAgICAgICAgICAgIC8vIG51bWJlciAzXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBudW1iZXIsIHN0cmluZywgdW5pdCwgc3BhcnNlXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IFtkYXRhXSAgICBBIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAgICAgICAgICBUaGUgTWF0cml4IHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gVGhlIGNyZWF0ZWQgbWF0cml4XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoW10pO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShbXSwgZm9ybWF0KTtcbiAgICB9LFxuICAgICdzdHJpbmcsIHN0cmluZyc6IGZ1bmN0aW9uIHN0cmluZ1N0cmluZyhmb3JtYXQsIGRhdGF0eXBlKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShbXSwgZm9ybWF0LCBkYXRhdHlwZSk7XG4gICAgfSxcbiAgICBBcnJheTogZnVuY3Rpb24gQXJyYXkoZGF0YSkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoZGF0YSk7XG4gICAgfSxcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeChkYXRhKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShkYXRhLCBkYXRhLnN0b3JhZ2UoKSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIHN0cmluZyc6IF9jcmVhdGUsXG4gICAgJ0FycmF5IHwgTWF0cml4LCBzdHJpbmcsIHN0cmluZyc6IF9jcmVhdGVcbiAgfSk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTWF0cml4IHdpdGggZ2l2ZW4gc3RvcmFnZSBmb3JtYXRcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICogQHJldHVybnMge01hdHJpeH0gUmV0dXJucyBhIG5ldyBNYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX2NyZWF0ZShkYXRhLCBmb3JtYXQsIGRhdGF0eXBlKSB7XG4gICAgLy8gZ2V0IHN0b3JhZ2UgZm9ybWF0IGNvbnN0cnVjdG9yXG4gICAgaWYgKGZvcm1hdCA9PT0gJ2RlbnNlJyB8fCBmb3JtYXQgPT09ICdkZWZhdWx0JyB8fCBmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdCA9PT0gJ3NwYXJzZScpIHtcbiAgICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIG1hdHJpeCB0eXBlICcgKyBKU09OLnN0cmluZ2lmeShmb3JtYXQpICsgJy4nKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c051bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICd1bmFyeU1pbnVzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZVVuYXJ5TWludXMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSW52ZXJzZSB0aGUgc2lnbiBvZiBhIHZhbHVlLCBhcHBseSBhIHVuYXJ5IG1pbnVzIG9wZXJhdGlvbi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS4gQm9vbGVhbiB2YWx1ZXMgYW5kXG4gICAqIHN0cmluZ3Mgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBudW1iZXIuIEZvciBjb21wbGV4IG51bWJlcnMsIGJvdGggcmVhbCBhbmRcbiAgICogY29tcGxleCB2YWx1ZSBhcmUgaW52ZXJ0ZWQuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC51bmFyeU1pbnVzKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnVuYXJ5TWludXMoMy41KSAgICAgIC8vIHJldHVybnMgLTMuNVxuICAgKiAgICBtYXRoLnVuYXJ5TWludXMoLTQuMikgICAgIC8vIHJldHVybnMgNC4yXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBhZGQsIHN1YnRyYWN0LCB1bmFyeVBsdXNcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4IE51bWJlciB0byBiZSBpbnZlcnRlZC5cbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRoZSB2YWx1ZSB3aXRoIGludmVydGVkIHNpZ24uXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIG51bWJlcjogdW5hcnlNaW51c051bWJlcixcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4Lm5lZygpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHgubmVnKCk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgubmVnKCk7XG4gICAgfSxcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHgudmFsdWUpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgdW5hcnlNaW51cygwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0gLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIHN0cmluZ1xuXG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgYWJzTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ2Ficyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBYnMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhIG51bWJlci4gRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXNcbiAgICogZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmFicyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5hYnMoMy41KSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjVcbiAgICogICAgbWF0aC5hYnMoLTQuMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0LjJcbiAgICpcbiAgICogICAgbWF0aC5hYnMoWzMsIC01LCAtMSwgMCwgMl0pICAvLyByZXR1cm5zIEFycmF5IFszLCA1LCAxLCAwLCAyXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgc2lnblxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeCB8IFVuaXR9IHhcbiAgICogICAgICAgICAgICBBIG51bWJlciBvciBtYXRyaXggZm9yIHdoaWNoIHRvIGdldCB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXggfCBVbml0fVxuICAgKiAgICAgICAgICAgIEFic29sdXRlIHZhbHVlIG9mIGB4YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBudW1iZXI6IGFic051bWJlcixcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGFicygwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgYWRkTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ2FkZFNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBZGRTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQWRkIHR3byBzY2FsYXIgdmFsdWVzLCBgeCArIHlgLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IGZvciBpbnRlcm5hbCB1c2U6IGl0IGlzIHVzZWQgYnkgdGhlIHB1YmxpYyBmdW5jdGlvblxuICAgKiBgYWRkYFxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgY29sbGVjdGlvbnMgKEFycmF5IG9yIE1hdHJpeCkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9IHggICBGaXJzdCB2YWx1ZSB0byBhZGRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4fSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBhZGRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0gICAgIFN1bSBvZiBgeGAgYW5kIGB5YFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBhZGROdW1iZXIsXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5hZGQoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgucGx1cyh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmFkZCh5KTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKHgudmFsdWUgPT09IG51bGwgfHwgeC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB4IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgaWYgKHkudmFsdWUgPT09IG51bGwgfHwgeS52YWx1ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB5IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkgdGhyb3cgbmV3IEVycm9yKCdVbml0cyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHJlcy52YWx1ZSwgeS52YWx1ZSk7XG4gICAgICByZXMuZml4UHJlZml4ID0gZmFsc2U7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBTIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoU2lqLCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gUykuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihTaWosIGIpICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICAwICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHMgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsU2lqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyNjgxM1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTExKHMsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IHMuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gcy5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBzLl9wdHI7XG4gICAgdmFyIGFzaXplID0gcy5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gcy5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gUGF0dGVybiBTcGFyc2UgTWF0cml4IGFuZCBTY2FsYXIgdmFsdWUnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGluaXRpYWxpemUgcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gdmFsdWVzIGluIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaSA9IGFpbmRleFtrXTsgLy8gaW52b2tlIGNhbGxiYWNrXG5cbiAgICAgICAgdmFyIHYgPSBpbnZlcnNlID8gY2YoYiwgYXZhbHVlc1trXSkgOiBjZihhdmFsdWVzW2tdLCBiKTsgLy8gY2hlY2sgdmFsdWUgaXMgemVyb1xuXG4gICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAvLyBwdXNoIGluZGV4ICYgdmFsdWVcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgICBjdmFsdWVzLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gcy5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9vYmplY3QuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBEZW5zZU1hdHJpeCBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWouLnosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICogQyhpLGosLi4ueikgPSBmKEFpai4ueiwgYilcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpai4ueixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLEFpai4ueilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzY1OTA0MlxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTE0KGEsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gYSBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyBwb3B1bGF0ZSBjZGF0YSwgaXRlcmF0ZSB0aHJvdWdoIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIGNkYXRhID0gYXNpemUubGVuZ3RoID4gMCA/IF9pdGVyYXRlKGNmLCAwLCBhc2l6ZSwgYXNpemVbMF0sIGFkYXRhLCBiLCBpbnZlcnNlKSA6IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBjbG9uZShhc2l6ZSksXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTsgLy8gcmVjdXJzaXZlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gX2l0ZXJhdGUoZiwgbGV2ZWwsIHMsIG4sIGF2LCBidiwgaW52ZXJzZSkge1xuICAgIC8vIGluaXRpYWxpemUgYXJyYXkgZm9yIHRoaXMgbGV2ZWxcbiAgICB2YXIgY3YgPSBbXTsgLy8gY2hlY2sgd2UgcmVhY2ggdGhlIGxhc3QgbGV2ZWxcblxuICAgIGlmIChsZXZlbCA9PT0gcy5sZW5ndGggLSAxKSB7XG4gICAgICAvLyBsb29wIGFycmF5cyBpbiBsYXN0IGxldmVsXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2sgYW5kIHN0b3JlIHZhbHVlXG4gICAgICAgIGN2W2ldID0gaW52ZXJzZSA/IGYoYnYsIGF2W2ldKSA6IGYoYXZbaV0sIGJ2KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXRlcmF0ZSBjdXJyZW50IGxldmVsXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG47IGorKykge1xuICAgICAgICAvLyBpdGVyYXRlIG5leHQgbGV2ZWxcbiAgICAgICAgY3Zbal0gPSBfaXRlcmF0ZShmLCBsZXZlbCArIDEsIHMsIHNbbGV2ZWwgKyAxXSwgYXZbal0sIGJ2LCBpbnZlcnNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3Y7XG4gIH1cbn0pOyIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgY2VpbE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnY2VpbCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAncm91bmQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNlaWwgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgcm91bmQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyBwbHVzIGluZmluaXR5XG4gICAqIElmIGB4YCBpcyBjb21wbGV4LCBib3RoIHJlYWwgYW5kIGltYWdpbmFyeSBwYXJ0IGFyZSByb3VuZGVkIHRvd2FyZHMgcGx1cyBpbmZpbml0eS5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoeClcbiAgICogICAgbWF0aC5jZWlsKHgsIG4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoMy4yKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5jZWlsKDMuOCkgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGguY2VpbCgtNC4yKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICogICAgbWF0aC5jZWlsKC00LjcpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoMy4yMTIsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjJcbiAgICogICAgbWF0aC5jZWlsKDMuMjg4LCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjI5XG4gICAqICAgIG1hdGguY2VpbCgtNC4yMTIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMjFcbiAgICogICAgbWF0aC5jZWlsKC00Ljc4MiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC43OFxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMjQsIC0yLjcxKVxuICAgKiAgICBtYXRoLmNlaWwoYykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCA0IC0gMmlcbiAgICogICAgbWF0aC5jZWlsKGMsIDEpICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMy4zIC0gMi43aVxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoWzMuMiwgMy44LCAtNC43XSkgIC8vIHJldHVybnMgQXJyYXkgWzQsIDQsIC00XVxuICAgKiAgICBtYXRoLmNlaWwoWzMuMjEsIDMuODIsIC00LjcxXSwgMSkgIC8vIHJldHVybnMgQXJyYXkgWzMuMywgMy45LCAtNC43XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZmxvb3IsIGZpeCwgcm91bmRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdjZWlsJywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjZWlsTnVtYmVyKHgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdCh4LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgKyBuKSkpO1xuICAgICAgICBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdChyZXN1bHQsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICByZXR1cm4gTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpIC0gbikpO1xuICAgICAgfVxuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5jZWlsKCk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5jZWlsKG4pO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHguY2VpbCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCksIERlY2ltYWwuUk9VTkRfQ0VJTCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHguY2VpbCgpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5jZWlsKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBjZWlsKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIG51bWJlcic6IGZ1bmN0aW9uIEFycmF5TWF0cml4TnVtYmVyKHgsIG4pIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgY2VpbCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGkgPT4gdGhpcyhpLCBuKSwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRGVuc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0NvbXBsZXgnLCAnbWF0cml4JywgJ2NlaWwnLCAnZmxvb3InXTtcbmV4cG9ydCB2YXIgY3JlYXRlRml4ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgQ29tcGxleDogX0NvbXBsZXgsXG4gICAgbWF0cml4LFxuICAgIGNlaWwsXG4gICAgZmxvb3JcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyB6ZXJvLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZml4KHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmZpeCgzLjIpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5maXgoMy44KSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZml4KC00LjIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICogICAgbWF0aC5maXgoLTQuNykgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKlxuICAgKiAgICBtYXRoLmZpeCgzLjEyLCAxKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjFcbiAgICogICAgbWF0aC5maXgoMy4xOCwgMSkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4xXG4gICAqICAgIG1hdGguZml4KC00LjEyLCAxKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjFcbiAgICogICAgbWF0aC5maXgoLTQuMTcsIDEpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMjIsIC0yLjc4KVxuICAgKiAgICBtYXRoLmZpeChjKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzIC0gMmlcbiAgICogICAgbWF0aC5maXgoYywgMSkgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMy4yIC0gMi43aVxuICAgKlxuICAgKiAgICBtYXRoLmZpeChbMy4yLCAzLjgsIC00LjddKSAgICAgIC8vIHJldHVybnMgQXJyYXkgWzMsIDMsIC00XVxuICAgKiAgICBtYXRoLmZpeChbMy4yLCAzLjgsIC00LjddLCAxKSAgIC8vIHJldHVybnMgQXJyYXkgWzMuMiwgMy44LCAtNC43XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgY2VpbCwgZmxvb3IsIHJvdW5kXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICAgIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSAgICAgUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2ZpeCcsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geCA+IDAgPyBmbG9vcih4KSA6IGNlaWwoeCk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHggPiAwID8gZmxvb3IoeCwgbikgOiBjZWlsKHgsIG4pO1xuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4gbmV3IF9Db21wbGV4KHgucmUgPiAwID8gTWF0aC5mbG9vcih4LnJlKSA6IE1hdGguY2VpbCh4LnJlKSwgeC5pbSA+IDAgPyBNYXRoLmZsb29yKHguaW0pIDogTWF0aC5jZWlsKHguaW0pKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiBuZXcgX0NvbXBsZXgoeC5yZSA+IDAgPyBmbG9vcih4LnJlLCBuKSA6IGNlaWwoeC5yZSwgbiksIHguaW0gPiAwID8gZmxvb3IoeC5pbSwgbikgOiBjZWlsKHguaW0sIG4pKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LmlzTmVnYXRpdmUoKSA/IGNlaWwoeCkgOiBmbG9vcih4KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlck51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5pc05lZ2F0aXZlKCkgPyBjZWlsKHgsIG4pIDogZmxvb3IoeCwgbik7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgucyA8IDAgPyB4LmNlaWwoKSA6IHguZmxvb3IoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHgucyA8IDAgPyB4LmNlaWwobikgOiB4LmZsb29yKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBmaXgoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBmaXgoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBpID0+IHRoaXMoaSwgbiksIHRydWUpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IERlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZmxvb3InO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ3JvdW5kJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVGbG9vciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICByb3VuZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIG1pbnVzIGluZmluaXR5LlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoeClcbiAgICogICAgbWF0aC5mbG9vcih4LCBuKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcigzLjIpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZmxvb3IoMy44KSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZsb29yKC00LjIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC01XG4gICAqICAgIG1hdGguZmxvb3IoLTQuNykgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTVcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcigzLjIxMiwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yMVxuICAgKiAgICBtYXRoLmZsb29yKDMuMjg4LCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjI4XG4gICAqICAgIG1hdGguZmxvb3IoLTQuMjEyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjIyXG4gICAqICAgIG1hdGguZmxvb3IoLTQuNzgyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00Ljc5XG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yNCwgLTIuNzEpXG4gICAqICAgIG1hdGguZmxvb3IoYykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzIC0gM2lcbiAgICogICAgbWF0aC5mbG9vcihjLCAxKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMuMiAtIDIuOGlcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcihbMy4yLCAzLjgsIC00LjddKSAgICAgICAvLyByZXR1cm5zIEFycmF5IFszLCAzLCAtNV1cbiAgICogICAgbWF0aC5mbG9vcihbMy4yMSwgMy44MiwgLTQuNzFdLCAxKSAgLy8gcmV0dXJucyBBcnJheSBbMy4yLCAzLjgsIC00LjhdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBjZWlsLCBmaXgsIHJvdW5kXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnZmxvb3InLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoeCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHgsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5mbG9vcihOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgKyBuKSkpO1xuICAgICAgICBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdChyZXN1bHQsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICByZXR1cm4gTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpIC0gbikpO1xuICAgICAgfVxuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5mbG9vcigpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguZmxvb3Iobik7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC5mbG9vcigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCksIERlY2ltYWwuUk9VTkRfRkxPT1IpO1xuICAgICAgfVxuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LmZsb29yKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmZsb29yKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBmbG9vcigwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBudW1iZXInOiBmdW5jdGlvbiBBcnJheU1hdHJpeE51bWJlcih4LCBuKSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGNlaWwoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBpID0+IHRoaXMoaSwgbiksIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gU3BhcnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIERlbnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTAxJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTAxID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoRGlqLCBTaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5OWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gU3BhcnNlTWF0cml4KS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKERpaiwgU2lqKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgRGlqICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGRlbnNlTWF0cml4ICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoRClcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgc3BhcnNlTWF0cml4ICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoRGlqLFNpaikgb3BlcmF0aW9uIHRvIGludm9rZSwgd2hlcmUgRGlqID0gRGVuc2VNYXRyaXgoaSxqKSBhbmQgU2lqID0gU3BhcnNlTWF0cml4KGksailcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKFNpaixEaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NDc3NTcxXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMShkZW5zZU1hdHJpeCwgc3BhcnNlTWF0cml4LCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGRlbnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBkZW5zZU1hdHJpeC5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBkZW5zZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gZGVuc2VNYXRyaXguX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBzcGFyc2VNYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gc3BhcnNlTWF0cml4Ll9pbmRleDtcbiAgICB2YXIgYnB0ciA9IHNwYXJzZU1hdHJpeC5fcHRyO1xuICAgIHZhciBic2l6ZSA9IHNwYXJzZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gc3BhcnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIERlbnNlIE1hdHJpeCBhbmQgUGF0dGVybiBTcGFyc2UgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgdmFyIGR0ID0gdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQgPyBhZHQgOiB1bmRlZmluZWQ7IC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG5cbiAgICB2YXIgY2YgPSBkdCA/IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKSA6IGNhbGxiYWNrOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgajsgLy8gcmVzdWx0IChEZW5zZU1hdHJpeClcblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyBpbml0aWFsaXplIGNcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIGNkYXRhW2ldID0gW107XG4gICAgfSAvLyB3b3Jrc3BhY2VcblxuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiBiXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW4gbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGJpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbaV0gPSBpbnZlcnNlID8gY2YoYnZhbHVlc1trXSwgYWRhdGFbaV1bal0pIDogY2YoYWRhdGFbaV1bal0sIGJ2YWx1ZXNba10pOyAvLyBtYXJrIGkgYXMgdXBkYXRlZFxuXG4gICAgICAgIHdbaV0gPSBtYXJrO1xuICAgICAgfSAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGNoZWNrIHJvdyBpcyBpbiB3b3Jrc3BhY2VcbiAgICAgICAgaWYgKHdbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyBjW2ldW2pdIHdhcyBhbHJlYWR5IGNhbGN1bGF0ZWRcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IHhbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaXRlbSBkb2VzIG5vdCBleGlzdCBpbiBTXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBhZGF0YVtpXVtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gZGVuc2VNYXRyaXguY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggQSBhbmQgU3BhcnNlTWF0cml4IEIgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWosIEJpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTUFYKE5OWkEsIE5OWkIpIHRpbWVzXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihBaWosIEJpaikgIDsgQShpLGopICE9PSAwICYmIEIoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKQgIEEoaSxqKSAgICAgICA7IEEoaSxqKSAhPT0gMFxuICAgKiAgICAgICAgICDilJQgIEIoaSxqKSAgICAgICA7IEIoaSxqKSAhPT0gMFxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosQmlqKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyMDI5NFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTA0KGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjdmFsdWVzID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIHdvcmtzcGFjZVxuXG4gICAgdmFyIHhhID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIHhiID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgd2EgPSBbXTtcbiAgICB2YXIgd2IgPSBbXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGssIGswLCBrMTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyB1cGRhdGUgY3B0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIGNvbHVtbnMgbWFya1xuXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyBsb29wIEEoOixqKVxuXG4gICAgICBmb3IgKGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGFpbmRleFtrXTsgLy8gdXBkYXRlIGNcblxuICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHdhW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh4YSkge1xuICAgICAgICAgIHhhW2ldID0gYXZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBsb29wIEIoOixqKVxuXG5cbiAgICAgIGZvciAoazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYmluZGV4W2tdOyAvLyBjaGVjayByb3cgZXhpc3RzIGluIEFcblxuICAgICAgICBpZiAod2FbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyB1cGRhdGUgcmVjb3JkIGluIHhhIEAgaVxuICAgICAgICAgIGlmICh4YSkge1xuICAgICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICAgICAgICB2YXIgdiA9IGNmKHhhW2ldLCBidmFsdWVzW2tdKTsgLy8gY2hlY2sgZm9yIHplcm9cblxuICAgICAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgICAgICAvLyB1cGRhdGUgd29ya3NwYWNlXG4gICAgICAgICAgICAgIHhhW2ldID0gdjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBtYXJrIChpbmRleCB3aWxsIGJlIHJlbW92ZWQgbGF0ZXIpXG4gICAgICAgICAgICAgIHdhW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXBkYXRlIGNcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgICAgd2JbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgICBpZiAoeGIpIHtcbiAgICAgICAgICAgIHhiW2ldID0gYnZhbHVlc1trXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlcyAobm9uIHBhdHRlcm4gbWF0cml4KVxuXG5cbiAgICAgIGlmICh4YSAmJiB4Yikge1xuICAgICAgICAvLyBpbml0aWFsaXplIGZpcnN0IGluZGV4IGluIGpcbiAgICAgICAgayA9IGNwdHJbal07IC8vIGxvb3AgaW5kZXggaW4galxuXG4gICAgICAgIHdoaWxlIChrIDwgY2luZGV4Lmxlbmd0aCkge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIGkgPSBjaW5kZXhba107IC8vIGNoZWNrIHdvcmtzcGFjZSBoYXMgdmFsdWUgQCBpXG5cbiAgICAgICAgICBpZiAod2FbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAgIC8vIHB1c2ggdmFsdWUgKEFpaiAhPSAwIHx8IChBaWogIT0gMCAmJiBCaWogIT0gMCkpXG4gICAgICAgICAgICBjdmFsdWVzW2tdID0geGFbaV07IC8vIGluY3JlbWVudCBwb2ludGVyXG5cbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgICB9IGVsc2UgaWYgKHdiW2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHZhbHVlIChiaWogIT0gMClcbiAgICAgICAgICAgIGN2YWx1ZXNba10gPSB4YltpXTsgLy8gaW5jcmVtZW50IHBvaW50ZXJcblxuICAgICAgICAgICAgaysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgaW5kZXggQCBrXG4gICAgICAgICAgICBjaW5kZXguc3BsaWNlKGssIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIGNwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTAnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTAgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggUyBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKFNpaiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFMpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoU2lqLCBiKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgYiAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLFNpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyNjgxM1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEwKHMsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IHMuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gcy5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBzLl9wdHI7XG4gICAgdmFyIGFzaXplID0gcy5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gcy5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gUGF0dGVybiBTcGFyc2UgTWF0cml4IGFuZCBTY2FsYXIgdmFsdWUnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gd29ya3NwYWNlc1xuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbnMgbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgciA9IGFpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbcl0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB3W3JdID0gbWFyaztcbiAgICAgIH0gLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBDIG9uIGZpcnN0IGNvbHVtblxuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIC8vIGNyZWF0ZSByb3cgYXJyYXlcbiAgICAgICAgICBjZGF0YVtpXSA9IFtdO1xuICAgICAgICB9IC8vIGNoZWNrIHNwYXJzZSBtYXRyaXggaGFzIGEgdmFsdWUgQCBpLGpcblxuXG4gICAgICAgIGlmICh3W2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrLCB1cGRhdGUgQ1xuICAgICAgICAgIGNkYXRhW2ldW2pdID0gaW52ZXJzZSA/IGNmKGIsIHhbaV0pIDogY2YoeFtpXSwgYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZGVuc2UgbWF0cml4IHZhbHVlIEAgaSwgalxuICAgICAgICAgIGNkYXRhW2ldW2pdID0gYjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTEzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTEzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgRGVuc2VNYXRyaXggaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLi56LCBCaWouLnopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICogQyhpLGosLi4ueikgPSBmKEFpai4ueiwgQmlqLi56KVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLi56LEJpai4ueikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjU4NjU4XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTMoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBhIGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgYXJyYXlzXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyBjIGFycmF5c1xuXG4gICAgdmFyIGNzaXplID0gW107IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIHZhbGlkYXRlIGVhY2ggb25lIG9mIHRoZSBkaW1lbnNpb24gc2l6ZXNcblxuXG4gICAgZm9yICh2YXIgcyA9IDA7IHMgPCBhc2l6ZS5sZW5ndGg7IHMrKykge1xuICAgICAgLy8gbXVzdCBtYXRjaFxuICAgICAgaWYgKGFzaXplW3NdICE9PSBic2l6ZVtzXSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICAgIH0gLy8gdXBkYXRlIGRpbWVuc2lvbiBpbiBjXG5cblxuICAgICAgY3NpemVbc10gPSBhc2l6ZVtzXTtcbiAgICB9IC8vIGRhdGF0eXBlXG5cblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcG9wdWxhdGUgY2RhdGEsIGl0ZXJhdGUgdGhyb3VnaCBkaW1lbnNpb25zXG5cblxuICAgIHZhciBjZGF0YSA9IGNzaXplLmxlbmd0aCA+IDAgPyBfaXRlcmF0ZShjZiwgMCwgY3NpemUsIGNzaXplWzBdLCBhZGF0YSwgYmRhdGEpIDogW107IC8vIGMgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IGNzaXplLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07IC8vIHJlY3Vyc2l2ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIF9pdGVyYXRlKGYsIGxldmVsLCBzLCBuLCBhdiwgYnYpIHtcbiAgICAvLyBpbml0aWFsaXplIGFycmF5IGZvciB0aGlzIGxldmVsXG4gICAgdmFyIGN2ID0gW107IC8vIGNoZWNrIHdlIHJlYWNoIHRoZSBsYXN0IGxldmVsXG5cbiAgICBpZiAobGV2ZWwgPT09IHMubGVuZ3RoIC0gMSkge1xuICAgICAgLy8gbG9vcCBhcnJheXMgaW4gbGFzdCBsZXZlbFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrIGFuZCBzdG9yZSB2YWx1ZVxuICAgICAgICBjdltpXSA9IGYoYXZbaV0sIGJ2W2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXRlcmF0ZSBjdXJyZW50IGxldmVsXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG47IGorKykge1xuICAgICAgICAvLyBpdGVyYXRlIG5leHQgbGV2ZWxcbiAgICAgICAgY3Zbal0gPSBfaXRlcmF0ZShmLCBsZXZlbCArIDEsIHMsIHNbbGV2ZWwgKyAxXSwgYXZbal0sIGJ2W2pdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3Y7XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihEaWosIFNpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTk5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTcGFyc2VNYXRyaXgpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoRGlqLCBTaWopICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICAwICAgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgZGVuc2VNYXRyaXggICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChEKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzcGFyc2VNYXRyaXggICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihEaWosU2lqKSBvcGVyYXRpb24gdG8gaW52b2tlLCB3aGVyZSBEaWogPSBEZW5zZU1hdHJpeChpLGopIGFuZCBTaWogPSBTcGFyc2VNYXRyaXgoaSxqKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoU2lqLERpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NDc3NTcxXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDIoZGVuc2VNYXRyaXgsIHNwYXJzZU1hdHJpeCwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBkZW5zZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gZGVuc2VNYXRyaXguX2RhdGE7XG4gICAgdmFyIGFzaXplID0gZGVuc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGFkdCA9IGRlbnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gc3BhcnNlTWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IHNwYXJzZU1hdHJpeC5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBzcGFyc2VNYXRyaXguX3B0cjtcbiAgICB2YXIgYnNpemUgPSBzcGFyc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGJkdCA9IHNwYXJzZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBEZW5zZSBNYXRyaXggYW5kIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCAoU3BhcnNlTWF0cml4KVxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gYlxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBjcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGkgPSBiaW5kZXhba107IC8vIHVwZGF0ZSBDKGksailcblxuICAgICAgICB2YXIgY2lqID0gaW52ZXJzZSA/IGNmKGJ2YWx1ZXNba10sIGFkYXRhW2ldW2pdKSA6IGNmKGFkYXRhW2ldW2pdLCBidmFsdWVzW2tdKTsgLy8gY2hlY2sgZm9yIG5vbnplcm9cblxuICAgICAgICBpZiAoIWVxKGNpaiwgemVybykpIHtcbiAgICAgICAgICAvLyBwdXNoIGkgJiB2XG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgY3ZhbHVlcy5wdXNoKGNpaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBjcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIHNwYXJzZU1hdHJpeC5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wMyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wMyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihEaWosIFNpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTSpOIHRpbWVzLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoRGlqLCBTaWopICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBmKERpaiwgMCkgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgZGVuc2VNYXRyaXggICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChEKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzcGFyc2VNYXRyaXggICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChDKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihEaWosU2lqKSBvcGVyYXRpb24gdG8gaW52b2tlLCB3aGVyZSBEaWogPSBEZW5zZU1hdHJpeChpLGopIGFuZCBTaWogPSBTcGFyc2VNYXRyaXgoaSxqKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoU2lqLERpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc0Nzc1NzFcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wMyhkZW5zZU1hdHJpeCwgc3BhcnNlTWF0cml4LCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGRlbnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBkZW5zZU1hdHJpeC5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBkZW5zZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gZGVuc2VNYXRyaXguX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBzcGFyc2VNYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gc3BhcnNlTWF0cml4Ll9pbmRleDtcbiAgICB2YXIgYnB0ciA9IHNwYXJzZU1hdHJpeC5fcHRyO1xuICAgIHZhciBic2l6ZSA9IHNwYXJzZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gc3BhcnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIERlbnNlIE1hdHJpeCBhbmQgUGF0dGVybiBTcGFyc2UgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IChEZW5zZU1hdHJpeClcblxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIGluaXRpYWxpemUgZGVuc2UgbWF0cml4XG5cbiAgICBmb3IgKHZhciB6ID0gMDsgeiA8IHJvd3M7IHorKykge1xuICAgICAgLy8gaW5pdGlhbGl6ZSByb3dcbiAgICAgIGNkYXRhW3pdID0gW107XG4gICAgfSAvLyB3b3Jrc3BhY2VcblxuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiBiXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1uIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpID0gYmluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtpXSA9IGludmVyc2UgPyBjZihidmFsdWVzW2tdLCBhZGF0YVtpXVtqXSkgOiBjZihhZGF0YVtpXVtqXSwgYnZhbHVlc1trXSk7XG4gICAgICAgIHdbaV0gPSBtYXJrO1xuICAgICAgfSAvLyBwcm9jZXNzIHdvcmtzcGFjZVxuXG5cbiAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgcm93czsgeSsrKSB7XG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgYSBjYWxjdWxhdGVkIHZhbHVlIGZvciBjdXJyZW50IHJvd1xuICAgICAgICBpZiAod1t5XSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIHVzZSBjYWxjdWxhdGVkIHZhbHVlXG4gICAgICAgICAgY2RhdGFbeV1bal0gPSB4W3ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSB2YWx1ZVxuICAgICAgICAgIGNkYXRhW3ldW2pdID0gaW52ZXJzZSA/IGNmKHplcm8sIGFkYXRhW3ldW2pdKSA6IGNmKGFkYXRhW3ldW2pdLCB6ZXJvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gZGVuc2VNYXRyaXguY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggQSBhbmQgU3BhcnNlTWF0cml4IEIgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWosIEJpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTUFYKE5OWkEsIE5OWkIpIHRpbWVzXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihBaWosIEJpaikgIDsgQShpLGopICE9PSAwIHx8IEIoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICAwICAgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLEJpaikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjAyOTRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wNShhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyB3b3Jrc3BhY2VzXG5cbiAgICB2YXIgeGEgPSBjdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIHhiID0gY3ZhbHVlcyA/IFtdIDogdW5kZWZpbmVkOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHdhID0gW107XG4gICAgdmFyIHdiID0gW107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrLCBrMTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyB1cGRhdGUgY3B0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIGNvbHVtbnMgbWFya1xuXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyBsb29wIHZhbHVlcyBBKDosailcblxuICAgICAgZm9yIChrID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXTsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBhaW5kZXhba107IC8vIHB1c2ggaW5kZXhcblxuICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHdhW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh4YSkge1xuICAgICAgICAgIHhhW2ldID0gYXZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBsb29wIHZhbHVlcyBCKDosailcblxuXG4gICAgICBmb3IgKGsgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGJpbmRleFtrXTsgLy8gY2hlY2sgcm93IGV4aXN0ZWQgaW4gQVxuXG4gICAgICAgIGlmICh3YVtpXSAhPT0gbWFyaykge1xuICAgICAgICAgIC8vIHB1c2ggaW5kZXhcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgfSAvLyB1cGRhdGUgd29ya3NwYWNlXG5cblxuICAgICAgICB3YltpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAoeGIpIHtcbiAgICAgICAgICB4YltpXSA9IGJ2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlcyAobm9uIHBhdHRlcm4gbWF0cml4KVxuXG5cbiAgICAgIGlmIChjdmFsdWVzKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgZmlyc3QgaW5kZXggaW4galxuICAgICAgICBrID0gY3B0cltqXTsgLy8gbG9vcCBpbmRleCBpbiBqXG5cbiAgICAgICAgd2hpbGUgKGsgPCBjaW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgaSA9IGNpbmRleFtrXTsgLy8gbWFya3NcblxuICAgICAgICAgIHZhciB3YWkgPSB3YVtpXTtcbiAgICAgICAgICB2YXIgd2JpID0gd2JbaV07IC8vIGNoZWNrIEFpaiBvciBCaWogYXJlIG5vbnplcm9cblxuICAgICAgICAgIGlmICh3YWkgPT09IG1hcmsgfHwgd2JpID09PSBtYXJrKSB7XG4gICAgICAgICAgICAvLyBtYXRyaXggdmFsdWVzIEAgaSxqXG4gICAgICAgICAgICB2YXIgdmEgPSB3YWkgPT09IG1hcmsgPyB4YVtpXSA6IHplcm87XG4gICAgICAgICAgICB2YXIgdmIgPSB3YmkgPT09IG1hcmsgPyB4YltpXSA6IHplcm87IC8vIENpalxuXG4gICAgICAgICAgICB2YXIgdmMgPSBjZih2YSwgdmIpOyAvLyBjaGVjayBmb3IgemVyb1xuXG4gICAgICAgICAgICBpZiAoIWVxKHZjLCB6ZXJvKSkge1xuICAgICAgICAgICAgICAvLyBwdXNoIHZhbHVlXG4gICAgICAgICAgICAgIGN2YWx1ZXMucHVzaCh2Yyk7IC8vIGluY3JlbWVudCBwb2ludGVyXG5cbiAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gcmVtb3ZlIHZhbHVlIEAgaSwgZG8gbm90IGluY3JlbWVudCBwb2ludGVyXG4gICAgICAgICAgICAgIGNpbmRleC5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgY3B0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBTIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoU2lqLCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihTaWosIGIpICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBmKDAsIGIpICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHMgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsU2lqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjI2ODEzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTIocywgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gcy5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBzLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IHMuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBzLl9zaXplO1xuICAgIHZhciBhZHQgPSBzLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBQYXR0ZXJuIFNwYXJzZSBNYXRyaXggYW5kIFNjYWxhciB2YWx1ZScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyB3b3Jrc3BhY2VzXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1ucyBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciByID0gYWluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtyXSA9IGF2YWx1ZXNba107XG4gICAgICAgIHdbcl0gPSBtYXJrO1xuICAgICAgfSAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBpbml0aWFsaXplIEMgb24gZmlyc3QgY29sdW1uXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHJvdyBhcnJheVxuICAgICAgICAgIGNkYXRhW2ldID0gW107XG4gICAgICAgIH0gLy8gY2hlY2sgc3BhcnNlIG1hdHJpeCBoYXMgYSB2YWx1ZSBAIGksalxuXG5cbiAgICAgICAgaWYgKHdbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2ssIHVwZGF0ZSBDXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBpbnZlcnNlID8gY2YoYiwgeFtpXSkgOiBjZih4W2ldLCBiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkZW5zZSBtYXRyaXggdmFsdWUgQCBpLCBqXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBpbnZlcnNlID8gY2YoYiwgMCkgOiBjZigwLCBiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDUgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IG1vZE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdtb2QnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZU1vZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAyID0gY3JlYXRlQWxnb3JpdGhtMDIoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNSA9IGNyZWF0ZUFsZ29yaXRobTA1KHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgbW9kdWx1cywgdGhlIHJlbWFpbmRlciBvZiBhbiBpbnRlZ2VyIGRpdmlzaW9uLlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBUaGUgbW9kdWx1cyBpcyBkZWZpbmVkIGFzOlxuICAgKlxuICAgKiAgICAgeCAtIHkgKiBmbG9vcih4IC8geSlcbiAgICpcbiAgICogU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5tb2QoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubW9kKDgsIDMpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMlxuICAgKiAgICBtYXRoLm1vZCgxMSwgMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIDFcbiAgICpcbiAgICogICAgZnVuY3Rpb24gaXNPZGQoeCkge1xuICAgKiAgICAgIHJldHVybiBtYXRoLm1vZCh4LCAyKSAhPSAwXG4gICAqICAgIH1cbiAgICpcbiAgICogICAgaXNPZGQoMikgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBpc09kZCgzKSAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGRpdmlkZVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSB4IERpdmlkZW5kXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IHkgRGl2aXNvclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRoZSByZW1haW5kZXIgb2YgYHhgIGRpdmlkZWQgYnkgYHlgLlxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IG1vZE51bWJlcixcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgaWYgKHkuaXNOZWcoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3InKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHkuaXNaZXJvKCkgPyB4IDogeC5tb2QoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICBpZiAoeS5jb21wYXJlKDApIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3InKTtcbiAgICAgIH0gLy8gV29ya2Fyb3VuZCBzdWdnZXN0ZWQgaW4gRnJhY3Rpb24uanMgbGlicmFyeSB0byBjYWxjdWxhdGUgY29ycmVjdCBtb2R1bG8gZm9yIG5lZ2F0aXZlIGRpdmlkZW5kXG5cblxuICAgICAgcmV0dXJuIHguY29tcGFyZSgwKSA+PSAwID8geC5tb2QoeSkgOiB4Lm1vZCh5KS5hZGQoeSkubW9kKHkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseU51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdtdWx0aXBseVNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVNdWx0aXBseVNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBNdWx0aXBseSB0d28gc2NhbGFyIHZhbHVlcywgYHggKiB5YC5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCBmb3IgaW50ZXJuYWwgdXNlOiBpdCBpcyB1c2VkIGJ5IHRoZSBwdWJsaWMgZnVuY3Rpb25cbiAgICogYG11bHRpcGx5YFxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgY29sbGVjdGlvbnMgKEFycmF5IG9yIE1hdHJpeCkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9IHggICBGaXJzdCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXh9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9ICAgICBNdWx0aXBsaWNhdGlvbiBvZiBgeGAgYW5kIGB5YFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKCdtdWx0aXBseVNjYWxhcicsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBtdWx0aXBseU51bWJlcixcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm11bCh5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC50aW1lcyh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm11bCh5KTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQnOiBmdW5jdGlvbiBudW1iZXJGcmFjdGlvbkJpZ051bWJlckNvbXBsZXhVbml0KHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB5LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSByZXMudmFsdWUgPT09IG51bGwgPyByZXMuX25vcm1hbGl6ZSh4KSA6IHRoaXMocmVzLnZhbHVlLCB4KTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4JzogZnVuY3Rpb24gVW5pdE51bWJlckZyYWN0aW9uQmlnTnVtYmVyQ29tcGxleCh4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gcmVzLnZhbHVlID09PSBudWxsID8gcmVzLl9ub3JtYWxpemUoeSkgOiB0aGlzKHJlcy52YWx1ZSwgeSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5tdWx0aXBseSh5KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ211bHRpcGx5JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdhZGRTY2FsYXInLCAnbXVsdGlwbHlTY2FsYXInLCAnZXF1YWxTY2FsYXInLCAnZG90J107XG5leHBvcnQgdmFyIGNyZWF0ZU11bHRpcGx5ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGFkZFNjYWxhcixcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICBkb3RcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZU1hdHJpeERpbWVuc2lvbnMoc2l6ZTEsIHNpemUyKSB7XG4gICAgLy8gY2hlY2sgbGVmdCBvcGVyYW5kIGRpbWVuc2lvbnNcbiAgICBzd2l0Y2ggKHNpemUxLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBjaGVjayBzaXplMlxuICAgICAgICBzd2l0Y2ggKHNpemUyLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIC8vIFZlY3RvciB4IFZlY3RvclxuICAgICAgICAgICAgaWYgKHNpemUxWzBdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBWZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAvLyBWZWN0b3IgeCBNYXRyaXhcbiAgICAgICAgICAgIGlmIChzaXplMVswXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gVmVjdG9yIGxlbmd0aCAoJyArIHNpemUxWzBdICsgJykgbXVzdCBtYXRjaCBNYXRyaXggcm93cyAoJyArIHNpemUyWzBdICsgJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBtdWx0aXBseSBhIDEgb3IgMiBkaW1lbnNpb25hbCBtYXRyaXggKE1hdHJpeCBCIGhhcyAnICsgc2l6ZTIubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gY2hlY2sgc2l6ZTJcbiAgICAgICAgc3dpdGNoIChzaXplMi5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAvLyBNYXRyaXggeCBWZWN0b3JcbiAgICAgICAgICAgIGlmIChzaXplMVsxXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gTWF0cml4IGNvbHVtbnMgKCcgKyBzaXplMVsxXSArICcpIG11c3QgbWF0Y2ggVmVjdG9yIGxlbmd0aCAoJyArIHNpemUyWzBdICsgJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAvLyBNYXRyaXggeCBNYXRyaXhcbiAgICAgICAgICAgIGlmIChzaXplMVsxXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gTWF0cml4IEEgY29sdW1ucyAoJyArIHNpemUxWzFdICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiByb3dzICgnICsgc2l6ZTJbMF0gKyAnKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IG11bHRpcGx5IGEgMSBvciAyIGRpbWVuc2lvbmFsIG1hdHJpeCAoTWF0cml4IEIgaGFzICcgKyBzaXplMi5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBtdWx0aXBseSBhIDEgb3IgMiBkaW1lbnNpb25hbCBtYXRyaXggKE1hdHJpeCBBIGhhcyAnICsgc2l6ZTEubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgU2NhbGFyIHZhbHVlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5VmVjdG9yVmVjdG9yKGEsIGIsIG4pIHtcbiAgICAvLyBjaGVjayBlbXB0eSB2ZWN0b3JcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgdHdvIGVtcHR5IHZlY3RvcnMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG90KGEsIGIpO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTSlcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVZlY3Rvck1hdHJpeChhLCBiKSB7XG4gICAgLy8gcHJvY2VzcyBzdG9yYWdlXG4gICAgaWYgKGIuc3RvcmFnZSgpICE9PSAnZGVuc2UnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cHBvcnQgZm9yIFNwYXJzZU1hdHJpeCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX211bHRpcGx5VmVjdG9yRGVuc2VNYXRyaXgoYSwgYik7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChNKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIE1hdHJpeCAgIChNeE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5VmVjdG9yRGVuc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGRlbnNlXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFsZW5ndGggPSBhc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBic2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgYyA9IFtdOyAvLyBsb29wIG1hdHJpeCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHN1bSAoZG8gbm90IGluaXRpYWxpemUgaXQgd2l0aCB6ZXJvKVxuICAgICAgdmFyIHN1bSA9IG1mKGFkYXRhWzBdLCBiZGF0YVswXVtqXSk7IC8vIGxvb3AgdmVjdG9yXG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYWxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIG11bHRpcGx5ICYgYWNjdW11bGF0ZVxuICAgICAgICBzdW0gPSBhZihzdW0sIG1mKGFkYXRhW2ldLCBiZGF0YVtpXVtqXSkpO1xuICAgICAgfVxuXG4gICAgICBjW2pdID0gc3VtO1xuICAgIH0gLy8gcmV0dXJuIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjLFxuICAgICAgc2l6ZTogW2Jjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChNKVxuICAgKi9cblxuXG4gIHZhciBfbXVsdGlwbHlNYXRyaXhWZWN0b3IgPSB0eXBlZCgnX211bHRpcGx5TWF0cml4VmVjdG9yJywge1xuICAgICdEZW5zZU1hdHJpeCwgYW55JzogX211bHRpcGx5RGVuc2VNYXRyaXhWZWN0b3IsXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogX211bHRpcGx5U3BhcnNlTWF0cml4VmVjdG9yXG4gIH0pO1xuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeEMpXG4gICAqL1xuXG5cbiAgdmFyIF9tdWx0aXBseU1hdHJpeE1hdHJpeCA9IHR5cGVkKCdfbXVsdGlwbHlNYXRyaXhNYXRyaXgnLCB7XG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IF9tdWx0aXBseURlbnNlTWF0cml4RGVuc2VNYXRyaXgsXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBfbXVsdGlwbHlEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IF9tdWx0aXBseVNwYXJzZU1hdHJpeERlbnNlTWF0cml4LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IF9tdWx0aXBseVNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeFxuICB9KTtcbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlTWF0cml4ICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAoTilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgKE0pXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5RGVuc2VNYXRyaXhWZWN0b3IoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGRlbnNlXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBhY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjID0gW107IC8vIGxvb3AgbWF0cml4IGEgcm93c1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm93czsgaSsrKSB7XG4gICAgICAvLyBjdXJyZW50IHJvd1xuICAgICAgdmFyIHJvdyA9IGFkYXRhW2ldOyAvLyBzdW0gKGRvIG5vdCBpbml0aWFsaXplIGl0IHdpdGggemVybylcblxuICAgICAgdmFyIHN1bSA9IG1mKHJvd1swXSwgYmRhdGFbMF0pOyAvLyBsb29wIG1hdHJpeCBhIGNvbHVtbnNcblxuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhY29sdW1uczsgaisrKSB7XG4gICAgICAgIC8vIG11bHRpcGx5ICYgYWNjdW11bGF0ZVxuICAgICAgICBzdW0gPSBhZihzdW0sIG1mKHJvd1tqXSwgYmRhdGFbal0pKTtcbiAgICAgIH1cblxuICAgICAgY1tpXSA9IHN1bTtcbiAgICB9IC8vIHJldHVybiBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogYyxcbiAgICAgIHNpemU6IFthcm93c10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5RGVuc2VNYXRyaXhEZW5zZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgZGVuc2VcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgYWNvbHVtbnMgPSBhc2l6ZVsxXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBic2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgYyA9IFtdOyAvLyBsb29wIG1hdHJpeCBhIHJvd3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJvd3M7IGkrKykge1xuICAgICAgLy8gY3VycmVudCByb3dcbiAgICAgIHZhciByb3cgPSBhZGF0YVtpXTsgLy8gaW5pdGlhbGl6ZSByb3cgYXJyYXlcblxuICAgICAgY1tpXSA9IFtdOyAvLyBsb29wIG1hdHJpeCBiIGNvbHVtbnNcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiY29sdW1uczsgaisrKSB7XG4gICAgICAgIC8vIHN1bSAoYXZvaWQgaW5pdGlhbGl6aW5nIHN1bSB0byB6ZXJvKVxuICAgICAgICB2YXIgc3VtID0gbWYocm93WzBdLCBiZGF0YVswXVtqXSk7IC8vIGxvb3AgbWF0cml4IGEgY29sdW1uc1xuXG4gICAgICAgIGZvciAodmFyIHggPSAxOyB4IDwgYWNvbHVtbnM7IHgrKykge1xuICAgICAgICAgIC8vIG11bHRpcGx5ICYgYWNjdW11bGF0ZVxuICAgICAgICAgIHN1bSA9IGFmKHN1bSwgbWYocm93W3hdLCBiZGF0YVt4XVtqXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY1tpXVtqXSA9IHN1bTtcbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogYyxcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseURlbnNlTWF0cml4U3BhcnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBzcGFyc2VcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgYiBtYXRyaXhcblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgRGVuc2UgTWF0cml4IHRpbWVzIFBhdHRlcm4gb25seSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciBhcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGJzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gZXF1YWxTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHZhciBjID0gYi5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7IC8vIGxvb3AgYiBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqYiA9IDA7IGpiIDwgYmNvbHVtbnM7IGpiKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIGNwdHJbamJdID0gY2luZGV4Lmxlbmd0aDsgLy8gaW5kZWNlcyBpbiBjb2x1bW4gamJcblxuICAgICAgdmFyIGtiMCA9IGJwdHJbamJdO1xuICAgICAgdmFyIGtiMSA9IGJwdHJbamIgKyAxXTsgLy8gZG8gbm90IHByb2Nlc3MgY29sdW1uIGpiIGlmIG5vIGRhdGEgZXhpc3RzXG5cbiAgICAgIGlmIChrYjEgPiBrYjApIHtcbiAgICAgICAgLy8gbGFzdCByb3cgbWFyayBwcm9jZXNzZWRcbiAgICAgICAgdmFyIGxhc3QgPSAwOyAvLyBsb29wIGEgcm93c1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIGNvbHVtbiBtYXJrXG4gICAgICAgICAgdmFyIG1hcmsgPSBpICsgMTsgLy8gQ1tpLCBqYl1cblxuICAgICAgICAgIHZhciBjaWogPSB2b2lkIDA7IC8vIHZhbHVlcyBpbiBiIGNvbHVtbiBqXG5cbiAgICAgICAgICBmb3IgKHZhciBrYiA9IGtiMDsga2IgPCBrYjE7IGtiKyspIHtcbiAgICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgICAgdmFyIGliID0gYmluZGV4W2tiXTsgLy8gY2hlY2sgdmFsdWUgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcblxuICAgICAgICAgICAgaWYgKGxhc3QgIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gZmlyc3QgdmFsdWUgaW4gY29sdW1uIGpiXG4gICAgICAgICAgICAgIGNpaiA9IG1mKGFkYXRhW2ldW2liXSwgYnZhbHVlc1trYl0pOyAvLyB1cGRhdGUgbWFya1xuXG4gICAgICAgICAgICAgIGxhc3QgPSBtYXJrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYWNjdW11bGF0ZSB2YWx1ZVxuICAgICAgICAgICAgICBjaWogPSBhZihjaWosIG1mKGFkYXRhW2ldW2liXSwgYnZhbHVlc1trYl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBoYXMgYmVlbiBwcm9jZXNzZWQgYW5kIHZhbHVlICE9IDBcblxuXG4gICAgICAgICAgaWYgKGxhc3QgPT09IG1hcmsgJiYgIWVxKGNpaiwgemVybykpIHtcbiAgICAgICAgICAgIC8vIHB1c2ggcm93ICYgdmFsdWVcbiAgICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICAgICAgY3ZhbHVlcy5wdXNoKGNpaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbYmNvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgIChNLCAxKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVNwYXJzZU1hdHJpeFZlY3RvcihhLCBiKSB7XG4gICAgLy8gYSBzcGFyc2VcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBhIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSBQYXR0ZXJuIG9ubHkgTWF0cml4IHRpbWVzIERlbnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gYiBkZW5zZVxuXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGEuX3NpemVbMF07XG4gICAgdmFyIGJyb3dzID0gYi5fc2l6ZVswXTsgLy8gcmVzdWx0XG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gZXF1YWxTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7XG4gICAgfSAvLyB3b3Jrc3BhY2VcblxuXG4gICAgdmFyIHggPSBbXTsgLy8gdmVjdG9yIHdpdGggbWFya3MgaW5kaWNhdGluZyBhIHZhbHVlIHhbaV0gZXhpc3RzIGluIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyB1cGRhdGUgcHRyXG5cbiAgICBjcHRyWzBdID0gMDsgLy8gcm93cyBpbiBiXG5cbiAgICBmb3IgKHZhciBpYiA9IDA7IGliIDwgYnJvd3M7IGliKyspIHtcbiAgICAgIC8vIGJbaWJdXG4gICAgICB2YXIgdmJpID0gYmRhdGFbaWJdOyAvLyBjaGVjayBiW2liXSAhPSAwLCBhdm9pZCBsb29wc1xuXG4gICAgICBpZiAoIWVxKHZiaSwgemVybykpIHtcbiAgICAgICAgLy8gQSB2YWx1ZXMgJiBpbmRleCBpbiBpYiBjb2x1bW5cbiAgICAgICAgZm9yICh2YXIga2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgLy8gYSByb3dcbiAgICAgICAgICB2YXIgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICBpZiAoIXdbaWFdKSB7XG4gICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgd1tpYV0gPSB0cnVlOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpOyAvLyB4KGlhKSA9IEFcblxuICAgICAgICAgICAgeFtpYV0gPSBtZih2YmksIGF2YWx1ZXNba2FdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgICAgICB4W2lhXSA9IGFmKHhbaWFdLCBtZih2YmksIGF2YWx1ZXNba2FdKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBjb3B5IHZhbHVlcyBmcm9tIHggdG8gY29sdW1uIGpiIG9mIGNcblxuXG4gICAgZm9yICh2YXIgcDEgPSBjaW5kZXgubGVuZ3RoLCBwID0gMDsgcCA8IHAxOyBwKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgdmFyIGljID0gY2luZGV4W3BdOyAvLyBjb3B5IHZhbHVlXG5cbiAgICAgIGN2YWx1ZXNbcF0gPSB4W2ljXTtcbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0clsxXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgMV0sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5U3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgc3BhcnNlXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgYSBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgUGF0dGVybiBvbmx5IE1hdHJpeCB0aW1lcyBEZW5zZSBNYXRyaXgnKTtcbiAgICB9IC8vIGIgZGVuc2VcblxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhLl9zaXplWzBdO1xuICAgIHZhciBicm93cyA9IGIuX3NpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYi5fc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIGVxdWFsU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGMgbWF0cml4XG5cbiAgICB2YXIgYyA9IGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pOyAvLyB3b3Jrc3BhY2VcblxuICAgIHZhciB4ID0gW107IC8vIHZlY3RvciB3aXRoIG1hcmtzIGluZGljYXRpbmcgYSB2YWx1ZSB4W2ldIGV4aXN0cyBpbiBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBiIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGpiID0gMDsgamIgPCBiY29sdW1uczsgamIrKykge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgY3B0cltqYl0gPSBjaW5kZXgubGVuZ3RoOyAvLyBtYXJrIGluIHdvcmtzcGFjZSBmb3IgY3VycmVudCBjb2x1bW5cblxuICAgICAgdmFyIG1hcmsgPSBqYiArIDE7IC8vIHJvd3MgaW4gamJcblxuICAgICAgZm9yICh2YXIgaWIgPSAwOyBpYiA8IGJyb3dzOyBpYisrKSB7XG4gICAgICAgIC8vIGJbaWIsIGpiXVxuICAgICAgICB2YXIgdmJpaiA9IGJkYXRhW2liXVtqYl07IC8vIGNoZWNrIGJbaWIsIGpiXSAhPSAwLCBhdm9pZCBsb29wc1xuXG4gICAgICAgIGlmICghZXEodmJpaiwgemVybykpIHtcbiAgICAgICAgICAvLyBBIHZhbHVlcyAmIGluZGV4IGluIGliIGNvbHVtblxuICAgICAgICAgIGZvciAodmFyIGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgICAgLy8gYSByb3dcbiAgICAgICAgICAgIHZhciBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgICAgaWYgKHdbaWFdICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICAgIHdbaWFdID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpOyAvLyB4KGlhKSA9IEFcblxuICAgICAgICAgICAgICB4W2lhXSA9IG1mKHZiaWosIGF2YWx1ZXNba2FdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICAgICAgICB4W2lhXSA9IGFmKHhbaWFdLCBtZih2YmlqLCBhdmFsdWVzW2thXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBjb3B5IHZhbHVlcyBmcm9tIHggdG8gY29sdW1uIGpiIG9mIGNcblxuXG4gICAgICBmb3IgKHZhciBwMCA9IGNwdHJbamJdLCBwMSA9IGNpbmRleC5sZW5ndGgsIHAgPSBwMDsgcCA8IHAxOyBwKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpYyA9IGNpbmRleFtwXTsgLy8gY29weSB2YWx1ZVxuXG4gICAgICAgIGN2YWx1ZXNbcF0gPSB4W2ljXTtcbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltiY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBzcGFyc2VcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIHNwYXJzZVxuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGEuX3NpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYi5fc2l6ZVsxXTsgLy8gZmxhZyBpbmRpY2F0aW5nIGJvdGggbWF0cmljZXMgKGEgJiBiKSBjb250YWluIGRhdGFcblxuICAgIHZhciB2YWx1ZXMgPSBhdmFsdWVzICYmIGJ2YWx1ZXM7IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSB2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHZhciBjID0gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7IC8vIHdvcmtzcGFjZVxuXG4gICAgdmFyIHggPSB2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDsgLy8gdmVjdG9yIHdpdGggbWFya3MgaW5kaWNhdGluZyBhIHZhbHVlIHhbaV0gZXhpc3RzIGluIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyB2YXJpYWJsZXNcblxuICAgIHZhciBrYSwga2EwLCBrYTEsIGtiLCBrYjAsIGtiMSwgaWEsIGliOyAvLyBsb29wIGIgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgamIgPSAwOyBqYiA8IGJjb2x1bW5zOyBqYisrKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBjcHRyW2piXSA9IGNpbmRleC5sZW5ndGg7IC8vIG1hcmsgaW4gd29ya3NwYWNlIGZvciBjdXJyZW50IGNvbHVtblxuXG4gICAgICB2YXIgbWFyayA9IGpiICsgMTsgLy8gQiB2YWx1ZXMgJiBpbmRleCBpbiBqXG5cbiAgICAgIGZvciAoa2IwID0gYnB0cltqYl0sIGtiMSA9IGJwdHJbamIgKyAxXSwga2IgPSBrYjA7IGtiIDwga2IxOyBrYisrKSB7XG4gICAgICAgIC8vIGIgcm93XG4gICAgICAgIGliID0gYmluZGV4W2tiXTsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAvLyBsb29wIHZhbHVlcyBpbiBhWzosaWJdXG4gICAgICAgICAgZm9yIChrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgICAgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICAgIGlmICh3W2lhXSAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgICB3W2lhXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTsgLy8geChpYSkgPSBBXG5cbiAgICAgICAgICAgICAgeFtpYV0gPSBtZihidmFsdWVzW2tiXSwgYXZhbHVlc1trYV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgICAgICAgIHhbaWFdID0gYWYoeFtpYV0sIG1mKGJ2YWx1ZXNba2JdLCBhdmFsdWVzW2thXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBsb29wIHZhbHVlcyBpbiBhWzosaWJdXG4gICAgICAgICAgZm9yIChrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgICAgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICAgIGlmICh3W2lhXSAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgICB3W2lhXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIG1hdHJpeCB2YWx1ZXMgKHBhdHRlcm4gbWF0cml4KVxuXG5cbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgLy8gY29weSB2YWx1ZXMgZnJvbSB4IHRvIGNvbHVtbiBqYiBvZiBjXG4gICAgICAgIGZvciAodmFyIHAwID0gY3B0cltqYl0sIHAxID0gY2luZGV4Lmxlbmd0aCwgcCA9IHAwOyBwIDwgcDE7IHArKykge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIHZhciBpYyA9IGNpbmRleFtwXTsgLy8gY29weSB2YWx1ZVxuXG4gICAgICAgICAgY3ZhbHVlc1twXSA9IHhbaWNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbYmNvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBseSB0d28gb3IgbW9yZSB2YWx1ZXMsIGB4ICogeWAuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIG1hdHJpeCBwcm9kdWN0IGlzIGNhbGN1bGF0ZWQuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5tdWx0aXBseSh4LCB5KVxuICAgKiAgICBtYXRoLm11bHRpcGx5KHgsIHksIHosIC4uLilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubXVsdGlwbHkoNCwgNS4yKSAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMjAuOFxuICAgKiAgICBtYXRoLm11bHRpcGx5KDIsIDMsIDQpICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDI0XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCg0LCAxKVxuICAgKiAgICBtYXRoLm11bHRpcGx5KGEsIGIpICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCA1ICsgMTRpXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBbWzEsIDJdLCBbNCwgM11dXG4gICAqICAgIGNvbnN0IGQgPSBbWzEsIDIsIDNdLCBbMywgLTQsIDddXVxuICAgKiAgICBtYXRoLm11bHRpcGx5KGMsIGQpICAgICAgICAgIC8vIHJldHVybnMgQXJyYXkgW1s3LCAtNiwgMTddLCBbMTMsIC00LCAzM11dXG4gICAqXG4gICAqICAgIGNvbnN0IGUgPSBtYXRoLnVuaXQoJzIuMSBrbScpXG4gICAqICAgIG1hdGgubXVsdGlwbHkoMywgZSkgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDYuMyBrbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZGl2aWRlLCBwcm9kLCBjcm9zcywgZG90XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gTXVsdGlwbGljYXRpb24gb2YgYHhgIGFuZCBgeWBcbiAgICovXG5cblxuICByZXR1cm4gdHlwZWQobmFtZSwgZXh0ZW5kKHtcbiAgICAvLyB3ZSBleHRlbmQgdGhlIHNpZ25hdHVyZXMgb2YgbXVsdGlwbHlTY2FsYXIgd2l0aCBzaWduYXR1cmVzIGRlYWxpbmcgd2l0aCBtYXRyaWNlc1xuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIGNoZWNrIGRpbWVuc2lvbnNcbiAgICAgIF92YWxpZGF0ZU1hdHJpeERpbWVuc2lvbnMoYXJyYXlTaXplKHgpLCBhcnJheVNpemUoeSkpOyAvLyB1c2UgZGVuc2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG5cblxuICAgICAgdmFyIG0gPSB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKTsgLy8gcmV0dXJuIGFycmF5IG9yIHNjYWxhclxuXG4gICAgICByZXR1cm4gaXNNYXRyaXgobSkgPyBtLnZhbHVlT2YoKSA6IG07XG4gICAgfSxcbiAgICAnTWF0cml4LCBNYXRyaXgnOiBmdW5jdGlvbiBNYXRyaXhNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gZGltZW5zaW9uc1xuICAgICAgdmFyIHhzaXplID0geC5zaXplKCk7XG4gICAgICB2YXIgeXNpemUgPSB5LnNpemUoKTsgLy8gY2hlY2sgZGltZW5zaW9uc1xuXG4gICAgICBfdmFsaWRhdGVNYXRyaXhEaW1lbnNpb25zKHhzaXplLCB5c2l6ZSk7IC8vIHByb2Nlc3MgZGltZW5zaW9uc1xuXG5cbiAgICAgIGlmICh4c2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gcHJvY2VzcyB5IGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHlzaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIFZlY3RvciAqIFZlY3RvclxuICAgICAgICAgIHJldHVybiBfbXVsdGlwbHlWZWN0b3JWZWN0b3IoeCwgeSwgeHNpemVbMF0pO1xuICAgICAgICB9IC8vIFZlY3RvciAqIE1hdHJpeFxuXG5cbiAgICAgICAgcmV0dXJuIF9tdWx0aXBseVZlY3Rvck1hdHJpeCh4LCB5KTtcbiAgICAgIH0gLy8gcHJvY2VzcyB5IGRpbWVuc2lvbnNcblxuXG4gICAgICBpZiAoeXNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIE1hdHJpeCAqIFZlY3RvclxuICAgICAgICByZXR1cm4gX211bHRpcGx5TWF0cml4VmVjdG9yKHgsIHkpO1xuICAgICAgfSAvLyBNYXRyaXggKiBNYXRyaXhcblxuXG4gICAgICByZXR1cm4gX211bHRpcGx5TWF0cml4TWF0cml4KHgsIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgTWF0cml4ICogTWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgTWF0cml4ICogTWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCwgeS5zdG9yYWdlKCkpLCB5KTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgbXVsdGlwbHlTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIG11bHRpcGx5U2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHksIHgsIG11bHRpcGx5U2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIG11bHRpcGx5U2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgbXVsdGlwbHlTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIG11bHRpcGx5U2NhbGFyLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBhbnknOiBtdWx0aXBseVNjYWxhcixcbiAgICAnYW55LCBhbnksIC4uLmFueSc6IGZ1bmN0aW9uIGFueUFueUFueSh4LCB5LCByZXN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcyh4LCB5KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMocmVzdWx0LCByZXN0W2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIG11bHRpcGx5U2NhbGFyLnNpZ25hdHVyZXMpKTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA1IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDUuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTAgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnc3VidHJhY3QnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ2FkZFNjYWxhcicsICd1bmFyeU1pbnVzJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVN1YnRyYWN0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIGFkZFNjYWxhcixcbiAgICB1bmFyeU1pbnVzLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICAvLyBUT0RPOiBzcGxpdCBmdW5jdGlvbiBzdWJ0cmFjdCBpbiB0d286IHN1YnRyYWN0IGFuZCBzdWJ0cmFjdFNjYWxhclxuICB2YXIgYWxnb3JpdGhtMDEgPSBjcmVhdGVBbGdvcml0aG0wMSh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA1ID0gY3JlYXRlQWxnb3JpdGhtMDUoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTAgPSBjcmVhdGVBbGdvcml0aG0xMCh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogU3VidHJhY3QgdHdvIHZhbHVlcywgYHggLSB5YC5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnN1YnRyYWN0KHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnN1YnRyYWN0KDUuMywgMikgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuM1xuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoNCwgMSlcbiAgICogICAgbWF0aC5zdWJ0cmFjdChhLCBiKSAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggLTIgKyAyaVxuICAgKlxuICAgKiAgICBtYXRoLnN1YnRyYWN0KFs1LCA3LCA0XSwgNCkgIC8vIHJldHVybnMgQXJyYXkgWzEsIDMsIDBdXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLnVuaXQoJzIuMSBrbScpXG4gICAqICAgIGNvbnN0IGQgPSBtYXRoLnVuaXQoJzUwMG0nKVxuICAgKiAgICBtYXRoLnN1YnRyYWN0KGMsIGQpICAgICAgICAgIC8vIHJldHVybnMgVW5pdCAxLjYga21cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGFkZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHhcbiAgICogICAgICAgICAgICBJbml0aWFsIHZhbHVlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geVxuICAgKiAgICAgICAgICAgIFZhbHVlIHRvIHN1YnRyYWN0IGZyb20gYHhgXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH1cbiAgICogICAgICAgICAgICBTdWJ0cmFjdGlvbiBvZiBgeGAgYW5kIGB5YFxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCAtIHk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnN1Yih5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5taW51cyh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnN1Yih5KTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKHgudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeCBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHkudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeSBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXRzIGRvIG5vdCBtYXRjaCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyhyZXMudmFsdWUsIHkudmFsdWUpO1xuICAgICAgcmVzLmZpeFByZWZpeCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNSh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAxKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeCwgdW5hcnlNaW51cyh5KSwgYWRkU2NhbGFyKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIG1hdHJpeCB4IGFuZCB5IGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGRpbWVuc2lvbnMuXG4gKiBUaHJvd3MgYSBEaW1lbnNpb25FcnJvciB3aGVuIGRpbWVuc2lvbnMgYXJlIG5vdCBlcXVhbFxuICogQHBhcmFtIHtNYXRyaXh9IHhcbiAqIEBwYXJhbSB7TWF0cml4fSB5XG4gKi9cblxuZnVuY3Rpb24gY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSkge1xuICB2YXIgeHNpemUgPSB4LnNpemUoKTtcbiAgdmFyIHlzaXplID0geS5zaXplKCk7XG5cbiAgaWYgKHhzaXplLmxlbmd0aCAhPT0geXNpemUubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHhzaXplLmxlbmd0aCwgeXNpemUubGVuZ3RoKTtcbiAgfVxufSIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDcnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDcgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggQSBhbmQgU3BhcnNlTWF0cml4IEIgaXRlbXMgKHplcm8gYW5kIG5vbnplcm8pIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpaiwgQmlqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqIEMoaSxqKSA9IGYoQWlqLCBCaWopXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixCaWopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjAyOTRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wNyhhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHZhcnNcblxuXG4gICAgdmFyIGksIGo7IC8vIHJlc3VsdCBhcnJheXNcblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyBpbml0aWFsaXplIGNcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIGNkYXRhW2ldID0gW107XG4gICAgfSAvLyB3b3Jrc3BhY2VzXG5cblxuICAgIHZhciB4YSA9IFtdO1xuICAgIHZhciB4YiA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHdhID0gW107XG4gICAgdmFyIHdiID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1ucyBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyBzY2F0dGVyIHRoZSB2YWx1ZXMgb2YgQSg6LGopIGludG8gd29ya3NwYWNlXG5cbiAgICAgIF9zY2F0dGVyKGEsIGosIHdhLCB4YSwgbWFyayk7IC8vIHNjYXR0ZXIgdGhlIHZhbHVlcyBvZiBCKDosaikgaW50byB3b3Jrc3BhY2VcblxuXG4gICAgICBfc2NhdHRlcihiLCBqLCB3YiwgeGIsIG1hcmspOyAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIG1hdHJpeCB2YWx1ZXMgQCBpLGpcbiAgICAgICAgdmFyIHZhID0gd2FbaV0gPT09IG1hcmsgPyB4YVtpXSA6IHplcm87XG4gICAgICAgIHZhciB2YiA9IHdiW2ldID09PSBtYXJrID8geGJbaV0gOiB6ZXJvOyAvLyBpbnZva2UgY2FsbGJhY2tcblxuICAgICAgICBjZGF0YVtpXVtqXSA9IGNmKHZhLCB2Yik7XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBfc2NhdHRlcihtLCBqLCB3LCB4LCBtYXJrKSB7XG4gICAgLy8gYSBhcnJheXNcbiAgICB2YXIgdmFsdWVzID0gbS5fdmFsdWVzO1xuICAgIHZhciBpbmRleCA9IG0uX2luZGV4O1xuICAgIHZhciBwdHIgPSBtLl9wdHI7IC8vIGxvb3AgdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICBmb3IgKHZhciBrID0gcHRyW2pdLCBrMSA9IHB0cltqICsgMV07IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIHZhciBpID0gaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgd1tpXSA9IG1hcms7XG4gICAgICB4W2ldID0gdmFsdWVzW2tdO1xuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnY29uaic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVDb25qID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGNvbXBsZXggY29uanVnYXRlIG9mIGEgY29tcGxleCB2YWx1ZS5cbiAgICogSWYgYHggPSBhK2JpYCwgdGhlIGNvbXBsZXggY29uanVnYXRlIG9mIGB4YCBpcyBgYSAtIGJpYC5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmNvbmooeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguY29uaihtYXRoLmNvbXBsZXgoJzIgKyAzaScpKSAgLy8gcmV0dXJucyBDb21wbGV4IDIgLSAzaVxuICAgKiAgICBtYXRoLmNvbmoobWF0aC5jb21wbGV4KCcyIC0gM2knKSkgIC8vIHJldHVybnMgQ29tcGxleCAyICsgM2lcbiAgICogICAgbWF0aC5jb25qKG1hdGguY29tcGxleCgnLTUuMmknKSkgIC8vIHJldHVybnMgQ29tcGxleCA1LjJpXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICByZSwgaW0sIGFyZywgYWJzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4XG4gICAqICAgICAgICAgICAgQSBjb21wbGV4IG51bWJlciBvciBhcnJheSB3aXRoIGNvbXBsZXggbnVtYmVyc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9XG4gICAqICAgICAgICAgICAgVGhlIGNvbXBsZXggY29uanVnYXRlIG9mIHhcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguY29uanVnYXRlKCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiLy8gKGMpIDIwMTgsIE1hcml1c3ogTm93YWtcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBJU0Ncbi8vIERlcml2ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9scnUtcXVldWVcbmV4cG9ydCBmdW5jdGlvbiBscnVRdWV1ZShsaW1pdCkge1xuICB2YXIgc2l6ZSA9IDA7XG4gIHZhciBiYXNlID0gMTtcbiAgdmFyIHF1ZXVlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBpbmRleCA9IDA7XG5cbiAgdmFyIGRlbCA9IGZ1bmN0aW9uIGRlbChpZCkge1xuICAgIHZhciBvbGRJbmRleCA9IG1hcFtpZF07XG4gICAgaWYgKCFvbGRJbmRleCkgcmV0dXJuO1xuICAgIGRlbGV0ZSBxdWV1ZVtvbGRJbmRleF07XG4gICAgZGVsZXRlIG1hcFtpZF07XG4gICAgLS1zaXplO1xuICAgIGlmIChiYXNlICE9PSBvbGRJbmRleCkgcmV0dXJuO1xuXG4gICAgaWYgKCFzaXplKSB7XG4gICAgICBpbmRleCA9IDA7XG4gICAgICBiYXNlID0gMTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aGlsZSAoIWhhc093blByb3BlcnR5LmNhbGwocXVldWUsICsrYmFzZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfTtcblxuICBsaW1pdCA9IE1hdGguYWJzKGxpbWl0KTtcbiAgcmV0dXJuIHtcbiAgICBoaXQ6IGZ1bmN0aW9uIGhpdChpZCkge1xuICAgICAgdmFyIG9sZEluZGV4ID0gbWFwW2lkXTtcbiAgICAgIHZhciBudUluZGV4ID0gKytpbmRleDtcbiAgICAgIHF1ZXVlW251SW5kZXhdID0gaWQ7XG4gICAgICBtYXBbaWRdID0gbnVJbmRleDtcblxuICAgICAgaWYgKCFvbGRJbmRleCkge1xuICAgICAgICArK3NpemU7XG4gICAgICAgIGlmIChzaXplIDw9IGxpbWl0KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZCA9IHF1ZXVlW2Jhc2VdO1xuICAgICAgICBkZWwoaWQpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBxdWV1ZVtvbGRJbmRleF07XG4gICAgICBpZiAoYmFzZSAhPT0gb2xkSW5kZXgpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlICghaGFzT3duUHJvcGVydHkuY2FsbChxdWV1ZSwgKytiYXNlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGRlbGV0ZTogZGVsLFxuICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHNpemUgPSBpbmRleCA9IDA7XG4gICAgICBiYXNlID0gMTtcbiAgICAgIHF1ZXVlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICB9O1xufVxuOyIsIi8vIGZ1bmN0aW9uIHV0aWxzXG5pbXBvcnQgeyBscnVRdWV1ZSB9IGZyb20gJy4vbHJ1UXVldWUuanMnO1xuLyoqXG4gKiBNZW1vaXplIGEgZ2l2ZW4gZnVuY3Rpb24gYnkgY2FjaGluZyB0aGUgY29tcHV0ZWQgcmVzdWx0LlxuICogVGhlIGNhY2hlIG9mIGEgbWVtb2l6ZWQgZnVuY3Rpb24gY2FuIGJlIGNsZWFyZWQgYnkgZGVsZXRpbmcgdGhlIGBjYWNoZWBcbiAqIHByb3BlcnR5IG9mIHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICAgIFRoZSBmdW5jdGlvbiB0byBiZSBtZW1vaXplZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTXVzdCBiZSBhIHB1cmUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFyZ3M6IEFycmF5KTogc3RyaW5nfSBbb3B0aW9ucy5oYXNoZXJdXG4gKiAgICBBIGN1c3RvbSBoYXNoIGJ1aWxkZXIuIElzIEpTT04uc3RyaW5naWZ5IGJ5IGRlZmF1bHQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gW29wdGlvbnMubGltaXRdXG4gKiAgICBNYXhpbXVtIG51bWJlciBvZiB2YWx1ZXMgdGhhdCBtYXkgYmUgY2FjaGVkLiBVbmRlZmluZWQgaW5kaWNhdGVzXG4gKiAgICB1bmxpbWl0ZWQgKGRlZmF1bHQpXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gICAgICAgICAgICAgICAgICAgICAgIFJldHVybnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgdmFyIHtcbiAgICBoYXNoZXIsXG4gICAgbGltaXRcbiAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGxpbWl0ID0gbGltaXQgPT0gbnVsbCA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IGxpbWl0O1xuICBoYXNoZXIgPSBoYXNoZXIgPT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5IDogaGFzaGVyO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb2l6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9pemUuY2FjaGUgIT09ICdvYmplY3QnKSB7XG4gICAgICBtZW1vaXplLmNhY2hlID0ge1xuICAgICAgICB2YWx1ZXM6IG5ldyBNYXAoKSxcbiAgICAgICAgbHJ1OiBscnVRdWV1ZShsaW1pdCB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICB2YXIgaGFzaCA9IGhhc2hlcihhcmdzKTtcblxuICAgIGlmIChtZW1vaXplLmNhY2hlLnZhbHVlcy5oYXMoaGFzaCkpIHtcbiAgICAgIG1lbW9pemUuY2FjaGUubHJ1LmhpdChoYXNoKTtcbiAgICAgIHJldHVybiBtZW1vaXplLmNhY2hlLnZhbHVlcy5nZXQoaGFzaCk7XG4gICAgfVxuXG4gICAgdmFyIG5ld1ZhbCA9IGZuLmFwcGx5KGZuLCBhcmdzKTtcbiAgICBtZW1vaXplLmNhY2hlLnZhbHVlcy5zZXQoaGFzaCwgbmV3VmFsKTtcbiAgICBtZW1vaXplLmNhY2hlLnZhbHVlcy5kZWxldGUobWVtb2l6ZS5jYWNoZS5scnUuaGl0KGhhc2gpKTtcbiAgICByZXR1cm4gbmV3VmFsO1xuICB9O1xufVxuLyoqXG4gKiBNZW1vaXplIGEgZ2l2ZW4gZnVuY3Rpb24gYnkgY2FjaGluZyBhbGwgcmVzdWx0cyBhbmQgdGhlIGFyZ3VtZW50cyxcbiAqIGFuZCBjb21wYXJpbmcgYWdhaW5zdCB0aGUgYXJndW1lbnRzIG9mIHByZXZpb3VzIHJlc3VsdHMgYmVmb3JlXG4gKiBleGVjdXRpbmcgYWdhaW4uXG4gKiBUaGlzIGlzIGxlc3MgcGVyZm9ybWFudCB0aGFuIGBtZW1vaXplYCB3aGljaCBjYWxjdWxhdGVzIGEgaGFzaCxcbiAqIHdoaWNoIGlzIHZlcnkgZmFzdCB0byBjb21wYXJlLiBVc2UgYG1lbW9pemVDb21wYXJlYCBvbmx5IHdoZW4gaXQgaXNcbiAqIG5vdCBwb3NzaWJsZSB0byBjcmVhdGUgYSB1bmlxdWUgc2VyaWFsaXphYmxlIGhhc2ggZnJvbSB0aGUgZnVuY3Rpb25cbiAqIGFyZ3VtZW50cy5cbiAqIFRoZSBpc0VxdWFsIGZ1bmN0aW9uIG11c3QgY29tcGFyZSB0d28gc2V0cyBvZiBhcmd1bWVudHNcbiAqIGFuZCByZXR1cm4gdHJ1ZSB3aGVuIGVxdWFsIChjYW4gYmUgYSBkZWVwIGVxdWFsaXR5IGNoZWNrIGZvciBleGFtcGxlKS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGE6ICosIGI6ICopIDogYm9vbGVhbn0gaXNFcXVhbFxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplQ29tcGFyZShmbiwgaXNFcXVhbCkge1xuICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uIG1lbW9pemUoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgbWVtb2l6ZS5jYWNoZS5sZW5ndGg7IGMrKykge1xuICAgICAgdmFyIGNhY2hlZCA9IG1lbW9pemUuY2FjaGVbY107XG5cbiAgICAgIGlmIChpc0VxdWFsKGFyZ3MsIGNhY2hlZC5hcmdzKSkge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgY2FjaGUgZW50cnkgdG8gdGhlIHRvcCBzbyByZWNlbnRseSB1c2VkIGVudHJpZXMgbW92ZSB1cD9cbiAgICAgICAgcmV0dXJuIGNhY2hlZC5yZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IGZuLmFwcGx5KGZuLCBhcmdzKTtcbiAgICBtZW1vaXplLmNhY2hlLnVuc2hpZnQoe1xuICAgICAgYXJncyxcbiAgICAgIHJlc1xuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgbWVtb2l6ZS5jYWNoZSA9IFtdO1xuICByZXR1cm4gbWVtb2l6ZTtcbn1cbi8qKlxuICogRmluZCB0aGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIGV4cGVjdGVkIGJ5IGEgdHlwZWQgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAgIEEgdHlwZWQgZnVuY3Rpb25cbiAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgbWF4aW11bSBudW1iZXIgb2YgZXhwZWN0ZWQgYXJndW1lbnRzLlxuICogICAgICAgICAgICAgICAgICBSZXR1cm5zIC0xIHdoZW4gbm8gc2lnbmF0dXJlcyB3aGVyZSBmb3VuZCBvbiB0aGUgZnVuY3Rpb24uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heEFyZ3VtZW50Q291bnQoZm4pIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGZuLnNpZ25hdHVyZXMgfHwge30pLnJlZHVjZShmdW5jdGlvbiAoYXJncywgc2lnbmF0dXJlKSB7XG4gICAgdmFyIGNvdW50ID0gKHNpZ25hdHVyZS5tYXRjaCgvLC9nKSB8fCBbXSkubGVuZ3RoICsgMTtcbiAgICByZXR1cm4gTWF0aC5tYXgoYXJncywgY291bnQpO1xuICB9LCAtMSk7XG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnaWRlbnRpdHknO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdCaWdOdW1iZXInLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUlkZW50aXR5ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBCaWdOdW1iZXIsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSAyLWRpbWVuc2lvbmFsIGlkZW50aXR5IG1hdHJpeCB3aXRoIHNpemUgbSB4IG4gb3IgbiB4IG4uXG4gICAqIFRoZSBtYXRyaXggaGFzIG9uZXMgb24gdGhlIGRpYWdvbmFsIGFuZCB6ZXJvcyBlbHNld2hlcmUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5pZGVudGl0eShuKVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG4sIGZvcm1hdClcbiAgICogICAgbWF0aC5pZGVudGl0eShtLCBuKVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG0sIG4sIGZvcm1hdClcbiAgICogICAgbWF0aC5pZGVudGl0eShbbSwgbl0pXG4gICAqICAgIG1hdGguaWRlbnRpdHkoW20sIG5dLCBmb3JtYXQpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmlkZW50aXR5KDMpICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtbMSwgMCwgMF0sIFswLCAxLCAwXSwgWzAsIDAsIDFdXVxuICAgKiAgICBtYXRoLmlkZW50aXR5KDMsIDIpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtbMSwgMF0sIFswLCAxXSwgWzAsIDBdXVxuICAgKlxuICAgKiAgICBjb25zdCBBID0gW1sxLCAyLCAzXSwgWzQsIDUsIDZdXVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG1hdGguc2l6ZShBKSkgICAgICAgICAvLyByZXR1cm5zIFtbMSwgMCwgMF0sIFswLCAxLCAwXV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGRpYWcsIG9uZXMsIHplcm9zLCBzaXplLCByYW5nZVxuICAgKlxuICAgKiBAcGFyYW0gey4uLm51bWJlciB8IE1hdHJpeCB8IEFycmF5fSBzaXplICAgVGhlIHNpemUgZm9yIHRoZSBtYXRyaXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdICAgICAgICAgICAgICAgICAgIFRoZSBNYXRyaXggc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4IHwgQXJyYXkgfCBudW1iZXJ9IEEgbWF0cml4IHdpdGggb25lcyBvbiB0aGUgZGlhZ29uYWwuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdNYXRyaXgnID8gbWF0cml4KFtdKSA6IFtdO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZm9ybWF0KSB7XG4gICAgICByZXR1cm4gbWF0cml4KGZvcm1hdCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyKHJvd3MpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgcm93cywgY29uZmlnLm1hdHJpeCA9PT0gJ01hdHJpeCcgPyAnZGVuc2UnIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlclN0cmluZyhyb3dzLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgcm93cywgZm9ybWF0KTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlck51bWJlckJpZ051bWJlcihyb3dzLCBjb2xzKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIGNvbHMsIGNvbmZpZy5tYXRyaXggPT09ICdNYXRyaXgnID8gJ2RlbnNlJyA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlck51bWJlckJpZ051bWJlclN0cmluZyhyb3dzLCBjb2xzLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgY29scywgZm9ybWF0KTtcbiAgICB9LFxuICAgIEFycmF5OiBmdW5jdGlvbiBBcnJheShzaXplKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBzdHJpbmcnOiBmdW5jdGlvbiBBcnJheVN0cmluZyhzaXplLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZSwgZm9ybWF0KTtcbiAgICB9LFxuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KHNpemUpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZS52YWx1ZU9mKCksIHNpemUuc3RvcmFnZSgpKTtcbiAgICB9LFxuICAgICdNYXRyaXgsIHN0cmluZyc6IGZ1bmN0aW9uIE1hdHJpeFN0cmluZyhzaXplLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZS52YWx1ZU9mKCksIGZvcm1hdCk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZSwgZm9ybWF0KSB7XG4gICAgc3dpdGNoIChzaXplLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gZm9ybWF0ID8gbWF0cml4KGZvcm1hdCkgOiBbXTtcblxuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gX2lkZW50aXR5KHNpemVbMF0sIHNpemVbMF0sIGZvcm1hdCk7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eShzaXplWzBdLCBzaXplWzFdLCBmb3JtYXQpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZlY3RvciBjb250YWluaW5nIHR3byB2YWx1ZXMgZXhwZWN0ZWQnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpZGVudGl0eSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IHJvd3NcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IGNvbHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2lkZW50aXR5KHJvd3MsIGNvbHMsIGZvcm1hdCkge1xuICAgIC8vIEJpZ051bWJlciBjb25zdHJ1Y3RvciB3aXRoIHRoZSByaWdodCBwcmVjaXNpb25cbiAgICB2YXIgQmlnID0gaXNCaWdOdW1iZXIocm93cykgfHwgaXNCaWdOdW1iZXIoY29scykgPyBCaWdOdW1iZXIgOiBudWxsO1xuICAgIGlmIChpc0JpZ051bWJlcihyb3dzKSkgcm93cyA9IHJvd3MudG9OdW1iZXIoKTtcbiAgICBpZiAoaXNCaWdOdW1iZXIoY29scykpIGNvbHMgPSBjb2xzLnRvTnVtYmVyKCk7XG5cbiAgICBpZiAoIWlzSW50ZWdlcihyb3dzKSB8fCByb3dzIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGlkZW50aXR5IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzSW50ZWdlcihjb2xzKSB8fCBjb2xzIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGlkZW50aXR5IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9XG5cbiAgICB2YXIgb25lID0gQmlnID8gbmV3IEJpZ051bWJlcigxKSA6IDE7XG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IEJpZyA/IG5ldyBCaWcoMCkgOiAwO1xuICAgIHZhciBzaXplID0gW3Jvd3MsIGNvbHNdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHJldHVybiBhIG1hdHJpeFxuXG4gICAgaWYgKGZvcm1hdCkge1xuICAgICAgLy8gY3JlYXRlIGRpYWdvbmFsIG1hdHJpeCAodXNlIG9wdGltaXplZCBpbXBsZW1lbnRhdGlvbiBmb3Igc3RvcmFnZSBmb3JtYXQpXG4gICAgICBpZiAoZm9ybWF0ID09PSAnc3BhcnNlJykge1xuICAgICAgICByZXR1cm4gU3BhcnNlTWF0cml4LmRpYWdvbmFsKHNpemUsIG9uZSwgMCwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RlbnNlJykge1xuICAgICAgICByZXR1cm4gRGVuc2VNYXRyaXguZGlhZ29uYWwoc2l6ZSwgb25lLCAwLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBtYXRyaXggdHlwZSBcXFwiXCIuY29uY2F0KGZvcm1hdCwgXCJcXFwiXCIpKTtcbiAgICB9IC8vIGNyZWF0ZSBhbmQgcmVzaXplIGFycmF5XG5cblxuICAgIHZhciByZXMgPSByZXNpemUoW10sIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIGZpbGwgaW4gb25lcyBvbiB0aGUgZGlhZ29uYWxcblxuICAgIHZhciBtaW5pbXVtID0gcm93cyA8IGNvbHMgPyByb3dzIDogY29sczsgLy8gZmlsbCBkaWFnb25hbFxuXG4gICAgZm9yICh2YXIgZCA9IDA7IGQgPCBtaW5pbXVtOyBkKyspIHtcbiAgICAgIHJlc1tkXVtkXSA9IG9uZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG59KTsiLCJleHBvcnQgZnVuY3Rpb24gbm9CaWdudW1iZXIoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJiaWdudW1iZXJcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub0ZyYWN0aW9uKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwiZnJhY3Rpb25cIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub01hdHJpeCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcIm1hdHJpeFwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vSW5kZXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJpbmRleFwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vU3Vic2V0KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwibWF0cml4XCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59IiwiLyoqXG4gKiBDcmVhdGUgYSBzeW50YXggZXJyb3Igd2l0aCB0aGUgbWVzc2FnZTpcbiAqICAgICAnV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyBpbiBmdW5jdGlvbiA8Zm4+ICg8Y291bnQ+IHByb3ZpZGVkLCA8bWluPi08bWF4PiBleHBlY3RlZCknXG4gKiBAcGFyYW0ge3N0cmluZ30gZm4gICAgIEZ1bmN0aW9uIG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAgQWN0dWFsIGFyZ3VtZW50IGNvdW50XG4gKiBAcGFyYW0ge251bWJlcn0gbWluICAgIE1pbmltdW0gcmVxdWlyZWQgYXJndW1lbnQgY291bnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4XSAgTWF4aW11bSByZXF1aXJlZCBhcmd1bWVudCBjb3VudFxuICogQGV4dGVuZHMgRXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFyZ3VtZW50c0Vycm9yKGZuLCBjb3VudCwgbWluLCBtYXgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFyZ3VtZW50c0Vycm9yKSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gIH1cblxuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY291bnQgPSBjb3VudDtcbiAgdGhpcy5taW4gPSBtaW47XG4gIHRoaXMubWF4ID0gbWF4O1xuICB0aGlzLm1lc3NhZ2UgPSAnV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyBpbiBmdW5jdGlvbiAnICsgZm4gKyAnICgnICsgY291bnQgKyAnIHByb3ZpZGVkLCAnICsgbWluICsgKG1heCAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gbnVsbCA/ICctJyArIG1heCA6ICcnKSArICcgZXhwZWN0ZWQpJztcbiAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufVxuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFcnJvcjtcbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZS5uYW1lID0gJ0FyZ3VtZW50c0Vycm9yJztcbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZS5pc0FyZ3VtZW50c0Vycm9yID0gdHJ1ZTsiLCJpbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBub01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL25vb3AuanMnO1xudmFyIG5hbWUgPSAnc2l6ZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnP21hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTaXplID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBzaXplIG9mIGEgbWF0cml4IG9yIHNjYWxhci5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5zaXplKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5zaXplKDIuMykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtdXG4gICAqICAgICBtYXRoLnNpemUoJ2hlbGxvIHdvcmxkJykgICAgICAgIC8vIHJldHVybnMgWzExXVxuICAgKlxuICAgKiAgICAgY29uc3QgQSA9IFtbMSwgMiwgM10sIFs0LCA1LCA2XV1cbiAgICogICAgIG1hdGguc2l6ZShBKSAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbMiwgM11cbiAgICogICAgIG1hdGguc2l6ZShtYXRoLnJhbmdlKDEsNikpICAgICAgLy8gcmV0dXJucyBbNV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICByZXNpemUsIHNxdWVlemUsIHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW4gfCBudW1iZXIgfCBDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4ICBBIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gQSB2ZWN0b3Igd2l0aCBzaXplIG9mIGB4YC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIHguY3JlYXRlKHguc2l6ZSgpKTtcbiAgICB9LFxuICAgIEFycmF5OiBhcnJheVNpemUsXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScgPyBbeC5sZW5ndGhdIDogbWF0cml4KFt4Lmxlbmd0aF0pO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIgfCBVbml0IHwgYm9vbGVhbiB8IG51bGwnOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyVW5pdEJvb2xlYW5OdWxsKHgpIHtcbiAgICAgIC8vIHNjYWxhclxuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScgPyBbXSA6IG1hdHJpeCA/IG1hdHJpeChbXSkgOiBub01hdHJpeCgpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4vb2JqZWN0LmpzJztcbi8qKlxuICogR2V0IGEgcHJvcGVydHkgb2YgYSBwbGFpbiBvYmplY3RcbiAqIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBvYmplY3QgaXMgbm90IGEgcGxhaW4gb2JqZWN0IG9yIHRoZVxuICogcHJvcGVydHkgaXMgbm90IGRlZmluZWQgb24gdGhlIG9iamVjdCBpdHNlbGZcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZSB3aGVuIHNhZmVcbiAqL1xuXG5mdW5jdGlvbiBnZXRTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSB7XG4gIC8vIG9ubHkgYWxsb3cgZ2V0dGluZyBzYWZlIHByb3BlcnRpZXMgb2YgYSBwbGFpbiBvYmplY3RcbiAgaWYgKGlzUGxhaW5PYmplY3Qob2JqZWN0KSAmJiBpc1NhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApKSB7XG4gICAgcmV0dXJuIG9iamVjdFtwcm9wXTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqZWN0W3Byb3BdID09PSAnZnVuY3Rpb24nICYmIGlzU2FmZU1ldGhvZChvYmplY3QsIHByb3ApKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWNjZXNzIG1ldGhvZCBcIicgKyBwcm9wICsgJ1wiIGFzIGEgcHJvcGVydHknKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHByb3BlcnR5IFwiJyArIHByb3AgKyAnXCInKTtcbn1cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYSBwbGFpbiBvYmplY3QuXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW4gY2FzZSB0aGUgb2JqZWN0IGlzIG5vdCBhIHBsYWluIG9iamVjdCBvciB0aGVcbiAqIHByb3BlcnR5IHdvdWxkIG92ZXJyaWRlIGFuIGluaGVyaXRlZCBwcm9wZXJ0eSBsaWtlIC5jb25zdHJ1Y3RvciBvciAudG9TdHJpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZVxuICovXG4vLyBUT0RPOiBtZXJnZSB0aGlzIGZ1bmN0aW9uIGludG8gYWNjZXNzLmpzP1xuXG5cbmZ1bmN0aW9uIHNldFNhZmVQcm9wZXJ0eShvYmplY3QsIHByb3AsIHZhbHVlKSB7XG4gIC8vIG9ubHkgYWxsb3cgc2V0dGluZyBzYWZlIHByb3BlcnRpZXMgb2YgYSBwbGFpbiBvYmplY3RcbiAgaWYgKGlzUGxhaW5PYmplY3Qob2JqZWN0KSAmJiBpc1NhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApKSB7XG4gICAgb2JqZWN0W3Byb3BdID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcHJvcGVydHkgXCInICsgcHJvcCArICdcIicpO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBwcm9wZXJ0eSBpcyBzYWZlIHRvIHVzZSBmb3IgYW4gb2JqZWN0LlxuICogRm9yIGV4YW1wbGUgLnRvU3RyaW5nIGFuZCAuY29uc3RydWN0b3IgYXJlIG5vdCBzYWZlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gc2FmZVxuICovXG5cblxuZnVuY3Rpb24gaXNTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSB7XG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFNBRkU6IHdoaXRlbGlzdGVkXG4gIC8vIGUuZyBsZW5ndGhcblxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShzYWZlTmF0aXZlUHJvcGVydGllcywgcHJvcCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIE9iamVjdCBwcm90b3R5cGVcbiAgLy8gZS5nIGNvbnN0cnVjdG9yXG5cblxuICBpZiAocHJvcCBpbiBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgT2JqZWN0LnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gRnVuY3Rpb24gcHJvdG90eXBlXG4gIC8vIGUuZyBjYWxsLCBhcHBseVxuXG5cbiAgaWYgKHByb3AgaW4gRnVuY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgRnVuY3Rpb24ucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciBhIG1ldGhvZCBpcyBzYWZlLlxuICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhhdCdzIG5vdCB0aGUgY2FzZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqL1xuLy8gVE9ETzogbWVyZ2UgdGhpcyBmdW5jdGlvbiBpbnRvIGFzc2lnbi5qcz9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZVNhZmVNZXRob2Qob2JqZWN0LCBtZXRob2QpIHtcbiAgaWYgKCFpc1NhZmVNZXRob2Qob2JqZWN0LCBtZXRob2QpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gbWV0aG9kIFwiJyArIG1ldGhvZCArICdcIicpO1xuICB9XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBtZXRob2QgaXMgc2FmZS5cbiAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoYXQncyBub3QgdGhlIGNhc2UgKGZvciBleGFtcGxlIGZvciBgY29uc3RydWN0b3JgKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHNhZmUsIGZhbHNlIG90aGVyd2lzZVxuICovXG5cblxuZnVuY3Rpb24gaXNTYWZlTWV0aG9kKG9iamVjdCwgbWV0aG9kKSB7XG4gIGlmIChvYmplY3QgPT09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIG9iamVjdFttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFVOU0FGRTogZ2hvc3RlZFxuICAvLyBlLmcgb3ZlcnJpZGRlbiB0b1N0cmluZ1xuICAvLyBOb3RlIHRoYXQgSUUxMCBkb2Vzbid0IHN1cHBvcnQgX19wcm90b19fIGFuZCB3ZSBjYW4ndCBkbyB0aGlzIGNoZWNrIHRoZXJlLlxuXG5cbiAgaWYgKGhhc093blByb3BlcnR5KG9iamVjdCwgbWV0aG9kKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgbWV0aG9kIGluIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFNBRkU6IHdoaXRlbGlzdGVkXG4gIC8vIGUuZyB0b1N0cmluZ1xuXG5cbiAgaWYgKGhhc093blByb3BlcnR5KHNhZmVOYXRpdmVNZXRob2RzLCBtZXRob2QpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBPYmplY3QgcHJvdG90eXBlXG4gIC8vIGUuZyBjb25zdHJ1Y3RvclxuXG5cbiAgaWYgKG1ldGhvZCBpbiBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgT2JqZWN0LnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gRnVuY3Rpb24gcHJvdG90eXBlXG4gIC8vIGUuZyBjYWxsLCBhcHBseVxuXG5cbiAgaWYgKG1ldGhvZCBpbiBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBGdW5jdGlvbi5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuXG52YXIgc2FmZU5hdGl2ZVByb3BlcnRpZXMgPSB7XG4gIGxlbmd0aDogdHJ1ZSxcbiAgbmFtZTogdHJ1ZVxufTtcbnZhciBzYWZlTmF0aXZlTWV0aG9kcyA9IHtcbiAgdG9TdHJpbmc6IHRydWUsXG4gIHZhbHVlT2Y6IHRydWUsXG4gIHRvTG9jYWxlU3RyaW5nOiB0cnVlXG59O1xuZXhwb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH07XG5leHBvcnQgeyBzZXRTYWZlUHJvcGVydHkgfTtcbmV4cG9ydCB7IGlzU2FmZVByb3BlcnR5IH07XG5leHBvcnQgeyB2YWxpZGF0ZVNhZmVNZXRob2QgfTtcbmV4cG9ydCB7IGlzU2FmZU1ldGhvZCB9O1xuZXhwb3J0IHsgaXNQbGFpbk9iamVjdCB9OyIsImltcG9ydCB7IGlzSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZUluZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnc3Vic2V0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTdWJzZXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgYSBzdWJzZXQgb2YgYSBtYXRyaXggb3Igc3RyaW5nLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqICAgICBtYXRoLnN1YnNldCh2YWx1ZSwgaW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBhIHN1YnNldFxuICAgKiAgICAgbWF0aC5zdWJzZXQodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCBbLCBkZWZhdWx0VmFsdWVdKSAgLy8gcmVwbGFjZSBhIHN1YnNldFxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIC8vIGdldCBhIHN1YnNldFxuICAgKiAgICAgY29uc3QgZCA9IFtbMSwgMl0sIFszLCA0XV1cbiAgICogICAgIG1hdGguc3Vic2V0KGQsIG1hdGguaW5kZXgoMSwgMCkpICAgICAgICAvLyByZXR1cm5zIDNcbiAgICogICAgIG1hdGguc3Vic2V0KGQsIG1hdGguaW5kZXgoWzAsIDFdLCAxKSkgICAvLyByZXR1cm5zIFtbMl0sIFs0XV1cbiAgICpcbiAgICogICAgIC8vIHJlcGxhY2UgYSBzdWJzZXRcbiAgICogICAgIGNvbnN0IGUgPSBbXVxuICAgKiAgICAgY29uc3QgZiA9IG1hdGguc3Vic2V0KGUsIG1hdGguaW5kZXgoMCwgWzAsIDJdKSwgWzUsIDZdKSAgLy8gZiA9IFtbNSwgNl1dXG4gICAqICAgICBjb25zdCBnID0gbWF0aC5zdWJzZXQoZiwgbWF0aC5pbmRleCgxLCAxKSwgNywgMCkgICAgICAgICAvLyBnID0gW1s1LCA2XSwgWzAsIDddXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIHNpemUsIHJlc2l6ZSwgc3F1ZWV6ZSwgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gbWF0cml4ICBBbiBhcnJheSwgbWF0cml4LCBvciBzdHJpbmdcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXggICAgICAgICAgICAgICAgICAgICBBbiBpbmRleCBjb250YWluaW5nIHJhbmdlcyBmb3IgZWFjaFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvblxuICAgKiBAcGFyYW0geyp9IFtyZXBsYWNlbWVudF0gICAgICAgICAgICAgICAgIEFuIGFycmF5LCBtYXRyaXgsIG9yIHNjYWxhci5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBwcm92aWRlZCwgdGhlIHN1YnNldCBpcyByZXBsYWNlZCB3aXRoIHJlcGxhY2VtZW50LlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIHN1YnNldCBpcyByZXR1cm5lZFxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9dW5kZWZpbmVkXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0aC5tYXRyaXggZWxlbWVudHMgd2lsbCBiZSBsZWZ0IHVuZGVmaW5lZC5cbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IEVpdGhlciB0aGUgcmV0cmlldmVkIHN1YnNldCBvciB0aGUgdXBkYXRlZCBtYXRyaXguXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIC8vIGdldCBzdWJzZXRcbiAgICAnQXJyYXksIEluZGV4JzogZnVuY3Rpb24gQXJyYXlJbmRleCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHZhciBtID0gbWF0cml4KHZhbHVlKTtcbiAgICAgIHZhciBzdWJzZXQgPSBtLnN1YnNldChpbmRleCk7IC8vIHJldHVybnMgYSBNYXRyaXhcblxuICAgICAgcmV0dXJuIGluZGV4LmlzU2NhbGFyKCkgPyBzdWJzZXQgOiBzdWJzZXQudmFsdWVPZigpOyAvLyByZXR1cm4gYW4gQXJyYXkgKGxpa2UgdGhlIGlucHV0KVxuICAgIH0sXG4gICAgJ01hdHJpeCwgSW5kZXgnOiBmdW5jdGlvbiBNYXRyaXhJbmRleCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zdWJzZXQoaW5kZXgpO1xuICAgIH0sXG4gICAgJ09iamVjdCwgSW5kZXgnOiBfZ2V0T2JqZWN0UHJvcGVydHksXG4gICAgJ3N0cmluZywgSW5kZXgnOiBfZ2V0U3Vic3RyaW5nLFxuICAgIC8vIHNldCBzdWJzZXRcbiAgICAnQXJyYXksIEluZGV4LCBhbnknOiBmdW5jdGlvbiBBcnJheUluZGV4QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBtYXRyaXgoY2xvbmUodmFsdWUpKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50LCB1bmRlZmluZWQpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgSW5kZXgsIGFueSwgYW55JzogZnVuY3Rpb24gQXJyYXlJbmRleEFueUFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXRyaXgoY2xvbmUodmFsdWUpKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEluZGV4LCBhbnknOiBmdW5jdGlvbiBNYXRyaXhJbmRleEFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgICByZXR1cm4gdmFsdWUuY2xvbmUoKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEluZGV4LCBhbnksIGFueSc6IGZ1bmN0aW9uIE1hdHJpeEluZGV4QW55QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlLmNsb25lKCkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9LFxuICAgICdzdHJpbmcsIEluZGV4LCBzdHJpbmcnOiBfc2V0U3Vic3RyaW5nLFxuICAgICdzdHJpbmcsIEluZGV4LCBzdHJpbmcsIHN0cmluZyc6IF9zZXRTdWJzdHJpbmcsXG4gICAgJ09iamVjdCwgSW5kZXgsIGFueSc6IF9zZXRPYmplY3RQcm9wZXJ0eVxuICB9KTtcbn0pO1xuLyoqXG4gKiBSZXRyaWV2ZSBhIHN1YnNldCBvZiBhIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgICAgIHN0cmluZyBmcm9tIHdoaWNoIHRvIGdldCBhIHN1YnN0cmluZ1xuICogQHBhcmFtIHtJbmRleH0gaW5kZXggICAgICAgICAgIEFuIGluZGV4IGNvbnRhaW5pbmcgcmFuZ2VzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge3N0cmluZ30gc3Vic3RyaW5nXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9nZXRTdWJzdHJpbmcoc3RyLCBpbmRleCkge1xuICBpZiAoIWlzSW5kZXgoaW5kZXgpKSB7XG4gICAgLy8gVE9ETzogYmV0dGVyIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLmxlbmd0aCwgMSk7XG4gIH0gLy8gdmFsaWRhdGUgd2hldGhlciB0aGUgcmFuZ2UgaXMgb3V0IG9mIHJhbmdlXG5cblxuICB2YXIgc3RyTGVuID0gc3RyLmxlbmd0aDtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5taW4oKVswXSwgc3RyTGVuKTtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5tYXgoKVswXSwgc3RyTGVuKTtcbiAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKDApO1xuICB2YXIgc3Vic3RyID0gJyc7XG4gIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICBzdWJzdHIgKz0gc3RyLmNoYXJBdCh2KTtcbiAgfSk7XG4gIHJldHVybiBzdWJzdHI7XG59XG4vKipcbiAqIFJlcGxhY2UgYSBzdWJzdHJpbmcgaW4gYSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgICAgICBzdHJpbmcgdG8gYmUgcmVwbGFjZWRcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgICAgICAgICBBbiBpbmRleCBjb250YWluaW5nIHJhbmdlcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSByZXBsYWNlbWVudCAgICBSZXBsYWNlbWVudCBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZGVmYXVsdFZhbHVlXSBEZWZhdWx0IHZhbHVlIHRvIGJlIHVzZXMgd2hlbiByZXNpemluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzdHJpbmcuIGlzICcgJyBieSBkZWZhdWx0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXN1bHRcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfc2V0U3Vic3RyaW5nKHN0ciwgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKCFpbmRleCB8fCBpbmRleC5pc0luZGV4ICE9PSB0cnVlKSB7XG4gICAgLy8gVE9ETzogYmV0dGVyIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLmxlbmd0aCwgMSk7XG4gIH1cblxuICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3N0cmluZycgfHwgZGVmYXVsdFZhbHVlLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2luZ2xlIGNoYXJhY3RlciBleHBlY3RlZCBhcyBkZWZhdWx0VmFsdWUnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGVmYXVsdFZhbHVlID0gJyAnO1xuICB9XG5cbiAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKDApO1xuICB2YXIgbGVuID0gcmFuZ2Uuc2l6ZSgpWzBdO1xuXG4gIGlmIChsZW4gIT09IHJlcGxhY2VtZW50Lmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihyYW5nZS5zaXplKClbMF0sIHJlcGxhY2VtZW50Lmxlbmd0aCk7XG4gIH0gLy8gdmFsaWRhdGUgd2hldGhlciB0aGUgcmFuZ2UgaXMgb3V0IG9mIHJhbmdlXG5cblxuICB2YXIgc3RyTGVuID0gc3RyLmxlbmd0aDtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5taW4oKVswXSk7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWF4KClbMF0pOyAvLyBjb3B5IHRoZSBzdHJpbmcgaW50byBhbiBhcnJheSB3aXRoIGNoYXJhY3RlcnNcblxuICB2YXIgY2hhcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ckxlbjsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBzdHIuY2hhckF0KGkpO1xuICB9XG5cbiAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuICAgIGNoYXJzW3ZdID0gcmVwbGFjZW1lbnQuY2hhckF0KGlbMF0pO1xuICB9KTsgLy8gaW5pdGlhbGl6ZSB1bmRlZmluZWQgY2hhcmFjdGVycyB3aXRoIGEgc3BhY2VcblxuICBpZiAoY2hhcnMubGVuZ3RoID4gc3RyTGVuKSB7XG4gICAgZm9yICh2YXIgX2kgPSBzdHJMZW4gLSAxLCBfbGVuID0gY2hhcnMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGlmICghY2hhcnNbX2ldKSB7XG4gICAgICAgIGNoYXJzW19pXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2hhcnMuam9pbignJyk7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgcHJvcGVydHkgZnJvbSBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfZ2V0T2JqZWN0UHJvcGVydHkob2JqZWN0LCBpbmRleCkge1xuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCksIDEpO1xuICB9XG5cbiAgdmFyIGtleSA9IGluZGV4LmRpbWVuc2lvbigwKTtcblxuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgYXMgaW5kZXggdG8gcmV0cmlldmUgYW4gb2JqZWN0IHByb3BlcnR5Jyk7XG4gIH1cblxuICByZXR1cm4gZ2V0U2FmZVByb3BlcnR5KG9iamVjdCwga2V5KTtcbn1cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICogQHBhcmFtIHsqfSByZXBsYWNlbWVudFxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgdXBkYXRlZCBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfc2V0T2JqZWN0UHJvcGVydHkob2JqZWN0LCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLCAxKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBpbmRleC5kaW1lbnNpb24oMCk7XG5cbiAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGFzIGluZGV4IHRvIHJldHJpZXZlIGFuIG9iamVjdCBwcm9wZXJ0eScpO1xuICB9IC8vIGNsb25lIHRoZSBvYmplY3QsIGFuZCBhcHBseSB0aGUgcHJvcGVydHkgdG8gdGhlIGNsb25lXG5cblxuICB2YXIgdXBkYXRlZCA9IGNsb25lKG9iamVjdCk7XG4gIHNldFNhZmVQcm9wZXJ0eSh1cGRhdGVkLCBrZXksIHJlcGxhY2VtZW50KTtcbiAgcmV0dXJuIHVwZGF0ZWQ7XG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnemVyb3MnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdCaWdOdW1iZXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlWmVyb3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIEJpZ051bWJlclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbWF0cml4IGZpbGxlZCB3aXRoIHplcm9zLiBUaGUgY3JlYXRlZCBtYXRyaXggY2FuIGhhdmUgb25lIG9yXG4gICAqIG11bHRpcGxlIGRpbWVuc2lvbnMuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC56ZXJvcyhtKVxuICAgKiAgICBtYXRoLnplcm9zKG0sIGZvcm1hdClcbiAgICogICAgbWF0aC56ZXJvcyhtLCBuKVxuICAgKiAgICBtYXRoLnplcm9zKG0sIG4sIGZvcm1hdClcbiAgICogICAgbWF0aC56ZXJvcyhbbSwgbl0pXG4gICAqICAgIG1hdGguemVyb3MoW20sIG5dLCBmb3JtYXQpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnplcm9zKDMpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbMCwgMCwgMF1cbiAgICogICAgbWF0aC56ZXJvcygzLCAyKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgW1swLCAwXSwgWzAsIDBdLCBbMCwgMF1dXG4gICAqICAgIG1hdGguemVyb3MoMywgJ2RlbnNlJykgICAgICAgICAvLyByZXR1cm5zIFswLCAwLCAwXVxuICAgKlxuICAgKiAgICBjb25zdCBBID0gW1sxLCAyLCAzXSwgWzQsIDUsIDZdXVxuICAgKiAgICBtYXRoLnplcm9zKG1hdGguc2l6ZShBKSkgICAgICAgLy8gcmV0dXJucyBbWzAsIDAsIDBdLCBbMCwgMCwgMF1dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBvbmVzLCBpZGVudGl0eSwgc2l6ZSwgcmFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHsuLi5udW1iZXIgfCBBcnJheX0gc2l6ZSAgICBUaGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAgICAgICAgICAgVGhlIE1hdHJpeCBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gICAgICAgICAgIEEgbWF0cml4IGZpbGxlZCB3aXRoIHplcm9zXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScgPyBfemVyb3MoW10pIDogX3plcm9zKFtdLCAnZGVmYXVsdCcpO1xuICAgIH0sXG4gICAgLy8gbWF0aC56ZXJvcyhtLCBuLCBwLCAuLi4sIGZvcm1hdClcbiAgICAvLyBUT0RPOiBtb3JlIGFjY3VyYXRlIHNpZ25hdHVyZSAnLi4ubnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmcnIGFzIHNvb24gYXMgdHlwZWQtZnVuY3Rpb24gc3VwcG9ydHMgdGhpc1xuICAgICcuLi5udW1iZXIgfCBCaWdOdW1iZXIgfCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJTdHJpbmcoc2l6ZSkge1xuICAgICAgdmFyIGxhc3QgPSBzaXplW3NpemUubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGFzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IHNpemUucG9wKCk7XG4gICAgICAgIHJldHVybiBfemVyb3Moc2l6ZSwgZm9ybWF0KTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5Jykge1xuICAgICAgICByZXR1cm4gX3plcm9zKHNpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLCAnZGVmYXVsdCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgQXJyYXk6IF96ZXJvcyxcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeChzaXplKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gc2l6ZS5zdG9yYWdlKCk7XG4gICAgICByZXR1cm4gX3plcm9zKHNpemUudmFsdWVPZigpLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBzdHJpbmcnOiBmdW5jdGlvbiBBcnJheU1hdHJpeFN0cmluZyhzaXplLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfemVyb3Moc2l6ZS52YWx1ZU9mKCksIGZvcm1hdCk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSBvciBNYXRyaXggd2l0aCB6ZXJvc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzaXplXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0PSdkZWZhdWx0J11cbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF96ZXJvcyhzaXplLCBmb3JtYXQpIHtcbiAgICB2YXIgaGFzQmlnTnVtYmVycyA9IF9ub3JtYWxpemUoc2l6ZSk7XG5cbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gaGFzQmlnTnVtYmVycyA/IG5ldyBCaWdOdW1iZXIoMCkgOiAwO1xuXG4gICAgX3ZhbGlkYXRlKHNpemUpO1xuXG4gICAgaWYgKGZvcm1hdCkge1xuICAgICAgLy8gcmV0dXJuIGEgbWF0cml4XG4gICAgICB2YXIgbSA9IG1hdHJpeChmb3JtYXQpO1xuXG4gICAgICBpZiAoc2l6ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBtLnJlc2l6ZShzaXplLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmV0dXJuIGFuIEFycmF5XG4gICAgICB2YXIgYXJyID0gW107XG5cbiAgICAgIGlmIChzaXplLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc2l6ZShhcnIsIHNpemUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICB9IC8vIHJlcGxhY2UgQmlnTnVtYmVycyB3aXRoIG51bWJlcnMsIHJldHVybnMgdHJ1ZSBpZiBzaXplIGNvbnRhaW5lZCBCaWdOdW1iZXJzXG5cblxuICBmdW5jdGlvbiBfbm9ybWFsaXplKHNpemUpIHtcbiAgICB2YXIgaGFzQmlnTnVtYmVycyA9IGZhbHNlO1xuICAgIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBhcnIpIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgaGFzQmlnTnVtYmVycyA9IHRydWU7XG4gICAgICAgIGFycltpbmRleF0gPSB2YWx1ZS50b051bWJlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBoYXNCaWdOdW1iZXJzO1xuICB9IC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuXG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlKHNpemUpIHtcbiAgICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIHplcm9zIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7IC8vIFRPRE86IHplcm9zIGNvbnRhaW5zIGFsbW9zdCB0aGUgc2FtZSBjb2RlIGFzIG9uZXMuIFJldXNlIHRoaXM/IiwiaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdFN0cmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdmb3JtYXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRm9ybWF0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBhIHZhbHVlIG9mIGFueSB0eXBlIGludG8gYSBzdHJpbmcuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUpXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlLCBvcHRpb25zKVxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgY2FsbGJhY2spXG4gICAqXG4gICAqIFdoZXJlOlxuICAgKlxuICAgKiAgLSBgdmFsdWU6ICpgXG4gICAqICAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAgICogIC0gYG9wdGlvbnM6IE9iamVjdGBcbiAgICogICAgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAgICogICAgLSBgbm90YXRpb246IHN0cmluZ2BcbiAgICogICAgICBOdW1iZXIgbm90YXRpb24uIENob29zZSBmcm9tOlxuICAgKiAgICAgIC0gJ2ZpeGVkJ1xuICAgKiAgICAgICAgQWx3YXlzIHVzZSByZWd1bGFyIG51bWJlciBub3RhdGlvbi5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gICAqICAgICAgLSAnZXhwb25lbnRpYWwnXG4gICAqICAgICAgICBBbHdheXMgdXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEuMjM0ZSsyJyBhbmQgJzEuNGUrNydcbiAgICogICAgICAtICdlbmdpbmVlcmluZydcbiAgICogICAgICAgIEFsd2F5cyB1c2UgZW5naW5lZXJpbmcgbm90YXRpb246IGFsd2F5cyBoYXZlIGV4cG9uZW50aWFsIG5vdGF0aW9uLFxuICAgKiAgICAgICAgYW5kIHNlbGVjdCB0aGUgZXhwb25lbnQgdG8gYmUgYSBtdWx0aXBsZSBvZiAzLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40ZSswJyBhbmQgJzE0LjBlKzYnXG4gICAqICAgICAgLSAnYXV0bycgKGRlZmF1bHQpXG4gICAqICAgICAgICBSZWd1bGFyIG51bWJlciBub3RhdGlvbiBmb3IgbnVtYmVycyBoYXZpbmcgYW4gYWJzb2x1dGUgdmFsdWUgYmV0d2VlblxuICAgKiAgICAgICAgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMsIGFuZCB1c2VzIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAgICogICAgICAgIExvd2VyIGJvdW5kIGlzIGluY2x1ZGVkLCB1cHBlciBib3VuZCBpcyBleGNsdWRlZC5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxMjMuNCcgYW5kICcxLjRlNycuXG4gICAqICAgIC0gYHByZWNpc2lvbjogbnVtYmVyYFxuICAgKiAgICAgIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYgdG8gcm91bmQgdGhlIGRpZ2l0cyBvZiB0aGUgbnVtYmVyLiBJbiBjYXNlXG4gICAqICAgICAgb2Ygbm90YXRpb25zICdleHBvbmVudGlhbCcsICdlbmdpbmVlcmluZycsIGFuZCAnYXV0bycsIGBwcmVjaXNpb25gXG4gICAqICAgICAgZGVmaW5lcyB0aGUgdG90YWwgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAgICogICAgICBJbiBjYXNlIG9mIG5vdGF0aW9uICdmaXhlZCcsIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIG51bWJlciBvZlxuICAgKiAgICAgIHNpZ25pZmljYW50IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC5cbiAgICogICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdC5cbiAgICogICAgLSBgbG93ZXJFeHA6IG51bWJlcmBcbiAgICogICAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgbG93ZXIgYm91bmRhcnkgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoXG4gICAqICAgICAgYW4gZXhwb25lbnQgd2hlbiBgbm90YXRpb249J2F1dG9gLiBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gICAqICAgIC0gYHVwcGVyRXhwOiBudW1iZXJgXG4gICAqICAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIHVwcGVyIGJvdW5kYXJ5IGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aFxuICAgKiAgICAgIGFuIGV4cG9uZW50IHdoZW4gYG5vdGF0aW9uPSdhdXRvYC4gRGVmYXVsdCB2YWx1ZSBpcyBgNWAuXG4gICAqICAgIC0gYGZyYWN0aW9uOiBzdHJpbmdgLiBBdmFpbGFibGUgdmFsdWVzOiAncmF0aW8nIChkZWZhdWx0KSBvciAnZGVjaW1hbCcuXG4gICAqICAgICAgRm9yIGV4YW1wbGUgYGZvcm1hdChmcmFjdGlvbigxLCAzKSlgIHdpbGwgb3V0cHV0ICcxLzMnIHdoZW4gJ3JhdGlvJyBpc1xuICAgKiAgICAgIGNvbmZpZ3VyZWQsIGFuZCB3aWxsIG91dHB1dCBgMC4oMylgIHdoZW4gJ2RlY2ltYWwnIGlzIGNvbmZpZ3VyZWQuXG4gICAqIC0gYGNhbGxiYWNrOiBmdW5jdGlvbmBcbiAgICogICBBIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9uLCBpbnZva2VkIGZvciBhbGwgbnVtZXJpYyBlbGVtZW50cyBpbiBgdmFsdWVgLFxuICAgKiAgIGZvciBleGFtcGxlIGFsbCBlbGVtZW50cyBvZiBhIG1hdHJpeCwgb3IgdGhlIHJlYWwgYW5kIGltYWdpbmFyeVxuICAgKiAgIHBhcnRzIG9mIGEgY29tcGxleCBudW1iZXIuIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gICAqICAgYnVpbHQtaW4gbnVtZXJpYyBub3RhdGlvbiB3aXRoIGFueSB0eXBlIG9mIGZvcm1hdHRpbmcuIEZ1bmN0aW9uIGBjYWxsYmFja2BcbiAgICogICBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuXG4gICAqXG4gICAqIFdoZW4gYHZhbHVlYCBpcyBhbiBPYmplY3Q6XG4gICAqXG4gICAqIC0gV2hlbiB0aGUgb2JqZWN0IGNvbnRhaW5zIGEgcHJvcGVydHkgYGZvcm1hdGAgYmVpbmcgYSBmdW5jdGlvbiwgdGhpcyBmdW5jdGlvblxuICAgKiAgIGlzIGludm9rZWQgYXMgYHZhbHVlLmZvcm1hdChvcHRpb25zKWAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAqIC0gV2hlbiB0aGUgb2JqZWN0IGhhcyBpdHMgb3duIGB0b1N0cmluZ2AgbWV0aG9kLCB0aGlzIG1ldGhvZCBpcyBpbnZva2VkXG4gICAqICAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAqIC0gSW4gb3RoZXIgY2FzZXMgdGhlIGZ1bmN0aW9uIHdpbGwgbG9vcCBvdmVyIGFsbCBvYmplY3QgcHJvcGVydGllcyBhbmRcbiAgICogICByZXR1cm4gSlNPTiBvYmplY3Qgbm90YXRpb24gbGlrZSAne1wiYVwiOiAyLCBcImJcIjogM30nLlxuICAgKlxuICAgKiBXaGVuIHZhbHVlIGlzIGEgZnVuY3Rpb246XG4gICAqXG4gICAqIC0gV2hlbiB0aGUgZnVuY3Rpb24gaGFzIGEgcHJvcGVydHkgYHN5bnRheGAsIGl0IHJldHVybnMgdGhpc1xuICAgKiAgIHN5bnRheCBkZXNjcmlwdGlvbi5cbiAgICogLSBJbiBvdGhlciBjYXNlcywgYSBzdHJpbmcgYCdmdW5jdGlvbidgIGlzIHJldHVybmVkLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5mb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICc2LjQnXG4gICAqICAgIG1hdGguZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMS4yNGU2J1xuICAgKiAgICBtYXRoLmZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzAuMzMzMzMzMzMzMzMzMzMzMydcbiAgICogICAgbWF0aC5mb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcwLjMzMydcbiAgICogICAgbWF0aC5mb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcyMTAwMCdcbiAgICogICAgbWF0aC5mb3JtYXQoMTJlOCwge25vdGF0aW9uOiAnZml4ZWQnfSkgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxMjAwMDAwMDAwJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgyLjMsICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogNH0pICAgIC8vIHJldHVybnMgJzIuMzAwMCdcbiAgICogICAgbWF0aC5mb3JtYXQoNTIuOCwge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgICAvLyByZXR1cm5zICc1LjI4ZSsxJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgxMjQwMCx7bm90YXRpb246ICdlbmdpbmVlcmluZyd9KSAgICAgICAgICAgIC8vIHJldHVybnMgJzEyLjQwMGUrMydcbiAgICogICAgbWF0aC5mb3JtYXQoMjAwMCwge2xvd2VyRXhwOiAtMiwgdXBwZXJFeHA6IDJ9KSAgICAgICAgICAvLyByZXR1cm5zICcyZSszJ1xuICAgKlxuICAgKiAgICBmdW5jdGlvbiBmb3JtYXRDdXJyZW5jeSh2YWx1ZSkge1xuICAgKiAgICAgIC8vIHJldHVybiBjdXJyZW5jeSBub3RhdGlvbiB3aXRoIHR3byBkaWdpdHM6XG4gICAqICAgICAgcmV0dXJuICckJyArIHZhbHVlLnRvRml4ZWQoMilcbiAgICpcbiAgICogICAgICAvLyB5b3UgY291bGQgYWxzbyB1c2UgbWF0aC5mb3JtYXQgaW5zaWRlIHRoZSBjYWxsYmFjazpcbiAgICogICAgICAvLyByZXR1cm4gJyQnICsgbWF0aC5mb3JtYXQodmFsdWUsIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiAyfSlcbiAgICogICAgfVxuICAgKiAgICBtYXRoLmZvcm1hdChbMi4xLCAzLCAwLjAxNl0sIGZvcm1hdEN1cnJlbmN5fSAgICAgICAgICAgIC8vIHJldHVybnMgJ1skMi4xMCwgJDMuMDAsICQwLjAyXSdcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHByaW50XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUgdG8gYmUgc3RyaW5naWZpZWRcbiAgICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IG51bWJlcn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHZhbHVlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIGFueTogZm9ybWF0U3RyaW5nLFxuICAgICdhbnksIE9iamVjdCB8IGZ1bmN0aW9uIHwgbnVtYmVyJzogZm9ybWF0U3RyaW5nXG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbm9CaWdudW1iZXIsIG5vRnJhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlscy9ub29wLmpzJztcbnZhciBuYW1lID0gJ251bWVyaWMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbnVtYmVyJywgJz9iaWdudW1iZXInLCAnP2ZyYWN0aW9uJ107XG5leHBvcnQgdmFyIGNyZWF0ZU51bWVyaWMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBudW1iZXI6IF9udW1iZXIsXG4gICAgYmlnbnVtYmVyLFxuICAgIGZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuICB2YXIgdmFsaWRJbnB1dFR5cGVzID0ge1xuICAgIHN0cmluZzogdHJ1ZSxcbiAgICBudW1iZXI6IHRydWUsXG4gICAgQmlnTnVtYmVyOiB0cnVlLFxuICAgIEZyYWN0aW9uOiB0cnVlXG4gIH07IC8vIExvYWQgdGhlIGNvbnZlcnNpb24gZnVuY3Rpb25zIGZvciBlYWNoIG91dHB1dCB0eXBlXG5cbiAgdmFyIHZhbGlkT3V0cHV0VHlwZXMgPSB7XG4gICAgbnVtYmVyOiB4ID0+IF9udW1iZXIoeCksXG4gICAgQmlnTnVtYmVyOiBiaWdudW1iZXIgPyB4ID0+IGJpZ251bWJlcih4KSA6IG5vQmlnbnVtYmVyLFxuICAgIEZyYWN0aW9uOiBmcmFjdGlvbiA/IHggPT4gZnJhY3Rpb24oeCkgOiBub0ZyYWN0aW9uXG4gIH07XG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgbnVtZXJpYyBpbnB1dCB0byBhIHNwZWNpZmljIG51bWVyaWMgdHlwZTogbnVtYmVyLCBCaWdOdW1iZXIsIG9yIEZyYWN0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubnVtZXJpYyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5udW1lcmljKCc0JykgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcsICdudW1iZXInKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnLCAnQmlnTnVtYmVyJykgICAgICAgICAgICAgIC8vIHJldHVybnMgQmlnTnVtYmVyIDRcbiAgICogICAgbWF0aC5udW1lcmljKCc0JywgJ0ZyYWN0aW9uJykgICAgICAgICAgICAgICAvLyByZXR1cm5zIEZyYWN0aW9uIDRcbiAgICogICAgbWF0aC5udW1lcmljKDQsICdGcmFjdGlvbicpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIEZyYWN0aW9uIDRcbiAgICogICAgbWF0aC5udW1lcmljKG1hdGguZnJhY3Rpb24oMiwgNSksICdudW1iZXInKSAvLyByZXR1cm5zIG51bWJlciAwLjRcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG51bWJlciwgZnJhY3Rpb24sIGJpZ251bWJlciwgc3RyaW5nLCBmb3JtYXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB9IHZhbHVlXG4gICAqICAgICAgICAgICAgICBBIG51bWVyaWMgdmFsdWUgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWVyaWMgdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG91dHB1dFR5cGVcbiAgICogICAgICAgICAgICAgIERlc2lyZWQgbnVtZXJpYyBvdXRwdXQgdHlwZS5cbiAgICogICAgICAgICAgICAgIEF2YWlsYWJsZSB2YWx1ZXM6ICdudW1iZXInLCAnQmlnTnVtYmVyJywgb3IgJ0ZyYWN0aW9uJ1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbn1cbiAgICogICAgICAgICAgICAgIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgdGhlIG51bWVyaWMgaW4gdGhlIHJlcXVlc3RlZCB0eXBlXG4gICAqL1xuXG4gIHJldHVybiBmdW5jdGlvbiBudW1lcmljKHZhbHVlLCBvdXRwdXRUeXBlKSB7XG4gICAgdmFyIGlucHV0VHlwZSA9IHR5cGVPZih2YWx1ZSk7XG5cbiAgICBpZiAoIShpbnB1dFR5cGUgaW4gdmFsaWRJbnB1dFR5cGVzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgJyArIHZhbHVlICsgJyBvZiB0eXBlIFwiJyArIGlucHV0VHlwZSArICdcIjsgdmFsaWQgaW5wdXQgdHlwZXMgYXJlICcgKyBPYmplY3Qua2V5cyh2YWxpZElucHV0VHlwZXMpLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIGlmICghKG91dHB1dFR5cGUgaW4gdmFsaWRPdXRwdXRUeXBlcykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0ICcgKyB2YWx1ZSArICcgdG8gdHlwZSBcIicgKyBvdXRwdXRUeXBlICsgJ1wiOyB2YWxpZCBvdXRwdXQgdHlwZXMgYXJlICcgKyBPYmplY3Qua2V5cyh2YWxpZE91dHB1dFR5cGVzKS5qb2luKCcsICcpKTtcbiAgICB9XG5cbiAgICBpZiAob3V0cHV0VHlwZSA9PT0gaW5wdXRUeXBlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWxpZE91dHB1dFR5cGVzW291dHB1dFR5cGVdKHZhbHVlKTtcbiAgICB9XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG52YXIgbmFtZSA9ICdkaXZpZGVTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbnVtZXJpYyddO1xuZXhwb3J0IHZhciBjcmVhdGVEaXZpZGVTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBudW1lcmljXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBEaXZpZGUgdHdvIHNjYWxhciB2YWx1ZXMsIGB4IC8geWAuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgZm9yIGludGVybmFsIHVzZTogaXQgaXMgdXNlZCBieSB0aGUgcHVibGljIGZ1bmN0aW9uc1xuICAgKiBgZGl2aWRlYCBhbmQgYGludmAuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjb2xsZWN0aW9ucyAoQXJyYXkgb3IgTWF0cml4KS5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0geCAgIE51bWVyYXRvclxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXh9IHkgICAgICAgICAgRGVub21pbmF0b3JcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0gICAgIFF1b3RpZW50LCBgeCAvIHlgXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCAvIHk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdih5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXYoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXYoeSk7XG4gICAgfSxcbiAgICAnVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBVbml0TnVtYmVyRnJhY3Rpb25CaWdOdW1iZXIoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTsgLy8gVE9ETzogbW92ZSB0aGUgZGl2aWRlIGZ1bmN0aW9uIHRvIFVuaXQuanMsIGl0IHVzZXMgaW50ZXJuYWxzIG9mIFVuaXRcblxuICAgICAgdmFyIG9uZSA9IG51bWVyaWMoMSwgdHlwZU9mKHkpKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMocmVzLnZhbHVlID09PSBudWxsID8gcmVzLl9ub3JtYWxpemUob25lKSA6IHJlcy52YWx1ZSwgeSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyLCBVbml0JzogZnVuY3Rpb24gbnVtYmVyRnJhY3Rpb25CaWdOdW1iZXJVbml0KHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB5LmNsb25lKCk7XG4gICAgICByZXMgPSByZXMucG93KC0xKTsgLy8gVE9ETzogbW92ZSB0aGUgZGl2aWRlIGZ1bmN0aW9uIHRvIFVuaXQuanMsIGl0IHVzZXMgaW50ZXJuYWxzIG9mIFVuaXRcblxuICAgICAgdmFyIG9uZSA9IG51bWVyaWMoMSwgdHlwZU9mKHgpKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMoeCwgeS52YWx1ZSA9PT0gbnVsbCA/IHkuX25vcm1hbGl6ZShvbmUpIDogeS52YWx1ZSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXZpZGUoeSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgYXMgc2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IHBvd051bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdwb3cnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ2lkZW50aXR5JywgJ211bHRpcGx5JywgJ21hdHJpeCcsICdmcmFjdGlvbicsICdudW1iZXInLCAnQ29tcGxleCddO1xuZXhwb3J0IHZhciBjcmVhdGVQb3cgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgaWRlbnRpdHksXG4gICAgbXVsdGlwbHksXG4gICAgbWF0cml4LFxuICAgIG51bWJlcixcbiAgICBmcmFjdGlvbixcbiAgICBDb21wbGV4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBwb3dlciBvZiB4IHRvIHksIGB4IF4geWAuXG4gICAqIE1hdHJpeCBleHBvbmVudGlhdGlvbiBpcyBzdXBwb3J0ZWQgZm9yIHNxdWFyZSBtYXRyaWNlcyBgeGAsIGFuZCBwb3NpdGl2ZVxuICAgKiBpbnRlZ2VyIGV4cG9uZW50cyBgeWAuXG4gICAqXG4gICAqIEZvciBjdWJpYyByb290cyBvZiBuZWdhdGl2ZSBudW1iZXJzLCB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgcHJpbmNpcGFsXG4gICAqIHJvb3QgYnkgZGVmYXVsdC4gSW4gb3JkZXIgdG8gbGV0IHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHJlYWwgcm9vdCxcbiAgICogbWF0aC5qcyBjYW4gYmUgY29uZmlndXJlZCB3aXRoIGBtYXRoLmNvbmZpZyh7cHJlZGljdGFibGU6IHRydWV9KWAuXG4gICAqIFRvIHJldHJpZXZlIGFsbCBjdWJpYyByb290cyBvZiBhIHZhbHVlLCB1c2UgYG1hdGguY2JydCh4LCB0cnVlKWAuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5wb3coeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgucG93KDIsIDMpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgOFxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIG1hdGgucG93KGEsIDIpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAtNSArIDEyaVxuICAgKlxuICAgKiAgICBjb25zdCBiID0gW1sxLCAyXSwgWzQsIDNdXVxuICAgKiAgICBtYXRoLnBvdyhiLCAyKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgQXJyYXkgW1s5LCA4XSwgWzE2LCAxN11dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBtdWx0aXBseSwgc3FydCwgY2JydCwgbnRoUm9vdFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4ICBUaGUgYmFzZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4fSB5ICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgZXhwb25lbnRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBUaGUgdmFsdWUgb2YgYHhgIHRvIHRoZSBwb3dlciBgeWBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogX3BvdyxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICBpZiAoeS5pc0ludGVnZXIoKSB8fCB4ID49IDAgfHwgY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LnRvTnVtYmVyKCksIDApLnBvdyh5LnRvTnVtYmVyKCksIDApO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgaWYgKHkuZCAhPT0gMSkge1xuICAgICAgICBpZiAoY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBwb3cgZG9lcyBub3Qgc3VwcG9ydCBub24taW50ZWdlciBleHBvbmVudHMgZm9yIGZyYWN0aW9ucy4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3Bvdyh4LnZhbHVlT2YoKSwgeS52YWx1ZU9mKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnQXJyYXksIG51bWJlcic6IF9wb3dBcnJheSxcbiAgICAnQXJyYXksIEJpZ051bWJlcic6IGZ1bmN0aW9uIEFycmF5QmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBfcG93QXJyYXkoeCwgeS50b051bWJlcigpKTtcbiAgICB9LFxuICAgICdNYXRyaXgsIG51bWJlcic6IF9wb3dNYXRyaXgsXG4gICAgJ01hdHJpeCwgQmlnTnVtYmVyJzogZnVuY3Rpb24gTWF0cml4QmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBfcG93TWF0cml4KHgsIHkudG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICAnVW5pdCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gVW5pdE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHBvd2VyIG9mIHggdG8geSwgeF55LCBmb3IgdHdvIG51bWJlcnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqIEByZXR1cm4ge251bWJlciB8IENvbXBsZXh9IHJlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfcG93KHgsIHkpIHtcbiAgICAvLyBBbHRlcm5hdGl2ZWx5IGNvdWxkIGRlZmluZSBhICdyZWFsbW9kZScgY29uZmlnIG9wdGlvbiBvciBzb21ldGhpbmcsIGJ1dFxuICAgIC8vICdwcmVkaWN0YWJsZScgd2lsbCB3b3JrIGZvciBub3dcbiAgICBpZiAoY29uZmlnLnByZWRpY3RhYmxlICYmICFpc0ludGVnZXIoeSkgJiYgeCA8IDApIHtcbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB5IGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIGZyYWN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgeUZyYWMgPSBmcmFjdGlvbih5KTtcbiAgICAgICAgdmFyIHlOdW0gPSBudW1iZXIoeUZyYWMpO1xuXG4gICAgICAgIGlmICh5ID09PSB5TnVtIHx8IE1hdGguYWJzKCh5IC0geU51bSkgLyB5KSA8IDFlLTE0KSB7XG4gICAgICAgICAgaWYgKHlGcmFjLmQgJSAyID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKHlGcmFjLm4gJSAyID09PSAwID8gMSA6IC0xKSAqIE1hdGgucG93KC14LCB5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7Ly8gZnJhY3Rpb24oKSB0aHJvd3MgYW4gZXJyb3IgaWYgeSBpcyBJbmZpbml0eSwgZXRjLlxuICAgICAgfSAvLyBVbmFibGUgdG8gZXhwcmVzcyB5IGFzIGEgZnJhY3Rpb24sIHNvIGNvbnRpbnVlIG9uXG5cbiAgICB9IC8vICoqZm9yIHByZWRpY3RhYmxlIG1vZGUqKiB4XkluZmluaXR5ID09PSBOYU4gaWYgeCA8IC0xXG4gICAgLy8gTi5CLiB0aGlzIGJlaGF2b3VyIGlzIGRpZmZlcmVudCBmcm9tIGBNYXRoLnBvd2Agd2hpY2ggZ2l2ZXNcbiAgICAvLyAoLTIpXkluZmluaXR5ID09PSBJbmZpbml0eVxuXG5cbiAgICBpZiAoY29uZmlnLnByZWRpY3RhYmxlICYmICh4IDwgLTEgJiYgeSA9PT0gSW5maW5pdHkgfHwgeCA+IC0xICYmIHggPCAwICYmIHkgPT09IC1JbmZpbml0eSkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgaWYgKGlzSW50ZWdlcih5KSB8fCB4ID49IDAgfHwgY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICByZXR1cm4gcG93TnVtYmVyKHgsIHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiB0aGUgZm9sbG93aW5nIGluZmluaXR5IGNoZWNrcyBhcmUgZHVwbGljYXRlZCBmcm9tIHBvd051bWJlci4gRGVkdXBsaWNhdGUgdGhpcyBzb21laG93XG4gICAgICAvLyB4XkluZmluaXR5ID09PSAwIGlmIC0xIDwgeCA8IDFcbiAgICAgIC8vIEEgcmVhbCBudW1iZXIgMCBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGNvbXBsZXgoMClcbiAgICAgIGlmICh4ICogeCA8IDEgJiYgeSA9PT0gSW5maW5pdHkgfHwgeCAqIHggPiAxICYmIHkgPT09IC1JbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgsIDApLnBvdyh5LCAwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgYSAyZCBhcnJheVxuICAgKiBAcGFyYW0ge0FycmF5fSB4ICAgICBtdXN0IGJlIGEgMiBkaW1lbnNpb25hbCwgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAgICBhIHBvc2l0aXZlLCBpbnRlZ2VyIHZhbHVlXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfcG93QXJyYXkoeCwgeSkge1xuICAgIGlmICghaXNJbnRlZ2VyKHkpIHx8IHkgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGb3IgQV5iLCBiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyICh2YWx1ZSBpcyAnICsgeSArICcpJyk7XG4gICAgfSAvLyB2ZXJpZnkgdGhhdCBBIGlzIGEgMiBkaW1lbnNpb25hbCBzcXVhcmUgbWF0cml4XG5cblxuICAgIHZhciBzID0gc2l6ZSh4KTtcblxuICAgIGlmIChzLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3IgQV5iLCBBIG11c3QgYmUgMiBkaW1lbnNpb25hbCAoQSBoYXMgJyArIHMubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgIH1cblxuICAgIGlmIChzWzBdICE9PSBzWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvciBBXmIsIEEgbXVzdCBiZSBzcXVhcmUgKHNpemUgaXMgJyArIHNbMF0gKyAneCcgKyBzWzFdICsgJyknKTtcbiAgICB9XG5cbiAgICB2YXIgcmVzID0gaWRlbnRpdHkoc1swXSkudmFsdWVPZigpO1xuICAgIHZhciBweCA9IHg7XG5cbiAgICB3aGlsZSAoeSA+PSAxKSB7XG4gICAgICBpZiAoKHkgJiAxKSA9PT0gMSkge1xuICAgICAgICByZXMgPSBtdWx0aXBseShweCwgcmVzKTtcbiAgICAgIH1cblxuICAgICAgeSA+Pj0gMTtcbiAgICAgIHB4ID0gbXVsdGlwbHkocHgsIHB4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIGEgMmQgbWF0cml4XG4gICAqIEBwYXJhbSB7TWF0cml4fSB4ICAgICBtdXN0IGJlIGEgMiBkaW1lbnNpb25hbCwgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAgICBhIHBvc2l0aXZlLCBpbnRlZ2VyIHZhbHVlXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3Bvd01hdHJpeCh4LCB5KSB7XG4gICAgcmV0dXJuIG1hdHJpeChfcG93QXJyYXkoeC52YWx1ZU9mKCksIHkpKTtcbiAgfVxufSk7IiwiZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyByb3VuZE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgTk9fSU5UID0gJ051bWJlciBvZiBkZWNpbWFscyBpbiBmdW5jdGlvbiByb3VuZCBtdXN0IGJlIGFuIGludGVnZXInO1xudmFyIG5hbWUgPSAncm91bmQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ3plcm9zJywgJ0JpZ051bWJlcicsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVSb3VuZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICB6ZXJvcyxcbiAgICBCaWdOdW1iZXIsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgdGhlIG5lYXJlc3QgaW50ZWdlci5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnJvdW5kKHgpXG4gICAqICAgIG1hdGgucm91bmQoeCwgbilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgucm91bmQoMy4yMikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLnJvdW5kKDMuODIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5yb3VuZCgtNC4yKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKiAgICBtYXRoLnJvdW5kKC00LjcpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC01XG4gICAqICAgIG1hdGgucm91bmQoMy4yMiwgMSkgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yXG4gICAqICAgIG1hdGgucm91bmQoMy44OCwgMSkgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy45XG4gICAqICAgIG1hdGgucm91bmQoLTQuMjEsIDEpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMlxuICAgKiAgICBtYXRoLnJvdW5kKC00LjcxLCAxKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjdcbiAgICogICAgbWF0aC5yb3VuZChtYXRoLnBpLCAzKSAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjE0MlxuICAgKiAgICBtYXRoLnJvdW5kKDEyMy40NTY3OCwgMikgICAgIC8vIHJldHVybnMgbnVtYmVyIDEyMy40NlxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMiwgLTIuNylcbiAgICogICAgbWF0aC5yb3VuZChjKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMyAtIDNpXG4gICAqXG4gICAqICAgIG1hdGgucm91bmQoWzMuMiwgMy44LCAtNC43XSkgLy8gcmV0dXJucyBBcnJheSBbMywgNCwgLTVdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBjZWlsLCBmaXgsIGZsb29yXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJvdW5kTnVtYmVyU2lnbmF0dXJlcyksIHt9LCB7XG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5yb3VuZCgpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG4gJSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHgucm91bmQobik7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleEJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgX24gPSBuLnRvTnVtYmVyKCk7XG5cbiAgICAgIHJldHVybiB4LnJvdW5kKF9uKTtcbiAgICB9LFxuICAgICdudW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KS50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcygwKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5yb3VuZCgpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobiAlIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geC5yb3VuZChuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2Ugcm91bmQoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBEZW5zZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gY2hlY2sgc2NhbGFyIGlzIHplcm9cbiAgICAgIGlmIChlcXVhbFNjYWxhcih4LCAwKSkge1xuICAgICAgICAvLyBkbyBub3QgZXhlY3V0ZSBhbGdvcml0aG0sIHJlc3VsdCB3aWxsIGJlIGEgemVybyBtYXRyaXhcbiAgICAgICAgcmV0dXJuIHplcm9zKHkuc2l6ZSgpLCB5LnN0b3JhZ2UoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBjaGVjayBzY2FsYXIgaXMgemVyb1xuICAgICAgaWYgKGVxdWFsU2NhbGFyKHgsIDApKSB7XG4gICAgICAgIC8vIGRvIG5vdCBleGVjdXRlIGFsZ29yaXRobSwgcmVzdWx0IHdpbGwgYmUgYSB6ZXJvIG1hdHJpeFxuICAgICAgICByZXR1cm4gemVyb3MoeS5zaXplKCksIHkuc3RvcmFnZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBBcnJheU51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pKTtcbn0pO1xudmFyIHJvdW5kTnVtYmVyU2lnbmF0dXJlcyA9IHtcbiAgbnVtYmVyOiByb3VuZE51bWJlcixcbiAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIG4pIHtcbiAgICBpZiAoIWlzSW50ZWdlcihuKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgIH1cblxuICAgIGlmIChuIDwgMCB8fCBuID4gMTUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTnVtYmVyIG9mIGRlY2ltYWxzIGluIGZ1bmN0aW9uIHJvdW5kIG11c3QgYmUgaW4gdGUgcmFuZ2Ugb2YgMC0xNScpO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZE51bWJlcih4LCBuKTtcbiAgfVxufTtcbmV4cG9ydCB2YXIgY3JlYXRlUm91bmROdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIFsndHlwZWQnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwgcm91bmROdW1iZXJTaWduYXR1cmVzKTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDcgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdlcXVhbCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWwgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA3ID0gY3JlYXRlQWxnb3JpdGhtMDcoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHR3byB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gdGVzdHMgd2hldGhlciB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHkgaXNcbiAgICogc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIGVwc2lsb24uIFRoZSBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB0b1xuICAgKiBjb21wYXJlIHZhbHVlcyBzbWFsbGVyIHRoYW4gYXBwcm94aW1hdGVseSAyLjIyZS0xNi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICogSW4gY2FzZSBvZiBjb21wbGV4IG51bWJlcnMsIHgucmUgbXVzdCBlcXVhbCB5LnJlLCBhbmQgeC5pbSBtdXN0IGVxdWFsIHkuaW0uXG4gICAqXG4gICAqIFZhbHVlcyBgbnVsbGAgYW5kIGB1bmRlZmluZWRgIGFyZSBjb21wYXJlZCBzdHJpY3RseSwgdGh1cyBgbnVsbGAgaXMgb25seVxuICAgKiBlcXVhbCB0byBgbnVsbGAgYW5kIG5vdGhpbmcgZWxzZSwgYW5kIGB1bmRlZmluZWRgIGlzIG9ubHkgZXF1YWwgdG9cbiAgICogYHVuZGVmaW5lZGAgYW5kIG5vdGhpbmcgZWxzZS4gU3RyaW5ncyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgbnVtZXJpY2FsIHZhbHVlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoMiArIDIsIDMpICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmVxdWFsKDIgKyAyLCA0KSAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KCc1MCBjbScpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzUgbScpXG4gICAqICAgIG1hdGguZXF1YWwoYSwgYikgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBbMiwgNSwgMV1cbiAgICogICAgY29uc3QgZCA9IFsyLCA3LCAxXVxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKGMsIGQpICAgICAgICAgICAgIC8vIHJldHVybnMgW3RydWUsIGZhbHNlLCB0cnVlXVxuICAgKiAgICBtYXRoLmRlZXBFcXVhbChjLCBkKSAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogICAgbWF0aC5lcXVhbChcIjEwMDBcIiwgXCIxZTNcIikgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguZXF1YWwoMCwgbnVsbCkgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgdW5lcXVhbCwgc21hbGxlciwgc21hbGxlckVxLCBsYXJnZXIsIGxhcmdlckVxLCBjb21wYXJlLCBkZWVwRXF1YWwsIGVxdWFsVGV4dFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBib29sZWFuIHwgQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IGJvb2xlYW4gfCBDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIGNvbXBhcmVkIHZhbHVlcyBhcmUgZXF1YWwsIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdhbnksIGFueSc6IGZ1bmN0aW9uIGFueUFueSh4LCB5KSB7XG4gICAgICAvLyBzdHJpY3QgZXF1YWxpdHkgZm9yIG51bGwgYW5kIHVuZGVmaW5lZD9cbiAgICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB5ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geSA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcXVhbFNjYWxhcih4LCB5KTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDcoeCwgeSwgZXF1YWxTY2FsYXIpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCBlcXVhbFNjYWxhcik7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih4LCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsTnVtYmVyID0gZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYW55LCBhbnknOiBmdW5jdGlvbiBhbnlBbnkoeCwgeSkge1xuICAgICAgLy8gc3RyaWN0IGVxdWFsaXR5IGZvciBudWxsIGFuZCB1bmRlZmluZWQ/XG4gICAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geSA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXF1YWxTY2FsYXIoeCwgeSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDcgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG52YXIgbmFtZSA9ICdzbWFsbGVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU21hbGxlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA3ID0gY3JlYXRlQWxnb3JpdGhtMDcoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHZhbHVlIHggaXMgc21hbGxlciB0aGFuIHkuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiB4IGlzIHNtYWxsZXIgdGhhbiB5IGFuZCB0aGUgcmVsYXRpdmVcbiAgICogZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHkgaXMgc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIGVwc2lsb24uIFRoZVxuICAgKiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB0byBjb21wYXJlIHZhbHVlcyBzbWFsbGVyIHRoYW4gYXBwcm94aW1hdGVseSAyLjIyZS0xNi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICogU3RyaW5ncyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgbnVtZXJpY2FsIHZhbHVlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguc21hbGxlcih4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5zbWFsbGVyKDIsIDMpICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguc21hbGxlcig1LCAyICogMikgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCgnNSBjbScpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzIgaW5jaCcpXG4gICAqICAgIG1hdGguc21hbGxlcihhLCBiKSAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZXF1YWwsIHVuZXF1YWwsIHNtYWxsZXJFcSwgc21hbGxlciwgc21hbGxlckVxLCBjb21wYXJlXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFuIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB4IGlzIHNtYWxsZXIgdGhhbiB5LCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYm9vbGVhbiwgYm9vbGVhbic6IGZ1bmN0aW9uIGJvb2xlYW5Cb29sZWFuKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IDwgeTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA8IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5sdCh5KSAmJiAhYmlnTmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguY29tcGFyZSh5KSA9PT0gLTE7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG9yZGVyaW5nIHJlbGF0aW9uIGlzIGRlZmluZWQgZm9yIGNvbXBsZXggbnVtYmVycycpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBhcmUgdW5pdHMgd2l0aCBkaWZmZXJlbnQgYmFzZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcyh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDcoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlU21hbGxlck51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdjb25maWcnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPCB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDcgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG52YXIgbmFtZSA9ICdsYXJnZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVMYXJnZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNyA9IGNyZWF0ZUFsZ29yaXRobTA3KHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB2YWx1ZSB4IGlzIGxhcmdlciB0aGFuIHkuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiB4IGlzIGxhcmdlciB0aGFuIHkgYW5kIHRoZSByZWxhdGl2ZVxuICAgKiBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeSBpcyBsYXJnZXIgdGhhbiB0aGUgY29uZmlndXJlZCBlcHNpbG9uLiBUaGVcbiAgICogZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMgc21hbGxlciB0aGFuIGFwcHJveGltYXRlbHkgMi4yMmUtMTYuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqIFN0cmluZ3MgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIG51bWVyaWNhbCB2YWx1ZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmxhcmdlcih4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5sYXJnZXIoMiwgMykgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmxhcmdlcig1LCAyICsgMikgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCgnNSBjbScpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzIgaW5jaCcpXG4gICAqICAgIG1hdGgubGFyZ2VyKGEsIGIpICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGVxdWFsLCB1bmVxdWFsLCBzbWFsbGVyLCBzbWFsbGVyRXEsIGxhcmdlckVxLCBjb21wYXJlXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFuIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB4IGlzIGxhcmdlciB0aGFuIHksIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdib29sZWFuLCBib29sZWFuJzogZnVuY3Rpb24gYm9vbGVhbkJvb2xlYW4oeCwgeSkge1xuICAgICAgcmV0dXJuIHggPiB5O1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID4geSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lmd0KHkpICYmICFiaWdOZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5jb21wYXJlKHkpID09PSAxO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG9yZGVyaW5nIHJlbGF0aW9uIGlzIGRlZmluZWQgZm9yIGNvbXBsZXggbnVtYmVycycpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBhcmUgdW5pdHMgd2l0aCBkaWZmZXJlbnQgYmFzZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcyh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDcoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlTGFyZ2VyTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2NvbmZpZyddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA+IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRmlib25hY2NpSGVhcCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydzbWFsbGVyJywgJ2xhcmdlciddO1xuZXhwb3J0IHZhciBjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBzbWFsbGVyLFxuICAgIGxhcmdlclxuICB9ID0gX3JlZjtcbiAgdmFyIG9uZU92ZXJMb2dQaGkgPSAxLjAgLyBNYXRoLmxvZygoMS4wICsgTWF0aC5zcXJ0KDUuMCkpIC8gMi4wKTtcbiAgLyoqXG4gICAqIEZpYm9uYWNjaSBIZWFwIGltcGxlbWVudGF0aW9uLCB1c2VkIGludGVyYWxseSBmb3IgTWF0cml4IG1hdGguXG4gICAqIEBjbGFzcyBGaWJvbmFjY2lIZWFwXG4gICAqIEBjb25zdHJ1Y3RvciBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEZpYm9uYWNjaUhlYXAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZpYm9uYWNjaUhlYXApKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gaW5pdGlhbGl6ZSBmaWVsZHNcblxuXG4gICAgdGhpcy5fbWluaW11bSA9IG51bGw7XG4gICAgdGhpcy5fc2l6ZSA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUudHlwZSA9ICdGaWJvbmFjY2lIZWFwJztcbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuaXNGaWJvbmFjY2lIZWFwID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEluc2VydHMgYSBuZXcgZGF0YSBlbGVtZW50IGludG8gdGhlIGhlYXAuIE5vIGhlYXAgY29uc29saWRhdGlvbiBpc1xuICAgKiBwZXJmb3JtZWQgYXQgdGhpcyB0aW1lLCB0aGUgbmV3IG5vZGUgaXMgc2ltcGx5IGluc2VydGVkIGludG8gdGhlIHJvb3RcbiAgICogbGlzdCBvZiB0aGlzIGhlYXAuIFJ1bm5pbmcgdGltZTogTygxKSBhY3R1YWwuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgLy8gY3JlYXRlIG5vZGVcbiAgICB2YXIgbm9kZSA9IHtcbiAgICAgIGtleToga2V5LFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZGVncmVlOiAwXG4gICAgfTsgLy8gY2hlY2sgd2UgaGF2ZSBhIG5vZGUgaW4gdGhlIG1pbmltdW1cblxuICAgIGlmICh0aGlzLl9taW5pbXVtKSB7XG4gICAgICAvLyBtaW5pbXVtIG5vZGVcbiAgICAgIHZhciBtaW5pbXVtID0gdGhpcy5fbWluaW11bTsgLy8gdXBkYXRlIGxlZnQgJiByaWdodCBvZiBub2RlXG5cbiAgICAgIG5vZGUubGVmdCA9IG1pbmltdW07XG4gICAgICBub2RlLnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICAgIG1pbmltdW0ucmlnaHQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZTsgLy8gdXBkYXRlIG1pbmltdW0gbm9kZSBpbiBoZWFwIGlmIG5lZWRlZFxuXG4gICAgICBpZiAoc21hbGxlcihrZXksIG1pbmltdW0ua2V5KSkge1xuICAgICAgICAvLyBub2RlIGhhcyBhIHNtYWxsZXIga2V5LCB1c2UgaXQgYXMgbWluaW11bVxuICAgICAgICB0aGlzLl9taW5pbXVtID0gbm9kZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0IGxlZnQgJiByaWdodFxuICAgICAgbm9kZS5sZWZ0ID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQgPSBub2RlOyAvLyB0aGlzIGlzIHRoZSBmaXJzdCBub2RlXG5cbiAgICAgIHRoaXMuX21pbmltdW0gPSBub2RlO1xuICAgIH0gLy8gaW5jcmVtZW50IG51bWJlciBvZiBub2RlcyBpbiBoZWFwXG5cblxuICAgIHRoaXMuX3NpemUrKzsgLy8gcmV0dXJuIG5vZGVcblxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG5vZGVzIGluIGhlYXAuIFJ1bm5pbmcgdGltZTogTygxKSBhY3R1YWwuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhpcyBoZWFwLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX21pbmltdW0gPSBudWxsO1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBoZWFwIGlzIGVtcHR5LCBvdGhlcndpc2UgZmFsc2UuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZSA9PT0gMDtcbiAgfTtcbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBub2RlIHdpdGggbWluaW11bSBrZXkgZnJvbSBoZWFwLiBBbW9ydGl6ZWQgcnVubmluZ1xuICAgKiB0aW1lOiBPKGxvZyBuKS5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5leHRyYWN0TWluaW11bSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBub2RlIHRvIHJlbW92ZVxuICAgIHZhciBub2RlID0gdGhpcy5fbWluaW11bTsgLy8gY2hlY2sgd2UgaGF2ZSBhIG1pbmltdW1cblxuICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IC8vIGN1cnJlbnQgbWluaW11bVxuXG5cbiAgICB2YXIgbWluaW11bSA9IHRoaXMuX21pbmltdW07IC8vIGdldCBudW1iZXIgb2YgY2hpbGRyZW5cblxuICAgIHZhciBudW1iZXJPZkNoaWxkcmVuID0gbm9kZS5kZWdyZWU7IC8vIHBvaW50ZXIgdG8gdGhlIGZpcnN0IGNoaWxkXG5cbiAgICB2YXIgeCA9IG5vZGUuY2hpbGQ7IC8vIGZvciBlYWNoIGNoaWxkIG9mIG5vZGUgZG8uLi5cblxuICAgIHdoaWxlIChudW1iZXJPZkNoaWxkcmVuID4gMCkge1xuICAgICAgLy8gc3RvcmUgbm9kZSBpbiByaWdodCBzaWRlXG4gICAgICB2YXIgdGVtcFJpZ2h0ID0geC5yaWdodDsgLy8gcmVtb3ZlIHggZnJvbSBjaGlsZCBsaXN0XG5cbiAgICAgIHgubGVmdC5yaWdodCA9IHgucmlnaHQ7XG4gICAgICB4LnJpZ2h0LmxlZnQgPSB4LmxlZnQ7IC8vIGFkZCB4IHRvIHJvb3QgbGlzdCBvZiBoZWFwXG5cbiAgICAgIHgubGVmdCA9IG1pbmltdW07XG4gICAgICB4LnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICAgIG1pbmltdW0ucmlnaHQgPSB4O1xuICAgICAgeC5yaWdodC5sZWZ0ID0geDsgLy8gc2V0IFBhcmVudFt4XSB0byBudWxsXG5cbiAgICAgIHgucGFyZW50ID0gbnVsbDtcbiAgICAgIHggPSB0ZW1wUmlnaHQ7XG4gICAgICBudW1iZXJPZkNoaWxkcmVuLS07XG4gICAgfSAvLyByZW1vdmUgbm9kZSBmcm9tIHJvb3QgbGlzdCBvZiBoZWFwXG5cblxuICAgIG5vZGUubGVmdC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZS5sZWZ0OyAvLyB1cGRhdGUgbWluaW11bVxuXG4gICAgaWYgKG5vZGUgPT09IG5vZGUucmlnaHQpIHtcbiAgICAgIC8vIGVtcHR5XG4gICAgICBtaW5pbXVtID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIG1pbmltdW1cbiAgICAgIG1pbmltdW0gPSBub2RlLnJpZ2h0OyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcG9pbnRlciB0byB0aGUgcm9vdCB3aXRoIG1pbmltdW0ga2V5XG5cbiAgICAgIG1pbmltdW0gPSBfZmluZE1pbmltdW1Ob2RlKG1pbmltdW0sIHRoaXMuX3NpemUpO1xuICAgIH0gLy8gZGVjcmVtZW50IHNpemUgb2YgaGVhcFxuXG5cbiAgICB0aGlzLl9zaXplLS07IC8vIHVwZGF0ZSBtaW5pbXVtXG5cbiAgICB0aGlzLl9taW5pbXVtID0gbWluaW11bTsgLy8gcmV0dXJuIG5vZGVcblxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICAvKipcbiAgICogUmVtb3ZlcyBhIG5vZGUgZnJvbSB0aGUgaGVhcCBnaXZlbiB0aGUgcmVmZXJlbmNlIHRvIHRoZSBub2RlLiBUaGUgdHJlZXNcbiAgICogaW4gdGhlIGhlYXAgd2lsbCBiZSBjb25zb2xpZGF0ZWQsIGlmIG5lY2Vzc2FyeS4gVGhpcyBvcGVyYXRpb24gbWF5IGZhaWxcbiAgICogdG8gcmVtb3ZlIHRoZSBjb3JyZWN0IGVsZW1lbnQgaWYgdGhlcmUgYXJlIG5vZGVzIHdpdGgga2V5IHZhbHVlIC1JbmZpbml0eS5cbiAgICogUnVubmluZyB0aW1lOiBPKGxvZyBuKSBhbW9ydGl6ZWQuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAvLyBkZWNyZWFzZSBrZXkgdmFsdWVcbiAgICB0aGlzLl9taW5pbXVtID0gX2RlY3JlYXNlS2V5KHRoaXMuX21pbmltdW0sIG5vZGUsIC0xKTsgLy8gcmVtb3ZlIHRoZSBzbWFsbGVzdFxuXG4gICAgdGhpcy5leHRyYWN0TWluaW11bSgpO1xuICB9O1xuICAvKipcbiAgICogRGVjcmVhc2VzIHRoZSBrZXkgdmFsdWUgZm9yIGEgaGVhcCBub2RlLCBnaXZlbiB0aGUgbmV3IHZhbHVlIHRvIHRha2Ugb24uXG4gICAqIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGhlYXAgbWF5IGJlIGNoYW5nZWQgYW5kIHdpbGwgbm90IGJlIGNvbnNvbGlkYXRlZC5cbiAgICogUnVubmluZyB0aW1lOiBPKDEpIGFtb3J0aXplZC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZGVjcmVhc2VLZXkobWluaW11bSwgbm9kZSwga2V5KSB7XG4gICAgLy8gc2V0IG5vZGUga2V5XG4gICAgbm9kZS5rZXkgPSBrZXk7IC8vIGdldCBwYXJlbnQgbm9kZVxuXG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50O1xuXG4gICAgaWYgKHBhcmVudCAmJiBzbWFsbGVyKG5vZGUua2V5LCBwYXJlbnQua2V5KSkge1xuICAgICAgLy8gcmVtb3ZlIG5vZGUgZnJvbSBwYXJlbnRcbiAgICAgIF9jdXQobWluaW11bSwgbm9kZSwgcGFyZW50KTsgLy8gcmVtb3ZlIGFsbCBub2RlcyBmcm9tIHBhcmVudCB0byB0aGUgcm9vdCBwYXJlbnRcblxuXG4gICAgICBfY2FzY2FkaW5nQ3V0KG1pbmltdW0sIHBhcmVudCk7XG4gICAgfSAvLyB1cGRhdGUgbWluaW11bSBub2RlIGlmIG5lZWRlZFxuXG5cbiAgICBpZiAoc21hbGxlcihub2RlLmtleSwgbWluaW11bS5rZXkpKSB7XG4gICAgICBtaW5pbXVtID0gbm9kZTtcbiAgICB9IC8vIHJldHVybiBtaW5pbXVtXG5cblxuICAgIHJldHVybiBtaW5pbXVtO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcmV2ZXJzZSBvZiB0aGUgbGluayBvcGVyYXRpb246IHJlbW92ZXMgbm9kZSBmcm9tIHRoZSBjaGlsZCBsaXN0IG9mIHBhcmVudC5cbiAgICogVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IG1pbiBpcyBub24tbnVsbC4gUnVubmluZyB0aW1lOiBPKDEpLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9jdXQobWluaW11bSwgbm9kZSwgcGFyZW50KSB7XG4gICAgLy8gcmVtb3ZlIG5vZGUgZnJvbSBwYXJlbnQgY2hpbGRyZW4gYW5kIGRlY3JlbWVudCBEZWdyZWVbcGFyZW50XVxuICAgIG5vZGUubGVmdC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZS5sZWZ0O1xuICAgIHBhcmVudC5kZWdyZWUtLTsgLy8gcmVzZXQgeS5jaGlsZCBpZiBuZWNlc3NhcnlcblxuICAgIGlmIChwYXJlbnQuY2hpbGQgPT09IG5vZGUpIHtcbiAgICAgIHBhcmVudC5jaGlsZCA9IG5vZGUucmlnaHQ7XG4gICAgfSAvLyByZW1vdmUgY2hpbGQgaWYgZGVncmVlIGlzIDBcblxuXG4gICAgaWYgKHBhcmVudC5kZWdyZWUgPT09IDApIHtcbiAgICAgIHBhcmVudC5jaGlsZCA9IG51bGw7XG4gICAgfSAvLyBhZGQgbm9kZSB0byByb290IGxpc3Qgb2YgaGVhcFxuXG5cbiAgICBub2RlLmxlZnQgPSBtaW5pbXVtO1xuICAgIG5vZGUucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgIG1pbmltdW0ucmlnaHQgPSBub2RlO1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGU7IC8vIHNldCBwYXJlbnRbbm9kZV0gdG8gbnVsbFxuXG4gICAgbm9kZS5wYXJlbnQgPSBudWxsOyAvLyBzZXQgbWFya1tub2RlXSB0byBmYWxzZVxuXG4gICAgbm9kZS5tYXJrID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgY2FzY2FkaW5nIGN1dCBvcGVyYXRpb24uIFRoaXMgY3V0cyBub2RlIGZyb20gaXRzIHBhcmVudCBhbmQgdGhlblxuICAgKiBkb2VzIHRoZSBzYW1lIGZvciBpdHMgcGFyZW50LCBhbmQgc28gb24gdXAgdGhlIHRyZWUuXG4gICAqIFJ1bm5pbmcgdGltZTogTyhsb2cgbik7IE8oMSkgZXhjbHVkaW5nIHRoZSByZWN1cnNpb24uXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2Nhc2NhZGluZ0N1dChtaW5pbXVtLCBub2RlKSB7XG4gICAgLy8gc3RvcmUgcGFyZW50IG5vZGVcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7IC8vIGlmIHRoZXJlJ3MgYSBwYXJlbnQuLi5cblxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBpZiBub2RlIGlzIHVubWFya2VkLCBzZXQgaXQgbWFya2VkXG5cblxuICAgIGlmICghbm9kZS5tYXJrKSB7XG4gICAgICBub2RlLm1hcmsgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpdCdzIG1hcmtlZCwgY3V0IGl0IGZyb20gcGFyZW50XG4gICAgICBfY3V0KG1pbmltdW0sIG5vZGUsIHBhcmVudCk7IC8vIGN1dCBpdHMgcGFyZW50IGFzIHdlbGxcblxuXG4gICAgICBfY2FzY2FkaW5nQ3V0KHBhcmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBNYWtlIHRoZSBmaXJzdCBub2RlIGEgY2hpbGQgb2YgdGhlIHNlY29uZCBvbmUuIFJ1bm5pbmcgdGltZTogTygxKSBhY3R1YWwuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgdmFyIF9saW5rTm9kZXMgPSBmdW5jdGlvbiBfbGlua05vZGVzKG5vZGUsIHBhcmVudCkge1xuICAgIC8vIHJlbW92ZSBub2RlIGZyb20gcm9vdCBsaXN0IG9mIGhlYXBcbiAgICBub2RlLmxlZnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGUubGVmdDsgLy8gbWFrZSBub2RlIGEgQ2hpbGQgb2YgcGFyZW50XG5cbiAgICBub2RlLnBhcmVudCA9IHBhcmVudDtcblxuICAgIGlmICghcGFyZW50LmNoaWxkKSB7XG4gICAgICBwYXJlbnQuY2hpbGQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodCA9IG5vZGU7XG4gICAgICBub2RlLmxlZnQgPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLmxlZnQgPSBwYXJlbnQuY2hpbGQ7XG4gICAgICBub2RlLnJpZ2h0ID0gcGFyZW50LmNoaWxkLnJpZ2h0O1xuICAgICAgcGFyZW50LmNoaWxkLnJpZ2h0ID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGU7XG4gICAgfSAvLyBpbmNyZWFzZSBkZWdyZWVbcGFyZW50XVxuXG5cbiAgICBwYXJlbnQuZGVncmVlKys7IC8vIHNldCBtYXJrW25vZGVdIGZhbHNlXG5cbiAgICBub2RlLm1hcmsgPSBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBfZmluZE1pbmltdW1Ob2RlKG1pbmltdW0sIHNpemUpIHtcbiAgICAvLyB0byBmaW5kIHRyZWVzIG9mIHRoZSBzYW1lIGRlZ3JlZSBlZmZpY2llbnRseSB3ZSB1c2UgYW4gYXJyYXkgb2YgbGVuZ3RoIE8obG9nIG4pIGluIHdoaWNoIHdlIGtlZXAgYSBwb2ludGVyIHRvIG9uZSByb290IG9mIGVhY2ggZGVncmVlXG4gICAgdmFyIGFycmF5U2l6ZSA9IE1hdGguZmxvb3IoTWF0aC5sb2coc2l6ZSkgKiBvbmVPdmVyTG9nUGhpKSArIDE7IC8vIGNyZWF0ZSBsaXN0IHdpdGggaW5pdGlhbCBjYXBhY2l0eVxuXG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KGFycmF5U2l6ZSk7IC8vIGZpbmQgdGhlIG51bWJlciBvZiByb290IG5vZGVzLlxuXG4gICAgdmFyIG51bVJvb3RzID0gMDtcbiAgICB2YXIgeCA9IG1pbmltdW07XG5cbiAgICBpZiAoeCkge1xuICAgICAgbnVtUm9vdHMrKztcbiAgICAgIHggPSB4LnJpZ2h0O1xuXG4gICAgICB3aGlsZSAoeCAhPT0gbWluaW11bSkge1xuICAgICAgICBudW1Sb290cysrO1xuICAgICAgICB4ID0geC5yaWdodDtcbiAgICAgIH1cbiAgICB9IC8vIHZhcnNcblxuXG4gICAgdmFyIHk7IC8vIEZvciBlYWNoIG5vZGUgaW4gcm9vdCBsaXN0IGRvLi4uXG5cbiAgICB3aGlsZSAobnVtUm9vdHMgPiAwKSB7XG4gICAgICAvLyBhY2Nlc3MgdGhpcyBub2RlJ3MgZGVncmVlLi5cbiAgICAgIHZhciBkID0geC5kZWdyZWU7IC8vIGdldCBuZXh0IG5vZGVcblxuICAgICAgdmFyIG5leHQgPSB4LnJpZ2h0OyAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIG5vZGUgYWxyZWFkeSBpbiBhcnJheSB3aXRoIHRoZSBzYW1lIGRlZ3JlZVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAvLyBnZXQgbm9kZSB3aXRoIHRoZSBzYW1lIGRlZ3JlZSBpcyBhbnlcbiAgICAgICAgeSA9IGFycmF5W2RdO1xuXG4gICAgICAgIGlmICgheSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIG1ha2Ugb25lIG5vZGUgd2l0aCB0aGUgc2FtZSBkZWdyZWUgYSBjaGlsZCBvZiB0aGUgb3RoZXIsIGRvIHRoaXMgYmFzZWQgb24gdGhlIGtleSB2YWx1ZS5cblxuXG4gICAgICAgIGlmIChsYXJnZXIoeC5rZXksIHkua2V5KSkge1xuICAgICAgICAgIHZhciB0ZW1wID0geTtcbiAgICAgICAgICB5ID0geDtcbiAgICAgICAgICB4ID0gdGVtcDtcbiAgICAgICAgfSAvLyBtYWtlIHkgYSBjaGlsZCBvZiB4XG5cblxuICAgICAgICBfbGlua05vZGVzKHksIHgpOyAvLyB3ZSBoYXZlIGhhbmRsZWQgdGhpcyBkZWdyZWUsIGdvIHRvIG5leHQgb25lLlxuXG5cbiAgICAgICAgYXJyYXlbZF0gPSBudWxsO1xuICAgICAgICBkKys7XG4gICAgICB9IC8vIHNhdmUgdGhpcyBub2RlIGZvciBsYXRlciB3aGVuIHdlIG1pZ2h0IGVuY291bnRlciBhbm90aGVyIG9mIHRoZSBzYW1lIGRlZ3JlZS5cblxuXG4gICAgICBhcnJheVtkXSA9IHg7IC8vIG1vdmUgZm9yd2FyZCB0aHJvdWdoIGxpc3QuXG5cbiAgICAgIHggPSBuZXh0O1xuICAgICAgbnVtUm9vdHMtLTtcbiAgICB9IC8vIFNldCBtaW4gdG8gbnVsbCAoZWZmZWN0aXZlbHkgbG9zaW5nIHRoZSByb290IGxpc3QpIGFuZCByZWNvbnN0cnVjdCB0aGUgcm9vdCBsaXN0IGZyb20gdGhlIGFycmF5IGVudHJpZXMgaW4gYXJyYXlbXS5cblxuXG4gICAgbWluaW11bSA9IG51bGw7IC8vIGxvb3Agbm9kZXMgaW4gYXJyYXlcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlTaXplOyBpKyspIHtcbiAgICAgIC8vIGdldCBjdXJyZW50IG5vZGVcbiAgICAgIHkgPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCF5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjaGVjayBpZiB3ZSBoYXZlIGEgbGlua2VkIGxpc3RcblxuXG4gICAgICBpZiAobWluaW11bSkge1xuICAgICAgICAvLyBGaXJzdCByZW1vdmUgbm9kZSBmcm9tIHJvb3QgbGlzdC5cbiAgICAgICAgeS5sZWZ0LnJpZ2h0ID0geS5yaWdodDtcbiAgICAgICAgeS5yaWdodC5sZWZ0ID0geS5sZWZ0OyAvLyBub3cgYWRkIHRvIHJvb3QgbGlzdCwgYWdhaW4uXG5cbiAgICAgICAgeS5sZWZ0ID0gbWluaW11bTtcbiAgICAgICAgeS5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgICAgIG1pbmltdW0ucmlnaHQgPSB5O1xuICAgICAgICB5LnJpZ2h0LmxlZnQgPSB5OyAvLyBjaGVjayBpZiB0aGlzIGlzIGEgbmV3IG1pbi5cblxuICAgICAgICBpZiAoc21hbGxlcih5LmtleSwgbWluaW11bS5rZXkpKSB7XG4gICAgICAgICAgbWluaW11bSA9IHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbmltdW0gPSB5O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtaW5pbXVtO1xuICB9XG5cbiAgcmV0dXJuIEZpYm9uYWNjaUhlYXA7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1NwYSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydhZGRTY2FsYXInLCAnZXF1YWxTY2FsYXInLCAnRmlib25hY2NpSGVhcCddO1xuZXhwb3J0IHZhciBjcmVhdGVTcGFDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIGFkZFNjYWxhcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICBGaWJvbmFjY2lIZWFwXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBbiBvcmRlcmVkIFNwYXJzZSBBY2N1bXVsYXRvciBpcyBhIHJlcHJlc2VudGF0aW9uIGZvciBhIHNwYXJzZSB2ZWN0b3IgdGhhdCBpbmNsdWRlcyBhIGRlbnNlIGFycmF5XG4gICAqIG9mIHRoZSB2ZWN0b3IgZWxlbWVudHMgYW5kIGFuIG9yZGVyZWQgbGlzdCBvZiBub24temVybyBlbGVtZW50cy5cbiAgICovXG4gIGZ1bmN0aW9uIFNwYSgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BhKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIGFsbG9jYXRlIHZlY3RvciwgVE9ETyB1c2UgdHlwZWQgYXJyYXlzXG5cblxuICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX2hlYXAgPSBuZXcgRmlib25hY2NpSGVhcCgpO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFNwYS5wcm90b3R5cGUudHlwZSA9ICdTcGEnO1xuICBTcGEucHJvdG90eXBlLmlzU3BhID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgZm9yIGluZGV4IGkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgICAgICAgICAgICAgICAgICBUaGUgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4fSAgIFRoZSB2YWx1ZSBhdCBpbmRleCBpXG4gICAqL1xuXG4gIFNwYS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGksIHYpIHtcbiAgICAvLyBjaGVjayB3ZSBoYXZlIGEgdmFsdWUgQCBpXG4gICAgaWYgKCF0aGlzLl92YWx1ZXNbaV0pIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYXAuaW5zZXJ0KGksIHYpOyAvLyBzZXQgdGhlIHZhbHVlIEAgaVxuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWUgQCBpXG4gICAgICB0aGlzLl92YWx1ZXNbaV0udmFsdWUgPSB2O1xuICAgIH1cbiAgfTtcblxuICBTcGEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLl92YWx1ZXNbaV07XG5cbiAgICBpZiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5hY2N1bXVsYXRlID0gZnVuY3Rpb24gKGksIHYpIHtcbiAgICAvLyBub2RlIEAgaVxuICAgIHZhciBub2RlID0gdGhpcy5fdmFsdWVzW2ldO1xuXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgbm9kZSA9IHRoaXMuX2hlYXAuaW5zZXJ0KGksIHYpOyAvLyBpbml0aWFsaXplIHZhbHVlXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFjY3VtdWxhdGUgdmFsdWVcbiAgICAgIG5vZGUudmFsdWUgPSBhZGRTY2FsYXIobm9kZS52YWx1ZSwgdik7XG4gICAgfVxuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmcm9tLCB0bywgY2FsbGJhY2spIHtcbiAgICAvLyByZWZlcmVuY2VzXG4gICAgdmFyIGhlYXAgPSB0aGlzLl9oZWFwO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7IC8vIG5vZGVzXG5cbiAgICB2YXIgbm9kZXMgPSBbXTsgLy8gbm9kZSB3aXRoIG1pbmltdW0ga2V5LCBzYXZlIGl0XG5cbiAgICB2YXIgbm9kZSA9IGhlYXAuZXh0cmFjdE1pbmltdW0oKTtcblxuICAgIGlmIChub2RlKSB7XG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgIH0gLy8gZXh0cmFjdCBub2RlcyBmcm9tIGhlYXAgKG9yZGVyZWQpXG5cblxuICAgIHdoaWxlIChub2RlICYmIG5vZGUua2V5IDw9IHRvKSB7XG4gICAgICAvLyBjaGVjayBpdCBpcyBpbiByYW5nZVxuICAgICAgaWYgKG5vZGUua2V5ID49IGZyb20pIHtcbiAgICAgICAgLy8gY2hlY2sgdmFsdWUgaXMgbm90IHplcm9cbiAgICAgICAgaWYgKCFlcXVhbFNjYWxhcihub2RlLnZhbHVlLCAwKSkge1xuICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgICAgIGNhbGxiYWNrKG5vZGUua2V5LCBub2RlLnZhbHVlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBleHRyYWN0IG5leHQgbm9kZSwgc2F2ZSBpdFxuXG5cbiAgICAgIG5vZGUgPSBoZWFwLmV4dHJhY3RNaW5pbXVtKCk7XG5cbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfSAvLyByZWluc2VydCBhbGwgbm9kZXMgaW4gaGVhcFxuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBjdXJyZW50IG5vZGVcbiAgICAgIHZhciBuID0gbm9kZXNbaV07IC8vIGluc2VydCBub2RlIGluIGhlYXBcblxuICAgICAgbm9kZSA9IGhlYXAuaW5zZXJ0KG4ua2V5LCBuLnZhbHVlKTsgLy8gdXBkYXRlIHZhbHVlc1xuXG4gICAgICB2YWx1ZXNbbm9kZS5rZXldID0gbm9kZTtcbiAgICB9XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5zd2FwID0gZnVuY3Rpb24gKGksIGopIHtcbiAgICAvLyBub2RlIEAgaSBhbmQgalxuICAgIHZhciBub2RlaSA9IHRoaXMuX3ZhbHVlc1tpXTtcbiAgICB2YXIgbm9kZWogPSB0aGlzLl92YWx1ZXNbal07IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5zZXJ0IGluZGVjZXNcblxuICAgIGlmICghbm9kZWkgJiYgbm9kZWopIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICBub2RlaSA9IHRoaXMuX2hlYXAuaW5zZXJ0KGksIG5vZGVqLnZhbHVlKTsgLy8gcmVtb3ZlIGZyb20gaGVhcFxuXG4gICAgICB0aGlzLl9oZWFwLnJlbW92ZShub2Rlaik7IC8vIHNldCB2YWx1ZXNcblxuXG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSBub2RlaTtcbiAgICAgIHRoaXMuX3ZhbHVlc1tqXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKG5vZGVpICYmICFub2Rlaikge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIG5vZGVqID0gdGhpcy5faGVhcC5pbnNlcnQoaiwgbm9kZWkudmFsdWUpOyAvLyByZW1vdmUgZnJvbSBoZWFwXG5cbiAgICAgIHRoaXMuX2hlYXAucmVtb3ZlKG5vZGVpKTsgLy8gc2V0IHZhbHVlc1xuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tqXSA9IG5vZGVqO1xuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAobm9kZWkgJiYgbm9kZWopIHtcbiAgICAgIC8vIHN3YXAgdmFsdWVzXG4gICAgICB2YXIgdiA9IG5vZGVpLnZhbHVlO1xuICAgICAgbm9kZWkudmFsdWUgPSBub2Rlai52YWx1ZTtcbiAgICAgIG5vZGVqLnZhbHVlID0gdjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFNwYTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gJy4uL2Z1bmN0aW9uLmpzJztcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciBlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgZVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyRSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gbmV3IEJpZ051bWJlcigxKS5leHAoKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciBnb2xkZW4gcmF0aW8sIHBoaSA9ICgxK3NxcnQoNSkpLzJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyBwaGlcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlclBoaSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gbmV3IEJpZ051bWJlcigxKS5wbHVzKG5ldyBCaWdOdW1iZXIoNSkuc3FydCgpKS5kaXYoMik7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgcGkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgcGlcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlclBpID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBCaWdOdW1iZXIuYWNvcygtMSk7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgdGF1LCB0YXUgPSAyICogcGlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyB0YXVcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlclRhdSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gY3JlYXRlQmlnTnVtYmVyUGkoQmlnTnVtYmVyKS50aW1lcygyKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ3JlYXRlIGEgaGFzaCBmb3IgYSBCaWdOdW1iZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjcmVhdGVkIGhhcyBpc1xuICogdGhlIGNvbmZpZ3VyZWQgcHJlY2lzaW9uXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzICAgICAgICAgU3VwcG9zZWQgdG8gY29udGFpbiBhIHNpbmdsZSBlbnRyeSB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm4ge251bWJlcn0gcHJlY2lzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGhhc2hlcihhcmdzKSB7XG4gIHJldHVybiBhcmdzWzBdLnByZWNpc2lvbjtcbn0iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgaXNDb21wbGV4LCBpc1VuaXQsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG1lbW9pemUgfSBmcm9tICcuLi8uLi91dGlscy9mdW5jdGlvbi5qcyc7XG5pbXBvcnQgeyBlbmRzV2l0aCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgY3JlYXRlQmlnTnVtYmVyUGkgYXMgY3JlYXRlUGkgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvY29uc3RhbnRzLmpzJztcbnZhciBuYW1lID0gJ1VuaXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnP29uJywgJ2NvbmZpZycsICdhZGRTY2FsYXInLCAnc3VidHJhY3QnLCAnbXVsdGlwbHlTY2FsYXInLCAnZGl2aWRlU2NhbGFyJywgJ3BvdycsICdhYnMnLCAnZml4JywgJ3JvdW5kJywgJ2VxdWFsJywgJ2lzTnVtZXJpYycsICdmb3JtYXQnLCAnbnVtYmVyJywgJ0NvbXBsZXgnLCAnQmlnTnVtYmVyJywgJ0ZyYWN0aW9uJ107XG5leHBvcnQgdmFyIGNyZWF0ZVVuaXRDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG9uLFxuICAgIGNvbmZpZyxcbiAgICBhZGRTY2FsYXIsXG4gICAgc3VidHJhY3QsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIHBvdyxcbiAgICBhYnMsXG4gICAgZml4LFxuICAgIHJvdW5kLFxuICAgIGVxdWFsLFxuICAgIGlzTnVtZXJpYyxcbiAgICBmb3JtYXQsXG4gICAgbnVtYmVyLFxuICAgIENvbXBsZXgsXG4gICAgQmlnTnVtYmVyOiBfQmlnTnVtYmVyLFxuICAgIEZyYWN0aW9uOiBfRnJhY3Rpb25cbiAgfSA9IF9yZWY7XG4gIHZhciB0b051bWJlciA9IG51bWJlcjtcbiAgLyoqXG4gICAqIEEgdW5pdCBjYW4gYmUgY29uc3RydWN0ZWQgaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuICAgKlxuICAgKiAgICAgY29uc3QgYSA9IG5ldyBVbml0KHZhbHVlLCBuYW1lKVxuICAgKiAgICAgY29uc3QgYiA9IG5ldyBVbml0KG51bGwsIG5hbWUpXG4gICAqICAgICBjb25zdCBjID0gVW5pdC5wYXJzZShzdHIpXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICBjb25zdCBhID0gbmV3IFVuaXQoNSwgJ2NtJykgICAgICAgICAgICAgICAvLyA1MCBtbVxuICAgKiAgICAgY29uc3QgYiA9IFVuaXQucGFyc2UoJzIzIGtnJykgICAgICAgICAgICAgLy8gMjMga2dcbiAgICogICAgIGNvbnN0IGMgPSBtYXRoLmluKGEsIG5ldyBVbml0KG51bGwsICdtJykgIC8vIDAuMDUgbVxuICAgKiAgICAgY29uc3QgZCA9IG5ldyBVbml0KDkuODEsIFwibS9zXjJcIikgICAgICAgICAvLyA5LjgxIG0vc14yXG4gICAqXG4gICAqIEBjbGFzcyBVbml0XG4gICAqIEBjb25zdHJ1Y3RvciBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgYm9vbGVhbn0gW3ZhbHVlXSAgQSB2YWx1ZSBsaWtlIDUuMlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdICAgQSB1bml0IG5hbWUgbGlrZSBcImNtXCIgb3IgXCJpbmNoXCIsIG9yIGEgZGVyaXZlZCB1bml0IG9mIHRoZSBmb3JtOiBcInUxW15leDFdIFt1MlteZXgyXSAuLi5dIFsvIHUzW15leDNdIFt1NFteZXg0XV1dXCIsIHN1Y2ggYXMgXCJrZyBtXjIvc14yXCIsIHdoZXJlIGVhY2ggdW5pdCBhcHBlYXJpbmcgYWZ0ZXIgdGhlIGZvcndhcmQgc2xhc2ggaXMgdGFrZW4gdG8gYmUgaW4gdGhlIGRlbm9taW5hdG9yLiBcImtnIG1eMiBzXi0yXCIgaXMgYSBzeW5vbnltIGFuZCBpcyBhbHNvIGFjY2VwdGFibGUuIEFueSBvZiB0aGUgdW5pdHMgY2FuIGluY2x1ZGUgYSBwcmVmaXguXG4gICAqL1xuXG4gIGZ1bmN0aW9uIFVuaXQodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVW5pdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCEodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBpc051bWVyaWModmFsdWUpIHx8IGlzQ29tcGxleCh2YWx1ZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBwYXJhbWV0ZXIgaW4gVW5pdCBjb25zdHJ1Y3RvciBtdXN0IGJlIG51bWJlciwgQmlnTnVtYmVyLCBGcmFjdGlvbiwgQ29tcGxleCwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8IG5hbWUgPT09ICcnKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2Vjb25kIHBhcmFtZXRlciBpbiBVbml0IGNvbnN0cnVjdG9yIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgdSA9IFVuaXQucGFyc2UobmFtZSk7XG4gICAgICB0aGlzLnVuaXRzID0gdS51bml0cztcbiAgICAgIHRoaXMuZGltZW5zaW9ucyA9IHUuZGltZW5zaW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bml0cyA9IFt7XG4gICAgICAgIHVuaXQ6IFVOSVRfTk9ORSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FLFxuICAgICAgICAvLyBsaW5rIHRvIGEgbGlzdCB3aXRoIHN1cHBvcnRlZCBwcmVmaXhlc1xuICAgICAgICBwb3dlcjogMFxuICAgICAgfV07XG4gICAgICB0aGlzLmRpbWVuc2lvbnMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zW2ldID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSh2YWx1ZSkgOiBudWxsO1xuICAgIHRoaXMuZml4UHJlZml4ID0gZmFsc2U7IC8vIGlmIHRydWUsIGZ1bmN0aW9uIGZvcm1hdCB3aWxsIG5vdCBzZWFyY2ggZm9yIHRoZVxuICAgIC8vIGJlc3QgcHJlZml4IGJ1dCBsZWF2ZSBpdCBhcyBpbml0aWFsbHkgcHJvdmlkZWQuXG4gICAgLy8gZml4UHJlZml4IGlzIHNldCB0cnVlIGJ5IHRoZSBtZXRob2QgVW5pdC50b1xuICAgIC8vIFRoZSBqdXN0aWZpY2F0aW9uIGJlaGluZCB0aGlzIGlzIHRoYXQgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIGV4cGxpY2l0bHkgY2FsbGVkLFxuICAgIC8vIHRoZSBjYWxsZXIgd2lzaGVzIHRoZSB1bml0cyB0byBiZSByZXR1cm5lZCBleGFjdGx5IGFzIGhlIHN1cHBsaWVkLlxuXG4gICAgdGhpcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnR5cGUgPSAnVW5pdCc7XG4gIFVuaXQucHJvdG90eXBlLmlzVW5pdCA9IHRydWU7IC8vIHByaXZhdGUgdmFyaWFibGVzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZSBVbml0IHBhcnNlclxuXG4gIHZhciB0ZXh0LCBpbmRleCwgYztcblxuICBmdW5jdGlvbiBza2lwV2hpdGVzcGFjZSgpIHtcbiAgICB3aGlsZSAoYyA9PT0gJyAnIHx8IGMgPT09ICdcXHQnKSB7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNEaWdpdERvdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknIHx8IGMgPT09ICcuJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRGlnaXQoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JztcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaW5kZXgrKztcbiAgICBjID0gdGV4dC5jaGFyQXQoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0KG9sZEluZGV4KSB7XG4gICAgaW5kZXggPSBvbGRJbmRleDtcbiAgICBjID0gdGV4dC5jaGFyQXQoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VOdW1iZXIoKSB7XG4gICAgdmFyIG51bWJlciA9ICcnO1xuICAgIHZhciBvbGRJbmRleCA9IGluZGV4O1xuXG4gICAgaWYgKGMgPT09ICcrJykge1xuICAgICAgbmV4dCgpO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICBudW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRGlnaXREb3QoYykpIHtcbiAgICAgIC8vIGEgKyBvciAtIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBkaWdpdFxuICAgICAgcmV2ZXJ0KG9sZEluZGV4KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gLy8gZ2V0IG51bWJlciwgY2FuIGhhdmUgYSBzaW5nbGUgZG90XG5cblxuICAgIGlmIChjID09PSAnLicpIHtcbiAgICAgIG51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuXG4gICAgICBpZiAoIWlzRGlnaXQoYykpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBubyBsZWdhbCBudW1iZXIsIGl0IGlzIGp1c3QgYSBkb3RcbiAgICAgICAgcmV2ZXJ0KG9sZEluZGV4KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlIChpc0RpZ2l0KGMpKSB7XG4gICAgICAgIG51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjID09PSAnLicpIHtcbiAgICAgICAgbnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAoaXNEaWdpdChjKSkge1xuICAgICAgbnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG4gICAgfSAvLyBjaGVjayBmb3IgZXhwb25lbnRpYWwgbm90YXRpb24gbGlrZSBcIjIuM2UtNFwiIG9yIFwiMS4yM2U1MFwiXG5cblxuICAgIGlmIChjID09PSAnRScgfHwgYyA9PT0gJ2UnKSB7XG4gICAgICAvLyBUaGUgZ3JhbW1hciBicmFuY2hlcyBoZXJlLiBUaGlzIGNvdWxkIGVpdGhlciBiZSBwYXJ0IG9mIGFuIGV4cG9uZW50IG9yIHRoZSBzdGFydCBvZiBhIHVuaXQgdGhhdCBiZWdpbnMgd2l0aCB0aGUgbGV0dGVyIGUsIHN1Y2ggYXMgXCI0ZXhhYnl0ZXNcIlxuICAgICAgdmFyIHRlbnRhdGl2ZU51bWJlciA9ICcnO1xuICAgICAgdmFyIHRlbnRhdGl2ZUluZGV4ID0gaW5kZXg7XG4gICAgICB0ZW50YXRpdmVOdW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcblxuICAgICAgaWYgKGMgPT09ICcrJyB8fCBjID09PSAnLScpIHtcbiAgICAgICAgdGVudGF0aXZlTnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0gLy8gU2NpZW50aWZpYyBub3RhdGlvbiBNVVNUIGJlIGZvbGxvd2VkIGJ5IGFuIGV4cG9uZW50IChvdGhlcndpc2Ugd2UgYXNzdW1lIGl0IGlzIG5vdCBzY2llbnRpZmljIG5vdGF0aW9uKVxuXG5cbiAgICAgIGlmICghaXNEaWdpdChjKSkge1xuICAgICAgICAvLyBUaGUgZSBvciBFIG11c3QgYmVsb25nIHRvIHNvbWV0aGluZyBlbHNlLCBzbyByZXR1cm4gdGhlIG51bWJlciB3aXRob3V0IHRoZSBlIG9yIEUuXG4gICAgICAgIHJldmVydCh0ZW50YXRpdmVJbmRleCk7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9IC8vIFdlIGNhbiBub3cgc2FmZWx5IHNheSB0aGF0IHRoaXMgaXMgc2NpZW50aWZpYyBub3RhdGlvbi5cblxuXG4gICAgICBudW1iZXIgPSBudW1iZXIgKyB0ZW50YXRpdmVOdW1iZXI7XG5cbiAgICAgIHdoaWxlIChpc0RpZ2l0KGMpKSB7XG4gICAgICAgIG51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlVW5pdCgpIHtcbiAgICB2YXIgdW5pdE5hbWUgPSAnJzsgLy8gQWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb25seTsgbWF0Y2hlcyBbYS16QS1aMC05XVxuXG4gICAgd2hpbGUgKGlzRGlnaXQoYykgfHwgVW5pdC5pc1ZhbGlkQWxwaGEoYykpIHtcbiAgICAgIHVuaXROYW1lICs9IGM7XG4gICAgICBuZXh0KCk7XG4gICAgfSAvLyBNdXN0IGJlZ2luIHdpdGggW2EtekEtWl1cblxuXG4gICAgdmFyIGZpcnN0QyA9IHVuaXROYW1lLmNoYXJBdCgwKTtcblxuICAgIGlmIChVbml0LmlzVmFsaWRBbHBoYShmaXJzdEMpKSB7XG4gICAgICByZXR1cm4gdW5pdE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlQ2hhcmFjdGVyKHRvRmluZCkge1xuICAgIGlmIChjID09PSB0b0ZpbmQpIHtcbiAgICAgIG5leHQoKTtcbiAgICAgIHJldHVybiB0b0ZpbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgaW50byBhIHVuaXQuIFRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBpcyBwYXJzZWQgYXMgbnVtYmVyLFxuICAgKiBCaWdOdW1iZXIsIG9yIEZyYWN0aW9uIGRlcGVuZGluZyBvbiB0aGUgbWF0aC5qcyBjb25maWcgc2V0dGluZyBgbnVtYmVyYC5cbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgcHJvdmlkZWQgc3RyaW5nIGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCB1bml0IG9yXG4gICAqIGNhbm5vdCBiZSBwYXJzZWQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgIEEgc3RyaW5nIGxpa2UgXCI1LjIgaW5jaFwiLCBcIjRlMiBjbS9zXjJcIlxuICAgKiBAcmV0dXJuIHtVbml0fSB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wYXJzZSA9IGZ1bmN0aW9uIChzdHIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0ZXh0ID0gc3RyO1xuICAgIGluZGV4ID0gLTE7XG4gICAgYyA9ICcnO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhcmd1bWVudCBpbiBVbml0LnBhcnNlLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgdW5pdCA9IG5ldyBVbml0KCk7XG4gICAgdW5pdC51bml0cyA9IFtdO1xuICAgIHZhciBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICB2YXIgZXhwZWN0aW5nVW5pdCA9IGZhbHNlOyAvLyBBIHVuaXQgc2hvdWxkIGZvbGxvdyB0aGlzIHBhdHRlcm46XG4gICAgLy8gW251bWJlcl0gLi4uWyBbKi9dIHVuaXRbXm51bWJlcl0gXVxuICAgIC8vIHVuaXRbXm51bWJlcl0gLi4uIFsgWyovXSB1bml0W15udW1iZXJdIF1cbiAgICAvLyBSdWxlczpcbiAgICAvLyBudW1iZXIgaXMgYW55IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAvLyB1bml0IGlzIGFueSBhbHBoYW51bWVyaWMgc3RyaW5nIGJlZ2lubmluZyB3aXRoIGFuIGFscGhhLiBVbml0cyB3aXRoIG5hbWVzIGxpa2UgZTMgc2hvdWxkIGJlIGF2b2lkZWQgYmVjYXVzZSB0aGV5IGxvb2sgbGlrZSB0aGUgZXhwb25lbnQgb2YgYSBmbG9hdGluZyBwb2ludCBudW1iZXIhXG4gICAgLy8gVGhlIHN0cmluZyBtYXkgb3B0aW9uYWxseSBiZWdpbiB3aXRoIGEgbnVtYmVyLlxuICAgIC8vIEVhY2ggdW5pdCBtYXkgb3B0aW9uYWxseSBiZSBmb2xsb3dlZCBieSBebnVtYmVyLlxuICAgIC8vIFdoaXRlc3BhY2Ugb3IgYSBmb3J3YXJkIHNsYXNoIGlzIHJlY29tbWVuZGVkIGJldHdlZW4gY29uc2VjdXRpdmUgdW5pdHMsIGFsdGhvdWdoIHRoZSBmb2xsb3dpbmcgdGVjaG5pY2FsbHkgaXMgcGFyc2VhYmxlOlxuICAgIC8vICAgMm1eMmtnL3NeMlxuICAgIC8vIGl0IGlzIG5vdCBnb29kIGZvcm0uIElmIGEgdW5pdCBzdGFydHMgd2l0aCBlLCB0aGVuIGl0IGNvdWxkIGJlIGNvbmZ1c2VkIGFzIGEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyOlxuICAgIC8vICAgNGVyZ1xuXG4gICAgbmV4dCgpO1xuICAgIHNraXBXaGl0ZXNwYWNlKCk7IC8vIE9wdGlvbmFsIG51bWJlciBhdCB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuXG4gICAgdmFyIHZhbHVlU3RyID0gcGFyc2VOdW1iZXIoKTtcbiAgICB2YXIgdmFsdWUgPSBudWxsO1xuXG4gICAgaWYgKHZhbHVlU3RyKSB7XG4gICAgICBpZiAoY29uZmlnLm51bWJlciA9PT0gJ0JpZ051bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgX0JpZ051bWJlcih2YWx1ZVN0cik7XG4gICAgICB9IGVsc2UgaWYgKGNvbmZpZy5udW1iZXIgPT09ICdGcmFjdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBub3QgYWxsIG51bWJlcnMgY2FuIGJlIHR1cm5lZCBpbiBGcmFjdGlvbnMsIGZvciBleGFtcGxlIHZlcnkgc21hbGwgbnVtYmVycyBub3RcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBfRnJhY3Rpb24odmFsdWVTdHIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBudW1iZXJcbiAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlU3RyKTtcbiAgICAgIH1cblxuICAgICAgc2tpcFdoaXRlc3BhY2UoKTsgLy8gV2hpdGVzcGFjZSBpcyBub3QgcmVxdWlyZWQgaGVyZVxuICAgICAgLy8gaGFuZGxlIG11bHRpcGxpY2F0aW9uIG9yIGRpdmlzaW9uIHJpZ2h0IGFmdGVyIHRoZSB2YWx1ZSwgbGlrZSAnMS9zJ1xuXG4gICAgICBpZiAocGFyc2VDaGFyYWN0ZXIoJyonKSkge1xuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlQ2hhcmFjdGVyKCcvJykpIHtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IC0xO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IC8vIFN0YWNrIHRvIGtlZXAgdHJhY2sgb2YgcG93ZXJNdWx0aXBsaWVycyBhcHBsaWVkIHRvIGVhY2ggcGFyZW50aGVzZXMgZ3JvdXBcblxuXG4gICAgdmFyIHBvd2VyTXVsdGlwbGllclN0YWNrID0gW107IC8vIFJ1bm5pbmcgcHJvZHVjdCBvZiBhbGwgZWxlbWVudHMgaW4gcG93ZXJNdWx0aXBsaWVyU3RhY2tcblxuICAgIHZhciBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QgPSAxO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7IC8vIENoZWNrIGZvciBhbmQgY29uc3VtZSBvcGVuaW5nIHBhcmVudGhlc2VzLCBwdXNoaW5nIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgdG8gdGhlIHN0YWNrXG4gICAgICAvLyBBICcoJyB3aWxsIGFsd2F5cyBhcHBlYXIgZGlyZWN0bHkgYmVmb3JlIGEgdW5pdC5cblxuICAgICAgd2hpbGUgKGMgPT09ICcoJykge1xuICAgICAgICBwb3dlck11bHRpcGxpZXJTdGFjay5wdXNoKHBvd2VyTXVsdGlwbGllckN1cnJlbnQpO1xuICAgICAgICBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QgKj0gcG93ZXJNdWx0aXBsaWVyQ3VycmVudDtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIH0gLy8gSXMgdGhlcmUgc29tZXRoaW5nIGhlcmU/XG5cblxuICAgICAgdmFyIHVTdHIgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChjKSB7XG4gICAgICAgIHZhciBvbGRDID0gYztcbiAgICAgICAgdVN0ciA9IHBhcnNlVW5pdCgpO1xuXG4gICAgICAgIGlmICh1U3RyID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbmV4cGVjdGVkIFwiJyArIG9sZEMgKyAnXCIgaW4gXCInICsgdGV4dCArICdcIiBhdCBpbmRleCAnICsgaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVuZCBvZiBpbnB1dC5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9IC8vIFZlcmlmeSB0aGUgdW5pdCBleGlzdHMgYW5kIGdldCB0aGUgcHJlZml4IChpZiBhbnkpXG5cblxuICAgICAgdmFyIHJlcyA9IF9maW5kVW5pdCh1U3RyKTtcblxuICAgICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICAvLyBVbml0IG5vdCBmb3VuZC5cbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbml0IFwiJyArIHVTdHIgKyAnXCIgbm90IGZvdW5kLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG93ZXIgPSBwb3dlck11bHRpcGxpZXJDdXJyZW50ICogcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0OyAvLyBJcyB0aGVyZSBhIFwiXiBudW1iZXJcIj9cblxuICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgICAgaWYgKHBhcnNlQ2hhcmFjdGVyKCdeJykpIHtcbiAgICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgICAgdmFyIHAgPSBwYXJzZU51bWJlcigpO1xuXG4gICAgICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gdmFsaWQgbnVtYmVyIGZvdW5kIGZvciB0aGUgcG93ZXIhXG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdJbiBcIicgKyBzdHIgKyAnXCIsIFwiXlwiIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBmbG9hdGluZy1wb2ludCBudW1iZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvd2VyICo9IHA7XG4gICAgICB9IC8vIEFkZCB0aGUgdW5pdCB0byB0aGUgbGlzdFxuXG5cbiAgICAgIHVuaXQudW5pdHMucHVzaCh7XG4gICAgICAgIHVuaXQ6IHJlcy51bml0LFxuICAgICAgICBwcmVmaXg6IHJlcy5wcmVmaXgsXG4gICAgICAgIHBvd2VyOiBwb3dlclxuICAgICAgfSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHVuaXQuZGltZW5zaW9uc1tpXSArPSAocmVzLnVuaXQuZGltZW5zaW9uc1tpXSB8fCAwKSAqIHBvd2VyO1xuICAgICAgfSAvLyBDaGVjayBmb3IgYW5kIGNvbnN1bWUgY2xvc2luZyBwYXJlbnRoZXNlcywgcG9wcGluZyBmcm9tIHRoZSBzdGFjay5cbiAgICAgIC8vIEEgJyknIHdpbGwgYWx3YXlzIGZvbGxvdyBhIHVuaXQuXG5cblxuICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgICAgd2hpbGUgKGMgPT09ICcpJykge1xuICAgICAgICBpZiAocG93ZXJNdWx0aXBsaWVyU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbm1hdGNoZWQgXCIpXCIgaW4gXCInICsgdGV4dCArICdcIiBhdCBpbmRleCAnICsgaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QgLz0gcG93ZXJNdWx0aXBsaWVyU3RhY2sucG9wKCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIH0gLy8gXCIqXCIgYW5kIFwiL1wiIHNob3VsZCBtZWFuIHdlIGFyZSBleHBlY3Rpbmcgc29tZXRoaW5nIHRvIGNvbWUgbmV4dC5cbiAgICAgIC8vIElzIHRoZXJlIGEgZm9yd2FyZCBzbGFzaD8gSWYgc28sIG5lZ2F0ZSBwb3dlck11bHRpcGxpZXJDdXJyZW50LiBUaGUgbmV4dCB1bml0IG9yIHBhcmVuIGdyb3VwIGlzIGluIHRoZSBkZW5vbWluYXRvci5cblxuXG4gICAgICBleHBlY3RpbmdVbml0ID0gZmFsc2U7XG5cbiAgICAgIGlmIChwYXJzZUNoYXJhY3RlcignKicpKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VDaGFyYWN0ZXIoJy8nKSkge1xuICAgICAgICAvLyBkaXZpc2lvblxuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gLTE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICB9IC8vIFJlcGxhY2UgdGhlIHVuaXQgaW50byB0aGUgYXV0byB1bml0IHN5c3RlbVxuXG5cbiAgICAgIGlmIChyZXMudW5pdC5iYXNlKSB7XG4gICAgICAgIHZhciBiYXNlRGltID0gcmVzLnVuaXQuYmFzZS5rZXk7XG4gICAgICAgIFVOSVRfU1lTVEVNUy5hdXRvW2Jhc2VEaW1dID0ge1xuICAgICAgICAgIHVuaXQ6IHJlcy51bml0LFxuICAgICAgICAgIHByZWZpeDogcmVzLnByZWZpeFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gLy8gSGFzIHRoZSBzdHJpbmcgYmVlbiBlbnRpcmVseSBjb25zdW1lZD9cblxuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgIGlmIChjKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvdWxkIG5vdCBwYXJzZTogXCInICsgc3RyICsgJ1wiJyk7XG4gICAgfSAvLyBJcyB0aGVyZSBhIHRyYWlsaW5nIHNsYXNoP1xuXG5cbiAgICBpZiAoZXhwZWN0aW5nVW5pdCkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdUcmFpbGluZyBjaGFyYWN0ZXJzOiBcIicgKyBzdHIgKyAnXCInKTtcbiAgICB9IC8vIElzIHRoZSBwYXJlbnRoZXNlcyBzdGFjayBlbXB0eT9cblxuXG4gICAgaWYgKHBvd2VyTXVsdGlwbGllclN0YWNrLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbm1hdGNoZWQgXCIoXCIgaW4gXCInICsgdGV4dCArICdcIicpO1xuICAgIH0gLy8gQXJlIHRoZXJlIGFueSB1bml0cyBhdCBhbGw/XG5cblxuICAgIGlmICh1bml0LnVuaXRzLmxlbmd0aCA9PT0gMCAmJiAhb3B0aW9ucy5hbGxvd05vVW5pdHMpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignXCInICsgc3RyICsgJ1wiIGNvbnRhaW5zIG5vIHVuaXRzJyk7XG4gICAgfVxuXG4gICAgdW5pdC52YWx1ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB1bml0Ll9ub3JtYWxpemUodmFsdWUpIDogbnVsbDtcbiAgICByZXR1cm4gdW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIGNyZWF0ZSBhIGNvcHkgb2YgdGhpcyB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge1VuaXR9IFJldHVybnMgYSBjbG9uZWQgdmVyc2lvbiBvZiB0aGUgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB1bml0ID0gbmV3IFVuaXQoKTtcbiAgICB1bml0LmZpeFByZWZpeCA9IHRoaXMuZml4UHJlZml4O1xuICAgIHVuaXQuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdGhpcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb247XG4gICAgdW5pdC52YWx1ZSA9IGNsb25lKHRoaXMudmFsdWUpO1xuICAgIHVuaXQuZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucy5zbGljZSgwKTtcbiAgICB1bml0LnVuaXRzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVuaXQudW5pdHNbaV0gPSB7fTtcblxuICAgICAgZm9yICh2YXIgcCBpbiB0aGlzLnVuaXRzW2ldKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnVuaXRzW2ldLCBwKSkge1xuICAgICAgICAgIHVuaXQudW5pdHNbaV1bcF0gPSB0aGlzLnVuaXRzW2ldW3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGUgdW5pdCBpcyBkZXJpdmVkIChzdWNoIGFzIG0vcywgb3IgY21eMiwgYnV0IG5vdCBOKVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB1bml0IGlzIGRlcml2ZWRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5faXNEZXJpdmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnVuaXRzLmxlbmd0aCA+IDEgfHwgTWF0aC5hYnModGhpcy51bml0c1swXS5wb3dlciAtIDEuMCkgPiAxZS0xNTtcbiAgfTtcbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBhIHZhbHVlLCBiYXNlZCBvbiBpdHMgY3VycmVudGx5IHNldCB1bml0KHMpXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFufSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW59IG5vcm1hbGl6ZWQgdmFsdWVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5fbm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIHVuaXRWYWx1ZSwgdW5pdE9mZnNldCwgdW5pdFBvd2VyLCB1bml0UHJlZml4VmFsdWU7XG4gICAgdmFyIGNvbnZlcnQ7XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNEZXJpdmVkKCkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBkZXJpdmVkIHVuaXQsIHNvIGRvIG5vdCBhcHBseSBvZmZzZXRzLlxuICAgICAgLy8gRm9yIGV4YW1wbGUsIHdpdGggSiBrZ14tMSBkZWdDXi0xIHlvdSB3b3VsZCBOT1Qgd2FudCB0byBhcHBseSB0aGUgb2Zmc2V0LlxuICAgICAgdmFyIHJlcyA9IHZhbHVlO1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0udW5pdC52YWx1ZSk7XG4gICAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wcmVmaXgudmFsdWUpO1xuICAgICAgICB1bml0UG93ZXIgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucG93ZXIpO1xuICAgICAgICByZXMgPSBtdWx0aXBseVNjYWxhcihyZXMsIHBvdyhtdWx0aXBseVNjYWxhcih1bml0VmFsdWUsIHVuaXRQcmVmaXhWYWx1ZSksIHVuaXRQb3dlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc2luZ2xlIHVuaXQgb2YgcG93ZXIgMSwgbGlrZSBrZyBvciBkZWdDXG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQudmFsdWUpO1xuICAgICAgdW5pdE9mZnNldCA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0Lm9mZnNldCk7XG4gICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0ucHJlZml4LnZhbHVlKTtcbiAgICAgIHJldHVybiBtdWx0aXBseVNjYWxhcihhZGRTY2FsYXIodmFsdWUsIHVuaXRPZmZzZXQpLCBtdWx0aXBseVNjYWxhcih1bml0VmFsdWUsIHVuaXRQcmVmaXhWYWx1ZSkpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlbm9ybWFsaXplIGEgdmFsdWUsIGJhc2VkIG9uIGl0cyBjdXJyZW50bHkgc2V0IHVuaXQocylcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlZml4VmFsdWVdICAgIE9wdGlvbmFsIHByZWZpeCB2YWx1ZSB0byBiZSB1c2VkIChpZ25vcmVkIGlmIHRoaXMgaXMgYSBkZXJpdmVkIHVuaXQpXG4gICAqIEByZXR1cm4ge251bWJlcn0gZGVub3JtYWxpemVkIHZhbHVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX2Rlbm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbHVlLCBwcmVmaXhWYWx1ZSkge1xuICAgIHZhciB1bml0VmFsdWUsIHVuaXRPZmZzZXQsIHVuaXRQb3dlciwgdW5pdFByZWZpeFZhbHVlO1xuICAgIHZhciBjb252ZXJ0O1xuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdGhpcy51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzRGVyaXZlZCgpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgZGVyaXZlZCB1bml0LCBzbyBkbyBub3QgYXBwbHkgb2Zmc2V0cy5cbiAgICAgIC8vIEZvciBleGFtcGxlLCB3aXRoIEoga2deLTEgZGVnQ14tMSB5b3Ugd291bGQgTk9UIHdhbnQgdG8gYXBwbHkgdGhlIG9mZnNldC5cbiAgICAgIC8vIEFsc28sIHByZWZpeFZhbHVlIGlzIGlnbm9yZWQtLWJ1dCB3ZSB3aWxsIHN0aWxsIHVzZSB0aGUgcHJlZml4IHZhbHVlIHN0b3JlZCBpbiBlYWNoIHVuaXQsIHNpbmNlIGtnIGlzIHVzdWFsbHkgcHJlZmVyYWJsZSB0byBnIHVubGVzcyB0aGUgdXNlciBkZWNpZGVzIG90aGVyd2lzZS5cbiAgICAgIHZhciByZXMgPSB2YWx1ZTtcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnVuaXQudmFsdWUpO1xuICAgICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucHJlZml4LnZhbHVlKTtcbiAgICAgICAgdW5pdFBvd2VyID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnBvd2VyKTtcbiAgICAgICAgcmVzID0gZGl2aWRlU2NhbGFyKHJlcywgcG93KG11bHRpcGx5U2NhbGFyKHVuaXRWYWx1ZSwgdW5pdFByZWZpeFZhbHVlKSwgdW5pdFBvd2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgdW5pdCBvZiBwb3dlciAxLCBsaWtlIGtnIG9yIGRlZ0NcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC52YWx1ZSk7XG4gICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0ucHJlZml4LnZhbHVlKTtcbiAgICAgIHVuaXRPZmZzZXQgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC5vZmZzZXQpO1xuXG4gICAgICBpZiAocHJlZml4VmFsdWUgPT09IHVuZGVmaW5lZCB8fCBwcmVmaXhWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gc3VidHJhY3QoZGl2aWRlU2NhbGFyKGRpdmlkZVNjYWxhcih2YWx1ZSwgdW5pdFZhbHVlKSwgdW5pdFByZWZpeFZhbHVlKSwgdW5pdE9mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3VidHJhY3QoZGl2aWRlU2NhbGFyKGRpdmlkZVNjYWxhcih2YWx1ZSwgdW5pdFZhbHVlKSwgcHJlZml4VmFsdWUpLCB1bml0T2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBGaW5kIGEgdW5pdCBmcm9tIGEgc3RyaW5nXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgICAgICAgIEEgc3RyaW5nIGxpa2UgJ2NtJyBvciAnaW5jaCdcbiAgICogQHJldHVybnMge09iamVjdCB8IG51bGx9IHJlc3VsdCAgV2hlbiBmb3VuZCwgYW4gb2JqZWN0IHdpdGggZmllbGRzIHVuaXQgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCBpcyByZXR1cm5lZC4gRWxzZSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICB2YXIgX2ZpbmRVbml0ID0gbWVtb2l6ZShzdHIgPT4ge1xuICAgIC8vIEZpcnN0LCBtYXRjaCB1bml0cyBuYW1lcyBleGFjdGx5LiBGb3IgZXhhbXBsZSwgYSB1c2VyIGNvdWxkIGRlZmluZSAnbW0nIGFzIDEwXi00IG0sIHdoaWNoIGlzIHNpbGx5LCBidXQgdGhlbiB3ZSB3b3VsZCB3YW50ICdtbScgdG8gbWF0Y2ggdGhlIHVzZXItZGVmaW5lZCB1bml0LlxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgc3RyKSkge1xuICAgICAgdmFyIHVuaXQgPSBVTklUU1tzdHJdO1xuICAgICAgdmFyIHByZWZpeCA9IHVuaXQucHJlZml4ZXNbJyddO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5pdCxcbiAgICAgICAgcHJlZml4XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIF9uYW1lIGluIFVOSVRTKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIF9uYW1lKSkge1xuICAgICAgICBpZiAoZW5kc1dpdGgoc3RyLCBfbmFtZSkpIHtcbiAgICAgICAgICB2YXIgX3VuaXQgPSBVTklUU1tfbmFtZV07XG4gICAgICAgICAgdmFyIHByZWZpeExlbiA9IHN0ci5sZW5ndGggLSBfbmFtZS5sZW5ndGg7XG4gICAgICAgICAgdmFyIHByZWZpeE5hbWUgPSBzdHIuc3Vic3RyaW5nKDAsIHByZWZpeExlbik7XG5cbiAgICAgICAgICB2YXIgX3ByZWZpeCA9IGhhc093blByb3BlcnR5KF91bml0LnByZWZpeGVzLCBwcmVmaXhOYW1lKSA/IF91bml0LnByZWZpeGVzW3ByZWZpeE5hbWVdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKF9wcmVmaXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gc3RvcmUgdW5pdCwgcHJlZml4LCBhbmQgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVuaXQ6IF91bml0LFxuICAgICAgICAgICAgICBwcmVmaXg6IF9wcmVmaXhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIHtcbiAgICBoYXNoZXI6IGFyZ3MgPT4gYXJnc1swXSxcbiAgICBsaW1pdDogMTAwXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBpcyBhIHVuaXQuXG4gICAqIFRoZSB1bml0IGNhbiBoYXZlIGEgcHJlZml4IGJ1dCBjYW5ub3QgaGF2ZSBhIHZhbHVlLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgIEEgc3RyaW5nIHRvIGJlIHRlc3RlZCB3aGV0aGVyIGl0IGlzIGEgdmFsdWUgbGVzcyB1bml0LlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIFRoZSB1bml0IGNhbiBoYXZlIHByZWZpeCwgbGlrZSBcImNtXCJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICB0cnVlIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgYSB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5pc1ZhbHVlbGVzc1VuaXQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBfZmluZFVuaXQobmFtZSkgIT09IG51bGw7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVjayBpZiB0aGlzIHVuaXQgaGFzIGdpdmVuIGJhc2UgdW5pdFxuICAgKiBJZiB0aGlzIHVuaXQgaXMgYSBkZXJpdmVkIHVuaXQsIHRoaXMgd2lsbCBBTFdBWVMgcmV0dXJuIGZhbHNlLCBzaW5jZSBieSBkZWZpbml0aW9uIGJhc2UgdW5pdHMgYXJlIG5vdCBkZXJpdmVkLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge0JBU0VfVU5JVFMgfCBzdHJpbmcgfCB1bmRlZmluZWR9IGJhc2VcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5oYXNCYXNlID0gZnVuY3Rpb24gKGJhc2UpIHtcbiAgICBpZiAodHlwZW9mIGJhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBiYXNlID0gQkFTRV9VTklUU1tiYXNlXTtcbiAgICB9XG5cbiAgICBpZiAoIWJhc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIEFsbCBkaW1lbnNpb25zIG11c3QgYmUgdGhlIHNhbWVcblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChNYXRoLmFicygodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApIC0gKGJhc2UuZGltZW5zaW9uc1tpXSB8fCAwKSkgPiAxZS0xMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIHVuaXQgaGFzIGEgYmFzZSBvciBiYXNlcyBlcXVhbCB0byBhbm90aGVyIGJhc2Ugb3IgYmFzZXNcbiAgICogRm9yIGRlcml2ZWQgdW5pdHMsIHRoZSBleHBvbmVudCBvbiBlYWNoIGJhc2UgYWxzbyBtdXN0IG1hdGNoXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBlcXVhbCBiYXNlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZXF1YWxCYXNlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgLy8gQWxsIGRpbWVuc2lvbnMgbXVzdCBiZSB0aGUgc2FtZVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoTWF0aC5hYnMoKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAtIChvdGhlci5kaW1lbnNpb25zW2ldIHx8IDApKSA+IDFlLTEyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgdW5pdCBlcXVhbHMgYW5vdGhlciB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBib3RoIHVuaXRzIGFyZSBlcXVhbFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmVxdWFsQmFzZShvdGhlcikgJiYgZXF1YWwodGhpcy52YWx1ZSwgb3RoZXIudmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogTXVsdGlwbHkgdGhpcyB1bml0IHdpdGggYW5vdGhlciBvbmVcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtVbml0fSBwcm9kdWN0IG9mIHRoaXMgdW5pdCBhbmQgdGhlIG90aGVyIHVuaXRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHZhciByZXMgPSB0aGlzLmNsb25lKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gRGltZW5zaW9ucyBhcnJheXMgbWF5IGJlIG9mIGRpZmZlcmVudCBsZW5ndGhzLiBEZWZhdWx0IHRvIDAuXG4gICAgICByZXMuZGltZW5zaW9uc1tpXSA9ICh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgKyAob3RoZXIuZGltZW5zaW9uc1tpXSB8fCAwKTtcbiAgICB9IC8vIEFwcGVuZCBvdGhlcidzIHVuaXRzIGxpc3Qgb250byByZXNcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG90aGVyLnVuaXRzLmxlbmd0aDsgX2krKykge1xuICAgICAgLy8gTWFrZSBhIHNoYWxsb3cgY29weSBvZiBldmVyeSB1bml0XG4gICAgICB2YXIgaW52ZXJ0ZWQgPSBfb2JqZWN0U3ByZWFkKHt9LCBvdGhlci51bml0c1tfaV0pO1xuXG4gICAgICByZXMudW5pdHMucHVzaChpbnZlcnRlZCk7XG4gICAgfSAvLyBJZiBhdCBsZWFzdCBvbmUgb3BlcmFuZCBoYXMgYSB2YWx1ZSwgdGhlbiB0aGUgcmVzdWx0IHNob3VsZCBhbHNvIGhhdmUgYSB2YWx1ZVxuXG5cbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCB8fCBvdGhlci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHZhbFRoaXMgPSB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKDEpIDogdGhpcy52YWx1ZTtcbiAgICAgIHZhciB2YWxPdGhlciA9IG90aGVyLnZhbHVlID09PSBudWxsID8gb3RoZXIuX25vcm1hbGl6ZSgxKSA6IG90aGVyLnZhbHVlO1xuICAgICAgcmVzLnZhbHVlID0gbXVsdGlwbHlTY2FsYXIodmFsVGhpcywgdmFsT3RoZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZ2V0TnVtZXJpY0lmVW5pdGxlc3MocmVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIERpdmlkZSB0aGlzIHVuaXQgYnkgYW5vdGhlciBvbmVcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtVbml0fSByZXN1bHQgb2YgZGl2aWRpbmcgdGhpcyB1bml0IGJ5IHRoZSBvdGhlciB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEaW1lbnNpb25zIGFycmF5cyBtYXkgYmUgb2YgZGlmZmVyZW50IGxlbmd0aHMuIERlZmF1bHQgdG8gMC5cbiAgICAgIHJlcy5kaW1lbnNpb25zW2ldID0gKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAtIChvdGhlci5kaW1lbnNpb25zW2ldIHx8IDApO1xuICAgIH0gLy8gSW52ZXJ0IGFuZCBhcHBlbmQgb3RoZXIncyB1bml0cyBsaXN0IG9udG8gcmVzXG5cblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG90aGVyLnVuaXRzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIC8vIE1ha2UgYSBzaGFsbG93IGNvcHkgb2YgZXZlcnkgdW5pdFxuICAgICAgdmFyIGludmVydGVkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvdGhlci51bml0c1tfaTJdKSwge30sIHtcbiAgICAgICAgcG93ZXI6IC1vdGhlci51bml0c1tfaTJdLnBvd2VyXG4gICAgICB9KTtcblxuICAgICAgcmVzLnVuaXRzLnB1c2goaW52ZXJ0ZWQpO1xuICAgIH0gLy8gSWYgYXQgbGVhc3Qgb25lIG9wZXJhbmQgaGFzIGEgdmFsdWUsIHRoZSByZXN1bHQgc2hvdWxkIGhhdmUgYSB2YWx1ZVxuXG5cbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCB8fCBvdGhlci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHZhbFRoaXMgPSB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKDEpIDogdGhpcy52YWx1ZTtcbiAgICAgIHZhciB2YWxPdGhlciA9IG90aGVyLnZhbHVlID09PSBudWxsID8gb3RoZXIuX25vcm1hbGl6ZSgxKSA6IG90aGVyLnZhbHVlO1xuICAgICAgcmVzLnZhbHVlID0gZGl2aWRlU2NhbGFyKHZhbFRoaXMsIHZhbE90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGdldE51bWVyaWNJZlVuaXRsZXNzKHJlcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIGEgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyfSBwXG4gICAqIEByZXR1cm5zIHtVbml0fSAgICAgIFRoZSByZXN1bHQ6IHRoaXNecFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnBvdyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEaW1lbnNpb25zIGFycmF5cyBtYXkgYmUgb2YgZGlmZmVyZW50IGxlbmd0aHMuIERlZmF1bHQgdG8gMC5cbiAgICAgIHJlcy5kaW1lbnNpb25zW2ldID0gKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAqIHA7XG4gICAgfSAvLyBBZGp1c3QgdGhlIHBvd2VyIG9mIGVhY2ggdW5pdCBpbiB0aGUgbGlzdFxuXG5cbiAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCByZXMudW5pdHMubGVuZ3RoOyBfaTMrKykge1xuICAgICAgcmVzLnVuaXRzW19pM10ucG93ZXIgKj0gcDtcbiAgICB9XG5cbiAgICBpZiAocmVzLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXMudmFsdWUgPSBwb3cocmVzLnZhbHVlLCBwKTsgLy8gb25seSBhbGxvdyBudW1lcmljIG91dHB1dCwgd2UgZG9uJ3Qgd2FudCB0byByZXR1cm4gYSBDb21wbGV4IG51bWJlclxuICAgICAgLy8gaWYgKCFpc051bWVyaWMocmVzLnZhbHVlKSkge1xuICAgICAgLy8gIHJlcy52YWx1ZSA9IE5hTlxuICAgICAgLy8gfVxuICAgICAgLy8gVXBkYXRlOiBDb21wbGV4IHN1cHBvcnRlZCBub3dcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGdldE51bWVyaWNJZlVuaXRsZXNzKHJlcyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG51bWVyaWMgdmFsdWUgb2YgdGhpcyB1bml0IGlmIGl0IGlzIGRpbWVuc2lvbmxlc3MsIGhhcyBhIHZhbHVlLCBhbmQgY29uZmlnLnByZWRpY3RhYmxlID09IGZhbHNlOyBvciB0aGUgb3JpZ2luYWwgdW5pdCBvdGhlcndpc2VcbiAgICogQHBhcmFtIHtVbml0fSB1bml0XG4gICAqIEByZXR1cm5zIHtudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IFVuaXR9ICBUaGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGUgdW5pdCBpZiBjb25kaXRpb25zIGFyZSBtZXQsIG9yIHRoZSBvcmlnaW5hbCB1bml0IG90aGVyd2lzZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldE51bWVyaWNJZlVuaXRsZXNzKHVuaXQpIHtcbiAgICBpZiAodW5pdC5lcXVhbEJhc2UoQkFTRV9VTklUUy5OT05FKSAmJiB1bml0LnZhbHVlICE9PSBudWxsICYmICFjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgIHJldHVybiB1bml0LnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5pdDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYSB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXJ9IHhcbiAgICogQHJldHVybnMge1VuaXR9ICAgICAgVGhlIHJlc3VsdDogfHh8LCBhYnNvbHV0ZSB2YWx1ZSBvZiB4XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgZ2l2ZXMgY29ycmVjdCwgYnV0IHVuZXhwZWN0ZWQsIHJlc3VsdHMgZm9yIHVuaXRzIHdpdGggYW4gb2Zmc2V0LlxuICAgIC8vIEZvciBleGFtcGxlLCBhYnMoLTI4My4xNSBkZWdDKSA9IC0yNjMuMTUgZGVnQyAhISFcbiAgICB2YXIgcmV0ID0gdGhpcy5jbG9uZSgpO1xuICAgIHJldC52YWx1ZSA9IHJldC52YWx1ZSAhPT0gbnVsbCA/IGFicyhyZXQudmFsdWUpIDogbnVsbDtcblxuICAgIGZvciAodmFyIGkgaW4gcmV0LnVuaXRzKSB7XG4gICAgICBpZiAocmV0LnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBJyB8fCByZXQudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkFSJykge1xuICAgICAgICByZXQudW5pdHNbaV0udW5pdCA9IFVOSVRTLlc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIHVuaXQgdG8gYSBzcGVjaWZpYyB1bml0IG5hbWUuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgVW5pdH0gdmFsdWVsZXNzVW5pdCAgIEEgdW5pdCB3aXRob3V0IHZhbHVlLiBDYW4gaGF2ZSBwcmVmaXgsIGxpa2UgXCJjbVwiXG4gICAqIEByZXR1cm5zIHtVbml0fSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIHVuaXQgd2l0aCBhIGZpeGVkIHByZWZpeCBhbmQgdW5pdC5cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50byA9IGZ1bmN0aW9uICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgdmFyIG90aGVyO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUoMSkgOiB0aGlzLnZhbHVlO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZWxlc3NVbml0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gb3RoZXIgPSBuZXcgVW5pdChudWxsLCB2YWx1ZWxlc3NVbml0KVxuICAgICAgb3RoZXIgPSBVbml0LnBhcnNlKHZhbHVlbGVzc1VuaXQpO1xuXG4gICAgICBpZiAoIXRoaXMuZXF1YWxCYXNlKG90aGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbml0cyBkbyBub3QgbWF0Y2ggKCdcIi5jb25jYXQob3RoZXIudG9TdHJpbmcoKSwgXCInICE9ICdcIikuY29uY2F0KHRoaXMudG9TdHJpbmcoKSwgXCInKVwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdGhlci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHRvIGEgdW5pdCB3aXRoIGEgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgb3RoZXIudmFsdWUgPSBjbG9uZSh2YWx1ZSk7XG4gICAgICBvdGhlci5maXhQcmVmaXggPSB0cnVlO1xuICAgICAgb3RoZXIuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9IGVsc2UgaWYgKGlzVW5pdCh2YWx1ZWxlc3NVbml0KSkge1xuICAgICAgaWYgKCF0aGlzLmVxdWFsQmFzZSh2YWx1ZWxlc3NVbml0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbml0cyBkbyBub3QgbWF0Y2ggKCdcIi5jb25jYXQodmFsdWVsZXNzVW5pdC50b1N0cmluZygpLCBcIicgIT0gJ1wiKS5jb25jYXQodGhpcy50b1N0cmluZygpLCBcIicpXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlbGVzc1VuaXQudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCB0byBhIHVuaXQgd2l0aCBhIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIG90aGVyID0gdmFsdWVsZXNzVW5pdC5jbG9uZSgpO1xuICAgICAgb3RoZXIudmFsdWUgPSBjbG9uZSh2YWx1ZSk7XG4gICAgICBvdGhlci5maXhQcmVmaXggPSB0cnVlO1xuICAgICAgb3RoZXIuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHJpbmcgb3IgVW5pdCBleHBlY3RlZCBhcyBwYXJhbWV0ZXInKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSB1bml0IHdoZW4gcmVwcmVzZW50ZWQgd2l0aCBnaXZlbiB2YWx1ZWxlc3MgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IFVuaXR9IHZhbHVlbGVzc1VuaXQgICAgRm9yIGV4YW1wbGUgJ2NtJyBvciAnaW5jaCdcbiAgICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSB1bml0IHZhbHVlIGFzIG51bWJlci5cbiAgICovXG4gIC8vIFRPRE86IGRlcHJlY2F0ZSBVbml0LnRvTnVtYmVyPyBJdCdzIGFsd2F5cyBiZXR0ZXIgdG8gdXNlIHRvTnVtZXJpY1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiAodmFsdWVsZXNzVW5pdCkge1xuICAgIHJldHVybiB0b051bWJlcih0aGlzLnRvTnVtZXJpYyh2YWx1ZWxlc3NVbml0KSk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSB1bml0IGluIHRoZSBvcmlnaW5hbCBudW1lcmljIHR5cGVcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBVbml0fSB2YWx1ZWxlc3NVbml0ICAgIEZvciBleGFtcGxlICdjbScgb3IgJ2luY2gnXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9ufSBSZXR1cm5zIHRoZSB1bml0IHZhbHVlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9OdW1lcmljID0gZnVuY3Rpb24gKHZhbHVlbGVzc1VuaXQpIHtcbiAgICB2YXIgb3RoZXI7XG5cbiAgICBpZiAodmFsdWVsZXNzVW5pdCkge1xuICAgICAgLy8gQWxsb3cgZ2V0dGluZyB0aGUgbnVtZXJpYyB2YWx1ZSB3aXRob3V0IGNvbnZlcnRpbmcgdG8gYSBkaWZmZXJlbnQgdW5pdFxuICAgICAgb3RoZXIgPSB0aGlzLnRvKHZhbHVlbGVzc1VuaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdGhlciA9IHRoaXMuY2xvbmUoKTtcbiAgICB9XG5cbiAgICBpZiAob3RoZXIuX2lzRGVyaXZlZCgpIHx8IG90aGVyLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG90aGVyLl9kZW5vcm1hbGl6ZShvdGhlci52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvdGhlci5fZGVub3JtYWxpemUob3RoZXIudmFsdWUsIG90aGVyLnVuaXRzWzBdLnByZWZpeC52YWx1ZSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0LlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiVW5pdFwiLCBcInZhbHVlXCI6IDIsIFwidW5pdFwiOiBcImNtXCIsIFwiZml4UHJlZml4XCI6IGZhbHNlfWBcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1VuaXQnLFxuICAgICAgdmFsdWU6IHRoaXMuX2Rlbm9ybWFsaXplKHRoaXMudmFsdWUpLFxuICAgICAgdW5pdDogdGhpcy5mb3JtYXRVbml0cygpLFxuICAgICAgZml4UHJlZml4OiB0aGlzLmZpeFByZWZpeFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFVuaXQgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiVW5pdFwiLCBcInZhbHVlXCI6IDIsIFwidW5pdFwiOiBcImNtXCIsIFwiZml4UHJlZml4XCI6IGZhbHNlfWBcbiAgICogQHJldHVybiB7VW5pdH1cbiAgICovXG5cblxuICBVbml0LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICB2YXIgdW5pdCA9IG5ldyBVbml0KGpzb24udmFsdWUsIGpzb24udW5pdCk7XG4gICAgdW5pdC5maXhQcmVmaXggPSBqc29uLmZpeFByZWZpeCB8fCBmYWxzZTtcbiAgICByZXR1cm4gdW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnZhbHVlT2YgPSBVbml0LnByb3RvdHlwZS50b1N0cmluZztcbiAgLyoqXG4gICAqIFNpbXBsaWZ5IHRoaXMgVW5pdCdzIHVuaXQgbGlzdCBhbmQgcmV0dXJuIGEgbmV3IFVuaXQgd2l0aCB0aGUgc2ltcGxpZmllZCBsaXN0LlxuICAgKiBUaGUgcmV0dXJuZWQgVW5pdCB3aWxsIGNvbnRhaW4gYSBsaXN0IG9mIHRoZSBcImJlc3RcIiB1bml0cyBmb3IgZm9ybWF0dGluZy5cbiAgICovXG5cbiAgVW5pdC5wcm90b3R5cGUuc2ltcGxpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgcHJvcG9zZWRVbml0TGlzdCA9IFtdOyAvLyBTZWFyY2ggZm9yIGEgbWF0Y2hpbmcgYmFzZVxuXG4gICAgdmFyIG1hdGNoaW5nQmFzZTtcblxuICAgIGZvciAodmFyIGtleSBpbiBjdXJyZW50VW5pdFN5c3RlbSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KGN1cnJlbnRVbml0U3lzdGVtLCBrZXkpKSB7XG4gICAgICAgIGlmIChyZXQuaGFzQmFzZShCQVNFX1VOSVRTW2tleV0pKSB7XG4gICAgICAgICAgbWF0Y2hpbmdCYXNlID0ga2V5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoaW5nQmFzZSA9PT0gJ05PTkUnKSB7XG4gICAgICByZXQudW5pdHMgPSBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1hdGNoaW5nVW5pdDtcblxuICAgICAgaWYgKG1hdGNoaW5nQmFzZSkge1xuICAgICAgICAvLyBEb2VzIHRoZSB1bml0IHN5c3RlbSBoYXZlIGEgbWF0Y2hpbmcgdW5pdD9cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGN1cnJlbnRVbml0U3lzdGVtLCBtYXRjaGluZ0Jhc2UpKSB7XG4gICAgICAgICAgbWF0Y2hpbmdVbml0ID0gY3VycmVudFVuaXRTeXN0ZW1bbWF0Y2hpbmdCYXNlXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2hpbmdVbml0KSB7XG4gICAgICAgIHJldC51bml0cyA9IFt7XG4gICAgICAgICAgdW5pdDogbWF0Y2hpbmdVbml0LnVuaXQsXG4gICAgICAgICAgcHJlZml4OiBtYXRjaGluZ1VuaXQucHJlZml4LFxuICAgICAgICAgIHBvd2VyOiAxLjBcbiAgICAgICAgfV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNdWx0aXBsZSB1bml0cyBvciB1bml0cyB3aXRoIHBvd2VycyBhcmUgZm9ybWF0dGVkIGxpa2UgdGhpczpcbiAgICAgICAgLy8gNSAoa2cgbV4yKSAvIChzXjMgbW9sKVxuICAgICAgICAvLyBCdWlsZCBhbiByZXByZXNlbnRhdGlvbiBmcm9tIHRoZSBiYXNlIHVuaXRzIG9mIHRoZSBjdXJyZW50IHVuaXQgc3lzdGVtXG4gICAgICAgIHZhciBtaXNzaW5nQmFzZURpbSA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGJhc2VEaW0gPSBCQVNFX0RJTUVOU0lPTlNbaV07XG5cbiAgICAgICAgICBpZiAoTWF0aC5hYnMocmV0LmRpbWVuc2lvbnNbaV0gfHwgMCkgPiAxZS0xMikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGN1cnJlbnRVbml0U3lzdGVtLCBiYXNlRGltKSkge1xuICAgICAgICAgICAgICBwcm9wb3NlZFVuaXRMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgIHVuaXQ6IGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VEaW1dLnVuaXQsXG4gICAgICAgICAgICAgICAgcHJlZml4OiBjdXJyZW50VW5pdFN5c3RlbVtiYXNlRGltXS5wcmVmaXgsXG4gICAgICAgICAgICAgICAgcG93ZXI6IHJldC5kaW1lbnNpb25zW2ldIHx8IDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtaXNzaW5nQmFzZURpbSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIElzIHRoZSBwcm9wb3NlZCB1bml0IGxpc3QgXCJzaW1wbGVyXCIgdGhhbiB0aGUgZXhpc3Rpbmcgb25lP1xuXG5cbiAgICAgICAgaWYgKHByb3Bvc2VkVW5pdExpc3QubGVuZ3RoIDwgcmV0LnVuaXRzLmxlbmd0aCAmJiAhbWlzc2luZ0Jhc2VEaW0pIHtcbiAgICAgICAgICAvLyBSZXBsYWNlIHRoaXMgdW5pdCBsaXN0IHdpdGggdGhlIHByb3Bvc2VkIGxpc3RcbiAgICAgICAgICByZXQudW5pdHMgPSBwcm9wb3NlZFVuaXRMaXN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVW5pdCBpbiB0aGUgU0kgc3lzdGVtIHdpdGggdGhlIHNhbWUgdmFsdWUgYXMgdGhpcyBvbmVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b1NJID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHByb3Bvc2VkVW5pdExpc3QgPSBbXTsgLy8gTXVsdGlwbGUgdW5pdHMgb3IgdW5pdHMgd2l0aCBwb3dlcnMgYXJlIGZvcm1hdHRlZCBsaWtlIHRoaXM6XG4gICAgLy8gNSAoa2cgbV4yKSAvIChzXjMgbW9sKVxuICAgIC8vIEJ1aWxkIGFuIHJlcHJlc2VudGF0aW9uIGZyb20gdGhlIGJhc2UgdW5pdHMgb2YgdGhlIFNJIHVuaXQgc3lzdGVtXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGJhc2VEaW0gPSBCQVNFX0RJTUVOU0lPTlNbaV07XG5cbiAgICAgIGlmIChNYXRoLmFicyhyZXQuZGltZW5zaW9uc1tpXSB8fCAwKSA+IDFlLTEyKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUX1NZU1RFTVMuc2ksIGJhc2VEaW0pKSB7XG4gICAgICAgICAgcHJvcG9zZWRVbml0TGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHVuaXQ6IFVOSVRfU1lTVEVNUy5zaVtiYXNlRGltXS51bml0LFxuICAgICAgICAgICAgcHJlZml4OiBVTklUX1NZU1RFTVMuc2lbYmFzZURpbV0ucHJlZml4LFxuICAgICAgICAgICAgcG93ZXI6IHJldC5kaW1lbnNpb25zW2ldIHx8IDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBleHByZXNzIGN1c3RvbSB1bml0ICcgKyBiYXNlRGltICsgJyBpbiBTSSB1bml0cycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBSZXBsYWNlIHRoaXMgdW5pdCBsaXN0IHdpdGggdGhlIHByb3Bvc2VkIGxpc3RcblxuXG4gICAgcmV0LnVuaXRzID0gcHJvcG9zZWRVbml0TGlzdDtcbiAgICByZXQuZml4UHJlZml4ID0gdHJ1ZTtcbiAgICByZXQuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0cyBvZiB0aGlzIFVuaXQsIHdpdGhvdXQgdGhlIHZhbHVlLiBUaGUgdW5pdCBsaXN0IGlzIGZvcm1hdHRlZCBhcy1pcyB3aXRob3V0IGZpcnN0IGJlaW5nIHNpbXBsaWZpZWQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5mb3JtYXRVbml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RyTnVtID0gJyc7XG4gICAgdmFyIHN0ckRlbiA9ICcnO1xuICAgIHZhciBuTnVtID0gMDtcbiAgICB2YXIgbkRlbiA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnVuaXRzW2ldLnBvd2VyID4gMCkge1xuICAgICAgICBuTnVtKys7XG4gICAgICAgIHN0ck51bSArPSAnICcgKyB0aGlzLnVuaXRzW2ldLnByZWZpeC5uYW1lICsgdGhpcy51bml0c1tpXS51bml0Lm5hbWU7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudW5pdHNbaV0ucG93ZXIgLSAxLjApID4gMWUtMTUpIHtcbiAgICAgICAgICBzdHJOdW0gKz0gJ14nICsgdGhpcy51bml0c1tpXS5wb3dlcjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnVuaXRzW2ldLnBvd2VyIDwgMCkge1xuICAgICAgICBuRGVuKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5EZW4gPiAwKSB7XG4gICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCB0aGlzLnVuaXRzLmxlbmd0aDsgX2k0KyspIHtcbiAgICAgICAgaWYgKHRoaXMudW5pdHNbX2k0XS5wb3dlciA8IDApIHtcbiAgICAgICAgICBpZiAobk51bSA+IDApIHtcbiAgICAgICAgICAgIHN0ckRlbiArPSAnICcgKyB0aGlzLnVuaXRzW19pNF0ucHJlZml4Lm5hbWUgKyB0aGlzLnVuaXRzW19pNF0udW5pdC5uYW1lO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy51bml0c1tfaTRdLnBvd2VyICsgMS4wKSA+IDFlLTE1KSB7XG4gICAgICAgICAgICAgIHN0ckRlbiArPSAnXicgKyAtdGhpcy51bml0c1tfaTRdLnBvd2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJEZW4gKz0gJyAnICsgdGhpcy51bml0c1tfaTRdLnByZWZpeC5uYW1lICsgdGhpcy51bml0c1tfaTRdLnVuaXQubmFtZTtcbiAgICAgICAgICAgIHN0ckRlbiArPSAnXicgKyB0aGlzLnVuaXRzW19pNF0ucG93ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBSZW1vdmUgbGVhZGluZyBcIiBcIlxuXG5cbiAgICBzdHJOdW0gPSBzdHJOdW0uc3Vic3RyKDEpO1xuICAgIHN0ckRlbiA9IHN0ckRlbi5zdWJzdHIoMSk7IC8vIEFkZCBwYXJhbnMgZm9yIGJldHRlciBjb3B5L3Bhc3RlIGJhY2sgaW50byBldmFsdWF0ZSwgZm9yIGV4YW1wbGUsIG9yIGZvciBiZXR0ZXIgcHJldHR5IHByaW50IGZvcm1hdHRpbmdcblxuICAgIGlmIChuTnVtID4gMSAmJiBuRGVuID4gMCkge1xuICAgICAgc3RyTnVtID0gJygnICsgc3RyTnVtICsgJyknO1xuICAgIH1cblxuICAgIGlmIChuRGVuID4gMSAmJiBuTnVtID4gMCkge1xuICAgICAgc3RyRGVuID0gJygnICsgc3RyRGVuICsgJyknO1xuICAgIH1cblxuICAgIHZhciBzdHIgPSBzdHJOdW07XG5cbiAgICBpZiAobk51bSA+IDAgJiYgbkRlbiA+IDApIHtcbiAgICAgIHN0ciArPSAnIC8gJztcbiAgICB9XG5cbiAgICBzdHIgKz0gc3RyRGVuO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIFVuaXQsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gU2ltcGxmeSB0aGUgdW5pdCBsaXN0LCB1bmxlc3MgaXQgaXMgdmFsdWVsZXNzIG9yIHdhcyBjcmVhdGVkIGRpcmVjdGx5IGluIHRoZVxuICAgIC8vIGNvbnN0cnVjdG9yIG9yIGFzIHRoZSByZXN1bHQgb2YgdG8gb3IgdG9TSVxuICAgIHZhciBzaW1wID0gdGhpcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gfHwgdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuY2xvbmUoKSA6IHRoaXMuc2ltcGxpZnkoKTsgLy8gQXBwbHkgc29tZSBjdXN0b20gbG9naWMgZm9yIGhhbmRsaW5nIFZBIGFuZCBWQVIuIFRoZSBnb2FsIGlzIHRvIGV4cHJlc3MgdGhlIHZhbHVlIG9mIHRoZSB1bml0IGFzIGEgcmVhbCB2YWx1ZSwgaWYgcG9zc2libGUuIE90aGVyd2lzZSwgdXNlIGEgcmVhbC12YWx1ZWQgdW5pdCBpbnN0ZWFkIG9mIGEgY29tcGxleC12YWx1ZWQgb25lLlxuXG4gICAgdmFyIGlzSW1hZ2luYXJ5ID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIHNpbXAudmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHNpbXAudmFsdWUgIT09IG51bGwgJiYgaXNDb21wbGV4KHNpbXAudmFsdWUpKSB7XG4gICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYmV0dGVyLCBmb3IgZXhhbXBsZSwgdXNlIHJlbGF0aXZlIG1hZ25pdHVkZSBvZiByZSBhbmQgaW0gcmF0aGVyIHRoYW4gYWJzb2x1dGVcbiAgICAgIGlzSW1hZ2luYXJ5ID0gTWF0aC5hYnMoc2ltcC52YWx1ZS5yZSkgPCAxZS0xNDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHNpbXAudW5pdHMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShzaW1wLnVuaXRzLCBpKSkge1xuICAgICAgICBpZiAoc2ltcC51bml0c1tpXS51bml0KSB7XG4gICAgICAgICAgaWYgKHNpbXAudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkEnICYmIGlzSW1hZ2luYXJ5KSB7XG4gICAgICAgICAgICBzaW1wLnVuaXRzW2ldLnVuaXQgPSBVTklUUy5WQVI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaW1wLnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBUicgJiYgIWlzSW1hZ2luYXJ5KSB7XG4gICAgICAgICAgICBzaW1wLnVuaXRzW2ldLnVuaXQgPSBVTklUUy5WQTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIE5vdyBhcHBseSB0aGUgYmVzdCBwcmVmaXhcbiAgICAvLyBVbml0cyBtdXN0IGhhdmUgb25seSBvbmUgdW5pdCBhbmQgbm90IGhhdmUgdGhlIGZpeFByZWZpeCBmbGFnIHNldFxuXG5cbiAgICBpZiAoc2ltcC51bml0cy5sZW5ndGggPT09IDEgJiYgIXNpbXAuZml4UHJlZml4KSB7XG4gICAgICAvLyBVbml0cyBtdXN0IGhhdmUgaW50ZWdlciBwb3dlcnMsIG90aGVyd2lzZSB0aGUgcHJlZml4IHdpbGwgY2hhbmdlIHRoZVxuICAgICAgLy8gb3V0cHV0dGVkIHZhbHVlIGJ5IG5vdC1hbi1pbnRlZ2VyLXBvd2VyLW9mLXRlblxuICAgICAgaWYgKE1hdGguYWJzKHNpbXAudW5pdHNbMF0ucG93ZXIgLSBNYXRoLnJvdW5kKHNpbXAudW5pdHNbMF0ucG93ZXIpKSA8IDFlLTE0KSB7XG4gICAgICAgIC8vIEFwcGx5IHRoZSBiZXN0IHByZWZpeFxuICAgICAgICBzaW1wLnVuaXRzWzBdLnByZWZpeCA9IHNpbXAuX2Jlc3RQcmVmaXgoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBzaW1wLl9kZW5vcm1hbGl6ZShzaW1wLnZhbHVlKTtcblxuICAgIHZhciBzdHIgPSBzaW1wLnZhbHVlICE9PSBudWxsID8gZm9ybWF0KHZhbHVlLCBvcHRpb25zIHx8IHt9KSA6ICcnO1xuICAgIHZhciB1bml0U3RyID0gc2ltcC5mb3JtYXRVbml0cygpO1xuXG4gICAgaWYgKHNpbXAudmFsdWUgJiYgaXNDb21wbGV4KHNpbXAudmFsdWUpKSB7XG4gICAgICBzdHIgPSAnKCcgKyBzdHIgKyAnKSc7IC8vIFN1cnJvdW5kIGNvbXBsZXggdmFsdWVzIHdpdGggKCApIHRvIGVuYWJsZSBiZXR0ZXIgcGFyc2luZ1xuICAgIH1cblxuICAgIGlmICh1bml0U3RyLmxlbmd0aCA+IDAgJiYgc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgIHN0ciArPSAnICc7XG4gICAgfVxuXG4gICAgc3RyICs9IHVuaXRTdHI7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYmVzdCBwcmVmaXggdXNpbmcgY3VycmVudCB2YWx1ZS5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybnMge09iamVjdH0gcHJlZml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX2Jlc3RQcmVmaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudW5pdHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IGNvbXB1dGUgdGhlIGJlc3QgcHJlZml4IGZvciBzaW5nbGUgdW5pdHMgd2l0aCBpbnRlZ2VyIHBvd2VycywgbGlrZSBrZywgc14yLCBOXi0xLCBhbmQgc28gZm9ydGghJyk7XG4gICAgfVxuXG4gICAgaWYgKE1hdGguYWJzKHRoaXMudW5pdHNbMF0ucG93ZXIgLSBNYXRoLnJvdW5kKHRoaXMudW5pdHNbMF0ucG93ZXIpKSA+PSAxZS0xNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBjb21wdXRlIHRoZSBiZXN0IHByZWZpeCBmb3Igc2luZ2xlIHVuaXRzIHdpdGggaW50ZWdlciBwb3dlcnMsIGxpa2Uga2csIHNeMiwgTl4tMSwgYW5kIHNvIGZvcnRoIScpO1xuICAgIH0gLy8gZmluZCB0aGUgYmVzdCBwcmVmaXggdmFsdWUgKHJlc3VsdGluZyBpbiB0aGUgdmFsdWUgb2Ygd2hpY2hcbiAgICAvLyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhlIGxvZzEwIGlzIGNsb3Nlc3QgdG8gemVybyxcbiAgICAvLyB0aG91Z2ggd2l0aCBhIGxpdHRsZSBvZmZzZXQgb2YgMS4yIGZvciBuaWNlciB2YWx1ZXM6IHlvdSBnZXQgYVxuICAgIC8vIHNlcXVlbmNlIDFtbSAxMDBtbSA1MDBtbSAwLjZtIDFtIDEwbSAxMDBtIDUwMG0gMC42a20gMWttIC4uLlxuICAgIC8vIE5vdGU6IHRoZSB1bml0cyB2YWx1ZSBjYW4gYmUgYW55IG51bWVyaWMgdHlwZSwgYnV0IHRvIGZpbmQgdGhlIGJlc3RcbiAgICAvLyBwcmVmaXggaXQncyBlbm91Z2ggdG8gd29yayB3aXRoIGxpbWl0ZWQgcHJlY2lzaW9uIG9mIGEgcmVndWxhciBudW1iZXJcbiAgICAvLyBVcGRhdGU6IHVzaW5nIG1hdGhqcyBhYnMgc2luY2Ugd2UgYWxzbyBhbGxvdyBjb21wbGV4IG51bWJlcnNcblxuXG4gICAgdmFyIGFic1ZhbHVlID0gdGhpcy52YWx1ZSAhPT0gbnVsbCA/IGFicyh0aGlzLnZhbHVlKSA6IDA7XG4gICAgdmFyIGFic1VuaXRWYWx1ZSA9IGFicyh0aGlzLnVuaXRzWzBdLnVuaXQudmFsdWUpO1xuICAgIHZhciBiZXN0UHJlZml4ID0gdGhpcy51bml0c1swXS5wcmVmaXg7XG5cbiAgICBpZiAoYWJzVmFsdWUgPT09IDApIHtcbiAgICAgIHJldHVybiBiZXN0UHJlZml4O1xuICAgIH1cblxuICAgIHZhciBwb3dlciA9IHRoaXMudW5pdHNbMF0ucG93ZXI7XG4gICAgdmFyIGJlc3REaWZmID0gTWF0aC5sb2coYWJzVmFsdWUgLyBNYXRoLnBvdyhiZXN0UHJlZml4LnZhbHVlICogYWJzVW5pdFZhbHVlLCBwb3dlcikpIC8gTWF0aC5MTjEwIC0gMS4yO1xuICAgIGlmIChiZXN0RGlmZiA+IC0yLjIwMDAwMSAmJiBiZXN0RGlmZiA8IDEuODAwMDAxKSByZXR1cm4gYmVzdFByZWZpeDsgLy8gQWxsb3cgdGhlIG9yaWdpbmFsIHByZWZpeFxuXG4gICAgYmVzdERpZmYgPSBNYXRoLmFicyhiZXN0RGlmZik7XG4gICAgdmFyIHByZWZpeGVzID0gdGhpcy51bml0c1swXS51bml0LnByZWZpeGVzO1xuXG4gICAgZm9yICh2YXIgcCBpbiBwcmVmaXhlcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHByZWZpeGVzLCBwKSkge1xuICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbcF07XG5cbiAgICAgICAgaWYgKHByZWZpeC5zY2llbnRpZmljKSB7XG4gICAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhNYXRoLmxvZyhhYnNWYWx1ZSAvIE1hdGgucG93KHByZWZpeC52YWx1ZSAqIGFic1VuaXRWYWx1ZSwgcG93ZXIpKSAvIE1hdGguTE4xMCAtIDEuMik7XG5cbiAgICAgICAgICBpZiAoZGlmZiA8IGJlc3REaWZmIHx8IGRpZmYgPT09IGJlc3REaWZmICYmIHByZWZpeC5uYW1lLmxlbmd0aCA8IGJlc3RQcmVmaXgubmFtZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGNob29zZSB0aGUgcHJlZml4IHdpdGggdGhlIHNtYWxsZXN0IGRpZmYsIG9yIGlmIGVxdWFsLCBjaG9vc2UgdGhlIG9uZVxuICAgICAgICAgICAgLy8gd2l0aCB0aGUgc2hvcnRlc3QgbmFtZSAoY2FuIGhhcHBlbiB3aXRoIFNIT1JUTE9ORyBmb3IgZXhhbXBsZSlcbiAgICAgICAgICAgIGJlc3RQcmVmaXggPSBwcmVmaXg7XG4gICAgICAgICAgICBiZXN0RGlmZiA9IGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3RQcmVmaXg7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHVuaXRzIHdob3NlIHN1bSBpcyBlcXVhbCB0byB0aGlzIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRzXSBBbiBhcnJheSBvZiBzdHJpbmdzIG9yIHZhbHVlbGVzcyB1bml0cy5cbiAgICpcbiAgICogICBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGNvbnN0IHUgPSBuZXcgVW5pdCgxLCAnbScpXG4gICAqICAgdS5zcGxpdFVuaXQoWydmZWV0JywgJ2luY2gnXSlcbiAgICogICAgIFsgMyBmZWV0LCAzLjM3MDA3ODc0MDE1NzUgaW5jaCBdXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiB1bml0cy5cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5zcGxpdFVuaXQgPSBmdW5jdGlvbiAocGFydHMpIHtcbiAgICB2YXIgeCA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgcmV0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBDb252ZXJ0IHggdG8gdGhlIHJlcXVlc3RlZCB1bml0XG4gICAgICB4ID0geC50byhwYXJ0c1tpXSk7XG4gICAgICBpZiAoaSA9PT0gcGFydHMubGVuZ3RoIC0gMSkgYnJlYWs7IC8vIEdldCB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGlzIHVuaXRcblxuICAgICAgdmFyIHhOdW1lcmljID0geC50b051bWVyaWMoKTsgLy8gQ2hlY2sgdG8gc2VlIGlmIHhOdW1lcmljIGlzIG5lYXJseSBlcXVhbCB0byBhbiBpbnRlZ2VyLFxuICAgICAgLy8gc2luY2UgZml4IGNhbiBpbmNvcnJlY3RseSByb3VuZCBkb3duIGlmIHRoZXJlIGlzIHJvdW5kLW9mZiBlcnJvclxuXG4gICAgICB2YXIgeFJvdW5kZWQgPSByb3VuZCh4TnVtZXJpYyk7XG4gICAgICB2YXIgeEZpeGVkID0gdm9pZCAwO1xuICAgICAgdmFyIGlzTmVhcmx5RXF1YWwgPSBlcXVhbCh4Um91bmRlZCwgeE51bWVyaWMpO1xuXG4gICAgICBpZiAoaXNOZWFybHlFcXVhbCkge1xuICAgICAgICB4Rml4ZWQgPSB4Um91bmRlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHhGaXhlZCA9IGZpeCh4LnRvTnVtZXJpYygpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHkgPSBuZXcgVW5pdCh4Rml4ZWQsIHBhcnRzW2ldLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0LnB1c2goeSk7XG4gICAgICB4ID0gc3VidHJhY3QoeCwgeSk7XG4gICAgfSAvLyBUaGlzIGxpdHRsZSBiaXQgZml4ZXMgYSBidWcgd2hlcmUgdGhlIHJlbWFpbmRlciBzaG91bGQgYmUgMCBidXQgaXMgYSBsaXR0bGUgYml0IG9mZi5cbiAgICAvLyBCdXQgaW5zdGVhZCBvZiBjb21wYXJpbmcgeCwgdGhlIHJlbWFpbmRlciwgd2l0aCB6ZXJvLS13ZSB3aWxsIGNvbXBhcmUgdGhlIHN1bSBvZlxuICAgIC8vIGFsbCB0aGUgcGFydHMgc28gZmFyIHdpdGggdGhlIG9yaWdpbmFsIHZhbHVlLiBJZiB0aGV5IGFyZSBuZWFybHkgZXF1YWwsXG4gICAgLy8gd2Ugc2V0IHRoZSByZW1haW5kZXIgdG8gMC5cblxuXG4gICAgdmFyIHRlc3RTdW0gPSAwO1xuXG4gICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgcmV0Lmxlbmd0aDsgX2k1KyspIHtcbiAgICAgIHRlc3RTdW0gPSBhZGRTY2FsYXIodGVzdFN1bSwgcmV0W19pNV0udmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChlcXVhbCh0ZXN0U3VtLCB0aGlzLnZhbHVlKSkge1xuICAgICAgeC52YWx1ZSA9IDA7XG4gICAgfVxuXG4gICAgcmV0LnB1c2goeCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICB2YXIgUFJFRklYRVMgPSB7XG4gICAgTk9ORToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBTSE9SVDoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGE6IHtcbiAgICAgICAgbmFtZTogJ2RhJyxcbiAgICAgICAgdmFsdWU6IDFlMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoOiB7XG4gICAgICAgIG5hbWU6ICdoJyxcbiAgICAgICAgdmFsdWU6IDFlMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkOiB7XG4gICAgICAgIG5hbWU6ICdkJyxcbiAgICAgICAgdmFsdWU6IDFlLTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBuYW1lOiAnYycsXG4gICAgICAgIHZhbHVlOiAxZS0yLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG06IHtcbiAgICAgICAgbmFtZTogJ20nLFxuICAgICAgICB2YWx1ZTogMWUtMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHU6IHtcbiAgICAgICAgbmFtZTogJ3UnLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG46IHtcbiAgICAgICAgbmFtZTogJ24nLFxuICAgICAgICB2YWx1ZTogMWUtOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHA6IHtcbiAgICAgICAgbmFtZTogJ3AnLFxuICAgICAgICB2YWx1ZTogMWUtMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIG5hbWU6ICdmJyxcbiAgICAgICAgdmFsdWU6IDFlLTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBuYW1lOiAnYScsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHo6IHtcbiAgICAgICAgbmFtZTogJ3onLFxuICAgICAgICB2YWx1ZTogMWUtMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAgdmFsdWU6IDFlLTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBMT05HOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkZWNhOiB7XG4gICAgICAgIG5hbWU6ICdkZWNhJyxcbiAgICAgICAgdmFsdWU6IDFlMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoZWN0bzoge1xuICAgICAgICBuYW1lOiAnaGVjdG8nLFxuICAgICAgICB2YWx1ZTogMWUyLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGtpbG86IHtcbiAgICAgICAgbmFtZTogJ2tpbG8nLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWVnYToge1xuICAgICAgICBuYW1lOiAnbWVnYScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBnaWdhOiB7XG4gICAgICAgIG5hbWU6ICdnaWdhJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHRlcmE6IHtcbiAgICAgICAgbmFtZTogJ3RlcmEnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBldGE6IHtcbiAgICAgICAgbmFtZTogJ3BldGEnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGV4YToge1xuICAgICAgICBuYW1lOiAnZXhhJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZXR0YToge1xuICAgICAgICBuYW1lOiAnemV0dGEnLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvdHRhOiB7XG4gICAgICAgIG5hbWU6ICd5b3R0YScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGVjaToge1xuICAgICAgICBuYW1lOiAnZGVjaScsXG4gICAgICAgIHZhbHVlOiAxZS0xLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGNlbnRpOiB7XG4gICAgICAgIG5hbWU6ICdjZW50aScsXG4gICAgICAgIHZhbHVlOiAxZS0yLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG1pbGxpOiB7XG4gICAgICAgIG5hbWU6ICdtaWxsaScsXG4gICAgICAgIHZhbHVlOiAxZS0zLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWljcm86IHtcbiAgICAgICAgbmFtZTogJ21pY3JvJyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYW5vOiB7XG4gICAgICAgIG5hbWU6ICduYW5vJyxcbiAgICAgICAgdmFsdWU6IDFlLTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwaWNvOiB7XG4gICAgICAgIG5hbWU6ICdwaWNvJyxcbiAgICAgICAgdmFsdWU6IDFlLTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZmVtdG86IHtcbiAgICAgICAgbmFtZTogJ2ZlbXRvJyxcbiAgICAgICAgdmFsdWU6IDFlLTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYXR0bzoge1xuICAgICAgICBuYW1lOiAnYXR0bycsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHplcHRvOiB7XG4gICAgICAgIG5hbWU6ICd6ZXB0bycsXG4gICAgICAgIHZhbHVlOiAxZS0yMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvY3RvOiB7XG4gICAgICAgIG5hbWU6ICd5b2N0bycsXG4gICAgICAgIHZhbHVlOiAxZS0yNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgU1FVQVJFRDoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGE6IHtcbiAgICAgICAgbmFtZTogJ2RhJyxcbiAgICAgICAgdmFsdWU6IDFlMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoOiB7XG4gICAgICAgIG5hbWU6ICdoJyxcbiAgICAgICAgdmFsdWU6IDFlNCxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWUzMCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWUzNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWU0MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWU0OCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGQ6IHtcbiAgICAgICAgbmFtZTogJ2QnLFxuICAgICAgICB2YWx1ZTogMWUtMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjOiB7XG4gICAgICAgIG5hbWU6ICdjJyxcbiAgICAgICAgdmFsdWU6IDFlLTQsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbToge1xuICAgICAgICBuYW1lOiAnbScsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdToge1xuICAgICAgICBuYW1lOiAndScsXG4gICAgICAgIHZhbHVlOiAxZS0xMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG46IHtcbiAgICAgICAgbmFtZTogJ24nLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwOiB7XG4gICAgICAgIG5hbWU6ICdwJyxcbiAgICAgICAgdmFsdWU6IDFlLTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZjoge1xuICAgICAgICBuYW1lOiAnZicsXG4gICAgICAgIHZhbHVlOiAxZS0zMCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgbmFtZTogJ2EnLFxuICAgICAgICB2YWx1ZTogMWUtMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6OiB7XG4gICAgICAgIG5hbWU6ICd6JyxcbiAgICAgICAgdmFsdWU6IDFlLTQyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIHZhbHVlOiAxZS00OCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQ1VCSUM6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRhOiB7XG4gICAgICAgIG5hbWU6ICdkYScsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaDoge1xuICAgICAgICBuYW1lOiAnaCcsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlMjcsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlNDUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlNTQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlNjMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlNzIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkOiB7XG4gICAgICAgIG5hbWU6ICdkJyxcbiAgICAgICAgdmFsdWU6IDFlLTMsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBuYW1lOiAnYycsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG06IHtcbiAgICAgICAgbmFtZTogJ20nLFxuICAgICAgICB2YWx1ZTogMWUtOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHU6IHtcbiAgICAgICAgbmFtZTogJ3UnLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuOiB7XG4gICAgICAgIG5hbWU6ICduJyxcbiAgICAgICAgdmFsdWU6IDFlLTI3LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcDoge1xuICAgICAgICBuYW1lOiAncCcsXG4gICAgICAgIHZhbHVlOiAxZS0zNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGY6IHtcbiAgICAgICAgbmFtZTogJ2YnLFxuICAgICAgICB2YWx1ZTogMWUtNDUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIG5hbWU6ICdhJyxcbiAgICAgICAgdmFsdWU6IDFlLTU0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgejoge1xuICAgICAgICBuYW1lOiAneicsXG4gICAgICAgIHZhbHVlOiAxZS02MyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgbmFtZTogJ3knLFxuICAgICAgICB2YWx1ZTogMWUtNzIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9TSE9SVF9TSToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfU0hPUlRfSUVDOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBLaToge1xuICAgICAgICBuYW1lOiAnS2knLFxuICAgICAgICB2YWx1ZTogMTAyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE1pOiB7XG4gICAgICAgIG5hbWU6ICdNaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAyKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEdpOiB7XG4gICAgICAgIG5hbWU6ICdHaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAzKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFRpOiB7XG4gICAgICAgIG5hbWU6ICdUaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA0KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFBpOiB7XG4gICAgICAgIG5hbWU6ICdQaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA1KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEVpOiB7XG4gICAgICAgIG5hbWU6ICdFaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA2KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFppOiB7XG4gICAgICAgIG5hbWU6ICdaaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA3KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFlpOiB7XG4gICAgICAgIG5hbWU6ICdZaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA4KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX0xPTkdfU0k6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGtpbG86IHtcbiAgICAgICAgbmFtZTogJ2tpbG8nLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWVnYToge1xuICAgICAgICBuYW1lOiAnbWVnYScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBnaWdhOiB7XG4gICAgICAgIG5hbWU6ICdnaWdhJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHRlcmE6IHtcbiAgICAgICAgbmFtZTogJ3RlcmEnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBldGE6IHtcbiAgICAgICAgbmFtZTogJ3BldGEnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGV4YToge1xuICAgICAgICBuYW1lOiAnZXhhJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZXR0YToge1xuICAgICAgICBuYW1lOiAnemV0dGEnLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvdHRhOiB7XG4gICAgICAgIG5hbWU6ICd5b3R0YScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfTE9OR19JRUM6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGtpYmk6IHtcbiAgICAgICAgbmFtZTogJ2tpYmknLFxuICAgICAgICB2YWx1ZTogMTAyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1lYmk6IHtcbiAgICAgICAgbmFtZTogJ21lYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBnaWJpOiB7XG4gICAgICAgIG5hbWU6ICdnaWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDMpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdGViaToge1xuICAgICAgICBuYW1lOiAndGViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA0KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBlYmk6IHtcbiAgICAgICAgbmFtZTogJ3BlYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNSksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBleGk6IHtcbiAgICAgICAgbmFtZTogJ2V4aScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA2KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHplYmk6IHtcbiAgICAgICAgbmFtZTogJ3plYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b2JpOiB7XG4gICAgICAgIG5hbWU6ICd5b2JpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDgpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCVFU6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE1NOiB7XG4gICAgICAgIG5hbWU6ICdNTScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFBSRUZJWEVTLlNIT1JUTE9ORyA9IF9leHRlbmRzKHt9LCBQUkVGSVhFUy5TSE9SVCwgUFJFRklYRVMuTE9ORyk7XG4gIFBSRUZJWEVTLkJJTkFSWV9TSE9SVCA9IF9leHRlbmRzKHt9LCBQUkVGSVhFUy5CSU5BUllfU0hPUlRfU0ksIFBSRUZJWEVTLkJJTkFSWV9TSE9SVF9JRUMpO1xuICBQUkVGSVhFUy5CSU5BUllfTE9ORyA9IF9leHRlbmRzKHt9LCBQUkVGSVhFUy5CSU5BUllfTE9OR19TSSwgUFJFRklYRVMuQklOQVJZX0xPTkdfSUVDKTtcbiAgLyogSW50ZXJuYWxseSwgZWFjaCB1bml0IGlzIHJlcHJlc2VudGVkIGJ5IGEgdmFsdWUgYW5kIGEgZGltZW5zaW9uIGFycmF5LiBUaGUgZWxlbWVudHMgb2YgdGhlIGRpbWVuc2lvbnMgYXJyYXkgaGF2ZSB0aGUgZm9sbG93aW5nIG1lYW5pbmc6XG4gICAqIEluZGV4ICBEaW1lbnNpb25cbiAgICogLS0tLS0gIC0tLS0tLS0tLVxuICAgKiAgIDAgICAgTGVuZ3RoXG4gICAqICAgMSAgICBNYXNzXG4gICAqICAgMiAgICBUaW1lXG4gICAqICAgMyAgICBDdXJyZW50XG4gICAqICAgNCAgICBUZW1wZXJhdHVyZVxuICAgKiAgIDUgICAgTHVtaW5vdXMgaW50ZW5zaXR5XG4gICAqICAgNiAgICBBbW91bnQgb2Ygc3Vic3RhbmNlXG4gICAqICAgNyAgICBBbmdsZVxuICAgKiAgIDggICAgQml0IChkaWdpdGFsKVxuICAgKiBGb3IgZXhhbXBsZSwgdGhlIHVuaXQgXCIyOTguMTUgS1wiIGlzIGEgcHVyZSB0ZW1wZXJhdHVyZSBhbmQgd291bGQgaGF2ZSBhIHZhbHVlIG9mIDI5OC4xNSBhbmQgYSBkaW1lbnNpb24gYXJyYXkgb2YgWzAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDBdLiBUaGUgdW5pdCBcIjEgY2FsIC8gKGdtIMKwQylcIiBjYW4gYmUgd3JpdHRlbiBpbiB0ZXJtcyBvZiB0aGUgOSBmdW5kYW1lbnRhbCBkaW1lbnNpb25zIGFzIFtsZW5ndGheMl0gLyAoW3RpbWVeMl0gKiBbdGVtcGVyYXR1cmVdKSwgYW5kIHdvdWxkIGEgdmFsdWUgb2YgKGFmdGVyIGNvbnZlcnNpb24gdG8gU0kpIDQxODQuMCBhbmQgYSBkaW1lbnNpb25zIGFycmF5IG9mIFsyLCAwLCAtMiwgMCwgLTEsIDAsIDAsIDAsIDBdLlxuICAgKlxuICAgKi9cblxuICB2YXIgQkFTRV9ESU1FTlNJT05TID0gWydNQVNTJywgJ0xFTkdUSCcsICdUSU1FJywgJ0NVUlJFTlQnLCAnVEVNUEVSQVRVUkUnLCAnTFVNSU5PVVNfSU5URU5TSVRZJywgJ0FNT1VOVF9PRl9TVUJTVEFOQ0UnLCAnQU5HTEUnLCAnQklUJ107XG4gIHZhciBCQVNFX1VOSVRTID0ge1xuICAgIE5PTkU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTUFTUzoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBMRU5HVEg6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgVElNRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBDVVJSRU5UOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFRFTVBFUkFUVVJFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIExVTUlOT1VTX0lOVEVOU0lUWToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBBTU9VTlRfT0ZfU1VCU1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMF1cbiAgICB9LFxuICAgIEZPUkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMSwgLTIsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBTVVJGQUNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMiwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFZPTFVNRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDMsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTkVSR1k6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMiwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFBPV0VSOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTMsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBQUkVTU1VSRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIC0xLCAtMiwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0NIQVJHRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDEsIDEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19DQVBBQ0lUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWy0xLCAtMiwgNCwgMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX1BPVEVOVElBTDoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0zLCAtMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX1JFU0lTVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMywgLTIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19JTkRVQ1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTIsIC0yLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfQ09ORFVDVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFstMSwgLTIsIDMsIDIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBNQUdORVRJQ19GTFVYOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTIsIC0xLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTUFHTkVUSUNfRkxVWF9ERU5TSVRZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMCwgLTIsIC0xLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRlJFUVVFTkNZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgLTEsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBBTkdMRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgfSxcbiAgICBCSVQ6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxXVxuICAgIH1cbiAgfTtcblxuICBmb3IgKHZhciBrZXkgaW4gQkFTRV9VTklUUykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShCQVNFX1VOSVRTLCBrZXkpKSB7XG4gICAgICBCQVNFX1VOSVRTW2tleV0ua2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuXG4gIHZhciBCQVNFX1VOSVRfTk9ORSA9IHt9O1xuICB2YXIgVU5JVF9OT05FID0ge1xuICAgIG5hbWU6ICcnLFxuICAgIGJhc2U6IEJBU0VfVU5JVF9OT05FLFxuICAgIHZhbHVlOiAxLFxuICAgIG9mZnNldDogMCxcbiAgICBkaW1lbnNpb25zOiBCQVNFX0RJTUVOU0lPTlMubWFwKHggPT4gMClcbiAgfTtcbiAgdmFyIFVOSVRTID0ge1xuICAgIC8vIGxlbmd0aFxuICAgIG1ldGVyOiB7XG4gICAgICBuYW1lOiAnbWV0ZXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBpbmNoOiB7XG4gICAgICBuYW1lOiAnaW5jaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDI1NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZm9vdDoge1xuICAgICAgbmFtZTogJ2Zvb3QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjMwNDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHlhcmQ6IHtcbiAgICAgIG5hbWU6ICd5YXJkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC45MTQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaWxlOiB7XG4gICAgICBuYW1lOiAnbWlsZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDE2MDkuMzQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICBuYW1lOiAnbGluaycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMjAxMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICByb2Q6IHtcbiAgICAgIG5hbWU6ICdyb2QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1LjAyOTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNoYWluOiB7XG4gICAgICBuYW1lOiAnY2hhaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyMC4xMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBhbmdzdHJvbToge1xuICAgICAgbmFtZTogJ2FuZ3N0cm9tJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMWUtMTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG06IHtcbiAgICAgIG5hbWU6ICdtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGluOiB7XG4gICAgICBuYW1lOiAnaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAyNTQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGZ0OiB7XG4gICAgICBuYW1lOiAnZnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjMwNDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHlkOiB7XG4gICAgICBuYW1lOiAneWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjkxNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pOiB7XG4gICAgICBuYW1lOiAnbWknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxNjA5LjM0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGk6IHtcbiAgICAgIG5hbWU6ICdsaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMjAxMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICByZDoge1xuICAgICAgbmFtZTogJ3JkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNS4wMjkyMTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNoOiB7XG4gICAgICBuYW1lOiAnY2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyMC4xMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaWw6IHtcbiAgICAgIG5hbWU6ICdtaWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAyNTQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDEvMTAwMCBpbmNoXG4gICAgLy8gU3VyZmFjZVxuICAgIG0yOiB7XG4gICAgICBuYW1lOiAnbTInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNRVUFSRUQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc3Fpbjoge1xuICAgICAgbmFtZTogJ3NxaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA2NDUxNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNjQ1LjE2IG1tMlxuICAgIHNxZnQ6IHtcbiAgICAgIG5hbWU6ICdzcWZ0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDkyOTAzMDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDkyOTAzMDQgbTJcbiAgICBzcXlkOiB7XG4gICAgICBuYW1lOiAnc3F5ZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjgzNjEyNzM2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjgzNjEyNzM2IG0yXG4gICAgc3FtaToge1xuICAgICAgbmFtZTogJ3NxbWknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjU4OTk4OC4xMTAzMzYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIuNTg5OTg4MTEwMzM2IGttMlxuICAgIHNxcmQ6IHtcbiAgICAgIG5hbWU6ICdzcXJkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI1LjI5Mjk1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyNS4yOTI5NSBtMlxuICAgIHNxY2g6IHtcbiAgICAgIG5hbWU6ICdzcWNoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQwNC42ODczLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0MDQuNjg3MyBtMlxuICAgIHNxbWlsOiB7XG4gICAgICBuYW1lOiAnc3FtaWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNi40NTE2ZS0xMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNi40NTE2ICogMTBeLTEwIG0yXG4gICAgYWNyZToge1xuICAgICAgbmFtZTogJ2FjcmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDA0Ni44NixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDA0Ni44NiBtMlxuICAgIGhlY3RhcmU6IHtcbiAgICAgIG5hbWU6ICdoZWN0YXJlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEwMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMDAwMCBtMlxuICAgIC8vIFZvbHVtZVxuICAgIG0zOiB7XG4gICAgICBuYW1lOiAnbTMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQ1VCSUMsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgTDoge1xuICAgICAgbmFtZTogJ0wnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGxpdHJlXG4gICAgbDoge1xuICAgICAgbmFtZTogJ2wnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGxpdHJlXG4gICAgbGl0cmU6IHtcbiAgICAgIG5hbWU6ICdsaXRyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjdWluOiB7XG4gICAgICBuYW1lOiAnY3VpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEuNjM4NzA2NGUtNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMS42Mzg3MDY0ZS01IG0zXG4gICAgY3VmdDoge1xuICAgICAgbmFtZTogJ2N1ZnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAyODMxNjg0NjU5MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjguMzE2IDg0NiA1OTIgTFxuICAgIGN1eWQ6IHtcbiAgICAgIG5hbWU6ICdjdXlkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC43NjQ1NTQ4NTc5ODQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDc2NC41NTQgODU3IDk4NCBMXG4gICAgdGVhc3Bvb246IHtcbiAgICAgIG5hbWU6ICd0ZWFzcG9vbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDA1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA1IG1MXG4gICAgdGFibGVzcG9vbjoge1xuICAgICAgbmFtZTogJ3RhYmxlc3Bvb24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAxNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTUgbUxcbiAgICAvLyB7bmFtZTogJ2N1cCcsIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDAuMDAwMjQwLCBvZmZzZXQ6IDB9LCAvLyAyNDAgbUwgIC8vIG5vdCBwb3NzaWJsZSwgd2UgaGF2ZSBhbHJlYWR5IGFub3RoZXIgY3VwXG4gICAgZHJvcDoge1xuICAgICAgbmFtZTogJ2Ryb3AnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1ZS04LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA1IG1MID0gNWUtOCBtM1xuICAgIGd0dDoge1xuICAgICAgbmFtZTogJ2d0dCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDVlLTgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDUgbUwgPSA1ZS04IG0zXG4gICAgLy8gTGlxdWlkIHZvbHVtZVxuICAgIG1pbmltOiB7XG4gICAgICBuYW1lOiAnbWluaW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwMDA2MTYxMTUyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA2MTYxMTUyIG1MXG4gICAgZmx1aWRkcmFtOiB7XG4gICAgICBuYW1lOiAnZmx1aWRkcmFtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDM2OTY2OTExLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjY5NjY5MSBtTFxuICAgIGZsdWlkb3VuY2U6IHtcbiAgICAgIG5hbWU6ICdmbHVpZG91bmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMjk1NzM1MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjkuNTczNTMgbUxcbiAgICBnaWxsOiB7XG4gICAgICBuYW1lOiAnZ2lsbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMTE4Mjk0MSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE4LjI5NDEgbUxcbiAgICBjYzoge1xuICAgICAgbmFtZTogJ2NjJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMWUtNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMWUtNiBMXG4gICAgY3VwOiB7XG4gICAgICBuYW1lOiAnY3VwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAyMzY1ODgyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyMzYuNTg4MiBtTFxuICAgIHBpbnQ6IHtcbiAgICAgIG5hbWU6ICdwaW50JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA0NzMxNzY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0NzMuMTc2NSBtTFxuICAgIHF1YXJ0OiB7XG4gICAgICBuYW1lOiAncXVhcnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDk0NjM1MjksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDk0Ni4zNTI5IG1MXG4gICAgZ2FsbG9uOiB7XG4gICAgICBuYW1lOiAnZ2FsbG9uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDM3ODU0MTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNzg1NDEyIExcbiAgICBiZWVyYmFycmVsOiB7XG4gICAgICBuYW1lOiAnYmVlcmJhcnJlbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTE3MzQ3OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE3LjM0NzggTFxuICAgIG9pbGJhcnJlbDoge1xuICAgICAgbmFtZTogJ29pbGJhcnJlbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTU4OTg3MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTU4Ljk4NzMgTFxuICAgIGhvZ3NoZWFkOiB7XG4gICAgICBuYW1lOiAnaG9nc2hlYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjIzODQ4MTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIzOC40ODEwIExcbiAgICAvLyB7bmFtZTogJ21pbicsIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDAuMDAwMDAwMDYxNjExNTIsIG9mZnNldDogMH0sIC8vIDAuMDYxNjExNTIgbUwgLy8gbWluIGlzIGFscmVhZHkgaW4gdXNlIGFzIG1pbnV0ZVxuICAgIGZsZHI6IHtcbiAgICAgIG5hbWU6ICdmbGRyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDM2OTY2OTExLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjY5NjY5MSBtTFxuICAgIGZsb3o6IHtcbiAgICAgIG5hbWU6ICdmbG96JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMjk1NzM1MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjkuNTczNTMgbUxcbiAgICBnaToge1xuICAgICAgbmFtZTogJ2dpJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAxMTgyOTQxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTguMjk0MSBtTFxuICAgIGNwOiB7XG4gICAgICBuYW1lOiAnY3AnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDIzNjU4ODIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIzNi41ODgyIG1MXG4gICAgcHQ6IHtcbiAgICAgIG5hbWU6ICdwdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwNDczMTc2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDczLjE3NjUgbUxcbiAgICBxdDoge1xuICAgICAgbmFtZTogJ3F0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA5NDYzNTI5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA5NDYuMzUyOSBtTFxuICAgIGdhbDoge1xuICAgICAgbmFtZTogJ2dhbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAzNzg1NDEyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjc4NTQxMiBMXG4gICAgYmJsOiB7XG4gICAgICBuYW1lOiAnYmJsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xMTczNDc4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTcuMzQ3OCBMXG4gICAgb2JsOiB7XG4gICAgICBuYW1lOiAnb2JsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xNTg5ODczLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxNTguOTg3MyBMXG4gICAgLy8ge25hbWU6ICdob2dzaGVhZCcsIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDAuMjM4NDgxMCwgb2Zmc2V0OiAwfSwgLy8gMjM4LjQ4MTAgTCAvLyBUT0RPOiBoaD9cbiAgICAvLyBNYXNzXG4gICAgZzoge1xuICAgICAgbmFtZTogJ2cnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncmFtOiB7XG4gICAgICBuYW1lOiAnZ3JhbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdG9uOiB7XG4gICAgICBuYW1lOiAndG9uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiA5MDcuMTg0NzQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHQ6IHtcbiAgICAgIG5hbWU6ICd0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0b25uZToge1xuICAgICAgbmFtZTogJ3Rvbm5lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyYWluOiB7XG4gICAgICBuYW1lOiAnZ3JhaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjQuNzk4OTFlLTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRyYW06IHtcbiAgICAgIG5hbWU6ICdkcmFtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEuNzcxODQ1MTk1MzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgb3VuY2U6IHtcbiAgICAgIG5hbWU6ICdvdW5jZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyOC4zNDk1MjMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHBvdW5kbWFzczoge1xuICAgICAgbmFtZTogJ3BvdW5kbWFzcycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NTMuNTkyMzdlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGh1bmRyZWR3ZWlnaHQ6IHtcbiAgICAgIG5hbWU6ICdodW5kcmVkd2VpZ2h0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1LjM1OTIzNyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc3RpY2s6IHtcbiAgICAgIG5hbWU6ICdzdGljaycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMTVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHN0b25lOiB7XG4gICAgICBuYW1lOiAnc3RvbmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNi4zNTAyOTMxOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3I6IHtcbiAgICAgIG5hbWU6ICdncicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2NC43OTg5MWUtNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHI6IHtcbiAgICAgIG5hbWU6ICdkcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLjc3MTg0NTE5NTMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG96OiB7XG4gICAgICBuYW1lOiAnb3onLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjguMzQ5NTIzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsYm06IHtcbiAgICAgIG5hbWU6ICdsYm0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUzLjU5MjM3ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjd3Q6IHtcbiAgICAgIG5hbWU6ICdjd3QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUuMzU5MjM3LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBUaW1lXG4gICAgczoge1xuICAgICAgbmFtZTogJ3MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbjoge1xuICAgICAgbmFtZTogJ21pbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2MCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaDoge1xuICAgICAgbmFtZTogJ2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzYwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc2Vjb25kOiB7XG4gICAgICBuYW1lOiAnc2Vjb25kJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHNlYzoge1xuICAgICAgbmFtZTogJ3NlYycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaW51dGU6IHtcbiAgICAgIG5hbWU6ICdtaW51dGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGhvdXI6IHtcbiAgICAgIG5hbWU6ICdob3VyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDM2MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRheToge1xuICAgICAgbmFtZTogJ2RheScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA4NjQwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgd2Vlazoge1xuICAgICAgbmFtZTogJ3dlZWsnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNyAqIDg2NDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtb250aDoge1xuICAgICAgbmFtZTogJ21vbnRoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI2Mjk4MDAsXG4gICAgICAvLyAxLzEydGggb2YgSnVsaWFuIHllYXJcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgeWVhcjoge1xuICAgICAgbmFtZTogJ3llYXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAsXG4gICAgICAvLyBKdWxpYW4geWVhclxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkZWNhZGU6IHtcbiAgICAgIG5hbWU6ICdkZWNhZGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAwLFxuICAgICAgLy8gSnVsaWFuIGRlY2FkZVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjZW50dXJ5OiB7XG4gICAgICBuYW1lOiAnY2VudHVyeScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMDAwLFxuICAgICAgLy8gSnVsaWFuIGNlbnR1cnlcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWlsbGVubml1bToge1xuICAgICAgbmFtZTogJ21pbGxlbm5pdW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAwMDAsXG4gICAgICAvLyBKdWxpYW4gbWlsbGVubml1bVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBGcmVxdWVuY3lcbiAgICBoZXJ0ejoge1xuICAgICAgbmFtZTogJ0hlcnR6JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRlJFUVVFTkNZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHJlY2lwcm9jYWw6IHRydWVcbiAgICB9LFxuICAgIEh6OiB7XG4gICAgICBuYW1lOiAnSHonLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GUkVRVUVOQ1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHJlY2lwcm9jYWw6IHRydWVcbiAgICB9LFxuICAgIC8vIEFuZ2xlXG4gICAgcmFkOiB7XG4gICAgICBuYW1lOiAncmFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcmFkaWFuOiB7XG4gICAgICBuYW1lOiAncmFkaWFuJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBkZWcgPSByYWQgLyAoMipwaSkgKiAzNjAgPSByYWQgLyAwLjAxNzQ1MzI5MjUxOTk0MzI5NTc2OTIzNjkwNzY4NDg4OFxuICAgIGRlZzoge1xuICAgICAgbmFtZTogJ2RlZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRlZ3JlZToge1xuICAgICAgbmFtZTogJ2RlZ3JlZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gZ3JhZCA9IHJhZCAvICgyKnBpKSAqIDQwMCAgPSByYWQgLyAwLjAxNTcwNzk2MzI2Nzk0ODk2NjE5MjMxMzIxNjkxNjM5OVxuICAgIGdyYWQ6IHtcbiAgICAgIG5hbWU6ICdncmFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3JhZGlhbjoge1xuICAgICAgbmFtZTogJ2dyYWRpYW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGN5Y2xlID0gcmFkIC8gKDIqcGkpID0gcmFkIC8gNi4yODMxODUzMDcxNzk1ODY0NzY5MjUyODY3NjY1NzkzXG4gICAgY3ljbGU6IHtcbiAgICAgIG5hbWU6ICdjeWNsZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gYXJjc2VjID0gcmFkIC8gKDM2MDAgKiAoMzYwIC8gMiAqIHBpKSkgPSByYWQgLyAwLjAwMDAwNDg0ODEzNjgxMTA5NTM1OTkzNTg5OTE0MTAyMzU3OTVcbiAgICBhcmNzZWM6IHtcbiAgICAgIG5hbWU6ICdhcmNzZWMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGFyY21pbiA9IHJhZCAvICg2MCAqICgzNjAgLyAyICogcGkpKSA9IHJhZCAvIDAuMDAwMjkwODg4MjA4NjY1NzIxNTk2MTUzOTQ4NDYxNDE0NzdcbiAgICBhcmNtaW46IHtcbiAgICAgIG5hbWU6ICdhcmNtaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGN1cnJlbnRcbiAgICBBOiB7XG4gICAgICBuYW1lOiAnQScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkNVUlJFTlQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYW1wZXJlOiB7XG4gICAgICBuYW1lOiAnYW1wZXJlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQ1VSUkVOVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFRlbXBlcmF0dXJlXG4gICAgLy8gSyhDKSA9IMKwQyArIDI3My4xNVxuICAgIC8vIEsoRikgPSAowrBGICsgNDU5LjY3KSAvIDEuOFxuICAgIC8vIEsoUikgPSDCsFIgLyAxLjhcbiAgICBLOiB7XG4gICAgICBuYW1lOiAnSycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGVnQzoge1xuICAgICAgbmFtZTogJ2RlZ0MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDI3My4xNVxuICAgIH0sXG4gICAgZGVnRjoge1xuICAgICAgbmFtZTogJ2RlZ0YnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDQ1OS42N1xuICAgIH0sXG4gICAgZGVnUjoge1xuICAgICAgbmFtZTogJ2RlZ1InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGtlbHZpbjoge1xuICAgICAgbmFtZTogJ2tlbHZpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2Vsc2l1czoge1xuICAgICAgbmFtZTogJ2NlbHNpdXMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDI3My4xNVxuICAgIH0sXG4gICAgZmFocmVuaGVpdDoge1xuICAgICAgbmFtZTogJ2ZhaHJlbmhlaXQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDQ1OS42N1xuICAgIH0sXG4gICAgcmFua2luZToge1xuICAgICAgbmFtZTogJ3JhbmtpbmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGFtb3VudCBvZiBzdWJzdGFuY2VcbiAgICBtb2w6IHtcbiAgICAgIG5hbWU6ICdtb2wnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTU9VTlRfT0ZfU1VCU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1vbGU6IHtcbiAgICAgIG5hbWU6ICdtb2xlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU1PVU5UX09GX1NVQlNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGx1bWlub3VzIGludGVuc2l0eVxuICAgIGNkOiB7XG4gICAgICBuYW1lOiAnY2QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MVU1JTk9VU19JTlRFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2FuZGVsYToge1xuICAgICAgbmFtZTogJ2NhbmRlbGEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MVU1JTk9VU19JTlRFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBUT0RPOiB1bml0cyBTVEVSQURJQU5cbiAgICAvLyB7bmFtZTogJ3NyJywgYmFzZTogQkFTRV9VTklUUy5TVEVSQURJQU4sIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMSwgb2Zmc2V0OiAwfSxcbiAgICAvLyB7bmFtZTogJ3N0ZXJhZGlhbicsIGJhc2U6IEJBU0VfVU5JVFMuU1RFUkFESUFOLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDEsIG9mZnNldDogMH0sXG4gICAgLy8gRm9yY2VcbiAgICBOOiB7XG4gICAgICBuYW1lOiAnTicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG5ld3Rvbjoge1xuICAgICAgbmFtZTogJ25ld3RvbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHluOiB7XG4gICAgICBuYW1lOiAnZHluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHluZToge1xuICAgICAgbmFtZTogJ2R5bmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDAuMDAwMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxiZjoge1xuICAgICAgbmFtZTogJ2xiZicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNC40NDgyMjE2MTUyNjA1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBwb3VuZGZvcmNlOiB7XG4gICAgICBuYW1lOiAncG91bmRmb3JjZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNC40NDgyMjE2MTUyNjA1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBraXA6IHtcbiAgICAgIG5hbWU6ICdraXAnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDQ0NDguMjIxNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAga2lsb2dyYW1mb3JjZToge1xuICAgICAgbmFtZTogJ2tpbG9ncmFtZm9yY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDkuODA2NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVuZXJneVxuICAgIEo6IHtcbiAgICAgIG5hbWU6ICdKJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGpvdWxlOiB7XG4gICAgICBuYW1lOiAnam91bGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZXJnOiB7XG4gICAgICBuYW1lOiAnZXJnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMWUtNyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgV2g6IHtcbiAgICAgIG5hbWU6ICdXaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAzNjAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBCVFU6IHtcbiAgICAgIG5hbWU6ICdCVFUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQlRVLFxuICAgICAgdmFsdWU6IDEwNTUuMDU1ODUyNjIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGVWOiB7XG4gICAgICBuYW1lOiAnZVYnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMS42MDIxNzY1NjVlLTE5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBlbGVjdHJvbnZvbHQ6IHtcbiAgICAgIG5hbWU6ICdlbGVjdHJvbnZvbHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLjYwMjE3NjU2NWUtMTksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFBvd2VyXG4gICAgVzoge1xuICAgICAgbmFtZTogJ1cnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB3YXR0OiB7XG4gICAgICBuYW1lOiAnd2F0dCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaHA6IHtcbiAgICAgIG5hbWU6ICdocCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNzQ1LjY5OTg3MTUzODYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljYWwgcG93ZXIgdW5pdHNcbiAgICBWQVI6IHtcbiAgICAgIG5hbWU6ICdWQVInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiBDb21wbGV4LkksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFZBOiB7XG4gICAgICBuYW1lOiAnVkEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBQcmVzc3VyZVxuICAgIFBhOiB7XG4gICAgICBuYW1lOiAnUGEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBwc2k6IHtcbiAgICAgIG5hbWU6ICdwc2knLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDY4OTQuNzU3MjkyNzY0NTksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGF0bToge1xuICAgICAgbmFtZTogJ2F0bScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTAxMzI1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBiYXI6IHtcbiAgICAgIG5hbWU6ICdiYXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVExPTkcsXG4gICAgICB2YWx1ZTogMTAwMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0b3JyOiB7XG4gICAgICBuYW1lOiAndG9ycicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTMzLjMyMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW1IZzoge1xuICAgICAgbmFtZTogJ21tSGcnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEzMy4zMjIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1tSDJPOiB7XG4gICAgICBuYW1lOiAnbW1IMk8nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDkuODA2NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNtSDJPOiB7XG4gICAgICBuYW1lOiAnY21IMk8nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDk4LjA2NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGNoYXJnZVxuICAgIGNvdWxvbWI6IHtcbiAgICAgIG5hbWU6ICdjb3Vsb21iJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0hBUkdFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgQzoge1xuICAgICAgbmFtZTogJ0MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DSEFSR0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY2FwYWNpdGFuY2VcbiAgICBmYXJhZDoge1xuICAgICAgbmFtZTogJ2ZhcmFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0FQQUNJVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBGOiB7XG4gICAgICBuYW1lOiAnRicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NBUEFDSVRBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIHBvdGVudGlhbFxuICAgIHZvbHQ6IHtcbiAgICAgIG5hbWU6ICd2b2x0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUE9URU5USUFMLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgVjoge1xuICAgICAgbmFtZTogJ1YnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19QT1RFTlRJQUwsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgcmVzaXN0YW5jZVxuICAgIG9obToge1xuICAgICAgbmFtZTogJ29obScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1JFU0lTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlRMT05HLFxuICAgICAgLy8gQm90aCBNb2htIGFuZCBtZWdhb2htIGFyZSBhY2NlcHRhYmxlXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIFVuaWNvZGUgYnJlYWtzIGluIGJyb3dzZXJzIGlmIGNoYXJzZXQgaXMgbm90IHNwZWNpZmllZFxuICAgIM6pOiB7XG4gICAgICBuYW1lOiAnzqknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19SRVNJU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgICovXG4gICAgLy8gRWxlY3RyaWMgaW5kdWN0YW5jZVxuICAgIGhlbnJ5OiB7XG4gICAgICBuYW1lOiAnaGVucnknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19JTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgbmFtZTogJ0gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19JTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGNvbmR1Y3RhbmNlXG4gICAgc2llbWVuczoge1xuICAgICAgbmFtZTogJ3NpZW1lbnMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DT05EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFM6IHtcbiAgICAgIG5hbWU6ICdTJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ09ORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gTWFnbmV0aWMgZmx1eFxuICAgIHdlYmVyOiB7XG4gICAgICBuYW1lOiAnd2ViZXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgV2I6IHtcbiAgICAgIG5hbWU6ICdXYicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gTWFnbmV0aWMgZmx1eCBkZW5zaXR5XG4gICAgdGVzbGE6IHtcbiAgICAgIG5hbWU6ICd0ZXNsYScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVhfREVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFQ6IHtcbiAgICAgIG5hbWU6ICdUJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWF9ERU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEJpbmFyeVxuICAgIGI6IHtcbiAgICAgIG5hbWU6ICdiJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBiaXRzOiB7XG4gICAgICBuYW1lOiAnYml0cycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBCOiB7XG4gICAgICBuYW1lOiAnQicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfU0hPUlQsXG4gICAgICB2YWx1ZTogOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYnl0ZXM6IHtcbiAgICAgIG5hbWU6ICdieXRlcycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfTE9ORyxcbiAgICAgIHZhbHVlOiA4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfVxuICB9OyAvLyBhbGlhc2VzIChmb3JtZXJseSBwbHVyYWxzKVxuXG4gIHZhciBBTElBU0VTID0ge1xuICAgIG1ldGVyczogJ21ldGVyJyxcbiAgICBpbmNoZXM6ICdpbmNoJyxcbiAgICBmZWV0OiAnZm9vdCcsXG4gICAgeWFyZHM6ICd5YXJkJyxcbiAgICBtaWxlczogJ21pbGUnLFxuICAgIGxpbmtzOiAnbGluaycsXG4gICAgcm9kczogJ3JvZCcsXG4gICAgY2hhaW5zOiAnY2hhaW4nLFxuICAgIGFuZ3N0cm9tczogJ2FuZ3N0cm9tJyxcbiAgICBsdDogJ2wnLFxuICAgIGxpdHJlczogJ2xpdHJlJyxcbiAgICBsaXRlcjogJ2xpdHJlJyxcbiAgICBsaXRlcnM6ICdsaXRyZScsXG4gICAgdGVhc3Bvb25zOiAndGVhc3Bvb24nLFxuICAgIHRhYmxlc3Bvb25zOiAndGFibGVzcG9vbicsXG4gICAgbWluaW1zOiAnbWluaW0nLFxuICAgIGZsdWlkZHJhbXM6ICdmbHVpZGRyYW0nLFxuICAgIGZsdWlkb3VuY2VzOiAnZmx1aWRvdW5jZScsXG4gICAgZ2lsbHM6ICdnaWxsJyxcbiAgICBjdXBzOiAnY3VwJyxcbiAgICBwaW50czogJ3BpbnQnLFxuICAgIHF1YXJ0czogJ3F1YXJ0JyxcbiAgICBnYWxsb25zOiAnZ2FsbG9uJyxcbiAgICBiZWVyYmFycmVsczogJ2JlZXJiYXJyZWwnLFxuICAgIG9pbGJhcnJlbHM6ICdvaWxiYXJyZWwnLFxuICAgIGhvZ3NoZWFkczogJ2hvZ3NoZWFkJyxcbiAgICBndHRzOiAnZ3R0JyxcbiAgICBncmFtczogJ2dyYW0nLFxuICAgIHRvbnM6ICd0b24nLFxuICAgIHRvbm5lczogJ3Rvbm5lJyxcbiAgICBncmFpbnM6ICdncmFpbicsXG4gICAgZHJhbXM6ICdkcmFtJyxcbiAgICBvdW5jZXM6ICdvdW5jZScsXG4gICAgcG91bmRtYXNzZXM6ICdwb3VuZG1hc3MnLFxuICAgIGh1bmRyZWR3ZWlnaHRzOiAnaHVuZHJlZHdlaWdodCcsXG4gICAgc3RpY2tzOiAnc3RpY2snLFxuICAgIGxiOiAnbGJtJyxcbiAgICBsYnM6ICdsYm0nLFxuICAgIGtpcHM6ICdraXAnLFxuICAgIGtnZjogJ2tpbG9ncmFtZm9yY2UnLFxuICAgIGFjcmVzOiAnYWNyZScsXG4gICAgaGVjdGFyZXM6ICdoZWN0YXJlJyxcbiAgICBzcWZlZXQ6ICdzcWZ0JyxcbiAgICBzcXlhcmQ6ICdzcXlkJyxcbiAgICBzcW1pbGU6ICdzcW1pJyxcbiAgICBzcW1pbGVzOiAnc3FtaScsXG4gICAgbW1oZzogJ21tSGcnLFxuICAgIG1taDJvOiAnbW1IMk8nLFxuICAgIGNtaDJvOiAnY21IMk8nLFxuICAgIHNlY29uZHM6ICdzZWNvbmQnLFxuICAgIHNlY3M6ICdzZWNvbmQnLFxuICAgIG1pbnV0ZXM6ICdtaW51dGUnLFxuICAgIG1pbnM6ICdtaW51dGUnLFxuICAgIGhvdXJzOiAnaG91cicsXG4gICAgaHI6ICdob3VyJyxcbiAgICBocnM6ICdob3VyJyxcbiAgICBkYXlzOiAnZGF5JyxcbiAgICB3ZWVrczogJ3dlZWsnLFxuICAgIG1vbnRoczogJ21vbnRoJyxcbiAgICB5ZWFyczogJ3llYXInLFxuICAgIGRlY2FkZXM6ICdkZWNhZGUnLFxuICAgIGNlbnR1cmllczogJ2NlbnR1cnknLFxuICAgIG1pbGxlbm5pYTogJ21pbGxlbm5pdW0nLFxuICAgIGhlcnR6OiAnaGVydHonLFxuICAgIHJhZGlhbnM6ICdyYWRpYW4nLFxuICAgIGRlZ3JlZXM6ICdkZWdyZWUnLFxuICAgIGdyYWRpYW5zOiAnZ3JhZGlhbicsXG4gICAgY3ljbGVzOiAnY3ljbGUnLFxuICAgIGFyY3NlY29uZDogJ2FyY3NlYycsXG4gICAgYXJjc2Vjb25kczogJ2FyY3NlYycsXG4gICAgYXJjbWludXRlOiAnYXJjbWluJyxcbiAgICBhcmNtaW51dGVzOiAnYXJjbWluJyxcbiAgICBCVFVzOiAnQlRVJyxcbiAgICB3YXR0czogJ3dhdHQnLFxuICAgIGpvdWxlczogJ2pvdWxlJyxcbiAgICBhbXBlcmVzOiAnYW1wZXJlJyxcbiAgICBjb3Vsb21iczogJ2NvdWxvbWInLFxuICAgIHZvbHRzOiAndm9sdCcsXG4gICAgb2htczogJ29obScsXG4gICAgZmFyYWRzOiAnZmFyYWQnLFxuICAgIHdlYmVyczogJ3dlYmVyJyxcbiAgICB0ZXNsYXM6ICd0ZXNsYScsXG4gICAgZWxlY3Ryb252b2x0czogJ2VsZWN0cm9udm9sdCcsXG4gICAgbW9sZXM6ICdtb2xlJyxcbiAgICBiaXQ6ICdiaXRzJyxcbiAgICBieXRlOiAnYnl0ZXMnXG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHZhbHVlcyBmb3IgdGhlIGFuZ2xlIHVuaXRzLlxuICAgKiBWYWx1ZSBpcyBjYWxjdWxhdGVkIGFzIG51bWJlciBvciBCaWdOdW1iZXIgZGVwZW5kaW5nIG9uIHRoZSBjb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSB7e251bWJlcjogJ251bWJlcicgfCAnQmlnTnVtYmVyJ319IGNvbmZpZ1xuICAgKi9cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVBbmdsZVZhbHVlcyhjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLm51bWJlciA9PT0gJ0JpZ051bWJlcicpIHtcbiAgICAgIHZhciBwaSA9IGNyZWF0ZVBpKF9CaWdOdW1iZXIpO1xuICAgICAgVU5JVFMucmFkLnZhbHVlID0gbmV3IF9CaWdOdW1iZXIoMSk7XG4gICAgICBVTklUUy5kZWcudmFsdWUgPSBwaS5kaXYoMTgwKTsgLy8gMiAqIHBpIC8gMzYwXG5cbiAgICAgIFVOSVRTLmdyYWQudmFsdWUgPSBwaS5kaXYoMjAwKTsgLy8gMiAqIHBpIC8gNDAwXG5cbiAgICAgIFVOSVRTLmN5Y2xlLnZhbHVlID0gcGkudGltZXMoMik7IC8vIDIgKiBwaVxuXG4gICAgICBVTklUUy5hcmNzZWMudmFsdWUgPSBwaS5kaXYoNjQ4MDAwKTsgLy8gMiAqIHBpIC8gMzYwIC8gMzYwMFxuXG4gICAgICBVTklUUy5hcmNtaW4udmFsdWUgPSBwaS5kaXYoMTA4MDApOyAvLyAyICogcGkgLyAzNjAgLyA2MFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBudW1iZXJcbiAgICAgIFVOSVRTLnJhZC52YWx1ZSA9IDE7XG4gICAgICBVTklUUy5kZWcudmFsdWUgPSBNYXRoLlBJIC8gMTgwOyAvLyAyICogcGkgLyAzNjBcblxuICAgICAgVU5JVFMuZ3JhZC52YWx1ZSA9IE1hdGguUEkgLyAyMDA7IC8vIDIgKiBwaSAvIDQwMFxuXG4gICAgICBVTklUUy5jeWNsZS52YWx1ZSA9IE1hdGguUEkgKiAyOyAvLyAyICogcGlcblxuICAgICAgVU5JVFMuYXJjc2VjLnZhbHVlID0gTWF0aC5QSSAvIDY0ODAwMDsgLy8gMiAqIHBpIC8gMzYwIC8gMzYwMFxuXG4gICAgICBVTklUUy5hcmNtaW4udmFsdWUgPSBNYXRoLlBJIC8gMTA4MDA7IC8vIDIgKiBwaSAvIDM2MCAvIDYwXG4gICAgfSAvLyBjb3B5IHRvIHRoZSBmdWxsIG5hbWVzIG9mIHRoZSBhbmdsZXNcblxuXG4gICAgVU5JVFMucmFkaWFuLnZhbHVlID0gVU5JVFMucmFkLnZhbHVlO1xuICAgIFVOSVRTLmRlZ3JlZS52YWx1ZSA9IFVOSVRTLmRlZy52YWx1ZTtcbiAgICBVTklUUy5ncmFkaWFuLnZhbHVlID0gVU5JVFMuZ3JhZC52YWx1ZTtcbiAgfSAvLyBhcHBseSB0aGUgYW5nbGUgdmFsdWVzIG5vd1xuXG5cbiAgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoY29uZmlnKTtcblxuICBpZiAob24pIHtcbiAgICAvLyByZWNhbGN1bGF0ZSB0aGUgdmFsdWVzIG9uIGNoYW5nZSBvZiBjb25maWd1cmF0aW9uXG4gICAgb24oJ2NvbmZpZycsIGZ1bmN0aW9uIChjdXJyLCBwcmV2KSB7XG4gICAgICBpZiAoY3Vyci5udW1iZXIgIT09IHByZXYubnVtYmVyKSB7XG4gICAgICAgIGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKGN1cnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBIHVuaXQgc3lzdGVtIGlzIGEgc2V0IG9mIGRpbWVuc2lvbmFsbHkgaW5kZXBlbmRlbnQgYmFzZSB1bml0cyBwbHVzIGEgc2V0IG9mIGRlcml2ZWQgdW5pdHMsIGZvcm1lZCBieSBtdWx0aXBsaWNhdGlvbiBhbmQgZGl2aXNpb24gb2YgdGhlIGJhc2UgdW5pdHMsIHRoYXQgYXJlIGJ5IGNvbnZlbnRpb24gdXNlZCB3aXRoIHRoZSB1bml0IHN5c3RlbS5cbiAgICogQSB1c2VyIHBlcmhhcHMgY291bGQgaXNzdWUgYSBjb21tYW5kIHRvIHNlbGVjdCBhIHByZWZlcnJlZCB1bml0IHN5c3RlbSwgb3IgdXNlIHRoZSBkZWZhdWx0IChzZWUgYmVsb3cpLlxuICAgKiBBdXRvIHVuaXQgc3lzdGVtOiBUaGUgZGVmYXVsdCB1bml0IHN5c3RlbSBpcyB1cGRhdGVkIG9uIHRoZSBmbHkgYW55dGltZSBhIHVuaXQgaXMgcGFyc2VkLiBUaGUgY29ycmVzcG9uZGluZyB1bml0IGluIHRoZSBkZWZhdWx0IHVuaXQgc3lzdGVtIGlzIHVwZGF0ZWQsIHNvIHRoYXQgYW5zd2VycyBhcmUgZ2l2ZW4gaW4gdGhlIHNhbWUgdW5pdHMgdGhlIHVzZXIgc3VwcGxpZXMuXG4gICAqL1xuXG5cbiAgdmFyIFVOSVRfU1lTVEVNUyA9IHtcbiAgICBzaToge1xuICAgICAgLy8gQmFzZSB1bml0c1xuICAgICAgTk9ORToge1xuICAgICAgICB1bml0OiBVTklUX05PTkUsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgICAgIH0sXG4gICAgICBMRU5HVEg6IHtcbiAgICAgICAgdW5pdDogVU5JVFMubSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBNQVNTOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLmcsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlQua1xuICAgICAgfSxcbiAgICAgIFRJTUU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMucyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBDVVJSRU5UOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkEsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgVEVNUEVSQVRVUkU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBMVU1JTk9VU19JTlRFTlNJVFk6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuY2QsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQU1PVU5UX09GX1NVQlNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5tb2wsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQU5HTEU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMucmFkLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEJJVDoge1xuICAgICAgICB1bml0OiBVTklUUy5iaXRzLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIC8vIERlcml2ZWQgdW5pdHNcbiAgICAgIEZPUkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLk4sXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRU5FUkdZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkosXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgUE9XRVI6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuVyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBQUkVTU1VSRToge1xuICAgICAgICB1bml0OiBVTklUUy5QYSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19DSEFSR0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuQyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19DQVBBQ0lUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5GLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX1BPVEVOVElBTDoge1xuICAgICAgICB1bml0OiBVTklUUy5WLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX1JFU0lTVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMub2htLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0lORFVDVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19DT05EVUNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5TLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIE1BR05FVElDX0ZMVVg6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuV2IsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTUFHTkVUSUNfRkxVWF9ERU5TSVRZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlQsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRlJFUVVFTkNZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkh6LFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfVxuICAgIH1cbiAgfTsgLy8gQ2xvbmUgdG8gY3JlYXRlIHRoZSBvdGhlciB1bml0IHN5c3RlbXNcblxuICBVTklUX1NZU1RFTVMuY2dzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShVTklUX1NZU1RFTVMuc2kpKTtcbiAgVU5JVF9TWVNURU1TLmNncy5MRU5HVEggPSB7XG4gICAgdW5pdDogVU5JVFMubSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JULmNcbiAgfTtcbiAgVU5JVF9TWVNURU1TLmNncy5NQVNTID0ge1xuICAgIHVuaXQ6IFVOSVRTLmcsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLmNncy5GT1JDRSA9IHtcbiAgICB1bml0OiBVTklUUy5keW4sXG4gICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLmNncy5FTkVSR1kgPSB7XG4gICAgdW5pdDogVU5JVFMuZXJnLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTsgLy8gdGhlcmUgYXJlIHdob2xseSA0IHVuaXF1ZSBjZ3Mgc3lzdGVtcyBmb3IgZWxlY3RyaWNpdHkgYW5kIG1hZ25ldGlzbSxcbiAgLy8gc28gbGV0J3Mgbm90IHdvcnJ5IGFib3V0IGl0IHVubGVzcyBzb21lYm9keSBjb21wbGFpbnNcblxuICBVTklUX1NZU1RFTVMudXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFVOSVRfU1lTVEVNUy5zaSkpO1xuICBVTklUX1NZU1RFTVMudXMuTEVOR1RIID0ge1xuICAgIHVuaXQ6IFVOSVRTLmZ0LFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLk1BU1MgPSB7XG4gICAgdW5pdDogVU5JVFMubGJtLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLlRFTVBFUkFUVVJFID0ge1xuICAgIHVuaXQ6IFVOSVRTLmRlZ0YsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuRk9SQ0UgPSB7XG4gICAgdW5pdDogVU5JVFMubGJmLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLkVORVJHWSA9IHtcbiAgICB1bml0OiBVTklUUy5CVFUsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5CVFVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5QT1dFUiA9IHtcbiAgICB1bml0OiBVTklUUy5ocCxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5QUkVTU1VSRSA9IHtcbiAgICB1bml0OiBVTklUUy5wc2ksXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9OyAvLyBBZGQgYWRkaXRpb25hbCB1bml0IHN5c3RlbXMgaGVyZS5cbiAgLy8gQ2hvb3NlIGEgdW5pdCBzeXN0ZW0gdG8gc2VlZCB0aGUgYXV0byB1bml0IHN5c3RlbS5cblxuICBVTklUX1NZU1RFTVMuYXV0byA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoVU5JVF9TWVNURU1TLnNpKSk7IC8vIFNldCB0aGUgY3VycmVudCB1bml0IHN5c3RlbVxuXG4gIHZhciBjdXJyZW50VW5pdFN5c3RlbSA9IFVOSVRfU1lTVEVNUy5hdXRvO1xuICAvKipcbiAgICogU2V0IGEgdW5pdCBzeXN0ZW0gZm9yIGZvcm1hdHRpbmcgZGVyaXZlZCB1bml0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSBUaGUgbmFtZSBvZiB0aGUgdW5pdCBzeXN0ZW0uXG4gICAqL1xuXG4gIFVuaXQuc2V0VW5pdFN5c3RlbSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRfU1lTVEVNUywgbmFtZSkpIHtcbiAgICAgIGN1cnJlbnRVbml0U3lzdGVtID0gVU5JVF9TWVNURU1TW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXQgc3lzdGVtICcgKyBuYW1lICsgJyBkb2VzIG5vdCBleGlzdC4gQ2hvaWNlcyBhcmU6ICcgKyBPYmplY3Qua2V5cyhVTklUX1NZU1RFTVMpLmpvaW4oJywgJykpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCB1bml0IHN5c3RlbS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3VycmVudCB1bml0IHN5c3RlbS5cbiAgICovXG5cblxuICBVbml0LmdldFVuaXRTeXN0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2tleSBpbiBVTklUX1NZU1RFTVMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUX1NZU1RFTVMsIF9rZXkpKSB7XG4gICAgICAgIGlmIChVTklUX1NZU1RFTVNbX2tleV0gPT09IGN1cnJlbnRVbml0U3lzdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIF9rZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDb252ZXJ0ZXJzIHRvIGNvbnZlcnQgZnJvbSBudW1iZXIgdG8gYW4gb3RoZXIgbnVtZXJpYyB0eXBlIGxpa2UgQmlnTnVtYmVyXG4gICAqIG9yIEZyYWN0aW9uXG4gICAqL1xuXG5cbiAgVW5pdC50eXBlQ29udmVydGVycyA9IHtcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4gbmV3IF9CaWdOdW1iZXIoeCArICcnKTsgLy8gc3RyaW5naWZ5IHRvIHByZXZlbnQgY29uc3RydWN0b3IgZXJyb3JcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4gbmV3IF9GcmFjdGlvbih4KTtcbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgcmlnaHQgY29udmVydG9yIGZ1bmN0aW9uIGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgdHlwZVxuICAgKiBvZiBwcm92aWRlZCBleGFtcGxlVmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlICAgQSBzdHJpbmcgJ251bWJlcicsICdCaWdOdW1iZXInLCBvciAnRnJhY3Rpb24nXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBhbiB1bmtub3duIHR5cGUsXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgKi9cblxuICBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmICghVW5pdC50eXBlQ29udmVydGVyc1t0eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBcIicgKyB0eXBlICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFVuaXQudHlwZUNvbnZlcnRlcnNbdHlwZV07XG4gIH07IC8vIEFkZCBkaW1lbnNpb25zIHRvIGVhY2ggYnVpbHQtaW4gdW5pdFxuXG5cbiAgZm9yICh2YXIgX2tleTIgaW4gVU5JVFMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIF9rZXkyKSkge1xuICAgICAgdmFyIHVuaXQgPSBVTklUU1tfa2V5Ml07XG4gICAgICB1bml0LmRpbWVuc2lvbnMgPSB1bml0LmJhc2UuZGltZW5zaW9ucztcbiAgICB9XG4gIH0gLy8gQ3JlYXRlIGFsaWFzZXNcblxuXG4gIGZvciAodmFyIF9uYW1lMiBpbiBBTElBU0VTKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KEFMSUFTRVMsIF9uYW1lMikpIHtcbiAgICAgIHZhciBfdW5pdDIgPSBVTklUU1tBTElBU0VTW19uYW1lMl1dO1xuICAgICAgdmFyIGFsaWFzID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXkzIGluIF91bml0Mikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoX3VuaXQyLCBfa2V5MykpIHtcbiAgICAgICAgICBhbGlhc1tfa2V5M10gPSBfdW5pdDJbX2tleTNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFsaWFzLm5hbWUgPSBfbmFtZTI7XG4gICAgICBVTklUU1tfbmFtZTJdID0gYWxpYXM7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBsYXRpbiBsZXR0ZXIgKHVwcGVyIG9yIGxvd2VyIGNhc2UpLlxuICAgKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGRlbiwgZm9yIGV4YW1wbGUgdG8gYWxsb3cgc3VwcG9ydCBvZiBvdGhlciBhbHBoYWJldHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjIFRlc3RlZCBjaGFyYWN0ZXJcbiAgICovXG5cblxuICBVbml0LmlzVmFsaWRBbHBoYSA9IGZ1bmN0aW9uIGlzVmFsaWRBbHBoYShjKSB7XG4gICAgcmV0dXJuIC9eW2EtekEtWl0kLy50ZXN0KGMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFzc2VydFVuaXROYW1lSXNWYWxpZChuYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjID0gbmFtZS5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChpID09PSAwICYmICFVbml0LmlzVmFsaWRBbHBoYShjKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdW5pdCBuYW1lIChtdXN0IGJlZ2luIHdpdGggYWxwaGEgY2hhcmFjdGVyKTogXCInICsgbmFtZSArICdcIicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaSA+IDAgJiYgIShVbml0LmlzVmFsaWRBbHBoYShjKSB8fCBpc0RpZ2l0KGMpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdW5pdCBuYW1lIChvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIGFyZSBhbGxvd2VkKTogXCInICsgbmFtZSArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogV3JhcHBlciBhcm91bmQgY3JlYXRlVW5pdFNpbmdsZS5cbiAgICogRXhhbXBsZTpcbiAgICogIGNyZWF0ZVVuaXQoe1xuICAgKiAgICBmb286IHsgfSxcbiAgICogICAgYmFyOiB7XG4gICAqICAgICAgZGVmaW5pdGlvbjogJ2tnL2ZvbycsXG4gICAqICAgICAgYWxpYXNlczogWydiYScsICdiYXJyJywgJ2JhcnMnXSxcbiAgICogICAgICBvZmZzZXQ6IDIwMFxuICAgKiAgICB9LFxuICAgKiAgICBiYXo6ICc0IGJhcidcbiAgICogIH0sXG4gICAqICB7XG4gICAqICAgIG92ZXJyaWRlOiB0cnVlXG4gICAqICB9KVxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqICAgICAgT2JqZWN0IG1hcC4gRWFjaCBrZXkgYmVjb21lcyBhIHVuaXQgd2hpY2ggaXMgZGVmaW5lZCBieSBpdHMgdmFsdWUuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAqL1xuXG5cbiAgVW5pdC5jcmVhdGVVbml0ID0gZnVuY3Rpb24gKG9iaiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNyZWF0ZVVuaXQgZXhwZWN0cyBmaXJzdCBwYXJhbWV0ZXIgdG8gYmUgb2YgdHlwZSAnT2JqZWN0J1wiKTtcbiAgICB9IC8vIFJlbW92ZSBhbGwgdW5pdHMgYW5kIGFsaWFzZXMgd2UgYXJlIG92ZXJyaWRpbmdcblxuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vdmVycmlkZSkge1xuICAgICAgZm9yICh2YXIgX2tleTQgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIF9rZXk0KSkge1xuICAgICAgICAgIFVuaXQuZGVsZXRlVW5pdChfa2V5NCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JqW19rZXk0XS5hbGlhc2VzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpbX2tleTRdLmFsaWFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIFVuaXQuZGVsZXRlVW5pdChvYmpbX2tleTRdLmFsaWFzZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gVE9ETzogdHJhdmVyc2UgbXVsdGlwbGUgdGltZXMgdW50aWwgYWxsIHVuaXRzIGhhdmUgYmVlbiBhZGRlZFxuXG5cbiAgICB2YXIgbGFzdFVuaXQ7XG5cbiAgICBmb3IgKHZhciBfa2V5NSBpbiBvYmopIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIF9rZXk1KSkge1xuICAgICAgICBsYXN0VW5pdCA9IFVuaXQuY3JlYXRlVW5pdFNpbmdsZShfa2V5NSwgb2JqW19rZXk1XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3RVbml0O1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgdXNlci1kZWZpbmVkIHVuaXQgYW5kIHJlZ2lzdGVyIGl0IHdpdGggdGhlIFVuaXQgdHlwZS5cbiAgICogRXhhbXBsZTpcbiAgICogIGNyZWF0ZVVuaXRTaW5nbGUoJ2tub3QnLCAnMC41MTQ0NDQ0NDQgbS9zJylcbiAgICogIGNyZWF0ZVVuaXRTaW5nbGUoJ2FjcmUnLCBuZXcgVW5pdCg0MzU2MCwgJ2Z0XjInKSlcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICBUaGUgbmFtZSBvZiB0aGUgbmV3IHVuaXQuIE11c3QgYmUgdW5pcXVlLiBFeGFtcGxlOiAna25vdCdcbiAgICogQHBhcmFtIHtzdHJpbmcsIFVuaXQsIE9iamVjdH0gZGVmaW5pdGlvbiAgICAgIERlZmluaXRpb24gb2YgdGhlIHVuaXQgaW4gdGVybXNcbiAgICogb2YgZXhpc3RpbmcgdW5pdHMuIEZvciBleGFtcGxlLCAnMC41MTQ0NDQ0NDQgbSAvIHMnLiBDYW4gYmUgYSBVbml0LCBhIHN0cmluZyxcbiAgICogb3IgYW4gT2JqZWN0LiBJZiBhbiBPYmplY3QsIG1heSBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogICAtIGRlZmluaXRpb24ge3N0cmluZ3xVbml0fSBUaGUgZGVmaW5pdGlvbiBvZiB0aGlzIHVuaXQuXG4gICAqICAgLSBwcmVmaXhlcyB7c3RyaW5nfSBcIm5vbmVcIiwgXCJzaG9ydFwiLCBcImxvbmdcIiwgXCJiaW5hcnlfc2hvcnRcIiwgb3IgXCJiaW5hcnlfbG9uZ1wiLlxuICAgKiAgICAgVGhlIGRlZmF1bHQgaXMgXCJub25lXCIuXG4gICAqICAgLSBhbGlhc2VzIHtBcnJheX0gQXJyYXkgb2Ygc3RyaW5ncy4gRXhhbXBsZTogWydrbm90cycsICdrdCcsICdrdHMnXVxuICAgKiAgIC0gb2Zmc2V0IHtOdW1lcmljfSBBbiBvZmZzZXQgdG8gYXBwbHkgd2hlbiBjb252ZXJ0aW5nIGZyb20gdGhlIHVuaXQuIEZvclxuICAgKiAgICAgZXhhbXBsZSwgdGhlIG9mZnNldCBmb3IgY2Vsc2l1cyBpcyAyNzMuMTUgYW5kIHRoZSBvZmZzZXQgZm9yIGZhcmhlbmhlaXRcbiAgICogICAgIGlzIDQ1OS42Ny4gRGVmYXVsdCBpcyAwLlxuICAgKiAgIC0gYmFzZU5hbWUge3N0cmluZ30gSWYgdGhlIHVuaXQncyBkaW1lbnNpb24gZG9lcyBub3QgbWF0Y2ggdGhhdCBvZiBhbnkgb3RoZXJcbiAgICogICAgIGJhc2UgdW5pdCwgdGhlIG5hbWUgb2YgdGhlIG5ld2x5IGNyZWF0ZSBiYXNlIHVuaXQuIE90aGVyd2lzZSwgdGhpcyBwcm9wZXJ0eVxuICAgKiAgICAgaGFzIG5vIGVmZmVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAob3B0aW9uYWwpIEFuIG9iamVjdCBjb250YWluaW5nIGFueSBvZiB0aGUgZm9sbG93aW5nXG4gICAqIHByb3BlcnRpZXM6XG4gICAqICAgLSBvdmVycmlkZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIHVuaXQgc2hvdWxkIGJlIGFsbG93ZWQgdG8gb3ZlcnJpZGUgZXhpc3RpbmdcbiAgICogICAgIHVuaXRzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtVbml0fVxuICAgKi9cblxuXG4gIFVuaXQuY3JlYXRlVW5pdFNpbmdsZSA9IGZ1bmN0aW9uIChuYW1lLCBvYmosIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICBvYmogPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY3JlYXRlVW5pdFNpbmdsZSBleHBlY3RzIGZpcnN0IHBhcmFtZXRlciB0byBiZSBvZiB0eXBlICdzdHJpbmcnXCIpO1xuICAgIH0gLy8gQ2hlY2sgY29sbGlzaW9ucyB3aXRoIGV4aXN0aW5nIHVuaXRzXG5cblxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgbmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSB1bml0IFwiJyArIG5hbWUgKyAnXCI6IGEgdW5pdCB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH0gLy8gVE9ETzogVmFsaWRhdGUgbmFtZSBmb3IgY29sbGlzaW9ucyB3aXRoIG90aGVyIGJ1aWx0LWluIGZ1bmN0aW9ucyAobGlrZSBhYnMgb3IgY29zLCBmb3IgZXhhbXBsZSksIGFuZCBmb3IgYWNjZXB0YWJsZSB2YXJpYWJsZSBuYW1lcy4gRm9yIGV4YW1wbGUsICc0MicgaXMgcHJvYmFibHkgbm90IGEgdmFsaWQgdW5pdC4gTm9yIGlzICclJywgc2luY2UgaXQgaXMgYWxzbyBhbiBvcGVyYXRvci5cblxuXG4gICAgYXNzZXJ0VW5pdE5hbWVJc1ZhbGlkKG5hbWUpO1xuICAgIHZhciBkZWZVbml0ID0gbnVsbDsgLy8gVGhlIFVuaXQgZnJvbSB3aGljaCB0aGUgbmV3IHVuaXQgd2lsbCBiZSBjcmVhdGVkLlxuXG4gICAgdmFyIGFsaWFzZXMgPSBbXTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICB2YXIgZGVmaW5pdGlvbjtcbiAgICB2YXIgcHJlZml4ZXM7XG4gICAgdmFyIGJhc2VOYW1lO1xuXG4gICAgaWYgKG9iaiAmJiBvYmoudHlwZSA9PT0gJ1VuaXQnKSB7XG4gICAgICBkZWZVbml0ID0gb2JqLmNsb25lKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKG9iaiAhPT0gJycpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IG9iajtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBkZWZpbml0aW9uID0gb2JqLmRlZmluaXRpb247XG4gICAgICBwcmVmaXhlcyA9IG9iai5wcmVmaXhlcztcbiAgICAgIG9mZnNldCA9IG9iai5vZmZzZXQ7XG4gICAgICBiYXNlTmFtZSA9IG9iai5iYXNlTmFtZTtcblxuICAgICAgaWYgKG9iai5hbGlhc2VzKSB7XG4gICAgICAgIGFsaWFzZXMgPSBvYmouYWxpYXNlcy52YWx1ZU9mKCk7IC8vIGFsaWFzZXMgY291bGQgYmUgYSBNYXRyaXgsIHNvIGNvbnZlcnQgdG8gQXJyYXlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNyZWF0ZSB1bml0IFwiJyArIG5hbWUgKyAnXCIgZnJvbSBcIicgKyBvYmoudG9TdHJpbmcoKSArICdcIjogZXhwZWN0aW5nIFwic3RyaW5nXCIgb3IgXCJVbml0XCIgb3IgXCJPYmplY3RcIicpO1xuICAgIH1cblxuICAgIGlmIChhbGlhc2VzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsaWFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBhbGlhc2VzW2ldKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBhbGlhcyBcIicgKyBhbGlhc2VzW2ldICsgJ1wiOiBhIHVuaXQgd2l0aCB0aGF0IG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkZWZpbml0aW9uICYmIHR5cGVvZiBkZWZpbml0aW9uID09PSAnc3RyaW5nJyAmJiAhZGVmVW5pdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGVmVW5pdCA9IFVuaXQucGFyc2UoZGVmaW5pdGlvbiwge1xuICAgICAgICAgIGFsbG93Tm9Vbml0czogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGV4Lm1lc3NhZ2UgPSAnQ291bGQgbm90IGNyZWF0ZSB1bml0IFwiJyArIG5hbWUgKyAnXCIgZnJvbSBcIicgKyBkZWZpbml0aW9uICsgJ1wiOiAnICsgZXgubWVzc2FnZTtcbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkZWZpbml0aW9uICYmIGRlZmluaXRpb24udHlwZSA9PT0gJ1VuaXQnKSB7XG4gICAgICBkZWZVbml0ID0gZGVmaW5pdGlvbi5jbG9uZSgpO1xuICAgIH1cblxuICAgIGFsaWFzZXMgPSBhbGlhc2VzIHx8IFtdO1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgaWYgKHByZWZpeGVzICYmIHByZWZpeGVzLnRvVXBwZXJDYXNlKSB7XG4gICAgICBwcmVmaXhlcyA9IFBSRUZJWEVTW3ByZWZpeGVzLnRvVXBwZXJDYXNlKCldIHx8IFBSRUZJWEVTLk5PTkU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZpeGVzID0gUFJFRklYRVMuTk9ORTtcbiAgICB9IC8vIElmIGRlZlVuaXQgaXMgbnVsbCwgaXQgaXMgYmVjYXVzZSB0aGUgdXNlciBkaWQgbm90XG4gICAgLy8gc3BlY2lmeSBhIGRlZmludGlvbi4gU28gY3JlYXRlIGEgbmV3IGJhc2UgZGltZW5zaW9uLlxuXG5cbiAgICB2YXIgbmV3VW5pdCA9IHt9O1xuXG4gICAgaWYgKCFkZWZVbml0KSB7XG4gICAgICAvLyBBZGQgYSBuZXcgYmFzZSBkaW1lbnNpb25cbiAgICAgIGJhc2VOYW1lID0gYmFzZU5hbWUgfHwgbmFtZSArICdfU1RVRkYnOyAvLyBmb28gLS0+IGZvb19TVFVGRiwgb3IgdGhlIGVzc2VuY2Ugb2YgZm9vXG5cbiAgICAgIGlmIChCQVNFX0RJTUVOU0lPTlMuaW5kZXhPZihiYXNlTmFtZSkgPj0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgbmV3IGJhc2UgdW5pdCBcIicgKyBuYW1lICsgJ1wiOiBhIGJhc2UgdW5pdCB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cyAoYW5kIGNhbm5vdCBiZSBvdmVycmlkZGVuKScpO1xuICAgICAgfVxuXG4gICAgICBCQVNFX0RJTUVOU0lPTlMucHVzaChiYXNlTmFtZSk7IC8vIFB1c2ggMCBvbnRvIGV4aXN0aW5nIGJhc2UgdW5pdHNcblxuICAgICAgZm9yICh2YXIgYiBpbiBCQVNFX1VOSVRTKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShCQVNFX1VOSVRTLCBiKSkge1xuICAgICAgICAgIEJBU0VfVU5JVFNbYl0uZGltZW5zaW9uc1tCQVNFX0RJTUVOU0lPTlMubGVuZ3RoIC0gMV0gPSAwO1xuICAgICAgICB9XG4gICAgICB9IC8vIEFkZCB0aGUgbmV3IGJhc2UgdW5pdFxuXG5cbiAgICAgIHZhciBuZXdCYXNlVW5pdCA9IHtcbiAgICAgICAgZGltZW5zaW9uczogW11cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IF9pNisrKSB7XG4gICAgICAgIG5ld0Jhc2VVbml0LmRpbWVuc2lvbnNbX2k2XSA9IDA7XG4gICAgICB9XG5cbiAgICAgIG5ld0Jhc2VVbml0LmRpbWVuc2lvbnNbQkFTRV9ESU1FTlNJT05TLmxlbmd0aCAtIDFdID0gMTtcbiAgICAgIG5ld0Jhc2VVbml0LmtleSA9IGJhc2VOYW1lO1xuICAgICAgQkFTRV9VTklUU1tiYXNlTmFtZV0gPSBuZXdCYXNlVW5pdDtcbiAgICAgIG5ld1VuaXQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBkaW1lbnNpb25zOiBCQVNFX1VOSVRTW2Jhc2VOYW1lXS5kaW1lbnNpb25zLnNsaWNlKDApLFxuICAgICAgICBwcmVmaXhlczogcHJlZml4ZXMsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBiYXNlOiBCQVNFX1VOSVRTW2Jhc2VOYW1lXVxuICAgICAgfTtcbiAgICAgIGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VOYW1lXSA9IHtcbiAgICAgICAgdW5pdDogbmV3VW5pdCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VW5pdCA9IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IGRlZlVuaXQudmFsdWUsXG4gICAgICAgIGRpbWVuc2lvbnM6IGRlZlVuaXQuZGltZW5zaW9ucy5zbGljZSgwKSxcbiAgICAgICAgcHJlZml4ZXM6IHByZWZpeGVzLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgfTsgLy8gQ3JlYXRlIGEgbmV3IGJhc2UgaWYgbm8gbWF0Y2hpbmcgYmFzZSBleGlzdHNcblxuICAgICAgdmFyIGFueU1hdGNoID0gZmFsc2U7XG5cbiAgICAgIGZvciAodmFyIF9pNyBpbiBCQVNFX1VOSVRTKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShCQVNFX1VOSVRTLCBfaTcpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gdHJ1ZTtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoKG5ld1VuaXQuZGltZW5zaW9uc1tqXSB8fCAwKSAtIChCQVNFX1VOSVRTW19pN10uZGltZW5zaW9uc1tqXSB8fCAwKSkgPiAxZS0xMikge1xuICAgICAgICAgICAgICBtYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGFueU1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld1VuaXQuYmFzZSA9IEJBU0VfVU5JVFNbX2k3XTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWFueU1hdGNoKSB7XG4gICAgICAgIGJhc2VOYW1lID0gYmFzZU5hbWUgfHwgbmFtZSArICdfU1RVRkYnOyAvLyBmb28gLS0+IGZvb19TVFVGRiwgb3IgdGhlIGVzc2VuY2Ugb2YgZm9vXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IGJhc2UgdW5pdFxuXG4gICAgICAgIHZhciBfbmV3QmFzZVVuaXQgPSB7XG4gICAgICAgICAgZGltZW5zaW9uczogZGVmVW5pdC5kaW1lbnNpb25zLnNsaWNlKDApXG4gICAgICAgIH07XG4gICAgICAgIF9uZXdCYXNlVW5pdC5rZXkgPSBiYXNlTmFtZTtcbiAgICAgICAgQkFTRV9VTklUU1tiYXNlTmFtZV0gPSBfbmV3QmFzZVVuaXQ7XG4gICAgICAgIGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VOYW1lXSA9IHtcbiAgICAgICAgICB1bml0OiBuZXdVbml0LFxuICAgICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgICAgICAgfTtcbiAgICAgICAgbmV3VW5pdC5iYXNlID0gQkFTRV9VTklUU1tiYXNlTmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgVW5pdC5VTklUU1tuYW1lXSA9IG5ld1VuaXQ7XG5cbiAgICBmb3IgKHZhciBfaTggPSAwOyBfaTggPCBhbGlhc2VzLmxlbmd0aDsgX2k4KyspIHtcbiAgICAgIHZhciBhbGlhc05hbWUgPSBhbGlhc2VzW19pOF07XG4gICAgICB2YXIgX2FsaWFzID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXk2IGluIG5ld1VuaXQpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG5ld1VuaXQsIF9rZXk2KSkge1xuICAgICAgICAgIF9hbGlhc1tfa2V5Nl0gPSBuZXdVbml0W19rZXk2XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfYWxpYXMubmFtZSA9IGFsaWFzTmFtZTtcbiAgICAgIFVuaXQuVU5JVFNbYWxpYXNOYW1lXSA9IF9hbGlhcztcbiAgICB9IC8vIGRlbGV0ZSB0aGUgbWVtb2l6YXRpb24gY2FjaGUsIHNpbmNlIGFkZGluZyBhIG5ldyB1bml0IHRvIHRoZSBhcnJheVxuICAgIC8vIGludmFsaWRhdGVzIGFsbCBvbGQgcmVzdWx0c1xuXG5cbiAgICBkZWxldGUgX2ZpbmRVbml0LmNhY2hlO1xuICAgIHJldHVybiBuZXcgVW5pdChudWxsLCBuYW1lKTtcbiAgfTtcblxuICBVbml0LmRlbGV0ZVVuaXQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGRlbGV0ZSBVbml0LlVOSVRTW25hbWVdO1xuICB9OyAvLyBleHBvc2UgYXJyYXlzIHdpdGggcHJlZml4ZXMsIGRpbWVuc2lvbnMsIHVuaXRzLCBzeXN0ZW1zXG5cblxuICBVbml0LlBSRUZJWEVTID0gUFJFRklYRVM7XG4gIFVuaXQuQkFTRV9ESU1FTlNJT05TID0gQkFTRV9ESU1FTlNJT05TO1xuICBVbml0LkJBU0VfVU5JVFMgPSBCQVNFX1VOSVRTO1xuICBVbml0LlVOSVRfU1lTVEVNUyA9IFVOSVRfU1lTVEVNUztcbiAgVW5pdC5VTklUUyA9IFVOSVRTO1xuICByZXR1cm4gVW5pdDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAndW5pdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdVbml0J107IC8vIFRoaXMgZnVuY3Rpb24gaXMgbmFtZWQgY3JlYXRlVW5pdEZ1bmN0aW9uIHRvIHByZXZlbnQgYSBuYW1pbmcgY29uZmxpY3Qgd2l0aCBjcmVhdGVVbml0XG5cbmV4cG9ydCB2YXIgY3JlYXRlVW5pdEZ1bmN0aW9uID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgVW5pdFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdW5pdC4gRGVwZW5kaW5nIG9uIHRoZSBwYXNzZWQgYXJndW1lbnRzLCB0aGUgZnVuY3Rpb25cbiAgICogd2lsbCBjcmVhdGUgYW5kIHJldHVybiBhIG5ldyBtYXRoLlVuaXQgb2JqZWN0LlxuICAgKiBXaGVuIGEgbWF0cml4IGlzIHByb3ZpZGVkLCBhbGwgZWxlbWVudHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdW5pdHMuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGgudW5pdCh1bml0IDogc3RyaW5nKVxuICAgKiAgICAgbWF0aC51bml0KHZhbHVlIDogbnVtYmVyLCB1bml0IDogc3RyaW5nKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCg1LCAnY20nKSAgICAvLyByZXR1cm5zIFVuaXQgNTAgbW1cbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnMjMga2cnKSAgICAvLyByZXR1cm5zIFVuaXQgMjMga2dcbiAgICogICAgYS50bygnbScpICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgMC4wNSBtXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBtYXRyaXgsIG51bWJlciwgc3RyaW5nLCBjcmVhdGVVbml0XG4gICAqXG4gICAqIEBwYXJhbSB7KiB8IEFycmF5IHwgTWF0cml4fSBhcmdzICAgQSBudW1iZXIgYW5kIHVuaXQuXG4gICAqIEByZXR1cm4ge1VuaXQgfCBBcnJheSB8IE1hdHJpeH0gICAgVGhlIGNyZWF0ZWQgdW5pdFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHJldHVybiB4LmNsb25lKCk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICBpZiAoVW5pdC5pc1ZhbHVlbGVzc1VuaXQoeCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbml0KG51bGwsIHgpOyAvLyBhIHB1cmUgdW5pdFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gVW5pdC5wYXJzZSh4LCB7XG4gICAgICAgIGFsbG93Tm9Vbml0czogdHJ1ZVxuICAgICAgfSk7IC8vIGEgdW5pdCB3aXRoIHZhbHVlLCBsaWtlICc1Y20nXG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4LCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJGcmFjdGlvbkNvbXBsZXhTdHJpbmcodmFsdWUsIHVuaXQpIHtcbiAgICAgIHJldHVybiBuZXcgVW5pdCh2YWx1ZSwgdW5pdCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnY3JlYXRlVW5pdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdVbml0J107XG5leHBvcnQgdmFyIGNyZWF0ZUNyZWF0ZVVuaXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBVbml0XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB1c2VyLWRlZmluZWQgdW5pdCBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgVW5pdCB0eXBlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoe1xuICAgKiAgICAgICBiYXNlVW5pdDE6IHtcbiAgICogICAgICAgICBhbGlhc2VzOiBbc3RyaW5nLCAuLi5dXG4gICAqICAgICAgICAgcHJlZml4ZXM6IG9iamVjdFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICB1bml0Mjoge1xuICAgKiAgICAgICAgIGRlZmluaXRpb246IHN0cmluZyxcbiAgICogICAgICAgICBhbGlhc2VzOiBbc3RyaW5nLCAuLi5dXG4gICAqICAgICAgICAgcHJlZml4ZXM6IG9iamVjdCxcbiAgICogICAgICAgICBvZmZzZXQ6IG51bWJlclxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICB1bml0Mzogc3RyaW5nICAgIC8vIFNob3J0Y3V0XG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8gQW5vdGhlciBzaG9ydGN1dDpcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdChzdHJpbmcsIHVuaXQgOiBzdHJpbmcsIFtvYmplY3RdKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCgnZm9vJylcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCgna25vdCcsIHtkZWZpbml0aW9uOiAnMC41MTQ0NDQ0NDQgbS9zJywgYWxpYXNlczogWydrbm90cycsICdrdCcsICdrdHMnXX0pXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoJ21waCcsICcxIG1pbGUvaG91cicpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgVGhlIG5hbWUgb2YgdGhlIG5ldyB1bml0LiBNdXN0IGJlIHVuaXF1ZS4gRXhhbXBsZTogJ2tub3QnXG4gICAqIEBwYXJhbSB7c3RyaW5nLCBVbml0fSBkZWZpbml0aW9uICAgICAgRGVmaW5pdGlvbiBvZiB0aGUgdW5pdCBpbiB0ZXJtcyBvZiBleGlzdGluZyB1bml0cy4gRm9yIGV4YW1wbGUsICcwLjUxNDQ0NDQ0NCBtIC8gcycuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICAgKG9wdGlvbmFsKSBBbiBvYmplY3QgY29udGFpbmluZyBhbnkgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgICAgLSBgcHJlZml4ZXMge3N0cmluZ31gIFwibm9uZVwiLCBcInNob3J0XCIsIFwibG9uZ1wiLCBcImJpbmFyeV9zaG9ydFwiLCBvciBcImJpbmFyeV9sb25nXCIuIFRoZSBkZWZhdWx0IGlzIFwibm9uZVwiLlxuICAgKiAgICAgLSBgYWxpYXNlcyB7QXJyYXl9YCBBcnJheSBvZiBzdHJpbmdzLiBFeGFtcGxlOiBbJ2tub3RzJywgJ2t0JywgJ2t0cyddXG4gICAqICAgICAtIGBvZmZzZXQge051bWVyaWN9YCBBbiBvZmZzZXQgdG8gYXBwbHkgd2hlbiBjb252ZXJ0aW5nIGZyb20gdGhlIHVuaXQuIEZvciBleGFtcGxlLCB0aGUgb2Zmc2V0IGZvciBjZWxzaXVzIGlzIDI3My4xNS4gRGVmYXVsdCBpcyAwLlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIHVuaXRcbiAgICpcbiAgICogQHJldHVybiB7VW5pdH0gVGhlIG5ldyB1bml0XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIC8vIEdlbmVyYWwgZnVuY3Rpb24gc2lnbmF0dXJlLiBGaXJzdCBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgdGhlIGRlZmluaXRpb24gb2YgYSBuZXcgdW5pdC4gVGhlIG9iamVjdCBrZXlzIGFyZSB0aGUgdW5pdCBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGRlZmluaXRpb25zLiBUaGUgdmFsdWVzIGNhbiBiZSBvYmplY3RzLCBzdHJpbmdzLCBvciBVbml0cy4gSWYgYSBwcm9wZXJ0eSBpcyBhbiBlbXB0eSBvYmplY3Qgb3IgYW4gZW1wdHkgc3RyaW5nLCBhIG5ldyBiYXNlIHVuaXQgaXMgY3JlYXRlZC4gVGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgdGhlIG9wdGlvbnMuXG4gICAgJ09iamVjdCwgT2JqZWN0JzogZnVuY3Rpb24gT2JqZWN0T2JqZWN0KG9iaiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgLy8gU2FtZSBhcyBhYm92ZSBidXQgd2l0aG91dCB0aGUgb3B0aW9ucy5cbiAgICBPYmplY3Q6IGZ1bmN0aW9uIE9iamVjdChvYmopIHtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCB7fSk7XG4gICAgfSxcbiAgICAvLyBTaG9ydGN1dCBtZXRob2QgZm9yIGNyZWF0aW5nIG9uZSB1bml0LlxuICAgICdzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QsIE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ1VuaXRTdHJpbmdPYmplY3RPYmplY3QobmFtZSwgZGVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbbmFtZV0gPSBkZWY7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICAvLyBTYW1lIGFzIGFib3ZlIGJ1dCB3aXRob3V0IHRoZSBvcHRpb25zLlxuICAgICdzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdVbml0U3RyaW5nT2JqZWN0KG5hbWUsIGRlZikge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgb2JqW25hbWVdID0gZGVmO1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIHt9KTtcbiAgICB9LFxuICAgIC8vIFdpdGhvdXQgYSBkZWZpbml0aW9uLCBjcmVhdGVzIGEgYmFzZSB1bml0LlxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKG5hbWUpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtuYW1lXSA9IHt9O1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIHt9KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAxIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdhZGQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2FkZFNjYWxhcicsICdlcXVhbFNjYWxhcicsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWRkID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGFkZFNjYWxhcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMSA9IGNyZWF0ZUFsZ29yaXRobTAxKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA0ID0gY3JlYXRlQWxnb3JpdGhtMDQoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTAgPSBjcmVhdGVBbGdvcml0aG0xMCh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogQWRkIHR3byBvciBtb3JlIHZhbHVlcywgYHggKyB5YC5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmFkZCh4LCB5KVxuICAgKiAgICBtYXRoLmFkZCh4LCB5LCB6LCAuLi4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmFkZCgyLCAzKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDVcbiAgICogICAgbWF0aC5hZGQoMiwgMywgNCkgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA5XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCgtNCwgMSlcbiAgICogICAgbWF0aC5hZGQoYSwgYikgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggLTIgKyA0aVxuICAgKlxuICAgKiAgICBtYXRoLmFkZChbMSwgMiwgM10sIDQpICAgICAgIC8vIHJldHVybnMgQXJyYXkgWzUsIDYsIDddXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLnVuaXQoJzUgY20nKVxuICAgKiAgICBjb25zdCBkID0gbWF0aC51bml0KCcyLjEgbW0nKVxuICAgKiAgICBtYXRoLmFkZChjLCBkKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgVW5pdCA1Mi4xIG1tXG4gICAqXG4gICAqICAgIG1hdGguYWRkKFwiMi4zXCIsIFwiNFwiKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDYuM1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgc3VidHJhY3QsIHN1bVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gYWRkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gYWRkXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gU3VtIG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCBleHRlbmQoe1xuICAgIC8vIHdlIGV4dGVuZCB0aGUgc2lnbmF0dXJlcyBvZiBhZGRTY2FsYXIgd2l0aCBzaWduYXR1cmVzIGRlYWxpbmcgd2l0aCBtYXRyaWNlc1xuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCBhZGRTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDEoeCwgeSwgYWRkU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMSh5LCB4LCBhZGRTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNCh4LCB5LCBhZGRTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIGFkZFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh4LCB5LCBhZGRTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIGFkZFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHksIHgsIGFkZFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIGFkZFNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgYWRkU2NhbGFyLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBhbnknOiBhZGRTY2FsYXIsXG4gICAgJ2FueSwgYW55LCAuLi5hbnknOiBmdW5jdGlvbiBhbnlBbnlBbnkoeCwgeSwgcmVzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMoeCwgeSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgPSB0aGlzKHJlc3VsdCwgcmVzdFtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9LCBhZGRTY2FsYXIuc2lnbmF0dXJlcykpO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG52YXIgbmFtZSA9ICdkb3QnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnYWRkU2NhbGFyJywgJ211bHRpcGx5U2NhbGFyJywgJ2NvbmonLCAnc2l6ZSddO1xuZXhwb3J0IHZhciBjcmVhdGVEb3QgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBhZGRTY2FsYXIsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgY29uaixcbiAgICBzaXplXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzLiBUaGUgZG90IHByb2R1Y3Qgb2ZcbiAgICogYEEgPSBbYTEsIGEyLCAuLi4sIGFuXWAgYW5kIGBCID0gW2IxLCBiMiwgLi4uLCBibl1gIGlzIGRlZmluZWQgYXM6XG4gICAqXG4gICAqICAgIGRvdChBLCBCKSA9IGNvbmooYTEpICogYjEgKyBjb25qKGEyKSAqIGIyICsgLi4uICsgY29uaihhbikgKiBiblxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZG90KHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmRvdChbMiwgNCwgMV0sIFsyLCAyLCAzXSkgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMTVcbiAgICogICAgbWF0aC5tdWx0aXBseShbMiwgNCwgMV0sIFsyLCAyLCAzXSkgIC8vIHJldHVybnMgbnVtYmVyIDE1XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBtdWx0aXBseSwgY3Jvc3NcbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXkgfCBNYXRyaXh9IHggICAgIEZpcnN0IHZlY3RvclxuICAgKiBAcGFyYW0gIHtBcnJheSB8IE1hdHJpeH0geSAgICAgU2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgZG90IHByb2R1Y3Qgb2YgYHhgIGFuZCBgeWBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ0FycmF5IHwgRGVuc2VNYXRyaXgsIEFycmF5IHwgRGVuc2VNYXRyaXgnOiBfZGVuc2VEb3QsXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogX3NwYXJzZURvdFxuICB9KTtcblxuICBmdW5jdGlvbiBfdmFsaWRhdGVEaW0oeCwgeSkge1xuICAgIHZhciB4U2l6ZSA9IF9zaXplKHgpO1xuXG4gICAgdmFyIHlTaXplID0gX3NpemUoeSk7XG5cbiAgICB2YXIgeExlbiwgeUxlbjtcblxuICAgIGlmICh4U2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHhMZW4gPSB4U2l6ZVswXTtcbiAgICB9IGVsc2UgaWYgKHhTaXplLmxlbmd0aCA9PT0gMiAmJiB4U2l6ZVsxXSA9PT0gMSkge1xuICAgICAgeExlbiA9IHhTaXplWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRXhwZWN0ZWQgYSBjb2x1bW4gdmVjdG9yLCBpbnN0ZWFkIGdvdCBhIG1hdHJpeCBvZiBzaXplICgnICsgeFNpemUuam9pbignLCAnKSArICcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHlTaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgeUxlbiA9IHlTaXplWzBdO1xuICAgIH0gZWxzZSBpZiAoeVNpemUubGVuZ3RoID09PSAyICYmIHlTaXplWzFdID09PSAxKSB7XG4gICAgICB5TGVuID0geVNpemVbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdFeHBlY3RlZCBhIGNvbHVtbiB2ZWN0b3IsIGluc3RlYWQgZ290IGEgbWF0cml4IG9mIHNpemUgKCcgKyB5U2l6ZS5qb2luKCcsICcpICsgJyknKTtcbiAgICB9XG5cbiAgICBpZiAoeExlbiAhPT0geUxlbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1ZlY3RvcnMgbXVzdCBoYXZlIGVxdWFsIGxlbmd0aCAoJyArIHhMZW4gKyAnICE9ICcgKyB5TGVuICsgJyknKTtcbiAgICBpZiAoeExlbiA9PT0gMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgdGhlIGRvdCBwcm9kdWN0IG9mIGVtcHR5IHZlY3RvcnMnKTtcbiAgICByZXR1cm4geExlbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZW5zZURvdChhLCBiKSB7XG4gICAgdmFyIE4gPSBfdmFsaWRhdGVEaW0oYSwgYik7XG5cbiAgICB2YXIgYWRhdGEgPSBpc01hdHJpeChhKSA/IGEuX2RhdGEgOiBhO1xuICAgIHZhciBhZHQgPSBpc01hdHJpeChhKSA/IGEuX2RhdGF0eXBlIDogdW5kZWZpbmVkO1xuICAgIHZhciBiZGF0YSA9IGlzTWF0cml4KGIpID8gYi5fZGF0YSA6IGI7XG4gICAgdmFyIGJkdCA9IGlzTWF0cml4KGIpID8gYi5fZGF0YXR5cGUgOiB1bmRlZmluZWQ7IC8vIGFyZSB0aGVzZSAyLWRpbWVuc2lvbmFsIGNvbHVtbiB2ZWN0b3JzPyAoYXMgb3Bwb3NlZCB0byAxLWRpbWVuc2lvbmFsIHZlY3RvcnMpXG5cbiAgICB2YXIgYUlzQ29sdW1uID0gX3NpemUoYSkubGVuZ3RoID09PSAyO1xuICAgIHZhciBiSXNDb2x1bW4gPSBfc2l6ZShiKS5sZW5ndGggPT09IDI7XG4gICAgdmFyIGFkZCA9IGFkZFNjYWxhcjtcbiAgICB2YXIgbXVsID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZGQgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbXVsID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gYm90aCB2ZWN0b3JzIDEtZGltZW5zaW9uYWxcblxuXG4gICAgaWYgKCFhSXNDb2x1bW4gJiYgIWJJc0NvbHVtbikge1xuICAgICAgdmFyIGMgPSBtdWwoY29uaihhZGF0YVswXSksIGJkYXRhWzBdKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBOOyBpKyspIHtcbiAgICAgICAgYyA9IGFkZChjLCBtdWwoY29uaihhZGF0YVtpXSksIGJkYXRhW2ldKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjO1xuICAgIH0gLy8gYSBpcyAxLWRpbSwgYiBpcyBjb2x1bW5cblxuXG4gICAgaWYgKCFhSXNDb2x1bW4gJiYgYklzQ29sdW1uKSB7XG4gICAgICB2YXIgX2MgPSBtdWwoY29uaihhZGF0YVswXSksIGJkYXRhWzBdWzBdKTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IE47IF9pKyspIHtcbiAgICAgICAgX2MgPSBhZGQoX2MsIG11bChjb25qKGFkYXRhW19pXSksIGJkYXRhW19pXVswXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2M7XG4gICAgfSAvLyBhIGlzIGNvbHVtbiwgYiBpcyAxLWRpbVxuXG5cbiAgICBpZiAoYUlzQ29sdW1uICYmICFiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBfYzIgPSBtdWwoY29uaihhZGF0YVswXVswXSksIGJkYXRhWzBdKTtcblxuICAgICAgZm9yICh2YXIgX2kyID0gMTsgX2kyIDwgTjsgX2kyKyspIHtcbiAgICAgICAgX2MyID0gYWRkKF9jMiwgbXVsKGNvbmooYWRhdGFbX2kyXVswXSksIGJkYXRhW19pMl0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jMjtcbiAgICB9IC8vIGJvdGggdmVjdG9ycyBhcmUgY29sdW1uXG5cblxuICAgIGlmIChhSXNDb2x1bW4gJiYgYklzQ29sdW1uKSB7XG4gICAgICB2YXIgX2MzID0gbXVsKGNvbmooYWRhdGFbMF1bMF0pLCBiZGF0YVswXVswXSk7XG5cbiAgICAgIGZvciAodmFyIF9pMyA9IDE7IF9pMyA8IE47IF9pMysrKSB7XG4gICAgICAgIF9jMyA9IGFkZChfYzMsIG11bChjb25qKGFkYXRhW19pM11bMF0pLCBiZGF0YVtfaTNdWzBdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfYzM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3NwYXJzZURvdCh4LCB5KSB7XG4gICAgX3ZhbGlkYXRlRGltKHgsIHkpO1xuXG4gICAgdmFyIHhpbmRleCA9IHguX2luZGV4O1xuICAgIHZhciB4dmFsdWVzID0geC5fdmFsdWVzO1xuICAgIHZhciB5aW5kZXggPSB5Ll9pbmRleDtcbiAgICB2YXIgeXZhbHVlcyA9IHkuX3ZhbHVlczsgLy8gVE9ETyBvcHRpbWl6ZSBhZGQgJiBtdWwgdXNpbmcgZGF0YXR5cGVcblxuICAgIHZhciBjID0gMDtcbiAgICB2YXIgYWRkID0gYWRkU2NhbGFyO1xuICAgIHZhciBtdWwgPSBtdWx0aXBseVNjYWxhcjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGogPSAwO1xuXG4gICAgd2hpbGUgKGkgPCB4aW5kZXgubGVuZ3RoICYmIGogPCB5aW5kZXgubGVuZ3RoKSB7XG4gICAgICB2YXIgSSA9IHhpbmRleFtpXTtcbiAgICAgIHZhciBKID0geWluZGV4W2pdO1xuXG4gICAgICBpZiAoSSA8IEopIHtcbiAgICAgICAgaSsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEkgPiBKKSB7XG4gICAgICAgIGorKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChJID09PSBKKSB7XG4gICAgICAgIGMgPSBhZGQoYywgbXVsKHh2YWx1ZXNbaV0sIHl2YWx1ZXNbal0pKTtcbiAgICAgICAgaSsrO1xuICAgICAgICBqKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGM7XG4gIH0gLy8gVE9ETyByZW1vdmUgdGhpcyBvbmNlICMxNzcxIGlzIGZpeGVkXG5cblxuICBmdW5jdGlvbiBfc2l6ZSh4KSB7XG4gICAgcmV0dXJuIGlzTWF0cml4KHgpID8geC5zaXplKCkgOiBzaXplKHgpO1xuICB9XG59KTsiLCIvLyBSZXNlcnZlZCBrZXl3b3JkcyBub3QgYWxsb3dlZCB0byB1c2UgaW4gdGhlIHBhcnNlclxuZXhwb3J0IHZhciBrZXl3b3JkcyA9IHtcbiAgZW5kOiB0cnVlXG59OyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGtleXdvcmRzIH0gZnJvbSAnLi4va2V5d29yZHMuanMnO1xuaW1wb3J0IHsgZGVlcFN0cmljdEVxdWFsLCBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ21hdGhXaXRoVHJhbnNmb3JtJ107XG5leHBvcnQgdmFyIGNyZWF0ZU5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBtYXRoV2l0aFRyYW5zZm9ybVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogTm9kZVxuICAgKi9cbiAgZnVuY3Rpb24gTm9kZSgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFdmFsdWF0ZSB0aGUgbm9kZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Njb3BlXSAgU2NvcGUgdG8gcmVhZC93cml0ZSB2YXJpYWJsZXNcbiAgICogQHJldHVybiB7Kn0gICAgICAgICAgICAgIFJldHVybnMgdGhlIHJlc3VsdFxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgfTtcblxuICBOb2RlLnByb3RvdHlwZS50eXBlID0gJ05vZGUnO1xuICBOb2RlLnByb3RvdHlwZS5pc05vZGUgPSB0cnVlO1xuICBOb2RlLnByb3RvdHlwZS5jb21tZW50ID0gJyc7XG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSBub2RlIGludG8gYW4gb3B0aW1pemVkLCBldmF1YXRhYmxlIEphdmFTY3JpcHQgZnVuY3Rpb25cbiAgICogQHJldHVybiB7e2V2YWx1YXRlOiBmdW5jdGlvbihbT2JqZWN0XSl9fSBvYmplY3RcbiAgICogICAgICAgICAgICAgICAgUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhIGZ1bmN0aW9uICdldmFsdWF0ZScsXG4gICAqICAgICAgICAgICAgICAgIHdoaWNoIGNhbiBiZSBpbnZva2VkIGFzIGV4cHIuZXZhbHVhdGUoW3Njb3BlOiBPYmplY3RdKSxcbiAgICogICAgICAgICAgICAgICAgd2hlcmUgc2NvcGUgaXMgYW4gb3B0aW9uYWwgb2JqZWN0IHdpdGhcbiAgICogICAgICAgICAgICAgICAgdmFyaWFibGVzLlxuICAgKi9cblxuICBOb2RlLnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHByID0gdGhpcy5fY29tcGlsZShtYXRoV2l0aFRyYW5zZm9ybSwge30pO1xuXG4gICAgdmFyIGFyZ3MgPSB7fTtcbiAgICB2YXIgY29udGV4dCA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBldmFsdWF0ZShzY29wZSkge1xuICAgICAgdmFyIHMgPSBzY29wZSB8fCB7fTtcblxuICAgICAgX3ZhbGlkYXRlU2NvcGUocyk7XG5cbiAgICAgIHJldHVybiBleHByKHMsIGFyZ3MsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBldmFsdWF0ZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBfY29tcGlsZSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYnkgdHlwZSAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJ1biBmb3JFYWNoIG9uIGEgTm9kZSBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtPcGVyYXRvck5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJ1biBtYXAgb24gYSBOb2RlIGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGUgd2hldGhlciBhbiBvYmplY3QgaXMgYSBOb2RlLCBmb3IgdXNlIHdpdGggbWFwXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcmV0dXJucyB7Tm9kZX0gUmV0dXJucyB0aGUgaW5wdXQgaWYgaXQncyBhIG5vZGUsIGVsc2UgdGhyb3dzIGFuIEVycm9yXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5faWZOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoIWlzTm9kZShub2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2FsbGJhY2sgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBOb2RlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSB0cmF2ZXJzZSBhbGwgbm9kZXMgaW4gYSBub2RlIHRyZWUuIEV4ZWN1dGVzIGdpdmVuIGNhbGxiYWNrIGZvclxuICAgKiB0aGlzIG5vZGUgYW5kIGVhY2ggb2YgaXRzIGNoaWxkIG5vZGVzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5vZGU6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICogICAgICAgICAgQSBjYWxsYmFjayBjYWxsZWQgZm9yIGV2ZXJ5IG5vZGUgaW4gdGhlIG5vZGUgdHJlZS5cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50cmF2ZXJzZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2sgZm9yIGl0c2VsZlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGNhbGxiYWNrKHRoaXMsIG51bGwsIG51bGwpOyAvLyByZWN1cnNpdmVseSB0cmF2ZXJzZSBvdmVyIGFsbCBjaGlsZHMgb2YgYSBub2RlXG5cbiAgICBmdW5jdGlvbiBfdHJhdmVyc2Uobm9kZSwgY2FsbGJhY2spIHtcbiAgICAgIG5vZGUuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQsIHBhdGgsIHBhcmVudCkge1xuICAgICAgICBjYWxsYmFjayhjaGlsZCwgcGF0aCwgcGFyZW50KTtcblxuICAgICAgICBfdHJhdmVyc2UoY2hpbGQsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF90cmF2ZXJzZSh0aGlzLCBjYWxsYmFjayk7XG4gIH07XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSB0cmFuc2Zvcm0gYSBub2RlIHRyZWUgdmlhIGEgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgdG8gcmVwbGFjZSBhbGwgbm9kZXMgb2YgdHlwZSBTeW1ib2xOb2RlIGhhdmluZyBuYW1lICd4JyB3aXRoIGFcbiAgICogQ29uc3RhbnROb2RlIHdpdGggdmFsdWUgMjpcbiAgICpcbiAgICogICAgIGNvbnN0IHJlcyA9IE5vZGUudHJhbnNmb3JtKGZ1bmN0aW9uIChub2RlLCBwYXRoLCBwYXJlbnQpIHtcbiAgICogICAgICAgaWYgKG5vZGUgJiYgbm9kZS5pc1N5bWJvbE5vZGUpICYmIChub2RlLm5hbWUgPT09ICd4JykpIHtcbiAgICogICAgICAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZSgyKVxuICAgKiAgICAgICB9XG4gICAqICAgICAgIGVsc2Uge1xuICAgKiAgICAgICAgIHJldHVybiBub2RlXG4gICAqICAgICAgIH1cbiAgICogICAgIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obm9kZTogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogICAgICAgICAgQSBtYXBwaW5nIGZ1bmN0aW9uIGFjY2VwdGluZyBhIG5vZGUsIGFuZCByZXR1cm5pbmdcbiAgICogICAgICAgICAgYSByZXBsYWNlbWVudCBmb3IgdGhlIG5vZGUgb3IgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqICAgICAgICAgIFNpZ25hdHVyZTogY2FsbGJhY2sobm9kZTogTm9kZSwgaW5kZXg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGVcbiAgICogQHJldHVybiB7Tm9kZX0gUmV0dXJucyB0aGUgb3JpZ2luYWwgbm9kZSBvciBpdHMgcmVwbGFjZW1lbnRcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmdW5jdGlvbiBfdHJhbnNmb3JtKGNoaWxkLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgIHZhciByZXBsYWNlbWVudCA9IGNhbGxiYWNrKGNoaWxkLCBwYXRoLCBwYXJlbnQpO1xuXG4gICAgICBpZiAocmVwbGFjZW1lbnQgIT09IGNoaWxkKSB7XG4gICAgICAgIC8vIHN0b3AgaXRlcmF0aW5nIHdoZW4gdGhlIG5vZGUgaXMgcmVwbGFjZWRcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGQubWFwKF90cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIHJldHVybiBfdHJhbnNmb3JtKHRoaXMsIG51bGwsIG51bGwpO1xuICB9O1xuICAvKipcbiAgICogRmluZCBhbnkgbm9kZSBpbiB0aGUgbm9kZSB0cmVlIG1hdGNoaW5nIGdpdmVuIGZpbHRlciBmdW5jdGlvbi4gRm9yIGV4YW1wbGUsIHRvXG4gICAqIGZpbmQgYWxsIG5vZGVzIG9mIHR5cGUgU3ltYm9sTm9kZSBoYXZpbmcgbmFtZSAneCc6XG4gICAqXG4gICAqICAgICBjb25zdCByZXN1bHRzID0gTm9kZS5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICogICAgICAgcmV0dXJuIChub2RlICYmIG5vZGUuaXNTeW1ib2xOb2RlKSAmJiAobm9kZS5uYW1lID09PSAneCcpXG4gICAqICAgICB9KVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5vZGU6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqICAgICAgICAgICAgQSB0ZXN0IGZ1bmN0aW9uIHJldHVybmluZyB0cnVlIHdoZW4gYSBub2RlIG1hdGNoZXMsIGFuZCBmYWxzZVxuICAgKiAgICAgICAgICAgIG90aGVyd2lzZS4gRnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgKiAgICAgICAgICAgIGNhbGxiYWNrKG5vZGU6IE5vZGUsIGluZGV4OiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBib29sZWFuXG4gICAqIEByZXR1cm4ge05vZGVbXX0gbm9kZXMgICAgICAgQW4gYXJyYXkgd2l0aCBub2RlcyBtYXRjaGluZyBnaXZlbiBmaWx0ZXIgY3JpdGVyaWFcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICB0aGlzLnRyYXZlcnNlKGZ1bmN0aW9uIChub2RlLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgIGlmIChjYWxsYmFjayhub2RlLCBwYXRoLCBwYXJlbnQpKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgc2hhbGxvdyBjbG9uZSBvZiB0aGlzIG5vZGVcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2xvbmUgYSBOb2RlIGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgZGVlcCBjbG9uZSBvZiB0aGlzIG5vZGVcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5jbG9uZURlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5jbG9uZURlZXAoKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIERlZXAgY29tcGFyZSB0aGlzIG5vZGUgd2l0aCBhbm90aGVyIG5vZGUuXG4gICAqIEBwYXJhbSB7Tm9kZX0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYm90aCBub2RlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgKGFzIGRvIHRoZWlyIGNoaWxkcylcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgPyBkZWVwU3RyaWN0RXF1YWwodGhpcywgb3RoZXIpIDogZmFsc2U7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gZ2V0IGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAqIHtcbiAgICogICAgaGFuZGxlcjogLy9UaGlzIGNhbiBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIHRoZSBmb3JtXG4gICAqICAgICAgICAgICAgIC8vIFwiZnVuY3Rpb24gY2FsbGJhY2sobm9kZSwgb3B0aW9ucylcIm9yXG4gICAqICAgICAgICAgICAgIC8vIGEgbWFwIHRoYXQgbWFwcyBmdW5jdGlvbiBuYW1lcyAodXNlZCBpbiBGdW5jdGlvbk5vZGVzKVxuICAgKiAgICAgICAgICAgICAvLyB0byBjYWxsYmFja3NcbiAgICogICAgcGFyZW50aGVzaXM6IFwia2VlcFwiIC8vdGhlIHBhcmVudGhlc2lzIG9wdGlvbiAoVGhpcyBpcyBvcHRpb25hbClcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVN0cmluZztcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGN1c3RvbVN0cmluZyA9IG9wdGlvbnMuaGFuZGxlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBvciBmdW5jdGlvbiBleHBlY3RlZCBhcyBjYWxsYmFjaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tU3RyaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0cmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdG9TdHJpbmcob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEJvdGggLnRvSlNPTigpIGFuZCB0aGUgc3RhdGljIC5mcm9tSlNPTihqc29uKSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYnkgYWxsXG4gICAqIGltcGxlbWVudGF0aW9ucyBvZiBOb2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNlcmlhbGl6ZSBvYmplY3Q6IHRvSlNPTiBub3QgaW1wbGVtZW50ZWQgYnkgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIGdldCBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxuICAgKiB7XG4gICAqICAgIGhhbmRsZXI6IC8vVGhpcyBjYW4gYmUgYSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgZm9ybVxuICAgKiAgICAgICAgICAgICAvLyBcImZ1bmN0aW9uIGNhbGxiYWNrKG5vZGUsIG9wdGlvbnMpXCIgb3JcbiAgICogICAgICAgICAgICAgLy8gYSBtYXAgdGhhdCBtYXBzIGZ1bmN0aW9uIG5hbWVzICh1c2VkIGluIEZ1bmN0aW9uTm9kZXMpXG4gICAqICAgICAgICAgICAgIC8vIHRvIGNhbGxiYWNrc1xuICAgKiAgICBwYXJlbnRoZXNpczogXCJrZWVwXCIgLy90aGUgcGFyZW50aGVzaXMgb3B0aW9uIChUaGlzIGlzIG9wdGlvbmFsKVxuICAgKiB9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVN0cmluZztcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGN1c3RvbVN0cmluZyA9IG9wdGlvbnMuaGFuZGxlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBvciBmdW5jdGlvbiBleHBlY3RlZCBhcyBjYWxsYmFjaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tU3RyaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0cmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50b0hUTUwob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgc3RyaW5nIG91dHB1dC5cbiAgICogVGhpcyBoYXMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgZXZlcnkgTm9kZVxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignX3RvU3RyaW5nIG5vdCBpbXBsZW1lbnRlZCBmb3IgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBnZXQgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICoge1xuICAgKiAgICBoYW5kbGVyOiAvL1RoaXMgY2FuIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIGZvcm1cbiAgICogICAgICAgICAgICAgLy8gXCJmdW5jdGlvbiBjYWxsYmFjayhub2RlLCBvcHRpb25zKVwib3JcbiAgICogICAgICAgICAgICAgLy8gYSBtYXAgdGhhdCBtYXBzIGZ1bmN0aW9uIG5hbWVzICh1c2VkIGluIEZ1bmN0aW9uTm9kZXMpXG4gICAqICAgICAgICAgICAgIC8vIHRvIGNhbGxiYWNrc1xuICAgKiAgICBwYXJlbnRoZXNpczogXCJrZWVwXCIgLy90aGUgcGFyZW50aGVzaXMgb3B0aW9uIChUaGlzIGlzIG9wdGlvbmFsKVxuICAgKiB9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tVGV4O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY3VzdG9tVGV4ID0gb3B0aW9ucy5oYW5kbGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IG9yIGZ1bmN0aW9uIGV4cGVjdGVkIGFzIGNhbGxiYWNrJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21UZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVGV4O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90b1RleChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHRoZSBMYVRlWCBvdXRwdXQuXG4gICAqIFRoaXMgaGFzIHRvIGJlIGltcGxlbWVudGVkIGJ5IGV2ZXJ5IE5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ190b1RleCBub3QgaW1wbGVtZW50ZWQgZm9yICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnRlbnQgb2YgdGhlIGN1cnJlbnQgTm9kZS5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiovXG5cblxuICBOb2RlLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGUgdGhlIHN5bWJvbCBuYW1lcyBvZiBhIHNjb3BlLlxuICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGUgc2NvcGUgY29udGFpbnMgYW4gaWxsZWdhbCBzeW1ib2wuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZVNjb3BlKHNjb3BlKSB7XG4gICAgZm9yICh2YXIgc3ltYm9sIGluIHNjb3BlKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoc2NvcGUsIHN5bWJvbCkpIHtcbiAgICAgICAgaWYgKHN5bWJvbCBpbiBrZXl3b3Jkcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2NvcGUgY29udGFpbnMgYW4gaWxsZWdhbCBzeW1ib2wsIFwiJyArIHN5bWJvbCArICdcIiBpcyBhIHJlc2VydmVkIGtleXdvcmQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IEluZGV4RXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9JbmRleEVycm9yLmpzJztcbi8qKlxuICogVHJhbnNmb3JtIHplcm8tYmFzZWQgaW5kaWNlcyB0byBvbmUtYmFzZWQgaW5kaWNlcyBpbiBlcnJvcnNcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHJldHVybnMge0Vycm9yIHwgSW5kZXhFcnJvcn0gUmV0dXJucyB0aGUgdHJhbnNmb3JtZWQgZXJyb3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JUcmFuc2Zvcm0oZXJyKSB7XG4gIGlmIChlcnIgJiYgZXJyLmlzSW5kZXhFcnJvcikge1xuICAgIHJldHVybiBuZXcgSW5kZXhFcnJvcihlcnIuaW5kZXggKyAxLCBlcnIubWluICsgMSwgZXJyLm1heCAhPT0gdW5kZWZpbmVkID8gZXJyLm1heCArIDEgOiB1bmRlZmluZWQpO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn0iLCJpbXBvcnQgeyBlcnJvclRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS91dGlscy9lcnJvclRyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NGYWN0b3J5KF9yZWYpIHtcbiAgdmFyIHtcbiAgICBzdWJzZXRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHBhcnQgb2YgYW4gb2JqZWN0OlxuICAgKlxuICAgKiAtIFJldHJpZXZlIGEgcHJvcGVydHkgZnJvbSBhbiBvYmplY3RcbiAgICogLSBSZXRyaWV2ZSBhIHBhcnQgb2YgYSBzdHJpbmdcbiAgICogLSBSZXRyaWV2ZSBhIG1hdHJpeCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gb2JqZWN0XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEByZXR1cm4ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBSZXR1cm5zIHRoZSBzdWJzZXRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhY2Nlc3Mob2JqZWN0LCBpbmRleCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBzdWJzZXQob2JqZWN0LCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LnN1YnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBNYXRyaXhcbiAgICAgICAgcmV0dXJuIG9iamVjdC5zdWJzZXQoaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIGdldFN0cmluZ1N1YnNldCBpbnRvIGEgc2VwYXJhdGUgdXRpbCBmaWxlLCB1c2UgdGhhdFxuICAgICAgICByZXR1cm4gc3Vic2V0KG9iamVjdCwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoIWluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBhIG51bWVyaWMgaW5kZXggYXMgb2JqZWN0IHByb3BlcnR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0U2FmZVByb3BlcnR5KG9iamVjdCwgaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgaW5kZXg6IHVuc3VwcG9ydGVkIHR5cGUgb2Ygb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnJvclRyYW5zZm9ybShlcnIpO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNBcnJheU5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0Z1bmN0aW9uTm9kZSwgaXNJbmRleE5vZGUsIGlzTm9kZSwgaXNPYmplY3ROb2RlLCBpc1BhcmVudGhlc2lzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBhY2Nlc3NGYWN0b3J5IH0gZnJvbSAnLi91dGlscy9hY2Nlc3MuanMnO1xudmFyIG5hbWUgPSAnQWNjZXNzb3JOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3N1YnNldCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFjY2Vzc29yTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHN1YnNldCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuICB2YXIgYWNjZXNzID0gYWNjZXNzRmFjdG9yeSh7XG4gICAgc3Vic2V0XG4gIH0pO1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEFjY2Vzc29yTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQWNjZXNzIGFuIG9iamVjdCBwcm9wZXJ0eSBvciBnZXQgYSBtYXRyaXggc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gb2JqZWN0ICAgICAgICAgICAgICAgICBUaGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gcmV0cmlldmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgcHJvcGVydHkgb3Igc3Vic2V0LlxuICAgKiBAcGFyYW0ge0luZGV4Tm9kZX0gaW5kZXggICAgICAgICAgICAgSW5kZXhOb2RlIGNvbnRhaW5pbmcgcmFuZ2VzXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEFjY2Vzc29yTm9kZShvYmplY3QsIGluZGV4KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFjY2Vzc29yTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc05vZGUob2JqZWN0KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwib2JqZWN0XCInKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzSW5kZXhOb2RlKGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXhOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJpbmRleFwiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3QgfHwgbnVsbDtcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7IC8vIHJlYWRvbmx5IHByb3BlcnR5IG5hbWVcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSA/IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9iamVjdC5uYW1lIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIGEgbmV3IG5hbWUsIG5hbWUgaXMgcmVhZC1vbmx5Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS50eXBlID0gJ0FjY2Vzc29yTm9kZSc7XG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuaXNBY2Nlc3Nvck5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxPYmplY3QgPSB0aGlzLm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEluZGV4ID0gdGhpcy5pbmRleC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICBpZiAodGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIHZhciBwcm9wID0gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBY2Nlc3Nvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNhZmVQcm9wZXJ0eShldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgcHJvcCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFjY2Vzc29yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgb2JqZWN0KTsgLy8gd2UgcGFzcyBvYmplY3QgaGVyZSBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICByZXR1cm4gYWNjZXNzKG9iamVjdCwgaW5kZXgpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBY2Nlc3Nvck5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0FjY2Vzc29yTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgQWNjZXNzb3JOb2RlKHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0FjY2Vzc29yTm9kZX1cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQWNjZXNzb3JOb2RlKHRoaXMub2JqZWN0LCB0aGlzLmluZGV4KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMub2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gJygnICsgb2JqZWN0ICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyB0aGlzLmluZGV4LnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLm9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIG9iamVjdCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgdGhpcy5pbmRleC50b0hUTUwob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMub2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gJ1xcXFxsZWZ0KFxcJyArIG9iamVjdCArIFxcJ1xcXFxyaWdodCknO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyB0aGlzLmluZGV4LnRvVGV4KG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdBY2Nlc3Nvck5vZGUnLFxuICAgICAgb2JqZWN0OiB0aGlzLm9iamVjdCxcbiAgICAgIGluZGV4OiB0aGlzLmluZGV4XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFjY2Vzc29yTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQWNjZXNzb3JOb2RlXCIsIG9iamVjdDogLi4uLCBpbmRleDogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0FjY2Vzc29yTm9kZX1cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQWNjZXNzb3JOb2RlKGpzb24ub2JqZWN0LCBqc29uLmluZGV4KTtcbiAgfTtcbiAgLyoqXG4gICAqIEFyZSBwYXJlbnRoZXNpcyBuZWVkZWQ/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmVlZFBhcmVudGhlc2lzKG5vZGUpIHtcbiAgICAvLyBUT0RPOiBtYXliZSBtYWtlIGEgbWV0aG9kIG9uIHRoZSBub2RlcyB3aGljaCB0ZWxscyB3aGV0aGVyIHRoZXkgbmVlZCBwYXJlbnRoZXNpcz9cbiAgICByZXR1cm4gIShpc0FjY2Vzc29yTm9kZShub2RlKSB8fCBpc0FycmF5Tm9kZShub2RlKSB8fCBpc0NvbnN0YW50Tm9kZShub2RlKSB8fCBpc0Z1bmN0aW9uTm9kZShub2RlKSB8fCBpc09iamVjdE5vZGUobm9kZSkgfHwgaXNQYXJlbnRoZXNpc05vZGUobm9kZSkgfHwgaXNTeW1ib2xOb2RlKG5vZGUpKTtcbiAgfVxuXG4gIHJldHVybiBBY2Nlc3Nvck5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQXJyYXlOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQXJyYXlOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEFycmF5Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogSG9sZHMgYW4gMS1kaW1lbnNpb25hbCBhcnJheSB3aXRoIGl0ZW1zXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBbaXRlbXNdICAgMSBkaW1lbnNpb25hbCBhcnJheSB3aXRoIGl0ZW1zXG4gICAqL1xuICBmdW5jdGlvbiBBcnJheU5vZGUoaXRlbXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXJyYXlOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLml0ZW1zID0gaXRlbXMgfHwgW107IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5pdGVtcykgfHwgIXRoaXMuaXRlbXMuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBBcnJheU5vZGUucHJvdG90eXBlLnR5cGUgPSAnQXJyYXlOb2RlJztcbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5pc0FycmF5Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbEl0ZW1zID0gbWFwKHRoaXMuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgfSk7XG4gICAgdmFyIGFzTWF0cml4ID0gbWF0aC5jb25maWcubWF0cml4ICE9PSAnQXJyYXknO1xuXG4gICAgaWYgKGFzTWF0cml4KSB7XG4gICAgICB2YXIgbWF0cml4ID0gbWF0aC5tYXRyaXg7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFycmF5Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbWF0cml4KG1hcChldmFsSXRlbXMsIGZ1bmN0aW9uIChldmFsSXRlbSkge1xuICAgICAgICAgIHJldHVybiBldmFsSXRlbShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXJyYXlOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXAoZXZhbEl0ZW1zLCBmdW5jdGlvbiAoZXZhbEl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZXZhbEl0ZW0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgY2FsbGJhY2sobm9kZSwgJ2l0ZW1zWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQXJyYXlOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtBcnJheU5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaXRlbXNbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5pdGVtc1tpXSwgJ2l0ZW1zWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUoaXRlbXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtBcnJheU5vZGV9XG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZSh0aGlzLml0ZW1zLnNsaWNlKDApKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gJ1snICsgaXRlbXMuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQXJyYXlOb2RlJyxcbiAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFycmF5Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQXJyYXlOb2RlXCIsIGl0ZW1zOiBbLi4uXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtBcnJheU5vZGV9XG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZShqc29uLml0ZW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudG9IVE1MKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+Wzwvc3Bhbj4nICsgaXRlbXMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+XTwvc3Bhbj4nO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzID0gJ1xcXFxiZWdpbntibWF0cml4fSc7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBpZiAobm9kZS5pdGVtcykge1xuICAgICAgICBzICs9IG5vZGUuaXRlbXMubWFwKGZ1bmN0aW9uIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGROb2RlLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICB9KS5qb2luKCcmJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzICs9IG5vZGUudG9UZXgob3B0aW9ucyk7XG4gICAgICB9IC8vIG5ldyBsaW5lXG5cblxuICAgICAgcyArPSAnXFxcXFxcXFwnO1xuICAgIH0pO1xuICAgIHMgKz0gJ1xcXFxlbmR7Ym1hdHJpeH0nO1xuICAgIHJldHVybiBzO1xuICB9O1xuXG4gIHJldHVybiBBcnJheU5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiLy8gbGlzdCBvZiBpZGVudGlmaWVycyBvZiBub2RlcyBpbiBvcmRlciBvZiB0aGVpciBwcmVjZWRlbmNlXG4vLyBhbHNvIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IGxlZnQvcmlnaHQgYXNzb2NpYXRpdml0eVxuLy8gYW5kIHdoaWNoIG90aGVyIG9wZXJhdG9yIHRoZSBvcGVyYXRvciBpcyBhc3NvY2lhdGl2ZSB3aXRoXG4vLyBFeGFtcGxlOlxuLy8gYWRkaXRpb24gaXMgYXNzb2NpYXRpdmUgd2l0aCBhZGRpdGlvbiBhbmQgc3VidHJhY3Rpb24sIGJlY2F1c2U6XG4vLyAoYStiKStjPWErKGIrYylcbi8vIChhK2IpLWM9YSsoYi1jKVxuLy9cbi8vIHBvc3RmaXggb3BlcmF0b3JzIGFyZSBsZWZ0IGFzc29jaWF0aXZlLCBwcmVmaXggb3BlcmF0b3JzXG4vLyBhcmUgcmlnaHQgYXNzb2NpYXRpdmVcbi8vXG4vLyBJdCdzIGFsc28gcG9zc2libGUgdG8gc2V0IHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbi8vIGxhdGV4UGFyZW5zOiBpZiBzZXQgdG8gZmFsc2UsIHRoaXMgbm9kZSBkb2Vzbid0IG5lZWQgdG8gYmUgZW5jbG9zZWRcbi8vICAgICAgICAgICAgICBpbiBwYXJlbnRoZXNlcyB3aGVuIHVzaW5nIExhVGVYXG4vLyBsYXRleExlZnRQYXJlbnM6IGlmIHNldCB0byBmYWxzZSwgdGhpcyAhT3BlcmF0b3JOb2RlJ3MhXG4vLyAgICAgICAgICAgICAgICAgIGxlZnQgYXJndW1lbnQgZG9lc24ndCBuZWVkIHRvIGJlIGVuY2xvc2VkXG4vLyAgICAgICAgICAgICAgICAgIGluIHBhcmVudGhlc2VzXG4vLyBsYXRleFJpZ2h0UGFyZW5zOiB0aGUgc2FtZSBmb3IgdGhlIHJpZ2h0IGFyZ3VtZW50XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzL29iamVjdC5qcyc7XG5leHBvcnQgdmFyIHByb3BlcnRpZXMgPSBbe1xuICAvLyBhc3NpZ25tZW50XG4gIEFzc2lnbm1lbnROb2RlOiB7fSxcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZToge31cbn0sIHtcbiAgLy8gY29uZGl0aW9uYWwgZXhwcmVzc2lvblxuICBDb25kaXRpb25hbE5vZGU6IHtcbiAgICBsYXRleExlZnRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UmlnaHRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UGFyZW5zOiBmYWxzZSAvLyBjb25kaXRpb25hbHMgZG9uJ3QgbmVlZCBwYXJlbnRoZXNlcyBpbiBMYVRlWCBiZWNhdXNlXG4gICAgLy8gdGhleSBhcmUgMiBkaW1lbnNpb25hbFxuXG4gIH1cbn0sIHtcbiAgLy8gbG9naWNhbCBvclxuICAnT3BlcmF0b3JOb2RlOm9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gbG9naWNhbCB4b3JcbiAgJ09wZXJhdG9yTm9kZTp4b3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBsb2dpY2FsIGFuZFxuICAnT3BlcmF0b3JOb2RlOmFuZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHdpc2Ugb3JcbiAgJ09wZXJhdG9yTm9kZTpiaXRPcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHdpc2UgeG9yXG4gICdPcGVyYXRvck5vZGU6Yml0WG9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0d2lzZSBhbmRcbiAgJ09wZXJhdG9yTm9kZTpiaXRBbmQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyByZWxhdGlvbmFsIG9wZXJhdG9yc1xuICAnT3BlcmF0b3JOb2RlOmVxdWFsJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6dW5lcXVhbCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnNtYWxsZXInOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpsYXJnZXInOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpzbWFsbGVyRXEnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpsYXJnZXJFcSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICBSZWxhdGlvbmFsTm9kZToge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0c2hpZnQgb3BlcmF0b3JzXG4gICdPcGVyYXRvck5vZGU6bGVmdFNoaWZ0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6cmlnaHRBcml0aFNoaWZ0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6cmlnaHRMb2dTaGlmdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHVuaXQgY29udmVyc2lvblxuICAnT3BlcmF0b3JOb2RlOnRvJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gcmFuZ2VcbiAgUmFuZ2VOb2RlOiB7fVxufSwge1xuICAvLyBhZGRpdGlvbiwgc3VidHJhY3Rpb25cbiAgJ09wZXJhdG9yTm9kZTphZGQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogWydPcGVyYXRvck5vZGU6YWRkJywgJ09wZXJhdG9yTm9kZTpzdWJ0cmFjdCddXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6c3VidHJhY3QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBtdWx0aXBseSwgZGl2aWRlLCBtb2R1bHVzXG4gICdPcGVyYXRvck5vZGU6bXVsdGlwbHknOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogWydPcGVyYXRvck5vZGU6bXVsdGlwbHknLCAnT3BlcmF0b3JOb2RlOmRpdmlkZScsICdPcGVyYXRvcjpkb3RNdWx0aXBseScsICdPcGVyYXRvcjpkb3REaXZpZGUnXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRpdmlkZSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXSxcbiAgICBsYXRleExlZnRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UmlnaHRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UGFyZW5zOiBmYWxzZSAvLyBmcmFjdGlvbnMgZG9uJ3QgcmVxdWlyZSBwYXJlbnRoZXNlcyBiZWNhdXNlXG4gICAgLy8gdGhleSdyZSAyIGRpbWVuc2lvbmFsLCBzbyBwYXJlbnMgYXJlbid0IG5lZWRlZFxuICAgIC8vIGluIExhVGVYXG5cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkb3RNdWx0aXBseSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbJ09wZXJhdG9yTm9kZTptdWx0aXBseScsICdPcGVyYXRvck5vZGU6ZGl2aWRlJywgJ09wZXJhdG9yTm9kZTpkb3RNdWx0aXBseScsICdPcGVyYXRvck5vZGU6ZG9EaXZpZGUnXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRvdERpdmlkZSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOm1vZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHVuYXJ5IHByZWZpeCBvcGVyYXRvcnNcbiAgJ09wZXJhdG9yTm9kZTp1bmFyeVBsdXMnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9LFxuICAnT3BlcmF0b3JOb2RlOnVuYXJ5TWludXMnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9LFxuICAnT3BlcmF0b3JOb2RlOmJpdE5vdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bm90Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfVxufSwge1xuICAvLyBleHBvbmVudGlhdGlvblxuICAnT3BlcmF0b3JOb2RlOnBvdyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW10sXG4gICAgbGF0ZXhSaWdodFBhcmVuczogZmFsc2UgLy8gdGhlIGV4cG9uZW50IGRvZXNuJ3QgbmVlZCBwYXJlbnRoZXNlcyBpblxuICAgIC8vIExhVGVYIGJlY2F1c2UgaXQncyAyIGRpbWVuc2lvbmFsXG4gICAgLy8gKGl0J3Mgb24gdG9wKVxuXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZG90UG93Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGZhY3RvcmlhbFxuICAnT3BlcmF0b3JOb2RlOmZhY3RvcmlhbCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCdcbiAgfVxufSwge1xuICAvLyBtYXRyaXggdHJhbnNwb3NlXG4gICdPcGVyYXRvck5vZGU6dHJhbnNwb3NlJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0J1xuICB9XG59XTtcbi8qKlxuICogR2V0IHRoZSBwcmVjZWRlbmNlIG9mIGEgTm9kZS5cbiAqIEhpZ2hlciBudW1iZXIgZm9yIGhpZ2hlciBwcmVjZWRlbmNlLCBzdGFydGluZyB3aXRoIDAuXG4gKiBSZXR1cm5zIG51bGwgaWYgdGhlIHByZWNlZGVuY2UgaXMgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gX25vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICogQHJldHVybiB7bnVtYmVyIHwgbnVsbH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlY2VkZW5jZShfbm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgdmFyIG5vZGUgPSBfbm9kZTtcblxuICBpZiAocGFyZW50aGVzaXMgIT09ICdrZWVwJykge1xuICAgIC8vIFBhcmVudGhlc2lzTm9kZXMgYXJlIG9ubHkgaWdub3JlZCB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgIG5vZGUgPSBfbm9kZS5nZXRDb250ZW50KCk7XG4gIH1cblxuICB2YXIgaWRlbnRpZmllciA9IG5vZGUuZ2V0SWRlbnRpZmllcigpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpZGVudGlmaWVyIGluIHByb3BlcnRpZXNbaV0pIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBHZXQgdGhlIGFzc29jaWF0aXZpdHkgb2YgYW4gb3BlcmF0b3IgKGxlZnQgb3IgcmlnaHQpLlxuICogUmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nICdsZWZ0JyBvciAncmlnaHQnIG9yIG51bGwgaWZcbiAqIHRoZSBhc3NvY2lhdGl2aXR5IGlzIG5vdCBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gX25vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICogQHJldHVybiB7c3RyaW5nfG51bGx9XG4gKiBAdGhyb3dzIHtFcnJvcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXNzb2NpYXRpdml0eShfbm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgdmFyIG5vZGUgPSBfbm9kZTtcblxuICBpZiAocGFyZW50aGVzaXMgIT09ICdrZWVwJykge1xuICAgIC8vIFBhcmVudGhlc2lzTm9kZXMgYXJlIG9ubHkgaWdub3JlZCB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgIG5vZGUgPSBfbm9kZS5nZXRDb250ZW50KCk7XG4gIH1cblxuICB2YXIgaWRlbnRpZmllciA9IG5vZGUuZ2V0SWRlbnRpZmllcigpO1xuICB2YXIgaW5kZXggPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcblxuICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAvLyBub2RlIGlzbid0IGluIHRoZSBsaXN0XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2luZGV4XVtpZGVudGlmaWVyXTtcblxuICBpZiAoaGFzT3duUHJvcGVydHkocHJvcGVydHksICdhc3NvY2lhdGl2aXR5JykpIHtcbiAgICBpZiAocHJvcGVydHkuYXNzb2NpYXRpdml0eSA9PT0gJ2xlZnQnKSB7XG4gICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eS5hc3NvY2lhdGl2aXR5ID09PSAncmlnaHQnKSB7XG4gICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9IC8vIGFzc29jaWF0aXZpdHkgaXMgaW52YWxpZFxuXG5cbiAgICB0aHJvdyBFcnJvcignXFwnJyArIGlkZW50aWZpZXIgKyAnXFwnIGhhcyB0aGUgaW52YWxpZCBhc3NvY2lhdGl2aXR5IFxcJycgKyBwcm9wZXJ0eS5hc3NvY2lhdGl2aXR5ICsgJ1xcJy4nKTtcbiAgfSAvLyBhc3NvY2lhdGl2aXR5IGlzIHVuZGVmaW5lZFxuXG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIENoZWNrIGlmIGFuIG9wZXJhdG9yIGlzIGFzc29jaWF0aXZlIHdpdGggYW5vdGhlciBvcGVyYXRvci5cbiAqIFJldHVybnMgZWl0aGVyIHRydWUgb3IgZmFsc2Ugb3IgbnVsbCBpZiBub3QgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVBXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVCXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAqIEByZXR1cm4ge2Jvb2xlYW4gfCBudWxsfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Fzc29jaWF0aXZlV2l0aChub2RlQSwgbm9kZUIsIHBhcmVudGhlc2lzKSB7XG4gIC8vIFBhcmVudGhlc2lzTm9kZXMgYXJlIG9ubHkgaWdub3JlZCB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICB2YXIgYSA9IHBhcmVudGhlc2lzICE9PSAna2VlcCcgPyBub2RlQS5nZXRDb250ZW50KCkgOiBub2RlQTtcbiAgdmFyIGIgPSBwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnID8gbm9kZUEuZ2V0Q29udGVudCgpIDogbm9kZUI7XG4gIHZhciBpZGVudGlmaWVyQSA9IGEuZ2V0SWRlbnRpZmllcigpO1xuICB2YXIgaWRlbnRpZmllckIgPSBiLmdldElkZW50aWZpZXIoKTtcbiAgdmFyIGluZGV4ID0gZ2V0UHJlY2VkZW5jZShhLCBwYXJlbnRoZXNpcyk7XG5cbiAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgLy8gbm9kZSBpc24ndCBpbiB0aGUgbGlzdFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpbmRleF1baWRlbnRpZmllckFdO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSwgJ2Fzc29jaWF0aXZlV2l0aCcpICYmIHByb3BlcnR5LmFzc29jaWF0aXZlV2l0aCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eS5hc3NvY2lhdGl2ZVdpdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcm9wZXJ0eS5hc3NvY2lhdGl2ZVdpdGhbaV0gPT09IGlkZW50aWZpZXJCKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBhc3NvY2lhdGl2ZVdpdGggaXMgbm90IGRlZmluZWRcblxuXG4gIHJldHVybiBudWxsO1xufSIsImltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0luZGV4Tm9kZSwgaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgYWNjZXNzRmFjdG9yeSB9IGZyb20gJy4vdXRpbHMvYWNjZXNzLmpzJztcbmltcG9ydCB7IGFzc2lnbkZhY3RvcnkgfSBmcm9tICcuL3V0aWxzL2Fzc2lnbi5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbnZhciBuYW1lID0gJ0Fzc2lnbm1lbnROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3N1YnNldCcsICc/bWF0cml4JywgLy8gRklYTUU6IHNob3VsZCBub3QgYmUgbmVlZGVkIGF0IGFsbCwgc2hvdWxkIGJlIGhhbmRsZWQgYnkgc3Vic2V0XG4nTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVBc3NpZ25tZW50Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHN1YnNldCxcbiAgICBtYXRyaXgsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcbiAgdmFyIGFjY2VzcyA9IGFjY2Vzc0ZhY3Rvcnkoe1xuICAgIHN1YnNldFxuICB9KTtcbiAgdmFyIGFzc2lnbiA9IGFzc2lnbkZhY3Rvcnkoe1xuICAgIHN1YnNldCxcbiAgICBtYXRyaXhcbiAgfSk7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQXNzaWdubWVudE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqXG4gICAqIERlZmluZSBhIHN5bWJvbCwgbGlrZSBgYT0zLjJgLCB1cGRhdGUgYSBwcm9wZXJ0eSBsaWtlIGBhLmI9My4yYCwgb3JcbiAgICogcmVwbGFjZSBhIHN1YnNldCBvZiBhIG1hdHJpeCBsaWtlIGBBWzIsMl09NDJgLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBuZXcgQXNzaWdubWVudE5vZGUoc3ltYm9sLCB2YWx1ZSlcbiAgICogICAgIG5ldyBBc3NpZ25tZW50Tm9kZShvYmplY3QsIGluZGV4LCB2YWx1ZSlcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqXG4gICAqICAgIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZSgnYScpLCBuZXcgQ29uc3RhbnROb2RlKDIpKSAgICAgICAgICAgICAgICAgICAgICAgLy8gYT0yXG4gICAqICAgIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZSgnYScpLCBuZXcgSW5kZXhOb2RlKCdiJyksIG5ldyBDb25zdGFudE5vZGUoMikpICAgLy8gYS5iPTJcbiAgICogICAgbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKCdhJyksIG5ldyBJbmRleE5vZGUoMSwgMiksIG5ldyBDb25zdGFudE5vZGUoMykpICAvLyBhWzEsMl09M1xuICAgKlxuICAgKiBAcGFyYW0ge1N5bWJvbE5vZGUgfCBBY2Nlc3Nvck5vZGV9IG9iamVjdCAgT2JqZWN0IG9uIHdoaWNoIHRvIGFzc2lnbiBhIHZhbHVlXG4gICAqIEBwYXJhbSB7SW5kZXhOb2RlfSBbaW5kZXg9bnVsbF0gICAgICAgICAgICBJbmRleCwgcHJvcGVydHkgbmFtZSBvciBtYXRyaXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LiBPcHRpb25hbC4gSWYgbm90IHByb3ZpZGVkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgYG9iamVjdGAgaXMgYSBTeW1ib2xOb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHByb3BlcnR5IGlzIGFzc2lnbmVkIHRvIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsIHNjb3BlLlxuICAgKiBAcGFyYW0ge05vZGV9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHZhbHVlIHRvIGJlIGFzc2lnbmVkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEFzc2lnbm1lbnROb2RlKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFzc2lnbm1lbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLmluZGV4ID0gdmFsdWUgPyBpbmRleCA6IG51bGw7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlIHx8IGluZGV4OyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKCFpc1N5bWJvbE5vZGUob2JqZWN0KSAmJiAhaXNBY2Nlc3Nvck5vZGUob2JqZWN0KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sTm9kZSBvciBBY2Nlc3Nvck5vZGUgZXhwZWN0ZWQgYXMgXCJvYmplY3RcIicpO1xuICAgIH1cblxuICAgIGlmIChpc1N5bWJvbE5vZGUob2JqZWN0KSAmJiBvYmplY3QubmFtZSA9PT0gJ2VuZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiB0byBzeW1ib2wgXCJlbmRcIicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluZGV4ICYmICFpc0luZGV4Tm9kZSh0aGlzLmluZGV4KSkge1xuICAgICAgLy8gaW5kZXggaXMgb3B0aW9uYWxcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4Tm9kZSBleHBlY3RlZCBhcyBcImluZGV4XCInKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTm9kZSh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBhcyBcInZhbHVlXCInKTtcbiAgICB9IC8vIHJlYWRvbmx5IHByb3BlcnR5IG5hbWVcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpID8gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0Lm5hbWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gYSBuZXcgbmFtZSwgbmFtZSBpcyByZWFkLW9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50eXBlID0gJ0Fzc2lnbm1lbnROb2RlJztcbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmlzQXNzaWdubWVudE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbE9iamVjdCA9IHRoaXMub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsSW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcykgOiBudWxsO1xuXG4gICAgdmFyIGV2YWxWYWx1ZSA9IHRoaXMudmFsdWUuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIG5hbWUgPSB0aGlzLm9iamVjdC5uYW1lO1xuXG4gICAgaWYgKCF0aGlzLmluZGV4KSB7XG4gICAgICAvLyBhcHBseSBhIHZhcmlhYmxlIHRvIHRoZSBzY29wZSwgZm9yIGV4YW1wbGUgYGE9MmBcbiAgICAgIGlmICghaXNTeW1ib2xOb2RlKHRoaXMub2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2xOb2RlIGV4cGVjdGVkIGFzIG9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUsIGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAvLyBhcHBseSBhbiBvYmplY3QgcHJvcGVydHkgZm9yIGV4YW1wbGUgYGEuYj0yYFxuICAgICAgdmFyIHByb3AgPSB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHNldFNhZmVQcm9wZXJ0eShvYmplY3QsIHByb3AsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc1N5bWJvbE5vZGUodGhpcy5vYmplY3QpKSB7XG4gICAgICAvLyB1cGRhdGUgYSBtYXRyaXggc3Vic2V0LCBmb3IgZXhhbXBsZSBgYVsyXT0zYFxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgY2hpbGRPYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBjaGlsZE9iamVjdCk7IC8vIEltcG9ydGFudDogIHdlIHBhc3MgY2hpbGRPYmplY3QgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgc2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lLCBhc3NpZ24oY2hpbGRPYmplY3QsIGluZGV4LCB2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpc0FjY2Vzc29yTm9kZShub2RlLm9iamVjdCkgPT09IHRydWVcbiAgICAgIC8vIHVwZGF0ZSBhIG1hdHJpeCBzdWJzZXQsIGZvciBleGFtcGxlIGBhLmJbMl09M2BcbiAgICAgIC8vIHdlIHdpbGwgbm90IHVzZSB0aGUgY29tcGlsZSBmdW5jdGlvbiBvZiB0aGUgQWNjZXNzb3JOb2RlLCBidXQgY29tcGlsZSBpdFxuICAgICAgLy8gb3Vyc2VsdmVzIGhlcmUgYXMgd2UgbmVlZCB0aGUgcGFyZW50IG9iamVjdCBvZiB0aGUgQWNjZXNzb3JOb2RlOlxuICAgICAgLy8gd2VlIG5lZWQgdG8gYXBwbHkgdGhlIHVwZGF0ZWQgb2JqZWN0IHRvIHBhcmVudCBvYmplY3RcbiAgICAgIHZhciBldmFsUGFyZW50T2JqZWN0ID0gdGhpcy5vYmplY3Qub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgaWYgKHRoaXMub2JqZWN0LmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgICB2YXIgcGFyZW50UHJvcCA9IHRoaXMub2JqZWN0LmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgcGFyZW50ID0gZXZhbFBhcmVudE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgdmFyIGNoaWxkT2JqZWN0ID0gZ2V0U2FmZVByb3BlcnR5KHBhcmVudCwgcGFyZW50UHJvcCk7XG4gICAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBjaGlsZE9iamVjdCk7IC8vIEltcG9ydGFudDogd2UgcGFzcyBjaGlsZE9iamVjdCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgc2V0U2FmZVByb3BlcnR5KHBhcmVudCwgcGFyZW50UHJvcCwgYXNzaWduKGNoaWxkT2JqZWN0LCBpbmRleCwgdmFsdWUpKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBzb21lIHBhcmFtZXRlcnMgdXNlIHRoZSAnZW5kJyBwYXJhbWV0ZXIsIHdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBzaXplXG4gICAgICAgIHZhciBldmFsUGFyZW50SW5kZXggPSB0aGlzLm9iamVjdC5pbmRleC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBldmFsUGFyZW50T2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICB2YXIgcGFyZW50SW5kZXggPSBldmFsUGFyZW50SW5kZXgoc2NvcGUsIGFyZ3MsIHBhcmVudCk7IC8vIEltcG9ydGFudDogd2UgcGFzcyBwYXJlbnQgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgICB2YXIgY2hpbGRPYmplY3QgPSBhY2Nlc3MocGFyZW50LCBwYXJlbnRJbmRleCk7XG4gICAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBjaGlsZE9iamVjdCk7IC8vIEltcG9ydGFudDogIHdlIHBhc3MgY2hpbGRPYmplY3QgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIGFzc2lnbihwYXJlbnQsIHBhcmVudEluZGV4LCBhc3NpZ24oY2hpbGRPYmplY3QsIGluZGV4LCB2YWx1ZSkpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuaW5kZXgpIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpO1xuICAgIH1cblxuICAgIGNhbGxiYWNrKHRoaXMudmFsdWUsICd2YWx1ZScsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFzc2lnbm1lbnROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtBc3NpZ25tZW50Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpKTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcykpIDogbnVsbDtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnZhbHVlLCAndmFsdWUnLCB0aGlzKSk7XG5cbiAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKG9iamVjdCwgaW5kZXgsIHZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUodGhpcy5vYmplY3QsIHRoaXMuaW5kZXgsIHRoaXMudmFsdWUpO1xuICB9O1xuICAvKlxuICAgKiBJcyBwYXJlbnRoZXNpcyBuZWVkZWQ/XG4gICAqIEBwYXJhbSB7bm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhcmVudGhlc2lzPSdrZWVwJ11cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZWVkUGFyZW50aGVzaXMobm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgICBpZiAoIXBhcmVudGhlc2lzKSB7XG4gICAgICBwYXJlbnRoZXNpcyA9ICdrZWVwJztcbiAgICB9XG5cbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBleHByUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS52YWx1ZSwgcGFyZW50aGVzaXMpO1xuICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgZXhwclByZWNlZGVuY2UgIT09IG51bGwgJiYgZXhwclByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZTtcbiAgfVxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4LnRvU3RyaW5nKG9wdGlvbnMpIDogJyc7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZS50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzKSkge1xuICAgICAgdmFsdWUgPSAnKCcgKyB2YWx1ZSArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgaW5kZXggKyAnID0gJyArIHZhbHVlO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Fzc2lnbm1lbnROb2RlJyxcbiAgICAgIG9iamVjdDogdGhpcy5vYmplY3QsXG4gICAgICBpbmRleDogdGhpcy5pbmRleCxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFzc2lnbm1lbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJBc3NpZ25tZW50Tm9kZVwiLCBvYmplY3Q6IC4uLiwgaW5kZXg6IC4uLiwgdmFsdWU6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtBc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShqc29uLm9iamVjdCwganNvbi5pbmRleCwganNvbi52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC50b0hUTUwob3B0aW9ucykgOiAnJztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlLnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzKSkge1xuICAgICAgdmFsdWUgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyB2YWx1ZSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgaW5kZXggKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLXZhcmlhYmxlLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3JcIj49PC9zcGFuPicgKyB2YWx1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvVGV4KG9wdGlvbnMpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4LnRvVGV4KG9wdGlvbnMpIDogJyc7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZS50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzKSkge1xuICAgICAgdmFsdWUgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdCh2YWx1ZSwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyBpbmRleCArICc6PScgKyB2YWx1ZTtcbiAgfTtcblxuICByZXR1cm4gQXNzaWdubWVudE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZXJyb3JUcmFuc2Zvcm0gfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vdXRpbHMvZXJyb3JUcmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduRmFjdG9yeShfcmVmKSB7XG4gIHZhciB7XG4gICAgc3Vic2V0LFxuICAgIG1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogUmVwbGFjZSBwYXJ0IG9mIGFuIG9iamVjdDpcbiAgICpcbiAgICogLSBBc3NpZ24gYSBwcm9wZXJ0eSB0byBhbiBvYmplY3RcbiAgICogLSBSZXBsYWNlIGEgcGFydCBvZiBhIHN0cmluZ1xuICAgKiAtIFJlcGxhY2UgYSBtYXRyaXggc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IG9iamVjdFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBvYmplY3RcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBpbiBjYXNlIG9mIGEgc3RyaW5nXG4gICAqL1xuICAvLyBUT0RPOiBjaGFuZ2UgYXNzaWduIHRvIHJldHVybiB0aGUgdmFsdWUgaW5zdGVhZCBvZiB0aGUgb2JqZWN0XG4gIHJldHVybiBmdW5jdGlvbiBhc3NpZ24ob2JqZWN0LCBpbmRleCwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAvLyB3ZSB1c2UgbWF0cml4LnN1YnNldCBoZXJlIGluc3RlYWQgb2YgdGhlIGZ1bmN0aW9uIHN1YnNldCBiZWNhdXNlIHdlIG11c3Qgbm90IGNsb25lIHRoZSBjb250ZW50c1xuICAgICAgICByZXR1cm4gbWF0cml4KG9iamVjdCkuc3Vic2V0KGluZGV4LCB2YWx1ZSkudmFsdWVPZigpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5zdWJzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gTWF0cml4XG4gICAgICAgIHJldHVybiBvYmplY3Quc3Vic2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIFRPRE86IG1vdmUgc2V0U3RyaW5nU3Vic2V0IGludG8gYSBzZXBhcmF0ZSB1dGlsIGZpbGUsIHVzZSB0aGF0XG4gICAgICAgIHJldHVybiBzdWJzZXQob2JqZWN0LCBpbmRleCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoIWluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGEgbnVtZXJpYyBpbmRleCBhcyBvYmplY3QgcHJvcGVydHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFNhZmVQcm9wZXJ0eShvYmplY3QsIGluZGV4LmdldE9iamVjdFByb3BlcnR5KCksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBpbmRleDogdW5zdXBwb3J0ZWQgdHlwZSBvZiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IGVycm9yVHJhbnNmb3JtKGVycik7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZvckVhY2gsIG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0Jsb2NrTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydSZXN1bHRTZXQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVCbG9ja05vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBSZXN1bHRTZXQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEJsb2NrTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogSG9sZHMgYSBzZXQgd2l0aCBibG9ja3NcbiAgICogQHBhcmFtIHtBcnJheS48e25vZGU6IE5vZGV9IHwge25vZGU6IE5vZGUsIHZpc2libGU6IGJvb2xlYW59Pn0gYmxvY2tzXG4gICAqICAgICAgICAgICAgQW4gYXJyYXkgd2l0aCBibG9ja3MsIHdoZXJlIGEgYmxvY2sgaXMgY29uc3RydWN0ZWQgYXMgYW4gT2JqZWN0XG4gICAqICAgICAgICAgICAgd2l0aCBwcm9wZXJ0aWVzIGJsb2NrLCB3aGljaCBpcyBhIE5vZGUsIGFuZCB2aXNpYmxlLCB3aGljaCBpc1xuICAgKiAgICAgICAgICAgIGEgYm9vbGVhbi4gVGhlIHByb3BlcnR5IHZpc2libGUgaXMgb3B0aW9uYWwgYW5kIGlzIHRydWUgYnkgZGVmYXVsdFxuICAgKi9cbiAgZnVuY3Rpb24gQmxvY2tOb2RlKGJsb2Nrcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBCbG9ja05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXQsIGNvcHkgYmxvY2tzXG5cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShibG9ja3MpKSB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgdGhpcy5ibG9ja3MgPSBibG9ja3MubWFwKGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgdmFyIG5vZGUgPSBibG9jayAmJiBibG9jay5ub2RlO1xuICAgICAgdmFyIHZpc2libGUgPSBibG9jayAmJiBibG9jay52aXNpYmxlICE9PSB1bmRlZmluZWQgPyBibG9jay52aXNpYmxlIDogdHJ1ZTtcbiAgICAgIGlmICghaXNOb2RlKG5vZGUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9wZXJ0eSBcIm5vZGVcIiBtdXN0IGJlIGEgTm9kZScpO1xuICAgICAgaWYgKHR5cGVvZiB2aXNpYmxlICE9PSAnYm9vbGVhbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3BlcnR5IFwidmlzaWJsZVwiIG11c3QgYmUgYSBib29sZWFuJyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEJsb2NrTm9kZS5wcm90b3R5cGUudHlwZSA9ICdCbG9ja05vZGUnO1xuICBCbG9ja05vZGUucHJvdG90eXBlLmlzQmxvY2tOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsQmxvY2tzID0gbWFwKHRoaXMuYmxvY2tzLCBmdW5jdGlvbiAoYmxvY2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV2YWx1YXRlOiBibG9jay5ub2RlLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSxcbiAgICAgICAgdmlzaWJsZTogYmxvY2sudmlzaWJsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEJsb2NrTm9kZXMoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICBmb3JFYWNoKGV2YWxCbG9ja3MsIGZ1bmN0aW9uIGV2YWxCbG9ja05vZGUoYmxvY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJsb2NrLmV2YWx1YXRlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAoYmxvY2sudmlzaWJsZSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0U2V0KHJlc3VsdHMpO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIGJsb2NrcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuYmxvY2tzW2ldLm5vZGUsICdibG9ja3NbJyArIGkgKyAnXS5ub2RlJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEJsb2NrTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QmxvY2tOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGJsb2NrcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGJsb2NrID0gdGhpcy5ibG9ja3NbaV07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKGJsb2NrLm5vZGUsICdibG9ja3NbJyArIGkgKyAnXS5ub2RlJywgdGhpcykpO1xuXG4gICAgICBibG9ja3NbaV0gPSB7XG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgIHZpc2libGU6IGJsb2NrLnZpc2libGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoYmxvY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QmxvY2tOb2RlfVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJsb2NrcyA9IHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAoYmxvY2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGU6IGJsb2NrLm5vZGUsXG4gICAgICAgIHZpc2libGU6IGJsb2NrLnZpc2libGVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoYmxvY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0ubm9kZS50b1N0cmluZyhvcHRpb25zKSArIChwYXJhbS52aXNpYmxlID8gJycgOiAnOycpO1xuICAgIH0pLmpvaW4oJ1xcbicpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdCbG9ja05vZGUnLFxuICAgICAgYmxvY2tzOiB0aGlzLmJsb2Nrc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBCbG9ja05vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJsb2NrTm9kZVwiLCBibG9ja3M6IFt7bm9kZTogLi4uLCB2aXNpYmxlOiBmYWxzZX0sIC4uLl19YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QmxvY2tOb2RlfVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoanNvbi5ibG9ja3MpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0ubm9kZS50b0hUTUwob3B0aW9ucykgKyAocGFyYW0udmlzaWJsZSA/ICcnIDogJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj47PC9zcGFuPicpO1xuICAgIH0pLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj48YnIgLz48L3NwYW4+Jyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS5ub2RlLnRvVGV4KG9wdGlvbnMpICsgKHBhcmFtLnZpc2libGUgPyAnJyA6ICc7Jyk7XG4gICAgfSkuam9pbignXFxcXDtcXFxcO1xcbicpO1xuICB9O1xuXG4gIHJldHVybiBCbG9ja05vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIsIGlzQ29tcGxleCwgaXNOb2RlLCBpc1VuaXQsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xudmFyIG5hbWUgPSAnQ29uZGl0aW9uYWxOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29uZGl0aW9uYWxOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQSBsYXp5IGV2YWx1YXRpbmcgY29uZGl0aW9uYWwgb3BlcmF0b3I6ICdjb25kaXRpb24gPyB0cnVlRXhwciA6IGZhbHNlRXhwcidcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjb25kaXRpb24gICBDb25kaXRpb24sIG11c3QgcmVzdWx0IGluIGEgYm9vbGVhblxuICAgKiBAcGFyYW0ge05vZGV9IHRydWVFeHByICAgIEV4cHJlc3Npb24gZXZhbHVhdGVkIHdoZW4gY29uZGl0aW9uIGlzIHRydWVcbiAgICogQHBhcmFtIHtOb2RlfSBmYWxzZUV4cHIgICBFeHByZXNzaW9uIGV2YWx1YXRlZCB3aGVuIGNvbmRpdGlvbiBpcyB0cnVlXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvciBDb25kaXRpb25hbE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBDb25kaXRpb25hbE5vZGUoY29uZGl0aW9uLCB0cnVlRXhwciwgZmFsc2VFeHByKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbmRpdGlvbmFsTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc05vZGUoY29uZGl0aW9uKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGNvbmRpdGlvbiBtdXN0IGJlIGEgTm9kZScpO1xuICAgIGlmICghaXNOb2RlKHRydWVFeHByKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHRydWVFeHByIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgaWYgKCFpc05vZGUoZmFsc2VFeHByKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGZhbHNlRXhwciBtdXN0IGJlIGEgTm9kZScpO1xuICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgIHRoaXMudHJ1ZUV4cHIgPSB0cnVlRXhwcjtcbiAgICB0aGlzLmZhbHNlRXhwciA9IGZhbHNlRXhwcjtcbiAgfVxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLnR5cGUgPSAnQ29uZGl0aW9uYWxOb2RlJztcbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5pc0NvbmRpdGlvbmFsTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbENvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsVHJ1ZUV4cHIgPSB0aGlzLnRydWVFeHByLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsRmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxDb25kaXRpb25hbE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0ZXN0Q29uZGl0aW9uKGV2YWxDb25kaXRpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpKSA/IGV2YWxUcnVlRXhwcihzY29wZSwgYXJncywgY29udGV4dCkgOiBldmFsRmFsc2VFeHByKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuY29uZGl0aW9uLCAnY29uZGl0aW9uJywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy50cnVlRXhwciwgJ3RydWVFeHByJywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy5mYWxzZUV4cHIsICdmYWxzZUV4cHInLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBDb25kaXRpb25hbE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0NvbmRpdGlvbmFsTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxOb2RlKHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmNvbmRpdGlvbiwgJ2NvbmRpdGlvbicsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMudHJ1ZUV4cHIsICd0cnVlRXhwcicsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZmFsc2VFeHByLCAnZmFsc2VFeHByJywgdGhpcykpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7Q29uZGl0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbE5vZGUodGhpcy5jb25kaXRpb24sIHRoaXMudHJ1ZUV4cHIsIHRoaXMuZmFsc2VFeHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpOyAvLyBFbmNsb3NlIEFyZ3VtZW50cyBpbiBwYXJlbnRoZXNlcyBpZiB0aGV5IGFyZSBhbiBPcGVyYXRvck5vZGVcbiAgICAvLyBvciBoYXZlIGxvd2VyIG9yIGVxdWFsIHByZWNlZGVuY2VcbiAgICAvLyBOT1RFOiBlbmNsb3NpbmcgYWxsIE9wZXJhdG9yTm9kZXMgaW4gcGFyZW50aGVzZXMgaXMgYSBkZWNpc2lvblxuICAgIC8vIHB1cmVseSBiYXNlZCBvbiBhZXN0aGV0aWNzIGFuZCByZWFkYWJpbGl0eVxuXG4gICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciBjb25kaXRpb25QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmNvbmRpdGlvbiwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmNvbmRpdGlvbi50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBjb25kaXRpb25QcmVjZWRlbmNlICE9PSBudWxsICYmIGNvbmRpdGlvblByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgY29uZGl0aW9uID0gJygnICsgY29uZGl0aW9uICsgJyknO1xuICAgIH1cblxuICAgIHZhciB0cnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIHRydWVQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLnRydWVFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMudHJ1ZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgdHJ1ZVByZWNlZGVuY2UgIT09IG51bGwgJiYgdHJ1ZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgdHJ1ZUV4cHIgPSAnKCcgKyB0cnVlRXhwciArICcpJztcbiAgICB9XG5cbiAgICB2YXIgZmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIGZhbHNlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5mYWxzZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5mYWxzZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgZmFsc2VQcmVjZWRlbmNlICE9PSBudWxsICYmIGZhbHNlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBmYWxzZUV4cHIgPSAnKCcgKyBmYWxzZUV4cHIgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmRpdGlvbiArICcgPyAnICsgdHJ1ZUV4cHIgKyAnIDogJyArIGZhbHNlRXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQ29uZGl0aW9uYWxOb2RlJyxcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5jb25kaXRpb24sXG4gICAgICB0cnVlRXhwcjogdGhpcy50cnVlRXhwcixcbiAgICAgIGZhbHNlRXhwcjogdGhpcy5mYWxzZUV4cHJcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQ29uZGl0aW9uYWxOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJDb25kaXRpb25hbE5vZGVcIiwgXCJjb25kaXRpb25cIjogLi4uLCBcInRydWVFeHByXCI6IC4uLiwgXCJmYWxzZUV4cHJcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0NvbmRpdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxOb2RlKGpzb24uY29uZGl0aW9uLCBqc29uLnRydWVFeHByLCBqc29uLmZhbHNlRXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIEVuY2xvc2UgQXJndW1lbnRzIGluIHBhcmVudGhlc2VzIGlmIHRoZXkgYXJlIGFuIE9wZXJhdG9yTm9kZVxuICAgIC8vIG9yIGhhdmUgbG93ZXIgb3IgZXF1YWwgcHJlY2VkZW5jZVxuICAgIC8vIE5PVEU6IGVuY2xvc2luZyBhbGwgT3BlcmF0b3JOb2RlcyBpbiBwYXJlbnRoZXNlcyBpcyBhIGRlY2lzaW9uXG4gICAgLy8gcHVyZWx5IGJhc2VkIG9uIGFlc3RoZXRpY3MgYW5kIHJlYWRhYmlsaXR5XG5cbiAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24udG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciBjb25kaXRpb25QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmNvbmRpdGlvbiwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmNvbmRpdGlvbi50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBjb25kaXRpb25QcmVjZWRlbmNlICE9PSBudWxsICYmIGNvbmRpdGlvblByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgY29uZGl0aW9uID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgY29uZGl0aW9uICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHZhciB0cnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIudG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciB0cnVlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy50cnVlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLnRydWVFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IHRydWVQcmVjZWRlbmNlICE9PSBudWxsICYmIHRydWVQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIHRydWVFeHByID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgdHJ1ZUV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgdmFyIGZhbHNlRXhwciA9IHRoaXMuZmFsc2VFeHByLnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgZmFsc2VQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmZhbHNlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmZhbHNlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBmYWxzZVByZWNlZGVuY2UgIT09IG51bGwgJiYgZmFsc2VQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGZhbHNlRXhwciA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGZhbHNlRXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZGl0aW9uICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWNvbmRpdGlvbmFsLW9wZXJhdG9yXCI+Pzwvc3Bhbj4nICsgdHJ1ZUV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtY29uZGl0aW9uYWwtb3BlcmF0b3JcIj46PC9zcGFuPicgKyBmYWxzZUV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuICdcXFxcYmVnaW57Y2FzZXN9IHsnICsgdGhpcy50cnVlRXhwci50b1RleChvcHRpb25zKSArICd9LCAmXFxcXHF1YWR7XFxcXHRleHR7aWYgfVxcXFw7JyArIHRoaXMuY29uZGl0aW9uLnRvVGV4KG9wdGlvbnMpICsgJ31cXFxcXFxcXHsnICsgdGhpcy5mYWxzZUV4cHIudG9UZXgob3B0aW9ucykgKyAnfSwgJlxcXFxxdWFke1xcXFx0ZXh0e290aGVyd2lzZX19XFxcXGVuZHtjYXNlc30nO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIGEgY29uZGl0aW9uIGlzIG1ldFxuICAgKiBAcGFyYW0geyp9IGNvbmRpdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBjb25kaXRpb24gaXMgdHJ1ZSBvciBub24temVybywgZWxzZSBmYWxzZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHRlc3RDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBjb25kaXRpb24gPT09ICdudW1iZXInIHx8IHR5cGVvZiBjb25kaXRpb24gPT09ICdib29sZWFuJyB8fCB0eXBlb2YgY29uZGl0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuICEhY29uZGl0aW9uO1xuICAgIH1cblxuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiAhY29uZGl0aW9uLmlzWmVybygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21wbGV4KGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICEhKGNvbmRpdGlvbi5yZSB8fCBjb25kaXRpb24uaW0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNVbml0KGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICEhY29uZGl0aW9uLnZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25kaXRpb24gPT09IG51bGwgfHwgY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIG9mIGNvbmRpdGlvbiBcIicgKyB0eXBlT2YoY29uZGl0aW9uKSArICdcIicpO1xuICB9XG5cbiAgcmV0dXJuIENvbmRpdGlvbmFsTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gTWFwIHRoZSBjaGFyYWN0ZXJzIHRvIGVzY2FwZSB0byB0aGVpciBlc2NhcGVkIHZhbHVlcy4gVGhlIGxpc3QgaXMgZGVyaXZlZFxuLy8gZnJvbSBodHRwOi8vd3d3LmNlc3BlZGVzLm9yZy9ibG9nLzg1L2hvdy10by1lc2NhcGUtbGF0ZXgtc3BlY2lhbC1jaGFyYWN0ZXJzXG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBkZWZhdWx0RXNjYXBlcyA9IHtcbiAgXCJ7XCI6IFwiXFxcXHtcIixcbiAgXCJ9XCI6IFwiXFxcXH1cIixcbiAgXCJcXFxcXCI6IFwiXFxcXHRleHRiYWNrc2xhc2h7fVwiLFxuICBcIiNcIjogXCJcXFxcI1wiLFxuICAkOiBcIlxcXFwkXCIsXG4gIFwiJVwiOiBcIlxcXFwlXCIsXG4gIFwiJlwiOiBcIlxcXFwmXCIsXG4gIFwiXlwiOiBcIlxcXFx0ZXh0YXNjaWljaXJjdW17fVwiLFxuICBfOiBcIlxcXFxfXCIsXG4gIFwiflwiOiBcIlxcXFx0ZXh0YXNjaWl0aWxkZXt9XCJcbn07XG52YXIgZm9ybWF0RXNjYXBlcyA9IHtcbiAgXCJcXHUyMDEzXCI6IFwiXFxcXC0tXCIsXG4gIFwiXFx1MjAxNFwiOiBcIlxcXFwtLS1cIixcbiAgXCIgXCI6IFwiflwiLFxuICBcIlxcdFwiOiBcIlxcXFxxcXVhZHt9XCIsXG4gIFwiXFxyXFxuXCI6IFwiXFxcXG5ld2xpbmV7fVwiLFxuICBcIlxcblwiOiBcIlxcXFxuZXdsaW5le31cIlxufTtcblxudmFyIGRlZmF1bHRFc2NhcGVNYXBGbiA9IGZ1bmN0aW9uIGRlZmF1bHRFc2NhcGVNYXBGbihkZWZhdWx0RXNjYXBlcywgZm9ybWF0RXNjYXBlcykge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRFc2NhcGVzLCBmb3JtYXRFc2NhcGVzKTtcbn07XG5cbi8qKlxuICogRXNjYXBlIGEgc3RyaW5nIHRvIGJlIHVzZWQgaW4gTGFUZVggZG9jdW1lbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIGJlIGVzY2FwZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtcy5wcmVzZXJ2ZUZvcm1hdHRpbmcgd2hldGhlciBmb3JtYXR0aW5nIGVzY2FwZXMgc2hvdWxkXG4gKiAgYmUgcGVyZm9ybWVkIChkZWZhdWx0OiBmYWxzZSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXJhbXMuZXNjYXBlTWFwRm4gdGhlIGZ1bmN0aW9uIHRvIG1vZGlmeSB0aGUgZXNjYXBlIG1hcHMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIHN0cmluZywgcmVhZHkgdG8gYmUgdXNlZCBpbiBMYVRlWC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgIF9yZWYkcHJlc2VydmVGb3JtYXR0aSA9IF9yZWYucHJlc2VydmVGb3JtYXR0aW5nLFxuICAgICAgcHJlc2VydmVGb3JtYXR0aW5nID0gX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkcHJlc2VydmVGb3JtYXR0aSxcbiAgICAgIF9yZWYkZXNjYXBlTWFwRm4gPSBfcmVmLmVzY2FwZU1hcEZuLFxuICAgICAgZXNjYXBlTWFwRm4gPSBfcmVmJGVzY2FwZU1hcEZuID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RXNjYXBlTWFwRm4gOiBfcmVmJGVzY2FwZU1hcEZuO1xuXG4gIHZhciBydW5uaW5nU3RyID0gU3RyaW5nKHN0cik7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuXG4gIHZhciBlc2NhcGVzID0gZXNjYXBlTWFwRm4oX2V4dGVuZHMoe30sIGRlZmF1bHRFc2NhcGVzKSwgcHJlc2VydmVGb3JtYXR0aW5nID8gX2V4dGVuZHMoe30sIGZvcm1hdEVzY2FwZXMpIDoge30pO1xuICB2YXIgZXNjYXBlS2V5cyA9IE9iamVjdC5rZXlzKGVzY2FwZXMpOyAvLyBhcyBpdCBpcyByZXVzZWQgbGF0ZXIgb25cblxuICAvLyBBbGdvcml0aG06IEdvIHRocm91Z2ggdGhlIHN0cmluZyBjaGFyYWN0ZXIgYnkgY2hhcmFjdGVyLCBpZiBpdCBtYXRjaGVzXG4gIC8vIHdpdGggb25lIG9mIHRoZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhlbiB3ZSdsbCByZXBsYWNlIGl0IHdpdGggdGhlIGVzY2FwZWRcbiAgLy8gdmVyc2lvbi5cblxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICB2YXIgc3BlY2lhbENoYXJGb3VuZCA9IGZhbHNlO1xuICAgIGVzY2FwZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgaWYgKHNwZWNpYWxDaGFyRm91bmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJ1bm5pbmdTdHIubGVuZ3RoID49IGtleS5sZW5ndGggJiYgcnVubmluZ1N0ci5zbGljZSgwLCBrZXkubGVuZ3RoKSA9PT0ga2V5KSB7XG4gICAgICAgIHJlc3VsdCArPSBlc2NhcGVzW2VzY2FwZUtleXNbaW5kZXhdXTtcbiAgICAgICAgcnVubmluZ1N0ciA9IHJ1bm5pbmdTdHIuc2xpY2Uoa2V5Lmxlbmd0aCwgcnVubmluZ1N0ci5sZW5ndGgpO1xuICAgICAgICBzcGVjaWFsQ2hhckZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXNwZWNpYWxDaGFyRm91bmQpIHtcbiAgICAgIHJlc3VsdCArPSBydW5uaW5nU3RyLnNsaWNlKDAsIDEpO1xuICAgICAgcnVubmluZ1N0ciA9IHJ1bm5pbmdTdHIuc2xpY2UoMSwgcnVubmluZ1N0ci5sZW5ndGgpO1xuICAgIH1cbiAgfTtcblxuICB3aGlsZSAocnVubmluZ1N0cikge1xuICAgIF9sb29wKCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07IiwiLyogZXNsaW50IG5vLXRlbXBsYXRlLWN1cmx5LWluLXN0cmluZzogXCJvZmZcIiAqL1xuaW1wb3J0IGVzY2FwZUxhdGV4TGliIGZyb20gJ2VzY2FwZS1sYXRleCc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4vb2JqZWN0LmpzJztcbmV4cG9ydCB2YXIgbGF0ZXhTeW1ib2xzID0ge1xuICAvLyBHUkVFSyBMRVRURVJTXG4gIEFscGhhOiAnQScsXG4gIGFscGhhOiAnXFxcXGFscGhhJyxcbiAgQmV0YTogJ0InLFxuICBiZXRhOiAnXFxcXGJldGEnLFxuICBHYW1tYTogJ1xcXFxHYW1tYScsXG4gIGdhbW1hOiAnXFxcXGdhbW1hJyxcbiAgRGVsdGE6ICdcXFxcRGVsdGEnLFxuICBkZWx0YTogJ1xcXFxkZWx0YScsXG4gIEVwc2lsb246ICdFJyxcbiAgZXBzaWxvbjogJ1xcXFxlcHNpbG9uJyxcbiAgdmFyZXBzaWxvbjogJ1xcXFx2YXJlcHNpbG9uJyxcbiAgWmV0YTogJ1onLFxuICB6ZXRhOiAnXFxcXHpldGEnLFxuICBFdGE6ICdIJyxcbiAgZXRhOiAnXFxcXGV0YScsXG4gIFRoZXRhOiAnXFxcXFRoZXRhJyxcbiAgdGhldGE6ICdcXFxcdGhldGEnLFxuICB2YXJ0aGV0YTogJ1xcXFx2YXJ0aGV0YScsXG4gIElvdGE6ICdJJyxcbiAgaW90YTogJ1xcXFxpb3RhJyxcbiAgS2FwcGE6ICdLJyxcbiAga2FwcGE6ICdcXFxca2FwcGEnLFxuICB2YXJrYXBwYTogJ1xcXFx2YXJrYXBwYScsXG4gIExhbWJkYTogJ1xcXFxMYW1iZGEnLFxuICBsYW1iZGE6ICdcXFxcbGFtYmRhJyxcbiAgTXU6ICdNJyxcbiAgbXU6ICdcXFxcbXUnLFxuICBOdTogJ04nLFxuICBudTogJ1xcXFxudScsXG4gIFhpOiAnXFxcXFhpJyxcbiAgeGk6ICdcXFxceGknLFxuICBPbWljcm9uOiAnTycsXG4gIG9taWNyb246ICdvJyxcbiAgUGk6ICdcXFxcUGknLFxuICBwaTogJ1xcXFxwaScsXG4gIHZhcnBpOiAnXFxcXHZhcnBpJyxcbiAgUmhvOiAnUCcsXG4gIHJobzogJ1xcXFxyaG8nLFxuICB2YXJyaG86ICdcXFxcdmFycmhvJyxcbiAgU2lnbWE6ICdcXFxcU2lnbWEnLFxuICBzaWdtYTogJ1xcXFxzaWdtYScsXG4gIHZhcnNpZ21hOiAnXFxcXHZhcnNpZ21hJyxcbiAgVGF1OiAnVCcsXG4gIHRhdTogJ1xcXFx0YXUnLFxuICBVcHNpbG9uOiAnXFxcXFVwc2lsb24nLFxuICB1cHNpbG9uOiAnXFxcXHVwc2lsb24nLFxuICBQaGk6ICdcXFxcUGhpJyxcbiAgcGhpOiAnXFxcXHBoaScsXG4gIHZhcnBoaTogJ1xcXFx2YXJwaGknLFxuICBDaGk6ICdYJyxcbiAgY2hpOiAnXFxcXGNoaScsXG4gIFBzaTogJ1xcXFxQc2knLFxuICBwc2k6ICdcXFxccHNpJyxcbiAgT21lZ2E6ICdcXFxcT21lZ2EnLFxuICBvbWVnYTogJ1xcXFxvbWVnYScsXG4gIC8vIGxvZ2ljXG4gIHRydWU6ICdcXFxcbWF0aHJte1RydWV9JyxcbiAgZmFsc2U6ICdcXFxcbWF0aHJte0ZhbHNlfScsXG4gIC8vIG90aGVyXG4gIGk6ICdpJyxcbiAgLy8gVE9ETyB1c2UgXFxpID8/XG4gIGluZjogJ1xcXFxpbmZ0eScsXG4gIEluZjogJ1xcXFxpbmZ0eScsXG4gIGluZmluaXR5OiAnXFxcXGluZnR5JyxcbiAgSW5maW5pdHk6ICdcXFxcaW5mdHknLFxuICBvbzogJ1xcXFxpbmZ0eScsXG4gIGxpbTogJ1xcXFxsaW0nLFxuICB1bmRlZmluZWQ6ICdcXFxcbWF0aGJmez99J1xufTtcbmV4cG9ydCB2YXIgbGF0ZXhPcGVyYXRvcnMgPSB7XG4gIHRyYW5zcG9zZTogJ15cXFxcdG9wJyxcbiAgY3RyYW5zcG9zZTogJ15IJyxcbiAgZmFjdG9yaWFsOiAnIScsXG4gIHBvdzogJ14nLFxuICBkb3RQb3c6ICcuXlxcXFx3ZWRnZScsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICB1bmFyeVBsdXM6ICcrJyxcbiAgdW5hcnlNaW51czogJy0nLFxuICBiaXROb3Q6ICdcXFxcficsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICBub3Q6ICdcXFxcbmVnJyxcbiAgbXVsdGlwbHk6ICdcXFxcY2RvdCcsXG4gIGRpdmlkZTogJ1xcXFxmcmFjJyxcbiAgLy8gVE9ETyBob3cgdG8gaGFuZGxlIHRoYXQgcHJvcGVybHk/XG4gIGRvdE11bHRpcGx5OiAnLlxcXFxjZG90JyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIGRvdERpdmlkZTogJy46JyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIG1vZDogJ1xcXFxtb2QnLFxuICBhZGQ6ICcrJyxcbiAgc3VidHJhY3Q6ICctJyxcbiAgdG86ICdcXFxccmlnaHRhcnJvdycsXG4gIGxlZnRTaGlmdDogJzw8JyxcbiAgcmlnaHRBcml0aFNoaWZ0OiAnPj4nLFxuICByaWdodExvZ1NoaWZ0OiAnPj4+JyxcbiAgZXF1YWw6ICc9JyxcbiAgdW5lcXVhbDogJ1xcXFxuZXEnLFxuICBzbWFsbGVyOiAnPCcsXG4gIGxhcmdlcjogJz4nLFxuICBzbWFsbGVyRXE6ICdcXFxcbGVxJyxcbiAgbGFyZ2VyRXE6ICdcXFxcZ2VxJyxcbiAgYml0QW5kOiAnXFxcXCYnLFxuICBiaXRYb3I6ICdcXFxcdW5kZXJsaW5le3x9JyxcbiAgYml0T3I6ICd8JyxcbiAgYW5kOiAnXFxcXHdlZGdlJyxcbiAgeG9yOiAnXFxcXHZlZWJhcicsXG4gIG9yOiAnXFxcXHZlZSdcbn07XG5leHBvcnQgdmFyIGxhdGV4RnVuY3Rpb25zID0ge1xuICAvLyBhcml0aG1ldGljXG4gIGFiczoge1xuICAgIDE6ICdcXFxcbGVmdHwke2FyZ3NbMF19XFxcXHJpZ2h0fCdcbiAgfSxcbiAgYWRkOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmFkZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBjYnJ0OiB7XG4gICAgMTogJ1xcXFxzcXJ0WzNdeyR7YXJnc1swXX19J1xuICB9LFxuICBjZWlsOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXGxjZWlsJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyY2VpbCdcbiAgfSxcbiAgY3ViZToge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV4zJ1xuICB9LFxuICBkaXZpZGU6IHtcbiAgICAyOiAnXFxcXGZyYWN7JHthcmdzWzBdfX17JHthcmdzWzFdfX0nXG4gIH0sXG4gIGRvdERpdmlkZToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5kb3REaXZpZGUsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgZG90TXVsdGlwbHk6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZG90TXVsdGlwbHksIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgZG90UG93OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmRvdFBvdywgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBleHA6IHtcbiAgICAxOiAnXFxcXGV4cFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBleHBtMTogXCJcXFxcbGVmdChlXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnBvdywgXCJ7JHthcmdzWzBdfX0tMVxcXFxyaWdodClcIiksXG4gIGZpeDoge1xuICAgIDE6ICdcXFxcbWF0aHJteyR7bmFtZX19XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGZsb29yOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXGxmbG9vciR7YXJnc1swXX1cXFxccmlnaHRcXFxccmZsb29yJ1xuICB9LFxuICBnY2Q6ICdcXFxcZ2NkXFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICBoeXBvdDogJ1xcXFxoeXBvdFxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgbG9nOiB7XG4gICAgMTogJ1xcXFxsblxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxvZ197JHthcmdzWzFdfX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgbG9nMTA6IHtcbiAgICAxOiAnXFxcXGxvZ197MTB9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGxvZzFwOiB7XG4gICAgMTogJ1xcXFxsblxcXFxsZWZ0KCR7YXJnc1swXX0rMVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbG9nX3ske2FyZ3NbMV19fVxcXFxsZWZ0KCR7YXJnc1swXX0rMVxcXFxyaWdodCknXG4gIH0sXG4gIGxvZzI6ICdcXFxcbG9nX3syfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgbW9kOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLm1vZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBtdWx0aXBseToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5tdWx0aXBseSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBub3JtOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXHwke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHwnLFxuICAgIDI6IHVuZGVmaW5lZCAvLyB1c2UgZGVmYXVsdCB0ZW1wbGF0ZVxuXG4gIH0sXG4gIG50aFJvb3Q6IHtcbiAgICAyOiAnXFxcXHNxcnRbJHthcmdzWzFdfV17JHthcmdzWzBdfX0nXG4gIH0sXG4gIG50aFJvb3RzOiB7XG4gICAgMjogJ1xcXFx7eSA6ICR5XnthcmdzWzFdfSA9IHske2FyZ3NbMF19fVxcXFx9J1xuICB9LFxuICBwb3c6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnBvdywgXCJ7JHthcmdzWzFdfX1cIilcbiAgfSxcbiAgcm91bmQ6IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcbGZsb29yJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyY2VpbCcsXG4gICAgMjogdW5kZWZpbmVkIC8vIHVzZSBkZWZhdWx0IHRlbXBsYXRlXG5cbiAgfSxcbiAgc2lnbjoge1xuICAgIDE6ICdcXFxcbWF0aHJteyR7bmFtZX19XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNxcnQ6IHtcbiAgICAxOiAnXFxcXHNxcnR7JHthcmdzWzBdfX0nXG4gIH0sXG4gIHNxdWFyZToge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV4yJ1xuICB9LFxuICBzdWJ0cmFjdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5zdWJ0cmFjdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB1bmFyeU1pbnVzOiB7XG4gICAgMTogXCJcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudW5hcnlNaW51cywgXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB1bmFyeVBsdXM6IHtcbiAgICAxOiBcIlwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy51bmFyeVBsdXMsIFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gYml0d2lzZVxuICBiaXRBbmQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYml0QW5kLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGJpdE5vdDoge1xuICAgIDE6IGxhdGV4T3BlcmF0b3JzLmJpdE5vdCArICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYml0T3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYml0T3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgYml0WG9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmJpdFhvciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBsZWZ0U2hpZnQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubGVmdFNoaWZ0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHJpZ2h0QXJpdGhTaGlmdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5yaWdodEFyaXRoU2hpZnQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgcmlnaHRMb2dTaGlmdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5yaWdodExvZ1NoaWZ0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIGNvbWJpbmF0b3JpY3NcbiAgYmVsbE51bWJlcnM6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtCfV97JHthcmdzWzBdfX0nXG4gIH0sXG4gIGNhdGFsYW46IHtcbiAgICAxOiAnXFxcXG1hdGhybXtDfV97JHthcmdzWzBdfX0nXG4gIH0sXG4gIHN0aXJsaW5nUzI6IHtcbiAgICAyOiAnXFxcXG1hdGhybXtTfVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJ1xuICB9LFxuICAvLyBjb21wbGV4XG4gIGFyZzoge1xuICAgIDE6ICdcXFxcYXJnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvbmo6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleKidcbiAgfSxcbiAgaW06IHtcbiAgICAxOiAnXFxcXEltXFxcXGxlZnRcXFxcbGJyYWNlJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyYnJhY2UnXG4gIH0sXG4gIHJlOiB7XG4gICAgMTogJ1xcXFxSZVxcXFxsZWZ0XFxcXGxicmFjZSR7YXJnc1swXX1cXFxccmlnaHRcXFxccmJyYWNlJ1xuICB9LFxuICAvLyBsb2dpY2FsXG4gIGFuZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5hbmQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbm90OiB7XG4gICAgMTogbGF0ZXhPcGVyYXRvcnMubm90ICsgJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBvcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5vciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB4b3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMueG9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIG1hdHJpeFxuICBjcm9zczoge1xuICAgIDI6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVxcXFx0aW1lc1xcXFxsZWZ0KCR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjdHJhbnNwb3NlOiB7XG4gICAgMTogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5jdHJhbnNwb3NlKVxuICB9LFxuICBkZXQ6IHtcbiAgICAxOiAnXFxcXGRldFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBkb3Q6IHtcbiAgICAyOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxjZG90JHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH0sXG4gIGV4cG06IHtcbiAgICAxOiAnXFxcXGV4cFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBpbnY6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleey0xfSdcbiAgfSxcbiAgc3FydG06IHtcbiAgICAxOiBcInske2FyZ3NbMF19fVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5wb3csIFwie1xcXFxmcmFjezF9ezJ9fVwiKVxuICB9LFxuICB0cmFjZToge1xuICAgIDE6ICdcXFxcbWF0aHJte3RyfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB0cmFuc3Bvc2U6IHtcbiAgICAxOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnRyYW5zcG9zZSlcbiAgfSxcbiAgLy8gcHJvYmFiaWxpdHlcbiAgY29tYmluYXRpb25zOiB7XG4gICAgMjogJ1xcXFxiaW5vbXske2FyZ3NbMF19fXske2FyZ3NbMV19fSdcbiAgfSxcbiAgY29tYmluYXRpb25zV2l0aFJlcDoge1xuICAgIDI6ICdcXFxcbGVmdChcXFxcIVxcXFwhe1xcXFxiaW5vbXske2FyZ3NbMF19fXske2FyZ3NbMV19fX1cXFxcIVxcXFwhXFxcXHJpZ2h0KSdcbiAgfSxcbiAgZmFjdG9yaWFsOiB7XG4gICAgMTogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5mYWN0b3JpYWwpXG4gIH0sXG4gIGdhbW1hOiB7XG4gICAgMTogJ1xcXFxHYW1tYVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICAvLyByZWxhdGlvbmFsXG4gIGVxdWFsOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmVxdWFsLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGxhcmdlcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5sYXJnZXIsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbGFyZ2VyRXE6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubGFyZ2VyRXEsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgc21hbGxlcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5zbWFsbGVyLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHNtYWxsZXJFcToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5zbWFsbGVyRXEsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgdW5lcXVhbDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy51bmVxdWFsLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIHNwZWNpYWxcbiAgZXJmOiB7XG4gICAgMTogJ2VyZlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICAvLyBzdGF0aXN0aWNzXG4gIG1heDogJ1xcXFxtYXhcXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIG1pbjogJ1xcXFxtaW5cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIHZhcmlhbmNlOiAnXFxcXG1hdGhybXtWYXJ9XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICAvLyB0cmlnb25vbWV0cnlcbiAgYWNvczoge1xuICAgIDE6ICdcXFxcY29zXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNvc2g6IHtcbiAgICAxOiAnXFxcXGNvc2heey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY290OiB7XG4gICAgMTogJ1xcXFxjb3Reey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY290aDoge1xuICAgIDE6ICdcXFxcY290aF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjc2M6IHtcbiAgICAxOiAnXFxcXGNzY157LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjc2NoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Y3NjaH1eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2VjOiB7XG4gICAgMTogJ1xcXFxzZWNeey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2VjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte3NlY2h9XnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNpbjoge1xuICAgIDE6ICdcXFxcc2luXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNpbmg6IHtcbiAgICAxOiAnXFxcXHNpbmheey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhdGFuOiB7XG4gICAgMTogJ1xcXFx0YW5eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhdGFuMjoge1xuICAgIDI6ICdcXFxcbWF0aHJte2F0YW4yfVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJ1xuICB9LFxuICBhdGFuaDoge1xuICAgIDE6ICdcXFxcdGFuaF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvczoge1xuICAgIDE6ICdcXFxcY29zXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvc2g6IHtcbiAgICAxOiAnXFxcXGNvc2hcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY290OiB7XG4gICAgMTogJ1xcXFxjb3RcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY290aDoge1xuICAgIDE6ICdcXFxcY290aFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjc2M6IHtcbiAgICAxOiAnXFxcXGNzY1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjc2NoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Y3NjaH1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2VjOiB7XG4gICAgMTogJ1xcXFxzZWNcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2VjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte3NlY2h9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNpbjoge1xuICAgIDE6ICdcXFxcc2luXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNpbmg6IHtcbiAgICAxOiAnXFxcXHNpbmhcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdGFuOiB7XG4gICAgMTogJ1xcXFx0YW5cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdGFuaDoge1xuICAgIDE6ICdcXFxcdGFuaFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICAvLyB1bml0XG4gIHRvOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnRvLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIHV0aWxzXG4gIG51bWVyaWM6IGZ1bmN0aW9uIG51bWVyaWMobm9kZSwgb3B0aW9ucykge1xuICAgIC8vIE5vdCBzdXJlIGlmIHRoaXMgaXMgc3RyaWN0bHkgcmlnaHQgYnV0IHNob3VsZCB3b3JrIGNvcnJlY3RseSBmb3IgdGhlIHZhc3QgbWFqb3JpdHkgb2YgdXNlIGNhc2VzLlxuICAgIHJldHVybiBub2RlLmFyZ3NbMF0udG9UZXgoKTtcbiAgfSxcbiAgLy8gdHlwZVxuICBudW1iZXI6IHtcbiAgICAwOiAnMCcsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxlZnQoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCkke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc3RyaW5nOiB7XG4gICAgMDogJ1xcXFxtYXRodHR7XCJcIn0nLFxuICAgIDE6ICdcXFxcbWF0aHJte3N0cmluZ31cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYmlnbnVtYmVyOiB7XG4gICAgMDogJzAnLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29tcGxleDoge1xuICAgIDA6ICcwJyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6IFwiXFxcXGxlZnQoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCkrXCIuY29uY2F0KGxhdGV4U3ltYm9scy5pLCBcIlxcXFxjZG90XFxcXGxlZnQoJHthcmdzWzFdfVxcXFxyaWdodClcXFxccmlnaHQpXCIpXG4gIH0sXG4gIG1hdHJpeDoge1xuICAgIDA6ICdcXFxcYmVnaW57Ym1hdHJpeH1cXFxcZW5ke2JtYXRyaXh9JyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc3BhcnNlOiB7XG4gICAgMDogJ1xcXFxiZWdpbntic3BhcnNlfVxcXFxlbmR7YnNwYXJzZX0nLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdW5pdDoge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsZWZ0KFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH1cbn07XG5leHBvcnQgdmFyIGRlZmF1bHRUZW1wbGF0ZSA9ICdcXFxcbWF0aHJteyR7bmFtZX19XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknO1xudmFyIGxhdGV4VW5pdHMgPSB7XG4gIGRlZzogJ15cXFxcY2lyYydcbn07XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlTGF0ZXgoc3RyaW5nKSB7XG4gIHJldHVybiBlc2NhcGVMYXRleExpYihzdHJpbmcsIHtcbiAgICBwcmVzZXJ2ZUZvcm1hdHRpbmc6IHRydWVcbiAgfSk7XG59IC8vIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4vLyBAcGFyYW0ge2Jvb2xlYW59IGlzVW5pdFxuXG5leHBvcnQgZnVuY3Rpb24gdG9TeW1ib2wobmFtZSwgaXNVbml0KSB7XG4gIGlzVW5pdCA9IHR5cGVvZiBpc1VuaXQgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiBpc1VuaXQ7XG5cbiAgaWYgKGlzVW5pdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShsYXRleFVuaXRzLCBuYW1lKSkge1xuICAgICAgcmV0dXJuIGxhdGV4VW5pdHNbbmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuICdcXFxcbWF0aHJteycgKyBlc2NhcGVMYXRleChuYW1lKSArICd9JztcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShsYXRleFN5bWJvbHMsIG5hbWUpKSB7XG4gICAgcmV0dXJuIGxhdGV4U3ltYm9sc1tuYW1lXTtcbiAgfVxuXG4gIHJldHVybiBlc2NhcGVMYXRleChuYW1lKTtcbn0iLCJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXNjYXBlTGF0ZXggfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdDb25zdGFudE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVDb25zdGFudE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBIENvbnN0YW50Tm9kZSBob2xkcyBhIGNvbnN0YW50IHZhbHVlIGxpa2UgYSBudW1iZXIgb3Igc3RyaW5nLlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICpcbiAgICogICAgIG5ldyBDb25zdGFudE5vZGUoMi4zKVxuICAgKiAgICAgbmV3IENvbnN0YW50Tm9kZSgnaGVsbG8nKVxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlICAgIFZhbHVlIGNhbiBiZSBhbnkgdHlwZSAobnVtYmVyLCBCaWdOdW1iZXIsIHN0cmluZywgLi4uKVxuICAgKiBAY29uc3RydWN0b3IgQ29uc3RhbnROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29uc3RhbnROb2RlKHZhbHVlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbnN0YW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdDb25zdGFudE5vZGUnO1xuICBDb25zdGFudE5vZGUucHJvdG90eXBlLmlzQ29uc3RhbnROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxDb25zdGFudE5vZGUoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsvLyBub3RoaW5nIHRvIGRvLCB3ZSBkb24ndCBoYXZlIGNoaWxkc1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IENvbnN0YW50Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0NvbnN0YW50Tm9kZX0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtDb25zdGFudE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZSh0aGlzLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLnZhbHVlLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3RvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgc3dpdGNoICh0eXBlT2YodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdCaWdOdW1iZXInOlxuICAgICAgY2FzZSAnRnJhY3Rpb24nOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1udW1iZXJcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN0cmluZ1wiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWJvb2xlYW5cIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1udWxsLXN5bWJvbFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtdW5kZWZpbmVkXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2xcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdDb25zdGFudE5vZGUnLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBDb25zdGFudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlN5bWJvbE5vZGVcIiwgdmFsdWU6IDIuM31gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtDb25zdGFudE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZShqc29uLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl90b1N0cmluZyhvcHRpb25zKTtcblxuICAgIHN3aXRjaCAodHlwZU9mKHRoaXMudmFsdWUpKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gJ1xcXFxtYXRodHR7JyArIGVzY2FwZUxhdGV4KHZhbHVlKSArICd9JztcblxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ0JpZ051bWJlcic6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoIWlzRmluaXRlKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS52YWx1ZU9mKCkgPCAwID8gJy1cXFxcaW5mdHknIDogJ1xcXFxpbmZ0eSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGluZGV4ID0gdmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdlJyk7XG5cbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIGluZGV4KSArICdcXFxcY2RvdDEwXnsnICsgdmFsdWUuc3Vic3RyaW5nKGluZGV4ICsgMSkgKyAnfSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcblxuICAgICAgY2FzZSAnRnJhY3Rpb24nOlxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS50b0xhdGV4KCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIENvbnN0YW50Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBrZXl3b3JkcyB9IGZyb20gJy4uL2tleXdvcmRzLmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoLCBqb2luIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgdG9TeW1ib2wgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbmltcG9ydCB7IHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogRnVuY3Rpb24gYXNzaWdubWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgRnVuY3Rpb24gbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdIHwgQXJyYXkuPHtuYW1lOiBzdHJpbmcsIHR5cGU6IHN0cmluZ30+fSBwYXJhbXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5IHdpdGggZnVuY3Rpb24gcGFyYW1ldGVyIG5hbWVzLCBvciBhblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgd2l0aCBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIG5hbWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB0eXBlIG9mIHRoZSBwYXJhbWV0ZXJcbiAgICogQHBhcmFtIHtOb2RlfSBleHByICAgICAgICAgICAgIFRoZSBmdW5jdGlvbiBleHByZXNzaW9uXG4gICAqL1xuICBmdW5jdGlvbiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKG5hbWUsIHBhcmFtcywgZXhwcikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwibmFtZVwiJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgc3RyaW5ncyBvciBvYmplY3RzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJwYXJhbXNcIicpO1xuICAgIGlmICghaXNOb2RlKGV4cHIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJleHByXCInKTtcbiAgICBpZiAobmFtZSBpbiBrZXl3b3JkcykgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGZ1bmN0aW9uIG5hbWUsIFwiJyArIG5hbWUgKyAnXCIgaXMgYSByZXNlcnZlZCBrZXl3b3JkJyk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0gJiYgcGFyYW0ubmFtZSB8fCBwYXJhbTtcbiAgICB9KTtcbiAgICB0aGlzLnR5cGVzID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbSAmJiBwYXJhbS50eXBlIHx8ICdhbnknO1xuICAgIH0pO1xuICAgIHRoaXMuZXhwciA9IGV4cHI7XG4gIH1cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnR5cGUgPSAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSc7XG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGNoaWxkQXJnTmFtZXMgPSBPYmplY3QuY3JlYXRlKGFyZ05hbWVzKTtcbiAgICBmb3JFYWNoKHRoaXMucGFyYW1zLCBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIGNoaWxkQXJnTmFtZXNbcGFyYW1dID0gdHJ1ZTtcbiAgICB9KTsgLy8gY29tcGlsZSB0aGUgZnVuY3Rpb24gZXhwcmVzc2lvbiB3aXRoIHRoZSBjaGlsZCBhcmdzXG5cbiAgICB2YXIgZXZhbEV4cHIgPSB0aGlzLmV4cHIuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcyk7XG5cbiAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXJhbXM7XG4gICAgdmFyIHNpZ25hdHVyZSA9IGpvaW4odGhpcy50eXBlcywgJywnKTtcbiAgICB2YXIgc3ludGF4ID0gbmFtZSArICcoJyArIGpvaW4odGhpcy5wYXJhbXMsICcsICcpICsgJyknO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIHNpZ25hdHVyZXMgPSB7fTtcblxuICAgICAgc2lnbmF0dXJlc1tzaWduYXR1cmVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hpbGRBcmdzID0gT2JqZWN0LmNyZWF0ZShhcmdzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkQXJnc1twYXJhbXNbaV1dID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV2YWxFeHByKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGZuID0gdHlwZWQobmFtZSwgc2lnbmF0dXJlcyk7XG4gICAgICBmbi5zeW50YXggPSBzeW50YXg7XG4gICAgICBzZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUsIGZuKTtcbiAgICAgIHJldHVybiBmbjtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmV4cHIsICdleHByJywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Bc3NpZ25tZW50Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgZXhwciA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmV4cHIsICdleHByJywgdGhpcykpO1xuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHRoaXMubmFtZSwgdGhpcy5wYXJhbXMuc2xpY2UoMCksIGV4cHIpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbkFzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh0aGlzLm5hbWUsIHRoaXMucGFyYW1zLnNsaWNlKDApLCB0aGlzLmV4cHIpO1xuICB9O1xuICAvKipcbiAgICogSXMgcGFyZW50aGVzaXMgbmVlZGVkP1xuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmVudGhlc2lzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmVlZFBhcmVudGhlc2lzKG5vZGUsIHBhcmVudGhlc2lzKSB7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgZXhwclByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuZXhwciwgcGFyZW50aGVzaXMpO1xuICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgZXhwclByZWNlZGVuY2UgIT09IG51bGwgJiYgZXhwclByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZTtcbiAgfVxuICAvKipcbiAgICogZ2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwci50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgcGFyZW50aGVzaXMpKSB7XG4gICAgICBleHByID0gJygnICsgZXhwciArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5uYW1lICsgJygnICsgdGhpcy5wYXJhbXMuam9pbignLCAnKSArICcpID0gJyArIGV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0eXBlcyA9IHRoaXMudHlwZXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IHBhcmFtLFxuICAgICAgICAgIHR5cGU6IHR5cGVzW2luZGV4XVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBleHByOiB0aGlzLmV4cHJcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVwiLCBuYW1lOiAuLi4sIHBhcmFtczogLi4uLCBleHByOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Bc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUoanNvbi5uYW1lLCBqc29uLnBhcmFtcywganNvbi5leHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIGdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhcmFtcy5wdXNoKCc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtcGFyYW1ldGVyXCI+JyArIGVzY2FwZSh0aGlzLnBhcmFtc1tpXSkgKyAnPC9zcGFuPicpO1xuICAgIH1cblxuICAgIHZhciBleHByID0gdGhpcy5leHByLnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgcGFyZW50aGVzaXMpKSB7XG4gICAgICBleHByID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgZXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1mdW5jdGlvblwiPicgKyBlc2NhcGUodGhpcy5uYW1lKSArICc8L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHBhcmFtcy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+PHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLXZhcmlhYmxlLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3JcIj49PC9zcGFuPicgKyBleHByO1xuICB9O1xuICAvKipcbiAgICogZ2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBleHByID0gdGhpcy5leHByLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBwYXJlbnRoZXNpcykpIHtcbiAgICAgIGV4cHIgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChleHByLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuICdcXFxcbWF0aHJteycgKyB0aGlzLm5hbWUgKyAnfVxcXFxsZWZ0KCcgKyB0aGlzLnBhcmFtcy5tYXAodG9TeW1ib2wpLmpvaW4oJywnKSArICdcXFxccmlnaHQpOj0nICsgZXhwcjtcbiAgfTtcblxuICByZXR1cm4gRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0JpZ051bWJlciwgaXNDb25zdGFudE5vZGUsIGlzTm9kZSwgaXNSYW5nZU5vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbnZhciBuYW1lID0gJ0luZGV4Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydSYW5nZScsICdOb2RlJywgJ3NpemUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSW5kZXhOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgUmFuZ2UsXG4gICAgTm9kZSxcbiAgICBzaXplXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgSW5kZXhOb2RlXG4gICAqIEBleHRlbmRzIE5vZGVcbiAgICpcbiAgICogRGVzY3JpYmVzIGEgc3Vic2V0IG9mIGEgbWF0cml4IG9yIGFuIG9iamVjdCBwcm9wZXJ0eS5cbiAgICogQ2Fubm90IGJlIHVzZWQgb24gaXRzIG93biwgbmVlZHMgdG8gYmUgdXNlZCB3aXRoaW4gYW4gQWNjZXNzb3JOb2RlIG9yXG4gICAqIEFzc2lnbm1lbnROb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGVbXX0gZGltZW5zaW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkb3ROb3RhdGlvbj1mYWxzZV0gIE9wdGlvbmFsIHByb3BlcnR5IGRlc2NyaWJpbmcgd2hldGhlclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgaW5kZXggd2FzIHdyaXR0ZW4gdXNpbmcgZG90XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90YXRpb24gbGlrZSBgYS5iYCwgb3IgdXNpbmcgYnJhY2tldFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGF0aW9uIGxpa2UgYGFbXCJiXCJdYCAoZGVmYXVsdCkuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlZCB0byBzdHJpbmdpZnkgYW4gSW5kZXhOb2RlLlxuICAgKi9cbiAgZnVuY3Rpb24gSW5kZXhOb2RlKGRpbWVuc2lvbnMsIGRvdE5vdGF0aW9uKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZGV4Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICB0aGlzLmRvdE5vdGF0aW9uID0gZG90Tm90YXRpb24gfHwgZmFsc2U7IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGltZW5zaW9ucykgfHwgIWRpbWVuc2lvbnMuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiZGltZW5zaW9uc1wiJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZG90Tm90YXRpb24gJiYgIXRoaXMuaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvdE5vdGF0aW9uIG9ubHkgYXBwbGljYWJsZSBmb3Igb2JqZWN0IHByb3BlcnRpZXMnKTtcbiAgICB9XG4gIH1cblxuICBJbmRleE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgSW5kZXhOb2RlLnByb3RvdHlwZS50eXBlID0gJ0luZGV4Tm9kZSc7XG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuaXNJbmRleE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBJbmRleE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgLy8gVE9ETzogaW1wbGVtZW50IHN1cHBvcnQgZm9yIGJpZ251bWJlciAoY3VycmVudGx5IGJpZ251bWJlcnMgYXJlIHNpbGVudGx5XG4gICAgLy8gICAgICAgcmVkdWNlZCB0byBudW1iZXJzIHdoZW4gY2hhbmdpbmcgdGhlIHZhbHVlIHRvIHplcm8tYmFzZWQpXG4gICAgLy8gVE9ETzogT3B0aW1pemF0aW9uOiB3aGVuIHRoZSByYW5nZSB2YWx1ZXMgYXJlIENvbnN0YW50Tm9kZXMsXG4gICAgLy8gICAgICAgd2UgY2FuIGJlZm9yZWhhbmQgcmVzb2x2ZSB0aGUgemVyby1iYXNlZCB2YWx1ZVxuICAgIC8vIG9wdGltaXphdGlvbiBmb3IgYSBzaW1wbGUgb2JqZWN0IHByb3BlcnR5XG4gICAgdmFyIGV2YWxEaW1lbnNpb25zID0gbWFwKHRoaXMuZGltZW5zaW9ucywgZnVuY3Rpb24gKHJhbmdlLCBpKSB7XG4gICAgICBpZiAoaXNSYW5nZU5vZGUocmFuZ2UpKSB7XG4gICAgICAgIGlmIChyYW5nZS5uZWVkc0VuZCgpKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIGEgcmFuZ2UgY29udGFpbmluZyBlbmQgKGxpa2UgJzQ6ZW5kJylcbiAgICAgICAgICB2YXIgY2hpbGRBcmdOYW1lcyA9IE9iamVjdC5jcmVhdGUoYXJnTmFtZXMpO1xuICAgICAgICAgIGNoaWxkQXJnTmFtZXMuZW5kID0gdHJ1ZTtcblxuICAgICAgICAgIHZhciBldmFsU3RhcnQgPSByYW5nZS5zdGFydC5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBldmFsRW5kID0gcmFuZ2UuZW5kLl9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIGV2YWxTdGVwID0gcmFuZ2Uuc3RlcCA/IHJhbmdlLnN0ZXAuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcykgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpemUoY29udGV4dCkudmFsdWVPZigpO1xuICAgICAgICAgICAgdmFyIGNoaWxkQXJncyA9IE9iamVjdC5jcmVhdGUoYXJncyk7XG4gICAgICAgICAgICBjaGlsZEFyZ3MuZW5kID0gc1tpXTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSYW5nZShldmFsU3RhcnQoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCksIGV2YWxFbmQoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCksIGV2YWxTdGVwKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNyZWF0ZSByYW5nZVxuICAgICAgICAgIHZhciBfZXZhbFN0YXJ0ID0gcmFuZ2Uuc3RhcnQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIF9ldmFsRW5kID0gcmFuZ2UuZW5kLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBfZXZhbFN0ZXAgPSByYW5nZS5zdGVwID8gcmFuZ2Uuc3RlcC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcykgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSYW5nZShfZXZhbFN0YXJ0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgX2V2YWxFbmQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBfZXZhbFN0ZXAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU3ltYm9sTm9kZShyYW5nZSkgJiYgcmFuZ2UubmFtZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgLy8gU3ltYm9sTm9kZSAnZW5kJ1xuICAgICAgICB2YXIgX2NoaWxkQXJnTmFtZXMgPSBPYmplY3QuY3JlYXRlKGFyZ05hbWVzKTtcblxuICAgICAgICBfY2hpbGRBcmdOYW1lcy5lbmQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBldmFsUmFuZ2UgPSByYW5nZS5fY29tcGlsZShtYXRoLCBfY2hpbGRBcmdOYW1lcyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgcyA9IHNpemUoY29udGV4dCkudmFsdWVPZigpO1xuICAgICAgICAgIHZhciBjaGlsZEFyZ3MgPSBPYmplY3QuY3JlYXRlKGFyZ3MpO1xuICAgICAgICAgIGNoaWxkQXJncy5lbmQgPSBzW2ldO1xuICAgICAgICAgIHJldHVybiBldmFsUmFuZ2Uoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb25zdGFudE5vZGVcbiAgICAgICAgdmFyIF9ldmFsUmFuZ2UgPSByYW5nZS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gX2V2YWxSYW5nZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGluZGV4ID0gZ2V0U2FmZVByb3BlcnR5KG1hdGgsICdpbmRleCcpO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsSW5kZXhOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZGltZW5zaW9ucyA9IG1hcChldmFsRGltZW5zaW9ucywgZnVuY3Rpb24gKGV2YWxEaW1lbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5kZXgoLi4uZGltZW5zaW9ucyk7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5kaW1lbnNpb25zW2ldLCAnZGltZW5zaW9uc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEluZGV4Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7SW5kZXhOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGRpbWVuc2lvbnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkaW1lbnNpb25zW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZGltZW5zaW9uc1tpXSwgJ2RpbWVuc2lvbnNbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEluZGV4Tm9kZShkaW1lbnNpb25zLCB0aGlzLmRvdE5vdGF0aW9uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7SW5kZXhOb2RlfVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleE5vZGUodGhpcy5kaW1lbnNpb25zLnNsaWNlKDApLCB0aGlzLmRvdE5vdGF0aW9uKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0aGlzIEluZGV4Tm9kZSBjb250YWlucyBhIHNpbmdsZSBwcm9wZXJ0eSBuYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5pc09iamVjdFByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoID09PSAxICYmIGlzQ29uc3RhbnROb2RlKHRoaXMuZGltZW5zaW9uc1swXSkgJiYgdHlwZW9mIHRoaXMuZGltZW5zaW9uc1swXS52YWx1ZSA9PT0gJ3N0cmluZyc7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGlmIEluZGV4Tm9kZSBjb250YWlucyBhIHByb3BlcnR5LlxuICAgKiBJZiBub3QsIHJldHVybnMgbnVsbC5cbiAgICogQHJldHVybiB7c3RyaW5nIHwgbnVsbH1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmdldE9iamVjdFByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzT2JqZWN0UHJvcGVydHkoKSA/IHRoaXMuZGltZW5zaW9uc1swXS52YWx1ZSA6IG51bGw7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIGZvcm1hdCB0aGUgcGFyYW1ldGVycyBsaWtlIFwiWzEsIDA6NV1cIlxuICAgIHJldHVybiB0aGlzLmRvdE5vdGF0aW9uID8gJy4nICsgdGhpcy5nZXRPYmplY3RQcm9wZXJ0eSgpIDogJ1snICsgdGhpcy5kaW1lbnNpb25zLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0luZGV4Tm9kZScsXG4gICAgICBkaW1lbnNpb25zOiB0aGlzLmRpbWVuc2lvbnMsXG4gICAgICBkb3ROb3RhdGlvbjogdGhpcy5kb3ROb3RhdGlvblxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBJbmRleE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkluZGV4Tm9kZVwiLCBkaW1lbnNpb25zOiBbLi4uXSwgZG90Tm90YXRpb246IGZhbHNlfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0luZGV4Tm9kZX1cbiAgICovXG5cblxuICBJbmRleE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgSW5kZXhOb2RlKGpzb24uZGltZW5zaW9ucywganNvbi5kb3ROb3RhdGlvbik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBmb3JtYXQgdGhlIHBhcmFtZXRlcnMgbGlrZSBcIlsxLCAwOjVdXCJcbiAgICB2YXIgZGltZW5zaW9ucyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRpbWVuc2lvbnNbaV0gPSB0aGlzLmRpbWVuc2lvbnNbaV0udG9IVE1MKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZG90Tm90YXRpb24pIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYWNjZXNzb3Itb3BlcmF0b3JcIj4uPC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXByb3BlcnR5XCI+JyArIGVzY2FwZSh0aGlzLmdldE9iamVjdFByb3BlcnR5KCkpICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPls8L3NwYW4+JyArIGRpbWVuc2lvbnMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+XTwvc3Bhbj4nO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucy5tYXAoZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICByZXR1cm4gcmFuZ2UudG9UZXgob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZG90Tm90YXRpb24gPyAnLicgKyB0aGlzLmdldE9iamVjdFByb3BlcnR5KCkgKyAnJyA6ICdfeycgKyBkaW1lbnNpb25zLmpvaW4oJywnKSArICd9JztcbiAgfTsgLy8gaGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIFJhbmdlIGZyb20gc3RhcnQsIHN0ZXAgYW5kIGVuZFxuXG5cbiAgZnVuY3Rpb24gY3JlYXRlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2UoaXNCaWdOdW1iZXIoc3RhcnQpID8gc3RhcnQudG9OdW1iZXIoKSA6IHN0YXJ0LCBpc0JpZ051bWJlcihlbmQpID8gZW5kLnRvTnVtYmVyKCkgOiBlbmQsIGlzQmlnTnVtYmVyKHN0ZXApID8gc3RlcC50b051bWJlcigpIDogc3RlcCk7XG4gIH1cblxuICByZXR1cm4gSW5kZXhOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGVzY2FwZSwgc3RyaW5naWZ5IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGlzU2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdPYmplY3ROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlT2JqZWN0Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBPYmplY3ROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBIb2xkcyBhbiBvYmplY3Qgd2l0aCBrZXlzL3ZhbHVlc1xuICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBOb2RlPn0gW3Byb3BlcnRpZXNdICAgb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzXG4gICAqL1xuICBmdW5jdGlvbiBPYmplY3ROb2RlKHByb3BlcnRpZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT2JqZWN0Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoISh0eXBlb2YgcHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHx8ICFPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBpc05vZGUocHJvcGVydGllc1trZXldKTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBPYmplY3ROb2RlLnByb3RvdHlwZS50eXBlID0gJ09iamVjdE5vZGUnO1xuICBPYmplY3ROb2RlLnByb3RvdHlwZS5pc09iamVjdE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsRW50cmllcyA9IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICAvLyB3ZSBzdHJpbmdpZnkvcGFyc2UgdGhlIGtleSBoZXJlIHRvIHJlc29sdmUgdW5pY29kZSBjaGFyYWN0ZXJzLFxuICAgICAgICAvLyBzbyB5b3UgY2Fubm90IGNyZWF0ZSBhIGtleSBsaWtlIHtcImNvXFxcXHUwMDZFc3RydWN0b3JcIjogbnVsbH1cbiAgICAgICAgdmFyIHN0cmluZ2lmaWVkS2V5ID0gc3RyaW5naWZ5KGtleSk7XG4gICAgICAgIHZhciBwYXJzZWRLZXkgPSBKU09OLnBhcnNlKHN0cmluZ2lmaWVkS2V5KTtcblxuICAgICAgICBpZiAoIWlzU2FmZVByb3BlcnR5KHRoaXMucHJvcGVydGllcywgcGFyc2VkS2V5KSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHByb3BlcnR5IFwiJyArIHBhcnNlZEtleSArICdcIicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZhbEVudHJpZXNbcGFyc2VkS2V5XSA9IHRoaXMucHJvcGVydGllc1trZXldLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9iamVjdE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcblxuICAgICAgZm9yICh2YXIgX2tleSBpbiBldmFsRW50cmllcykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoZXZhbEVudHJpZXMsIF9rZXkpKSB7XG4gICAgICAgICAgb2JqW19rZXldID0gZXZhbEVudHJpZXNbX2tleV0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBjYWxsYmFjayh0aGlzLnByb3BlcnRpZXNba2V5XSwgJ3Byb3BlcnRpZXNbJyArIHN0cmluZ2lmeShrZXkpICsgJ10nLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT2JqZWN0Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7T2JqZWN0Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5wcm9wZXJ0aWVzW2tleV0sICdwcm9wZXJ0aWVzWycgKyBzdHJpbmdpZnkoa2V5KSArICddJywgdGhpcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7T2JqZWN0Tm9kZX1cbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB0aGlzLnByb3BlcnRpZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9iamVjdE5vZGUocHJvcGVydGllcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKHN0cmluZ2lmeShrZXkpICsgJzogJyArIHRoaXMucHJvcGVydGllc1trZXldLnRvU3RyaW5nKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJ3snICsgZW50cmllcy5qb2luKCcsICcpICsgJ30nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnT2JqZWN0Tm9kZScsXG4gICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gT3BlcmF0b3JOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJPYmplY3ROb2RlXCIsIFwicHJvcGVydGllc1wiOiB7Li4ufX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtPYmplY3ROb2RlfVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgT2JqZWN0Tm9kZShqc29uLnByb3BlcnRpZXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZW50cmllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1wcm9wZXJ0eVwiPicgKyBlc2NhcGUoa2V5KSArICc8L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtcHJvcGVydHktYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvclwiPjo8L3NwYW4+JyArIHRoaXMucHJvcGVydGllc1trZXldLnRvSFRNTChvcHRpb25zKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1jdXJseS1wYXJlbnRoZXNpc1wiPns8L3NwYW4+JyArIGVudHJpZXMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtY3VybHktcGFyZW50aGVzaXNcIj59PC9zcGFuPic7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBlbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGVudHJpZXMucHVzaCgnXFxcXG1hdGhiZnsnICsga2V5ICsgJzp9ICYgJyArIHRoaXMucHJvcGVydGllc1trZXldLnRvVGV4KG9wdGlvbnMpICsgJ1xcXFxcXFxcJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXFxcXGxlZnRcXFxce1xcXFxiZWdpbnthcnJheX17bGx9XCIuY29uY2F0KGVudHJpZXMuam9pbignXFxuJyksIFwiXFxcXGVuZHthcnJheX1cXFxccmlnaHRcXFxcfVwiKTtcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCBpc1NhZmVNZXRob2QgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGdldEFzc29jaWF0aXZpdHksIGdldFByZWNlZGVuY2UsIGlzQXNzb2NpYXRpdmVXaXRoLCBwcm9wZXJ0aWVzIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbmltcG9ydCB7IGxhdGV4T3BlcmF0b3JzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnT3BlcmF0b3JOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlT3BlcmF0b3JOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIE9wZXJhdG9yTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQW4gb3BlcmF0b3Igd2l0aCB0d28gYXJndW1lbnRzLCBsaWtlIDIrM1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3AgICAgICAgICAgIE9wZXJhdG9yIG5hbWUsIGZvciBleGFtcGxlICcrJ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZm4gICAgICAgICAgIEZ1bmN0aW9uIG5hbWUsIGZvciBleGFtcGxlICdhZGQnXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBhcmdzICAgICAgICAgT3BlcmF0b3IgYXJndW1lbnRzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ltcGxpY2l0XSAgSXMgdGhpcyBhbiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbj9cbiAgICovXG4gIGZ1bmN0aW9uIE9wZXJhdG9yTm9kZShvcCwgZm4sIGFyZ3MsIGltcGxpY2l0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9wZXJhdG9yTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAodHlwZW9mIG9wICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJvcFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiZm5cIicpO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSB8fCAhYXJncy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJhcmdzXCInKTtcbiAgICB9XG5cbiAgICB0aGlzLmltcGxpY2l0ID0gaW1wbGljaXQgPT09IHRydWU7XG4gICAgdGhpcy5vcCA9IG9wO1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLmFyZ3MgPSBhcmdzIHx8IFtdO1xuICB9XG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUudHlwZSA9ICdPcGVyYXRvck5vZGUnO1xuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmlzT3BlcmF0b3JOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIC8vIHZhbGlkYXRlIGZuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmZuICE9PSAnc3RyaW5nJyB8fCAhaXNTYWZlTWV0aG9kKG1hdGgsIHRoaXMuZm4pKSB7XG4gICAgICBpZiAoIW1hdGhbdGhpcy5mbl0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiAnICsgdGhpcy5mbiArICcgbWlzc2luZyBpbiBwcm92aWRlZCBuYW1lc3BhY2UgXCJtYXRoXCInKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIGZ1bmN0aW9uIFwiJyArIHRoaXMuZm4gKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZm4gPSBnZXRTYWZlUHJvcGVydHkobWF0aCwgdGhpcy5mbik7XG4gICAgdmFyIGV2YWxBcmdzID0gbWFwKHRoaXMuYXJncywgZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgfSk7XG5cbiAgICBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgZXZhbEFyZzAgPSBldmFsQXJnc1swXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsT3BlcmF0b3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmbihldmFsQXJnMChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFyIF9ldmFsQXJnID0gZXZhbEFyZ3NbMF07XG4gICAgICB2YXIgZXZhbEFyZzEgPSBldmFsQXJnc1sxXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsT3BlcmF0b3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmbihfZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxBcmcxKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9wZXJhdG9yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPcGVyYXRvck5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge09wZXJhdG9yTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUodGhpcy5vcCwgdGhpcy5mbiwgYXJncywgdGhpcy5pbXBsaWNpdCk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge09wZXJhdG9yTm9kZX1cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKHRoaXMub3AsIHRoaXMuZm4sIHRoaXMuYXJncy5zbGljZSgwKSwgdGhpcy5pbXBsaWNpdCk7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgaXMgYW4gdW5hcnkgT3BlcmF0b3JOb2RlOlxuICAgKiBoYXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGxpa2UgYC1hYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYW4gdW5hcnkgb3BlcmF0b3Igbm9kZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuaXNVbmFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcmdzLmxlbmd0aCA9PT0gMTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhpcyBpcyBhIGJpbmFyeSBPcGVyYXRvck5vZGU6XG4gICAqIGhhcyBleGFjdGx5IHR3byBhcmd1bWVudHMsIGxpa2UgYGEgKyBiYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYSBiaW5hcnkgb3BlcmF0b3Igbm9kZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuaXNCaW5hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJncy5sZW5ndGggPT09IDI7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgd2hpY2ggcGFyZW50aGVzZXMgYXJlIG5lY2Vzc2FyeS4gR2V0cyBhbiBPcGVyYXRvck5vZGVcbiAgICogKHdoaWNoIGlzIHRoZSByb290IG9mIHRoZSB0cmVlKSBhbmQgYW4gQXJyYXkgb2YgTm9kZXNcbiAgICogKHRoaXMuYXJncykgYW5kIHJldHVybnMgYW4gYXJyYXkgd2hlcmUgJ3RydWUnIG1lYW5zIHRoYXQgYW4gYXJndW1lbnRcbiAgICogaGFzIHRvIGJlIGVuY2xvc2VkIGluIHBhcmVudGhlc2VzIHdoZXJlYXMgJ2ZhbHNlJyBtZWFucyB0aGUgb3Bwb3NpdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7T3BlcmF0b3JOb2RlfSByb290XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICAgKiBAcGFyYW0ge05vZGVbXX0gYXJnc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxhdGV4XG4gICAqIEByZXR1cm4ge2Jvb2xlYW5bXX1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyhyb290LCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIGxhdGV4KSB7XG4gICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgcm9vdCBPcGVyYXRvck5vZGVcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uocm9vdCwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBhc3NvY2lhdGl2aXR5ID0gZ2V0QXNzb2NpYXRpdml0eShyb290LCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IGFyZ3MubGVuZ3RoID4gMiAmJiByb290LmdldElkZW50aWZpZXIoKSAhPT0gJ09wZXJhdG9yTm9kZTphZGQnICYmIHJvb3QuZ2V0SWRlbnRpZmllcigpICE9PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5Jykge1xuICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgc3dpdGNoIChhcmcuZ2V0Q29udGVudCgpLnR5cGUpIHtcbiAgICAgICAgICAvLyBOb2RlcyB0aGF0IGRvbid0IG5lZWQgZXh0cmEgcGFyZW50aGVzZXNcbiAgICAgICAgICBjYXNlICdBcnJheU5vZGUnOlxuICAgICAgICAgIGNhc2UgJ0NvbnN0YW50Tm9kZSc6XG4gICAgICAgICAgY2FzZSAnU3ltYm9sTm9kZSc6XG4gICAgICAgICAgY2FzZSAnUGFyZW50aGVzaXNOb2RlJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdDtcblxuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgICB7XG4gICAgICAgICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgb3BlcmFuZFxuICAgICAgICAgIHZhciBvcGVyYW5kUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnc1swXSwgcGFyZW50aGVzaXMpOyAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlcyBmb3IgTGFUZVgsIHdoZXJlIHNvbWUgb2YgdGhlIHBhcmVudGhlc2VzIGFyZW4ndCBuZWVkZWRcblxuICAgICAgICAgIGlmIChsYXRleCAmJiBvcGVyYW5kUHJlY2VkZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG9wZXJhbmRJZGVudGlmaWVyO1xuICAgICAgICAgICAgdmFyIHJvb3RJZGVudGlmaWVyO1xuXG4gICAgICAgICAgICBpZiAocGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgICAgICAgICBvcGVyYW5kSWRlbnRpZmllciA9IGFyZ3NbMF0uZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByb290SWRlbnRpZmllciA9IHJvb3QuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWdub3JlIFBhcmVudGhlc2lzIE5vZGVzIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgICAgICAgICAgIG9wZXJhbmRJZGVudGlmaWVyID0gYXJnc1swXS5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByb290SWRlbnRpZmllciA9IHJvb3QuZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJlY2VkZW5jZV1bcm9vdElkZW50aWZpZXJdLmxhdGV4TGVmdFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW29wZXJhbmRQcmVjZWRlbmNlXVtvcGVyYW5kSWRlbnRpZmllcl0ubGF0ZXhQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcGVyYW5kUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIG9wZXJhbmQgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3BlcmFuZFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIG9wZXJhbmRzIHByZWNlZGVuY2UgaXMgbG93ZXIsIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICByZXN1bHQgPSBbdHJ1ZV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IC8vIG90aGVyd2lzZSwgbm8gcGFyZW5zIG5lZWRlZFxuXG5cbiAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIGJpbmFyeSBvcGVyYXRvcnNcbiAgICAgICAge1xuICAgICAgICAgIHZhciBsaHNQYXJlbnM7IC8vIGxlZnQgaGFuZCBzaWRlIG5lZWRzIHBhcmVudGhlc2lzP1xuICAgICAgICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgICAgICB2YXIgbGhzUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnc1swXSwgcGFyZW50aGVzaXMpOyAvLyBpcyB0aGUgcm9vdCBub2RlIGFzc29jaWF0aXZlIHdpdGggdGhlIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgICAgICB2YXIgYXNzb2NXaXRoTGhzID0gaXNBc3NvY2lhdGl2ZVdpdGgocm9vdCwgYXJnc1swXSwgcGFyZW50aGVzaXMpO1xuXG4gICAgICAgICAgaWYgKGxoc1ByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBsZWZ0IGhhbmQgc2lkZSBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgLy8gRnVuY3Rpb25Ob2RlIGZvciBleGFtcGxlXG4gICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxoc1ByZWNlZGVuY2UgPT09IHByZWNlZGVuY2UgJiYgYXNzb2NpYXRpdml0eSA9PT0gJ3JpZ2h0JyAmJiAhYXNzb2NXaXRoTGhzKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVxdWFsIHByZWNlZGVuY2UsIGlmIHRoZSByb290IG5vZGUgaXMgbGVmdCBhc3NvY2lhdGl2ZVxuICAgICAgICAgICAgLy8gcGFyZW5zIGFyZSAqKm5ldmVyKiogbmVjZXNzYXJ5IGZvciB0aGUgbGVmdCBoYW5kIHNpZGUuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyByaWdodCBhc3NvY2lhdGl2ZSBob3dldmVyLCBwYXJlbnMgYXJlIG5lY2Vzc2FyeVxuICAgICAgICAgICAgLy8gaWYgdGhlIHJvb3Qgbm9kZSBpc24ndCBhc3NvY2lhdGl2ZSB3aXRoIHRoZSBsZWZ0IGhhbmQgc2lkZVxuICAgICAgICAgICAgbGhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxoc1ByZWNlZGVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICBsaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmhzUGFyZW5zOyAvLyByaWdodCBoYW5kIHNpZGUgbmVlZHMgcGFyZW50aGVzaXM/XG4gICAgICAgICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgICAgICB2YXIgcmhzUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnc1sxXSwgcGFyZW50aGVzaXMpOyAvLyBpcyB0aGUgcm9vdCBub2RlIGFzc29jaWF0aXZlIHdpdGggdGhlIHJpZ2h0IGhhbmQgc2lkZT9cblxuICAgICAgICAgIHZhciBhc3NvY1dpdGhSaHMgPSBpc0Fzc29jaWF0aXZlV2l0aChyb290LCBhcmdzWzFdLCBwYXJlbnRoZXNpcyk7XG5cbiAgICAgICAgICBpZiAocmhzUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHJpZ2h0IGhhbmQgc2lkZSBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgLy8gRnVuY3Rpb25Ob2RlIGZvciBleGFtcGxlXG4gICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJoc1ByZWNlZGVuY2UgPT09IHByZWNlZGVuY2UgJiYgYXNzb2NpYXRpdml0eSA9PT0gJ2xlZnQnICYmICFhc3NvY1dpdGhSaHMpIHtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgZXF1YWwgcHJlY2VkZW5jZSwgaWYgdGhlIHJvb3Qgbm9kZSBpcyByaWdodCBhc3NvY2lhdGl2ZVxuICAgICAgICAgICAgLy8gcGFyZW5zIGFyZSAqKm5ldmVyKiogbmVjZXNzYXJ5IGZvciB0aGUgcmlnaHQgaGFuZCBzaWRlLlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgbGVmdCBhc3NvY2lhdGl2ZSBob3dldmVyLCBwYXJlbnMgYXJlIG5lY2Vzc2FyeVxuICAgICAgICAgICAgLy8gaWYgdGhlIHJvb3Qgbm9kZSBpc24ndCBhc3NvY2lhdGl2ZSB3aXRoIHRoZSByaWdodCBoYW5kIHNpZGVcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChyaHNQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgcmhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfSAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlcyBmb3IgTGFUZVgsIHdoZXJlIHNvbWUgb2YgdGhlIHBhcmVudGhlc2VzIGFyZW4ndCBuZWVkZWRcblxuXG4gICAgICAgICAgaWYgKGxhdGV4KSB7XG4gICAgICAgICAgICB2YXIgX3Jvb3RJZGVudGlmaWVyO1xuXG4gICAgICAgICAgICB2YXIgbGhzSWRlbnRpZmllcjtcbiAgICAgICAgICAgIHZhciByaHNJZGVudGlmaWVyO1xuXG4gICAgICAgICAgICBpZiAocGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgICAgICAgICBfcm9vdElkZW50aWZpZXIgPSByb290LmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgbGhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1swXS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMV0uZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWdub3JlIFBhcmVudGhlc2lzTm9kZXMgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICAgICAgICAgICAgX3Jvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICBsaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzBdLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMV0uZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxoc1ByZWNlZGVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJlY2VkZW5jZV1bX3Jvb3RJZGVudGlmaWVyXS5sYXRleExlZnRQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tsaHNQcmVjZWRlbmNlXVtsaHNJZGVudGlmaWVyXS5sYXRleFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmhzUHJlY2VkZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1twcmVjZWRlbmNlXVtfcm9vdElkZW50aWZpZXJdLmxhdGV4UmlnaHRQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tyaHNQcmVjZWRlbmNlXVtyaHNJZGVudGlmaWVyXS5sYXRleFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc3VsdCA9IFtsaHNQYXJlbnMsIHJoc1BhcmVuc107XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChyb290LmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHJvb3QuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5Jykge1xuICAgICAgICAgIHJlc3VsdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgIHZhciBhcmdQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmcsIHBhcmVudGhlc2lzKTtcbiAgICAgICAgICAgIHZhciBhc3NvY1dpdGhBcmcgPSBpc0Fzc29jaWF0aXZlV2l0aChyb290LCBhcmcsIHBhcmVudGhlc2lzKTtcbiAgICAgICAgICAgIHZhciBhcmdBc3NvY2lhdGl2aXR5ID0gZ2V0QXNzb2NpYXRpdml0eShhcmcsIHBhcmVudGhlc2lzKTtcblxuICAgICAgICAgICAgaWYgKGFyZ1ByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIGFyZ3VtZW50IGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlY2VkZW5jZSA9PT0gYXJnUHJlY2VkZW5jZSAmJiBhc3NvY2lhdGl2aXR5ID09PSBhcmdBc3NvY2lhdGl2aXR5ICYmICFhc3NvY1dpdGhBcmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ1ByZWNlZGVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9IC8vIGhhbmRsZXMgYW4gZWRnZSBjYXNlIG9mICdhdXRvJyBwYXJlbnRoZXNlcyB3aXRoIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIG9mIENvbnN0YW50Tm9kZVxuICAgIC8vIEluIHRoYXQgY2FzZSBwcmludCBwYXJlbnRoZXNlcyBmb3IgUGFyZW50aGVzaXNOb2RlcyBldmVuIHRob3VnaCB0aGV5IG5vcm1hbGx5IHdvdWxkbid0IGJlXG4gICAgLy8gcHJpbnRlZC5cblxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID49IDIgJiYgcm9vdC5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIHJvb3QuaW1wbGljaXQgJiYgcGFyZW50aGVzaXMgPT09ICdhdXRvJyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICByZXN1bHQgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICB2YXIgaXNQYXJlbnRoZXNpc05vZGUgPSBhcmcuZ2V0SWRlbnRpZmllcigpID09PSAnUGFyZW50aGVzaXNOb2RlJztcblxuICAgICAgICBpZiAocmVzdWx0W2luZGV4XSB8fCBpc1BhcmVudGhlc2lzTm9kZSkge1xuICAgICAgICAgIC8vIHB1dCBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGltcGxpY2l0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmltcGxpY2l0ID8gb3B0aW9ucy5pbXBsaWNpdCA6ICdoaWRlJztcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCBmYWxzZSk7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGFzc29jID0gZ2V0QXNzb2NpYXRpdml0eSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgICB2YXIgb3BlcmFuZCA9IGFyZ3NbMF0udG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgb3BlcmFuZCA9ICcoJyArIG9wZXJhbmQgKyAnKSc7XG4gICAgICB9IC8vIGZvciBleGFtcGxlIGZvciBcIm5vdFwiLCB3ZSB3YW50IGEgc3BhY2UgYmV0d2VlbiBvcGVyYW5kIGFuZCBhcmd1bWVudFxuXG5cbiAgICAgIHZhciBvcElzTmFtZWQgPSAvW2EtekEtWl0rLy50ZXN0KHRoaXMub3ApO1xuXG4gICAgICBpZiAoYXNzb2MgPT09ICdyaWdodCcpIHtcbiAgICAgICAgLy8gcHJlZml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiB0aGlzLm9wICsgKG9wSXNOYW1lZCA/ICcgJyA6ICcnKSArIG9wZXJhbmQ7XG4gICAgICB9IGVsc2UgaWYgKGFzc29jID09PSAnbGVmdCcpIHtcbiAgICAgICAgLy8gcG9zdGZpeFxuICAgICAgICByZXR1cm4gb3BlcmFuZCArIChvcElzTmFtZWQgPyAnICcgOiAnJykgKyB0aGlzLm9wO1xuICAgICAgfSAvLyBmYWxsIGJhY2sgdG8gcG9zdGZpeFxuXG5cbiAgICAgIHJldHVybiBvcGVyYW5kICsgdGhpcy5vcDtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICB2YXIgbGhzID0gYXJnc1swXS50b1N0cmluZyhvcHRpb25zKTsgLy8gbGVmdCBoYW5kIHNpZGVcblxuICAgICAgdmFyIHJocyA9IGFyZ3NbMV0udG9TdHJpbmcob3B0aW9ucyk7IC8vIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIC8vIGxlZnQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICBsaHMgPSAnKCcgKyBsaHMgKyAnKSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnNbMV0pIHtcbiAgICAgICAgLy8gcmlnaHQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICByaHMgPSAnKCcgKyByaHMgKyAnKSc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgIHJldHVybiBsaHMgKyAnICcgKyByaHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaHMgKyAnICcgKyB0aGlzLm9wICsgJyAnICsgcmhzO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPiAyICYmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JykpIHtcbiAgICAgIHZhciBzdHJpbmdpZmllZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHBhcmVuc1tpbmRleF0pIHtcbiAgICAgICAgICAvLyBwdXQgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgICAgYXJnID0gJygnICsgYXJnICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCcgJyArIHRoaXMub3AgKyAnICcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmYWxsYmFjayB0byBmb3JtYXR0aW5nIGFzIGEgZnVuY3Rpb24gY2FsbFxuICAgICAgcmV0dXJuIHRoaXMuZm4gKyAnKCcgKyB0aGlzLmFyZ3Muam9pbignLCAnKSArICcpJztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ09wZXJhdG9yTm9kZScsXG4gICAgICBvcDogdGhpcy5vcCxcbiAgICAgIGZuOiB0aGlzLmZuLFxuICAgICAgYXJnczogdGhpcy5hcmdzLFxuICAgICAgaW1wbGljaXQ6IHRoaXMuaW1wbGljaXRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gT3BlcmF0b3JOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJPcGVyYXRvck5vZGVcIiwgXCJvcFwiOiBcIitcIiwgXCJmblwiOiBcImFkZFwiLCBcImFyZ3NcIjogWy4uLl0sIFwiaW1wbGljaXRcIjogZmFsc2V9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7T3BlcmF0b3JOb2RlfVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUoanNvbi5vcCwganNvbi5mbiwganNvbi5hcmdzLCBqc29uLmltcGxpY2l0KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBpbXBsaWNpdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbXBsaWNpdCA/IG9wdGlvbnMuaW1wbGljaXQgOiAnaGlkZSc7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgZmFsc2UpO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBhc3NvYyA9IGdldEFzc29jaWF0aXZpdHkodGhpcywgcGFyZW50aGVzaXMpO1xuICAgICAgdmFyIG9wZXJhbmQgPSBhcmdzWzBdLnRvSFRNTChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBvcGVyYW5kID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgb3BlcmFuZCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgaWYgKGFzc29jID09PSAncmlnaHQnKSB7XG4gICAgICAgIC8vIHByZWZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXVuYXJ5LW9wZXJhdG9yIG1hdGgtbGVmdGhhbmQtdW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nICsgb3BlcmFuZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBvc3RmaXggd2hlbiBhc3NvYyA9PT0gJ2xlZnQnIG9yIHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4gb3BlcmFuZCArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC11bmFyeS1vcGVyYXRvciBtYXRoLXJpZ2h0aGFuZC11bmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPic7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gYmluYXJ5IG9wZXJhdG9lc1xuICAgICAgdmFyIGxocyA9IGFyZ3NbMF0udG9IVE1MKG9wdGlvbnMpOyAvLyBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgcmhzID0gYXJnc1sxXS50b0hUTUwob3B0aW9ucyk7IC8vIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIC8vIGxlZnQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICBsaHMgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBsaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnNbMV0pIHtcbiAgICAgICAgLy8gcmlnaHQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICByaHMgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyByaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgIHJldHVybiBsaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtaW1wbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+PC9zcGFuPicgKyByaHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtZXhwbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+JyArIHJocztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0cmluZ2lmaWVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIGFyZyA9IGFyZy50b0hUTUwob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHBhcmVuc1tpbmRleF0pIHtcbiAgICAgICAgICAvLyBwdXQgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgICAgYXJnID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgYXJnICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPiAyICYmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JykpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWltcGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPjwvc3Bhbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtZXhwbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmYWxsYmFjayB0byBmb3JtYXR0aW5nIGFzIGEgZnVuY3Rpb24gY2FsbFxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1mdW5jdGlvblwiPicgKyBlc2NhcGUodGhpcy5mbikgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgc3RyaW5naWZpZWRBcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBpbXBsaWNpdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbXBsaWNpdCA/IG9wdGlvbnMuaW1wbGljaXQgOiAnaGlkZSc7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgdHJ1ZSk7XG4gICAgdmFyIG9wID0gbGF0ZXhPcGVyYXRvcnNbdGhpcy5mbl07XG4gICAgb3AgPSB0eXBlb2Ygb3AgPT09ICd1bmRlZmluZWQnID8gdGhpcy5vcCA6IG9wOyAvLyBmYWxsIGJhY2sgdG8gdXNpbmcgdGhpcy5vcFxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBhc3NvYyA9IGdldEFzc29jaWF0aXZpdHkodGhpcywgcGFyZW50aGVzaXMpO1xuICAgICAgdmFyIG9wZXJhbmQgPSBhcmdzWzBdLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIG9wZXJhbmQgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChvcGVyYW5kLCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhc3NvYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAvLyBwcmVmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG9wICsgb3BlcmFuZDtcbiAgICAgIH0gZWxzZSBpZiAoYXNzb2MgPT09ICdsZWZ0Jykge1xuICAgICAgICAvLyBwb3N0Zml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBvcGVyYW5kICsgb3A7XG4gICAgICB9IC8vIGZhbGwgYmFjayB0byBwb3N0Zml4XG5cblxuICAgICAgcmV0dXJuIG9wZXJhbmQgKyBvcDtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAvLyBiaW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgbGhzID0gYXJnc1swXTsgLy8gbGVmdCBoYW5kIHNpZGVcblxuICAgICAgdmFyIGxoc1RleCA9IGxocy50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBsaHNUZXggPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChsaHNUZXgsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJocyA9IGFyZ3NbMV07IC8vIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgcmhzVGV4ID0gcmhzLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzFdKSB7XG4gICAgICAgIHJoc1RleCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHJoc1RleCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfSAvLyBoYW5kbGUgc29tZSBleGNlcHRpb25zIChkdWUgdG8gdGhlIHdheSBMYVRlWCB3b3JrcylcblxuXG4gICAgICB2YXIgbGhzSWRlbnRpZmllcjtcblxuICAgICAgaWYgKHBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgICAgbGhzSWRlbnRpZmllciA9IGxocy5nZXRJZGVudGlmaWVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZ25vcmUgUGFyZW50aGVzaXNOb2RlcyBpZiBpbiAna2VlcCcgbW9kZVxuICAgICAgICBsaHNJZGVudGlmaWVyID0gbGhzLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodGhpcy5nZXRJZGVudGlmaWVyKCkpIHtcbiAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOmRpdmlkZSc6XG4gICAgICAgICAgLy8gb3AgY29udGFpbnMgJ1xcXFxmcmFjJyBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgcmV0dXJuIG9wICsgJ3snICsgbGhzVGV4ICsgJ30nICsgJ3snICsgcmhzVGV4ICsgJ30nO1xuXG4gICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTpwb3cnOlxuICAgICAgICAgIGxoc1RleCA9ICd7JyArIGxoc1RleCArICd9JztcbiAgICAgICAgICByaHNUZXggPSAneycgKyByaHNUZXggKyAnfSc7XG5cbiAgICAgICAgICBzd2l0Y2ggKGxoc0lkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGNhc2UgJ0NvbmRpdGlvbmFsTm9kZSc6IC8vXG5cbiAgICAgICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTpkaXZpZGUnOlxuICAgICAgICAgICAgICBsaHNUZXggPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChsaHNUZXgsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6bXVsdGlwbHknOlxuICAgICAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgICAgIHJldHVybiBsaHNUZXggKyAnficgKyByaHNUZXg7XG4gICAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaHNUZXggKyBvcCArIHJoc1RleDtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpKSB7XG4gICAgICB2YXIgdGV4aWZpZWRBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgYXJnID0gYXJnLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChwYXJlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgYXJnID0gXCJcXFxcbGVmdChcIi5jb25jYXQoYXJnLCBcIlxcXFxyaWdodClcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgdGhpcy5pbXBsaWNpdCkge1xuICAgICAgICByZXR1cm4gdGV4aWZpZWRBcmdzLmpvaW4oJ34nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRleGlmaWVkQXJncy5qb2luKG9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmFsbCBiYWNrIHRvIGZvcm1hdHRpbmcgYXMgYSBmdW5jdGlvbiBjYWxsXG4gICAgICAvLyBhcyB0aGlzIGlzIGEgZmFsbGJhY2ssIGl0IGRvZXNuJ3QgdXNlXG4gICAgICAvLyBmYW5jeSBmdW5jdGlvbiBuYW1lc1xuICAgICAgcmV0dXJuICdcXFxcbWF0aHJteycgKyB0aGlzLmZuICsgJ31cXFxcbGVmdCgnICsgYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gYXJnLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgfSkuam9pbignLCcpICsgJ1xcXFxyaWdodCknO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgKyAnOicgKyB0aGlzLmZuO1xuICB9O1xuXG4gIHJldHVybiBPcGVyYXRvck5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUGFyZW50aGVzaXNOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUGFyZW50aGVzaXNOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIFBhcmVudGhlc2lzTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQSBwYXJlbnRoZXNpcyBub2RlIGRlc2NyaWJlcyBtYW51YWwgcGFyZW50aGVzaXMgZnJvbSB0aGUgdXNlciBpbnB1dFxuICAgKiBAcGFyYW0ge05vZGV9IGNvbnRlbnRcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBQYXJlbnRoZXNpc05vZGUoY29udGVudCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXJlbnRoZXNpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKCFpc05vZGUoY29udGVudCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImNvbnRlbnRcIicpO1xuICAgIH1cblxuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIH1cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS50eXBlID0gJ1BhcmVudGhlc2lzTm9kZSc7XG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuaXNQYXJlbnRoZXNpc05vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnRlbnQgb2YgdGhlIGN1cnJlbnQgTm9kZS5cbiAgICogQHJldHVybiB7Tm9kZX0gY29udGVudFxuICAgKiBAb3ZlcnJpZGVcbiAgICoqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZ2V0Q29udGVudCgpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuY29udGVudCwgJ2NvbnRlbnQnLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBQYXJlbnRoZXNpc05vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtQYXJlbnRoZXNpc05vZGV9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGNvbnRlbnQgPSBjYWxsYmFjayh0aGlzLmNvbnRlbnQsICdjb250ZW50JywgdGhpcyk7XG4gICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNpc05vZGUoY29udGVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1BhcmVudGhlc2lzTm9kZX1cbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUGFyZW50aGVzaXNOb2RlKHRoaXMuY29udGVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJlbnRoZXNpcyB8fCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgcmV0dXJuICcoJyArIHRoaXMuY29udGVudC50b1N0cmluZyhvcHRpb25zKSArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdQYXJlbnRoZXNpc05vZGUnLFxuICAgICAgY29udGVudDogdGhpcy5jb250ZW50XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIFBhcmVudGhlc2lzTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUGFyZW50aGVzaXNOb2RlXCIsIFwiY29udGVudFwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7UGFyZW50aGVzaXNOb2RlfVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNpc05vZGUoanNvbi5jb250ZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJlbnRoZXNpcyB8fCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHRoaXMuY29udGVudC50b0hUTUwob3B0aW9ucykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50b0hUTUwob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zICYmICFvcHRpb25zLnBhcmVudGhlc2lzIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICByZXR1cm4gXCJcXFxcbGVmdChcIi5jb25jYXQodGhpcy5jb250ZW50LnRvVGV4KG9wdGlvbnMpLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50b1RleChvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gUGFyZW50aGVzaXNOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG52YXIgbmFtZSA9ICdSYW5nZU5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVSYW5nZU5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgUmFuZ2VOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBjcmVhdGUgYSByYW5nZVxuICAgKiBAcGFyYW0ge05vZGV9IHN0YXJ0ICBpbmNsdWRlZCBsb3dlci1ib3VuZFxuICAgKiBAcGFyYW0ge05vZGV9IGVuZCAgICBpbmNsdWRlZCB1cHBlci1ib3VuZFxuICAgKiBAcGFyYW0ge05vZGV9IFtzdGVwXSBvcHRpb25hbCBzdGVwXG4gICAqL1xuICBmdW5jdGlvbiBSYW5nZU5vZGUoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZU5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRzXG5cblxuICAgIGlmICghaXNOb2RlKHN0YXJ0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCcpO1xuICAgIGlmICghaXNOb2RlKGVuZCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQnKTtcbiAgICBpZiAoc3RlcCAmJiAhaXNOb2RlKHN0ZXApKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkJyk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cycpO1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydDsgLy8gaW5jbHVkZWQgbG93ZXItYm91bmRcblxuICAgIHRoaXMuZW5kID0gZW5kOyAvLyBpbmNsdWRlZCB1cHBlci1ib3VuZFxuXG4gICAgdGhpcy5zdGVwID0gc3RlcCB8fCBudWxsOyAvLyBvcHRpb25hbCBzdGVwXG4gIH1cblxuICBSYW5nZU5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS50eXBlID0gJ1JhbmdlTm9kZSc7XG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuaXNSYW5nZU5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgUmFuZ2VOb2RlIG5lZWRzIHRoZSBgZW5kYCBzeW1ib2wgdG8gYmUgZGVmaW5lZC5cbiAgICogVGhpcyBlbmQgaXMgdGhlIHNpemUgb2YgdGhlIE1hdHJpeCBpbiBjdXJyZW50IGRpbWVuc2lvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5uZWVkc0VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBmaW5kIGFsbCBgZW5kYCBzeW1ib2xzIGluIHRoaXMgUmFuZ2VOb2RlXG4gICAgdmFyIGVuZFN5bWJvbHMgPSB0aGlzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIGlzU3ltYm9sTm9kZShub2RlKSAmJiBub2RlLm5hbWUgPT09ICdlbmQnO1xuICAgIH0pO1xuICAgIHJldHVybiBlbmRTeW1ib2xzLmxlbmd0aCA+IDA7XG4gIH07XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciByYW5nZSA9IG1hdGgucmFuZ2U7XG5cbiAgICB2YXIgZXZhbFN0YXJ0ID0gdGhpcy5zdGFydC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEVuZCA9IHRoaXMuZW5kLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBldmFsU3RlcCA9IHRoaXMuc3RlcC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsUmFuZ2VOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByYW5nZShldmFsU3RhcnQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsRW5kKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbFN0ZXAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsUmFuZ2VOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByYW5nZShldmFsU3RhcnQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsRW5kKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLnN0YXJ0LCAnc3RhcnQnLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLmVuZCwgJ2VuZCcsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgY2FsbGJhY2sodGhpcy5zdGVwLCAnc3RlcCcsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSYW5nZU5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1JhbmdlTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgUmFuZ2VOb2RlKHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnN0YXJ0LCAnc3RhcnQnLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmVuZCwgJ2VuZCcsIHRoaXMpKSwgdGhpcy5zdGVwICYmIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnN0ZXAsICdzdGVwJywgdGhpcykpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7UmFuZ2VOb2RlfVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZU5vZGUodGhpcy5zdGFydCwgdGhpcy5lbmQsIHRoaXMuc3RlcCAmJiB0aGlzLnN0ZXApO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBuZWNlc3NhcnkgcGFyZW50aGVzZXNcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhcmVudGhlc2VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMobm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJlbnMgPSB7fTtcbiAgICB2YXIgc3RhcnRQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLnN0YXJ0LCBwYXJlbnRoZXNpcyk7XG4gICAgcGFyZW5zLnN0YXJ0ID0gc3RhcnRQcmVjZWRlbmNlICE9PSBudWxsICYmIHN0YXJ0UHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlIHx8IHBhcmVudGhlc2lzID09PSAnYWxsJztcblxuICAgIGlmIChub2RlLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5zdGVwLCBwYXJlbnRoZXNpcyk7XG4gICAgICBwYXJlbnMuc3RlcCA9IHN0ZXBQcmVjZWRlbmNlICE9PSBudWxsICYmIHN0ZXBQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgfHwgcGFyZW50aGVzaXMgPT09ICdhbGwnO1xuICAgIH1cblxuICAgIHZhciBlbmRQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLmVuZCwgcGFyZW50aGVzaXMpO1xuICAgIHBhcmVucy5lbmQgPSBlbmRQcmVjZWRlbmNlICE9PSBudWxsICYmIGVuZFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSB8fCBwYXJlbnRoZXNpcyA9PT0gJ2FsbCc7XG4gICAgcmV0dXJuIHBhcmVucztcbiAgfVxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIGZvcm1hdCBzdHJpbmcgYXMgc3RhcnQ6c3RlcDpzdG9wXG5cbiAgICB2YXIgc3RyO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLnN0YXJ0KSB7XG4gICAgICBzdGFydCA9ICcoJyArIHN0YXJ0ICsgJyknO1xuICAgIH1cblxuICAgIHN0ciA9IHN0YXJ0O1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXAudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnMuc3RlcCkge1xuICAgICAgICBzdGVwID0gJygnICsgc3RlcCArICcpJztcbiAgICAgIH1cblxuICAgICAgc3RyICs9ICc6JyArIHN0ZXA7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5lbmQpIHtcbiAgICAgIGVuZCA9ICcoJyArIGVuZCArICcpJztcbiAgICB9XG5cbiAgICBzdHIgKz0gJzonICsgZW5kO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1JhbmdlTm9kZScsXG4gICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgIGVuZDogdGhpcy5lbmQsXG4gICAgICBzdGVwOiB0aGlzLnN0ZXBcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gUmFuZ2VOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSYW5nZU5vZGVcIiwgXCJzdGFydFwiOiAuLi4sIFwiZW5kXCI6IC4uLiwgXCJzdGVwXCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtSYW5nZU5vZGV9XG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlTm9kZShqc29uLnN0YXJ0LCBqc29uLmVuZCwganNvbi5zdGVwKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gZm9ybWF0IHN0cmluZyBhcyBzdGFydDpzdGVwOnN0b3BcblxuICAgIHZhciBzdHI7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLnN0YXJ0KSB7XG4gICAgICBzdGFydCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHN0YXJ0ICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHN0ciA9IHN0YXJ0O1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXAudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zLnN0ZXApIHtcbiAgICAgICAgc3RlcCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHN0ZXAgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtcmFuZ2Utb3BlcmF0b3JcIj46PC9zcGFuPicgKyBzdGVwO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSB0aGlzLmVuZC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLmVuZCkge1xuICAgICAgZW5kID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgZW5kICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHN0ciArPSAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtcmFuZ2Utb3BlcmF0b3JcIj46PC9zcGFuPicgKyBlbmQ7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW1zIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBzdHIgPSB0aGlzLnN0YXJ0LnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5zdGFydCkge1xuICAgICAgc3RyID0gXCJcXFxcbGVmdChcIi5jb25jYXQoc3RyLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXAudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnMuc3RlcCkge1xuICAgICAgICBzdGVwID0gXCJcXFxcbGVmdChcIi5jb25jYXQoc3RlcCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gJzonICsgc3RlcDtcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gdGhpcy5lbmQudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLmVuZCkge1xuICAgICAgZW5kID0gXCJcXFxcbGVmdChcIi5jb25jYXQoZW5kLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgc3RyICs9ICc6JyArIGVuZDtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZU5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBsYXRleE9wZXJhdG9ycyB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1JlbGF0aW9uYWxOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmVsYXRpb25hbE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBIG5vZGUgcmVwcmVzZW50aW5nIGEgY2hhaW5lZCBjb25kaXRpb25hbCBleHByZXNzaW9uLCBzdWNoIGFzICd4ID4geSA+IHonXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nW119IGNvbmRpdGlvbmFscyAgIEFuIGFycmF5IG9mIGNvbmRpdGlvbmFsIG9wZXJhdG9ycyB1c2VkIHRvIGNvbXBhcmUgdGhlIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtOb2RlW119IHBhcmFtcyAgIFRoZSBwYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSBjb21wYXJlZFxuICAgKlxuICAgKiBAY29uc3RydWN0b3IgUmVsYXRpb25hbE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBSZWxhdGlvbmFsTm9kZShjb25kaXRpb25hbHMsIHBhcmFtcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWxhdGlvbmFsTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbmRpdGlvbmFscykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBjb25kaXRpb25hbHMgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgcGFyYW1zIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICBpZiAoY29uZGl0aW9uYWxzLmxlbmd0aCAhPT0gcGFyYW1zLmxlbmd0aCAtIDEpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBwYXJhbXMgbXVzdCBjb250YWluIGV4YWN0bHkgb25lIG1vcmUgZWxlbWVudCB0aGFuIHBhcmFtZXRlciBjb25kaXRpb25hbHMnKTtcbiAgICB0aGlzLmNvbmRpdGlvbmFscyA9IGNvbmRpdGlvbmFscztcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgfVxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS50eXBlID0gJ1JlbGF0aW9uYWxOb2RlJztcbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLmlzUmVsYXRpb25hbE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNvbXBpbGVkID0gdGhpcy5wYXJhbXMubWFwKHAgPT4gcC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcykpO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsUmVsYXRpb25hbE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBldmFsTGhzO1xuICAgICAgdmFyIGV2YWxSaHMgPSBjb21waWxlZFswXShzY29wZSwgYXJncywgY29udGV4dCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZXZhbExocyA9IGV2YWxSaHM7XG4gICAgICAgIGV2YWxSaHMgPSBjb21waWxlZFtpICsgMV0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgY29uZEZuID0gZ2V0U2FmZVByb3BlcnR5KG1hdGgsIHNlbGYuY29uZGl0aW9uYWxzW2ldKTtcblxuICAgICAgICBpZiAoIWNvbmRGbihldmFsTGhzLCBldmFsUmhzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wYXJhbXMuZm9yRWFjaCgobiwgaSkgPT4gY2FsbGJhY2sobiwgJ3BhcmFtc1snICsgaSArICddJywgdGhpcyksIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFJlbGF0aW9uYWxOb2RlIGhhdmluZyBpdHMgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1JlbGF0aW9uYWxOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKHRoaXMuY29uZGl0aW9uYWxzLnNsaWNlKCksIHRoaXMucGFyYW1zLm1hcCgobiwgaSkgPT4gdGhpcy5faWZOb2RlKGNhbGxiYWNrKG4sICdwYXJhbXNbJyArIGkgKyAnXScsIHRoaXMpKSwgdGhpcykpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtSZWxhdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZSh0aGlzLmNvbmRpdGlvbmFscywgdGhpcy5wYXJhbXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmFtU3RyaW5ncyA9IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgIHZhciBwYXJhbVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgcGFyYW1QcmVjZWRlbmNlICE9PSBudWxsICYmIHBhcmFtUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlID8gJygnICsgcC50b1N0cmluZyhvcHRpb25zKSArICcpJyA6IHAudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIG9wZXJhdG9yTWFwID0ge1xuICAgICAgZXF1YWw6ICc9PScsXG4gICAgICB1bmVxdWFsOiAnIT0nLFxuICAgICAgc21hbGxlcjogJzwnLFxuICAgICAgbGFyZ2VyOiAnPicsXG4gICAgICBzbWFsbGVyRXE6ICc8PScsXG4gICAgICBsYXJnZXJFcTogJz49J1xuICAgIH07XG4gICAgdmFyIHJldCA9IHBhcmFtU3RyaW5nc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldCArPSAnICcgKyBvcGVyYXRvck1hcFt0aGlzLmNvbmRpdGlvbmFsc1tpXV0gKyAnICcgKyBwYXJhbVN0cmluZ3NbaSArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmVsYXRpb25hbE5vZGUnLFxuICAgICAgY29uZGl0aW9uYWxzOiB0aGlzLmNvbmRpdGlvbmFscyxcbiAgICAgIHBhcmFtczogdGhpcy5wYXJhbXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBSZWxhdGlvbmFsTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVsYXRpb25hbE5vZGVcIiwgXCJjb25kaXRpb25cIjogLi4uLCBcInRydWVFeHByXCI6IC4uLiwgXCJmYWxzZUV4cHJcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1JlbGF0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKGpzb24uY29uZGl0aW9uYWxzLCBqc29uLnBhcmFtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyYW1TdHJpbmdzID0gdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgdmFyIHBhcmFtUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UocCwgcGFyZW50aGVzaXMpO1xuICAgICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBwYXJhbVByZWNlZGVuY2UgIT09IG51bGwgJiYgcGFyYW1QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgPyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBwLnRvSFRNTChvcHRpb25zKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JyA6IHAudG9IVE1MKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBvcGVyYXRvck1hcCA9IHtcbiAgICAgIGVxdWFsOiAnPT0nLFxuICAgICAgdW5lcXVhbDogJyE9JyxcbiAgICAgIHNtYWxsZXI6ICc8JyxcbiAgICAgIGxhcmdlcjogJz4nLFxuICAgICAgc21hbGxlckVxOiAnPD0nLFxuICAgICAgbGFyZ2VyRXE6ICc+PSdcbiAgICB9O1xuICAgIHZhciByZXQgPSBwYXJhbVN0cmluZ3NbMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXQgKz0gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWV4cGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUob3BlcmF0b3JNYXBbdGhpcy5jb25kaXRpb25hbHNbaV1dKSArICc8L3NwYW4+JyArIHBhcmFtU3RyaW5nc1tpICsgMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyYW1TdHJpbmdzID0gdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgdmFyIHBhcmFtUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UocCwgcGFyZW50aGVzaXMpO1xuICAgICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBwYXJhbVByZWNlZGVuY2UgIT09IG51bGwgJiYgcGFyYW1QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgPyAnXFxcXGxlZnQoJyArIHAudG9UZXgob3B0aW9ucykgKyAnXFxyaWdodCknIDogcC50b1RleChvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgcmV0ID0gcGFyYW1TdHJpbmdzWzBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0ICs9IGxhdGV4T3BlcmF0b3JzW3RoaXMuY29uZGl0aW9uYWxzW2ldXSArIHBhcmFtU3RyaW5nc1tpICsgMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICByZXR1cm4gUmVsYXRpb25hbE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSwgaXNJbmRleE5vZGUsIGlzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgdmFsaWRhdGVTYWZlTWV0aG9kIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0VGVtcGxhdGUsIGxhdGV4RnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xudmFyIG5hbWUgPSAnRnVuY3Rpb25Ob2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ21hdGgnLCAnTm9kZScsICdTeW1ib2xOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZ1bmN0aW9uTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG1hdGgsXG4gICAgTm9kZSxcbiAgICBTeW1ib2xOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgRnVuY3Rpb25Ob2RlXG4gICAqIEBleHRlbmRzIHsuL05vZGV9XG4gICAqIGludm9rZSBhIGxpc3Qgd2l0aCBhcmd1bWVudHMgb24gYSBub2RlXG4gICAqIEBwYXJhbSB7Li9Ob2RlIHwgc3RyaW5nfSBmbiBOb2RlIHJlc29sdmluZyB3aXRoIGEgZnVuY3Rpb24gb24gd2hpY2ggdG8gaW52b2tlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgYXJndW1lbnRzLCB0eXBpY2FsbHkgYSBTeW1ib05vZGUgb3IgQWNjZXNzb3JOb2RlXG4gICAqIEBwYXJhbSB7Li9Ob2RlW119IGFyZ3NcbiAgICovXG4gIGZ1bmN0aW9uIEZ1bmN0aW9uTm9kZShmbiwgYXJncykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGdW5jdGlvbk5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZm4gPT09ICdzdHJpbmcnKSB7XG4gICAgICBmbiA9IG5ldyBTeW1ib2xOb2RlKGZuKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICghaXNOb2RlKGZuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBhcyBwYXJhbWV0ZXIgXCJmblwiJyk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJncykgfHwgIWFyZ3MuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiYXJnc1wiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuYXJncyA9IGFyZ3MgfHwgW107IC8vIHJlYWRvbmx5IHByb3BlcnR5IG5hbWVcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbi5uYW1lIHx8ICcnO1xuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiBhIG5ldyBuYW1lLCBuYW1lIGlzIHJlYWQtb25seScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudHlwZSA9ICdGdW5jdGlvbk5vZGUnO1xuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmlzRnVuY3Rpb25Ob2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGdW5jdGlvbk5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyB2YWxpZCBGdW5jdGlvbk5vZGUnKTtcbiAgICB9IC8vIGNvbXBpbGUgYXJndW1lbnRzXG5cblxuICAgIHZhciBldmFsQXJncyA9IG1hcCh0aGlzLmFyZ3MsIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzU3ltYm9sTm9kZSh0aGlzLmZuKSkge1xuICAgICAgLy8gd2UgY2FuIHN0YXRpY2FsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGZ1bmN0aW9uIGhhcyBhbiByYXdBcmdzIHByb3BlcnR5XG4gICAgICB2YXIgX25hbWUgPSB0aGlzLmZuLm5hbWU7XG4gICAgICB2YXIgZm4gPSBfbmFtZSBpbiBtYXRoID8gZ2V0U2FmZVByb3BlcnR5KG1hdGgsIF9uYW1lKSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBpc1JhdyA9IHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbi5yYXdBcmdzID09PSB0cnVlO1xuXG4gICAgICBpZiAoaXNSYXcpIHtcbiAgICAgICAgLy8gcGFzcyB1bmV2YWx1YXRlZCBwYXJhbWV0ZXJzIChub2RlcykgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICAgIC8vIFwicmF3XCIgZXZhbHVhdGlvblxuICAgICAgICB2YXIgcmF3QXJncyA9IHRoaXMuYXJncztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikocmF3QXJncywgbWF0aCwgX2V4dGVuZHMoe30sIHNjb3BlLCBhcmdzKSk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcInJlZ3VsYXJcIiBldmFsdWF0aW9uXG4gICAgICAgIGlmIChldmFsQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB2YXIgZXZhbEFyZzAgPSBldmFsQXJnc1swXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pKGV2YWxBcmcwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChldmFsQXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICB2YXIgX2V2YWxBcmcgPSBldmFsQXJnc1swXTtcbiAgICAgICAgICB2YXIgZXZhbEFyZzEgPSBldmFsQXJnc1sxXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pKF9ldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEFyZzEoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikuYXBwbHkobnVsbCwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBY2Nlc3Nvck5vZGUodGhpcy5mbikgJiYgaXNJbmRleE5vZGUodGhpcy5mbi5pbmRleCkgJiYgdGhpcy5mbi5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIC8vIGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHJpZ2h0IGNvbnRleHQ6IHRoZSBvYmplY3Qgb2YgdGhlIEFjY2Vzc29yTm9kZVxuICAgICAgdmFyIGV2YWxPYmplY3QgPSB0aGlzLmZuLm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIHZhciBwcm9wID0gdGhpcy5mbi5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgdmFyIF9yYXdBcmdzID0gdGhpcy5hcmdzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YWxpZGF0ZVNhZmVNZXRob2Qob2JqZWN0LCBwcm9wKTtcbiAgICAgICAgdmFyIGlzUmF3ID0gb2JqZWN0W3Byb3BdICYmIG9iamVjdFtwcm9wXS5yYXdBcmdzO1xuICAgICAgICByZXR1cm4gaXNSYXcgPyBvYmplY3RbcHJvcF0oX3Jhd0FyZ3MsIG1hdGgsIF9leHRlbmRzKHt9LCBzY29wZSwgYXJncykpIC8vIFwicmF3XCIgZXZhbHVhdGlvblxuICAgICAgICA6IG9iamVjdFtwcm9wXS5hcHBseShvYmplY3QsIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICAvLyBcInJlZ3VsYXJcIiBldmFsdWF0aW9uXG4gICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub2RlLmZuLmlzQWNjZXNzb3JOb2RlICYmICFub2RlLmZuLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKVxuICAgICAgLy8gd2UgaGF2ZSB0byBkeW5hbWljYWxseSBkZXRlcm1pbmUgd2hldGhlciB0aGUgZnVuY3Rpb24gaGFzIGEgcmF3QXJncyBwcm9wZXJ0eVxuICAgICAgdmFyIGV2YWxGbiA9IHRoaXMuZm4uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICB2YXIgX3Jhd0FyZ3MyID0gdGhpcy5hcmdzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGZuID0gZXZhbEZuKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGlzUmF3ID0gZm4gJiYgZm4ucmF3QXJncztcbiAgICAgICAgcmV0dXJuIGlzUmF3ID8gZm4oX3Jhd0FyZ3MyLCBtYXRoLCBfZXh0ZW5kcyh7fSwgc2NvcGUsIGFyZ3MpKSAvLyBcInJhd1wiIGV2YWx1YXRpb25cbiAgICAgICAgOiBmbi5hcHBseShmbiwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgIC8vIFwicmVndWxhclwiIGV2YWx1YXRpb25cbiAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuZm4sICdmbicsIHRoaXMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBGdW5jdGlvbk5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Z1bmN0aW9uTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBmbiA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmZuLCAnZm4nLCB0aGlzKSk7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ob2RlKGZuLCBhcmdzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7RnVuY3Rpb25Ob2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbk5vZGUodGhpcy5mbiwgdGhpcy5hcmdzLnNsaWNlKDApKTtcbiAgfTsgLy8gYmFja3VwIE5vZGUncyB0b1N0cmluZyBmdW5jdGlvblxuICAvLyBAcHJpdmF0ZVxuXG5cbiAgdmFyIG5vZGVUb1N0cmluZyA9IEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICogVGhpcyBvdmVycmlkZXMgcGFydHMgb2YgTm9kZSdzIHRvU3RyaW5nIGZ1bmN0aW9uLlxuICAgKiBJZiBjYWxsYmFjayBpcyBhbiBvYmplY3QgY29udGFpbmluZyBjYWxsYmFja3MsIGl0XG4gICAqIGNhbGxzIHRoZSBjb3JyZWN0IGNhbGxiYWNrIGZvciB0aGUgY3VycmVudCBub2RlLFxuICAgKiBvdGhlcndpc2UgaXQgZmFsbHMgYmFjayB0byBjYWxsaW5nIE5vZGUncyB0b1N0cmluZ1xuICAgKiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21TdHJpbmc7XG4gICAgdmFyIG5hbWUgPSB0aGlzLmZuLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuaGFuZGxlciA9PT0gJ29iamVjdCcgJiYgaGFzT3duUHJvcGVydHkob3B0aW9ucy5oYW5kbGVyLCBuYW1lKSkge1xuICAgICAgLy8gY2FsbGJhY2sgaXMgYSBtYXAgb2YgY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAgICBjdXN0b21TdHJpbmcgPSBvcHRpb25zLmhhbmRsZXJbbmFtZV0odGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21TdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3RyaW5nO1xuICAgIH0gLy8gZmFsbCBiYWNrIHRvIE5vZGUncyB0b1N0cmluZ1xuXG5cbiAgICByZXR1cm4gbm9kZVRvU3RyaW5nLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBmbiA9IGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh0aGlzLmZuKSA/ICcoJyArIHRoaXMuZm4udG9TdHJpbmcob3B0aW9ucykgKyAnKScgOiB0aGlzLmZuLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyBmb3JtYXQgdGhlIGFyZ3VtZW50cyBsaWtlIFwiYWRkKDIsIDQuMilcIlxuXG4gICAgcmV0dXJuIGZuICsgJygnICsgYXJncy5qb2luKCcsICcpICsgJyknO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdGdW5jdGlvbk5vZGUnLFxuICAgICAgZm46IHRoaXMuZm4sXG4gICAgICBhcmdzOiB0aGlzLmFyZ3NcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQXNzaWdubWVudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZ1bmN0aW9uTm9kZVwiLCBmbjogLi4uLCBhcmdzOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Ob2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbk5vZGUoanNvbi5mbiwganNvbi5hcmdzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLnRvSFRNTChvcHRpb25zKTtcbiAgICB9KTsgLy8gZm9ybWF0IHRoZSBhcmd1bWVudHMgbGlrZSBcImFkZCgyLCA0LjIpXCJcblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWZ1bmN0aW9uXCI+JyArIGVzY2FwZSh0aGlzLmZuKSArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBhcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICB9O1xuICAvKlxuICAgKiBFeHBhbmQgYSBMYVRlWCB0ZW1wbGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwcml2YXRlXG4gICAqKi9cblxuXG4gIGZ1bmN0aW9uIGV4cGFuZFRlbXBsYXRlKHRlbXBsYXRlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIGxhdGV4ID0gJyc7IC8vIE1hdGNoIGV2ZXJ5dGhpbmcgb2YgdGhlIGZvcm0gJHtpZGVudGlmaWVyfSBvciAke2lkZW50aWZpZXJbMl19IG9yICQkXG4gICAgLy8gd2hpbGUgc3VibWF0Y2hpbmcgaWRlbnRpZmllciBhbmQgMiAoaW4gdGhlIHNlY29uZCBjYXNlKVxuXG4gICAgdmFyIHJlZ2V4ID0gL1xcJCg/OlxceyhbYS16X11bYS16XzAtOV0qKSg/OlxcWyhbMC05XSspXFxdKT9cXH18XFwkKS9naTtcbiAgICB2YXIgaW5wdXRQb3MgPSAwOyAvLyBwb3NpdGlvbiBpbiB0aGUgaW5wdXQgc3RyaW5nXG5cbiAgICB2YXIgbWF0Y2g7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAvLyBnbyB0aHJvdWdoIGFsbCBtYXRjaGVzXG4gICAgICAvLyBhZGQgZXZlcnl0aGluZyBpbiBmcm9udCBvZiB0aGUgbWF0Y2ggdG8gdGhlIExhVGVYIHN0cmluZ1xuICAgICAgbGF0ZXggKz0gdGVtcGxhdGUuc3Vic3RyaW5nKGlucHV0UG9zLCBtYXRjaC5pbmRleCk7XG4gICAgICBpbnB1dFBvcyA9IG1hdGNoLmluZGV4O1xuXG4gICAgICBpZiAobWF0Y2hbMF0gPT09ICckJCcpIHtcbiAgICAgICAgLy8gZXNjYXBlZCBkb2xsYXIgc2lnblxuICAgICAgICBsYXRleCArPSAnJCc7XG4gICAgICAgIGlucHV0UG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0ZW1wbGF0ZSBwYXJhbWV0ZXJcbiAgICAgICAgaW5wdXRQb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICB2YXIgcHJvcGVydHkgPSBub2RlW21hdGNoWzFdXTtcblxuICAgICAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdUZW1wbGF0ZTogUHJvcGVydHkgJyArIG1hdGNoWzFdICsgJyBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaFsyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gbm8gc3F1YXJlIGJyYWNrZXRzXG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5O1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgaWYgKGlzTm9kZShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eS50b1RleChvcHRpb25zKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIC8vIG1ha2UgYXJyYXkgb2YgTm9kZXMgaW50byBjb21tYSBzZXBhcmF0ZWQgbGlzdFxuICAgICAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5Lm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzTm9kZShhcmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcudG9UZXgob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnWycgKyBpbmRleCArICddIGlzIG5vdCBhIE5vZGUuJyk7XG4gICAgICAgICAgICAgICAgfSkuam9pbignLCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnIGhhcyB0byBiZSBhIE5vZGUsIFN0cmluZyBvciBhcnJheSBvZiBOb2RlcycpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnIGhhcyB0byBiZSBhIE5vZGUsIFN0cmluZyBvciBhcnJheSBvZiBOb2RlcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3aXRoIHNxdWFyZSBicmFja2V0c1xuICAgICAgICAgIGlmIChpc05vZGUocHJvcGVydHlbbWF0Y2hbMl1dICYmIHByb3BlcnR5W21hdGNoWzJdXSkpIHtcbiAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5W21hdGNoWzJdXS50b1RleChvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICdbJyArIG1hdGNoWzJdICsgJ10gaXMgbm90IGEgTm9kZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXRleCArPSB0ZW1wbGF0ZS5zbGljZShpbnB1dFBvcyk7IC8vIGFwcGVuZCByZXN0IG9mIHRoZSB0ZW1wbGF0ZVxuXG4gICAgcmV0dXJuIGxhdGV4O1xuICB9IC8vIGJhY2t1cCBOb2RlJ3MgdG9UZXggZnVuY3Rpb25cbiAgLy8gQHByaXZhdGVcblxuXG4gIHZhciBub2RlVG9UZXggPSBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvVGV4O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICogVGhpcyBvdmVycmlkZXMgcGFydHMgb2YgTm9kZSdzIHRvVGV4IGZ1bmN0aW9uLlxuICAgKiBJZiBjYWxsYmFjayBpcyBhbiBvYmplY3QgY29udGFpbmluZyBjYWxsYmFja3MsIGl0XG4gICAqIGNhbGxzIHRoZSBjb3JyZWN0IGNhbGxiYWNrIGZvciB0aGUgY3VycmVudCBub2RlLFxuICAgKiBvdGhlcndpc2UgaXQgZmFsbHMgYmFjayB0byBjYWxsaW5nIE5vZGUncyB0b1RleFxuICAgKiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tVGV4O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuaGFuZGxlciA9PT0gJ29iamVjdCcgJiYgaGFzT3duUHJvcGVydHkob3B0aW9ucy5oYW5kbGVyLCB0aGlzLm5hbWUpKSB7XG4gICAgICAvLyBjYWxsYmFjayBpcyBhIG1hcCBvZiBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICAgIGN1c3RvbVRleCA9IG9wdGlvbnMuaGFuZGxlclt0aGlzLm5hbWVdKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVRleDtcbiAgICB9IC8vIGZhbGwgYmFjayB0byBOb2RlJ3MgdG9UZXhcblxuXG4gICAgcmV0dXJuIG5vZGVUb1RleC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAvLyBnZXQgTGFUZVggb2YgdGhlIGFyZ3VtZW50c1xuICAgICAgcmV0dXJuIGFyZy50b1RleChvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgbGF0ZXhDb252ZXJ0ZXI7XG5cbiAgICBpZiAobGF0ZXhGdW5jdGlvbnNbdGhpcy5uYW1lXSkge1xuICAgICAgbGF0ZXhDb252ZXJ0ZXIgPSBsYXRleEZ1bmN0aW9uc1t0aGlzLm5hbWVdO1xuICAgIH0gLy8gdG9UZXggcHJvcGVydHkgb24gdGhlIGZ1bmN0aW9uIGl0c2VsZlxuXG5cbiAgICBpZiAobWF0aFt0aGlzLm5hbWVdICYmICh0eXBlb2YgbWF0aFt0aGlzLm5hbWVdLnRvVGV4ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBtYXRoW3RoaXMubmFtZV0udG9UZXggPT09ICdvYmplY3QnIHx8IHR5cGVvZiBtYXRoW3RoaXMubmFtZV0udG9UZXggPT09ICdzdHJpbmcnKSkge1xuICAgICAgLy8gLnRvVGV4IGlzIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgIGxhdGV4Q29udmVydGVyID0gbWF0aFt0aGlzLm5hbWVdLnRvVGV4O1xuICAgIH1cblxuICAgIHZhciBjdXN0b21Ub1RleDtcblxuICAgIHN3aXRjaCAodHlwZW9mIGxhdGV4Q29udmVydGVyKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIC8vIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgY3VzdG9tVG9UZXggPSBsYXRleENvbnZlcnRlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIGEgdGVtcGxhdGUgc3RyaW5nXG4gICAgICAgIGN1c3RvbVRvVGV4ID0gZXhwYW5kVGVtcGxhdGUobGF0ZXhDb252ZXJ0ZXIsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgLy8gYW4gb2JqZWN0IHdpdGggZGlmZmVyZW50IFwiY29udmVydGVyc1wiIGZvciBkaWZmZXJlbnQgbnVtYmVycyBvZiBhcmd1bWVudHNcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgbGF0ZXhDb252ZXJ0ZXJbYXJncy5sZW5ndGhdKSB7XG4gICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgY3VzdG9tVG9UZXggPSBsYXRleENvbnZlcnRlclthcmdzLmxlbmd0aF0odGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBjdXN0b21Ub1RleCA9IGV4cGFuZFRlbXBsYXRlKGxhdGV4Q29udmVydGVyW2FyZ3MubGVuZ3RoXSwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21Ub1RleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21Ub1RleDtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwYW5kVGVtcGxhdGUoZGVmYXVsdFRlbXBsYXRlLCB0aGlzLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgKyAnOicgKyB0aGlzLm5hbWU7XG4gIH07XG5cbiAgcmV0dXJuIEZ1bmN0aW9uTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNDb25zdGFudE5vZGUsIGlzRnVuY3Rpb25Ob2RlLCBpc09wZXJhdG9yTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi91dGlscy9vYmplY3QuanMnO1xudmFyIG5hbWUgPSAncGFyc2UnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbnVtZXJpYycsICdjb25maWcnLCAnQWNjZXNzb3JOb2RlJywgJ0FycmF5Tm9kZScsICdBc3NpZ25tZW50Tm9kZScsICdCbG9ja05vZGUnLCAnQ29uZGl0aW9uYWxOb2RlJywgJ0NvbnN0YW50Tm9kZScsICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJywgJ0Z1bmN0aW9uTm9kZScsICdJbmRleE5vZGUnLCAnT2JqZWN0Tm9kZScsICdPcGVyYXRvck5vZGUnLCAnUGFyZW50aGVzaXNOb2RlJywgJ1JhbmdlTm9kZScsICdSZWxhdGlvbmFsTm9kZScsICdTeW1ib2xOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVBhcnNlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbnVtZXJpYyxcbiAgICBjb25maWcsXG4gICAgQWNjZXNzb3JOb2RlLFxuICAgIEFycmF5Tm9kZSxcbiAgICBBc3NpZ25tZW50Tm9kZSxcbiAgICBCbG9ja05vZGUsXG4gICAgQ29uZGl0aW9uYWxOb2RlLFxuICAgIENvbnN0YW50Tm9kZSxcbiAgICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLFxuICAgIEZ1bmN0aW9uTm9kZSxcbiAgICBJbmRleE5vZGUsXG4gICAgT2JqZWN0Tm9kZSxcbiAgICBPcGVyYXRvck5vZGUsXG4gICAgUGFyZW50aGVzaXNOb2RlLFxuICAgIFJhbmdlTm9kZSxcbiAgICBSZWxhdGlvbmFsTm9kZSxcbiAgICBTeW1ib2xOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBQYXJzZSBhbiBleHByZXNzaW9uLiBSZXR1cm5zIGEgbm9kZSB0cmVlLCB3aGljaCBjYW4gYmUgZXZhbHVhdGVkIGJ5XG4gICAqIGludm9raW5nIG5vZGUuZXZhbHVhdGUoKS5cbiAgICpcbiAgICogTm90ZSB0aGUgZXZhbHVhdGluZyBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgbWF5IGludm9sdmUgc2VjdXJpdHkgcmlza3MsXG4gICAqIHNlZSBbaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbF0oaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGgucGFyc2UoZXhwcilcbiAgICogICAgIG1hdGgucGFyc2UoZXhwciwgb3B0aW9ucylcbiAgICogICAgIG1hdGgucGFyc2UoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0pXG4gICAqICAgICBtYXRoLnBhcnNlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dLCBvcHRpb25zKVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgICAgY29uc3Qgbm9kZTEgPSBtYXRoLnBhcnNlKCdzcXJ0KDNeMiArIDReMiknKVxuICAgKiAgICAgbm9kZTEuY29tcGlsZSgpLmV2YWx1YXRlKCkgLy8gNVxuICAgKlxuICAgKiAgICAgbGV0IHNjb3BlID0ge2E6MywgYjo0fVxuICAgKiAgICAgY29uc3Qgbm9kZTIgPSBtYXRoLnBhcnNlKCdhICogYicpIC8vIDEyXG4gICAqICAgICBjb25zdCBjb2RlMiA9IG5vZGUyLmNvbXBpbGUoKVxuICAgKiAgICAgY29kZTIuZXZhbHVhdGUoc2NvcGUpIC8vIDEyXG4gICAqICAgICBzY29wZS5hID0gNVxuICAgKiAgICAgY29kZTIuZXZhbHVhdGUoc2NvcGUpIC8vIDIwXG4gICAqXG4gICAqICAgICBjb25zdCBub2RlcyA9IG1hdGgucGFyc2UoWydhID0gMycsICdiID0gNCcsICdhICogYiddKVxuICAgKiAgICAgbm9kZXNbMl0uY29tcGlsZSgpLmV2YWx1YXRlKCkgLy8gMTJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICBldmFsdWF0ZSwgY29tcGlsZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgTWF0cml4fSBleHByICAgICAgICAgIEV4cHJlc3Npb24gdG8gYmUgcGFyc2VkXG4gICAqIEBwYXJhbSB7e25vZGVzOiBPYmplY3Q8c3RyaW5nLCBOb2RlPn19IFtvcHRpb25zXSAgQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBgbm9kZXNgIGEgc2V0IG9mIGN1c3RvbSBub2Rlc1xuICAgKiBAcmV0dXJuIHtOb2RlIHwgTm9kZVtdfSBub2RlXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cbiAgdmFyIHBhcnNlID0gdHlwZWQobmFtZSwge1xuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGV4cHJlc3Npb24pIHtcbiAgICAgIHJldHVybiBwYXJzZVN0YXJ0KGV4cHJlc3Npb24sIHt9KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KGV4cHJlc3Npb25zKSB7XG4gICAgICByZXR1cm4gcGFyc2VNdWx0aXBsZShleHByZXNzaW9ucywge30pO1xuICAgIH0sXG4gICAgJ3N0cmluZywgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nT2JqZWN0KGV4cHJlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIHZhciBleHRyYU5vZGVzID0gb3B0aW9ucy5ub2RlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5ub2RlcyA6IHt9O1xuICAgICAgcmV0dXJuIHBhcnNlU3RhcnQoZXhwcmVzc2lvbiwgZXh0cmFOb2Rlcyk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIE9iamVjdCc6IHBhcnNlTXVsdGlwbGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcGFyc2VNdWx0aXBsZShleHByZXNzaW9ucykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgZXh0cmFOb2RlcyA9IG9wdGlvbnMubm9kZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubm9kZXMgOiB7fTsgLy8gcGFyc2UgYW4gYXJyYXkgb3IgbWF0cml4IHdpdGggZXhwcmVzc2lvbnNcblxuICAgIHJldHVybiBkZWVwTWFwKGV4cHJlc3Npb25zLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgaWYgKHR5cGVvZiBlbGVtICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgICByZXR1cm4gcGFyc2VTdGFydChlbGVtLCBleHRyYU5vZGVzKTtcbiAgICB9KTtcbiAgfSAvLyB0b2tlbiB0eXBlcyBlbnVtZXJhdGlvblxuXG5cbiAgdmFyIFRPS0VOVFlQRSA9IHtcbiAgICBOVUxMOiAwLFxuICAgIERFTElNSVRFUjogMSxcbiAgICBOVU1CRVI6IDIsXG4gICAgU1lNQk9MOiAzLFxuICAgIFVOS05PV046IDRcbiAgfTsgLy8gbWFwIHdpdGggYWxsIGRlbGltaXRlcnNcblxuICB2YXIgREVMSU1JVEVSUyA9IHtcbiAgICAnLCc6IHRydWUsXG4gICAgJygnOiB0cnVlLFxuICAgICcpJzogdHJ1ZSxcbiAgICAnWyc6IHRydWUsXG4gICAgJ10nOiB0cnVlLFxuICAgICd7JzogdHJ1ZSxcbiAgICAnfSc6IHRydWUsXG4gICAgJ1wiJzogdHJ1ZSxcbiAgICAnXFwnJzogdHJ1ZSxcbiAgICAnOyc6IHRydWUsXG4gICAgJysnOiB0cnVlLFxuICAgICctJzogdHJ1ZSxcbiAgICAnKic6IHRydWUsXG4gICAgJy4qJzogdHJ1ZSxcbiAgICAnLyc6IHRydWUsXG4gICAgJy4vJzogdHJ1ZSxcbiAgICAnJSc6IHRydWUsXG4gICAgJ14nOiB0cnVlLFxuICAgICcuXic6IHRydWUsXG4gICAgJ34nOiB0cnVlLFxuICAgICchJzogdHJ1ZSxcbiAgICAnJic6IHRydWUsXG4gICAgJ3wnOiB0cnVlLFxuICAgICdefCc6IHRydWUsXG4gICAgJz0nOiB0cnVlLFxuICAgICc6JzogdHJ1ZSxcbiAgICAnPyc6IHRydWUsXG4gICAgJz09JzogdHJ1ZSxcbiAgICAnIT0nOiB0cnVlLFxuICAgICc8JzogdHJ1ZSxcbiAgICAnPic6IHRydWUsXG4gICAgJzw9JzogdHJ1ZSxcbiAgICAnPj0nOiB0cnVlLFxuICAgICc8PCc6IHRydWUsXG4gICAgJz4+JzogdHJ1ZSxcbiAgICAnPj4+JzogdHJ1ZVxuICB9OyAvLyBtYXAgd2l0aCBhbGwgbmFtZWQgZGVsaW1pdGVyc1xuXG4gIHZhciBOQU1FRF9ERUxJTUlURVJTID0ge1xuICAgIG1vZDogdHJ1ZSxcbiAgICB0bzogdHJ1ZSxcbiAgICBpbjogdHJ1ZSxcbiAgICBhbmQ6IHRydWUsXG4gICAgeG9yOiB0cnVlLFxuICAgIG9yOiB0cnVlLFxuICAgIG5vdDogdHJ1ZVxuICB9O1xuICB2YXIgQ09OU1RBTlRTID0ge1xuICAgIHRydWU6IHRydWUsXG4gICAgZmFsc2U6IGZhbHNlLFxuICAgIG51bGw6IG51bGwsXG4gICAgdW5kZWZpbmVkOiB1bmRlZmluZWRcbiAgfTtcbiAgdmFyIE5VTUVSSUNfQ09OU1RBTlRTID0gWydOYU4nLCAnSW5maW5pdHknXTtcblxuICBmdW5jdGlvbiBpbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4dHJhTm9kZXM6IHt9LFxuICAgICAgLy8gY3VycmVudCBleHRyYSBub2RlcywgbXVzdCBiZSBjYXJlZnVsIG5vdCB0byBtdXRhdGVcbiAgICAgIGV4cHJlc3Npb246ICcnLFxuICAgICAgLy8gY3VycmVudCBleHByZXNzaW9uXG4gICAgICBjb21tZW50OiAnJyxcbiAgICAgIC8vIGxhc3QgcGFyc2VkIGNvbW1lbnRcbiAgICAgIGluZGV4OiAwLFxuICAgICAgLy8gY3VycmVudCBpbmRleCBpbiBleHByXG4gICAgICB0b2tlbjogJycsXG4gICAgICAvLyBjdXJyZW50IHRva2VuXG4gICAgICB0b2tlblR5cGU6IFRPS0VOVFlQRS5OVUxMLFxuICAgICAgLy8gdHlwZSBvZiB0aGUgdG9rZW5cbiAgICAgIG5lc3RpbmdMZXZlbDogMCxcbiAgICAgIC8vIGxldmVsIG9mIG5lc3RpbmcgaW5zaWRlIHBhcmFtZXRlcnMsIHVzZWQgdG8gaWdub3JlIG5ld2xpbmUgY2hhcmFjdGVyc1xuICAgICAgY29uZGl0aW9uYWxMZXZlbDogbnVsbCAvLyB3aGVuIGEgY29uZGl0aW9uYWwgaXMgYmVpbmcgcGFyc2VkLCB0aGUgbGV2ZWwgb2YgdGhlIGNvbmRpdGlvbmFsIGlzIHN0b3JlZCBoZXJlXG5cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBWaWV3IHVwdG8gYGxlbmd0aGAgY2hhcmFjdGVycyBvZiB0aGUgZXhwcmVzc2lvbiBzdGFydGluZyBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0xXSBOdW1iZXIgb2YgY2hhcmFjdGVycyB0byB2aWV3XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3VycmVudFN0cmluZyhzdGF0ZSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0YXRlLmV4cHJlc3Npb24uc3Vic3RyKHN0YXRlLmluZGV4LCBsZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBWaWV3IHRoZSBjdXJyZW50IGNoYXJhY3Rlci4gUmV0dXJucyAnJyBpZiBlbmQgb2YgZXhwcmVzc2lvbiBpcyByZWFjaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdHJpbmcoc3RhdGUsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIG5leHQgY2hhcmFjdGVyIGZyb20gdGhlIGV4cHJlc3Npb24uXG4gICAqIFRoZSBjaGFyYWN0ZXIgaXMgc3RvcmVkIGludG8gdGhlIGNoYXIgYy4gSWYgdGhlIGVuZCBvZiB0aGUgZXhwcmVzc2lvbiBpc1xuICAgKiByZWFjaGVkLCB0aGUgZnVuY3Rpb24gcHV0cyBhbiBlbXB0eSBzdHJpbmcgaW4gYy5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZXh0KHN0YXRlKSB7XG4gICAgc3RhdGUuaW5kZXgrKztcbiAgfVxuICAvKipcbiAgICogUHJldmlldyB0aGUgcHJldmlvdXMgY2hhcmFjdGVyIGZyb20gdGhlIGV4cHJlc3Npb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gY05leHRcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwcmV2Q2hhcmFjdGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmV4cHJlc3Npb24uY2hhckF0KHN0YXRlLmluZGV4IC0gMSk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXZpZXcgdGhlIG5leHQgY2hhcmFjdGVyIGZyb20gdGhlIGV4cHJlc3Npb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gY05leHRcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZXh0Q2hhcmFjdGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmV4cHJlc3Npb24uY2hhckF0KHN0YXRlLmluZGV4ICsgMSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBuZXh0IHRva2VuIGluIHRoZSBjdXJyZW50IHN0cmluZyBleHByLlxuICAgKiBUaGUgdG9rZW4gYW5kIHRva2VuIHR5cGUgYXJlIGF2YWlsYWJsZSBhcyB0b2tlbiBhbmQgdG9rZW5UeXBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0VG9rZW4oc3RhdGUpIHtcbiAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuTlVMTDtcbiAgICBzdGF0ZS50b2tlbiA9ICcnO1xuICAgIHN0YXRlLmNvbW1lbnQgPSAnJzsgLy8gc2tpcCBvdmVyIHdoaXRlc3BhY2VzXG4gICAgLy8gc3BhY2UsIHRhYiwgYW5kIG5ld2xpbmUgd2hlbiBpbnNpZGUgcGFyYW1ldGVyc1xuXG4gICAgd2hpbGUgKHBhcnNlLmlzV2hpdGVzcGFjZShjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgc3RhdGUubmVzdGluZ0xldmVsKSkge1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfSAvLyBza2lwIGNvbW1lbnRcblxuXG4gICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnIycpIHtcbiAgICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJ1xcbicgJiYgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnKSB7XG4gICAgICAgIHN0YXRlLmNvbW1lbnQgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuICAgIH0gLy8gY2hlY2sgZm9yIGVuZCBvZiBleHByZXNzaW9uXG5cblxuICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJycpIHtcbiAgICAgIC8vIHRva2VuIGlzIHN0aWxsIGVtcHR5XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIG5ldyBsaW5lIGNoYXJhY3RlclxuXG5cbiAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdcXG4nICYmICFzdGF0ZS5uZXN0aW5nTGV2ZWwpIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGMxID0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgdmFyIGMyID0gY3VycmVudFN0cmluZyhzdGF0ZSwgMik7XG4gICAgdmFyIGMzID0gY3VycmVudFN0cmluZyhzdGF0ZSwgMyk7XG5cbiAgICBpZiAoYzMubGVuZ3RoID09PSAzICYmIERFTElNSVRFUlNbYzNdKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjMztcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBkZWxpbWl0ZXJzIGNvbnNpc3Rpbmcgb2YgMiBjaGFyYWN0ZXJzXG5cblxuICAgIGlmIChjMi5sZW5ndGggPT09IDIgJiYgREVMSU1JVEVSU1tjMl0pIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGMyO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBkZWxpbWl0ZXJzIGNvbnNpc3Rpbmcgb2YgMSBjaGFyYWN0ZXJcblxuXG4gICAgaWYgKERFTElNSVRFUlNbYzFdKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjMTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIGEgbnVtYmVyXG5cblxuICAgIGlmIChwYXJzZS5pc0RpZ2l0RG90KGMxKSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLk5VTUJFUjsgLy8gY2hlY2sgZm9yIGJpbmFyeSwgb2N0YWwsIG9yIGhleFxuXG4gICAgICB2YXIgX2MgPSBjdXJyZW50U3RyaW5nKHN0YXRlLCAyKTtcblxuICAgICAgaWYgKF9jID09PSAnMGInIHx8IF9jID09PSAnMG8nIHx8IF9jID09PSAnMHgnKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuXG4gICAgICAgIHdoaWxlIChwYXJzZS5pc0hleERpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBnZXQgbnVtYmVyLCBjYW4gaGF2ZSBhIHNpbmdsZSBkb3RcblxuXG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcuJykge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKCFwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIC8vIHRoaXMgaXMgbm8gbnVtYmVyLCBpdCBpcyBqdXN0IGEgZG90IChjYW4gYmUgZG90IG5vdGF0aW9uKVxuICAgICAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlLmlzRGVjaW1hbE1hcmsoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9IC8vIGNoZWNrIGZvciBleHBvbmVudGlhbCBub3RhdGlvbiBsaWtlIFwiMi4zZS00XCIsIFwiMS4yM2U1MFwiIG9yIFwiMmUrNFwiXG5cblxuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnRScgfHwgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdlJykge1xuICAgICAgICBpZiAocGFyc2UuaXNEaWdpdChuZXh0Q2hhcmFjdGVyKHN0YXRlKSkgfHwgbmV4dENoYXJhY3RlcihzdGF0ZSkgPT09ICctJyB8fCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJysnKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcrJyB8fCBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy0nKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICAgIH0gLy8gU2NpZW50aWZpYyBub3RhdGlvbiBNVVNUIGJlIGZvbGxvd2VkIGJ5IGFuIGV4cG9uZW50XG5cblxuICAgICAgICAgIGlmICghcGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRGlnaXQgZXhwZWN0ZWQsIGdvdCBcIicgKyBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSArICdcIicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdoaWxlIChwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyc2UuaXNEZWNpbWFsTWFyayhjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0RpZ2l0IGV4cGVjdGVkLCBnb3QgXCInICsgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgKyAnXCInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dENoYXJhY3RlcihzdGF0ZSkgPT09ICcuJykge1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRGlnaXQgZXhwZWN0ZWQsIGdvdCBcIicgKyBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSArICdcIicpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciB2YXJpYWJsZXMsIGZ1bmN0aW9ucywgbmFtZWQgb3BlcmF0b3JzXG5cblxuICAgIGlmIChwYXJzZS5pc0FscGhhKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBwcmV2Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICB3aGlsZSAocGFyc2UuaXNBbHBoYShjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgcHJldkNoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSB8fCBwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShOQU1FRF9ERUxJTUlURVJTLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5TWU1CT0w7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHNvbWV0aGluZyB1bmtub3duIGlzIGZvdW5kLCB3cm9uZyBjaGFyYWN0ZXJzIC0+IGEgc3ludGF4IGVycm9yXG5cblxuICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5VTktOT1dOO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJykge1xuICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1N5bnRheCBlcnJvciBpbiBwYXJ0IFwiJyArIHN0YXRlLnRva2VuICsgJ1wiJyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBuZXh0IHRva2VuIGFuZCBza2lwIG5ld2xpbmUgdG9rZW5zXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSkge1xuICAgIGRvIHtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICB9IHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ1xcbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cblxuICB9XG4gIC8qKlxuICAgKiBPcGVuIHBhcmFtZXRlcnMuXG4gICAqIE5ldyBsaW5lIGNoYXJhY3RlcnMgd2lsbCBiZSBpZ25vcmVkIHVudGlsIGNsb3NlUGFyYW1zKHN0YXRlKSBpcyBjYWxsZWRcbiAgICovXG5cblxuICBmdW5jdGlvbiBvcGVuUGFyYW1zKHN0YXRlKSB7XG4gICAgc3RhdGUubmVzdGluZ0xldmVsKys7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHBhcmFtZXRlcnMuXG4gICAqIE5ldyBsaW5lIGNoYXJhY3RlcnMgd2lsbCBubyBsb25nZXIgYmUgaWdub3JlZFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNsb3NlUGFyYW1zKHN0YXRlKSB7XG4gICAgc3RhdGUubmVzdGluZ0xldmVsLS07XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGNoYXJhY3RlciBgY2AgaXMgYSB2YWxpZCBhbHBoYSBjaGFyYWN0ZXI6XG4gICAqXG4gICAqIC0gQSBsYXRpbiBsZXR0ZXIgKHVwcGVyIG9yIGxvd2VyIGNhc2UpIEFzY2lpOiBhLXosIEEtWlxuICAgKiAtIEFuIHVuZGVyc2NvcmUgICAgICAgICAgICAgICAgICAgICAgICBBc2NpaTogX1xuICAgKiAtIEEgZG9sbGFyIHNpZ24gICAgICAgICAgICAgICAgICAgICAgICBBc2NpaTogJFxuICAgKiAtIEEgbGF0aW4gbGV0dGVyIHdpdGggYWNjZW50cyAgICAgICAgICBVbmljb2RlOiBcXHUwMEMwIC0gXFx1MDJBRlxuICAgKiAtIEEgZ3JlZWsgbGV0dGVyICAgICAgICAgICAgICAgICAgICAgICBVbmljb2RlOiBcXHUwMzcwIC0gXFx1MDNGRlxuICAgKiAtIEEgbWF0aGVtYXRpY2FsIGFscGhhbnVtZXJpYyBzeW1ib2wgICBVbmljb2RlOiBcXHV7MUQ0MDB9IC0gXFx1ezFEN0ZGfSBleGNsdWRpbmcgaW52YWxpZCBjb2RlIHBvaW50c1xuICAgKlxuICAgKiBUaGUgcHJldmlvdXMgYW5kIG5leHQgY2hhcmFjdGVycyBhcmUgbmVlZGVkIHRvIGRldGVybWluZSB3aGV0aGVyXG4gICAqIHRoaXMgY2hhcmFjdGVyIGlzIHBhcnQgb2YgYSB1bmljb2RlIHN1cnJvZ2F0ZSBwYWlyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgICAgIEN1cnJlbnQgY2hhcmFjdGVyIGluIHRoZSBleHByZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjUHJldiAgUHJldmlvdXMgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjTmV4dCAgTmV4dCBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0FscGhhID0gZnVuY3Rpb24gaXNBbHBoYShjLCBjUHJldiwgY05leHQpIHtcbiAgICByZXR1cm4gcGFyc2UuaXNWYWxpZExhdGluT3JHcmVlayhjKSB8fCBwYXJzZS5pc1ZhbGlkTWF0aFN5bWJvbChjLCBjTmV4dCkgfHwgcGFyc2UuaXNWYWxpZE1hdGhTeW1ib2woY1ByZXYsIGMpO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIGEgY2hhcmFjdGVyIGlzIGEgdmFsaWQgbGF0aW4sIGdyZWVrLCBvciBsZXR0ZXItbGlrZSBjaGFyYWN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc1ZhbGlkTGF0aW5PckdyZWVrID0gZnVuY3Rpb24gaXNWYWxpZExhdGluT3JHcmVlayhjKSB7XG4gICAgcmV0dXJuIC9eW2EtekEtWl8kXFx1MDBDMC1cXHUwMkFGXFx1MDM3MC1cXHUwM0ZGXFx1MjEwMC1cXHUyMTRGXSQvLnRlc3QoYyk7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdHdvIGdpdmVuIDE2IGJpdCBjaGFyYWN0ZXJzIGZvcm0gYSBzdXJyb2dhdGUgcGFpciBvZiBhXG4gICAqIHVuaWNvZGUgbWF0aCBzeW1ib2wuXG4gICAqXG4gICAqIGh0dHBzOi8vdW5pY29kZS10YWJsZS5jb20vZW4vXG4gICAqIGh0dHBzOi8vd3d3Lndpa2l3YW5kLmNvbS9lbi9NYXRoZW1hdGljYWxfb3BlcmF0b3JzX2FuZF9zeW1ib2xzX2luX1VuaWNvZGVcbiAgICpcbiAgICogTm90ZTogSW4gRVM2IHdpbGwgYmUgdW5pY29kZSBhd2FyZTpcbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjgwNzEyL2phdmFzY3JpcHQtdW5pY29kZS1yZWdleGVzXG4gICAqIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9lczYtdW5pY29kZS1yZWdleFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGlnaFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG93XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNWYWxpZE1hdGhTeW1ib2wgPSBmdW5jdGlvbiBpc1ZhbGlkTWF0aFN5bWJvbChoaWdoLCBsb3cpIHtcbiAgICByZXR1cm4gL15bXFx1RDgzNV0kLy50ZXN0KGhpZ2gpICYmIC9eW1xcdURDMDAtXFx1REZGRl0kLy50ZXN0KGxvdykgJiYgL15bXlxcdURDNTVcXHVEQzlEXFx1RENBMFxcdURDQTFcXHVEQ0EzXFx1RENBNFxcdURDQTdcXHVEQ0E4XFx1RENBRFxcdURDQkFcXHVEQ0JDXFx1RENDNFxcdUREMDZcXHVERDBCXFx1REQwQ1xcdUREMTVcXHVERDFEXFx1REQzQVxcdUREM0ZcXHVERDQ1XFx1REQ0Ny1cXHVERDQ5XFx1REQ1MVxcdURFQTZcXHVERUE3XFx1REZDQ1xcdURGQ0RdJC8udGVzdChsb3cpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBnaXZlbiBjaGFyYWN0ZXIgYyBpcyBhIHdoaXRlIHNwYWNlIGNoYXJhY3Rlcjogc3BhY2UsIHRhYiwgb3IgZW50ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5lc3RpbmdMZXZlbFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzV2hpdGVzcGFjZSA9IGZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjLCBuZXN0aW5nTGV2ZWwpIHtcbiAgICAvLyBUT0RPOiBhbHNvIHRha2UgJ1xccicgY2FycmlhZ2UgcmV0dXJuIGFzIG5ld2xpbmU/IE9yIGRvZXMgdGhhdCBnaXZlIHByb2JsZW1zIG9uIG1hYz9cbiAgICByZXR1cm4gYyA9PT0gJyAnIHx8IGMgPT09ICdcXHQnIHx8IGMgPT09ICdcXG4nICYmIG5lc3RpbmdMZXZlbCA+IDA7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdGhlIGNoYXJhY3RlciBjIGlzIGEgZGVjaW1hbCBtYXJrIChkb3QpLlxuICAgKiBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gaXQncyBub3QgdGhlIHN0YXJ0IG9mIGEgZGVsaW1pdGVyICcuKicsICcuLycsIG9yICcuXidcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNOZXh0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNEZWNpbWFsTWFyayA9IGZ1bmN0aW9uIGlzRGVjaW1hbE1hcmsoYywgY05leHQpIHtcbiAgICByZXR1cm4gYyA9PT0gJy4nICYmIGNOZXh0ICE9PSAnLycgJiYgY05leHQgIT09ICcqJyAmJiBjTmV4dCAhPT0gJ14nO1xuICB9O1xuICAvKipcbiAgICogY2hlY2tzIGlmIHRoZSBnaXZlbiBjaGFyIGMgaXMgYSBkaWdpdCBvciBkb3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICBhIHN0cmluZyB3aXRoIG9uZSBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0RpZ2l0RG90ID0gZnVuY3Rpb24gaXNEaWdpdERvdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknIHx8IGMgPT09ICcuJztcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2hhciBjIGlzIGEgZGlnaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICBhIHN0cmluZyB3aXRoIG9uZSBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0RpZ2l0ID0gZnVuY3Rpb24gaXNEaWdpdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknO1xuICB9O1xuICAvKipcbiAgICogY2hlY2tzIGlmIHRoZSBnaXZlbiBjaGFyIGMgaXMgYSBoZXggZGlnaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICBhIHN0cmluZyB3aXRoIG9uZSBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0hleERpZ2l0ID0gZnVuY3Rpb24gaXNIZXhEaWdpdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknIHx8IGMgPj0gJ2EnICYmIGMgPD0gJ2YnIHx8IGMgPj0gJ0EnICYmIGMgPD0gJ0YnO1xuICB9O1xuICAvKipcbiAgICogU3RhcnQgb2YgdGhlIHBhcnNlIGxldmVscyBiZWxvdywgaW4gb3JkZXIgb2YgcHJlY2VkZW5jZVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTdGFydChleHByZXNzaW9uLCBleHRyYU5vZGVzKSB7XG4gICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlKCk7XG5cbiAgICBfZXh0ZW5kcyhzdGF0ZSwge1xuICAgICAgZXhwcmVzc2lvbixcbiAgICAgIGV4dHJhTm9kZXNcbiAgICB9KTtcblxuICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQmxvY2soc3RhdGUpOyAvLyBjaGVjayBmb3IgZ2FyYmFnZSBhdCB0aGUgZW5kIG9mIHRoZSBleHByZXNzaW9uXG4gICAgLy8gYW4gZXhwcmVzc2lvbiBlbmRzIHdpdGggYSBlbXB0eSBjaGFyYWN0ZXIgJycgYW5kIHRva2VuVHlwZSBERUxJTUlURVJcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJycpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5ERUxJTUlURVIpIHtcbiAgICAgICAgLy8gdXNlciBlbnRlcmVkIGEgbm90IGV4aXN0aW5nIG9wZXJhdG9yIGxpa2UgXCIvL1wiXG4gICAgICAgIC8vIFRPRE86IGdpdmUgaGludHMgZm9yIGFsaWFzZXMsIGZvciBleGFtcGxlIHdpdGggXCI8PlwiIGdpdmUgYXMgaGludCBcIiBkaWQgeW91IG1lYW4gIT09ID9cIlxuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihzdGF0ZSwgJ1VuZXhwZWN0ZWQgb3BlcmF0b3IgJyArIHN0YXRlLnRva2VuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnVW5leHBlY3RlZCBwYXJ0IFwiJyArIHN0YXRlLnRva2VuICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgYmxvY2sgd2l0aCBleHByZXNzaW9ucy4gRXhwcmVzc2lvbnMgY2FuIGJlIHNlcGFyYXRlZCBieSBhIG5ld2xpbmVcbiAgICogY2hhcmFjdGVyICdcXG4nLCBvciBieSBhIHNlbWljb2xvbiAnOycuIEluIGNhc2Ugb2YgYSBzZW1pY29sb24sIG5vIG91dHB1dFxuICAgKiBvZiB0aGUgcHJlY2VkaW5nIGxpbmUgaXMgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJsb2NrKHN0YXRlKSB7XG4gICAgdmFyIG5vZGU7XG4gICAgdmFyIGJsb2NrcyA9IFtdO1xuICAgIHZhciB2aXNpYmxlO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnJyAmJiBzdGF0ZS50b2tlbiAhPT0gJ1xcbicgJiYgc3RhdGUudG9rZW4gIT09ICc7Jykge1xuICAgICAgbm9kZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICBub2RlLmNvbW1lbnQgPSBzdGF0ZS5jb21tZW50O1xuICAgIH0gLy8gVE9ETzogc2ltcGxpZnkgdGhpcyBsb29wXG5cblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ1xcbicgfHwgc3RhdGUudG9rZW4gPT09ICc7Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCAmJiBub2RlKSB7XG4gICAgICAgIHZpc2libGUgPSBzdGF0ZS50b2tlbiAhPT0gJzsnO1xuICAgICAgICBibG9ja3MucHVzaCh7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ1xcbicgJiYgc3RhdGUudG9rZW4gIT09ICc7JyAmJiBzdGF0ZS50b2tlbiAhPT0gJycpIHtcbiAgICAgICAgbm9kZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIG5vZGUuY29tbWVudCA9IHN0YXRlLmNvbW1lbnQ7XG4gICAgICAgIHZpc2libGUgPSBzdGF0ZS50b2tlbiAhPT0gJzsnO1xuICAgICAgICBibG9ja3MucHVzaCh7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChibG9ja3MubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoYmxvY2tzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKHVuZGVmaW5lZCk7XG4gICAgICAgIG5vZGUuY29tbWVudCA9IHN0YXRlLmNvbW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXNzaWdubWVudCBvZiBhIGZ1bmN0aW9uIG9yIHZhcmlhYmxlLFxuICAgKiAtIGNhbiBiZSBhIHZhcmlhYmxlIGxpa2UgJ2E9Mi4zJ1xuICAgKiAtIG9yIGEgdXBkYXRpbmcgYW4gZXhpc3RpbmcgdmFyaWFibGUgbGlrZSAnbWF0cml4KDIsMzo1KT1bNiw3LDhdJ1xuICAgKiAtIGRlZmluaW5nIGEgZnVuY3Rpb24gbGlrZSAnZih4KSA9IHheMidcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQXNzaWdubWVudChzdGF0ZSkge1xuICAgIHZhciBuYW1lLCBhcmdzLCB2YWx1ZSwgdmFsaWQ7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUNvbmRpdGlvbmFsKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJz0nKSB7XG4gICAgICBpZiAoaXNTeW1ib2xOb2RlKG5vZGUpKSB7XG4gICAgICAgIC8vIHBhcnNlIGEgdmFyaWFibGUgYXNzaWdubWVudCBsaWtlICdhID0gMi8zJ1xuICAgICAgICBuYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKG5hbWUpLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzQWNjZXNzb3JOb2RlKG5vZGUpKSB7XG4gICAgICAgIC8vIHBhcnNlIGEgbWF0cml4IHN1YnNldCBhc3NpZ25tZW50IGxpa2UgJ0FbMSwyXSA9IDQnXG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICB2YWx1ZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUobm9kZS5vYmplY3QsIG5vZGUuaW5kZXgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbk5vZGUobm9kZSkgJiYgaXNTeW1ib2xOb2RlKG5vZGUuZm4pKSB7XG4gICAgICAgIC8vIHBhcnNlIGZ1bmN0aW9uIGFzc2lnbm1lbnQgbGlrZSAnZih4KSA9IHheMidcbiAgICAgICAgdmFsaWQgPSB0cnVlO1xuICAgICAgICBhcmdzID0gW107XG4gICAgICAgIG5hbWUgPSBub2RlLm5hbWU7XG4gICAgICAgIG5vZGUuYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGlzU3ltYm9sTm9kZShhcmcpKSB7XG4gICAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZy5uYW1lO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShuYW1lLCBhcmdzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdJbnZhbGlkIGxlZnQgaGFuZCBzaWRlIG9mIGFzc2lnbm1lbnQgb3BlcmF0b3IgPScpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBjb25kaXRpb25hbCBvcGVyYXRpb25cbiAgICpcbiAgICogICAgIGNvbmRpdGlvbiA/IHRydWVQYXJ0IDogZmFsc2VQYXJ0XG4gICAqXG4gICAqIE5vdGU6IGNvbmRpdGlvbmFsIG9wZXJhdG9yIGlzIHJpZ2h0LWFzc29jaWF0aXZlXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUNvbmRpdGlvbmFsKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUxvZ2ljYWxPcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICc/Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAvLyBzZXQgYSBjb25kaXRpb25hbCBsZXZlbCwgdGhlIHJhbmdlIG9wZXJhdG9yIHdpbGwgYmUgaWdub3JlZCBhcyBsb25nXG4gICAgICAvLyBhcyBjb25kaXRpb25hbExldmVsID09PSBzdGF0ZS5uZXN0aW5nTGV2ZWwuXG4gICAgICB2YXIgcHJldiA9IHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWw7XG4gICAgICBzdGF0ZS5jb25kaXRpb25hbExldmVsID0gc3RhdGUubmVzdGluZ0xldmVsO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICB2YXIgY29uZGl0aW9uID0gbm9kZTtcbiAgICAgIHZhciB0cnVlRXhwciA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICc6JykgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdGYWxzZSBwYXJ0IG9mIGNvbmRpdGlvbmFsIGV4cHJlc3Npb24gZXhwZWN0ZWQnKTtcbiAgICAgIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgPSBudWxsO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICB2YXIgZmFsc2VFeHByID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTsgLy8gTm90ZTogY2hlY2sgZm9yIGNvbmRpdGlvbmFsIG9wZXJhdG9yIGFnYWluLCByaWdodCBhc3NvY2lhdGl2aXR5XG5cbiAgICAgIG5vZGUgPSBuZXcgQ29uZGl0aW9uYWxOb2RlKGNvbmRpdGlvbiwgdHJ1ZUV4cHIsIGZhbHNlRXhwcik7IC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNvbmRpdGlvbmFsIGxldmVsXG5cbiAgICAgIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgPSBwcmV2O1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBsb2dpY2FsIG9yLCAneCBvciB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMb2dpY2FsT3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlTG9naWNhbFhvcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdvcicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnb3InLCAnb3InLCBbbm9kZSwgcGFyc2VMb2dpY2FsWG9yKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBsb2dpY2FsIGV4Y2x1c2l2ZSBvciwgJ3ggeG9yIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxvZ2ljYWxYb3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlTG9naWNhbEFuZChzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICd4b3InKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ3hvcicsICd4b3InLCBbbm9kZSwgcGFyc2VMb2dpY2FsQW5kKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBsb2dpY2FsIGFuZCwgJ3ggYW5kIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxvZ2ljYWxBbmQoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQml0d2lzZU9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ2FuZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnYW5kJywgJ2FuZCcsIFtub2RlLCBwYXJzZUJpdHdpc2VPcihzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYml0d2lzZSBvciwgJ3ggfCB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCaXR3aXNlT3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQml0d2lzZVhvcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICd8Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCd8JywgJ2JpdE9yJywgW25vZGUsIHBhcnNlQml0d2lzZVhvcihzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYml0d2lzZSBleGNsdXNpdmUgb3IgKHhvciksICd4IF58IHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJpdHdpc2VYb3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQml0d2lzZUFuZChzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdefCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnXnwnLCAnYml0WG9yJywgW25vZGUsIHBhcnNlQml0d2lzZUFuZChzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYml0d2lzZSBhbmQsICd4ICYgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQml0d2lzZUFuZChzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VSZWxhdGlvbmFsKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJyYnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJyYnLCAnYml0QW5kJywgW25vZGUsIHBhcnNlUmVsYXRpb25hbChzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBjaGFpbmVkIGNvbmRpdGlvbmFsLCBsaWtlICdhID4gYiA+PSBjJ1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSZWxhdGlvbmFsKHN0YXRlKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtwYXJzZVNoaWZ0KHN0YXRlKV07XG4gICAgdmFyIGNvbmRpdGlvbmFscyA9IFtdO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnPT0nOiAnZXF1YWwnLFxuICAgICAgJyE9JzogJ3VuZXF1YWwnLFxuICAgICAgJzwnOiAnc21hbGxlcicsXG4gICAgICAnPic6ICdsYXJnZXInLFxuICAgICAgJzw9JzogJ3NtYWxsZXJFcScsXG4gICAgICAnPj0nOiAnbGFyZ2VyRXEnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICB2YXIgY29uZCA9IHtcbiAgICAgICAgbmFtZTogc3RhdGUudG9rZW4sXG4gICAgICAgIGZuOiBvcGVyYXRvcnNbc3RhdGUudG9rZW5dXG4gICAgICB9O1xuICAgICAgY29uZGl0aW9uYWxzLnB1c2goY29uZCk7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcy5wdXNoKHBhcnNlU2hpZnQoc3RhdGUpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHBhcmFtc1swXTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKGNvbmRpdGlvbmFsc1swXS5uYW1lLCBjb25kaXRpb25hbHNbMF0uZm4sIHBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUoY29uZGl0aW9uYWxzLm1hcChjID0+IGMuZm4pLCBwYXJhbXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQml0d2lzZSBsZWZ0IHNoaWZ0LCBiaXR3aXNlIHJpZ2h0IGFyaXRobWV0aWMgc2hpZnQsIGJpdHdpc2UgcmlnaHQgbG9naWNhbCBzaGlmdFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTaGlmdChzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZUNvbnZlcnNpb24oc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnPDwnOiAnbGVmdFNoaWZ0JyxcbiAgICAgICc+Pic6ICdyaWdodEFyaXRoU2hpZnQnLFxuICAgICAgJz4+Pic6ICdyaWdodExvZ1NoaWZ0J1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VDb252ZXJzaW9uKHN0YXRlKV07XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogY29udmVyc2lvbiBvcGVyYXRvcnMgJ3RvJyBhbmQgJ2luJ1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VDb252ZXJzaW9uKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlUmFuZ2Uoc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICB0bzogJ3RvJyxcbiAgICAgIGluOiAndG8nIC8vIGFsaWFzIG9mICd0bydcblxuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG5cbiAgICAgIGlmIChuYW1lID09PSAnaW4nICYmIHN0YXRlLnRva2VuID09PSAnJykge1xuICAgICAgICAvLyBlbmQgb2YgZXhwcmVzc2lvbiAtPiB0aGlzIGlzIHRoZSB1bml0ICdpbicgKCdpbmNoJylcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJyonLCAnbXVsdGlwbHknLCBbbm9kZSwgbmV3IFN5bWJvbE5vZGUoJ2luJyldLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG9wZXJhdG9yICdhIHRvIGInIG9yICdhIGluIGInXG4gICAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZVJhbmdlKHN0YXRlKV07XG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSByYW5nZSwgXCJzdGFydDplbmRcIiwgXCJzdGFydDpzdGVwOmVuZFwiLCBcIjpcIiwgXCJzdGFydDpcIiwgXCI6ZW5kXCIsIGV0Y1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSYW5nZShzdGF0ZSkge1xuICAgIHZhciBub2RlO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJzonKSB7XG4gICAgICAvLyBpbXBsaWNpdCBzdGFydD0xIChvbmUtYmFzZWQpXG4gICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXhwbGljaXQgc3RhcnRcbiAgICAgIG5vZGUgPSBwYXJzZUFkZFN1YnRyYWN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc6JyAmJiBzdGF0ZS5jb25kaXRpb25hbExldmVsICE9PSBzdGF0ZS5uZXN0aW5nTGV2ZWwpIHtcbiAgICAgIC8vIHdlIGlnbm9yZSB0aGUgcmFuZ2Ugb3BlcmF0b3Igd2hlbiBhIGNvbmRpdGlvbmFsIG9wZXJhdG9yIGlzIGJlaW5nIHByb2Nlc3NlZCBvbiB0aGUgc2FtZSBsZXZlbFxuICAgICAgcGFyYW1zLnB1c2gobm9kZSk7IC8vIHBhcnNlIHN0ZXAgYW5kIGVuZFxuXG4gICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICc6JyAmJiBwYXJhbXMubGVuZ3RoIDwgMykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnKScgfHwgc3RhdGUudG9rZW4gPT09ICddJyB8fCBzdGF0ZS50b2tlbiA9PT0gJywnIHx8IHN0YXRlLnRva2VuID09PSAnJykge1xuICAgICAgICAgIC8vIGltcGxpY2l0IGVuZFxuICAgICAgICAgIHBhcmFtcy5wdXNoKG5ldyBTeW1ib2xOb2RlKCdlbmQnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXhwbGljaXQgZW5kXG4gICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBZGRTdWJ0cmFjdChzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIC8vIHBhcmFtcyA9IFtzdGFydCwgc3RlcCwgZW5kXVxuICAgICAgICBub2RlID0gbmV3IFJhbmdlTm9kZShwYXJhbXNbMF0sIHBhcmFtc1syXSwgcGFyYW1zWzFdKTsgLy8gc3RhcnQsIGVuZCwgc3RlcFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbGVuZ3RoID09PSAyXG4gICAgICAgIC8vIHBhcmFtcyA9IFtzdGFydCwgZW5kXVxuICAgICAgICBub2RlID0gbmV3IFJhbmdlTm9kZShwYXJhbXNbMF0sIHBhcmFtc1sxXSk7IC8vIHN0YXJ0LCBlbmRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYWRkIG9yIHN1YnRyYWN0XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUFkZFN1YnRyYWN0KHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlTXVsdGlwbHlEaXZpZGUoc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnKyc6ICdhZGQnLFxuICAgICAgJy0nOiAnc3VidHJhY3QnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZU11bHRpcGx5RGl2aWRlKHN0YXRlKV07XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbXVsdGlwbHksIGRpdmlkZSwgbW9kdWx1c1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VNdWx0aXBseURpdmlkZShzdGF0ZSkge1xuICAgIHZhciBub2RlLCBsYXN0LCBuYW1lLCBmbjtcbiAgICBub2RlID0gcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uKHN0YXRlKTtcbiAgICBsYXN0ID0gbm9kZTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJyonOiAnbXVsdGlwbHknLFxuICAgICAgJy4qJzogJ2RvdE11bHRpcGx5JyxcbiAgICAgICcvJzogJ2RpdmlkZScsXG4gICAgICAnLi8nOiAnZG90RGl2aWRlJyxcbiAgICAgICclJzogJ21vZCcsXG4gICAgICBtb2Q6ICdtb2QnXG4gICAgfTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgICAgLy8gZXhwbGljaXQgb3BlcmF0b3JzXG4gICAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICBsYXN0ID0gcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uKHN0YXRlKTtcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIFtub2RlLCBsYXN0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvbihzdGF0ZSkge1xuICAgIHZhciBub2RlLCBsYXN0O1xuICAgIG5vZGUgPSBwYXJzZVJ1bGUyKHN0YXRlKTtcbiAgICBsYXN0ID0gbm9kZTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuID09PSAnaW4nICYmIGlzQ29uc3RhbnROb2RlKG5vZGUpIHx8IHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLk5VTUJFUiAmJiAhaXNDb25zdGFudE5vZGUobGFzdCkgJiYgKCFpc09wZXJhdG9yTm9kZShsYXN0KSB8fCBsYXN0Lm9wID09PSAnIScpIHx8IHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgLy8gcGFyc2UgaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgLy8gc3ltYm9sOiAgICAgIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgJzJhJywgJygyKzMpYScsICdhIGInXG4gICAgICAgIC8vIG51bWJlcjogICAgICBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICcoMiszKTInXG4gICAgICAgIC8vIHBhcmVudGhlc2lzOiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICcyKDMrNCknLCAnKDMrNCkoMSsyKSdcbiAgICAgICAgbGFzdCA9IHBhcnNlUnVsZTIoc3RhdGUpO1xuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnKicsICdtdWx0aXBseScsIFtub2RlLCBsYXN0XSwgdHJ1ZVxuICAgICAgICAvKiBpbXBsaWNpdCAqL1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIEluZmFtb3VzIFwicnVsZSAyXCIgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL2lzc3Vlcy83OTIjaXNzdWVjb21tZW50LTM2MTA2NTM3MFxuICAgKiBFeHBsaWNpdCBkaXZpc2lvbiBnZXRzIGhpZ2hlciBwcmVjZWRlbmNlIHRoYW4gaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICogd2hlbiB0aGUgZGl2aXNpb24gbWF0Y2hlcyB0aGlzIHBhdHRlcm46IFtudW1iZXJdIC8gW251bWJlcl0gW3N5bWJvbF1cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUnVsZTIoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlVW5hcnkoc3RhdGUpO1xuICAgIHZhciBsYXN0ID0gbm9kZTtcbiAgICB2YXIgdG9rZW5TdGF0ZXMgPSBbXTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAvLyBNYXRjaCB0aGUgXCJudW1iZXIgL1wiIHBhcnQgb2YgdGhlIHBhdHRlcm4gXCJudW1iZXIgLyBudW1iZXIgc3ltYm9sXCJcbiAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJy8nICYmIGlzQ29uc3RhbnROb2RlKGxhc3QpKSB7XG4gICAgICAgIC8vIExvb2sgYWhlYWQgdG8gc2VlIGlmIHRoZSBuZXh0IHRva2VuIGlzIGEgbnVtYmVyXG4gICAgICAgIHRva2VuU3RhdGVzLnB1c2goX2V4dGVuZHMoe30sIHN0YXRlKSk7XG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpOyAvLyBNYXRjaCB0aGUgXCJudW1iZXIgLyBudW1iZXJcIiBwYXJ0IG9mIHRoZSBwYXR0ZXJuXG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLk5VTUJFUikge1xuICAgICAgICAgIC8vIExvb2sgYWhlYWQgYWdhaW5cbiAgICAgICAgICB0b2tlblN0YXRlcy5wdXNoKF9leHRlbmRzKHt9LCBzdGF0ZSkpO1xuICAgICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpOyAvLyBNYXRjaCB0aGUgXCJzeW1ib2xcIiBwYXJ0IG9mIHRoZSBwYXR0ZXJuLCBvciBhIGxlZnQgcGFyZW50aGVzaXNcblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICAgICAgLy8gV2UndmUgbWF0Y2hlZCB0aGUgcGF0dGVybiBcIm51bWJlciAvIG51bWJlciBzeW1ib2xcIi5cbiAgICAgICAgICAgIC8vIFJld2luZCBvbmNlIGFuZCBidWlsZCB0aGUgXCJudW1iZXIgLyBudW1iZXJcIiBub2RlOyB0aGUgc3ltYm9sIHdpbGwgYmUgY29uc3VtZWQgbGF0ZXJcbiAgICAgICAgICAgIF9leHRlbmRzKHN0YXRlLCB0b2tlblN0YXRlcy5wb3AoKSk7XG5cbiAgICAgICAgICAgIHRva2VuU3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgbGFzdCA9IHBhcnNlVW5hcnkoc3RhdGUpO1xuICAgICAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJy8nLCAnZGl2aWRlJywgW25vZGUsIGxhc3RdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm90IGEgbWF0Y2gsIHNvIHJld2luZFxuICAgICAgICAgICAgdG9rZW5TdGF0ZXMucG9wKCk7XG5cbiAgICAgICAgICAgIF9leHRlbmRzKHN0YXRlLCB0b2tlblN0YXRlcy5wb3AoKSk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBOb3QgYSBtYXRjaCwgc28gcmV3aW5kXG4gICAgICAgICAgX2V4dGVuZHMoc3RhdGUsIHRva2VuU3RhdGVzLnBvcCgpKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogVW5hcnkgcGx1cyBhbmQgbWludXMsIGFuZCBsb2dpY2FsIGFuZCBiaXR3aXNlIG5vdFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VVbmFyeShzdGF0ZSkge1xuICAgIHZhciBuYW1lLCBwYXJhbXMsIGZuO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnLSc6ICd1bmFyeU1pbnVzJyxcbiAgICAgICcrJzogJ3VuYXJ5UGx1cycsXG4gICAgICAnfic6ICdiaXROb3QnLFxuICAgICAgbm90OiAnbm90J1xuICAgIH07XG5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIGZuID0gb3BlcmF0b3JzW3N0YXRlLnRva2VuXTtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW3BhcnNlVW5hcnkoc3RhdGUpXTtcbiAgICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVBvdyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBvd2VyXG4gICAqIE5vdGU6IHBvd2VyIG9wZXJhdG9yIGlzIHJpZ2h0IGFzc29jaWF0aXZlXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVBvdyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZUxlZnRIYW5kT3BlcmF0b3JzKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ14nIHx8IHN0YXRlLnRva2VuID09PSAnLl4nKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG5hbWUgPT09ICdeJyA/ICdwb3cnIDogJ2RvdFBvdyc7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZVVuYXJ5KHN0YXRlKV07IC8vIEdvIGJhY2sgdG8gdW5hcnksIHdlIGNhbiBoYXZlICcyXi0zJ1xuXG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogTGVmdCBoYW5kIG9wZXJhdG9yczogZmFjdG9yaWFsIHghLCBjdHJhbnNwb3NlIHgnXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxlZnRIYW5kT3BlcmF0b3JzKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlQ3VzdG9tTm9kZXMoc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnISc6ICdmYWN0b3JpYWwnLFxuICAgICAgJ1xcJyc6ICdjdHJhbnNwb3NlJ1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGVdO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGN1c3RvbSBub2RlIGhhbmRsZXIuIEEgbm9kZSBoYW5kbGVyIGNhbiBiZSB1c2VkIHRvIHByb2Nlc3NcbiAgICogbm9kZXMgaW4gYSBjdXN0b20gd2F5LCBmb3IgZXhhbXBsZSBmb3IgaGFuZGxpbmcgYSBwbG90LlxuICAgKlxuICAgKiBBIGhhbmRsZXIgbXVzdCBiZSBwYXNzZWQgYXMgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSBwYXJzZSBmdW5jdGlvbi5cbiAgICogLSBtdXN0IGV4dGVuZCBtYXRoLk5vZGVcbiAgICogLSBtdXN0IGNvbnRhaW4gYSBmdW5jdGlvbiBfY29tcGlsZShkZWZzOiBPYmplY3QpIDogc3RyaW5nXG4gICAqIC0gbXVzdCBjb250YWluIGEgZnVuY3Rpb24gZmluZChmaWx0ZXI6IE9iamVjdCkgOiBOb2RlW11cbiAgICogLSBtdXN0IGNvbnRhaW4gYSBmdW5jdGlvbiB0b1N0cmluZygpIDogc3RyaW5nXG4gICAqIC0gdGhlIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50IGNvbnRhaW5pbmcgYWxsIHBhcmFtZXRlcnNcbiAgICpcbiAgICogRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICAgICBub2RlcyA9IHtcbiAgICogICAgICAgJ3Bsb3QnOiBQbG90SGFuZGxlclxuICAgKiAgICAgfVxuICAgKlxuICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGhhbmRsZXIgaXMgY2FsbGVkIGFzOlxuICAgKlxuICAgKiAgICAgbm9kZSA9IG5ldyBQbG90SGFuZGxlcihwYXJhbXMpXG4gICAqXG4gICAqIFRoZSBoYW5kbGVyIHdpbGwgYmUgaW52b2tlZCB3aGVuIGV2YWx1YXRpbmcgYW4gZXhwcmVzc2lvbiBsaWtlOlxuICAgKlxuICAgKiAgICAgbm9kZSA9IG1hdGgucGFyc2UoJ3Bsb3Qoc2luKHgpLCB4KScsIG5vZGVzKVxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VDdXN0b21Ob2RlcyhzdGF0ZSkge1xuICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgJiYgaGFzT3duUHJvcGVydHkoc3RhdGUuZXh0cmFOb2Rlcywgc3RhdGUudG9rZW4pKSB7XG4gICAgICB2YXIgQ3VzdG9tTm9kZSA9IHN0YXRlLmV4dHJhTm9kZXNbc3RhdGUudG9rZW5dO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBwYXJzZSBwYXJhbWV0ZXJzXG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgIHBhcmFtcyA9IFtdO1xuICAgICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7IC8vIHBhcnNlIGEgbGlzdCB3aXRoIHBhcmFtZXRlcnNcblxuICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyApIGV4cGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIH0gLy8gY3JlYXRlIGEgbmV3IGN1c3RvbSBub2RlXG4gICAgICAvLyBub2luc3BlY3Rpb24gSlNWYWxpZGF0ZVR5cGVzXG5cblxuICAgICAgcmV0dXJuIG5ldyBDdXN0b21Ob2RlKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlU3ltYm9sKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2Ugc3ltYm9sczogZnVuY3Rpb25zLCB2YXJpYWJsZXMsIGNvbnN0YW50cywgdW5pdHNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU3ltYm9sKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWU7XG5cbiAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLkRFTElNSVRFUiAmJiBzdGF0ZS50b2tlbiBpbiBOQU1FRF9ERUxJTUlURVJTKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShDT05TVEFOVFMsIG5hbWUpKSB7XG4gICAgICAgIC8vIHRydWUsIGZhbHNlLCBudWxsLCAuLi5cbiAgICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoQ09OU1RBTlRTW25hbWVdKTtcbiAgICAgIH0gZWxzZSBpZiAoTlVNRVJJQ19DT05TVEFOVFMuaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gTmFOLCBJbmZpbml0eVxuICAgICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShudW1lcmljKG5hbWUsICdudW1iZXInKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gbmV3IFN5bWJvbE5vZGUobmFtZSk7XG4gICAgICB9IC8vIHBhcnNlIGZ1bmN0aW9uIHBhcmFtZXRlcnMgYW5kIG1hdHJpeCBpbmRleFxuXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmcoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBhY2Nlc3NvcnM6XG4gICAqIC0gZnVuY3Rpb24gaW52b2NhdGlvbiBpbiByb3VuZCBicmFja2V0cyAoLi4uKSwgZm9yIGV4YW1wbGUgc3FydCgyKVxuICAgKiAtIGluZGV4IGVuY2xvc2VkIGluIHNxdWFyZSBicmFja2V0cyBbLi4uXSwgZm9yIGV4YW1wbGUgQVsyLDNdXG4gICAqIC0gZG90IG5vdGF0aW9uIGZvciBwcm9wZXJ0aWVzLCBsaWtlIGZvby5iYXJcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAgICBOb2RlIG9uIHdoaWNoIHRvIGFwcGx5IHRoZSBwYXJhbWV0ZXJzLiBJZiB0aGVyZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYXJlIG5vIHBhcmFtZXRlcnMgaW4gdGhlIGV4cHJlc3Npb24sIHRoZSBub2RlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBpdHNlbGYgaXMgcmV0dXJuZWRcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3R5cGVzXSAgRmlsdGVyIHRoZSB0eXBlcyBvZiBub3RhdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuIGJlIFsnKCcsICdbJywgJy4nXVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUsIHR5cGVzKSB7XG4gICAgdmFyIHBhcmFtcztcblxuICAgIHdoaWxlICgoc3RhdGUudG9rZW4gPT09ICcoJyB8fCBzdGF0ZS50b2tlbiA9PT0gJ1snIHx8IHN0YXRlLnRva2VuID09PSAnLicpICYmICghdHlwZXMgfHwgdHlwZXMuaW5kZXhPZihzdGF0ZS50b2tlbikgIT09IC0xKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBwYXJhbXMgPSBbXTtcblxuICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgaWYgKGlzU3ltYm9sTm9kZShub2RlKSB8fCBpc0FjY2Vzc29yTm9kZShub2RlKSkge1xuICAgICAgICAgIC8vIGZ1bmN0aW9uIGludm9jYXRpb24gbGlrZSBmbigyLCAzKSBvciBvYmouZm4oMiwgMylcbiAgICAgICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7IC8vIHBhcnNlIGEgbGlzdCB3aXRoIHBhcmFtZXRlcnNcblxuICAgICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgKSBleHBlY3RlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgbm9kZSA9IG5ldyBGdW5jdGlvbk5vZGUobm9kZSwgcGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICgyKzMpKDQrNSkgb3Igc3FydCgyKSgxKzIpXG4gICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaXQgaGVyZSBidXQgbGV0IGl0IGJlIGhhbmRsZWQgYnkgcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uXG4gICAgICAgICAgLy8gd2l0aCBjb3JyZWN0IHByZWNlZGVuY2VcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1snKSB7XG4gICAgICAgIC8vIGluZGV4IG5vdGF0aW9uIGxpa2UgdmFyaWFibGVbMiwgM11cbiAgICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpOyAvLyBwYXJzZSBhIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzXG5cbiAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgXSBleHBlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgIG5vZGUgPSBuZXcgQWNjZXNzb3JOb2RlKG5vZGUsIG5ldyBJbmRleE5vZGUocGFyYW1zKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkb3Qgbm90YXRpb24gbGlrZSB2YXJpYWJsZS5wcm9wXG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW5UeXBlICE9PSBUT0tFTlRZUEUuU1lNQk9MKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQcm9wZXJ0eSBuYW1lIGV4cGVjdGVkIGFmdGVyIGRvdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zLnB1c2gobmV3IENvbnN0YW50Tm9kZShzdGF0ZS50b2tlbikpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgIHZhciBkb3ROb3RhdGlvbiA9IHRydWU7XG4gICAgICAgIG5vZGUgPSBuZXcgQWNjZXNzb3JOb2RlKG5vZGUsIG5ldyBJbmRleE5vZGUocGFyYW1zLCBkb3ROb3RhdGlvbikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGRvdWJsZSBxdW90ZXMgc3RyaW5nLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmcoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgc3RyO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnXCInKSB7XG4gICAgICBzdHIgPSBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTsgLy8gY3JlYXRlIGNvbnN0YW50XG5cbiAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKHN0cik7IC8vIHBhcnNlIGluZGV4IHBhcmFtZXRlcnNcblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIHN1cnJvdW5kZWQgYnkgZG91YmxlIHF1b3RlcyBcIi4uLlwiXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJyAmJiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJ1wiJykge1xuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnXFxcXCcpIHtcbiAgICAgICAgLy8gZXNjYXBlIGNoYXJhY3RlciwgaW1tZWRpYXRlbHkgcHJvY2VzcyB0aGUgbmV4dFxuICAgICAgICAvLyBjaGFyYWN0ZXIgdG8gcHJldmVudCBzdG9wcGluZyBhdCBhIG5leHQgJ1xcXCInXG4gICAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ1wiJykge1xuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2Ygc3RyaW5nIFwiIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKCdcIicgKyBzdHIgKyAnXCInKTsgLy8gdW5lc2NhcGUgZXNjYXBlZCBjaGFyYWN0ZXJzXG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc2luZ2xlIHF1b3RlcyBzdHJpbmcuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBzdHI7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdcXCcnKSB7XG4gICAgICBzdHIgPSBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTsgLy8gY3JlYXRlIGNvbnN0YW50XG5cbiAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKHN0cik7IC8vIHBhcnNlIGluZGV4IHBhcmFtZXRlcnNcblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU1hdHJpeChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIHN1cnJvdW5kZWQgYnkgc2luZ2xlIHF1b3RlcyAnLi4uJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSkge1xuICAgIHZhciBzdHIgPSAnJztcblxuICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycgJiYgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICdcXCcnKSB7XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdcXFxcJykge1xuICAgICAgICAvLyBlc2NhcGUgY2hhcmFjdGVyLCBpbW1lZGlhdGVseSBwcm9jZXNzIHRoZSBuZXh0XG4gICAgICAgIC8vIGNoYXJhY3RlciB0byBwcmV2ZW50IHN0b3BwaW5nIGF0IGEgbmV4dCAnXFwnJ1xuICAgICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICdcXCcnKSB7XG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBzdHJpbmcgXFwnIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKCdcIicgKyBzdHIgKyAnXCInKTsgLy8gdW5lc2NhcGUgZXNjYXBlZCBjaGFyYWN0ZXJzXG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIHRoZSBtYXRyaXhcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTWF0cml4KHN0YXRlKSB7XG4gICAgdmFyIGFycmF5LCBwYXJhbXMsIHJvd3MsIGNvbHM7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdbJykge1xuICAgICAgLy8gbWF0cml4IFsuLi5dXG4gICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5vbi1lbXB0eSBtYXRyaXhcbiAgICAgICAgdmFyIHJvdyA9IHBhcnNlUm93KHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc7Jykge1xuICAgICAgICAgIC8vIDIgZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICByb3dzID0gMTtcbiAgICAgICAgICBwYXJhbXMgPSBbcm93XTsgLy8gdGhlIHJvd3Mgb2YgdGhlIG1hdHJpeCBhcmUgc2VwYXJhdGVkIGJ5IGRvdC1jb21tYSdzXG5cbiAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICc7Jykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBwYXJhbXNbcm93c10gPSBwYXJzZVJvdyhzdGF0ZSk7XG4gICAgICAgICAgICByb3dzKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIG1hdHJpeCBdIGV4cGVjdGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gY2hlY2sgaWYgdGhlIG51bWJlciBvZiBjb2x1bW5zIG1hdGNoZXMgaW4gYWxsIHJvd3NcblxuICAgICAgICAgIGNvbHMgPSBwYXJhbXNbMF0uaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPCByb3dzOyByKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXNbcl0uaXRlbXMubGVuZ3RoICE9PSBjb2xzKSB7XG4gICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKHN0YXRlLCAnQ29sdW1uIGRpbWVuc2lvbnMgbWlzbWF0Y2ggJyArICcoJyArIHBhcmFtc1tyXS5pdGVtcy5sZW5ndGggKyAnICE9PSAnICsgY29scyArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXJyYXkgPSBuZXcgQXJyYXlOb2RlKHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gMSBkaW1lbnNpb25hbCB2ZWN0b3JcbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2YgbWF0cml4IF0gZXhwZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgIGFycmF5ID0gcm93O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzIGlzIGFuIGVtcHR5IG1hdHJpeCBcIlsgXVwiXG4gICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICBhcnJheSA9IG5ldyBBcnJheU5vZGUoW10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIGFycmF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHNpbmdsZSBjb21tYS1zZXBhcmF0ZWQgcm93IGZyb20gYSBtYXRyaXgsIGxpa2UgJ2EsIGIsIGMnXG4gICAqIEByZXR1cm4ge0FycmF5Tm9kZX0gbm9kZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUm93KHN0YXRlKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtwYXJzZUFzc2lnbm1lbnQoc3RhdGUpXTtcbiAgICB2YXIgbGVuID0gMTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gcGFyc2UgZXhwcmVzc2lvblxuXG4gICAgICBwYXJhbXNbbGVuXSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICBsZW4rKztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZShwYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBhbiBvYmplY3QsIGVuY2xvc2VkIGluIGFuZ2xlIGJyYWNrZXRzey4uLn0sIGZvciBleGFtcGxlIHt2YWx1ZTogMn1cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlT2JqZWN0KHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAneycpIHtcbiAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgdmFyIGtleTtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICAgIGRvIHtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ30nKSB7XG4gICAgICAgICAgLy8gcGFyc2Uga2V5XG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnXCInKSB7XG4gICAgICAgICAgICBrZXkgPSBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnRva2VuID09PSAnXFwnJykge1xuICAgICAgICAgICAga2V5ID0gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuREVMSU1JVEVSICYmIHN0YXRlLnRva2VuIGluIE5BTUVEX0RFTElNSVRFUlMpIHtcbiAgICAgICAgICAgIGtleSA9IHN0YXRlLnRva2VuO1xuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1N5bWJvbCBvciBzdHJpbmcgZXhwZWN0ZWQgYXMgb2JqZWN0IGtleScpO1xuICAgICAgICAgIH0gLy8gcGFyc2Uga2V5L3ZhbHVlIHNlcGFyYXRvclxuXG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICc6Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdDb2xvbiA6IGV4cGVjdGVkIGFmdGVyIG9iamVjdCBrZXknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIHBhcnNlIGtleVxuXG4gICAgICAgICAgcHJvcGVydGllc1trZXldID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuXG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ30nKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnQ29tbWEgLCBvciBicmFja2V0IH0gZXhwZWN0ZWQgYWZ0ZXIgb2JqZWN0IHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIHZhciBub2RlID0gbmV3IE9iamVjdE5vZGUocHJvcGVydGllcyk7IC8vIHBhcnNlIGluZGV4IHBhcmFtZXRlcnNcblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU51bWJlcihzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIGEgbnVtYmVyXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU51bWJlcihzdGF0ZSkge1xuICAgIHZhciBudW1iZXJTdHI7XG5cbiAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuTlVNQkVSKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgbnVtYmVyXG4gICAgICBudW1iZXJTdHIgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKG51bWVyaWMobnVtYmVyU3RyLCBjb25maWcubnVtYmVyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlUGFyZW50aGVzZXMoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJlbnRoZXNlc1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VQYXJlbnRoZXNlcyhzdGF0ZSkge1xuICAgIHZhciBub2RlOyAvLyBjaGVjayBpZiBpdCBpcyBhIHBhcmVudGhlc2l6ZWQgZXhwcmVzc2lvblxuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgIC8vIHBhcmVudGhlc2VzICguLi4pXG4gICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpOyAvLyBzdGFydCBhZ2FpblxuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzICkgZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBQYXJlbnRoZXNpc05vZGUobm9kZSk7XG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRW5kKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogRXZhbHVhdGVkIHdoZW4gdGhlIGV4cHJlc3Npb24gaXMgbm90IHlldCBlbmRlZCBidXQgZXhwZWN0ZWQgdG8gZW5kXG4gICAqIEByZXR1cm4ge05vZGV9IHJlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlRW5kKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnJykge1xuICAgICAgLy8gc3ludGF4IGVycm9yIG9yIHVuZXhwZWN0ZWQgZW5kIG9mIGV4cHJlc3Npb25cbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1ZhbHVlIGV4cGVjdGVkJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgY3VycmVudCByb3cgdmFsdWUgKG9uZSBiYXNlZClcbiAgICogUmV0dXJucyB0aGUgbGluZSBvZiB0aGUgY3VycmVudGx5IGhhbmRsZWQgZXhwcmVzc2lvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICAvKiBUT0RPOiBpbXBsZW1lbnQga2VlcGluZyB0cmFjayBvbiB0aGUgcm93IG51bWJlclxuICBmdW5jdGlvbiByb3cgKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgKi9cblxuICAvKipcbiAgICogU2hvcnRjdXQgZm9yIGdldHRpbmcgdGhlIGN1cnJlbnQgY29sIHZhbHVlIChvbmUgYmFzZWQpXG4gICAqIFJldHVybnMgdGhlIGNvbHVtbiAocG9zaXRpb24pIHdoZXJlIHRoZSBsYXN0IHN0YXRlLnRva2VuIHN0YXJ0c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNvbChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5pbmRleCAtIHN0YXRlLnRva2VuLmxlbmd0aCArIDE7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlcnJvclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAgICogQHJldHVybiB7U3ludGF4RXJyb3J9IGluc3RhbnRpYXRlZCBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCBtZXNzYWdlKSB7XG4gICAgdmFyIGMgPSBjb2woc3RhdGUpO1xuICAgIHZhciBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihtZXNzYWdlICsgJyAoY2hhciAnICsgYyArICcpJyk7XG4gICAgZXJyb3IuY2hhciA9IGM7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZXJyb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAqIEByZXR1cm4ge0Vycm9yfSBpbnN0YW50aWF0ZWQgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjcmVhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICAgIHZhciBjID0gY29sKHN0YXRlKTtcbiAgICB2YXIgZXJyb3IgPSBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSArICcgKGNoYXIgJyArIGMgKyAnKScpO1xuICAgIGVycm9yLmNoYXIgPSBjO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBwYXJzZTtcbn0pOyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVCaWdOdW1iZXJDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEJpZ051bWJlckRlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlQmlnTnVtYmVyQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUNvbXBsZXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIENvbXBsZXhEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZUNvbXBsZXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlTWF0cml4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBNYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZU1hdHJpeENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZW5zZU1hdHJpeENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIE1hdHJpeERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGVuc2VNYXRyaXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlRnJhY3Rpb25DbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZyYWN0aW9uRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVGcmFjdGlvbkNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVHlwZWQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciB0eXBlZERlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgRnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVR5cGVkXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVxdWFsU2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVFcXVhbFNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTnVtYmVyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbnVtYmVyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTnVtYmVyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBGcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGcmFjdGlvbiB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZyYWN0aW9uRGVwZW5kZW5jaWVzID0ge1xuICBGcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZyYWN0aW9uXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXRyaXggfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBtYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU1hdHJpeFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVbmFyeU1pbnVzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgdW5hcnlNaW51c0RlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVVuYXJ5TWludXNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWJzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgYWJzRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQWJzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFkZFNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGFkZFNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFkZFNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgemVyb3NEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1plcm9zLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVSb3VuZCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHJvdW5kRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgemVyb3NEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVJvdW5kXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVaZXJvcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHplcm9zRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVplcm9zXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU11bHRpcGx5U2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVNdWx0aXBseVNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU2l6ZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHNpemVEZXBlbmRlbmNpZXMgPSB7XG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNpemVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkb3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RvdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU11bHRpcGx5IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbXVsdGlwbHlEZXBlbmRlbmNpZXMgPSB7XG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZG90RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU11bHRpcGx5XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY29uakRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29uai5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzaXplRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTaXplLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURvdCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRvdERlcGVuZGVuY2llcyA9IHtcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBjb25qRGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgc2l6ZURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURvdFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25qIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgY29uakRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNvbmpcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJ0cmFjdCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHN1YnRyYWN0RGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3VidHJhY3Rcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMYXJnZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBsYXJnZXJEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVMYXJnZXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJZGVudGl0eSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGlkZW50aXR5RGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUlkZW50aXR5XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBiaWdudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ251bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTnVtZXJpYyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG51bWVyaWNEZXBlbmRlbmNpZXMgPSB7XG4gIGJpZ251bWJlckRlcGVuZGVuY2llcyxcbiAgZnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIG51bWJlckRlcGVuZGVuY2llcyxcbiAgY3JlYXRlTnVtZXJpY1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCaWdudW1iZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBiaWdudW1iZXJEZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUJpZ251bWJlclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbnVtZXJpY0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtZXJpYy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEaXZpZGVTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIG51bWVyaWNEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEaXZpZGVTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNldCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHN1YnNldERlcGVuZGVuY2llcyA9IHtcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3Vic2V0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhYnNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWwuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmb3JtYXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Zvcm1hdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaXNOdW1lcmljRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJc051bWVyaWMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHBvd0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUG93LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByb3VuZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnRyYWN0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVW5pdENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgVW5pdERlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBGcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgYWJzRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxEZXBlbmRlbmNpZXMsXG4gIGZpeERlcGVuZGVuY2llcyxcbiAgZm9ybWF0RGVwZW5kZW5jaWVzLFxuICBpc051bWVyaWNEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICBudW1iZXJEZXBlbmRlbmNpZXMsXG4gIHBvd0RlcGVuZGVuY2llcyxcbiAgcm91bmREZXBlbmRlbmNpZXMsXG4gIHN1YnRyYWN0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVVbml0Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVxdWFsIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZXF1YWxEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRXF1YWxcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY2VpbERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ2VpbC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZmxvb3JEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Zsb29yLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGaXggfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmaXhEZXBlbmRlbmNpZXMgPSB7XG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIGNlaWxEZXBlbmRlbmNpZXMsXG4gIGZsb29yRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGaXhcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHJvdW5kRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDZWlsIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgY2VpbERlcGVuZGVuY2llcyA9IHtcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgcm91bmREZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDZWlsXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByb3VuZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRmxvb3IgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmbG9vckRlcGVuZGVuY2llcyA9IHtcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgcm91bmREZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGbG9vclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGb3JtYXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmb3JtYXREZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGb3JtYXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSXNOdW1lcmljIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgaXNOdW1lcmljRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlSXNOdW1lcmljXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbi5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaWRlbnRpdHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0lkZW50aXR5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQb3cgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBwb3dEZXBlbmRlbmNpZXMgPSB7XG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIGZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBpZGVudGl0eURlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgbnVtYmVyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlUG93XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgVW5pdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5pdENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgU3ltYm9sTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgVW5pdERlcGVuZGVuY2llcyxcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3ltYm9sTm9kZVxufTsiLCJpbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyB0b1N5bWJvbCB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbnZhciBuYW1lID0gJ1N5bWJvbE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbWF0aCcsICc/VW5pdCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVN5bWJvbE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBtYXRoLFxuICAgIFVuaXQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBzb21lIG5hbWUgaXMgYSB2YWx1ZWxlc3MgdW5pdCBsaWtlIFwiaW5jaFwiLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWx1ZWxlc3NVbml0KG5hbWUpIHtcbiAgICByZXR1cm4gVW5pdCA/IFVuaXQuaXNWYWx1ZWxlc3NVbml0KG5hbWUpIDogZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBTeW1ib2xOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBIHN5bWJvbCBub2RlIGNhbiBob2xkIGFuZCByZXNvbHZlIGEgc3ltYm9sXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIFN5bWJvbE5vZGUobmFtZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTeW1ib2xOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwibmFtZVwiJyk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgfVxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUudHlwZSA9ICdTeW1ib2xOb2RlJztcbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuaXNTeW1ib2xOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcblxuICAgIGlmIChhcmdOYW1lc1tuYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gdGhpcyBpcyBhIEZ1bmN0aW9uQXNzaWdubWVudCBhcmd1bWVudFxuICAgICAgLy8gKGxpa2UgYW4geCB3aGVuIGluc2lkZSB0aGUgZXhwcmVzc2lvbiBvZiBhIGZ1bmN0aW9uIGFzc2lnbm1lbnQgYGYoeCkgPSAuLi5gKVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gYXJnc1tuYW1lXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChuYW1lIGluIG1hdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUpIDogZ2V0U2FmZVByb3BlcnR5KG1hdGgsIG5hbWUpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlzVW5pdCA9IGlzVmFsdWVsZXNzVW5pdChuYW1lKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUpIDogaXNVbml0ID8gbmV3IFVuaXQobnVsbCwgbmFtZSkgOiB1bmRlZihuYW1lKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsvLyBub3RoaW5nIHRvIGRvLCB3ZSBkb24ndCBoYXZlIGNoaWxkc1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFN5bWJvbE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtTeW1ib2xOb2RlfSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICB9O1xuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yICdVbmRlZmluZWQgc3ltYm9sIHtuYW1lfSdcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG5cblxuICBmdW5jdGlvbiB1bmRlZihuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgc3ltYm9sICcgKyBuYW1lKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtTeW1ib2xOb2RlfVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgU3ltYm9sTm9kZSh0aGlzLm5hbWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBuYW1lID0gZXNjYXBlKHRoaXMubmFtZSk7XG5cbiAgICBpZiAobmFtZSA9PT0gJ3RydWUnIHx8IG5hbWUgPT09ICdmYWxzZScpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLWJvb2xlYW5cIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdpJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtaW1hZ2luYXJ5LXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ0luZmluaXR5Jykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtaW5maW5pdHktc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnTmFOJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtbmFuLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ251bGwnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1udWxsLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXVuZGVmaW5lZC1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1N5bWJvbE5vZGUnLFxuICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgU3ltYm9sTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiU3ltYm9sTm9kZVwiLCBuYW1lOiBcInhcIn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtTeW1ib2xOb2RlfVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgU3ltYm9sTm9kZShqc29uLm5hbWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGlzVW5pdCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBtYXRoW3RoaXMubmFtZV0gPT09ICd1bmRlZmluZWQnICYmIGlzVmFsdWVsZXNzVW5pdCh0aGlzLm5hbWUpKSB7XG4gICAgICBpc1VuaXQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzeW1ib2wgPSB0b1N5bWJvbCh0aGlzLm5hbWUsIGlzVW5pdCk7XG5cbiAgICBpZiAoc3ltYm9sWzBdID09PSAnXFxcXCcpIHtcbiAgICAgIC8vIG5vIHNwYWNlIG5lZWRlZCBpZiB0aGUgc3ltYm9sIHN0YXJ0cyB3aXRoICdcXCdcbiAgICAgIHJldHVybiBzeW1ib2w7XG4gICAgfSAvLyB0aGUgc3BhY2UgcHJldmVudHMgc3ltYm9scyBmcm9tIGJyZWFraW5nIHN0dWZmIGxpa2UgJ1xcY2RvdCcgaWYgaXQncyB3cml0dGVuIHJpZ2h0IGJlZm9yZSB0aGUgc3ltYm9sXG5cblxuICAgIHJldHVybiAnICcgKyBzeW1ib2w7XG4gIH07XG5cbiAgcmV0dXJuIFN5bWJvbE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHBhcnNlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNQYXJzZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFdmFsdWF0ZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGV2YWx1YXRlRGVwZW5kZW5jaWVzID0ge1xuICBwYXJzZURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUV2YWx1YXRlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FjY2Vzc29yTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQXJyYXlOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBcnJheU5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQmxvY2tOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCbG9ja05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29uZGl0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbnN0YW50Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGdW5jdGlvbk5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEluZGV4Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSW5kZXhOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBPYmplY3ROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNPYmplY3ROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBPcGVyYXRvck5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc09wZXJhdG9yTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNQYXJlbnRoZXNpc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJhbmdlTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmFuZ2VOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSZWxhdGlvbmFsTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmVsYXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N5bWJvbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWVyaWNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWVyaWMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGFyc2UgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBwYXJzZURlcGVuZGVuY2llcyA9IHtcbiAgQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzLFxuICBBcnJheU5vZGVEZXBlbmRlbmNpZXMsXG4gIEFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzLFxuICBCbG9ja05vZGVEZXBlbmRlbmNpZXMsXG4gIENvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyxcbiAgQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzLFxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzLFxuICBGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMsXG4gIEluZGV4Tm9kZURlcGVuZGVuY2llcyxcbiAgT2JqZWN0Tm9kZURlcGVuZGVuY2llcyxcbiAgT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzLFxuICBQYXJlbnRoZXNpc05vZGVEZXBlbmRlbmNpZXMsXG4gIFJhbmdlTm9kZURlcGVuZGVuY2llcyxcbiAgUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMsXG4gIFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMsXG4gIG51bWVyaWNEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVQYXJzZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3Vic2V0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJzZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFjY2Vzc29yTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgc3Vic2V0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBY2Nlc3Nvck5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFycmF5Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEFycmF5Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlQXJyYXlOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3Vic2V0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJzZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFzc2lnbm1lbnROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgc3Vic2V0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBc3NpZ25tZW50Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmVzdWx0U2V0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSZXN1bHRTZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUJsb2NrTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEJsb2NrTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgUmVzdWx0U2V0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVCbG9ja05vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZVJlc3VsdFNldCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJlc3VsdFNldERlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlUmVzdWx0U2V0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25kaXRpb25hbE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNvbmRpdGlvbmFsTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uc3RhbnROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDb25zdGFudE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTeW1ib2xOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGdW5jdGlvbk5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZ1bmN0aW9uTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmFuZ2VEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JhbmdlQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHNpemVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NpemUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUluZGV4Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEluZGV4Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgUmFuZ2VEZXBlbmRlbmNpZXMsXG4gIHNpemVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUluZGV4Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlUmFuZ2VDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJhbmdlRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVSYW5nZUNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVPYmplY3ROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgT2JqZWN0Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlT2JqZWN0Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVPcGVyYXRvck5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVBhcmVudGhlc2lzTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlUGFyZW50aGVzaXNOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVSYW5nZU5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSYW5nZU5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVJhbmdlTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVsYXRpb25hbE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSZWxhdGlvbmFsTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlUmVsYXRpb25hbE5vZGVcbn07IiwiaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnZXZhbHVhdGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAncGFyc2UnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRXZhbHVhdGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBwYXJzZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRXZhbHVhdGUgYW4gZXhwcmVzc2lvbi5cbiAgICpcbiAgICogTm90ZSB0aGUgZXZhbHVhdGluZyBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgbWF5IGludm9sdmUgc2VjdXJpdHkgcmlza3MsXG4gICAqIHNlZSBbaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbF0oaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguZXZhbHVhdGUoZXhwcilcbiAgICogICAgIG1hdGguZXZhbHVhdGUoZXhwciwgc2NvcGUpXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dKVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSwgc2NvcGUpXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCcoMiszKS80JykgICAgICAgICAgICAgICAgLy8gMS4yNVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnc3FydCgzXjIgKyA0XjIpJykgICAgICAgIC8vIDVcbiAgICogICAgIG1hdGguZXZhbHVhdGUoJ3NxcnQoLTQpJykgICAgICAgICAgICAgICAvLyAyaVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShbJ2E9MycsICdiPTQnLCAnYSpiJ10pICAgIC8vIFszLCA0LCAxMl1cbiAgICpcbiAgICogICAgIGxldCBzY29wZSA9IHthOjMsIGI6NH1cbiAgICogICAgIG1hdGguZXZhbHVhdGUoJ2EgKiBiJywgc2NvcGUpICAgICAgICAgICAvLyAxMlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgcGFyc2UsIGNvbXBpbGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IE1hdHJpeH0gZXhwciAgIFRoZSBleHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Njb3BlXSAgICAgICAgICAgICAgICAgICAgU2NvcGUgdG8gcmVhZC93cml0ZSB2YXJpYWJsZXNcbiAgICogQHJldHVybiB7Kn0gVGhlIHJlc3VsdCBvZiB0aGUgZXhwcmVzc2lvblxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZXhwcikge1xuICAgICAgdmFyIHNjb3BlID0ge307XG4gICAgICByZXR1cm4gcGFyc2UoZXhwcikuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICB9LFxuICAgICdzdHJpbmcsIE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ09iamVjdChleHByLCBzY29wZSkge1xuICAgICAgcmV0dXJuIHBhcnNlKGV4cHIpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeChleHByKSB7XG4gICAgICB2YXIgc2NvcGUgPSB7fTtcbiAgICAgIHJldHVybiBkZWVwTWFwKGV4cHIsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW50cnkpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgT2JqZWN0JzogZnVuY3Rpb24gQXJyYXlNYXRyaXhPYmplY3QoZXhwciwgc2NvcGUpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKGV4cHIsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW50cnkpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGludkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSW52LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURpdmlkZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRpdmlkZURlcGVuZGVuY2llcyA9IHtcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgaW52RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGl2aWRlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBhYnNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGV0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaWRlbnRpdHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0lkZW50aXR5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUludiB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGludkRlcGVuZGVuY2llcyA9IHtcbiAgYWJzRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRldERlcGVuZGVuY2llcyxcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBpZGVudGl0eURlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUludlxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbHVwRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNMdXAuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnRyYWN0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkZXREZXBlbmRlbmNpZXMgPSB7XG4gIGx1cERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgc3VidHJhY3REZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEZXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYUNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhYnNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGxhcmdlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJ0cmFjdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTHVwIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbHVwRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgU3BhRGVwZW5kZW5jaWVzLFxuICBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGFic0RlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBsYXJnZXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHN1YnRyYWN0RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlTHVwXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGaWJvbmFjY2lIZWFwQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNwYUNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgU3BhRGVwZW5kZW5jaWVzID0ge1xuICBGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTcGFDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbGFyZ2VyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNMYXJnZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHNtYWxsZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NtYWxsZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMgPSB7XG4gIGxhcmdlckRlcGVuZGVuY2llcyxcbiAgc21hbGxlckRlcGVuZGVuY2llcyxcbiAgY3JlYXRlRmlib25hY2NpSGVhcENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU21hbGxlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHNtYWxsZXJEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTbWFsbGVyXG59OyIsImltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2x1cCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnYWJzJywgJ2FkZFNjYWxhcicsICdkaXZpZGVTY2FsYXInLCAnbXVsdGlwbHlTY2FsYXInLCAnc3VidHJhY3QnLCAnbGFyZ2VyJywgJ2VxdWFsU2NhbGFyJywgJ3VuYXJ5TWludXMnLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4JywgJ1NwYSddO1xuZXhwb3J0IHZhciBjcmVhdGVMdXAgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgYWJzLFxuICAgIGFkZFNjYWxhcixcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgc3VidHJhY3QsXG4gICAgbGFyZ2VyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIHVuYXJ5TWludXMsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4LFxuICAgIFNwYVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBNYXRyaXggTFUgZGVjb21wb3NpdGlvbiB3aXRoIHBhcnRpYWwgcGl2b3RpbmcuIE1hdHJpeCBgQWAgaXMgZGVjb21wb3NlZCBpbiB0d28gbWF0cmljZXMgKGBMYCwgYFVgKSBhbmQgYVxuICAgKiByb3cgcGVybXV0YXRpb24gdmVjdG9yIGBwYCB3aGVyZSBgQVtwLDpdID0gTCAqIFVgXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5sdXAoQSlcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogICAgY29uc3QgbSA9IFtbMiwgMV0sIFsxLCA0XV1cbiAgICogICAgY29uc3QgciA9IG1hdGgubHVwKG0pXG4gICAqICAgIC8vIHIgPSB7XG4gICAqICAgIC8vICAgTDogW1sxLCAwXSwgWzAuNSwgMV1dLFxuICAgKiAgICAvLyAgIFU6IFtbMiwgMV0sIFswLCAzLjVdXSxcbiAgICogICAgLy8gICBQOiBbMCwgMV1cbiAgICogICAgLy8gfVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgc2x1LCBsc29sdmUsIGx1c29sdmUsIHVzb2x2ZVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeCB8IEFycmF5fSBBICAgIEEgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeCBvciBhcnJheSBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBMVVAgZGVjb21wb3NpdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7e0w6IEFycmF5IHwgTWF0cml4LCBVOiBBcnJheSB8IE1hdHJpeCwgUDogQXJyYXkuPG51bWJlcj59fSBUaGUgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXgsIHRoZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeCBhbmQgdGhlIHBlcm11dGF0aW9uIG1hdHJpeC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgRGVuc2VNYXRyaXg6IGZ1bmN0aW9uIERlbnNlTWF0cml4KG0pIHtcbiAgICAgIHJldHVybiBfZGVuc2VMVVAobSk7XG4gICAgfSxcbiAgICBTcGFyc2VNYXRyaXg6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeChtKSB7XG4gICAgICByZXR1cm4gX3NwYXJzZUxVUChtKTtcbiAgICB9LFxuICAgIEFycmF5OiBmdW5jdGlvbiBBcnJheShhKSB7XG4gICAgICAvLyBjcmVhdGUgZGVuc2UgbWF0cml4IGZyb20gYXJyYXlcbiAgICAgIHZhciBtID0gbWF0cml4KGEpOyAvLyBsdXAsIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cblxuICAgICAgdmFyIHIgPSBfZGVuc2VMVVAobSk7IC8vIHJlc3VsdFxuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIEw6IHIuTC52YWx1ZU9mKCksXG4gICAgICAgIFU6IHIuVS52YWx1ZU9mKCksXG4gICAgICAgIHA6IHIucFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9kZW5zZUxVUChtKSB7XG4gICAgLy8gcm93cyAmIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IG0uX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBtLl9zaXplWzFdOyAvLyBtaW5pbXVtIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cywgY29sdW1ucyk7IC8vIG1hdHJpeCBhcnJheSwgY2xvbmUgb3JpZ2luYWwgZGF0YVxuXG4gICAgdmFyIGRhdGEgPSBjbG9uZShtLl9kYXRhKTsgLy8gbCBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgbGRhdGEgPSBbXTtcbiAgICB2YXIgbHNpemUgPSBbcm93cywgbl07IC8vIHUgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIHVkYXRhID0gW107XG4gICAgdmFyIHVzaXplID0gW24sIGNvbHVtbnNdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgazsgLy8gcGVybXV0YXRpb24gdmVjdG9yXG5cbiAgICB2YXIgcCA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgcFtpXSA9IGk7XG4gICAgfSAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gc2tpcCBmaXJzdCBjb2x1bW4gaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAvLyBsb29wIHJvd3NcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIG1pbiBpLGpcbiAgICAgICAgICB2YXIgbWluID0gTWF0aC5taW4oaSwgaik7IC8vIHZbaSwgal1cblxuICAgICAgICAgIHZhciBzID0gMDsgLy8gbG9vcCB1cCB0byBtaW5cblxuICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBtaW47IGsrKykge1xuICAgICAgICAgICAgLy8gcyA9IGxbaSwga10gLSBkYXRhW2ssIGpdXG4gICAgICAgICAgICBzID0gYWRkU2NhbGFyKHMsIG11bHRpcGx5U2NhbGFyKGRhdGFbaV1ba10sIGRhdGFba11bal0pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2ldW2pdID0gc3VidHJhY3QoZGF0YVtpXVtqXSwgcyk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gcm93IHdpdGggbGFyZ2VyIHZhbHVlIGluIGN2ZWN0b3IsIHJvdyA+PSBqXG5cblxuICAgICAgdmFyIHBpID0gajtcbiAgICAgIHZhciBwYWJzdiA9IDA7XG4gICAgICB2YXIgdmpqID0gMDsgLy8gbG9vcCByb3dzXG5cbiAgICAgIGZvciAoaSA9IGo7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gZGF0YSBAIGksIGpcbiAgICAgICAgdmFyIHYgPSBkYXRhW2ldW2pdOyAvLyBhYnNvbHV0ZSB2YWx1ZVxuXG4gICAgICAgIHZhciBhYnN2ID0gYWJzKHYpOyAvLyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gcGl2b3RlIHZhbHVlXG5cbiAgICAgICAgaWYgKGxhcmdlcihhYnN2LCBwYWJzdikpIHtcbiAgICAgICAgICAvLyBzdG9yZSByb3dcbiAgICAgICAgICBwaSA9IGk7IC8vIHVwZGF0ZSBtYXggdmFsdWVcblxuICAgICAgICAgIHBhYnN2ID0gYWJzdjsgLy8gdmFsdWUgQCBbaiwgal1cblxuICAgICAgICAgIHZqaiA9IHY7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gc3dhcCByb3dzIChqIDwtPiBwaSlcblxuXG4gICAgICBpZiAoaiAhPT0gcGkpIHtcbiAgICAgICAgLy8gc3dhcCB2YWx1ZXMgaiA8LT4gcGkgaW4gcFxuICAgICAgICBwW2pdID0gW3BbcGldLCBwW3BpXSA9IHBbal1dWzBdOyAvLyBzd2FwIGogPC0+IHBpIGluIGRhdGFcblxuICAgICAgICBEZW5zZU1hdHJpeC5fc3dhcFJvd3MoaiwgcGksIGRhdGEpO1xuICAgICAgfSAvLyBjaGVjayBjb2x1bW4gaXMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgLy8gbG9vcCByb3dzIChsb3dlciB0cmlhbmd1bGFyIG1hdHJpeClcbiAgICAgICAgZm9yIChpID0gaiArIDE7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyB2YWx1ZSBAIGksIGpcbiAgICAgICAgICB2YXIgdmlqID0gZGF0YVtpXVtqXTtcblxuICAgICAgICAgIGlmICghZXF1YWxTY2FsYXIodmlqLCAwKSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGRhdGFcbiAgICAgICAgICAgIGRhdGFbaV1bal0gPSBkaXZpZGVTY2FsYXIoZGF0YVtpXVtqXSwgdmpqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBsb29wIHJvd3NcbiAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSByb3cgaW4gYXJyYXlzXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgICAgLy8gVVxuICAgICAgICAgICAgdWRhdGFbaV0gPSBbXTtcbiAgICAgICAgICB9IC8vIExcblxuXG4gICAgICAgICAgbGRhdGFbaV0gPSBbXTtcbiAgICAgICAgfSAvLyBjaGVjayB3ZSBhcmUgaW4gdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICBpZiAoaSA8IGopIHtcbiAgICAgICAgICAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyBVXG4gICAgICAgICAgICB1ZGF0YVtpXVtqXSA9IGRhdGFbaV1bal07XG4gICAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gZXhpc3RzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAgICAgLy8gTFxuICAgICAgICAgICAgbGRhdGFbaV1bal0gPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGRpYWdvbmFsIHZhbHVlXG5cblxuICAgICAgICBpZiAoaSA9PT0gaikge1xuICAgICAgICAgIC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIFVcbiAgICAgICAgICAgIHVkYXRhW2ldW2pdID0gZGF0YVtpXVtqXTtcbiAgICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBleGlzdHMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgICAgICAvLyBMXG4gICAgICAgICAgICBsZGF0YVtpXVtqXSA9IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgLy8gVVxuICAgICAgICAgIHVkYXRhW2ldW2pdID0gMDtcbiAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gZXhpc3RzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgICAvLyBMXG4gICAgICAgICAgbGRhdGFbaV1bal0gPSBkYXRhW2ldW2pdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBsIG1hdHJpeFxuXG5cbiAgICB2YXIgbCA9IG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBsZGF0YSxcbiAgICAgIHNpemU6IGxzaXplXG4gICAgfSk7IC8vIHUgbWF0cml4XG5cbiAgICB2YXIgdSA9IG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiB1ZGF0YSxcbiAgICAgIHNpemU6IHVzaXplXG4gICAgfSk7IC8vIHAgdmVjdG9yXG5cbiAgICB2YXIgcHYgPSBbXTtcblxuICAgIGZvciAoaSA9IDAsIG4gPSBwLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcHZbcFtpXV0gPSBpO1xuICAgIH0gLy8gcmV0dXJuIG1hdHJpY2VzXG5cblxuICAgIHJldHVybiB7XG4gICAgICBMOiBsLFxuICAgICAgVTogdSxcbiAgICAgIHA6IHB2LFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ0w6ICcgKyB0aGlzLkwudG9TdHJpbmcoKSArICdcXG5VOiAnICsgdGhpcy5VLnRvU3RyaW5nKCkgKyAnXFxuUDogJyArIHRoaXMucDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX3NwYXJzZUxVUChtKSB7XG4gICAgLy8gcm93cyAmIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IG0uX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBtLl9zaXplWzFdOyAvLyBtaW5pbXVtIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cywgY29sdW1ucyk7IC8vIG1hdHJpeCBhcnJheXMgKHdpbGwgbm90IGJlIG1vZGlmaWVkLCB0aGFua3MgdG8gcGVybXV0YXRpb24gdmVjdG9yKVxuXG4gICAgdmFyIHZhbHVlcyA9IG0uX3ZhbHVlcztcbiAgICB2YXIgaW5kZXggPSBtLl9pbmRleDtcbiAgICB2YXIgcHRyID0gbS5fcHRyOyAvLyBsIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBsdmFsdWVzID0gW107XG4gICAgdmFyIGxpbmRleCA9IFtdO1xuICAgIHZhciBscHRyID0gW107XG4gICAgdmFyIGxzaXplID0gW3Jvd3MsIG5dOyAvLyB1IG1hdHJpeCBhcnJheXNcblxuICAgIHZhciB1dmFsdWVzID0gW107XG4gICAgdmFyIHVpbmRleCA9IFtdO1xuICAgIHZhciB1cHRyID0gW107XG4gICAgdmFyIHVzaXplID0gW24sIGNvbHVtbnNdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgazsgLy8gcGVybXV0YXRpb24gdmVjdG9ycywgKGN1cnJlbnQgaW5kZXggLT4gb3JpZ2luYWwgaW5kZXgpIGFuZCAob3JpZ2luYWwgaW5kZXggLT4gY3VycmVudCBpbmRleClcblxuICAgIHZhciBwdkNvID0gW107XG4gICAgdmFyIHB2T2MgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIHB2Q29baV0gPSBpO1xuICAgICAgcHZPY1tpXSA9IGk7XG4gICAgfSAvLyBzd2FwIGluZGljZXMgaW4gcGVybXV0YXRpb24gdmVjdG9ycyAoY29uZGl0aW9uIHggPCB5KSFcblxuXG4gICAgdmFyIHN3YXBJbmRlY2VzID0gZnVuY3Rpb24gc3dhcEluZGVjZXMoeCwgeSkge1xuICAgICAgLy8gZmluZCBwdiBpbmRlY2VzIGdldHRpbmcgZGF0YSBmcm9tIHggYW5kIHlcbiAgICAgIHZhciBreCA9IHB2T2NbeF07XG4gICAgICB2YXIga3kgPSBwdk9jW3ldOyAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yIGN1cnJlbnQgLT4gb3JpZ2luYWxcblxuICAgICAgcHZDb1treF0gPSB5O1xuICAgICAgcHZDb1treV0gPSB4OyAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yIG9yaWdpbmFsIC0+IGN1cnJlbnRcblxuICAgICAgcHZPY1t4XSA9IGt5O1xuICAgICAgcHZPY1t5XSA9IGt4O1xuICAgIH07IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICAgIC8vIHNwYXJzZSBhY2N1bXVsYXRvclxuICAgICAgdmFyIHNwYSA9IG5ldyBTcGEoKTsgLy8gY2hlY2sgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXggaGFzIGEgdmFsdWUgQCBjb2x1bW4galxuXG4gICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgICBscHRyLnB1c2gobHZhbHVlcy5sZW5ndGgpOyAvLyBmaXJzdCB2YWx1ZSBpbiBqIGNvbHVtbiBmb3IgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuICAgICAgICBsdmFsdWVzLnB1c2goMSk7XG4gICAgICAgIGxpbmRleC5wdXNoKGopO1xuICAgICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgICAgdXB0ci5wdXNoKHV2YWx1ZXMubGVuZ3RoKTsgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuXG4gICAgICB2YXIgazAgPSBwdHJbal07XG4gICAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBjb3B5IGNvbHVtbiBqIGludG8gc3BhcnNlIGFjY3VtdWxhdG9yXG5cbiAgICAgIGZvciAoayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGluZGV4W2tdOyAvLyBjb3B5IGNvbHVtbiB2YWx1ZXMgaW50byBzcGFyc2UgYWNjdW11bGF0b3IgKHVzZSBwZXJtdXRhdGlvbiB2ZWN0b3IpXG5cbiAgICAgICAgc3BhLnNldChwdkNvW2ldLCB2YWx1ZXNba10pO1xuICAgICAgfSAvLyBza2lwIGZpcnN0IGNvbHVtbiBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAvLyBsb29wIHJvd3MgaW4gY29sdW1uIGogKGFib3ZlIGRpYWdvbmFsKVxuICAgICAgICBzcGEuZm9yRWFjaCgwLCBqIC0gMSwgZnVuY3Rpb24gKGssIHZraikge1xuICAgICAgICAgIC8vIGxvb3Agcm93cyBpbiBjb2x1bW4gayAoTClcbiAgICAgICAgICBTcGFyc2VNYXRyaXguX2ZvckVhY2hSb3coaywgbHZhbHVlcywgbGluZGV4LCBscHRyLCBmdW5jdGlvbiAoaSwgdmlrKSB7XG4gICAgICAgICAgICAvLyBjaGVjayByb3cgaXMgYmVsb3cga1xuICAgICAgICAgICAgaWYgKGkgPiBrKSB7XG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSBzcGEgdmFsdWVcbiAgICAgICAgICAgICAgc3BhLmFjY3VtdWxhdGUoaSwgdW5hcnlNaW51cyhtdWx0aXBseVNjYWxhcih2aWssIHZraikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIHJvdyB3aXRoIGxhcmdlciB2YWx1ZSBpbiBzcGEsIHJvdyA+PSBqXG5cblxuICAgICAgdmFyIHBpID0gajtcbiAgICAgIHZhciB2amogPSBzcGEuZ2V0KGopO1xuICAgICAgdmFyIHBhYnN2ID0gYWJzKHZqaik7IC8vIGxvb3AgdmFsdWVzIGluIHNwYSAob3JkZXIgYnkgcm93LCBiZWxvdyBkaWFnb25hbClcblxuICAgICAgc3BhLmZvckVhY2goaiArIDEsIHJvd3MgLSAxLCBmdW5jdGlvbiAoeCwgdikge1xuICAgICAgICAvLyBhYnNvbHV0ZSB2YWx1ZVxuICAgICAgICB2YXIgYWJzdiA9IGFicyh2KTsgLy8gdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHBpdm90ZSB2YWx1ZVxuXG4gICAgICAgIGlmIChsYXJnZXIoYWJzdiwgcGFic3YpKSB7XG4gICAgICAgICAgLy8gc3RvcmUgcm93XG4gICAgICAgICAgcGkgPSB4OyAvLyB1cGRhdGUgbWF4IHZhbHVlXG5cbiAgICAgICAgICBwYWJzdiA9IGFic3Y7IC8vIHZhbHVlIEAgW2osIGpdXG5cbiAgICAgICAgICB2amogPSB2O1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gc3dhcCByb3dzIChqIDwtPiBwaSlcblxuICAgICAgaWYgKGogIT09IHBpKSB7XG4gICAgICAgIC8vIHN3YXAgdmFsdWVzIGogPC0+IHBpIGluIExcbiAgICAgICAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyhqLCBwaSwgbHNpemVbMV0sIGx2YWx1ZXMsIGxpbmRleCwgbHB0cik7IC8vIHN3YXAgdmFsdWVzIGogPC0+IHBpIGluIFVcblxuXG4gICAgICAgIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MoaiwgcGksIHVzaXplWzFdLCB1dmFsdWVzLCB1aW5kZXgsIHVwdHIpOyAvLyBzd2FwIHZhbHVlcyBpbiBzcGFcblxuXG4gICAgICAgIHNwYS5zd2FwKGosIHBpKTsgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvciAoc3dhcCB2YWx1ZXMgQCBqLCBwaSlcblxuICAgICAgICBzd2FwSW5kZWNlcyhqLCBwaSk7XG4gICAgICB9IC8vIGxvb3AgdmFsdWVzIGluIHNwYSAob3JkZXIgYnkgcm93KVxuXG5cbiAgICAgIHNwYS5mb3JFYWNoKDAsIHJvd3MgLSAxLCBmdW5jdGlvbiAoeCwgdikge1xuICAgICAgICAvLyBjaGVjayB3ZSBhcmUgYWJvdmUgZGlhZ29uYWxcbiAgICAgICAgaWYgKHggPD0gaikge1xuICAgICAgICAgIC8vIHVwZGF0ZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIHV2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgICB1aW5kZXgucHVzaCh4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgICAgICB2ID0gZGl2aWRlU2NhbGFyKHYsIHZqaik7IC8vIGNoZWNrIHZhbHVlIGlzIG5vbiB6ZXJvXG5cbiAgICAgICAgICBpZiAoIWVxdWFsU2NhbGFyKHYsIDApKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICAgIGx2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgICAgIGxpbmRleC5wdXNoKHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIF9sb29wKCk7XG4gICAgfSAvLyB1cGRhdGUgcHRyc1xuXG5cbiAgICB1cHRyLnB1c2godXZhbHVlcy5sZW5ndGgpO1xuICAgIGxwdHIucHVzaChsdmFsdWVzLmxlbmd0aCk7IC8vIHJldHVybiBtYXRyaWNlc1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIEw6IG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgICB2YWx1ZXM6IGx2YWx1ZXMsXG4gICAgICAgIGluZGV4OiBsaW5kZXgsXG4gICAgICAgIHB0cjogbHB0cixcbiAgICAgICAgc2l6ZTogbHNpemVcbiAgICAgIH0pLFxuICAgICAgVTogbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICAgIHZhbHVlczogdXZhbHVlcyxcbiAgICAgICAgaW5kZXg6IHVpbmRleCxcbiAgICAgICAgcHRyOiB1cHRyLFxuICAgICAgICBzaXplOiB1c2l6ZVxuICAgICAgfSksXG4gICAgICBwOiBwdkNvLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ0w6ICcgKyB0aGlzLkwudG9TdHJpbmcoKSArICdcXG5VOiAnICsgdGhpcy5VLnRvU3RyaW5nKCkgKyAnXFxuUDogJyArIHRoaXMucDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTsiLCJpbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdkZXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ3N1YnRyYWN0JywgJ211bHRpcGx5JywgJ3VuYXJ5TWludXMnLCAnbHVwJ107XG5leHBvcnQgdmFyIGNyZWF0ZURldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBzdWJ0cmFjdCxcbiAgICBtdWx0aXBseSxcbiAgICB1bmFyeU1pbnVzLFxuICAgIGx1cFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdHJpeC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmRldCh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5kZXQoW1sxLCAyXSwgWzMsIDRdXSkgLy8gcmV0dXJucyAtMlxuICAgKlxuICAgKiAgICBjb25zdCBBID0gW1xuICAgKiAgICAgIFstMiwgMiwgM10sXG4gICAqICAgICAgWy0xLCAxLCAzXSxcbiAgICogICAgICBbMiwgMCwgLTFdXG4gICAqICAgIF1cbiAgICogICAgbWF0aC5kZXQoQSkgLy8gcmV0dXJucyA2XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBpbnZcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0geCAgQSBtYXRyaXhcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZGV0ZXJtaW5hbnQgb2YgYHhgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIGFueTogZnVuY3Rpb24gYW55KHgpIHtcbiAgICAgIHJldHVybiBjbG9uZSh4KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIGRldCh4KSB7XG4gICAgICB2YXIgc2l6ZTtcblxuICAgICAgaWYgKGlzTWF0cml4KHgpKSB7XG4gICAgICAgIHNpemUgPSB4LnNpemUoKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgICB4ID0gbWF0cml4KHgpO1xuICAgICAgICBzaXplID0geC5zaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhIHNjYWxhclxuICAgICAgICBzaXplID0gW107XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIC8vIHNjYWxhclxuICAgICAgICAgIHJldHVybiBjbG9uZSh4KTtcblxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gdmVjdG9yXG4gICAgICAgICAgaWYgKHNpemVbMF0gPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZSh4LnZhbHVlT2YoKVswXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICAvLyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICAgICAgICAgIHZhciBjb2xzID0gc2l6ZVsxXTtcblxuICAgICAgICAgICAgaWYgKHJvd3MgPT09IGNvbHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9kZXQoeC5jbG9uZSgpLnZhbHVlT2YoKSwgcm93cywgY29scyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHR3byBkaW1lbnNpb25hbCAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5W119IG1hdHJpeCAgQSBzcXVhcmUsIHR3byBkaW1lbnNpb25hbCBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgICAgIE51bWJlciBvZiByb3dzIG9mIHRoZSBtYXRyaXggKHplcm8tYmFzZWQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzICAgICBOdW1iZXIgb2YgY29sdW1ucyBvZiB0aGUgbWF0cml4ICh6ZXJvLWJhc2VkKVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBkZXRcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX2RldChtYXRyaXgsIHJvd3MsIGNvbHMpIHtcbiAgICBpZiAocm93cyA9PT0gMSkge1xuICAgICAgLy8gdGhpcyBpcyBhIDEgeCAxIG1hdHJpeFxuICAgICAgcmV0dXJuIGNsb25lKG1hdHJpeFswXVswXSk7XG4gICAgfSBlbHNlIGlmIChyb3dzID09PSAyKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMiB4IDIgbWF0cml4XG4gICAgICAvLyB0aGUgZGV0ZXJtaW5hbnQgb2YgW2ExMSxhMTI7YTIxLGEyMl0gaXMgZGV0ID0gYTExKmEyMi1hMjEqYTEyXG4gICAgICByZXR1cm4gc3VidHJhY3QobXVsdGlwbHkobWF0cml4WzBdWzBdLCBtYXRyaXhbMV1bMV0pLCBtdWx0aXBseShtYXRyaXhbMV1bMF0sIG1hdHJpeFswXVsxXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb21wdXRlIHRoZSBMVSBkZWNvbXBvc2l0aW9uXG4gICAgICB2YXIgZGVjb21wID0gbHVwKG1hdHJpeCk7IC8vIFRoZSBkZXRlcm1pbmFudCBpcyB0aGUgcHJvZHVjdCBvZiB0aGUgZGlhZ29uYWwgZW50cmllcyBvZiBVIChhbmQgdGhvc2Ugb2YgTCwgYnV0IHRoZXkgYXJlIGFsbCAxKVxuXG4gICAgICB2YXIgZGV0ID0gZGVjb21wLlVbMF1bMF07XG5cbiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCByb3dzOyBfaSsrKSB7XG4gICAgICAgIGRldCA9IG11bHRpcGx5KGRldCwgZGVjb21wLlVbX2ldW19pXSk7XG4gICAgICB9IC8vIFRoZSBkZXRlcm1pbmFudCB3aWxsIGJlIG11bHRpcGxpZWQgYnkgMSBvciAtMSBkZXBlbmRpbmcgb24gdGhlIHBhcml0eSBvZiB0aGUgcGVybXV0YXRpb24gbWF0cml4LlxuICAgICAgLy8gVGhpcyBjYW4gYmUgZGV0ZXJtaW5lZCBieSBjb3VudGluZyB0aGUgY3ljbGVzLiBUaGlzIGlzIHJvdWdobHkgYSBsaW5lYXIgdGltZSBhbGdvcml0aG0uXG5cblxuICAgICAgdmFyIGV2ZW5DeWNsZXMgPSAwO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdmFyIHZpc2l0ZWQgPSBbXTtcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgd2hpbGUgKHZpc2l0ZWRbaV0pIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA+PSByb3dzKSBicmVhaztcbiAgICAgICAgdmFyIGogPSBpO1xuICAgICAgICB2YXIgY3ljbGVMZW4gPSAwO1xuXG4gICAgICAgIHdoaWxlICghdmlzaXRlZFtkZWNvbXAucFtqXV0pIHtcbiAgICAgICAgICB2aXNpdGVkW2RlY29tcC5wW2pdXSA9IHRydWU7XG4gICAgICAgICAgaiA9IGRlY29tcC5wW2pdO1xuICAgICAgICAgIGN5Y2xlTGVuKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3ljbGVMZW4gJSAyID09PSAwKSB7XG4gICAgICAgICAgZXZlbkN5Y2xlcysrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVuQ3ljbGVzICUgMiA9PT0gMCA/IGRldCA6IHVuYXJ5TWludXMoZGV0KTtcbiAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbnZhciBuYW1lID0gJ2ludic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZGl2aWRlU2NhbGFyJywgJ2FkZFNjYWxhcicsICdtdWx0aXBseScsICd1bmFyeU1pbnVzJywgJ2RldCcsICdpZGVudGl0eScsICdhYnMnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSW52ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBhZGRTY2FsYXIsXG4gICAgbXVsdGlwbHksXG4gICAgdW5hcnlNaW51cyxcbiAgICBkZXQsXG4gICAgaWRlbnRpdHksXG4gICAgYWJzXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGludmVyc2Ugb2YgYSBzcXVhcmUgbWF0cml4LlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmludih4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguaW52KFtbMSwgMl0sIFszLCA0XV0pICAvLyByZXR1cm5zIFtbLTIsIDFdLCBbMS41LCAtMC41XV1cbiAgICogICAgIG1hdGguaW52KDQpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDAuMjVcbiAgICogICAgIDEgLyA0ICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDAuMjVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICBkZXQsIHRyYW5zcG9zZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgICAgTWF0cml4IHRvIGJlIGludmVyc2VkXG4gICAqIEByZXR1cm4ge251bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gVGhlIGludmVyc2Ugb2YgYHhgLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICB2YXIgc2l6ZSA9IGlzTWF0cml4KHgpID8geC5zaXplKCkgOiBhcnJheVNpemUoeCk7XG5cbiAgICAgIHN3aXRjaCAoc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIHZlY3RvclxuICAgICAgICAgIGlmIChzaXplWzBdID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNNYXRyaXgoeCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeChbZGl2aWRlU2NhbGFyKDEsIHgudmFsdWVPZigpWzBdKV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtkaXZpZGVTY2FsYXIoMSwgeFswXSldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgLy8gdHdvIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBzaXplWzFdO1xuXG4gICAgICAgICAgICBpZiAocm93cyA9PT0gY29scykge1xuICAgICAgICAgICAgICBpZiAoaXNNYXRyaXgoeCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0cml4KF9pbnYoeC52YWx1ZU9mKCksIHJvd3MsIGNvbHMpLCB4LnN0b3JhZ2UoKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGFuIEFycmF5XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9pbnYoeCwgcm93cywgY29scyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgdHdvIGRpbWVuc2lvbmFsICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYW55OiBmdW5jdGlvbiBhbnkoeCkge1xuICAgICAgLy8gc2NhbGFyXG4gICAgICByZXR1cm4gZGl2aWRlU2NhbGFyKDEsIHgpOyAvLyBGSVhNRTogY3JlYXRlIGEgQmlnTnVtYmVyIG9uZSB3aGVuIGNvbmZpZ3VyZWQgZm9yIGJpZ251bWJlcnNcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBpbnZlcnNlIG9mIGEgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5W119IG1hdCAgICAgQSBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzICAgICBOdW1iZXIgb2Ygcm93c1xuICAgKiBAcGFyYW0ge251bWJlcn0gY29scyAgICAgTnVtYmVyIG9mIGNvbHVtbnMsIG11c3QgZXF1YWwgcm93c1xuICAgKiBAcmV0dXJuIHtBcnJheVtdfSBpbnYgICAgSW52ZXJzZSBtYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX2ludihtYXQsIHJvd3MsIGNvbHMpIHtcbiAgICB2YXIgciwgcywgZiwgdmFsdWUsIHRlbXA7XG5cbiAgICBpZiAocm93cyA9PT0gMSkge1xuICAgICAgLy8gdGhpcyBpcyBhIDEgeCAxIG1hdHJpeFxuICAgICAgdmFsdWUgPSBtYXRbMF1bMF07XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBpbnZlcnNlLCBkZXRlcm1pbmFudCBpcyB6ZXJvJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbW2RpdmlkZVNjYWxhcigxLCB2YWx1ZSldXTtcbiAgICB9IGVsc2UgaWYgKHJvd3MgPT09IDIpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAyIHggMiBtYXRyaXhcbiAgICAgIHZhciBkID0gZGV0KG1hdCk7XG5cbiAgICAgIGlmIChkID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGludmVyc2UsIGRldGVybWluYW50IGlzIHplcm8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtbZGl2aWRlU2NhbGFyKG1hdFsxXVsxXSwgZCksIGRpdmlkZVNjYWxhcih1bmFyeU1pbnVzKG1hdFswXVsxXSksIGQpXSwgW2RpdmlkZVNjYWxhcih1bmFyeU1pbnVzKG1hdFsxXVswXSksIGQpLCBkaXZpZGVTY2FsYXIobWF0WzBdWzBdLCBkKV1dO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGlzIGlzIGEgbWF0cml4IG9mIDMgeCAzIG9yIGxhcmdlclxuICAgICAgLy8gY2FsY3VsYXRlIGludmVyc2UgdXNpbmcgZ2F1c3Mtam9yZGFuIGVsaW1pbmF0aW9uXG4gICAgICAvLyAgICAgIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dhdXNzaWFuX2VsaW1pbmF0aW9uXG4gICAgICAvLyAgICAgIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vTWF0cml4SW52ZXJzZS5odG1sXG4gICAgICAvLyAgICAgIGh0dHA6Ly9tYXRoLnV3dy5lZHUvfm1jZmFybGF0L2ludmVyc2UuaHRtXG4gICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgbWF0cml4IChvbmx5IHRoZSBhcnJheXMsIG5vdCBvZiB0aGUgZWxlbWVudHMpXG4gICAgICB2YXIgQSA9IG1hdC5jb25jYXQoKTtcblxuICAgICAgZm9yIChyID0gMDsgciA8IHJvd3M7IHIrKykge1xuICAgICAgICBBW3JdID0gQVtyXS5jb25jYXQoKTtcbiAgICAgIH0gLy8gY3JlYXRlIGFuIGlkZW50aXR5IG1hdHJpeCB3aGljaCBpbiB0aGUgZW5kIHdpbGwgY29udGFpbiB0aGVcbiAgICAgIC8vIG1hdHJpeCBpbnZlcnNlXG5cblxuICAgICAgdmFyIEIgPSBpZGVudGl0eShyb3dzKS52YWx1ZU9mKCk7IC8vIGxvb3Agb3ZlciBhbGwgY29sdW1ucywgYW5kIHBlcmZvcm0gcm93IHJlZHVjdGlvbnNcblxuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb2xzOyBjKyspIHtcbiAgICAgICAgLy8gUGl2b3Rpbmc6IFN3YXAgcm93IGMgd2l0aCByb3cgciwgd2hlcmUgcm93IHIgY29udGFpbnMgdGhlIGxhcmdlc3QgZWxlbWVudCBBW3JdW2NdXG4gICAgICAgIHZhciBBQmlnID0gYWJzKEFbY11bY10pO1xuICAgICAgICB2YXIgckJpZyA9IGM7XG4gICAgICAgIHIgPSBjICsgMTtcblxuICAgICAgICB3aGlsZSAociA8IHJvd3MpIHtcbiAgICAgICAgICBpZiAoYWJzKEFbcl1bY10pID4gQUJpZykge1xuICAgICAgICAgICAgQUJpZyA9IGFicyhBW3JdW2NdKTtcbiAgICAgICAgICAgIHJCaWcgPSByO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHIrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBQmlnID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgaW52ZXJzZSwgZGV0ZXJtaW5hbnQgaXMgemVybycpO1xuICAgICAgICB9XG5cbiAgICAgICAgciA9IHJCaWc7XG5cbiAgICAgICAgaWYgKHIgIT09IGMpIHtcbiAgICAgICAgICB0ZW1wID0gQVtjXTtcbiAgICAgICAgICBBW2NdID0gQVtyXTtcbiAgICAgICAgICBBW3JdID0gdGVtcDtcbiAgICAgICAgICB0ZW1wID0gQltjXTtcbiAgICAgICAgICBCW2NdID0gQltyXTtcbiAgICAgICAgICBCW3JdID0gdGVtcDtcbiAgICAgICAgfSAvLyBlbGltaW5hdGUgbm9uLXplcm8gdmFsdWVzIG9uIHRoZSBvdGhlciByb3dzIGF0IGNvbHVtbiBjXG5cblxuICAgICAgICB2YXIgQWMgPSBBW2NdO1xuICAgICAgICB2YXIgQmMgPSBCW2NdO1xuXG4gICAgICAgIGZvciAociA9IDA7IHIgPCByb3dzOyByKyspIHtcbiAgICAgICAgICB2YXIgQXIgPSBBW3JdO1xuICAgICAgICAgIHZhciBCciA9IEJbcl07XG5cbiAgICAgICAgICBpZiAociAhPT0gYykge1xuICAgICAgICAgICAgLy8gZWxpbWluYXRlIHZhbHVlIGF0IGNvbHVtbiBjIGFuZCByb3cgclxuICAgICAgICAgICAgaWYgKEFyW2NdICE9PSAwKSB7XG4gICAgICAgICAgICAgIGYgPSBkaXZpZGVTY2FsYXIodW5hcnlNaW51cyhBcltjXSksIEFjW2NdKTsgLy8gYWRkIChmICogcm93IGMpIHRvIHJvdyByIHRvIGVsaW1pbmF0ZSB0aGUgdmFsdWVcbiAgICAgICAgICAgICAgLy8gYXQgY29sdW1uIGNcblxuICAgICAgICAgICAgICBmb3IgKHMgPSBjOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgICAgQXJbc10gPSBhZGRTY2FsYXIoQXJbc10sIG11bHRpcGx5KGYsIEFjW3NdKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKHMgPSAwOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgICAgQnJbc10gPSBhZGRTY2FsYXIoQnJbc10sIG11bHRpcGx5KGYsIEJjW3NdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplIHZhbHVlIGF0IEFjYyB0byAxLFxuICAgICAgICAgICAgLy8gZGl2aWRlIGVhY2ggdmFsdWUgb24gcm93IHIgd2l0aCB0aGUgdmFsdWUgYXQgQWNjXG4gICAgICAgICAgICBmID0gQWNbY107XG5cbiAgICAgICAgICAgIGZvciAocyA9IGM7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgQXJbc10gPSBkaXZpZGVTY2FsYXIoQXJbc10sIGYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHMgPSAwOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgIEJyW3NdID0gZGl2aWRlU2NhbGFyKEJyW3NdLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEI7XG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2RpdmlkZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnbXVsdGlwbHknLCAnZXF1YWxTY2FsYXInLCAnZGl2aWRlU2NhbGFyJywgJ2ludiddO1xuZXhwb3J0IHZhciBjcmVhdGVEaXZpZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgbXVsdGlwbHksXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIGludlxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBEaXZpZGUgdHdvIHZhbHVlcywgYHggLyB5YC5cbiAgICogVG8gZGl2aWRlIG1hdHJpY2VzLCBgeGAgaXMgbXVsdGlwbGllZCB3aXRoIHRoZSBpbnZlcnNlIG9mIGB5YDogYHggKiBpbnYoeSlgLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZGl2aWRlKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmRpdmlkZSgyLCAzKSAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDAuNjY2NjY2NjY2NjY2NjY2NlxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDUsIDE0KVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KDQsIDEpXG4gICAqICAgIG1hdGguZGl2aWRlKGEsIGIpICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDIgKyAzaVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gW1s3LCAtNl0sIFsxMywgLTRdXVxuICAgKiAgICBjb25zdCBkID0gW1sxLCAyXSwgWzQsIDNdXVxuICAgKiAgICBtYXRoLmRpdmlkZShjLCBkKSAgICAgICAgICAgIC8vIHJldHVybnMgQXJyYXkgW1stOSwgNF0sIFstMTEsIDZdXVxuICAgKlxuICAgKiAgICBjb25zdCBlID0gbWF0aC51bml0KCcxOCBrbScpXG4gICAqICAgIG1hdGguZGl2aWRlKGUsIDQuNSkgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDQga21cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG11bHRpcGx5XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCAgIE51bWVyYXRvclxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geSAgICAgICAgICBEZW5vbWluYXRvclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9ICAgICAgICAgICAgICAgICAgICAgIFF1b3RpZW50LCBgeCAvIHlgXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnZGl2aWRlJywgZXh0ZW5kKHtcbiAgICAvLyB3ZSBleHRlbmQgdGhlIHNpZ25hdHVyZXMgb2YgZGl2aWRlU2NhbGFyIHdpdGggc2lnbmF0dXJlcyBkZWFsaW5nIHdpdGggbWF0cmljZXNcbiAgICAnQXJyYXkgfCBNYXRyaXgsIEFycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXhBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgbWF0cml4IHJpZ2h0IGRpdmlzaW9uIHVzaW5nIHBzZXVkbyBpbnZlcnNlXG4gICAgICAvLyBodHRwczovL3d3dy5tYXRod29ya3MubmwvaGVscC9tYXRsYWIvcmVmL21yZGl2aWRlLmh0bWxcbiAgICAgIC8vIGh0dHBzOi8vd3d3LmdudS5vcmcvc29mdHdhcmUvb2N0YXZlL2RvYy9pbnRlcnByZXRlci9Bcml0aG1ldGljLU9wcy5odG1sXG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjI2MzkzMi9ob3ctZG9lcy1nbnUtb2N0YXZlLW1hdHJpeC1kaXZpc2lvbi13b3JrLWdldHRpbmctdW5leHBlY3RlZC1iZWhhdmlvdXJcbiAgICAgIHJldHVybiBtdWx0aXBseSh4LCBpbnYoeSkpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgZGl2aWRlU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIGRpdmlkZVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBkaXZpZGVTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIGFueUFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBtdWx0aXBseSh4LCBpbnYoeSkpO1xuICAgIH1cbiAgfSwgZGl2aWRlU2NhbGFyLnNpZ25hdHVyZXMpKTtcbn0pOyIsImZ1bmN0aW9uIEUgKCkge1xuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcbn1cblxuRS5wcm90b3R5cGUgPSB7XG4gIG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG5cbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XG4gICAgICBmbjogY2FsbGJhY2ssXG4gICAgICBjdHg6IGN0eFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcbiAgfSxcblxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcblxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFO1xubW9kdWxlLmV4cG9ydHMuVGlueUVtaXR0ZXIgPSBFO1xuIiwiXG5cbmltcG9ydCB7VmVjdG9yMywgTWF0aFV0aWxzfSBmcm9tICcuL21hdGgtdXRpbHMnXG5cbmNvbnN0IHNjcmF0Y2hWZWN0b3IzID0gbmV3IFZlY3RvcjNcblxuZXhwb3J0IGNsYXNzIFNwaGVyaWNhbENvb3JkaW5hdGUge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBob3Jpem9udGFsUmFkaWFuczpudW1iZXIgPSAwLFxuICAgICAgICBwdWJsaWMgdmVydGljYWxSYWRpYW5zOm51bWJlciA9IDAsXG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZTpudW1iZXIgPSAwXG4gICAgKXt9XG5cbiAgICBnZXQgaG9yaXpvbnRhbERlZ3JlZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvcml6b250YWxSYWRpYW5zICogTWF0aFV0aWxzLlJBRDJERUdcbiAgICB9XG5cbiAgICBzZXQgaG9yaXpvbnRhbERlZ3JlZXMoaDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsUmFkaWFucyA9IGggKiBNYXRoVXRpbHMuREVHMlJBRFxuICAgIH1cblxuICAgIGdldCB2ZXJ0aWNhbERlZ3JlZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2FsUmFkaWFucyAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgfVxuXG4gICAgc2V0IHZlcnRpY2FsRGVncmVlcyhoOm51bWJlcikge1xuICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaWFucyA9IGggKiBNYXRoVXRpbHMuREVHMlJBRFxuICAgIH1cblxuICAgIHNldFdpdGhSYWRpYW5zKGhvcml6b250YWw6bnVtYmVyLCB2ZXJ0aWNhbDpudW1iZXIsIGRpc3RhbmNlOm51bWJlcikge1xuICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpYW5zID0gaG9yaXpvbnRhbFxuICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaWFucyA9IHZlcnRpY2FsXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHNldFdpdGhEZWdyZWVzKGhvcml6b250YWw6bnVtYmVyLCB2ZXJ0aWNhbDpudW1iZXIsIGRpc3RhbmNlOm51bWJlcikge1xuICAgICAgICB0aGlzLmhvcml6b250YWxEZWdyZWVzID0gaG9yaXpvbnRhbFxuICAgICAgICB0aGlzLnZlcnRpY2FsRGVncmVlcyA9IHZlcnRpY2FsXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGZyb21DYXJ0ZXNpYW5EaXJlY3Rpb24oY2FydGVzaWFuOiBWZWN0b3IzKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHNjcmF0Y2hWZWN0b3IzLmNvcHkoY2FydGVzaWFuKS5ub3JtYWxpemUoKVxuICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaWFucyA9IE1hdGguYXNpbihkaXJlY3Rpb24ueSkgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpYW5zID0gTWF0aC5hdGFuMihkaXJlY3Rpb24ueCwgLWRpcmVjdGlvbi56KSAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSAwXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZnJvbUNhcnRlc2lhblBvc2l0aW9uKGNhcnRlc2lhbjogVmVjdG9yMykge1xuICAgICAgICB0aGlzLmZyb21DYXJ0ZXNpYW5EaXJlY3Rpb24oY2FydGVzaWFuKVxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gY2FydGVzaWFuLmxlbmd0aCgpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgdG9DYXJ0ZXNpYW5EaXJlY3Rpb24ob3V0OiBWZWN0b3IzKSB7IFxuICAgICAgICBjb25zdCB2aXN1YWxFbGV2YXRpb25SYWRpYW5zID0gdGhpcy52ZXJ0aWNhbFJhZGlhbnNcbiAgICAgICAgY29uc3QgdmlzdWFsQXppbXV0aFJhZGlhbnMgPSAtIE1hdGguUEkgLSB0aGlzLmhvcml6b250YWxSYWRpYW5zXG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLnNpbih2aXN1YWxFbGV2YXRpb25SYWRpYW5zKVxuICAgICAgICBjb25zdCB4ID0gTWF0aC5jb3ModmlzdWFsRWxldmF0aW9uUmFkaWFucykgKiBNYXRoLnNpbih2aXN1YWxBemltdXRoUmFkaWFucylcbiAgICAgICAgY29uc3QgeiA9IC0gTWF0aC5jb3ModmlzdWFsRWxldmF0aW9uUmFkaWFucykgKiBNYXRoLmNvcyh2aXN1YWxBemltdXRoUmFkaWFucylcbiAgICAgICAgcmV0dXJuIG91dC5zZXQoeCwgeSwgeikubm9ybWFsaXplKClcbiAgICB9XG5cbiAgICB0b0NhcnRlc2lhblBvc2l0aW9uKG91dDogVmVjdG9yMykge1xuICAgICAgICByZXR1cm4gdGhpcy50b0NhcnRlc2lhbkRpcmVjdGlvbihvdXQpLm11bHRpcGx5U2NhbGFyKHRoaXMuZGlzdGFuY2UpXG4gICAgfVxuXG59IiwiZnVuY3Rpb24gaWQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuaWQgPyBgIyR7ZWxlbWVudC5pZH1gIDogJydcbn1cblxuZnVuY3Rpb24gY2xhc3NlcyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBsZXQgY2xhc3NTZWxlY3RvciA9ICcnXG4gIGNvbnN0IGNsYXNzTGlzdCA9IGVsZW1lbnQuY2xhc3NMaXN0XG4gIGZvciAoY29uc3QgYyBvZiBjbGFzc0xpc3QpIHtcbiAgICBjbGFzc1NlbGVjdG9yICs9ICcuJyArIGNcbiAgfVxuICByZXR1cm4gY2xhc3NTZWxlY3RvclxufVxuXG5mdW5jdGlvbiBudGhDaGlsZChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBsZXQgY2hpbGROdW1iZXIgPSAwXG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBlbGVtZW50LnBhcmVudE5vZGUhLmNoaWxkTm9kZXNcbiAgZm9yIChjb25zdCBub2RlIG9mIGNoaWxkTm9kZXMpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpICsrY2hpbGROdW1iZXJcbiAgICBpZiAobm9kZSA9PT0gZWxlbWVudCkgcmV0dXJuIGA6bnRoLWNoaWxkKCcke2NoaWxkTnVtYmVyfScpYFxuICB9XG59XG5cbmZ1bmN0aW9uIGF0dHJpYnV0ZXMoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGF0dHJpYnV0ZXMgPSAnJ1xuICBmb3IgKGNvbnN0IGF0dHIgb2YgZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgYXR0cmlidXRlcyArPSBgWyR7YXR0ci5uYW1lfT1cIiR7YXR0ci52YWx1ZX1cIl1gXG4gIH1cbiAgcmV0dXJuIGF0dHJpYnV0ZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGgoZWw6IEhUTUxFbGVtZW50LCByb290Tm9kZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgOiBzdHJpbmcge1xuICBjb25zdCBzZWxlY3RvciA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSArIGlkKGVsKSArIGNsYXNzZXMoZWwpICsgYXR0cmlidXRlcyhlbCkgKyBudGhDaGlsZChlbClcbiAgY29uc3QgaGFzUGFyZW50ID0gZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlICE9PSByb290Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSBhcyBhbnkpLnRhZ05hbWVcbiAgcmV0dXJuIGhhc1BhcmVudCA/IHBhdGgoZWwucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCwgcm9vdE5vZGUpICsgJyA+ICcgKyBzZWxlY3RvciA6IHNlbGVjdG9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKGVsOiBIVE1MRWxlbWVudCkge1xuICBjb25zdCBjc3NQYXRoID0gcGF0aChlbClcbiAgY29uc3QgdHlwZSA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS50eXBlXG4gIGNvbnN0IGNoZWNrZWQgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZFxuICBjb25zdCB2YWx1ZSA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxuICBjb25zdCB0ZXh0Q29udGVudCA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS50ZXh0Q29udGVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VDaGlsZEVsZW1lbnRzKFxuICBub2RlOiBOb2RlLFxuICBlYWNoOiAobm9kZTogRWxlbWVudCwgbGV2ZWw6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgYmluZD86IGFueSxcbiAgbGV2ZWwgPSAwXG4pIHtcbiAgbGV2ZWwrK1xuICBmb3IgKGxldCBjaGlsZDogTm9kZSB8IG51bGwgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgY29uc3QgZWwgPSBjaGlsZCBhcyBFbGVtZW50XG4gICAgICBpZiAoZWFjaC5jYWxsKGJpbmQsIGVsLCBsZXZlbCkpIHtcbiAgICAgICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGVsLCBlYWNoLCBiaW5kLCBsZXZlbClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENTU1J1bGUoc2hlZXQ6YW55LCBzZWxlY3RvcjpzdHJpbmcsIHJ1bGVzOnN0cmluZywgaW5kZXg6bnVtYmVyKSA6IHZvaWQge1xuICBpZiAoJ2luc2VydFJ1bGUnIGluIHNoZWV0KSB7XG4gICAgc2hlZXQuaW5zZXJ0UnVsZShzZWxlY3RvciArICd7JyArIHJ1bGVzICsgJ30nLCBpbmRleClcbiAgfSBlbHNlIGlmICgnYWRkUnVsZScgaW4gc2hlZXQpIHtcbiAgICBzaGVldC5hZGRSdWxlKHNlbGVjdG9yLCBydWxlcywgaW5kZXgpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvdW5kcyB7XG4gIGxlZnQgPSAwXG4gIHRvcCA9IDBcbiAgd2lkdGggPSAwXG4gIGhlaWdodCA9IDBcbiAgY29weShyZWN0OiBCb3VuZHMpIHtcbiAgICB0aGlzLnRvcCA9IHJlY3QudG9wXG4gICAgdGhpcy5sZWZ0ID0gcmVjdC5sZWZ0XG4gICAgdGhpcy53aWR0aCA9IHJlY3Qud2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IHJlY3QuaGVpZ2h0XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRnZXMge1xuICBsZWZ0ID0gMFxuICB0b3AgPSAwXG4gIHJpZ2h0ID0gMFxuICBib3R0b20gPSAwXG4gIGNvcHkocmVjdDogRWRnZXMpIHtcbiAgICB0aGlzLnRvcCA9IHJlY3QudG9wXG4gICAgdGhpcy5sZWZ0ID0gcmVjdC5sZWZ0XG4gICAgdGhpcy5yaWdodCA9IHJlY3QucmlnaHRcbiAgICB0aGlzLmJvdHRvbSA9IHJlY3QuYm90dG9tXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm91bmRzKFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBib3VuZHM6IEJvdW5kcyA9IG5ldyBCb3VuZHMoKSxcbiAgcmVmZXJlbmNlRWxlbWVudD86IEVsZW1lbnRcbikge1xuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQhXG4gIGNvbnN0IGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudFxuICBjb25zdCBib2R5ID0gZG9jLmJvZHlcblxuICBpZiAoZWxlbWVudCA9PT0gZG9jRWwpIHtcbiAgICByZXR1cm4gZ2V0RG9jdW1lbnRCb3VuZHMoZG9jLCBib3VuZHMpXG4gIH1cblxuICBpZiAocmVmZXJlbmNlRWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgIGJvdW5kcy5sZWZ0ID0gMFxuICAgIGJvdW5kcy50b3AgPSAwXG4gICAgYm91bmRzLndpZHRoID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldFdpZHRoXG4gICAgYm91bmRzLmhlaWdodCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRIZWlnaHRcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGRlZmF1bHRWaWV3ID0gZWxlbWVudC5vd25lckRvY3VtZW50IS5kZWZhdWx0VmlldyFcbiAgbGV0IGVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50XG5cbiAgbGV0IGNvbXB1dGVkU3R5bGVcbiAgbGV0IG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudCBhcyBIVE1MRWxlbWVudFxuICBsZXQgcHJldkNvbXB1dGVkU3R5bGUgPSBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVxuICBsZXQgdG9wID0gZWwub2Zmc2V0VG9wXG4gIGxldCBsZWZ0ID0gZWwub2Zmc2V0TGVmdFxuXG4gIGlmIChcbiAgICBvZmZzZXRQYXJlbnQgJiZcbiAgICByZWZlcmVuY2VFbGVtZW50ICYmXG4gICAgb2Zmc2V0UGFyZW50LmNvbnRhaW5zKHJlZmVyZW5jZUVsZW1lbnQpICYmXG4gICAgb2Zmc2V0UGFyZW50ICE9PSByZWZlcmVuY2VFbGVtZW50XG4gICkge1xuICAgIGdldEJvdW5kcyhyZWZlcmVuY2VFbGVtZW50LCBib3VuZHMsIG9mZnNldFBhcmVudClcbiAgICBsZWZ0IC09IGJvdW5kcy5sZWZ0XG4gICAgdG9wIC09IGJvdW5kcy50b3BcbiAgfVxuXG4gIHdoaWxlIChcbiAgICAoZWwgPSBlbC5wYXJlbnRFbGVtZW50KSAmJlxuICAgIGVsICE9PSBib2R5ICYmXG4gICAgZWwgIT09IGRvY0VsICYmXG4gICAgZWwgIT09IHJlZmVyZW5jZUVsZW1lbnRcbiAgKSB7XG4gICAgaWYgKHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGNvbXB1dGVkU3R5bGUgPSBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVxuICAgIHRvcCAtPSBlbC5zY3JvbGxUb3BcbiAgICBsZWZ0IC09IGVsLnNjcm9sbExlZnRcblxuICAgIGlmIChlbCA9PT0gb2Zmc2V0UGFyZW50KSB7XG4gICAgICB0b3AgKz0gZWwub2Zmc2V0VG9wXG4gICAgICBsZWZ0ICs9IGVsLm9mZnNldExlZnRcbiAgICAgIHRvcCArPSBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDBcbiAgICAgIGxlZnQgKz0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmJvcmRlckxlZnRXaWR0aCkgfHwgMFxuICAgICAgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50IGFzIEhUTUxFbGVtZW50XG4gICAgfVxuXG4gICAgcHJldkNvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlXG4gIH1cblxuICAvLyBpZiAocHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdyZWxhdGl2ZScgfHwgcHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gIC8vICAgZ2V0RG9jdW1lbnRCb3VuZHMoZG9jLCBib3VuZHMpXG4gIC8vICAgdG9wICs9IGJvdW5kcy50b3BcbiAgLy8gICBsZWZ0ICs9IGJvdW5kcy5sZWZ0XG4gIC8vIH1cblxuICBpZiAocHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICB0b3AgKz0gTWF0aC5tYXgoZG9jRWwuc2Nyb2xsVG9wLCBib2R5LnNjcm9sbFRvcClcbiAgICBsZWZ0ICs9IE1hdGgubWF4KGRvY0VsLnNjcm9sbExlZnQsIGJvZHkuc2Nyb2xsTGVmdClcbiAgfVxuXG4gIC8vIGxldCBlbCA9IGVsZW1lbnRcbiAgLy8gbGV0IGxlZnQgPSBlbC5vZmZzZXRMZWZ0XG4gIC8vIGxldCB0b3AgPSBlbC5vZmZzZXRUb3BcbiAgLy8gbGV0IG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudFxuICAvLyB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT09IE5vZGUuRE9DVU1FTlRfTk9ERSkge1xuICAvLyAgIGxlZnQgLT0gZWwuc2Nyb2xsTGVmdFxuICAvLyAgIHRvcCAtPSBlbC5zY3JvbGxUb3BcbiAgLy8gICBpZiAoZWwgPT09IG9mZnNldFBhcmVudCkge1xuICAvLyAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClcbiAgLy8gICAgIGxlZnQgKz0gZWwub2Zmc2V0TGVmdCArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyTGVmdFdpZHRoISkgfHwgMFxuICAvLyAgICAgdG9wICs9IGVsLm9mZnNldFRvcCArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGghKSB8fCAwXG4gIC8vICAgICBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnRcbiAgLy8gICB9XG4gIC8vICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQgYXMgYW55XG4gIC8vIH1cblxuICBib3VuZHMubGVmdCA9IGxlZnRcbiAgYm91bmRzLnRvcCA9IHRvcFxuICBib3VuZHMud2lkdGggPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGhcbiAgYm91bmRzLmhlaWdodCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRIZWlnaHRcbiAgcmV0dXJuIGJvdW5kc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFyZ2luKGVsZW1lbnQ6IEVsZW1lbnQsIG1hcmdpbjogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBtYXJnaW4ubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luTGVmdCkgfHwgMFxuICBtYXJnaW4ucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblJpZ2h0KSB8fCAwXG4gIG1hcmdpbi50b3AgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblRvcCkgfHwgMFxuICBtYXJnaW4uYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pIHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvcmRlcihlbGVtZW50OiBFbGVtZW50LCBib3JkZXI6IEVkZ2VzKSB7XG4gIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgYm9yZGVyLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgfHwgMFxuICBib3JkZXIucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpIHx8IDBcbiAgYm9yZGVyLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDBcbiAgYm9yZGVyLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpIHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZGRpbmcoZWxlbWVudDogRWxlbWVudCwgcGFkZGluZzogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBwYWRkaW5nLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdMZWZ0KSB8fCAwXG4gIHBhZGRpbmcucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCkgfHwgMFxuICBwYWRkaW5nLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1RvcCkgfHwgMFxuICBwYWRkaW5nLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkgfHwgMFxufVxuXG4vKlxuICogT24gc29tZSBtb2JpbGUgYnJvd3NlcnMsIHRoZSB2YWx1ZSByZXBvcnRlZCBieSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAqIGlzIG5vdCB0aGUgdHJ1ZSB2aWV3cG9ydCBoZWlnaHQuIFRoaXMgbWV0aG9kIHJldHVybnNcbiAqIHRoZSBhY3R1YWwgdmlld3BvcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydEJvdW5kcyhib3VuZHM6IEJvdW5kcykge1xuICBpZiAoIXZpZXdwb3J0VGVzdGVyLnBhcmVudE5vZGUpIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmQodmlld3BvcnRUZXN0ZXIpXG4gIGJvdW5kcy5sZWZ0ID0gcGFnZVhPZmZzZXRcbiAgYm91bmRzLnRvcCA9IHBhZ2VZT2Zmc2V0XG4gIGJvdW5kcy53aWR0aCA9IHZpZXdwb3J0VGVzdGVyLm9mZnNldFdpZHRoXG4gIGJvdW5kcy5oZWlnaHQgPSB2aWV3cG9ydFRlc3Rlci5vZmZzZXRIZWlnaHRcbiAgcmV0dXJuIGJvdW5kc1xufVxuY29uc3Qgdmlld3BvcnRUZXN0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxudmlld3BvcnRUZXN0ZXIuaWQgPSAnVklFV1BPUlQnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLndpZHRoID0gJzEwMHZ3J1xudmlld3BvcnRUZXN0ZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudEJvdW5kcyhkb2N1bWVudDogRG9jdW1lbnQsIGJvdW5kczogQm91bmRzKSB7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keVxuICBjb25zdCBkb2N1bWVudEVsZW1lbnRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnRFbGVtZW50KVxuICBjb25zdCBib2R5U3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpXG4gIGJvdW5kcy50b3AgPVxuICAgIGJvZHkub2Zmc2V0VG9wICsgcGFyc2VGbG9hdChkb2N1bWVudEVsZW1lbnRTdHlsZS5tYXJnaW5Ub3AgYXMgJycpIHx8XG4gICAgMCArIHBhcnNlRmxvYXQoYm9keVN0eWxlLm1hcmdpblRvcCBhcyAnJykgfHxcbiAgICAwXG4gIGJvdW5kcy5sZWZ0ID1cbiAgICBib2R5Lm9mZnNldExlZnQgKyBwYXJzZUZsb2F0KGRvY3VtZW50RWxlbWVudFN0eWxlLm1hcmdpbkxlZnQgYXMgJycpIHx8XG4gICAgMCArIHBhcnNlRmxvYXQoYm9keVN0eWxlLm1hcmdpbkxlZnQgYXMgJycpIHx8XG4gICAgMFxuICBib3VuZHMud2lkdGggPSBNYXRoLm1heChcbiAgICBNYXRoLm1heChib2R5LnNjcm9sbFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgpLFxuICAgIE1hdGgubWF4KGJvZHkub2Zmc2V0V2lkdGgsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCksXG4gICAgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICApXG4gIGJvdW5kcy5oZWlnaHQgPSBNYXRoLm1heChcbiAgICBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCksXG4gICAgTWF0aC5tYXgoYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLFxuICAgIE1hdGgubWF4KGJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KVxuICApXG4gIHJldHVybiBib3VuZHNcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gRE9NKGh0bWw6c3RyaW5nKSB7XG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB3cmFwcGVyLmlubmVySFRNTCA9IGh0bWxcbiAgY29uc3QgZWwgPSB3cmFwcGVyLmZpcnN0RWxlbWVudENoaWxkIVxuICB3cmFwcGVyLnJlbW92ZUNoaWxkKGVsKVxuICByZXR1cm4gZWxcbn0iLCIoZnVuY3Rpb24obCl7ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBrKGEsYyl7YT12b2lkIDA9PT1hP1widXRmLThcIjphO2M9dm9pZCAwPT09Yz97ZmF0YWw6ITF9OmM7aWYoLTE9PT1yLmluZGV4T2YoYS50b0xvd2VyQ2FzZSgpKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogVGhlIGVuY29kaW5nIGxhYmVsIHByb3ZpZGVkICgnXCIrYStcIicpIGlzIGludmFsaWQuXCIpO2lmKGMuZmF0YWwpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdUZXh0RGVjb2Rlcic6IHRoZSAnZmF0YWwnIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC5cIik7fWZ1bmN0aW9uIHQoYSl7cmV0dXJuIEJ1ZmZlci5mcm9tKGEuYnVmZmVyLGEuYnl0ZU9mZnNldCxhLmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwidXRmLThcIil9ZnVuY3Rpb24gdShhKXt2YXIgYz1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFthXSx7dHlwZTpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSkpO1xudHJ5e3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtmLm9wZW4oXCJHRVRcIixjLCExKTtmLnNlbmQoKTtyZXR1cm4gZi5yZXNwb25zZVRleHR9Y2F0Y2goZSl7cmV0dXJuIHEoYSl9ZmluYWxseXtVUkwucmV2b2tlT2JqZWN0VVJMKGMpfX1mdW5jdGlvbiBxKGEpe2Zvcih2YXIgYz0wLGY9TWF0aC5taW4oNjU1MzYsYS5sZW5ndGgrMSksZT1uZXcgVWludDE2QXJyYXkoZiksaD1bXSxkPTA7Oyl7dmFyIGI9YzxhLmxlbmd0aDtpZighYnx8ZD49Zi0xKXtoLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUuc3ViYXJyYXkoMCxkKSkpO2lmKCFiKXJldHVybiBoLmpvaW4oXCJcIik7YT1hLnN1YmFycmF5KGMpO2Q9Yz0wfWI9YVtjKytdO2lmKDA9PT0oYiYxMjgpKWVbZCsrXT1iO2Vsc2UgaWYoMTkyPT09KGImMjI0KSl7dmFyIGc9YVtjKytdJjYzO2VbZCsrXT0oYiYzMSk8PDZ8Z31lbHNlIGlmKDIyND09PShiJjI0MCkpe2c9YVtjKytdJjYzO3ZhciBuPWFbYysrXSY2MztlW2QrK109XG4oYiYzMSk8PDEyfGc8PDZ8bn1lbHNlIGlmKDI0MD09PShiJjI0OCkpe2c9YVtjKytdJjYzO249YVtjKytdJjYzO3ZhciB2PWFbYysrXSY2MztiPShiJjcpPDwxOHxnPDwxMnxuPDw2fHY7NjU1MzU8YiYmKGItPTY1NTM2LGVbZCsrXT1iPj4+MTAmMTAyM3w1NTI5NixiPTU2MzIwfGImMTAyMyk7ZVtkKytdPWJ9fX1pZihsLlRleHRFbmNvZGVyJiZsLlRleHREZWNvZGVyKXJldHVybiExO3ZhciByPVtcInV0Zi04XCIsXCJ1dGY4XCIsXCJ1bmljb2RlLTEtMS11dGYtOFwiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobS5wcm90b3R5cGUsXCJlbmNvZGluZ1wiLHt2YWx1ZTpcInV0Zi04XCJ9KTttLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtjPXZvaWQgMD09PWM/e3N0cmVhbTohMX06YztpZihjLnN0cmVhbSl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBlbmNvZGU6IHRoZSAnc3RyZWFtJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuXCIpO2M9MDtmb3IodmFyIGY9YS5sZW5ndGgsZT0wLGg9TWF0aC5tYXgoMzIsXG5mKyhmPj4+MSkrNyksZD1uZXcgVWludDhBcnJheShoPj4+Mzw8Myk7YzxmOyl7dmFyIGI9YS5jaGFyQ29kZUF0KGMrKyk7aWYoNTUyOTY8PWImJjU2MzE5Pj1iKXtpZihjPGYpe3ZhciBnPWEuY2hhckNvZGVBdChjKTs1NjMyMD09PShnJjY0NTEyKSYmKCsrYyxiPSgoYiYxMDIzKTw8MTApKyhnJjEwMjMpKzY1NTM2KX1pZig1NTI5Njw9YiYmNTYzMTk+PWIpY29udGludWV9ZSs0PmQubGVuZ3RoJiYoaCs9OCxoKj0xK2MvYS5sZW5ndGgqMixoPWg+Pj4zPDwzLGc9bmV3IFVpbnQ4QXJyYXkoaCksZy5zZXQoZCksZD1nKTtpZigwPT09KGImNDI5NDk2NzE2OCkpZFtlKytdPWI7ZWxzZXtpZigwPT09KGImNDI5NDk2NTI0OCkpZFtlKytdPWI+Pj42JjMxfDE5MjtlbHNlIGlmKDA9PT0oYiY0Mjk0OTAxNzYwKSlkW2UrK109Yj4+PjEyJjE1fDIyNCxkW2UrK109Yj4+PjYmNjN8MTI4O2Vsc2UgaWYoMD09PShiJjQyOTI4NzAxNDQpKWRbZSsrXT1iPj4+MTgmN3wyNDAsZFtlKytdPWI+Pj4xMiZcbjYzfDEyOCxkW2UrK109Yj4+PjYmNjN8MTI4O2Vsc2UgY29udGludWU7ZFtlKytdPWImNjN8MTI4fX1yZXR1cm4gZC5zbGljZT9kLnNsaWNlKDAsZSk6ZC5zdWJhcnJheSgwLGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJlbmNvZGluZ1wiLHt2YWx1ZTpcInV0Zi04XCJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJmYXRhbFwiLHt2YWx1ZTohMX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImlnbm9yZUJPTVwiLHt2YWx1ZTohMX0pO3ZhciBwPXE7XCJmdW5jdGlvblwiPT09dHlwZW9mIEJ1ZmZlciYmQnVmZmVyLmZyb20/cD10OlwiZnVuY3Rpb25cIj09PXR5cGVvZiBCbG9iJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgVVJMJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmKHA9dSk7ay5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYyl7Yz12b2lkIDA9PT1jP3tzdHJlYW06ITF9OmM7aWYoYy5zdHJlYW0pdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZGVjb2RlOiB0aGUgJ3N0cmVhbScgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLlwiKTtcbmE9YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/YTphLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGEuYnVmZmVyKTpuZXcgVWludDhBcnJheShhKTtyZXR1cm4gcChhKX07bC5UZXh0RW5jb2Rlcj1tO2wuVGV4dERlY29kZXI9a30pKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpcyk7XG4iLCIvKipcbiAqIEEgZG91Ymx5IGxpbmtlZCBsaXN0LWJhc2VkIExlYXN0IFJlY2VudGx5IFVzZWQgKExSVSkgY2FjaGUuIFdpbGwga2VlcCBtb3N0XG4gKiByZWNlbnRseSB1c2VkIGl0ZW1zIHdoaWxlIGRpc2NhcmRpbmcgbGVhc3QgcmVjZW50bHkgdXNlZCBpdGVtcyB3aGVuIGl0cyBsaW1pdFxuICogaXMgcmVhY2hlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQuIENvcHlyaWdodCAoYykgMjAxMCBSYXNtdXMgQW5kZXJzc29uIDxodHRwOi8vaHVuY2guc2UvPlxuICogU2VlIFJFQURNRS5tZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBJbGx1c3RyYXRpb24gb2YgdGhlIGRlc2lnbjpcbiAqXG4gKiAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeVxuICogICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fXG4gKiAgICAgIHwgaGVhZCB8Lm5ld2VyID0+IHwgICAgICB8Lm5ld2VyID0+IHwgICAgICB8Lm5ld2VyID0+IHwgdGFpbCB8XG4gKiAgICAgIHwgIEEgICB8ICAgICAgICAgIHwgIEIgICB8ICAgICAgICAgIHwgIEMgICB8ICAgICAgICAgIHwgIEQgICB8XG4gKiAgICAgIHxfX19fX198IDw9IG9sZGVyLnxfX19fX198IDw9IG9sZGVyLnxfX19fX198IDw9IG9sZGVyLnxfX19fX198XG4gKlxuICogIHJlbW92ZWQgIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICBhZGRlZFxuICovXG4oZnVuY3Rpb24oZyxmKXtcbiAgY29uc3QgZSA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnID8gZXhwb3J0cyA6IHR5cGVvZiBnID09ICdvYmplY3QnID8gZyA6IHt9O1xuICBmKGUpO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgZGVmaW5lKCdscnUnLCBlKTsgfVxufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXG5jb25zdCBORVdFUiA9IFN5bWJvbCgnbmV3ZXInKTtcbmNvbnN0IE9MREVSID0gU3ltYm9sKCdvbGRlcicpO1xuXG5mdW5jdGlvbiBMUlVNYXAobGltaXQsIGVudHJpZXMpIHtcbiAgaWYgKHR5cGVvZiBsaW1pdCAhPT0gJ251bWJlcicpIHtcbiAgICAvLyBjYWxsZWQgYXMgKGVudHJpZXMpXG4gICAgZW50cmllcyA9IGxpbWl0O1xuICAgIGxpbWl0ID0gMDtcbiAgfVxuXG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMubGltaXQgPSBsaW1pdDtcbiAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fa2V5bWFwID0gbmV3IE1hcCgpO1xuXG4gIGlmIChlbnRyaWVzKSB7XG4gICAgdGhpcy5hc3NpZ24oZW50cmllcyk7XG4gICAgaWYgKGxpbWl0IDwgMSkge1xuICAgICAgdGhpcy5saW1pdCA9IHRoaXMuc2l6ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5MUlVNYXAgPSBMUlVNYXA7XG5cbmZ1bmN0aW9uIEVudHJ5KGtleSwgdmFsdWUpIHtcbiAgdGhpcy5rZXkgPSBrZXk7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpc1tORVdFUl0gPSB1bmRlZmluZWQ7XG4gIHRoaXNbT0xERVJdID0gdW5kZWZpbmVkO1xufVxuXG5cbkxSVU1hcC5wcm90b3R5cGUuX21hcmtFbnRyeUFzVXNlZCA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3QpIHtcbiAgICAvLyBBbHJlYWR5IHRoZSBtb3N0IHJlY2VubHR5IHVzZWQgZW50cnksIHNvIG5vIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIEhFQUQtLS0tLS0tLS0tLS0tLVRBSUxcbiAgLy8gICA8Lm9sZGVyICAgLm5ld2VyPlxuICAvLyAgPC0tLSBhZGQgZGlyZWN0aW9uIC0tXG4gIC8vICAgQSAgQiAgQyAgPEQ+ICBFXG4gIGlmIChlbnRyeVtORVdFUl0pIHtcbiAgICBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0KSB7XG4gICAgICB0aGlzLm9sZGVzdCA9IGVudHJ5W05FV0VSXTtcbiAgICB9XG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IGVudHJ5W09MREVSXTsgLy8gQyA8LS0gRS5cbiAgfVxuICBpZiAoZW50cnlbT0xERVJdKSB7XG4gICAgZW50cnlbT0xERVJdW05FV0VSXSA9IGVudHJ5W05FV0VSXTsgLy8gQy4gLS0+IEVcbiAgfVxuICBlbnRyeVtORVdFUl0gPSB1bmRlZmluZWQ7IC8vIEQgLS14XG4gIGVudHJ5W09MREVSXSA9IHRoaXMubmV3ZXN0OyAvLyBELiAtLT4gRVxuICBpZiAodGhpcy5uZXdlc3QpIHtcbiAgICB0aGlzLm5ld2VzdFtORVdFUl0gPSBlbnRyeTsgLy8gRS4gPC0tIERcbiAgfVxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5hc3NpZ24gPSBmdW5jdGlvbihlbnRyaWVzKSB7XG4gIGxldCBlbnRyeSwgbGltaXQgPSB0aGlzLmxpbWl0IHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIHRoaXMuX2tleW1hcC5jbGVhcigpO1xuICBsZXQgaXQgPSBlbnRyaWVzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgZm9yIChsZXQgaXR2ID0gaXQubmV4dCgpOyAhaXR2LmRvbmU7IGl0diA9IGl0Lm5leHQoKSkge1xuICAgIGxldCBlID0gbmV3IEVudHJ5KGl0di52YWx1ZVswXSwgaXR2LnZhbHVlWzFdKTtcbiAgICB0aGlzLl9rZXltYXAuc2V0KGUua2V5LCBlKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICB0aGlzLm9sZGVzdCA9IGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5W05FV0VSXSA9IGU7XG4gICAgICBlW09MREVSXSA9IGVudHJ5O1xuICAgIH1cbiAgICBlbnRyeSA9IGU7XG4gICAgaWYgKGxpbWl0LS0gPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdmVyZmxvdycpO1xuICAgIH1cbiAgfVxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xuICB0aGlzLnNpemUgPSB0aGlzLl9rZXltYXAuc2l6ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gIC8vIEZpcnN0LCBmaW5kIG91ciBjYWNoZSBlbnRyeVxuICB2YXIgZW50cnkgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG4gIGlmICghZW50cnkpIHJldHVybjsgLy8gTm90IGNhY2hlZC4gU29ycnkuXG4gIC8vIEFzIDxrZXk+IHdhcyBmb3VuZCBpbiB0aGUgY2FjaGUsIHJlZ2lzdGVyIGl0IGFzIGJlaW5nIHJlcXVlc3RlZCByZWNlbnRseVxuICB0aGlzLl9tYXJrRW50cnlBc1VzZWQoZW50cnkpO1xuICByZXR1cm4gZW50cnkudmFsdWU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuXG4gIGlmIChlbnRyeSkge1xuICAgIC8vIHVwZGF0ZSBleGlzdGluZ1xuICAgIGVudHJ5LnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fbWFya0VudHJ5QXNVc2VkKGVudHJ5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIG5ldyBlbnRyeVxuICB0aGlzLl9rZXltYXAuc2V0KGtleSwgKGVudHJ5ID0gbmV3IEVudHJ5KGtleSwgdmFsdWUpKSk7XG5cbiAgaWYgKHRoaXMubmV3ZXN0KSB7XG4gICAgLy8gbGluayBwcmV2aW91cyB0YWlsIHRvIHRoZSBuZXcgdGFpbCAoZW50cnkpXG4gICAgdGhpcy5uZXdlc3RbTkVXRVJdID0gZW50cnk7XG4gICAgZW50cnlbT0xERVJdID0gdGhpcy5uZXdlc3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gd2UncmUgZmlyc3QgaW4gLS0geWF5XG4gICAgdGhpcy5vbGRlc3QgPSBlbnRyeTtcbiAgfVxuXG4gIC8vIGFkZCBuZXcgZW50cnkgdG8gdGhlIGVuZCBvZiB0aGUgbGlua2VkIGxpc3QgLS0gaXQncyBub3cgdGhlIGZyZXNoZXN0IGVudHJ5LlxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xuICArK3RoaXMuc2l6ZTtcbiAgaWYgKHRoaXMuc2l6ZSA+IHRoaXMubGltaXQpIHtcbiAgICAvLyB3ZSBoaXQgdGhlIGxpbWl0IC0tIHJlbW92ZSB0aGUgaGVhZFxuICAgIHRoaXMuc2hpZnQoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAvLyB0b2RvOiBoYW5kbGUgc3BlY2lhbCBjYXNlIHdoZW4gbGltaXQgPT0gMVxuICB2YXIgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgaWYgKGVudHJ5KSB7XG4gICAgaWYgKHRoaXMub2xkZXN0W05FV0VSXSkge1xuICAgICAgLy8gYWR2YW5jZSB0aGUgbGlzdFxuICAgICAgdGhpcy5vbGRlc3QgPSB0aGlzLm9sZGVzdFtORVdFUl07XG4gICAgICB0aGlzLm9sZGVzdFtPTERFUl0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBjYWNoZSBpcyBleGhhdXN0ZWRcbiAgICAgIHRoaXMub2xkZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBsYXN0IHN0cm9uZyByZWZlcmVuY2UgdG8gPGVudHJ5PiBhbmQgcmVtb3ZlIGxpbmtzIGZyb20gdGhlIHB1cmdlZFxuICAgIC8vIGVudHJ5IGJlaW5nIHJldHVybmVkOlxuICAgIGVudHJ5W05FV0VSXSA9IGVudHJ5W09MREVSXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9rZXltYXAuZGVsZXRlKGVudHJ5LmtleSk7XG4gICAgLS10aGlzLnNpemU7XG4gICAgcmV0dXJuIFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTtcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRm9sbG93aW5nIGNvZGUgaXMgb3B0aW9uYWwgYW5kIGNhbiBiZSByZW1vdmVkIHdpdGhvdXQgYnJlYWtpbmcgdGhlIGNvcmVcbi8vIGZ1bmN0aW9uYWxpdHkuXG5cbkxSVU1hcC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKGtleSkge1xuICBsZXQgZSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgcmV0dXJuIGUgPyBlLnZhbHVlIDogdW5kZWZpbmVkO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX2tleW1hcC5oYXMoa2V5KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24oa2V5KSB7XG4gIHZhciBlbnRyeSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgaWYgKCFlbnRyeSkgcmV0dXJuO1xuICB0aGlzLl9rZXltYXAuZGVsZXRlKGVudHJ5LmtleSk7XG4gIGlmIChlbnRyeVtORVdFUl0gJiYgZW50cnlbT0xERVJdKSB7XG4gICAgLy8gcmVsaW5rIHRoZSBvbGRlciBlbnRyeSB3aXRoIHRoZSBuZXdlciBlbnRyeVxuICAgIGVudHJ5W09MREVSXVtORVdFUl0gPSBlbnRyeVtORVdFUl07XG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IGVudHJ5W09MREVSXTtcbiAgfSBlbHNlIGlmIChlbnRyeVtORVdFUl0pIHtcbiAgICAvLyByZW1vdmUgdGhlIGxpbmsgdG8gdXNcbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gdW5kZWZpbmVkO1xuICAgIC8vIGxpbmsgdGhlIG5ld2VyIGVudHJ5IHRvIGhlYWRcbiAgICB0aGlzLm9sZGVzdCA9IGVudHJ5W05FV0VSXTtcbiAgfSBlbHNlIGlmIChlbnRyeVtPTERFUl0pIHtcbiAgICAvLyByZW1vdmUgdGhlIGxpbmsgdG8gdXNcbiAgICBlbnRyeVtPTERFUl1bTkVXRVJdID0gdW5kZWZpbmVkO1xuICAgIC8vIGxpbmsgdGhlIG5ld2VyIGVudHJ5IHRvIGhlYWRcbiAgICB0aGlzLm5ld2VzdCA9IGVudHJ5W09MREVSXTtcbiAgfSBlbHNlIHsvLyBpZihlbnRyeVtPTERFUl0gPT09IHVuZGVmaW5lZCAmJiBlbnRyeS5uZXdlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHRoaXMuc2l6ZS0tO1xuICByZXR1cm4gZW50cnkudmFsdWU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIC8vIE5vdCBjbGVhcmluZyBsaW5rcyBzaG91bGQgYmUgc2FmZSwgYXMgd2UgZG9uJ3QgZXhwb3NlIGxpdmUgbGlua3MgdG8gdXNlclxuICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9rZXltYXAuY2xlYXIoKTtcbn07XG5cblxuZnVuY3Rpb24gRW50cnlJdGVyYXRvcihvbGRlc3RFbnRyeSkgeyB0aGlzLmVudHJ5ID0gb2xkZXN0RW50cnk7IH1cbkVudHJ5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cbkVudHJ5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGVudCA9IHRoaXMuZW50cnk7XG4gIGlmIChlbnQpIHtcbiAgICB0aGlzLmVudHJ5ID0gZW50W05FV0VSXTtcbiAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IFtlbnQua2V5LCBlbnQudmFsdWVdIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIEtleUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuS2V5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cbktleUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBlbnQgPSB0aGlzLmVudHJ5O1xuICBpZiAoZW50KSB7XG4gICAgdGhpcy5lbnRyeSA9IGVudFtORVdFUl07XG4gICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnQua2V5IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBWYWx1ZUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuVmFsdWVJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuVmFsdWVJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZW50ID0gdGhpcy5lbnRyeTtcbiAgaWYgKGVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRbTkVXRVJdO1xuICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogZW50LnZhbHVlIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5cbkxSVU1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IEtleUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVmFsdWVJdGVyYXRvcih0aGlzLm9sZGVzdCk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBFbnRyeUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGZ1biwgdGhpc09iaikge1xuICBpZiAodHlwZW9mIHRoaXNPYmogIT09ICdvYmplY3QnKSB7XG4gICAgdGhpc09iaiA9IHRoaXM7XG4gIH1cbiAgbGV0IGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIGZ1bi5jYWxsKHRoaXNPYmosIGVudHJ5LnZhbHVlLCBlbnRyeS5rZXksIHRoaXMpO1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICB9XG59O1xuXG4vKiogUmV0dXJucyBhIEpTT04gKGFycmF5KSByZXByZXNlbnRhdGlvbiAqL1xuTFJVTWFwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHMgPSBuZXcgQXJyYXkodGhpcy5zaXplKSwgaSA9IDAsIGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHNbaSsrXSA9IHsga2V5OiBlbnRyeS5rZXksIHZhbHVlOiBlbnRyeS52YWx1ZSB9O1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICB9XG4gIHJldHVybiBzO1xufTtcblxuLyoqIFJldHVybnMgYSBTdHJpbmcgcmVwcmVzZW50YXRpb24gKi9cbkxSVU1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHMgPSAnJywgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgcyArPSBTdHJpbmcoZW50cnkua2V5KSsnOicrZW50cnkudmFsdWU7XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBzICs9ICcgPCAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn07XG5cbn0pO1xuIiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgLy8gSGFjayB0byBtYWtlIGFsbCBleHBvcnRzIG9mIHRoaXMgbW9kdWxlIHNoYTI1NiBmdW5jdGlvbiBvYmplY3QgcHJvcGVydGllcy5cbiAgICB2YXIgZXhwb3J0cyA9IHt9O1xuICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gICAgdmFyIHNoYTI1NiA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuICAgIGZvciAodmFyIGsgaW4gZXhwb3J0cykge1xuICAgICAgICBzaGEyNTZba10gPSBleHBvcnRzW2tdO1xuICAgIH1cbiAgICAgICAgXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBzaGEyNTY7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2hhMjU2OyB9KTsgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5zaGEyNTYgPSBzaGEyNTY7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLy8gU0hBLTI1NiAoKyBITUFDIGFuZCBQQktERjIpIGZvciBKYXZhU2NyaXB0LlxuLy9cbi8vIFdyaXR0ZW4gaW4gMjAxNC0yMDE2IGJ5IERtaXRyeSBDaGVzdG55a2guXG4vLyBQdWJsaWMgZG9tYWluLCBubyB3YXJyYW50eS5cbi8vXG4vLyBGdW5jdGlvbnMgKGFjY2VwdCBhbmQgcmV0dXJuIFVpbnQ4QXJyYXlzKTpcbi8vXG4vLyAgIHNoYTI1NihtZXNzYWdlKSAtPiBoYXNoXG4vLyAgIHNoYTI1Ni5obWFjKGtleSwgbWVzc2FnZSkgLT4gbWFjXG4vLyAgIHNoYTI1Ni5wYmtkZjIocGFzc3dvcmQsIHNhbHQsIHJvdW5kcywgZGtMZW4pIC0+IGRrXG4vL1xuLy8gIENsYXNzZXM6XG4vL1xuLy8gICBuZXcgc2hhMjU2Lkhhc2goKVxuLy8gICBuZXcgc2hhMjU2LkhNQUMoa2V5KVxuLy9cbmV4cG9ydHMuZGlnZXN0TGVuZ3RoID0gMzI7XG5leHBvcnRzLmJsb2NrU2l6ZSA9IDY0O1xuLy8gU0hBLTI1NiBjb25zdGFudHNcbnZhciBLID0gbmV3IFVpbnQzMkFycmF5KFtcbiAgICAweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LCAweDM5NTZjMjViLFxuICAgIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsXG4gICAgMHgyNDMxODViZSwgMHg1NTBjN2RjMywgMHg3MmJlNWQ3NCwgMHg4MGRlYjFmZSwgMHg5YmRjMDZhNyxcbiAgICAweGMxOWJmMTc0LCAweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLFxuICAgIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsIDB4OTgzZTUxNTIsXG4gICAgMHhhODMxYzY2ZCwgMHhiMDAzMjdjOCwgMHhiZjU5N2ZjNywgMHhjNmUwMGJmMywgMHhkNWE3OTE0NyxcbiAgICAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LCAweDI3YjcwYTg1LCAweDJlMWIyMTM4LCAweDRkMmM2ZGZjLFxuICAgIDB4NTMzODBkMTMsIDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG4gICAgMHhhMmJmZThhMSwgMHhhODFhNjY0YiwgMHhjMjRiOGI3MCwgMHhjNzZjNTFhMywgMHhkMTkyZTgxOSxcbiAgICAweGQ2OTkwNjI0LCAweGY0MGUzNTg1LCAweDEwNmFhMDcwLCAweDE5YTRjMTE2LCAweDFlMzc2YzA4LFxuICAgIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsXG4gICAgMHg2ODJlNmZmMywgMHg3NDhmODJlZSwgMHg3OGE1NjM2ZiwgMHg4NGM4NzgxNCwgMHg4Y2M3MDIwOCxcbiAgICAweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXG5dKTtcbmZ1bmN0aW9uIGhhc2hCbG9ja3ModywgdiwgcCwgcG9zLCBsZW4pIHtcbiAgICB2YXIgYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgdSwgaSwgaiwgdDEsIHQyO1xuICAgIHdoaWxlIChsZW4gPj0gNjQpIHtcbiAgICAgICAgYSA9IHZbMF07XG4gICAgICAgIGIgPSB2WzFdO1xuICAgICAgICBjID0gdlsyXTtcbiAgICAgICAgZCA9IHZbM107XG4gICAgICAgIGUgPSB2WzRdO1xuICAgICAgICBmID0gdls1XTtcbiAgICAgICAgZyA9IHZbNl07XG4gICAgICAgIGggPSB2WzddO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgaiA9IHBvcyArIGkgKiA0O1xuICAgICAgICAgICAgd1tpXSA9ICgoKHBbal0gJiAweGZmKSA8PCAyNCkgfCAoKHBbaiArIDFdICYgMHhmZikgPDwgMTYpIHxcbiAgICAgICAgICAgICAgICAoKHBbaiArIDJdICYgMHhmZikgPDwgOCkgfCAocFtqICsgM10gJiAweGZmKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICB1ID0gd1tpIC0gMl07XG4gICAgICAgICAgICB0MSA9ICh1ID4+PiAxNyB8IHUgPDwgKDMyIC0gMTcpKSBeICh1ID4+PiAxOSB8IHUgPDwgKDMyIC0gMTkpKSBeICh1ID4+PiAxMCk7XG4gICAgICAgICAgICB1ID0gd1tpIC0gMTVdO1xuICAgICAgICAgICAgdDIgPSAodSA+Pj4gNyB8IHUgPDwgKDMyIC0gNykpIF4gKHUgPj4+IDE4IHwgdSA8PCAoMzIgLSAxOCkpIF4gKHUgPj4+IDMpO1xuICAgICAgICAgICAgd1tpXSA9ICh0MSArIHdbaSAtIDddIHwgMCkgKyAodDIgKyB3W2kgLSAxNl0gfCAwKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgdDEgPSAoKCgoKGUgPj4+IDYgfCBlIDw8ICgzMiAtIDYpKSBeIChlID4+PiAxMSB8IGUgPDwgKDMyIC0gMTEpKSBeXG4gICAgICAgICAgICAgICAgKGUgPj4+IDI1IHwgZSA8PCAoMzIgLSAyNSkpKSArICgoZSAmIGYpIF4gKH5lICYgZykpKSB8IDApICtcbiAgICAgICAgICAgICAgICAoKGggKyAoKEtbaV0gKyB3W2ldKSB8IDApKSB8IDApKSB8IDA7XG4gICAgICAgICAgICB0MiA9ICgoKGEgPj4+IDIgfCBhIDw8ICgzMiAtIDIpKSBeIChhID4+PiAxMyB8IGEgPDwgKDMyIC0gMTMpKSBeXG4gICAgICAgICAgICAgICAgKGEgPj4+IDIyIHwgYSA8PCAoMzIgLSAyMikpKSArICgoYSAmIGIpIF4gKGEgJiBjKSBeIChiICYgYykpKSB8IDA7XG4gICAgICAgICAgICBoID0gZztcbiAgICAgICAgICAgIGcgPSBmO1xuICAgICAgICAgICAgZiA9IGU7XG4gICAgICAgICAgICBlID0gKGQgKyB0MSkgfCAwO1xuICAgICAgICAgICAgZCA9IGM7XG4gICAgICAgICAgICBjID0gYjtcbiAgICAgICAgICAgIGIgPSBhO1xuICAgICAgICAgICAgYSA9ICh0MSArIHQyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgdlswXSArPSBhO1xuICAgICAgICB2WzFdICs9IGI7XG4gICAgICAgIHZbMl0gKz0gYztcbiAgICAgICAgdlszXSArPSBkO1xuICAgICAgICB2WzRdICs9IGU7XG4gICAgICAgIHZbNV0gKz0gZjtcbiAgICAgICAgdls2XSArPSBnO1xuICAgICAgICB2WzddICs9IGg7XG4gICAgICAgIHBvcyArPSA2NDtcbiAgICAgICAgbGVuIC09IDY0O1xuICAgIH1cbiAgICByZXR1cm4gcG9zO1xufVxuLy8gSGFzaCBpbXBsZW1lbnRzIFNIQTI1NiBoYXNoIGFsZ29yaXRobS5cbnZhciBIYXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhhc2goKSB7XG4gICAgICAgIHRoaXMuZGlnZXN0TGVuZ3RoID0gZXhwb3J0cy5kaWdlc3RMZW5ndGg7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gZXhwb3J0cy5ibG9ja1NpemU7XG4gICAgICAgIC8vIE5vdGU6IEludDMyQXJyYXkgaXMgdXNlZCBpbnN0ZWFkIG9mIFVpbnQzMkFycmF5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IEludDMyQXJyYXkoOCk7IC8vIGhhc2ggc3RhdGVcbiAgICAgICAgdGhpcy50ZW1wID0gbmV3IEludDMyQXJyYXkoNjQpOyAvLyB0ZW1wb3Jhcnkgc3RhdGVcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgxMjgpOyAvLyBidWZmZXIgZm9yIGRhdGEgdG8gaGFzaFxuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7IC8vIG51bWJlciBvZiBieXRlcyBpbiBidWZmZXJcbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCA9IDA7IC8vIG51bWJlciBvZiB0b3RhbCBieXRlcyBoYXNoZWRcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOyAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGUgaGFzaCB3YXMgZmluYWxpemVkXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLy8gUmVzZXRzIGhhc2ggc3RhdGUgbWFraW5nIGl0IHBvc3NpYmxlXG4gICAgLy8gdG8gcmUtdXNlIHRoaXMgaW5zdGFuY2UgdG8gaGFzaCBvdGhlciBkYXRhLlxuICAgIEhhc2gucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlWzBdID0gMHg2YTA5ZTY2NztcbiAgICAgICAgdGhpcy5zdGF0ZVsxXSA9IDB4YmI2N2FlODU7XG4gICAgICAgIHRoaXMuc3RhdGVbMl0gPSAweDNjNmVmMzcyO1xuICAgICAgICB0aGlzLnN0YXRlWzNdID0gMHhhNTRmZjUzYTtcbiAgICAgICAgdGhpcy5zdGF0ZVs0XSA9IDB4NTEwZTUyN2Y7XG4gICAgICAgIHRoaXMuc3RhdGVbNV0gPSAweDliMDU2ODhjO1xuICAgICAgICB0aGlzLnN0YXRlWzZdID0gMHgxZjgzZDlhYjtcbiAgICAgICAgdGhpcy5zdGF0ZVs3XSA9IDB4NWJlMGNkMTk7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCA9IDA7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBDbGVhbnMgaW50ZXJuYWwgYnVmZmVycyBhbmQgcmUtaW5pdGlhbGl6ZXMgaGFzaCBzdGF0ZS5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8vIFVwZGF0ZXMgaGFzaCBzdGF0ZSB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgIC8vXG4gICAgLy8gT3B0aW9uYWxseSwgbGVuZ3RoIG9mIHRoZSBkYXRhIGNhbiBiZSBzcGVjaWZpZWQgdG8gaGFzaFxuICAgIC8vIGZld2VyIGJ5dGVzIHRoYW4gZGF0YS5sZW5ndGguXG4gICAgLy9cbiAgICAvLyBUaHJvd3MgZXJyb3Igd2hlbiB0cnlpbmcgdG8gdXBkYXRlIGFscmVhZHkgZmluYWxpemVkIGhhc2g6XG4gICAgLy8gaW5zdGFuY2UgbXVzdCBiZSByZXNldCB0byB1c2UgaXQgYWdhaW4uXG4gICAgSGFzaC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGFMZW5ndGgpIHtcbiAgICAgICAgaWYgKGRhdGFMZW5ndGggPT09IHZvaWQgMCkgeyBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGg7IH1cbiAgICAgICAgaWYgKHRoaXMuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNIQTI1NjogY2FuJ3QgdXBkYXRlIGJlY2F1c2UgaGFzaCB3YXMgZmluaXNoZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhUG9zID0gMDtcbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCArPSBkYXRhTGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5idWZmZXJMZW5ndGggPCA2NCAmJiBkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdID0gZGF0YVtkYXRhUG9zKytdO1xuICAgICAgICAgICAgICAgIGRhdGFMZW5ndGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA9PT0gNjQpIHtcbiAgICAgICAgICAgICAgICBoYXNoQmxvY2tzKHRoaXMudGVtcCwgdGhpcy5zdGF0ZSwgdGhpcy5idWZmZXIsIDAsIDY0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFMZW5ndGggPj0gNjQpIHtcbiAgICAgICAgICAgIGRhdGFQb3MgPSBoYXNoQmxvY2tzKHRoaXMudGVtcCwgdGhpcy5zdGF0ZSwgZGF0YSwgZGF0YVBvcywgZGF0YUxlbmd0aCk7XG4gICAgICAgICAgICBkYXRhTGVuZ3RoICU9IDY0O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJMZW5ndGgrK10gPSBkYXRhW2RhdGFQb3MrK107XG4gICAgICAgICAgICBkYXRhTGVuZ3RoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBGaW5hbGl6ZXMgaGFzaCBzdGF0ZSBhbmQgcHV0cyBoYXNoIGludG8gb3V0LlxuICAgIC8vXG4gICAgLy8gSWYgaGFzaCB3YXMgYWxyZWFkeSBmaW5hbGl6ZWQsIHB1dHMgdGhlIHNhbWUgdmFsdWUuXG4gICAgSGFzaC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBieXRlc0hhc2hlZCA9IHRoaXMuYnl0ZXNIYXNoZWQ7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMuYnVmZmVyTGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGJpdExlbkhpID0gKGJ5dGVzSGFzaGVkIC8gMHgyMDAwMDAwMCkgfCAwO1xuICAgICAgICAgICAgdmFyIGJpdExlbkxvID0gYnl0ZXNIYXNoZWQgPDwgMztcbiAgICAgICAgICAgIHZhciBwYWRMZW5ndGggPSAoYnl0ZXNIYXNoZWQgJSA2NCA8IDU2KSA/IDY0IDogMTI4O1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbbGVmdF0gPSAweDgwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxlZnQgKyAxOyBpIDwgcGFkTGVuZ3RoIC0gODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gOF0gPSAoYml0TGVuSGkgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA3XSA9IChiaXRMZW5IaSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDZdID0gKGJpdExlbkhpID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA1XSA9IChiaXRMZW5IaSA+Pj4gMCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gNF0gPSAoYml0TGVuTG8gPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAzXSA9IChiaXRMZW5MbyA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDJdID0gKGJpdExlbkxvID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAxXSA9IChiaXRMZW5MbyA+Pj4gMCkgJiAweGZmO1xuICAgICAgICAgICAgaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIHRoaXMuYnVmZmVyLCAwLCBwYWRMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpICogNCArIDBdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAxXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgMl0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgM10gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMCkgJiAweGZmO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyB0aGUgZmluYWwgaGFzaCBkaWdlc3QuXG4gICAgSGFzaC5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kaWdlc3RMZW5ndGgpO1xuICAgICAgICB0aGlzLmZpbmlzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gZm9yIHVzZSBpbiBITUFDIGZvciBvcHRpbWl6YXRpb24uXG4gICAgSGFzaC5wcm90b3R5cGUuX3NhdmVTdGF0ZSA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSB0aGlzLnN0YXRlW2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbiBmb3IgdXNlIGluIEhNQUMgZm9yIG9wdGltaXphdGlvbi5cbiAgICBIYXNoLnByb3RvdHlwZS5fcmVzdG9yZVN0YXRlID0gZnVuY3Rpb24gKGZyb20sIGJ5dGVzSGFzaGVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVtpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ieXRlc0hhc2hlZCA9IGJ5dGVzSGFzaGVkO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBIYXNoO1xufSgpKTtcbmV4cG9ydHMuSGFzaCA9IEhhc2g7XG4vLyBITUFDIGltcGxlbWVudHMgSE1BQy1TSEEyNTYgbWVzc2FnZSBhdXRoZW50aWNhdGlvbiBhbGdvcml0aG0uXG52YXIgSE1BQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBITUFDKGtleSkge1xuICAgICAgICB0aGlzLmlubmVyID0gbmV3IEhhc2goKTtcbiAgICAgICAgdGhpcy5vdXRlciA9IG5ldyBIYXNoKCk7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gdGhpcy5pbm5lci5ibG9ja1NpemU7XG4gICAgICAgIHRoaXMuZGlnZXN0TGVuZ3RoID0gdGhpcy5pbm5lci5kaWdlc3RMZW5ndGg7XG4gICAgICAgIHZhciBwYWQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJsb2NrU2l6ZSk7XG4gICAgICAgIGlmIChrZXkubGVuZ3RoID4gdGhpcy5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIChuZXcgSGFzaCgpKS51cGRhdGUoa2V5KS5maW5pc2gocGFkKS5jbGVhbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYWRbaV0gPSBrZXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZFtpXSBePSAweDM2O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5uZXIudXBkYXRlKHBhZCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWRbaV0gXj0gMHgzNiBeIDB4NWM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRlci51cGRhdGUocGFkKTtcbiAgICAgICAgdGhpcy5pc3RhdGUgPSBuZXcgVWludDMyQXJyYXkoOCk7XG4gICAgICAgIHRoaXMub3N0YXRlID0gbmV3IFVpbnQzMkFycmF5KDgpO1xuICAgICAgICB0aGlzLmlubmVyLl9zYXZlU3RhdGUodGhpcy5pc3RhdGUpO1xuICAgICAgICB0aGlzLm91dGVyLl9zYXZlU3RhdGUodGhpcy5vc3RhdGUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFkW2ldID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZXR1cm5zIEhNQUMgc3RhdGUgdG8gdGhlIHN0YXRlIGluaXRpYWxpemVkIHdpdGgga2V5XG4gICAgLy8gdG8gbWFrZSBpdCBwb3NzaWJsZSB0byBydW4gSE1BQyBvdmVyIHRoZSBvdGhlciBkYXRhIHdpdGggdGhlIHNhbWVcbiAgICAvLyBrZXkgd2l0aG91dCBjcmVhdGluZyBhIG5ldyBpbnN0YW5jZS5cbiAgICBITUFDLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm5lci5fcmVzdG9yZVN0YXRlKHRoaXMuaXN0YXRlLCB0aGlzLmlubmVyLmJsb2NrU2l6ZSk7XG4gICAgICAgIHRoaXMub3V0ZXIuX3Jlc3RvcmVTdGF0ZSh0aGlzLm9zdGF0ZSwgdGhpcy5vdXRlci5ibG9ja1NpemUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENsZWFucyBITUFDIHN0YXRlLlxuICAgIEhNQUMucHJvdG90eXBlLmNsZWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm9zdGF0ZVtpXSA9IHRoaXMuaXN0YXRlW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubmVyLmNsZWFuKCk7XG4gICAgICAgIHRoaXMub3V0ZXIuY2xlYW4oKTtcbiAgICB9O1xuICAgIC8vIFVwZGF0ZXMgc3RhdGUgd2l0aCBwcm92aWRlZCBkYXRhLlxuICAgIEhNQUMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuaW5uZXIudXBkYXRlKGRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIEZpbmFsaXplcyBITUFDIGFuZCBwdXRzIHRoZSByZXN1bHQgaW4gb3V0LlxuICAgIEhNQUMucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgaWYgKHRoaXMub3V0ZXIuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluaXNoKG91dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyLmZpbmlzaChvdXQpO1xuICAgICAgICAgICAgdGhpcy5vdXRlci51cGRhdGUob3V0LCB0aGlzLmRpZ2VzdExlbmd0aCkuZmluaXNoKG91dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIG1lc3NhZ2UgYXV0aGVudGljYXRpb24gY29kZS5cbiAgICBITUFDLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSh0aGlzLmRpZ2VzdExlbmd0aCk7XG4gICAgICAgIHRoaXMuZmluaXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICByZXR1cm4gSE1BQztcbn0oKSk7XG5leHBvcnRzLkhNQUMgPSBITUFDO1xuLy8gUmV0dXJucyBTSEEyNTYgaGFzaCBvZiBkYXRhLlxuZnVuY3Rpb24gaGFzaChkYXRhKSB7XG4gICAgdmFyIGggPSAobmV3IEhhc2goKSkudXBkYXRlKGRhdGEpO1xuICAgIHZhciBkaWdlc3QgPSBoLmRpZ2VzdCgpO1xuICAgIGguY2xlYW4oKTtcbiAgICByZXR1cm4gZGlnZXN0O1xufVxuZXhwb3J0cy5oYXNoID0gaGFzaDtcbi8vIEZ1bmN0aW9uIGhhc2ggaXMgYm90aCBhdmFpbGFibGUgYXMgbW9kdWxlLmhhc2ggYW5kIGFzIGRlZmF1bHQgZXhwb3J0LlxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBoYXNoO1xuLy8gUmV0dXJucyBITUFDLVNIQTI1NiBvZiBkYXRhIHVuZGVyIHRoZSBrZXkuXG5mdW5jdGlvbiBobWFjKGtleSwgZGF0YSkge1xuICAgIHZhciBoID0gKG5ldyBITUFDKGtleSkpLnVwZGF0ZShkYXRhKTtcbiAgICB2YXIgZGlnZXN0ID0gaC5kaWdlc3QoKTtcbiAgICBoLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRpZ2VzdDtcbn1cbmV4cG9ydHMuaG1hYyA9IGhtYWM7XG4vLyBGaWxscyBoa2RmIGJ1ZmZlciBsaWtlIHRoaXM6XG4vLyBUKDEpID0gSE1BQy1IYXNoKFBSSywgVCgwKSB8IGluZm8gfCAweDAxKVxuZnVuY3Rpb24gZmlsbEJ1ZmZlcihidWZmZXIsIGhtYWMsIGluZm8sIGNvdW50ZXIpIHtcbiAgICAvLyBDb3VudGVyIGlzIGEgYnl0ZSB2YWx1ZTogY2hlY2sgaWYgaXQgb3ZlcmZsb3dlZC5cbiAgICB2YXIgbnVtID0gY291bnRlclswXTtcbiAgICBpZiAobnVtID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImhrZGY6IGNhbm5vdCBleHBhbmQgbW9yZVwiKTtcbiAgICB9XG4gICAgLy8gUHJlcGFyZSBITUFDIGluc3RhbmNlIGZvciBuZXcgZGF0YSB3aXRoIG9sZCBrZXkuXG4gICAgaG1hYy5yZXNldCgpO1xuICAgIC8vIEhhc2ggaW4gcHJldmlvdXMgb3V0cHV0IGlmIGl0IHdhcyBnZW5lcmF0ZWRcbiAgICAvLyAoaS5lLiBjb3VudGVyIGlzIGdyZWF0ZXIgdGhhbiAxKS5cbiAgICBpZiAobnVtID4gMSkge1xuICAgICAgICBobWFjLnVwZGF0ZShidWZmZXIpO1xuICAgIH1cbiAgICAvLyBIYXNoIGluIGluZm8gaWYgaXQgZXhpc3RzLlxuICAgIGlmIChpbmZvKSB7XG4gICAgICAgIGhtYWMudXBkYXRlKGluZm8pO1xuICAgIH1cbiAgICAvLyBIYXNoIGluIHRoZSBjb3VudGVyLlxuICAgIGhtYWMudXBkYXRlKGNvdW50ZXIpO1xuICAgIC8vIE91dHB1dCByZXN1bHQgdG8gYnVmZmVyIGFuZCBjbGVhbiBITUFDIGluc3RhbmNlLlxuICAgIGhtYWMuZmluaXNoKGJ1ZmZlcik7XG4gICAgLy8gSW5jcmVtZW50IGNvdW50ZXIgaW5zaWRlIHR5cGVkIGFycmF5LCB0aGlzIHdvcmtzIHByb3Blcmx5LlxuICAgIGNvdW50ZXJbMF0rKztcbn1cbnZhciBoa2RmU2FsdCA9IG5ldyBVaW50OEFycmF5KGV4cG9ydHMuZGlnZXN0TGVuZ3RoKTsgLy8gRmlsbGVkIHdpdGggemVyb2VzLlxuZnVuY3Rpb24gaGtkZihrZXksIHNhbHQsIGluZm8sIGxlbmd0aCkge1xuICAgIGlmIChzYWx0ID09PSB2b2lkIDApIHsgc2FsdCA9IGhrZGZTYWx0OyB9XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7IGxlbmd0aCA9IDMyOyB9XG4gICAgdmFyIGNvdW50ZXIgPSBuZXcgVWludDhBcnJheShbMV0pO1xuICAgIC8vIEhLREYtRXh0cmFjdCB1c2VzIHNhbHQgYXMgSE1BQyBrZXksIGFuZCBrZXkgYXMgZGF0YS5cbiAgICB2YXIgb2ttID0gaG1hYyhzYWx0LCBrZXkpO1xuICAgIC8vIEluaXRpYWxpemUgSE1BQyBmb3IgZXhwYW5kaW5nIHdpdGggZXh0cmFjdGVkIGtleS5cbiAgICAvLyBFbnN1cmUgbm8gY29sbGlzaW9ucyB3aXRoIGBobWFjYCBmdW5jdGlvbi5cbiAgICB2YXIgaG1hY18gPSBuZXcgSE1BQyhva20pO1xuICAgIC8vIEFsbG9jYXRlIGJ1ZmZlci5cbiAgICB2YXIgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoaG1hY18uZGlnZXN0TGVuZ3RoKTtcbiAgICB2YXIgYnVmcG9zID0gYnVmZmVyLmxlbmd0aDtcbiAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChidWZwb3MgPT09IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZpbGxCdWZmZXIoYnVmZmVyLCBobWFjXywgaW5mbywgY291bnRlcik7XG4gICAgICAgICAgICBidWZwb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIG91dFtpXSA9IGJ1ZmZlcltidWZwb3MrK107XG4gICAgfVxuICAgIGhtYWNfLmNsZWFuKCk7XG4gICAgYnVmZmVyLmZpbGwoMCk7XG4gICAgY291bnRlci5maWxsKDApO1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLmhrZGYgPSBoa2RmO1xuLy8gRGVyaXZlcyBhIGtleSBmcm9tIHBhc3N3b3JkIGFuZCBzYWx0IHVzaW5nIFBCS0RGMi1ITUFDLVNIQTI1NlxuLy8gd2l0aCB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGl0ZXJhdGlvbnMuXG4vL1xuLy8gVGhlIG51bWJlciBvZiBieXRlcyByZXR1cm5lZCBpcyBlcXVhbCB0byBka0xlbi5cbi8vXG4vLyAoRm9yIGJldHRlciBzZWN1cml0eSwgYXZvaWQgZGtMZW4gZ3JlYXRlciB0aGFuIGhhc2ggbGVuZ3RoIC0gMzIgYnl0ZXMpLlxuZnVuY3Rpb24gcGJrZGYyKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBka0xlbikge1xuICAgIHZhciBwcmYgPSBuZXcgSE1BQyhwYXNzd29yZCk7XG4gICAgdmFyIGxlbiA9IHByZi5kaWdlc3RMZW5ndGg7XG4gICAgdmFyIGN0ciA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgIHZhciB0ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICB2YXIgdSA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgdmFyIGRrID0gbmV3IFVpbnQ4QXJyYXkoZGtMZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpICogbGVuIDwgZGtMZW47IGkrKykge1xuICAgICAgICB2YXIgYyA9IGkgKyAxO1xuICAgICAgICBjdHJbMF0gPSAoYyA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgY3RyWzFdID0gKGMgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGN0clsyXSA9IChjID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIGN0clszXSA9IChjID4+PiAwKSAmIDB4ZmY7XG4gICAgICAgIHByZi5yZXNldCgpO1xuICAgICAgICBwcmYudXBkYXRlKHNhbHQpO1xuICAgICAgICBwcmYudXBkYXRlKGN0cik7XG4gICAgICAgIHByZi5maW5pc2godSk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIHRbal0gPSB1W2pdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAyOyBqIDw9IGl0ZXJhdGlvbnM7IGorKykge1xuICAgICAgICAgICAgcHJmLnJlc2V0KCk7XG4gICAgICAgICAgICBwcmYudXBkYXRlKHUpLmZpbmlzaCh1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVuOyBrKyspIHtcbiAgICAgICAgICAgICAgICB0W2tdIF49IHVba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW4gJiYgaSAqIGxlbiArIGogPCBka0xlbjsgaisrKSB7XG4gICAgICAgICAgICBka1tpICogbGVuICsgal0gPSB0W2pdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdFtpXSA9IHVbaV0gPSAwO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBjdHJbaV0gPSAwO1xuICAgIH1cbiAgICBwcmYuY2xlYW4oKTtcbiAgICByZXR1cm4gZGs7XG59XG5leHBvcnRzLnBia2RmMiA9IHBia2RmMjtcbn0pO1xuIiwiaW1wb3J0IHtXZWJSZW5kZXJlcn0gZnJvbSAnLi9XZWJSZW5kZXJlcidcbmltcG9ydCBcImZhc3QtdGV4dC1lbmNvZGluZ1wiXG5pbXBvcnQge1xuICBhZGRDU1NSdWxlLFxuICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMsXG4gIGdldEJvdW5kcyxcbiAgZ2V0UGFkZGluZyxcbiAgZ2V0TWFyZ2luLFxuICBnZXRCb3JkZXIsXG4gIEJvdW5kcyxcbiAgRWRnZXNcbn0gZnJvbSAnLi9kb20tdXRpbHMnXG5pbXBvcnQgeyBMUlVNYXAgfSBmcm9tICdscnVfbWFwJ1xuaW1wb3J0ICogYXMgc2hhMjU2IGZyb20gJ2Zhc3Qtc2hhMjU2J1xuXG5leHBvcnQgdHlwZSBFdmVudENhbGxiYWNrID0gKFxuICBldmVudDpcbiAgICB8ICdsYXllcnBhaW50ZWQnXG4gICAgfCAnbGF5ZXJyZXNpemVkJ1xuICAgIHwgJ2xheWVyY3JlYXRlZCdcbiAgICB8ICdsYXllcm1vdmVkJ1xuICAgIHwgJ3JlbW92YWxyZXF1aXJlZCdcbiAgICB8ICdpbnB1dHJlcXVpcmVkJyxcbiAgZGF0YTogeyB0YXJnZXQ6IEVsZW1lbnQgfVxuKSA9PiB2b2lkXG5cbmV4cG9ydCBjbGFzcyBXZWJMYXllciB7XG4gIHN0YXRpYyBERUZBVUxUX0NBQ0hFX1NJWkUgPSA0XG4gIHByaXZhdGUgc3RhdGljIGJsYW5rUmV0cnlDb3VudHM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwXG4gIHByaXZhdGUgc3RhdGljIGNhbnZhc0hhc2hlczogTFJVTWFwPHN0cmluZywgc3RyaW5nPiA9IG5ldyBMUlVNYXAoMTAwMClcbiAgcHJpdmF0ZSBzdGF0aWMgY2FjaGVkQ2FudmFzZXM6IExSVU1hcDxzdHJpbmcsIEhUTUxDYW52YXNFbGVtZW50PiA9IG5ldyBMUlVNYXAoV2ViTGF5ZXIuREVGQVVMVF9DQUNIRV9TSVpFKVxuXG4gIGlkOnN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIFdlYlJlbmRlcmVyLmxheWVycy5zZXQoZWxlbWVudCwgdGhpcylcbiAgICB0aGlzLmlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKSB8fCAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKClcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIHRoaXMuaWQpXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFLCcnKVxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgdGhpcy5ldmVudENhbGxiYWNrKCdsYXllcmNyZWF0ZWQnLCB7IHRhcmdldDogZWxlbWVudCB9KVxuICAgIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmxpbWl0ID0gV2ViUmVuZGVyZXIubGF5ZXJzLnNpemUgKiBXZWJMYXllci5ERUZBVUxUX0NBQ0hFX1NJWkVcbiAgICB0aGlzLl9oYXNoaW5nQ2FudmFzLndpZHRoID0gMjBcbiAgICB0aGlzLl9oYXNoaW5nQ2FudmFzLmhlaWdodCA9IDIwXG4gIH1cblxuICBuZWVkc1JlZnJlc2ggPSB0cnVlXG4gIG5lZWRzUmVtb3ZhbCA9IGZhbHNlXG5cbiAgcHN1ZWRvU3RhdGVzID0ge1xuICAgIGhvdmVyOiBmYWxzZSxcbiAgICBhY3RpdmU6IGZhbHNlLFxuICAgIGZvY3VzOiBmYWxzZSxcbiAgICB0YXJnZXQ6IGZhbHNlXG4gIH1cblxuICBzdmdJbWFnZTogSFRNTEltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpXG4gIGJvdW5kcyA9IG5ldyBCb3VuZHMoKVxuICAvLyBwcml2YXRlIF9wcmV2aW91c0JvdW5kcyA9IG5ldyBCb3VuZHMoKVxuXG4gIHByaXZhdGUgcGFkZGluZyA9IG5ldyBFZGdlcygpXG4gIHByaXZhdGUgbWFyZ2luID0gbmV3IEVkZ2VzKClcbiAgcHJpdmF0ZSBib3JkZXIgPSBuZXcgRWRnZXMoKVxuICBwYXJlbnRMYXllcj86IFdlYkxheWVyXG4gIGNoaWxkTGF5ZXJzID0gW10gYXMgV2ViTGF5ZXJbXVxuICBwaXhlbFJhdGlvPzogbnVtYmVyXG5cbi8vICAgY3NzVHJhbnNmb3JtID0gbmV3IE1hdHJpeDQoKVxuXG4gIGNhY2hlZEJvdW5kczogTWFwPHN0cmluZywgQm91bmRzPiA9IG5ldyBNYXAoKVxuICBjYWNoZWRNYXJnaW46IE1hcDxzdHJpbmcsIEVkZ2VzPiA9IG5ldyBNYXAoKVxuXG4gIHByaXZhdGUgX2R5bmFtaWNBdHRyaWJ1dGVzID0gJydcbiAgcHJpdmF0ZSBfc3ZnRG9jdW1lbnQgPSAnJ1xuICBwcml2YXRlIF9yYXN0ZXJpemluZ0RvY3VtZW50ID0gJydcbiAgcHJpdmF0ZSBfc3ZnU3JjID0gJydcbiAgcHJpdmF0ZSBfaGFzaGluZ0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG5cbiAgX2NhbnZhcyE6IEhUTUxDYW52YXNFbGVtZW50XG5cbiAgc2V0IGNhbnZhcyh2YWw6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuX2NhbnZhcyAhPT0gdmFsKSB7XG4gICAgICB0aGlzLl9jYW52YXMgPSB2YWxcbiAgICAgIGlmICh0aGlzLmV2ZW50Q2FsbGJhY2spIHRoaXMuZXZlbnRDYWxsYmFjaygnbGF5ZXJwYWludGVkJywgeyB0YXJnZXQ6IHRoaXMuZWxlbWVudCB9KVxuICAgIH1cbiAgfVxuXG4gIGdldCBjYW52YXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbnZhc1xuICB9XG5cbiAgZ2V0IGRlcHRoKCkge1xuICAgIGxldCBkZXB0aCA9IDBcbiAgICBsZXQgbGF5ZXIgPSB0aGlzIGFzIFdlYkxheWVyXG4gICAgd2hpbGUgKGxheWVyLnBhcmVudExheWVyKSB7XG4gICAgICBsYXllciA9IGxheWVyLnBhcmVudExheWVyXG4gICAgICBkZXB0aCsrXG4gICAgfVxuICAgIHJldHVybiBkZXB0aFxuICB9XG5cbiAgZ2V0IHJvb3RMYXllcigpIHtcbiAgICBsZXQgcm9vdExheWVyID0gdGhpcyBhcyBXZWJMYXllclxuICAgIHdoaWxlIChyb290TGF5ZXIucGFyZW50TGF5ZXIpIHJvb3RMYXllciA9IHJvb3RMYXllci5wYXJlbnRMYXllclxuICAgIHJldHVybiByb290TGF5ZXJcbiAgfVxuXG4gIHRyYXZlcnNlUGFyZW50TGF5ZXJzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudExheWVyXG4gICAgaWYgKHBhcmVudExheWVyKSB7XG4gICAgICBwYXJlbnRMYXllci50cmF2ZXJzZVBhcmVudExheWVycyhlYWNoKVxuICAgICAgZWFjaChwYXJlbnRMYXllcilcbiAgICB9XG4gIH1cblxuICB0cmF2ZXJzZUxheWVycyhlYWNoOiAobGF5ZXI6IFdlYkxheWVyKSA9PiB2b2lkKSB7XG4gICAgZWFjaCh0aGlzKVxuICAgIHRoaXMudHJhdmVyc2VDaGlsZExheWVycyhlYWNoKVxuICB9XG5cbiAgdHJhdmVyc2VDaGlsZExheWVycyhcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyKSA9PiB2b2lkXG4gICkge1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZExheWVycykge1xuICAgICAgY2hpbGQudHJhdmVyc2VMYXllcnMoZWFjaClcbiAgICB9XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIGdldEJvdW5kcyh0aGlzLmVsZW1lbnQsIHRoaXMuYm91bmRzLCB0aGlzLnBhcmVudExheWVyICYmIHRoaXMucGFyZW50TGF5ZXIuZWxlbWVudClcbiAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IGZhbHNlXG4gICAgdGhpcy5fdXBkYXRlUGFyZW50QW5kQ2hpbGRMYXllcnMoKVxuICAgIFdlYlJlbmRlcmVyLmFkZFRvU2VyaWFsaXplUXVldWUodGhpcylcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRcbiAgICBjb25zdCBjaGlsZExheWVycyA9IHRoaXMuY2hpbGRMYXllcnNcbiAgICBjb25zdCBvbGRDaGlsZExheWVycyA9IGNoaWxkTGF5ZXJzLnNsaWNlKClcblxuICAgIGNvbnN0IHByZXZpb3VzUGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudExheWVyXG4gICAgdGhpcy5wYXJlbnRMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcih0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudClcbiAgICBpZiAocHJldmlvdXNQYXJlbnRMYXllciAhPT0gdGhpcy5wYXJlbnRMYXllcikge1xuICAgICAgdGhpcy5wYXJlbnRMYXllciAmJiB0aGlzLnBhcmVudExheWVyLmNoaWxkTGF5ZXJzLnB1c2godGhpcylcbiAgICAgIHRoaXMuZXZlbnRDYWxsYmFjaygnbGF5ZXJtb3ZlZCcsIHsgdGFyZ2V0OiBlbGVtZW50IH0pXG4gICAgfVxuXG4gICAgY2hpbGRMYXllcnMubGVuZ3RoID0gMFxuICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhlbGVtZW50LCB0aGlzLl90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIsIHRoaXMpXG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9sZENoaWxkTGF5ZXJzKSB7XG4gICAgICBjb25zdCBwYXJlbnRMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihjaGlsZC5lbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgICBpZiAoIXBhcmVudExheWVyKSB7XG4gICAgICAgIGNoaWxkLm5lZWRzUmVtb3ZhbCA9IHRydWVcbiAgICAgICAgY2hpbGRMYXllcnMucHVzaChjaGlsZClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIobjogTm9kZSkge1xuICAgIGlmICh0aGlzLm5lZWRzUmVtb3ZhbCkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgZWwgPSBuIGFzIEhUTUxFbGVtZW50XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbClcbiAgICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUpXG4gICAgaWYgKCFpZCkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFLCBXZWJSZW5kZXJlci5nZW5lcmF0ZUVsZW1lbnRVSUQoKSlcbiAgICB9XG4gICAgY29uc3QgaXNMYXllciA9IGVsLmhhc0F0dHJpYnV0ZShXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEUpXG4gICAgaWYgKGlzTGF5ZXIgfHwgZWwubm9kZU5hbWUgPT09ICdWSURFTycgfHwgc3R5bGVzLnRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgICBsZXQgY2hpbGQgPSBXZWJSZW5kZXJlci5sYXllcnMuZ2V0KGVsKVxuICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICBjaGlsZCA9IG5ldyBXZWJMYXllcihlbCwgdGhpcy5ldmVudENhbGxiYWNrKVxuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZExheWVycy5wdXNoKGNoaWxkKVxuICAgICAgcmV0dXJuIGZhbHNlIC8vIHN0b3AgdHJhdmVyc2luZyB0aGlzIHN1YnRyZWVcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHNlcmlhbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50Lm5vZGVOYW1lID09PSAnVklERU8nKSByZXR1cm5cblxuICAgIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuYm91bmRzXG5cbiAgICBpZiAod2lkdGggKiBoZWlnaHQgPiAwKSB7XG4gICAgICBnZXRQYWRkaW5nKHRoaXMuZWxlbWVudCwgdGhpcy5wYWRkaW5nKVxuICAgICAgZ2V0TWFyZ2luKHRoaXMuZWxlbWVudCwgdGhpcy5tYXJnaW4pXG4gICAgICBnZXRCb3JkZXIodGhpcy5lbGVtZW50LCB0aGlzLmJvcmRlcilcbiAgICAgIC8vIGFkZCBtYXJnaW5zIGFuZCBib3JkZXJcbiAgICAgIHdpZHRoICs9IE1hdGgubWF4KHRoaXMubWFyZ2luLmxlZnQsIDApICsgTWF0aC5tYXgodGhpcy5tYXJnaW4ucmlnaHQsIDApLy8gKyAwLjVcbiAgICAgIGhlaWdodCArPSBNYXRoLm1heCh0aGlzLm1hcmdpbi50b3AsIDApICsgTWF0aC5tYXgodGhpcy5tYXJnaW4uYm90dG9tLCAwKVxuICAgICAgLy8gd2lkdGggKz0gTWF0aC5tYXgodGhpcy5ib3JkZXIubGVmdCwwKSArIE1hdGgubWF4KHRoaXMuYm9yZGVyLnJpZ2h0LDApXG4gICAgICAvLyBoZWlnaHQgKz0gTWF0aC5tYXgodGhpcy5ib3JkZXIudG9wLDApICsgTWF0aC5tYXgodGhpcy5ib3JkZXIuYm90dG9tLDApXG5cbiAgICAgIC8vIGNyZWF0ZSBzdmcgbWFya3VwXG4gICAgICBjb25zdCBlbGVtZW50QXR0cmlidXRlID0gV2ViUmVuZGVyZXIuYXR0cmlidXRlSFRNTChXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsJycrdGhpcy5pZClcbiAgICAgIGNvbnN0IGxheWVyRWxlbWVudCA9IHRoaXMuZWxlbWVudCBhcyBIVE1MRWxlbWVudFxuICAgICAgY29uc3QgbmVlZHNJbmxpbmVCbG9jayA9IGdldENvbXB1dGVkU3R5bGUobGF5ZXJFbGVtZW50KS5kaXNwbGF5ID09PSAnaW5saW5lJ1xuICAgICAgV2ViUmVuZGVyZXIudXBkYXRlSW5wdXRBdHRyaWJ1dGVzKGxheWVyRWxlbWVudClcbiAgICAgIGNvbnN0IGxheWVySFRNTCA9IFdlYlJlbmRlcmVyLnNlcmlhbGl6ZXJcbiAgICAgICAgLnNlcmlhbGl6ZVRvU3RyaW5nKGxheWVyRWxlbWVudClcbiAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgZWxlbWVudEF0dHJpYnV0ZSxcbiAgICAgICAgICAgIGAke2VsZW1lbnRBdHRyaWJ1dGV9ICR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgICAgICAgIGAke25lZWRzSW5saW5lQmxvY2sgPyBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfSBgICtcbiAgICAgICAgICAgIFdlYlJlbmRlcmVyLmdldFBzdWVkb0F0dHJpYnV0ZXModGhpcy5wc3VlZG9TdGF0ZXMpXG4gICAgICAgIClcbiAgICAgIGNvbnN0IHBhcmVudHNIVE1MID0gdGhpcy5fZ2V0UGFyZW50c0hUTUwobGF5ZXJFbGVtZW50KVxuICAgICAgcGFyZW50c0hUTUxbMF0gPSBwYXJlbnRzSFRNTFswXS5yZXBsYWNlKFxuICAgICAgICAnaHRtbCcsXG4gICAgICAgICdodG1sICcgKyBXZWJSZW5kZXJlci5SRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFICsgJz1cIlwiICdcbiAgICAgIClcblxuICAgICAgY29uc3QgW3N2Z0NTU10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIFdlYlJlbmRlcmVyLmdldEVtYmVkZGVkQ1NTKHRoaXMuZWxlbWVudCksXG4gICAgICAgIFdlYlJlbmRlcmVyLmVtYmVkRXh0ZXJuYWxSZXNvdXJjZXModGhpcy5lbGVtZW50KVxuICAgICAgXSlcbiAgICAgIGNvbnN0IGRvY1N0cmluZyA9XG4gICAgICAgICc8c3ZnIHdpZHRoPVwiJyArXG4gICAgICAgIHdpZHRoICtcbiAgICAgICAgJ1wiIGhlaWdodD1cIicgK1xuICAgICAgICBoZWlnaHQgK1xuICAgICAgICAnXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxkZWZzPjxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj48IVtDREFUQVthW2hyZWZde2NvbG9yOiMwMDAwRUU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt9JyArXG4gICAgICAgIHN2Z0NTUy5qb2luKCcnKSArXG4gICAgICAgICddXT48L3N0eWxlPjwvZGVmcz48Zm9yZWlnbk9iamVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCInICtcbiAgICAgICAgd2lkdGggK1xuICAgICAgICAnXCIgaGVpZ2h0PVwiJyArXG4gICAgICAgIGhlaWdodCArXG4gICAgICAgICdcIj4nICtcbiAgICAgICAgcGFyZW50c0hUTUxbMF0gK1xuICAgICAgICBsYXllckhUTUwgK1xuICAgICAgICBwYXJlbnRzSFRNTFsxXSArXG4gICAgICAgICc8L2ZvcmVpZ25PYmplY3Q+PC9zdmc+J1xuICAgICAgY29uc3Qgc3ZnRG9jID0gdGhpcy5fc3ZnRG9jdW1lbnQgPSBkb2NTdHJpbmdcbiAgICAgIC8vIGNvbnN0IHN2Z1NyYyA9ICh0aGlzLl9zdmdTcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJyArIGVuY29kZVVSSUNvbXBvbmVudChkb2NTdHJpbmcpKVxuXG4gICAgICAvLyBjaGVjayBmb3IgZXhpc3RpbmcgY2FudmFzXG4gICAgICBjb25zdCBjYW52YXNIYXNoID0gV2ViTGF5ZXIuY2FudmFzSGFzaGVzLmdldChzdmdEb2MpXG4gICAgICBpZiAoY2FudmFzSGFzaCAmJiBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5oYXMoY2FudmFzSGFzaCkpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5nZXQoY2FudmFzSGFzaCkhXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyByYXN0ZXJpemUgdGhlIHN2ZyBkb2N1bWVudCBpZiBubyBleGlzdGluZyBjYW52YXMgbWF0Y2hlc1xuICAgICAgdGhpcy5jYWNoZWRCb3VuZHMuc2V0KHN2Z0RvYywgbmV3IEJvdW5kcygpLmNvcHkodGhpcy5ib3VuZHMpKVxuICAgICAgdGhpcy5jYWNoZWRNYXJnaW4uc2V0KHN2Z0RvYywgbmV3IEVkZ2VzKCkuY29weSh0aGlzLm1hcmdpbikpXG4gICAgICBXZWJSZW5kZXJlci5hZGRUb1Jhc3Rlcml6ZVF1ZXVlKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmFzdGVyaXplKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuc3ZnSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpXG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgICAgdGhpcy5fcmFzdGVyaXppbmdEb2N1bWVudCA9IHRoaXMuX3N2Z0RvY3VtZW50XG4gICAgICB0aGlzLnN2Z0ltYWdlLnNyYyA9ICh0aGlzLl9zdmdTcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLl9zdmdEb2N1bWVudCkpXG4gICAgICBpZiAodGhpcy5zdmdJbWFnZS5jb21wbGV0ZSAmJiB0aGlzLnN2Z0ltYWdlLmN1cnJlbnRTcmMgPT09IHRoaXMuc3ZnSW1hZ2Uuc3JjKSB7XG4gICAgICAgIFdlYlJlbmRlcmVyLmFkZFRvUmVuZGVyUXVldWUodGhpcylcbiAgICAgICAgdGhpcy5zdmdJbWFnZS5vbmxvYWQgPSBudWxsXG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc3ZnRG9jID0gdGhpcy5fcmFzdGVyaXppbmdEb2N1bWVudFxuICAgIC8vIGNvbnN0IHNyYyA9IHRoaXMuc3ZnSW1hZ2UuY3VycmVudFNyY1xuICAgIGlmICghdGhpcy5jYWNoZWRCb3VuZHMuaGFzKHN2Z0RvYykgfHwgIXRoaXMuY2FjaGVkTWFyZ2luLmhhcyhzdmdEb2MpKSB7XG4gICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdmdJbWFnZS5jb21wbGV0ZSkge1xuICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jYWNoZWRCb3VuZHMuZ2V0KHN2Z0RvYykhXG4gICAgbGV0IHsgbGVmdCwgdG9wIH0gPSB0aGlzLmNhY2hlZE1hcmdpbi5nZXQoc3ZnRG9jKSFcblxuICAgIGNvbnN0IGhhc2hpbmdDYW52YXMgPSB0aGlzLl9oYXNoaW5nQ2FudmFzXG4gICAgbGV0IGh3ID0gaGFzaGluZ0NhbnZhcy53aWR0aFxuICAgIGxldCBoaCA9IGhhc2hpbmdDYW52YXMuaGVpZ2h0XG4gICAgY29uc3QgaGN0eCA9IGhhc2hpbmdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSFcbiAgICBoY3R4LmNsZWFyUmVjdCgwLCAwLCBodywgaGgpXG4gICAgaGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgIGhjdHguZHJhd0ltYWdlKHRoaXMuc3ZnSW1hZ2UsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgMCwgMCwgaHcsIGhoKVxuICAgIGNvbnN0IGhhc2hEYXRhID0gaGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaHcsIGhoKS5kYXRhXG4gICAgY29uc3QgbmV3SGFzaCA9XG4gICAgICBXZWJSZW5kZXJlci5hcnJheUJ1ZmZlclRvQmFzZTY0KHNoYTI1Ni5oYXNoKG5ldyBVaW50OEFycmF5KGhhc2hEYXRhKSkpICtcbiAgICAgICc/dz0nICtcbiAgICAgIHdpZHRoICtcbiAgICAgICc7aD0nICtcbiAgICAgIGhlaWdodFxuICAgIFdlYkxheWVyLmNhbnZhc0hhc2hlcy5zZXQoc3ZnRG9jLCBuZXdIYXNoKVxuXG4gICAgY29uc3QgYmxhbmtSZXRyeUNvdW50ID0gV2ViTGF5ZXIuYmxhbmtSZXRyeUNvdW50cy5nZXQoc3ZnRG9jKXx8MFxuICAgIGlmIChXZWJSZW5kZXJlci5pc0JsYW5rSW1hZ2UoaGFzaERhdGEpICYmIGJsYW5rUmV0cnlDb3VudCA8IDEwKSB7XG4gICAgICBXZWJMYXllci5ibGFua1JldHJ5Q291bnRzLnNldChzdmdEb2MsYmxhbmtSZXRyeUNvdW50KzEpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IFdlYlJlbmRlcmVyLmFkZFRvUmVuZGVyUXVldWUodGhpcyksIDUwMClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChXZWJMYXllci5jYWNoZWRDYW52YXNlcy5oYXMobmV3SGFzaCkpIHtcbiAgICAgIHRoaXMuY2FudmFzID0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuZ2V0KG5ld0hhc2gpIVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9XG4gICAgICB0aGlzLnBpeGVsUmF0aW8gfHxcbiAgICAgIHBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5QSVhFTF9SQVRJT19BVFRSSUJVVEUpISkgfHxcbiAgICAgIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXG4gICAgY29uc3QgbmV3Q2FudmFzID1cbiAgICAgIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLnNpemUgPT09IFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmxpbWl0XG4gICAgICAgID8gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuc2hpZnQoKSFbMV1cbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgIGxldCB3ID0gKG5ld0NhbnZhcy53aWR0aCA9IHdpZHRoICogcGl4ZWxSYXRpbylcbiAgICBsZXQgaCA9IChuZXdDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogcGl4ZWxSYXRpbylcbiAgICBjb25zdCBjdHggPSBuZXdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSFcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHcsIGgpXG4gICAgY3R4LmRyYXdJbWFnZSh0aGlzLnN2Z0ltYWdlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIDAsIDAsIHcsIGgpXG4gICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuc2V0KG5ld0hhc2gsIG5ld0NhbnZhcylcbiAgICB0aGlzLmNhbnZhcyA9IG5ld0NhbnZhc1xuICB9XG5cbiAgLy8gR2V0IGFsbCBwYXJlbnRzIG9mIHRoZSBlbWJlZGVkIGh0bWwgYXMgdGhlc2UgY2FuIGVmZmVjdCB0aGUgcmVzdWx0aW5nIHN0eWxlc1xuICBwcml2YXRlIF9nZXRQYXJlbnRzSFRNTChlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgY29uc3Qgb3BlbnMgPSBbXVxuICAgIGNvbnN0IGNsb3NlcyA9IFtdXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudCFcbiAgICBpZiAoIXBhcmVudCkgcGFyZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgZG8ge1xuICAgICAgbGV0IHRhZyA9IHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIGxldCBhdHRyaWJ1dGVzID0gJyAnXG4gICAgICBmb3IgKGNvbnN0IGEgb2YgcGFyZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGEubmFtZSA9PT0gJ3N0eWxlJykgY29udGludWVcbiAgICAgICAgYXR0cmlidXRlcyArPSBgJHthLm5hbWV9PVwiJHthLnZhbHVlfVwiIGBcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wZW4gPVxuICAgICAgICAnPCcgK1xuICAgICAgICB0YWcgK1xuICAgICAgICAodGFnID09PSAnaHRtbCdcbiAgICAgICAgICA/IGAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIgc3R5bGU9XCItLXgtd2lkdGg6JHtcbiAgICAgICAgICAgICAgdGhpcy5ib3VuZHMud2lkdGh9cHg7LS14LWhlaWdodDoke3RoaXMuYm91bmRzLmhlaWdodH1weDstLXgtaW5saW5lLXRvcDoke1xuICAgICAgICAgICAgICB0aGlzLmJvcmRlci50b3AgKyB0aGlzLm1hcmdpbi50b3AgKyB0aGlzLnBhZGRpbmcudG9wfXB4XCIgYFxuICAgICAgICAgIDogJycpICtcbiAgICAgICAgYXR0cmlidXRlcyArXG4gICAgICAgIGAke1dlYlJlbmRlcmVyLlJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFfT1cIlwiIGAgK1xuICAgICAgICAvLyBXZWJSZW5kZXJlci5nZXRQc3VlZG9BdHRyaWJ1dGVzKHBhcmVudCkgK1xuICAgICAgICAnID4nXG4gICAgICBvcGVucy51bnNoaWZ0KG9wZW4pXG4gICAgICBjb25zdCBjbG9zZSA9ICc8LycgKyB0YWcgKyAnPidcbiAgICAgIGNsb3Nlcy5wdXNoKGNsb3NlKVxuICAgICAgaWYgKHRhZyA9PSAnaHRtbCcpIGJyZWFrXG4gICAgfSB3aGlsZSAoKHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50ISkpXG4gICAgcmV0dXJuIFtvcGVucy5qb2luKCcnKSwgY2xvc2VzLmpvaW4oJycpXVxuICB9XG59IiwidmFyIHJlc2l6ZU9ic2VydmVycyA9IFtdO1xuZXhwb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH07XG4iLCJ2YXIgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zO1xuKGZ1bmN0aW9uIChSZXNpemVPYnNlcnZlckJveE9wdGlvbnMpIHtcbiAgICBSZXNpemVPYnNlcnZlckJveE9wdGlvbnNbXCJCT1JERVJfQk9YXCJdID0gXCJib3JkZXItYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQ09OVEVOVF9CT1hcIl0gPSBcImNvbnRlbnQtYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiREVWSUNFX1BJWEVMX0NPTlRFTlRfQk9YXCJdID0gXCJkZXZpY2UtcGl4ZWwtY29udGVudC1ib3hcIjtcbn0pKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB8fCAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zID0ge30pKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9O1xuIiwidmFyIG1zZyA9ICdSZXNpemVPYnNlcnZlciBsb29wIGNvbXBsZXRlZCB3aXRoIHVuZGVsaXZlcmVkIG5vdGlmaWNhdGlvbnMuJztcbnZhciBkZWxpdmVyUmVzaXplTG9vcEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudDtcbiAgICBpZiAodHlwZW9mIEVycm9yRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZlbnQgPSBuZXcgRXJyb3JFdmVudCgnZXJyb3InLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBtc2dcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICBldmVudC5pbml0RXZlbnQoJ2Vycm9yJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZXZlbnQubWVzc2FnZSA9IG1zZztcbiAgICB9XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufTtcbmV4cG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfTtcbiIsImV4cG9ydCB2YXIgZnJlZXplID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LmZyZWV6ZShvYmopOyB9O1xuIiwidmFyIHRyaWdnZXI7XG52YXIgY2FsbGJhY2tzID0gW107XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2tzLnNwbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoKTsgfSk7IH07XG52YXIgcXVldWVNaWNyb1Rhc2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAoIXRyaWdnZXIpIHtcbiAgICAgICAgdmFyIHRvZ2dsZV8xID0gMDtcbiAgICAgICAgdmFyIGVsXzEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIHZhciBjb25maWcgPSB7IGNoYXJhY3RlckRhdGE6IHRydWUgfTtcbiAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gbm90aWZ5KCk7IH0pLm9ic2VydmUoZWxfMSwgY29uZmlnKTtcbiAgICAgICAgdHJpZ2dlciA9IGZ1bmN0aW9uICgpIHsgZWxfMS50ZXh0Q29udGVudCA9IFwiXCIgKyAodG9nZ2xlXzEgPyB0b2dnbGVfMS0tIDogdG9nZ2xlXzErKyk7IH07XG4gICAgfVxuICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB0cmlnZ2VyKCk7XG59O1xuZXhwb3J0IHsgcXVldWVNaWNyb1Rhc2sgfTtcbiIsImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlclNpemUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZShpbmxpbmVTaXplLCBibG9ja1NpemUpIHtcbiAgICAgICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgICAgIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU2l6ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfTtcbiIsImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBET01SZWN0UmVhZE9ubHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERPTVJlY3RSZWFkT25seSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudG9wID0gdGhpcy55O1xuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLng7XG4gICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGg7XG4gICAgICAgIHJldHVybiBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIERPTVJlY3RSZWFkT25seS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB4ID0gX2EueCwgeSA9IF9hLnksIHRvcCA9IF9hLnRvcCwgcmlnaHQgPSBfYS5yaWdodCwgYm90dG9tID0gX2EuYm90dG9tLCBsZWZ0ID0gX2EubGVmdCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5LCB0b3A6IHRvcCwgcmlnaHQ6IHJpZ2h0LCBib3R0b206IGJvdHRvbSwgbGVmdDogbGVmdCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH07XG4gICAgRE9NUmVjdFJlYWRPbmx5LmZyb21SZWN0ID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICByZXR1cm4gbmV3IERPTVJlY3RSZWFkT25seShyZWN0YW5nbGUueCwgcmVjdGFuZ2xlLnksIHJlY3RhbmdsZS53aWR0aCwgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gRE9NUmVjdFJlYWRPbmx5O1xufSgpKTtcbmV4cG9ydCB7IERPTVJlY3RSZWFkT25seSB9O1xuIiwidmFyIGlzU1ZHID0gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAnZ2V0QkJveCcgaW4gdGFyZ2V0OyB9O1xudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmIChpc1NWRyh0YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuICF3aWR0aCAmJiAhaGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgX2IgPSB0YXJnZXQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCA9IF9iLm9mZnNldEhlaWdodDtcbiAgICByZXR1cm4gIShvZmZzZXRXaWR0aCB8fCBvZmZzZXRIZWlnaHQgfHwgdGFyZ2V0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbn07XG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBzY29wZSA9IChfYiA9IChfYSA9IG9iaikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldztcbiAgICByZXR1cm4gISEoc2NvcGUgJiYgb2JqIGluc3RhbmNlb2Ygc2NvcGUuRWxlbWVudCk7XG59O1xudmFyIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgY2FzZSAnQVVESU8nOlxuICAgICAgICBjYXNlICdFTUJFRCc6XG4gICAgICAgIGNhc2UgJ09CSkVDVCc6XG4gICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgIGNhc2UgJ0lGUkFNRSc6XG4gICAgICAgIGNhc2UgJ0lNRyc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiwgaXNFbGVtZW50LCBpc1JlcGxhY2VkRWxlbWVudCB9O1xuIiwiZXhwb3J0IHZhciBnbG9iYWwgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2l6ZSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyU2l6ZSc7XG5pbXBvcnQgeyBET01SZWN0UmVhZE9ubHkgfSBmcm9tICcuLi9ET01SZWN0UmVhZE9ubHknO1xuaW1wb3J0IHsgaXNTVkcsIGlzSGlkZGVuIH0gZnJvbSAnLi4vdXRpbHMvZWxlbWVudCc7XG5pbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuLi91dGlscy9mcmVlemUnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFsJztcbnZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgc2Nyb2xsUmVnZXhwID0gL2F1dG98c2Nyb2xsLztcbnZhciB2ZXJ0aWNhbFJlZ2V4cCA9IC9edGJ8dmVydGljYWwvO1xudmFyIElFID0gKC9tc2llfHRyaWRlbnQvaSkudGVzdChnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBwYXJzZURpbWVuc2lvbiA9IGZ1bmN0aW9uIChwaXhlbCkgeyByZXR1cm4gcGFyc2VGbG9hdChwaXhlbCB8fCAnMCcpOyB9O1xudmFyIHNpemUgPSBmdW5jdGlvbiAoaW5saW5lU2l6ZSwgYmxvY2tTaXplLCBzd2l0Y2hTaXplcykge1xuICAgIGlmIChpbmxpbmVTaXplID09PSB2b2lkIDApIHsgaW5saW5lU2l6ZSA9IDA7IH1cbiAgICBpZiAoYmxvY2tTaXplID09PSB2b2lkIDApIHsgYmxvY2tTaXplID0gMDsgfVxuICAgIGlmIChzd2l0Y2hTaXplcyA9PT0gdm9pZCAwKSB7IHN3aXRjaFNpemVzID0gZmFsc2U7IH1cbiAgICByZXR1cm4gbmV3IFJlc2l6ZU9ic2VydmVyU2l6ZSgoc3dpdGNoU2l6ZXMgPyBibG9ja1NpemUgOiBpbmxpbmVTaXplKSB8fCAwLCAoc3dpdGNoU2l6ZXMgPyBpbmxpbmVTaXplIDogYmxvY2tTaXplKSB8fCAwKTtcbn07XG52YXIgemVyb0JveGVzID0gZnJlZXplKHtcbiAgICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplKCksXG4gICAgYm9yZGVyQm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKCksXG4gICAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkoMCwgMCwgMCwgMClcbn0pO1xudmFyIGNhbGN1bGF0ZUJveFNpemVzID0gZnVuY3Rpb24gKHRhcmdldCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgaWYgKGZvcmNlUmVjYWxjdWxhdGlvbiA9PT0gdm9pZCAwKSB7IGZvcmNlUmVjYWxjdWxhdGlvbiA9IGZhbHNlOyB9XG4gICAgaWYgKGNhY2hlLmhhcyh0YXJnZXQpICYmICFmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldCh0YXJnZXQpO1xuICAgIH1cbiAgICBpZiAoaXNIaWRkZW4odGFyZ2V0KSkge1xuICAgICAgICBjYWNoZS5zZXQodGFyZ2V0LCB6ZXJvQm94ZXMpO1xuICAgICAgICByZXR1cm4gemVyb0JveGVzO1xuICAgIH1cbiAgICB2YXIgY3MgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XG4gICAgdmFyIHN2ZyA9IGlzU1ZHKHRhcmdldCkgJiYgdGFyZ2V0Lm93bmVyU1ZHRWxlbWVudCAmJiB0YXJnZXQuZ2V0QkJveCgpO1xuICAgIHZhciByZW1vdmVQYWRkaW5nID0gIUlFICYmIGNzLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnO1xuICAgIHZhciBzd2l0Y2hTaXplcyA9IHZlcnRpY2FsUmVnZXhwLnRlc3QoY3Mud3JpdGluZ01vZGUgfHwgJycpO1xuICAgIHZhciBjYW5TY3JvbGxWZXJ0aWNhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1kgfHwgJycpO1xuICAgIHZhciBjYW5TY3JvbGxIb3Jpem9udGFsbHkgPSAhc3ZnICYmIHNjcm9sbFJlZ2V4cC50ZXN0KGNzLm92ZXJmbG93WCB8fCAnJyk7XG4gICAgdmFyIHBhZGRpbmdUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1RvcCk7XG4gICAgdmFyIHBhZGRpbmdSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nUmlnaHQpO1xuICAgIHZhciBwYWRkaW5nQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdCb3R0b20pO1xuICAgIHZhciBwYWRkaW5nTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nTGVmdCk7XG4gICAgdmFyIGJvcmRlclRvcCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJUb3BXaWR0aCk7XG4gICAgdmFyIGJvcmRlclJpZ2h0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlclJpZ2h0V2lkdGgpO1xuICAgIHZhciBib3JkZXJCb3R0b20gPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgIHZhciBib3JkZXJMZWZ0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgdmFyIGhvcml6b250YWxQYWRkaW5nID0gcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsUGFkZGluZyA9IHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tO1xuICAgIHZhciBob3Jpem9udGFsQm9yZGVyQXJlYSA9IGJvcmRlckxlZnQgKyBib3JkZXJSaWdodDtcbiAgICB2YXIgdmVydGljYWxCb3JkZXJBcmVhID0gYm9yZGVyVG9wICsgYm9yZGVyQm90dG9tO1xuICAgIHZhciBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbEhvcml6b250YWxseSA/IDAgOiB0YXJnZXQub2Zmc2V0SGVpZ2h0IC0gdmVydGljYWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudEhlaWdodDtcbiAgICB2YXIgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgPSAhY2FuU2Nyb2xsVmVydGljYWxseSA/IDAgOiB0YXJnZXQub2Zmc2V0V2lkdGggLSBob3Jpem9udGFsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRXaWR0aDtcbiAgICB2YXIgd2lkdGhSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gaG9yaXpvbnRhbFBhZGRpbmcgKyBob3Jpem9udGFsQm9yZGVyQXJlYSA6IDA7XG4gICAgdmFyIGhlaWdodFJlZHVjdGlvbiA9IHJlbW92ZVBhZGRpbmcgPyB2ZXJ0aWNhbFBhZGRpbmcgKyB2ZXJ0aWNhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBjb250ZW50V2lkdGggPSBzdmcgPyBzdmcud2lkdGggOiBwYXJzZURpbWVuc2lvbihjcy53aWR0aCkgLSB3aWR0aFJlZHVjdGlvbiAtIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzO1xuICAgIHZhciBjb250ZW50SGVpZ2h0ID0gc3ZnID8gc3ZnLmhlaWdodCA6IHBhcnNlRGltZW5zaW9uKGNzLmhlaWdodCkgLSBoZWlnaHRSZWR1Y3Rpb24gLSBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzO1xuICAgIHZhciBib3JkZXJCb3hXaWR0aCA9IGNvbnRlbnRXaWR0aCArIGhvcml6b250YWxQYWRkaW5nICsgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgKyBob3Jpem9udGFsQm9yZGVyQXJlYTtcbiAgICB2YXIgYm9yZGVyQm94SGVpZ2h0ID0gY29udGVudEhlaWdodCArIHZlcnRpY2FsUGFkZGluZyArIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgKyB2ZXJ0aWNhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJveGVzID0gZnJlZXplKHtcbiAgICAgICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZShNYXRoLnJvdW5kKGNvbnRlbnRXaWR0aCAqIGRldmljZVBpeGVsUmF0aW8pLCBNYXRoLnJvdW5kKGNvbnRlbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvKSwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBib3JkZXJCb3hTaXplOiBzaXplKGJvcmRlckJveFdpZHRoLCBib3JkZXJCb3hIZWlnaHQsIHN3aXRjaFNpemVzKSxcbiAgICAgICAgY29udGVudEJveFNpemU6IHNpemUoY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KHBhZGRpbmdMZWZ0LCBwYWRkaW5nVG9wLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpXG4gICAgfSk7XG4gICAgY2FjaGUuc2V0KHRhcmdldCwgYm94ZXMpO1xuICAgIHJldHVybiBib3hlcztcbn07XG52YXIgY2FsY3VsYXRlQm94U2l6ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9ic2VydmVkQm94LCBmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICB2YXIgX2EgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbiksIGJvcmRlckJveFNpemUgPSBfYS5ib3JkZXJCb3hTaXplLCBjb250ZW50Qm94U2l6ZSA9IF9hLmNvbnRlbnRCb3hTaXplLCBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gX2EuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICBzd2l0Y2ggKG9ic2VydmVkQm94KSB7XG4gICAgICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkRFVklDRV9QSVhFTF9DT05URU5UX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5CT1JERVJfQk9YOlxuICAgICAgICAgICAgcmV0dXJuIGJvcmRlckJveFNpemU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveFNpemU7XG4gICAgfVxufTtcbmV4cG9ydCB7IGNhbGN1bGF0ZUJveFNpemUsIGNhbGN1bGF0ZUJveFNpemVzIH07XG4iLCJpbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplcyB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCkge1xuICAgICAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdCA9IGJveGVzLmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmJvcmRlckJveFNpemUgPSBmcmVlemUoW2JveGVzLmJvcmRlckJveFNpemVdKTtcbiAgICAgICAgdGhpcy5jb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuY29udGVudEJveFNpemVdKTtcbiAgICAgICAgdGhpcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfTtcbiIsImltcG9ydCB7IGlzSGlkZGVuIH0gZnJvbSAnLi4vdXRpbHMvZWxlbWVudCc7XG52YXIgY2FsY3VsYXRlRGVwdGhGb3JOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoaXNIaWRkZW4obm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBkZXB0aCArPSAxO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoO1xufTtcbmV4cG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG52YXIgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCA9IGZ1bmN0aW9uIChkZXB0aCkge1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnNwbGljZSgwLCByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5vYnNlcnZhdGlvblRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzVGFyZ2V0KG90KSB7XG4gICAgICAgICAgICBpZiAob3QuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KSA+IGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLmFjdGl2ZVRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfTtcbiIsImltcG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9IGZyb20gJy4uL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvcic7XG5pbXBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2Jyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoJztcbnZhciBwcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgd2hpbGUgKGhhc0FjdGl2ZU9ic2VydmF0aW9ucygpKSB7XG4gICAgICAgIGRlcHRoID0gYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zKCk7XG4gICAgICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIH1cbiAgICBpZiAoaGFzU2tpcHBlZE9ic2VydmF0aW9ucygpKSB7XG4gICAgICAgIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoID4gMDtcbn07XG5leHBvcnQgeyBwcm9jZXNzIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc0FjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbiAocm8pIHsgcmV0dXJuIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHByb2Nlc3MgfSBmcm9tICcuL3Byb2Nlc3MnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi9nbG9iYWwnO1xuaW1wb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9IGZyb20gJy4vcXVldWVSZXNpemVPYnNlcnZlcic7XG52YXIgd2F0Y2hpbmcgPSAwO1xudmFyIGlzV2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhIXdhdGNoaW5nOyB9O1xudmFyIENBVENIX1BFUklPRCA9IDI1MDtcbnZhciBvYnNlcnZlckNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XG52YXIgZXZlbnRzID0gW1xuICAgICdyZXNpemUnLFxuICAgICdsb2FkJyxcbiAgICAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbnN0YXJ0JyxcbiAgICAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICAna2V5dXAnLFxuICAgICdrZXlkb3duJyxcbiAgICAnbW91c2V1cCcsXG4gICAgJ21vdXNlZG93bicsXG4gICAgJ21vdXNlb3ZlcicsXG4gICAgJ21vdXNlb3V0JyxcbiAgICAnYmx1cicsXG4gICAgJ2ZvY3VzJ1xuXTtcbnZhciB0aW1lID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7IHRpbWVvdXQgPSAwOyB9XG4gICAgcmV0dXJuIERhdGUubm93KCkgKyB0aW1lb3V0O1xufTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbnZhciBTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjaGVkdWxlKCk7IH07XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gQ0FUQ0hfUEVSSU9EOyB9XG4gICAgICAgIGlmIChzY2hlZHVsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdW50aWwgPSB0aW1lKHRpbWVvdXQpO1xuICAgICAgICBxdWV1ZVJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50c0hhdmVSZXNpemVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSBwcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gdW50aWwgLSB0aW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1dhdGNoaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNIYXZlUmVzaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4oMTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bih0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vYnNlcnZlciAmJiBfdGhpcy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTsgfTtcbiAgICAgICAgZG9jdW1lbnQuYm9keSA/IGNiKCkgOiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNiKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciAmJiB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBfdGhpcy5saXN0ZW5lciwgdHJ1ZSk7IH0pO1xuICAgICAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG52YXIgc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcigpO1xudmFyIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAhd2F0Y2hpbmcgJiYgbiA+IDAgJiYgc2NoZWR1bGVyLnN0YXJ0KCk7XG4gICAgd2F0Y2hpbmcgKz0gbjtcbiAgICAhd2F0Y2hpbmcgJiYgc2NoZWR1bGVyLnN0b3AoKTtcbn07XG5leHBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH07XG4iLCJpbXBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9IGZyb20gJy4vcXVldWVNaWNyb1Rhc2snO1xudmFyIHF1ZXVlUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICBxdWV1ZU1pY3JvVGFzayhmdW5jdGlvbiBSZXNpemVPYnNlcnZlcigpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBxdWV1ZVJlc2l6ZU9ic2VydmVyIH07XG4iLCJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgaXNTVkcsIGlzUmVwbGFjZWRFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBza2lwTm90aWZ5T25FbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHJldHVybiAhaXNTVkcodGFyZ2V0KVxuICAgICAgICAmJiAhaXNSZXBsYWNlZEVsZW1lbnQodGFyZ2V0KVxuICAgICAgICAmJiBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PT0gJ2lubGluZSc7XG59O1xudmFyIFJlc2l6ZU9ic2VydmF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9ic2VydmVkQm94KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLm9ic2VydmVkQm94ID0gb2JzZXJ2ZWRCb3ggfHwgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkNPTlRFTlRfQk9YO1xuICAgICAgICB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSB7XG4gICAgICAgICAgICBpbmxpbmVTaXplOiAwLFxuICAgICAgICAgICAgYmxvY2tTaXplOiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpemUgPSBjYWxjdWxhdGVCb3hTaXplKHRoaXMudGFyZ2V0LCB0aGlzLm9ic2VydmVkQm94LCB0cnVlKTtcbiAgICAgICAgaWYgKHNraXBOb3RpZnlPbkVsZW1lbnQodGhpcy50YXJnZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RSZXBvcnRlZFNpemUuaW5saW5lU2l6ZSAhPT0gc2l6ZS5pbmxpbmVTaXplXG4gICAgICAgICAgICB8fCB0aGlzLmxhc3RSZXBvcnRlZFNpemUuYmxvY2tTaXplICE9PSBzaXplLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmF0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH07XG4iLCJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iLCJpbXBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH0gZnJvbSAnLi91dGlscy9zY2hlZHVsZXInO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2YXRpb24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmF0aW9uJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckRldGFpbCc7XG5pbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgb2JzZXJ2ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIGdldE9ic2VydmF0aW9uSW5kZXggPSBmdW5jdGlvbiAob2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAob2JzZXJ2YXRpb25UYXJnZXRzW2ldLnRhcmdldCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xudmFyIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCkge1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG5ldyBSZXNpemVPYnNlcnZlckRldGFpbChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spO1xuICAgICAgICBvYnNlcnZlck1hcC5zZXQocmVzaXplT2JzZXJ2ZXIsIGRldGFpbCk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIub2JzZXJ2ZSA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgZmlyc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAwO1xuICAgICAgICBpZiAoZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpIDwgMCkge1xuICAgICAgICAgICAgZmlyc3RPYnNlcnZhdGlvbiAmJiByZXNpemVPYnNlcnZlcnMucHVzaChkZXRhaWwpO1xuICAgICAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5wdXNoKG5ldyBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9wdGlvbnMgJiYgb3B0aW9ucy5ib3gpKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50KDEpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCkge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpO1xuICAgICAgICB2YXIgbGFzdE9ic2VydmF0aW9uID0gZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT09IDE7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBsYXN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnNwbGljZShyZXNpemVPYnNlcnZlcnMuaW5kZXhPZihkZXRhaWwpLCAxKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50KC0xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChvdCkgeyByZXR1cm4gX3RoaXMudW5vYnNlcnZlKHJlc2l6ZU9ic2VydmVyLCBvdC50YXJnZXQpOyB9KTtcbiAgICAgICAgZGV0YWlsLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIGRldGFpbC5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBSZXNpemVPYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Jlc2l6ZU9ic2VydmVyJzogVGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFzIHBhcmFtZXRlciAxIGlzIG5vdCBhIGZ1bmN0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCh0aGlzLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdvYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUodGhpcywgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0KHRoaXMpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIgKCkgeyBbcG9seWZpbGwgY29kZV0gfSc7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfTtcbiIsImltcG9ydCB7RXZlbnRDYWxsYmFjaywgV2ViTGF5ZXJ9IGZyb20gJy4vV2ViTGF5ZXInXG5pbXBvcnQgeyBhZGRDU1NSdWxlIH0gZnJvbSAnLi9kb20tdXRpbHMnXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyIGFzIFBvbHlmaWxsIH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5jb25zdCBSZXNpemVPYnNlcnZlcjp0eXBlb2YgUG9seWZpbGwgPSAoc2VsZiBhcyBhbnkpLlJlc2l6ZU9ic2VydmVyIHx8IFBvbHlmaWxsXG5cblxudHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrSGFuZGxlID0gYW55XG50eXBlIFJlcXVlc3RJZGxlQ2FsbGJhY2tPcHRpb25zID0ge1xuICB0aW1lb3V0OiBudW1iZXJcbn1cbmV4cG9ydCB0eXBlIFJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSA9IHtcbiAgcmVhZG9ubHkgZGlkVGltZW91dDogYm9vbGVhblxuICB0aW1lUmVtYWluaW5nOiAoKSA9PiBudW1iZXJcbn1cblxuZGVjbGFyZSBmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrIChcbiAgY2FsbGJhY2s6IChkZWFkbGluZTogUmVxdWVzdElkbGVDYWxsYmFja0RlYWRsaW5lKSA9PiB2b2lkLFxuICBvcHRzPzogUmVxdWVzdElkbGVDYWxsYmFja09wdGlvbnNcbikgOiBSZXF1ZXN0SWRsZUNhbGxiYWNrSGFuZGxlXG5cbmRlY2xhcmUgZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrKGhhbmRsZTogUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZSkgOiB2b2lkXG5cblxuZnVuY3Rpb24gZW5zdXJlRWxlbWVudElzSW5Eb2N1bWVudChlbGVtZW50OiBFbGVtZW50KTogRWxlbWVudCB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50IVxuICBjb25zdCByb290ID0gZWxlbWVudC5nZXRSb290Tm9kZSgpIGFzIFNoYWRvd1Jvb3RcbiAgaWYgKGRvY3VtZW50LmNvbnRhaW5zKGVsZW1lbnQpIHx8IGRvY3VtZW50LmNvbnRhaW5zKHJvb3Q/Lmhvc3QpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuICBjb25zdCBjb250YWluZXIgPSByb290Lmhvc3QgYXMgSFRNTEVsZW1lbnR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEUsICcnKVxuICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnXG4gIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJ1xuICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnXG4gIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnLTEwMDAwMHB4J1xuICBjb250YWluZXIuc3R5bGVbJ2NvbnRhaW4nIGFzIGFueV0gPSAnc3RyaWN0J1xuICAvLyBjb25zdCBjb250YWluZXJTaGFkb3cgPSBjb250YWluZXIuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KVxuICAvLyBjb250YWluZXJTaGFkb3cuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgaWYgKCFyb290Lmhvc3QpIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KVxuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxuICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuY29uc3Qgc2NyYXRjaE1hdDEgPSBuZXcgTWF0cml4NCgpXG5jb25zdCBzY3JhdGNoTWF0MiA9IG5ldyBNYXRyaXg0KClcbmNvbnN0IHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKClcbmNvbnN0IG1pY3JvdGFzayA9IFByb21pc2UucmVzb2x2ZSgpXG5cbmV4cG9ydCBjbGFzcyBXZWJSZW5kZXJlciB7XG4gIHN0YXRpYyBBVFRSSUJVVEVfUFJFRklYID0gJ3hyJ1xuICBzdGF0aWMgZ2V0IEVMRU1FTlRfVUlEX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctdWlkJyB9XG4gIHN0YXRpYyBnZXQgSE9WRVJfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1ob3Zlcid9XG4gIHN0YXRpYyBnZXQgQUNUSVZFX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctYWN0aXZlJ31cbiAgc3RhdGljIGdldCBGT0NVU19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWZvY3VzJ31cbiAgc3RhdGljIGdldCBUQVJHRVRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy10YXJnZXQnfVxuICBzdGF0aWMgZ2V0IExBWUVSX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctbGF5ZXInfVxuICBzdGF0aWMgZ2V0IFBJWEVMX1JBVElPX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcGl4ZWwtcmF0aW8nIH1cblxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZycgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctcGFyZW50JyB9XG4gIHN0YXRpYyBnZXQgUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1jb250YWluZXInIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcmVuZGVyaW5nLWlubGluZScgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19ET0NVTUVOVF9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1kb2N1bWVudCcgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9uZXh0VUlEID0gMFxuICBzdGF0aWMgZ2VuZXJhdGVFbGVtZW50VUlEKCkgeyByZXR1cm4gJycgKyAodGhpcy5fbmV4dFVJRCArKykgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKVxuXG4gIHN0YXRpYyByb290TGF5ZXJzOiBNYXA8RWxlbWVudCwgV2ViTGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHN0YXRpYyBsYXllcnM6IE1hcDxFbGVtZW50LCBXZWJMYXllcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzdGF0aWMgbXV0YXRpb25PYnNlcnZlcnM6IE1hcDxFbGVtZW50LCBNdXRhdGlvbk9ic2VydmVyPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHN0YXRpYyByZXNpemVPYnNlcnZlcnM6IE1hcDxFbGVtZW50LCBQb2x5ZmlsbD4gPSBuZXcgTWFwKClcbiAgc3RhdGljIHNlcmlhbGl6ZVF1ZXVlID0gW10gYXMgV2ViTGF5ZXJbXVxuICBzdGF0aWMgcmFzdGVyaXplUXVldWUgPSBbXSBhcyBXZWJMYXllcltdXG4gIHN0YXRpYyByZW5kZXJRdWV1ZSA9IFtdIGFzIFdlYkxheWVyW11cblxuICAvLyBzdGF0aWMgcmVhZG9ubHkgdmlydHVhbEhvdmVyRWxlbWVudHMgPSBuZXcgU2V0PEVsZW1lbnQ+KClcbiAgc3RhdGljIHJlYWRvbmx5IGZvY3VzRWxlbWVudDpIVE1MRWxlbWVudHxudWxsID0gbnVsbCAvLyBpLmUuLCBlbGVtZW50IGlzIHJlYWR5IHRvIHJlY2VpdmUgaW5wdXRcbiAgc3RhdGljIHJlYWRvbmx5IGFjdGl2ZUVsZW1lbnQ6RWxlbWVudHxudWxsID0gbnVsbCAvLyBpLmUuLCBidXR0b24gZWxlbWVudCBpcyBiZWluZyBcInByZXNzZWQgZG93blwiXG4gIHN0YXRpYyByZWFkb25seSB0YXJnZXRFbGVtZW50OkVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgdGhlIGVsZW1lbnQgd2hvc2UgSUQgbWF0Y2hlcyB0aGUgdXJsICNoYXNoXG5cbiAgLy8gc3RhdGljIGNvbnRhaW5zSG92ZXIoZWxlbWVudDogRWxlbWVudCkge1xuICAvLyAgIGZvciAoY29uc3QgdCBvZiB0aGlzLnZpcnR1YWxIb3ZlckVsZW1lbnRzKSB7XG4gIC8vICAgICBpZiAoZWxlbWVudC5jb250YWlucyh0KSkgcmV0dXJuIHRydWVcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIGZhbHNlXG4gIC8vIH1cblxuICBzdGF0aWMgZ2V0UHN1ZWRvQXR0cmlidXRlcyhzdGF0ZXM6IHR5cGVvZiBXZWJMYXllci5wcm90b3R5cGUucHN1ZWRvU3RhdGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGAke3N0YXRlcy5ob3ZlciA/IGAke3RoaXMuSE9WRVJfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gICAgICBgJHtzdGF0ZXMuZm9jdXMgPyBgJHt0aGlzLkZPQ1VTX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLmFjdGl2ZSA/IGAke3RoaXMuQUNUSVZFX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLnRhcmdldCA/IGAke3RoaXMuVEFSR0VUX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWBcbiAgICApXG4gIH1cblxuICBzdGF0aWMgcm9vdE5vZGVPYnNlcnZlcnMgPSBuZXcgTWFwPERvY3VtZW50fFNoYWRvd1Jvb3QsIE11dGF0aW9uT2JzZXJ2ZXI+KClcbiAgLy8gc3RhdGljIGRvY3VtZW50T2JzZXJ2ZXIgOiBNdXRhdGlvbk9ic2VydmVyXG4gIC8vIHN0YXRpYyBfZGlkSW5pdCA9IGZhbHNlXG5cbiAgc3RhdGljIGluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQ6RWxlbWVudCkge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50XG4gICAgY29uc3Qgcm9vdE5vZGUgPSBlbGVtZW50LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdHxEb2N1bWVudFxuICAgIGNvbnN0IHN0eWxlUm9vdCA9ICdoZWFkJyBpbiByb290Tm9kZSA/IHJvb3ROb2RlLmhlYWQgOiByb290Tm9kZVxuICAgIGlmICh0aGlzLnJvb3ROb2RlT2JzZXJ2ZXJzLmdldChyb290Tm9kZSkpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgIHN0eWxlUm9vdC5hcHBlbmQoc3R5bGUpXG4gICAgY29uc3Qgc2hlZXQgPSBzdHlsZS5zaGVldCBhcyBDU1NTdHlsZVNoZWV0XG4gICAgbGV0IGkgPSAwXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19ET0NVTUVOVF9BVFRSSUJVVEV9XSAqYCxcbiAgICAgICd0cmFuc2Zvcm06IG5vbmUgIWltcG9ydGFudDsnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV0sIFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSAqYCxcbiAgICAgICd2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dIFske1dlYlJlbmRlcmVyLkxBWUVSX0FUVFJJQlVURX1dLCBbJHtcbiAgICAgICAgV2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dIFske1dlYlJlbmRlcmVyLkxBWUVSX0FUVFJJQlVURX1dICpgLFxuICAgICAgJ3Zpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XWAsXG4gICAgICAncG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDAgIWltcG9ydGFudDsgbGVmdDogMCAhaW1wb3J0YW50OyBmbG9hdDogbm9uZTsgYm94LXNpemluZzpib3JkZXItYm94OyBtaW4td2lkdGg6dmFyKC0teC13aWR0aCk7IG1pbi1oZWlnaHQ6dmFyKC0teC1oZWlnaHQpOyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEV9XWAsXG4gICAgICAndG9wOiB2YXIoLS14LWlubGluZS10b3ApICFpbXBvcnRhbnQ7IHdpZHRoOmF1dG8gIWltcG9ydGFudCcsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFfV1gLFxuICAgICAgJ3RyYW5zZm9ybTogbm9uZSAhaW1wb3J0YW50OyBsZWZ0OiAwICFpbXBvcnRhbnQ7IHRvcDogMCAhaW1wb3J0YW50OyBtYXJnaW46IDAgIWltcG9ydGFudDsgYm9yZGVyOjAgIWltcG9ydGFudDsgYm9yZGVyLXJhZGl1czowICFpbXBvcnRhbnQ7IGhlaWdodDoxMDAlICFpbXBvcnRhbnQ7IHBhZGRpbmc6MCAhaW1wb3J0YW50OyBwb3NpdGlvbjpzdGF0aWMgIWltcG9ydGFudDsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDApIG5vbmUgIWltcG9ydGFudDsgYm94LXNoYWRvdzpub25lICFpbXBvcnRhbnQnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dOjpiZWZvcmUsIFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFfV06OmFmdGVyYCxcbiAgICAgICdjb250ZW50Om5vbmUgIWltcG9ydGFudDsgYm94LXNoYWRvdzpub25lICFpbXBvcnRhbnQ7JyxcbiAgICAgIGkrK1xuICAgIClcblxuICAgIGlmIChyb290Tm9kZSA9PT0gZG9jdW1lbnQpIHtcbiAgICAgIGxldCBwcmV2aW91c0hhc2ggPSAnJ1xuICAgICAgY29uc3Qgb25IYXNoQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJldmlvdXNIYXNoICE9IHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlKClcbiAgICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gcm9vdE5vZGUucXVlcnlTZWxlY3Rvcih3aW5kb3cubG9jYXRpb24uaGFzaClcbiAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2hcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgb25IYXNoQ2hhbmdlLCBmYWxzZSlcbiAgICAgIG9uSGFzaENoYW5nZSgpXG4gIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCAoZXZ0KSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5mb2N1c0VsZW1lbnQgPSBldnQudGFyZ2V0XG4gICAgICB9LCBmYWxzZSlcbiAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCAoZXZ0KSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5mb2N1c0VsZW1lbnQgPSBudWxsXG4gICAgICB9LCBmYWxzZSlcbiAgICAgIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMoKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycyA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgW2UsbF0gb2YgdGhpcy5sYXllcnMpIGwubmVlZHNSZWZyZXNoID0gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IHNldE5lZWRzUmVmcmVzaE9uU3R5bGVMb2FkID0gKG5vZGU6Tm9kZSkgPT4ge1xuICAgICAgdmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpXG4gICAgICBpZiAoU1RZTEVfTk9ERVMuaW5kZXhPZihub2RlTmFtZSkgIT09IC0xKVxuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzKVxuICAgIH1cblxuICAgIGNvbnN0IFNUWUxFX05PREVTID0gW1wiU1RZTEVcIiwgXCJMSU5LXCJdO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgICBpZiAoU1RZTEVfTk9ERVMuaW5kZXhPZihtLnRhcmdldC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpKSAhPT0gLTEpIHtcbiAgICAgICAgICBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycygpXG4gICAgICAgICAgdGhpcy5lbWJlZGRlZENTUy5nZXQoZG9jdW1lbnQpPy5kZWxldGUobS50YXJnZXQgYXMgRWxlbWVudClcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbS5hZGRlZE5vZGVzKSBzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZChub2RlKVxuICAgICAgfVxuICAgIH0pXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5yb290Tm9kZU9ic2VydmVycy5zZXQocm9vdE5vZGUsIG9ic2VydmVyKVxuICB9XG5cbiAgc3RhdGljIGFkZFRvU2VyaWFsaXplUXVldWUobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgaWYgKHRoaXMuc2VyaWFsaXplUXVldWUuaW5kZXhPZihsYXllcikgPT09IC0xKSB0aGlzLnNlcmlhbGl6ZVF1ZXVlLnB1c2gobGF5ZXIpXG4gIH1cblxuICBzdGF0aWMgYWRkVG9SYXN0ZXJpemVRdWV1ZShsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yYXN0ZXJpemVRdWV1ZS5pbmRleE9mKGxheWVyKSA9PT0gLTEpIHRoaXMucmFzdGVyaXplUXVldWUucHVzaChsYXllcilcbiAgfVxuXG4gIHN0YXRpYyBhZGRUb1JlbmRlclF1ZXVlKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnJlbmRlclF1ZXVlLmluZGV4T2YobGF5ZXIpID09PSAtMSkgdGhpcy5yZW5kZXJRdWV1ZS5wdXNoKGxheWVyKVxuICB9XG5cbiAgc3RhdGljIFRBU0tfQVNZTkNfTUFYX0NPVU5UID0gMiAvLyBzaW5jZSByYXN0ZXJpemF0aW9uIGlzIGFzeW5jLCBsaW1pdCBzaW11bHRhbmVvdXMgcmFzdGVyaXphdGlvbnNcbiAgc3RhdGljIFRBU0tfU1lOQ19NQVhfVElNRSA9IDIwMFxuICBzdGF0aWMgcmFzdGVyaXplVGFza0NvdW50ID0gMFxuICBwcml2YXRlIHN0YXRpYyBfcnVuVGFza3MoKSB7XG4gICAgV2ViUmVuZGVyZXIudGFza3NQZW5kaW5nID0gZmFsc2VcbiAgICBjb25zdCBzZXJpYWxpemVRdWV1ZSA9IFdlYlJlbmRlcmVyLnNlcmlhbGl6ZVF1ZXVlXG4gICAgY29uc3QgcmFzdGVyaXplUXVldWUgPSBXZWJSZW5kZXJlci5yYXN0ZXJpemVRdWV1ZVxuICAgIGNvbnN0IHJlbmRlclF1ZXVlID0gV2ViUmVuZGVyZXIucmVuZGVyUXVldWVcbiAgICBjb25zdCBtYXhTeW5jVGltZSA9IFdlYlJlbmRlcmVyLlRBU0tfU1lOQ19NQVhfVElNRSAvIDJcbiAgICBsZXQgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICB3aGlsZSAocmVuZGVyUXVldWUubGVuZ3RoICYmIHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lIDwgbWF4U3luY1RpbWUpIHtcbiAgICAgIHJlbmRlclF1ZXVlLnNoaWZ0KCkhLnJlbmRlcigpXG4gICAgfVxuICAgIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgd2hpbGUgKHNlcmlhbGl6ZVF1ZXVlLmxlbmd0aCAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFN5bmNUaW1lKSB7XG4gICAgICBzZXJpYWxpemVRdWV1ZS5zaGlmdCgpIS5zZXJpYWxpemUoKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICByYXN0ZXJpemVRdWV1ZS5sZW5ndGggJiZcbiAgICAgIFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVRhc2tDb3VudCA8IFdlYlJlbmRlcmVyLlRBU0tfQVNZTkNfTUFYX0NPVU5UXG4gICAgKSB7XG4gICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQrK1xuICAgICAgcmFzdGVyaXplUXVldWVcbiAgICAgICAgLnNoaWZ0KCkhXG4gICAgICAgIC5yYXN0ZXJpemUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50LS1cbiAgICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdGFza3NQZW5kaW5nID0gZmFsc2VcbiAgXG4gIHN0YXRpYyBzY2hlZHVsZVRhc2tzSWZOZWVkZWQoKSB7XG4gICAgaWYgKHRoaXMudGFza3NQZW5kaW5nIHx8XG4gICAgICAgIChXZWJSZW5kZXJlci5zZXJpYWxpemVRdWV1ZS5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgV2ViUmVuZGVyZXIucmVuZGVyUXVldWUubGVuZ3RoID09PSAwICYmIFxuICAgICAgICAoV2ViUmVuZGVyZXIucmFzdGVyaXplUXVldWUubGVuZ3RoID09PSAwIHx8IFxuICAgICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQgPT09IFdlYlJlbmRlcmVyLlRBU0tfQVNZTkNfTUFYX0NPVU5UKSkpIHJldHVyblxuICAgIHRoaXMudGFza3NQZW5kaW5nID0gdHJ1ZVxuICAgIFdlYlJlbmRlcmVyLnNjaGVkdWxlSWRsZShXZWJSZW5kZXJlci5fcnVuVGFza3MpXG4gIH1cblxuICBzdGF0aWMgc2NoZWR1bGVJZGxlKGNiOihkZWFkbGluZT86UmVxdWVzdElkbGVDYWxsYmFja0RlYWRsaW5lKT0+YW55KSB7XG4gICAgLy8gaWYgKFwicmVxdWVzdElkbGVDYWxsYmFja1wiIGluIHNlbGYpIHtcbiAgICAvLyAgIHJlcXVlc3RJZGxlQ2FsbGJhY2soY2IpXG4gICAgLy8gfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoY2IsMSlcbiAgICAvLyB9XG4gIH1cblxuICBzdGF0aWMgc2V0TGF5ZXJOZWVkc1JlZnJlc2gobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgbGF5ZXIubmVlZHNSZWZyZXNoID0gdHJ1ZVxuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUxheWVyVHJlZShlbGVtZW50OiBFbGVtZW50LCBldmVudENhbGxiYWNrOiBFdmVudENhbGxiYWNrKSB7XG4gICAgaWYgKFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSByb290IFdlYkxheWVyIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbHJlYWR5IGV4aXN0cycpXG5cbiAgICBlbnN1cmVFbGVtZW50SXNJbkRvY3VtZW50KGVsZW1lbnQpXG4gICAgV2ViUmVuZGVyZXIuaW5pdFJvb3ROb2RlT2JzZXJ2YXRpb24oZWxlbWVudClcblxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoV2ViUmVuZGVyZXIuX2hhbmRsZU11dGF0aW9ucylcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLnNldChlbGVtZW50LCBvYnNlcnZlcilcbiAgICB0aGlzLnN0YXJ0TXV0YXRpb25PYnNlcnZlcihlbGVtZW50KVxuXG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIocmVjb3JkcyA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRDbG9zZXN0TGF5ZXIocmVjb3JkLnRhcmdldCkhXG4gICAgICAgIGxheWVyLnRyYXZlcnNlTGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKVxuICAgICAgICBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgIH1cbiAgICB9KVxuICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudClcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVycy5zZXQoZWxlbWVudCwgcmVzaXplT2JzZXJ2ZXIpXG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBXZWJMYXllcihlbGVtZW50LCBldmVudENhbGxiYWNrKVxuICAgIHRoaXMucm9vdExheWVycy5zZXQoZWxlbWVudCwgbGF5ZXIpXG4gICAgcmV0dXJuIGxheWVyXG4gIH1cblxuICBzdGF0aWMgZGlzcG9zZUxheWVyKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnJvb3RMYXllcnMuaGFzKGxheWVyLmVsZW1lbnQpKSB7XG4gICAgICB0aGlzLnJvb3RMYXllcnMuZGVsZXRlKGxheWVyLmVsZW1lbnQpXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMubXV0YXRpb25PYnNlcnZlcnMuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSB0aGlzLnJlc2l6ZU9ic2VydmVycy5nZXQobGF5ZXIuZWxlbWVudCkhXG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRDbG9zZXN0TGF5ZXIoZWxlbWVudDogRWxlbWVudHxudWxsKTogV2ViTGF5ZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGNsb3Nlc3RMYXllckVsZW1lbnQgPVxuICAgICAgZWxlbWVudCAmJiAoZWxlbWVudC5jbG9zZXN0KGBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XWApIGFzIEhUTUxFbGVtZW50KVxuICAgIHJldHVybiB0aGlzLmxheWVycy5nZXQoY2xvc2VzdExheWVyRWxlbWVudCEpXG4gIH1cblxuICBzdGF0aWMgZ2V0Q1NTVHJhbnNmb3JtRm9yRWxlbWVudChlbGVtZW50OiBFbGVtZW50LCBvdXQgPSBuZXcgTWF0cml4NCgpKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICAgIHZhciB0cmFuc2Zvcm1jc3MgPSBzdHlsZXNbJ3RyYW5zZm9ybSddXG4gICAgaWYgKHRyYW5zZm9ybWNzcy5pbmRleE9mKCdtYXRyaXgoJykgPT0gMCkge1xuICAgICAgb3V0LmlkZW50aXR5KClcbiAgICAgIHZhciBtYXQgPSB0cmFuc2Zvcm1jc3NcbiAgICAgICAgLnN1YnN0cmluZyg3LCB0cmFuc2Zvcm1jc3MubGVuZ3RoIC0gMSlcbiAgICAgICAgLnNwbGl0KCcsICcpXG4gICAgICAgIC5tYXAocGFyc2VGbG9hdClcbiAgICAgIG91dC5lbGVtZW50c1swXSA9IG1hdFswXVxuICAgICAgb3V0LmVsZW1lbnRzWzFdID0gbWF0WzFdXG4gICAgICBvdXQuZWxlbWVudHNbNF0gPSBtYXRbMl1cbiAgICAgIG91dC5lbGVtZW50c1s1XSA9IG1hdFszXVxuICAgICAgb3V0LmVsZW1lbnRzWzEyXSA9IG1hdFs0XVxuICAgICAgb3V0LmVsZW1lbnRzWzEzXSA9IG1hdFs1XVxuICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtY3NzLmluZGV4T2YoJ21hdHJpeDNkKCcpID09IDApIHtcbiAgICAgIHZhciBtYXQgPSB0cmFuc2Zvcm1jc3NcbiAgICAgICAgLnN1YnN0cmluZyg5LCB0cmFuc2Zvcm1jc3MubGVuZ3RoIC0gMSlcbiAgICAgICAgLnNwbGl0KCcsICcpXG4gICAgICAgIC5tYXAocGFyc2VGbG9hdClcbiAgICAgIG91dC5mcm9tQXJyYXkobWF0KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3V0LmlkZW50aXR5KClcbiAgICB9XG5cbiAgICB2YXIgb3JpZ2luY3NzID0gc3R5bGVzLnRyYW5zZm9ybU9yaWdpbi5zcGxpdCgnICcpLm1hcChwYXJzZUZsb2F0KVxuXG4gICAgdmFyIG94ID0gb3JpZ2luY3NzWzBdXG4gICAgdmFyIG95ID0gb3JpZ2luY3NzWzFdXG4gICAgdmFyIG96ID0gb3JpZ2luY3NzWzJdIHx8IDBcblxuICAgIHZhciBUMSA9IHNjcmF0Y2hNYXQxLmlkZW50aXR5KCkubWFrZVRyYW5zbGF0aW9uKC1veCwgLW95LCAtb3opXG4gICAgdmFyIFQyID0gc2NyYXRjaE1hdDIuaWRlbnRpdHkoKS5tYWtlVHJhbnNsYXRpb24ob3gsIG95LCBveilcblxuICAgIHJldHVybiBvdXQucHJlbXVsdGlwbHkoVDIpLm11bHRpcGx5KFQxKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGVtYmVkRXh0ZXJuYWxSZXNvdXJjZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gW11cbiAgICBjb25zdCBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBsaW5rID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChsaW5rKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgZGF0YVVSTClcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdJTUcnICYmIGltZ0VsZW1lbnQuc3JjLnN1YnN0cigwLCA0KSAhPSAnZGF0YScpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBXZWJSZW5kZXJlci5nZXREYXRhVVJMKGltZ0VsZW1lbnQuc3JjKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGFVUkwpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3R5bGUnKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgc3R5bGUpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICAgIGlmIChzdHlsZSAhPSBjc3MpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNzcylcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKVxuICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBXZWJSZW5kZXJlci5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBzdHlsZS5pbm5lckhUTUwpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICBpZiAoc3R5bGUuaW5uZXJIVE1MICE9IGNzcykgc3R5bGUuaW5uZXJIVE1MID0gY3NzXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIHN0YXRpYyBwYXVzZU11dGF0aW9uT2JzZXJ2ZXJzKCkge1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJzID0gV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMudmFsdWVzKClcbiAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMobS50YWtlUmVjb3JkcygpKVxuICAgICAgbS5kaXNjb25uZWN0KClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcmVzdW1lTXV0YXRpb25PYnNlcnZlcnMoKSB7XG4gICAgZm9yIChjb25zdCBbZV0gb2YgV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIHRoaXMuc3RhcnRNdXRhdGlvbk9ic2VydmVyKGUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc3RhcnRNdXRhdGlvbk9ic2VydmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChlbGVtZW50KSFcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9oYW5kbGVNdXRhdGlvbnMgPSAocmVjb3JkczogTXV0YXRpb25SZWNvcmRbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHJlY29yZC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUocmVjb3JkLmF0dHJpYnV0ZU5hbWUhKSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hhcmFjdGVyRGF0YScpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gcmVjb3JkLnRhcmdldCBhcyBDaGFyYWN0ZXJEYXRhXG4gICAgICAgIGlmICh0YXJnZXQuZGF0YSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID1cbiAgICAgICAgcmVjb3JkLnRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICA/IChyZWNvcmQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIDogcmVjb3JkLnRhcmdldC5wYXJlbnRFbGVtZW50XG4gICAgICBpZiAoIXRhcmdldCkgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRhcmdldClcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiByZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICBjb25zdCBvbGRDbGFzc2VzID0gcmVjb3JkLm9sZFZhbHVlID8gcmVjb3JkLm9sZFZhbHVlIDogJydcbiAgICAgICAgY29uc3QgY3VycmVudENsYXNzZXMgPSAocmVjb3JkLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xhc3NOYW1lXG4gICAgICAgIGlmIChvbGRDbGFzc2VzID09PSBjdXJyZW50Q2xhc3NlcykgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIGxheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKSAvLyBtYXkgYmUgbmVlZGVkIHRvIHN1cHBvcnQgOmZvY3VzLXdpdGhpbigpIGFuZCBmdXR1cmUgOmhhcygpIHNlbGVjdG9yIHN1cHBvcnRcbiAgICAgIGxheWVyLnBhcmVudExheWVyXG4gICAgICAgID8gbGF5ZXIucGFyZW50TGF5ZXIudHJhdmVyc2VDaGlsZExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgOiBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdHJpZ2dlclJlZnJlc2ggPSBhc3luYyAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlLnRhcmdldCBhcyBhbnkpIVxuICAgIC8vIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhlLnRhcmdldCBhcyBhbnkpXG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvLyBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaCkgLy8gbWF5IGJlIG5lZWRlZCB0byBzdXBwb3J0IDpmb2N1cy13aXRoaW4oKSBhbmQgZnV0dXJlIDpoYXMoKSBzZWxlY3RvciBzdXBwb3J0XG4gICAgICBsYXllci5wYXJlbnRMYXllclxuICAgICAgICA/IGxheWVyLnBhcmVudExheWVyLnRyYXZlcnNlQ2hpbGRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICAgIDogbGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKGRvYzpEb2N1bWVudHxTaGFkb3dSb290KSB7XG4gICAgY29uc3Qgc2hlZXRzID0gZG9jLnN0eWxlU2hlZXRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gc2hlZXRzW2ldIGFzIENTU1N0eWxlU2hlZXRcbiAgICAgICAgY29uc3QgcnVsZXMgPSBzaGVldC5jc3NSdWxlc1xuICAgICAgICBpZiAoIXJ1bGVzKSBjb250aW51ZVxuICAgICAgICBjb25zdCBuZXdSdWxlcyA9IFtdXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6aG92ZXInKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuSE9WRVJfQVRUUklCVVRFfV1gKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOmFjdGl2ZScpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2goXG4gICAgICAgICAgICAgIHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6YWN0aXZlJywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLkFDVElWRV9BVFRSSUJVVEV9XWApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChydWxlc1tqXS5jc3NUZXh0LmluZGV4T2YoJzpmb2N1cycpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2gocnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzpmb2N1cycsICdnJyksIGBbJHtXZWJSZW5kZXJlci5GT0NVU19BVFRSSUJVVEV9XWApKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6dGFyZ2V0JykgPiAtMSkge1xuICAgICAgICAgICAgbmV3UnVsZXMucHVzaChcbiAgICAgICAgICAgICAgcnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuVEFSR0VUX0FUVFJJQlVURX1dYClcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IG5ld1J1bGVzLmluZGV4T2YocnVsZXNbal0uY3NzVGV4dClcbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnNwbGljZShpZHgsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3UnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG5ld1J1bGVzW2pdKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ5dGVzOlVpbnQ4QXJyYXkpIHtcbiAgICB2YXIgYmluYXJ5ID0gJydcbiAgICB2YXIgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKVxuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KVxuICB9XG5cbiAgc3RhdGljIGF0dHJpYnV0ZUNTUyhuYW1lOnN0cmluZywgdmFsdWU/OnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IGBbJHtuYW1lfV09JHt2YWx1ZX1gIDogYFske25hbWV9XWBcbiAgfVxuXG4gIHN0YXRpYyBhdHRyaWJ1dGVIVE1MKG5hbWU6c3RyaW5nLCB2YWx1ZT86c3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gYCR7bmFtZX09XCIke3ZhbHVlfVwiYCA6IGAke25hbWV9PVwiXCJgXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmw6c3RyaW5nLCBjc3M6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgZm91bmRcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAvLyBBZGQgY2xhc3NlcyBmb3IgcHN1ZWRvLWNsYXNzZXNcbiAgICBjc3MgPSBjc3MucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLkhPVkVSX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmFjdGl2ZScsICdnJyksIHRoaXMuYXR0cmlidXRlQ1NTKHRoaXMuQUNUSVZFX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmZvY3VzJywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5GT0NVU19BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLlRBUkdFVF9BVFRSSUJVVEUpKVxuXG4gICAgLy8gUmVwbGFjZSBhbGwgdXJscyBpbiB0aGUgY3NzXG4gICAgY29uc3QgcmVnRXggPSBSZWdFeHAoL3VybFxcKCg/IVsnXCJdPyg/OmRhdGEpOilbJ1wiXT8oW14nXCJcXCldKilbJ1wiXT9cXCkvZ2kpXG4gICAgd2hpbGUgKChmb3VuZCA9IHJlZ0V4LmV4ZWMoY3NzKSkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlVVJMID0gZm91bmRbMV1cbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMuZ2V0RGF0YVVSTChuZXcgVVJMKHJlc291cmNlVVJMLCB1cmwpLmhyZWYpLnRoZW4oZGF0YVVSTCA9PiB7XG4gICAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UocmVzb3VyY2VVUkwsIGRhdGFVUkwpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgcmV0dXJuIGNzc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFVSTCh1cmw6c3RyaW5nKTogUHJvbWlzZTxYTUxIdHRwUmVxdWVzdD4ge1xuICAgIHVybCA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24uaHJlZikuaHJlZlxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxYTUxIdHRwUmVxdWVzdD4ocmVzb2x2ZSA9PiB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSlcblxuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcblxuICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh4aHIpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHhocilcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBlbWJlZGRlZENTUyA9IG5ldyBNYXA8U2hhZG93Um9vdHxEb2N1bWVudCwgTWFwPEVsZW1lbnQsIFByb21pc2U8c3RyaW5nPj4+KClcblxuICBzdGF0aWMgYXN5bmMgZ2V0RW1iZWRkZWRDU1MoZWw6RWxlbWVudCkge1xuICAgIGNvbnN0IHJvb3ROb2RlID0gZWwuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290fERvY3VtZW50XG4gICAgY29uc3QgZW1iZWRkZWQgPSB0aGlzLmVtYmVkZGVkQ1NTLmdldChyb290Tm9kZSkgfHwgbmV3IE1hcDxFbGVtZW50LCBQcm9taXNlPHN0cmluZz4+KClcbiAgICB0aGlzLmVtYmVkZGVkQ1NTLnNldChyb290Tm9kZSwgZW1iZWRkZWQpXG5cbiAgICBjb25zdCBzdHlsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZSwgbGlua1t0eXBlPSd0ZXh0L2NzcyddLCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIpXG4gICAgKVxuXG4gICAgbGV0IGZvdW5kTmV3U3R5bGVzID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3R5bGVFbGVtZW50cykge1xuICAgICAgaWYgKCFlbWJlZGRlZC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgZm91bmROZXdTdHlsZXMgPSB0cnVlXG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gJ1NUWUxFJykge1xuICAgICAgICAgIGNvbnN0IHNoZWV0ID0gKGVsZW1lbnQgYXMgSFRNTFN0eWxlRWxlbWVudCkuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldFxuICAgICAgICAgIGxldCBjc3NUZXh0ID0gJydcbiAgICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2Ygc2hlZXQuY3NzUnVsZXMpIHtcbiAgICAgICAgICAgIGNzc1RleHQgKz0gcnVsZS5jc3NUZXh0ICsgJ1xcbidcbiAgICAgICAgICB9XG4gICAgICAgICAgZW1iZWRkZWQuc2V0KGVsZW1lbnQsIHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzVGV4dCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW1iZWRkZWQuc2V0KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHRoaXMuZ2V0VVJMKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykhKS50aGVuKHhociA9PiB7XG4gICAgICAgICAgICAgIGlmICgheGhyLnJlc3BvbnNlKSByZXR1cm4gJydcbiAgICAgICAgICAgICAgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgICAgICAgICAgIHZhciBjc3MgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoeGhyLnJlc3BvbnNlKVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBjc3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZm91bmROZXdTdHlsZXMpIHRoaXMuX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKHJvb3ROb2RlKVxuICAgIHJldHVybiBQcm9taXNlLmFsbChlbWJlZGRlZC52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIGFuZCByZXR1cm5zIGEgZGF0YXVybCBmb3IgdGhlIGdpdmVuIHVybFxuICBzdGF0aWMgYXN5bmMgZ2V0RGF0YVVSTCh1cmw6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB4aHIgPSBhd2FpdCB0aGlzLmdldFVSTCh1cmwpXG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKVxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKT8uc3BsaXQoJzsnKVswXVxuICAgIGlmIChjb250ZW50VHlwZSA9PSAndGV4dC9jc3MnKSB7XG4gICAgICBsZXQgY3NzID0gdGV4dERlY29kZXIuZGVjb2RlKGFycilcbiAgICAgIGNzcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmwsIGNzcylcbiAgICAgIGNvbnN0IGJhc2U2NCA9IHdpbmRvdy5idG9hKGNzcylcbiAgICAgIGlmIChiYXNlNjQubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gJ2RhdGE6JyArIGNvbnRlbnRUeXBlICsgJztiYXNlNjQsJyArIGJhc2U2NFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZGF0YTonICsgY29udGVudFR5cGUgKyAnO2Jhc2U2NCwnICsgdGhpcy5hcnJheUJ1ZmZlclRvQmFzZTY0KGFycilcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlSW5wdXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKCdpbnB1dCcpKSB0aGlzLl91cGRhdGVJbnB1dEF0dHJpYnV0ZShlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpXG4gICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JykpIHRoaXMuX3VwZGF0ZUlucHV0QXR0cmlidXRlKGUpXG4gIH1cblxuICBzdGF0aWMgX3VwZGF0ZUlucHV0QXR0cmlidXRlKGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCkge1xuICAgIGlmIChpbnB1dEVsZW1lbnQuaGFzQXR0cmlidXRlKCdjaGVja2VkJykpIHtcbiAgICAgIGlmICghaW5wdXRFbGVtZW50LmNoZWNrZWQpIGlucHV0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5wdXRFbGVtZW50LmNoZWNrZWQpIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJylcbiAgICB9XG4gICAgaWYgKGlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgIT09IGlucHV0RWxlbWVudC52YWx1ZSkge1xuICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBpbnB1dEVsZW1lbnQudmFsdWUpXG4gICAgfVxuICB9XG5cbiAgLy8gc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAvLyAgIC8vIGNvbnN0IGxheWVyID0gdGhpcy5sYXllcnMuZ2V0KGVsZW1lbnQpXG4gIC8vICAgcmV0dXJuIChcbiAgLy8gICAgIGAke3RoaXMuY29udGFpbnNIb3ZlcihlbGVtZW50KSA/IGAke3RoaXMuSE9WRVJfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMuZm9jdXNFbGVtZW50KSA/IGAke3RoaXMuRk9DVVNfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMuYWN0aXZlRWxlbWVudCkgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy50YXJnZXRFbGVtZW50KSA/IGAke3RoaXMuVEFSR0VUX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWBcbiAgLy8gICApXG4gIC8vIH1cblxuICBzdGF0aWMgaXNCbGFua0ltYWdlKGltYWdlRGF0YTpVaW50OENsYW1wZWRBcnJheSkge1xuICAgICAgY29uc3QgcGl4ZWxCdWZmZXIgPSBuZXcgVWludDMyQXJyYXkoaW1hZ2VEYXRhLmJ1ZmZlcilcbiAgICAgIHJldHVybiAhcGl4ZWxCdWZmZXIuc29tZShjb2xvciA9PiBjb2xvciAhPT0gMCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIF9USFJFRSBmcm9tICd0aHJlZSdcblxuaWYgKHNlbGYuVEhSRUUpIHtcbiAgdmFyIFRIUkVFID0gc2VsZi5USFJFRVxufSBlbHNlIHtcbiAgdmFyIFRIUkVFID0gX1RIUkVFXG59XG5cbmltcG9ydCB7IFdlYkxheWVyfSBmcm9tICcuLi9XZWJMYXllcidcbmltcG9ydCB7IFdlYlJlbmRlcmVyIH0gZnJvbSAnLi4vV2ViUmVuZGVyZXInXG5cbmltcG9ydCB7Qm91bmRzLCBnZXRCb3VuZHMsIGdldFZpZXdwb3J0Qm91bmRzLCB0cmF2ZXJzZUNoaWxkRWxlbWVudHMsIERPTSB9IGZyb20gJy4uL2RvbS11dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBXZWJMYXllcjNET3B0aW9ucyB7XG4gIHBpeGVsUmF0aW8/OiBudW1iZXJcbiAgbGF5ZXJTZXBhcmF0aW9uPzogbnVtYmVyXG4gIGF1dG9SZWZyZXNoPzogYm9vbGVhblxuICBvbkxheWVyQ3JlYXRlPyhsYXllcjogV2ViTGF5ZXIzREJhc2UpOiB2b2lkXG4gIG9uQWZ0ZXJSYXN0ZXJpemU/KGxheWVyOiBXZWJMYXllcjNEQmFzZSk6IHZvaWQsXG4gIHRleHR1cmVFbmNvZGluZz86IG51bWJlcixcbiAgcmVuZGVyT3JkZXJPZmZzZXQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IHtUSFJFRX1cblxudHlwZSBJbnRlcnNlY3Rpb24gPSBUSFJFRS5JbnRlcnNlY3Rpb24gJiB7Z3JvdXBPcmRlcjpudW1iZXJ9XG5cbmV4cG9ydCB0eXBlIFdlYkxheWVySGl0ID0gUmV0dXJuVHlwZTx0eXBlb2YgV2ViTGF5ZXIzRC5wcm90b3R5cGUuaGl0VGVzdD4gJiB7fVxuXG5jb25zdCBzY3JhdGNoVmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuY29uc3Qgc2NyYXRjaFZlY3RvcjIgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG5jb25zdCBzY3JhdGNoQm91bmRzID0gbmV3IEJvdW5kcygpXG5jb25zdCBzY3JhdGNoQm91bmRzMiA9IG5ldyBCb3VuZHMoKVxuXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIzREJhc2UgZXh0ZW5kcyBUSFJFRS5Hcm91cCB7XG4gIHB1YmxpYyBlbGVtZW50OkVsZW1lbnRcbiAgY29uc3RydWN0b3IoZWxlbWVudE9ySFRNTDogRWxlbWVudHxzdHJpbmcsIHB1YmxpYyBvcHRpb25zOiBXZWJMYXllcjNET3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgPSB0eXBlb2YgZWxlbWVudE9ySFRNTCA9PT0gJ3N0cmluZycgPyBET00oZWxlbWVudE9ySFRNTCkgOiBlbGVtZW50T3JIVE1MXG4gICAgdGhpcy5uYW1lID0gZWxlbWVudC5pZFxuICAgIHRoaXMuX3dlYkxheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKGVsZW1lbnQpIVxuXG4gICAgdGhpcy5hZGQodGhpcy5jb250ZW50TWVzaClcbiAgICB0aGlzLmFkZCh0aGlzLl9ib3VuZHNNZXNoKVxuICAgIHRoaXMuY3Vyc29yLnZpc2libGUgPSBmYWxzZVxuICAgIFxuICAgIHRoaXMubWF0cml4QXV0b1VwZGF0ZSA9IHRydWVcblxuICAgIHRoaXMuY29udGVudE1lc2gubWF0cml4QXV0b1VwZGF0ZSA9IHRydWVcbiAgICB0aGlzLmNvbnRlbnRNZXNoLm1hdGVyaWFsLnRvbmVNYXBwZWQgPSBmYWxzZVxuICAgIHRoaXMuY29udGVudE1lc2gudmlzaWJsZSA9IGZhbHNlXG4gICAgdGhpcy5jb250ZW50TWVzaFsnY3VzdG9tRGVwdGhNYXRlcmlhbCddID0gdGhpcy5kZXB0aE1hdGVyaWFsXG5cbiAgICB0aGlzLl9ib3VuZHNNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG5cbiAgICBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5zZXQodGhpcy5lbGVtZW50LCB0aGlzKVxuICAgIFdlYkxheWVyM0QubGF5ZXJzQnlNZXNoLnNldCh0aGlzLmNvbnRlbnRNZXNoLCB0aGlzKVxuICB9XG5cbiAgcHJvdGVjdGVkIF93ZWJMYXllciA6IFdlYkxheWVyXG5cbiAgdGV4dHVyZXMgPSBuZXcgTWFwPEhUTUxDYW52YXNFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCwgVEhSRUUuVGV4dHVyZT4oKVxuXG4gIGdldCBjdXJyZW50VGV4dHVyZSgpIHtcbiAgICBpZiAodGhpcy5fd2ViTGF5ZXIuZWxlbWVudC50YWdOYW1lID09PSAnVklERU8nKSB7XG4gICAgICBjb25zdCB2aWRlbyA9IHRoaXMuX3dlYkxheWVyLmVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgbGV0IHQgPSB0aGlzLnRleHR1cmVzLmdldCh2aWRlbylcbiAgICAgIGlmICghdCkge1xuICAgICAgICB0ID0gbmV3IFRIUkVFLlZpZGVvVGV4dHVyZSh2aWRlbylcbiAgICAgICAgdC53cmFwUyA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgICAgdC53cmFwVCA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgICAgdC5taW5GaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmcpIHQuZW5jb2RpbmcgPSB0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nXG4gICAgICAgIHRoaXMudGV4dHVyZXMuc2V0KHZpZGVvLCB0KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl93ZWJMYXllci5jYW52YXNcbiAgICBsZXQgdCA9IHRoaXMudGV4dHVyZXMuZ2V0KGNhbnZhcylcbiAgICBpZiAoIXQpIHtcbiAgICAgIHQgPSBuZXcgVEhSRUUuVGV4dHVyZShjYW52YXMpXG4gICAgICB0Lm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgdC53cmFwUyA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgIHQud3JhcFQgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICB0Lm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmcpIHQuZW5jb2RpbmcgPSB0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nXG4gICAgICB0aGlzLnRleHR1cmVzLnNldChjYW52YXMsIHQpXG4gICAgfSBlbHNlIGlmICh0aGlzLnRleHR1cmVOZWVkc1VwZGF0ZSkge1xuICAgICAgdGhpcy50ZXh0dXJlTmVlZHNVcGRhdGUgPSBmYWxzZVxuICAgICAgdC5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICB9XG4gICAgcmV0dXJuIHRcbiAgfVxuXG4gIHRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlXG5cbiAgLy8gY29udGVudCA9IG5ldyBPYmplY3QzRCgpXG4gIGNvbnRlbnRNZXNoID0gbmV3IFRIUkVFLk1lc2goXG4gICAgV2ViTGF5ZXIzRC5HRU9NRVRSWSxcbiAgICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgICBhbHBoYVRlc3Q6IDAuMDAxLFxuICAgICAgb3BhY2l0eTogMVxuICAgIH0pXG4gIClcblxuICAvKipcbiAgICogVGhpcyBub24tdmlzaWJsZSBtZXNoIGVuc3VyZXMgdGhhdCBhbiBhZGFwdGVkIGxheWVyIHJldGFpbnNcbiAgICogaXRzIGlubmVyQm91bmRzLCBldmVuIGlmIHRoZSBjb250ZW50IG1lc2ggaXNcbiAgICogaW5kZXBlbmRlbnRseSBhZGFwdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfYm91bmRzTWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgIFdlYkxheWVyM0QuR0VPTUVUUlksXG4gICAgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSlcbiAgKVxuXG4gIGN1cnNvciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpXG5cbiAgZGVwdGhNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoRGVwdGhNYXRlcmlhbCh7XG4gICAgZGVwdGhQYWNraW5nOiBUSFJFRS5SR0JBRGVwdGhQYWNraW5nLFxuICAgIGFscGhhVGVzdDogMC4wMVxuICB9KVxuXG4gIGRvbUxheW91dCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpXG4gIGRvbVNpemUgPSBuZXcgVEhSRUUuVmVjdG9yMygxLDEsMSlcblxuICAvKipcbiAgICogR2V0IHRoZSBob3ZlciBzdGF0ZVxuICAgKi9cbiAgZ2V0IHBzZXVkb1N0YXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIucHN1ZWRvU3RhdGVzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXllciBkZXB0aCAoZGlzdGFuY2UgZnJvbSB0aGlzIGxheWVyJ3MgZWxlbWVudCBhbmQgdGhlIHBhcmVudCBsYXllcidzIGVsZW1lbnQpXG4gICAqL1xuICBnZXQgZGVwdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLmRlcHRoXG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGdldCBpbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRXZWJMYXllciA/IHRoaXMucGFyZW50V2ViTGF5ZXIuY2hpbGRXZWJMYXllcnMuaW5kZXhPZih0aGlzKSA6IDBcbiAgfVxuXG4gIGdldCBuZWVkc1JlZnJlc2goKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLm5lZWRzUmVmcmVzaFxuICB9XG5cbiAgc2V0TmVlZHNSZWZyZXNoKCkge1xuICAgIHRoaXMuX3dlYkxheWVyLnRyYXZlcnNlTGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKVxuICB9XG5cbiAgLyoqIElmIHRydWUsIHRoaXMgbGF5ZXIgbmVlZHMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY2VuZSAqL1xuICBnZXQgbmVlZHNSZW1vdmFsKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5uZWVkc1JlbW92YWxcbiAgfVxuXG4gIGdldCBib3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLmJvdW5kc1xuICB9XG5cbiAgZ2V0IHBhcmVudFdlYkxheWVyKCk6IFdlYkxheWVyM0RCYXNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fd2ViTGF5ZXIucGFyZW50TGF5ZXIgJiZcbiAgICAgIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldCh0aGlzLl93ZWJMYXllci5wYXJlbnRMYXllci5lbGVtZW50KVxuICAgIClcbiAgfVxuXG4gIGNoaWxkV2ViTGF5ZXJzOiBXZWJMYXllcjNEQmFzZVtdID0gW11cblxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoZSBET00gbGF5b3V0IHNob3VsZCBiZSBhcHBsaWVkLlxuICAgKlxuICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBkb20gbGF5b3V0IHNob3VsZCBhbHdheXMgYmUgYXBwbGllZC5cbiAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgdGhlIGRvbSBsYXlvdXQgc2hvdWxkIG5ldmVyIGJlIGFwcGxpZWQuXG4gICAqIFdoZW4gc2V0IHRvIGAnYXV0bydgLCB0aGUgZG9tIGxheW91dCBzaG91bGQgb25seSBiZSBhcHBsaWVkXG4gICAqIHdoZW4gdGhlIGBwYXJlbnRMYXllcmAgaXMgdGhlIHNhbWUgYXMgdGhlIGBwYXJlbnRgIG9iamVjdC5cbiAgICpcbiAgICogSXQgaXMgdGhlIHJlc3BvbnNpYmlsdGl5IG9mIHRoZSB1cGRhdGUgY2FsbGJhY2tcbiAgICogdG8gZm9sbG93IHRoZXNlIHJ1bGVzLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBgYXV0b2BcbiAgICovXG4gIHNob3VsZEFwcGx5RE9NTGF5b3V0OiB0cnVlIHwgZmFsc2UgfCAnYXV0bycgPSAnYXV0bydcblxuICAvKipcbiAgICogUmVmcmVzaCBmcm9tIERPTVxuICAgKi9cbiAgcHJvdGVjdGVkIHJlZnJlc2gocmVjdXJzZT1mYWxzZSkge1xuICAgIHRoaXMuX3dlYkxheWVyLnJlZnJlc2goKVxuICAgIHRoaXMuY2hpbGRXZWJMYXllcnMubGVuZ3RoID0gMFxuICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLl93ZWJMYXllci5jaGlsZExheWVycykge1xuICAgICAgY29uc3QgY2hpbGQgPSBXZWJMYXllcjNELmdldENsb3Nlc3RMYXllckZvckVsZW1lbnQoYy5lbGVtZW50KVxuICAgICAgaWYgKCFjaGlsZCkgY29udGludWVcbiAgICAgIHRoaXMuY2hpbGRXZWJMYXllcnMucHVzaChjaGlsZClcbiAgICAgIGlmIChyZWN1cnNlKSBjaGlsZC5yZWZyZXNoKHJlY3Vyc2UpXG4gICAgfVxuICAgIHRoaXMuX3JlZnJlc2hWaWRlb0JvdW5kcygpXG4gICAgdGhpcy5fcmVmcmVzaERPTUxheW91dCgpXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUxheW91dCgpIHtcbiAgICB0aGlzLnBvc2l0aW9uLmNvcHkodGhpcy5kb21MYXlvdXQucG9zaXRpb24pXG4gICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkodGhpcy5kb21MYXlvdXQucXVhdGVybmlvbilcbiAgICB0aGlzLnNjYWxlLmNvcHkodGhpcy5kb21MYXlvdXQuc2NhbGUpXG4gICAgLy8gdGhpcy5jb250ZW50TWVzaC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5jb250ZW50TWVzaC5zY2FsZS5jb3B5KHRoaXMuZG9tU2l6ZSlcbiAgICAvLyB0aGlzLl9ib3VuZHNNZXNoLnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLl9ib3VuZHNNZXNoLnNjYWxlLmNvcHkodGhpcy5kb21TaXplKVxuICAgIC8vIGhhbmRsZSBsYXllciB2aXNpYmlsdGl5IG9yIHJlbW92YWxcbiAgICBjb25zdCBtZXNoID0gdGhpcy5jb250ZW50TWVzaFxuICAgIGNvbnN0IG1hdCA9IG1lc2gubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWxcbiAgICBjb25zdCBpc0hpZGRlbiA9IG1hdC5vcGFjaXR5IDwgMC4wMDVcbiAgICBpZiAoaXNIaWRkZW4pIG1lc2gudmlzaWJsZSA9IGZhbHNlXG4gICAgZWxzZSBpZiAobWVzaC5tYXRlcmlhbC5tYXApIG1lc2gudmlzaWJsZSA9IHRydWVcbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwgJiYgaXNIaWRkZW4pIHtcbiAgICAgIGlmICh0aGlzLnBhcmVudCkgdGhpcy5wYXJlbnQucmVtb3ZlKHRoaXMpXG4gICAgICB0aGlzLmRpc3Bvc2UoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ29udGVudCgpIHtcbiAgICBjb25zdCBtZXNoID0gdGhpcy5jb250ZW50TWVzaFxuICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmN1cnJlbnRUZXh0dXJlXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsIGFzIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsXG4gICAgaWYgKHRleHR1cmUuaW1hZ2UgJiYgbWF0ZXJpYWwubWFwICE9PSB0ZXh0dXJlKSB7XG4gICAgICBtYXRlcmlhbC5tYXAgPSB0ZXh0dXJlXG4gICAgICB0aGlzLmRlcHRoTWF0ZXJpYWxbJ21hcCddID0gdGV4dHVyZVxuICAgICAgdGhpcy5kZXB0aE1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgbWF0ZXJpYWwuZGVwdGhXcml0ZSA9IGZhbHNlXG4gICAgICB0aGlzLnJlbmRlck9yZGVyID0gdGhpcy5kZXB0aCArIHRoaXMuaW5kZXggKiAwLjAwMSArICh0aGlzLm9wdGlvbnMucmVuZGVyT3JkZXJPZmZzZXQgfHwgMClcbiAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfZG9VcGRhdGUoKSB7XG4gICAgdGhpcy51cGRhdGVMYXlvdXQoKVxuICAgIHRoaXMudXBkYXRlQ29udGVudCgpXG4gICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoICYmIHRoaXMub3B0aW9ucy5hdXRvUmVmcmVzaCkgXG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIFdlYlJlbmRlcmVyLnNjaGVkdWxlVGFza3NJZk5lZWRlZCgpXG4gIH1cblxuICB1cGRhdGUocmVjdXJzZT1mYWxzZSkge1xuICAgIGlmIChyZWN1cnNlKSB0aGlzLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIodGhpcy5fZG9VcGRhdGUpXG4gICAgZWxzZSB0aGlzLl9kb1VwZGF0ZSgpXG4gIH1cblxuICBxdWVyeVNlbGVjdG9yKHNlbGVjdG9yOiBzdHJpbmcpOiBXZWJMYXllcjNEQmFzZSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KGVsZW1lbnQpXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJBbmNlc3RvcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcjNEQmFzZSkgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCBwYXJlbnRMYXllciA9IHRoaXMucGFyZW50V2ViTGF5ZXJcbiAgICBpZiAocGFyZW50TGF5ZXIpIHtcbiAgICAgIHBhcmVudExheWVyLnRyYXZlcnNlTGF5ZXJBbmNlc3RvcnMoZWFjaClcbiAgICAgIGVhY2guY2FsbCh0aGlzLCBwYXJlbnRMYXllcilcbiAgICB9XG4gIH1cblxuICB0cmF2ZXJzZUxheWVyc1ByZU9yZGVyKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzREJhc2UpID0+IGJvb2xlYW58dm9pZFxuICApIHtcbiAgICBpZiAoZWFjaC5jYWxsKHRoaXMsIHRoaXMpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSB7XG4gICAgICBpZiAoY2hpbGQudHJhdmVyc2VMYXllcnNQcmVPcmRlcihlYWNoKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnNQb3N0T3JkZXIoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcjNEQmFzZSkgPT4gYm9vbGVhbnx2b2lkXG4gICkgOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRXZWJMYXllcnMpIHtcbiAgICAgIGlmIChjaGlsZC50cmF2ZXJzZUxheWVyc1Bvc3RPcmRlcihlYWNoKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gZWFjaC5jYWxsKHRoaXMsIHRoaXMpIHx8IHRydWVcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgZm9yIChjb25zdCB0IG9mIHRoaXMudGV4dHVyZXMudmFsdWVzKCkpIHtcbiAgICAgIHQuZGlzcG9zZSgpXG4gICAgfVxuICAgIHRoaXMuY29udGVudE1lc2guZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgdGhpcy5fYm91bmRzTWVzaC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICBXZWJSZW5kZXJlci5kaXNwb3NlTGF5ZXIodGhpcy5fd2ViTGF5ZXIpXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSBjaGlsZC5kaXNwb3NlKClcbiAgfVxuXG4gIHByaXZhdGUgX3JlZnJlc2hWaWRlb0JvdW5kcygpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50Lm5vZGVOYW1lID09PSAnVklERU8nKSB7XG4gICAgICBjb25zdCB2aWRlbyA9IHRoaXMuZWxlbWVudCBhcyBIVE1MVmlkZW9FbGVtZW50XG4gICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jdXJyZW50VGV4dHVyZVxuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KVxuICAgICAgY29uc3QgeyBvYmplY3RGaXQgfSA9IGNvbXB1dGVkU3R5bGVcbiAgICAgIGNvbnN0IHsgd2lkdGg6IHZpZXdXaWR0aCwgaGVpZ2h0OiB2aWV3SGVpZ2h0IH0gPSB0aGlzLmJvdW5kc1xuICAgICAgY29uc3QgeyB2aWRlb1dpZHRoLCB2aWRlb0hlaWdodCB9ID0gdmlkZW9cbiAgICAgIGNvbnN0IHZpZGVvUmF0aW8gPSB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHRcbiAgICAgIGNvbnN0IHZpZXdSYXRpbyA9IHZpZXdXaWR0aCAvIHZpZXdIZWlnaHRcbiAgICAgIHRleHR1cmUuY2VudGVyLnNldCgwLjUsIDAuNSlcbiAgICAgIHN3aXRjaCAob2JqZWN0Rml0KSB7XG4gICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCh2aWV3V2lkdGggLyB2aWRlb1dpZHRoLCB2aWV3SGVpZ2h0IC8gdmlkZW9IZWlnaHQpLmNsYW1wU2NhbGFyKDAsIDEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY29udGFpbic6XG4gICAgICAgIGNhc2UgJ3NjYWxlLWRvd24nOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCgxLCAxKVxuICAgICAgICAgIGlmICh2aWV3UmF0aW8gPiB2aWRlb1JhdGlvKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm91bmRzLmhlaWdodCAqIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMubGVmdCArPSAodGhpcy5ib3VuZHMud2lkdGggLSB3aWR0aCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aCA9IHdpZHRoXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYm91bmRzLndpZHRoIC8gdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy50b3AgKz0gKHRoaXMuYm91bmRzLmhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY292ZXInOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCh2aWV3V2lkdGggLyB2aWRlb1dpZHRoLCB2aWV3SGVpZ2h0IC8gdmlkZW9IZWlnaHQpXG4gICAgICAgICAgaWYgKHZpZXdSYXRpbyA8IHZpZGVvUmF0aW8pIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5ib3VuZHMuaGVpZ2h0ICogdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5sZWZ0ICs9ICh0aGlzLmJvdW5kcy53aWR0aCAtIHdpZHRoKSAvIDJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRoID0gd2lkdGhcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5ib3VuZHMud2lkdGggLyB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLnRvcCArPSAodGhpcy5ib3VuZHMuaGVpZ2h0IC0gaGVpZ2h0KSAvIDJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICBjYXNlICdmaWxsJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoMSwgMSlcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3JlZnJlc2hET01MYXlvdXQoKSB7XG5cbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLmRvbUxheW91dC5zY2FsZS5zZXQoMSwgMSwgMSlcbiAgICB0aGlzLmRvbUxheW91dC5xdWF0ZXJuaW9uLnNldCgwLCAwLCAwLCAxKVxuXG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5ib3VuZHNcbiAgICBjb25zdCB3aWR0aCA9IGJvdW5kcy53aWR0aFxuICAgIGNvbnN0IGhlaWdodCA9IGJvdW5kcy5oZWlnaHRcbiAgICBjb25zdCBwaXhlbFNpemUgPSAxIC8gV2ViTGF5ZXIzRC5ERUZBVUxUX1BJWEVMU19QRVJfVU5JVFxuXG4gICAgdGhpcy5kb21TaXplLnNldChcbiAgICAgIE1hdGgubWF4KHBpeGVsU2l6ZSAqIHdpZHRoLCAxMGUtNiksXG4gICAgICBNYXRoLm1heChwaXhlbFNpemUgKiBoZWlnaHQsIDEwZS02KSxcbiAgICAgIDFcbiAgICApXG5cbiAgICBpZiAoIVdlYkxheWVyM0Quc2hvdWxkQXBwbHlET01MYXlvdXQodGhpcykpIHJldHVyblxuXG4gICAgY29uc3QgcGFyZW50Qm91bmRzID1cbiAgICAgIHRoaXMucGFyZW50V2ViTGF5ZXIgaW5zdGFuY2VvZiBXZWJMYXllcjNEQmFzZVxuICAgICAgICA/IHRoaXMucGFyZW50V2ViTGF5ZXIuYm91bmRzXG4gICAgICAgIDogZ2V0Vmlld3BvcnRCb3VuZHMoc2NyYXRjaEJvdW5kcylcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9IHBhcmVudEJvdW5kcy53aWR0aFxuICAgIGNvbnN0IHBhcmVudEhlaWdodCA9IHBhcmVudEJvdW5kcy5oZWlnaHRcblxuICAgIGNvbnN0IGxlZnRFZGdlID0gLXBhcmVudFdpZHRoIC8gMiArIHdpZHRoIC8gMlxuICAgIGNvbnN0IHRvcEVkZ2UgPSBwYXJlbnRIZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMlxuXG4gICAgY29uc3Qgc2VwID0gdGhpcy5vcHRpb25zLmxheWVyU2VwYXJhdGlvbiB8fCBXZWJMYXllcjNELkRFRkFVTFRfTEFZRVJfU0VQQVJBVElPTlxuICAgIFxuICAgIHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLnNldChcbiAgICAgIHBpeGVsU2l6ZSAqIChsZWZ0RWRnZSArIGJvdW5kcy5sZWZ0KSxcbiAgICAgIHBpeGVsU2l6ZSAqICh0b3BFZGdlIC0gYm91bmRzLnRvcCksXG4gICAgICAwXG4gICAgICAvLyB0aGlzLmRlcHRoICogc2VwICtcbiAgICAgIC8vICAgKHRoaXMucGFyZW50V2ViTGF5ZXIgPyB0aGlzLnBhcmVudFdlYkxheWVyLmluZGV4ICogc2VwICogMC4wMSA6IDApICtcbiAgICAgIC8vICAgdGhpcy5pbmRleCAqIHNlcCAqIDAuMDAxXG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgRE9NIHRyZWUgaW50byAzRCBsYXllcnMuXG4gKlxuICogV2hlbiBhbiBpbnN0YW5jZSBpcyBjcmVhdGVkLCBhIGB4ci1sYXllcmAgaXMgc2V0IG9uIHRoZVxuICogdGhlIHBhc3NlZCBET00gZWxlbWVudCB0byBtYXRjaCB0aGlzIGluc3RhbmNlJ3MgT2JqZWN0M0QgaWQuXG4gKiBJZiB0aGUgcGFzc2VkIERPTSBlbGVtZW50IGhhcyBhbiBgaWRgIGF0dHJpYnV0ZSwgdGhpcyBpbnN0YW5jZSdzIE9iamVjdDNEIG5hbWVcbiAqIHdpbGwgYmUgc2V0IHRvIG1hdGNoIHRoZSBlbGVtZW50IGlkLlxuICpcbiAqIENoaWxkIFdlYkxheWVyM0QgaW5zdGFuY2VzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aCBhbiBgeHItbGF5ZXJgIGF0dHJpYnV0ZSxcbiAqIHdoaWNoIHdpbGwgYmUgc2V0IHdoZW4gdGhlIGNoaWxkIFdlYkxheWVyM0QgaW5zdGFuY2UgaXMgY3JlYXRlZCBhdXRvbWF0aWNhbGx5LlxuICogVGhlIGF0dHJpYnV0ZSBjYW4gYmUgc3BlY2lmaWVkIGFkZGVkIGluIEhUTUwgb3IgZHluYW1pY2FsbHk6XG4gKiAgLSBgPGRpdiB4ci1sYXllcj48L2Rpdj5gXG4gKlxuICogQWRkaXRpb25hbGx5LCB0aGUgcGl4ZWwgcmF0aW8gY2FuIGJlIGFkanVzdGVkIG9uIGVhY2ggbGF5ZXIsIGluZGl2aWR1YWxseTpcbiAqICAtIGA8ZGl2IHhyLWxheWVyIHhyLXBpeGVsLXJhdGlvPVwiMC41XCI+PC9kaXY+YFxuICpcbiAqIERlZmF1bHQgZGltZW5zaW9uczogMXB4ID0gMC4wMDEgd29ybGQgZGltZW5zaW9ucyA9IDFtbSAoYXNzdW1pbmcgbWV0ZXJzKVxuICogICAgIGUuZy4sIDUwMHB4IHdpZHRoIG1lYW5zIDAuNW1ldGVyc1xuICovXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIzRCBleHRlbmRzIFdlYkxheWVyM0RCYXNlIHtcblxuICBzdGF0aWMgbGF5ZXJzQnlFbGVtZW50ID0gbmV3IFdlYWtNYXA8RWxlbWVudCwgV2ViTGF5ZXIzREJhc2U+KClcbiAgc3RhdGljIGxheWVyc0J5TWVzaCA9IG5ldyBXZWFrTWFwPFRIUkVFLk1lc2gsIFdlYkxheWVyM0RCYXNlPigpXG5cbiAgc3RhdGljIERFRkFVTFRfTEFZRVJfU0VQQVJBVElPTiA9IDAuMDAxXG4gIHN0YXRpYyBERUZBVUxUX1BJWEVMU19QRVJfVU5JVCA9IDEwMDBcbiAgc3RhdGljIEdFT01FVFJZID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSwgMiwgMikgYXMgVEhSRUUuR2VvbWV0cnlcblxuICBzdGF0aWMgY29tcHV0ZU5hdHVyYWxEaXN0YW5jZShcbiAgICBwcm9qZWN0aW9uOiBUSFJFRS5NYXRyaXg0IHwgVEhSRUUuQ2FtZXJhLFxuICAgIHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyXG4gICkge1xuICAgIGxldCBwcm9qZWN0aW9uTWF0cml4ID0gcHJvamVjdGlvbiBhcyAgVEhSRUUuTWF0cml4NFxuICAgIGlmICgocHJvamVjdGlvbiBhcyBUSFJFRS5DYW1lcmEpLmlzQ2FtZXJhKSB7XG4gICAgICBwcm9qZWN0aW9uTWF0cml4ID0gKHByb2plY3Rpb24gYXMgVEhSRUUuQ2FtZXJhKS5wcm9qZWN0aW9uTWF0cml4XG4gICAgfVxuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSByZW5kZXJlci5nZXRQaXhlbFJhdGlvKClcbiAgICBjb25zdCB3aWR0aFBpeGVscyA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGggLyBwaXhlbFJhdGlvXG4gICAgY29uc3Qgd2lkdGggPSBXZWJMYXllcjNELkRFRkFVTFRfUElYRUxTX1BFUl9VTklUICogd2lkdGhQaXhlbHNcbiAgICBjb25zdCBob3Jpem9udGFsRk9WID0gZ2V0Rm92cyhwcm9qZWN0aW9uTWF0cml4KS5ob3Jpem9udGFsXG4gICAgY29uc3QgbmF0dXJhbERpc3RhbmNlID0gd2lkdGggLyAyIC8gTWF0aC50YW4oaG9yaXpvbnRhbEZPViAvIDIpXG4gICAgcmV0dXJuIG5hdHVyYWxEaXN0YW5jZVxuICB9XG4gIFxuICBzdGF0aWMgc2hvdWxkQXBwbHlET01MYXlvdXQobGF5ZXI6IFdlYkxheWVyM0RCYXNlKSB7XG4gICAgY29uc3Qgc2hvdWxkID0gbGF5ZXIuc2hvdWxkQXBwbHlET01MYXlvdXRcbiAgICBpZiAoKHNob3VsZCBhcyBhbnkpID09PSAnYWx3YXlzJyB8fCBzaG91bGQgPT09IHRydWUpIHJldHVybiB0cnVlXG4gICAgaWYgKChzaG91bGQgYXMgYW55KSA9PT0gJ25ldmVyJyB8fCBzaG91bGQgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoc2hvdWxkID09PSAnYXV0bycgJiYgbGF5ZXIucGFyZW50V2ViTGF5ZXIgJiYgbGF5ZXIucGFyZW50ID09PSBsYXllci5wYXJlbnRXZWJMYXllcikgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBwYXJlbnRXZWJMYXllcigpIHtcbiAgICByZXR1cm4gc3VwZXIucGFyZW50V2ViTGF5ZXIhXG4gIH1cblxuICBwcml2YXRlIF9pbnRlcmFjdGlvblJheXMgPSBbXSBhcyBBcnJheTxUSFJFRS5SYXkgfCBUSFJFRS5PYmplY3QzRD5cbiAgcHJpdmF0ZSBfcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpXG4gIHByaXZhdGUgX2hpdEludGVyc2VjdGlvbnMgPSBbXSBhcyBJbnRlcnNlY3Rpb25bXVxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRPckhUTUw6IEVsZW1lbnR8c3RyaW5nLCBwdWJsaWMgb3B0aW9uczogV2ViTGF5ZXIzRE9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGVsZW1lbnRPckhUTUwsIG9wdGlvbnMpXG5cbiAgICB0aGlzLl93ZWJMYXllciA9IFdlYlJlbmRlcmVyLmNyZWF0ZUxheWVyVHJlZSh0aGlzLmVsZW1lbnQsIChldmVudCwgeyB0YXJnZXQgfSkgPT4ge1xuICAgICAgaWYgKGV2ZW50ID09PSAnbGF5ZXJjcmVhdGVkJykge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB0aGlzLmVsZW1lbnQpIHJldHVyblxuICAgICAgICBjb25zdCBsYXllciA9IG5ldyBXZWJMYXllcjNEQmFzZSh0YXJnZXQsIHRoaXMub3B0aW9ucylcbiAgICAgICAgbGF5ZXIucGFyZW50V2ViTGF5ZXI/LmFkZChsYXllcilcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkxheWVyQ3JlYXRlKSB0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZShsYXllcilcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdsYXllcnBhaW50ZWQnKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIubGF5ZXJzLmdldCh0YXJnZXQpIVxuICAgICAgICBjb25zdCBsYXllcjNEID0gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgICBsYXllcjNELnRleHR1cmVOZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdsYXllcm1vdmVkJykge1xuICAgICAgICBjb25zdCBsYXllciA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldCh0YXJnZXQpIVxuICAgICAgICBsYXllci5wYXJlbnRXZWJMYXllcj8uYWRkKGxheWVyKVxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKHRoaXMub3B0aW9ucy5vbkxheWVyQ3JlYXRlKSB0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZSh0aGlzKVxuXG4gICAgdGhpcy5yZWZyZXNoKHRydWUpXG4gICAgdGhpcy51cGRhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBSYXlzIHRvIGJlIHVzZWQgZm9yIGludGVyYWN0aW9uLlxuICAgKiBDYW4gb25seSBiZSBzZXQgb24gYSByb290IFdlYkxheWVyM0QgaW5zdGFuY2UuXG4gICAqL1xuICBnZXQgaW50ZXJhY3Rpb25SYXlzKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvblJheXNcbiAgfVxuICBzZXQgaW50ZXJhY3Rpb25SYXlzKHJheXM6IEFycmF5PFRIUkVFLlJheSB8IFRIUkVFLk9iamVjdDNEPikge1xuICAgIHRoaXMuX2ludGVyYWN0aW9uUmF5cyA9IHJheXNcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhpcyBsYXllciwgb3B0aW9uYWxseSByZWN1cnNpdmVseVxuICAgKi9cbiAgdXBkYXRlKHJlY3Vyc2U9ZmFsc2UpIHtcbiAgICB0aGlzLl91cGRhdGVJbnRlcmFjdGlvbnMoKVxuICAgIHN1cGVyLnVwZGF0ZShyZWN1cnNlKVxuICB9XG5cbiAgcHJpdmF0ZSBfcHJldmlvdXNIb3ZlckxheWVycyA9IG5ldyBTZXQ8V2ViTGF5ZXIzREJhc2U+KClcbiAgcHJpdmF0ZSBfY29udGVudE1lc2hlcyA9IFtdIGFzIFRIUkVFLk1lc2hbXVxuXG4gIHByaXZhdGUgX3ByZXBhcmVIaXRUZXN0ID0gKGxheWVyOldlYkxheWVyM0RCYXNlKSA9PiB7XG4gICAgaWYgKGxheWVyLnBzZXVkb1N0YXRlcy5ob3ZlcikgdGhpcy5fcHJldmlvdXNIb3ZlckxheWVycy5hZGQobGF5ZXIpXG4gICAgbGF5ZXIuY3Vyc29yLnZpc2libGUgPSBmYWxzZVxuICAgIGxheWVyLnBzZXVkb1N0YXRlcy5ob3ZlciA9IGZhbHNlXG4gICAgdGhpcy5fY29udGVudE1lc2hlcy5wdXNoKGxheWVyLmNvbnRlbnRNZXNoKVxuICB9XG5cbiAgcHJpdmF0ZSBfaW50ZXJzZWN0aW9uR2V0R3JvdXBPcmRlcihpOkludGVyc2VjdGlvbikge1xuICAgIGxldCBvID0gaS5vYmplY3QgYXMgVEhSRUUuR3JvdXAmVEhSRUUuT2JqZWN0M0RcbiAgICB3aGlsZSAoby5wYXJlbnQgJiYgIW8uaXNHcm91cCkge1xuICAgICAgbyA9IG8ucGFyZW50IGFzIFRIUkVFLkdyb3VwJlRIUkVFLk9iamVjdDNEXG4gICAgfVxuICAgIGkuZ3JvdXBPcmRlciA9IG8ucmVuZGVyT3JkZXJcbiAgfVxuXG4gIHByaXZhdGUgX2ludGVyc2VjdGlvblNvcnQoYTpJbnRlcnNlY3Rpb24sYjpJbnRlcnNlY3Rpb24pIHtcbiAgICBpZiAoIGEuZ3JvdXBPcmRlciAhPT0gYi5ncm91cE9yZGVyICkge1xuXHRcdCAgcmV0dXJuIGIuZ3JvdXBPcmRlciAtIGEuZ3JvdXBPcmRlclxuXHQgIH0gZWxzZSBpZiAoIGEub2JqZWN0LnJlbmRlck9yZGVyICE9PSBiLm9iamVjdC5yZW5kZXJPcmRlciApIHtcbiAgICAgIHJldHVybiBiLm9iamVjdC5yZW5kZXJPcmRlciAtIGEub2JqZWN0LnJlbmRlck9yZGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZUludGVyYWN0aW9ucygpIHtcbiAgICAvLyB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsIHRydWUpXG4gICAgXG4gICAgY29uc3QgcHJldkhvdmVyID0gdGhpcy5fcHJldmlvdXNIb3ZlckxheWVyc1xuICAgIHByZXZIb3Zlci5jbGVhcigpXG4gICAgdGhpcy5fY29udGVudE1lc2hlcy5sZW5ndGggPSAwXG4gICAgdGhpcy50cmF2ZXJzZUxheWVyc1ByZU9yZGVyKHRoaXMuX3ByZXBhcmVIaXRUZXN0KVxuXG4gICAgZm9yIChjb25zdCByYXkgb2YgdGhpcy5faW50ZXJhY3Rpb25SYXlzKSB7XG4gICAgICBpZiAocmF5IGluc3RhbmNlb2YgVEhSRUUuUmF5KSB0aGlzLl9yYXljYXN0ZXIucmF5LmNvcHkocmF5KVxuICAgICAgZWxzZVxuICAgICAgICB0aGlzLl9yYXljYXN0ZXIucmF5LnNldChcbiAgICAgICAgICByYXkuZ2V0V29ybGRQb3NpdGlvbihzY3JhdGNoVmVjdG9yKSxcbiAgICAgICAgICByYXkuZ2V0V29ybGREaXJlY3Rpb24oc2NyYXRjaFZlY3RvcjIpXG4gICAgICAgIClcbiAgICAgIHRoaXMuX2hpdEludGVyc2VjdGlvbnMubGVuZ3RoID0gMFxuICAgICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX3JheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRoaXMuX2NvbnRlbnRNZXNoZXMsIGZhbHNlLCB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zKSBhcyBJbnRlcnNlY3Rpb25bXVxuICAgICAgaW50ZXJzZWN0aW9ucy5mb3JFYWNoKHRoaXMuX2ludGVyc2VjdGlvbkdldEdyb3VwT3JkZXIpXG4gICAgICBpbnRlcnNlY3Rpb25zLnNvcnQodGhpcy5faW50ZXJzZWN0aW9uU29ydClcbiAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbnNbMF1cbiAgICAgIGlmIChpbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBpbnRlcnNlY3Rpb24ub2JqZWN0LnBhcmVudCBhcyBXZWJMYXllcjNEQmFzZVxuICAgICAgICBsYXllci5jdXJzb3IucG9zaXRpb24uY29weShpbnRlcnNlY3Rpb24ucG9pbnQpXG4gICAgICAgIGxheWVyLmN1cnNvci52aXNpYmxlID0gdHJ1ZVxuICAgICAgICBsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIgPSB0cnVlXG4gICAgICAgIGlmICghcHJldkhvdmVyLmhhcyhsYXllcikpIHtcbiAgICAgICAgICBsYXllci5zZXROZWVkc1JlZnJlc2goKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBsYXllciBvZiBwcmV2SG92ZXIpIHtcbiAgICAgIGlmICghbGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyKSB7XG4gICAgICAgIGxheWVyLnNldE5lZWRzUmVmcmVzaCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldExheWVyRm9yUXVlcnkoc2VsZWN0b3I6IHN0cmluZyk6IFdlYkxheWVyM0RCYXNlIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikhXG4gICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChlbGVtZW50KVxuICB9XG5cbiAgc3RhdGljIGdldENsb3Nlc3RMYXllckZvckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCk6IFdlYkxheWVyM0RCYXNlIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBjbG9zZXN0TGF5ZXJFbGVtZW50ID1cbiAgICAgIGVsZW1lbnQgJiYgKGVsZW1lbnQuY2xvc2VzdChgWyR7V2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFfV1gKSBhcyBIVE1MRWxlbWVudClcbiAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KGNsb3Nlc3RMYXllckVsZW1lbnQpXG4gIH1cblxuICBoaXRUZXN0KHJheTogVEhSRUUuUmF5KSB7XG4gICAgY29uc3QgcmF5Y2FzdGVyID0gdGhpcy5fcmF5Y2FzdGVyXG4gICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX2hpdEludGVyc2VjdGlvbnNcbiAgICBjb25zdCBtZXNoTWFwID0gV2ViTGF5ZXIzRC5sYXllcnNCeU1lc2hcbiAgICByYXljYXN0ZXIucmF5LmNvcHkocmF5KVxuICAgIGludGVyc2VjdGlvbnMubGVuZ3RoID0gMFxuICAgIHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QodGhpcywgdHJ1ZSwgaW50ZXJzZWN0aW9ucylcbiAgICBpbnRlcnNlY3Rpb25zLmZvckVhY2godGhpcy5faW50ZXJzZWN0aW9uR2V0R3JvdXBPcmRlcilcbiAgICBpbnRlcnNlY3Rpb25zLnNvcnQodGhpcy5faW50ZXJzZWN0aW9uU29ydClcbiAgICBmb3IgKGNvbnN0IGludGVyc2VjdGlvbiBvZiBpbnRlcnNlY3Rpb25zKSB7XG4gICAgICBjb25zdCBsYXllciA9IG1lc2hNYXAhLmdldChpbnRlcnNlY3Rpb24ub2JqZWN0IGFzIGFueSlcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBjb25zdCBsYXllckJvdW5kaW5nUmVjdCA9IGdldEJvdW5kcyhsYXllci5lbGVtZW50LCBzY3JhdGNoQm91bmRzKSFcbiAgICAgIGlmICghbGF5ZXJCb3VuZGluZ1JlY3Qud2lkdGggfHwgIWxheWVyQm91bmRpbmdSZWN0LmhlaWdodCkgY29udGludWVcbiAgICAgIGxldCB0YXJnZXQgPSBsYXllci5lbGVtZW50IGFzIEhUTUxFbGVtZW50XG4gICAgICBjb25zdCBjbGllbnRYID0gaW50ZXJzZWN0aW9uLnV2IS54ICogbGF5ZXJCb3VuZGluZ1JlY3Qud2lkdGhcbiAgICAgIGNvbnN0IGNsaWVudFkgPSAoMSAtIGludGVyc2VjdGlvbi51diEueSkgKiBsYXllckJvdW5kaW5nUmVjdC5oZWlnaHRcbiAgICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhsYXllci5lbGVtZW50LCBlbCA9PiB7XG4gICAgICAgIGlmICghdGFyZ2V0LmNvbnRhaW5zKGVsKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGNvbnN0IGVsZW1lbnRCb3VuZGluZ1JlY3QgPSBnZXRCb3VuZHMoZWwsIHNjcmF0Y2hCb3VuZHMyKSFcbiAgICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IGVsZW1lbnRCb3VuZGluZ1JlY3QubGVmdCAtIGxheWVyQm91bmRpbmdSZWN0LmxlZnRcbiAgICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gZWxlbWVudEJvdW5kaW5nUmVjdC50b3AgLSBsYXllckJvdW5kaW5nUmVjdC50b3BcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbGVtZW50Qm91bmRpbmdSZWN0XG4gICAgICAgIGNvbnN0IG9mZnNldFJpZ2h0ID0gb2Zmc2V0TGVmdCArIHdpZHRoXG4gICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCArIGhlaWdodFxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2xpZW50WCA+IG9mZnNldExlZnQgJiZcbiAgICAgICAgICBjbGllbnRYIDwgb2Zmc2V0UmlnaHQgJiZcbiAgICAgICAgICBjbGllbnRZID4gb2Zmc2V0VG9wICYmXG4gICAgICAgICAgY2xpZW50WSA8IG9mZnNldEJvdHRvbVxuICAgICAgICApIHtcbiAgICAgICAgICB0YXJnZXQgPSBlbCBhcyBIVE1MRWxlbWVudFxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlIC8vIHN0b3AgdHJhdmVyc2FsIGRvd24gdGhpcyBwYXRoXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHsgbGF5ZXIsIGludGVyc2VjdGlvbiwgdGFyZ2V0IH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbn1cblxuY2xhc3MgQ2FtZXJhRk9WcyB7XG4gIHRvcCA9IDBcbiAgbGVmdCA9IDBcbiAgYm90dG9tID0gMFxuICByaWdodCA9IDBcbiAgaG9yaXpvbnRhbCA9IDBcbiAgdmVydGljYWwgPSAwXG59XG5cbmNvbnN0IF9mb3ZzID0gbmV3IENhbWVyYUZPVnMoKVxuY29uc3QgX2dldEZvdnNNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpXG5jb25zdCBfZ2V0Rm92c1ZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbmNvbnN0IEZPUldBUkQgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSlcbmZ1bmN0aW9uIGdldEZvdnMocHJvamVjdGlvbk1hdHJpeDogVEhSRUUuTWF0cml4NCkge1xuICBjb25zdCBvdXQgPSBfZm92c1xuICBjb25zdCBpbnZQcm9qZWN0aW9uID0gX2dldEZvdnNNYXRyaXguZ2V0SW52ZXJzZShwcm9qZWN0aW9uTWF0cml4KVxuICBjb25zdCB2ZWMgPSBfZ2V0Rm92c1ZlY3RvclxuICBvdXQubGVmdCA9IHZlY1xuICAgIC5zZXQoLTEsIDAsIC0xKVxuICAgIC5hcHBseU1hdHJpeDQoaW52UHJvamVjdGlvbilcbiAgICAuYW5nbGVUbyhGT1JXQVJEKVxuICBvdXQucmlnaHQgPSB2ZWNcbiAgICAuc2V0KDEsIDAsIC0xKVxuICAgIC5hcHBseU1hdHJpeDQoaW52UHJvamVjdGlvbilcbiAgICAuYW5nbGVUbyhGT1JXQVJEKVxuICBvdXQudG9wID0gdmVjXG4gICAgLnNldCgwLCAxLCAtMSlcbiAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4gICAgLmFuZ2xlVG8oRk9SV0FSRClcbiAgb3V0LmJvdHRvbSA9IHZlY1xuICAgIC5zZXQoMCwgLTEsIC0xKVxuICAgIC5hcHBseU1hdHJpeDQoaW52UHJvamVjdGlvbilcbiAgICAuYW5nbGVUbyhGT1JXQVJEKVxuICBvdXQuaG9yaXpvbnRhbCA9IG91dC5yaWdodCArIG91dC5sZWZ0XG4gIG91dC52ZXJ0aWNhbCA9IG91dC50b3AgKyBvdXQuYm90dG9tXG4gIHJldHVybiBvdXRcbn1cbiIsImltcG9ydCB7Y3JlYXRlQXBwfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBXZWJMYXllcjNEIH0gZnJvbSBcIi4uLy4uL3BhY2thZ2VzL2V0aGVyZWFsL2V0aGVyZWFsLmVzXCI7XG5cbmV4cG9ydCBjbGFzcyBIdWJzQXBwIHtcbiAgICBjb25zdHJ1Y3RvciAod2lkdGgsIGhlaWdodCwgQXBwLCBjcmVhdGVPcHRpb25zPXt9KSB7XG4gICAgICAgIHRoaXMuaXNJbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTmV0d29ya2VkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy50YWtlT3duZXJzaGlwID0gdGhpcy50YWtlT3duZXJzaGlwUHJvdG8uYmluZCh0aGlzKVxuICAgICAgICB0aGlzLnNldFNoYXJlZERhdGEgPSB0aGlzLnNldFNoYXJlZERhdGFQcm90by5iaW5kKHRoaXMpXG5cbiAgICAgICAgdGhpcy5oZWFkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICB0aGlzLmFwcERpdiAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgXG4gICAgICAgIC8vIHRoaXMuaGVhZERpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgLy8gdGhpcy5oZWFkRGl2LnN0eWxlLmxlZnQgPSAtMTAwMDArJ3B4JztcbiAgICAgICAgLy8gdGhpcy5oZWFkRGl2LnN0eWxlLnRvcCA9IDArJ3B4JztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaGVhZERpdi5hcHBlbmRDaGlsZCh0aGlzLmFwcERpdilcbiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmhlYWREaXYpXG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG5cbiAgICAgICAgdGhpcy52dWVBcHAgPSBjcmVhdGVBcHAoQXBwLCBjcmVhdGVPcHRpb25zKVxuICAgIH1cblxuICAgIG1vdW50KCkge1xuICAgICAgICB0aGlzLnZ1ZVJvb3QgPSB0aGlzLnZ1ZUFwcC5tb3VudCh0aGlzLmFwcERpdik7XG4gICAgICAgIHRoaXMud2ViTGF5ZXIzRCA9IG5ldyBXZWJMYXllcjNEKHRoaXMudnVlUm9vdC4kZWwsIHtcbiAgICAgICAgICAgIGF1dG9SZWZyZXNoOiB0cnVlLFxuICAgICAgICAgICAgb25MYXllckNyZWF0ZTogKGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gbm90aGluZyB5ZXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyUmFzdGVyaXplKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gbm90aGluZyB5ZXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZXh0dXJlRW5jb2Rpbmc6IFRIUkVFLnNSR0JFbmNvZGluZyxcbiAgICAgICAgICAgIHJlbmRlck9yZGVyT2Zmc2V0OiAtMTAwMFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXROZXR3b3JrTWV0aG9kcyh0YWtlT3duZXJzaGlwLCBzZXRTaGFyZWREYXRhKSB7XG4gICAgICAgIHRoaXMudGFrZU93bmVyc2hpcCA9IHRha2VPd25lcnNoaXA7XG4gICAgICAgIHRoaXMuc2V0U2hhcmVkRGF0YSA9IHNldFNoYXJlZERhdGE7XG4gICAgfVxuXG4gICAgLy8gZHVtbXkgZnVuY3Rpb25zLCBqdXN0IHRvIGF2b2lkIGVycm9ycyBpZiB0aGV5IGdldCBjYWxsZWQgYmVmb3JlXG4gICAgLy8gbmV0d29ya2luZyBpcyBpbml0aWFsaXplZCwgb3IgY2FsbGVkIHdoZW4gbmV0d29ya2VkIGlzIGZhbHNlXG4gICAgdGFrZU93bmVyc2hpcFByb3RvKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2V0U2hhcmVkRGF0YVByb3RvKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyByZWNlaXZlIGRhdGEgdXBkYXRlcy4gIHNob3VsZCBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXNcbiAgICB1cGRhdGVTaGFyZWREYXRhKGRhdGFPYmplY3QpIHtcbiAgICAgICAgcmFpc2UoXCJ1cGRhdGVEYXRhIHNob3VsZCBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXNcIilcbiAgICB9XG5cbiAgICAvLyByZWNlaXZlIGRhdGEgdXBkYXRlcy4gIHNob3VsZCBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXNcbiAgICBnZXRTaGFyZWREYXRhKGRhdGFPYmplY3QpIHtcbiAgICAgICAgcmFpc2UoXCJnZXRTaGFyZWREYXRhIHNob3VsZCBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXNcIilcbiAgICB9XG4gICAgXG4gICAgcGxheSgpIHtcbiAgICAgICAgLy8gaWYgd2UgY2FuIGZpZ3VyZSBvdXQgaG93IHRvIHBhdXNlLCB0aGVuIHJlc3RhcnQgaGVyZVxuICAgIH1cblxuICAgIHBhdXNlKCkge1xuICAgICAgICAvLyBwZXJoYXBzIGZpZ3VyZSBvdXQgaG93IHRvIHBhdXNlIHRoZSBWdWUgY29tcG9uZW50P1xuICAgIH1cbiAgICBcbiAgICBkZXN0cm95KCkge1xuICAgICAgICAvLyBUT0RPOiBkZXN0cm95IHRoZSB2dWUgY29tcG9uZW50IGFuZCBhbnkgcmVzb3VyY2VzLCBldGMuLCBpdCBoYXNcbiAgICB9XG59IiwiaW1wb3J0IEFwcCBmcm9tIFwiLi9BcHBUZXh0LnZ1ZVwiO1xuaW1wb3J0IHsgSHVic0FwcCB9IGZyb20gXCIuLi9IdWJzQXBwXCI7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnXG5cbmV4cG9ydCBjbGFzcyBIdWJzVGVzdDEgZXh0ZW5kcyBIdWJzQXBwIHtcbiAgICBjb25zdHJ1Y3RvciAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0LCBBcHApXG4gICAgICAgIHRoaXMuaXNJbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNOZXR3b3JrZWQgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgbGV0IGFwcCA9IHRoaXM7IC8vIHNvIHdlIGNhbiByZWZlcmVuY2UgaXQgaW4gdGhlIG1ldGhvZHMgYmVsb3dcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHN0b3JlIGluc3RhbmNlLlxuICAgICAgICB0aGlzLnN0b3JlID0gY3JlYXRlU3RvcmUoe1xuICAgICAgICAgICAgc3RhdGU6IHsgXG4gICAgICAgICAgICAgICAgY291bnQ6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtdXRhdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzZXRDb3VudCAoc3RhdGUsIGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5jb3VudCA9IGNvdW50OyAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcC50YWtlT3duZXJzaGlwKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nIChKU09OLnN0cmluZ2lmeShjb250ZXh0LnN0YXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRDb3VudCcsIGNvbnRleHQuc3RhdGUuY291bnQrMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nIChKU09OLnN0cmluZ2lmeShjb250ZXh0LnN0YXRlKSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnNldFNoYXJlZERhdGEoY29udGV4dC5zdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2cgKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RvcmUuc3RhdGUpKVxuXG4gICAgICAgIHRoaXMudnVlQXBwLnVzZSh0aGlzLnN0b3JlKVxuICAgIH1cbiAgICBcbiAgICB1cGRhdGVTaGFyZWREYXRhKGRhdGFPYmplY3QpIHtcbiAgICAgICAgLy8gbmVlZCB0byB1cGRhdGUgdGhlIGVsZW1lbnRzIHdpdGhpbiB0aGUgc3RvcmUsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4gICAgICAgIC8vIHRoZSBkYXRhIHdvbid0IGZsb3cgdG8gdGhlIGNvbXBvbmVudHNcbiAgICAgICAgdGhpcy5zdG9yZS5jb21taXQoXCJzZXRDb3VudFwiLCBkYXRhT2JqZWN0LmNvdW50KVxuICAgIH1cblxuICAgIGdldFNoYXJlZERhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnN0YXRlO1xuICAgIH1cbn1cblxudmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGFwcCA9IG5ldyBIdWJzVGVzdDEoMiwgMi4yNSlcbiAgICBhcHAubW91bnQoKVxuICAgIHJldHVybiBhcHBcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuIiwiPHRlbXBsYXRlPlxuICA8aDE+e3sgbXNnIH19PC9oMT5cblxuICA8cD5cbiAgICA8YSBocmVmPVwiaHR0cHM6Ly92aXRlanMuZGV2L2d1aWRlL2ZlYXR1cmVzLmh0bWxcIiB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgIFZpdGUgRG9jdW1lbnRhdGlvbiBhbmQgVGhlbiBTb21lIVxuICAgIDwvYT5cbiAgICB8XG4gICAgPGEgaHJlZj1cImh0dHBzOi8vdjMudnVlanMub3JnL1wiIHRhcmdldD1cIl9ibGFua1wiPlZ1ZSAzIERvY3VtZW50YXRpb248L2E+XG4gIDwvcD5cblxuICA8YnV0dG9uIEBjbGljaz1cInN0YXRlLmNvdW50KytcIj5jb3VudCBpczoge3sgc3RhdGUuY291bnQgfX08L2J1dHRvbj5cbiAgPHA+XG4gICAgRWRpdFxuICAgIDxjb2RlPmNvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWU8L2NvZGU+IHRvIHRlc3QgaG90IG1vZHVsZSByZXBsYWNlbWVudC5cbiAgPC9wPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IGRlZmluZVByb3BzLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcblxuZGVmaW5lUHJvcHMoe1xuICBtc2c6IFN0cmluZ1xufSlcblxuY29uc3Qgc3RhdGUgPSByZWFjdGl2ZSh7IGNvdW50OiAwIH0pXG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbmEge1xuICBjb2xvcjogIzQyYjk4Mztcbn1cblxuKiB7XG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5cbnAge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMWVtO1xuICAgIG1hcmdpbi1ibG9jay1lbmQ6IDFlbTtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiAwcHg7XG4gICAgbWFyZ2luLWlubGluZS1lbmQ6IDBweDtcbn1cblxuaDEge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGZvbnQtc2l6ZTogMmVtO1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMC42N2VtO1xuICAgIG1hcmdpbi1ibG9jay1lbmQ6IDAuNjdlbTtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiAwcHg7XG4gICAgbWFyZ2luLWlubGluZS1lbmQ6IDBweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXYgaWQ9XCJ0b3BcIj5cbiAgICAgIDxpbWcgYWx0PVwiVnVlIGxvZ29cIiBzcmM9XCIuLi8uLi9hc3NldHMvbG9nby5wbmdcIiAvPlxuICAgICAgPEhlbGxvV29ybGQgbXNnPVwiSGVsbG8gRnJvbSB0aGUgSGVsbG9Xb3JsZCBDb21wb25lbnRcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgSGVsbG9Xb3JsZCBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJ1xuXG4vLyBUaGlzIHN0YXJ0ZXIgdGVtcGxhdGUgaXMgdXNpbmcgVnVlIDMgZXhwZXJpbWVudGFsIDxzY3JpcHQgc2V0dXA+IFNGQ3Ncbi8vIENoZWNrIG91dCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcmZjcy9ibG9iL3NjcmlwdC1zZXR1cC0yL2FjdGl2ZS1yZmNzLzAwMDAtc2NyaXB0LXNldHVwLm1kXG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbiN0b3Age1xuICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzUwMzEyYztcbiAgbWFyZ2luLXRvcDogMzBweDtcblxuICB3aWR0aDogNDAwcHg7IGhlaWdodDogNTAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBkaXNwbGF5OiBibG9jaztcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cblxuKiB7XG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5pbWcge1xuICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xufVxuPC9zdHlsZT5cbiIsImltcG9ydCBBcHAgZnJvbSBcIi4vQXBwSGVsbG8udnVlXCI7XG5pbXBvcnQgeyBIdWJzQXBwIH0gZnJvbSBcIi4uL0h1YnNBcHBcIjtcblxuZXhwb3J0IGNsYXNzIEh1YnNUZXN0MiBleHRlbmRzIEh1YnNBcHAge1xuICAgIGNvbnN0cnVjdG9yICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIEFwcClcbiAgICB9XG59XG5cbnZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhcHAgPSBuZXcgSHVic1Rlc3QyKDIsIDIuNSlcbiAgICBhcHAubW91bnQoKVxuICAgIHJldHVybiBhcHBcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdCJdLCJuYW1lcyI6WyJpc09iamVjdCIsImhhc093blByb3BlcnR5IiwiaXNQcm9taXNlIiwidWlkIiwiY29tcHV0ZWQiLCJwIiwiX2NyZWF0ZVZOb2RlIiwiX2hvaXN0ZWRfMSIsIl9ob2lzdGVkXzIiLCJbb2JqZWN0IE9iamVjdF0iLCJ4IiwieSIsImRlZmluZVByb3BlcnR5IiwidGhpcyIsInZhbHVlIiwic2NhbGFyIiwiaW5kZXgiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidiIsInciLCJ3YXJuIiwiYWRkVmVjdG9ycyIsInMiLCJhMiIsImIyIiwic3ViVmVjdG9ycyIsIm11bHRpcGx5U2NhbGFyIiwibSIsImUiLCJlbGVtZW50cyIsIk1hdGgiLCJtaW4iLCJtYXgiLCJtaW4yIiwibWF4MiIsIm1pblZhbCIsIm1heFZhbCIsImxlbmd0aCIsImRpdmlkZVNjYWxhciIsImZsb29yIiwiY2VpbCIsInJvdW5kIiwic3FydCIsImFicyIsImF0YW4yIiwiUEkiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImR4IiwiZHkiLCJub3JtYWxpemUiLCJhbHBoYSIsInYxIiwidjIiLCJhcnJheSIsIm9mZnNldCIsImF0dHJpYnV0ZSIsImdldFgiLCJnZXRZIiwiY2VudGVyIiwiYW5nbGUiLCJjMiIsImNvcyIsInNpbiIsInJhbmRvbSIsIl9sdXQiLCJpIiwidG9TdHJpbmciLCJfc2VlZCIsIk1hdGhVdGlscyIsIkRFRzJSQUQiLCJSQUQyREVHIiwiZ2VuZXJhdGVVVUlEIiwiZDAiLCJkMSIsImQyIiwiZDMiLCJ0b1VwcGVyQ2FzZSIsImNsYW1wIiwiZXVjbGlkZWFuTW9kdWxvIiwibiIsIm1hcExpbmVhciIsImExIiwiYjEiLCJsZXJwIiwidCIsInNtb290aHN0ZXAiLCJzbW9vdGhlcnN0ZXAiLCJyYW5kSW50IiwibG93IiwiaGlnaCIsInJhbmRGbG9hdCIsInJhbmRGbG9hdFNwcmVhZCIsInJhbmdlIiwic2VlZGVkUmFuZG9tIiwiZGVnVG9SYWQiLCJkZWdyZWVzIiwicmFkVG9EZWciLCJyYWRpYW5zIiwiaXNQb3dlck9mVHdvIiwiY2VpbFBvd2VyT2ZUd28iLCJwb3ciLCJsb2ciLCJMTjIiLCJmbG9vclBvd2VyT2ZUd28iLCJzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyIiwicSIsIm9yZGVyIiwiY29zMiIsInNpbjIiLCJjMjIiLCJzMiIsImMxMyIsInMxMyIsImMxXzMiLCJzMV8zIiwiYzNfMSIsInMzXzEiLCJzZXQiLCJ6IiwiX3giLCJfeSIsIl96IiwiX3ciLCJxYSIsInFiIiwicW0iLCJjb3B5Iiwic2xlcnAiLCJkc3QiLCJkc3RPZmZzZXQiLCJzcmMwIiwic3JjT2Zmc2V0MCIsInNyYzEiLCJzcmNPZmZzZXQxIiwieDAiLCJ5MCIsInowIiwidzAiLCJ4MSIsInkxIiwiejEiLCJ3MSIsImRpciIsInNxclNpbiIsIk51bWJlciIsIkVQU0lMT04iLCJsZW4iLCJ0RGlyIiwiZiIsIl9vbkNoYW5nZUNhbGxiYWNrIiwicXVhdGVybmlvbiIsImV1bGVyIiwidXBkYXRlIiwiaXNFdWxlciIsIl9vcmRlciIsImMxIiwiYzMiLCJzMSIsInMzIiwiYXhpcyIsImhhbGZBbmdsZSIsInRlIiwibTExIiwibTEyIiwibTEzIiwibTIxIiwibTIyIiwibTIzIiwibTMxIiwibTMyIiwibTMzIiwidHJhY2UiLCJ2RnJvbSIsInZUbyIsInIiLCJkb3QiLCJhY29zIiwic3RlcCIsImFuZ2xlVG8iLCJjb25qdWdhdGUiLCJsIiwibXVsdGlwbHlRdWF0ZXJuaW9ucyIsInFheCIsInFheSIsInFheiIsInFhdyIsInFieCIsInFieSIsInFieiIsInFidyIsImNvc0hhbGZUaGV0YSIsInNxclNpbkhhbGZUaGV0YSIsInNpbkhhbGZUaGV0YSIsImhhbGZUaGV0YSIsInJhdGlvQSIsInJhdGlvQiIsImdldFoiLCJnZXRXIiwiY2FsbGJhY2siLCJtdWx0aXBseVZlY3RvcnMiLCJlcnJvciIsImFwcGx5UXVhdGVybmlvbiIsIl9xdWF0ZXJuaW9uIiwic2V0RnJvbUV1bGVyIiwic2V0RnJvbUF4aXNBbmdsZSIsImFwcGx5TWF0cml4MyIsInF4IiwicXkiLCJxeiIsInF3IiwiaXgiLCJpeSIsIml6IiwiaXciLCJjYW1lcmEiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXhXb3JsZEludmVyc2UiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvamVjdGlvbk1hdHJpeEludmVyc2UiLCJtYXRyaXhXb3JsZCIsImNyb3NzVmVjdG9ycyIsImF4IiwiYXkiLCJheiIsImJ4IiwiYnkiLCJieiIsImRlbm9taW5hdG9yIiwibGVuZ3RoU3EiLCJwbGFuZU5vcm1hbCIsInByb2plY3RPblZlY3RvciIsInN1YiIsIl92ZWN0b3IiLCJub3JtYWwiLCJ0aGV0YSIsImR6Iiwic2V0RnJvbVNwaGVyaWNhbENvb3JkcyIsInJhZGl1cyIsInBoaSIsInNpblBoaVJhZGl1cyIsInNldEZyb21DeWxpbmRyaWNhbENvb3JkcyIsInN4Iiwic2V0RnJvbU1hdHJpeENvbHVtbiIsInN5Iiwic3oiLCJmcm9tQXJyYXkiLCJWZWN0b3IzIiwiUXVhdGVybmlvbiIsImFyZ3VtZW50cyIsIm4xMSIsIm4xMiIsIm4xMyIsIm4xNCIsIm4yMSIsIm4yMiIsIm4yMyIsIm4yNCIsIm4zMSIsIm4zMiIsIm4zMyIsIm4zNCIsIm40MSIsIm40MiIsIm40MyIsIm40NCIsIk1hdHJpeDQiLCJtZSIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInNjYWxlWCIsIl92MSIsInNjYWxlWSIsInNjYWxlWiIsImQiLCJhZSIsImFmIiwiYmUiLCJiZiIsImNlIiwiY2YiLCJkZSIsImRmIiwiYWMiLCJhZCIsImJjIiwiYmQiLCJjb21wb3NlIiwiX3plcm8iLCJfb25lIiwiZXllIiwidGFyZ2V0IiwidXAiLCJtdWx0aXBseU1hdHJpY2VzIiwiYTExIiwiYTEyIiwiYTEzIiwiYTE0IiwiYTIxIiwiYTIyIiwiYTIzIiwiYTI0IiwiYTMxIiwiYTMyIiwiYTMzIiwiYTM0IiwiYTQxIiwiYTQyIiwiYTQzIiwiYTQ0IiwiYjExIiwiYjEyIiwiYjEzIiwiYjE0IiwiYjIxIiwiYjIyIiwiYjIzIiwiYjI0IiwiYjMxIiwiYjMyIiwiYjMzIiwiYjM0IiwiYjQxIiwiYjQyIiwiYjQzIiwiYjQ0IiwidG1wIiwiaXNWZWN0b3IzIiwidGhyb3dPbkRlZ2VuZXJhdGUiLCJ0MTEiLCJ0MTIiLCJ0MTMiLCJ0MTQiLCJkZXQiLCJkZXRJbnYiLCJzY2FsZVhTcSIsInNjYWxlWVNxIiwic2NhbGVaU3EiLCJ0eCIsInR5IiwicG9zaXRpb24iLCJzY2FsZSIsIngyIiwieTIiLCJ6MiIsInh4IiwieHkiLCJ4eiIsInl5IiwieXoiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsImRldGVybWluYW50IiwiaW52U1giLCJpbnZTWSIsImludlNaIiwic2V0RnJvbVJvdGF0aW9uTWF0cml4IiwiX20xIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwibmVhciIsImZhciIsImgiLCJtYXRyaXgiLCJWZWN0b3IyIiwiSW5maW5pdHkiLCJwb2ludHMiLCJtYWtlRW1wdHkiLCJpbCIsImV4cGFuZEJ5UG9pbnQiLCJzaXplMiIsImhhbGZTaXplIiwiYWRkIiwiYm94IiwiaXNFbXB0eSIsInBvaW50IiwidmVjdG9yIiwiYWRkU2NhbGFyIiwiZXF1YWxzIiwibWluWCIsIm1pblkiLCJtaW5aIiwibWF4WCIsIm1heFkiLCJtYXhaIiwiY291bnQiLCJvYmplY3QiLCJleHBhbmRCeU9iamVjdCIsInVwZGF0ZVdvcmxkTWF0cml4IiwiZ2VvbWV0cnkiLCJib3VuZGluZ0JveCIsImNvbXB1dGVCb3VuZGluZ0JveCIsInVuaW9uIiwiX2JveCIsImNoaWxkcmVuIiwic3BoZXJlIiwiY2xhbXBQb2ludCIsInBsYW5lIiwiY29uc3RhbnQiLCJ0cmlhbmdsZSIsImdldENlbnRlciIsIl9jZW50ZXIiLCJhIiwiYiIsImMiLCJfdjAiLCJfdjIiLCJheGVzIiwiX2YwIiwiX2YxIiwiX2YyIiwic2F0Rm9yQXhlcyIsIl9leHRlbnRzIiwiX3RyaWFuZ2xlTm9ybWFsIiwiZ2V0U2l6ZSIsInNldEZyb21Qb2ludHMiLCJfcG9pbnRzIiwidjAiLCJleHRlbnRzIiwiaiIsIl90ZXN0QXhpcyIsInAwIiwicDEiLCJwMiIsIkJveDMiLCJzZXRGcm9tTWF0cml4M0NvbHVtbiIsImciLCJtYXRyaXg0Iiwic2V0RnJvbU1hdHJpeDQiLCJnZXRJbnZlcnNlIiwidHJhbnNwb3NlIiwicm90YXRpb24iLCJjeCIsImN5IiwiTWF0cml4MyIsIk9iamVjdCIsImZyZWV6ZSIsIlJJR0hUIiwiVVAiLCJORUFSIiwiTEVGVCIsIkRPV04iLCJGQVIiLCJfMlBJIiwiVl8wMDEyIiwidHdpc3QiLCJzd2luZyIsInN3aW5nQXhpcyIsIm91dCIsInR3aXN0U2NhbGUiLCJzd2luZ1NjYWxlIiwidHdpc3RNYWduaXR1ZGUiLCJzd2luZ0RpcmVjdGlvbiIsInN3aW5nTWFnbml0dWRlIiwiYXBwbHlBeGlzQW5nbGUiLCJ2ZWMiLCJyb3QiLCJkaXJlY3Rpb24iLCJyb3RBeGlzIiwiZG90UHJvZCIsInByb2plY3Rpb24iLCJCb3gyIiwicmV2ZXJzZWQiLCJlYXNpbmcyIiwibWlycm9yZWQiLCJjcmVhdGVSZXZlcnNlZEVhc2luZyIsImNyZWF0ZU1pcnJvcmVkRWFzaW5nIiwiY3JlYXRlRXhwb0luIiwicG93ZXIiLCJjcmVhdGVCYWNrSW4iLCJjcmVhdGVBbnRpY2lwYXRlRWFzaW5nIiwiYmFja0Vhc2luZyIsImVhc2VJbiIsImVhc2VPdXQiLCJlYXNlSW5PdXQiLCJjaXJjSW4iLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiYmFja0luIiwiYmFja091dCIsImJhY2tJbk91dCIsImFudGljaXBhdGUiLCJib3VuY2VPdXQiLCJGTE9BVF8zMl9TVVBQT1JURUQiLCJGbG9hdDMyQXJyYXkiLCJnZXRTbG9wZSIsImNhbGNCZXppZXIiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJBcnJheSIsImdldFRGb3JYIiwiYVgiLCJkaXN0MiIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwiS19TUExJTkVfVEFCTEVfU0laRSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYmluYXJ5U3ViZGl2aWRlIiwicHJvdG90eXBlIiwiaXNCaWdOdW1iZXIiLCJnZXRQcm90b3R5cGVPZiIsImlzQ29tcGxleCIsImlzRnJhY3Rpb24iLCJpc1VuaXQiLCJpc0FycmF5IiwiaXNNYXRyaXgiLCJpc0RlbnNlTWF0cml4IiwiaXNTcGFyc2VNYXRyaXgiLCJpc1JhbmdlIiwiaXNJbmRleCIsImlzUmVzdWx0U2V0IiwiaXNIZWxwIiwiRGF0ZSIsIlJlZ0V4cCIsImlzQWNjZXNzb3JOb2RlIiwiaXNOb2RlIiwiaXNBcnJheU5vZGUiLCJpc0Fzc2lnbm1lbnROb2RlIiwiaXNCbG9ja05vZGUiLCJpc0NvbmRpdGlvbmFsTm9kZSIsImlzQ29uc3RhbnROb2RlIiwiaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiaXNGdW5jdGlvbk5vZGUiLCJpc0luZGV4Tm9kZSIsImlzT2JqZWN0Tm9kZSIsImlzT3BlcmF0b3JOb2RlIiwiaXNQYXJlbnRoZXNpc05vZGUiLCJpc1JhbmdlTm9kZSIsImlzU3ltYm9sTm9kZSIsImlzQ2hhaW4iLCJ0eXBlIiwiY2xvbmUiLCJtYXAiLCJ2YWx1ZU9mIiwiVHlwZUVycm9yIiwibWFwT2JqZWN0IiwiY2xvbmUyIiwia2V5IiwicHJvcCIsImRlZXBTdHJpY3RFcXVhbCIsInByb3BlcnR5IiwiY2FsbCIsIl90eXBlcyIsIm5hbWUiLCJ0ZXN0IiwiYW55VHlwZSIsIm9rIiwiX2lnbm9yZSIsIl9jb252ZXJzaW9ucyIsInR5cGVkIiwidHlwZXMiLCJjb252ZXJzaW9ucyIsImlnbm9yZSIsInR5cGVOYW1lIiwiZW50cnkiLCJmaW5kSW5BcnJheSIsImVudHJ5MiIsImhpbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJmbiIsInNpZ25hdHVyZSIsInNpZ25hdHVyZXMiLCJhcnIiLCJzcGxpdCIsInRyaW0iLCJzdHIiLCJqb2luIiwibWF0Y2giLCJmcm9tIiwiZmluZFR5cGVOYW1lIiwiY29udmVyc2lvbiIsInRvIiwiY29udmVydCIsInBhcmFtcyIsInBhcmFtIiwidHlwZU5hbWVzIiwiZ2V0VHlwZU5hbWUiLCJyZXN0UGFyYW0iLCJzbGljZSIsImZpbHRlciIsIm5vdEVtcHR5Iiwibm90SWdub3JlIiwibWF0Y2hpbmdDb252ZXJzaW9ucyIsImZpbHRlckNvbnZlcnNpb25zIiwiZXhhY3RUeXBlcyIsImZpbmRUeXBlQnlOYW1lIiwidHlwZUluZGV4IiwiZmluZFR5cGVJbmRleCIsImNvbnZlcnNpb25JbmRleCIsImNvbnZlcnRpYmxlVHlwZXMiLCJjb25jYXQiLCJwYXJzZWRQYXJhbSIsInBhcnNlUGFyYW0iLCJTeW50YXhFcnJvciIsInNvbWUiLCJpc0ludmFsaWRQYXJhbSIsImxhc3QiLCJ0ZXN0MCIsInRlc3QxIiwidGVzdHMiLCJoYXNSZXN0UGFyYW0iLCJ2YXJJbmRleCIsImluaXRpYWwiLCJjb21waWxlVGVzdCIsImxhc3RUZXN0IiwidGVzdFJlc3RQYXJhbSIsImFyZ3MiLCJleGNsdWRlQ29udmVyc2lvbnMiLCJnZXRQYXJhbUF0SW5kZXgiLCJpc0V4YWN0VHlwZSIsInVuaXEiLCJmbGF0TWFwIiwiZ2V0RXhwZWN0ZWRUeXBlTmFtZXMiLCJuYW1lMiIsImVyciIsImV4cGVjdGVkIiwiX25hbWUiLCJtYXRjaGluZ1NpZ25hdHVyZXMiLCJuZXh0TWF0Y2hpbmdEZWZzIiwibWVyZ2VFeHBlY3RlZFBhcmFtcyIsImFjdHVhbFR5cGUiLCJkYXRhIiwiY2F0ZWdvcnkiLCJhY3R1YWwiLCJsZW5ndGhzIiwiYXBwbHkiLCJtYXhMZW5ndGgiLCJleHBlY3RlZExlbmd0aCIsInBhcmFtMSIsInBhcmFtMiIsImhhc0NvbnZlcnNpb25zIiwiZ2V0TG93ZXN0VHlwZUluZGV4IiwiZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4Iiwic2lnbmF0dXJlMSIsInNpZ25hdHVyZTIiLCJjb21wYXJlUGFyYW1zIiwibWF0Y2hlcyIsImZvckVhY2giLCJrZXlzIiwiZm5Db252ZXJ0IiwiY29tcGlsZWRDb252ZXJzaW9ucyIsImNvbXBpbGVBcmdDb252ZXJzaW9uIiwibGFzdDIiLCJmblByZXByb2Nlc3MiLCJjb252ZXJzaW9uMCIsImNvbnZlcnNpb24xIiwicHVzaCIsImFyZyIsInNpZ25hdHVyZXNNYXAiLCJzdHJpbmdpZnlQYXJhbXMiLCJpZ25vcmVDb252ZXJzaW9uVHlwZXMiLCJwYXJhbXMyIiwidHlwZUdyb3VwcyIsImZpbHRlcmVkVHlwZXMiLCJ0eXBlR3JvdXAiLCJfc3BsaXRQYXJhbXMiLCJpaSIsImhhc092ZXJsYXAiLCJsZW4xIiwibGVuMiIsInJlc3RQYXJhbTEiLCJyZXN0UGFyYW0yIiwicGFyc2VkU2lnbmF0dXJlcyIsInBhcnNlU2lnbmF0dXJlIiwibm90TnVsbCIsInBhcnNlZFNpZ25hdHVyZSIsImNvbmZsaWN0aW5nU2lnbmF0dXJlIiwiaGFzQ29uZmxpY3RpbmdQYXJhbXMiLCJzcGxpdFBhcmFtcyIsInNvcnQiLCJjb21wYXJlU2lnbmF0dXJlcyIsIm9rMCIsIm9rMSIsIm9rMiIsIm9rMyIsIm9rNCIsIm9rNSIsImFsbE9rIiwiY29tcGlsZVRlc3RzIiwidGVzdDAwIiwibm90T2siLCJ0ZXN0MTAiLCJ0ZXN0MjAiLCJ0ZXN0MzAiLCJ0ZXN0NDAiLCJ0ZXN0NTAiLCJ0ZXN0MDEiLCJ0ZXN0MTEiLCJ0ZXN0MjEiLCJ0ZXN0MzEiLCJ0ZXN0NDEiLCJ0ZXN0NTEiLCJmbnMiLCJjb21waWxlQXJnc1ByZXByb2Nlc3NpbmciLCJmbjAiLCJ1bmRlZiIsImZuMSIsImZuMiIsImZuMyIsImZuNCIsImZuNSIsImxlbjAiLCJsZW4zIiwibGVuNCIsImxlbjUiLCJpU3RhcnQiLCJpRW5kIiwiZ2VuZXJpYyIsImNyZWF0ZUVycm9yIiwiYXJnMCIsImFyZzEiLCJmbjYiLCJjcmVhdGVTaWduYXR1cmVzTWFwIiwic3RhcnQiLCJlbmQiLCJpdGVtIiwiYXJyYXkxIiwiYXJyYXkyIiwiY29udGFpbnMyIiwiZW50cmllcyIsIl9zaWduYXR1cmUiLCJfZm4iLCJjcmVhdGVUeXBlZEZ1bmN0aW9uIiwic3RyaW5nLCBPYmplY3QiLCJnZXROYW1lIiwiLi4uRnVuY3Rpb24iLCJleHRyYWN0U2lnbmF0dXJlcyIsInN0cmluZywgLi4uRnVuY3Rpb24iLCJjcmVhdGUiLCJjcmVhdGUyIiwiZmluZCIsImFkZFR5cGUiLCJiZWZvcmVPYmplY3RUZXN0Iiwic3BsaWNlIiwiYWRkQ29udmVyc2lvbiIsImZhY3RvcnkyIiwiaXNGaW5pdGUiLCJzaWduIiwib3B0aW9ucyIsImlzTmFOIiwicHJlY2lzaW9uIiwibm90YXRpb24iLCJpc051bWJlciIsInRvRml4ZWQiLCJ0b0V4cG9uZW50aWFsIiwiU3RyaW5nIiwicm91bmRlZCIsInJvdW5kRGlnaXRzIiwic3BsaXROdW1iZXIiLCJleHBvbmVudCIsImNvZWZmaWNpZW50cyIsIm5ld0V4cCIsIm1pc3NpbmdaZXJvcyIsImV4cERpZmYiLCJkZWNpbWFsSWR4IiwiZGVjaW1hbHMiLCJkZWNpbWFsVmFsIiwidG9FbmdpbmVlcmluZyIsImxvd2VyRXhwIiwidXBwZXJFeHAiLCJ6ZXJvcyIsInRvUHJlY2lzaW9uIiwicmVwbGFjZSIsImRpZ2l0czIiLCJzaWduMiIsInBhcnNlRmxvYXQiLCJ6ZXJvczIiLCJwYXJzZUludCIsInNwbGl0VmFsdWUiLCJwcCIsImZpcnN0Iiwic2hpZnQiLCJ1bnNoaWZ0IiwicG9wIiwiREJMX0VQU0lMT04iLCJlcHNpbG9uIiwiZGlmZiIsImd0IiwidmFsdWVXaXRob3V0RXhwIiwibXVsIiwidmFsdWVTdHIiLCJpc1plcm8iLCJ0b1NpZ25pZmljYW50RGlnaXRzIiwiZXhwMiIsInRleHQiLCJzZWFyY2giLCJzdWJzdHJpbmciLCJmb3JtYXROdW1iZXIiLCJmb3JtYXRCaWdOdW1iZXIiLCJsb29rc0xpa2VGcmFjdGlvbiIsImZyYWN0aW9uIiwiZm9ybWF0QXJyYXkiLCJpc1N0cmluZyIsInN5bnRheCIsImZvcm1hdCIsImVzY2FwZWQiLCJjaGFyQXQiLCJyZWxhdGlvbiIsIkRpbWVuc2lvbkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiSW5kZXhFcnJvciIsImRpbSIsImRpbU5leHQiLCJjaGlsZCIsImlzSW50ZWdlciIsImRlZmF1bHRWYWx1ZSIsImVsZW0iLCJvbGRMZW4iLCJuZXdMZW4iLCJtaW5MZW4iLCJzaXplcyIsIm5ld0FycmF5IiwiZmxhdEFycmF5IiwiZmxhdCIsImZsYXR0ZW4iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInByb2R1Y3QiLCJhcnJheVNpemUiLCJ0b3RhbFNpemUiLCJzaXplSW5kZXgiLCJ0bXBBcnJheTIiLCJ0bXBBcnJheSIsIl9yZXNoYXBlIiwiZGltcyIsIm91dGVyIiwiX3Vuc3F1ZWV6ZSIsIm5leHQiLCJzZXBhcmF0b3IiLCJ0eXBlT2YyIiwiaXNBcnJheTIiLCJpdGVtVHlwZSIsImdldEFycmF5RGF0YVR5cGUiLCJkZXBlbmRlbmNpZXMyIiwibWV0YSIsInNjb3BlIiwiZGVwcyIsInByb3BlcnRpZXMyIiwicGlja1NoYWxsb3ciLCJzdHJpcE9wdGlvbmFsTm90YXRpb24iLCJkZXBlbmRlbmN5IiwiaXNPcHRpb25hbERlcGVuZGVuY3kiLCJldmVyeSIsIm1pc3NpbmdEZXBlbmRlbmNpZXMiLCJpc0ZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJhc3NlcnRBbmRDcmVhdGUiLCJSYW5nZUVycm9yIiwiaXNEaW1lbnNpb25FcnJvciIsImlzSW5kZXhFcnJvciIsIl9jcmVhdGVUeXBlZDIiLCJ0eXBlZEZ1bmN0aW9uIiwiY3JlYXRlVHlwZWQiLCJfcmVmIiwiQmlnTnVtYmVyIiwiQ29tcGxleCIsIkRlbnNlTWF0cml4IiwiRnJhY3Rpb24iLCJpc0Jvb2xlYW4iLCJpc0Z1bmN0aW9uIiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIkNvbXBsZXgyIiwidG9OdW1iZXIiLCJGcmFjdGlvbjIiLCJpbmV4YWN0IiwicXVhZHJhbnQiLCJjcmVhdGVSZXN1bHRTZXQiLCJSZXN1bHRTZXQiLCJ0b0pTT04iLCJtYXRoanMiLCJmcm9tSlNPTiIsImpzb24iLCJpc0NsYXNzIiwiRVhQX0xJTUlUIiwiTlVNRVJBTFMiLCJMTjEwIiwiREVGQVVMVFMiLCJyb3VuZGluZyIsIm1vZHVsbyIsInRvRXhwTmVnIiwidG9FeHBQb3MiLCJtaW5FIiwibWF4RSIsImNyeXB0byIsImV4dGVybmFsIiwiaW52YWxpZEFyZ3VtZW50IiwiZGVjaW1hbEVycm9yIiwibWF0aGZsb29yIiwibWF0aHBvdyIsImlzQmluYXJ5IiwiaXNIZXgiLCJpc09jdGFsIiwiaXNEZWNpbWFsIiwiQkFTRSIsIkxOMTBfUFJFQ0lTSU9OIiwiUElfUFJFQ0lTSU9OIiwiUCIsImsiLCJ3cyIsImluZGV4T2ZMYXN0V29yZCIsImdldFplcm9TdHJpbmciLCJybSIsInJlcGVhdGluZyIsImRpIiwicmQiLCJiYXNlSW4iLCJiYXNlT3V0IiwiYXJyTCIsInN0ckwiLCJyZXZlcnNlIiwiYWJzb2x1dGVWYWx1ZSIsImZpbmFsaXNlIiwiY29tcGFyZWRUbyIsImNtcCIsInhkTCIsInlkTCIsInhkIiwieWQiLCJ4cyIsInlzIiwiTmFOIiwiY29zaW5lIiwicHIiLCJDdG9yIiwic2QiLCJ0aW55UG93IiwidGF5bG9yU2VyaWVzIiwidGltZXMiLCJjb3MyeCIsIm1pbnVzIiwicGx1cyIsInRvTGVzc1RoYW5IYWxmUGkiLCJuZWciLCJjdWJlUm9vdCIsImNicnQiLCJyZXAiLCJ0MyIsInQzcGx1c3giLCJkaWdpdHNUb1N0cmluZyIsImRpdmlkZSIsImVxIiwiZGVjaW1hbFBsYWNlcyIsImRwIiwiZGl2aWRlZEJ5IiwiZGl2IiwiZGl2aWRlZFRvSW50ZWdlckJ5IiwiZGl2VG9JbnQiLCJncmVhdGVyVGhhbiIsImdyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiZ3RlIiwiaHlwZXJib2xpY0Nvc2luZSIsImNvc2giLCJvbmUiLCJjb3NoMl94IiwiZDgiLCJoeXBlcmJvbGljU2luZSIsInNpbmgiLCJzaW5oMl94IiwiZDUiLCJkMTYiLCJkMjAiLCJoeXBlcmJvbGljVGFuZ2VudCIsInRhbmgiLCJpbnZlcnNlQ29zaW5lIiwiaGFsZlBpIiwiaXNOZWciLCJnZXRQaSIsImFzaW4iLCJpbnZlcnNlSHlwZXJib2xpY0Nvc2luZSIsImFjb3NoIiwibHRlIiwibG4iLCJpbnZlcnNlSHlwZXJib2xpY1NpbmUiLCJhc2luaCIsImludmVyc2VIeXBlcmJvbGljVGFuZ2VudCIsImF0YW5oIiwid3ByIiwieHNkIiwiaW52ZXJzZVNpbmUiLCJhdGFuIiwiaW52ZXJzZVRhbmdlbnQiLCJweCIsImlzSW50IiwiaXNOZWdhdGl2ZSIsImlzUG9zaXRpdmUiLCJpc1BvcyIsImxlc3NUaGFuIiwibHQiLCJsZXNzVGhhbk9yRXF1YWxUbyIsImxvZ2FyaXRobSIsImJhc2UiLCJpc0Jhc2UxMCIsImluZiIsIm51bSIsIm5hdHVyYWxMb2dhcml0aG0iLCJnZXRMbjEwIiwiY2hlY2tSb3VuZGluZ0RpZ2l0cyIsInhlIiwieExUeSIsImdldEJhc2UxMEV4cG9uZW50IiwibW9kIiwibmF0dXJhbEV4cG9uZW50aWFsIiwiZXhwIiwibmVnYXRlZCIsImNhcnJ5IiwiZ2V0UHJlY2lzaW9uIiwic2luZSIsInNpbjJfeCIsInNxdWFyZVJvb3QiLCJ0YW5nZW50IiwidGFuIiwickwiLCJ0b0JpbmFyeSIsInRvU3RyaW5nQmluYXJ5IiwidG9EZWNpbWFsUGxhY2VzIiwidG9EUCIsImZpbml0ZVRvU3RyaW5nIiwidG9GcmFjdGlvbiIsIm1heEQiLCJuMCIsInRvSGV4YWRlY2ltYWwiLCJ0b0hleCIsInRvTmVhcmVzdCIsInRvT2N0YWwiLCJ0b1Bvd2VyIiwieW4iLCJpbnRQb3ciLCJ0b1NEIiwidHJ1bmNhdGVkIiwidHJ1bmMiLCJ0ZW1wIiwiYUwiLCJiTCIsImxvZ0Jhc2UiLCJtb3JlIiwicHJvZCIsInByb2RMIiwicWQiLCJyZW0iLCJyZW1MIiwicmVtMCIsInhpIiwieEwiLCJ5ZDAiLCJ5TCIsIm11bHRpcGx5SW50ZWdlciIsImNvbXBhcmUiLCJpc1RydW5jYXRlZCIsInJvdW5kVXAiLCJ4ZGkiLCJpc0V4cCIsIm5vbkZpbml0ZVRvU3RyaW5nIiwienMiLCJ0cnVuY2F0ZSIsImx0Z3QiLCJndWFyZCIsInBvdzIiLCJzdW0iLCJjMCIsIm51bWVyYXRvciIsImNoYXJDb2RlQXQiLCJpc0h5cGVyYm9saWMiLCJ1IiwicGkiLCJpc09kZCIsImNvbnZlcnRCYXNlIiwib2JqIiwidXNlRGVmYXVsdHMiLCJkZWZhdWx0cyIsInBzIiwiZ2V0UmFuZG9tVmFsdWVzIiwicmFuZG9tQnl0ZXMiLCJEZWNpbWFsIiwibWF4T3JNaW4iLCJVaW50MzJBcnJheSIsIlN5bWJvbCIsImZvciIsInRvU3RyaW5nVGFnIiwiaTIiLCJEZWNpbWFsMiIsInBhcnNlRGVjaW1hbCIsImRpdmlzb3IiLCJpc0Zsb2F0IiwicGFyc2VPdGhlciIsIlJPVU5EX1VQIiwiUk9VTkRfRE9XTiIsIlJPVU5EX0NFSUwiLCJST1VORF9GTE9PUiIsIlJPVU5EX0hBTEZfVVAiLCJST1VORF9IQUxGX0RPV04iLCJST1VORF9IQUxGX0VWRU4iLCJST1VORF9IQUxGX0NFSUwiLCJST1VORF9IQUxGX0ZMT09SIiwiRVVDTElEIiwiY29uZmlnIiwiaXNEZWNpbWFsSW5zdGFuY2UiLCJoeXBvdCIsImxvZzEwIiwibG9nMiIsImNyZWF0ZUJpZ051bWJlckNsYXNzIiwib24iLCJjb25maWcyIiwicm9vdCIsImNvc2gyIiwic2luaDIiLCJwYXJzZXJfZXhpdCIsIl9hMiIsIl9iMiIsInJlIiwiaW0iLCJ0b2tlbnMiLCJwYXJzZSIsImFiczIiLCJsb2giLCJsb2dIeXBvdCIsImV4cG0xIiwibGltaXQiLCJjb3NtMSIsImNvdCIsInNlYyIsImNzYyIsInQxIiwidDIiLCJhY290IiwiYXNlYyIsImFjc2MiLCJjb3RoIiwiY3NjaCIsInNlY2giLCJyZXMiLCJub0lNIiwib25lTWludXMiLCJvbmVQbHVzIiwiYWNvdGgiLCJhY3NjaCIsImFzZWNoIiwiaW52ZXJzZSIsInBsYWNlcyIsInJldCIsInRvVmVjdG9yIiwiaXNJbmZpbml0ZSIsIkUiLCJjcmVhdGVDb21wbGV4Q2xhc3MiLCJ0b1BvbGFyIiwic3RyUmUiLCJzdHJJbSIsImZyb21Qb2xhciIsImhhc0Jhc2UiLCJQMiIsIkludGVybWVkaWF0ZUluaGVyaXRvciIsImVycm9yQ29uc3RydWN0b3IiLCJEaXZpc2lvbkJ5WmVybyIsIkludmFsaWRQYXJhbWV0ZXIiLCJmYWN0b3JzIiwiTSIsIkEiLCJCIiwiQyIsIkQiLCJOIiwiYXNzaWduIiwiZ2NkIiwibGNtIiwiZmFjdG9yaXplIiwic2ltcGxpZnkiLCJlcHMiLCJjb250IiwicmVjIiwiZGl2aXNpYmxlIiwiZXhjbHVkZVdob2xlIiwid2hvbGUiLCJ0b0xhdGV4IiwidG9Db250aW51ZWQiLCJkZWMiLCJjeWNMZW4iLCJjeWNsZUxlbiIsImN5Y09mZiIsInJlbTEiLCJyZW0yIiwibW9kcG93IiwiY3ljbGVTdGFydCIsImNyZWF0ZUZyYWN0aW9uQ2xhc3MiLCJjcmVhdGVSYW5nZUNsYXNzIiwiUmFuZ2UiLCJoYXNTdGFydCIsImhhc0VuZCIsImhhc1N0ZXAiLCJudW1zIiwic2l6ZSIsInRvQXJyYXkiLCJjcmVhdGVNYXRyaXhDbGFzcyIsIk1hdHJpeCIsInN0b3JhZ2UiLCJkYXRhdHlwZSIsInN1YnNldCIsInJlcGxhY2VtZW50IiwiZ2V0IiwicmVzaXplIiwicmVzaGFwZSIsInNraXBaZXJvcyIsImNyZWF0ZURlbnNlTWF0cml4Q2xhc3MiLCJfZGF0YSIsIl9zaXplIiwiX2RhdGF0eXBlIiwicHJlcHJvY2VzcyIsInR5cGVPZiIsImlzU2NhbGFyIiwiX2dldFN1Ym1hdHJpeCIsImRpbWVuc2lvbiIsInN1Ym1hdHJpeCIsInNTaXplIiwiaVNpemUiLCJ1bnNxdWVlemUiLCJkYXRhSW5kZXgiLCJzdWJJbmRleCIsIm5ld1NpemUiLCJjaGFuZ2VkIiwiY3JlYXRlRGVuc2VNYXRyaXgiLCJnZXREYXRhVHlwZSIsIl9nZXQiLCJfc2V0IiwiaW5kZXhJIiwiaXNDb2xsZWN0aW9uIiwic2l6ZUFycmF5IiwiX3Jlc2l6ZTIiLCJyZWN1cnNlMiIsInJlY3Vyc2UiLCJkaWFnb25hbCIsImtTdXBlciIsImtTdWIiLCJyb3dzIiwiY29sdW1ucyIsIl92YWx1ZSIsIm1zIiwic3dhcFJvd3MiLCJfc3dhcFJvd3MiLCJ2aSIsImRlZXBNYXAiLCJuMSIsIm4yIiwiYWJzTnVtYmVyIiwiYWRkTnVtYmVyIiwibXVsdGlwbHlOdW1iZXIiLCJ1bmFyeU1pbnVzTnVtYmVyIiwiY2VpbE51bWJlciIsIm1vZE51bWJlciIsInBvd051bWJlciIsInJvdW5kTnVtYmVyIiwiY3JlYXRlSXNOdW1lcmljIiwibnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIiwiQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkIHwgTm9kZSIsIkFycmF5IHwgTWF0cml4IiwiY3JlYXRlRXF1YWxTY2FsYXIiLCJib29sZWFuLCBib29sZWFuIiwibnVtYmVyLCBudW1iZXIiLCJuZWFybHlFcXVhbCIsIkJpZ051bWJlciwgQmlnTnVtYmVyIiwiYmlnTmVhcmx5RXF1YWwiLCJGcmFjdGlvbiwgRnJhY3Rpb24iLCJDb21wbGV4LCBDb21wbGV4IiwiY29tcGxleEVxdWFscyIsIlVuaXQsIFVuaXQiLCJlcXVhbEJhc2UiLCJmYWN0b3J5IiwiX3JlZjIiLCJjcmVhdGVTcGFyc2VNYXRyaXhDbGFzcyIsImVxdWFsU2NhbGFyIiwiU3BhcnNlTWF0cml4Iiwic291cmNlIiwiX3ZhbHVlcyIsIl9pbmRleCIsIl9wdHIiLCJwdHIiLCJ2YWx1ZXMiLCJ6ZXJvIiwicm93IiwiaWR4Iiwia2siLCJtdmFsdWVzIiwibWluZGV4IiwibXB0ciIsInB2IiwidmFsdWVzMiIsImlucyIsImswIiwiazEiLCJjcmVhdGVTcGFyc2VNYXRyaXgiLCJkZW5zaXR5IiwiX2dldHN1YnNldCIsIl9zZXRzdWJzZXQiLCJfZ2V0VmFsdWVJbmRleCIsImNvbEluZGV4Iiwicm93SW5kZXgiLCJfaSIsInIxIiwiX2kyIiwiX2kzIiwiX2oiLCJtaW5Sb3ciLCJtYXhSb3ciLCJtaW5Db2x1bW4iLCJtYXhDb2x1bW4iLCJpbnZva2UiLCJfayIsIl9pNSIsIl9tYXAiLCJfazIiLCJfaTciLCJfdG9BcnJheSIsIl9mb3JFYWNoUm93Iiwia3giLCJreSIsInZ4IiwidnkiLCJjcmVhdGVOdW1iZXIiLCJudW1iZXIiLCJzdHJpbmciLCJpbmNsdWRlcyIsIlVuaXQiLCJudWxsIiwiVW5pdCwgc3RyaW5nIHwgVW5pdCIsInVuaXQiLCJ2YWx1ZWxlc3NVbml0IiwiY3JlYXRlQmlnbnVtYmVyIiwiY3JlYXRlRnJhY3Rpb24iLCJjcmVhdGVNYXRyaXgiLCJfY3JlYXRlIiwiZm9ybWF0MiIsInN0cmluZywgc3RyaW5nIiwiQXJyYXkgfCBNYXRyaXgsIHN0cmluZyIsIkFycmF5IHwgTWF0cml4LCBzdHJpbmcsIHN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVVbmFyeU1pbnVzIiwiY3JlYXRlQWJzIiwiY3JlYXRlQWRkU2NhbGFyIiwiZml4UHJlZml4IiwiY3JlYXRlQWxnb3JpdGhtMTEiLCJhdmFsdWVzIiwiYWluZGV4IiwiYXB0ciIsImFzaXplIiwiYWR0IiwiZHQiLCJjdmFsdWVzIiwiY2luZGV4IiwiY3B0ciIsImNyZWF0ZUFsZ29yaXRobTE0IiwiYWRhdGEiLCJjZGF0YSIsIl9pdGVyYXRlIiwibGV2ZWwiLCJhdiIsImJ2IiwiY3YiLCJjcmVhdGVDZWlsIiwiYWxnb3JpdGhtMTEiLCJhbGdvcml0aG0xNCIsInJvdW5kMiIsInJlc3VsdCIsIkNvbXBsZXgsIG51bWJlciIsIkZyYWN0aW9uLCBudW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIiwiU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXkiLCJjcmVhdGVGaXgiLCJfQ29tcGxleCIsImZsb29yMiIsImNlaWwyIiwibnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsIkZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY3JlYXRlRmxvb3IiLCJjcmVhdGVBbGdvcml0aG0wMSIsImRlbnNlTWF0cml4Iiwic3BhcnNlTWF0cml4IiwiYnZhbHVlcyIsImJpbmRleCIsImJwdHIiLCJic2l6ZSIsImJkdCIsIm1hcmsiLCJjcmVhdGVBbGdvcml0aG0wNCIsInhhIiwieGIiLCJ3YSIsIndiIiwiY3JlYXRlQWxnb3JpdGhtMTAiLCJjcmVhdGVBbGdvcml0aG0xMyIsImJkYXRhIiwiY3NpemUiLCJjcmVhdGVBbGdvcml0aG0wMiIsImNpaiIsImNyZWF0ZUFsZ29yaXRobTAzIiwiY3JlYXRlQWxnb3JpdGhtMDUiLCJ3YWkiLCJ3YmkiLCJ2YyIsImNyZWF0ZUFsZ29yaXRobTEyIiwiYWxnb3JpdGhtMDIiLCJhbGdvcml0aG0wMyIsImFsZ29yaXRobTA1IiwiYWxnb3JpdGhtMTIiLCJhbGdvcml0aG0xMyIsIlNwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4IiwiU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCIsIkRlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgiLCJEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgiLCJBcnJheSwgQXJyYXkiLCJBcnJheSwgTWF0cml4IiwiTWF0cml4LCBBcnJheSIsIlNwYXJzZU1hdHJpeCwgYW55IiwiRGVuc2VNYXRyaXgsIGFueSIsImFueSwgU3BhcnNlTWF0cml4IiwiYW55LCBEZW5zZU1hdHJpeCIsIkFycmF5LCBhbnkiLCJhbnksIEFycmF5IiwiY3JlYXRlTXVsdGlwbHlTY2FsYXIiLCJudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQiLCJfbm9ybWFsaXplIiwiVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4IiwibXVsdGlwbHkiLCJjcmVhdGVNdWx0aXBseSIsInNpemUxIiwiYWxlbmd0aCIsImJjb2x1bW5zIiwibWYiLCJfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeCIsIl9tdWx0aXBseU1hdHJpeFZlY3RvciIsImFyb3dzIiwiYWNvbHVtbnMiLCJicm93cyIsImliIiwidmJpIiwia2EwIiwia2ExIiwia2EiLCJpYSIsImljIiwiX211bHRpcGx5TWF0cml4TWF0cml4IiwiamIiLCJrYjAiLCJrYjEiLCJrYiIsInZiaWoiLCJleHRlbmQiLCJNYXRyaXgsIE1hdHJpeCIsInhzaXplIiwieXNpemUiLCJfbXVsdGlwbHlWZWN0b3JWZWN0b3IiLCJfbXVsdGlwbHlWZWN0b3JNYXRyaXgiLCJhbnksIGFueSIsImFueSwgYW55LCAuLi5hbnkiLCJyZXN0IiwiY3JlYXRlU3VidHJhY3QiLCJ1bmFyeU1pbnVzIiwiYWxnb3JpdGhtMDEiLCJhbGdvcml0aG0xMCIsImNyZWF0ZUFsZ29yaXRobTA3IiwidmEiLCJ2YiIsImNyZWF0ZUNvbmoiLCJxdWV1ZSIsIm1hcDIiLCJkZWwiLCJpZCIsIm9sZEluZGV4IiwiaGl0IiwibnVJbmRleCIsImRlbGV0ZSIsImNsZWFyIiwiaGFzaGVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJoYXNoZXIyIiwibWVtb2l6ZTIiLCJjYWNoZSIsIk1hcCIsImxydSIsImxydVF1ZXVlIiwiaGFzaCIsImhhcyIsIm5ld1ZhbCIsImNyZWF0ZUlkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyIiwiX2lkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmciLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsImNvbHMiLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nIiwiX2lkZW50aXR5VmVjdG9yIiwiQXJyYXksIHN0cmluZyIsIk1hdHJpeCwgc3RyaW5nIiwiQmlnIiwibWluaW11bSIsIkFyZ3VtZW50c0Vycm9yIiwiaXNBcmd1bWVudHNFcnJvciIsImNyZWF0ZVNpemUiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyIHwgVW5pdCB8IGJvb2xlYW4gfCBudWxsIiwibm9NYXRyaXgiLCJpc1BsYWluT2JqZWN0IiwiaXNTYWZlUHJvcGVydHkiLCJpc1NhZmVNZXRob2QiLCJzYWZlTmF0aXZlUHJvcGVydGllcyIsIkZ1bmN0aW9uIiwibWV0aG9kIiwic2FmZU5hdGl2ZU1ldGhvZHMiLCJ0b0xvY2FsZVN0cmluZyIsImNyZWF0ZVN1YnNldCIsIkFycmF5LCBJbmRleCIsIk1hdHJpeCwgSW5kZXgiLCJPYmplY3QsIEluZGV4IiwiX2dldE9iamVjdFByb3BlcnR5Iiwic3RyaW5nLCBJbmRleCIsIl9nZXRTdWJzdHJpbmciLCJBcnJheSwgSW5kZXgsIGFueSIsIkFycmF5LCBJbmRleCwgYW55LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnksIGFueSIsInN0cmluZywgSW5kZXgsIHN0cmluZyIsIl9zZXRTdWJzdHJpbmciLCJzdHJpbmcsIEluZGV4LCBzdHJpbmcsIHN0cmluZyIsIk9iamVjdCwgSW5kZXgsIGFueSIsIl9zZXRPYmplY3RQcm9wZXJ0eSIsInN0ckxlbiIsInN1YnN0ciIsImNoYXJzIiwiX2xlbiIsImdldFNhZmVQcm9wZXJ0eSIsInVwZGF0ZWQiLCJjcmVhdGVaZXJvcyIsIl96ZXJvcyIsIi4uLm51bWJlciB8IEJpZ051bWJlciB8IHN0cmluZyIsImhhc0JpZ051bWJlcnMiLCJjcmVhdGVGb3JtYXQiLCJhbnkiLCJmb3JtYXRTdHJpbmciLCJhbnksIE9iamVjdCB8IGZ1bmN0aW9uIHwgbnVtYmVyIiwiY3JlYXRlTnVtZXJpYyIsIl9udW1iZXIiLCJiaWdudW1iZXIiLCJ2YWxpZElucHV0VHlwZXMiLCJ2YWxpZE91dHB1dFR5cGVzIiwibm9CaWdudW1iZXIiLCJmcmFjdGlvbjIiLCJub0ZyYWN0aW9uIiwib3V0cHV0VHlwZSIsImlucHV0VHlwZSIsImNyZWF0ZURpdmlkZVNjYWxhciIsIm51bWVyaWMiLCJVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciIsIm51bWVyaWMyIiwibnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIsIFVuaXQiLCJjcmVhdGVQb3ciLCJpZGVudGl0eSIsIl9wb3ciLCJwcmVkaWN0YWJsZSIsIkFycmF5LCBudW1iZXIiLCJfcG93QXJyYXkiLCJBcnJheSwgQmlnTnVtYmVyIiwiTWF0cml4LCBudW1iZXIiLCJfcG93TWF0cml4IiwiTWF0cml4LCBCaWdOdW1iZXIiLCJVbml0LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJ5RnJhYyIsInlOdW0iLCJleCIsImVudW1lcmFibGVPbmx5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiTk9fSU5UIiwiY3JlYXRlUm91bmQiLCJfb2JqZWN0U3ByZWFkIiwicm91bmROdW1iZXJTaWduYXR1cmVzIiwiQ29tcGxleCwgQmlnTnVtYmVyIiwiX24iLCJudW1iZXIsIEJpZ051bWJlciIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIFNwYXJzZU1hdHJpeCIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIERlbnNlTWF0cml4IiwiQXJyYXksIG51bWJlciB8IEJpZ051bWJlciIsImNyZWF0ZUVxdWFsIiwiYWxnb3JpdGhtMDciLCJjcmVhdGVTbWFsbGVyIiwiY3JlYXRlTGFyZ2VyIiwiY3JlYXRlRmlib25hY2NpSGVhcENsYXNzIiwic21hbGxlciIsImxhcmdlciIsIm9uZU92ZXJMb2dQaGkiLCJGaWJvbmFjY2lIZWFwIiwiX21pbmltdW0iLCJub2RlIiwicGFyZW50IiwiZGVncmVlIiwiaXNGaWJvbmFjY2lIZWFwIiwiaW5zZXJ0IiwiZXh0cmFjdE1pbmltdW0iLCJudW1iZXJPZkNoaWxkcmVuIiwidGVtcFJpZ2h0IiwiYXJyYXlTaXplMiIsIm51bVJvb3RzIiwiX2ZpbmRNaW5pbXVtTm9kZSIsInJlbW92ZSIsIl9kZWNyZWFzZUtleSIsIl9saW5rTm9kZXMiLCJjcmVhdGVTcGFDbGFzcyIsIlNwYSIsIl9oZWFwIiwiaXNTcGEiLCJhY2N1bXVsYXRlIiwiaGVhcCIsIm5vZGVzIiwic3dhcCIsIm5vZGVpIiwibm9kZWoiLCJtZW1vaXplIiwiY3JlYXRlQmlnTnVtYmVyUGkiLCJjcmVhdGVVbml0Q2xhc3MiLCJzdWJ0cmFjdCIsImZpeCIsImVxdWFsIiwiaXNOdW1lcmljIiwiX0JpZ051bWJlciIsIl9GcmFjdGlvbiIsInVuaXRzIiwiZGltZW5zaW9ucyIsIlVOSVRfTk9ORSIsInByZWZpeCIsIlBSRUZJWEVTIiwiTk9ORSIsIkJBU0VfRElNRU5TSU9OUyIsInNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiIsIm51bWJlcjIiLCJpc0RpZ2l0IiwidGVudGF0aXZlTnVtYmVyIiwidGVudGF0aXZlSW5kZXgiLCJ1bml0TmFtZSIsImlzVmFsaWRBbHBoYSIsImZpcnN0QyIsInRvRmluZCIsInVuaXQyIiwicG93ZXJNdWx0aXBsaWVyQ3VycmVudCIsImV4cGVjdGluZ1VuaXQiLCJwYXJzZU51bWJlciIsInBhcnNlQ2hhcmFjdGVyIiwicG93ZXJNdWx0aXBsaWVyU3RhY2siLCJwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QiLCJ1U3RyIiwib2xkQyIsInBhcnNlVW5pdCIsIl9maW5kVW5pdCIsImJhc2VEaW0iLCJhdXRvIiwiYWxsb3dOb1VuaXRzIiwiX2lzRGVyaXZlZCIsInVuaXRWYWx1ZSIsInVuaXRPZmZzZXQiLCJ1bml0UG93ZXIiLCJ1bml0UHJlZml4VmFsdWUiLCJfZ2V0TnVtYmVyQ29udmVydGVyIiwiX2Rlbm9ybWFsaXplIiwicHJlZml4VmFsdWUiLCJVTklUUyIsInByZWZpeGVzIiwiZW5kc1dpdGgiLCJfdW5pdCIsInByZWZpeExlbiIsInByZWZpeE5hbWUiLCJfcHJlZml4IiwiQkFTRV9VTklUUyIsImlzVmFsdWVsZXNzVW5pdCIsIm90aGVyIiwiaW52ZXJ0ZWQiLCJ2YWxUaGlzIiwidmFsT3RoZXIiLCJnZXROdW1lcmljSWZVbml0bGVzcyIsIlciLCJ0b051bWVyaWMiLCJmb3JtYXRVbml0cyIsIm1hdGNoaW5nQmFzZSIsIm1hdGNoaW5nVW5pdCIsInByb3Bvc2VkVW5pdExpc3QiLCJrZXkyIiwiY3VycmVudFVuaXRTeXN0ZW0iLCJtaXNzaW5nQmFzZURpbSIsInRvU0kiLCJVTklUX1NZU1RFTVMiLCJzaSIsInN0ck51bSIsInN0ckRlbiIsIm5OdW0iLCJuRGVuIiwiX2k0Iiwic2ltcCIsImlzSW1hZ2luYXJ5IiwiVkFSIiwiVkEiLCJfYmVzdFByZWZpeCIsInVuaXRTdHIiLCJhYnNWYWx1ZSIsImFic1VuaXRWYWx1ZSIsImJlc3RQcmVmaXgiLCJiZXN0RGlmZiIsInNjaWVudGlmaWMiLCJzcGxpdFVuaXQiLCJwYXJ0cyIsInhOdW1lcmljIiwieFJvdW5kZWQiLCJ0ZXN0U3VtIiwiU0hPUlQiLCJkYSIsIkciLCJUIiwiWiIsIlkiLCJMT05HIiwiZGVjYSIsImhlY3RvIiwia2lsbyIsIm1lZ2EiLCJnaWdhIiwidGVyYSIsInBldGEiLCJleGEiLCJ6ZXR0YSIsInlvdHRhIiwiZGVjaSIsImNlbnRpIiwibWlsbGkiLCJtaWNybyIsIm5hbm8iLCJwaWNvIiwiZmVtdG8iLCJhdHRvIiwiemVwdG8iLCJ5b2N0byIsIlNRVUFSRUQiLCJDVUJJQyIsIkJJTkFSWV9TSE9SVF9TSSIsIkJJTkFSWV9TSE9SVF9JRUMiLCJLaSIsIk1pIiwiR2kiLCJUaSIsIlBpIiwiRWkiLCJaaSIsIllpIiwiQklOQVJZX0xPTkdfU0kiLCJCSU5BUllfTE9OR19JRUMiLCJraWJpIiwibWViaSIsImdpYmkiLCJ0ZWJpIiwicGViaSIsImV4aSIsInplYmkiLCJ5b2JpIiwiQlRVIiwiTU0iLCJTSE9SVExPTkciLCJfZXh0ZW5kcyIsIkJJTkFSWV9TSE9SVCIsIkJJTkFSWV9MT05HIiwiTUFTUyIsIkxFTkdUSCIsIlRJTUUiLCJDVVJSRU5UIiwiVEVNUEVSQVRVUkUiLCJMVU1JTk9VU19JTlRFTlNJVFkiLCJBTU9VTlRfT0ZfU1VCU1RBTkNFIiwiRk9SQ0UiLCJTVVJGQUNFIiwiVk9MVU1FIiwiRU5FUkdZIiwiUE9XRVIiLCJQUkVTU1VSRSIsIkVMRUNUUklDX0NIQVJHRSIsIkVMRUNUUklDX0NBUEFDSVRBTkNFIiwiRUxFQ1RSSUNfUE9URU5USUFMIiwiRUxFQ1RSSUNfUkVTSVNUQU5DRSIsIkVMRUNUUklDX0lORFVDVEFOQ0UiLCJFTEVDVFJJQ19DT05EVUNUQU5DRSIsIk1BR05FVElDX0ZMVVgiLCJNQUdORVRJQ19GTFVYX0RFTlNJVFkiLCJGUkVRVUVOQ1kiLCJBTkdMRSIsIkJJVCIsIm1ldGVyIiwiaW5jaCIsImZvb3QiLCJ5YXJkIiwibWlsZSIsImxpbmsiLCJyb2QiLCJjaGFpbiIsImFuZ3N0cm9tIiwiaW4iLCJmdCIsIm1pIiwibGkiLCJjaCIsIm1pbCIsIm0yIiwic3FpbiIsInNxZnQiLCJzcXlkIiwic3FtaSIsInNxcmQiLCJzcWNoIiwic3FtaWwiLCJhY3JlIiwiaGVjdGFyZSIsIm0zIiwiTCIsImxpdHJlIiwiY3VpbiIsImN1ZnQiLCJjdXlkIiwidGVhc3Bvb24iLCJ0YWJsZXNwb29uIiwiZHJvcCIsImd0dCIsIm1pbmltIiwiZmx1aWRkcmFtIiwiZmx1aWRvdW5jZSIsImdpbGwiLCJjYyIsImN1cCIsInBpbnQiLCJxdWFydCIsImdhbGxvbiIsImJlZXJiYXJyZWwiLCJvaWxiYXJyZWwiLCJob2dzaGVhZCIsImZsZHIiLCJmbG96IiwiZ2kiLCJjcCIsInB0IiwicXQiLCJnYWwiLCJiYmwiLCJvYmwiLCJncmFtIiwidG9uIiwidG9ubmUiLCJncmFpbiIsImRyYW0iLCJvdW5jZSIsInBvdW5kbWFzcyIsImh1bmRyZWR3ZWlnaHQiLCJzdGljayIsInN0b25lIiwiZ3IiLCJkciIsIm96IiwibGJtIiwiY3d0Iiwic2Vjb25kIiwibWludXRlIiwiaG91ciIsImRheSIsIndlZWsiLCJtb250aCIsInllYXIiLCJkZWNhZGUiLCJjZW50dXJ5IiwibWlsbGVubml1bSIsImhlcnR6IiwicmVjaXByb2NhbCIsIkh6IiwicmFkIiwicmFkaWFuIiwiZGVnIiwiZ3JhZCIsImdyYWRpYW4iLCJjeWNsZSIsImFyY3NlYyIsImFyY21pbiIsImFtcGVyZSIsIksiLCJkZWdDIiwiZGVnRiIsImRlZ1IiLCJrZWx2aW4iLCJjZWxzaXVzIiwiZmFocmVuaGVpdCIsInJhbmtpbmUiLCJtb2wiLCJtb2xlIiwiY2QiLCJjYW5kZWxhIiwibmV3dG9uIiwiZHluIiwiZHluZSIsImxiZiIsInBvdW5kZm9yY2UiLCJraXAiLCJraWxvZ3JhbWZvcmNlIiwiSiIsImpvdWxlIiwiZXJnIiwiV2giLCJlViIsImVsZWN0cm9udm9sdCIsIndhdHQiLCJocCIsIkkiLCJQYSIsInBzaSIsImF0bSIsImJhciIsInRvcnIiLCJtbUhnIiwibW1IMk8iLCJjbUgyTyIsImNvdWxvbWIiLCJmYXJhZCIsIkYiLCJ2b2x0IiwiViIsIm9obSIsImhlbnJ5IiwiSCIsInNpZW1lbnMiLCJTIiwid2ViZXIiLCJXYiIsInRlc2xhIiwiYml0cyIsImJ5dGVzIiwiQUxJQVNFUyIsIm1ldGVycyIsImluY2hlcyIsImZlZXQiLCJ5YXJkcyIsIm1pbGVzIiwibGlua3MiLCJyb2RzIiwiY2hhaW5zIiwiYW5nc3Ryb21zIiwibGl0cmVzIiwibGl0ZXIiLCJsaXRlcnMiLCJ0ZWFzcG9vbnMiLCJ0YWJsZXNwb29ucyIsIm1pbmltcyIsImZsdWlkZHJhbXMiLCJmbHVpZG91bmNlcyIsImdpbGxzIiwiY3VwcyIsInBpbnRzIiwicXVhcnRzIiwiZ2FsbG9ucyIsImJlZXJiYXJyZWxzIiwib2lsYmFycmVscyIsImhvZ3NoZWFkcyIsImd0dHMiLCJncmFtcyIsInRvbnMiLCJ0b25uZXMiLCJncmFpbnMiLCJkcmFtcyIsIm91bmNlcyIsInBvdW5kbWFzc2VzIiwiaHVuZHJlZHdlaWdodHMiLCJzdGlja3MiLCJsYiIsImxicyIsImtpcHMiLCJrZ2YiLCJhY3JlcyIsImhlY3RhcmVzIiwic3FmZWV0Iiwic3F5YXJkIiwic3FtaWxlIiwic3FtaWxlcyIsIm1taGciLCJtbWgybyIsImNtaDJvIiwic2Vjb25kcyIsInNlY3MiLCJtaW51dGVzIiwibWlucyIsImhvdXJzIiwiaHIiLCJocnMiLCJkYXlzIiwid2Vla3MiLCJtb250aHMiLCJ5ZWFycyIsImRlY2FkZXMiLCJjZW50dXJpZXMiLCJtaWxsZW5uaWEiLCJncmFkaWFucyIsImN5Y2xlcyIsImFyY3NlY29uZCIsImFyY3NlY29uZHMiLCJhcmNtaW51dGUiLCJhcmNtaW51dGVzIiwiQlRVcyIsIndhdHRzIiwiam91bGVzIiwiYW1wZXJlcyIsImNvdWxvbWJzIiwidm9sdHMiLCJvaG1zIiwiZmFyYWRzIiwid2ViZXJzIiwidGVzbGFzIiwiZWxlY3Ryb252b2x0cyIsIm1vbGVzIiwiYml0IiwiYnl0ZSIsImNvbmZpZzMiLCJjcmVhdGVQaSIsImNncyIsInVzIiwiX2tleTIiLCJzZXRVbml0U3lzdGVtIiwiZ2V0VW5pdFN5c3RlbSIsIl9rZXkiLCJ0eXBlQ29udmVydGVycyIsIl9uYW1lMiIsIl91bml0MiIsImFsaWFzIiwiX2tleTMiLCJjcmVhdGVVbml0Iiwib3ZlcnJpZGUiLCJfa2V5NCIsImRlbGV0ZVVuaXQiLCJhbGlhc2VzIiwibGFzdFVuaXQiLCJfa2V5NSIsImNyZWF0ZVVuaXRTaW5nbGUiLCJkZWZpbml0aW9uIiwiYmFzZU5hbWUiLCJkZWZVbml0IiwibmV3VW5pdCIsImFueU1hdGNoIiwiX25ld0Jhc2VVbml0IiwibmV3QmFzZVVuaXQiLCJfaTYiLCJfaTgiLCJhbGlhc05hbWUiLCJfYWxpYXMiLCJfa2V5NiIsIm51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCwgc3RyaW5nIiwiT2JqZWN0LCBPYmplY3QiLCJzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QsIE9iamVjdCIsImRlZiIsInN0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCIsImFsZ29yaXRobTA0IiwiY3JlYXRlRG90IiwiY29uaiIsIkFycmF5IHwgRGVuc2VNYXRyaXgsIEFycmF5IHwgRGVuc2VNYXRyaXgiLCJfdmFsaWRhdGVEaW0iLCJhSXNDb2x1bW4iLCJiSXNDb2x1bW4iLCJhZGQyIiwibXVsMiIsIl9jMiIsIl9jMjIiLCJfYzMiLCJ4aW5kZXgiLCJ4dmFsdWVzIiwieWluZGV4IiwieXZhbHVlcyIsInhMZW4iLCJ5TGVuIiwieFNpemUiLCJ5U2l6ZSIsImtleXdvcmRzIiwiY3JlYXRlTm9kZSIsIm1hdGhXaXRoVHJhbnNmb3JtIiwiTm9kZTIiLCJldmFsdWF0ZSIsImNvbXBpbGUiLCJjb21tZW50IiwiZXhwciIsIl9jb21waWxlIiwic3ltYm9sIiwibWF0aCIsImFyZ05hbWVzIiwiX2lmTm9kZSIsInRyYXZlcnNlIiwiY2FsbGJhY2syIiwicGF0aCIsInRyYW5zZm9ybSIsIl90cmFuc2Zvcm0iLCJjbG9uZURlZXAiLCJjdXN0b21TdHJpbmciLCJoYW5kbGVyIiwiX3RvU3RyaW5nIiwidG9IVE1MIiwidG9UZXgiLCJjdXN0b21UZXgiLCJfdG9UZXgiLCJnZXRJZGVudGlmaWVyIiwiZ2V0Q29udGVudCIsImlzT2JqZWN0UHJvcGVydHkiLCJnZXRPYmplY3RQcm9wZXJ0eSIsImVycm9yVHJhbnNmb3JtIiwiY3JlYXRlQWNjZXNzb3JOb2RlIiwiTm9kZSIsImFjY2VzcyIsImFjY2Vzc0ZhY3RvcnkiLCJBY2Nlc3Nvck5vZGUiLCJiaW5kIiwiZXZhbE9iamVjdCIsImV2YWxJbmRleCIsImNvbnRleHQiLCJuZWVkUGFyZW50aGVzaXMiLCJjcmVhdGVBcnJheU5vZGUiLCJpdGVtcyIsIkFycmF5Tm9kZSIsImV2YWxJdGVtcyIsImV2YWxJdGVtIiwiY2hpbGROb2RlIiwicHJvcGVydGllcyIsIkFzc2lnbm1lbnROb2RlIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsIkNvbmRpdGlvbmFsTm9kZSIsImxhdGV4TGVmdFBhcmVucyIsImxhdGV4UmlnaHRQYXJlbnMiLCJsYXRleFBhcmVucyIsIk9wZXJhdG9yTm9kZTpvciIsImFzc29jaWF0aXZpdHkiLCJhc3NvY2lhdGl2ZVdpdGgiLCJPcGVyYXRvck5vZGU6eG9yIiwiT3BlcmF0b3JOb2RlOmFuZCIsIk9wZXJhdG9yTm9kZTpiaXRPciIsIk9wZXJhdG9yTm9kZTpiaXRYb3IiLCJPcGVyYXRvck5vZGU6Yml0QW5kIiwiT3BlcmF0b3JOb2RlOmVxdWFsIiwiT3BlcmF0b3JOb2RlOnVuZXF1YWwiLCJPcGVyYXRvck5vZGU6c21hbGxlciIsIk9wZXJhdG9yTm9kZTpsYXJnZXIiLCJPcGVyYXRvck5vZGU6c21hbGxlckVxIiwiT3BlcmF0b3JOb2RlOmxhcmdlckVxIiwiUmVsYXRpb25hbE5vZGUiLCJPcGVyYXRvck5vZGU6bGVmdFNoaWZ0IiwiT3BlcmF0b3JOb2RlOnJpZ2h0QXJpdGhTaGlmdCIsIk9wZXJhdG9yTm9kZTpyaWdodExvZ1NoaWZ0IiwiT3BlcmF0b3JOb2RlOnRvIiwiUmFuZ2VOb2RlIiwiT3BlcmF0b3JOb2RlOmFkZCIsIk9wZXJhdG9yTm9kZTpzdWJ0cmFjdCIsIk9wZXJhdG9yTm9kZTptdWx0aXBseSIsIk9wZXJhdG9yTm9kZTpkaXZpZGUiLCJPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHkiLCJPcGVyYXRvck5vZGU6ZG90RGl2aWRlIiwiT3BlcmF0b3JOb2RlOm1vZCIsIk9wZXJhdG9yTm9kZTp1bmFyeVBsdXMiLCJPcGVyYXRvck5vZGU6dW5hcnlNaW51cyIsIk9wZXJhdG9yTm9kZTpiaXROb3QiLCJPcGVyYXRvck5vZGU6bm90IiwiT3BlcmF0b3JOb2RlOnBvdyIsIk9wZXJhdG9yTm9kZTpkb3RQb3ciLCJPcGVyYXRvck5vZGU6ZmFjdG9yaWFsIiwiT3BlcmF0b3JOb2RlOnRyYW5zcG9zZSIsIl9ub2RlIiwicGFyZW50aGVzaXMiLCJpZGVudGlmaWVyIiwiZ2V0UHJlY2VkZW5jZSIsIm5vZGVBIiwibm9kZUIiLCJpZGVudGlmaWVyQSIsImlkZW50aWZpZXJCIiwiY3JlYXRlQXNzaWdubWVudE5vZGUiLCJhc3NpZ25GYWN0b3J5IiwicHJlY2VkZW5jZSIsImV4cHJQcmVjZWRlbmNlIiwiZXZhbFZhbHVlIiwic2V0U2FmZVByb3BlcnR5IiwiY2hpbGRPYmplY3QiLCJldmFsUGFyZW50T2JqZWN0IiwicGFyZW50UHJvcCIsImV2YWxQYXJlbnRJbmRleCIsInBhcmVudEluZGV4IiwiY3JlYXRlQmxvY2tOb2RlIiwiYmxvY2tzIiwiQmxvY2tOb2RlIiwiYmxvY2siLCJ2aXNpYmxlIiwiZXZhbEJsb2NrcyIsInJlc3VsdHMiLCJjcmVhdGVDb25kaXRpb25hbE5vZGUiLCJjb25kaXRpb24iLCJ0cnVlRXhwciIsImZhbHNlRXhwciIsImV2YWxDb25kaXRpb24iLCJldmFsVHJ1ZUV4cHIiLCJldmFsRmFsc2VFeHByIiwidGVzdENvbmRpdGlvbiIsImNvbmRpdGlvblByZWNlZGVuY2UiLCJ0cnVlUHJlY2VkZW5jZSIsImZhbHNlUHJlY2VkZW5jZSIsImRlZmF1bHRFc2NhcGVzIiwieyIsIn0iLCJcXCIsIiMiLCIkIiwiJSIsIiYiLCJeIiwiXyIsIn4iLCJmb3JtYXRFc2NhcGVzIiwi4oCTIiwi4oCUIiwiICIsIlx0IiwiXHJcbiIsIlxuIiwiZGVmYXVsdEVzY2FwZU1hcEZuIiwiZGVmYXVsdEVzY2FwZXMyIiwiZm9ybWF0RXNjYXBlczIiLCJsYXRleFN5bWJvbHMiLCJBbHBoYSIsIkJldGEiLCJiZXRhIiwiR2FtbWEiLCJnYW1tYSIsIkRlbHRhIiwiZGVsdGEiLCJFcHNpbG9uIiwidmFyZXBzaWxvbiIsIlpldGEiLCJ6ZXRhIiwiRXRhIiwiZXRhIiwiVGhldGEiLCJ2YXJ0aGV0YSIsIklvdGEiLCJpb3RhIiwiS2FwcGEiLCJrYXBwYSIsInZhcmthcHBhIiwiTGFtYmRhIiwibGFtYmRhIiwiTXUiLCJtdSIsIk51IiwibnUiLCJYaSIsIk9taWNyb24iLCJvbWljcm9uIiwidmFycGkiLCJSaG8iLCJyaG8iLCJ2YXJyaG8iLCJTaWdtYSIsInNpZ21hIiwidmFyc2lnbWEiLCJUYXUiLCJ0YXUiLCJVcHNpbG9uIiwidXBzaWxvbiIsIlBoaSIsInZhcnBoaSIsIkNoaSIsImNoaSIsIlBzaSIsIk9tZWdhIiwib21lZ2EiLCJ0cnVlIiwiZmFsc2UiLCJJbmYiLCJpbmZpbml0eSIsIm9vIiwibGltIiwidW5kZWZpbmVkIiwibGF0ZXhPcGVyYXRvcnMiLCJjdHJhbnNwb3NlIiwiZmFjdG9yaWFsIiwiZG90UG93IiwidW5hcnlQbHVzIiwiYml0Tm90Iiwibm90IiwiZG90TXVsdGlwbHkiLCJkb3REaXZpZGUiLCJsZWZ0U2hpZnQiLCJyaWdodEFyaXRoU2hpZnQiLCJyaWdodExvZ1NoaWZ0IiwidW5lcXVhbCIsInNtYWxsZXJFcSIsImxhcmdlckVxIiwiYml0QW5kIiwiYml0WG9yIiwiYml0T3IiLCJhbmQiLCJ4b3IiLCJvciIsImxhdGV4RnVuY3Rpb25zIiwiMSIsIjIiLCJjdWJlIiwibG9nMXAiLCJub3JtIiwibnRoUm9vdCIsIm50aFJvb3RzIiwic3F1YXJlIiwiYmVsbE51bWJlcnMiLCJjYXRhbGFuIiwic3RpcmxpbmdTMiIsImNyb3NzIiwiZXhwbSIsImludiIsInNxcnRtIiwiY29tYmluYXRpb25zIiwiY29tYmluYXRpb25zV2l0aFJlcCIsImVyZiIsInZhcmlhbmNlIiwiMCIsImNvbXBsZXgiLCJzcGFyc2UiLCJsYXRleFVuaXRzIiwiX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpIiwicHJlc2VydmVGb3JtYXR0aW5nIiwiX3JlZiRlc2NhcGVNYXBGbiIsImVzY2FwZU1hcEZuIiwicnVubmluZ1N0ciIsImVzY2FwZXMiLCJlc2NhcGVLZXlzIiwiX2xvb3AiLCJzcGVjaWFsQ2hhckZvdW5kIiwiZXNjYXBlTGF0ZXhMaWIiLCJpc1VuaXQyIiwiZXNjYXBlTGF0ZXgiLCJjcmVhdGVDb25zdGFudE5vZGUiLCJDb25zdGFudE5vZGUiLCJjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiY2hpbGRBcmdOYW1lcyIsImV2YWxFeHByIiwiY2hpbGRBcmdzIiwiZXNjYXBlIiwidG9TeW1ib2wiLCJjcmVhdGVJbmRleE5vZGUiLCJkb3ROb3RhdGlvbiIsIkluZGV4Tm9kZSIsImV2YWxEaW1lbnNpb25zIiwibmVlZHNFbmQiLCJldmFsU3RhcnQiLCJldmFsRW5kIiwiZXZhbFN0ZXAiLCJjcmVhdGVSYW5nZSIsIl9ldmFsU3RhcnQiLCJfZXZhbEVuZCIsIl9ldmFsU3RlcCIsIl9jaGlsZEFyZ05hbWVzIiwiZXZhbFJhbmdlIiwiX2V2YWxSYW5nZSIsImV2YWxEaW1lbnNpb24iLCJjcmVhdGVPYmplY3ROb2RlIiwiT2JqZWN0Tm9kZSIsImV2YWxFbnRyaWVzIiwic3RyaW5naWZpZWRLZXkiLCJwYXJzZWRLZXkiLCJjcmVhdGVPcGVyYXRvck5vZGUiLCJvcCIsImltcGxpY2l0IiwiT3BlcmF0b3JOb2RlIiwibGF0ZXgiLCJnZXRBc3NvY2lhdGl2aXR5Iiwib3BlcmFuZFByZWNlZGVuY2UiLCJvcGVyYW5kSWRlbnRpZmllciIsInJvb3RJZGVudGlmaWVyIiwibGhzUGFyZW5zIiwicmhzUGFyZW5zIiwibGhzUHJlY2VkZW5jZSIsImFzc29jV2l0aExocyIsImlzQXNzb2NpYXRpdmVXaXRoIiwiX3Jvb3RJZGVudGlmaWVyIiwibGhzSWRlbnRpZmllciIsInJoc0lkZW50aWZpZXIiLCJyaHNQcmVjZWRlbmNlIiwiYXNzb2NXaXRoUmhzIiwiYXJnUHJlY2VkZW5jZSIsImFzc29jV2l0aEFyZyIsImFyZ0Fzc29jaWF0aXZpdHkiLCJpc1BhcmVudGhlc2lzTm9kZTIiLCJldmFsQXJncyIsImV2YWxBcmcwIiwiX2V2YWxBcmciLCJldmFsQXJnMSIsImV2YWxBcmciLCJpc1VuYXJ5IiwicGFyZW5zIiwiY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMiLCJhc3NvYyIsIm9wZXJhbmQiLCJvcElzTmFtZWQiLCJsaHMiLCJyaHMiLCJzdHJpbmdpZmllZEFyZ3MiLCJsaHNUZXgiLCJyaHNUZXgiLCJ0ZXhpZmllZEFyZ3MiLCJjcmVhdGVQYXJlbnRoZXNpc05vZGUiLCJjb250ZW50IiwiUGFyZW50aGVzaXNOb2RlIiwiY3JlYXRlUmFuZ2VOb2RlIiwic3RhcnRQcmVjZWRlbmNlIiwic3RlcFByZWNlZGVuY2UiLCJlbmRQcmVjZWRlbmNlIiwiY3JlYXRlUmVsYXRpb25hbE5vZGUiLCJjb25kaXRpb25hbHMiLCJpc1JlbGF0aW9uYWxOb2RlIiwic2VsZjIiLCJjb21waWxlZCIsImV2YWxMaHMiLCJldmFsUmhzIiwiY29uZEZuIiwicGFyYW1TdHJpbmdzIiwicGFyYW1QcmVjZWRlbmNlIiwib3BlcmF0b3JNYXAiLCJCaWdOdW1iZXJEZXBlbmRlbmNpZXMiLCJDb21wbGV4RGVwZW5kZW5jaWVzIiwiTWF0cml4RGVwZW5kZW5jaWVzIiwiRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJGcmFjdGlvbkRlcGVuZGVuY2llcyIsInR5cGVkRGVwZW5kZW5jaWVzIiwiZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMiLCJTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJudW1iZXJEZXBlbmRlbmNpZXMiLCJmcmFjdGlvbkRlcGVuZGVuY2llcyIsIm1hdHJpeERlcGVuZGVuY2llcyIsInVuYXJ5TWludXNEZXBlbmRlbmNpZXMiLCJhYnNEZXBlbmRlbmNpZXMiLCJhZGRTY2FsYXJEZXBlbmRlbmNpZXMiLCJyb3VuZERlcGVuZGVuY2llcyIsInplcm9zRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMiLCJzaXplRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlEZXBlbmRlbmNpZXMiLCJkb3REZXBlbmRlbmNpZXMiLCJjb25qRGVwZW5kZW5jaWVzIiwic3VidHJhY3REZXBlbmRlbmNpZXMiLCJsYXJnZXJEZXBlbmRlbmNpZXMiLCJpZGVudGl0eURlcGVuZGVuY2llcyIsIm51bWVyaWNEZXBlbmRlbmNpZXMiLCJiaWdudW1iZXJEZXBlbmRlbmNpZXMiLCJkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMiLCJzdWJzZXREZXBlbmRlbmNpZXMiLCJVbml0RGVwZW5kZW5jaWVzIiwiZXF1YWxEZXBlbmRlbmNpZXMiLCJmaXhEZXBlbmRlbmNpZXMiLCJjZWlsRGVwZW5kZW5jaWVzIiwiZmxvb3JEZXBlbmRlbmNpZXMiLCJmb3JtYXREZXBlbmRlbmNpZXMiLCJpc051bWVyaWNEZXBlbmRlbmNpZXMiLCJwb3dEZXBlbmRlbmNpZXMiLCJOb2RlRGVwZW5kZW5jaWVzIiwiU3ltYm9sTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZVN5bWJvbE5vZGUiLCJTeW1ib2xOb2RlIiwibWF0aDIiLCJwYXJzZURlcGVuZGVuY2llcyIsIkFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyIsIkFycmF5Tm9kZURlcGVuZGVuY2llcyIsIkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIiwiQmxvY2tOb2RlRGVwZW5kZW5jaWVzIiwiUmVzdWx0U2V0RGVwZW5kZW5jaWVzIiwiQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyIsIkZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZUZ1bmN0aW9uTm9kZSIsIkZ1bmN0aW9uTm9kZSIsInJhd0FyZ3MiLCJfcmF3QXJncyIsImV2YWxGbiIsIl9yYXdBcmdzMiIsIm5vZGVUb1N0cmluZyIsInRlbXBsYXRlIiwicmVnZXgiLCJpbnB1dFBvcyIsImV4ZWMiLCJSZWZlcmVuY2VFcnJvciIsIm5vZGVUb1RleCIsImxhdGV4Q29udmVydGVyIiwiY3VzdG9tVG9UZXgiLCJleHBhbmRUZW1wbGF0ZSIsIkluZGV4Tm9kZURlcGVuZGVuY2llcyIsIlJhbmdlRGVwZW5kZW5jaWVzIiwiT2JqZWN0Tm9kZURlcGVuZGVuY2llcyIsIk9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyIsIlBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyIsIlJhbmdlTm9kZURlcGVuZGVuY2llcyIsIlJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiY3JlYXRlUGFyc2UiLCJleHByZXNzaW9uIiwicGFyc2VTdGFydCIsImV4cHJlc3Npb25zIiwicGFyc2VNdWx0aXBsZSIsIkFycmF5IHwgTWF0cml4LCBPYmplY3QiLCJleHRyYU5vZGVzIiwiVE9LRU5UWVBFIiwiREVMSU1JVEVSUyIsIiwiLCIoIiwiKSIsIlsiLCJdIiwiXCIiLCInIiwiOyIsIisiLCItIiwiKiIsIi4qIiwiLyIsIi4vIiwiLl4iLCIhIiwifCIsIl58IiwiPSIsIjoiLCI/IiwiPT0iLCIhPSIsIjwiLCI+IiwiPD0iLCI+PSIsIjw8IiwiPj4iLCI+Pj4iLCJOQU1FRF9ERUxJTUlURVJTIiwiQ09OU1RBTlRTIiwiTlVNRVJJQ19DT05TVEFOVFMiLCJzdGF0ZSIsImN1cnJlbnRTdHJpbmciLCJ0b2tlblR5cGUiLCJ0b2tlbiIsImlzV2hpdGVzcGFjZSIsImN1cnJlbnRDaGFyYWN0ZXIiLCJuZXN0aW5nTGV2ZWwiLCJpc0RpZ2l0RG90IiwiaXNIZXhEaWdpdCIsImlzRGVjaW1hbE1hcmsiLCJuZXh0Q2hhcmFjdGVyIiwiY3JlYXRlU3ludGF4RXJyb3IiLCJpc0FscGhhIiwicHJldkNoYXJhY3RlciIsImNvbmRpdGlvbmFsTGV2ZWwiLCJwYXJzZUFzc2lnbm1lbnQiLCJwYXJzZUJsb2NrIiwidmFsaWQiLCJwYXJzZUxvZ2ljYWxYb3IiLCJwYXJzZUxvZ2ljYWxPciIsInBhcnNlQ29uZGl0aW9uYWwiLCJwYXJzZUxvZ2ljYWxBbmQiLCJwYXJzZUJpdHdpc2VPciIsInBhcnNlQml0d2lzZVhvciIsInBhcnNlQml0d2lzZUFuZCIsInBhcnNlUmVsYXRpb25hbCIsInBhcnNlU2hpZnQiLCJvcGVyYXRvcnMiLCJjb25kIiwicGFyc2VDb252ZXJzaW9uIiwicGFyc2VSYW5nZSIsInBhcnNlQWRkU3VidHJhY3QiLCJwYXJzZU11bHRpcGx5RGl2aWRlIiwicGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uIiwicGFyc2VSdWxlMiIsInBhcnNlVW5hcnkiLCJ0b2tlblN0YXRlcyIsIkN1c3RvbU5vZGUiLCJwYXJzZUFjY2Vzc29ycyIsInBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4iLCJwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuIiwicGFyc2VSb3ciLCJudW1iZXJTdHIiLCJwYXJzZUVuZCIsInBhcnNlUGFyZW50aGVzZXMiLCJwYXJzZU9iamVjdCIsInBhcnNlTWF0cml4IiwicGFyc2VTaW5nbGVRdW90ZXNTdHJpbmciLCJwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyIsInBhcnNlU3ltYm9sIiwicGFyc2VDdXN0b21Ob2RlcyIsInBhcnNlTGVmdEhhbmRPcGVyYXRvcnMiLCJwYXJzZVBvdyIsImNvbCIsImNoYXIiLCJjUHJldiIsImNOZXh0IiwiaXNWYWxpZExhdGluT3JHcmVlayIsImlzVmFsaWRNYXRoU3ltYm9sIiwiY3JlYXRlRXZhbHVhdGUiLCJpbnZEZXBlbmRlbmNpZXMiLCJkZXREZXBlbmRlbmNpZXMiLCJsdXBEZXBlbmRlbmNpZXMiLCJTcGFEZXBlbmRlbmNpZXMiLCJGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzIiwic21hbGxlckRlcGVuZGVuY2llcyIsImNyZWF0ZUx1cCIsIl9kZW5zZUxVUCIsImx2YWx1ZXMiLCJsaW5kZXgiLCJscHRyIiwibHNpemUiLCJ1dmFsdWVzIiwidWluZGV4IiwidXB0ciIsInVzaXplIiwicHZDbyIsInB2T2MiLCJzd2FwSW5kZWNlcyIsInNwYSIsImsyIiwidmtqIiwidmlrIiwidmpqIiwicGFic3YiLCJhYnN2IiwiVSIsIl9zcGFyc2VMVVAiLCJsZGF0YSIsInVkYXRhIiwidmlqIiwiY3JlYXRlRGV0IiwibHVwIiwibWF0cml4MiIsImRlY29tcCIsImV2ZW5DeWNsZXMiLCJ2aXNpdGVkIiwiX2RldCIsImNyZWF0ZUludiIsIl9pbnYiLCJtYXQiLCJBQmlnIiwickJpZyIsIkFjIiwiQmMiLCJBciIsIkJyIiwiY3JlYXRlRGl2aWRlIiwiQXJyYXkgfCBNYXRyaXgsIEFycmF5IHwgTWF0cml4IiwiYW55LCBBcnJheSB8IE1hdHJpeCIsImN0eCIsIm9uY2UiLCJvZmYiLCJsaXN0ZW5lciIsImVtaXQiLCJldnRBcnIiLCJldnRzIiwibGl2ZUV2ZW50cyIsInRpbnlFbWl0dGVyTW9kdWxlIiwiZWFjaCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwiZWwiLCJzaGVldCIsInNlbGVjdG9yIiwicnVsZXMiLCJpbnNlcnRSdWxlIiwiYWRkUnVsZSIsImZhdGFsIiwiVWludDE2QXJyYXkiLCJmcm9tQ2hhckNvZGUiLCJzdWJhcnJheSIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJlbmNvZGUiLCJzdHJlYW0iLCJVaW50OEFycmF5IiwiQnVmZmVyIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInJlc3BvbnNlVGV4dCIsInJldm9rZU9iamVjdFVSTCIsImRlY29kZSIsIkFycmF5QnVmZmVyIiwid2luZG93IiwiZ2xvYmFsIiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZWxlbWVudCIsImJvdW5kcyIsIkJvdW5kcyIsInJlZmVyZW5jZUVsZW1lbnQiLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZG9jRWwiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5IiwiZG9jdW1lbnQyIiwiZG9jdW1lbnRFbGVtZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiYm9keVN0eWxlIiwib2Zmc2V0VG9wIiwibWFyZ2luVG9wIiwib2Zmc2V0TGVmdCIsIm1hcmdpbkxlZnQiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJnZXREb2N1bWVudEJvdW5kcyIsImRlZmF1bHRWaWV3IiwiY29tcHV0ZWRTdHlsZSIsIm9mZnNldFBhcmVudCIsInByZXZDb21wdXRlZFN0eWxlIiwiY29udGFpbnMiLCJwYXJlbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwidmlld3BvcnRUZXN0ZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwid3JhcHBlciIsImlubmVySFRNTCIsImZpcnN0RWxlbWVudENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJwb2ludGVyRXZlbnRzIiwiZXhwb3J0czIiLCJORVdFUiIsIk9MREVSIiwib2xkZXN0IiwibmV3ZXN0IiwiX2tleW1hcCIsIm9sZGVzdEVudHJ5IiwiTFJVTWFwIiwiX21hcmtFbnRyeUFzVXNlZCIsIk1BWF9WQUxVRSIsIml0IiwiaXRlcmF0b3IiLCJpdHYiLCJkb25lIiwiRW50cnkiLCJlbnQiLCJLZXlJdGVyYXRvciIsIlZhbHVlSXRlcmF0b3IiLCJFbnRyeUl0ZXJhdG9yIiwiZnVuIiwidGhpc09iaiIsImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGlnZXN0TGVuZ3RoIiwiYmxvY2tTaXplIiwicG9zIiwiSGFzaCIsIkludDMyQXJyYXkiLCJidWZmZXJMZW5ndGgiLCJieXRlc0hhc2hlZCIsImZpbmlzaGVkIiwicmVzZXQiLCJjbGVhbiIsImRhdGFMZW5ndGgiLCJkYXRhUG9zIiwiaGFzaEJsb2NrcyIsImZpbmlzaCIsImJpdExlbkhpIiwiYml0TGVuTG8iLCJwYWRMZW5ndGgiLCJkaWdlc3QiLCJfc2F2ZVN0YXRlIiwiX3Jlc3RvcmVTdGF0ZSIsIkhhc2gyIiwiSE1BQyIsImlubmVyIiwicGFkIiwiaXN0YXRlIiwib3N0YXRlIiwiSE1BQzIiLCJobWFjMiIsImluZm8iLCJjb3VudGVyIiwiaG1hYyIsImhrZGZTYWx0Iiwic2FsdCIsIm9rbSIsImhtYWNfIiwiYnVmcG9zIiwiZmlsbCIsInBhc3N3b3JkIiwiaXRlcmF0aW9ucyIsImRrTGVuIiwicHJmIiwiY3RyIiwiZGsiLCJoa2RmIiwicGJrZGYyIiwic2hhMjU2MiIsImV2ZW50Q2FsbGJhY2siLCJob3ZlciIsImFjdGl2ZSIsImZvY3VzIiwiSW1hZ2UiLCJFZGdlcyIsImxheWVycyIsImdldEF0dHJpYnV0ZSIsIldlYlJlbmRlcmVyIiwiRUxFTUVOVF9VSURfQVRUUklCVVRFIiwiZ2VuZXJhdGVFbGVtZW50VUlEIiwic2V0QXR0cmlidXRlIiwiTEFZRVJfQVRUUklCVVRFIiwicGFyZW50TGF5ZXIiLCJnZXRDbG9zZXN0TGF5ZXIiLCJjYWNoZWRDYW52YXNlcyIsIl9XZWJMYXllciIsIkRFRkFVTFRfQ0FDSEVfU0laRSIsIl9oYXNoaW5nQ2FudmFzIiwidmFsIiwiX2NhbnZhcyIsImRlcHRoIiwibGF5ZXIiLCJyb290TGF5ZXIiLCJ0cmF2ZXJzZVBhcmVudExheWVycyIsInRyYXZlcnNlQ2hpbGRMYXllcnMiLCJjaGlsZExheWVycyIsInRyYXZlcnNlTGF5ZXJzIiwibmVlZHNSZWZyZXNoIiwiX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzIiwiYWRkVG9TZXJpYWxpemVRdWV1ZSIsIm9sZENoaWxkTGF5ZXJzIiwicHJldmlvdXNQYXJlbnRMYXllciIsIl90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIiLCJuZWVkc1JlbW92YWwiLCJzdHlsZXMiLCJoYXNBdHRyaWJ1dGUiLCJub2RlTmFtZSIsInBhZGRpbmciLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJib3JkZXIiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJlbGVtZW50QXR0cmlidXRlIiwiYXR0cmlidXRlSFRNTCIsImxheWVyRWxlbWVudCIsIm5lZWRzSW5saW5lQmxvY2siLCJkaXNwbGF5IiwidXBkYXRlSW5wdXRBdHRyaWJ1dGVzIiwibGF5ZXJIVE1MIiwic2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiUkVOREVSSU5HX0FUVFJJQlVURSIsIlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFIiwiZ2V0UHN1ZWRvQXR0cmlidXRlcyIsInBzdWVkb1N0YXRlcyIsInBhcmVudHNIVE1MIiwiX2dldFBhcmVudHNIVE1MIiwiUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSIsInN2Z0NTUyIsIlByb21pc2UiLCJhbGwiLCJnZXRFbWJlZGRlZENTUyIsImVtYmVkRXh0ZXJuYWxSZXNvdXJjZXMiLCJkb2NTdHJpbmciLCJzdmdEb2MiLCJfc3ZnRG9jdW1lbnQiLCJjYW52YXNIYXNoIiwiY2FudmFzSGFzaGVzIiwiY2FudmFzIiwiY2FjaGVkQm91bmRzIiwiY2FjaGVkTWFyZ2luIiwiYWRkVG9SYXN0ZXJpemVRdWV1ZSIsInN2Z0ltYWdlIiwib25sb2FkIiwiYWRkVG9SZW5kZXJRdWV1ZSIsIl9yYXN0ZXJpemluZ0RvY3VtZW50Iiwic3JjIiwiX3N2Z1NyYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbXBsZXRlIiwiY3VycmVudFNyYyIsImhhc2hpbmdDYW52YXMiLCJodyIsImhoIiwiaGN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3SW1hZ2UiLCJoYXNoRGF0YSIsImdldEltYWdlRGF0YSIsIm5ld0hhc2giLCJhcnJheUJ1ZmZlclRvQmFzZTY0Iiwic2hhMjU2Lmhhc2giLCJibGFua1JldHJ5Q291bnQiLCJibGFua1JldHJ5Q291bnRzIiwiaXNCbGFua0ltYWdlIiwicGl4ZWxSYXRpbyIsIlBJWEVMX1JBVElPX0FUVFJJQlVURSIsImRldmljZVBpeGVsUmF0aW8iLCJuZXdDYW52YXMiLCJvcGVucyIsImNsb3NlcyIsInRhZyIsInRhZ05hbWUiLCJhdHRyaWJ1dGVzIiwiUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEUiLCJjbG9zZSIsIldlYkxheWVyIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zMiIsInJlc2l6ZU9ic2VydmVycyIsIm1zZyIsInRyaWdnZXIiLCJSZXNpemVPYnNlcnZlclNpemUiLCJpbmxpbmVTaXplIiwiRE9NUmVjdFJlYWRPbmx5IiwiZnJvbVJlY3QiLCJyZWN0YW5nbGUiLCJET01SZWN0UmVhZE9ubHkyIiwiaXNTVkciLCJTVkdFbGVtZW50IiwiaXNIaWRkZW4iLCJnZXRCQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJpc0VsZW1lbnQiLCJFbGVtZW50IiwiV2Vha01hcCIsInNjcm9sbFJlZ2V4cCIsInZlcnRpY2FsUmVnZXhwIiwiSUUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJwYXJzZURpbWVuc2lvbiIsInBpeGVsIiwic3dpdGNoU2l6ZXMiLCJ6ZXJvQm94ZXMiLCJkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplIiwiYm9yZGVyQm94U2l6ZSIsImNvbnRlbnRCb3hTaXplIiwiY29udGVudFJlY3QiLCJjYWxjdWxhdGVCb3hTaXplcyIsImZvcmNlUmVjYWxjdWxhdGlvbiIsImNzIiwic3ZnIiwib3duZXJTVkdFbGVtZW50IiwicmVtb3ZlUGFkZGluZyIsImJveFNpemluZyIsIndyaXRpbmdNb2RlIiwiY2FuU2Nyb2xsVmVydGljYWxseSIsIm92ZXJmbG93WSIsImNhblNjcm9sbEhvcml6b250YWxseSIsIm92ZXJmbG93WCIsImJvcmRlclRvcCIsImJvcmRlclJpZ2h0IiwiYm9yZGVyQm90dG9tIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJob3Jpem9udGFsQm9yZGVyQXJlYSIsInZlcnRpY2FsQm9yZGVyQXJlYSIsImhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MiLCJ2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyIsIndpZHRoUmVkdWN0aW9uIiwiaGVpZ2h0UmVkdWN0aW9uIiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsImJvcmRlckJveFdpZHRoIiwiYm9yZGVyQm94SGVpZ2h0IiwiYm94ZXMiLCJjYWxjdWxhdGVCb3hTaXplIiwib2JzZXJ2ZWRCb3giLCJERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1giLCJCT1JERVJfQk9YIiwiUmVzaXplT2JzZXJ2ZXJFbnRyeSIsImNhbGN1bGF0ZURlcHRoRm9yTm9kZSIsInBhcmVudE5vZGUiLCJicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMiLCJzaGFsbG93ZXN0RGVwdGgiLCJjYWxsYmFja3MyIiwicm8iLCJhY3RpdmVUYXJnZXRzIiwib3QiLCJ0YXJnZXREZXB0aCIsImxhc3RSZXBvcnRlZFNpemUiLCJvYnNlcnZlciIsImNhbGxiYWNrc18xIiwiZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCIsInNraXBwZWRUYXJnZXRzIiwib2JzZXJ2YXRpb25UYXJnZXRzIiwiaXNBY3RpdmUiLCJwcm9jZXNzIiwiZXZlbnQiLCJFcnJvckV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FsbGJhY2tzIiwicXVldWVNaWNyb1Rhc2siLCJ0b2dnbGVfMSIsImVsXzEiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjYjIiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInRleHRDb250ZW50Iiwid2F0Y2hpbmciLCJvYnNlcnZlckNvbmZpZyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJldmVudHMiLCJ0aW1lIiwidGltZW91dCIsIm5vdyIsInNjaGVkdWxlZCIsInNjaGVkdWxlciIsIl90aGlzIiwic3RvcHBlZCIsInNjaGVkdWxlIiwicnVuIiwidW50aWwiLCJlbGVtZW50c0hhdmVSZXNpemVkIiwic3RvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlNjaGVkdWxlcjIiLCJ1cGRhdGVDb3VudCIsIlJlc2l6ZU9ic2VydmF0aW9uIiwiQ09OVEVOVF9CT1giLCJpc1JlcGxhY2VkRWxlbWVudCIsIlJlc2l6ZU9ic2VydmF0aW9uMiIsIlJlc2l6ZU9ic2VydmVyRGV0YWlsIiwicmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlck1hcCIsImdldE9ic2VydmF0aW9uSW5kZXgiLCJSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIiLCJjb25uZWN0IiwiZGV0YWlsIiwiZmlyc3RPYnNlcnZhdGlvbiIsInVub2JzZXJ2ZSIsImxhc3RPYnNlcnZhdGlvbiIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIiLCJSZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyMiIsInNlbGYiLCJQb2x5ZmlsbCIsInNjcmF0Y2hNYXQxIiwic2NyYXRjaE1hdDIiLCJ0ZXh0RGVjb2RlciIsIkFUVFJJQlVURV9QUkVGSVgiLCJfbmV4dFVJRCIsInN0YXRlcyIsIkhPVkVSX0FUVFJJQlVURSIsIkZPQ1VTX0FUVFJJQlVURSIsIkFDVElWRV9BVFRSSUJVVEUiLCJUQVJHRVRfQVRUUklCVVRFIiwicm9vdE5vZGUiLCJnZXRSb290Tm9kZSIsInN0eWxlUm9vdCIsImhlYWQiLCJyb290Tm9kZU9ic2VydmVycyIsImFwcGVuZCIsIl9XZWJSZW5kZXJlciIsInByZXZpb3VzSGFzaCIsIm9uSGFzaENoYW5nZSIsImxvY2F0aW9uIiwidGFyZ2V0RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJldnQiLCJmb2N1c0VsZW1lbnQiLCJzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycyIsInNldE5lZWRzUmVmcmVzaE9uU3R5bGVMb2FkIiwiU1RZTEVfTk9ERVMiLCJtdXRhdGlvbnMiLCJlbWJlZGRlZENTUyIsImFkZGVkTm9kZXMiLCJhdHRyaWJ1dGVPbGRWYWx1ZSIsImNoYXJhY3RlckRhdGFPbGRWYWx1ZSIsInNlcmlhbGl6ZVF1ZXVlIiwicmFzdGVyaXplUXVldWUiLCJyZW5kZXJRdWV1ZSIsInRhc2tzUGVuZGluZyIsIm1heFN5bmNUaW1lIiwiVEFTS19TWU5DX01BWF9USU1FIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJyZW5kZXIiLCJzZXJpYWxpemUiLCJyYXN0ZXJpemVUYXNrQ291bnQiLCJUQVNLX0FTWU5DX01BWF9DT1VOVCIsInJhc3Rlcml6ZSIsInRoZW4iLCJzY2hlZHVsZUlkbGUiLCJfcnVuVGFza3MiLCJob3N0IiwiY29udGFpbmVyIiwiUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEUiLCJhcHBlbmRDaGlsZCIsImluaXRSb290Tm9kZU9ic2VydmF0aW9uIiwiX2hhbmRsZU11dGF0aW9ucyIsIm11dGF0aW9uT2JzZXJ2ZXJzIiwic3RhcnRNdXRhdGlvbk9ic2VydmVyIiwicmVjb3JkIiwicmVjb3JkcyIsImxheWVyMiIsInNldExheWVyTmVlZHNSZWZyZXNoIiwiX3RyaWdnZXJSZWZyZXNoIiwiY2FwdHVyZSIsInJvb3RMYXllcnMiLCJjbG9zZXN0TGF5ZXJFbGVtZW50IiwiY2xvc2VzdCIsInRyYW5zZm9ybWNzcyIsIm9yaWdpbmNzcyIsInRyYW5zZm9ybU9yaWdpbiIsIm94Iiwib3kiLCJUMSIsIm1ha2VUcmFuc2xhdGlvbiIsIlQyIiwicHJlbXVsdGlwbHkiLCJwcm9taXNlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtZW50MiIsImdldEF0dHJpYnV0ZU5TIiwiZ2V0RGF0YVVSTCIsInJlbW92ZUF0dHJpYnV0ZU5TIiwiZGF0YVVSTCIsImltZ0VsZW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJnZW5lcmF0ZUVtYmVkZGVkQ1NTIiwiaHJlZiIsImNzcyIsInRha2VSZWNvcmRzIiwic2hlZXRzIiwic3R5bGVTaGVldHMiLCJjc3NSdWxlcyIsIm5ld1J1bGVzIiwiY3NzVGV4dCIsImJpbmFyeSIsImJ0b2EiLCJ1cmwiLCJmb3VuZCIsImF0dHJpYnV0ZUNTUyIsInJlZ0V4IiwicmVzb3VyY2VVUkwiLCJ4aHIiLCJyZXNwb25zZVR5cGUiLCJvbmVycm9yIiwiZW1iZWRkZWQiLCJzdHlsZUVsZW1lbnRzIiwiZm91bmROZXdTdHlsZXMiLCJydWxlIiwiZ2V0VVJMIiwicmVzcG9uc2UiLCJfYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMiLCJjb250ZW50VHlwZSIsImdldFJlc3BvbnNlSGVhZGVyIiwiYmFzZTY0IiwiX3VwZGF0ZUlucHV0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnB1dEVsZW1lbnQiLCJjaGVja2VkIiwicmVtb3ZlQXR0cmlidXRlIiwiaW1hZ2VEYXRhIiwiY29sb3IiLCJYTUxTZXJpYWxpemVyIiwiYWN0aXZlRWxlbWVudCIsImF0dHJpYnV0ZU5hbWUiLCJvbGRWYWx1ZSIsImNsYXNzTmFtZSIsImFzeW5jIiwiVEhSRUUiLCJfVEhSRUUiLCJzY3JhdGNoVmVjdG9yIiwic2NyYXRjaFZlY3RvcjIiLCJzY3JhdGNoQm91bmRzIiwic2NyYXRjaEJvdW5kczIiLCJHcm91cCIsImVsZW1lbnRPckhUTUwiLCJNZXNoIiwiV2ViTGF5ZXIzRCIsIkdFT01FVFJZIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJ0cmFuc3BhcmVudCIsImFscGhhVGVzdCIsIm9wYWNpdHkiLCJPYmplY3QzRCIsIk1lc2hEZXB0aE1hdGVyaWFsIiwiZGVwdGhQYWNraW5nIiwiUkdCQURlcHRoUGFja2luZyIsIkRPTSIsIl93ZWJMYXllciIsImNvbnRlbnRNZXNoIiwiX2JvdW5kc01lc2giLCJjdXJzb3IiLCJtYXRyaXhBdXRvVXBkYXRlIiwibWF0ZXJpYWwiLCJ0b25lTWFwcGVkIiwiZGVwdGhNYXRlcmlhbCIsImxheWVyc0J5RWxlbWVudCIsImxheWVyc0J5TWVzaCIsInZpZGVvIiwidGV4dHVyZXMiLCJWaWRlb1RleHR1cmUiLCJ3cmFwUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJ3cmFwVCIsIm1pbkZpbHRlciIsIkxpbmVhckZpbHRlciIsInRleHR1cmVFbmNvZGluZyIsImVuY29kaW5nIiwidGV4dHVyZU5lZWRzVXBkYXRlIiwibmVlZHNVcGRhdGUiLCJUZXh0dXJlIiwicGFyZW50V2ViTGF5ZXIiLCJjaGlsZFdlYkxheWVycyIsInJlZnJlc2giLCJnZXRDbG9zZXN0TGF5ZXJGb3JFbGVtZW50IiwiX3JlZnJlc2hWaWRlb0JvdW5kcyIsIl9yZWZyZXNoRE9NTGF5b3V0IiwiZG9tTGF5b3V0IiwiZG9tU2l6ZSIsIm1lc2giLCJpc0hpZGRlbjIiLCJkaXNwb3NlIiwidGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiaW1hZ2UiLCJkZXB0aFdyaXRlIiwicmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlck9mZnNldCIsInVwZGF0ZUxheW91dCIsInVwZGF0ZUNvbnRlbnQiLCJhdXRvUmVmcmVzaCIsInNjaGVkdWxlVGFza3NJZk5lZWRlZCIsInRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIiLCJfZG9VcGRhdGUiLCJ0cmF2ZXJzZUxheWVyQW5jZXN0b3JzIiwidHJhdmVyc2VMYXllcnNQb3N0T3JkZXIiLCJkaXNwb3NlTGF5ZXIiLCJvYmplY3RGaXQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwidmlkZW9SYXRpbyIsInZpZXdSYXRpbyIsInJlcGVhdCIsImNsYW1wU2NhbGFyIiwicGl4ZWxTaXplIiwiREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQiLCJzaG91bGRBcHBseURPTUxheW91dCIsInBhcmVudEJvdW5kcyIsIldlYkxheWVyM0RCYXNlIiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsImdldFZpZXdwb3J0Qm91bmRzIiwibGVmdEVkZ2UiLCJ0b3BFZGdlIiwibGF5ZXJTZXBhcmF0aW9uIiwiREVGQVVMVF9MQVlFUl9TRVBBUkFUSU9OIiwiUmF5Y2FzdGVyIiwiU2V0IiwicHNldWRvU3RhdGVzIiwiX3ByZXZpb3VzSG92ZXJMYXllcnMiLCJfY29udGVudE1lc2hlcyIsImNyZWF0ZUxheWVyVHJlZSIsIm9uTGF5ZXJDcmVhdGUiLCJfV2ViTGF5ZXIzRCIsInJlbmRlcmVyIiwiaXNDYW1lcmEiLCJnZXRQaXhlbFJhdGlvIiwid2lkdGhQaXhlbHMiLCJkb21FbGVtZW50IiwiaG9yaXpvbnRhbEZPViIsIl9mb3ZzIiwiaW52UHJvamVjdGlvbiIsIl9nZXRGb3ZzTWF0cml4IiwiX2dldEZvdnNWZWN0b3IiLCJGT1JXQVJEIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiZ2V0Rm92cyIsInNob3VsZCIsInN1cGVyIiwiX2ludGVyYWN0aW9uUmF5cyIsInJheXMiLCJfdXBkYXRlSW50ZXJhY3Rpb25zIiwibyIsImlzR3JvdXAiLCJncm91cE9yZGVyIiwiZGlzdGFuY2UiLCJwcmV2SG92ZXIiLCJfcHJlcGFyZUhpdFRlc3QiLCJyYXkiLCJSYXkiLCJfcmF5Y2FzdGVyIiwiZ2V0V29ybGRQb3NpdGlvbiIsImdldFdvcmxkRGlyZWN0aW9uIiwiX2hpdEludGVyc2VjdGlvbnMiLCJpbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0T2JqZWN0cyIsIl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyIiwiX2ludGVyc2VjdGlvblNvcnQiLCJpbnRlcnNlY3Rpb24iLCJzZXROZWVkc1JlZnJlc2giLCJyYXljYXN0ZXIiLCJtZXNoTWFwIiwiaW50ZXJzZWN0T2JqZWN0IiwibGF5ZXJCb3VuZGluZ1JlY3QiLCJnZXRCb3VuZHMiLCJjbGllbnRYIiwidXYiLCJjbGllbnRZIiwiZWxlbWVudEJvdW5kaW5nUmVjdCIsIlBsYW5lR2VvbWV0cnkiLCJBcHAiLCJpbml0Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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
